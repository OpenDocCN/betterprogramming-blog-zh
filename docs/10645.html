<html>
<head>
<title>Should You Switch to TypeScript? Yes!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应该切换到TypeScript吗？是啊！</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/should-you-switch-to-typescript-yes-73bd517ff74d?source=collection_archive---------22-----------------------#2022-01-19">https://betterprogramming.pub/should-you-switch-to-typescript-yes-73bd517ff74d?source=collection_archive---------22-----------------------#2022-01-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="edba" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">为什么以及如何开始打字的指南</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/a1293f307d0e5a7350068b33605c71bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ejtO6osW9GkZZo7F.jpg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">Unsplash的背景图像</p></figure><p id="f295" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这纯粹是基于我第一次开始使用TypeScript这两个月来的亲身经历。在文章的最后，我还将分享如何为TypeScript配置您的项目，以帮助您入门。您将看到初始配置是关于TypeScript的唯一困难的部分。</p><p id="10a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了客观地看待问题，我也不是JavaScript或TypeScript的忠实粉丝。然而，有时我需要制作一个web应用程序。那是我重温我的反应技能并开始工作的时候。在我的最新项目<a class="ae lv" href="https://feltlabs.ai/" rel="noopener ugc nofollow" target="_blank"> FELT Labs </a>(区块链上的联邦学习解决方案)中，我像往常一样使用React和JavaScript构建我的dApp UI。然后我的朋友菲利普加入了这个项目，他推荐尝试TypeScript。现在整个项目是用打字稿写的，老实说，我认为这是值得的！</p><h1 id="a3b7" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">以打字打的文件</h1><p id="9117" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">TypeScript通过添加类型语法构建在JavaScript之上。在构建过程中，它被编译成JavaScript。因此，与JavaScript相比，它没有速度优势，但是它可以在JavaScript可以运行的任何地方运行。因此，TypeScript的主要优势是错误检查、更好的建议以及与代码编辑器的全面集成。</p><p id="5d13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与动态类型语言(例如JavaScript、Python)相比，强类型语言通常允许在编译期间进行更好的优化。因此，TypeScript没有被编译成更快的东西，感觉就像错过了一个机会。</p><p id="c5a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，这允许保持JavaScript的兼容性。另外，TypeScript提供了特殊的类型，如<code class="fe mt mu mv mw b">any</code>，这使得您的变量表现得像标准的JavaScript变量。</p><p id="e006" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在官方网站<a class="ae lv" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank">typescriptlang.org</a>上了解更多。</p><h1 id="9230" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">为什么？</h1><p id="39eb" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">以下是我们坚持使用TypeScript的三加一理由，您也应该考虑它。</p><h2 id="eb9e" class="mx lx it bd ly my mz dn mc na nb dp mg li nc nd mi lm ne nf mk lq ng nh mm ni bi translated">更好的建议和更轻松的协作</h2><p id="6012" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">您已经使用了自动补全、建议、函数定义预览，那么这个巨大的好处是什么呢？TypeScript更进一步。它检查函数参数的类型是否与函数定义兼容。它还检查函数没有对变量调用任何不支持的方法。我对TypeScript检查的范围感到非常惊讶。例如，它强迫你检查像<code class="fe mt mu mv mw b">null</code>或<code class="fe mt mu mv mw b">undefined</code>变量这样的极限情况(如果类型指定的话)。</p><p id="91e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我发现这在团队工作时特别有用。当使用由你的开发伙伴定义的函数时，你确切地知道什么类型是期望的，什么将由函数返回，并且不会发生一些意外的类型或<code class="fe mt mu mv mw b">null</code>值将破坏你的代码的其余部分。在某种程度上，这取代了文档，因为每个人都必须编写类型。然后，每个人都可以利用更好的建议，并依赖将由其他人的代码返回的类型。</p><p id="c705" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相信我，在一个拥有未记录的JavaScript代码的团队中工作是你不想经历两次的事情。TypeScript使这种体验更加愉快。</p><h2 id="7016" class="mx lx it bd ly my mz dn mc na nb dp mg li nc nd mi lm ne nf mk lq ng nh mm ni bi translated">随着时间的推移逐渐切换</h2><p id="0e03" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">老实说，这个事实让我信服了。你不必一次就重写你的整个代码库。您可以混合使用TypeScript和JavaScript文件，一切都会很好。然后我设定了一个目标，每次提交至少重写一个文件。这在几天内就产生了完整的TypeScript代码。</p><h2 id="79c2" class="mx lx it bd ly my mz dn mc na nb dp mg li nc nd mi lm ne nf mk lq ng nh mm ni bi translated">简单易学</h2><p id="e9a7" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我承认我之前听说过一个打字稿。然而，我一直认为它是一种不同的语言。由于我对JavaScript的使用有限，我只是认为不值得学习另一种语言。我大错特错了。老实说，如果你有使用任何其他静态类型语言的经验，并且你理解JavaScript，那么只需浏览几个例子，你就可以上手了。</p><p id="a059" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，一些极限情况可能会在开始时阻止您，但这并不是堆栈溢出不能解决的问题。我最大的困难是加载一个JSON配置文件并访问它的键。令人惊讶的是，我不得不先检查JSON中是否存在这个密钥，然后一切都正常。</p><h2 id="d1f5" class="mx lx it bd ly my mz dn mc na nb dp mg li nc nd mi lm ne nf mk lq ng nh mm ni bi translated">初始设置是最难的部分。复制它！</h2><p id="94fc" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我发现许多库/语言/工具都有这个问题。一开始，你在学习新的东西。您仍然不知道事情是如何工作的，但是您应该设置好所有的配置文件，这样一切都可以很好地协同工作。这可能会令人沮丧。如果说这些年来我学到了什么，那就是最好的方法就是复制它们。每当我开始新的东西时，我总是使用我过去项目中的配置。</p><h1 id="39f7" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">初始类型脚本设置(用于React)</h1><p id="dbad" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">最后，我想分享一下我们的设置，这样你就可以很容易地将它包含在你当前或未来的项目中。这是React应用程序的设置，因此您可能需要根据您的项目进行更改。以下所有文件都应该位于您的项目的根目录下(与<code class="fe mt mu mv mw b">package.json</code>相同的级别)...)</p><p id="a90c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 1。</strong>将<code class="fe mt mu mv mw b">typescript</code>添加到你的<code class="fe mt mu mv mw b">package.json</code>文件中(我们完整的<a class="ae lv" href="https://github.com/Breta01/federated-learning-token/blob/main/webapp/package.json" rel="noopener ugc nofollow" target="_blank"> package.json </a>)。以下是您必须添加到您的<code class="fe mt mu mv mw b">package.json</code>中特定字段的行(确保使用最新版本)。之后，您需要在您的项目中运行<code class="fe mt mu mv mw b">npm install</code>或<code class="fe mt mu mv mw b">yarn install</code>。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="d123" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些包只用JavaScript编写，但通常存在额外的类型定义。如你所见，这些通常被命名为<code class="fe mt mu mv mw b">@types/...</code></p><p id="b00b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2。</strong>将<code class="fe mt mu mv mw b">tsconfig.json</code>文件添加到项目的根目录。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="495a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 3。</strong>添加Eslint配置文件<code class="fe mt mu mv mw b">.eslintrc.json</code>，这有助于自动格式化，并使你的代码更好看。你可能想改变的一点是最大长度，因为120可能很长。随着时间的推移，你可能需要添加一些额外的规则，但你会发现随着你的前进。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="eaf8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 4。</strong>最后，你可能想忽略一些文件，所以不要对所有东西都应用林挺。只需添加内容如下的<code class="fe mt mu mv mw b">.eslintignore</code>。这也允许随着时间的推移重写JS文件。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="b1a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果可能的话，还应该在编辑器中安装TypeScript和ESLint扩展(VS Code两者都有)。仅此而已！现在，您可以像以前一样使用<code class="fe mt mu mv mw b">npm start</code>和其他命令来使用react应用程序。可以用<code class="fe mt mu mv mw b">.ts</code>或者<code class="fe mt mu mv mw b">.tsx</code>开始添加TypeScript文件(对于包含React组件的文件)。</p><h1 id="707c" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">结论</h1><p id="4b02" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我很高兴我终于被迫学习打字稿。到目前为止，我看到的主要是积极的方面，我将把它用于我未来的所有项目。我肯定会建议花一两天时间来学习它。在我当前项目的整个开发过程中，请关注我以获得更多开发者见解:<a class="ae lv" href="https://twitter.com/FELT_labs" rel="noopener ugc nofollow" target="_blank"> @FELT_labs </a>。</p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><p id="2080" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ns">原载于</em><a class="ae lv" href="https://bretahajek.com/2022/01/should-you-switch-to-typescript-yes/" rel="noopener ugc nofollow" target="_blank"><em class="ns">https://bretahajek.com</em></a></p></div></div>    
</body>
</html>