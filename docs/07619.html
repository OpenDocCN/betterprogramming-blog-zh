<html>
<head>
<title>Reverse Geocoding With Google Maps in Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Android中的谷歌地图进行反向地理编码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/reverse-geocoding-with-google-maps-in-android-313bed159817?source=collection_archive---------8-----------------------#2021-02-02">https://betterprogramming.pub/reverse-geocoding-with-google-maps-in-android-313bed159817?source=collection_archive---------8-----------------------#2021-02-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0b20" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用神奇的地理编码器类</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5f6455194436095d7661160cb1115aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uKc6WTl5jaZ1XOLp"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@aaronburden?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Aaron Burden </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="2f86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们如何将地理坐标转换为人类可读的地址？使用Android地理编码器API！让我们开始吧。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><blockquote class="lz"><p id="0bb8" class="ma mb iq bd mc md me mf mg mh mi lr dk translated">“培养学习热情。如果你这样做了，你将永远不会停止成长。”</p><p id="7705" class="ma mb iq bd mc md me mf mg mh mi lr dk translated"><em class="mj">–安东尼·j·德安杰洛</em></p></blockquote><h1 id="e45e" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">什么是Geocoder？</h1><p id="28f8" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">这是一个用于处理地理编码和反向地理编码的类。</p><ul class=""><li id="8b9c" class="nh ni iq ky b kz la lc ld lf nj lj nk ln nl lr nm nn no np bi translated">地理编码是将街道地址或其他位置描述转换为(纬度、经度)坐标的过程。</li><li id="a892" class="nh ni iq ky b kz nq lc nr lf ns lj nt ln nu lr nm nn no np bi translated">反向地理编码是将(纬度、经度)坐标转换为(部分)地址的过程。</li></ul><h2 id="c0fb" class="nv ml iq bd mm nw nx dn mq ny nz dp mu lf oa ob mw lj oc od my ln oe of na og bi translated">我要用的是</h2><ul class=""><li id="2a1d" class="nh ni iq ky b kz nc lc nd lf oh lj oi ln oj lr nm nn no np bi translated">安卓<code class="fe ok ol om on b">Geocoder</code>类</li><li id="6847" class="nh ni iq ky b kz nq lc nr lf ns lj nt ln nu lr nm nn no np bi translated">科特林(编程语言)</li><li id="e396" class="nh ni iq ky b kz nq lc nr lf ns lj nt ln nu lr nm nn no np bi translated">视图绑定</li><li id="ab0f" class="nh ni iq ky b kz nq lc nr lf ns lj nt ln nu lr nm nn no np bi translated">MVVM(建筑模式)</li></ul><div class="oo op gp gr oq or"><a href="https://medium.com/better-programming/android-free-courses-3b550ce388e6" rel="noopener follow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd ir gy z fp ow fr fs ox fu fw ip bi translated">成为成功的Android开发者的路线图</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">如果你想成为一名专业的Android开发者，请遵循这个路线图</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">medium.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf kp or"/></div></div></a></div><h2 id="c47a" class="nv ml iq bd mm nw nx dn mq ny nz dp mu lf oa ob mw lj oc od my ln oe of na og bi translated">概观</h2><p id="28e6" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">令人惊奇的是，我在谷歌地图上使用了<code class="fe ok ol om on b">Geocoder</code>类。在优步和Careem等许多应用程序中，你可能已经看到，当用户用大头针在地图上拖动/移动来选择他们的位置时，顶栏上的地址会相应地改变。此功能可以使用反向地理编码来实现。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/360039121ba6fd1b373bd951e7ff59d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/1*j5O81WqO8Jvjv6K9WkmMpg.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用谷歌地图进行地理编码</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="33f2" class="mk ml iq bd mm mn ph mp mq mr pi mt mu jw pj jx mw jz pk ka my kc pl kd na nb bi translated">第一步</h1><p id="db74" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">按照文档创建一个项目并添加Google Maps API密钥:</p><div class="oo op gp gr oq or"><a href="https://developers.google.com/maps/documentation/android-sdk/start" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd ir gy z fp ow fr fs ox fu fw ip bi translated">开始使用Android地图| Google开发者</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">" type": "thumb-down "，" id ":" missingtheinformationneed "，" label ":"缺少我需要的信息" }，{ "type"…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">developers.google.com</p></div></div><div class="pa l"><div class="pm l pc pd pe pa pf kp or"/></div></div></a></div><p id="e73a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我正在用<code class="fe ok ol om on b">MapView</code>创建一个简单的布局:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/f1ca202f59533d4681f8e677eeb6cdcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*ENt49-DIwxzQ20-LVdykqQ.png"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="po pp l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1aed" class="mk ml iq bd mm mn ph mp mq mr pi mt mu jw pj jx mw jz pk ka my kc pl kd na nb bi translated">第二步</h1><p id="c724" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated"><code class="fe ok ol om on b">Geocoder</code>有两种方法:</p><ul class=""><li id="b801" class="nh ni iq ky b kz la lc ld lf nj lj nk ln nl lr nm nn no np bi translated"><code class="fe ok ol om on b">getFromLocation</code> : <strong class="ky ir"> </strong>获取纬度和经度，并给出对应纬度和经度的已知地址数组。</li><li id="4ffe" class="nh ni iq ky b kz nq lc nr lf ns lj nt ln nu lr nm nn no np bi translated"><code class="fe ok ol om on b">getFromLocationName</code>:将地址名称作为输入(如1600 amphetica Parkway)并提供一个已知地址数组以对应该地址。</li></ul><p id="7e8b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我使用<code class="fe ok ol om on b">getFromLocation</code>，<strong class="ky ir"> </strong>将纬度和经度转换成可读的地址:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="po pp l"/></div></figure><p id="262c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我正在使用活动中的<code class="fe ok ol om on b">LoadDataCallback</code>获取位置数据。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="e59e" class="mk ml iq bd mm mn ph mp mq mr pi mt mu jw pj jx mw jz pk ka my kc pl kd na nb bi translated">第三步</h1><p id="1f03" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">让我们看看<code class="fe ok ol om on b">Geocoder</code>在活动中的表现:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="po pp l"/></div></figure><p id="d3b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据谷歌的文档，<code class="fe ok ol om on b"><a class="ae kv" href="https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnCameraIdleListener#onCameraIdle()" rel="noopener ugc nofollow" target="_blank">onCameraIdle</a>()</code>被称为“当相机移动已经结束，没有未决动画，用户已经停止与地图交互。”</p><p id="d166" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我在这里使用MVVM时，数据通过<code class="fe ok ol om on b">viewModel</code>呈现。下面是一堂<code class="fe ok ol om on b">ViewModel</code>课:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="po pp l"/></div></figure><p id="dbf3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在运行应用程序，你会看到神奇！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/360039121ba6fd1b373bd951e7ff59d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/1*j5O81WqO8Jvjv6K9WkmMpg.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用谷歌地图进行地理编码</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7afb" class="mk ml iq bd mm mn ph mp mq mr pi mt mu jw pj jx mw jz pk ka my kc pl kd na nb bi translated">结论</h1><p id="788e" class="pw-post-body-paragraph kw kx iq ky b kz nc jr lb lc nd ju le lf ne lh li lj nf ll lm ln ng lp lq lr ij bi translated">我希望你学到了新的东西。感谢阅读。编码快乐！</p><p id="3c02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在下面找到完整的源代码:</p><div class="oo op gp gr oq or"><a href="https://github.com/Mustufa786/GeoCoderExample/tree/master/app/src/main/java/com/mustufamedium/geocoderexample" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd ir gy z fp ow fr fs ox fu fw ip bi translated">must ufa 786/地理编码器示例</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">github.com</p></div></div><div class="pa l"><div class="pq l pc pd pe pa pf kp or"/></div></div></a></div><p id="a2e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关注<a class="ae kv" href="https://medium.com/codixlab" rel="noopener"> CodixLab </a>了解更多科技知识。</p><h2 id="5680" class="nv ml iq bd mm nw nx dn mq ny nz dp mu lf oa ob mw lj oc od my ln oe of na og bi translated">阅读更多信息:</h2><ol class=""><li id="0b23" class="nh ni iq ky b kz nc lc nd lf oh lj oi ln oj lr pr nn no np bi translated"><a class="ae kv" href="https://medium.com/better-programming/gmail-like-list-67bc51adc68a" rel="noopener">使用RecyclerView建立多选列表</a></li><li id="207c" class="nh ni iq ky b kz nq lc nr lf ns lj nt ln nu lr pr nn no np bi translated"><a class="ae kv" href="https://medium.com/better-programming/android-data-binding-139686b65aec" rel="noopener">完整的Android数据绑定教程(第一部分)</a></li></ol></div></div>    
</body>
</html>