<html>
<head>
<title>How To Build a Self-Updating Twitter Banner With Dynamic Content</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用动态内容建立一个自我更新的Twitter横幅</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-a-self-updating-twitter-banner-with-dynamic-content-7c3fedcfca25?source=collection_archive---------8-----------------------#2021-08-19">https://betterprogramming.pub/how-to-build-a-self-updating-twitter-banner-with-dynamic-content-7c3fedcfca25?source=collection_archive---------8-----------------------#2021-08-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8ac6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">显示您最新的博客文章或您最近的关注者，无需支付一分钱</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ede97b9a810b8c4b98bb1687bb321ee2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XicUtLKVD5rZ5mndjA8ATg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@nate_dumlao?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">内森·杜姆劳</a>在<a class="ae kv" href="https://unsplash.com/s/photos/twitter?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="4a5e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有人点击你的Twitter个人资料的第一印象将是你的头像。为什么不显示一些动态内容呢？实现这一点并不涉及火箭科学，而且可能性是无限的。</p><p id="64d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我想向您展示如何使用一个简单的Node.js脚本、Twitter和Medium APIs以及AWS Lambda来轻松构建它。</p><p id="2ea0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">概述:</p><ul class=""><li id="3052" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">获取凭证，以便我们可以使用Twitter API。</li><li id="3d0a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">创建Node.js脚本来检索我们最新关注者的详细信息。</li><li id="4607" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">通过Medium的RSS feed检索我们最新的博客文章。</li><li id="09f9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">用我们的追随者的图像和我们的博客文章标题更新静态标题图像。</li><li id="df03" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">将所有内容放入AWS上的Lambda函数中，该函数每60秒执行一次。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/483f8a53a00e4eab3ab6a8f6c4ee6767.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/1*S03mkyl1WttlYkhA4MriUA.png"/></div></figure><p id="016d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">💡尽管我们将在AWS上创建基础设施，但由于AWS的Lambda免费层，该解决方案不会产生任何成本。</p><p id="0a1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">免责声明和致谢</strong>:我在<a class="ae kv" href="https://twitter.com/tibo_maker" rel="noopener ugc nofollow" target="_blank"> Tibo </a>的时间线上第一次看到这个，所以我肯定不是第一个提供这个问题解决方案的人，你也可以找到很多<a class="ae kv" href="https://daily-dev-tips.com/posts/how-i-made-my-twitter-header-dynamic/" rel="noopener ugc nofollow" target="_blank">其他教程</a>，当我自己在某个时候被困在这个旅程中时，它们给了我很大的帮助。</p><h1 id="4061" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">入门指南</h1><p id="e0d7" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">让我们通过npm或yarn建立一个新项目，并添加我们需要的依赖项:</p><ul class=""><li id="e8ba" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">简单而强大的HTTP客户端</li><li id="41c7" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe ne nf ng nh b">jimp</code> —图像处理</li><li id="fd31" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe ne nf ng nh b">sharp</code> —将响应缓冲区转换为图像</li><li id="4c46" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe ne nf ng nh b">twitter-api-client</code> —与Twitter API通信</li><li id="9254" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe ne nf ng nh b">rss-to-json</code> —用于将XML(中型提要)翻译成JSON</li><li id="80ee" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe ne nf ng nh b">serverless</code> —通过<a class="ae kv" href="https://www.serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器框架</a>供应我们的AWS基础设施。全球安装！</li></ul><p id="103e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将只在<code class="fe ne nf ng nh b">src/handler.js</code>创建一个包含所有我们需要的操作的脚本文件。</p><h1 id="c37f" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">访问Twitter API</h1><p id="45ad" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我们需要的下一件事是访问Twitter API。所以我们需要在Twitter的开发者门户<a class="ae kv" href="https://developer.twitter.com/en/portal/apps/new" rel="noopener ugc nofollow" target="_blank">创建一个新的客户端应用程序</a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/1b682dfc5d21d35a9d6ee9388208e772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zwyNDfiqwlo3lDajPWfoIw.png"/></div></div></figure><p id="50a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建应用程序后，确保复制API密钥和API密钥。回到概览屏幕后，选择您的新应用程序并点击右上角的编辑。请确保设置完全权限(<code class="fe ne nf ng nh b">Read and Write and Direct Messages</code>)，以便我们稍后可以访问我们需要的所有信息并更新我们的横幅。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/79d00c51896690350b13df4103be9f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qeBce4VQj0j_vAUmoK4pJw.png"/></div></div></figure><p id="fa93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一步是创建我们的访问令牌和密码。你可以通过选择你的应用程序并切换到标题正下方的标签<code class="fe ne nf ng nh b">Keys and token</code>来实现。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/b11f5a979504af418b5df70be82b059e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PAfnX0IvIyzRP50chilvzw.png"/></div></div></figure><p id="e953" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很有可能，Twitter还会再次显示您的API密钥和API密钥，以及您的新访问令牌和访问令牌密钥。记下一切。不能再显示那些细节了！</p><h2 id="ff13" class="nl mi iq bd mj nm nn dn mn no np dp mr lf nq nr mt lj ns nt mv ln nu nv mx nw bi translated">初始化我们的Twitter客户端</h2><p id="d703" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">现在我们已经获得了凭证，我们可以设置我们的客户端，这样我们就可以与Twitter的API进行通信。首先，让我们将所有的密钥、秘密和Twitter &amp; Medium句柄放入根级别的<code class="fe ne nf ng nh b">creds.json</code>中。</p><pre class="kg kh ki kj gt nx nh ny nz aw oa bi"><span id="3142" class="nl mi iq nh b gy ob oc l od oe">{<br/>  "TWITTER_API_KEY": "5Hn9Z28...BW4lEzD",<br/>  "TWITTER_API_SECRET_KEY": "yndh2s5sXLuh...33sbWsbbREZYp4",<br/>  "TWITTER_API_ACCESS_TOKEN": "42399689...jQIBa3Ew4RDi5ed",<br/>  "TWITTER_API_ACCESS_SECRET": "QgYTQoIueX5S...JHk44vVuty9ewwo",<br/>  "TWITTER_HANDLE": "tpschmidt_",<br/>  "MEDIUM_HANDLE": "tpschmidt"<br/>}</span></pre><p id="53c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以使用以下代码创建客户端:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="3d50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于本地测试，我们将直接返回到我们的<code class="fe ne nf ng nh b">creds.json</code>文件，当部署到AWS时，我们将使用我们稍后将设置的环境变量。</p><h1 id="3020" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">检索我们最新的关注者</h1><p id="dfac" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">让我们使用Twitter API客户端来获取最新的关注者。响应由一个用户列表组成，每个用户都包含<code class="fe ne nf ng nh b">profile_image_url_https</code>。</p><p id="30ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以下载用户的头像，然后通过sharp调整图像大小，并将其保存到一个临时文件中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><h1 id="9b92" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">使用Medium的个人RSS源</h1><p id="bc82" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">接下来，我们想从我们自己的媒体提要中获取最新的博客文章标题。如果你在Medium上运行博客，你所有的时间线元数据都可以在<code class="fe ne nf ng nh b"><a class="ae kv" href="https://medium.com/feed/@username." rel="noopener">https://medium.com/feed/@username</a></code> <a class="ae kv" href="https://medium.com/feed/@username." rel="noopener">获得。</a></p><p id="9d57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们使用JavaScript时，我们希望用<code class="fe ne nf ng nh b">rss-to-json</code>将XML响应转换成JSON。之后，我们可以很容易地提取我们的标题。根据标题的大小，在左右两边添加一点填充，可以确保我们的标题总是在页眉的某一点居中对齐。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="d906" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，你不局限于媒体。此时，您可以获取任何内容，甚至是一个普通的HTML页面，并提取您想要显示的内容。</p><h1 id="c8e3" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">更新我们的横幅图像</h1><p id="abc9" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">棘手的部分现在已经完成了。我们已检索到我们的动态内容！现在我们只需要为我们的头添加一个基础图像到我们的项目中一个新的<code class="fe ne nf ng nh b">assets</code>文件夹中。这是我的一个例子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/6816e4fd20270bb9c5d93a037e26755c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l1P51JerrkuCchShpqDYWg.png"/></div></div></figure><p id="fc76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，我留出了空间来填写博客标题以及最新关注者的照片。根据您的图像，您必须稍后调整我们为动态内容添加覆盖的坐标。</p><p id="be08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，我使用<a class="ae kv" href="https://cloud.githubusercontent.com/assets/414918/11165709/051d10b0-8b0f-11e5-864a-20ef0bada8d6.png" rel="noopener ugc nofollow" target="_blank">另一个图像来遮盖</a>我们的追随者的图像，使其具有圆形边框。它只是一个黑底白字的圆圈。请确保它的大小与我们的关注者的图像相同(在本例中，我们使用90x90像素)。如果你更喜欢正方形，只需移除<code class="fe ne nf ng nh b">mask</code>调用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="89c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这并不需要太多的魔法:</p><ul class=""><li id="ab0a" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">我们正在加载我们的资产和预先保存的关注者图像</li><li id="7365" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">我们正在设置文本的字体、颜色和大小</li><li id="bf22" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">我们在横幅上添加我们的图片和标题</li></ul><p id="58cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果是在<code class="fe ne nf ng nh b">/tmp</code>的<code class="fe ne nf ng nh b">1500x500_final.png</code>文件中有一个新文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/1821936f955aa10251ad6b6b9301fcb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tdb5wdLojgnRRjNz"/></div></div></figure><p id="e603" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们只需要在Twitter上更新我们的新标题！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><h1 id="8a9d" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">用Lambda和Eventbridge规则自动化一切</h1><p id="1426" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">现在我们有了一些本地脚本来更新我们的横幅。但是我们希望在Twitter API允许的情况下，尽可能频繁地连续自动运行。</p><p id="c1e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以通过利用AWS Lambda轻松做到这一点。如果你还没有开始使用AWS，就注册吧(它是免费的，第一年你会有额外的免费限额，尽管已经有很多像Lambda这样的免费服务)。</p><p id="5771" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，你需要事先做几件事:</p><ul class=""><li id="3b0e" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">访问您的<a class="ae kv" href="https://console.aws.amazon.com/iam/home#security_credentials" rel="noopener ugc nofollow" target="_blank">安全凭证</a>以生成新的密钥和相应的秘密。</li><li id="5a90" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">安装AWS CLI(例如，通过自制软件)。</li><li id="8640" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从第一步开始运行<code class="fe ne nf ng nh b">aws configure</code>来设置您的凭证。</li></ul><p id="d601" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样！你可以走了。</p><p id="6457" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们已经在全球范围内安装了<a class="ae kv" href="https://www.serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器框架</a>，因此我们可以通过运行<code class="fe ne nf ng nh b">sls</code>或<code class="fe ne nf ng nh b">serverless</code>来初始化新的模板文件。我们将最终得到一个新的<code class="fe ne nf ng nh b">serverless.yml</code>模板文件，它定义了我们所有的基础设施。</p><p id="ad20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们最终想要的是:</p><ul class=""><li id="fff3" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">运行我们脚本的Lambda函数。</li><li id="4145" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">包含我们的依赖关系的Lambda层。</li><li id="ec70" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">每60秒触发我们函数的EventBridge规则。</li></ul><p id="dda2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用无服务器框架，构建起来非常简单，只需要几行代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="3b48" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们来看看三个主要部分:</p><ul class=""><li id="fea0" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><code class="fe ne nf ng nh b">provider</code> —定义我们希望使用AWS，并设置一些基本条件，例如我们希望我们的日志在七天后过期，这样我们就不会在未来引入任何成本。</li><li id="41a6" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe ne nf ng nh b">layers</code> —定义包含所有node_modules依赖项的层。</li><li id="a834" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe ne nf ng nh b">functions</code>——那是我们创建Lambda函数的地方。</li></ul><p id="911e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过<code class="fe ne nf ng nh b">events</code>字段，我们定义EventBridge将定期调用我们的函数。</p><p id="6f9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在打包文件之前，我们需要在脚本中添加一个代理函数，稍后Lambda会调用这个函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="7035" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你再仔细看看，你会发现我们在<code class="fe ne nf ng nh b">serverless.yml</code>中提到了<code class="fe ne nf ng nh b">src/handler.handler</code>。在我们的例子中，可以在<code class="fe ne nf ng nh b">src/handler.js</code>找到源。这告诉Lambda从哪里开始执行我们的节点脚本。</p><p id="c964" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一部分:包装我们的功能和我们的层。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="142a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样！我们现在可以通过<code class="fe ne nf ng nh b">sls deploy</code>部署整个堆栈，一切就绪。如果有些事情没有解决，可以查看相应的CloudWatch日志流来找到潜在的问题。如果一切顺利，您将看到我们的调试日志:</p><pre class="kg kh ki kj gt nx nh ny nz aw oa bi"><span id="ce5e" class="nl mi iq nh b gy ob oc l od oe">INFO   Retrieving followers...<br/>INFO   Retrieving avatar...<br/>INFO   Retrieving avatar...<br/>INFO   Retrieving avatar...<br/>INFO   Retrieving headline...<br/>INFO   Retrieved headline: Distributed Tracing Matters<br/>INFO   Adding followers...<br/>INFO   Appending image 0 with x=600<br/>INFO   Appending image 1 with x=700<br/>INFO   Appending image 2 with x=800<br/>INFO   Adding headline...<br/>INFO   Uploading to twitter...</span></pre><p id="92c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你坚持到了这里，并且一切顺利:干得好！🎉</p><p id="aaba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">💡不要害怕你的代码会每60秒被调用一次，因为如前所述，AWS上有一个Lambda的免费层，包括每月100万次执行和计算秒。因为我们的函数只需要几秒钟就能完成，所以无论如何我们都不会超过这个时间。</p><p id="17fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在<a class="ae kv" href="https://github.com/tpschmidt/dynamic-twitter-banner" rel="noopener ugc nofollow" target="_blank"> GitHub </a>找到所有的代码。如果有任何问题或者你被这些描述所困扰，不要犹豫，通过你选择的联系渠道给我发信息。</p><h1 id="27fe" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">包裹</h1><p id="e41f" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">尽管这不再是一件独特的事情，但在你的Twitter时间线上享受一些动态内容的乐趣可以有助于培养你的受众。此外，你可能会学到一些新的东西，并享受这个过程。</p><p id="f973" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除此之外，你可以做什么和添加什么基本上没有限制。你也可以自动更新你的简历或头像。</p><p id="3f9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要有创意，并展示给世界。</p></div></div>    
</body>
</html>