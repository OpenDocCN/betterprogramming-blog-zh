<html>
<head>
<title>How to Set Up Next.js With TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用TypeScript设置Next.js</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-set-up-next-js-with-typescript-5f912766c88?source=collection_archive---------7-----------------------#2020-06-19">https://betterprogramming.pub/how-to-set-up-next-js-with-typescript-5f912766c88?source=collection_archive---------7-----------------------#2020-06-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2641" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Next.js和TypeScript启动新的React项目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/23f8853bc0635d5bec4a14545fca66b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h3Kc1qZ15fFTsj081i0Q_A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="/collections/385548/work-and-collaboration?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@tranmautritam?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Tran Mau Tri Tam </a>拍照</p></figure><p id="30b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你开始一个新的React项目，你可能要考虑<a class="ae ky" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>和<a class="ae ky" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>。在本文中，我们将解释为什么这是一个很好的选择，并带您完成使用这些技术建立一个新项目的过程。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2ac3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么是Next.js</h1><p id="9df0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当您使用React启动一个新项目时，有许多重要的细节需要考虑。你的代码必须用捆绑器捆绑，比如webpack，然后用编译器转换，比如Babel。</p><p id="6c1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Create React App是一个很好的工具，可以帮助您处理这个问题，并为您提供一个良好的开端，但是代码分割、性能预渲染以及SEO或服务器端渲染又如何呢？</p><p id="018f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要构建一个完整的React应用程序，你需要的不仅仅是CRA提供给你的。通过使用Next.js，您可以节省一些时间，这是一个React框架，为所有这些问题提供了一个解决方案。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="503e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么打字稿？</h1><p id="80b7" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><a class="ae ky" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>是一种开源语言，通过添加静态类型定义构建在JavaScript之上。类型提供了一种描述对象形状的方式，提供了更好的文档，并允许TypeScript验证您的代码是否正常工作。</p><p id="9190" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">TypeScript似乎正在接管前端开发。几乎90%的开发人员(他们填写了<a class="ae ky" href="https://2019.stateofjs.com/javascript-flavors/typescript/" rel="noopener ugc nofollow" target="_blank">JS状态调查</a>)承认他们希望在他们的下一个项目中使用或者学习使用TypeScript。除此之外，根据Stack Overflow的2019 <a class="ae ky" href="https://insights.stackoverflow.com/survey/2019#most-loved-dreaded-and-wanted" rel="noopener ugc nofollow" target="_blank">开发者调查</a>，它是最受欢迎的语言之一。</p><p id="0168" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它非常受欢迎，在开发过程中有很多好处。我在“<a class="ae ky" href="https://codeburst.io/stack-choices-javascript-vs-typescript-c9db39b67bf6" rel="noopener" target="_blank">Stack Choices:JavaScript vs TypeScript</a>”中详细说明了这些好处</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0cee" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我们开始吧</h1><p id="ccf8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果您从头开始，打开您的终端，在您的项目文件夹中，运行<code class="fe mz na nb nc b">yarn create next-app</code>(在这个例子中使用Yarn，但是您当然也可以使用npm)。</p><p id="01c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将收到以下消息提示:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2ced" class="nh md it nc b gy ni nj l nk nl">What is your project named?</span></pre><p id="62f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">填写一个名字，然后按回车键。您将看到的下一条消息是:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="5862" class="nh md it nc b gy ni nj l nk nl">Pick a template</span></pre><p id="f808" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选择<code class="fe mz na nb nc b">Default starter app</code>，等待你的项目准备好。然后，在您的终端中键入<code class="fe mz na nb nc b">cd &lt;your-project-name&gt;</code>,确保您位于可以运行<code class="fe mz na nb nc b">yarn dev</code>来启动开发服务器的目录中。</p><p id="d12d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一切正常，我们可以设置TypeScript。首先在项目的根目录下创建一个空的<code class="fe mz na nb nc b">tsconfig.json</code>文件:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="a649" class="nh md it nc b gy ni nj l nk nl">touch tsconfig.json</span></pre><p id="575a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尝试重启开发服务器(<code class="fe mz na nb nc b">yarn dev</code>)。您将收到一条警告消息，如下所示:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="5dd5" class="nh md it nc b gy ni nj l nk nl">It looks like you're trying to use TypeScript but do not have the required package(s) installed.</span></pre><p id="f3d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按照说明安装TypeScript:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="27ea" class="nh md it nc b gy ni nj l nk nl">yarn add --dev typescript @types/react @types/node</span></pre><p id="4f1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，尝试再次启动开发服务器。启动服务器后，Next.js将:</p><ul class=""><li id="d844" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated">为您填充<code class="fe mz na nb nc b">tsconfig.json</code>文件。您可以自定义该文件。</li><li id="72eb" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">创建<code class="fe mz na nb nc b">next-env.d.ts</code>文件，该文件确保TypeScript编译器选择Next.js类型。你应该<em class="oa">不要</em>碰这个文件。</li></ul><p id="55a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们通过将<code class="fe mz na nb nc b">index.js</code>改为<code class="fe mz na nb nc b">index.tsx</code>来尝试一下。如果没有任何问题，这意味着您现在可以将TypeScript用于您的Next.js应用程序。</p><p id="3984" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！祝你的项目好运，如果有任何问题，请随时提问。</p><p id="97d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div></div>    
</body>
</html>