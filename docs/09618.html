<html>
<head>
<title>3 Libraries I Use in Most JavaScript Frontend Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在大多数JavaScript前端项目中使用的3个库</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/3-libraries-i-use-in-most-javascript-frontend-projects-555387be69c?source=collection_archive---------0-----------------------#2021-09-17">https://betterprogramming.pub/3-libraries-i-use-in-most-javascript-frontend-projects-555387be69c?source=collection_archive---------0-----------------------#2021-09-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="80d4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">提升您的web应用程序的性能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ba9e8966d4323a03110e644c17139e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DgeQiyo6U324mOxL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯·利维拉尼在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="7ad4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用的是2019款Macbook Pro，尽管该机器是开发人员的野兽，但我厌倦了在工作时间盯着纺车。</p><p id="a8f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当热重装变得很慢时，mac就滞后了，需要我经常做家务。最终，我玩了几个库，它们成了我的救星——我现在在我的大多数前端JavaScript项目中使用它们。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c265" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.维特伊斯</h1><p id="4ef6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我上个月接手了一个遗留的React项目，它有很多重复和冗余的代码。</p><p id="41de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该项目将1号地块用作捆扎机，启动和热重装需要很长时间。更糟糕的是，缓存消耗了我的<em class="mz"> ~500MB </em>磁盘空间！直到快没空间了我才注意到。每次我需要在<code class="fe na nb nc nd b">routes.tsx</code>中查找相应的文件时，它在<code class="fe na nb nc nd b">routes.tsx</code>中有超过500行。麻烦！稍后我将向你展示我如何自动生成路线，从500多行到50行！</p><p id="1cb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我决定用<a class="ae ky" href="https://vitejs.dev/" rel="noopener ugc nofollow" target="_blank"> Vite </a>来代替，因为它让我感觉我是当今最快的开发者！</p><p id="1a55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以这里的问题是:</p><h2 id="808f" class="ne md it bd me nf ng dn mi nh ni dp mm li nj nk mo lm nl nm mq lq nn no ms np bi translated">为什么是ViteJS？</h2><p id="4fc2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">假设您正在为一个大规模项目编码，开发服务器可能需要几分钟才能启动，对于热模块重新加载(HMR)，有时需要几秒钟才能在浏览器中反映出来！这两个问题都影响着开发人员的情绪和生产力。</p><p id="f156" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">某些依赖项太大，无法处理。Vite正在使用<code class="fe na nb nc nd b">esbuild</code>来预捆绑依赖项。<code class="fe na nb nc nd b">Esbuild</code>用Go编写，编译成原生代码，所以比基于JS的捆绑器编译快10倍—100倍。</p><p id="9de6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你编辑非普通的JavaScript文件时，它不会同时加载所有的源代码。这是ESM最好的部分之一，代码拆分！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/c0f3cb878fc40c8452d7c5af7a81c5f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uwrOVAMqt__OGq3PmuAzOw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">基准测试由<a class="ae ky" href="https://twitter.com/evanwallace/status/1314121407903617025" rel="noopener ugc nofollow" target="_blank">埃文·华莱士</a></p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/89eb7acb78472e6cb0ee2d6f44595709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aY8MMuAPnG_xeFij548_zA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">截图来自<a class="ae ky" href="https://youtu.be/LQQ3CR2JTX8?t=420" rel="noopener ugc nofollow" target="_blank"> codeSTACKr的Youtube视频</a></p></figure><p id="b788" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe na nb nc nd b">npm init vite</code> vs <code class="fe na nb nc nd b">npx create-react-app</code>。看出区别了吗？一旦你尝试了，你会上瘾的！Vite的插件扩展了Rollup的插件接口，可以用rollup的配置来配置Vite。</p><h2 id="1118" class="ne md it bd me nf ng dn mi nh ni dp mm li nj nk mo lm nl nm mq lq nn no ms np bi translated">自动生成路线</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/013a983df4eab97693eb68fb7d3df318.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*oLuCDuDRTyNT7rnd9fOUFQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">文件夹结构</p></figure><h2 id="2dae" class="ne md it bd me nf ng dn mi nh ni dp mm li nj nk mo lm nl nm mq lq nn no ms np bi translated"><strong class="ak">解释</strong></h2><p id="5a77" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Vite有一个名为<code class="fe na nb nc nd b">import.meta.glob</code>的内置函数可以导入多个模块，它正在使用<code class="fe na nb nc nd b"><a class="ae ky" href="https://github.com/mrmlnc/fast-glob" rel="noopener ugc nofollow" target="_blank">fast-glob</a></code>。</p><p id="16f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我从以扩展名<code class="fe na nb nc nd b">.tsx</code>结尾的目录<code class="fe na nb nc nd b">pages</code>中导入所有模块，忽略名为<code class="fe na nb nc nd b">components</code>的目录和其中的文件，因为<code class="fe na nb nc nd b">components</code>包含私有组件。</p><p id="4cb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果文件名以<code class="fe na nb nc nd b">_</code>开头，以<code class="fe na nb nc nd b">tsx</code>结尾，URL参数的<code class="fe na nb nc nd b">_</code>将替换为<code class="fe na nb nc nd b">:</code>。</p><p id="1d86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在的<a class="ae ky" href="https://globster.xyz/" rel="noopener ugc nofollow" target="_blank">测试你的glob。</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="04aa" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.PNPM</h1><p id="baee" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">由于我的Macbook空间不足，删除各个项目中现有的<code class="fe na nb nc nd b">node_modules</code> <strong class="lb iu"> <em class="mz"> </em> </strong>还不够！我必须寻找另一种解决方案。最终，我找到了PNPM。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/8366f3d1c582dcf00d0aa3e706b726c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3gwwWEhGCebsCpCpcqytAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">基准来自<a class="ae ky" href="https://pnpm.io/benchmarks" rel="noopener ugc nofollow" target="_blank"> PNPM </a></p></figure><p id="d8b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">PNPM不仅速度快，而且节省空间！当你使用NPM或纱线时，如果你有10个项目使用<code class="fe na nb nc nd b">lodash</code>和<code class="fe na nb nc nd b">moment</code>，你将安装10次<code class="fe na nb nc nd b">lodash</code>和<code class="fe na nb nc nd b">moment</code>。</p><p id="6914" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">PNPM将把依赖项安装到一个全局存储中，并且文件是从项目中硬链接的。这意味着如果你有10个使用1MB的<code class="fe na nb nc nd b">foo</code>的项目，它只消耗1MB的磁盘空间，而不是10MB，对于相同版本的<code class="fe na nb nc nd b">foo</code>！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/7e334940d2e06872c5eb4444bff1554a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g8A8kSRe9HVk763yXNnrLg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">PNPM全球商店解释</p></figure><p id="bb97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">PNPM CLI非常类似于NPM和纱。它还内置了对monorepos的支持。是时候告别<code class="fe na nb nc nd b"><a class="ae ky" href="https://lerna.js.org/" rel="noopener ugc nofollow" target="_blank">lerna</a></code>了吗？我自己没试过。我现在不能评论任何事情。</p><p id="f5c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我发现的唯一缺点是，PNPM不符合阿尔派的码头工人形象，但这没什么大不了的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3861" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.Windi CSS</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/931ed4908e002298f830d284e005ccac.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*uKCZI-QkbjiAvLSUYaESnQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://github.com/antfu/vite-windi-tailwind-jit-compare" rel="noopener ugc nofollow" target="_blank">回购的结果</a></p></figure><p id="49f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://windicss.org/" rel="noopener ugc nofollow" target="_blank"> WindiCSS </a>和<a class="ae ky" href="https://tailwindcss.com/docs/just-in-time-mode" rel="noopener ugc nofollow" target="_blank"> Tailwind JIT </a>是两个不同的东西。Windi是由热情的开发者基于社区的，而一家公司支持tailwind。据我所知，JIT比Windi慢，但是现在JIT比Windi快多了。</p><p id="7b8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，WindiCSS比Tailwind提供了一些额外的功能。查看此<a class="ae ky" href="https://windicss.org/features/" rel="noopener ugc nofollow" target="_blank">链接</a>了解其特性。</p><p id="f305" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">WindiCSS的团队还没有开始开发JetBrain的插件。所以，如果你需要自动完成，你需要安装tailwindcss的依赖项并使用官方插件<a class="ae ky" href="https://plugins.jetbrains.com/plugin/15321-tailwind-css" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="d70d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最喜欢Vite插件的一个特性是如下图所示的<code class="fe na nb nc nd b">attributify</code>模式:</p><pre class="kj kk kl km gt ny nd nz oa aw ob bi"><span id="49c4" class="ne md it nd b gy oc od l oe of">// Snippet from <a class="ae ky" href="https://windicss.org/posts/v30.html#attributify-mode" rel="noopener ugc nofollow" target="_blank">https://windicss.org/posts/v30.html#attributify-mode</a></span><span id="263e" class="ne md it nd b gy og od l oe of">// windi.config.ts<br/>export default {<br/>  attributify: true,<br/>}</span><span id="6e6d" class="ne md it nd b gy og od l oe of">// magic below<br/>&lt;button <br/>  bg="blue-400 hover:blue-500 dark:blue-500 dark:hover:blue-600"<br/>  text="sm white"<br/>  font="mono light"<br/>  p="y-2 x-4"<br/>  border="2 rounded blue-200"<br/>&gt;<br/>  Button<br/>&lt;/button&gt;</span><span id="0fa9" class="ne md it nd b gy og od l oe of"><br/>// OR<br/></span><span id="8b07" class="ne md it nd b gy og od l oe of">// windi.config.ts<br/>export default {<br/>  attributify: {<br/>    prefix: 'w:',<br/>  },<br/>}</span><span id="0605" class="ne md it nd b gy og od l oe of">// magic below</span><span id="a5c1" class="ne md it nd b gy og od l oe of">&lt;button <br/>  w:bg="blue-400 hover:blue-500 dark:blue-500 dark:hover:blue-600"<br/>  w:text="sm white"<br/>  w:font="mono light"<br/>  w:p="y-2 x-4"<br/>  w:border="2 rounded blue-200"<br/>&gt;<br/>  Button<br/>&lt;/button&gt;</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="f3b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p><h1 id="b107" class="mc md it bd me mf oh mh mi mj oi ml mm jz oj ka mo kc ok kd mq kf ol kg ms mt bi translated"><strong class="ak">参考文献</strong></h1><ul class=""><li id="3e1d" class="om on it lb b lc mu lf mv li oo lm op lq oq lu or os ot ou bi translated"><a class="ae ky" href="https://vitejs.dev/" rel="noopener ugc nofollow" target="_blank"> ViteJS </a></li><li id="6df2" class="om on it lb b lc ov lf ow li ox lm oy lq oz lu or os ot ou bi translated"><a class="ae ky" href="https://pnpm.io/" rel="noopener ugc nofollow" target="_blank"> PNPM </a></li><li id="1314" class="om on it lb b lc ov lf ow li ox lm oy lq oz lu or os ot ou bi translated"><a class="ae ky" href="https://windicss.org/" rel="noopener ugc nofollow" target="_blank"> WindiCSS </a></li><li id="0734" class="om on it lb b lc ov lf ow li ox lm oy lq oz lu or os ot ou bi translated"><a class="ae ky" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank">尾翼CSS </a></li></ul></div></div>    
</body>
</html>