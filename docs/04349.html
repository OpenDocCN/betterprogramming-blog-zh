<html>
<head>
<title>How to Share the “hosts” File With Your Phone or Another Device</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何与您的手机或其他设备共享“主机”文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-share-hosts-file-with-your-phone-or-another-device-2821d03cb843?source=collection_archive---------9-----------------------#2020-04-07">https://betterprogramming.pub/how-to-share-hosts-file-with-your-phone-or-another-device-2821d03cb843?source=collection_archive---------9-----------------------#2020-04-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="50a2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在5分钟内改善您的开发环境</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d22b330aefc6cc5283c87303037501fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a95xgYRG89BKlopa"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@mr_fresh?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Yura Fresh </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="0277" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开发环境需要在<code class="fe lv lw lx ly b">hosts</code>文件中定制条目，这是一个常见的场景。</p><p id="e934" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您的<code class="fe lv lw lx ly b">/etc/hosts</code>包含多个指向<code class="fe lv lw lx ly b">localhost</code>的服务，如下所示:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="b0e7" class="md me it ly b gy mf mg l mh mi">127.0.0.1 api.local<br/>127.0.0.1 cms.local<br/>127.0.0.1 web.local</span></pre><p id="a560" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多个服务可以在同一个HTTP服务器的同一个端口上运行。在这种情况下，服务器将主机名映射到特定的服务(虚拟主机)。您不能仅使用IP连接到服务。</p><p id="b9b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设移动应用程序使用API <code class="fe lv lw lx ly b">api.local</code>。您想要在真实的电话设备上测试/开发应用程序，但是在那里无法解析API主机。</p><p id="a0b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解决方案之一是使用代理服务器。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="cac4" class="mq me it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">代理服务系统</h1><p id="6c7e" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">(转发)代理服务器充当来自客户端的请求的中介。换句话说，设备(客户端)的网络流量将通过您的计算机(服务器)。</p><p id="debf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，主机映射将可用于设备，因为使用了本地DNS解析器。</p><h2 id="7a6a" class="md me it bd mr nm nn dn mv no np dp mz li nq nr nb lm ns nt nd lq nu nv nf nw bi translated">设置</h2><p id="a0ff" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">代理服务器必须在您的计算机上运行。</p><p id="f331" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一个关于<a class="ae ky" href="http://www.squid-cache.org/" rel="noopener ugc nofollow" target="_blank"> Squid </a>服务器的例子。然而，它可能是您选择的任何服务器，如<a class="ae ky" href="http://www.haproxy.org/" rel="noopener ugc nofollow" target="_blank"> HAProxy </a>、<a class="ae ky" href="https://tinyproxy.github.io/" rel="noopener ugc nofollow" target="_blank"> Tinyproxy </a>或<a class="ae ky" href="https://trafficserver.apache.org/" rel="noopener ugc nofollow" target="_blank"> Traffic Server </a>。</p><p id="6e5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">sSuid服务器可以用Docker快速启动。例如，有一个现成的<a class="ae ky" href="https://hub.docker.com/r/babim/squid/" rel="noopener ugc nofollow" target="_blank"> Squid4图像</a>:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="b5b8" class="md me it ly b gy mf mg l mh mi">$ docker run --name squid -d \<br/>  --restart=always \<br/>  --publish 3128:3128 babim/squid</span></pre><p id="7ba0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样。默认情况下，它充当转发代理。</p><p id="50be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:<strong class="lb iu"> </strong>默认情况下，服务器接受来自本地网络的连接。如果要应用附加限制，请调整配置。</p><h2 id="a64e" class="md me it bd mr nm nn dn mv no np dp mz li nq nr nb lm ns nt nd lq nu nv nf nw bi translated">配置客户端</h2><p id="eeca" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">该设备应与服务器连接到同一个网络。请检查您本地网络的计算机IP。</p><p id="456b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后只需配置网络连接，使用手机上的代理。</p><p id="a4ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">Android的代理设置</strong></p><ul class=""><li id="8dce" class="nx ny it lb b lc ld lf lg li nz lm oa lq ob lu oc od oe of bi translated">连接到WI-FI网络</li><li id="5b6d" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">前往设置→ WI-FI</li><li id="68f8" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">长按已连接的网络名称</li><li id="08b6" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">修改网络配置→显示高级选项</li><li id="f6c1" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">设置代理设置</li><li id="5f71" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">主机名→您计算机的(代理服务器)IP</li><li id="a582" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">端口→ 3128</li><li id="08cf" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">不要对→ 127.0.0.1使用代理服务器</li><li id="2040" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">救援</li></ul><p id="72ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">iOS的代理设置</strong></p><p id="234e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参见苹果支持页面<a class="ae ky" href="https://support.apple.com/en-us/HT202693" rel="noopener ugc nofollow" target="_blank">在iOS设置助手</a>中设置高级网络设置</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="3d27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，网络流量通过代理服务器。</p><p id="4d7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:<strong class="lb iu"> </strong>当代理服务器关闭时，你必须把网络设置改回来。</p></div></div>    
</body>
</html>