<html>
<head>
<title>Scroll to Different Positions in a ScrollView With ScrollViewReader in SwiftUI 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI 2中使用ScrollViewReader滚动到ScrollView中的不同位置</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/scroll-to-different-positions-in-a-scrollview-with-scrollviewreader-in-swiftui-2-6b4d775d5470?source=collection_archive---------10-----------------------#2020-09-22">https://betterprogramming.pub/scroll-to-different-positions-in-a-scrollview-with-scrollviewreader-in-swiftui-2-6b4d775d5470?source=collection_archive---------10-----------------------#2020-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="94ec" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ScrollViewReader简介</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/7bcaf21792773fa6304722969b8ce033.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*XHacP7GAkhyeJ9iSjigX7w.png"/></div></figure><p id="fa04" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在最近的WWDC 2020中，苹果推出了<code class="fe lm ln lo lp b">ScrollViewReader</code>。这是我们很多人一直期待的功能之一，因为SwiftUI 1中缺乏对滚动的支持。</p><p id="f4e7" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">正如我们许多人所知，SwiftUI 1中没有任何内置的支持来滚动到特定的行。在Stack Overflow上，可能有多种不同的方式来处理由不同的人编写的一堆代码，但是如果只用一行代码就能处理好，不是更好吗？</p><p id="2ba6" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">使用<code class="fe lm ln lo lp b">ScrollViewReader</code>，您现在可以使用index滚动到任何一行。</p><p id="d699" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><strong class="ks iu">注:</strong>同样的行为对<code class="fe lm ln lo lp b">List</code>不起作用。在发布时，似乎不支持跳转到<code class="fe lm ln lo lp b">List</code>中的元素。</p><blockquote class="lq lr ls"><p id="e310" class="kq kr lt ks b kt ku ju kv kw kx jx ky lu la lb lc lv le lf lg lw li lj lk ll im bi translated">"<code class="fe lm ln lo lp b">ScrollViewReader</code>:一个视图，它的子视图被定义为一个<code class="fe lm ln lo lp b">ScrollViewProxy</code>的函数，目标是子视图中的可滚动视图。"</p><p id="a089" class="kq kr lt ks b kt ku ju kv kw kx jx ky lu la lb lc lv le lf lg lw li lj lk ll im bi translated">—苹果文档</p></blockquote><h2 id="d5ee" class="lx ly it bd lz ma mb dn mc md me dp mf kz mg mh mi ld mj mk ml lh mm mn mo mp bi translated">先决条件</h2><p id="c9ab" class="pw-post-body-paragraph kq kr it ks b kt mq ju kv kw mr jx ky kz ms lb lc ld mt lf lg lh mu lj lk ll im bi translated">要学习本教程，您需要了解以下方面的一些基本知识:</p><ul class=""><li id="9b58" class="mv mw it ks b kt ku kw kx kz mx ld my lh mz ll na nb nc nd bi translated">对Swift的基本熟悉</li><li id="1dba" class="mv mw it ks b kt ne kw nf kz ng ld nh lh ni ll na nb nc nd bi translated">至少Xcode 12+</li><li id="72ca" class="mv mw it ks b kt ne kw nf kz ng ld nh lh ni ll na nb nc nd bi translated">仅支持iOS 14+</li></ul></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="2b0d" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">ScrollViewReader入门</h1><p id="e073" class="pw-post-body-paragraph kq kr it ks b kt mq ju kv kw mr jx ky kz ms lb lc ld mt lf lg lh mu lj lk ll im bi translated">首先，您需要将<code class="fe lm ln lo lp b">ScrollViewReader</code>嵌入到<code class="fe lm ln lo lp b">ScrollView</code>中。</p><p id="9393" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在这里，你将使用来自科幻符号的图像-第一个版本首先在2019年WWDC推出，随后的版本在2020年WWDC推出。这是苹果的一个很棒的工具，你可以在那里找到很多有用的图标，但它主要只支持iOS 13+。为了让它支持iOS 13+，有一个变通办法(就是导出它)。</p><p id="ac97" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">不管怎样，我们不要被SF符号分散注意力，把注意力放在<strong class="ks iu"> </strong> <code class="fe lm ln lo lp b">ScrollViewReader</code>上。这个想法是在<code class="fe lm ln lo lp b">ScrollView</code>的顶部有一个按钮，上面有大约50张图片。</p><pre class="kj kk kl km gt ob lp oc od aw oe bi"><span id="5e84" class="lx ly it lp b gy of og l oh oi">ScrollView {<br/>    ScrollViewReader { value in<br/>        // 1<br/>        Button("Jump to 30") {<br/>            value.scrollTo(30, anchor: .top)<br/>        }<br/>        // 2<br/>        ForEach(1..&lt;51) { index in<br/>            Image(systemName: "\(index).square")<br/>                .font(.largeTitle)<br/>                .frame(height: 70)<br/>                .id(index)<br/>        }<br/>    }<br/>}</span></pre><ol class=""><li id="da61" class="mv mw it ks b kt ku kw kx kz mx ld my lh mz ll oj nb nc nd bi translated">这是将出现在列表上的按钮。通过点击它，您将被重定向到该行。</li><li id="1502" class="mv mw it ks b kt ne kw nf kz ng ld nh lh ni ll oj nb nc nd bi translated">使用带数字的<code class="fe lm ln lo lp b">forEach</code>创建图像。</li></ol><p id="e85b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">您的设备应该如下所示，带有图像和按钮:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/87fe7a3f9013668b479f342cfcf8057d.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*WBD4I5aqp1RbInsQvZjitg.png"/></div></figure><p id="7970" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">点击按钮会把你带到索引30。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/2a84d24bbd3dc22a1067d388da3578c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/1*z5pR_jZhcZyffCgCeBJbdQ.gif"/></div></figure><p id="d53e" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这实际上取决于您希望如何显示您的索引，您可以通过用不同的<code class="fe lm ln lo lp b">UnitPoint</code>替换锚点来调整它。</p><pre class="kj kk kl km gt ob lp oc od aw oe bi"><span id="d1c4" class="lx ly it lp b gy of og l oh oi">value.scrollTo(30, anchor: .top)</span></pre><p id="5a87" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">知道<code class="fe lm ln lo lp b">ScrollView</code>的框架可能是好的，这样你就知道当应用不同的锚时会发生什么，比如尾随或前导。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/4770cdba556c80ed070aabdf16ce9390.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*UFUM8X7fllkbRYPj1udY1g.png"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="46fd" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">。零</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/9fabc5ee151a3dac2da6c63a6a4d84e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/1*KJvLY8onxKteWrHR7nGDFw.gif"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="96c4" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">。中心</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/9616bf0edcd64ed3f999480069170e52.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/1*XVZeOq3cj67SVxVizoAI4g.gif"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="bcd4" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">。主要的</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/556f5d85217bf508b6cf947fb90244fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/1*NWxHDhxvscOwJcfpF7NclQ.gif"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="cfa1" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">。蔓延的</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/9b72f6caeb52a2664565d6d9a6d2cfc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/1*Wx1qykA1Mvsl7sopQSER3Q.gif"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="364c" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">。底部</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/409e121f39ff69c21f30e5a5f186a88c.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/1*IZy2XS81iIYZ-7FYDSMMHw.gif"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="98fb" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">。顶端领先</h1><p id="c79b" class="pw-post-body-paragraph kq kr it ks b kt mq ju kv kw mr jx ky kz ms lb lc ld mt lf lg lh mu lj lk ll im bi translated">你甚至可以尝试<code class="fe lm ln lo lp b">topTrailing</code>，但是你得到的想法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/88da7dce4176e954ef175631474e47a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/1*5J_REWKhXcVykWBraIlpRA.gif"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="52cd" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">。底部拖曳</h1><p id="f629" class="pw-post-body-paragraph kq kr it ks b kt mq ju kv kw mr jx ky kz ms lb lc ld mt lf lg lh mu lj lk ll im bi translated">你甚至可以尝试<code class="fe lm ln lo lp b">.bottomLeading</code>，但是你得到的想法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/ef312040711d057c0649f97a7dbf7d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/1*gwcNLbG3G-v79698wphtNQ.gif"/></div></figure></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="46eb" class="nq ly it bd lz nr ns nt mc nu nv nw mf jz nx ka mi kc ny kd ml kf nz kg mo oa bi translated">结论</h1><p id="722e" class="pw-post-body-paragraph kq kr it ks b kt mq ju kv kw mr jx ky kz ms lb lc ld mt lf lg lh mu lj lk ll im bi translated">感谢阅读。</p></div></div>    
</body>
</html>