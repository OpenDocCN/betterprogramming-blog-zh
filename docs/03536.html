<html>
<head>
<title>How to Deploy Your Angular App to Heroku in Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在几分钟内将Angular应用程序部署到Heroku</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-deploy-your-angular-9-app-to-heroku-in-minutes-51d171c2f0d?source=collection_archive---------1-----------------------#2020-02-17">https://betterprogramming.pub/how-to-deploy-your-angular-9-app-to-heroku-in-minutes-51d171c2f0d?source=collection_archive---------1-----------------------#2020-02-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1b7d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">部署听起来令人生畏，但事实并非如此</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a2d2f0e32b38c56e23e1b67e9e0ea857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q1Lvf1cVxpD34B9l3cYG9w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@baciutudor?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">都铎·巴休</a>在<a class="ae ky" href="https://unsplash.com/s/photos/angular?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="8c6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku </a>是基于容器的云平台即服务(PaaS)。它让开发人员可以构建、交付、监控和扩展他们的应用程序，而无需担心基础设施问题。</p><p id="d4e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本帖中，我们将部署一个用版本9构建的Angular应用程序，这是目前最新的稳定版本。但是，配置与angular版本无关，您可以使用本教程部署旧版本或新版本。</p><p id="30df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Heroku说:</p><blockquote class="lv"><p id="3297" class="lw lx it bd ly lz ma mb mc md me lu dk translated">“我们是从创意到URL的最快途径。”</p></blockquote><p id="9240" class="pw-post-body-paragraph kz la it lb b lc mf ju le lf mg jx lh li mh lk ll lm mi lo lp lq mj ls lt lu im bi translated">关于这一点，他们是对的。作为一名web应用程序开发人员，我有机会看到了部署应用程序的几种方法，我可以说Heroku是所有方法中最快的。</p><p id="0232" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们开始我们的Angular 9项目，并为部署做好准备。你可以点击这篇文章底部的repo链接来获得部署就绪项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/defd099cbfc061485df4dad71dc4969d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LS9IbSBelDuJlYHn30E0uA.png"/></div></div></figure><p id="da18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用最新的CLI启动了一个新的Angular应用程序。这是我们得到的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/d3d647197a4467e98a941da5fd7d5699.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LKVi3zLEj411Yo5uzgYcTQ.png"/></div></div></figure><p id="4249" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们运行<code class="fe ml mm mn mo b">ng serve</code>以确保我们的应用程序正常。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mp"><img src="../Images/a7375a4a0936125905c6569c1ccab128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o-vjSUKhAJeujyViPJhRDw.png"/></div></div></figure><p id="70af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应用程序是好的，所以现在让我们把重点放在部署上。我们现在需要做的是知道我们能对Heroku做什么，以及如何去做。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="d1b1" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">入门指南</h1><p id="c7d4" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">第一步是在Heroku中创建新的应用程序。因此，一种简单的方法是转到您的仪表板，使用为此创建的UI。</p><p id="b1e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击右上角的“创建新应用”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/c49ca8df756cb43a651c21d1b6c65cb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9AOV4EjjWwbvrHn_f9QXsA.png"/></div></div></figure><p id="8a36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们为我们的应用程序命名，选择地区，然后单击“创建应用程序”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/af5672e8bdfa21d6ee570807eedd3a27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YnPU70gdUZDeRrr9O1yUPA.png"/></div></div></figure><p id="a17b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将被重定向到如下页面，该页面向我们展示了如何部署的选项。选项包括:</p><ul class=""><li id="8c64" class="nu nv it lb b lc ld lf lg li nw lm nx lq ny lu nz oa ob oc bi translated">Heroku Git</li><li id="18bd" class="nu nv it lb b lc od lf oe li of lm og lq oh lu nz oa ob oc bi translated">GitHub集成</li><li id="0dde" class="nu nv it lb b lc od lf oe li of lm og lq oh lu nz oa ob oc bi translated">集装箱登记处</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/b2a853de6aff2898d6ae3266cf800052.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s_TdnfnDG0RIzrxoO7zyBg.png"/></div></div></figure><p id="7fe2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本帖中，我们将使用<em class="oi"> Github集成</em>。在GitHub上为我们的应用程序创建了存储库之后，我们就可以开始了。点击Github选项，搜索我们的回购。</p><p id="7487" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Heroku找到我们的回购后，我们只需点击<em class="oi">连接</em>按钮，将回购与Heroku连接。这将帮助我们在每次推送至主分支时进行自动部署。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/c63d86602ba697112c898c87b4ea5b24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-c2tkyAa1AOg8Cal_znrag.png"/></div></div></figure><p id="5f3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">连接建立后，您将看到这样一个页面。我们在这里看到的是，我们可以从一个分支中选择“启用自动部署”选项<strong class="lb iu"> </strong>。如果那是你想要的，你所需要做的就是点击那个按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/c5fc0a3b696a067dc83122783243ddaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ikXnUmta1ZLum2Znacq4Fw.png"/></div></div></figure><p id="5f46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们已经用一个可用的应用程序创建了我们的repo，将它连接到Heroku，并启用了自动部署。因此，每次我们向我们的主分支推送时，Heroku都会为我们启动一个部署流程。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/0d34aed99f61d6e9269c03c1e3e8ba62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQI1aGLZmh1xDpGoX54YZQ.png"/></div></div></figure><p id="5711" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在一切都好了，我们所需要的只是一些部署配置和对GitHub的提交和推送。让我们从这些配置开始。</p><p id="7efb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，Heroku擅长的是他们的buildpack概念。基本上，要将您的应用程序从本地主机带到一个真实的URL，您需要向远程机器发出一些指令来执行发布和部署。</p><h2 id="1aa9" class="oj my it bd mz ok ol dn nd om on dp nh li oo op nj lm oq or nl lq os ot nn ou bi translated">我们需要告诉机器的是</h2><ol class=""><li id="c775" class="nu nv it lb b lc np lf nq li ov lm ow lq ox lu oy oa ob oc bi translated">安装我们的依赖项。</li><li id="fd77" class="nu nv it lb b lc od lf oe li of lm og lq oh lu oy oa ob oc bi translated">对我们的应用程序进行生产构建。</li><li id="1493" class="nu nv it lb b lc od lf oe li of lm og lq oh lu oy oa ob oc bi translated">在Heroku上部署我们的生产版本。</li><li id="8c6a" class="nu nv it lb b lc od lf oe li of lm og lq oh lu oy oa ob oc bi translated">部署后，为我们的dist文件夹提供服务。</li><li id="6a1b" class="nu nv it lb b lc od lf oe li of lm og lq oh lu oy oa ob oc bi translated">在给定的URL上启动生产。</li></ol><p id="ee77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢天谢地，Heroku已经有了一个buildpack，它可以告诉机器做我们需要的事情，它叫做<strong class="lb iu"><em class="oi"/></strong><em class="oi">node . js build pack</em>。我们所要做的就是帮助构建包一点点。</p><p id="0d62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们的应用程序需要一个服务器，我们将要使用的是Express server，这是一个轻量级服务器，可以帮助我们为应用程序提供服务。</p><p id="b787" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们安装它。</p><pre class="kj kk kl km gt oz mo pa pb aw pc bi"><span id="373e" class="oj my it mo b gy pd pe l pf pg">npm i express --save</span></pre><p id="fd9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们需要一个JS中的脚本来告诉Express做什么。</p><p id="435e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在项目的根目录下创建一个文件。我喜欢叫它<code class="fe ml mm mn mo b">server.js</code>。</p><p id="7ebe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里需要更改的只是应用程序的名称。它必须与您的<code class="fe ml mm mn mo b">package.json</code>中的<code class="fe ml mm mn mo b">name</code>属性相同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/3d3d19dacf4df57d1bec25f14b242139.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*bQx10-nGJ-yBPxOoBd2jgQ.png"/></div></figure><p id="395e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里需要注意的重要一点是，<code class="fe ml mm mn mo b">server.js</code>文件必须在项目的<em class="oi">根目录</em>下。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="4c96" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">我们在server.js文件中做什么？</h1><p id="3b9e" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">基本上说，在<code class="fe ml mm mn mo b"><a class="ae ky" href="https://github.com/klement97/angular-heroku/blob/master/server.js" rel="noopener ugc nofollow" target="_blank">server.js</a></code>文件中，我们正在做的是使用Express服务器来:</p><ol class=""><li id="7251" class="nu nv it lb b lc ld lf lg li nw lm nx lq ny lu oy oa ob oc bi translated">将所有流量从http重定向到https。</li></ol><pre class="kj kk kl km gt oz mo pa pb aw pc bi"><span id="2356" class="oj my it mo b gy pd pe l pf pg">function requireHTTPS(req, res, next) {<br/>    // The 'x-forwarded-proto' check is for Heroku<br/>    if (!req.secure &amp;&amp; req.get('x-forwarded-proto') !== 'https') {<br/>        return res.redirect('https://' + req.get('host') + req.url);<br/>    }<br/>    next();<br/>}</span><span id="2113" class="oj my it mo b gy pi pe l pf pg">const <strong class="mo iu"><em class="oi">express </em></strong>= require('express');<br/>const app = <strong class="mo iu"><em class="oi">express</em></strong>();<br/>const app = <strong class="mo iu"><em class="oi">express</em></strong>();<br/>app.use(requireHTTPS);</span></pre><p id="1b17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.为我们的静态文件服务。</p><pre class="kj kk kl km gt oz mo pa pb aw pc bi"><span id="223c" class="oj my it mo b gy pd pe l pf pg">app.use(express.static(’./dist/<strong class="mo iu">&lt;name-on-package.json&gt;</strong>’));</span></pre><p id="b5c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.等待任何路径的请求，并将所有请求重定向到<code class="fe ml mm mn mo b">index.html</code>。</p><pre class="kj kk kl km gt oz mo pa pb aw pc bi"><span id="fe24" class="oj my it mo b gy pd pe l pf pg">app.get(’/*’, function(req, res) {<br/>  res.sendFile(’index.html’, {root: 'dist/<strong class="mo iu">&lt;name-on-package.json&gt;</strong>/’}<br/>);<br/>});</span></pre><p id="5a10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">角度路由器将根据用户请求的路径来处理应该向用户显示哪个组件。</p><p id="fd0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.在由<code class="fe ml mm mn mo b">env</code>变量指定的<code class="fe ml mm mn mo b">PORT</code>或默认的Heroku端口(8080)监听请求。</p><pre class="kj kk kl km gt oz mo pa pb aw pc bi"><span id="0dda" class="oj my it mo b gy pd pe l pf pg">app.listen(<em class="oi">process</em>.env.PORT || 8080);</span></pre></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="4182" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">测试一切正常</h1><p id="ceee" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">在heroku中测试脚本是否一切正常的一个很好的技巧是在本地运行它，这样如果有任何错误，我们可以节省一些时间。运行<strong class="lb iu"> <em class="oi"> ng build — prod </em> </strong>之后，我们可以在终端中做一些非常简单的事情:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/05073c742d9db276fbd90476139566fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zg89tFkytPx1FmCliw1SLQ.png"/></div></div></figure><p id="d9a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ml mm mn mo b">node server.js</code>命令将运行<code class="fe ml mm mn mo b">server.js</code>文件中的内容，我们可以在将文件部署到Heroku之前检查它是否有问题。</p><p id="02a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，我的工作目录是我的项目的根目录，我的<code class="fe ml mm mn mo b">server.js</code>文件就在那里。</p><p id="dfba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，我们可以转到<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/localhost:8080"> localhost:8080 </a>并查看从dist文件夹提供的应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/ef1d84892304488cc336810d3b85b08b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zL29lvkR0qvsDnu_i4G6Yw.png"/></div></div></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="6d33" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">Package.json</h1><p id="916e" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">现在我们已经确定文件工作正常，让我们继续在<code class="fe ml mm mn mo b">package.json</code>中进行所需的更改。</p><p id="1ecd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将开始脚本更改为<code class="fe ml mm mn mo b">node server.js</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/0d3d7fa7397c22a8906076b466a2a56d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VefYoRwC6bx5ZxTEuJrExA.gif"/></div></div></figure><p id="c8a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们不想使用<code class="fe ml mm mn mo b">ng serve</code>命令，因为它仅用于开发，我们需要一个真正的服务器用于我们的生产环境。</p><p id="0799" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将构建脚本更改为<code class="fe ml mm mn mo b">ng build --prod</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/71184ee0744b317f81b9c108ea6dba55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HBtAHbEIxu-_OG_kd7ZIOg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">package.json</p></figure><p id="3b20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里需要注意的是，您只需要在您的生产环境中进行这种更改，这意味着只在主分支上进行，否则，我们将在每次运行启动脚本时都运行Express服务器。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="8423" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">结论</h1><p id="2825" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">仅此而已。我们已经完成了在Heroku的首次部署。现在，我们将对Heroku进行提交和推送，以触发部署。</p><p id="9494" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您尚未选择自动部署，您需要做的是进行推送，然后转到页面末尾的Heroku Dashboard &gt;选择您的应用程序&gt;部署&gt;部署分支。</p><p id="9cad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">部署过程如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm pn l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">节点构建包的Heroku构建阶段</p></figure><p id="37f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果构建过程已经成功，你的应用程序在Heroku给定的域上启动，访问它以确保一切正常。</p><p id="ec25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你在下面看到的，我们的应用现在由Heroku托管和服务。<a class="ae ky" href="https://angular-heroku-deployment.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"> Angular-Heroku app </a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/7413ae709d1c7cfe9ad0cec3991a6c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mkjcz0Hd2pYFnRqK7N1sJg.png"/></div></div></figure><p id="9752" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们完成了部署过程，我们的应用程序已经上线。在我的第一次尝试中，我花了大约四个小时来处理我遇到的所有错误，并进行我的第一次成功部署。不要让失败阻止你上线你的应用。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="65eb" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">奖金</h1><p id="4676" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">如果你正面临Heroku H10-App崩溃错误，那么这可能是你的脚本和配置有问题的迹象。本文<a class="ae ky" href="https://dev.to/lawrence_eagles/causes-of-heroku-h10-app-crashed-error-and-how-to-solve-them-3jnl" rel="noopener ugc nofollow" target="_blank">这里</a>可以帮你解决这个问题。</p><h1 id="8a05" class="mx my it bd mz na po nc nd ne pp ng nh jz pq ka nj kc pr kd nl kf ps kg nn no bi translated">资源</h1><ul class=""><li id="b5aa" class="nu nv it lb b lc np lf nq li ov lm ow lq ox lu nz oa ob oc bi translated"><a class="ae ky" href="https://github.com/klement97/angular-heroku" rel="noopener ugc nofollow" target="_blank">我的GitHub回购本文</a></li><li id="5760" class="nu nv it lb b lc od lf oe li of lm og lq oh lu nz oa ob oc bi translated"><a class="ae ky" href="https://dev.to/lawrence_eagles/causes-of-heroku-h10-app-crashed-error-and-how-to-solve-them-3jnl" rel="noopener ugc nofollow" target="_blank">Heroku H10-App崩溃错误的原因</a></li></ul><p id="6456" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请随意问我任何问题，我很乐意回答你的问题。</p><p id="e277" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div></div>    
</body>
</html>