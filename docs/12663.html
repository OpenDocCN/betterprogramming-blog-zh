<html>
<head>
<title>Want to Add New Features and Keep the Project Stable at the Same Time? Automate Some Tasks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">想要添加新功能，同时保持项目稳定吗？自动化一些任务</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/want-to-add-new-features-and-keep-the-project-stable-at-the-same-time-automate-some-tasks-1443980d69e6?source=collection_archive---------19-----------------------#2022-06-20">https://betterprogramming.pub/want-to-add-new-features-and-keep-the-project-stable-at-the-same-time-automate-some-tasks-1443980d69e6?source=collection_archive---------19-----------------------#2022-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d429" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">打破令人沮丧的循环的简单方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4c0e31158c2057a40fdd56bd4b818499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5HBieH_h7VzDZ8kfoFsyuw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@austindistel" rel="noopener ugc nofollow" target="_blank"> Austin Distel </a>拍摄的照片</p></figure><p id="6ed3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你有一个建立项目的想法时，你总是在想你的下一步是什么，你的下一个发展战略是什么。</p><p id="97e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只有当你对自己目前的状态有信心，并且能够轻松地将新功能带到桌面上时，这才是可能的。你真的不想陷入修复你已经建立的东西并继续前进。</p><p id="9de4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你自己一直在做某个项目，或者你有一个独立的技术团队在做这个项目，你可能以前遇到过这样的情况:</p><ol class=""><li id="3fe4" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">你必须检查每一台设备和每一个有太多不同版本的平台，以确保每一个版本都运行良好，这样你就不会失去任何潜在用户。</li><li id="ffdf" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">即使你写了太多的单元测试来检查路上的每一个微小的特性，还是会有一些不可预测的错误/行为出现，而你甚至没有注意到它们。</li><li id="4af7" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">您收到了一个错误报告，当您试图调试它时，您意识到该错误依赖于太多不同的变量和环境，并且您不能真正从用户那里询问那么多细节，您感到被卡住了。</li><li id="6289" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">出了问题或出了故障，而你不知道问题的根本原因是什么，所以你打扰了所有的团队成员，以找出谁应该负责，谁可以解决问题。</li></ol></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="db9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，有什么解决办法呢？我们同时需要新功能和稳定性！</p><p id="228b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们采取积极主动的方法，在错误和问题变成更大的混乱之前尽可能快地找到它们，然后我们把系统带回一个新的稳定版本，会怎么样？你可能会说:</p><p id="6242" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mn">“嗯，我们没有足够的时间来反复测试每一件事，检查每一个用户，分析每一个日志！”</em></p><p id="21ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们退一步，看看这是怎么回事。</p><p id="0d17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你想到从用户注意到错误并向我们报告开始的过程，然后我们创建并分配适当的任务给团队成员，然后我们尝试调试它并发布新版本——这是一个反复出现的令人沮丧的循环。</p><p id="ad85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们能找到一种系统的方法来自动化这个过程，我们就不再需要担心不稳定性。</p><blockquote class="mo"><p id="3775" class="mp mq iq bd mr ms mt mu mv mw mx lr dk translated">这个过程的关键是在不浪费任何时间和精力的情况下，尽可能快地向合适的开发人员提供足够的信息。</p></blockquote><h1 id="a2a1" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nj jx nk jz nl ka nm kc nn kd no np bi translated">说得够多了，实施该流程的最佳实用方法是什么？</h1><p id="c80e" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">我们有很好的选择，其中<a class="ae kv" href="https://firebase.google.com/docs/crashlytics" rel="noopener ugc nofollow" target="_blank"> Firebase Crashlytics </a>是众所周知和受欢迎的选择之一。但是，如果您担心使用第三方服务，并且不知道他们到底在做什么，那么也许您可以在自己的服务器上运行开源方法并查看完整的代码，这对您来说更有意义。当然，如果你觉得舒服，你可以继续使用他们的云服务。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="134f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">哨兵是那些你可以克隆并尝试的开源软件之一。</p><p id="4675" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">他们有一个定制的警报系统，你甚至可以看到用户面包屑和所有正在使用的变量。</p><p id="fd4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它支持几乎所有的编程语言和所有的框架，所以你什么都不用做，只需要在你的代码中添加依赖。</p><p id="18e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">他们还发布了一个docker版本，所以你可以通过运行一个命令轻松地在你的服务器上安装它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/846b2d077fd135d18784916e9745be73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kA_iv1joXa4VJjiQsGVicQ.png"/></div></div></figure><p id="0f3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你感兴趣，让我们快速设置一下:</p><h1 id="f8a7" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nw jx nk jz nx ka nm kc ny kd no np bi translated">设置服务器端</h1><p id="9a8c" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">1.查看<a class="ae kv" href="https://github.com/getsentry/sentry" rel="noopener ugc nofollow" target="_blank"> Sentry的Github库</a>获取最新版本:</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="f076" class="oe mz iq oa b gy of og l oh oi">git clone https://github.com/getsentry/self-hosted.git</span></pre><p id="e784" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.克隆代码后，我们需要运行以下命令:</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="b59f" class="oe mz iq oa b gy of og l oh oi">./install.sh</span></pre><p id="9c94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.整个安装过程是通过docker自动完成的。在安装过程中，您只需选择管理员访问的用户名和密码。</p><p id="db9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装完成后，我们需要使用以下命令运行docker:</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="f007" class="oe mz iq oa b gy of og l oh oi">docker-compose up -d</span></pre><p id="b433" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.最后，您应该能够在本地主机的端口9000上看到登录页面(您可以通过<code class="fe oj ok ol oa b">config.yml</code>文件更改它)。</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="153e" class="oe mz iq oa b gy of og l oh oi">http://127.0.0.1:9000</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/8ed02509faad5eb8b045568a2ba3f853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XW62b6Gf2vsrJpBjW2W6Mg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">哨兵登录页面</p></figure><p id="3a46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用您在安装过程中选择的用户名和密码登录。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/5b049b37cba450ab7ed60a1b9e35400d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PAUtdVJGwQdOEPb_53AGAA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">哨兵仪表板页面</p></figure><p id="a60b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想调整默认配置，那么查看<a class="ae kv" href="https://develop.sentry.dev/self-hosted/" rel="noopener ugc nofollow" target="_blank">安装文档</a>。</p><h1 id="4014" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nw jx nk jz nx ka nm kc ny kd no np bi translated">设置客户端</h1><p id="6891" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">正如我提到的，Sentry支持几乎所有平台。</p><p id="cf80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看React配置是如何工作的。可以查看<a class="ae kv" href="https://docs.sentry.io/platforms/" rel="noopener ugc nofollow" target="_blank">框架支持列表</a>。</p><p id="5a49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.首先，我们需要安装sentry包:</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="d49b" class="oe mz iq oa b gy of og l oh oi">npm install --save @sentry/react @sentry/tracing<br/>or<br/>yarn add @sentry/react @sentry/tracing<!-- --> </span></pre><p id="1d46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.然后我们需要在项目的起点初始化哨兵。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="be81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.仅仅通过添加那段代码，Sentry就会检测出所有的错误和异常，并将它们发送到服务器。这就是我们开始的全部内容。</p><p id="cf3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.如果你想更进一步，你可以<a class="ae kv" href="https://docs.sentry.io/product/releases/" rel="noopener ugc nofollow" target="_blank">启用版本控制特性</a>，这样你就可以分离你的日志。或者您可以<a class="ae kv" href="https://docs.sentry.io/product/issues/issue-details/breadcrumbs/" rel="noopener ugc nofollow" target="_blank">启用面包屑功能</a>，这样您就可以在错误发生之前获得完整的操作列表。查看<a class="ae kv" href="https://docs.sentry.io/product/" rel="noopener ugc nofollow" target="_blank">功能列表</a>，挑选您需要的。</p><h1 id="3e91" class="my mz iq bd na nb nc nd ne nf ng nh ni jw nw jx nk jz nx ka nm kc ny kd no np bi translated">结论</h1><p id="70f6" class="pw-post-body-paragraph kw kx iq ky b kz nq jr lb lc nr ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">我们想腾出时间在我们的项目上做更多创造性的工作，并建立我们的想法。节省时间的最好方法是将具有简单模式的任务和过程自动化。测试项目、发现错误并修复它们的过程可能会非常困难和耗时。</p><p id="63f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">相反，我们可以使用用户的活动来检测错误并尽快修复它们。我们还可以通过直接向合适的开发人员提供合适的信息来消除围绕新错误的所有不必要的对话。</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="b462" class="oe mz iq oa b gy of og l oh oi"><strong class="oa ir">Want to connect?</strong></span><span id="0879" class="oe mz iq oa b gy oq og l oh oi">Check out <a class="ae kv" href="https://www.linkedin.com/in/reza-rafia/" rel="noopener ugc nofollow" target="_blank">my LinkedIn profile</a>.</span></pre></div></div>    
</body>
</html>