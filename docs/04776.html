<html>
<head>
<title>Functional Programming: Using the Eq Type Class to Check for Equality</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">函数式编程:使用Eq类型类检查相等性</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/functional-programming-using-the-eq-type-class-to-check-for-equality-b7e9b989063a?source=collection_archive---------15-----------------------#2020-05-07">https://betterprogramming.pub/functional-programming-using-the-eq-type-class-to-check-for-equality-b7e9b989063a?source=collection_archive---------15-----------------------#2020-05-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4a96" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">探索Eq类型类及其用例</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/eda822505ebcef17179707ecf0831a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TCfHR6TTkeyaDHMnxP3iWw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@emilep?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">émile Perron</a>在<a class="ae kv" href="https://unsplash.com/s/photos/functional-programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="83b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将是一个包含几篇文章的系列，在这里我试图解释和展示一些函数式编程模式的用例。</p><p id="a470" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用TypeScript并使用函数式编程库<code class="fe ls lt lu lv b"><a class="ae kv" href="https://github.com/gcanti/fp-ts" rel="noopener ugc nofollow" target="_blank">fp-ts</a></code>。这些例子和解释受到了来自<code class="fe ls lt lu lv b">fp-ts</code>作者的<a class="ae kv" href="https://dev.to/gcanti/getting-started-with-fp-ts-setoid-39f3" rel="noopener ugc nofollow" target="_blank">伟大文章系列</a>的启发。</p><p id="59ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一篇是关于<code class="fe ls lt lu lv b">Eq type class</code>的。我们将探索<code class="fe ls lt lu lv b">Eq type class</code>是什么，我们可以用它来做什么。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="4ad7" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">情商类型类</h1><p id="c35d" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">请阅读以下要点。我们将在这篇文章中讨论它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="c404" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个例子中，我们通过创建一个新的<code class="fe ls lt lu lv b">Eq type class</code> → <code class="fe ls lt lu lv b">Eq&lt;Artist&gt;</code>实例来比较两个<code class="fe ls lt lu lv b">Artists</code>。</p><p id="f955" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们做的第一件事是用一个接口定义<code class="fe ls lt lu lv b">Eq type class</code>。对于要成为<code class="fe ls lt lu lv b">Eq type class</code>成员的东西，它必须实现一个<code class="fe ls lt lu lv b">equals</code>方法。这个<code class="fe ls lt lu lv b">equals</code>方法必须接受两个相同类型的东西(例如，两个数字)，如果<code class="fe ls lt lu lv b">x</code>和<code class="fe ls lt lu lv b">y</code>相等，则返回一个<code class="fe ls lt lu lv b">boolean</code> → <code class="fe ls lt lu lv b">true</code>，如果不相等，则返回<code class="fe ls lt lu lv b">false</code>。</p><p id="95e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们继续为<code class="fe ls lt lu lv b">number</code>类型创建一个<code class="fe ls lt lu lv b">Eq</code>实例。这实际上就像用一个<code class="fe ls lt lu lv b">equals</code>方法返回一个对象一样简单，该方法通过执行<code class="fe ls lt lu lv b">x === y</code>来检查作为参数传递的两个数字(<code class="fe ls lt lu lv b">x</code>和<code class="fe ls lt lu lv b">y</code>)是否相等。我们现在可以通过做<code class="fe ls lt lu lv b">eqNumber.equals(1, 1)</code>来比较两个数字。</p><p id="8b9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后是<code class="fe ls lt lu lv b">contramap</code>函数的定义。<code class="fe ls lt lu lv b">contramap</code>接受一个<code class="fe ls lt lu lv b">(b: B) =&gt; A</code>类型的函数。在我们的例子中，<code class="fe ls lt lu lv b">B</code>的类型是<code class="fe ls lt lu lv b">Artist</code>，而<code class="fe ls lt lu lv b">A</code>的类型是<code class="fe ls lt lu lv b">number</code>，这导致→ <code class="fe ls lt lu lv b">(artist: Artist) =&gt; number</code>。然后它返回一个新函数，该函数接受类型为<code class="fe ls lt lu lv b">Eq&lt;A&gt;</code>的东西，并返回一个<code class="fe ls lt lu lv b">Eq&lt;B&gt;</code>。翻译成我们的例子→ <code class="fe ls lt lu lv b">(eqNumber: Eq&lt;number&gt;) =&gt; Eq&lt;Artist&gt;</code>。</p><p id="d84f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此<code class="fe ls lt lu lv b">contramap</code>允许我们通过定义一个简单的函数来轻松地创建<code class="fe ls lt lu lv b">Eq type class</code>的新实例，该函数接受我们想要为其创建<code class="fe ls lt lu lv b">Eq</code>实例的类型的对象。然后，这个函数应该返回某种类型的东西，在这种类型中，我们已经为类型<code class="fe ls lt lu lv b">number</code>定义了一个<code class="fe ls lt lu lv b">Eq</code>实例。</p><p id="0f57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">contramap((artist: Artist) =&gt; artist.artistId)(eqNumber)</code>返回类型<code class="fe ls lt lu lv b">Eq&lt;Artist&gt;</code>的新<code class="fe ls lt lu lv b">Eq</code>实例。</p><p id="f98a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们使用新创建的<code class="fe ls lt lu lv b">Eq&lt;Artist&gt;</code>实例来比较两个<code class="fe ls lt lu lv b">Artists</code>。</p><p id="19ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以更进一步，做这样的事情:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="61d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里我们用之前定义的<code class="fe ls lt lu lv b">Eq&lt;Artist&gt;</code>来定义<code class="fe ls lt lu lv b">Eq type class</code> → <code class="fe ls lt lu lv b">Eq&lt;Album&gt;</code>的一个新实例，它检查两个<code class="fe ls lt lu lv b">Album</code>是否由同一艺术家制作。</p><p id="73e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">Eq type class</code>对于定义类型的定制等式逻辑非常有用。</p><p id="9091" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你喜欢这个关于<code class="fe ls lt lu lv b">Eq type class</code>的简短介绍。下一篇文章将是关于<code class="fe ls lt lu lv b">Ord type class</code>。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="619c" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">参考</h1><p id="bd6b" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">fp-ts库→<a class="ae kv" href="https://github.com/gcanti/fp-ts" rel="noopener ugc nofollow" target="_blank">https://github.com/gcanti/fp-ts</a></p></div></div>    
</body>
</html>