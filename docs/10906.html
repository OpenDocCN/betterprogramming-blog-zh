<html>
<head>
<title>How to Add End-to-end Tests to a Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向项目中添加端到端测试</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-add-end-to-end-tests-to-a-project-99297dd31f0?source=collection_archive---------17-----------------------#2022-02-02">https://betterprogramming.pub/how-to-add-end-to-end-tests-to-a-project-99297dd31f0?source=collection_archive---------17-----------------------#2022-02-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5f6d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">与E2E同行的三个步骤</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/00a7f4495bce33a2a6de38ebf7193f0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z4PGyNvlsJi-q_uj3pMT8w.jpeg"/></div></div></figure><p id="1854" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">恭喜你。设置端到端(E2E)是一个非常高级的话题，它可以为您的项目带来很多价值。它有机会在将变更合并到主分支之前捕捉到潜在的问题——远在接近生产部署之前。越早发现错误，就越容易修复。E2E使您能够在更改可用时立即进行广泛的测试。</p><h1 id="be0c" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">什么是端到端测试？</h1><p id="d69c" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">E2E测试是脚本，它以类似于用户的方式与应用程序交互。他们打开一个浏览器，加载一个URL，单击用户界面(UI)元素，如按钮，并期待一些结果。机器执行它们，它们比人快得多，也可靠得多。他们从不感到无聊。</p><p id="0f94" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">唯一的缺点是——他们需要精确的指令，有时编程会比他们试图测试的特性更复杂。编写测试就是编程，它与被测试的应用程序相关联，但这是一项许多程序员并不特别感兴趣的任务。如果你擅长它，它可能会成为你的独特技能，帮助你在工作中大放异彩。</p><h1 id="1482" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">挑选你的工装！</h1><p id="3b05" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">建造E2E套房有很多选择:</p><p id="c3d7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这里，这与其他技术堆栈决策是一样的:很好地调查你的选择是有好处的。您编写的每个测试都与您选择的平台紧密相关。从一个测试工具迁移到另一个测试工具是可能的，但是这将是一个像替换前端框架一样大的项目。</p><p id="437f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我的经验主要是用量角器，一个不赞成使用的角度居中的解决方案。我目前正在将测试迁移到Cypress，我对这些年来测试工具的进步印象深刻。你希望在你的下一个项目中使用什么E2E工具？<a class="ae mn" href="https://strawpoll.com/zc6v2fkff" rel="noopener ugc nofollow" target="_blank">让我知道投票结果</a>。</p><h1 id="9e6a" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">本地机器上的简单测试</h1><p id="626d" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">在你的第一次测试中，保持它们的琐碎。使用您拥有的任何本地测试URL，并通过您的脚本访问它。你甚至不需要检查应用程序的任何工作流程。只需编写几个测试，每个测试针对不同的路线，并验证UI元素是否出现在页面上。例如，您可以检查:</p><ul class=""><li id="8d8a" class="mo mp it kw b kx ky la lb ld mq lh mr ll ms lp mt mu mv mw bi translated">在<code class="fe mx my mz na b">/login</code>上，是否有用户名和密码的输入栏</li><li id="0f90" class="mo mp it kw b kx nb la nc ld nd lh ne ll nf lp mt mu mv mw bi translated">在<code class="fe mx my mz na b">/product/12</code>上，是否显示产品名称</li><li id="6fc8" class="mo mp it kw b kx nb la nc ld nd lh ne ll nf lp mt mu mv mw bi translated">等等。</li></ul><p id="9420" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">即使通过如此简单的测试，您也可以证明:</p><ol class=""><li id="631d" class="mo mp it kw b kx ky la lb ld mq lh mr ll ms lp ng mu mv mw bi translated">应用程序正在启动，并且所有路线都显示有关键的UI元素</li><li id="fb82" class="mo mp it kw b kx nb la nc ld nd lh ne ll nf lp ng mu mv mw bi translated">你可以开发E2E测试</li></ol><p id="e499" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就这样，E2E开始起飞了——团队有一些测试，并且一个成员(你)愿意并且能够编写更多的测试！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a698d3abeb826f6abedb41d7259f3038.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4DNdfir7Y1x4w0tb"/></div></div></figure><h1 id="dd5a" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">让你的团队加入进来</h1><p id="b4b7" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">一开始你可能不需要急于求成。只要确保每个人都知道有可用的E2E测试，并建立每个开发人员在将东西合并到主分支之前应该运行它们的期望。在这个阶段，你会注意到你的同事的本地设置之间的所有差异——人们在本地使用的不同域或端口。您可以通过让每个人使用相同的URL或者让测试URL易于配置而不是硬编码来解决这个问题。两种方式都可以。我只是让每个人都使用相同的本地主机URL就我而言，团队几乎没有任何反对意见。</p><p id="6483" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下一步是测试工作流的快乐路径——当一切都按预期运行时，应用程序应该做什么。您编写测试来检查“添加到购物车”按钮是否确实将产品添加到购物车中，以及“结帐”是否转到支付提供商页面。这些测试编写起来更加复杂，但是它们测试了应用程序的关键部分。它们应该有助于让你的同事相信E2E的用处。你的测试越来越复杂了。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="2e82" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你对E2E有任何疑问，请随时告诉我！你也可以在我的博客上读到关于管理脆弱的遗留代码的文章。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="1b99" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="no">最初发布于</em><a class="ae mn" href="https://how-to.dev/how-to-add-end-to-end-tests-to-a-project" rel="noopener ugc nofollow" target="_blank"><em class="no">https://how-to . dev</em></a><em class="no">。</em></p></div></div>    
</body>
</html>