<html>
<head>
<title>How to Add Custom Popovers to Your iOS App🔗</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将自定义Popovers添加到您的iOS应用程序🔗</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-add-custom-popovers-to-your-swiftui-ios-app-814bdfad73d0?source=collection_archive---------6-----------------------#2022-02-21">https://betterprogramming.pub/how-to-add-custom-popovers-to-your-swiftui-ios-app-814bdfad73d0?source=collection_archive---------6-----------------------#2022-02-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0c08" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用 SwiftUI <a class="ae ki" href="https://medium.com/p/814bdfad73d0/edit#0c08" rel="noopener">突破<strong class="ak">系统限制🔗</strong></a></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/1377b73c3d3d95ce151172582c57a888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yPxD3dAASmGKlZsy5jf8kQ.png"/></div></div></figure><p id="6efe" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">目前有三种方式来展示松饼。一个是用<code class="fe lr ls lt lu b">UIPopoverPresentationController</code>的，但那只在iPad上有效。你也可以展示一个<code class="fe lr ls lt lu b">UIMenu</code>，但那只适用于iOS 14+。最后，你可以使用<code class="fe lr ls lt lu b">UIAlertController</code>。这可能是最容易实现的——但也是最受限制的，因为它只支持标签、按钮和文本字段。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/e698f6376b953daac40d1796c6955ef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*DkVnd9ghLnk29fuNS5CZWg.png"/></div></figure><p id="88fd" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">那么…如果你需要一个应用内通知呢？一个画中画视频？还是一个入职弹出窗口？这就是定制松饼的用武之地。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/7b18ebc55ad593cc7c6a8fbd9c9d191e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qKjR2QfNmx0bkMXsrXdoRw.png"/></div></div></figure><p id="4408" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们将使用<a class="ae ki" href="https://github.com/aheze/Popovers" rel="noopener ugc nofollow" target="_blank"> Popovers </a>库。充分披露:我是这个的开发者。但是它是100%开源的，并且受麻省理工学院许可，所以你可以随意使用它。</p><div class="lx ly gp gr lz ma"><a href="https://github.com/aheze/Popovers" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd iu gy z fp mf fr fs mg fu fw is bi translated">GitHub - aheze/Popovers:一个展示popover的库。简单、现代、高度可定制…</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">展示松饼的图书馆。呈现应用程序主要内容上方的任何视图。附加到源视图或使用…</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">github.com</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo kt ma"/></div></div></a></div><p id="f402" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，您需要将库添加到项目中。Popovers支持Swift包管理器——在Xcode中，只需进入<code class="fe lr ls lt lu b">File</code> → <code class="fe lr ls lt lu b">Add Packages…</code>，然后输入网址:</p><pre class="kk kl km kn gt mp lu mq mr aw ms bi"><span id="e73c" class="mt mu it lu b gy mv mw l mx my"><a class="ae ki" href="https://github.com/aheze/Popovers" rel="noopener ugc nofollow" target="_blank">https://github.com/aheze/Popovers</a></span></pre><p id="c36b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">就这样，让我们开始吧！</p></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><h1 id="fcf9" class="ng mu it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">基本松饼<a class="ae ki" href="https://medium.com/p/814bdfad73d0/edit#fcf9" rel="noopener">🔗</a></h1><p id="cbab" class="pw-post-body-paragraph kv kw it kx b ky nx ju la lb ny jx ld le nz lg lh li oa lk ll lm ob lo lp lq im bi translated">要添加一个简单的弹出器，只需使用<code class="fe lr ls lt lu b">.popover()</code>修改器。Popovers基于SwiftUI，这意味着您可以传入并呈现任何您想要的视图。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/08ddd9028b60df6648ca9a1a078094dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/1*jHRE0isenb7Rr-8A5wo9Jg.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">一个简单的松饼。如果您使用UIKit，请参见此处的<a class="ae ki" href="https://gist.github.com/aheze/2c6eb09b4422d4dce5cc9ae09eb87dbb" rel="noopener ugc nofollow" target="_blank"/>。</p></figure><p id="b020" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">好吧，如果你想把弹出框放在按钮的顶部呢？它也可以使用一点空间。嗯，很简单:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/f8e33abd7308d7d7c6212b1cd715db2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*_-1HVvLCv3vOmH3Wky8H7g.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">按钮上方有一个弹出框，中间有一些间隔。</p></figure><p id="5f8a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">酷——现在让我们添加一些动画并定制橡皮筋。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/e4ff45c251f22356289769a69f470089.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*uoKsIJA5zQgnE81cDov0bg.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">砰，砰。</p></figure><p id="588f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在你有一个有弹性的松饼了！这只是你能做的表面工作——这里列出了所有的<a class="ae ki" href="https://github.com/aheze/Popovers#customization" rel="noopener ugc nofollow" target="_blank">可定制属性</a>。但是现在让我们来看看一些更高级的功能。</p></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><h1 id="e39e" class="ng mu it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">高级松饼<a class="ae ki" href="https://medium.com/p/814bdfad73d0/edit#e39e" rel="noopener">🔗</a></h1><p id="f25a" class="pw-post-body-paragraph kv kw it kx b ky nx ju la lb ny jx ld le nz lg lh li oa lk ll lm ob lo lp lq im bi translated">我最喜欢的SwiftUI特性之一是它的过渡——只要视图结构相同，就可以在不同的视图之间进行动画处理。Popovers通过<code class="fe lr ls lt lu b">.popover(selection:)</code>修改器利用了这一点，让您可以在多个popover之间平滑过渡。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/3bdc30c6441bb32f453fc0ad2ca621b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*aJy-YYm3UiegGzdLGxKCTA.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">平稳。</p></figure><p id="1fc6" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">很好。但还有更多！当我开始制作Popovers时，我想让它尽可能可定制。那么，如果您想<em class="lw">将</em>弹出窗口与底层视图连接起来，该怎么办呢？只需附加一个<code class="fe lr ls lt lu b">background</code>并嵌入一个<code class="fe lr ls lt lu b">PopoverReader</code>——有点像<code class="fe lr ls lt lu b"><a class="ae ki" href="https://developer.apple.com/documentation/swiftui/geometryreader" rel="noopener ugc nofollow" target="_blank">GeometryReader</a></code>，但更酷。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/48b86404986295cdd9e41c2286e7d073.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*UjMC5JS8DVR6eVFZWriTfQ.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">Smooooooooooooth。</p></figure><p id="0980" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">最后一件事。我真的很喜欢<code class="fe lr ls lt lu b">UIMenu</code>的外观，但它们只在iOS 14+上可用。所以我用Popovers把它反移植到了iOS 13！</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/2226cacc4a049e2eca5ddc147469e328.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*JoHMaWvR4opLKCFzTq0FAQ.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">它实际上只有9行代码:)</p></figure><p id="9e3e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">除了<code class="fe lr ls lt lu b">Menu</code>模板，还有一堆<a class="ae ki" href="https://github.com/aheze/Popovers#templates" rel="noopener ugc nofollow" target="_blank">其他实用程序视图和方法</a>，我都包含在源代码中。我会让你来创造更酷的东西。</p></div><div class="ab cl mz na hx nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="im in io ip iq"><h1 id="a2d0" class="ng mu it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">结论<a class="ae ki" href="https://medium.com/p/814bdfad73d0/edit#a2d0" rel="noopener">🔗</a></h1><p id="1981" class="pw-post-body-paragraph kv kw it kx b ky nx ju la lb ny jx ld le nz lg lh li oa lk ll lm ob lo lp lq im bi translated">系统组件很棒，只要你愿意牺牲可定制性。这既是一件好事，也是一件坏事——由于所有应用都使用相同的组件，用户体验在整个平台上变得非常一致。但是如果你想要哪怕一丁点儿的控制，你就被困住了。</p><p id="3e0d" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我的应用程序需要这种类型的控制，所以我做了<a class="ae ki" href="https://github.com/aheze/Popovers" rel="noopener ugc nofollow" target="_blank"> Popovers </a>。我希望它有一天能对你有用。感谢阅读！</p></div></div>    
</body>
</html>