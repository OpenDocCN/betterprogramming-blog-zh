<html>
<head>
<title>How to Use Python Dictionary Comprehensions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python字典理解</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-python-dictionary-comprehensions-af5cc5c75bba?source=collection_archive---------19-----------------------#2020-02-04">https://betterprogramming.pub/how-to-use-python-dictionary-comprehensions-af5cc5c75bba?source=collection_archive---------19-----------------------#2020-02-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2d21" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">列表不是唯一具有理解的数据类型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b5a41c9c6ef9800a8177a06559bf2263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X5klLAKaNb4f3f8y9JNQ-g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@edhoradic?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Edho Pratama </a>在<a class="ae ky" href="https://unsplash.com/s/photos/dictionary?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="9ae7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python最受欢迎的特性之一是列表理解——一种低语法、快速的列表循环替代方法。但是你知道理解不仅限于列表吗？</p><p id="26c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">字典理解虽然不像列表理解那样被广泛使用，但它是一种代替字典循环的简便方法。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f09a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">基本的字典理解</h1><p id="a40d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为了展示字典理解的语法，让我们来看几个例子。</p><p id="6b75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个示例将创建值为1-10的字典，其中术语和定义是等价的。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="60b8" class="ne md it na b gy nf ng l nh ni">my_nums = {<br/>   i: i<br/>   for i in range(1,6)<br/>}</span><span id="6dc3" class="ne md it na b gy nj ng l nh ni">print(my_nums) # {'1': 1, '2': 2, '3': 3, '4': 4, '5': 5}</span></pre><p id="fc65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们创建相同的字典，但是添加一个条件过滤器，只创建奇数。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="e6d0" class="ne md it na b gy nf ng l nh ni">my_nums = {<br/>   str(i): i<br/>   for i in range(1,6)<br/>   if i % 2 == 1<br/>}<br/>print(my_nums) # {'1': 1, '3': 3, '5': 5}</span></pre><p id="bc7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道这两个例子没有什么意义，但是这些普通的例子只是为了演示语法。</p><p id="635f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列表理解和字典理解的最大区别是字典需要两个值(术语和定义)。由于这种微妙的差异，词典理解需要额外的一秒钟才能有意义，并且不经常使用。</p><p id="dd58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看一些真实世界的例子，它们将有助于激发你的创造力。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ccbb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">词典释义举例</h1><p id="3cbd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们将复习我过去用过的两个词典释义，并把它们放在我的活动工具包里，因为它们很方便。</p><h2 id="d3cf" class="ne md it bd me nk nl dn mi nm nn dp mm li no np mo lm nq nr mq lq ns nt ms nu bi translated">删除空值</h2><p id="272d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我喜欢使用字典理解来删除空值——技术上来说，就是<code class="fe nv nw nx na b">None</code>值。我们利用条件过滤器，它看起来像这样:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="d35d" class="ne md it na b gy nf ng l nh ni">data = {<br/>  "id": 1,<br/>  "first_name": "Jonathan",<br/>  "middle_name": None,<br/>  "last_name": "Hsu"<br/>}</span><span id="21db" class="ne md it na b gy nj ng l nh ni">cleaned = {<br/>  k:v<br/>  for (k,v) in data.items()<br/>  if v != None<br/>}</span><span id="7e20" class="ne md it na b gy nj ng l nh ni">"""<br/>{<br/>  'id': 1,<br/>  'first_name': 'Jonathan',<br/>  'last_name': 'Hsu'<br/>}<br/>"""</span></pre><p id="d40d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用原始字典的<code class="fe nv nw nx na b">.items()</code>方法将每个键值对作为一个二值元组返回，分别分配给<code class="fe nv nw nx na b">k</code>和<code class="fe nv nw nx na b">v</code>。</p><h2 id="cea2" class="ne md it bd me nk nl dn mi nm nn dp mm li no np mo lm nq nr mq lq ns nt ms nu bi translated">地图的替代品</h2><p id="c182" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我已经学会喜欢上了<a class="ae ky" href="https://medium.com/better-programming/how-to-replace-your-python-for-loops-with-map-filter-and-reduce-c1b5fa96f43a" rel="noopener"> map方法</a>，但是现实是字典理解通常可以达到相同的结果，而不需要额外的方法和<a class="ae ky" href="https://medium.com/better-programming/how-to-use-lambda-expressions-in-python-a96330b513d4" rel="noopener"> lambdas </a>的复杂性。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="c074" class="ne md it na b gy nf ng l nh ni">data = {<br/>  "first_name": "Jonathan",<br/>  "last_name": "Hsu"<br/>}</span><span id="4abf" class="ne md it na b gy nj ng l nh ni">mapped = {<br/>  k: v.upper()<br/>  for (k,v) in data.items()<br/>}</span><span id="2507" class="ne md it na b gy nj ng l nh ni">"""<br/>{<br/>  'first_name': 'JONATHAN',<br/>  'last_name': 'HSU'<br/>}<br/>"""</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="56fb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="0740" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">你最喜欢的词典释义是什么？我希望这篇文章能为您的技能工具箱增加一个工具。</p></div></div>    
</body>
</html>