<html>
<head>
<title>Use the Walrus Operator to Assign and Print in One Line</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Walrus运算符在一行中进行赋值和打印</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/use-the-walrus-operator-to-assign-and-print-in-one-line-c5c968b119c8?source=collection_archive---------19-----------------------#2019-11-18">https://betterprogramming.pub/use-the-walrus-operator-to-assign-and-print-in-one-line-c5c968b119c8?source=collection_archive---------19-----------------------#2019-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bc1f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python中我最喜欢使用的walrus操作符</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bbad953560b3aedf019745c1e30f504c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lRc9uidEWjh1BoIvHqFmRA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/s/photos/print?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@iammrcup?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Cup先生/杨奇煜·巴拉</a>拍摄</p></figure><p id="6a67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a> 3.8中，发布了赋值表达式运算符<a class="ae ky" href="https://medium.com/better-programming/what-is-the-walrus-operator-in-python-5846eaeb9d95" rel="noopener"> <em class="lv">海象运算符</em> </a>。人们对这一约定褒贬不一，因为有些人认为这种语法违背了Python“越简单越好”的理念。</p><p id="bbbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我以前发表过一套<a class="ae ky" href="https://medium.com/better-programming/three-ways-to-use-the-walrus-operator-in-python-d5550f3a7dd" rel="noopener">三种技术</a>来使用算子；然而，我发现自己最常使用运算符来打印赋给变量的值。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a83a" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">我什么时候打印一个赋值？</h1><p id="10be" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当向返回响应的外部API发出请求时，这种情况最常见。</p><p id="7b59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，假设我向一个API请求创建一个新对象，响应中返回该对象的ID。我需要做两件事:</p><ul class=""><li id="2cf2" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">打印ID，这样我就知道它成功了。</li><li id="7c68" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">存储ID，以便我可以在下游使用它。</li></ul></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="67bb" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">代码以前的样子</h1><p id="487b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我经常会遇到下面这样的陈述:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="d834" class="nt me it np b gy nu nv l nw nx">result = apiRequest()<br/>print(result)</span><span id="26f9" class="nt me it np b gy ny nv l nw nx">resultTwo = apiRequestTwo(result)</span></pre><p id="a5b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意我是如何打印结果，然后在后续调用中使用它的。</p><p id="c13a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我需要在API请求之前打印一条消息时，代码开始变得复杂。我更喜欢这样写:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="2fcb" class="nt me it np b gy nu nv l nw nx">print("Creating record...", apiRequest())</span></pre><p id="c933" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，在这种情况下，我不能做这项任务。因此，我必须这样做:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="3c9d" class="nt me it np b gy nu nv l nw nx">print("Creating record...")<br/>result = apiRequest()<br/>print(result)</span></pre><p id="0b76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对我来说，将请求和任务夹在打印语句之间并不理想。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="fd0b" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">输入Walrus运算符</h1><p id="85a7" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">有了walrus操作符，我可以将原来的三行压缩成一行。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="e6d7" class="nt me it np b gy nu nv l nw nx">print("Creating record...", result := apiRequest())</span></pre><p id="dd81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里发生了什么事？</p><p id="69bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">walrus操作符将把来自我的API请求的响应分配给<code class="fe nz oa ob np b">result</code>，然后使用该值作为传递给<code class="fe nz oa ob np b">print()</code>语句的值。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="34bc" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="d063" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">到目前为止，这是我采用新实践的智力投资的最高回报。</p><p id="f9b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您发现运营商的其他创造性用途，请分享。这是一个令人兴奋的时刻，我们可以尝试新事物，并学习如何利用它。</p></div></div>    
</body>
</html>