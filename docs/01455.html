<html>
<head>
<title>Stop Writing Crap Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止写垃圾代码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/stop-writing-crap-code-7d3458f42384?source=collection_archive---------1-----------------------#2019-09-12">https://betterprogramming.pub/stop-writing-crap-code-7d3458f42384?source=collection_archive---------1-----------------------#2019-09-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="403c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">真的，你随时可以停下来。就现在。你能做到的。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8a409d5c20bb6fbb57fe9a11e58bd9c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rW7tDAf40d6Y_sUOKl7gQ.png"/></div></div></figure><p id="5250" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq">条可用波兰文</em> <a class="ae lr" href="https://bulldogjob.pl/news/1204-4-rzeczy-ktore-pomoga-pisac-czytelny-kod" rel="noopener ugc nofollow" target="_blank"> <em class="lq">此处</em> </a> <em class="lq">。</em></p><p id="9908" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">编写糟糕的代码是不可避免的。每个人在一生中的某个时候都会这样，这甚至可能不是他们的错。你典型的计算机科学学位不会教你如何写出简洁明了的代码。遵循一些简单的指导方针，编写更好的代码将会自然而然地开始。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="12c5" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">If陷阱</h1><p id="7929" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">停止<a class="ae lr" href="https://medium.com/better-programming/why-you-need-to-stop-using-else-statements-5b1fd09dea9e" rel="noopener">默认使用else语句</a>。花一点时间仔细考虑你要做的事情可以节省你以后调试复杂逻辑的时间。以下面的例子为例:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="edf5" class="nb ma it mx b gy nc nd l ne nf">if (index &lt; length):<br/>  query.append(row + ',\n')<br/>else: <br/>  query.append(row)</span></pre><p id="2ad6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这并不难理解，但是在它周围多加几行代码，你就会开始忘记你正在实现什么。这里有一个简单的说明，我们去掉重复的逻辑，简化我们正在评估的内容:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="7151" class="nb ma it mx b gy nc nd l ne nf">query.append(row)</span><span id="ab71" class="nb ma it mx b gy ng nd l ne nf">if(index != length):<br/>  query.append(',\n')</span></pre><p id="a3d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过简单的重构，我们现在可以看到我们将总是追加行。如果你在<code class="fe nh ni nj mx b">if</code>和<code class="fe nh ni nj mx b">else</code>做同样的事情，把它移到外面。此外，我们简化了比较。不是使用比较来显示所有的<code class="fe nh ni nj mx b">if</code>被评估的时间，而是显示一个它没有被评估的情况。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="9a44" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">使用内置功能</h1><p id="021f" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">这是困扰我很久的问题之一。我不会花时间去寻找内置于语言中的函数。因此，我的代码会有很多膨胀的地方。例如，这是一小段代码，我曾用它来组合一个数组的所有行。除了最后一行，所有的行都需要逗号分隔。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="c031" class="nb ma it mx b gy nc nd l ne nf">def gen_table_sql(table_obj):<br/>  row_len = length(table_obj)<br/>  query = ""<br/>  <br/>  for index, row in enumerate(table_obj['columns']):<br/>    query.append(row)<br/>    <br/>    # Needed so last line doesnt have a comma<br/>    if (index &lt; length):<br/>      query.append(',\n')<br/><br/>  return query</span></pre><p id="3870" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我遍历了每一行，沿途检查是否在数组的最后一行。不可怕的代码，但需要一点时间来阅读它，并理解什么是说。然后我找了五分钟，发现我可以用字符串连接方法做同样的事情。我能够把所有的逻辑变成一行:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="ce98" class="nb ma it mx b gy nc nd l ne nf">def gen_table_sql(table_obj):<br/>  <br/>  # Joins all rows with a comma and a newline except for the last<br/>  query = ',\n'.join(table_obj['columns'])<br/>  <br/>  return query</span></pre></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="5522" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">停止在函数中隐藏逻辑</h1><p id="1832" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">遵循<a class="ae lr" href="https://en.wikipedia.org/wiki/Single_responsibility_principle" rel="noopener ugc nofollow" target="_blank">单一责任原则</a>我们知道我们希望每个职能都有一项工作。在上面的例子中，看起来这个功能只有一个任务。然而，它隐藏了秘密的功能——它需要table_obj有一个名为columns的属性。最重要的是，它要求columns属性是一个列表。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="93ec" class="nb ma it mx b gy nc nd l ne nf">def gen_table_sql(col_list):<br/>  <br/>  # Joins all rows with a comma and a newline except for the last<br/>  query = ',\n'.join(col_list)<br/>  <br/>  return query</span></pre><p id="690b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是编写这个函数的更好的方法。您只需传入尽可能简单的数据，如gen _ table _ SQL(table _ obj[' columns '])。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="ee3b" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">描述一下</h1><p id="6dc7" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">编写更好的代码的最后一步是描述性的。下面我改变了函数的名字来描述它的功能。除了很好地命名，我还添加了一个docstring，这样当我进行开发时，我可以在我的编辑器中得到一个简短的描述，如下所示:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="42d1" class="nb ma it mx b gy nc nd l ne nf">def join_col_list(col_list):<br/>  '''Takes in column list and joins with commas to form sql statement'''<br/>  query = ',\n'.join(col_list)<br/>  <br/>  return query</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/6b96cac7974e2ca5e8343de2d9667998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_bSioaOrZeNFP7ZwCRN3w.png"/></div></div></figure><h1 id="31fd" class="lz ma it bd mb mc nl me mf mg nm mi mj jz nn ka ml kc no kd mn kf np kg mp mq bi translated">就是这样！</h1><p id="1c73" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">这些小技巧将在你编写伟大代码的道路上助你一臂之力。当你的代码变得更容易阅读和编写时，为生产力的巨大提升和恢复你的理智做好准备。</p></div></div>    
</body>
</html>