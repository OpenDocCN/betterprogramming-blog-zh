<html>
<head>
<title>Build Your Own Puppy Playdate Tinder App With Slash GraphQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Slash GraphQL构建你自己的小狗玩耍日Tinder应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-your-own-puppy-playdate-tinder-app-with-slash-graphql-34d35a96fbd8?source=collection_archive---------12-----------------------#2020-12-14">https://betterprogramming.pub/build-your-own-puppy-playdate-tinder-app-with-slash-graphql-34d35a96fbd8?source=collection_archive---------12-----------------------#2020-12-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2edf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解Slash GraphQL</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/31fcf412372c1fe174a0deccc96f232f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DD7PQzu1yLqrlf0d"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">一只柯基犬过着他最美好的生活(来源:</em><a class="ae kz" href="https://pixabay.com/photos/dog-corgi-pets-cute-rain-4415649/" rel="noopener ugc nofollow" target="_blank"><em class="ky">Pixabay</em></a><em class="ky">)</em></p></figure><p id="de2e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">每个狗主人都想为他们的新小狗找到完美的朋友。现在我们有了一个应用程序！你可以浏览各种小狗档案，左右滑动来找到你的新小狗朋友。设置小狗玩耍日从未如此简单。</p><p id="b156" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">好吧，不尽然。但我们确实有一个古怪的演示应用程序，它是用<a class="ae kz" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>、<a class="ae kz" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>、<a class="ae kz" href="https://www.apollographql.com/docs/react/" rel="noopener ugc nofollow" target="_blank"> Apollo Client </a>和<a class="ae kz" href="https://dgraph.io/cloud/" rel="noopener ugc nofollow" target="_blank"> Slash GraphQL </a>(一个托管的GraphQL后端，来自<a class="ae kz" href="https://dgraph.io/" rel="noopener ugc nofollow" target="_blank"> Dgraph </a>)构建的。</p><p id="fe3a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在这篇文章中，我们将探讨我是如何构建这个应用程序的，并且还将看看我所使用的一些基本技术。</p><p id="7338" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">准备好<em class="lw">释放</em>乐趣了吗？</p><p id="bc86" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="lw">更新:2021年4月16日，斜杠GraphQL正式更名为Dgraph Cloud。以下信息仍然适用，您仍然可以按照描述构建应用程序。</em></p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="8061" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">演示应用概述</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/80992eb5891b653a7a3529f5c8b08f8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q-r3yIVBW_nCIlDo"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">狗狗玩耍日app </em></p></figure><p id="9494" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们的应用程序是小狗玩耍日的翻版。您可以查看我们的小狗档案，这是我包含在数据库中的预先生成的种子数据。你可以通过向左滑动或点击X按钮来拒绝小狗。你可以通过向右滑动或点击心形按钮来表示对小狗的兴趣。</p><p id="1a13" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在所有小狗上向左或向右滑动后，您的结果就会显示出来。如果你幸运的话，你将会和一只小狗配对，并且在你的下一次狗狗约会中表现良好！</p><p id="39b9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">点击查看<a class="ae kz" href="http://tylerhawkins.info/puppy-playdate/build/" rel="noopener ugc nofollow" target="_blank">演示应用。也可以</a><a class="ae kz" href="https://github.com/thawkin3/puppy-playdate" rel="noopener ugc nofollow" target="_blank">在GitHub上看到代码</a>。</p><p id="d1ab" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在本文中，我们将为我们的应用程序设置模式，并用种子数据填充数据库。我们还将研究如何获取小狗档案以及如何进行匹配更新。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="60c6" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">建筑</h1><p id="8dce" class="pw-post-body-paragraph la lb it lc b ld mx ju lf lg my jx li lj mz ll lm ln na lp lq lr nb lt lu lv im bi translated">如上所述，这款app背后的四大核心技术分别是<a class="ae kz" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>、<a class="ae kz" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>、<a class="ae kz" href="https://www.apollographql.com/docs/react/" rel="noopener ugc nofollow" target="_blank"> Apollo Client </a>和<a class="ae kz" href="https://dgraph.io/cloud/" rel="noopener ugc nofollow" target="_blank"> Slash GraphQL </a>。</p><p id="8f6c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我选择React是因为它是一个优秀的前端库，可以用可重用组件以声明的方式开发ui。</p><p id="d5ad" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">Material-UI帮助提供了UI组件的构建块。例如，我使用了他们的<code class="fe nc nd ne nf b">Button</code>、<code class="fe nc nd ne nf b">Card</code>、<code class="fe nc nd ne nf b">CircularProgress</code>、<code class="fe nc nd ne nf b">FloatingActionButton</code>和<code class="fe nc nd ne nf b">Typography</code>组件。我也用了一些图标。所以我有一些基本的组件布局和样式作为起点。</p><p id="cf80" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我使用Apollo Client for React来促进我的前端组件和后端数据库之间的通信。Apollo Client使得使用GraphQL以声明的方式执行查询和变异变得很容易，它还有助于在发出API请求时处理加载和错误状态。</p><p id="5846" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">最后，Slash GraphQL是托管的GraphQL后端，它将我的小狗数据存储在数据库中，并为我提供一个API端点来查询我的数据库。拥有一个托管的后端意味着我不需要在自己的机器上安装和运行自己的服务器，不需要处理数据库升级或安全维护，也不需要编写任何API端点。作为一名前端开发人员，这让我的生活轻松了很多。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="dc79" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">Slash GraphQL入门</h1><p id="a2b3" class="pw-post-body-paragraph la lb it lc b ld mx ju lf lg my jx li lj mz ll lm ln na lp lq lr nb lt lu lv im bi translated">让我们首先创建一个斜杠GraphQL帐户、一个新的后端和一个模式。</p><p id="8256" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您可以<a class="ae kz" href="https://cloud.dgraph.io/" rel="noopener ugc nofollow" target="_blank">创建一个新帐户</a>或在线登录您现有的Slash GraphQL帐户。通过身份验证后，您可以单击“启动新的后端”按钮来查看下面显示的设置屏幕。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/24f7719fafbaabf6a9c3327aca66eb96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r7m-4FSWaSgbDJRv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">用斜线图形QL创建新的后端</em></p></figure><p id="470b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">接下来，选择您的后端名称(对我来说是<code class="fe nc nd ne nf b">puppy-playdate</code>)、子域名(对我来说也是<code class="fe nc nd ne nf b">puppy-playdate</code>)、提供商(目前仅AWS)和区域(最好选择一个最接近您或您的用户群的)。谈到定价，有一个慷慨的免费层，这对于这个应用程序来说足够了。</p><p id="2886" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">单击“启动”按钮确认您的设置，几秒钟后，您将有一个新的后端启动并运行！</p><p id="0e03" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">一旦创建了后端，下一步就是指定一个模式。这概述了您的GraphQL数据库将包含的数据类型。在我们的例子中，模式如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们数据库的GraphQL模式</p></figure><p id="663e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这里我们定义了一个<code class="fe nc nd ne nf b">Puppy</code>类型，它有以下字段:</p><ul class=""><li id="68b0" class="ni nj it lc b ld le lg lh lj nk ln nl lr nm lv nn no np nq bi translated"><code class="fe nc nd ne nf b">id</code>，这是由斜杠GraphQL为存储在数据库中的每个对象生成的唯一ID</li><li id="42c1" class="ni nj it lc b ld nr lg ns lj nt ln nu lr nv lv nn no np nq bi translated"><code class="fe nc nd ne nf b">name</code>，这是一个也可以搜索的文本字符串</li><li id="76ae" class="ni nj it lc b ld nr lg ns lj nt ln nu lr nv lv nn no np nq bi translated"><code class="fe nc nd ne nf b">age</code>，是一个整数</li><li id="0911" class="ni nj it lc b ld nr lg ns lj nt ln nu lr nv lv nn no np nq bi translated"><code class="fe nc nd ne nf b">matchedCount</code>，也是一个整数，将代表小狗与某人配对的次数</li><li id="02ee" class="ni nj it lc b ld nr lg ns lj nt ln nu lr nv lv nn no np nq bi translated"><code class="fe nc nd ne nf b">profilePic</code>，是一个字符串，包含要在应用中显示的图片URL</li><li id="ad4f" class="ni nj it lc b ld nr lg ns lj nt ln nu lr nv lv nn no np nq bi translated"><code class="fe nc nd ne nf b">bio</code>，这是一个包含关于小狗的简短描述的字符串</li><li id="38a4" class="ni nj it lc b ld nr lg ns lj nt ln nu lr nv lv nn no np nq bi translated"><code class="fe nc nd ne nf b">interests</code>，这是一个表示小狗兴趣的字符串数组，也是可搜索的</li></ul></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="84b2" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">添加小狗</h1><p id="176f" class="pw-post-body-paragraph la lb it lc b ld mx ju lf lg my jx li lj mz ll lm ln na lp lq lr nb lt lu lv im bi translated">现在我们已经建立了后端端点和模式，是时候添加一些小东西了！Slash GraphQL web控制台中的API Explorer允许我们轻松地对数据库执行GraphQL查询和变更，而无需在我们的应用程序中编写或运行任何额外的代码。我们将使用这种变异向数据库中插入数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">突变，将所有小狗添加到数据库中</p></figure><p id="46a5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后，我们可以查询我们的数据库来获取小狗数据，作为对我们的种子数据被正确插入的快速检查。该查询如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查询从数据库中获取所有小狗</p></figure><p id="867d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后数据会显示在API Explorer的结果面板中，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/490ad9e73c59fd9fbe9ae2110b403556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Gxu4T89lJq2HiRQd"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">查询我们所有小狗的数据库</em></p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="ad6e" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">抓取小狗(哈哈…)</h1><p id="7cef" class="pw-post-body-paragraph la lb it lc b ld mx ju lf lg my jx li lj mz ll lm ln na lp lq lr nb lt lu lv im bi translated">现在我们已经用种子数据填充了数据库，我们可以让我们的小狗出现在我们的应用程序中。我使用<a class="ae kz" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>为我的组件库构建UI和<a class="ae kz" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>来帮助加速开发过程。我没有直接执行GraphQL查询和变异，而是选择使用<a class="ae kz" href="https://www.apollographql.com/docs/react/" rel="noopener ugc nofollow" target="_blank"> Apollo Client for React </a>来声明性地处理与我的后端API和数据库的交互。</p><p id="8aa8" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">Apollo客户端利用<a class="ae kz" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank"> React的上下文API </a>。首先，初始化一个新的客户机，然后用提供者组件包装根组件。这使得数据库数据可以通过上下文在应用程序的任何地方使用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建新的Apollo客户端</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将应用程序包装在Apollo provider组件中</p></figure><p id="72f1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后在我们的<code class="fe nc nd ne nf b">App.js</code>文件中，我们可以定义一个GraphQL查询来获取所有的小狗:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">获取所有小狗的GraphQL查询</p></figure><p id="a13b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后，我们在我们的<code class="fe nc nd ne nf b">App</code>组件中声明性地执行查询，并通过使用Apollo客户端的<code class="fe nc nd ne nf b">useQuery</code>钩子来处理响应数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用useQuery钩子执行查询</p></figure><p id="57b6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">调用该方法的结果是一个包含响应属性<code class="fe nc nd ne nf b">data</code>、<code class="fe nc nd ne nf b">loading</code>状态、<code class="fe nc nd ne nf b">error</code>信息和<code class="fe nc nd ne nf b">refetch</code>数据的方法的对象。我们只需要访问<code class="fe nc nd ne nf b">data</code>属性和<code class="fe nc nd ne nf b">refetch</code>方法，所以我们从对象中析构这两项，然后根据需要将它们传递给子组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/4dc078a4dfcc372f5e4dd18cd086dd3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6qdmbAKCEBnRNI8i"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">小狗玩耍日app中的欢迎画面</em></p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/1e51b84c2ecefbb6da8614c4582af176.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qy31D0cFLRNSoEs8"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">在获取小狗数据时，在小狗玩耍日应用程序中加载屏幕</em></p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="15bb" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">更新小狗(爱)</h1><p id="cccc" class="pw-post-body-paragraph la lb it lc b ld mx ju lf lg my jx li lj mz ll lm ln na lp lq lr nb lt lu lv im bi translated">一旦小狗数据被获取，小狗就被一个接一个地显示为互动卡片。打火刷效果是使用一个名为<a class="ae kz" href="https://www.npmjs.com/package/react-tinder-card" rel="noopener ugc nofollow" target="_blank"> react-tinder-card </a>的npm包实现的。</p><p id="3483" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">当向右滑动小狗卡时(或者当点击心形按钮时)，会向后端发出一个API请求，将小狗的<code class="fe nc nd ne nf b">matchedCount</code>值加1。这再次通过Apollo客户端完成，但是这次使用了<code class="fe nc nd ne nf b">useMutation</code>钩子，因为这是GraphQL的一个变种。</p><p id="7a57" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">和以前一样，我们首先编写我们的GraphQL变体:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GraphQL突变来更新小狗的数据</p></figure><p id="bb9b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后我们在组件内部执行变异，这次是作为名为<code class="fe nc nd ne nf b">swiped</code>的swipe事件处理方法的一部分:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用useMutation挂钩和swiped事件处理程序执行变异</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/59ac176fa9d2806c31f7b88beea685c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1YWfUW5454wsOzNq"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">道格是个好男孩</p></figure><p id="30d6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">每个喜欢的狗都被记录下来。一旦你刷过我们数据库中的所有11只狗，你的比赛结果就会显示出来！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/82f90928bc38e2f0e068a23ee7775a25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hyJQBAndJ9xAOYWg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">你和刘伟东般配！</em></p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="81ae" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">后续步骤</h1><p id="edc0" class="pw-post-body-paragraph la lb it lc b ld mx ju lf lg my jx li lj mz ll lm ln na lp lq lr nb lt lu lv im bi translated">这就是我们的演示应用程序！如果你作为读者想继续这个项目，你可以通过创建一个<a class="ae kz" href="https://dgraph.io/docs/graphql/authorization/authorization-overview/" rel="noopener ugc nofollow" target="_blank">认证</a>工作流来扩展这个应用程序，允许用户创建账户和发布他们自己的个人资料。你也可以允许用户互相匹配，并在匹配发生时向他们发送通知。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="2dcd" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">包扎</h1><p id="75c9" class="pw-post-body-paragraph la lb it lc b ld mx ju lf lg my jx li lj mz ll lm ln na lp lq lr nb lt lu lv im bi translated">当我构建这个应用程序并考虑我想要包含的特性和功能时，数据库模式随着时间而改变。我开始没有包括小狗的年龄或他们的兴趣。当我决定在小狗卡片上显示这些信息时，我简单地在Slash GraphQL web控制台中编辑了我的模式，以包含<code class="fe nc nd ne nf b">age</code>和<code class="fe nc nd ne nf b">interests</code>字段。</p><p id="7d2f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我最初还用一个布尔型<code class="fe nc nd ne nf b">matched</code>字段来显示你是否与每只小狗匹配。然而，由于这个应用程序不包含身份验证，任何用户都可以使用，因此使用一个<code class="fe nc nd ne nf b">matchedCount</code>字段来记录每只小狗之前被任何用户喜欢过的次数更合适。</p><p id="8510" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">对模式进行这种调整也很简单，只需用<code class="fe nc nd ne nf b">matchedCount</code> int类型替换<code class="fe nc nd ne nf b">matched</code>布尔类型。</p><p id="d908" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">GraphQL的灵活性允许我动态地编辑我的模式，而不必重写几个API端点，这大大加快了开发过程。Slash GraphQL的API Explorer允许我在编写任何应用程序代码之前，直接针对我的数据库轻松地执行查询和突变，以试验我需要的语法和字段。</p><p id="1c24" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我选择的架构非常适合开发这款应用——它让快速原型制作变得简单！<em class="lw">手爪</em>无止境！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="ade3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="lw">更新-2021年1月20日:</em>这篇文章提到了一个斜杠GraphQL自由层。Dgraph最近更新了他们对Slash GraphQL的定价模型。5GB的数据传输现在是每月9.99美元。没有隐性成本。没有数据存储成本。每个查询不收费。你可以在这里找到更多信息。</p></div></div>    
</body>
</html>