<html>
<head>
<title>Android Jetpack Compose and Atomic Design</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android Jetpack编写和原子设计</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/android-jetpack-compose-and-atomic-design-1395502c5c05?source=collection_archive---------4-----------------------#2022-10-21">https://betterprogramming.pub/android-jetpack-compose-and-atomic-design-1395502c5c05?source=collection_archive---------4-----------------------#2022-10-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8ca6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在Android UI开发的新时代，向可重用组件和封装迈进了一步</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9f731decb3b287d0562577044daa26c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P5hWmYzwctOSLR6r"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="42ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如今，Android开发正在向前发展，以跟上潮流，创建现代UI，这对于有经验的移动开发人员或来自与面向客户端的应用程序相关的其他技术背景的开发人员来说是有意义的。例如，它可以帮助web开发人员使用最流行的框架的原理和机制来处理组件、可重用性和模块化(Reactjs、Angular、vuejs等)。).</p><p id="5046" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在过去的几年里，Android技术不断发展。Google将Kotlin作为主要的推荐编程语言，并重写了一些核心组件。这些是在Android Jetpack中引入的(这是一套核心组件和库，Android开发人员已经在使用，但比以前更好)。在过去几年中，为了便于创建UI，他们引入了Jetpack Compose。</p><p id="aac9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为谷歌和苹果是市场上唯一的竞争对手，所以他们也想出了新点子，这些点子并不新鲜，但类似于Jetpack Compose。苹果有自己创造现代UI的方式，叫做Swift UI。本质上，这两种技术非常相似，但各有特色。</p><p id="8179" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将更多地讨论Jetpack Compose，但本质上，由于Jetpack Compose <strong class="ky ir"> </strong>和<strong class="ky ir"> </strong> Swift UI之间的相似性，您可以将相同的原则应用于这两个平台。</p><h1 id="6abf" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">什么是喷气背包组成</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/3cd5119c6f5159efbaafa397bb5c39dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HJyWuMTDtLsMNrZF"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Paul Arky 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="294e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从官方的Android开发者平台来看，Jetpack Compose寻址简单，可以看官方文档，<a class="ae kv" href="https://developer.android.com/jetpack/compose/why-adopt" rel="noopener ugc nofollow" target="_blank">为什么采用Compose </a>。</p><p id="c83b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Jetpack Compose中，创建UI时需要一种与Android视图(XMLs)不同的思维方式。总的来说，它更加灵活，并且使用现代技术来绑定业务逻辑和用户交互。此外，它有助于封装组件(这也很容易测试)，这是模块化和可重用性方面的一个重大变化。</p><p id="3266" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将讨论一个非常方便的原则，它可以将一个屏幕分割成多个部分，并灵活地重用多个屏幕中的所有组件。</p><p id="4c7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在实际演示原子设计原则如何与Jetpack Compose完美结合之前，让我们回顾一下历史，看看这种方法是如何创建的。</p><h1 id="eab8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">什么是原子设计</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/483f8ce1f6c8f91726c9010c83663179.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6wg8nCbI6yjKRlPlTbdVFg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">映射到简单表单的原子设计组件示例</p></figure><p id="bc19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">原子设计是一种方法论，或者更像是一种设计系统，由Brad Frost创建，在处理用户界面时提供指导和原则。这种方法的核心并不特定于前端编程或计算机科学。它更多的是一种将事情分解成最小的部分，然后从最小的部分到最大的部分的想法。您可以通过隔离小组件或小块并在该过程中重用它们来做到这一点。</p><p id="a3f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">原子设计的整个思想可以归结为模块化。在弗罗斯特的书中，有一个比较可能是最符合逻辑的例子之一——汽车制造商中的一条装配线。这个例子很简洁，它解释了很多:</p><blockquote class="mm mn mo"><p id="1847" class="kw kx mp ky b kz la jr lb lc ld ju le mq lg lh li mr lk ll lm ms lo lp lq lr ij bi translated">“最早的汽车和部件都是单独制造的，这导致了许多安全和可维护性的噩梦。福特把汽车分解成零部件，并把装配过程模块化。结果不言而喻:更统一、更可靠、更安全的汽车在创纪录的时间内出厂。”布拉德·弗罗斯特</p></blockquote><p id="719c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以将相同的原则应用于前端开发(就像jQuery UI在21世纪初所做的那样)，也可以应用于Jetpack Compose和Swift UI等现代技术。</p></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><p id="683b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了简化原子设计的解释，有五个不同的层次来创建这个设计系统:</p><ol class=""><li id="aecb" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated">原子</li><li id="8845" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">分子</li><li id="ff82" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">有机体</li><li id="85b5" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">模板</li><li id="1be6" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">页</li></ol><p id="c46b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于原子设计系统的每个层次的定义的更详尽的讲座，你可以阅读布拉德·弗罗斯特的原子设计方法论的原著。</p><div class="no np gp gr nq nr"><a href="https://atomicdesign.bradfrost.com/chapter-2/" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">原子设计方法论|原子设计</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">我对设计界面设计系统的方法论的探索让我在其他领域寻找灵感…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">atomicdesign.bradfrost.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of kp nr"/></div></div></a></div><p id="b9df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了分解在移动开发中如何使用这些级别，下面是对每个级别的简要描述:</p><h1 id="187e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">原子</h1><p id="64b2" class="pw-post-body-paragraph kw kx iq ky b kz og jr lb lc oh ju le lf oi lh li lj oj ll lm ln ok lp lq lr ij bi translated">正如原子设计系统中所描述的，原子是最基本的组件。在移动开发中，它可能是最基本的Jetpack组合组件(<code class="fe ol om on oo b">Text</code>、<code class="fe ol om on oo b">TextField</code>、<code class="fe ol om on oo b">Button</code>等)。).</p><h1 id="1cc3" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">分子</h1><p id="0fdc" class="pw-post-body-paragraph kw kx iq ky b kz og jr lb lc oh ju le lf oi lh li lj oj ll lm ln ok lp lq lr ij bi translated">这是最常见的可重用类型的组件，它可以被描述为这个设计系统的主干。</p><p id="1256" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">举个例子，一个<code class="fe ol om on oo b">TextField</code>加一个<code class="fe ol om on oo b">Text</code>用作文本字段的标签，一个<code class="fe ol om on oo b">Button</code>将文本字段的值发送给另一个组件，这些可以被分组并排列成一个分子。这种成分(分子)可以在任何地方重复使用。它可能包含自己的风格，规格和一套测试，可以单独运送或在图书馆。</p><h1 id="92c2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">有机体(或部件)</h1><p id="19ae" class="pw-post-body-paragraph kw kx iq ky b kz og jr lb lc oh ju le lf oi lh li lj oj ll lm ln ok lp lq lr ij bi translated">有机体可以是可以重用的页面的一部分。举个例子，一个可以注入页面的联系人列表。我也更喜欢把这个层次称为“小部件”，而不是“有机体”，因为它封装了一堆分子和原子(其他组件)。它创造了一种widget(这是计算机科学中比有机体更常见的词)。这也可能包含它自己的风格，或者可以继承一个、规范和一组测试，并且可以单独发布或者在特定的库中发布。</p><h2 id="ffc7" class="op lt iq bd lu oq or dn ly os ot dp mc lf ou ov me lj ow ox mg ln oy oz mi pa bi translated">页</h2><p id="ffb4" class="pw-post-body-paragraph kw kx iq ky b kz og jr lb lc oh ju le lf oi lh li lj oj ll lm ln ok lp lq lr ij bi translated">它是不言自明的，也是UI中最复杂的部分。它是通过使用组件、原子、分子和部件(有机体)的其他层来构建的。在这个层次上，你可以有一个状态存储(例如，在你的视图模型中),它将保存每个组件的状态，或者你可以简单地使用在应用程序层次上保持状态的其他原则。</p><h2 id="07e9" class="op lt iq bd lu oq or dn ly os ot dp mc lf ou ov me lj ow ox mg ln oy oz mi pa bi translated">日常如何使用？</h2><p id="2933" class="pw-post-body-paragraph kw kx iq ky b kz og jr lb lc oh ju le lf oi lh li lj oj ll lm ln ok lp lq lr ij bi translated">嗯，方法很简单:在开始一个新的应用程序或创建一个新的片段之前，你应该花一点时间分析你想要创建的UI原型，并把原型/模型分割成小块(尽可能细化)。试着想想哪些片段看起来相似，做的事情也相似。然后，试着以一种最基本和最复杂的方式来适应每一个组件，然后你应该能够将你的组件映射到原子设计的每一层。</p><h1 id="dbf8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Jetpack合成和原子设计实践</h1><p id="f92b" class="pw-post-body-paragraph kw kx iq ky b kz og jr lb lc oh ju le lf oi lh li lj oj ll lm ln ok lp lq lr ij bi translated">现在，让我们更实际一点，看看原子设计如何适应现代Android开发。</p><p id="a893" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一个如何分解和分割用户界面片段并将其映射到原子设计级别的示例:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/38974cdeb91083b1c90683af38d5c78e.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*KBwB5omjhnr0GYcZninNJA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将屏幕分割成小块以映射原子设计组件的示例</p></figure><p id="8ce4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如已经提到的，构建块是原子，它们被用作最基本的Jetpack Compose组件。从我们在原型中使用的例子来看，一个原子可能就像<code class="fe ol om on oo b">Text</code>组件或<code class="fe ol om on oo b">Icon</code>组件一样简单。下面是最简单的原子的实际实现:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="81c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一个名为<code class="fe ol om on oo b">AtomText</code>的可组合组件被描述为可重用组件(就像Jetpack提供的开箱即用的组件一样)，它可以通过与另一个原子或分子组合来创建分子或小部件(有机体)。</p><p id="4831" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基本上，我们所做的是创建一个简单的文本，带有自定义的样式、规格、字体等。通过只传递文本，您可以在其他组件(composable)的任何地方使用这个atom组件，并且，如果您想从外部明确地更改规范，您可以选择传递一个<code class="fe ol om on oo b">Modifier</code>，它将通过覆盖默认的修饰符规范而生效。传递<code class="fe ol om on oo b">Modifier</code>这不在本文的讨论范围内，但是一般来说，总是从外部发送一个修饰符来拥有一个可定制的组件是一个很好的实践。</p><p id="1a9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个原子的例子是<code class="fe ol om on oo b">Buttons</code>、<code class="fe ol om on oo b">Icons</code>、<code class="fe ol om on oo b">Rows</code>、<code class="fe ol om on oo b">Columns</code>等，它们已经在Jetpack Compose库中现成可用。</p></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><p id="c989" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们已经创建了一个定制组件，那么让我们从组件(可重用性最高的组件类型)进入下一个层次。这些是之前切片的，我们可以通过使用<code class="fe ol om on oo b">AtomText</code>和Jetpack Compose库中的一些其他组件、<code class="fe ol om on oo b">OutlinedTextField</code> <strong class="ky ir">、</strong> <code class="fe ol om on oo b">Icon</code> <strong class="ky ir"> </strong>和<code class="fe ol om on oo b">Button</code>来创建一些分子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="e9ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创造一个分子有什么不同？嗯，分子是一组其他成分，与原子相比，分子可以有自己的状态。例如，一个分子可以具有为<code class="fe ol om on oo b">TextField</code>切换边框颜色的状态，或者存储一个值并稍后发送。</p><p id="c791" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在初始化时，我们使用相同的原理传递参数，如<code class="fe ol om on oo b">text</code>、<code class="fe ol om on oo b">modifier</code>、<code class="fe ol om on oo b">onClick</code>和<code class="fe ol om on oo b">onValueChanged</code>。最后两个是新的，但我们不打算在本文中详细介绍，因为它们是Jetpack Compose组件中组件之间的基本通信——但它更像是功能性讨论，我们现在试图通过使用原子设计原则来理解模块化原则。</p></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><p id="9861" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经创建了一些可重用的组件，让我们创建下一层组件，称为小部件(有机体):</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="1629" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ol om on oo b">WidgetEmailForm</code>是一个可以重用的独立组件/小部件。它也可以被更改为发出邮件已发送的消息，但它现在不在我们的范围内。可以在第一级定制(在列中)，但是如果需要更多级别的定制，可以将多个修饰符传递给该可组合对象。</p><p id="2bef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过重用相同的原子和分子来创建另一个小部件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><p id="acdf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个页面的例子看起来类似于这个小部件，但是它不能通过注入到另一个页面中而被重用，它只能在你的导航主机配置中作为一个完整的页面使用。一个例子可能是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure></div><div class="ab cl mt mu hu mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="ij ik il im in"><p id="9a51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是在Android项目中使用原子设计原则的基础，以及如何分解页面来创建简单或复杂(智能)的组件，以便重用、封装和单独测试。</p><p id="9c18" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个工作项目可以在这里找到:</p><div class="no np gp gr nq nr"><a href="https://github.com/adrianburcin/AtomicDesignAndroidCompose" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd ir gy z fp nw fr fs nx fu fw ip bi translated">GitHub—adrianburcin/AtomicDesignAndroidCompose</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">github.com</p></div></div><div class="oa l"><div class="pe l oc od oe oa of kp nr"/></div></div></a></div></div></div>    
</body>
</html>