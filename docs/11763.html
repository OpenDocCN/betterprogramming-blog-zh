<html>
<head>
<title>4 Awesome Browser APIs You Might Not Be Using Yet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4个你可能还没用过的很棒的浏览器API</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/4-awesome-browser-apis-you-might-not-be-using-yet-726d3e3237d2?source=collection_archive---------2-----------------------#2022-04-14">https://betterprogramming.pub/4-awesome-browser-apis-you-might-not-be-using-yet-726d3e3237d2?source=collection_archive---------2-----------------------#2022-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="17bd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">把它们放在手边。它们可以超级有用！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/a52af85fd556505a20095cddbcb7d5f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TzZqu7Jgw0L28Aws"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@castillcc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克里斯蒂安·卡斯蒂略</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="24c6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">浏览器API是包含在你的网络浏览器中的HTML的非常重要的特性。这些Web APIs比您想象的要强大得多。有一些伟大的API被低估了！</p><p id="3f67" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是每个有经验的web开发人员都应该很好掌握的话题，了解他们会带来很多好处。</p><p id="ff2d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然有一些非常著名的API，如<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API" rel="noopener ugc nofollow" target="_blank"> Web存储API </a>或<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" rel="noopener ugc nofollow" target="_blank"> Fetch API </a>，但也有一些被大大低估，在普通教程中很少提及！</p><p id="9bff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在就让我们来看看它们吧！</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="9392" class="lm ln it bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">1.电池API</h1><p id="6034" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated"><a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Battery_Status_API" rel="noopener ugc nofollow" target="_blank">电池状态API </a>，有时也称为<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Battery_Status_API" rel="noopener ugc nofollow" target="_blank">电池API </a>，提供关于计算机电池的信息。它显示电池的剩余容量和充电状态。它还可以估计电池完全充电或放电需要多长时间，具体取决于电池是在充电还是在放电。</p><p id="35d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Battery_Status_API" rel="noopener ugc nofollow" target="_blank">电池状态API </a>不是第三方应用。可以在<code class="fe mp mq mr ms b">navigator</code>中找到。导航器对象的内置<code class="fe mp mq mr ms b">window.navigator</code>属性有一个<code class="fe mp mq mr ms b">getBattery()</code>方法。</p><p id="917b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个API快速查询用户的电池状态，并在用户电池电量低时使用它来实现电池节省功能，如杀死一些更快耗尽电池的后台进程。</p><p id="8c98" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如:</p><pre class="kp kq kr ks gt mt ms mu mv aw mw bi"><span id="f8c0" class="mx ln it ms b gy my mz l na nb">navigator.getBattery().then((battery) =&gt; {<br/>    console.log(battery);<br/>});</span></pre><p id="bb77" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是上面代码的示例响应。</p><pre class="kp kq kr ks gt mt ms mu mv aw mw bi"><span id="b6b2" class="mx ln it ms b gy my mz l na nb">{<br/>    charging: false,<br/>    chargingTime: Infinity,<br/>    dischargingTime: 35040,<br/>    level: 0.53,<br/>    onchargingchange: null,<br/>    onchargingtimechange: null,<br/>    ondischargingtimechange: null,<br/>    onlevelchange: null<br/>}</span></pre><h1 id="02f6" class="lm ln it bd lo lp nc lr ls lt nd lv lw lx ne lz ma mb nf md me mf ng mh mi mj bi translated">2.IndexedDB API</h1><p id="342f" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">在HTML5规范中，<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API" rel="noopener ugc nofollow" target="_blank"> Web存储API </a>被弃用，由<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" rel="noopener ugc nofollow" target="_blank"> IndexedDB API </a>取而代之。(然而，网络存储仍然受到许多流行浏览器的支持，包括苹果的Safari和Opera。)索引、事务和复杂的查询功能只是IndexedDB优于Web存储的几个优点。</p><p id="b458" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">IndexedDB允许您在本地存储大量对象，并使用复杂的数据访问协议检索它们。</p><p id="8b34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每当我们需要在本地为用户存储数据时，我们可以使用<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" rel="noopener ugc nofollow" target="_blank"> IndexedDB API </a>，这对于本地存储来说太复杂了。</p><p id="6dbd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们甚至可以通过仅使用IndexDB在本地存储数据来创建完整的CRUD实现，这也是我们在为PWA存储复杂数据时可以使用的东西。</p><p id="40b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是我们访问IndexDB的方式:</p><pre class="kp kq kr ks gt mt ms mu mv aw mw bi"><span id="5a8f" class="mx ln it ms b gy my mz l na nb">let indexedDB = window.indexedDB;</span></pre><p id="8a56" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要了解更多关于这个API的信息，请<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" rel="noopener ugc nofollow" target="_blank">访问这里</a>。</p><h1 id="f6db" class="lm ln it bd lo lp nc lr ls lt nd lv lw lx ne lz ma mb nf md me mf ng mh mi mj bi translated">3.剪贴板API</h1><p id="4411" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">想知道流行网站如何通过点击按钮将文本复制到你的剪贴板吗？他们正在使用<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API" rel="noopener ugc nofollow" target="_blank">剪贴板API </a>。</p><p id="36cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API" rel="noopener ugc nofollow" target="_blank">剪贴板API </a>允许您异步读取和写入系统剪贴板，以及响应剪贴板操作(剪切、复制和粘贴)。</p><p id="6ac0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以使用这个API执行以下操作。</p><pre class="kp kq kr ks gt mt ms mu mv aw mw bi"><span id="ab2b" class="mx ln it ms b gy my mz l na nb">// Copy an array of ClipboardItem objects to the clipboard<br/>navigator.clipboard.write();</span><span id="2729" class="mx ln it ms b gy nh mz l na nb">// Writes a text string to the user's clipboard<br/>navigator.clipboard.writeText();</span><span id="9835" class="mx ln it ms b gy nh mz l na nb">// Read the clipboard as an array of ClipboardItem(s)<br/>navigator.clipboard.read();            // -&gt; returns a promise</span><span id="e1a0" class="mx ln it ms b gy nh mz l na nb">// Read the current clipboard content in text format<br/>navigator.clipboard.readText();       // -&gt; returns string</span></pre><h1 id="a029" class="lm ln it bd lo lp nc lr ls lt nd lv lw lx ne lz ma mb nf md me mf ng mh mi mj bi translated">4.页面可见性API</h1><p id="c091" class="pw-post-body-paragraph jq jr it js b jt mk jv jw jx ml jz ka kb mm kd ke kf mn kh ki kj mo kl km kn im bi translated">当使用浏览器标签浏览网页时，有可能无法同时访问部分(或全部)标签。<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API" rel="noopener ugc nofollow" target="_blank">页面可见性API </a>是一个浏览器API，允许您查看哪些浏览器选项卡是活动的，哪些是不活动的。</p><p id="ce9a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以使用<a class="ae le" href="https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API" rel="noopener ugc nofollow" target="_blank">页面可见性API </a>来检测用户何时离开或进入你的网页。我们可以使用它来运行某些操作，如当用户返回页面时更新一些数据，或者检测像测验应用程序这样的应用程序的页面。</p><p id="c791" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以使用一个特殊的事件侦听器来检测页面可见性状态的变化。</p><p id="4d76" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下面是一个使用页面可见性检测的示例:</p><pre class="kp kq kr ks gt mt ms mu mv aw mw bi"><span id="745b" class="mx ln it ms b gy my mz l na nb">const handlePageChange = () =&gt; {<br/>    document.hidden<br/>        ? console.log(`User left the page at ${new Date()}`)<br/>        : console.log(`User opened the page at ${new Date()}`)<br/>}</span><span id="844d" class="mx ln it ms b gy nh mz l na nb">document.addEventListener("visibilitychange", handlePageChange);</span></pre></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="f58a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其他非常酷的API你应该看看，如果你还没有的话，是地理位置API，网络动画API，<a class="ae le" href="https://javascript.plainenglish.io/fullscreen-api-a-complete-guide-9be8614cbd39?sk=15672020a56602ffeea6905cd3a05cd2" rel="noopener ugc nofollow" target="_blank">全屏API </a>，还有画布API。我们也可以用这些做很多事情。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><pre class="kp kq kr ks gt mt ms mu mv aw mw bi"><span id="551e" class="mx ln it ms b gy my mz l na nb"><strong class="ms iu">Want to Connect?</strong></span><span id="813a" class="mx ln it ms b gy nh mz l na nb">Connect with me on <a class="ae le" href="https://www.linkedin.com/in/gouravkajal/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>.</span></pre><p id="5ebf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读！</p></div></div>    
</body>
</html>