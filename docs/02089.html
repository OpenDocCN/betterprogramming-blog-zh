<html>
<head>
<title>How To Create Forms With UIAlertController</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用UIAlertController创建表单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-an-entry-form-with-uialertcontroller-e1ff3770804d?source=collection_archive---------7-----------------------#2019-11-05">https://betterprogramming.pub/how-to-create-an-entry-form-with-uialertcontroller-e1ff3770804d?source=collection_archive---------7-----------------------#2019-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="600e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">IOS编程指南</h2><div class=""/><div class=""><h2 id="fb06" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">有时候一个简单的提醒就足够了</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/f8b4988edc76d4becae9508d3e2c274b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIO86O3oi_b3JiLk3okppg.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">马克·明特尔在<a class="ae lh" href="https://unsplash.com/s/photos/computer-code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="c3df" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当设计一个移动应用程序时，我尽量保持用户界面的整洁。我敢肯定，不同的开发者对干净的用户界面有不同的看法。</p><p id="bc8c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我最近开发的一个应用程序是宾客名单管理。在其中一个视图中，我需要一种快速的方法将客人添加到列表中，但是我不想设计另一个页面。</p><p id="9189" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">带有简单表单的弹出窗口非常适合这项工作。解决方案是使用UIAlertViewController并将文本字段嵌入其中，而不是创建另一个视图。我们将稍微简化一下表单，为了简洁起见，只设计了<code class="fe me mf mg mh b">FirstName</code>、<code class="fe me mf mg mh b">LastName</code>和<code class="fe me mf mg mh b">Email</code>。这个简单的概念可以应用于更复杂的UI。这个简单表格的目的是为每个客人的输入收集和执行基本验证。</p><p id="5baf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要继续学习，您需要熟悉Swift并知道如何使用Xcode编辑器。我将使用Xcode版本11.2。既然你要和我在一起一段时间，那就让我们开心一下吧！</p><p id="5158" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">打开Xcode &gt;创建新的Xcode项目&gt;单视图应用程序。我将我的项目命名为<em class="mi">formwithuiialertviewcontroller</em>，但是您可以选择任何名称。点击下一步&gt;创建。现在你的屏幕应该看起来类似下面的截图。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mj"><img src="../Images/2f1ab9ab203cac755aa61272bda463d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CXg05UVZn3PmF-eUpqLXZQ.png"/></div></div></figure><p id="8518" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，让我们在视图中添加一个按钮。在Xcode中按Command + Shift + L，然后键入“uibutton”并将其拖动到视图上。</p><p id="d2a3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择按钮，然后前往检查器，将文本设定为“添加客人”，背景设定为绿色，文本颜色设定为白色。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mj"><img src="../Images/9ed0611173b8ea4cca0f5d88d4057fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C2sWvFyz-MNEd1puuWeqog.png"/></div></div></figure><p id="e0ef" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在右边添加另一个编辑器，打开右边的ViewController。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mk"><img src="../Images/7e45f1561518eaf372e38fc35921c63f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KXHhvBRMfJqoO7DTD4vqWg.png"/></div></div></figure><p id="aa94" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">点击按钮，按住命令，然后开始拖动，你应该会看到一个箭头指示。将它拖到文件底部最后一个花括号之前。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ml"><img src="../Images/a32b649c4314773e21fded6767be6f00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a9Y7hVCI6eRklfa6NqvapA.png"/></div></div></figure><p id="3174" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">应该显示一个弹出窗口。为<code class="fe me mf mg mh b">Name</code>键入“addGuest ”,其他一切保持不变。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mm"><img src="../Images/f615f6138ac88087c671dc6a26c79da7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2afF2b7f5gX8vR0PKF4kA.png"/></div></div></figure><p id="abc3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">单击连接。我们准备好开始编码了。您现在可以关闭一个编辑器，从现在开始我们只需要一个编辑器。你的<code class="fe me mf mg mh b">ViewController</code>文件应该是这样的。</p><pre class="ks kt ku kv gt mn mh mo mp aw mq bi"><span id="066d" class="mr ms it mh b gy mt mu l mv mw">//<br/>//  ViewController.swift<br/>//  FormWithUiAlertViewController<br/>//<br/>//  Created by Petey on 11/5/19.<br/>//  Copyright © 2019 YourAreAwesome. All rights reserved.<br/>//<br/><br/>import UIKit<br/><br/>class ViewController: UIViewController {<br/><br/>    override func viewDidLoad() {<br/>        super.viewDidLoad()<br/>        // Do any additional setup after loading the view.<br/>    }<br/><br/><br/>    @IBAction func addGuest(_ sender: Any) {<br/>        <br/>    }<br/>}</span></pre><p id="43e2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们需要创建三个文本字段变量来传递我们从表单中的文本字段获取的任何信息。我更喜欢创建一个新方法来添加逻辑，然后让我们的动作方法调用它。</p><p id="cf23" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们将这个方法命名为<code class="fe me mf mg mh b">displayForm</code> <strong class="lk jd"> <em class="mi">。</em> </strong>所以我们的<code class="fe me mf mg mh b">addGuest</code> <em class="mi">法</em>就叫我们的<code class="fe me mf mg mh b">displayForm</code> <em class="mi"> </em>法。Inside out显示方法，我们将创建警报，然后添加cancel和submit按钮，然后添加三个文本字段来捕获用户输入。</p><pre class="ks kt ku kv gt mn mh mo mp aw mq bi"><span id="ff8c" class="mr ms it mh b gy mt mu l mv mw">//<br/>//  ViewController.swift<br/>//  FormWithUiAlertViewController<br/>//<br/>//  Created by Petey on 11/5/19.<br/>//  Copyright © 2019 YourAreAwesome. All rights reserved.<br/>//<br/><br/>import UIKit<br/><br/>class ViewController: UIViewController {<br/><br/>    var firstName: UITextField!<br/>    var lastName: UITextField!<br/>    var email: UITextField!<br/>    <br/>    override func viewDidLoad() {<br/>        super.viewDidLoad()<br/>        // Do any additional setup after loading the view.<br/>    }<br/><br/><br/>    @IBAction func addGuest(_ sender: Any) {<br/>        displayForm(message: "Please enter guest information")<br/>    }<br/>    <br/>    func displayForm(message:String){<br/>        //create alert<br/>        let alert = UIAlertController(title: "", message: message, preferredStyle: .alert)<br/>        <br/>        //create cancel button<br/>        let cancelAction = UIAlertAction(title: "Cancel" , style: .cancel)<br/>        <br/>        //create save button<br/>        let saveAction = UIAlertAction(title: "Submit", style: .default) { (action) -&gt; Void in<br/>            <br/>           //validation logic goes here<br/>        }<br/>        <br/>        //add button to alert<br/>        alert.addAction(cancelAction)<br/>        alert.addAction(saveAction)<br/>        <br/>        //create first name textfield<br/>        alert.addTextField(configurationHandler: {(textField: UITextField!) in<br/>            textField.placeholder = "Type first name here..."<br/>            self.firstName = textField<br/>        })<br/>        <br/>        //create last name textfield<br/>        alert.addTextField(configurationHandler: {(textField: UITextField!) in<br/>            textField.placeholder = "Type last name here..."<br/>            self.lastName = textField<br/>        })<br/>        <br/>        //create email field<br/>        alert.addTextField(configurationHandler: {(textField: UITextField!) in<br/>            textField.placeholder = "Type email here..."<br/>            self.email = textField<br/>        })<br/>        <br/>        self.present(alert, animated: true, completion: nil)<br/>    }<br/>}</span></pre><p id="8bc6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你做的一切都正确，你应该能够构建(命令+ B)和运行(命令+ R)。结果应该与我的类似:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mx"><img src="../Images/bcf7588123e1317dbfeb058d58a51e02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y8fxoP3HvMP1nEUxXBnPwA.png"/></div></div></figure><p id="24e3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">试一试——是你建造了它。Cancel应该会关闭视图，而submit还不会做任何事情——我们一会儿会处理这个问题。</p><p id="2776" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了简单起见，我们只验证所有文本字段都有值。如果任何字段是空白的，有空格，或者是空的，我们将清除所有的字段，并传递一个无效的消息到同一个表单。这有点像递归。如果您愿意，您可以对验证进行各种想象，但是对于我们在这里尝试完成的任务来说，这已经足够好了。</p><pre class="ks kt ku kv gt mn mh mo mp aw mq bi"><span id="fabb" class="mr ms it mh b gy mt mu l mv mw">//<br/>//  ViewController.swift<br/>//  FormWithUiAlertViewController<br/>//<br/>//  Created by Petey on 11/5/19.<br/>//  Copyright © 2019 YourAreAwesome. All rights reserved.<br/>//<br/><br/>import UIKit<br/><br/>class ViewController: UIViewController {<br/><br/>    var firstName: UITextField!<br/>    var lastName: UITextField!<br/>    var email: UITextField!<br/>    <br/>    override func viewDidLoad() {<br/>        super.viewDidLoad()<br/>        // Do any additional setup after loading the view.<br/>    }<br/><br/><br/>    @IBAction func addGuest(_ sender: Any) {<br/>        displayForm(message: "Please enter guest information")<br/>    }<br/>    <br/>    func displayForm(message:String){<br/>        //create alert<br/>        let alert = UIAlertController(title: "", message: message, preferredStyle: .alert)<br/>        <br/>        //create cancel button<br/>        let cancelAction = UIAlertAction(title: "Cancel" , style: .cancel)<br/>        <br/>        //create save button<br/>        let saveAction = UIAlertAction(title: "Submit", style: .default) { (action) -&gt; Void in<br/>           //validation logic goes here<br/>            if((self.firstName.text?.trimmingCharacters(in: .whitespacesAndNewlines).isEmpty)!<br/>                || (self.lastName.text?.trimmingCharacters(in: .whitespacesAndNewlines).isEmpty)!<br/>                || (self.email.text?.trimmingCharacters(in: .whitespacesAndNewlines).isEmpty)! ){<br/>                //if this code is run, that mean at least of the fields doesn't have value<br/>                self.firstName.text = ""<br/>                self.lastName.text = ""<br/>                self.email.text = ""<br/>                <br/>                self.displayForm(message: "One of the values entered was invalid. Please enter guest information")<br/>            }<br/>            <br/>            print("This entry was added for guest name: \(String(describing: self.firstName.text)) \(String(describing: self.lastName.text)), email : \(String(describing: self.email.text))")<br/>        }<br/>        <br/>        //add button to alert<br/>        alert.addAction(cancelAction)<br/>        alert.addAction(saveAction)<br/>        <br/>        //create first name textfield<br/>        alert.addTextField(configurationHandler: {(textField: UITextField!) in<br/>            textField.placeholder = "Type first name here..."<br/>            self.firstName = textField<br/>        })<br/>        <br/>        //create last name textfield<br/>        alert.addTextField(configurationHandler: {(textField: UITextField!) in<br/>            textField.placeholder = "Type last name here..."<br/>            self.lastName = textField<br/>        })<br/>        <br/>        //create email field<br/>        alert.addTextField(configurationHandler: {(textField: UITextField!) in<br/>            textField.placeholder = "Type email here..."<br/>            self.email = textField<br/>        })<br/>        <br/>        self.present(alert, animated: true, completion: nil)<br/>    }<br/>}</span></pre><p id="d83c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">构建并再次运行。如果一切正常，当输入的任何值无效时，您应该能够看到验证错误。</p><p id="7a52" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在你有了一个创建简单表单的新方法，去创造吧！</p><p id="5071" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">谢谢你坚持到最后，记得继续学习。只会变得更好。</p></div></div>    
</body>
</html>