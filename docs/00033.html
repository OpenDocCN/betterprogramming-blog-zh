<html>
<head>
<title>How to Generate PDF Invoices With JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript生成PDF发票</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/generate-pdf-invoices-with-javascript-c8dbbfb56361?source=collection_archive---------3-----------------------#2017-06-15">https://betterprogramming.pub/generate-pdf-invoices-with-javascript-c8dbbfb56361?source=collection_archive---------3-----------------------#2017-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="767d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">只用几行代码创建一个PDF</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/5ce3f8832f22d09b9631b0eca5f0c202.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*5ENMC5GVhS7XJ1Pczhjz6w.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者照片。</p></figure><p id="8e0f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">假设你写了一个购物车。购物车已经快完成了，但是还缺少一样东西:寄出购物发票！大多数情况下，发票以<a class="ae lq" href="https://en.wikipedia.org/wiki/Portable_Document_Format" rel="noopener ugc nofollow" target="_blank">可移植文档格式(PDF) </a>发出。</p><p id="c5b4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为什么是PDF？这里有一个相当简单的答案:PDF易于使用，几乎任何设备都可以阅读这种格式的文档。</p><p id="c352" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们开始吧！</p><p id="3dee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">假设您非常了解JavaScript的基础知识，让我们从制作我们的小项目目录开始。打开您的终端，写下以下命令:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="3291" class="lw lx it ls b gy ly lz l ma mb">$ mkdir js-to-pdf &amp;&amp; cd js-to-pdf</span></pre><p id="25fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不言自明。我们创建项目并导航到项目文件夹。</p><p id="a773" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，让我们制作<code class="fe mc md me ls b">index.html </code>文件:</p><pre class="kj kk kl km gt lr ls lt lu aw lv bi"><span id="928b" class="lw lx it ls b gy ly lz l ma mb">$ touch index.html</span></pre><p id="be86" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<code class="fe mc md me ls b"><a class="ae lq" href="https://cdnjs.com/libraries/jspdf" rel="noopener ugc nofollow" target="_blank">jsPDF</a></code> <a class="ae lq" href="https://cdnjs.com/libraries/jspdf" rel="noopener ugc nofollow" target="_blank">包</a>的帮助下，我们可以从客户端生成pdf。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mf"><img src="../Images/dadeeb1414694addc8c8eb324d638a08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kc_7GXt8L6uRjEBKwE78QA.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">这是我们目前拥有的。</p></figure><p id="a85e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="mk">注意:在现实场景中，我们会使用</em> <code class="fe mc md me ls b"><em class="mk">NPM</em></code> <em class="mk">来安装我们的依赖项。这是一堂关于jsPDF库的课。</em></p><p id="9435" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好了，我们写点代码吧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ml"><img src="../Images/b257ba90d65a83f23b63572268853758.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mcO7flb32bcogprcHxmCxg.png"/></div></div></figure><p id="4176" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们添加了一个<code class="fe mc md me ls b">&lt;button&gt;&lt;/button&gt;</code>，这样我们就有了一个“get receipt”按钮。</p><ol class=""><li id="2207" class="mm mn it kw b kx ky la lb ld mo lh mp ll mq lp mr ms mt mu bi translated">我们把图书馆扩建了，这样我们就可以使用和参考它。</li><li id="8e8c" class="mm mn it kw b kx mv la mw ld mx lh my ll mz lp mr ms mt mu bi translated">然后我们选择<code class="fe mc md me ls b">button</code>。</li><li id="f4db" class="mm mn it kw b kx mv la mw ld mx lh my ll mz lp mr ms mt mu bi translated">接下来，我们为<code class="fe mc md me ls b">button</code>添加<code class="fe mc md me ls b">'click'</code>事件监听器，并传递<code class="fe mc md me ls b">printPDF</code>回调。之所以是<code class="fe mc md me ls b">printPDF</code>而不是<code class="fe mc md me ls b">printPDF()</code>是因为我们不想在页面加载时立即触发回调。我们想在有人点击按钮时触发<code class="fe mc md me ls b">printPDF</code>功能！</li><li id="231c" class="mm mn it kw b kx mv la mw ld mx lh my ll mz lp mr ms mt mu bi translated">最后，我们添加了一个名为<code class="fe mc md me ls b">printPDF</code>的函数。这是真正的PDF选项所在。</li><li id="a376" class="mm mn it kw b kx mv la mw ld mx lh my ll mz lp mr ms mt mu bi translated">哦，把这些样式添加到<code class="fe mc md me ls b">&lt;head&gt;</code>:</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="b049" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们用自己喜欢的浏览器打开我们的<code class="fe mc md me ls b">index.html</code>。是的，所有人！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi nc"><img src="../Images/a472d13bc9a47b69f48ac964581ed7a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JG2I5GnXJVvzd6nDAoaNEQ.gif"/></div></div></figure></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="ee0e" class="nk lx it bd nl nm nn no np nq nr ns nt jz nu ka nv kc nw kd nx kf ny kg nz oa bi translated">JS转PDF时间！</h1><p id="9230" class="pw-post-body-paragraph ku kv it kw b kx ob ju kz la oc jx lc ld od lf lg lh oe lj lk ll of ln lo lp im bi translated">那么这是如何工作的呢？嗯，原来很简单！</p><p id="4831" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们用我们心爱的<code class="fe mc md me ls b">printPDF</code>函数，在里面包装一些简单的额外函数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi og"><img src="../Images/ecf907d8e8f28e68944cf0686a170ab9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9xlZ9T6crftPj-xWFVyz6w.png"/></div></div></figure><p id="267d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了节省空间，我添加了解释说明。</p><p id="0b18" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好，我们来测试一下！点击我们的按钮！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/a6c5d57a5dcbfe508b975ccf3f24349c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/1*cH3kF6ZLpdIEZ4iTXwyPXg.gif"/></div></figure><p id="c6e5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">哇，就这么简单！没什么好害怕的。我们有了第一份PDF文件。</p><p id="1369" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">目前，我们的PDF是非常静态的。它没有互动性，而且永远都是一样的。来加点互动性吧！</p><ol class=""><li id="beb3" class="mm mn it kw b kx ky la lb ld mo lh mp ll mq lp mr ms mt mu bi translated">在我们可以放置值的地方添加<code class="fe mc md me ls b">input</code>。</li><li id="24e5" class="mm mn it kw b kx mv la mw ld mx lh my ll mz lp mr ms mt mu bi translated">用Javascript选择<code class="fe mc md me ls b">input</code>。</li><li id="5774" class="mm mn it kw b kx mv la mw ld mx lh my ll mz lp mr ms mt mu bi translated">吐出<code class="fe mc md me ls b">text()</code>方法里面的<code class="fe mc md me ls b">input</code>值。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi oi"><img src="../Images/ef812479a85a8b6f76d57f79d9a9e3d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jVe9YXi2IgJvFoSfqQguww.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi oj"><img src="../Images/7d64dc07c57973ce1c1b4cd6fde64ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bIB7l151JGxf3jnoVYRpJw.png"/></div></div></figure><p id="29a4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好，我们来测试一下！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/191770aab84eb88b85dfa96a6e42c802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/1*7uJsTdcPqBvtWf0KAC2n9g.gif"/></div></figure><p id="5f4c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有用！酷！如果你想了解更多关于格式化pdf的信息，请前往<a class="ae lq" href="http://rawgit.com/MrRio/jsPDF/master/docs/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="f021" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你想让你的JavaScript能力更上一层楼，我推荐阅读你不知道的JS  系列丛书<a class="ae lq" href="https://amzn.to/2LSDpG6?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> <em class="mk">。</em></a></p><p id="7c74" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一如既往，感谢您的宝贵时间。保持牛逼！</p><p id="c49e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lq" href="https://github.com/wesharehoodies/js-to-pdf" rel="noopener ugc nofollow" target="_blank">源代码</a>在GitHub上有。</p></div></div>    
</body>
</html>