# 简化云迁移的 3 个最佳实践

> 原文：<https://betterprogramming.pub/3-best-practices-to-make-cloud-migration-easier-c0729ba0b21a>

## 因此您的团队可以更快地迁移

![](img/6b8c5076ead40744b898ee48c444faa9.png)

克里斯·布里格斯在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

云迁移。这个术语在大多数企业对话中至少出现过一次。虽然该术语代表从内部基础架构迁移到云基础架构的实践，但“云迁移”的含义已经发生了变化。

云迁移不再像从本地服务器迁移到 AWS EC2 那样简单。这可能包括转移到托管数据库或 API 网关，或者你可能需要 AWS 来处理一些工作负载，Azure 来处理其他工作负载。也许您是一家金融或公共部门组织，您需要一个私有云。或者您可能需要满足特殊的监管要求。

在本文中，我们将探讨三种让您的企业更轻松地进行云迁移的最佳实践:

1.  提炼你的文化。
2.  进行明智的变革。
3.  观察和监控。

通过将这些指导原则应用到您组织的云迁移工作中，您将避免将云迁移工作变成无目的且低效的苦差事。相反，你会有组织意识和工具来自信地处理这项工作。

然而，在我们深入探讨最佳实践之前，让我们先来了解一下在云迁移过程中通常使用的不同方法。

# 云迁移方法:5 R

尽管有云迁移的指导原则，但没有放之四海而皆准的方法。当今的云环境因选项的多样性、行业差异和业务需求而变得复杂。传统上，企业需要采取以下五个 R 之一的方法:

1.  主机更换:这是您传统的提升和转移方法。例如，您让应用程序在本地虚拟机中运行，并将您的应用程序重新部署到在云中运行的虚拟机。
2.  重构:除了有一个中点步骤来进行调整(提升、调整和移位)之外，这类似于重新主体。
3.  修订:这是 rehost 和 refactor 的结合。修订方法通常包括重大的应用程序更改，以利用目标云的功能。
4.  重建:这比修订方法更进一步，在某些情况下，完全重建应用程序以利用目标云的功能。
5.  替换:使用这种方法，一个组织封锁并删除一部分由内部维护的功能，用第三方选项替换它。

现在，让我们把这些放在一个现代的云旋转上:

1.  重新托管:您有在虚拟机中本地运行的应用程序，您将这些应用程序重新部署到在多个云中运行的虚拟机。
2.  重构:中点步骤对每个目标云进行调整。
3.  修订:您包括重要的应用程序更改，以利用每个目标云的功能。
4.  重建:您完全重建应用程序，以利用多个目标云功能。
5.  替换:您用潜在的多个第三方选项替换部分功能。

谈到多种云，专门的使用案例或行业法规会迅速增加云迁移的复杂性。即使在这种复杂性中，组织也可以遵循三个关键的最佳实践来平滑和简化云迁移工作。

# 1.提炼你的文化

也许最困难但最有益的最佳实践之一是文化提炼。您可能对谁负责您的技术资产的哪些部分有一个粗略的想法，这是一个好的开始。然而，在尝试云迁移之前，更多的了解是必要的。

# 确定责任

一个好的技术是对给定的组件或领域使用 [RACI 矩阵](https://en.wikipedia.org/wiki/Responsibility_assignment_matrix)。这将清楚地显示谁对迁移期间将发生的所有变更负责、负责、咨询和了解。云发展很快，您的团队需要更快地发展。知道每件作品该找谁是关键。

# 跟踪指标

文化提炼的另一部分不仅仅是识别关键的度量标准，还要把这些度量标准写下来！许多人对采用这种方法犹豫不决，因为它常常暴露出运营效率低下的问题。记住:没有衡量，就无法提高。

这种做法应该在各级采用。从应用团队的角度来看，有关网络和存储延迟的指标可能很重要。然而，对于管理级别和更高的级别，显示高级团队度量的复合服务级别目标(SLO)可能更重要。

对 SLO 的组成要清晰简洁，如果可能的话，在尽可能多的团队中标准化 SLO 的生成。虽然您可能有服务水平协议(SLA)来强制执行合同保证，但是 SLO 可以帮助您的整个组织了解应用程序性能和可靠性如何影响您的客户和整体业务。

请记住，SLO 支持 SLA，SLA 支持您的客户。

# 高效回答业务问题

发扬编码度量的思想，降低可观察性和监控的门槛是很重要的。如果一名团队成员需要复制并粘贴 PromQL 查询来回答一个影响业务的问题，您可以将此视为一个改进的机会。

这可能是一个广泛而复杂的话题，但最终还是要尽可能快速准确地回答业务问题。通常，这是通过将您的数据存储与灵活的可视化系统相结合来实现的，该系统是开放的，可用于所有级别。

# 2.参与明智的变革

变革管理经常给人一种令人窒息的董事会的印象，他们唯一的工作就是在进展中戳漏洞，说不。幸运的是，这不是“明智的变革”的含义

智能变革是一种云迁移方法，它使用技术控制而不是流程控制。换句话说，保护应该通过自动化流程来实施，如端到端测试、持续集成和通过分布式跟踪的可证明性。

技术关卡无法覆盖的部分(或者需要大量工作的部分)应该在迁移列表中移到较低的位置。

为更小或更简单的工作负载创建技术门槛的过程通常为更复杂的部分遵循相同的过程铺平了道路。反复检查每个部分，直到达到足够的正确性和功能性，然后清洗并重复。

# 3.观察和监控

观察和监控对于验证您的云迁移工作是否成功至关重要。在努力开始之前，如果系统和应用程序还不可见，那么让它们可见是很重要的。可观察性和监控不是一回事。监控在某种意义上就是观察可观察性。

例如，您可以根据是否可以连接到数据库来监视数据库是启动还是关闭，但是当您可以看到利用率度量、查询次数和活动连接数时，数据库就是可观察的。

第二，使系统和应用程序可监控(如果它们还不可监控的话)。这就是你如何根据可观察性做出明智的决定。自问的问题示例包括:

*   我可以根据监控数据发送警报吗？
*   我的基础架构能否基于监控进行自我修复？
*   关于一个系统/应用我回答 X 需要多长时间？

本质上，可监控性是云迁移过程中决策的核心。没有它，就很难取得成功。

最后，最重要的是要有一个单一的窗口，通过它您可以追溯每个更改、部署，最好是对环境没有影响。在云迁移过程中，能够专注于问题的可能罪魁祸首是至关重要的。

# 包扎

在现实中，有许多最佳实践，可能足以写几本关于如何迁移到云的深度书籍。这三个实践为您提供了如何成功迁移的“谁”、“什么”和“为什么”。现在困难的部分是，你应该使用什么工具？

总是有自己的选择，但如果你正在考虑云迁移(特别是在大型科技园区)，选择自主开发会让事情变得更加困难。

对于云迁移，我们几乎总是建议选择一家成熟的供应商，这种供应商有很多。一个特别好的选择是 [Lightstep](https://lightstep.com/) 。Lightstep 正在为云原生企业构建 SRE 工具，包括可观察性、监控和事件响应。他们平台的一个关键用例是[云迁移](https://lightstep.com/cloud-migration)！