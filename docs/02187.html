<html>
<head>
<title>How To Use the HTML Canvas Element to Make Awesome Stuff (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用HTML Canvas元素制作令人惊叹的东西(第1部分)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-the-html-canvas-element-to-make-awesome-stuff-3e1b66d4080e?source=collection_archive---------11-----------------------#2019-11-12">https://betterprogramming.pub/how-to-use-the-html-canvas-element-to-make-awesome-stuff-3e1b66d4080e?source=collection_archive---------11-----------------------#2019-11-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dca4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建你的画布并在上面画画</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a27891d70cd9474701c5f3e2c902ae3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FsM0vXJcHJJwRzmspnLOUA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@rtp_atw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Ratapan Anantawat </a>在<a class="ae ky" href="https://unsplash.com/s/photos/canvas?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="dd1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个教程将会很长，所以我会把它分成两部分来组织。第一部分将着重于创建你的画布并在上面绘图。第二部分将深入如何动画画布。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0861" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">第一部分。创建您的画布并在画布上绘画</h1><p id="6c40" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">本周是Flatiron School的项目周，在我当前的模块中，我们的重点是JavaScript，特别是如何对Rails后端进行API获取和操作DOM。</p><p id="e785" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在试图弄清楚我想为我的项目做些什么的过程中，我发现自己在探索如何利用HTML5 <code class="fe mz na nb nc b">Canvas</code>元素来制作一个有趣的游戏。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e0e5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">什么是画布？</h1><p id="6e7f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><code class="fe mz na nb nc b">Canvas</code>是一个HTML元素，当它被注入到你的HTML主体中时，用来在你的网页上绘制图形。</p><p id="9f0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">canvas</code>标签只是一个容器，用来保存你想在其中创建或操作的图形。为了完整地构建你的图形，你需要使用Javascript。</p><p id="abce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我创建了一个项目文件夹，并在其中添加了一个名为<code class="fe mz na nb nc b">index.html</code>的文件。在这个<code class="fe mz na nb nc b">index.html</code>中，我已经插入了画布元素。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/293ce0f050172a0eb631f82238fb57f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/0*sTSrqTCjQAgdo0q7"/></div></figure><p id="d223" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标签<code class="fe mz na nb nc b">canvas</code> <em class="ne"> </em>在你的HTML页面上是一个空白区域。你还看不到任何东西，但它就在那里。如果您在浏览器中打开<code class="fe mz na nb nc b">index.html</code>并打开inspector窗口，您会看到页面上有一个画布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/0dcefa202846cf347681e469d2fd29f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*2HDS1fifHAsENL6i3FuvpA.png"/></div></figure><p id="06f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">直到你给你的<code class="fe mz na nb nc b">canvas</code>元素添加细节，比如<code class="fe mz na nb nc b">width</code>和<code class="fe mz na nb nc b">height</code>，你才会开始看到你的创作变得栩栩如生。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/a8c81125e9668bbabc5838a894d916f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/0*ptjDrx_vJ27WulNd"/></div></figure><p id="221f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我在<code class="fe mz na nb nc b">canvas</code> <em class="ne"> </em>标签上加了一个<code class="fe mz na nb nc b">id</code>叫做<code class="fe mz na nb nc b">tester-canvas</code>，一个800的<code class="fe mz na nb nc b">width</code>和一个600的<code class="fe mz na nb nc b">height</code>。</p><p id="610c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">height</code>和<code class="fe mz na nb nc b">width</code>设置我的画布的大小，<code class="fe mz na nb nc b">id</code>将允许我选择特定的画布，以便我可以在<code class="fe mz na nb nc b">index.html</code> <em class="ne">的头部添加一个<code class="fe mz na nb nc b">style</code> <em class="ne"> </em>标签。</em></p><p id="af10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将允许我编辑和添加属性，如边界厚度，颜色等画布。我加了一个<code class="fe mz na nb nc b">1px solid black border</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/b1fdec212b921279dd2887f873dee34d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7xDzRD5-uPMQZ1WM"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">瞧啊。我可以在页面上看到我的画布！</p></figure><p id="f749" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，我想确保我的画布占据了整个窗口页面，因为我希望我的设计适合整个屏幕。然而，这取决于你想要你的画布的大小。</p><p id="4436" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为我想确保我的画布适合整个浏览器窗口，而不仅仅是我目前拥有的小矩形，所以我将使用JavaScript来实现这一点。原因是我可以访问窗口对象。</p><p id="2046" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我创建了一个<code class="fe mz na nb nc b">test_canvas.js</code>文件，它与我的<code class="fe mz na nb nc b">index.html</code>在同一个目录下，以便于组织。</p><p id="936f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在以我的<code class="fe mz na nb nc b">test-canvas.js</code>文件为源的<em class="ne"> </em> <code class="fe mz na nb nc b">index.html</code>文件的主体中添加了一个<code class="fe mz na nb nc b">script</code> <em class="ne"> </em>标签。这样，我在JavaScript文件中使用的任何函数或方法都可以访问我的<code class="fe mz na nb nc b">index.html</code>文件中的内容，并且可以在浏览器中看到。</p><p id="a544" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经删除了画布的<code class="fe mz na nb nc b">width</code>和<code class="fe mz na nb nc b">height</code>，它们之前在<code class="fe mz na nb nc b">canvas</code> <em class="ne"> </em>标签中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/b808264c63b792bc4f647165d0223945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/0*y7IF3MXZ0BjfUHp7"/></div></figure><p id="f87b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的<em class="ne"> </em> <code class="fe mz na nb nc b">test_canvas.js</code>文件里面，我需要先找到我的<em class="ne"> </em> <code class="fe mz na nb nc b">canvas</code> <em class="ne"> </em>元素。当我将canvas元素添加到HTML中时，我给了它一个<code class="fe mz na nb nc b">id</code>。这样，我可以使用<code class="fe mz na nb nc b">document.querySelector()</code> <em class="ne"> </em>或<em class="ne"> </em> <code class="fe mz na nb nc b">getElementByID()</code>来获取特定的元素并将其保存到变量中。</p><p id="9178" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您打算在HTML文件中有多个画布，并希望这些画布有不同的样式选项，这将很有帮助。</p><p id="a747" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还将在一个名为<code class="fe mz na nb nc b">canvasSize</code>的函数中将我的画布'<code class="fe mz na nb nc b">width</code>和<code class="fe mz na nb nc b">height</code>设置为<code class="fe mz na nb nc b">window object</code> <em class="ne"> ' </em> s <em class="ne"> </em> <code class="fe mz na nb nc b">width</code>和<code class="fe mz na nb nc b">height</code> <em class="ne"> </em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/674dd329965a59a623abeffa302b8510.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*NTIFTZEZJ8XuCapzkjN-_g.png"/></div></figure><p id="b375" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还将HTML的正文边距设置为0。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/54b0cff4d87774b23be5e8d83629f8b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/0*V1G6ajUNd5s2Rqy4"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/b56e379f5b4a58409ec8ae7339a05810.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3-KmZcr8CcueEKns4_3VuQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">现在我的画布在整个屏幕上</p></figure><p id="4641" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是你如何创建一个画布以及调整画布大小的方法。</p><p id="1357" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，虽然这很棒，但最重要的是用我们的画布做东西，要做到这一点，我们必须在上面画画。这是有趣的事情开始了！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7eb6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">如何在你的画布上画画</h1><p id="9101" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为了开始在画布上绘图，我们将使用<code class="fe mz na nb nc b"><strong class="lb iu"><em class="ne">.</em></strong>getContext()</code>方法。<code class="fe mz na nb nc b">.getContext()</code> <em class="ne"> </em>方法将允许您以各种不同的方式在画布上绘图，并为您提供各种功能和方法来绘制圆形、正方形和其他形状。</p><p id="5453" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看MDN 上的<code class="fe mz na nb nc b">.getContext()</code> <a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext" rel="noopener ugc nofollow" target="_blank">的文档，看看可以使用哪些上下文类型。为了简单起见，我将使用<code class="fe mz na nb nc b">2d</code> <em class="ne"> </em>上下文类型<em class="ne">。</em>我可以使用的一个方法是因为<code class="fe mz na nb nc b">.getContext()</code> <em class="ne"> </em>是<strong class="lb iu"> <em class="ne"> </em> </strong> <code class="fe mz na nb nc b"><strong class="lb iu"><em class="ne">.</em></strong><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillRect" rel="noopener ugc nofollow" target="_blank">fillRect()</a></code>，它需要四个参数:</a></p><ul class=""><li id="439d" class="nl nm it lb b lc ld lf lg li nn lm no lq np lu nq nr ns nt bi translated"><code class="fe mz na nb nc b">x</code>:矩形起点的x轴坐标。</li><li id="53c5" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated"><code class="fe mz na nb nc b">y</code>:矩形起点的y轴坐标。</li><li id="13e3" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated"><code class="fe mz na nb nc b">width</code>:矩形的宽度。正值在右边，负值在左边。</li><li id="1e4f" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated"><code class="fe mz na nb nc b">height</code>:矩形的高度。正值向下，负值向上。</li></ul><p id="3941" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">.fillRect()</code>会如其名。它将填充我们的矩形，这样我们就可以在浏览器上看到它。我将创建一个名为<code class="fe mz na nb nc b">canvasContext</code>的变量，并用<code class="fe mz na nb nc b">.getContext()</code>和一个参数<code class="fe mz na nb nc b">2d</code>将它赋给我们的画布变量。</p><p id="2b6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，在<code class="fe mz na nb nc b">canvasContext</code>变量上，我会使用<code class="fe mz na nb nc b">.fillRect()</code> <em class="ne"> </em>方法。这将产生两个矩形。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/d8cfa1ae304b30cc30db523973abc6cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*FJx9JjRJdDsGVgsEO8AMwA.png"/></div></figure><p id="534d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能会问自己:“好，太好了。我有这个造型，但是怎么定制呢？”</p><p id="5db3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以这样做的一个方法是通过<code class="fe mz na nb nc b">.<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle" rel="noopener ugc nofollow" target="_blank">fillStyle</a></code>属性。属性将为你的形状分配一种纯色、渐变或图案。我鼓励你尝试改变颜色。</p><p id="7ab9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:你制作的形状将采用它前面的<code class="fe mz na nb nc b">.fillStyle</code>属性。所以每次<code class="fe mz na nb nc b">.fillRect()</code>方法前我都有。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/ba1fc2db046d3051906ab8549ddb230c.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*UO-09uB7c3k1KEP_Twel6g.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/eb9fd979d1e6fd14e064d43ae5ea13f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G-zgmy9PqHoyyODKVPub6w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这是我们添加fillStyle后的形状。</p></figure><p id="7421" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了让我们的图形绘制更加动态，我给自己创建的函数<code class="fe mz na nb nc b">drawRect</code>添加了参数。</p><p id="8142" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">drawRect</code>有两个参数，<code class="fe mz na nb nc b">x</code>和<code class="fe mz na nb nc b">y</code>，它们允许我在调用函数时为<code class="fe mz na nb nc b">.fillRect()</code>方法添加自己的坐标。</p><p id="ca1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这很棒，因为它允许我只调用函数本身，而不是每次我们需要创建一个新的矩形时重写代码。您可以向该函数添加第三个参数，让您添加一种颜色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/1f0b24b3719f92c122de735428d8c9cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*huQHbmvjWSLqc7WfWZWi2g.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/3dec0a2b04e557a1690ced93866bdb4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*75XJIHrG8YO0DhKbIL-YEA.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f52e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="8826" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在第二部分，我将在我们的设计中插入圆形。我将使用一个JavaScript <code class="fe mz na nb nc b">for-loop</code> <em class="ne"> </em>来实现这个<em class="ne">。</em></p><p id="eb05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不熟悉如何使用<code class="fe mz na nb nc b">for-loop</code>，请查看MDN 上的文档<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#for_statement" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="ac41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将向你展示如何用animate方法制作这些圆形的动画，除了我们现在有的矩形和正方形。</p></div></div>    
</body>
</html>