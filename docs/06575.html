<html>
<head>
<title>Match Your iOS Shadow Spread and Blur to Match Sketch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">匹配您的iOS阴影蔓延和模糊，以匹配素描</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-match-shadow-and-blur-to-the-sketch-application-d4ed20dfa816?source=collection_archive---------8-----------------------#2020-10-14">https://betterprogramming.pub/how-to-match-shadow-and-blur-to-the-sketch-application-d4ed20dfa816?source=collection_archive---------8-----------------------#2020-10-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="98dd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在您的设计上实现像素完美</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/786f1f230d3169a46fd550879bb55933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wKRaXst8aF-_IGlW"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@marra_xo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马拉</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="f28a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近，我用Sketch应用程序设计了我项目的一个屏幕。我已经给带有<code class="fe ls lt lu lv b">blur</code>和<code class="fe ls lt lu lv b">spread</code>的元素赋予了一个阴影属性。</p><p id="2b6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但当我试图在iOS应用程序中复制相同的阴影效果时，它并不完全有效。那是因为<code class="fe ls lt lu lv b">spread</code>属性不存在于<code class="fe ls lt lu lv b">CoreAnimation</code>框架的<code class="fe ls lt lu lv b">CALayer</code>类中。另外，<code class="fe ls lt lu lv b">blur</code>和<code class="fe ls lt lu lv b">shadowRadius</code>不会产生和素描app一样的效果。</p><p id="50bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是在Sketch和iOS应用程序中将阴影偏移设置为(10，10)，模糊半径设置为10，扩散值设置为3的结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/bc848e3bca98343665919fd11af6de23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZY_vc9oCOqi12IJlHOQqng.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">模糊阴影在素描中的应用。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/cda81742c574be4f01bd93946b4b0838.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*j3ZexdlcmQRMqX2ethhk3Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">iOS应用程序中的模糊阴影。</p></figure><p id="dc3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如你所见，Sketch应用程序和iOS应用程序的输出有明显的视觉差异。我使用下面的代码片段在使用Swift的iOS应用程序中生成阴影:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ly lz l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在iOS应用程序中实现阴影的代码片段。</p></figure><p id="f83d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在做了一些研究后，我发现用阴影半径的iOS屏幕比例因子除以草图应用程序模糊值是可行的。基于此，我修改了我的代码如下(注意:在草图中模糊值设置为3):</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ly lz l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/ca3cbf886ae3f6608c45eb92e2633b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jOH5GOlxAvWBFzIIh7fsQQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">模糊阴影在素描中的应用。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/1edfc671808516c2ca344cdbeccb38c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*IhR0HOUfcOP7e2uvPDgw3Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">iOS应用程序中的模糊阴影。</p></figure><p id="93ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们在<code class="fe ls lt lu lv b">CALayer</code>上创建一个新的扩展，将所有六个草图阴影属性合并到一个UIView层，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ma"><img src="../Images/9fffa16d1351753e6f9648894a4a7594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UypN8wEm0Z8fDlcbAQcsYg.png"/></div></div></figure><p id="76a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，通过使用上面的扩展，您可以轻松地获得与草图应用程序相同的结果:</p><pre class="kg kh ki kj gt mb lv mc md aw me bi"><span id="c1b7" class="mf mg iq lv b gy mh mi l mj mk">shadowView.layer.applySketchShadow(x: 10, y: 10, blur: 3, spread: 3)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/ca3cbf886ae3f6608c45eb92e2633b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jOH5GOlxAvWBFzIIh7fsQQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">模糊阴影在素描中的应用。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/c482e09a408efff8b3fad6d92102407d.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*TnRHFs2wjYlu-YmT40MM9Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">iOS应用程序中的模糊阴影。</p></figure><h2 id="9a6d" class="mf mg iq bd mm mn mo dn mp mq mr dp ms lf mt mu mv lj mw mx my ln mz na nb nc bi translated"><strong class="ak">注意事项</strong></h2><ul class=""><li id="12c3" class="nd ne iq ky b kz nf lc ng lf nh lj ni ln nj lr nk nl nm nn bi translated">扩散半径增加/减少阴影的大小。正值增大阴影的大小，负值减小阴影的大小。</li><li id="4d05" class="nd ne iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">当使用非零的<code class="fe ls lt lu lv b">spread</code>时，它基于CALayer的<code class="fe ls lt lu lv b">bounds</code>硬编码一个路径。如果层的边界发生了变化，你需要再次调用<code class="fe ls lt lu lv b">applySketchShadow()</code>方法。</li><li id="9394" class="nd ne iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">不要忘记查看这个GitHub页面。从那里，你可以找到写在CALayer上的扩展。此外，它还包含一些对我们的应用程序有用的扩展。</li></ul></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="1015" class="oa mg iq bd mm ob oc od mp oe of og ms jw oh jx mv jz oi ka my kc oj kd nb ok bi translated">参考</h1><ul class=""><li id="8c36" class="nd ne iq ky b kz nf lc ng lf nh lj ni ln nj lr nk nl nm nn bi translated"><a class="ae kv" href="https://stackoverflow.com/questions/34269399/how-to-control-shadow-spread-and-blur" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/34269399/how-to-control-shadow-spread-and-blur</a></li></ul></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="95dd" class="oa mg iq bd mm ob oc od mp oe of og ms jw oh jx mv jz oi ka my kc oj kd nb ok bi translated">有问题吗？</h1><p id="1f50" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf ol lh li lj om ll lm ln on lp lq lr ij bi translated">如果您有任何问题，请随时在下面发表评论。</p><p id="2c75" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>