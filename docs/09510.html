<html>
<head>
<title>6 Potential Optimizations in Your JavaScript Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript项目中的6个潜在优化</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/6-potential-optimizations-in-your-javascript-project-f9e944f012a4?source=collection_archive---------3-----------------------#2021-09-02">https://betterprogramming.pub/6-potential-optimizations-in-your-javascript-project-f9e944f012a4?source=collection_archive---------3-----------------------#2021-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="eef7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习六种潜在的优化方法来提高你网站的性能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9aed98f02de48e31d7d67b52a9ed3b23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ac1E0rULXgdo8VsJZX6I2w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://www.pexels.com/photo/time-lapse-photography-of-brown-concrete-building-842654/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/@zhangkaiyv?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">张凯夫</a>的照片</p></figure><p id="525c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">优化代码的性能是你应该拥有的一项优秀技能。如果您编写的代码能够为最终用户提供出色的性能，那将是最好的。在你的项目中，可能有你可以改进的地方。您需要修复它们以避免糟糕的用户体验。</p><p id="c01e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一些工具和方法可以测量和分析性能，并发现您的应用程序如何运行。然而，在本文中，我将告诉您提高代码性能的潜在优化思路。</p><h1 id="7577" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">两种类型的性能</h1><p id="5269" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">两个主要类别解释了术语性能:启动时性能和运行时性能。</p><p id="01e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">启动时间性能:</strong>它是关于用户能多快地与网页交互并在屏幕上看到一些东西。每天，你都会访问一个网页。你知道当你遇到一个很慢的网页是什么感觉:很长时间过去了，直到它加载，看起来像是在加载，但当你点击某个地方时，什么也没有发生。令人沮丧。因此，启动时间性能是优化的一个重要部分。</p><p id="3ca6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">运行时性能:</strong>页面加载后，网页也要有出色的性能，对于优化后的代码，要避免bug。运行时性能是关于应用程序运行的流畅度，它保护用户免受冻结和延迟的影响。</p><p id="25a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，当你点击一个按钮时，如果网页上有一些动画，它们应该可以流畅地播放。</p><p id="f00f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，您的代码的某些部分可能会在您的网站上运行的一些用户的设备上花费更多的内存。它可能会耗尽内存，浏览器可能会将其关闭。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="e6ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该知道，性能不仅仅与您的JavaScript代码有关。CSS代码、HTML代码和服务器配置也会影响网页的性能。然而，在本文中，我将重点关注JavaScript代码中潜在的优化。</p><h1 id="bdb4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.脚本大小</h1><p id="80ae" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">脚本大小是启动时间的一个重要因素。当用户打开网页时，您会强制用户下载脚本，然后才能在页面上看到任何内容。脚本大小既影响在屏幕上显示内容的时间，也影响用户与网页交互的时间。<br/> <br/>延迟初始解析和执行。如果脚本在屏幕上渲染很多可视部分，会影响用户交互。例如，如果网页上的某些内容是可见的，但是脚本还没有完成下载，则图像还不能使用。因此，如果脚本变得更大，用户下载它们就需要更长的时间。<br/> <br/>因为并不是每个访问你页面的用户都有很好的互联网连接，这会导致糟糕的用户体验。你应该做的是尽量保持脚本的长度尽可能小。</p><h1 id="05f6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.HTTP往返</h1><p id="3cd9" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当HTTP往返次数增加时，会延迟初始解析和执行。如果您使用许多脚本文件，浏览器必须下载所有文件才能使您的页面工作。你发送的每个下载请求都是有代价的。所以是你要优化的部分。如果可能的话，最好在HTTP请求之前下载文件，而不是在HTTP请求之后下载。</p><p id="5d13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过添加<a class="ae ky" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> webpack </strong> </a>来优化bot大小和HTTP往返次数。Webpack将优化并捆绑您的代码。</p><h1 id="cccc" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.DOM访问</h1><p id="557c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您可以优化DOM访问。您需要避免不必要的代码执行，因此避免过多的DOM操作是一个很好的主意。<br/> <br/>例如，如果在屏幕上不必要地重新呈现太多元素，就会影响性能，因为DOM在代码性能方面的代价很高。另外，当你使用DOM时，你不应该通过JavaScript添加和删除HTML元素。这可能会降低网站的性能。所以，如果你想优化你的网页性能，这是一个很好的避免部分。</p><h1 id="d923" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.内存泄漏</h1><p id="076c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您可能没有意识到一些内存泄漏。然而，如果您有更大的内存泄漏，它们将导致您的页面变得更慢——在最坏的情况下，它们可能会使您的应用程序崩溃。</p><p id="9423" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript最常见的内存泄漏是时间监听器、事件监听器、观察器、窗口对象和保存DOM引用。有一篇关于这些常见JavaScript内存错误的优秀文章。<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/5-common-javascript-memory-mistakes-c8553972e4c2">在这里，你可以学到一些在你的web应用中避免内存泄漏的技巧</a>。</p><h1 id="2ae5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">5.具有更好性能的替代代码</h1><p id="725e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在某些情况下，JavaScript代码中可能有性能更好的替代代码。对于高频代码部分意义重大。<br/> <br/>例如，在循环遍历一个数组时，通常有几种不同的方法。他们没有相同的表现。这也是一个你可以尝试优化的案例。</p><p id="7074" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑下面的代码块:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="9f67" class="ne lw it na b gy nf ng l nh ni">for(var i = 0; i &lt; arr.length; i++) {</span><span id="c0bc" class="ne lw it na b gy nj ng l nh ni">// Some logic here</span><span id="4adb" class="ne lw it na b gy nj ng l nh ni">}</span></pre><p id="5e6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以按如下方式更改上面的代码:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="9e96" class="ne lw it na b gy nf ng l nh ni">var len = arr.length;</span><span id="eae8" class="ne lw it na b gy nj ng l nh ni">for(var i = 0; i &lt; len; i++) {</span><span id="3ff3" class="ne lw it na b gy nj ng l nh ni">// Some logic here</span><span id="070a" class="ne lw it na b gy nj ng l nh ni">}</span></pre><p id="3b58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这样做，代码就不需要为每个周期计算<code class="fe nk nl nm na b">array.lenght</code>。</p><h1 id="6ad9" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">6.微优化</h1><p id="9b7e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您可以优化代码的特定用例。例如，如果您更改代码段的数据结构以优化性能。遍历数组是微优化的一个例子。您可以使用不同的结构进行优化，因为它比您已经实现的其他方法更快。</p><p id="f5bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个微优化是可以在JavaScript中使用垃圾收集。</p><p id="b8a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不再需要它，你需要释放它。例如，您可以执行以下操作:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="54de" class="ne lw it na b gy nf ng l nh ni">var x = 100;<br/>x++;</span></pre><p id="a80f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，您可以在代码中的某个地方使用变量<code class="fe nk nl nm na b">x</code>，但是您不再需要它了。您可以使用如下函数来代替上述操作:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="50f5" class="ne lw it na b gy nf ng l nh ni">function increment() {</span><span id="1f08" class="ne lw it na b gy nj ng l nh ni">  var x = 100;</span><span id="e31a" class="ne lw it na b gy nj ng l nh ni">  x++;</span><span id="7c3d" class="ne lw it na b gy nj ng l nh ni">  return x;<br/>}</span></pre><p id="9875" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用此功能，它将在使用后释放分配给<code class="fe nk nl nm na b">x</code>的内存。这对于其他函数也是有效的，因为它们会释放所分配的内存。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="02d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">优化代码的性能是JavaScript项目的重要一步。性能的不足可能会导致一些问题，比如网站最终用户的连接速度很慢。想想当你使用一个快速的网站时，你会感到多么幸福。快速的动画和交互是一种非常好的感觉。</p><p id="c513" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有两个主要类别:启动时间和运行时间来优化您的网站的性能。您的JavaScript代码会影响这两者。您可以找到潜在的优化，并重构它们来加快您的网页。</p><p id="31f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">六种潜在的优化可能是:</p><ul class=""><li id="7fe7" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated">脚本大小</li><li id="ed6b" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">HTTP往返</li><li id="07b4" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">DOM访问</li><li id="b97d" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">内存泄漏</li><li id="b9d1" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">具有更好性能的替代代码</li><li id="7871" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated">微优化</li></ul><p id="4dfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了优化JavaScript代码的性能，您应该看看这些概念。</p></div></div>    
</body>
</html>