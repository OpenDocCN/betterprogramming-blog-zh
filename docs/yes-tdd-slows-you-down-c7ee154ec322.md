# 是的，TDD 会让你慢下来

> 原文：<https://betterprogramming.pub/yes-tdd-slows-you-down-c7ee154ec322>

## 这没关系

![](img/6bd6c4be83d31c3f8643c48e25eb3534.png)

照片由 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的[辛迪争](https://unsplash.com/@sindystrife?utm_source=medium&utm_medium=referral)拍摄。

我最近有机会反思测试实践——特别是不同层次的测试(单元测试、集成测试、验收测试)。

[测试金字塔](https://martinfowler.com/bliki/TestPyramid.html)表明每一级都有相关的成本。然后，测试的成本转化为您对系统进行更改的速度。

通常，早期的组织倾向于较少关注单元测试，而更多关注[验收测试](http://softwaretestingfundamentals.com/acceptance-testing/)。新产品的早期可能就是这种情况。需求有很大的波动，当需要对实现做根本性的改变时，你可能会觉得单元测试会减慢你的速度。

然而，不投资单元测试，你就放弃了进行测试驱动开发(TDD)的机会。是的，您仍然可以在编写任何代码之前编写验收测试。但是拥有这样的粗粒度测试将不会限制您构建代码、组件以及它们如何相互通信的方式。

您的验收测试将保证您的系统满足需求*现在*。

# TDD 不仅仅是测试

TDD 是一种软件开发方法，它严格规定了你做事的顺序。它并不是为了命令而命令。首先编写测试，然后让它驱动你编写的功能代码，这将影响你设计和架构系统的方式。

这有许多好处:您的代码将是模块化的、松散耦合的、高度内聚的、清晰记录的，并且易于扩展。

单元测试是 TDD 的一个方面。它在系统的基础层面上帮助你——实现层面，这最终将决定你在未来做出改变的敏捷程度。

如果你开发一个没有 TDD 方法的系统，你不一定有一个没有测试的系统。但是您很可能会有一个难以扩展和理解的系统。

这就是为什么我越来越相信你不能真的对你的测试层那么开明。如果您正在构建新的功能，并决定只通过验收测试来测试它，那么您很可能会错过 TDD 在您的服务层带来的额外好处。

当你混合使用 TDD 和非 TDD 时，你不仅仅是在测试栈的某些层上损害了测试。你在损害你系统的架构。

# 你真的需要开快点吗？

你当然知道！谁认为走得慢一点更好？

也许这个问题应该换成“你真的需要现在走快一点，以后再走慢一点吗？”

我认为这种表达方式有助于做出正确的决定。正如我在本文开头所说，现在加快速度可能是正确的决定。TDD 可能是现在让你慢下来的原因，而你现在可能负担不起慢下来。但我的建议是，当你不断做出妥协时，不要停止问这个问题。

当你推迟采用 TDD 时，你不仅仅是跳过了单元测试。您正在不受约束地开发代码，增加了高耦合和低内聚的机会。这不可避免地让你越走越慢。它会让你变得越来越慢，直到你不可避免地要承担如此高的变更成本，以至于实现哪怕是最微不足道的功能都似乎是一个不可逾越的挑战。更不用说[这会影响你团队的士气](https://medium.com/@alediaferia/technical-debt-kills-your-company-bb4ea1cab8cb)以及组织中其他人对你团队的信心。

# 保持清醒

正如我在本文开始时所说的，现在放弃单元测试对你来说可能是正确的。然而，重要的是要认识到，在某一层放弃 TDD 并不仅仅意味着放弃测试。这意味着放弃一个指导你遵循特定原则的框架。

如果你不打算做 TDD，你是否有一套可供选择的原则来坚持？您是否有其他方法来有效地构建您的系统，以帮助您进行扩展？你有信心做出改变吗？新的团队成员是否能够轻松加入并做出改变，而不需要额外的背景知识？