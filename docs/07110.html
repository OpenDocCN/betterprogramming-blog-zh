<html>
<head>
<title>Salting and Hashing Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">盐和哈希解释</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/salting-and-hashing-explained-b76f5af83554?source=collection_archive---------4-----------------------#2020-12-08">https://betterprogramming.pub/salting-and-hashing-explained-b76f5af83554?source=collection_archive---------4-----------------------#2020-12-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e40a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解哈希和salt如何保护用户数据，以及如何在Node.js中使用它们</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/451c3134e55558d2db618234e14fb880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_Gk9E4TimFhOs-k_"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰森·图因斯特拉在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="0ad2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户信息和数据是高度敏感的信息，必须加以保护。因此，采取强有力的措施来不惜一切代价保护它是非常必要的。此外，密码不应该以纯文本的形式存储在数据库中。它们应该被高度加密以避免用户之间的混乱。</p><p id="5860" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将讨论salt和hashing如何加密用户密码，以及以纯文本形式存储敏感用户信息所固有的风险。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ab30" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">哈希是如何工作的</h1><p id="dcc6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">哈希算法(MD5哈希)获取用户输入的密码，并将其转换为无法破译的字符串。这称为散列密码。任何对您的数据库发起攻击的人都无法理解它，因为哈希只有一种工作方式。这意味着一旦密码被散列，你就不能反过来再把它转换成纯文本。因此，散列用户密码是设计后端时应该完成的一项重要任务。</p><p id="5ce7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个密码散列方式的示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/f954edd0bb76eb0906a90f21dc39e088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I8k7b0XrTiS4jXmYIYohZQ.png"/></div></div></figure><p id="f883" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想亲自体验一下哈希是如何生成新字符串的，请前往<a class="ae ky" href="https://passwordsgenerator.net/md5-hash-generator/" rel="noopener ugc nofollow" target="_blank"> MD5哈希生成器</a>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4be3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么散列是不够的</h1><p id="e652" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当你看上面的例子时，你可能会注意到散列字符串对你来说毫无意义。如果你认为仅仅散列你的密码就足够了，那你就错了。原因是哈希算法不会在每次收到相同的密码文本时为其生成唯一的字符串。换句话说，假设你的密码看起来像上面的例子(Password@1234) <em class="na">。</em>算法每次接收到相同的输入字符串，总会产生相同的哈希字符串(即0 f1 ba 603 C1 a843 a 3d 02 d6c 5038 D8 e 959)。这并不理想，因为黑客可以对你的数据库发起彩虹攻击，破解里面存储的密码。</p><p id="af54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我告诉你一些关于彩虹桌攻击的事情。</p><h2 id="2c19" class="nb md it bd me nc nd dn mi ne nf dp mm li ng nh mo lm ni nj mq lq nk nl ms nm bi translated"><strong class="ak">彩虹表攻击</strong></h2><p id="942c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">攻击者可以使用预先构建的密码表，该表映射了相应的哈希字符串。然后，他们将使用随机散列字符串对表数据库运行它。如果找到匹配，他们可以简单地查看用于创建散列的密码，并映射它来破解密码。因此，不建议使用姓名、出生日期或常用字符串，如“密码”、“12345678”等。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="874d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">咸杂碎</h1><p id="153e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们的散列问题可以用一个简单的解决方案来解决:使用salt。Salt是随机生成的固定长度值，对于每个用户密码都是唯一的。Salt被附加上当前的密码字符串，并被送入哈希系统，以便在用户每次创建密码时产生一个新的哈希结果。这意味着如果你和我有相同的密码，我们的散列字符串将是不同的。由于彩虹表攻击严重依赖于找到一个匹配，这将使他们无用。</p><p id="a3a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">bcrypt库创建salt和hashed数据，有强大的加密算法支持，非常适合这个目的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f108" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">如何在节点中添加Salt和Hash</h1><h2 id="c4d8" class="nb md it bd me nc nd dn mi ne nf dp mm li ng nh mo lm ni nj mq lq nk nl ms nm bi translated"><strong class="ak">安装bcrypt </strong></h2><p id="873e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在终端中运行以下命令:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="3679" class="nb md it no b gy ns nt l nu nv">npm install bcrypt</span></pre><h2 id="eb89" class="nb md it bd me nc nd dn mi ne nf dp mm li ng nh mo lm ni nj mq lq nk nl ms nm bi translated"><strong class="ak">加盐哈希用户密码</strong></h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="0447" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个用户密码和一些其他信息如何存储在数据库中的示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/21490de8f2bd38fa4a1bce43a31c212d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rbg5zGzgeyw_bFcVisYN7w.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1208" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="7cc6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">总是建议对数据库中每个用户的敏感信息进行加密。当你在设计后端系统的时候，一定要记住伴随任何行为而来的风险。因此，一些软件公司雇佣道德黑客来破坏他们的网络安全，以找到系统中的漏洞。从程序员的角度来看，在将代码部署给主流用户之前对其进行测试是一个很好的做法。</p></div></div>    
</body>
</html>