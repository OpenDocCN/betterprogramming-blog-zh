<html>
<head>
<title>Repeating Animation in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中重复动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/repeating-animation-in-swiftui-8597e56a6df9?source=collection_archive---------10-----------------------#2020-11-05">https://betterprogramming.pub/repeating-animation-in-swiftui-8597e56a6df9?source=collection_archive---------10-----------------------#2020-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2260" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">构建可在您的应用中重复的漂亮动画</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a50c758fce6b89906b4af95abf498cb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2UVBMs4txylvvx0r"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@alhakiim?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Al Hakiim </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="2101" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于苹果提供了如此多的支持，SwiftUI中的动画比UIKit中的动画更容易实现。我想知道这将是一件好事还是坏事。不管怎样，我们需要利用所提供的东西，对吗？</p><p id="8ba7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，您将学习如何在SwiftUI中执行重复动画。</p><p id="97fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重复动画基本上就是一遍又一遍重复的动画。不言自明。你可以把它想象成一个不断重复的GIF。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6f3c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">先决条件</h1><p id="1505" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要学习本教程，您需要了解以下方面的一些基本知识:</p><ul class=""><li id="0c3c" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">迅速发生的</li><li id="7cf1" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">至少Xcode 11</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a220" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设置视图</h1><p id="e585" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">您将在这里使用<code class="fe nn no np nq b">RoundedRectangle</code>。你可以选择任何你喜欢的形状，但是现在，我们将使用<code class="fe nn no np nq b">RoundedRectangle</code>。</p><p id="a41f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要想抢先一步，这基本上是你需要的:一个<code class="fe nn no np nq b">State</code>来知道它是否有动画效果。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="f456" class="nv md it nq b gy nw nx l ny nz">@State private var isAnimating = false</span></pre><p id="f805" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一个<code class="fe nn no np nq b">RoundedRectangle</code>嵌在一个<code class="fe nn no np nq b">VStack</code>里面。这里使用的动画将缩放<code class="fe nn no np nq b">RoundedRectangle</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f683" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用自动反转永远重复动画</h1><p id="24e0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这是一个不断重复的动画。通过简单地将下面的代码添加到<code class="fe nn no np nq b">RoundedRectangle</code>中，您将获得一个永远重复的动画。</p><p id="3861" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据您的需要，您可以将持续时间调整为小于1的任何数字，以使动画快速移动，或者调整为大于1的任何数字，以减慢动画速度。</p><p id="bb22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，自动反转是真的。当它放大时，它会回到原来的位置:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="3d5b" class="nv md it nq b gy nw nx l ny nz">.animation(Animation.linear(duration: 1).repeatForever())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/308379ba5e34f1656426f728d0a13430.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*F71mPLqM5qnEWKz8VYCY-g.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2778" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">永远重复动画，不自动反转</h1><p id="9973" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">缩放后，自动反转不会反转到其原始位置。它会移回到原来的位置。这就产生了心跳的动画:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="6df0" class="nv md it nq b gy nw nx l ny nz">.animation(Animation.linear(duration: 1).repeatForever(autoreverses: false))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/4f8c693fe2c0e38ffa8917d9be9326a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*-LxSFJygi1Yzjx937tyVVg.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3bc3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">延迟动画</h1><p id="8416" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">也许延迟动画将满足您的设计标准:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="80f1" class="nv md it nq b gy nw nx l ny nz">.animation(Animation.linear(duration: 1).delay(2))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/9cc4bf277cf9d6c4146cd69b6f88f08a.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*MWPfAsOsZFhE99FhsiURfg.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="dad5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">延迟，然后永远重复动画</h1><p id="f598" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果动画不断重复，延迟会好得多:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="53bf" class="nv md it nq b gy nw nx l ny nz">.animation(Animation.linear(duration: 1).repeatForever().delay(2))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/56d8ea9f05c90a59e48e06105aba4cc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*beIyLb_E4n_SG-npfDdiXg.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="96bf" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">不同修饰符</h1><p id="0ffd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">除了缩放，你甚至可以修改<code class="fe nn no np nq b">opacity</code>:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="1633" class="nv md it nq b gy nw nx l ny nz">.opacity(self.isAnimating ? 0.0 : 1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/6a17b6921106e88207babe93b873668b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*k7M9p-ZOwN3hyCcZ_X7zbw.gif"/></div></figure><p id="65bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者<code class="fe nn no np nq b">fill</code>通过改变颜色:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="16bc" class="nv md it nq b gy nw nx l ny nz">.fill(self.isAnimating ? Color.red : Color.green)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/7d7d1070f3953e0568db45971b7fdaa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*1tbfoKr8dMRDbCapgfi7Sg.gif"/></div></figure><p id="decf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">甚至是<code class="fe nn no np nq b">frame</code>本身:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="31e6" class="nv md it nq b gy nw nx l ny nz">.frame(width: self.isAnimating ? 100 : 200, height: 200)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/b82def619486b724b5ad0ab07266b9b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*YtV7U0u_07vnDwPQGbH8lw.gif"/></div></figure><p id="54a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有很多方法可以通过使用不同的修改器来创建动画。和他们一起玩耍，拥抱你的创造力。</p></div></div>    
</body>
</html>