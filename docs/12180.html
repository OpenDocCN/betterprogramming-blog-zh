<html>
<head>
<title>How to Create PR Review Apps with Render</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Render创建公关审查应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-pr-review-apps-with-render-fe5e78a073ae?source=collection_archive---------11-----------------------#2022-05-17">https://betterprogramming.pub/how-to-create-pr-review-apps-with-render-fe5e78a073ae?source=collection_archive---------11-----------------------#2022-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3c7e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让可视化代码审查更容易！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6419db3ad6fe94ee84ed75376c1796de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*28cteDX8nmNYNME4LRS8zQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">地牢爬虫演示应用</p></figure><p id="396f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在合并拉取请求之前，代码审查是必不可少的。让另一个工程师检查代码更改是一种常见的做法，如果您配置了一个持续集成(CI)管道来运行linters和单元测试以自动捕捉问题，那就更好了。</p><p id="9304" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于UI更改，直观地检查应用程序中的更改也是一个好主意。这样做可能需要审阅者签出分支并在其计算机上运行应用程序。根据应用程序架构的复杂程度，在本地运行应用程序可能只需要一个命令，或者可能需要几个步骤和相当多的时间。</p><p id="e057" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">拉式请求审核应用程序通过在预览环境中部署应用了拉式请求更改的应用程序版本来帮助简化这一过程。现在评审者不需要自己把代码拉下来！</p><p id="d8a4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">学习<a class="ae lu" href="https://en.wikipedia.org/wiki/Nudge_theory" rel="noopener ugc nofollow" target="_blank">选择架构和推动理论</a>的学生知道，如果你想增加想要的行为，你需要让想要的行为变得容易。公关审查应用程序就是这样做的！通过使可视化审查变更变得简单，PR审查应用程序使代码审查者更有可能真的这样做。</p><p id="b5af" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将了解如何使用<a class="ae lu" href="https://render.com/" rel="noopener ugc nofollow" target="_blank"> Render </a>配置公关审查应用，这是一个平台即服务(PaaS)解决方案，允许您在云中构建和运行应用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a339" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">演示概述</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/9a4a61b7132212b43a60c61d379fc413.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*faYDDBNo02CebFLP"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">地牢爬虫演示应用</p></figure><p id="8a2a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们使用React应用程序进行演示。这个应用程序是一个地牢爬虫游戏，其中我们的英雄蓝色方块探索一个地牢并与敌人战斗，直到他找到并击败地牢老板。这个应用程序只包含前端代码，所以它非常适合作为一个静态网站托管。你可以<a class="ae lu" href="https://github.com/thawkin3/dungeon-crawler-render" rel="noopener ugc nofollow" target="_blank">在GitHub上查看代码</a>或者<a class="ae lu" href="https://dungeon-crawler.onrender.com/" rel="noopener ugc nofollow" target="_blank">在这里玩游戏</a>。</p><p id="b58c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，假设我们想对我们的应用程序进行更改。我们将创建一个新的分支，在本地进行更改，上推该分支，然后创建一个拉请求，将其合并到主分支中。如果一个评审者想要直观地检查我们的更改，他们可以拉下分支，在他们的机器上本地运行应用程序，只需用<code class="fe mv mw mx my b">npm install</code>安装依赖项，用<code class="fe mv mw mx my b">npm start</code>启动应用程序。</p><p id="f1e6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了使可视化审查更加容易，让我们配置repo，以便在每次提交新的pull请求时创建一个审查应用程序。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0190" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">渲染入门</h1><p id="6ab5" class="pw-post-body-paragraph ky kz it la b lb mz ju ld le na jx lg lh nb lj lk ll nc ln lo lp nd lr ls lt im bi translated">我们首先要用Render创建一个新帐户。我用我的邮箱注册了一个账户，然后连接了我的GitHub账户，但是如果你愿意，你也可以直接用GitHub认证。</p><p id="50a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">创建帐户后，我们可以选择创建一个新的静态站点:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/c23d3cddfac373a6cdd67bad3ca89105.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E6B6_58UfqRJejk9"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择创建新的静态站点</p></figure><p id="a968" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">选择此选项将提示我们输入希望连接的现有GitHub存储库的URL:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/dd8dd256bb432851e6a45d86aa47ec44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lqr9YWfNVciIcubt"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">连接GitHub repo</p></figure><p id="bbc9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后我们可以提供一些关于项目的细节，指定名称(“地牢爬虫”)、主分支(<code class="fe mv mw mx my b">master</code>)、构建命令(<code class="fe mv mw mx my b">npm run build</code>)和输出目录(<code class="fe mv mw mx my b">build</code>)。然后，我们将单击表单底部的“创建静态站点”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/cb2cd2facf7547af2354abd0f8d4d207.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ccsUXfz6gXeueMMX"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">静态站点配置详细信息</p></figure><p id="340b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这样，Render将首次构建和部署我们的应用程序。就这么简单！我们的地牢爬虫应用程序现在在https://dungeon-crawler.onrender.com<a class="ae lu" href="https://dungeon-crawler.onrender.com" rel="noopener ugc nofollow" target="_blank">公开发布。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/21a911d30aeb2fea05e63a3591ae3d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DCi1rczxY1yJmT1I"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">渲染托管的地牢爬虫应用程序</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="eb5d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用Render配置公关审查应用程序</h1><p id="2c4f" class="pw-post-body-paragraph ky kz it la b lb mz ju ld le na jx lg lh nb lj lk ll nc ln lo lp nd lr ls lt im bi translated">现在，我们已经连接了我们的repo，并且我们的应用程序部署了Render，让我们<a class="ae lu" href="https://render.com/docs/pull-request-previews" rel="noopener ugc nofollow" target="_blank">设置PR review应用程序</a>(或者Render称之为“拉请求预览”)。为此，我们可以单击“PRs”选项卡，然后单击“启用拉式请求预览”按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/b7f0865b89ad3a049192c558e9591b64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h0oHqdnGWnk3q0Rk"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启用带渲染的拉式请求预览</p></figure><p id="d0e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这应该是所有你需要为你的回购启用公关审查应用程序。然而，如果你在使用GitHub认证时遇到问题，你可以按照<a class="ae lu" href="https://render.com/docs/github#troubleshooting" rel="noopener ugc nofollow" target="_blank"> Render的故障排除指南</a>寻求帮助。在我的例子中，我需要仔细检查我是否给了Render权限来与我的地牢爬虫repo进行交互，然后我就可以开始了。</p><p id="08e7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们创建一个新的pull请求来看看这个review应用程序的运行情况！</p><p id="1b10" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将创建一个新的分支，对应用程序的头部做一个小的更改，提交和推送更改，然后创建一个新的拉请求，将我们的更改合并到主分支中。</p><p id="9164" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦我们创建了一个新的拉请求，Render将在PR上发布一条评论，说它正在为我们创建一个新的评论应用程序。一旦点评应用程序完成部署，Render将发布第二条评论，通知我们点评应用程序可以查看了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/6d46341a788b0c2d7b8614d1b1f7b3cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QKf3KctPKEVbx4Pj"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GitHub pull请求上的评论，带有查看应用程序的链接</p></figure><p id="9d9f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以点击我们的公关审查应用程序的链接，瞧，变化就在那里！注意地址栏中点评app的网址:<code class="fe mv mw mx my b">https://dungeon-crawler-pr-4.onrender.com</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/dfacf3b65137fe2862ff8d6f4a508a33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*isuvRKNTzMDQRXYp"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">地牢爬虫应用程序托管在一个公关审查应用程序上</p></figure><p id="3849" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的标题文本现在全部大写，并应用了一些额外的字母间距。审核应用程序使我们或任何其他审核者快速验证更改确实很好地显示出来变得非常简单。</p><p id="ce32" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我们批准并合并拉动请求时，PR review应用程序被销毁，因为它不再需要。之后，Render将看到新的提交合并到主分支中，并将我们应用程序的最新版本部署到主URL:<a class="ae lu" href="https://dungeon-crawler.onrender.com" rel="noopener ugc nofollow" target="_blank">https://dungeon-crawler.onrender.com</a>。</p><p id="450c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你应该注意到，这些公关审查应用程序非常适合静态网站和查看对单个资源所做的更改。如果你有一个更复杂的应用程序，需要一个完整的测试环境，包括后端服务器、数据库或其他资源，你应该看看Render的<a class="ae lu" href="https://render.com/docs/preview-environments" rel="noopener ugc nofollow" target="_blank">预览环境</a>，它可以处理更复杂的设置。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="163c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="aaee" class="pw-post-body-paragraph ky kz it la b lb mz ju ld le na jx lg lh nb lj lk ll nc ln lo lp nd lr ls lt im bi translated">几分钟之内，我们就能够使用Render部署我们的应用程序，并配置我们的repo来为每个拉取请求创建审阅应用程序。这个过程不仅对我们来说很容易建立，而且对每个在repo中工作的开发人员来说，它也使得代码审查更加容易。</p><p id="6148" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的公关审查应用程序通过消除必须在本地运行应用程序的摩擦，使直观审查变更变得简单。有了这样的设置，我们巧妙地促使代码审查者更加彻底。</p></div></div>    
</body>
</html>