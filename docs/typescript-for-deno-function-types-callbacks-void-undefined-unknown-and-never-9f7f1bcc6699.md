# Deno 的类型脚本——看看函数类型

> 原文：<https://betterprogramming.pub/typescript-for-deno-function-types-callbacks-void-undefined-unknown-and-never-9f7f1bcc6699>

## 回调、无效、未定义、未知和从不

![](img/07180881e00a66e2340ea641e6746157.png)

作者:[斯科特·格里尔](https://unsplash.com/es/@sgreer):【https://unsplash.com/es/fotos/XfQ3t7AGTv0】T2

在[之前的版本](/typescript-for-deno-types-and-typing-8650637bf8df)中，我们看到了 TypeScript 拥有的几种数据类型，我们还看到了由几种类型联合而成的自定义类型。

值得一提的是，您可以创建“对象类型”，也就是说，一个“自定义类型”，即具有特定结构的对象。例如，当我们从一个 API 发送信息时，这非常有用！

# 函数中的返回类型

正如我们可以键入函数的参数一样，我们也可以键入它们返回的内容，基本示例是返回数字或字符串的函数，例如 sum 函数。

有必要记住，一般来说，TypeScript 已经进行了自动类型推断，而且在大多数情况下，没有必要放置函数返回的数据类型，但是如果它增加了代码的表达能力，那么最好放置它。

在这个例子中，它是用一个箭头函数和一个普通函数完成的，不用说，每次你做“hello world！”一个孩子在世界上死去…你必须不惜一切代价避免他们。

# 空的

我们所有做过 java 或 C 语言的人最喜欢的类型，当函数不返回任何值时使用这种类型，这可能发生在屏幕上。

# 不明确的

值得一提的是，函数返回 undefined 是不好的做法，当我们不想返回值时，最好返回 void，但是，将“undefined”作为返回类型会强制函数只返回 undefined，否则，编译器会给出一个错误。

当一个函数可以接收未定义的参数，但我们必须返回“return；”时，这是很有用的显然，如果函数返回任何类型，它将返回其他类型，否则只有“未定义”的类型。

同样重要的是要提到 TS 帮助我们避免错误，例如在前面的函数中“else”是不必要的，因为编译器会要求参数要么是“number”要么是“undefined ”,但是如果执行环境是 Node.js 而不是使用 Deno.js，那么使用它是一种很好的做法。

# 作为类型的功能

假设由于某种原因我们需要将函数包装在变量中，也就是说变量的类型是函数。

如果您不想指定参数的类型和返回值的类型，您只需给它一个“Function”类型，当显示类型很重要时，您可以放置一个带有类型的 arrow 函数，让我们以 JavaScript 方式和 TypeScript 方式查看它。

显然，如果在 arrow 函数中我们不传递任何东西，我们就认为它只接收一个参数，并且这个参数是任意的。

# 复试

TypeScript 是 JavaScript 的超集，所以遇到回调是非常自然的，也就是说，这是编写 JavaScript 代码和 TypeScript 的正常方式。

当我们想要处理接收函数的回调的数据类型时，如上所述。非常直观。让我们看一个例子:

向 noobs 解释这个功能并不是多余的(我很乐意有人向我解释)。

我们创建一个函数，它接收两个参数类型数和一个函数。这两个数字相加，并通过参数传递给回调函数，但是我们必须在调用函数`sumYPrint`时定义这个回调函数，然后，当我们调用这个函数时，我们给两个数字 2 和 10，我们必须对结果(已经给了我们相同的函数)做些什么，这样，它返回给我们“void”，也就是说，在屏幕上打印。

# 未知的

这是一个非常重要的类型，因为它允许我们避免任何。Unknown 比 any 更具限制性，但是我们必须在执行任何操作之前检查(类型保护)它的数据类型，这避免了在传递到运行时的错误，并且一切都保持在编译时安全性中。这种类型非常适用于 API 响应，因为很多时候我们不知道将返回什么类型的数据，此外，当我们显式地放置它时，我们告诉审查我们代码的人，我们不知道我们将在运行时接收什么类型的数据。

未知数据类型可以接收任何其他数据类型，但是当我们试图将一个具有这种类型的变量赋给另一个变量时，它会给出一个错误，这里检查数据类型是有用的。

让我们看一个例子:

# 从不

这是我见过的最有趣的数据类型之一，因为它主要用于两种情况:

1.  当你返回的是一个错误时
2.  当你永远不会返回值的时候。

我还想推荐一个工作在 Deno.js 之上的 web 框架，叫做 [Fresh](https://fresh.deno.dev/) 。我很快会谈到这个框架的特点。