<html>
<head>
<title>Build an NFT Collection using Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Flutter构建NFT集合</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-an-nft-collection-using-flutter-6df928e5f742?source=collection_archive---------2-----------------------#2022-02-19">https://betterprogramming.pub/build-an-nft-collection-using-flutter-6df928e5f742?source=collection_archive---------2-----------------------#2022-02-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="24f9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Flutter创建艺术和管理智能合同</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f7ebeb298f79fb24834566301d9c6bfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SMDa6sMau9Z7JM8Ogl2Yiw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6b9d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你是一个Flutter爱好者，想学习不可替代令牌和智能合约的基础知识。在这个项目中，我们将构建一个NFT集合，并将其部署在OpenSea市场上。我们将构建两个颤振应用程序:一个生成艺术，一个控制我们的智能合同。我们将使用许多Web3工具:IPFS，皮纳塔，元面具，安全帽，坚固，开放齐柏林，多边形扫描，炼金术。</p><p id="7eba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你对NFT的图片有一些很酷的想法，并且正在寻找一种快速简单的方法来制作和销售它，那么这篇文章不适合你。查看<a class="ae lu" href="https://www.launchmynft.io/" rel="noopener ugc nofollow" target="_blank"> LaunchMyNFT.io </a>或类似网站。</p><p id="1ca8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个项目的步骤如下:</p><ol class=""><li id="1973" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">了解我们将开发什么。</li><li id="ae53" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">生成艺术:构建一个Flutter应用程序来创建图像和描述。将它们上传到IPFS——星际文件系统。</li><li id="79e9" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">拿一个装有加密货币的钱包。</li><li id="5949" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">创建并部署智能合约，该合约将在区块链上运行并跟踪您的NFTs。</li><li id="baee" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">构建一个Flutter应用程序来管理您的合同和mint NFTs。</li><li id="568b" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">在OpenSea市场上列出你的NFT。</li><li id="8af0" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">从测试环境进入生产环境。</li></ol></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="291e" class="mq mr it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">1.我们将开发什么</h2><p id="f32e" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated"><a class="ae lu" href="https://opensea.io/" rel="noopener ugc nofollow" target="_blank"> OpenSea </a>是使用最多的NFTs市场。点击此<a class="ae lu" href="https://opensea.io/collection/the-bling-nft-collection" rel="noopener ugc nofollow" target="_blank">链接</a>在OpenSea上查看<em class="no">珠光宝气的NFT系列</em>。它是按照本文档中的描述开发的。首先，熟悉一下收藏页面。然后单击其中一个NFT并检查NFT页面，包括属性和详细信息。</p><p id="4b2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您将创建自己的收藏，就像这个一样，尽管图像要简单得多。</p><h2 id="fabf" class="mq mr it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">2.生成艺术</h2><p id="698e" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">作为NFT，你基本上可以卖任何东西。但在大多数情况下，NFT是和一张图片联系在一起的。同样，它可以是任何类型的图像，例如从互联网上下载的可爱狗狗的图片。但是通常，NFT收藏包含由计算机程序生成的图像。图像有许多属性，称为特征，通过改变这些属性，可以生成大量(通常是数千个)相似但不同的图像。谷歌“生成艺术”了解更多。</p><p id="c875" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个项目中，我们将构建一个Flutter应用程序来生成如下图像:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/20bc5e12123109b2cca7d46a8e397d81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*idAjA9lXc7LyeJwI8CFBaA.png"/></div></div></figure><p id="027f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">的确非常简单，也不太漂亮，但它们将服务于我们的目的。每幅图像都有三个特征:背景色、前景色和圆半径。ArtWork类定义了一个图像:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="b7ba" class="mq mr it nr b gy nv nw l nx ny"><strong class="nr iu">class </strong>ArtWork {<br/>  String <strong class="nr iu">title</strong>;<br/>  Size <strong class="nr iu">artSize</strong>;<br/>  int <strong class="nr iu">backgroundIndex</strong>;<br/>  int <strong class="nr iu">forgroundIndex</strong>;<br/>  int <strong class="nr iu">radiusIndex</strong>;<br/><br/>  ArtWork(<br/>      {<strong class="nr iu">this</strong>.<strong class="nr iu">title </strong>= <strong class="nr iu">'Generate art'</strong>,<br/>      <strong class="nr iu">this</strong>.<strong class="nr iu">artSize </strong>= <strong class="nr iu">const </strong>Size(500, 1000),<br/>      <strong class="nr iu">this</strong>.<strong class="nr iu">backgroundIndex </strong>= 0,<br/>      <strong class="nr iu">this</strong>.<strong class="nr iu">forgroundIndex </strong>= 2,<br/>      <strong class="nr iu">this</strong>.<strong class="nr iu">radiusIndex </strong>= 5});<br/>}</span></pre><p id="6dab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">颜色在<a class="ae lu" href="https://api.flutter.dev/flutter/material/Colors/primaries-constant.html" rel="noopener ugc nofollow" target="_blank">颜色.原色</a>材料颜色列表中定义为索引。radiusIndex是1到10的整数，圆的半径是图像宽度* radiusIndex / 20。</p><p id="e9dc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以选择是要构建一个Android应用还是Windows应用。要创建Android应用程序，请在Android Studio中使用文件-新建-新建Flutter项目。要创建Windows应用程序，请运行以下命令:</p><ul class=""><li id="1d2f" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt nz mb mc md bi translated"><em class="no">启动ms-settings:developers </em>并在Windows上启用开发者模式</li><li id="9066" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated"><em class="no">颤振配置-启用-windows-桌面</em></li><li id="e365" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated"><em class="no">扑创genwin </em></li><li id="9f86" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated"><em class="no"> cd genwin </em></li><li id="09ac" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated"><em class="no">颤振运行窗口</em>并检查颤振样本程序是否工作。</li></ul><p id="ec16" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这两种情况下，在您的项目目录中，将<a class="ae lu" href="https://pub.dev/packages/path_provider" rel="noopener ugc nofollow" target="_blank">路径提供者</a>添加到<em class="no"> pubspec.yaml </em>:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="0d73" class="mq mr it nr b gy nv nw l nx ny"><strong class="nr iu">name</strong>: gen_art<br/><strong class="nr iu">description</strong>: Generate art for NFTs.<br/><strong class="nr iu">publish_to</strong>: <strong class="nr iu">'none'<br/>version</strong>: 1.0.0+1<br/><strong class="nr iu">environment</strong>:<br/>  <strong class="nr iu">sdk</strong>: <strong class="nr iu">"&gt;=2.15.0 &lt;3.0.0"<br/>dependencies</strong>:<br/>  <strong class="nr iu">flutter</strong>:<br/>    <strong class="nr iu">sdk</strong>: flutter<br/>  <strong class="nr iu">path_provider</strong>: ^2.0.8<br/><strong class="nr iu">dev_dependencies</strong>:<br/>  <strong class="nr iu">flutter_test</strong>:<br/>    <strong class="nr iu">sdk</strong>: flutter<br/>  <strong class="nr iu">flutter_lints</strong>: ^1.0.0<br/><strong class="nr iu">flutter</strong>:<br/>  <strong class="nr iu">uses-material-design</strong>: true</span></pre><p id="75f2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">并且做一个<em class="no">扑酒馆弄</em>。</p><p id="d48e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用以下内容替换<em class="no"> lib/main.dart </em>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="6bfc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该应用程序将显示这一点(在手机上，在Windows上调整窗口到类似的比例):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/a4838368a0455e0444b43dba9b1d83d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*23URrsUtJdADDQglYKmD7A.png"/></div></div></figure><p id="fee8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当你按下按钮时，这将发生十次:</p><ul class=""><li id="74d1" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt nz mb mc md bi translated">基于随机值生成新图像。使用<a class="ae lu" href="https://medium.com/flutter-community/a-deep-dive-into-custompaint-in-flutter-47ab44e3f216" rel="noopener">自定义油漆</a>显示，代码如下。</li><li id="c0a9" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">图像被写入一个名为<em class="no">圆x.png</em>(x = 0，1，…9)的文件</li><li id="51d6" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">描述图像的JSON格式文件被写入<em class="no"> Circle x.json </em>。例如:对于第六圈:<em class="no"> {"name": "Circle 6 "，" description ":"这是第六圈"，" image ":" ipfs://IMAGES _ CID/Circle 6 . png "，" attributes ":[{ " trait _ type ":" BgColor "，" value": "17"}，{"trait_type":"FgColor "，" value": "8"}，{"trait_type":"Radius "，" value": "5"}]} </em></li><li id="f11b" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">这遵循了OpenSea上NFT元数据的标准格式。IMAGES_CID是包含图像的文件夹地址的占位符，下面将详细介绍。</li></ul><p id="2a77" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">实际绘制是在<em class="no"> lib/artpainter.dart </em>中完成的。复制这个:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="804b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="no"> drawArt() </em>在画布上绘制图像。它由调用</p><ul class=""><li id="0452" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt nz mb mc md bi translated"><em class="no"> ArtPainter() </em>，它是CustomPaint小部件的绘制器。画布宽度是设备宽度的一半。</li><li id="af2d" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated"><em class="no"> getPng() </em>，返回一个. Png格式的Uint8List，可以作为。png文件。画布大小为500x1000像素。NFT的所有者可能希望将“他的”图像发送到打印店并挂在墙上。那么高分辨率是理想的。</li></ul><p id="936b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">运行应用程序。如果您运行Android应用程序，请使用Android Studio中的设备文件浏览器来检查结果。这些文件位于<em class="no">data/data/(your _ app _ name)/app _ flutter</em>文件夹中。</p><p id="121b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果运行Windows应用，会得到类似<em class="no">未处理异常:FileSystemException:无法打开文件，path = ' C:\ Users \ Bo \ Documents/Circle 0 . png '(操作系统错误:访问被拒绝)</em>的错误信息。只需授权访问并再次运行。现在您知道在哪里可以找到您的文件。</p><p id="df8a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">创建两个名为Images和JSON的文件夹。复制。png文件到图像和。json文件到JSON。</p><p id="2b09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以将文件存储在任何文件服务器上。但是，由于已经成为NFT的标准，我们将在<a class="ae lu" href="https://www.pinata.cloud/" rel="noopener ugc nofollow" target="_blank"> Pinata </a>的帮助下将它们存储在<a class="ae lu" href="https://ipfs.io/" rel="noopener ugc nofollow" target="_blank"> IPFS </a>上。这有很多好处，你可以在这里阅读<a class="ae lu" href="https://docs.ipfs.io/how-to/mint-nfts-with-ipfs/#a-short-introduction-to-nfts" rel="noopener ugc nofollow" target="_blank"/>。去皮纳塔注册免费计划。点击+上传并选择图像文件夹。记下几秒钟后您将获得的CID。</p><p id="5829" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将这段JavaScript代码存储在JSON文件夹之外:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="23e1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将第二行中的xxx替换为您刚刚从Pinata获得的CID。运行脚本:<em class="no">节点updatejson.js 0 9 </em>。检查JSON文件中的IMAGES_CID占位符是否已被真正的CID替换。</p><p id="58bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">回到Pinata，上传JSON文件夹。记下该文件夹的CID。</p><p id="3cc9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您现在已经完成了艺术作品的创作和准备，可以继续下一项任务:</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="fa23" class="mq mr it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">3.拿个钱包</h2><p id="807e" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">要存储加密货币和NFT，支付区块链交易，需要一个<a class="ae lu" href="https://n26.com/en-eu/blog/what-is-a-crypto-wallet" rel="noopener ugc nofollow" target="_blank">钱包</a>。在这个项目中，我们将使用<a class="ae lu" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">元掩码</a>。你可以把它作为Chrome扩展安装在你的电脑上，作为一个应用程序安装在你的Android手机上，或者两者兼而有之(有一个同步功能)。我们将使用Chrome扩展。进入MetaMask主页，点击<em class="no">安装Chrome meta mask</em>。</p><p id="0c61" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">关于为您的NFTs使用哪个区块链，有几种可能性。以太坊是最著名的收藏所在地，但由于沉重的交易费用，使用起来非常昂贵。对于这个项目，我们将使用多边形，这也是非常流行的NFTs。两条链都有侧链，可以自由测试。以太坊有侧链Rinkeby和Ropsten，Polygon有Mumbai。要检查Polygon上的交易、合同、钱包等，使用位于<a class="ae lu" href="https://polygonscan.com/" rel="noopener ugc nofollow" target="_blank">https://polygonscan.com/</a>的Polygon Chain Explorer。这是免费的，不需要用户id或登录。要在孟买做同样的事情，去https://mumbai.polygonscan.com/。把这些收藏起来，因为你会经常用到它们。</p><p id="f96e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要在您的钱包中添加对Polygon和Mumbai的支持，您可以单击钱包中的网络下拉菜单，然后单击添加网络。但是有一个更简单的方法:去polygonscan.com，向下滚动到网页底部，点击<em class="no">添加多边形网络</em>按钮。然后对孟买做同样的事情:去mumbai.polygonscan.com，向下滚动到网页底部，点击<em class="no">添加孟买网络</em>按钮。</p><p id="c7b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你还需要一些加密货币来支付你在孟买的交易。用于此的货币被称为马提克。把你的钱包换到孟买。复制你的钱包地址。前往<a class="ae lu" href="https://faucet.polygon.technology/" rel="noopener ugc nofollow" target="_blank">多边形水龙头</a>。在“获取测试令牌”面板中粘贴您的钱包地址，选择“自动令牌”，然后单击“提交”。一段时间后，你的钱包里将有0.5 MATIC，如果你输入你的钱包地址，你就可以在mumbai.polygonscan.com上看到它——检查余额和内部交易。但也许你在MetaMask中看不到。然后，您必须通过单击“资产”下的“导入令牌”在元掩码中添加对MATIC的支持。或者，还有一个更简单的方法:去polygonscan.com(不是孟买)，在搜索框中输入<em class="no"> Matic Token </em>。在概要文件摘要行的最右侧，单击三个垂直点。单击将令牌添加到Web3 Wallet。</p><p id="bf31" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您现在有了一个可以用于测试的钱包。</p><h2 id="393d" class="mq mr it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">4.创建和部署智能合同</h2><p id="92dc" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">在这一步中，我们将编写一个智能契约，编译它并将其部署在名为Mumbai的多边形测试链上。</p><p id="4d85" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">智能契约会跟踪您的NFT——有多少个，以及每个NFT的描述URL(JSON文件)、所有者(钱包地址)等等。它还被用来创造新的NFT——这个过程被称为铸造NFT。</p><p id="aa6f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">智能合同是用一种叫做<a class="ae lu" href="https://docs.soliditylang.org/" rel="noopener ugc nofollow" target="_blank">可靠性</a>的特殊语言编写的。它受JavaScript的影响。幸运的是，您可以包含标准合同，然后只添加几行特定于您的项目的内容。</p><p id="7976" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请遵循以下步骤。Bhaskar Dutta在<a class="ae lu" href="https://learn.figment.io/tutorials/create-nft-smart-contract-with-hardhat" rel="noopener ugc nofollow" target="_blank"> Figment Lear </a> n上有一篇很好的文章，描述了我们在这一部分的工作，如果你想了解更多细节的话。</p><ol class=""><li id="85f1" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">确保您拥有node.js的最新版本(15或更高版本)。node.js提供了我们将会经常用到的命令npm和npx。</li><li id="5be1" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">为项目的这一部分创建一个目录，例如<em class="no"> Circles </em>，并将其光盘化。</li></ol><p id="0856" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.安装<a class="ae lu" href="https://hardhat.org/" rel="noopener ugc nofollow" target="_blank"> Hardhat </a>，一个区块链应用的开发环境。运行命令<em class="no"> npm install -g hardhat。</em></p><p id="65f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.创建一个安全帽项目。运行命令<em class="no"> npx hardhat。</em>在所有问题上按回车键，采用默认值，包括“创建一个基本的示例项目”。</p><p id="5f22" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">5.Hardhat会告诉你安装几个额外的包作为开发依赖。运行命令(忽略警告)</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="5699" class="mq mr it nr b gy nv nw l nx ny"><em class="no">npm install --save-dev "hardhat@2.8.3"<br/>npm install --save-dev "@nomiclabs/hardhat-waffle@2.0.0"<br/>npm install --save-dev "ethereum-waffle@3.0.0"<br/>npm install --save-dev "chai@4.2.0"<br/>npm install --save-dev "@nomiclabs/hardhat-ethers@2.0.0"<br/>npm install --save-dev "ethers@5.0.0"<br/>npm install @nomiclabs/hardhat-etherscan</em></span></pre><p id="2523" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">6.安装<a class="ae lu" href="https://openzeppelin.com/contracts/" rel="noopener ugc nofollow" target="_blank"> OpenZeppelin </a>合同库。这是我们获得NFTs的标准契约的地方，名为ERC721.sol</p><p id="1560" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">7.最后安装<a class="ae lu" href="https://www.npmjs.com/package/dotenv" rel="noopener ugc nofollow" target="_blank"> dotenv </a>包。这允许我们将钱包地址和IPFS cid之类的东西放在。而不是对它们进行硬编码。运行命令<em class="no"> npm install dotenv。</em></p><p id="8768" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">8.在Android Studio或VS代码中打开<em class="no"> Circles </em>目录，熟悉内容。<em class="no"> harhat.config.js </em>是Hardhat的配置文件。<em class="no">合同文件夹</em>是存放可靠性合同的地方。它有一个名为<em class="no"> Greeter.sol </em>的样本契约。旧版本的脚本包含用于部署合同的JavaScript文件等等。</p><p id="8737" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">9.为了检查安装是否正常，编译示例契约:<em class="no"> npx hardhat compile。</em></p><p id="6009" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">10.创建一个名为。env并添加以下几行:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="ab44" class="mq mr it nr b gy nv nw l nx ny">CONTRACT_NAME = "John Doe's Circles Collection"<br/>CONTRACT_SYMBOL = "JDCC"<br/>CONTRACT_ADDRESS = ""<br/>WALLET_OWNER = "0x6f3298d259e6EC1c48FA0d6265E8D49ad78EBFD7"<br/>WALLET_PRIVATE_KEY="ecb5bfd5be173f61c24415bd3787600caeb3f0c50ebe3827e168da7e0b751a68"<br/>POLYGONSCAN_KEY=""<br/>ALCHEMY_KEY_TEST = ""<br/>ALCHEMY_KEY_PROD = ""<br/>JSON_CID = "QmQuXH6UCaY9iAYt5VcrTurF4BBeLC3XxxRfMxCuU4g3Gu"<br/>IMAGES_CID = "QmPDLL5r7mxDZ3nhVVFzLxE5fRxxfDW1UAqeZsvRYoEzdq"</span></pre><p id="9025" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在哪里</p><ul class=""><li id="e0fb" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt nz mb mc md bi translated">CONTRACT_NAME是您要为合同指定的名称。把无名氏换成你自己的名字。该名称不必是唯一的，但是由于它也将是OpenSea中的默认集合名称，如果我们都使用相同的名称，将会造成混乱。</li><li id="8a62" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">CONTRACT_SYMBOL是您要为所使用的令牌类型指定的名称，通常为三个或四个字符。用你自己的首字母代替JD。</li><li id="29f6" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">CONTRACT_ADDRESS将在部署合同后填充</li><li id="d4db" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">在WALLET_OWNER中输入元掩码钱包的公共地址。</li><li id="ac21" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">在WALLET_PRIVATE_KEY中输入您钱包的私钥。打开钱包，进入<em class="no">账户详情</em>，选择<em class="no">导出私钥</em>。知道这把钥匙的人可以偷走你钱包里的所有资产。因此，您必须非常小心，不要让。环境文件。确保。env列在。gitgnore文件。</li><li id="42ab" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">POLYGONSCAN_KEY解释如下。</li><li id="efd2" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">ALCHEMY_KEY_TEST和_PROD解释如下。</li><li id="37f7" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">JSON_CID和IMAGES_CID是IPFS CID。</li></ul><p id="1de7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">11.将上面获得的IPFS CID放到JSON_CID和IMAGES_CID中。</p><p id="33ab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">12.为了以编程方式使用多边形扫描，我们需要一个API。去polygonscan.com注册免费API计划。创建一个API密钥，并将其输入。env文件作为POLYGONSCAN_KEY。(孟买也使用相同的密钥)。</p><p id="584b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">13.我们还将使用一个名为<a class="ae lu" href="https://www.alchemy.com/" rel="noopener ugc nofollow" target="_blank"> Alchemy </a>的区块链开发者平台。注册，进入<a class="ae lu" href="https://dashboard.alchemyapi.io/" rel="noopener ugc nofollow" target="_blank">仪表盘</a>，点击+创建APP，获得两个API密匙，一个用于孟买的测试，一个用于Polygon Mainnet的生产。把它们放在。env文件(以<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/)."> https://)开头。</a></p><p id="c1c2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">14.更新<em class="no"> hardhat.config.js </em>如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="1f21" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">15.在合同文件夹中，删除<em class="no"> Greeter.sol </em>并添加我们的合同<em class="no"> NFT.sol </em>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="5921" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有关解释，请参见虚构的文章。<em class="no">is approved for all</em>override是OpenSea需要的东西，如这里的<a class="ae lu" href="https://docs.opensea.io/docs/polygon-basic-integration" rel="noopener ugc nofollow" target="_blank">所述</a>。</p><p id="abc3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">16.编译合同:<em class="no"> npx hardhat编译。</em>您应该会看到“编译成功完成”。</p><p id="d0d6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">17.在脚本文件夹中，添加一个名为<em class="no"> deploy.js </em>的脚本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="56e7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">18.现在运行命令<br/><em class="no">npx hard hat run scripts/deploy . js-network Mumbai</em></p><p id="e3b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您应该会收到这样的消息</p><p id="9dc1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="no">无名氏圈系列(JDCC)部署到:0x 410 FB ECC 285 F3 a 833 f 09d 51d 8 cc 10 f 8e 7d 30 f 556</em></p><p id="69ef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是你的合同地址。<strong class="la iu">将其复制/粘贴到。env文件</strong>！(Ctrl/m复制)。</p><p id="4b1f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您得到<em class="no">错误:内在交易成本的资金不足，</em>再次检查WALLET_OWNER和WALLET_PRIVATE_KEY，并且您在那里有一些MATIC货币。</p><p id="c737" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">19.在孟买检查合同。polygonscan .你不会看到太多，因为它还没有被核实。一旦经过验证，智能合约的源代码就可以公开获得并验证。这创造了透明度和信任。你可以用Polygonscan管理合同。将名为<em class="no"> verify.js </em>的脚本添加到脚本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="6000" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后运行命令</p><p id="6784" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="no"> npx hardhat运行脚本/verify.js -网络孟买</em></p><p id="1fb0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您应该会得到(这可能需要一些时间)这样的消息</p><p id="7ad6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="no">John Doe ' s Circles Collection(JDCC)验证地址:(合同地址)</em></p><p id="05ce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果出现错误，尝试<em class="no"> npx hardhat clean，npx hardhat compile </em>，并再次验证。</p><p id="c844" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">20.现在检查一下孟买的合同。多边形扫描。点击<em class="no">合同</em>，它现在应该有一个绿色的勾号，这意味着它已被验证。点击<em class="no">阅读合同</em>并检查你(任何人)能得到的关于合同的信息。点击<em class="no">写合同</em>和<em class="no">连接Web3 </em>看看你(只有你！)可以更新合同。最重要的是，您可以使用<em class="no"> mint </em>函数创建NFT(JDCC代币)。如果您只想制造一些NFT，这可能就足够了。但是如果你想要100或者10000个NFT，你必须用一个程序来铸币，这就是我们在下一节要做的。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="3b3f" class="mq mr it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">5.构建一个Flutter应用程序来管理您的合同</h2><p id="7202" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">在以太坊铸造一个NFT需要花费100美元甚至更多的所谓汽油费。多边形上的铸造几乎是免费的(大约0.005 MATIC)。因此，对于以太坊上的许多藏品来说，直到买家准备支付标价加上费用，NFT才被铸造出来。这有时被称为懒惰铸造。在这个项目中，我们将使用Flutter应用程序预先铸造所有10个NFT。</p><p id="343d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="no"> web3dart </em>包用于与区块链交互。创建一个新的Flutter应用程序，并将<em class="no"> pubspec.yaml </em>替换为:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="2169" class="mq mr it nr b gy nv nw l nx ny"><strong class="nr iu">name</strong>: nft_contract<br/><strong class="nr iu">description</strong>: Manage NFT contract<br/><strong class="nr iu">publish_to</strong>: <strong class="nr iu">'none'<br/>version</strong>: 1.0.0+1<br/><strong class="nr iu">environment</strong>:<br/>  <strong class="nr iu">sdk</strong>: <strong class="nr iu">"&gt;=2.15.0 &lt;3.0.0"<br/>dependencies</strong>:<br/>  <strong class="nr iu">flutter</strong>:<br/>    <strong class="nr iu">sdk</strong>: flutter<br/>  <strong class="nr iu">web3dart</strong>: ^2.3.1<br/>  <strong class="nr iu">http</strong>: ^0.13.4<br/>  <strong class="nr iu">flutter_dotenv</strong>: ^5.0.2<br/><strong class="nr iu">dev_dependencies</strong>:<br/>  <strong class="nr iu">flutter_test</strong>:<br/>    <strong class="nr iu">sdk</strong>: flutter<br/><strong class="nr iu">flutter</strong>:<br/>  <strong class="nr iu">uses-material-design</strong>: true<br/>  <strong class="nr iu">assets</strong>:<br/>    - assets/abi.json<br/>    - .env</span></pre><p id="1f16" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那就去酒馆喝一杯。将<em class="no"> lib/main.dar </em> t替换为:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="71dd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该应用程序可以处于三种模式之一:<em class="no"> none </em>(启动时)，使用shownfts小部件的<em class="no"> shownfts </em>显示当前合同中的所有nfts，以及使用showLatestMint小部件的<em class="no"> mint </em>到mint显示新创建的NFTs。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/6e5fe5da0b7aa12d70189aa79f1e2adb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fTVxtkusbEwriMpt-bQVOA.png"/></div></div></figure><p id="d284" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将显示部件复制到<em class="no"> main.dart </em>的末尾:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="3669" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">六个期货和一个现金流用于与合约和IPFS进行交互。将这些复制到<em class="no"> main.dart </em>的末尾:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="ee3c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">abi字符串是一个文本(json)版本的契约，稍后会介绍。</p><p id="6db2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="no"> getTokenSymbol、getTokenCounter和getTokenURI </em>使用web3dart API从契约中读取Symbol、TokenCounter和TokenURI。</p><p id="9600" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="no"> mintStream </em>使用web3dart API调用契约中的mint函数。对于每个NFT，它等待三个未来完成(并行，使用<a class="ae lu" href="https://api.flutter.dev/flutter/dart-async/Future/wait.html" rel="noopener ugc nofollow" target="_blank"> Future.wait </a>):</p><ul class=""><li id="e49c" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt nz mb mc md bi translated">造币交易</li><li id="6561" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">从IPFS检索相应的图像</li><li id="008c" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">两秒钟的延迟，以确保在显示下一个NFT之前可以看到NFT。</li></ul><p id="f823" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，它发出一个事件，将图像作为参数。</p><p id="5d56" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当造币厂！按钮被按下，流被启动并被收听。对于每个事件，都会显示NFT图像和一些文本。</p><p id="0ded" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在运行应用程序之前</p><ul class=""><li id="201a" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt nz mb mc md bi translated">复制。env文件从上一步复制到项目根目录。</li><li id="5905" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">在项目根目录下创建一个<em class="no">资产</em>文件夹。在mumbai.polygonscan.com显示合同。单击“合同”并向下滚动到接近末尾的位置。在那里你会找到ABI契约。点击<em class="no">将ABI复制到剪贴板</em>。创建文件<em class="no"> assets/abi.json </em>并粘贴。</li></ul><p id="e846" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在做一个颤振运行和薄荷一些NFT。从第0圈开始，如果效果如预期，则从第1圈到第9圈。</p><p id="8859" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要查看钱包中的NFTs，您首先必须添加令牌类型。单击“资产”，然后单击“导入令牌”。现在，钱包应该显示您有10个JDCC类型的代币，或者您在。环境文件。使用Chrome extension版本的MetaMask，您无法显示钱包中的NFT图像。使用Android应用程序版本，您可以。如果你喜欢，试试看。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="2dc1" class="mq mr it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">6.在OpenSea上列出NFT</h2><p id="0a8f" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">如果你想从你的NFT中赚钱，你必须把它们列在一个网站上，人们可以找到并购买它们。最受欢迎的网站是OpenSea。在我们测试的时候，我们会在<a class="ae lu" href="https://testnets.opensea.io/" rel="noopener ugc nofollow" target="_blank"> testnets.opensea.io </a>使用他们的测试版本。</p><p id="7d47" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">去那里搜索John Doe的Circles集合或者您在。环境文件。现在您应该可以看到您的NFTs了(第一次可能需要一段时间)。单击编辑符号(笔)并输入所需的信息，如徽标和描述。提交更改。然后点击第一个NFT。</p><p id="a7b0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">检查字段。单击详细信息查看合同地址和令牌号。你现在可以按一下「出售」让买家看到它。在下一个屏幕上输入价格，例如0.01 ETH(约合25美元)。输入持续时间(最长6个月)。点击完成列表。</p><p id="2ee3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对你所有的10个NFT重复这个步骤——但是如果你有100个，或者10，000个呢？OpenSea 有一个<a class="ae lu" href="https://www.npmjs.com/package/opensea-js" rel="noopener ugc nofollow" target="_blank"> API，但遗憾的是(在撰写本文时)不支持Mumbai或Polygon，只支持以太坊。相反，您可以使用像</a><a class="ae lu" href="https://pptr.dev/" rel="noopener ugc nofollow" target="_blank">木偶师</a>或<a class="ae lu" href="https://www.mjtnet.com/" rel="noopener ugc nofollow" target="_blank">宏调度器</a>这样的包来自动化OpenSea GUI。我们不会在这里讨论，但是你可以在网上找到相关的文章。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="7879" class="mq mr it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">7.从测试到生产</h2><p id="b7b9" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">如果你对你在Mumbai和testnets.opensea.io上的收藏感到满意，你现在可以把它部署到Polygon Mainnet上。这个不贵，但也不免费，而且你还得在钱包里弄点真的加密货币。把你的钱包换成多边形。</p><ul class=""><li id="4a3f" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt nz mb mc md bi translated">不需要太多，1 MATIC就够了。有很多网站出售密码(比特币基地，币安，…)。它们的不同之处在于注册的复杂程度、最低购买量以及支持的区块链和货币。我用了<a class="ae lu" href="https://transak.com/" rel="noopener ugc nofollow" target="_blank"> Transak </a>。他们的最低购买量会给你带来比你需要的更多的好处。而是在Polygon上买USDT，或者WETH (Wrapped Ether = ETH on Polygon)。然后去https://wallet.polygon.technology/gas-swap<a class="ae lu" href="https://wallet.polygon.technology/gas-swap" rel="noopener ugc nofollow" target="_blank">拿1 MATIC。</a></li><li id="e841" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">现在你可以在Polygon:<em class="no">npx hard hat run scripts/deploy . js-network Main上创建契约了。</em>这可能需要几分钟时间。</li><li id="cf3f" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">将新合同地址复制/粘贴到。env文件(Hardhat使用的文件和nft_contract应用程序使用的副本)。</li><li id="bc05" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">运行<em class="no"> npx hardhat运行脚本/verify.js - network Main。</em>这可能也需要一些时间。</li><li id="a70a" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">更新nft_contract应用程序:在initState覆盖中，更改</li></ul><p id="f0e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">最终</strong> ALCHEMY_KEY = dotenv。<strong class="la iu"> env </strong> [ <strong class="la iu">'炼金术_钥匙_测试'</strong>]；<br/>到<br/>T16】最终 ALCHEMY_KEY = dotenv。<strong class="la iu"> env </strong> [ <strong class="la iu">'炼金术_钥匙_产品'</strong>]；</p><ul class=""><li id="60c6" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt nz mb mc md bi translated">现在运行应用程序并创建您的NFTs。</li><li id="4799" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt nz mb mc md bi translated">过一会儿，你应该可以在“production”<a class="ae lu" href="https://opensea.io/" rel="noopener ugc nofollow" target="_blank">OpenSea</a>网站上看到你的收藏。如上所述编辑收藏。您也可以在创建者收入下输入百分比费用(最多10)。那么每卖出(或转售)一个NFT，你就可以获得销售价格的10%。单击每个NFT并将其列出。</li></ul><p id="77ec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你完了！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="90d8" class="mq mr it bd ms mt mu dn mv mw mx dp my lh mz na nb ll nc nd ne lp nf ng nh ni bi translated">结束语</h2><p id="0fbc" class="pw-post-body-paragraph ky kz it la b lb nj ju ld le nk jx lg lh nl lj lk ll nm ln lo lp nn lr ls lt im bi translated">感谢您阅读这篇长文。我们已经走过了很多地方。如果你喜欢，请鼓掌。如果您有问题或意见，请回复。你可以买一个我的NFT来感谢我。可能不是一个好的投资，但谁知道呢？</p></div></div>    
</body>
</html>