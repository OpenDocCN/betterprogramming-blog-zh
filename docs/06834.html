<html>
<head>
<title>Making Grids in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python制作网格</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/making-grids-in-python-7cf62c95f413?source=collection_archive---------2-----------------------#2020-11-10">https://betterprogramming.pub/making-grids-in-python-7cf62c95f413?source=collection_archive---------2-----------------------#2020-11-10</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="eaef" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">臀部要方</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/36ae9d4cb013ae858003663f8ed37bd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZW7jdc5qgkKcIc_uV_TMSQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者照片。</p></figure><p id="0341" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在某些时候，你可能需要为一个项目或编码面试问题(走迷宫、搜索)制作一个网格或类似网格的视觉结构。网格也是在画布表面有序放置对象的基础，在更复杂的情况下，如等轴视图和平铺游戏。</p><p id="5729" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这篇文章希望以一种无痛的方式把我们从零网格带到中级网格。</p><p id="f966" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><em class="lv">注意:这里讨论的代码和概念在不同的语言之间是可以互换的，但是有些语言提供了更好的本地体验，并且网格需要原语。Python因为没有原生的/简单的GUI解决方案而臭名昭著，所以我将使用下一个最好的解决方案:</em><a class="ae lw" href="https://www.pygame.org/news" rel="noopener ugc nofollow" target="_blank"><em class="lv">pygame</em></a><strong class="lb iv"><em class="lv">(</em></strong><em class="lv">如果你想编码就安装它):</em></p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="9024" class="mc md iu ly b gz me mf l mg mh">pip install pygame</span></pre><p id="2dc8" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><em class="lv">或:</em></p><pre class="kk kl km kn gu lx ly lz ma aw mb bi"><span id="de95" class="mc md iu ly b gz me mf l mg mh">python3 -m pip install pygame==2.0.0</span></pre><p id="9f8c" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">Pygame并不是一个真正的GUI库，而是一个简单的游戏引擎，你可以在几分钟内安装并理解它，然后适应你的GUI或你选择的语言。请看下面的速成片段……</p></div><div class="ab cl mi mj hy mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="in io ip iq ir"><h1 id="4b2b" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">先决条件</h1><p id="02ea" class="pw-post-body-paragraph kz la iu lb b lc ng jv le lf nh jy lh li ni lk ll lm nj lo lp lq nk ls lt lu in bi translated">下面是一个小脚本，在pygame中创建了一个窗口，一个要在上面画画的表面，还画了一条对角线。大部分是设置好的。重要的是代表我们画布的窗口/表面大小和在空间中取两点并画一条线的<code class="fe nl nm nn ly b">drawline()</code>函数:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nq"><img src="../Images/a6666eceda1a26d1c112f2d9de8c2047.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*Ty_tQbr9bhnvLHl2uUWoNA.png"/></div></figure></div><div class="ab cl mi mj hy mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="in io ip iq ir"><h1 id="cbdc" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">基本网格</h1><p id="f423" class="pw-post-body-paragraph kz la iu lb b lc ng jv le lf nh jy lh li ni lk ll lm nj lo lp lq nk ls lt lu in bi translated">网格的前身是一个简单的矩形，我们可以通过制作四条线并添加一些填充来创建它。关键是理解坐标系。这是我们将要编码的图表:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nr"><img src="../Images/ed46a9db3fbea8d7462ba625e924098a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xG_o8vLPGD41kstRJwbvsQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者照片。</p></figure><p id="5413" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在代码中，它看起来像这样:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ns"><img src="../Images/7e62e7b419bb9871865fc093f2cfe89b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v4oPhj-MOisgyasg7gS4kg.png"/></div></div></figure><p id="3676" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><em class="lv">注意:不要担心前面和后面例子的长度和冗长。它们旨在帮助您理解坐标系(这可能很棘手)。</em></p></div><div class="ab cl mi mj hy mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="in io ip iq ir"><h1 id="99b3" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">一个3X3的网格</h1><p id="e71d" class="pw-post-body-paragraph kz la iu lb b lc ng jv le lf nh jy lh li ni lk ll lm nj lo lp lq nk ls lt lu in bi translated">对于我们的第一个适当的网格，我们可以简单地将矩形分成垂直和水平的单元格，并通过一个<code class="fe nl nm nn ly b">for</code>循环添加线条:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nt"><img src="../Images/3eb33c323f31ba172e625e9481eb17f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2q1F9-K7XipMJfrtHPRGYQ.png"/></div></div></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nu"><img src="../Images/b39501c76ee472923cda80626deb15d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tMqD3gitq6-5bWs3_oSPnA.png"/></div></div></figure><p id="b924" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在这一点上，我们有一个适当的网格。您还可以增加分割数、填充数和屏幕大小。</p></div><div class="ab cl mi mj hy mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="in io ip iq ir"><h1 id="654e" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">方形网格</h1><p id="0fb5" class="pw-post-body-paragraph kz la iu lb b lc ng jv le lf nh jy lh li ni lk ll lm nj lo lp lq nk ls lt lu in bi translated">你可能想要一个有正方形单元格的正方形网格。一般方法是一样的。你只需将你的尺寸添加到网格的容器中，使其成为正方形。另一个选择是绘制单独的矩形，并把它们放在我们一直在使用的点上(相关问题见下一节)。还有一种方法是预先算出所有的网格坐标(我们将在本文后面讨论)。</p><p id="03aa" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在，让我们只使用一个容器和坐标来定位它:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nv"><img src="../Images/f730eb32f7a80550667d6302e2d2e4d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-n-h1-BVa2CuaciwrJNlQ.png"/></div></div></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nw"><img src="../Images/c591d68dc88d40a90e54cffec090ee68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*VpLT-GVZUBPqt0zvmio4IA.png"/></div></figure><p id="680c" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><em class="lv">提示:</em> <strong class="lb iv"> <em class="lv"> </em> </strong> <em class="lv">笔和纸是你最好的朋友。如果你不能理解这些坐标，就像我们一直使用的图表一样画出它们之间的关系。</em></p><h2 id="b73f" class="mc md iu bd mq nx ny dn mu nz oa dp my li ob oc na lm od oe nc lq of og ne oh bi translated">你想要你的格子里有瓷砖吗？</h2><p id="1ea3" class="pw-post-body-paragraph kz la iu lb b lc ng jv le lf nh jy lh li ni lk ll lm nj lo lp lq nk ls lt lu in bi translated">网格中的瓦片或填充单元并没有什么特别难的，但是我们突然进入了一个地方，在这里我们将卑微的网格提升到了一个数据容器——因此网格和它的数据之间的关系需要得到承认。让我们简单地从在网格中放置一个单元格开始:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oi"><img src="../Images/9ce811f56ab8239ba89b2b882ba466dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NqLbgoxC3ZgJ53FTYR0RkA.png"/></div></div></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/ee1f4e29cbd2786fc18f52ef1c7e55a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_6yFt07yX_vtsRXb-21AA.png"/></div></div></figure><p id="df11" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">让我们稍微清理一下代码。作为最后一个简单的例子，让我们用瓷砖填充网格——这通常是用双<code class="fe nl nm nn ly b">for</code>循环完成的:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ok"><img src="../Images/ab4b4ac931b4d2f8d54b43b4c47e7733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qcQmRjh57WbD8Fozdd1dTg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">您也可以将for循环中的顺序颠倒为column/row，它会以相同的顺序填充网格——只是顺序不同。</p></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><p id="4baf" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">由于需要的变量和特殊情况的数量，向图块添加填充有时很棘手。例如，在这里，当网格太大或网格线太粗时，整个东西都会断裂。同样，纸和笔可以帮助您找到边缘案例并相应地编写代码。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ol"><img src="../Images/74a782ffd33ee55ad4343f283d043af9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M0xrt9m7dNvmMUJ3xcuo7w.png"/></div></div></figure></div><div class="ab cl mi mj hy mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="in io ip iq ir"><h1 id="94f2" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">中级网格学</h1><p id="5fc9" class="pw-post-body-paragraph kz la iu lb b lc ng jv le lf nh jy lh li ni lk ll lm nj lo lp lq nk ls lt lu in bi translated">现在，您应该对如何从头开始编写网格代码有了大致的了解。此时，您可能希望添加一个网格引用或对象，以便更好地管理网格和单元格之间的关系。我们可以像前面的例子一样用独立的常数来计算这两者，但是可能很难跟踪它们。因此，添加一些数据容器很有帮助。换句话说，我们希望在某个地方存储网格、坐标和单元格之间的关系。地图是一个受欢迎的选择…</p><h2 id="77c7" class="mc md iu bd mq nx ny dn mu nz oa dp my li ob oc na lm od oe nc lq of og ne oh bi translated">地图</h2><p id="16fa" class="pw-post-body-paragraph kz la iu lb b lc ng jv le lf nh jy lh li ni lk ll lm nj lo lp lq nk ls lt lu in bi translated">地图通常作为网格参考，并为您提供一个构建网格的蓝图和一个数据结构中的网格内容(在迷宫/代码访问、瓷砖游戏和计算机视觉/人工智能中很流行)。我们需要的第一件事是定义网格的数据结构(列表的列表或数组的数组也可以)。虽然我们当然可以使用<code class="fe nl nm nn ly b">for</code>循环来构建我们的数据容器，但是Python有完美的库来处理这些类型的结构:<a class="ae lw" href="https://numpy.org" rel="noopener ugc nofollow" target="_blank"> NumPy </a>。</p><p id="bfef" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">考虑下面的例子:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><p id="fd27" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在第一个例子中，我们制作了一个可以代表一个空网格的零矩阵。在第二个例子中，我们有0和1，现在可以表示网格的空白部分(0)和数据(1)。您可以根据需要推广到更高的领域(例如，为不同类型的单幅图块添加另一个数字)。</p><p id="6fa7" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我们现在需要修改现有代码，以接受我们刚刚创建的数据结构:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj om"><img src="../Images/f15a55fefba63d5f419b5619a0a89493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GaOrVgyXYvdAkdn8YLPAPw.png"/></div></div></figure><p id="3503" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">最终结果是，我们现在可以阅读网格地图！</p></div><div class="ab cl mi mj hy mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="in io ip iq ir"><h1 id="59a8" class="mp md iu bd mq mr ms mt mu mv mw mx my ka mz kb na kd nb ke nc kg nd kh ne nf bi translated">现在去哪里？</h1><p id="295b" class="pw-post-body-paragraph kz la iu lb b lc ng jv le lf nh jy lh li ni lk ll lm nj lo lp lq nk ls lt lu in bi translated">前面的例子当然可以改进。我们还可以使用不同的更精确的坐标系(<a class="ae lw" href="https://stackoverflow.com/questions/36013063/what-is-the-purpose-of-meshgrid-in-python-numpy" rel="noopener ugc nofollow" target="_blank">x，y坐标矩阵或点云很复杂，但功能强大</a>)并添加细胞行为——从为视频游戏制作动画和/或移动细胞到制作图表等更普通的东西。你的项目应该告诉你下一步去哪里。</p><p id="60ae" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我希望你可以自己制作网格，或者至少从这篇文章中获得一些对你的项目有用的信息。</p><p id="8634" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">感谢阅读！</p></div></div>    
</body>
</html>