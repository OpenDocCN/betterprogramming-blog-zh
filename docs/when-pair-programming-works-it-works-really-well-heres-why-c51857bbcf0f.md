# 结对编程的好处

> 原文：<https://betterprogramming.pub/when-pair-programming-works-it-works-really-well-heres-why-c51857bbcf0f>

## 当结对编程起作用时，它真的起作用。原因如下。

关于结对编程经常有不同的意见。以下是我与其他开发者配对的经历，从优秀到丑陋。

![](img/4f410acba189eef1479b53178573bd4d.png)

阿尔瓦罗·雷耶斯在 [Unsplash](https://unsplash.com/search/photos/pair-programming?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

首先，我说我像宗教一样实践结对编程(也称为结对)。当我刚毕业时，当我不知道如何分解一个故事或一个功能时，结对编程成了我的救星。当我想快速学习和提高技能时，它是我的救星。当我从一个不知道什么是“好”代码的大学生转变为一个崭露头角的软件开发人员时，它是我的救星。

然而结对编程通常是一种将开发人员、工程师和经理区分开来的实践。这是为什么呢？

# 结对编程及其争议简介

结对编程是指两个开发人员坐在一起共同完成相同的编程/编码任务，最重要的是，他们只在一台计算机上工作。它是软件开发中广泛使用的方法；根据[栈溢出洞察 2018](https://insights.stackoverflow.com/survey/2018) ，28.4%的受访者使用结对编程。通常，配对设置将包括两组键盘、两个鼠标和一个或两个镜像屏幕。

现在你可能会想，*“这听起来像是浪费时间，两个开发人员在做同样的事情？!"的确，从历史上看，编程一直是一项非常孤独的任务。我们经常看到开发人员独自编码，并且很不愿意与另一个开发人员一起编码。这是因为软件开发可以被认为是一门“手艺”——数学、逻辑和创造性思维的混合物——所以代码对某些人来说可能是非常私人的，就像一件艺术品一样*

现在，让我们把自己放在软件经理或项目经理的位置上(不同的公司会有不同的职位，但是你明白我的意思)。在外人看来，这就像是两个人在做同一件传统上由一个人完成的工作。这肯定看起来根本不划算，而且经济学根本说不通(因此引发了争议)。

有一次，一位经理告诉我的团队，我们将“绝对不结对”，如果他们看到两个开发人员甚至看着同一个屏幕，将会有后果。就我个人而言，这给我留下了非常糟糕的印象，因为它呼应了一种反合作的情绪。具有讽刺意味的是，根据就业中心对 4500 名英国雇主的调查，团队合作和协作技能是最受欢迎的。这是故事的另一面。

# 当然，两个人在做同一件事。但是结对编程的好处证明了这一点。

我经历过两种配对非常令人惊讶的情况。

第一种情况是，两个人中有一个人更有经验，愿意教书。这通常被称为**新手-专家**配对。这种配对有一些很大的好处。

显而易见的好处是团队内部有了*的背景共享和知识分配*。大约一年前，我在电信行业的一个项目中。在第一天，我开始与其他开发人员配对，所以从第一天起，我就为工作的交付做出贡献。根据 StackOverflow Insights 2018 ，44.7%的受访者表示，他们预计同事需要一到三个月的时间来适应工作，这一点很重要。我开始学习利益相关者(业务和电信技术人员以及其他人)使用的缩写和领域概念，因为这些都出现在代码中，我的搭档会向我解释它们。这反过来增加了我在新代码库上编写代码的信心，也增加了开发人员的满意度。没有时间花在试图找出现有的(和遗留的)代码库的工作上。

不止我一个人有这种想法。在一项[调查](https://raygun.com/blog/how-good-is-pair-programming-really/)中，百分之九十五的开发人员表示，当他们配对时，他们对自己的解决方案更有信心。这与我参与的其他一些项目形成了鲜明对比，在这些项目中，没有人愿意或愿意抽出时间来分享背景，这导致了自信心的下降。

![](img/e9a4cb83ba120d056049a95c85460bd5.png)

制造者在 [Unsplash](https://unsplash.com/search/photos/coding?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上 [NESA 的照片](https://unsplash.com/photos/IgUR1iX0mqM?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

出于类似的原因，结对也有助于提升彼此的技能——毕竟，每个人都有所贡献！如果你有一个 Android 开发人员和一个 iOS 开发人员在同一个团队中，他们有可能在配对过程中提升彼此的技能。然后，这两者都可以在 Android 或 iOS 上工作。让这一点沉淀一会儿——一个完全跨职能的团队可能非常强大。我曾经是这一对中的一员，我们能够分享对不同平台的深刻见解。她学会了如何让 Android 应用变得易于测试，我也学会了 iOS 应用中的 UI 是如何工作的。你可以想象一个非跨职能团队的情况；你可能最终会依赖某些人来完成工作(导致等待时间)。

最重要的是，代码质量更高，产生的缺陷更少。在 2000 年的一项[研究](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.26.9064)中，考克伯恩和威廉姆斯表明，当两个人成对编程时，与单独编程相比，缺陷减少了 15 %,这一差异具有统计学意义。

这一点很重要，因为当我们谈论完成工作需要多长时间时，缺陷通常不被考虑。事实上，尽管敏捷软件开发中“完成”的标准定义是围绕着如何将一个故事投入生产*和*达到生产质量(这两件事是不一样的)，但是这个概念经常被遗忘。我们倾向于关注故事从“正在进行”或“开发中”专栏到下一个专栏的速度。

[缺陷](http://leanmanufacturingtools.org/129/waste-of-defects-causes-symptoms-examples-and-solutions/)是精益生产中的七种浪费之一，很难真正评估缺陷的经济成本，因为有许多非显而易见的任务需要修复缺陷。例如，修复缺陷的人可能不是处理相应故事的人，这意味着需要额外的努力和时间来理解代码(在非配对场景中)。上下文丢失。缺陷的隐藏成本的另一个例子是功能需要重新测试。不管怎样，缺陷肯定是返工，并且会延迟团队交付高质量的软件。

让我们来谈谈第二种类型的配对组合，我在其中找到了极大的乐趣:当两个人处于相同的水平，都有相当多的经验。这通常被称为**专家-专家**配对。

使用专家-专家格式，您可能会得到较少的净收益(例如，专家可能已经是专家了，因此会产生更高质量的代码和更少的缺陷)。然而，根据我的经验，这种组合产生了令人惊讶的高开发人员满意度。我经常在寻找我的解决方案来应对挑战，而这种配对恰恰提供了这种挑战，最终结果是我们双方最佳想法的融合。

你可能已经注意到我没有提到**新手-新手**结对(比如两个毕业生结对)，这是有原因的。一些结对的倡导者认为，这种结对将允许两个开发人员从其他地方(例如其他技术栈)分享观点，并一起学习。这种*在理论上可以*工作，但实际上我经常看到两个非常不满、困惑和沮丧的开发人员的这种结果。

在一个研究生培训项目中担任教练的短暂时间里，我们将毕业生与其他毕业生配对。结果是他们中的许多人带着恐惧来找我，担心他们没有学会如何写好代码，而只是简单地做任何有用的事情。开发者满意度下降。信心下降了。最重要的是，配对后，他们仍然不知道什么是好的。这是我个人更喜欢新手-专家和专家-专家配对而不是新手-新手的主要原因之一。

综上所述，正确配对有很多好处。然而，我想提醒的是，没有结对，你仍然可以实现这种文化，但是当结对成为你的团队文化的一部分时，它几乎是有保证的。

# 当配对不顺利时…

毫无疑问，我也遇到过配对不顺利的情况。配对技术也需要发展，就像其他技能一样。

那么什么时候不见效呢？

我发现当你在新手-专家结对中时，结对是最*无效的，因为专家**不参与并且不愿意分享背景和/或知识**。你实际上得不到前面提到的任何好处。*

我经历过或观察到的其他常见的无效配对情况:

*   新手-专家配对，新手不参与也不愿意学习。如果你愿意教书，想要分享知识，却遇到了一堵砖墙，这尤其令人沮丧。
*   新手-专家配对，专家一直驱动代码，不给新手实验和实践的机会。这是一个非常令人沮丧的经历，尤其是如果你想学习，但是你遇到了所谓的“键盘猪”这也被称为“在我完成这个程序的时候给我沏杯茶”综合症(Matt Stephens 和 Doug Rosenberg 在[Extreme Programming Refactored:The Case Against XP](https://www.researchgate.net/publication/315384910_Extreme_Programming_Refactored_The_Case_Against_XP)中提到过)。
*   两人中的一个开发者不接受不同的意见，并且回避有礼貌的技术辩论。这是一个困难的问题，因为这意味着你需要接受这样一个事实，有时你的解决方案可能不是最好的，或者可能被其他人的想法所增强。

在这种情况下，专业开发人员还不如单干*。* **结对要求双方平等投入，开放，专注于实现利益。它允许团队的能力增长和发展，但是如果没有愿意的、严格的个人，它将无法工作。**

## 您如何缓解这些问题？

这听起来可能很傻，但减轻这些问题的一个方法是提供一个舒适的工作空间，这实际上有利于配对。结对已经是一项很难有效执行的技能，如果两个人只用一个键盘、鼠标和屏幕工作，这种挑战会更加明显。如果他们不能足够频繁地打字，很快就会有一半人感到多余、无用和无聊。在这种情况下实际工作可能会很不舒服。(背痛，有人吗？)同样，这一点可能看起来微不足道，但在最近的一个项目中，由于公司的繁文缛节，我花了*个月*才得到一个额外的键盘和鼠标。当然，结对是行不通的——我们不是为成功而生的。

另一个要考虑的方面是配对的实用方法。也许不是所有的任务都需要结对完成——这是你的团队需要做出的决定。一些开发任务并不复杂，团队中的每个人都有能力完成它们(一些简单的事情，比如改变按钮上的文本或颜色)。小心滑坡——这很容易培养一种消极的文化，人们说一切都可以独自完成，没有知识在其他人之间共享。

还有反馈，反馈，反馈。如果与某人配对不成功，不要因此而放弃配对——给那个人反馈，看看是否会有变化。

# 配对还是不配对？

虽然我是结对的忠实信徒，但我也承认这并不是每个团队的最佳模式。说结对是实现前面提到的结果的唯一方法是不现实的，如果作为单独的开发人员工作，但是进行有效的代码评审和共享对你的团队来说更有效，那就这样吧！但是如果你的团队想尝试结对编程，看看它是否能让你的团队变得更好，那么为什么不呢？当结对编程做得很好，并且你的团队真正地*想要*结对的时候，结对编程就会产生神奇的效果。

记住，*人超过流程和工具*。