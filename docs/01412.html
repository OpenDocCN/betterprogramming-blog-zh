<html>
<head>
<title>How to Find Bugs in Your JavaScript Code With the Debugger</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用调试器发现JavaScript代码中的错误</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-find-bugs-in-your-code-with-the-debugger-a7f739ea98?source=collection_archive---------3-----------------------#2019-09-07">https://betterprogramming.pub/how-to-find-bugs-in-your-code-with-the-debugger-a7f739ea98?source=collection_archive---------3-----------------------#2019-09-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2d4d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">JavaScript中的调试器语句到底是什么？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ef4b282d354b8d9ae2feac610d2ac252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s3SdRC38X-soKPbn"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">约翰·施诺布里奇在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="92ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您知道JavaScript内置了一个调试器吗？调试器在查找bug和跳过嵌套的回调、承诺等方面非常有用。<code class="fe lv lw lx ly b">debugger</code>语句适用于客户端和服务器端呈现的JavaScript代码。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="0efd" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">句法</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">调试器</p></figure><p id="549f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">debugger</code>语句让我们停止代码执行并检查任何变量、值等。本质上，它充当了<code class="fe lv lw lx ly b">return</code>键并阻止函数执行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/40eb0ffd3785362b8ce9ed19ed0176bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aW-z7WqyHzJWjECJBvKbjA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">调试JavaScript</p></figure><p id="d1e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们执行上面的代码时，这就是我们应该看到的。注意“调试器中暂停”文本和右边的<code class="fe lv lw lx ly b">resume</code>和<code class="fe lv lw lx ly b">loop-over</code>按钮。在左边的面板上，我们看到“sources”选项卡和带有我们传入的值的<code class="fe lv lw lx ly b">debugThis</code>函数。如果你将鼠标悬停在变量<code class="fe lv lw lx ly b">a</code>和<code class="fe lv lw lx ly b">b</code>上，你会看到它们的值。</p><p id="f0a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们有更复杂的事情发生，我们需要检查哪里出错时，说这是一个方便的工具是一种保守的说法。更复杂的应用程序可能从十个不同的数据源获取数据，但其中一个可能会失败。为什么和如何？<code class="fe lv lw lx ly b">debugger</code>来救援了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/4501c193575e943d88df6a0e2cb044bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*k3x_MdQ09R096cv9p6oVnQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要恢复正常，请按“恢复”按钮。</p></figure><p id="1561" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">debugger</code>语句调用任何可用的调试功能，比如设置断点。如果没有可用的调试功能，则该语句无效。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="0afa" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">多个调试器</h1><p id="8be6" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">当我们有不止一个<code class="fe lv lw lx ly b">debugger</code>语句和大量的回调或承诺时，调试器真的会发光。以下面的例子为例，我们有一个闭包函数。我们获取外部函数的<code class="fe lv lw lx ly b">a</code>值，并将其传递给内部函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="3298" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">调试器为我们提供了一种灵活的方法来检查函数的所有值。在闭包内部，我们可以检查<code class="fe lv lw lx ly b">a</code>、<code class="fe lv lw lx ly b">b</code>和<code class="fe lv lw lx ly b">c</code>参数值。将鼠标悬停在函数参数上，亲自查看。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/e866de9d573881c42e4b1a97ba630528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dfrYmuGJwrhsFAUEv__8aw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">闭包内的调试器</p></figure><p id="69bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经掌握了<code class="fe lv lw lx ly b">debugger</code>的窍门，让我们来看一个更复杂的例子。首先，我们检查是否将<code class="fe lv lw lx ly b">name</code>参数传递给了<code class="fe lv lw lx ly b">createPerson</code>函数。如果没有，我们停止所有的代码执行，并向控制台发出警告。如果有一个<code class="fe lv lw lx ly b">name</code>，用传递给它的参数创建一个<code class="fe lv lw lx ly b">person</code>对象。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="ed32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:如果你不熟悉对象速记语法，我建议你看看这篇文章。</p><div class="ni nj gp gr nk nl"><a href="https://medium.com/better-programming/use-these-javascript-features-to-make-your-code-more-readable-ec3930827226" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">如何使用析构和箭头函数来改进您的JavaScript代码</h2><div class="ns l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny ks nl"/></div></div></a></div><p id="9559" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们用给定的参数调用了<code class="fe lv lw lx ly b">createPerson</code>函数，调试器就会弹出。让我们看看它告诉我们什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/85b240c9e67978705870bb17e892be8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V5-sw-0Cqc3JxPJbTSAvQQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启动我们的第一个调试器</p></figure><p id="107d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个<code class="fe lv lw lx ly b">debugger</code>确实启动了，并让我们可以检查<code class="fe lv lw lx ly b">createPerson</code>参数。你能说出如果我们检查<code class="fe lv lw lx ly b">person</code>物体会发生什么吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/4362635603b8c1894174f685feec72d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xrtWFVJZWycWgtW5o6QQQw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">人员对象未定义</p></figure><p id="5571" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">未定义？为什么<code class="fe lv lw lx ly b">person</code>没有定义？很简单——因为我们还没有执行那部分代码。我们在函数的第一行停止了代码执行。我们没有对<code class="fe lv lw lx ly b">person</code>对象的范围访问权，因为它不存在。</p><p id="8f5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们按下蓝色的resume按钮，我们的第二个调试器就会启动，这次是在<code class="fe lv lw lx ly b">hasName</code>函数内部。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/9258f28c2b4a6fa0bc3932052b016f52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7NxXZFu0ADvqAw4WabifIw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第二个调试器启动</p></figure><p id="7673" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们进入了<code class="fe lv lw lx ly b">hasName</code>函数——这个函数快速检查是否有一个<code class="fe lv lw lx ly b">name</code>传递给了<code class="fe lv lw lx ly b">person</code>函数。将它放在一个单独的函数中没有多大意义，因为我们可以检查<code class="fe lv lw lx ly b">createPerson</code>中的单个属性——但是对于调试器演示来说，这是一个如何实际应用调试器的有用展示。我们的<code class="fe lv lw lx ly b">person</code>对象仍然是<code class="fe lv lw lx ly b">undefined</code>，因为我们正在执行<code class="fe lv lw lx ly b">hasName</code>函数，还没有到达创建<code class="fe lv lw lx ly b">person</code>对象的部分。</p><p id="6261" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，按resume按钮，启动第三个调试器:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/ac48bbe0be0ebaf4094a33c6c484e51f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GugbJ47fG8Bf4V_GrD3oUQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启动我们的第三个调试器</p></figure><p id="b46a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。我们应该能够看到所有的变量和对象值，因为实际上，我们的代码已经执行完毕。如果我们不向<code class="fe lv lw lx ly b">createPerson</code>函数传递一个<code class="fe lv lw lx ly b">name</code>会发生什么？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/84a35d7ac0d9055801b62c325a7821c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hdYOiJEwF5XUfGMnVYCNOw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如果我们不向我们的<strong class="bd oe"> createPerson </strong>函数传递名称会发生什么</p></figure><p id="5ce0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">显然，这里有一个关于我们如何忘记传递一个<code class="fe lv lw lx ly b">name</code>给函数的警告。一个<code class="fe lv lw lx ly b">person</code>不可能没有名字——除非一个<code class="fe lv lw lx ly b">person</code>什么都不是(至少在《权力的游戏》中)。</p><p id="6bc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下次，在你准备写<code class="fe lv lw lx ly b">console.log</code>之前，试着找借口使用调试器。在纸面上，您可以设置您的web bundler，如<a class="ae ky" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> webpack </a>或<a class="ae ky" href="https://parceljs.org/" rel="noopener ugc nofollow" target="_blank"> parcel </a>来删除生产中默认的<code class="fe lv lw lx ly b">debugger</code>语句。调试器也在<a class="ae ky" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">节点</a>环境中工作。</p><p id="db44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想使用Node的调试器，<a class="ae ky" href="https://medium.com/better-programming/supercharge-your-debugging-experience-for-node-js-3f0ddfaffbb2" rel="noopener">请查看我之前写的这篇文章。</a>我将深入探讨如何调试服务器端JavaScript代码。</p><div class="ni nj gp gr nk nl"><a href="https://medium.com/better-programming/supercharge-your-debugging-experience-for-node-js-3f0ddfaffbb2" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">增强Node.js的调试体验</h2><div class="of l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">当控制台日志不够用时</h3></div><div class="ns l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="og l nv nw nx nt ny ks nl"/></div></div></a></div></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="b0f9" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">摘要</h1><p id="bf3c" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">如果我们被给予有用的工具来使我们的生活更容易，我们应该使用它们并且经常使用它们。在适当的时候，调试器是您工具箱中的一个方便工具。</p><p id="b886" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您喜欢这篇文章，并想了解更多关于如何有效调试JavaScript代码的信息，请查看下面的文章。</p><div class="ni nj gp gr nk nl"><a href="https://medium.com/better-programming/boost-your-javascript-debugging-skills-with-these-console-tricks-ab984c70298a" rel="noopener follow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">使用这些控制台技巧提高您的JavaScript调试技能</h2><div class="of l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">JavaScript给了我们很多调试代码的工具</h3></div><div class="ns l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="oh l nv nw nx nt ny ks nl"/></div></div></a></div><p id="4e23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是JavaScript新手，想学习这门语言，我建议你从阅读书籍和构建东西开始。从“<a class="ae ky" href="https://amzn.to/2LOkzjj" rel="noopener ugc nofollow" target="_blank"> <em class="oi">学习JavaScript的更聪明的方法</em> </a>”这本书和<a class="ae ky" href="https://medium.com/better-programming/the-secret-to-being-a-top-developer-is-building-things-heres-a-list-of-fun-apps-to-build-aac61ac0736c" rel="noopener">开始吧，这里有一个要开发的有趣应用的列表</a>。</p><p id="5eaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开心编码，保持牛逼！</p></div></div>    
</body>
</html>