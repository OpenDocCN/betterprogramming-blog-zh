<html>
<head>
<title>Build Your Personal Website for Free Using React.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React.js免费建立你的个人网站</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/get-your-personal-website-for-free-create-it-with-reactjs-b7e3c3c874b4?source=collection_archive---------6-----------------------#2022-09-07">https://betterprogramming.pub/get-your-personal-website-for-free-create-it-with-reactjs-b7e3c3c874b4?source=collection_archive---------6-----------------------#2022-09-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="82f7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">并把它放在GitHub页面上</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b4935d71995c6959897cef6eeb6dbe9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ey85s7lcNxLgLxJHmwzwRA.png"/></div></div></figure><p id="81eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这篇文章中，我想告诉你如何免费创建你的个人网站！</p><p id="bf82" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为此，我们将使用<a class="ae ln" href="https://pages.github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub Pages </a>，这将为我们提供托管网站的机会，甚至会给我们一个安全的(HTTPS) URL。</p><p id="6f01" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">可选地，我们甚至可以使用我们自己的域名，在这种情况下，这是你唯一需要支付的东西。</p><p id="e522" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如题，我们想用ReactJs创建网站。</p><p id="d127" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为什么？</p><p id="e498" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">嗯，你可以用一种更简单的方式创建它，按照GitHub页面的建议。你甚至可以得到一个带有模拟数据的网站模板，你可以改变它！</p><p id="0f4c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是，作为一名对ReactJs有所了解的软件开发人员，我想创建一个定制的个人页面，我可以在将来更改它，使用我想要的UI控件和库，或者其他任何东西。也许这样做有点困难，但我认为这是定制化的代价。</p><p id="523d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我使用了<a class="ae ln" href="https://mui.com/material-ui/" rel="noopener ugc nofollow" target="_blank"> MaterialUI </a>和<a class="ae ln" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> NextJs </a>库。稍后我会解释原因。</p><h1 id="c407" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">GitHub页面</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/d472ef3379bbd83ac63325bb515fdf39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bju7hnLuJhkUAKfVCsaF_g.gif"/></div></div><p class="mh mi gj gh gi mj mk bd b be z dk translated">GitHub页面</p></figure><p id="659f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">GitHub Pages是GitHub免费提供给开发者的一项服务，用于创建个人或公司网站。你只需要一个GitHub用户，然后创建一个名为<code class="fe ml mm mn mo b">&lt;yourGithubUsername&gt;.github.io</code>的GitHub资源库。之后，您提交并推送一个文件<code class="fe ml mm mn mo b">index.html</code>到您的repo，就这样。你将有你的网站工作(可能需要几分钟)。你可以在<code class="fe ml mm mn mo b">https://&lt;yourGitHubUsername&gt;.github.io</code>查到。</p><p id="834d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">由于我们可以呈现静态网页(<a class="ae ln" href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll" rel="noopener ugc nofollow" target="_blank"> GitHub pages建议</a>使用<a class="ae ln" href="https://jekyllrb.com/" rel="noopener ugc nofollow" target="_blank"> Jekyll </a>来生成您的站点)，我决定使用<a class="ae ln" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> NextJs </a>来创建我的ReactJs应用程序。Next.js允许ReactJs服务器端呈现，但它也生成一个静态web应用程序，我们可以将它复制到github.io repo中并推送。</p><h1 id="3753" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">为什么是Next.js？</h1><p id="de27" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">我们可以使用ReactJs创建单页应用程序(spa)，它有一个路由库(react-routes)，我们可以使用它来创建多页和更复杂和完整的应用程序。问题是我们需要一个Node.js应用程序来托管它。这就是我们决定使用NextJs的原因。</p><p id="00d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Next.js允许我们进行服务器端渲染，这只是在将网页发送到浏览器之前创建网页，然后添加ReactJs和其余的javascript代码。这在SEO方面非常有用。而且，NextJs构建并导出一个静态网站，我们只需将其复制并粘贴到您的GitHub页面中，就可以了。</p><p id="3b24" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我创建个人网站的目标是在react中创建一个功能性和可定制的网站，但不是使用最纯粹的react最佳实践，如使用redux、react-routes、从API端点获取数据或使用GraphQL…这就是为什么我从静态文件中获取数据，并且我不关心单元测试等等。</p><h1 id="376d" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">让我们创建我们的GitHub页面库</h1><p id="8c88" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">如前所述，我们需要用这个模式<code class="fe ml mm mn mo b">&lt;yourGitHubUsername&gt;.github.io</code>创建一个新项目，因此，在我的例子中，回购名称是<code class="fe ml mm mn mo b">rulyotano.github.io</code>。之后，您可以将您的回购克隆到您的本地机器上，并创建一个包含一些内容的<code class="fe ml mm mn mo b">index.html</code>文件。将更改推送到GitHub后，您应该会在<code class="fe ml mm mn mo b">https://&lt;yourGitHubUsername&gt;.github.io</code>中看到一些东西，可能需要几秒钟。</p><p id="b8ad" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这一点上，知道你可以使用<a class="ae ln" href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll#about-jekyll" rel="noopener ugc nofollow" target="_blank">化身</a>到<a class="ae ln" href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/creating-a-github-pages-site-with-jekyll" rel="noopener ugc nofollow" target="_blank">来生成你的网站</a>是有好处的。这是GitHub页面推荐的选项。他们这样描述它:</p><blockquote class="mu mv mw"><p id="e284" class="kr ks mx kt b ku kv jr kw kx ky ju kz my lb lc ld mz lf lg lh na lj lk ll lm ij bi translated">Jekyll是一个静态站点生成器，内置了对GitHub页面的支持和简化的构建过程。Jekyll采用Markdown和HTML文件，并根据您选择的布局创建一个完整的静态网站。Jekyll支持Markdown和Liquid，这是一种在站点上加载动态内容的模板语言。</p></blockquote><p id="408d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你不想使用Jekyll，你可以创建自己的静态网站。这基本上就是我们在这里要做的事情。</p><p id="7098" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里另一个重要的事情是，你可以在你的网站上启用HTTPS<a class="ae ln" href="https://docs.github.com/en/pages/getting-started-with-github-pages/securing-your-github-pages-site-with-https" rel="noopener ugc nofollow" target="_blank">，但是你也可以使用</a><a class="ae ln" href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages" rel="noopener ugc nofollow" target="_blank">你的自定义域名</a>。我建议遵循指南，因为它们解释得很清楚。但是基本上，你需要去你的GitHub库- &gt;设置标签- &gt;页面(在代码和自动化部分下)。您可以在这里配置两者。此外，您可能需要添加一些记录到您的域提供商配置，并且，为了验证您拥有这个网站，您将需要包括一个CNAME文件在您的代码与您的域名为值。</p><h1 id="b9d6" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">让我们创建我们的网站项目和存储库</h1><p id="28e8" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">我们不需要为这个项目创建另一个存储库。我们可以直接更新我们的GitHub Pages repo，但是由于我们要创建一个Next.js + React.js项目，所以需要构建并发布它，输出是我们可以复制到我们的Pages repo中的内容。如果我们不创建这个回购，我们以后就不能更新我们的网站，或者至少我们将不得不直接在输出中这样做，并且会失去ReactJs的好处。</p><p id="e2e0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们需要创建新的GitHub存储库，名称并不重要。我只是把它命名为<a class="ae ln" href="https://github.com/rulyotano/mui-profile" rel="noopener ugc nofollow" target="_blank"> mui-profile </a>(因为我用的是Material-Ui)。之后，只需将其克隆到您的本地。</p><p id="c004" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后让我们创建Next.js应用程序。在继续之前，如果你想了解更多关于NextJs的信息，就来看看这个:<a class="ae ln" href="https://nextjs.org/learn/foundations/about-nextjs/what-is-nextjs" rel="noopener ugc nofollow" target="_blank">next . js是什么？</a>，你也可以在这里找到(<a class="ae ln" href="https://nextjs.org/docs/getting-started" rel="noopener ugc nofollow" target="_blank">入门|下一个</a>)。js)启动和配置它的完整分步指南。</p><p id="8b99" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要安装node . js(12 . 22 . 0或更高版本)，在我的例子中，我将使用<code class="fe ml mm mn mo b">yarn</code>(您可以安装<code class="fe ml mm mn mo b">yarn</code>作为另一个全局npm包)。正如指南所说，只需运行这个命令来创建它:<code class="fe ml mm mn mo b">yarn create next-app --typescript</code>。我想使用typescript，所以我添加了选项<code class="fe ml mm mn mo b">--typescript</code>。安装完所有的依赖项后，您将拥有一个完整的、准备就绪的NextJs项目。</p><blockquote class="mu mv mw"><p id="f7a9" class="kr ks mx kt b ku kv jr kw kx ky ju kz my lb lc ld mz lf lg lh na lj lk ll lm ij bi translated"><strong class="kt ir">注意:</strong>运行上面的命令后，NextJs将把他的文件创建到另一个以你选择的项目名命名的目录中，这将增加一个额外的深度级别。我建议避免这种情况，并将所有文件和目录移动到根文件夹。</p></blockquote><p id="9e40" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在运行应用程序:</p><pre class="kg kh ki kj gt nb mo nc nd aw ne bi"><span id="e768" class="nf lp iq mo b gy ng nh l ni nj">cd ./your-project-name<br/>yarn dev</span></pre><p id="a366" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就是这样。如果你的端口3000是免费的，你应该能够在浏览器中打开<a class="ae ln" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>并看到你的全新应用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/6a78d28501a669b8136a470aee0f9268.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bekJTXwSgNj3R0_VYdvPiw.png"/></div></div><p class="mh mi gj gh gi mj mk bd b be z dk translated">HTTP://本地主机:3000</p></figure><h2 id="723e" class="nf lp iq bd lq nl nm dn lu nn no dp ly la np nq ma le nr ns mc li nt nu me nv bi translated">让我们定制我们的网站</h2><p id="34de" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">现在我们已经准备好了React.js应用程序，现在就看你的了。如果你去<code class="fe ml mm mn mo b">pages</code>目录，你会发现那里是定义页面的地方(目前只有索引)。</p><pre class="kg kh ki kj gt nb mo nc nd aw ne bi"><span id="ce69" class="nf lp iq mo b gy ng nh l ni nj">└───📁 pages/<br/>    ├───📁 api/<br/>    │   └───...<br/>    ├───📄 index.tsx<br/>    └───📄 _app.tsx</span></pre><p id="ab5f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ml mm mn mo b">_app.tsx</code>文件就像所有页面的父文件。您可以在这里包含所有页面的通用代码。它从基本上是子页面的道具接收一个<code class="fe ml mm mn mo b">Component</code>。我用它来添加所有常见的东西，比如样式、标题等等。</p><p id="88b4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从这里开始，我将只给你一些提示，基于我在用Material-UI定制我的网站时遇到的问题。</p><p id="57dd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要配置的第一件事是我们想要使用的库，以便在进行服务器渲染时能够正常工作。为此，我们可以使用<a class="ae ln" href="https://nextjs.org/docs/advanced-features/custom-document" rel="noopener ugc nofollow" target="_blank">【自定义文档】</a>，并在那里进行设置。在最新版本的MUI <a class="ae ln" href="https://mui.com/material-ui/guides/server-rendering/" rel="noopener ugc nofollow" target="_blank">中，这里是</a>为了配置它我们需要做的事情。在我的例子中，我使用的是MUI 4 . x版本，但由于前端库运行速度很快，我现在看到的是5.x版本，它带来了一些突破性的变化。我的情况是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div><p class="mh mi gj gh gi mj mk bd b be z dk translated">我的文档. tsx文件</p></figure><p id="393d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">关键是我们在<code class="fe ml mm mn mo b">.getInitialProps</code>函数内部做了什么。为了在生成HTML之前执行定制的js库，我们做了我们需要做的一切，这取决于您想要使用的库和版本。</p><p id="b964" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我发现的另一个问题是MUI javascript和ccs与服务器端生成的HTML中已经存在的重叠。为了解决这个问题，我从html主体中删除了这些javascript文件。为此，我在<code class="fe ml mm mn mo b">_app.tsx</code>文件中添加了以下挂钩:</p><pre class="kg kh ki kj gt nb mo nc nd aw ne bi"><span id="1bdc" class="nf lp iq mo b gy ng nh l ni nj">React.useEffect(() =&gt; {<br/>  const jssStyles = document.querySelector('#jss-server-side');<br/>  if (jssStyles) {<br/>    jssStyles.parentElement.removeChild(jssStyles);<br/>  }<br/>}, []);</span></pre><h2 id="bb81" class="nf lp iq bd lq nl nm dn lu nn no dp ly la np nq ma le nr ns mc li nt nu me nv bi translated">有好几页</h2><p id="2c77" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">要拥有几个页面，你需要做几件事。首先，您需要将其添加到<code class="fe ml mm mn mo b">pages</code>目录中。例如，如果您将<code class="fe ml mm mn mo b">articles.tsx</code>添加到您的<code class="fe ml mm mn mo b">pages</code>目录中，这将创建一条<code class="fe ml mm mn mo b">/articles</code>路线。</p><p id="32f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，为了正确处理服务器端呈现，我需要在<code class="fe ml mm mn mo b">next.config.js</code>文件的<code class="fe ml mm mn mo b">exportPathMap</code>方法中添加一个条目:</p><pre class="kg kh ki kj gt nb mo nc nd aw ne bi"><span id="57fa" class="nf lp iq mo b gy ng nh l ni nj">exportPathMap: function () {<br/>  return {<br/>    '/': { page: '/' },<br/>    '/articles': { page: '/articles' },   // &lt;---- add this<br/>  };<br/>}</span></pre><p id="6cc1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以添加更复杂的路线，例如动态路线。我推荐阅读<a class="ae ln" href="https://nextjs.org/docs/routing/imperatively" rel="noopener ugc nofollow" target="_blank"> NextJs路由文档</a>。</p><h2 id="a45f" class="nf lp iq bd lq nl nm dn lu nn no dp ly la np nq ma le nr ns mc li nt nu me nv bi translated">来说说内容吧</h2><p id="ba1d" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">我只是想避免在这个项目中使用数据库和API请求。这就是为什么我刚刚把它添加到一个<code class="fe ml mm mn mo b">.json</code>文件中。你可以做你喜欢的事。</p><p id="9df3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以将图像存储在<code class="fe ml mm mn mo b">public/</code>目录中，然后添加一个本地引用到它们:<code class="fe ml mm mn mo b">href="/img/yourimage.png"</code>或您的数据源中。</p><p id="2829" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但在我的例子中，我只是做了一个我发现的使用<code class="fe ml mm mn mo b">Google Photos</code>作为图像源的技巧。我喜欢它是因为:</p><ol class=""><li id="7ec4" class="ny nz iq kt b ku kv kx ky la oa le ob li oc lm od oe of og bi translated">不要通过暴露存储库或web服务器来使它们过载。</li><li id="cb1e" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">我可以很容易地请求我想要的大小的图像。</li></ol><p id="73dd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">程序如下:</p><ol class=""><li id="2d3f" class="ny nz iq kt b ku kv kx ky la oa le ob li oc lm od oe of og bi translated">创建google相册。</li><li id="d57a" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">通过创建公共链接来共享它。</li><li id="f9e9" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">现在，您可以将想要从网站获取的图片添加到相册中。</li><li id="fe1b" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">在匿名网络浏览器中打开您在步骤2中创建的相册链接。</li><li id="43f1" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">打开任何图像，右键单击并复制您可以在内容中使用的图像URL。</li></ol><p id="fc9a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，谷歌为我们做的有趣的部分来了。您可能会注意到图像URL以类似于<code class="fe ml mm mn mo b">=w1239-h929-no</code>的东西结尾，这是我想要得到的图像的大小。所以，如果我只想在列表项中显示一个小图片，我更喜欢用<code class="fe ml mm mn mo b">w30</code>(宽度30px)来代替。</p><p id="ec66" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以，我所做的就是在我的静态内容数据中保存没有该部分的图像。然后我创建了一个js-helper来在渲染之前获得我想要的图像大小:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="6f42" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后使用它来获得最终的图像url:</p><pre class="kg kh ki kj gt nb mo nc nd aw ne bi"><span id="8bf7" class="nf lp iq mo b gy ng nh l ni nj">const imageWithSize = useMemo(() =&gt; getGoogleImageWithSize(image, 100), [image]);<br/>===================<br/>&lt;CardMedia component="img" alt={title} height="100" image={imageWithSize} title={title} className={classes.image} /&gt;</span></pre><h1 id="db16" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">构建并部署到GitHub页面</h1><p id="1d6d" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">在你准备好你的站点(或者至少是第一个版本)之后，你可以在你的终端上做<code class="fe ml mm mn mo b">yarn build</code>。这将生成一个<code class="fe ml mm mn mo b">out</code>目录，您的网站可以复制到您的GitHub页面。将内容复制到您的<code class="fe ml mm mn mo b">github.io</code>项目中(您应该删除之前所有的内容，或者至少覆盖它)，提交并推送它。几分钟后，您应该可以在您的网站上看到新的变化。</p><p id="af51" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里有几件事我需要做。第一个是在输出目录(网站的根目录)创建一个空的<code class="fe ml mm mn mo b">.nojekyll</code>文件。这是javascript代码正常工作所必需的。也许这在最新版本中改变了，至少我有这个问题。</p><p id="4b1c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下一件事，我需要做的，是添加一个CNAME文件到网站的根，以验证域名。这个文件的内容应该是你的域名。</p><p id="665a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了在终端中运行我们的<code class="fe ml mm mn mo b">yarn build</code>命令时自动完成这项工作，我只是稍微修改了一下这个命令。转到您的<code class="fe ml mm mn mo b">package.json</code>文件，在<code class="fe ml mm mn mo b">scripts</code>部分用以下内容覆盖<code class="fe ml mm mn mo b">build</code>条目(用您的域名更改<code class="fe ml mm mn mo b">rulyotano.com</code>):</p><pre class="kg kh ki kj gt nb mo nc nd aw ne bi"><span id="b743" class="nf lp iq mo b gy ng nh l ni nj">"build": "next build &amp;&amp; next export &amp;&amp; echo ''&gt; ./out/.nojekyll &amp;&amp; echo rulyotano.com &gt; ./out/CNAME",</span></pre><p id="ee57" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这应该够了吧！但是，为了更新我的个人资料网页，我需要更新并提交和推送两个存储库吗？在下一节中，我将解释如何自动完成这个过程。</p><h2 id="b59c" class="nf lp iq bd lq nl nm dn lu nn no dp ly la np nq ma le nr ns mc li nt nu me nv bi translated">使用GitHub动作自动化您的部署</h2><p id="7b39" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">如题，没错，我们要用GitHub Actions来构建，测试，复制文件到<code class="fe ml mm mn mo b">github.io</code> repo，推送。我不知道你是否熟悉GitHub Actions，如果不熟悉，我只想说它是GitHub创建的一种机制，用来自动化你的项目中的事情。我们可以用它来实现我们的CD/CI管道(持续部署/持续集成)。</p><p id="4324" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们需要创建一个GitHub令牌来授权外部流程在我们的GitHub存储库中进行更改。为此，进入你的GitHub设置页面(右上角菜单&gt;<code class="fe ml mm mn mo b">Settings</code>)，然后进入<code class="fe ml mm mn mo b">Developer settings</code>，最后进入<code class="fe ml mm mn mo b">Personal access tokens</code>(或者你可以通过<a class="ae ln" href="https://github.com/settings/tokens" rel="noopener ugc nofollow" target="_blank">这个链接</a>进入)。在这里生成新的访问令牌并保存值。请小心，因为当您离开此页面时，您将不会再次看到该值。</p><p id="67cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你将把这个令牌添加到你的ReactJs网站repo的秘密中。转到项目页面，然后转到<code class="fe ml mm mn mo b">Settings</code> &gt; <code class="fe ml mm mn mo b">Secrects</code> &gt; <code class="fe ml mm mn mo b">Actions</code>并点击<code class="fe ml mm mn mo b">New repository secret</code>。复制您的个人访问令牌并添加一个名称，我用的是<code class="fe ml mm mn mo b">API_TOKEN_GITHUB</code>。</p><p id="7c74" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下一步是创建动作管道。在同一个repo中，只需在这个位置<code class="fe ml mm mn mo b">.github/workflows</code>创建一个<code class="fe ml mm mn mo b">.yml</code>文件。然后，您可以从以下文件中复制内容，并根据您的需要进行修改:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="6823" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">之后，如果一切正常，每次你的总分行更新时，你也将更新你的<code class="fe ml mm mn mo b">github.io</code>回购和你的网站。这样，您将只需要更新一个存储库，这就变得容易多了。</p><h1 id="64b4" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">摘要</h1><p id="3edd" class="pw-post-body-paragraph kr ks iq kt b ku mp jr kw kx mq ju kz la mr lc ld le ms lg lh li mt lk ll lm ij bi translated">因此，从本文中，我们将获得一个React.js网站，由GitHub pages托管，我们可以通过接受PR或进行推送来轻松更新该网站。我希望你能从这里得到些什么。以下链接是我创建的项目和最终结果(我的个人网站),以防你想用它们作为指导:</p><ul class=""><li id="3b2a" class="ny nz iq kt b ku kv kx ky la oa le ob li oc lm om oe of og bi translated"><a class="ae ln" href="https://github.com/rulyotano/rulyotano.github.io" rel="noopener ugc nofollow" target="_blank">我的GitHub页面库</a></li><li id="7fb4" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm om oe of og bi translated"><a class="ae ln" href="https://github.com/rulyotano/mui-profile" rel="noopener ugc nofollow" target="_blank">我的个人资料网页储存库</a></li><li id="6ec5" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm om oe of og bi translated"><a class="ae ln" href="https://rulyotano.com/" rel="noopener ugc nofollow" target="_blank">我的个人网站</a></li></ul></div></div>    
</body>
</html>