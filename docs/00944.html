<html>
<head>
<title>Understanding Hoisting in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript中的提升</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/hoisting-in-javascript-6af97650dbb2?source=collection_archive---------9-----------------------#2019-07-30">https://betterprogramming.pub/hoisting-in-javascript-6af97650dbb2?source=collection_archive---------9-----------------------#2019-07-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/741b90e461b5dcd195f8ebb121ad766e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8mQ5wrAKM1qFVNSKBMcLAg.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@oriz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Ron Fung </a>在<a class="ae kf" href="https://unsplash.com/search/photos/jumping-dog?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fcd4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你是一个新手，提升可能是JavaScript中最令人难以置信的话题之一。一开始，这让几乎所有人都感到困惑。别担心——在本文中，我将帮助您理解JavaScript中的提升是如何工作的。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="1319" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated"><strong class="ak"> <em class="mj">什么是吊装？</em> </strong></h1><p id="dbe7" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">提升是JavaScript将所有声明移动到当前作用域顶部的默认行为。</p><p id="aeaa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下项目在JavaScript中未被<strong class="ki iu">提升</strong>:</p><p id="70a1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">1.用表达式定义的函数。</p><p id="d9ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.用<code class="fe mp mq mr ms b">let</code>或<code class="fe mp mq mr ms b">const</code>声明的变量和常量。</p><p id="2cc5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.箭头功能。</p><p id="971b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在JavaScript中，变量可以在声明之前使用。</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="02c2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好吧…但是这是什么意思？我不明白你想说什么。</p><p id="a043" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我用几个例子来帮助你理解这一点。</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="1b79" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当函数声明被提升时，整个函数体也随之提升。因此，在解释器完成第一个示例中的代码后，它的运行方式更像这样:</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="f29c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是return语句后面的代码不是不可达吗？</p><p id="0680" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在JavaScript执行中，有<code class="fe mp mq mr ms b">Context</code>(其中ECMA 5分解为<code class="fe mp mq mr ms b">LexicalEnvironment</code>、<code class="fe mp mq mr ms b">VariableEnvironment</code>、<code class="fe mp mq mr ms b">ThisBinding</code>)和<code class="fe mp mq mr ms b">Process</code>(一组要依次调用的语句)。</p><p id="7eb7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当进入执行范围时，声明对<code class="fe mp mq mr ms b">VariableEnvironment</code>有贡献。它们不同于语句(如<code class="fe mp mq mr ms b">return</code>)，不受其处理规则的约束。</p><p id="9908" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们再看一个例子，这次是一些函数表达式。</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="c7c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，变量在创建时被初始化为未定义的。当执行<code class="fe mp mq mr ms b">VariableStatement</code>时，而不是当变量被创建时，带有初始化器的变量被赋予其<code class="fe mp mq mr ms b">AssignmentExpression</code>的值。</p><pre class="mt mu mv mw gt mz ms na nb aw nc bi"><span id="d0f6" class="nd lm it ms b gy ne nf l ng nh">var myFunction = function () {<br/>   // some executable code<br/>}</span></pre><p id="2b1a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码片段中，左边的<code class="fe mp mq mr ms b">var myFunction</code>是一个变量声明。</p><p id="eda4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">变量声明会被提升，但它们的赋值表达式不会。因此，当<code class="fe mp mq mr ms b">myFunction</code>升起时，解释器初始设置<code class="fe mp mq mr ms b"><em class="ni">var </em>myFunction<em class="ni"> = undefined</em></code>。函数定义本身没有被提升。</p><p id="991b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">记住以上几点，让我们看看例子二是如何工作的。</p><p id="5577" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它大概是这样工作的:</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="82db" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">调用由第一个函数表达式创建的函数后，第二个表达式的代码变得不可访问。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="6e48" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">在顶部声明你的变量以避免混乱</h1><p id="3f7a" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">提升，无论多么有趣，都可能导致错误，因为它很容易被忽视。</p><p id="e6b1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以尝试<em class="ni">严格模式</em>，在顶部使用<code class="fe mp mq mr ms b">use strict</code> <em class="ni"> </em>指令。严格模式下的JavaScript不允许使用未声明的变量。</p><p id="ad0c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是本文的全部内容。我希望它能帮助你对JavaScript的提升有所了解。</p></div></div>    
</body>
</html>