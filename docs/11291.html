<html>
<head>
<title>How to Run Python Functions in Parallel Using Ray API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Ray API并行运行Python函数</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/python-use-ray-to-run-functions-in-parallel-871f7a6678c4?source=collection_archive---------5-----------------------#2022-03-07">https://betterprogramming.pub/python-use-ray-to-run-functions-in-parallel-871f7a6678c4?source=collection_archive---------5-----------------------#2022-03-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="850e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">构建分布式应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/71f8284ebd846b69b4b950ce617c98ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TXJ9umVKllaZc8E5"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">阿巴斯·特拉尼在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="8444" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有许多方法可以并行运行函数，但是可能会有许多警告需要处理。我们可以通过使用Ray is来克服所有这些问题，这是一个用于构建分布式应用程序的简单、通用的API。</p><p id="8f0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">雷能为你做什么:</p><ul class=""><li id="c2ea" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><em class="mb">为构建和运行分布式应用提供简单的原语。</em></li><li id="31eb" class="ls lt iq ky b kz mc lc md lf me lj mf ln mg lr lx ly lz ma bi translated"><em class="mb">支持最终用户并行处理单个机器代码，几乎不做任何代码更改。</em></li><li id="02a8" class="ls lt iq ky b kz mc lc md lf me lj mf ln mg lr lx ly lz ma bi translated"><em class="mb">在core Ray之上包含一个庞大的应用程序、库和工具生态系统，以支持复杂的应用程序。</em></li></ul><p id="37f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如何安装Ray:</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="cec5" class="mm mn iq mi b gy mo mp l mq mr">sudo pip3 install Ray</span></pre><p id="b037" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个基本的射线示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ms mt l"/></div></figure><ul class=""><li id="7c01" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">第2行将ray导入我们的项目</li><li id="2ef2" class="ls lt iq ky b kz mc lc md lf me lj mf ln mg lr lx ly lz ma bi translated"><code class="fe mu mv mw mi b">@ray.remote decorator</code>用于定义哪些功能将并行运行</li><li id="d073" class="ls lt iq ky b kz mc lc md lf me lj mf ln mg lr lx ly lz ma bi translated">第31行<code class="fe mu mv mw mi b">ray.init()</code>初始化射线</li><li id="13fa" class="ls lt iq ky b kz mc lc md lf me lj mf ln mg lr lx ly lz ma bi translated">第32行<code class="fe mu mv mw mi b">ray.get([func1.remote(),func2.remote()])</code>并行运行的函数列表</li></ul><p id="f6b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Ray提供了执行函数的非常好的输出</p><pre class="kg kh ki kj gt mh mi mj mk aw ml bi"><span id="aec6" class="mm mn iq mi b gy mo mp l mq mr">./test1.py<br/>(func2 pid=1596) func 2 Start Time = 11:51:48<br/>(func1 pid=1591) func 1 Start Time = 11:51:48<br/>(func2 pid=1596) func 2 End Time = 11:51:50<br/>(func1 pid=1591) func 1 End Time = 11:51:50</span></pre><p id="c2c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个非常基本的并行执行函数的例子，这些函数不返回任何东西，让我们看一个更高级的并行执行的例子，函数接受参数并返回结果</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ms mt l"/></div></figure><ul class=""><li id="2c27" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">第14行—使用<code class="fe mu mv mw mi b">ray.get</code>我们用参数并行执行函数，它们在变量<code class="fe mu mv mw mi b">ret1</code>和<code class="fe mu mv mw mi b">ret2</code>中返回结果。</li></ul><p id="d98d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mu mv mw mi b">ray.get</code>函数以列表形式接受函数作为参数，也以列表形式返回结果，这意味着当每次要执行的函数数量不同时，我们可以执行以下非常有用的操作。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="7fd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这篇文章对你有用！</p></div></div>    
</body>
</html>