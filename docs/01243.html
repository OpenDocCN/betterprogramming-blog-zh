<html>
<head>
<title>How to Use Watchers in Your Vue.js App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在您的Vue.js应用程序中使用观察器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-watchers-in-your-vue-js-app-2c3917babe86?source=collection_archive---------3-----------------------#2019-08-26">https://betterprogramming.pub/how-to-use-watchers-in-your-vue-js-app-2c3917babe86?source=collection_archive---------3-----------------------#2019-08-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="6969" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Vue.js中的Watchers用于观察组件变量的变化。它是有用的，因为有时我们想做一些事情，因为我们的一些组件的变量正在改变。</p><p id="7e58" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了在Vue.js中使用观察器，我们将字段放入组件对象的<code class="fe ko kp kq kr b">watch</code>属性中。当在那里时，我们把我们的组件的属性从我们想要观察的<code class="fe ko kp kq kr b">data</code>属性中返回。例如，如果我们的数据对象中有一个名为<code class="fe ko kp kq kr b">form</code>的属性，那么我们的观察属性看起来会像这样:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="2ee3" class="la lb it kr b gy lc ld l le lf">form: {<br/>  handler(val) {<br/>    if (!this.form) {<br/>      this.toSymbols = this.symbols;<br/>      this.fromSymbols = this.symbols;<br/>      return;<br/>    }<br/>    this.hasResult = false;<br/>    if (this.form.from) {<br/>      this.toSymbols = this.symbols.filter(s =&gt; s.code != this.form.from);<br/>    }<br/>    if (this.form.to) {<br/>      this.fromSymbols = this.symbols.filter(s =&gt; s.code != this.form.to);<br/>        }<br/>    },<br/>    deep: true<br/> }</span></pre><p id="6517" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是深度监视器的一个例子，这意味着对象中所有属性的变化都被监视。如果有任何变化，就会运行<code class="fe ko kp kq kr b">handler</code>代码。</p><p id="d75c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个故事中，我们将建立一个货币转换器。要开始构建我们的应用程序，我们需要Vue CLI，它包含一个开发服务器和生成样板代码的脚本。运行<code class="fe ko kp kq kr b">npm install -g @vue/cli</code>来全局安装Vue CLI。</p><p id="028a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后运行<code class="fe ko kp kq kr b">vue create currency-converter</code>来生成样板代码。</p><p id="2ceb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们准备开始编写代码。因为我们正在构建一个单页面应用程序，所以我们需要一个路由器将URL路由到我们的页面。Vue路由器是Vue.js apps最常用的路由器。此外，我们需要表单验证和一个好看的用户界面。Vee-validate是一个著名的用于Vue.js应用的表单验证库。它适用于许多表单验证情况，如检查必填字段和检查数字等必需的数据类型。</p><p id="42bc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还将在我们的应用程序中显示图表，所以我们希望使用一个库来使这项任务变得简单。Vue-chartjs是众所周知的Chart.js库的Vue.js包装器。我们还需要从互联网上获取汇率，以便在我们的应用程序中显示和使用，因此我们需要一个HTTP客户端。SuperAgent是满足我们需求的HTTP客户端。</p><p id="cf92" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">之后，我们可以通过运行<code class="fe ko kp kq kr b">npm run serve</code>运行开发服务器来显示我们的应用程序。当我们更新代码时，它会自动刷新浏览器。</p><p id="8877" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以通过运行<code class="fe ko kp kq kr b">npm i chart.js vue-chartjs vue-material vue-router</code>来安装它们。</p><p id="6824" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我们已经安装了所有的库，我们可以开始编写逻辑代码了。首先，我们通过在<code class="fe ko kp kq kr b">src</code>文件夹中添加一个<code class="fe ko kp kq kr b">urls.js</code>来编写一些我们将在多个地方使用的常量。</p><p id="cff1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将以下内容添加到文件中:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="f91d" class="la lb it kr b gy lc ld l le lf">const APIURL = '<a class="ae lg" href="https://api.exchangeratesapi.io%27/" rel="noopener ugc nofollow" target="_blank">https://api.exchangeratesapi.io'</a>;<br/>export { APIURL };</span></pre><p id="a773" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<code class="fe ko kp kq kr b">main.js</code>中，将此代码放入:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="b5b9" class="la lb it kr b gy lc ld l le lf">// The Vue build version to load with the `import` command<br/>// (runtime-only or standalone) has been set in webpack.base.conf with an alias.<br/>import Vue from 'vue'<br/>import App from './App'<br/>import router from './router'router.beforeEach((to, from, next) =&gt; {<br/>  document.title = to.meta.title<br/>  next()<br/>})Vue.config.productionTip = false/* eslint-disable no-new */<br/>new Vue({<br/>  el: '#app',<br/>  router,<br/>  template: '&lt;App/&gt;',<br/>  components: { App }<br/>})</span></pre><p id="0341" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是app的入口。</p><p id="c8be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当我们通过收听Vue路由器的导航事件导航到不同页面时，此模块会更改标题:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="709a" class="la lb it kr b gy lc ld l le lf">router.beforeEach((to, from, next) =&gt; {<br/>  document.title = to.meta.title<br/>  next()<br/>})</span></pre><p id="0887" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此外，我们需要一个货币列表供人们选择:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="23c9" class="la lb it kr b gy lc ld l le lf">export default {<br/>    "USD": {<br/>        "symbol": "$",<br/>        "name": "US Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "USD",<br/>        "name_plural": "US dollars"<br/>    },<br/>    "CAD": {<br/>        "symbol": "CA$",<br/>        "name": "Canadian Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "CAD",<br/>        "name_plural": "Canadian dollars"<br/>    },<br/>    "EUR": {<br/>        "symbol": "€",<br/>        "name": "Euro",<br/>        "symbol_native": "€",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "EUR",<br/>        "name_plural": "euros"<br/>    },<br/>    "AED": {<br/>        "symbol": "AED",<br/>        "name": "United Arab Emirates Dirham",<br/>        "symbol_native": "د.إ.‏",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "AED",<br/>        "name_plural": "UAE dirhams"<br/>    },<br/>    "AFN": {<br/>        "symbol": "Af",<br/>        "name": "Afghan Afghani",<br/>        "symbol_native": "؋",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "AFN",<br/>        "name_plural": "Afghan Afghanis"<br/>    },<br/>    "ALL": {<br/>        "symbol": "ALL",<br/>        "name": "Albanian Lek",<br/>        "symbol_native": "Lek",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "ALL",<br/>        "name_plural": "Albanian lekë"<br/>    },<br/>    "AMD": {<br/>        "symbol": "AMD",<br/>        "name": "Armenian Dram",<br/>        "symbol_native": "դր.",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "AMD",<br/>        "name_plural": "Armenian drams"<br/>    },<br/>    "ARS": {<br/>        "symbol": "AR$",<br/>        "name": "Argentine Peso",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "ARS",<br/>        "name_plural": "Argentine pesos"<br/>    },<br/>    "AUD": {<br/>        "symbol": "AU$",<br/>        "name": "Australian Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "AUD",<br/>        "name_plural": "Australian dollars"<br/>    },<br/>    "AZN": {<br/>        "symbol": "man.",<br/>        "name": "Azerbaijani Manat",<br/>        "symbol_native": "ман.",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "AZN",<br/>        "name_plural": "Azerbaijani manats"<br/>    },<br/>    "BAM": {<br/>        "symbol": "KM",<br/>        "name": "Bosnia-Herzegovina Convertible Mark",<br/>        "symbol_native": "KM",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "BAM",<br/>        "name_plural": "Bosnia-Herzegovina convertible marks"<br/>    },<br/>    "BDT": {<br/>        "symbol": "Tk",<br/>        "name": "Bangladeshi Taka",<br/>        "symbol_native": "৳",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "BDT",<br/>        "name_plural": "Bangladeshi takas"<br/>    },<br/>    "BGN": {<br/>        "symbol": "BGN",<br/>        "name": "Bulgarian Lev",<br/>        "symbol_native": "лв.",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "BGN",<br/>        "name_plural": "Bulgarian leva"<br/>    },<br/>    "BHD": {<br/>        "symbol": "BD",<br/>        "name": "Bahraini Dinar",<br/>        "symbol_native": "د.ب.‏",<br/>        "decimal_digits": 3,<br/>        "rounding": 0,<br/>        "code": "BHD",<br/>        "name_plural": "Bahraini dinars"<br/>    },<br/>    "BIF": {<br/>        "symbol": "FBu",<br/>        "name": "Burundian Franc",<br/>        "symbol_native": "FBu",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "BIF",<br/>        "name_plural": "Burundian francs"<br/>    },<br/>    "BND": {<br/>        "symbol": "BN$",<br/>        "name": "Brunei Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "BND",<br/>        "name_plural": "Brunei dollars"<br/>    },<br/>    "BOB": {<br/>        "symbol": "Bs",<br/>        "name": "Bolivian Boliviano",<br/>        "symbol_native": "Bs",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "BOB",<br/>        "name_plural": "Bolivian bolivianos"<br/>    },<br/>    "BRL": {<br/>        "symbol": "R$",<br/>        "name": "Brazilian Real",<br/>        "symbol_native": "R$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "BRL",<br/>        "name_plural": "Brazilian reals"<br/>    },<br/>    "BWP": {<br/>        "symbol": "BWP",<br/>        "name": "Botswanan Pula",<br/>        "symbol_native": "P",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "BWP",<br/>        "name_plural": "Botswanan pulas"<br/>    },<br/>    "BYR": {<br/>        "symbol": "BYR",<br/>        "name": "Belarusian Ruble",<br/>        "symbol_native": "BYR",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "BYR",<br/>        "name_plural": "Belarusian rubles"<br/>    },<br/>    "BZD": {<br/>        "symbol": "BZ$",<br/>        "name": "Belize Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "BZD",<br/>        "name_plural": "Belize dollars"<br/>    },<br/>    "CDF": {<br/>        "symbol": "CDF",<br/>        "name": "Congolese Franc",<br/>        "symbol_native": "FrCD",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "CDF",<br/>        "name_plural": "Congolese francs"<br/>    },<br/>    "CHF": {<br/>        "symbol": "CHF",<br/>        "name": "Swiss Franc",<br/>        "symbol_native": "CHF",<br/>        "decimal_digits": 2,<br/>        "rounding": 0.05,<br/>        "code": "CHF",<br/>        "name_plural": "Swiss francs"<br/>    },<br/>    "CLP": {<br/>        "symbol": "CL$",<br/>        "name": "Chilean Peso",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "CLP",<br/>        "name_plural": "Chilean pesos"<br/>    },<br/>    "CNY": {<br/>        "symbol": "CN¥",<br/>        "name": "Chinese Yuan",<br/>        "symbol_native": "CN¥",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "CNY",<br/>        "name_plural": "Chinese yuan"<br/>    },<br/>    "COP": {<br/>        "symbol": "CO$",<br/>        "name": "Colombian Peso",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "COP",<br/>        "name_plural": "Colombian pesos"<br/>    },<br/>    "CRC": {<br/>        "symbol": "₡",<br/>        "name": "Costa Rican Colón",<br/>        "symbol_native": "₡",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "CRC",<br/>        "name_plural": "Costa Rican colóns"<br/>    },<br/>    "CVE": {<br/>        "symbol": "CV$",<br/>        "name": "Cape Verdean Escudo",<br/>        "symbol_native": "CV$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "CVE",<br/>        "name_plural": "Cape Verdean escudos"<br/>    },<br/>    "CZK": {<br/>        "symbol": "Kč",<br/>        "name": "Czech Republic Koruna",<br/>        "symbol_native": "Kč",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "CZK",<br/>        "name_plural": "Czech Republic korunas"<br/>    },<br/>    "DJF": {<br/>        "symbol": "Fdj",<br/>        "name": "Djiboutian Franc",<br/>        "symbol_native": "Fdj",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "DJF",<br/>        "name_plural": "Djiboutian francs"<br/>    },<br/>    "DKK": {<br/>        "symbol": "Dkr",<br/>        "name": "Danish Krone",<br/>        "symbol_native": "kr",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "DKK",<br/>        "name_plural": "Danish kroner"<br/>    },<br/>    "DOP": {<br/>        "symbol": "RD$",<br/>        "name": "Dominican Peso",<br/>        "symbol_native": "RD$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "DOP",<br/>        "name_plural": "Dominican pesos"<br/>    },<br/>    "DZD": {<br/>        "symbol": "DA",<br/>        "name": "Algerian Dinar",<br/>        "symbol_native": "د.ج.‏",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "DZD",<br/>        "name_plural": "Algerian dinars"<br/>    },<br/>    "EEK": {<br/>        "symbol": "Ekr",<br/>        "name": "Estonian Kroon",<br/>        "symbol_native": "kr",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "EEK",<br/>        "name_plural": "Estonian kroons"<br/>    },<br/>    "EGP": {<br/>        "symbol": "EGP",<br/>        "name": "Egyptian Pound",<br/>        "symbol_native": "ج.م.‏",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "EGP",<br/>        "name_plural": "Egyptian pounds"<br/>    },<br/>    "ERN": {<br/>        "symbol": "Nfk",<br/>        "name": "Eritrean Nakfa",<br/>        "symbol_native": "Nfk",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "ERN",<br/>        "name_plural": "Eritrean nakfas"<br/>    },<br/>    "ETB": {<br/>        "symbol": "Br",<br/>        "name": "Ethiopian Birr",<br/>        "symbol_native": "Br",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "ETB",<br/>        "name_plural": "Ethiopian birrs"<br/>    },<br/>    "GBP": {<br/>        "symbol": "£",<br/>        "name": "British Pound Sterling",<br/>        "symbol_native": "£",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "GBP",<br/>        "name_plural": "British pounds sterling"<br/>    },<br/>    "GEL": {<br/>        "symbol": "GEL",<br/>        "name": "Georgian Lari",<br/>        "symbol_native": "GEL",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "GEL",<br/>        "name_plural": "Georgian laris"<br/>    },<br/>    "GHS": {<br/>        "symbol": "GH₵",<br/>        "name": "Ghanaian Cedi",<br/>        "symbol_native": "GH₵",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "GHS",<br/>        "name_plural": "Ghanaian cedis"<br/>    },<br/>    "GNF": {<br/>        "symbol": "FG",<br/>        "name": "Guinean Franc",<br/>        "symbol_native": "FG",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "GNF",<br/>        "name_plural": "Guinean francs"<br/>    },<br/>    "GTQ": {<br/>        "symbol": "GTQ",<br/>        "name": "Guatemalan Quetzal",<br/>        "symbol_native": "Q",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "GTQ",<br/>        "name_plural": "Guatemalan quetzals"<br/>    },<br/>    "HKD": {<br/>        "symbol": "HK$",<br/>        "name": "Hong Kong Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "HKD",<br/>        "name_plural": "Hong Kong dollars"<br/>    },<br/>    "HNL": {<br/>        "symbol": "HNL",<br/>        "name": "Honduran Lempira",<br/>        "symbol_native": "L",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "HNL",<br/>        "name_plural": "Honduran lempiras"<br/>    },<br/>    "HRK": {<br/>        "symbol": "kn",<br/>        "name": "Croatian Kuna",<br/>        "symbol_native": "kn",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "HRK",<br/>        "name_plural": "Croatian kunas"<br/>    },<br/>    "HUF": {<br/>        "symbol": "Ft",<br/>        "name": "Hungarian Forint",<br/>        "symbol_native": "Ft",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "HUF",<br/>        "name_plural": "Hungarian forints"<br/>    },<br/>    "IDR": {<br/>        "symbol": "Rp",<br/>        "name": "Indonesian Rupiah",<br/>        "symbol_native": "Rp",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "IDR",<br/>        "name_plural": "Indonesian rupiahs"<br/>    },<br/>    "ILS": {<br/>        "symbol": "₪",<br/>        "name": "Israeli New Sheqel",<br/>        "symbol_native": "₪",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "ILS",<br/>        "name_plural": "Israeli new sheqels"<br/>    },<br/>    "INR": {<br/>        "symbol": "Rs",<br/>        "name": "Indian Rupee",<br/>        "symbol_native": "টকা",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "INR",<br/>        "name_plural": "Indian rupees"<br/>    },<br/>    "IQD": {<br/>        "symbol": "IQD",<br/>        "name": "Iraqi Dinar",<br/>        "symbol_native": "د.ع.‏",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "IQD",<br/>        "name_plural": "Iraqi dinars"<br/>    },<br/>    "IRR": {<br/>        "symbol": "IRR",<br/>        "name": "Iranian Rial",<br/>        "symbol_native": "﷼",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "IRR",<br/>        "name_plural": "Iranian rials"<br/>    },<br/>    "ISK": {<br/>        "symbol": "Ikr",<br/>        "name": "Icelandic Króna",<br/>        "symbol_native": "kr",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "ISK",<br/>        "name_plural": "Icelandic krónur"<br/>    },<br/>    "JMD": {<br/>        "symbol": "J$",<br/>        "name": "Jamaican Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "JMD",<br/>        "name_plural": "Jamaican dollars"<br/>    },<br/>    "JOD": {<br/>        "symbol": "JD",<br/>        "name": "Jordanian Dinar",<br/>        "symbol_native": "د.أ.‏",<br/>        "decimal_digits": 3,<br/>        "rounding": 0,<br/>        "code": "JOD",<br/>        "name_plural": "Jordanian dinars"<br/>    },<br/>    "JPY": {<br/>        "symbol": "¥",<br/>        "name": "Japanese Yen",<br/>        "symbol_native": "￥",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "JPY",<br/>        "name_plural": "Japanese yen"<br/>    },<br/>    "KES": {<br/>        "symbol": "Ksh",<br/>        "name": "Kenyan Shilling",<br/>        "symbol_native": "Ksh",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "KES",<br/>        "name_plural": "Kenyan shillings"<br/>    },<br/>    "KHR": {<br/>        "symbol": "KHR",<br/>        "name": "Cambodian Riel",<br/>        "symbol_native": "៛",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "KHR",<br/>        "name_plural": "Cambodian riels"<br/>    },<br/>    "KMF": {<br/>        "symbol": "CF",<br/>        "name": "Comorian Franc",<br/>        "symbol_native": "FC",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "KMF",<br/>        "name_plural": "Comorian francs"<br/>    },<br/>    "KRW": {<br/>        "symbol": "₩",<br/>        "name": "South Korean Won",<br/>        "symbol_native": "₩",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "KRW",<br/>        "name_plural": "South Korean won"<br/>    },<br/>    "KWD": {<br/>        "symbol": "KD",<br/>        "name": "Kuwaiti Dinar",<br/>        "symbol_native": "د.ك.‏",<br/>        "decimal_digits": 3,<br/>        "rounding": 0,<br/>        "code": "KWD",<br/>        "name_plural": "Kuwaiti dinars"<br/>    },<br/>    "KZT": {<br/>        "symbol": "KZT",<br/>        "name": "Kazakhstani Tenge",<br/>        "symbol_native": "тңг.",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "KZT",<br/>        "name_plural": "Kazakhstani tenges"<br/>    },<br/>    "LBP": {<br/>        "symbol": "LB£",<br/>        "name": "Lebanese Pound",<br/>        "symbol_native": "ل.ل.‏",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "LBP",<br/>        "name_plural": "Lebanese pounds"<br/>    },<br/>    "LKR": {<br/>        "symbol": "SLRs",<br/>        "name": "Sri Lankan Rupee",<br/>        "symbol_native": "SL Re",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "LKR",<br/>        "name_plural": "Sri Lankan rupees"<br/>    },<br/>    "LTL": {<br/>        "symbol": "Lt",<br/>        "name": "Lithuanian Litas",<br/>        "symbol_native": "Lt",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "LTL",<br/>        "name_plural": "Lithuanian litai"<br/>    },<br/>    "LVL": {<br/>        "symbol": "Ls",<br/>        "name": "Latvian Lats",<br/>        "symbol_native": "Ls",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "LVL",<br/>        "name_plural": "Latvian lati"<br/>    },<br/>    "LYD": {<br/>        "symbol": "LD",<br/>        "name": "Libyan Dinar",<br/>        "symbol_native": "د.ل.‏",<br/>        "decimal_digits": 3,<br/>        "rounding": 0,<br/>        "code": "LYD",<br/>        "name_plural": "Libyan dinars"<br/>    },<br/>    "MAD": {<br/>        "symbol": "MAD",<br/>        "name": "Moroccan Dirham",<br/>        "symbol_native": "د.م.‏",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "MAD",<br/>        "name_plural": "Moroccan dirhams"<br/>    },<br/>    "MDL": {<br/>        "symbol": "MDL",<br/>        "name": "Moldovan Leu",<br/>        "symbol_native": "MDL",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "MDL",<br/>        "name_plural": "Moldovan lei"<br/>    },<br/>    "MGA": {<br/>        "symbol": "MGA",<br/>        "name": "Malagasy Ariary",<br/>        "symbol_native": "MGA",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "MGA",<br/>        "name_plural": "Malagasy Ariaries"<br/>    },<br/>    "MKD": {<br/>        "symbol": "MKD",<br/>        "name": "Macedonian Denar",<br/>        "symbol_native": "MKD",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "MKD",<br/>        "name_plural": "Macedonian denari"<br/>    },<br/>    "MMK": {<br/>        "symbol": "MMK",<br/>        "name": "Myanma Kyat",<br/>        "symbol_native": "K",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "MMK",<br/>        "name_plural": "Myanma kyats"<br/>    },<br/>    "MOP": {<br/>        "symbol": "MOP$",<br/>        "name": "Macanese Pataca",<br/>        "symbol_native": "MOP$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "MOP",<br/>        "name_plural": "Macanese patacas"<br/>    },<br/>    "MUR": {<br/>        "symbol": "MURs",<br/>        "name": "Mauritian Rupee",<br/>        "symbol_native": "MURs",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "MUR",<br/>        "name_plural": "Mauritian rupees"<br/>    },<br/>    "MXN": {<br/>        "symbol": "MX$",<br/>        "name": "Mexican Peso",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "MXN",<br/>        "name_plural": "Mexican pesos"<br/>    },<br/>    "MYR": {<br/>        "symbol": "RM",<br/>        "name": "Malaysian Ringgit",<br/>        "symbol_native": "RM",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "MYR",<br/>        "name_plural": "Malaysian ringgits"<br/>    },<br/>    "MZN": {<br/>        "symbol": "MTn",<br/>        "name": "Mozambican Metical",<br/>        "symbol_native": "MTn",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "MZN",<br/>        "name_plural": "Mozambican meticals"<br/>    },<br/>    "NAD": {<br/>        "symbol": "N$",<br/>        "name": "Namibian Dollar",<br/>        "symbol_native": "N$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "NAD",<br/>        "name_plural": "Namibian dollars"<br/>    },<br/>    "NGN": {<br/>        "symbol": "₦",<br/>        "name": "Nigerian Naira",<br/>        "symbol_native": "₦",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "NGN",<br/>        "name_plural": "Nigerian nairas"<br/>    },<br/>    "NIO": {<br/>        "symbol": "C$",<br/>        "name": "Nicaraguan Córdoba",<br/>        "symbol_native": "C$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "NIO",<br/>        "name_plural": "Nicaraguan córdobas"<br/>    },<br/>    "NOK": {<br/>        "symbol": "Nkr",<br/>        "name": "Norwegian Krone",<br/>        "symbol_native": "kr",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "NOK",<br/>        "name_plural": "Norwegian kroner"<br/>    },<br/>    "NPR": {<br/>        "symbol": "NPRs",<br/>        "name": "Nepalese Rupee",<br/>        "symbol_native": "नेरू",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "NPR",<br/>        "name_plural": "Nepalese rupees"<br/>    },<br/>    "NZD": {<br/>        "symbol": "NZ$",<br/>        "name": "New Zealand Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "NZD",<br/>        "name_plural": "New Zealand dollars"<br/>    },<br/>    "OMR": {<br/>        "symbol": "OMR",<br/>        "name": "Omani Rial",<br/>        "symbol_native": "ر.ع.‏",<br/>        "decimal_digits": 3,<br/>        "rounding": 0,<br/>        "code": "OMR",<br/>        "name_plural": "Omani rials"<br/>    },<br/>    "PAB": {<br/>        "symbol": "B/.",<br/>        "name": "Panamanian Balboa",<br/>        "symbol_native": "B/.",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "PAB",<br/>        "name_plural": "Panamanian balboas"<br/>    },<br/>    "PEN": {<br/>        "symbol": "S/.",<br/>        "name": "Peruvian Nuevo Sol",<br/>        "symbol_native": "S/.",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "PEN",<br/>        "name_plural": "Peruvian nuevos soles"<br/>    },<br/>    "PHP": {<br/>        "symbol": "₱",<br/>        "name": "Philippine Peso",<br/>        "symbol_native": "₱",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "PHP",<br/>        "name_plural": "Philippine pesos"<br/>    },<br/>    "PKR": {<br/>        "symbol": "PKRs",<br/>        "name": "Pakistani Rupee",<br/>        "symbol_native": "₨",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "PKR",<br/>        "name_plural": "Pakistani rupees"<br/>    },<br/>    "PLN": {<br/>        "symbol": "zł",<br/>        "name": "Polish Zloty",<br/>        "symbol_native": "zł",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "PLN",<br/>        "name_plural": "Polish zlotys"<br/>    },<br/>    "PYG": {<br/>        "symbol": "₲",<br/>        "name": "Paraguayan Guarani",<br/>        "symbol_native": "₲",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "PYG",<br/>        "name_plural": "Paraguayan guaranis"<br/>    },<br/>    "QAR": {<br/>        "symbol": "QR",<br/>        "name": "Qatari Rial",<br/>        "symbol_native": "ر.ق.‏",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "QAR",<br/>        "name_plural": "Qatari rials"<br/>    },<br/>    "RON": {<br/>        "symbol": "RON",<br/>        "name": "Romanian Leu",<br/>        "symbol_native": "RON",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "RON",<br/>        "name_plural": "Romanian lei"<br/>    },<br/>    "RSD": {<br/>        "symbol": "din.",<br/>        "name": "Serbian Dinar",<br/>        "symbol_native": "дин.",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "RSD",<br/>        "name_plural": "Serbian dinars"<br/>    },<br/>    "RUB": {<br/>        "symbol": "RUB",<br/>        "name": "Russian Ruble",<br/>        "symbol_native": "руб.",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "RUB",<br/>        "name_plural": "Russian rubles"<br/>    },<br/>    "RWF": {<br/>        "symbol": "RWF",<br/>        "name": "Rwandan Franc",<br/>        "symbol_native": "FR",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "RWF",<br/>        "name_plural": "Rwandan francs"<br/>    },<br/>    "SAR": {<br/>        "symbol": "SR",<br/>        "name": "Saudi Riyal",<br/>        "symbol_native": "ر.س.‏",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "SAR",<br/>        "name_plural": "Saudi riyals"<br/>    },<br/>    "SDG": {<br/>        "symbol": "SDG",<br/>        "name": "Sudanese Pound",<br/>        "symbol_native": "SDG",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "SDG",<br/>        "name_plural": "Sudanese pounds"<br/>    },<br/>    "SEK": {<br/>        "symbol": "Skr",<br/>        "name": "Swedish Krona",<br/>        "symbol_native": "kr",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "SEK",<br/>        "name_plural": "Swedish kronor"<br/>    },<br/>    "SGD": {<br/>        "symbol": "S$",<br/>        "name": "Singapore Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "SGD",<br/>        "name_plural": "Singapore dollars"<br/>    },<br/>    "SOS": {<br/>        "symbol": "Ssh",<br/>        "name": "Somali Shilling",<br/>        "symbol_native": "Ssh",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "SOS",<br/>        "name_plural": "Somali shillings"<br/>    },<br/>    "SYP": {<br/>        "symbol": "SY£",<br/>        "name": "Syrian Pound",<br/>        "symbol_native": "ل.س.‏",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "SYP",<br/>        "name_plural": "Syrian pounds"<br/>    },<br/>    "THB": {<br/>        "symbol": "฿",<br/>        "name": "Thai Baht",<br/>        "symbol_native": "฿",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "THB",<br/>        "name_plural": "Thai baht"<br/>    },<br/>    "TND": {<br/>        "symbol": "DT",<br/>        "name": "Tunisian Dinar",<br/>        "symbol_native": "د.ت.‏",<br/>        "decimal_digits": 3,<br/>        "rounding": 0,<br/>        "code": "TND",<br/>        "name_plural": "Tunisian dinars"<br/>    },<br/>    "TOP": {<br/>        "symbol": "T$",<br/>        "name": "Tongan Paʻanga",<br/>        "symbol_native": "T$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "TOP",<br/>        "name_plural": "Tongan paʻanga"<br/>    },<br/>    "TRY": {<br/>        "symbol": "TL",<br/>        "name": "Turkish Lira",<br/>        "symbol_native": "TL",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "TRY",<br/>        "name_plural": "Turkish Lira"<br/>    },<br/>    "TTD": {<br/>        "symbol": "TT$",<br/>        "name": "Trinidad and Tobago Dollar",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "TTD",<br/>        "name_plural": "Trinidad and Tobago dollars"<br/>    },<br/>    "TWD": {<br/>        "symbol": "NT$",<br/>        "name": "New Taiwan Dollar",<br/>        "symbol_native": "NT$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "TWD",<br/>        "name_plural": "New Taiwan dollars"<br/>    },<br/>    "TZS": {<br/>        "symbol": "TSh",<br/>        "name": "Tanzanian Shilling",<br/>        "symbol_native": "TSh",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "TZS",<br/>        "name_plural": "Tanzanian shillings"<br/>    },<br/>    "UAH": {<br/>        "symbol": "₴",<br/>        "name": "Ukrainian Hryvnia",<br/>        "symbol_native": "₴",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "UAH",<br/>        "name_plural": "Ukrainian hryvnias"<br/>    },<br/>    "UGX": {<br/>        "symbol": "USh",<br/>        "name": "Ugandan Shilling",<br/>        "symbol_native": "USh",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "UGX",<br/>        "name_plural": "Ugandan shillings"<br/>    },<br/>    "UYU": {<br/>        "symbol": "$U",<br/>        "name": "Uruguayan Peso",<br/>        "symbol_native": "$",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "UYU",<br/>        "name_plural": "Uruguayan pesos"<br/>    },<br/>    "UZS": {<br/>        "symbol": "UZS",<br/>        "name": "Uzbekistan Som",<br/>        "symbol_native": "UZS",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "UZS",<br/>        "name_plural": "Uzbekistan som"<br/>    },<br/>    "VEF": {<br/>        "symbol": "Bs.F.",<br/>        "name": "Venezuelan Bolívar",<br/>        "symbol_native": "Bs.F.",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "VEF",<br/>        "name_plural": "Venezuelan bolívars"<br/>    },<br/>    "VND": {<br/>        "symbol": "₫",<br/>        "name": "Vietnamese Dong",<br/>        "symbol_native": "₫",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "VND",<br/>        "name_plural": "Vietnamese dong"<br/>    },<br/>    "XAF": {<br/>        "symbol": "FCFA",<br/>        "name": "CFA Franc BEAC",<br/>        "symbol_native": "FCFA",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "XAF",<br/>        "name_plural": "CFA francs BEAC"<br/>    },<br/>    "XOF": {<br/>        "symbol": "CFA",<br/>        "name": "CFA Franc BCEAO",<br/>        "symbol_native": "CFA",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "XOF",<br/>        "name_plural": "CFA francs BCEAO"<br/>    },<br/>    "YER": {<br/>        "symbol": "YR",<br/>        "name": "Yemeni Rial",<br/>        "symbol_native": "ر.ي.‏",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "YER",<br/>        "name_plural": "Yemeni rials"<br/>    },<br/>    "ZAR": {<br/>        "symbol": "R",<br/>        "name": "South African Rand",<br/>        "symbol_native": "R",<br/>        "decimal_digits": 2,<br/>        "rounding": 0,<br/>        "code": "ZAR",<br/>        "name_plural": "South African rand"<br/>    },<br/>    "ZMK": {<br/>        "symbol": "ZK",<br/>        "name": "Zambian Kwacha",<br/>        "symbol_native": "ZK",<br/>        "decimal_digits": 0,<br/>        "rounding": 0,<br/>        "code": "ZMK",<br/>        "name_plural": "Zambian kwachas"<br/>    }<br/>}</span></pre><p id="8100" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将在货币兑换页面中使用它。</p><p id="1e72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<code class="fe ko kp kq kr b">index.html</code>中，我们添加:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="876f" class="la lb it kr b gy lc ld l le lf">&lt;link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic|Material+Icons"&gt;</span></pre><p id="c92d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将显示Roboto，因此我们的应用程序在使用材质小部件时看起来很好。</p><p id="280d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后在<code class="fe ko kp kq kr b">src/router/index.js</code>中，我们添加:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="53dd" class="la lb it kr b gy lc ld l le lf">import Vue from 'vue'<br/>import Router from 'vue-router'<br/>import VeeValidate from 'vee-validate';<br/>import Quotes from '@/components/Quotes'<br/>import Convert from '@/components/Convert'<br/>import Drawer from '@/components/Drawer'<br/>import Historical from '@/components/Historical'<br/>import HistoricalRatesInPeriod from '@/components/HistoricalRatesInPeriod'<br/>import HistoricalRatesInPeriodGraph from '@/components/HistoricalRatesInPeriodGraph'<br/>import LineGraph from '@/components/LineGraph'<br/>import currencies from '../currencies';<br/>import VueMaterial from 'vue-material'<br/>import 'vue-material/dist/vue-material.min.css'<br/>import 'vue-material/dist/theme/default.css'Vue.component('drawer', Drawer);<br/>Vue.component('line-graph', LineGraph);<br/>Vue.use(VueMaterial)<br/>Vue.use(Router)<br/>Vue.use(VeeValidate);Vue.filter('currencyName', function (value) {<br/>  if (currencies[value]) {<br/>    return currencies[value].name;<br/>  }<br/>  else {<br/>    return value;<br/>  }})export default new Router({<br/>  routes: [<br/>    {<br/>      path: '/',<br/>      name: 'quotes',<br/>      component: Quotes,<br/>      meta: { title: 'Quotes' }<br/>    },<br/>    {<br/>      path: '/convert',<br/>      name: 'convert',<br/>      component: Convert,<br/>      meta: { title: 'Convert' }<br/>    },<br/>    {<br/>      path: '/historical',<br/>      name: 'historical',<br/>      component: Historical,<br/>      meta: { title: 'Historical Rates' }<br/>    },<br/>    {<br/>      path: '/historicalratesinperiod',<br/>      name: 'historicalratesinperiod',<br/>      component: HistoricalRatesInPeriod,<br/>      meta: { title: 'Historical Rates in a Period' }<br/>    },<br/>    {<br/>      path: '/historicalratesinperiodgraph',<br/>      name: 'historicalratesinperiodgraph',<br/>      component: HistoricalRatesInPeriodGraph,<br/>      meta: { title: 'Historical Rates in a Period' }<br/>    }<br/>  ]<br/>})</span></pre><p id="a1c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个模块是我们向Vue注册外部组件的地方，因此我们可以在模板中使用它:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="118c" class="la lb it kr b gy lc ld l le lf">Vue.component('drawer', Drawer);<br/>Vue.component('line-graph', LineGraph);<br/>Vue.use(VueMaterial)<br/>Vue.use(Router)<br/>Vue.use(VeeValidate);</span></pre><p id="9ee2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Vue还有一个叫做filter的元素，它允许我们在模板中将一个值映射到另一个值。</p><p id="4d03" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该块获取货币代码并获取名称:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="797d" class="la lb it kr b gy lc ld l le lf">Vue.filter('currencyName', function (value) {<br/>  if (currencies[value]) {<br/>    return currencies[value].name;<br/>  }<br/>  else {<br/>    return value;<br/>  }})</span></pre><p id="0965" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这些是我们应用程序每个页面的路线。每个页面的标题都在每个路由中的<code class="fe ko kp kq kr b">meta</code>对象的<code class="fe ko kp kq kr b">title</code>属性中。路径是每个页面的相对URL。我们必须添加我们在上面的文件中导入的组件。</p><p id="fb54" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我们为货币兑换表单创建页面。我们在<code class="fe ko kp kq kr b">src/components</code>文件夹中添加一个名为<code class="fe ko kp kq kr b">Convert.vue</code>的文件。<code class="fe ko kp kq kr b">vue</code>扩展名表示它是一个单文件组件，这意味着组件的逻辑、样式和模板都包含在一个文件中。</p><p id="518d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe ko kp kq kr b">Convert.vue</code>代码看起来像这样:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="373a" class="la lb it kr b gy lc ld l le lf">&lt;template&gt;<br/>  &lt;div class="page-container md-layout-column"&gt;<br/>    &lt;drawer&gt;&lt;/drawer&gt;<br/>    &lt;div class="container"&gt;<br/>      &lt;h1 class="center"&gt;Convert Currency&lt;/h1&gt;<br/>      &lt;form <a class="ae lg" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="convert"&gt;<br/>        &lt;div class="md-layout-item"&gt;<br/>          &lt;md-field :class="{'md-invalid': errors.first('price') }"&gt;<br/>            &lt;label&gt;Amount of Currency to Convert From&lt;/label&gt;<br/>            &lt;md-input v-model="form.price" v-validate="'required'" name="price"&gt;&lt;/md-input&gt;<br/>            &lt;span class="md-error"&gt;{{ errors.first('price') }}&lt;/span&gt;<br/>          &lt;/md-field&gt;<br/>          &lt;md-field :class="{'md-invalid': errors.first('from') }"&gt;<br/>            &lt;label for="from"&gt;Currency to Convert From&lt;/label&gt;<br/>            &lt;md-select v-model="form.from" name="from" v-validate="'required'"&gt;<br/>              &lt;md-option :value="s.code" v-for="s in fromSymbols" :key="s.code"&gt;{{s.name}}&lt;/md-option&gt;<br/>            &lt;/md-select&gt;<br/>            &lt;span class="md-error"&gt;{{ errors.first('from') }}&lt;/span&gt;<br/>          &lt;/md-field&gt;<br/>          &lt;md-field :class="{'md-invalid': errors.first('to') }"&gt;<br/>            &lt;label for="to"&gt;Currency to Convert To&lt;/label&gt;<br/>            &lt;md-select v-model="form.to" name="to" v-validate="'required'"&gt;<br/>              &lt;md-option :value="s.code" v-for="s in toSymbols" :key="s.code"&gt;{{s.name}}&lt;/md-option&gt;<br/>            &lt;/md-select&gt;<br/>            &lt;span class="md-error"&gt;{{ errors.first('to') }}&lt;/span&gt;<br/>          &lt;/md-field&gt;<br/>        &lt;/div&gt;<br/>        &lt;md-button class="md-dense md-raised md-primary" type="submit"&gt;Convert&lt;/md-button&gt;<br/>      &lt;/form&gt;<br/>      &lt;div v-if="hasResult" class="center"&gt;<br/>        &lt;h2<br/>          v-if="isNumber(result)"<br/>        &gt;{{form.price | currencyName}} {{form.from}} is {{result}} {{form.to | currencyName}}&lt;/h2&gt;<br/>        &lt;h2 v-if="!isNumber(result)"&gt;Exchange rate not found.&lt;/h2&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;&lt;script&gt;<br/>import currencies from "../currencies";<br/>import { APIURL } from "../urls";<br/>import * as moment from "moment";<br/>const request = require("superagent");export default {<br/>  name: "convert",<br/>  data() {<br/>    return {<br/>      form: {<br/>        price: 0,<br/>        from: "",<br/>        to: ""<br/>      },<br/>      result: null,<br/>      currencies,<br/>      currentTime: "",<br/>      err: null,<br/>      hasResult: false,<br/>      symbols: [],<br/>      fromSymbols: [],<br/>      toSymbols: []<br/>    };<br/>  },<br/>  watch: {<br/>    form: {<br/>      handler(val) {<br/>        if (!this.form) {<br/>          this.toSymbols = this.symbols;<br/>          this.fromSymbols = this.symbols;<br/>          return;<br/>        }this.hasResult = false;<br/>        if (this.form.from) {<br/>          this.toSymbols = this.symbols.filter(s =&gt; s.code != this.form.from);<br/>        }if (this.form.to) {<br/>          this.fromSymbols = this.symbols.filter(s =&gt; s.code != this.form.to);<br/>        }<br/>      },<br/>      deep: true<br/>    }<br/>  },<br/>  methods: {<br/>    convert(evt) {<br/>      this.hasResult = false;<br/>      evt.preventDefault();<br/>      if (this.errors.items.length &gt; 0) {<br/>        return;<br/>      }request.get(`${APIURL}/latest?base=${this.form.from}`).end((err, res) =&gt; {<br/>        let body = res.body;<br/>        this.hasResult = true;<br/>        this.result = (+this.form.price * +body.rates[this.form.to]).toFixed(2);<br/>        this.currentTime = moment(this.result.timestamp * 1000).format(<br/>          "YYYY-MM-DD HH:mm:ss a"<br/>        );<br/>      });<br/>    },<br/>    isNumber(number) {<br/>      return !isNaN(number);<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.symbols = Object.keys(this.currencies).map(k =&gt; {<br/>      return {<br/>        symbol: k,<br/>        ...this.currencies[k]<br/>      };<br/>    });<br/>    this.toSymbols = JSON.parse(JSON.stringify(this.symbols));<br/>    this.fromSymbols = JSON.parse(JSON.stringify(this.symbols));<br/>  }<br/>};<br/>&lt;/script&gt;&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>.result {<br/>  margin-top: 30px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="0d1c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意，它使用了我们之前定义的<code class="fe ko kp kq kr b">currencyName</code>过滤器。</p><p id="5041" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">标签之间的部分是表单。对于我们要转换的货币，分别有一个输入和两个选择下拉列表。</p><p id="5d34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在每个表单字段中，我们检查它是否已经填充了<code class="fe ko kp kq kr b">v-validate="'required'"</code>属性。这些选项是从JSON文件中导入的，包含所有货币。我们移除在<code class="fe ko kp kq kr b">script</code>标签中导出的对象的<code class="fe ko kp kq kr b">watch</code>块的下拉列表中已经选择的货币:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="5942" class="la lb it kr b gy lc ld l le lf">watch: {<br/>    form: {<br/>      handler(val) {<br/>        if (!this.form) {<br/>          this.toSymbols = this.symbols;<br/>          this.fromSymbols = this.symbols;<br/>          return;<br/>        }this.hasResult = false;<br/>        if (this.form.from) {<br/>          this.toSymbols = this.symbols.filter(s =&gt; s.code != this.form.from);<br/>        }if (this.form.to) {<br/>          this.fromSymbols = this.symbols.filter(s =&gt; s.code != this.form.to);<br/>        }<br/>      },<br/>      deep: true<br/>    }<br/>  },</span></pre><p id="7d69" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这使得我们在两个下拉列表中没有相同的选择。</p><p id="66a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的代码中，我们正在观察<code class="fe ko kp kq kr b">form</code>对象的所有属性的变化。如果在“至”或“自”下拉列表中选择了新的货币符号，则该符号将分别从“至”或“自”字段的选择中排除。</p><p id="46d9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦用户单击submit按钮，就会运行<code class="fe ko kp kq kr b">convert</code>函数，该函数获取汇率并计算转换后的金额。对象中的<code class="fe ko kp kq kr b">this</code>是模板变量绑定到逻辑变量的地方。我们使用<code class="fe ko kp kq kr b">moment</code>来格式化时间，所以我们必须通过运行<code class="fe ko kp kq kr b">npm i moment</code>来安装它。</p><p id="5989" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们通过分配给<code class="fe ko kp kq kr b">this</code>的字段来显示结果。模板将自动更新。</p><p id="50a9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了创建导航的侧菜单，我们添加了一个名为<code class="fe ko kp kq kr b">Drawer.vue</code>的文件，我们将其导入并注册到<code class="fe ko kp kq kr b">index.js</code>中，这样我们就可以将它包含在我们的模板中。</p><p id="9192" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码如下所示:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="d1ae" class="la lb it kr b gy lc ld l le lf">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;md-drawer :md-active.sync="showNavigation" md-swipeable&gt;<br/>      &lt;md-toolbar class="md-transparent" md-elevation="0"&gt;<br/>        &lt;span class="md-title"&gt;Currency Info&lt;/span&gt;<br/>      &lt;/md-toolbar&gt;&lt;md-list&gt;<br/>        &lt;md-list-item&gt;<br/>          &lt;router-link to="/"&gt;<br/>            &lt;span class="md-list-item-text"&gt;Exchange Rates&lt;/span&gt;<br/>          &lt;/router-link&gt;<br/>        &lt;/md-list-item&gt;&lt;md-list-item&gt;<br/>          &lt;router-link to="/convert"&gt;<br/>            &lt;span class="md-list-item-text"&gt;Convert Currency&lt;/span&gt;<br/>          &lt;/router-link&gt;<br/>        &lt;/md-list-item&gt;&lt;md-list-item&gt;<br/>          &lt;router-link to="/historical"&gt;<br/>            &lt;span class="md-list-item-text"&gt;Historical Rates&lt;/span&gt;<br/>          &lt;/router-link&gt;<br/>        &lt;/md-list-item&gt;&lt;md-list-item&gt;<br/>          &lt;router-link to="/historicalratesinperiod"&gt;<br/>            &lt;span class="md-list-item-text"&gt;Historical Rates in a Period&lt;/span&gt;<br/>          &lt;/router-link&gt;<br/>        &lt;/md-list-item&gt;&lt;md-list-item&gt;<br/>          &lt;router-link to="/historicalratesinperiodgraph"&gt;<br/>            &lt;span class="md-list-item-text"&gt;Historical Rates in a Period Graph&lt;/span&gt;<br/>          &lt;/router-link&gt;<br/>        &lt;/md-list-item&gt;<br/>      &lt;/md-list&gt;<br/>    &lt;/md-drawer&gt;<br/>    &lt;md-toolbar class="md-primary"&gt;<br/>      &lt;md-button class="md-icon-button" <a class="ae lg" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="showNavigation = true"&gt;<br/>        &lt;md-icon&gt;menu&lt;/md-icon&gt;<br/>      &lt;/md-button&gt;<br/>      &lt;h3 class="md-title"&gt;Currency Info&lt;/h3&gt;<br/>    &lt;/md-toolbar&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;&lt;script&gt;<br/>export default {<br/>  name: "nav-bar",<br/>  data() {<br/>    return {<br/>      msg: "Welcome to Your Vue.js App",<br/>      showNavigation: false<br/>    };<br/>  }<br/>};<br/>&lt;/script&gt;&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>&lt;/style&gt;</span></pre><p id="2f15" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们以类似的方式创建其余的组件文件。他们都在<code class="fe ko kp kq kr b">src/components</code>。</p><p id="1d3c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们创建一个名为<code class="fe ko kp kq kr b">Historical.vue</code>的文件，并添加以下内容:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="0550" class="la lb it kr b gy lc ld l le lf">&lt;template&gt;<br/>  &lt;div class="page-container md-layout-column"&gt;<br/>    &lt;drawer&gt;&lt;/drawer&gt;<br/>    &lt;div class="container"&gt;<br/>      &lt;h1 class="center"&gt;Historical Exchange Rates&lt;/h1&gt;<br/>      &lt;form <a class="ae lg" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="getHistoricalRate"&gt;<br/>        &lt;div class="md-layout-item"&gt;<br/>          &lt;label&gt;Date&lt;/label&gt;<br/>          &lt;md-datepicker<br/>            v-model="form.date"<br/>            v-validate="'required'"<br/>            name="date"<br/>            :md-disabled-dates="futureDates"<br/>          &gt;&lt;/md-datepicker&gt;<br/>          &lt;md-field :class="{'md-invalid': errors.first('baseCurrency') }"&gt;<br/>            &lt;label for="baseCurrency"&gt;Currency Symbol&lt;/label&gt;<br/>            &lt;md-select v-model="form.baseCurrency" name="baseCurrency" v-validate="'required'"&gt;<br/>              &lt;md-option :value="s.code" v-for="s in symbols" :key="s.code"&gt;{{s.name}}&lt;/md-option&gt;<br/>            &lt;/md-select&gt;<br/>            &lt;span class="md-error"&gt;{{ errors.first('baseCurrency') }}&lt;/span&gt;<br/>          &lt;/md-field&gt;<br/>        &lt;/div&gt;<br/>        &lt;md-button class="md-dense md-raised md-primary" type="submit"&gt;Find Rate&lt;/md-button&gt;<br/>      &lt;/form&gt;<br/>      &lt;div&gt;<br/>        &lt;md-content class="md-layout-item" v-for="(r, index) in rates" :key="index"&gt;<br/>          &lt;h2&gt;{{form.baseCurrency | currencyName}} - {{r.symbol| currencyName}}&lt;/h2&gt;<br/>          &lt;p&gt;{{r.rate}}&lt;/p&gt;<br/>        &lt;/md-content&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;&lt;script&gt;<br/>import currencies from "../currencies";<br/>import { APIURL } from "../urls";<br/>import * as moment from "moment";<br/>const request = require("superagent");export default {<br/>  data() {<br/>    return {<br/>      form: {<br/>        date: new Date(),<br/>        baseCurrency: ""<br/>      },<br/>      rates: [],<br/>      symbols: [],<br/>      currencies<br/>    };<br/>  },<br/>  methods: {<br/>    getHistoricalRate(evt) {<br/>      this.hasResult = false;<br/>      evt.preventDefault();<br/>      if (this.errors.items.length &gt; 0) {<br/>        return;<br/>      }request<br/>        .get(<br/>          `${APIURL}/${moment(this.form.date).format("YYYY-MM-DD")}?base=${<br/>            this.form.baseCurrency<br/>          }`<br/>        )<br/>        .end((err, res) =&gt; {<br/>          let body = res.body;<br/>          this.hasResult = true;<br/>          this.rates = Object.keys(body.rates).map(k =&gt; {<br/>            return {<br/>              symbol: k,<br/>              rate: body.rates[k]<br/>            };<br/>          });<br/>        });<br/>    },<br/>    futureDates(evt) {<br/>      return +evt &gt; +new Date();<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.symbols = Object.keys(this.currencies).map(k =&gt; {<br/>      return {<br/>        symbol: k,<br/>        ...this.currencies[k]<br/>      };<br/>    });<br/>  }<br/>};<br/>&lt;/script&gt;&lt;style&gt;<br/>&lt;/style&gt;</span></pre><p id="e166" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在该组件中，<code class="fe ko kp kq kr b">getHistoricalRate</code>函数运行代码向API发出GET请求，以与我们的Superagent HTTP客户端库进行交换。请求完成后，链接到<code class="fe ko kp kq kr b">get</code>函数的<code class="fe ko kp kq kr b">then</code>函数获取汇率结果并进行计算。</p><p id="86b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我们在同一个文件夹中创建<code class="fe ko kp kq kr b">HistoricalRatesInPeriod.vue</code>，并添加以下内容:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="126d" class="la lb it kr b gy lc ld l le lf">&lt;template&gt;<br/>  &lt;div class="page-container md-layout-column"&gt;<br/>    &lt;drawer&gt;&lt;/drawer&gt;<br/>    &lt;div class="container"&gt;<br/>      &lt;h1 class="center"&gt;Historical Exchange Rates in a Period&lt;/h1&gt;<br/>      &lt;form <a class="ae lg" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="getHistoricalRate"&gt;<br/>        &lt;div class="md-layout-item"&gt;<br/>          &lt;label&gt;Start Date&lt;/label&gt;<br/>          &lt;md-datepicker<br/>            v-model="form.startDate"<br/>            v-validate="'required'"<br/>            name="date"<br/>            :md-disabled-dates="invalidStartDates"<br/>          &gt;&lt;/md-datepicker&gt;<br/>          &lt;label&gt;End Date&lt;/label&gt;<br/>          &lt;md-datepicker<br/>            v-model="form.endDate"<br/>            v-validate="'required'"<br/>            name="date"<br/>            :md-disabled-dates="invalidEndDates"<br/>          &gt;&lt;/md-datepicker&gt;<br/>          &lt;md-field :class="{'md-invalid': errors.first('baseCurrency') }"&gt;<br/>            &lt;label for="baseCurrency"&gt;Currency Symbol&lt;/label&gt;<br/>            &lt;md-select v-model="form.baseCurrency" name="baseCurrency" v-validate="'required'"&gt;<br/>              &lt;md-option :value="s.code" v-for="s in symbols" :key="s.code"&gt;{{s.name}}&lt;/md-option&gt;<br/>            &lt;/md-select&gt;<br/>            &lt;span class="md-error"&gt;{{ errors.first('baseCurrency') }}&lt;/span&gt;<br/>          &lt;/md-field&gt;<br/>        &lt;/div&gt;<br/>        &lt;md-button class="md-dense md-raised md-primary" type="submit"&gt;Find Rate&lt;/md-button&gt;<br/>      &lt;/form&gt;<br/>      &lt;div&gt;<br/>        &lt;md-content class="md-layout-item" v-for="(r, index) in rates" :key="index"&gt;<br/>          &lt;h2&gt;{{r.date}}&lt;/h2&gt;<br/>          &lt;md-content class="md-layout-item" v-for="(rr, index) in r.rates" :key="index"&gt;<br/>            &lt;h3&gt;{{form.baseCurrency | currencyName}} - {{rr.symbol| currencyName}}&lt;/h3&gt;<br/>            &lt;p&gt;{{rr.rate}}&lt;/p&gt;<br/>          &lt;/md-content&gt;<br/>        &lt;/md-content&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;&lt;script&gt;<br/>import currencies from "../currencies";<br/>import { APIURL } from "../urls";<br/>import * as moment from "moment";<br/>const request = require("superagent");export default {<br/>  data() {<br/>    return {<br/>      form: {<br/>        startDate: new Date(),<br/>        endDate: new Date(),<br/>        baseCurrency: ""<br/>      },<br/>      rates: [],<br/>      symbols: [],<br/>      currencies<br/>    };<br/>  },<br/>  methods: {<br/>    getHistoricalRate(evt) {<br/>      this.hasResult = false;<br/>      evt.preventDefault();<br/>      if (this.errors.items.length &gt; 0) {<br/>        return;<br/>      }request<br/>        .get(<br/>          `${APIURL}/history?start_at=${moment(this.form.startDate).format(<br/>            "YYYY-MM-DD"<br/>          )}&amp;end_at=${moment(this.form.endDate).format("YYYY-MM-DD")}&amp;base=${<br/>            this.form.baseCurrency<br/>          }`<br/>        )<br/>        .end((err, res) =&gt; {<br/>          let body = res.body;<br/>          this.hasResult = true;<br/>          this.rates = Object.keys(body.rates)<br/>            .map(date =&gt; {<br/>              return {<br/>                date: moment(date).format("YYYY-MM-DD"),<br/>                rates: Object.keys(body.rates[date]).map(k =&gt; {<br/>                  return {<br/>                    symbol: k,<br/>                    rate: body.rates[date][k]<br/>                  };<br/>                })<br/>              };<br/>            })<br/>            .sort((a, b) =&gt; +new Date(a.date) - +new Date(b.date));<br/>        });<br/>    },<br/>    invalidStartDates(evt) {<br/>      return +evt &gt; +new Date();<br/>    },<br/>    invalidEndDates(evt) {<br/>      return +evt &lt; +this.form.startDate || +evt &gt; +new Date();<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.symbols = Object.keys(this.currencies).map(k =&gt; {<br/>      return {<br/>        symbol: k,<br/>        ...this.currencies[k]<br/>      };<br/>    });<br/>  }<br/>};<br/>&lt;/script&gt;&lt;style&gt;<br/>&lt;/style&gt;</span></pre><p id="703a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">日期选择器和其他组件都注册在<code class="fe ko kp kq kr b">index.js</code>中，所以我们可以将它们包含在我们的模板中。</p><p id="9b40" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我们通过添加一个名为<code class="fe ko kp kq kr b">HistoreicalRatesInPeriodGraph.vue</code>的文件，将页面添加到图表中的“某一时期的历史汇率”中，并添加以下代码:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="13c1" class="la lb it kr b gy lc ld l le lf">&lt;template&gt;<br/>  &lt;div class="page-container md-layout-column"&gt;<br/>    &lt;drawer&gt;&lt;/drawer&gt;<br/>    &lt;div class="container"&gt;<br/>      &lt;h1 class="center"&gt;Historical Exchange Rates in a Period Graph&lt;/h1&gt;<br/>      &lt;form <a class="ae lg" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>.prevent="getHistoricalRate"&gt;<br/>        &lt;div class="md-layout-item"&gt;<br/>          &lt;label&gt;Start Date&lt;/label&gt;<br/>          &lt;md-datepicker<br/>            v-model="form.startDate"<br/>            v-validate="'required'"<br/>            name="date"<br/>            :md-disabled-dates="invalidStartDates"<br/>          &gt;&lt;/md-datepicker&gt;<br/>          &lt;label&gt;End Date&lt;/label&gt;<br/>          &lt;md-datepicker<br/>            v-model="form.endDate"<br/>            v-validate="'required'"<br/>            name="date"<br/>            :md-disabled-dates="invalidEndDates"<br/>          &gt;&lt;/md-datepicker&gt;<br/>          &lt;md-field :class="{'md-invalid': errors.first('from') }"&gt;<br/>            &lt;label for="from"&gt;Currency to Convert From&lt;/label&gt;<br/>            &lt;md-select v-model="form.from" name="from" v-validate="'required'"&gt;<br/>              &lt;md-option :value="s.code" v-for="s in fromSymbols" :key="s.code"&gt;{{s.name}}&lt;/md-option&gt;<br/>            &lt;/md-select&gt;<br/>            &lt;span class="md-error"&gt;{{ errors.first('from') }}&lt;/span&gt;<br/>          &lt;/md-field&gt;<br/>          &lt;md-field :class="{'md-invalid': errors.first('to') }"&gt;<br/>            &lt;label for="to"&gt;Currency to Convert To&lt;/label&gt;<br/>            &lt;md-select v-model="form.to" name="to" v-validate="'required'"&gt;<br/>              &lt;md-option :value="s.code" v-for="s in toSymbols" :key="s.code"&gt;{{s.name}}&lt;/md-option&gt;<br/>            &lt;/md-select&gt;<br/>            &lt;span class="md-error"&gt;{{ errors.first('to') }}&lt;/span&gt;<br/>          &lt;/md-field&gt;<br/>        &lt;/div&gt;<br/>        &lt;md-button class="md-dense md-raised md-primary" type="submit"&gt;Find Historical Rates&lt;/md-button&gt;<br/>      &lt;/form&gt;<br/>      &lt;div&gt;<br/>        &lt;line-graph v-if="hasResult &amp;&amp; !resultNotFound" :chartdata="graphData" :options="options"&gt;&lt;/line-graph&gt;<br/>        &lt;h2 v-if="hasResult &amp;&amp; resultNotFound"&gt;Exchange rates not found.&lt;/h2&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;&lt;script&gt;<br/>import currencies from "../currencies";<br/>import { APIURL } from "../urls";<br/>import * as moment from "moment";<br/>const request = require("superagent");export default {<br/>  data() {<br/>    return {<br/>      form: {<br/>        startDate: new Date(),<br/>        endDate: new Date(),<br/>        from: "",<br/>        to: ""<br/>      },<br/>      rates: [],<br/>      symbols: [],<br/>      fromSymbols: [],<br/>      toSymbols: [],<br/>      currencies,<br/>      graphData: {},<br/>      options: {<br/>        responsive: true,<br/>        maintainAspectRatio: false<br/>      },<br/>      hasResult: false,<br/>      resultNotFound: false<br/>    };<br/>  },<br/>  watch: {<br/>    form: {<br/>      handler(val) {<br/>        if (!this.form) {<br/>          this.toSymbols = this.symbols;<br/>          this.fromSymbols = this.symbols;<br/>          return;<br/>        }<br/>        <br/>        if (this.form.from) {<br/>          this.toSymbols = this.symbols.filter(s =&gt; s.code != this.form.from);<br/>        }if (this.form.to) {<br/>          this.fromSymbols = this.symbols.filter(s =&gt; s.code != this.form.to);<br/>        }<br/>      },<br/>      deep: true<br/>    }<br/>  },<br/>  methods: {<br/>    getHistoricalRate(evt) {<br/>      this.hasResult = false;<br/>      evt.preventDefault();<br/>      if (this.errors.items.length &gt; 0) {<br/>        return;<br/>      }request<br/>        .get(<br/>          `${APIURL}/history?start_at=${moment(this.form.startDate).format(<br/>            "YYYY-MM-DD"<br/>          )}&amp;end_at=${moment(this.form.endDate).format("YYYY-MM-DD")}&amp;base=${<br/>            this.form.from<br/>          }`<br/>        )<br/>        .end((err, res) =&gt; {<br/>          let body = res.body;<br/>          this.hasResult = true;<br/>          if (!body.rates) {<br/>            this.resultNotFound = true;<br/>            return;<br/>          } else {<br/>            this.resultNotFound = false;<br/>          }<br/>          let rates = Object.keys(body.rates)<br/>            .map(date =&gt; {<br/>              return {<br/>                date: moment(date).format("YYYY-MM-DD"),<br/>                rates: Object.keys(body.rates[date]).map(k =&gt; {<br/>                  return {<br/>                    symbol: k,<br/>                    rate: body.rates[date][k]<br/>                  };<br/>                })<br/>              };<br/>            })<br/>            .sort((a, b) =&gt; +new Date(a.date) - +new Date(b.date));let exchangeRates = [];<br/>          rates.forEach(r =&gt; {<br/>            let currency = r.rates.find(rr =&gt; rr.symbol == this.form.to);<br/>            let rate;<br/>            if (currency) {<br/>              rate = currency.rate;<br/>            }<br/>            if (rate) {<br/>              exchangeRates.push(rate);<br/>            }<br/>          });this.graphData = {<br/>            labels: rates.map(r =&gt; r.date),<br/>            datasets: [<br/>              {<br/>                label: `Exchange Rate ${this.form.from} - ${this.form.to}`,<br/>                backgroundColor: "#f87979",<br/>                data: exchangeRates,<br/>                fill: false<br/>              }<br/>            ]<br/>          };if (exchangeRates.length == 0) {<br/>            this.resultNotFound = true;<br/>          }<br/>        });<br/>    },<br/>    invalidStartDates(evt) {<br/>      return +evt &gt; +new Date();<br/>    },<br/>    invalidEndDates(evt) {<br/>      return +evt &lt; +this.form.startDate || +evt &gt; +new Date();<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.symbols = Object.keys(this.currencies).map(k =&gt; {<br/>      return {<br/>        symbol: k,<br/>        ...this.currencies[k]<br/>      };<br/>    });<br/>    this.toSymbols = JSON.parse(JSON.stringify(this.symbols));<br/>    this.fromSymbols = JSON.parse(JSON.stringify(this.symbols));<br/>  }<br/>};<br/>&lt;/script&gt;&lt;style&gt;<br/>&lt;/style&gt;</span></pre><p id="b25d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要在我们的应用程序中显示我们的线图，我们必须创建Vue Chart.js所需的组件。创建一个名为<code class="fe ko kp kq kr b">LineGraph.vue</code>的文件，并添加以下内容:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="7d8d" class="la lb it kr b gy lc ld l le lf">&lt;script&gt;<br/>import { Line } from 'vue-chartjs'export default {<br/>  extends: Line,<br/>  props: ['chartdata', 'options'],<br/>  mounted () {<br/>    this.renderChart(this.chartdata, this.options)<br/>  }<br/>}<br/>&lt;/script&gt;&lt;style&gt;<br/>&lt;/style&gt;</span></pre><p id="412e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后我们制作一个页面来显示我们的报价。将其命名为<code class="fe ko kp kq kr b">Quotes.vue</code>，并添加以下内容:</p><pre class="ks kt ku kv gt kw kr kx ky aw kz bi"><span id="340c" class="la lb it kr b gy lc ld l le lf">&lt;template&gt;<br/>  &lt;div class="page-container md-layout-column"&gt;<br/>    &lt;drawer&gt;&lt;/drawer&gt;<br/>    &lt;md-content&gt;<br/>      &lt;h1 class="center"&gt;Quotes as of {{currentTime}}&lt;/h1&gt;<br/>      &lt;div class="container"&gt;<br/>        &lt;div class="md-layout-item"&gt;<br/>          &lt;md-field&gt;<br/>            &lt;label for="movie"&gt;Base Currency&lt;/label&gt;<br/>            &lt;md-select v-model="baseCurrency" name="baseCurrency"&gt;<br/>              &lt;md-option value="EUR"&gt;Euro&lt;/md-option&gt;<br/>              &lt;md-option value="USD"&gt;US Dollar&lt;/md-option&gt;<br/>              &lt;md-option value="CAD"&gt;Canadian Dollar&lt;/md-option&gt;<br/>            &lt;/md-select&gt;<br/>          &lt;/md-field&gt;<br/>        &lt;/div&gt;<br/>        &lt;div&gt;<br/>          &lt;md-content class="md-layout-item" v-for="(q, index) in quoteData.rates" :key="index"&gt;<br/>            &lt;h2&gt;{{quoteData.base}} - {{q.symbol| currencyName}}&lt;/h2&gt;<br/>            &lt;p&gt;Price: {{q.rate}}&lt;/p&gt;<br/>          &lt;/md-content&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/md-content&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;&lt;script&gt;<br/>import currencies from "../currencies";<br/>import { APIURL } from "../urls";<br/>import * as moment from "moment";<br/>const request = require("superagent");export default {<br/>  name: "quotes",<br/>  data() {<br/>    return {<br/>      quoteData: {},<br/>      currentTime: moment().format("YYYY-MM-DD HH:mm:ss a"),<br/>      baseCurrency: null,<br/>      showNavigation: false<br/>    };<br/>  },<br/>  methods: {<br/>    getQuotes() {<br/>      let url = `${APIURL}/latest`;<br/>      if (this.baseCurrency) {<br/>        url = `${APIURL}/latest?base=${this.baseCurrency}`;<br/>      }<br/>      request.get(url).end((err, res) =&gt; {<br/>        this.quoteData = res.body;<br/>        this.quoteData.rates = Object.keys(this.quoteData.rates).map(k =&gt; {<br/>          return {<br/>            symbol: k,<br/>            rate: this.quoteData.rates[k]<br/>          };<br/>        });<br/>        this.currentTime = moment().format("YYYY-MM-DD HH:mm:ss a");<br/>      });<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.getQuotes();<br/>  },<br/>  watch: {<br/>    baseCurrency: function() {<br/>      this.getQuotes();<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style&gt;&lt;/style&gt;</span></pre><p id="1b95" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们得到了用Vue编写的工作货币转换器应用程序:</p><figure class="ks kt ku kv gt li gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/b0154b61e3c5d34dacbc54fa3f300494.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*1sZB6n7AKLBdGZdq"/></div></figure><figure class="ks kt ku kv gt li gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/275299306e18d5271a58ad11fe2d03a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QlCSHPpvXV2yDlji.png"/></div></figure><figure class="ks kt ku kv gt li gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/3dad7d63a9d5213d0a745a3d839d365b.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*byRigbRCCUk-TNuM"/></div></figure><figure class="ks kt ku kv gt li gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/7cfa1e72fed894e6fd753d5b239e87d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4R3jYE_SP9If4c8W.png"/></div></figure><figure class="ks kt ku kv gt li gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/bcdd9e0730be2ac9ce40935432055700.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*v53lWileKq6IrqfD"/></div></figure><figure class="ks kt ku kv gt li gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/dfdf8e3a4e05a4de8eea819c497f033b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_yajudYGz5fuBoGh.png"/></div></figure><p id="183e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要为生产部署构建我们的应用程序，运行<code class="fe ko kp kq kr b">npm run build</code>。</p></div></div>    
</body>
</html>