<html>
<head>
<title>SwiftUI vs. Auto Layout: Pros and Cons of Each Approach</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI与自动布局:每种方法的优缺点</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftui-vs-autolayout-pros-and-cons-of-both-approaches-c09b37b9aff2?source=collection_archive---------0-----------------------#2019-08-18">https://betterprogramming.pub/swiftui-vs-autolayout-pros-and-cons-of-both-approaches-c09b37b9aff2?source=collection_archive---------0-----------------------#2019-08-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="26c2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">加入新的SwiftUI语言还是继续使用负担得起的故事板系统？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ab36719b0c3dbcc126117e3f2f18f565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W-u0FfQEhRv8RQGmRR1MmQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@mr_fresh?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Yura Fresh </a>在<a class="ae ky" href="https://unsplash.com/search/photos/ios?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="9f82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还记得苹果发布<a class="ae ky" href="https://developer.apple.com/swift/" rel="noopener ugc nofollow" target="_blank"> Swift </a>语言的时候，那是一个真正的突破，是超越现代编程语言的一步。这让开发人员非常兴奋。</p><p id="b285" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">距离其发布日期(2014年9月)已经过去五年了，苹果一直在将该语言升级到Swift 5，有时提供良好的功能，有时只是更新Xcode IDE和故事板的改进。</p><p id="a6c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，SwiftUI语言在6月份的WWDC 2019上亮相，并在此后不久开始流行。对我来说，似乎每个人都喜欢SwiftUI。</p><p id="7dbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SwiftUI语言/技术是一种新的方法来为iOS应用程序设计用户界面，它基本上是一个全新的系统，可能会取代自动布局系统。</p><p id="a7b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Auto Layout是可视化的，而SwiftUI是声明性的，为开发人员提供了编写UI的能力，而不是可视化地组合它。</p><p id="d7ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两者之间有许多差异，即使我们没有遗留自动布局支持的截止日期，猜测和谣言也在悄悄地说SwiftUI将是iOS编程中UI/UX开发工具的未来。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/d348518398e438ded373114fc103e2ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tNGlGuBJUGMXC0fCHdh-4g.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="801d" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">自动布局:从零到框架</h1><p id="56f5" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">自动布局系统是苹果公司在2011年构思的，后来发布给了开发者，并在iOS中得到支持。</p><p id="4950" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自动布局的功能基于一个系统，该系统能够使用开发人员定义的约束和规则来调整其呈现和外观。</p><p id="0f8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些规则指定了视图是否应该放大、缩小、移动位置坐标等等，使得所有UI组件都能够响应并适应屏幕大小、分辨率和不同的上下文。</p><p id="b655" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当苹果推出不同屏幕尺寸的iPhone时，自动布局开始变得重要——第一个案例是iPhone 5，它比以前显示了更长的屏幕。</p><p id="923e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，对于标准的iphone，加上iphone，X模型等等，所有的自动布局实现都是你无法避免的，它们只是强制性的，只要你创建了一个新的Xcode项目，自动布局支持就已经构建好了，随时可以使用。</p><p id="81aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自动布局不是苹果的专利，也不是唯一的UI系统。这只是苹果公司创建界面和管理界面响应的方式——如果你看看微软用来构建Windows界面的工具。它们非常相似。</p><p id="1d71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这些年中，我们经历了UI合成和自动布局的挑战性复杂性，尽管它很简单，但已经发展了很多，有时需要良好的技能和框架的集成才能使它们工作。</p><p id="9a14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在某些情况下，我经历过使用Swift而不是Xcode或Storyboards来编码接口的需求，因为它们的条件和上下文相关的方面行为。</p><p id="06b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我曾多次被迫在Swift中而不是在视觉上设置约束和规则，并且我一直在努力争取原生苹果对它的支持。</p><p id="9965" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是为什么我在大多数情况下使用<a class="ae ky" href="http://snapkit.io" rel="noopener ugc nofollow" target="_blank"> Snapkit </a>来支持我的UI编码，我真的认为这是一个很棒的工具，简单而有效。有许多其他工具和框架支持自动布局功能，可能90%的现代iOS应用程序需要它们来构建复杂的ui。</p><p id="2a10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我仍然记得iPhone 3G上的早期应用程序，它们看起来都一样。但是，现在每个流行的应用程序看起来都不错，有复杂的用户界面行为，经常使用视差、<a class="ae ky" href="https://airbnb.io/lottie/" rel="noopener ugc nofollow" target="_blank">洛蒂</a>动画、相对定位、渐变等等。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="6e35" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">SwiftUI:新的、好的和坏的</h1><p id="7970" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">新的SwiftUI被认为是对UI合成和开发的重新排序。</p><p id="1572" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">环顾四周，有许多框架、环境和技术的用户界面更多的是“定义的”而不是“组成的”。想想旧的基于XML的UI组合，甚至HTML/CSS方法——它基本上是声明性的，而不是通过使用可视化工具来组合。</p><p id="6f67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">声明式界面在混合应用中很流行，因为几乎所有的界面都是使用<a class="ae ky" href="https://flutter.dev/" rel="noopener ugc nofollow" target="_blank"> Flutter </a>和<a class="ae ky" href="https://ionicframework.com/" rel="noopener ugc nofollow" target="_blank"> Ionic </a>开发的。</p><p id="a27a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Flutter使用声明性接口，如旧的Sencha或现代的React native。在IONIC中，用户界面是纯HTML/CSS，并没有太大的不同。</p><p id="7d4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我对SwiftUI的第一印象是，对于简单的界面来说，它可能很有用，是一个不错的选择，但对于复杂的界面来说有点不合适。</p><p id="a90a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过使用Swift等特定于UI合成的语言编写所有内容来合成UI的想法对我来说听起来有点奇怪，即使有拖放Xcode功能的帮助。</p><p id="6d38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想象一下，有一个像社交feed一样的界面，一个像脸书一样的个人资料页面…我们确定用SwiftUI来编码会是一件愉快的事情吗？我不确定。</p><p id="1a42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你必须承认，这会导致嵌套的代码块和声明看起来非常糟糕和混乱。</p><p id="31ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，我们有一个简化的语法，它与Xcode使用故事板和编写XML构建的语法没有太大的不同，但在预测我的应用程序将使用复杂的动画和UI时开始使用SwiftUI可能有点鲁莽。</p><p id="a5c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我去过的所有研讨会上，在我看过的每个教程中，在我读过的每个演示中，SwiftUI界面都很基本，我知道现代应用需要更多。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="54f2" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">自动布局和SwiftUI的优缺点</h1><h2 id="5309" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated"><strong class="ak">自动布局和故事板得到了开发者的良好支持和熟知</strong>。</h2><p id="37e7" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们在这一年中使用了太多的自动布局，我们知道如何解决这个问题。</p><p id="4028" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SwiftUI在理论上使用了相同的方法(SwiftUI基本上是一种设置类似自动布局的约束的不同方式，它不是一种独立的工具或独立的技术)，但它是新鲜的，新的，有时这对开发人员的体验有负面影响。</p><h2 id="69ea" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated"><strong class="ak"> SwiftUI看起来很酷，看起来代码很快</strong></h2><p id="3016" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">由于基本组件自动集成了基本约束和行为，简单的接口可以在零到很短的时间内完成编码。</p><h2 id="685b" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated"><strong class="ak">故事板和连续镜头让你知道你在做什么</strong></h2><p id="354f" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">SwiftUI基本上是为设计单一视图而设计的。</p><h2 id="655a" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">自定义视图扩展支持Xcode故事板<strong class="ak"/></h2><p id="aa12" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Xcode Storyboards通过@IBDesignable decorators得到自定义视图扩展的支持，SwiftUI需要时间得到社区开发的自定义工具的支持和集成。</p><h2 id="585c" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated"><strong class="ak">仅iOS 13支持swift ui</strong></h2><p id="db87" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这可能是最有影响的负面方面，因为基于SwiftUI的应用至少一年内不会在企业环境中发布。</p><p id="b28b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，官方还没有宣布如何最终让它在早期的iOS版本上工作。这可能不会影响B2B应用，但肯定会影响B2C和趋势应用，不管iOS用户保持操作系统更新的习惯如何。</p><h2 id="5605" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated"><strong class="ak"> SwiftUI有实时预览</strong></h2><p id="662d" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">最后，我们有一种“响应性”的方式来编码我们的视图，这是我们在故事板和UIKit中真正想要的，当使用自定义视图和动态内容时，预览质量很低，有时效率很低。</p><h2 id="8987" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated"><strong class="ak"> SwiftUI有简化的动画</strong></h2><p id="e483" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这是我们在旧系统中真正错过的东西，在旧系统中，你必须与<code class="fe nm nn no np b">UIView.animate()</code>和更多东西战斗。新的放松和动画系统看起来更好。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a545" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="d829" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如果你想遵循苹果对UI开发的现代解释，SwiftUI肯定是要采取的步骤，但这是一条全新的未经探索的道路，可能会导致无人值守的行为，并使你的预期出错。</p><p id="be41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您仍然需要一些不会影响您的客户正在等待的新版本或新项目的时间安排的东西，我建议继续使用故事板或自动布局。</p><p id="85fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想接触这种新的、迷人的技术，并且你有时间花在学习和实验上，那就去SwiftUI吧。</p></div></div>    
</body>
</html>