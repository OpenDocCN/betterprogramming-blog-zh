<html>
<head>
<title>Build a 3D Card Scrolling Animation in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中构建3D卡片滚动动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-3d-card-scrolling-animation-in-swiftui-337c123fce73?source=collection_archive---------13-----------------------#2020-09-03">https://betterprogramming.pub/build-a-3d-card-scrolling-animation-in-swiftui-337c123fce73?source=collection_archive---------13-----------------------#2020-09-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8bc0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用ScrollView和GeometryReader创建动画3D滚动效果</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7432cd4719cbe316ced9f5a8451fe61d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uQryZrTORf4bAYiv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@exxteban?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Esteban Lopez </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="cb5f" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">卡片视图</h1><p id="d873" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">从卡片开始，我们将创建一个接受颜色和数字的结构视图。这些卡片将会是填充了颜色的<code class="fe mu mv mw mx b">RoundedRectangles</code>和一个<code class="fe mu mv mw mx b">Text</code>视图，其中的数字以<code class="fe mu mv mw mx b">ZStack</code>的形式堆叠在一起。</p><p id="af36" class="pw-post-body-paragraph ly lz it ma b mb my ju md me mz jx mg mh na mj mk ml nb mn mo mp nc mr ms mt im bi translated">我在<code class="fe mu mv mw mx b">RoundedRectangle</code>上有一个背景属性，它以白色为视图。这是因为我给<code class="fe mu mv mw mx b">CardView</code>赋予了不透明度值为0.3的颜色。如果使用不透明度值为1.0的颜色，则不需要背景色。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="32de" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">内容视图</h1><p id="ddcb" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated"><code class="fe mu mv mw mx b">ContentView</code>包含我们发送给<code class="fe mu mv mw mx b">CardView</code>的颜色数组。选择您的颜色或创建另一种类型的数组，并用您要放在卡片内的内容填充它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="959f" class="pw-post-body-paragraph ly lz it ma b mb my ju md me mz jx mg mh na mj mk ml nb mn mo mp nc mr ms mt im bi translated">在<code class="fe mu mv mw mx b">ContentView</code>主体中，我们将需要一个<code class="fe mu mv mw mx b">GeometryReader</code>来确定<code class="fe mu mv mw mx b">HStack</code>所需的填充量和间距。使用<code class="fe mu mv mw mx b">ForEach</code>将数字和颜色填入卡片。将您的<code class="fe mu mv mw mx b">HStack</code>嵌入到<code class="fe mu mv mw mx b">ScrollView</code>中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="136a" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">3D卡片动画</h1><p id="defd" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在我们的<code class="fe mu mv mw mx b">CardView</code>中，我们需要知道我们屏幕的<code class="fe mu mv mw mx b">maxX</code>。我们可以使用<code class="fe mu mv mw mx b">UIScreen</code>检索它，并将其存储在一个变量中。将<code class="fe mu mv mw mx b">ZStack</code>嵌入到<code class="fe mu mv mw mx b">GeometryReader</code>中。使用<code class="fe mu mv mw mx b">ZStack</code>上的<code class="fe mu mv mw mx b">rotation3DEffect</code>属性。使用几何代理传递<code class="fe mu mv mw mx b">maxX</code>值，并从中减去我们存储的<code class="fe mu mv mw mx b">maxX</code>值。然后加上<code class="fe mu mv mw mx b">maxX</code>值的一半，使卡片以0度在屏幕中间居中。将结果除以-5，或者您可以试验其他值，看看这会如何影响您的动画。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/38bffb1d4feeb84966e25f3e0caa0b62.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/1*psEP4qq1XX_cLPIzbGdbDg.gif"/></div></figure><p id="882a" class="pw-post-body-paragraph ly lz it ma b mb my ju md me mz jx mg mh na mj mk ml nb mn mo mp nc mr ms mt im bi translated">全部完成！感谢阅读。</p></div></div>    
</body>
</html>