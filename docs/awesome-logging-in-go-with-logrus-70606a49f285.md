# 棒极了的日志记录

> 原文：<https://betterprogramming.pub/awesome-logging-in-go-with-logrus-70606a49f285>

## 到目前为止，我很喜欢在几个项目中使用它

![](img/402cd9707d91d2155798f6c4ef90f42f.png)

图片来自[穆罕默德·拉赫马尼](https://unsplash.com/@afgprogrammer)通过 [unsplash](https://unsplash.com/photos/Y5yxdx2a4PI)

Github 上有很多 Go 的日志库。不过我真的很喜欢用 [logrus](https://github.com/sirupsen/logrus) 。

这是一个日志库，提供了我需要的所有功能，并提供了有用的功能，如彩色输出，完整或简短的时间戳打印和记录额外字段的功能。

虽然它目前处于维护模式(以避免在未来版本中出现破坏性的变化)，但安全补丁和错误修复仍然适用。查看 GitHub repo，您可以看到在这方面投入了大量的精力(例如在提交方面)。让我们深入了解一些配置和使用示例。

# 日志级别

Logrus 提供不同的日志级别，即“紧急”、“致命”、“错误”、“警告”、“信息”、“调试”、“跟踪”。通常，这些级别是有序的，如果级别设置为 info，则不会记录对更低级别(如 trace)的调用。可以通过`SetLevel`设置等级。我最喜欢的导入 logrus 的方式是将其命名为`log` *，*，这样日志更方便*。*

# 格式化

Logrus 提供了不同的格式化程序，比如:`TextFormatter`和`JSONFormatter`。这些打印机打印不同的输出，可以用一组选项进行配置。我最喜欢的配置是使用`TextFormatter`，启用颜色和完整的时间戳支持。

# 记录

在 logrus 中，每个日志级别由两个独立的函数实现，对于级别信息，它们被称为`Info`和`Infof`。

第一个用于记录一个简单的字符串，第二个接受一个包含格式的字符串，后跟一个可变的接口参数列表。

此外，`logrus`提供了一个`WithField`函数来添加字段到一个记录器中，这可以用来生成一个带有上下文的记录器

尽管有很多竞争，用于登录 Go 的 logrus 库在几个项目中为我提供了很好的服务，并且知道技巧和配置，它确实提供了很好的登录体验。

所以我肯定会把它推荐给任何在 Go 中寻找日志库的人。