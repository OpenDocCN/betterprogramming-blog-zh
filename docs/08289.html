<html>
<head>
<title>Create, Animate, and Customise Circles in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Swift中创建、制作和定制圆圈</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-animate-and-customise-circles-in-swift-84419881c597?source=collection_archive---------3-----------------------#2021-04-14">https://betterprogramming.pub/create-animate-and-customise-circles-in-swift-84419881c597?source=collection_archive---------3-----------------------#2021-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="136a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用UIBezierPath在iOS应用程序中绘制令人惊叹的形状</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/569c34cc68bea5c7b7f2e2d0d6757657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PM_-QAdc06gjrqfI"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">梅尔·普尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="a386" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有许多不同的库可以帮助你创建一个完整的圆形，半圆形，甚至是比萨饼切片形状。</p><p id="3f3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果制作过程没有那么困难呢？你还会考虑使用第三方SDK吗？自己制作的好处是可以灵活地制作任何你想要的东西。</p><p id="a3c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时候，第三方SDK不能提供你所需要的，你必须继续寻找另一个。如果它不符合您的业务需求，那就是浪费了大量时间。</p><p id="b955" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，我希望这本书能给你所需要的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="514f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">先决条件</h1><p id="82df" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要跟随本教程，您需要:</p><ul class=""><li id="0bdd" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">对Swift的基本熟悉。</li><li id="c50e" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">至少Xcode 11。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="06f2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">建立你的圈子</h1><p id="8974" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">你将使用<code class="fe nn no np nq b">UIBezierPath</code>来画出它的形状。你可以用<code class="fe nn no np nq b">arcCenter</code>来调整你想要的形状。您可以根据自己喜欢的尺寸调节<code class="fe nn no np nq b">radius</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="4c8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这只是一个小小的扩展，将有助于您的旅程:</p><pre class="kj kk kl km gt nt nq nu nv aw nw bi"><span id="e21a" class="nx md it nq b gy ny nz l oa ob">extension CGFloat {<br/>    func toRadians() -&gt; CGFloat {<br/>        return self * CGFloat(Double.pi) / 180.0<br/>    }<br/>}</span></pre><p id="a040" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您将使用<code class="fe nn no np nq b">CAShapeLayer</code>渲染圆:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="f8d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想要一个完整的圆，就用<code class="fe nn no np nq b">0</code>和<code class="fe nn no np nq b">360</code>分别代表<code class="fe nn no np nq b">startAngle</code>和<code class="fe nn no np nq b">endAngle</code>:</p><pre class="kj kk kl km gt nt nq nu nv aw nw bi"><span id="cd70" class="nx md it nq b gy ny nz l oa ob">createCircle(startAngle: 0, endAngle: 360)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/fb9dc78e86c1837f039deab7f92af6eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*R1tm1ZXziDIPLUrpKMEgGw.png"/></div></figure><p id="c854" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">半圆怎么样？分别是<code class="fe nn no np nq b">0</code>和<code class="fe nn no np nq b">180</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/77f723c669350c7b828cc645ef451004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*-hfXItSgprlUV2Lk8iC0SQ.png"/></div></figure><p id="8f45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">扇形(又名比萨饼切片形状)怎么样？分别是<code class="fe nn no np nq b">0</code>和<code class="fe nn no np nq b">90</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/1532e695f849d325cc19570f4b45aec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*FQjCdVlhoMAk3zFMNYwzuA.png"/></div></figure><p id="4ee4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随意摆弄这些数字，就能得到你需要的形状。让我们给这个实验增加一些乐趣，看看我们还能做些什么。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="35b1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">动画你的圈子</h1><p id="ed39" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为此，您可以考虑使用<code class="fe nn no np nq b">CABasicAnimation</code>。绝对可以根据自己的需要随意调整数值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="9d2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用上面的代码，您只需要在<code class="fe nn no np nq b">createCircle</code>中添加一行代码:</p><pre class="kj kk kl km gt nt nq nu nv aw nw bi"><span id="2151" class="nx md it nq b gy ny nz l oa ob">addAnimation(to: segmentLayer)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl of"><img src="../Images/4449734b36a36b9a55705e88a508d83b.png" data-original-src="https://miro.medium.com/v2/1*1KnP4oezZt8w147RBljlBw.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="dcba" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">给你的圆添加渐变</h1><p id="913f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">除了动画之外，有时设计师的要求可能会变得非常讨厌各种各样的十六进制颜色。不要烦恼！你的设计师会得到他们想要的。</p><p id="1f54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用下面的代码，你可以在你的圆上有一个渐变。这里使用的渐变是蓝色和黄色，但是可以随意改变颜色:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="f6d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将下面的代码添加到<code class="fe nn no np nq b">createCircle</code>中。</p><pre class="kj kk kl km gt nt nq nu nv aw nw bi"><span id="f49b" class="nx md it nq b gy ny nz l oa ob">addGradientLayer(to: segmentLayer)</span></pre><p id="7dbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你还有你的动画，那将是动画和渐变的结合。然而，我想让你看看下图中渐变后的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/2e00c01ea49b128c1af5829bc4eea069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*oz90A7FPKT8YnFd3li4pxQ.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="eff0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">堆叠你的圆圈</h1><p id="19d9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">你给你的设计师留下了深刻的印象，但似乎他们想要更多。他们给了你一套新的设计。这一次，您需要在整个圆圈周围添加一个外圈，因为当前版本看起来有点过于平淡。</p><p id="452d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你已经知道如何创造一个圈子了。你可以通过复制相同的代码来堆叠它们:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="6208" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并且<code class="fe nn no np nq b">viewDidLoad</code>应该包含:</p><pre class="kj kk kl km gt nt nq nu nv aw nw bi"><span id="e93e" class="nx md it nq b gy ny nz l oa ob">createInnerCircle(startAngle: 0, endAngle: 360)<br/>createCircle(startAngle: 0, endAngle: 360)</span></pre><p id="8a4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个，你会让你的设计师大吃一惊，正式成为他们最喜欢的工程师:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl of"><img src="../Images/cc026662a90037fd115af23a00da54f7.png" data-original-src="https://miro.medium.com/v2/1*2PZKmSxT7pCQT43j1w3d-g.gif"/></div></figure><p id="51b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你有一个灵活的圈子，你可以不时调整。</p></div></div>    
</body>
</html>