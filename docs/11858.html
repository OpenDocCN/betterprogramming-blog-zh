<html>
<head>
<title>Write More Dumb Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编写更多愚蠢的代码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/write-more-dumb-code-f7e7da9f1fde?source=collection_archive---------18-----------------------#2022-04-21">https://betterprogramming.pub/write-more-dumb-code-f7e7da9f1fde?source=collection_archive---------18-----------------------#2022-04-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1772" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在你的代码是聪明还是愚蠢的问题上，肯定有一个平衡点</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0d879e9a75098818aa9c9d8294e9877b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gKe_HQF1524MVSRO"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@elisa_ventur?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Elisa Ventur </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="263c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你认为什么更重要？聪明地编写代码？还是让别人看得懂？为了“聪明”，我绝对更喜欢可读的代码，而不是难以理解的东西！</p><p id="90bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">问题是，作为开发人员，有时我们在编写别人无法理解的东西时会有一种奇怪的自豪感。我们说服自己，其他人不能理解它，因为我们比他们“更聪明”或“更有创造力”。我会挑战这种想法，并认为如果我们真的是一个有创造力的、聪明的开发人员，任何人(尤其是比我们年轻的人)都应该一眼就能看到我们的代码在做什么。</p><p id="e969" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，与其试图创造一些如此“聪明”以至于没人能理解它的东西，不如让我们试着写一些如此“愚蠢”的东西，以至于即使是几乎没有任何经验的人也能毫不费力地阅读和理解它！</p><p id="4063" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，我们如何编写哑代码呢？这里有几点需要考虑。</p><h1 id="3362" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">哑代码的注意事项</h1><p id="7c3b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">假设我们正在开发一个MLB统计应用程序。我们的目标是创建一个react钩子，可以用来通过id从数据库中获取一支棒球队。这些例子将使用react-query和axios。</p><p id="2766" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">即使你没有使用React或这些特定库的经验，也没关系。请记住，我们的目标是让这篇文章尽可能地具有可读性，不管读者的经验水平如何。让我们看看一些我们可以记住的事情，以确保我们的代码对团队中的其他人是可读的。</p><h2 id="30d8" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">考虑范围</h2><p id="2782" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">有时，考虑工作的范围会对可读性产生很大的影响。在第一个例子中，我们将查询函数<code class="fe nb nc nd ne b">query()</code>放在了钩子<code class="fe nb nc nd ne b">useTeam()</code>的范围之外。要做到这一点，需要对react-query的工作原理有相当深入的了解，特别是哪些参数被传递给查询函数，以及这些参数是如何构造的。这是它的样子…</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="fc13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据你的团队的构成，这个挂钩可能会很混乱。虽然它确实显示了编写它的开发人员对react-query的透彻理解，但它可能是不必要的复杂(析构传递给<code class="fe nb nc nd ne b">query()</code>的参数，析构<code class="fe nb nc nd ne b">queryKey</code>数组，使用一次性变量<code class="fe nb nc nd ne b">_</code>，等等)。真的需要这么写吗？改变<code class="fe nb nc nd ne b">query</code>的范围会提高可读性吗？让我们试一试。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="38bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">做这个简单的改变消除了第一个例子的复杂性。由于<code class="fe nb nc nd ne b">query()</code>函数现在在<code class="fe nb nc nd ne b">useTeam</code>的范围内，我们可以访问<code class="fe nb nc nd ne b">id</code>,而不需要任何复杂的技术来获取它。这已经更具可读性，即使没有react-query经验的开发人员也可以很容易理解<code class="fe nb nc nd ne b">query()</code>函数中发生了什么。</p><h2 id="eefb" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">考虑变量名</h2><p id="245f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">另一种提高可读性的方法是使用更多的声明性变量名。在上面的例子中我们命名或查询函数<code class="fe nb nc nd ne b">query</code>。这对读者来说有什么意义吗？不要！我们不知道它是GET请求，POST请求，请求什么，响应是什么，参数是什么，还是其他什么！</p><p id="3bf5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们把这个函数命名为更具声明性的东西，不是更容易理解发生了什么吗？</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="2e00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以知道在<code class="fe nb nc nd ne b">getTeam()</code>函数中发生了什么，而不必实际读取函数中的代码。我们可以做出一个有根据的(正确的)猜测，该函数为单个团队发出一个GET请求。</p><p id="a0d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这使得知道<code class="fe nb nc nd ne b">useQuery</code>钩子中发生了什么变得更加容易，这里我们调用<code class="fe nb nc nd ne b">getTeam</code>函数。同样，即使是没有react-query经验的人也可以看看这个，并根据它在英语中的读法给出一个很好的猜测。</p><h2 id="4c36" class="mp lt iq bd lu mq mr dn ly ms mt dp mc lf mu mv me lj mw mx mg ln my mz mi na bi translated">添加注释是最后的手段</h2><p id="2e36" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">理想情况下，我们应该编写可读性很强的代码，注释不会增加任何有价值的东西。如果我们的代码读起来像一段英文，为什么我们需要添加任何东西呢？</p><p id="b2e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，根据我们正在做的事情的复杂性，评论可能会解释我们正在使用的技术或者我们为什么以某种方式做某事。</p><p id="1ad6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，考虑下面的问题:我们需要编写一个函数，它有两个参数、一个整数数组和一个目标和。</p><p id="abdf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的函数需要返回一个布尔值，告诉我们数组中的任意两个整数是否可以相加等于目标和。看看下面的代码，看看注释是否增加了什么价值…</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="ff99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个非常计算机科学的功能。我们正在构建一种算法，它实现了一种特定的技术来解决我们所面临的问题。没有多少方法可以让这本书可读性更好。我们已经考虑过如何给变量命名。</p><p id="48f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们已经把一些逻辑放到了它自己的函数中，所以这个算法读起来更像英语。但即使如此，如果没有注释，有些人可能会对这个(已经非常干净)函数中发生的事情感到困惑。添加一些简单的注释可以让人们更容易理解算法。</p><h1 id="3c3c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="1895" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">你的代码是聪明还是愚蠢，这绝对是一种平衡。对于您团队中有经验的开发人员来说，本文中的“聪明”例子可能非常具有可读性。</p><p id="00c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你认为你的团队成员会觉得聪明的代码可读，那么如果你有理由这样做的话，尽一切办法使用它。但是如果你的团队有更多的初级开发人员，或者如果你使用的是他们不熟悉的库，一定要“简化”一点，以确保可读性。</p><p id="9d0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不管你的团队是什么样的，你都不应该因为写了别人很难理解的东西而感到骄傲。相反，以编写高效和高性能的代码为荣，但仍然易于团队中的每个人阅读和理解！</p></div></div>    
</body>
</html>