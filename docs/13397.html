<html>
<head>
<title>Exploring Apple’s DeveloperToolsSupport Framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索Apple的DeveloperToolsSupport框架</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-apples-developertoolssupport-framework-fe6bbee6bc3c?source=collection_archive---------10-----------------------#2022-08-23">https://betterprogramming.pub/exploring-apples-developertoolssupport-framework-fe6bbee6bc3c?source=collection_archive---------10-----------------------#2022-08-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5219" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">看看鲜为人知的框架</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/83d204e16993f1b9a8af47804f14c9d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TdETJ368u98qPomn"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Mia Baker 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="5061" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://developer.apple.com/documentation/developertoolssupport" rel="noopener ugc nofollow" target="_blank">developertoolsupport</a>是iOS 14+ / macOS 11+中引入的一个小框架。它只包含一个协议和一个结构。它使开发人员能够向Xcode库添加自定义SwiftUI视图和视图修改器。</p><h1 id="4373" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Xcode库</h1><p id="baa9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">使用键盘快捷键shift-command-L (⇧⌘L)打开Xcode资源库</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/a595e0496869db0b5b46c84b947b2fee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U3CnDPz-7-khXo86"/></div></div></figure><p id="fbb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">重要提示</strong>:xcode库中的视图和修改器标签只有在画布打开时才可见(⌥⌘ <br/>)</p><h1 id="88f2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">将SwiftUI视图和修改器添加到Xcode库</h1><blockquote class="mq mr ms"><p id="696f" class="kw kx mt ky b kz la jr lb lc ld ju le mu lg lh li mv lk ll lm mw lo lp lq lr ij bi translated"><em class="iq">要向库中添加项目，请创建一个符合LibraryContentProvider协议的结构，并将任何要添加的项目封装为LibraryItem实例。实现views computed属性以添加包含视图的库项目。实现modifiers(base:)方法来添加包含视图修饰符的项。当您工作时，Xcode会从项目中的所有资源库内容提供者获取项目，并使它们在其资源库中可供您使用。</em></p></blockquote><p id="5821" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">遗憾的是，使用SwiftUI视图文件模板时，Xcode不会生成默认实现。相反，您可以使用Xcode中的菜单选项来创建默认实现。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/3d15eb87e1d84e74d243c6d1577244aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HZ24E19vpaa20_qQ"/></div></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">视图及其<code class="fe na nb nc nd b">LibraryContentProvider</code>实现的例子。</p></figure><p id="8d20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以通过<code class="fe na nb nc nd b">LibraryItem</code>初始化器提供额外的特征，比如替代。</p><p id="43da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mt">注意</em>:你不需要为这个框架编写额外的import语句。写<code class="fe na nb nc nd b">import SwiftUI</code>语句的时候<code class="fe na nb nc nd b">DeveloperToolsSupport</code>是引擎盖下导入的。</p><p id="06a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">打开Xcode库(⇧⌘L)会列出这个自定义视图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/149172713c4c70c0cbd467499b7c0543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0wiBvVjKsDWOWlDg"/></div></div></figure><h1 id="edc5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">缺点</h1><p id="0a59" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当我第一次听说这个功能时，我非常兴奋。我很快意识到有一些重要的警告:</p><ul class=""><li id="6039" class="ne nf iq ky b kz la lc ld lf ng lj nh ln ni lr nj nk nl nm bi translated">Xcode不会将SwiftUI视图的markdown文档用作库项目的描述😭也没有其他方法来添加描述。</li><li id="fe79" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated">您不能将图像或缩略图添加到库项目。</li><li id="0247" class="ne nf iq ky b kz nn lc no lf np lj nq ln nr lr nj nk nl nm bi translated">库项目中代码段的有限格式选项。只有当你的<code class="fe na nb nc nd b">init</code>函数接受多个参数并且它们的类型需要深度嵌套初始化时，这才是有意义的。我建议您内联指定所有内容。</li></ul><p id="870e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我仍然相信为您的可重用SwiftUI视图创建库内容提供者是有意义的，因为我希望苹果和Xcode团队从长远来看能够克服这些缺点。</p><p id="e787" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我的下一篇博客文章中，我将向您展示如何向Xcode添加一个自定义文件模板，它允许您创建一个新的SwiftUI文件，一次完成视图、预览和库内容提供者实现。</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><p id="809f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mt">最初发布于</em><a class="ae kv" href="https://blog.eidinger.info/apples-developertoolssupport-framework" rel="noopener ugc nofollow" target="_blank"><em class="mt">https://blog . eidinger . info</em></a><em class="mt">。</em></p></div></div>    
</body>
</html>