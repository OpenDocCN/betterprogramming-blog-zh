<html>
<head>
<title>How To Differentiate Between Docker Images, Containers, Stacks, Machine, Nodes and Swarms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何区分Docker映像、容器、堆栈、机器、节点和集群</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-differentiate-between-docker-images-containers-stacks-machine-nodes-and-swarms-fd5f7e34eb9f?source=collection_archive---------3-----------------------#2019-09-16">https://betterprogramming.pub/how-to-differentiate-between-docker-images-containers-stacks-machine-nodes-and-swarms-fd5f7e34eb9f?source=collection_archive---------3-----------------------#2019-09-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="908a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">它们是什么，它们是如何组合在一起的？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e4c1219dc7ecce905c94c5f829ee6d76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nTS5-xX4NZ0vJ4tWEI_dAQ.jpeg"/></div></div></figure><p id="64b2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我半年前还是一名Docker新手时，我有许多关于如何区分Docker映像、Docker容器、Docker堆栈、Docker机器、Docker节点和Docker群的问题。今天，让我们来看看这张图表，它可以很容易地区分它们:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ln"><img src="../Images/cd4b68ed428e7052bf033edaa4e27c41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v-BncAkY0kE9vlPki5P--Q.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">图表:所有Docker组件都在一张图中</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2763" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Docker图像和容器</h1><p id="8353" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">容器是整个Docker架构的最小单位。在容器启动之前，它被称为映像。根据Docker文档中提供的定义，映像是一个可执行包，包括运行应用程序所需的一切，从应用程序代码到运行时、库、环境变量和配置文件。容器是图像的运行时实例。</p><p id="26f2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你还是不明白，我来打个比方。想象你买了一个烤箱，你把食物放进烤箱。您的食物现在代表可执行包，包括运行应用程序所需的一切。在您打开烤箱之前，您的烤箱处于“关闭”状态或不执行任何操作。烤箱是一个形象的比喻。当您打开烤箱时，烤箱处于“打开”状态，正在进行操作。烤箱现在被比喻成一个容器。</p><p id="a31d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">简单地说，图像是容器的“非运行”单元，或者容器是图像的运行单元。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="a0dd" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">码头服务</h1><p id="1ef6" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">在分布式应用程序中，应用程序的不同部分被称为“服务”。</p><p id="3acf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，考勤web应用程序通常包含不同类型的服务，如与用户交互的前端、处理用户输入的后端以及存储用户数据的存储器。</p><p id="e7ca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一个服务只运行一种类型的映像。在服务中运行的单个容器称为任务。参考上图——相同服务下的容器运行相同的映像，或者执行相同的功能。服务规定了映像应该如何运行的方法，比如端口号和容器副本的数量。向上扩展服务将增加服务中容器的数量，从而提高特定服务的吞吐量。</p><p id="d7a8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">服务中的容器不一定都位于同一个节点上。根据上图，在服务1下部署了三个容器，其中两个位于节点1上，另一个位于节点2上。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="074f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">码头栈</h1><p id="92cc" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">根据Docker文档中提供的定义，堆栈是一组相互关联的服务，这些服务共享依赖关系，并且可以一起协调和扩展。参考上图，单个堆栈下有三个服务。单个堆栈能够定义和协调整个应用程序的功能— <em class="mw">除非</em>应用程序非常复杂，需要拆分成多个堆栈。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="ab85" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">码头机器</h1><p id="8d76" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">Docker Machine是一个让用户在虚拟主机上安装Docker引擎并使用<code class="fe mx my mz na b">docker-machine</code>命令管理虚拟主机的工具。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="cd29" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Docker节点</h1><p id="b425" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">Docker节点相当于虚拟主机。如上图所示，有三个虚拟主机或节点。每个节点可以代表物理机或虚拟机。同样，托管在同一节点上的容器不一定提供相同的服务。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0201" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">码头工人成群结队</h1><p id="e1e7" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">通常，一个群由多个节点组成。一些节点将被选为管理者，一些节点将被选为工作者。在此图中，有一个管理节点和两个工作节点。管理者节点负责管理成员资格和授权，工作者节点负责执行群体服务。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4b74" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><ul class=""><li id="95e5" class="nb nc iq kt b ku mr kx ms la nd le ne li nf lm ng nh ni nj bi translated">Docker容器是Docker映像的运行时实例。</li><li id="186e" class="nb nc iq kt b ku nk kx nl la nm le nn li no lm ng nh ni nj bi translated">Docker服务可以在位于不同节点的各种容器上运行一种类型的Docker映像来执行相同的功能。</li><li id="d75e" class="nb nc iq kt b ku nk kx nl la nm le nn li no lm ng nh ni nj bi translated">Docker栈由多个Docker服务组成。</li><li id="3e0c" class="nb nc iq kt b ku nk kx nl la nm le nn li no lm ng nh ni nj bi translated">Docker Machine是一个用来安装和管理虚拟主机或Docker节点的工具。</li><li id="9fe0" class="nb nc iq kt b ku nk kx nl la nm le nn li no lm ng nh ni nj bi translated">Docker Swarm包含管理成员资格和委托的管理者节点以及运行Swarm服务的工作者节点。</li></ul><h1 id="2d86" class="lz ma iq bd mb mc np me mf mg nq mi mj jw nr jx ml jz ns ka mn kc nt kd mp mq bi translated">参考</h1><ol class=""><li id="5e2f" class="nb nc iq kt b ku mr kx ms la nd le ne li nf lm nu nh ni nj bi translated">Docker入门:<a class="ae nv" href="https://docs.docker.com/get-started/" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/get-started/</a></li><li id="f425" class="nb nc iq kt b ku nk kx nl la nm le nn li no lm nu nh ni nj bi translated">群体模式关键概念:<a class="ae nv" href="https://docs.docker.com/engine/swarm/key-concepts/" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/engine/swarm/key-concepts/</a></li></ol></div></div>    
</body>
</html>