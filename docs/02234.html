<html>
<head>
<title>My Simple Python Development Setup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的简单Python开发设置</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/my-simple-python-development-setup-687c31898d5b?source=collection_archive---------2-----------------------#2019-11-15">https://betterprogramming.pub/my-simple-python-development-setup-687c31898d5b?source=collection_archive---------2-----------------------#2019-11-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9f49" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">保持简单并隔离您的环境</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/85143d23647616812ca00b1e85e19b50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oJ6-SZXqS_BAAb8691MJ7Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@maxcodes?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Max Nelson </a>在<a class="ae ky" href="https://unsplash.com/s/photos/python?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="f61e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我喜欢Python。我的第一份真正的开发工作是开发Django web应用程序，我一直喜欢这种语言的表现力，以及它在我感兴趣的几乎所有软件开发领域都是一个不错的工具。</p><p id="8e9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是对我用来开发Python应用程序的环境以及如何设置它的简要说明。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bfff" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我的设置要求是什么？</h1><ul class=""><li id="3c99" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">保持操作系统默认的Python安装原封不动。</li><li id="f359" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">管理多个独立的Python版本。</li><li id="5417" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">管理虚拟环境以隔离项目需求。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ebe9" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">保持您的操作系统默认Python安装不变</h1><p id="6779" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我喜欢让我的操作系统尽可能的干净，这样一切运行起来更顺畅。当开发时，尤其是测试和学习新事物时，我们都会犯错误和破坏东西。</p><p id="9799" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">隔离您的开发环境，因此当您不可避免地打破某些东西时，损害也是隔离的。</p><p id="0548" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的操作系统的Python版本属于您的OS。它通常不是你想要的Python版本，在macOS的情况下是Python 2.7，通过全局安装包，当你需要同一个包的多个版本时，你迟早会遇到问题。</p><p id="44cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让操作系统的Python独来独往的另一个原因是，操作系统的某些进程可能会使用那个Python版本。如果您更改它，可能会损坏您的操作系统。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="395e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">管理Python的多个独立版本</h1><p id="921d" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">为了管理多个Python版本，我使用了<code class="fe nn no np nq b"><a class="ae ky" href="https://github.com/pyenv/pyenv" rel="noopener ugc nofollow" target="_blank">pyenv</a></code>。尽管我总是尝试使用最新的Python版本，但有时你需要使用旧的代码库。<code class="fe nn no np nq b">pyenv</code>帮你轻松切换Python版本。</p><p id="3d4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我使用macOS时，我倾向于使用<a class="ae ky" href="https://docs.brew.sh/Homebrew-and-Python" rel="noopener ugc nofollow" target="_blank">自制软件</a>安装几乎所有我需要的开发工具。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="3a45" class="nv md it nq b gy nw nx l ny nz">brew install pyenv</span></pre><p id="c952" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，<code class="fe nn no np nq b">pyenv</code>会在安装后添加到你的路径中。要安装任何Python版本，请执行以下操作:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="d3d4" class="nv md it nq b gy nw nx l ny nz"># Show the list of available python versions</span><span id="78f9" class="nv md it nq b gy oa nx l ny nz"># If you don’t see the python version you may try updating pyenv to its latest version</span><span id="b143" class="nv md it nq b gy oa nx l ny nz">pyenv install — list</span><span id="6401" class="nv md it nq b gy oa nx l ny nz"># Install the version you want</span><span id="0ab4" class="nv md it nq b gy oa nx l ny nz">pyenv install -v 3.7.2</span><span id="2ed4" class="nv md it nq b gy oa nx l ny nz"># List your installed python versions (The * will indicate your current version)</span><span id="485d" class="nv md it nq b gy oa nx l ny nz">pyenv versions</span><span id="6a6d" class="nv md it nq b gy oa nx l ny nz"># Change your global python version</span><span id="98b2" class="nv md it nq b gy oa nx l ny nz">pyenv global 3.6.8</span><span id="d639" class="nv md it nq b gy oa nx l ny nz"># Sets a location specific python version (creates a .python-version file)</span><span id="9002" class="nv md it nq b gy oa nx l ny nz">pyenv local 2.7.15</span><span id="3de1" class="nv md it nq b gy oa nx l ny nz"># Uninstall any version</span><span id="76d1" class="nv md it nq b gy oa nx l ny nz">pyenv uninstall 2.7.15</span></pre><p id="204b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nn no np nq b">pyenv</code>的一个优势是它从源代码构建你安装的每个Python版本，它们都位于你的<code class="fe nn no np nq b">pyenv</code>根目录下:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="a638" class="nv md it nq b gy nw nx l ny nz">~/.pyenv/versions/</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f51d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">管理虚拟环境</strong></h1><p id="df54" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在Python中开发时，保持项目依赖性隔离和良好管理的方法是虚拟环境。</p><p id="e7cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有很多不同的工具可以做到这一点，如果你想更深入地比较最常见的工具，看看这个伟大的堆栈溢出答案。</p><div class="ob oc gp gr od oe"><a href="https://stackoverflow.com/questions/41573587/what-is-the-difference-between-venv-pyvenv-pyenv-virtualenv-virtualenvwrappe" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd iu gy z fp oj fr fs ok fu fw is bi translated">venv，pyvenv，pyenv，virtualenv，virtualenvwrapper，pipenv等有什么区别？</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">virtualenv是一个非常流行的工具，它可以为Python库创建隔离的Python环境。如果你不是…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">stackoverflow.com</p></div></div><div class="on l"><div class="oo l op oq or on os ks oe"/></div></div></a></div><p id="30ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将要讨论的两种工具的工作原理相似。他们为您的Python安装和依赖项创建一个文件夹，并修改<code class="fe nn no np nq b">PATH</code>环境变量以指向所需的安装。</p><p id="3790" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我尝试在新项目中使用最新的Python 3.x版本时，我使用<code class="fe nn no np nq b"><a class="ae ky" href="https://docs.python.org/3/library/venv.html" rel="noopener ugc nofollow" target="_blank">venv</a></code>来管理虚拟环境。从版本3.3开始，它就包含在Python的标准库中，这意味着您不必安装任何额外的工具。</p><p id="a205" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您想使用Python 3启动一个新项目，您为您的项目创建一个新文件夹并运行:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="acb9" class="nv md it nq b gy nw nx l ny nz"># Create our virtual environment named “env”</span><span id="659a" class="nv md it nq b gy oa nx l ny nz">python3 -m venv env</span><span id="e2d4" class="nv md it nq b gy oa nx l ny nz"># A python installation in a new env folder will be created.</span><span id="6bb8" class="nv md it nq b gy oa nx l ny nz"># Activate your virtual env</span><span id="11a0" class="nv md it nq b gy oa nx l ny nz">source env/bin/activate</span><span id="b756" class="nv md it nq b gy oa nx l ny nz"># You’ll be working in your virtual environment…. Happy hacking!</span><span id="1a3b" class="nv md it nq b gy oa nx l ny nz"># To leave your virtual environment</span><span id="8651" class="nv md it nq b gy oa nx l ny nz">deactivate</span></pre><p id="48d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你需要支持Python 2或低于3.3的版本，那么<code class="fe nn no np nq b"><a class="ae ky" href="https://virtualenv.pypa.io/" rel="noopener ugc nofollow" target="_blank">virtualenv</a></code>就是你要走的路。实际上，<code class="fe nn no np nq b">venv</code>的实现主要基于<code class="fe nn no np nq b">virtualenv</code>，所以它们的工作方式非常相似。</p><p id="5fca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个主要的区别是，与<code class="fe nn no np nq b">venv</code>不同，<code class="fe nn no np nq b">virtualenv</code>不是Python标准库的一部分。您需要使用<code class="fe nn no np nq b"><a class="ae ky" href="https://pypi.org/project/pip/" rel="noopener ugc nofollow" target="_blank">pip</a></code>来安装它:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="e6a1" class="nv md it nq b gy nw nx l ny nz">pip install virtualenv</span></pre><p id="13dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe nn no np nq b">virtualenv</code>创建虚拟环境的方式与我们之前看到的使用<code class="fe nn no np nq b">venv</code>的方式非常相似。导航到您的项目文件夹并运行:</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="392e" class="nv md it nq b gy nw nx l ny nz"># Create our virtual environment named “env”</span><span id="3bcb" class="nv md it nq b gy oa nx l ny nz">virtualenv env</span><span id="5778" class="nv md it nq b gy oa nx l ny nz"># A python installation in a new "env" folder will be created.</span><span id="3ad7" class="nv md it nq b gy oa nx l ny nz"># Activate your virtual environment</span><span id="9578" class="nv md it nq b gy oa nx l ny nz">source env/bin/activate</span><span id="562c" class="nv md it nq b gy oa nx l ny nz"># You’ll be working in your virtual environment…. Again, happy hacking!</span><span id="a56e" class="nv md it nq b gy oa nx l ny nz"># To leave your virtual environment</span><span id="b941" class="nv md it nq b gy oa nx l ny nz">deactivate</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="97df" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">重述</strong></h1><ul class=""><li id="4659" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">不要搞砸你的OS Python安装，你会后悔的。</li><li id="f50c" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">用<code class="fe nn no np nq b">pyenv</code>管理多个Python版本。</li><li id="0406" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">避免全局安装特定于项目的包，解决方案是使用虚拟环境。</li><li id="fe5c" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">要管理Python版本&gt; = 3.3的虚拟环境，请使用标准库中的<code class="fe nn no np nq b">venv</code>。</li><li id="1824" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">要管理旧Python版本的虚拟环境，请使用<code class="fe nn no np nq b">virtualenv</code>，它需要使用<code class="fe nn no np nq b">pip</code>安装。</li></ul></div></div>    
</body>
</html>