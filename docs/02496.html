<html>
<head>
<title>What is the Difference Between ‘for…in’ and ‘for…of’ in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的' for…in '和' for…of '有什么区别？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/what-is-the-difference-between-for-in-and-for-of-in-javascript-650952654e97?source=collection_archive---------4-----------------------#2019-12-04">https://betterprogramming.pub/what-is-the-difference-between-for-in-and-for-of-in-javascript-650952654e97?source=collection_archive---------4-----------------------#2019-12-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0823" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个用于可枚举的，一个用于可迭代的…你应该如何使用每一个？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/55039d82eacd4cf6bd3da7e27521adf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t2gEyYWkttMqEll2XVCTjw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@mroz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">菲利普·姆罗兹</a>在<a class="ae ky" href="https://unsplash.com/s/photos/loop?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="6002" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">循环已经走过了漫长的道路。从<code class="fe lv lw lx ly b">while</code>循环开始，发展到普通的<code class="fe lv lw lx ly b">for</code>循环，都不迭代实际的数据结构。相反，它们迭代一个序列，该序列反映了用户的标识符。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="9cc7" class="md me it ly b gy mf mg l mh mi">let nums = [1,2,3,4,5];</span><span id="640b" class="md me it ly b gy mj mg l mh mi">for(let i=0; i &lt; nums.length; i++) {<br/>   console.log(nums[i]);<br/>}</span></pre><p id="9a07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变量<code class="fe lv lw lx ly b">i</code>实际上并不是<code class="fe lv lw lx ly b">nums</code>的一部分，只是碰巧类似于<code class="fe lv lw lx ly b">nums</code>的索引。</p><p id="b196" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现代JavaScript有更好的方法来循环数据——特别是<code class="fe lv lw lx ly b">for...in</code>和<code class="fe lv lw lx ly b">for...of</code>循环。了解这两者之间的区别，以及指导我们何时使用它们的基本原则。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="b509" class="mr me it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">可枚举与可迭代</h1><p id="3030" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">为了理解<code class="fe lv lw lx ly b">for...in</code>和<code class="fe lv lw lx ly b">for...of</code>之间的区别，定义可枚举和可迭代之间的区别是很重要的。这可能很棘手，因为有一些重叠，而且这些术语经常互换使用。</p><p id="0083" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我喜欢把可枚举数想象成一个长方形，把可迭代数想象成一个正方形。因此，所有的<strong class="lb iu">可重复项都是可枚举的</strong>；但是，并不是所有的可枚举数都是可迭代的。</p><p id="440b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住这一点，让我们更深入地挖掘它们的定义。</p><p id="b741" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将首先定义一个可枚举的。动词<em class="nn"> enumerate </em>被定义为一次一个项目的提及或计数。将它应用到编程中，可枚举就变成了一个实体，它的各个部分可以被清楚地识别和引用。</p><p id="475f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们来看一个<strong class="lb iu">可迭代的</strong>。从词根动词<em class="nn"> iterate </em>，定义为重复执行，iterable是一个实体，其中对每个项目执行相同的一组操作。</p><p id="b099" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么有什么区别呢？在我们强调是什么将可枚举提升为可迭代之前，下面是每种方法的一些示例:</p><ul class=""><li id="aacb" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated">一袋M &amp; Ms巧克力豆是可数的</li><li id="d9b2" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">车管所的线是可重复的</li><li id="f62c" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">一堆书是可数的</li><li id="e484" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">书架上的一排书是可重复的</li><li id="2f74" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">JSON对象是可枚举的</li><li id="63af" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">JSON数组是可迭代的</li></ul><p id="2a70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你认为这是关键品质吗？这是命令。iterable有一个内部的顺序，而enumerable有不同的部分，但是它们是无序的。</p><h1 id="e89a" class="mr me it bd ms mt oc mv mw mx od mz na jz oe ka nc kc of kd ne kf og kg ng nh bi translated">使用“for…in”</h1><p id="dc01" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们从<code class="fe lv lw lx ly b">for...in</code>开始，它用于循环遍历一个可枚举对象。这非常适合对对象中的键值对进行计数，如下例所示。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="ec11" class="md me it ly b gy mf mg l mh mi">let person = {<br/>   "first_name": "Jonathan",<br/>   "last_name": "Hsu",<br/>   "medium-handle": "<a class="ae ky" href="http://twitter.com/jhsu98" rel="noopener ugc nofollow" target="_blank">@jhsu98</a>"<br/>}</span><span id="ebee" class="md me it ly b gy mj mg l mh mi">for(const key in person) {<br/>   console.log(key + ": " + person[key]);<br/>}</span><span id="a051" class="md me it ly b gy mj mg l mh mi">/*<br/>"first_name: Jonathan"<br/>"last_name: Hsu"<br/>"medium-handle: @jhsu98"<br/>*/</span></pre><p id="5364" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，<code class="fe lv lw lx ly b">for...in</code>循环将为对象的每个键设置临时变量。因此，在这种情况下，被计数的是标识符。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="a822" class="mr me it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">使用“for…of”</h1><p id="27e7" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">好，现在我们过渡到<code class="fe lv lw lx ly b">for...of</code>循环。这个循环有一个非常相似的语法。然而，在关键字<code class="fe lv lw lx ly b">of</code>之后需要一个iterable与使用<code class="fe lv lw lx ly b">in</code>的可枚举的要求相反。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="14f2" class="md me it ly b gy mf mg l mh mi">let scores = [43,58,28,69,38];</span><span id="4d21" class="md me it ly b gy mj mg l mh mi">for(const item of scores) {<br/>   console.log(item);<br/>}</span><span id="e6c8" class="md me it ly b gy mj mg l mh mi">/*<br/>43<br/>58<br/>28<br/>69<br/>38<br/>*/</span></pre><p id="6f82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们尝试将<code class="fe lv lw lx ly b">for...of</code>与一个可枚举对象一起使用，会出现以下错误:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="72b7" class="md me it ly b gy mf mg l mh mi">let person = {<br/>   "first_name": "Jonathan",<br/>   "last_name": "Hsu",<br/>   "medium-handle": "<a class="ae ky" href="http://twitter.com/jhsu98" rel="noopener ugc nofollow" target="_blank">@jhsu98</a>"<br/>}</span><span id="def4" class="md me it ly b gy mj mg l mh mi">for(const item of person) {<br/>   console.log(item);<br/>}</span><span id="4efb" class="md me it ly b gy mj mg l mh mi">/*<br/>"TypeError: person is not iterable<br/>    at gewuhimaza.js:6:84<br/>    at <a class="ae ky" href="https://static.jsbin.com/js/prod/runner-4.1.7.min.js:1:13924" rel="noopener ugc nofollow" target="_blank">https://static.jsbin.com/js/prod/runner-4.1.7.min.js:1:13924</a><br/>    at <a class="ae ky" href="https://static.jsbin.com/js/prod/runner-4.1.7.min.js:1:10866" rel="noopener ugc nofollow" target="_blank">https://static.jsbin.com/js/prod/runner-4.1.7.min.js:1:10866</a>"<br/>*/</span></pre></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="624f" class="mr me it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">我认为数组也是可枚举的</h1><p id="a295" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">你说得对！我们看到向<code class="fe lv lw lx ly b">for...of</code>传递一个可枚举数会导致错误，但是向<code class="fe lv lw lx ly b">for...in</code>传递一个可迭代数是可以接受的。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="d516" class="md me it ly b gy mf mg l mh mi">let scores = [43,58,28,69,38];</span><span id="9879" class="md me it ly b gy mj mg l mh mi">for(const item in scores) {<br/>   console.log(item);<br/>}</span><span id="3945" class="md me it ly b gy mj mg l mh mi">/*<br/>"0"<br/>"1"<br/>"2"<br/>"3"<br/>"4"<br/>*/</span></pre><p id="e3f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似于<code class="fe lv lw lx ly b">for...in</code>对对象的标识符进行计数，<code class="fe lv lw lx ly b">for...in</code>将对索引进行计数——将它们视为位置标识符。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="e7c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nn">这就对了。Iterables是一种可枚举类型，额外的特性是一个顺序。在描述您的数据结构时，尽量有意识地传播</em> <code class="fe lv lw lx ly b">for...in</code> <em class="nn">和</em> <code class="fe lv lw lx ly b">for...of</code> <em class="nn">之间的差异。</em></p></div></div>    
</body>
</html>