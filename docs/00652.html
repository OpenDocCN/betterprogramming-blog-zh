<html>
<head>
<title>AWS Serverless App: Where to Start</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS无服务器应用程序:从哪里开始</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/aws-serverless-app-where-to-start-11268309a1cf?source=collection_archive---------7-----------------------#2019-06-25">https://betterprogramming.pub/aws-serverless-app-where-to-start-11268309a1cf?source=collection_archive---------7-----------------------#2019-06-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="df4a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">AWS无服务器应用系列的第1部分</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9ef3aa4416a9078742d5ae59e821a66e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PQBbTruW41ciAIMYp7wLwA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">费尔南多·雷耶斯在<a class="ae kv" href="https://unsplash.com/s/photos/architecture?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="9418" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">背景</h1><p id="4186" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">向无服务器架构的重大转变是有充分理由的。</p><p id="c2f9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">无服务器是一种计算模型，它提供了在云中运行应用程序的便利，而无需处理管理基础架构的麻烦。资源根据需要进行动态扩展和管理。它只对后端服务收费，即通常所说的<em class="mp">按使用付费</em>。</p><p id="a90d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">您可以为每100万次调用支付20美分，而一个月内的前100万次调用是免费的(至少对于Lambda资源来说是这样)，而不是以全部成本运行EC2实例。在开发模式下，您团队的概念验证API或服务几乎是免费的。</p><p id="b46f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><a class="ae kv" href="https://serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器框架</a>让开发者不再需要手动连接服务和处理基础设施。正如创作者所说，它允许开发者专注于开发。在我们的演练中，我们将利用这个框架来消除弄清楚如何将AWS资源连接在一起的需要。</p><p id="82e6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这篇文章是AWS无服务器应用程序教程的第1部分，在这里我将向你展示一个无服务器应用程序的创建，从概念到在AWS中看到它的部署。关于在AWS上构建无服务器API的更详细的分解，请查看作者的书<em class="mp">在AWS上构建无服务器Node.js应用</em>。</p><div class="mq mr gp gr ms mt"><a href="https://www.amazon.com/Building-Serverless-Node-js-Apps-AWS-ebook/dp/B08RN4WKFD/ref=sr_1_1?dchild=1&amp;keywords=eidan+rosado&amp;qid=1610222811&amp;sr=8-1" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">在AWS上构建无服务器Node.js应用程序:从哪里开始的简要指南</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">购买在AWS上构建无服务器Node.js应用程序:从哪里开始的简要指南:阅读Kindle商店评论-Amazon.com</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">www.amazon.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh kp mt"/></div></div></a></div></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h1 id="a9ae" class="kw kx iq bd ky kz np lb lc ld nq lf lg jw nr jx li jz ns ka lk kc nt kd lm ln bi translated">目标</h1><p id="6ff3" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们都服用某种形式的药物，但我们总是知道我们服用的药物的形状、颜色或副作用吗？如果我们的药片弄混了，我们会记得吗？</p><p id="91f9" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">好吧，让我们建立一些可以帮助我们的东西。我们将使用NodeJS创建一个药物搜索API。</p><p id="f144" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们的API将通过<a class="ae kv" href="https://www.nlm.nih.gov" rel="noopener ugc nofollow" target="_blank">国家医学图书馆</a> (NLM) API返回图像以及与药物相关的标记。</p><h2 id="f1f6" class="nu kx iq bd ky nv nw dn lc nx ny dp lg lx nz oa li mb ob oc lk mf od oe lm of bi translated">环境设置</h2><p id="bd67" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在我们开始之前，您需要一些东西来开始:</p><ul class=""><li id="08e2" class="og oh iq lq b lr mk lu ml lx oi mb oj mf ok mj ol om on oo bi translated">像<a class="ae kv" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码</a>或<a class="ae kv" href="https://atom.io/" rel="noopener ugc nofollow" target="_blank"> Atom </a>这样的编辑器</li><li id="d729" class="og oh iq lq b lr op lu oq lx or mb os mf ot mj ol om on oo bi translated">安装在您的机器或虚拟机上的<a class="ae kv" href="https://www.npmjs.com/get-npm" rel="noopener ugc nofollow" target="_blank"> NPM </a>和<a class="ae kv" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">节点</a></li><li id="60e4" class="og oh iq lq b lr op lu oq lx or mb os mf ot mj ol om on oo bi translated"><a class="ae kv" href="https://www.getpostman.com/" rel="noopener ugc nofollow" target="_blank">邮递员</a>或另一个REST-客户端替代者</li><li id="2717" class="og oh iq lq b lr op lu oq lx or mb os mf ot mj ol om on oo bi translated">AWS账户</li></ul><h2 id="8165" class="nu kx iq bd ky nv nw dn lc nx ny dp lg lx nz oa li mb ob oc lk mf od oe lm of bi translated">创建基础项目</h2><p id="73fb" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">使用以下命令在您的计算机上安装无服务器CLI:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/c27924c29c50f9f94cb42a54648051e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*eIpI1hQvzTxNuA0oG5ICwQ.png"/></div></figure><p id="10b8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">导航到托管所有项目的目录，使用AWS NodeJS模板启动无服务器创建命令:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/42744554a6cbe82e0eb452dffbd2e83f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*x8YGkjNW5-9F_IhVXKPkFw.png"/></div></figure><p id="103f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">以下是此过程自动生成的内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/29b4c84186abec45b762f5e49489333f.png" data-original-src="https://miro.medium.com/v2/resize:fit:404/format:webp/1*RuTg-f5zmoExa1BpdJlvxw.png"/></div></figure><p id="3d3f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">比较基础，再补充几个吧。</p><p id="7354" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在项目的根目录中，添加以下目录:</p><ul class=""><li id="56c6" class="og oh iq lq b lr mk lu ml lx oi mb oj mf ok mj ol om on oo bi translated"><code class="fe ox oy oz pa b">functions</code></li><li id="0184" class="og oh iq lq b lr op lu oq lx or mb os mf ot mj ol om on oo bi translated"><code class="fe ox oy oz pa b">common</code>(下面有一个<code class="fe ox oy oz pa b">services</code>和一个<code class="fe ox oy oz pa b">utils</code>目录)</li><li id="c7a5" class="og oh iq lq b lr op lu oq lx or mb os mf ot mj ol om on oo bi translated"><code class="fe ox oy oz pa b">test</code></li></ul><p id="b94b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这次我们将使用<code class="fe ox oy oz pa b">functions</code>和<code class="fe ox oy oz pa b">services</code>目录。</p><p id="b002" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">结果应该如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/44d991af90ebbe24fe18c192a422ecd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*RCmXI6YeHztIb8GfCFwgZQ.png"/></div></div></figure><p id="b12a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">将一个<code class="fe ox oy oz pa b">package.json</code>添加到您的项目的根目录中，并将以下内容复制并粘贴到其中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="304a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在您的终端窗口中，从项目的根目录中，运行<code class="fe ox oy oz pa b">npm install</code>来检索依赖项。</p><p id="f098" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">好吧。我们开始吧。</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h1 id="4c1a" class="kw kx iq bd ky kz np lb lc ld nq lf lg jw nr jx li jz ns ka lk kc nt kd lm ln bi translated">添加逻辑</h1><p id="2334" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们将需要一个单一的GET端点。</p><p id="b49a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这个端点将被连接到一个控制器，然后这个控制器将调用NLM服务。NLM服务将通过API实用程序与NLM API联系。</p><p id="cc3b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">因此，调用序列是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pe"><img src="../Images/c5da0500533d193ceb0e291b8b2b8ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2oiSih2EyefaGfV63f2vaw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建的文件的调用序列</p></figure><p id="5683" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">您需要替换大部分的<code class="fe ox oy oz pa b">serverless.yml</code>文件，以获得以下内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="7a33" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们在<code class="fe ox oy oz pa b">serverless.yml</code>文件中有一些事情。除了定义服务名、云服务提供商、区域和运行时间，我们还有一些插件和自定义设置。</p><p id="bc2c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们利用prune插件来摆脱旧的部署；否则，您将耗尽存储空间。在撰写本文时，Lambda函数和层存储的最大容量是75 GB。离线插件用于在您的计算机上本地运行这些功能。webpack插件用于帮助捆绑和一些配置。在客户中，我们指示它在捆绑时包含模块并自动修剪。</p><p id="6850" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">说到webpack，我们需要一个配置。在项目的根目录下，创建一个<code class="fe ox oy oz pa b">webpack.config.js</code>文件。在其中，复制并粘贴以下内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="670f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><code class="fe ox oy oz pa b">serverless.yml</code>文件中的functions部分有端点定义，比如路径和附加到它的处理函数。请注意，我们现在已经将该端点的HTTP <em class="mp"> </em>部分下的私有设置设置为<code class="fe ox oy oz pa b">false</code>。将这个值切换到<code class="fe ox oy oz pa b">true</code>将会增强对API键和使用计划的需求。我们将在以后的文章中讨论这些问题。</p><p id="97e6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们为我们的端点安装处理程序。用以下内容替换您的<code class="fe ox oy oz pa b">handler.js</code>内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="ca5e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这里，路径为<code class="fe ox oy oz pa b">drug/search/getDrugIdentifiers</code>并映射到该处理函数的端点将被绑定到<code class="fe ox oy oz pa b">drugSearch</code>控制器。现在让我们创建控制器和NLM搜索服务。</p><p id="64bb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在名为<code class="fe ox oy oz pa b">drugSearch</code>的函数下创建一个目录，并在其中放置一个名为<code class="fe ox oy oz pa b">drugSearchCtrl.js</code>的文件。将以下内容复制并粘贴到其中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="1a9f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在文件夹<code class="fe ox oy oz pa b">drugSearch</code>下创建一个名为<code class="fe ox oy oz pa b">services</code>的目录，并在其中创建一个名为<code class="fe ox oy oz pa b">nlmSearch.js</code>的文件。将以下内容复制并粘贴到其中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="939a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如您所见，<code class="fe ox oy oz pa b">nlmSearch</code>函数调用了<code class="fe ox oy oz pa b">apiUtil.js</code>。这是我们存放调用外部API的常见Axios调用的地方。这将进入<code class="fe ox oy oz pa b">common/utils</code>路径。</p><p id="47d3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在<code class="fe ox oy oz pa b">common/utils</code>下，创建<code class="fe ox oy oz pa b">apiUtil.js</code>文件，并粘贴以下内容:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc pd l"/></div></figure><p id="7a42" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">您的新项目结构应该如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/e52b564c6edb609701e5199e2a40e5f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*bg0lE5W6cWEfqqfuILUyXA.png"/></div></figure><h2 id="f7a0" class="nu kx iq bd ky nv nw dn lc nx ny dp lg lx nz oa li mb ob oc lk mf od oe lm of bi translated">启动服务器</h2><p id="04cc" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在我们已经拥有了所有需要的东西，让我们试着启动服务器:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/2f938bc4cb4bb1de804b22c24363956a.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*ZPlOUo8uWbmHolJxIPpYOQ.png"/></div></figure><p id="fa30" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">使用Postman或您喜欢的REST客户端，您应该能够到达以下端点(请注意放置在<code class="fe ox oy oz pa b">drugName</code>查询字符串参数中的示例处方药):</p><pre class="kg kh ki kj gt ph pa pi pj aw pk bi"><span id="449d" class="nu kx iq pa b gy pl pm l pn po"><a class="ae kv" href="http://localhost:3000/drug/search/getDrugIdentifiers?drugName=albuterol" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/drug/search/getDrugIdentifiers?drugName=albuterol</a></span></pre></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h1 id="18d3" class="kw kx iq bd ky kz np lb lc ld nq lf lg jw nr jx li jz ns ka lk kc nt kd lm ln bi translated">部署到AWS</h1><p id="c749" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">要部署到AWS，您需要创建一个服务帐户。</p><p id="d5de" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">登录您的AWS帐户，并导航到IAM服务。创建一个名为<code class="fe ox oy oz pa b">admin-group</code>的新用户组，并附加管理员访问策略。通常，您会希望为您的帐户制定一个具有粒度权限的特殊策略，但是在这个示例中，我们还是坚持使用这个策略。</p><p id="71c8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">然后，您需要添加一个新用户，比如说<code class="fe ox oy oz pa b">demo-service-account</code> <strong class="lq ir"> <em class="mp">、</em> </strong>，并将他们添加到组中。您的<code class="fe ox oy oz pa b">demo-service-account</code>用户应该只有编程权限，没有控制台权限。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pp"><img src="../Images/29d7b121c9220dc93f693202b1ea99d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DDeZtIHhKmTFRLVpiQwa9g.png"/></div></div></figure><p id="dc0f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">将用户附加到您刚刚创建的服务帐户组，并完成该过程。将设置生成的访问密钥<strong class="lq ir"> <em class="mp"> </em> </strong>和秘密访问密钥添加到bash配置文件或环境变量中。</p><pre class="kg kh ki kj gt ph pa pi pj aw pk bi"><span id="76b5" class="nu kx iq pa b gy pl pm l pn po">export AWS_ACCESS_KEY_ID="YOUR_ACCESS_KEY_ID"</span><span id="70c9" class="nu kx iq pa b gy pq pm l pn po">export AWS_SECRET_ACCESS_KEY="YOUR_SECRET_ACCESS_KEY"</span></pre><p id="f664" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在您的帐户已经设置好了，运行以下命令将您的服务部署到AWS:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/2f938bc4cb4bb1de804b22c24363956a.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*ZPlOUo8uWbmHolJxIPpYOQ.png"/></div></figure><p id="269a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">框架将输出资源详细信息，如下所示:</p><pre class="kg kh ki kj gt ph pa pi pj aw pk bi"><span id="5172" class="nu kx iq pa b gy pl pm l pn po">CloudFormation - UPDATE_COMPLETE - AWS::CloudFormation::Stack - drug-search-service-dev<br/>Serverless: Stack update finished...<br/>Serverless: Invoke aws:info<br/>Service Information<br/>service: drug-search-service<br/>stage: dev<br/>region: us-east-1<br/>stack: drug-search-service-dev<br/>api keys:<br/>  None<br/>endpoints:<br/>  GET - <a class="ae kv" href="https://7rxjqnguqd.execute-api.us-east-1.amazonaws.com/dev/drug/search/getDrugIdentifiers" rel="noopener ugc nofollow" target="_blank">https://7rxjqnguqd.execute-api.us-east-1.amazonaws.com/dev/drug/search/getDrugIdentifiers</a><br/>functions:<br/>  getDrugIdentifiers: drug-search-service-dev-getDrugIdentifiers<br/>layers:<br/>  None</span><span id="521f" class="nu kx iq pa b gy pq pm l pn po">Stack Outputs<br/>GetDrugIdentifiersLambdaFunctionQualifiedArn: arn:aws:lambda:us-east-1:573697395521:function:drug-search-service-dev-getDrugIdentifiers:1<br/>ServiceEndpoint: <a class="ae kv" href="https://7rxjqnguqd.execute-api.us-east-1.amazonaws.com/dev" rel="noopener ugc nofollow" target="_blank">https://7rxjqnguqd.execute-api.us-east-1.amazonaws.com/dev</a><br/>ServerlessDeploymentBucketName: drug-search-service-dev-serverlessdeploymentbucke-1lsvm6vkfr29r</span><span id="955c" class="nu kx iq pa b gy pq pm l pn po">Serverless: Prune: Running post-deployment pruning<br/>Serverless: Prune: Querying for deployed versions<br/>Serverless: Prune: drug-search-service-dev-getDrugIdentifiers has 1 additional version published and 0 aliases, 0 versions selected for deletion<br/>Serverless: Prune: Pruning complete.<br/>Serverless: Invoke aws:deploy:finalize</span></pre><p id="5fbe" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">提供堆栈信息，例如用于部署的存储桶名称、函数、端点等。现在应该可以通过REST客户机到达这个端点了。</p><p id="e285" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">完整的解决方案，请在<a class="ae kv" href="https://github.com/EdyVision/drug-search-service" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上查看示例项目。</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h1 id="a155" class="kw kx iq bd ky kz np lb lc ld nq lf lg jw nr jx li jz ns ka lk kc nt kd lm ln bi translated">下一步是什么</h1><p id="0c13" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">就是这样。您已经设置了药品搜索无服务器API，并将其部署到AWS。在下一篇文章" AWS无服务器应用:持续集成和部署"中，我们将通过Travis CI和Codeship选项向您的无服务器项目添加CI/CD。</p><p id="f555" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>