<html>
<head>
<title>Handling Colors in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中处理颜色</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/handling-colors-in-swiftui-576e8f100d65?source=collection_archive---------15-----------------------#2020-01-08">https://betterprogramming.pub/handling-colors-in-swiftui-576e8f100d65?source=collection_archive---------15-----------------------#2020-01-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a72d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">SwiftUI的引入带来了另一个颜色类，名为Color——但是不要太舒服</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6c6d48266d967194aa0273db3609c6b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3WCYpTHTTlfXaDB7yErlow.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">罗伯特·卡茨基在<a class="ae ky" href="https://unsplash.com/s/photos/colors?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="62b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">经过多年与众多颜色类(<code class="fe lv lw lx ly b">UIColor</code>、<code class="fe lv lw lx ly b">NSColor</code>、<code class="fe lv lw lx ly b">CGColor</code>等)打交道。)<em class="lz">，</em>任何一个Swift开发者在看到这个统一的颜色类别的第一眼时，都可能会感到无比的喜悦。最后，前进的道路似乎是免费的繁琐的工作转换颜色！</p><p id="63d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是不要太舒服——将SwiftUI <code class="fe lv lw lx ly b">Color</code>类转换成它的一个更老的表亲并不是一件简单的任务。当您需要将SwiftUI颜色传递给一个只接受<code class="fe lv lw lx ly b">UIColor</code>的方法时，您可能会发现自己正在尝试一个非常混乱的转换计算。我自己也绞尽脑汁试图改变一个<code class="fe lv lw lx ly b">UITextField</code>可表示的文本颜色。</p><p id="f7a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我敢打赌，你是在经历了类似的失败后阅读这篇文章的。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="c04f" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">最简单的解决方案:颜色资源</h1><p id="bf16" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">通过将颜色保存为颜色资产，我们可以通过字符串值来访问它们——使颜色的转换只需用资产名称初始化所需的颜色类。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用资产名称初始化颜色</p></figure><p id="56c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将颜色存储为颜色资源在开发中一直有几个优点，但它们通常更多是事后才想到的。</p><p id="2dbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Apple不鼓励将颜色存储为原始RGB/HSB值，而是提倡使用颜色资源。</p><p id="8a08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的猜测是，上述原因是为什么在SwiftUI中，如果没有繁重的工作，访问<code class="fe lv lw lx ly b">SwiftUI.Color</code>组件似乎是不可能的。但是如果你一定要将<code class="fe lv lw lx ly b">SwiftUI.Color</code>转换成另一个类，目前唯一可用的方法是将颜色描述(如果是十六进制字符串)转换成RGB分量。下面是一个iOS扩展，它完成了对<code class="fe lv lw lx ly b">UIColor</code>的转换:</p><p id="21a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于macOS，只需将<code class="fe lv lw lx ly b">UIColor</code>替换为<code class="fe lv lw lx ly b">NSColor</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将颜色转换为用户界面颜色</p></figure><p id="b4e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，上述扩展不适用于系统颜色(如<code class="fe lv lw lx ly b">SwiftUI.Color.red</code>)，因为<code class="fe lv lw lx ly b">color.description</code> <em class="lz"> </em>将不包含十六进制字符串值，而仅包含名称<em class="lz">红色</em>。</p></div></div>    
</body>
</html>