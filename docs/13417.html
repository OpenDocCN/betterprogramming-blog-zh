<html>
<head>
<title>Serverless Is the New Timeshare</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器是新的分时度假</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/serverless-is-the-new-timeshare-3fe2bebb91ca?source=collection_archive---------17-----------------------#2022-08-24">https://betterprogramming.pub/serverless-is-the-new-timeshare-3fe2bebb91ca?source=collection_archive---------17-----------------------#2022-08-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="15df" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">探索创新如何创造奇妙的应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/01e962bd053047b373483adf53d84729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HOio5XLRUNksyHBWo9gaow.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="fe05" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们有共同的健忘症。当我和年轻的开发人员谈论过去的技术时，我经常得到茫然的目光。公平地说，有些是因为我有点“紧张”或“古怪”，但有些只是因为。啊？真的吗？我们有吗？</p><p id="02be" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">XA事务和2PC(两阶段提交)就是一个例子。我们的年轻一代完全不知道这种能力，这是“一件事”对事务管理的需求不知何故消失了吗？</p><p id="422d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">银行不再需要一致性了吗？如果您不在“同一个页面”上，这种技术通过在不同的服务器之间传输事务上下文来工作。因此，一台服务器上的提交是一个多阶段的过程，它保证所有服务器都成功或作为一个整体回滚。这是惊人的，而且效果相当好(显然有一些警告)。</p><p id="20df" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">令人惊讶的是，这是通过方法调用实现的。你不需要做任何事。即使在完全不同的服务器上调用远程方法。它“刚刚工作。”</p><p id="b1b1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">几年前，我与银行业中一家基于节点的初创公司进行了交谈。他们表示，银行非常愿意与Node合作。我知道他们正在一个更“成熟”的环境中重写他们的东西。当我使用一些像Node这样的“新”工具时，我总是对那些缺失的基本东西感到惊讶。</p><p id="8490" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当然，如果你不把我们需要的所有东西都内置进去，它会更简单更小巧。当你抛弃核心功能时，很容易构建简单的东西。</p><h1 id="94fc" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">2010年代的NoSQL戏剧</h1><p id="c4c1" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">1999年，我正在组建自己的咨询公司，一个朋友让我去见他的老板。我去了这间办公室，那里的“老板”说他有一个没人想到的最惊人的想法。他们有资金支持，将在六个月后的第一天面向一百万用户推出！</p><p id="4fde" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我:好吧。有什么想法？</p><p id="be86" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">他:你报名来我们这里工作后我会告诉你的。</p><p id="548d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我:我会签一个NDA。</p><p id="33c5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">他:不。这个主意太好了。那些保密协议一文不值。你注册，然后…</p><p id="7e4c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">不知何故，我抵制住了为那家公司工作的诱惑。大约一年后，他们没有推出，但我的咨询公司做得很好。朋友又给我打电话了。这次他们需要产品方面的帮助，所以我带着咨询的帽子去那里帮助他们。</p><p id="c889" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">他们的想法是在网站中内置一个聊天应用程序，这样访问者可以互相聊天。一个竞争对手已经推出了，我正在和其他一些有相同想法的公司进行磋商。他们转向关注与电子商务相关的聊天。但是我跑题了。</p><p id="ba01" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">他们的系统表现糟糕。对一个用户来说太慢了。这位首席执行官坚称，他们需要在第一天支持100万用户(正如他告诉我的那样)。他们向Oracle传达了这一点，Oracle表示他们需要一个由三台服务器组成的集群来支持该卷。然后，他们与一家面向对象的数据库供应商进行了交谈，该供应商承诺他们可以用一台机器处理100万用户。所以他们全力以赴开发面向对象的数据库。当我对此表示震惊时，他们声称他们的数据是非常“面向对象”的，因为每个用户可以有多个项目…唉。</p><p id="6e0b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">他们不理解交易边界；存储代码与所有东西混在一起，因为它全是代码，而且很慢。这是不可靠的，也不可能理解。你可能不记得面向对象的数据库时代了，但它是2010年席卷我们行业的NoSQL时尚的先驱。在做顾问的那段时间，我又看了一遍这个故事的回放。这一次大多数公司都成功上市了。</p><p id="850b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是后来他们发现拥有非结构化数据并不是万能的。与使用良好的缓存和调优的SQL相比，他们获得的性能优势微不足道。部署过程相当复杂，辅助工具可能永远达不到我们在SQL世界中所拥有的水平。</p><p id="1d4c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">需要明确的是:NoSQL有其合理的用途。但是这些数据库最常见的用途并不是很好，而是源于RDD(简历驱动开发)。这是一种模式，我们这些在这个街区待过几次的人会反复看到:</p><ul class=""><li id="1fa3" class="mo mp iq kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">旧技术既笨重又复杂</li><li id="a4ba" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">人们发明一些干净简单的东西</li><li id="1f71" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">忘记旧技术的存在</li><li id="e36a" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">新的东西过于简单，没有做很多基本的东西</li><li id="7592" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">重塑这些复杂性</li><li id="c408" class="mo mp iq kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">新的东西变成了旧的、笨重的、需要重新发明的复杂性…冲洗/重复</li></ul><h1 id="21b7" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">无服务器作为新的大型机</h1><p id="9bdd" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">过去一个月做了很多无服务器的工作，感觉这是一大退步。这是我们在PaaS问题上的老调重弹。它实际上是一个主机。过去，我们曾经花钱让我们的工作在共享时间的大型机上运行。这有点像虚拟化环境，但想法是相似的:我们不拥有环境。可以说，对于云SaaS来说也是如此，但无服务器将这一概念带得很远。</p><p id="90d5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">甚至调试体验都很糟糕。我们没有对代码或基本应用程序逻辑的基本控制。我在努力弄明白为什么人们会把它用在基本任务之外的地方。</p><p id="0086" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我能想到一个很好的用例:webhooks。获取webhooks的管道代码总是一件痛苦的事情。它们不经常触发，处理这种情况是件苦差事。使用无服务器函数向数据库添加内容并完成工作可能非常简单。因为回调很难调试，所以无服务器中糟糕的调试体验并不是一个巨大的障碍。但是对于其他的用例，我很困惑。</p><p id="4db0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">人们花了很多时间检查和测量吞吐量，但是仅仅使用一个稍微大一点的服务器和本地调用将会产生超出您可能需要的结果。没有我们遇到的所有供应商搭售。使用Linode、数字海洋等进行托管。，会省下这么多钱。在上市时间方面，使用缓存和快速本地工具比在云中构建任何东西都要容易得多。</p><p id="8948" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">容器是一个很好的进步，它们使这个变得如此简单，然而我们在这个问题上掉了球，用Kubernetes之类的东西把所有东西都复杂化了。不要误解我。K8s很棒。但是我们98%的人都不需要也不应该用。如果你是一家小型创业公司，Kubernetes会浪费你的时间和精力。</p><h1 id="259a" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">回到Java，进入Rust</h1><p id="760a" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">Java就是一个例子，它的健忘症部分很好。我们聊了一会儿，感觉很好。当Java出现时，它是一个低级的解决方案，有着怪异的类似C的语法。进化方面还不清楚。Java抛弃了Smalltalk和C++中许多伟大的想法。它采用了一些有争议的想法(检查异常、原语等)。).然而它成功了。它攫取了心灵的份额；它能够利用这一点。</p><p id="f352" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它最初是一种小语言，扔掉了其他平台添加的所有垃圾和过度工程。看看现在。再也没有人用“小”来形容它了。开发人员正忙于创造更小、更简单的语言，抱怨Java的缺点。成功会让他们回到我们开始的地方。成长太多的小语种。Java目前在它应该在的地方。这是为数不多的成功重写的例子之一。</p><p id="31f9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">铁锈似乎也是少数例外之一。它以一种全新的方式重新发明了C。很难说它是否能长期生存，但毫无疑问，它将需要在前进的道路上承担很多复杂性。</p><h1 id="f240" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">有意识的改造</h1><p id="296e" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">是什么使得对现有语言或工具的改造在大众市场上获得成功，又是什么使得这些工具被搁置一旁？</p><p id="8d06" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">SQL起死回生，在新的创业公司中再次走红。C++就不一样了。它们有什么不同？</p><p id="a841" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">尽管缺少了JVM世界中的基本东西，Node和Python仍然很受欢迎。这是怎么回事，他们会继续受欢迎吗？他们会把这些东西加回去吗？</p><p id="6a2f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">直到我们的青少年时期，我们的大脑不断增加突触。在我们十几岁的时候，我们砍掉了它们。一种理论认为，这是我们在青少年时期经历的所有变化的来源。我们需要断开那些不再为我们工作的东西。否则，我们只会学习我们父母所知道的。我们不能通过犯自己的错误来提高。通过再次尝试那一代人失败的东西。</p><p id="9a20" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">结果，我们重复错误，犯一些新的可怕的错误。我们也有一些惊人的飞跃和发现。这是创新起飞的地方。工程也是如此。</p><p id="5d14" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们如何区分:青少年焦虑与光明的新方向？</p><p id="a175" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们真的不能。作为一个年长的人，当我第一次看到这些东西时，我觉得它们很愚蠢。我们已经试过了，但失败了。为什么要重复那个错误的方向呢？这就是创新所在。但是如果我们看看成功的尝试，我们可以看到什么对他们有效。</p><p id="a182" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Java不是为终结C++而设计的。当然，这可能是一个幻想。但是高斯林设计它是为了简单和体积小。专注于安全性、规模和网络，以解决非常狭窄的市场。</p><p id="5e4e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Rust并不是为了终结c而设计的，它是为了让Firefox这样的项目更加稳定和高效。</p><p id="c6c5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我认为，就像任何初创公司一样，当我们最初将自己限制在一个非常小而狭窄的用例中时，重新发明非常有效。通过这样做，并保持最初的专注，我们可以建立一些好的东西，然后跨越伟大。</p></div></div>    
</body>
</html>