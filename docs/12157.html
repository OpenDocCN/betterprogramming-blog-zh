<html>
<head>
<title>How to Send Slack Notifications for AWS Amplify Deployments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何为AWS Amplify部署发送松弛通知</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-send-slack-notifications-for-aws-amplify-deployments-99278a778ff7?source=collection_archive---------10-----------------------#2022-05-16">https://betterprogramming.pub/how-to-send-slack-notifications-for-aws-amplify-deployments-99278a778ff7?source=collection_archive---------10-----------------------#2022-05-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3ae5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为您的前端项目节省时间并设置时差通知</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ac43e2ce62032bb247b760dc83a51604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Qc3bf0LrtxWaN7DY"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">亚历克斯·库利科夫在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1b11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Amplify是一项将前端应用程序部署到AWS云的出色服务。但当涉及到监控您的部署时，Amplify只提供了一个基本的通知系统。虽然它允许您发送电子邮件通知，但将它们发送到您的Slack频道并不是一项简单的任务。</p><p id="f00f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这篇短文揭示了在5分钟内为您的AWS Amplify部署设置Slack通知应该知道的秘密。</p><p id="289f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要做到这一点，您需要完成以下步骤:</p><ul class=""><li id="23ba" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">设置社交网络话题</li><li id="04ca" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">设置松弛的传入Webhook</li><li id="7068" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">创建Lambda函数</li></ul><h1 id="d715" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">1.设置社交网络话题</h1><p id="912c" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在你的AWS控制台，去放大。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/ef686080ef633d88e087b1908afe3e3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e48vLpJlkoHG5gXeO1xMbA.png"/></div></div></figure><p id="d6c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择要在其中设置时差通知的应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/75b61a7806948b44c2370003d4b35827.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kK-PIntgGM1sxK_9slmMGQ.png"/></div></div></figure><p id="e0c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于Amplify在默认情况下不会创建SNS主题，因此我们需要通过向通知添加电子邮件订阅来触发此操作。为此，请转到“通知”部分并添加您的电子邮件地址。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/c4eaa10a2b799d732a78ced9ec35b107.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nRRwqU2V7dtYxhxHA1FYTQ.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/351862ddd80a2d37da9cbfc4c5a5bc30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pIC6brgNWJfhjMfv2waWdg.png"/></div></div></figure><p id="31f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您不想接收有关部署的电子邮件，可以在之后立即删除订阅。我们需要这个来揭示社交网站的话题。</p><h1 id="0e86" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">2.设置松弛的传入Webhook</h1><p id="dee0" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">下一步是在你的Slack上设置一个<strong class="ky ir">传入Webhook </strong>，我们将使用它来发送消息。你可以在<a class="ae kv" href="https://api.slack.com/messaging/webhooks" rel="noopener ugc nofollow" target="_blank">官方教程</a>中了解更多这方面的内容。</p><p id="7b0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">转到<a class="ae kv" href="https://slack.com/apps/A0F7XDUAZ-incoming-webhooks" rel="noopener ugc nofollow" target="_blank">页面</a>并点击“添加到时差”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/40eda471e37cdcafe9b43220ad0cd17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ci6BMjXTZulxWB74bVoXlA.png"/></div></div></figure><p id="8994" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择你想发布通知的频道后，将用户名改为“AWS Amplify”，上传一个漂亮的Amplify标志，保存你的设置。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/9ed581d6fbcadb96f203087ce0ea2b0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O8i13w02sEUkHG-PGREfSQ.png"/></div></div></figure><p id="83c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">复制Webhook URL，我们将在下一步需要它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/ec08ca0d45b29dcdb62c1e9b7f86bde0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HPI323OCqbj2TEm_YOK7JA.png"/></div></div></figure><h1 id="f23d" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">3.创建Lambda函数</h1><p id="9b62" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">现在我们需要创建一个<strong class="ky ir"> Lambda函数</strong>，它将在Amplify发送通知时运行。然后，该函数将处理通知事件，并向您的Slack通道发送一条消息。</p><p id="4b02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在AWS控制台中，转到Lambda。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/fe8362582de9b1910a1ca7acafdae0ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d884ofIVl8Z-zmkEfj81rg.png"/></div></div></figure><p id="6420" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择具有以下属性的“创建函数”:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/0661e0494d1052639131e20543f448a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*trw4SiS85QIGJFvnSWusNA.png"/></div></div></figure><p id="f121" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将以下代码传递到您的<strong class="ky ir"> index.js </strong>文件，然后单击“部署”:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="7ab1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将webhookUrl值更改为创建Slack传入Webhook时获得的值。</p><p id="27bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，在功能概述中点击“添加触发器”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/0533accace3253fac33d7086f439304d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EL2c3tiwdPOWoegifJI3dA.png"/></div></div></figure><p id="033d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择SNS作为触发器，然后选择在我们向通知添加电子邮件时由AWS Amplify创建的SNS主题。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/6e95fffac4f5dcdcc4e18783ed148961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wXTtZTPnJhGK0bks0k_jNA.png"/></div></div></figure><p id="ed50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果一切顺利，你将能够在AWS的Lambda页面上找到你新安装的函数。</p><p id="8785" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">仅此而已！现在，当您部署到AWS Amplify时，您应该会收到延迟通知。要检查一切是否正常，请转到Amplify应用程序，然后单击“重新部署此版本”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/27846f38fc55eafa839a1965478d464b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ThUrwRC1zgeUqvGWM5-iAQ.png"/></div></div></figure><p id="88e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您应该很快会在Slack上收到一条消息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/cb9123b6cec0647cb3d5080a10f9f56f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yvh3Ou3cETuN9cjVI4C5CA.png"/></div></div></figure><p id="2c42" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望本指南已经帮助您节省了时间，并为您的前端项目设置了时差通知。</p></div></div>    
</body>
</html>