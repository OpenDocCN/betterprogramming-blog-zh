<html>
<head>
<title>Why You Should Migrate From RxSwift To Combine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么您应该从RxSwift迁移到Combine</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/why-you-should-migrate-from-rxswift-to-combine-6a3118751b31?source=collection_archive---------11-----------------------#2022-09-07">https://betterprogramming.pub/why-you-should-migrate-from-rxswift-to-combine-6a3118751b31?source=collection_archive---------11-----------------------#2022-09-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="09af" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个简短的讨论，帮你摆脱疑惑</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fdb0e873fbf40b2b6526448e671a3998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pE4yC7vsDacQhFap"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@goran_ivos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Goran Ivos </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="cff5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有很多方法可以看。除了苹果的库，我喜欢在项目中使用更少的第三方库的想法。此外，Combine和RxSwift在反应式编程方面也可以做同样的事情。</p><p id="7c0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">权衡这些，我已经开始从RxSwift迁移到Combine，这相当简单。</p><h1 id="e973" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">RxSwift</h1><p id="8e48" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在此之前，我想花时间感谢贡献者创造和维护RxSwift是一个游戏规则改变者，它对我们许多人来说是一个非常棒的工具。每个贡献者所做的都不是一件容易的事情。随着越来越多的人选择Combine，我可以提出另一种观点，你可以自豪而大胆地说，Combine是因为你创建/维护了RxSwift而创建的吗？</p><p id="637b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我衷心感谢每一位贡献者，我相信许多其他人也有同感。</p><h1 id="6251" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结合</h1><p id="98f6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在让我们转到Combine，这是一个由Apple创建的本机框架，它使用了RxSwift的许多概念。另外值得注意的是，Combine仅在iOS 13.0+，iPadOS 13.0+，macOS 10.15+，Mac Catalyst 13.0+，tvOS 13.0+，watchOS 6.0+上支持。</p><p id="3e4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用Combine也将使将来使用SwiftUI的过渡过程更加容易。</p><h1 id="222d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">迁移过程</h1><p id="d07f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">迁移的关键是了解RxSwift的正确替代品是什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/22dce3adc4ffbbcaf83f0385cc2d1b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U8w1X-ov77QpkyvGGxOZQA.png"/></div></div></figure><p id="d8e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些代码示例将有助于进一步加强我们的理解。这个简单的实现向你展示了如何初始化和发送值。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="3d87" class="my lw it mu b gy mz na l nb nc">// RxSwift</span><span id="576b" class="my lw it mu b gy nd na l nb nc">let isLoading = PublishSubject&lt;Bool&gt;()<br/>let buttonIsLoading = BehaviorSubject&lt;Bool&gt;(false)<br/>..<br/>..</span><span id="54b8" class="my lw it mu b gy nd na l nb nc">isLoading.onNext(true)<br/>buttonIsLoading.onNext(true)</span></pre><p id="40fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用Combine，可以选择发射<code class="fe ne nf ng mu b">Error</code>或<code class="fe ne nf ng mu b">Never</code>。下面的实现不会发出<code class="fe ne nf ng mu b">Error</code>，但如果你需要发出<code class="fe ne nf ng mu b">Error</code>，只需将<code class="fe ne nf ng mu b">Never</code>替换为<code class="fe ne nf ng mu b">Error</code>。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="929e" class="my lw it mu b gy mz na l nb nc">// Combine</span><span id="2947" class="my lw it mu b gy nd na l nb nc">let isLoading = PassthroughSubject&lt;Bool, Never&gt;()<br/>let buttonIsLoading = CurrentValueSubject&lt;Bool, Never&gt;(false)<br/>..<br/>..</span><span id="4572" class="my lw it mu b gy nd na l nb nc">isLoading.send(true)<br/>buttonIsLoading.send(true)</span></pre><p id="7962" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，获取要在我们的UI上显示的值</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/42d2bab23e333d7a95904e0182ad88e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ptc6JGsDRAeHsi2HNq9cnw.png"/></div></div></figure><p id="5ab1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按照上面实现的其余代码，下面是一些获取值的方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="6b77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">仔细看的话，迁移过程只涉及到用词替换词。所以，这个过程相当简单快捷。然而，出于额外的谨慎，您仍然需要测试您的代码，以确保它的工作是相同的。</p><p id="0a53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些技巧将帮助您开始迁移代码。不要在过程中停滞不前。联合社区小组已经创建了一个备忘单来帮助您识别这些关键字。在<a class="ae ky" href="https://github.com/CombineCommunity/rxswift-to-combine-cheatsheet" rel="noopener ugc nofollow" target="_blank"> GitHub </a>查看它们。</p><p id="0983" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">联合收割机社区使我们所有人的过渡变得容易，这是值得称赞的。</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><p id="9130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nr">感谢阅读！敬请关注更多内容。</em></p></div></div>    
</body>
</html>