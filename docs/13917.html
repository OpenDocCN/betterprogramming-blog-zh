<html>
<head>
<title>A Guide to Using ANU’s Quantum Random Number Generator in Your Smart Contracts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在你的智能合约中使用ANU量子随机数发生器的指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-guide-to-using-anus-quantum-random-number-generator-in-your-smart-contracts-21be5bed5aba?source=collection_archive---------7-----------------------#2022-10-13">https://betterprogramming.pub/a-guide-to-using-anus-quantum-random-number-generator-in-your-smart-contracts-21be5bed5aba?source=collection_archive---------7-----------------------#2022-10-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0830" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用真正的随机数创建你的程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/296236ee0e2336f11dfbdaf7fef4a2e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rjYmsGDM5hrddc2f"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@flyd2069?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">飞:D </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="2900" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用智能合约时，随机数生成(RNG)一直是最大的问题之一。确定性虚拟机无法产生“真正的”随机性。因此，RNG需要作为oracle服务提供。</p><p id="c8fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了满足智能合约中随机性的需求，分散伪随机RNG是一种常见的方式。最常用的方法之一是Chainlink的VRF或可验证随机函数，它在链上提供密码可证明的随机数。它生成一个带加密证明的随机数字，用于验证结果。</p><blockquote class="ls lt lu"><p id="e26a" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">但是，这种配置与任何其他第三方oracle网络一样存在同样的问题。建立一个可以提供PRNG的oracle节点暴露了潜在的攻击媒介，如<a class="ae kv" href="https://en.wikipedia.org/wiki/Sybil_attack" rel="noopener ugc nofollow" target="_blank"> Sybil攻击</a>，但也缺乏源代码透明性和分散性。例如，人们需要信任管理实体来选择网络参与者，这意味着分散的PRNG只与管理实体一样安全和分散。</p></blockquote><h1 id="1602" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">量子随机数生成</h1><p id="a148" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">qrg通过量子现象产生随机性。它使用“真正的”熵源，利用量子物理的独特属性来产生真正的随机性。</p><p id="0e3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有不同的实现qrg的方法，具有不同的实用水平，但共同点是产生的数字将是真正随机的，因为量子事件的结果在理论上是不确定的，具有明确定义的特征。因此，qrg是随机数生成的黄金标准。</p><h1 id="a4b5" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">澳大利亚国立大学的QRNG Airnode</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/4ccb310dc6083a0f2483299fee1920f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sm4Eo5c6GcDTwkIU"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">ANU的艾伦·特兰特博士</p></figure><p id="258a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们已经讨论过的，通过第三方oracle网络提供RNG为攻击媒介打开了空间。但是由<a class="ae kv" href="https://docs.api3.org/qrng/" rel="noopener ugc nofollow" target="_blank"> QRNG API </a>提供者直接操作的第一方Oracle(<a class="ae kv" href="https://docs.api3.org/airnode/v0.8/" rel="noopener ugc nofollow" target="_blank">air nodes</a>)可以最佳地对抗Sybil攻击风险。</p><p id="6702" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">API 3 qrg是由澳大利亚国立大学(ANU)提供的公共事业。它由ANU量子随机数托管的Airnode提供支持，这意味着它是第一方服务。澳大利亚国立大学的量子光学部门是该领域世界领先的研究机构之一。该部门还运行一个REST API，<a class="ae kv" href="https://quantumnumbers.anu.edu.au/" rel="noopener ugc nofollow" target="_blank">量子随机数API </a>，为Web2中的QRNG提供服务。</p><p id="d950" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://quantumnumbers.anu.edu.au/" rel="noopener ugc nofollow" target="_blank">阅读更多关于ANU如何通过测量真空的量子波动实时产生随机数的信息</a></p><p id="5f3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它是一种公共产品，是免费的(除了天然气费用)，当需要RNG链时，它通过一个易于使用的解决方案提供“真正的”量子随机性。</p><h1 id="803a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Airnode和API3 QRNG的工作原理</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/533402345a851c17dd1a3f5f831d070e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vDXkbKS5MSHUbFL1.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://docs.api3.org/qrng/introduction/how-works.html" rel="noopener ugc nofollow" target="_blank">https://docs.api3.org/qrng/introduction/how-works.html</a></p></figure><p id="a840" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要用匹配的赞助商钱包来部署和赞助<code class="fe my mz na nb b">QrngRequester</code>。<code class="fe my mz na nb b">QrngRequester</code>将是检索随机数的主要契约。</p><p id="626a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe my mz na nb b">QrngRequester</code>向<code class="fe my mz na nb b">AirnodeRrpV0</code>提交一个随机数请求。Airnode收集来自<code class="fe my mz na nb b">AirnodeRrpV0</code>协议契约的请求，离线检索随机数，并将其发送回<code class="fe my mz na nb b">AirnodeRrpV0</code>。一旦收到，它就用随机数对请求者执行回调。</p><p id="37dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里阅读更多关于API3 QRNG如何使用请求-响应协议的信息。</p><h1 id="2402" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">编码QrngRequester.sol</h1><h2 id="5784" class="nc ma iq bd mb nd ne dn mf nf ng dp mj lf nh ni ml lj nj nk mn ln nl nm mp nn bi translated">入门指南</h2><p id="9f6b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">确保您安装了以下软件:</p><ul class=""><li id="3a2b" class="no np iq ky b kz la lc ld lf nq lj nr ln ns lr nt nu nv nw bi translated">节点. js</li><li id="f6a3" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr nt nu nv nw bi translated">纱线/NPM</li></ul><p id="8b91" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，确保您已经克隆并安装了<a class="ae kv" href="https://github.com/api3dao/airnode" rel="noopener ugc nofollow" target="_blank"> Airnode Monorepo </a>。如果没有，请使用以下命令克隆Airnode Monorepo:</p><pre class="kg kh ki kj gt oc nb od oe aw of bi"><span id="3953" class="nc ma iq nb b gy og oh l oi oj">$ git clone <a class="ae kv" href="https://github.com/api3dao/airnode.git" rel="noopener ugc nofollow" target="_blank">https://github.com/api3dao/airnode.git</a> .</span></pre><p id="07c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要安装依赖项，请执行以下操作:</p><pre class="kg kh ki kj gt oc nb od oe aw of bi"><span id="5778" class="nc ma iq nb b gy og oh l oi oj">$ yarn run bootstrap</span></pre><p id="1063" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要构建所有包，请使用以下命令:</p><pre class="kg kh ki kj gt oc nb od oe aw of bi"><span id="665c" class="nc ma iq nb b gy og oh l oi oj">$ yarn run build</span></pre><h1 id="1554" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">编制合同</h1><p id="a872" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">为了编译QrngRequester契约，我们将使用<a class="ae kv" href="https://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> Remix IDE </a>。它是一个在线IDE，允许为兼容EVM的区块链开发、部署和管理智能合同。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="5b39" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe my mz na nb b">QrngRequester</code>将有三个主要功能:<code class="fe my mz na nb b">setRequestParameters()</code>、<code class="fe my mz na nb b">makeRequestUint256()</code>和<code class="fe my mz na nb b">fulfillUint256()</code>。</p><ol class=""><li id="fcaf" class="no np iq ky b kz la lc ld lf nq lj nr ln ns lr om nu nv nw bi translated"><code class="fe my mz na nb b">setRequestParameters()</code>接收<code class="fe my mz na nb b">airnode</code>、<code class="fe my mz na nb b">endpointIdUint256</code>、<code class="fe my mz na nb b">sponsorWallet</code>并设置这些参数。</li><li id="c982" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr om nu nv nw bi translated"><code class="fe my mz na nb b">makeRequestUint256()</code>函数调用<a class="ae kv" href="https://docs.api3.org/airnode/v0.8/concepts/#airnoderrpv0-sol" rel="noopener ugc nofollow" target="_blank"> </a> <code class="fe my mz na nb b"><a class="ae kv" href="https://docs.api3.org/airnode/v0.8/concepts/#airnoderrpv0-sol" rel="noopener ugc nofollow" target="_blank">AirnodeRrpV0.sol</a></code>协议契约的<code class="fe my mz na nb b">airnodeRrp.makeFullRequest()</code>函数，该函数将请求添加到其存储器中并返回一个<code class="fe my mz na nb b">requestId</code>。</li><li id="e3b3" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr om nu nv nw bi translated">目标链外ANU <a class="ae kv" href="https://docs.api3.org/airnode/v0.8/concepts/airnode.html" rel="noopener ugc nofollow" target="_blank"> Airnode </a>收集请求，并用随机数对请求者执行回调。</li></ol><h1 id="c647" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">请求参数</h1><p id="1eae" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><code class="fe my mz na nb b">makeRequestUint256()</code>函数需要以下参数来发出有效请求。</p><ul class=""><li id="08d0" class="no np iq ky b kz la lc ld lf nq lj nr ln ns lr nt nu nv nw bi translated"><code class="fe my mz na nb b">airnode</code>(地址)和<code class="fe my mz na nb b">endpointIdUint256</code>指定端点。从<a class="ae kv" href="https://docs.api3.org/qrng/reference/providers.html" rel="noopener ugc nofollow" target="_blank">这里</a>获取这些。</li><li id="c0cf" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr nt nu nv nw bi translated"><code class="fe my mz na nb b">sponsorWallet</code>指定将使用哪个钱包来完成请求。</li></ul><h1 id="6714" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">响应参数</h1><p id="5ea6" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">对<code class="fe my mz na nb b">QrngRequester</code>的回调包含两个参数:</p><ul class=""><li id="0b7e" class="no np iq ky b kz la lc ld lf nq lj nr ln ns lr nt nu nv nw bi translated"><code class="fe my mz na nb b">requestId</code>:发出请求时第一次获取，并在此处作为参考传递，以标识响应所针对的请求。</li><li id="1af6" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr nt nu nv nw bi translated"><code class="fe my mz na nb b">data</code>:如果响应成功，这是已被编码的请求数据，除了其他响应数据外，还包含一个<a class="ae kv" href="https://docs.api3.org/ois/v1.1/reserved-parameters.html#timestamp-encoded-to-uint256-on-chain" rel="noopener ugc nofollow" target="_blank">时间戳</a>。使用来自<code class="fe my mz na nb b">abi</code>对象的函数<code class="fe my mz na nb b">decode()</code>对其进行解码，以获得您的随机数。</li></ul><p id="08c2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">头到Remix IDE，做一个契约，粘贴到<code class="fe my mz na nb b"><a class="ae kv" href="https://gist.github.com/vanshwassan/0b50c7b36b1e7ebed85549754578ed79#file-qrngrequester-sol" rel="noopener ugc nofollow" target="_blank">QrngRequester</a></code>代码里。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/1ee84f8dc9faed9860386f58c9226013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xqIXsrezF-oEibrUXUCHBA.png"/></div></div></figure><p id="d248" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，点击仪表板右侧的compile，编译智能合同。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/215c809e998a4b30c17da4091008be1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*NC2OnVs_WbJyQ1x92IWNWg.png"/></div></figure><h1 id="3c63" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">部署合同</h1><p id="ae7b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们将把我们的<code class="fe my mz na nb b">QrngRequester</code>部署到格利。确保你的钱包里有足够的testnet ETH来部署合同并在以后资助<code class="fe my mz na nb b">sponsorWallet</code>。你可以在这里得到一些testnet Goerli <a class="ae kv" href="https://goerlifaucet.com/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="6307" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">开始部署，运行事务，并选择Environment下的“Injected Provider — MetaMask”选项。连接您的元掩码。确保你在格里。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/4f36c9d150844915a0d8c2caa5c89738.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*egGwfeoxm80f14aLRGPIgg.png"/></div></figure><p id="9e2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个<code class="fe my mz na nb b">_rrpAddress</code>就是主要的<code class="fe my mz na nb b">airnodeRrpAddress</code>。RRP合同已经在链上部署。您可以在这里查看您的具体链条<a class="ae kv" href="https://docs.api3.org/airnode/v0.8/reference/airnode-addresses.html#airnoderrpv0" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="60e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦<code class="fe my mz na nb b">_rrpAddress</code>被填充，点击“部署”确认元掩码上的事务，并等待它部署请求者契约。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/2981c244838a815eed5db94c4ecdac6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*tBUez1T4eti5tznbrtg6Ew.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">确保你在格利测试网上</p></figure><h1 id="9d05" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">调用合同</h1><p id="d709" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">当您的<code class="fe my mz na nb b">QrngRequester</code>被部署后，前往Deploy，运行事务，并在Deployed Contracts下单击请求者的下拉菜单。</p><p id="dc71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在选择<code class="fe my mz na nb b">setRequestParameters</code>下拉菜单设置所有参数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/6048eb2ab31b4aff8792bef0023b0540.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*rbdNJXXxCsbS0YIEKhTppw.png"/></div></figure><p id="1397" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将以下内容添加到函数的相应字段中。</p><ul class=""><li id="6661" class="no np iq ky b kz la lc ld lf nq lj nr ln ns lr nt nu nv nw bi translated"><code class="fe my mz na nb b">_airnode</code>:所需QRNG服务提供商的airnode地址。从<a class="ae kv" href="https://docs.api3.org/qrng/reference/providers.html#airnode" rel="noopener ugc nofollow" target="_blank"> ANU空气节点</a>看它的值。</li><li id="8efc" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr nt nu nv nw bi translated"><code class="fe my mz na nb b">_endpointIdUint256</code>:air node端点ID将返回一个随机数。从<a class="ae kv" href="https://docs.api3.org/qrng/reference/providers.html#endpointiduint256" rel="noopener ugc nofollow" target="_blank"> ANU空气节点</a>看它的值。</li><li id="2883" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr nt nu nv nw bi translated"><code class="fe my mz na nb b">_sponsorWallet</code>:从请求者契约地址、Airnode地址和Airnode xpub导出的钱包。钱包用于支付汽油费用以获得一个随机数。必须从管理CLI中使用命令<a class="ae kv" href="https://docs.api3.org/airnode/v0.7/reference/packages/admin-cli.html#derive-sponsor-wallet-address" rel="noopener ugc nofollow" target="_blank">derive-sponsor-wallet-address</a>派生赞助商钱包。使用该命令输出的赞助商钱包地址的值。</li></ul><p id="9e73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在设置了Airnode CLI、安装并构建了所有依赖项和包之后，运行以下命令来派生您的<code class="fe my mz na nb b">_sponsorWallet</code>:</p><h1 id="db6f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Linux操作系统</h1><pre class="kg kh ki kj gt oc nb od oe aw of bi"><span id="47a9" class="nc ma iq nb b gy og oh l oi oj">npx @api3/airnode-admin derive-sponsor-wallet-address \<br/>  --airnode-xpub xpub6CUGRUo... \<br/>  --airnode-address 0xe1...dF05s \<br/>  --sponsor-address 0xF4...dDyu9</span></pre><h1 id="7e47" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Windows操作系统</h1><pre class="kg kh ki kj gt oc nb od oe aw of bi"><span id="9f50" class="nc ma iq nb b gy og oh l oi oj">npx @api3/airnode-admin derive-sponsor-wallet-address ^<br/>  --airnode-xpub xpub6CUGRUo... ^<br/>  --airnode-address 0xe1...dF05s ^<br/>  --sponsor-address 0xF4...dDyu9</span></pre><p id="5d56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ANU的<code class="fe my mz na nb b">airnode-address</code>和<code class="fe my mz na nb b">airnode-xpub</code>可以在这里找到<a class="ae kv" href="https://docs.api3.org/qrng/reference/providers.html" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/a78a24a3b5823d068db5d9be98cce792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*xYnxZk6fRmb5iNFtu5qGhg.png"/></div></figure><p id="2149" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">资助<code class="fe my mz na nb b">sponsorWallet</code>进行一些测试。点击交易按钮并确认交易以设置参数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/08b8cbcd0ae149607c6db1eec65edf70.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*Tycn4l0Yqv5LWSmAcdjDrg.png"/></div></figure><p id="52b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要发出请求，点击<code class="fe my mz na nb b">makeRequestUint256</code>按钮调用该功能并发出完整请求。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/455ba14774ab75c4bf5701a3cd256d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*G6p3_QX0wYCvjRAMO_5G2Q.png"/></div></figure><p id="d1aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你可以去<a class="ae kv" href="https://rinkeby.etherscan.io/" rel="noopener ugc nofollow" target="_blank"> </a> <code class="fe my mz na nb b"><a class="ae kv" href="https://goerli.etherscan.io/" rel="noopener ugc nofollow" target="_blank">https://goerli.etherscan.io/</a></code>查看你的<code class="fe my mz na nb b">sponsorWallet</code>是否有新的交易。</p><p id="c05b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可能需要等待一段时间，因为Airnode调用<code class="fe my mz na nb b">AirnodeRrpV0.sol</code>中的<code class="fe my mz na nb b">fulfill()</code>函数，该函数将使用函数<code class="fe my mz na nb b">fulfillFunctionId</code>回调<code class="fe my mz na nb b">fulfillAddress</code>处的请求者契约，以交付<code class="fe my mz na nb b">data</code>(随机数)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/8910b1bece748e0f621641407f2e4b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NMjxVn2BUXZeX3-KWGCS9A.png"/></div></div></figure><p id="dd19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我们可以看到最新的<code class="fe my mz na nb b">Fulfill</code>交易。</p><p id="5c21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在回到混音，点击<code class="fe my mz na nb b">latestRequest</code>按钮检查响应。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/0f19861eaaee29d6bcbd55628a361887.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*BcTgivXIHUHUxj6cmkQObQ.png"/></div></figure><p id="032d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果回调已成功完成，则<code class="fe my mz na nb b">randomNumber</code>将出现。<code class="fe my mz na nb b">waitingFulfillment</code>的值将为<code class="fe my mz na nb b">false</code>。</p></div><div class="ab cl ow ox hu oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="ij ik il im in"><p id="3852" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想了解更多，请查看<a class="ae kv" href="https://github.com/api3dao/qrng-example" rel="noopener ugc nofollow" target="_blank"> QRNG示例项目</a>。</p><p id="542c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">阅读更多关于<a class="ae kv" href="https://docs.api3.org/qrng/" rel="noopener ugc nofollow" target="_blank"> API3 QRNG </a>的内容。</p><pre class="kg kh ki kj gt oc nb od oe aw of bi"><span id="0e3e" class="nc ma iq nb b gy og oh l oi oj"><strong class="nb ir">Want to Connect?</strong></span><span id="6f3a" class="nc ma iq nb b gy pd oh l oi oj">Check out <a class="ae kv" href="https://discord.com/invite/qnRrcfnm5W" rel="noopener ugc nofollow" target="_blank">API3’s Discord Server</a> and drop your queries there!</span></pre></div></div>    
</body>
</html>