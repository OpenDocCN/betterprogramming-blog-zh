<html>
<head>
<title>Simulating a Typescript Interview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">模拟打字面试</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/simulating-a-typescript-interview-cdaf9d217dff?source=collection_archive---------4-----------------------#2021-02-18">https://betterprogramming.pub/simulating-a-typescript-interview-cdaf9d217dff?source=collection_archive---------4-----------------------#2021-02-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="790c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">知道你的下一次面试是什么样子，从而领先一步</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/94b88da969bcb3e064a55600e970aee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1SUvGQhI2ksFYTQY1kQWzQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@xps?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> XPS </a>在<a class="ae ky" href="https://unsplash.com/s/photos/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="50e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前端面试一天比一天难。做好充分准备是关键。随着对打字稿的需求与日俱增，这个话题肯定会在你的面试中出现。</p><p id="5e9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是打字稿面试的模拟。即使你不是在找新工作，你也可以用它来测试你的打字知识。面试分为两部分:</p><ul class=""><li id="144b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第一部分:五个打字稿问题</li><li id="6cc5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">第二部分</strong>:六个现场编码练习</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d790" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">第1部分:打字稿一般问题</h1><p id="442b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">这些打字稿问题只是热身——现场编码前的初始对话。</p><h2 id="985c" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">1.TypeScript和JavaScript有什么区别？</h2><p id="b49b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">Typescript是Javascript的超集。这意味着所有在Javascript上运行的代码都将在TypeScript +一些其他特性上运行。然而，浏览器无法理解类型脚本代码——它需要传递给JavaScript。</p><p id="ce44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript是弱类型，而Typescript是强类型。</p><h2 id="30fb" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">2.TypeScript有什么好处？</h2><p id="b483" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">使用Typescript有很多好处:</p><ul class=""><li id="6374" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">类型检查使您的代码更加安全。</li><li id="495b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">类型检查使您的代码更具可读性。</li><li id="0d71" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">因为它是可选类型的，所以您可以对一些边缘场景或第三方库禁用类型。</li><li id="7a46" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">适用于所有现有的JavaScript。</li><li id="6e92" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">巴别。</li><li id="63f2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">捕捉大多数空检查错误。</li></ul><h2 id="89e3" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">3.是什么让TypeScript可选类型化？</h2><p id="57d6" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">有三种简单的方法可以使TypeScript成为可选类型。它们应该仅在边缘情况下使用:</p><ul class=""><li id="e70e" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">使用<code class="fe nz oa ob oc b">any</code>关键字——你告诉编译器这个变量将接受任何类型。</li><li id="e722" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><code class="fe nz oa ob oc b">@ts-ignore</code>这将抑制下一行的错误</li></ul><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="5302" class="nn mr it oc b gy oh oi l oj ok">if (false) {<br/>  // @ts-ignore: Unreachable code error<br/>  console.log("hello");<br/>}</span></pre><ul class=""><li id="86e8" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe nz oa ob oc b">@ts-expect-error</code>类似于<code class="fe nz oa ob oc b">@ts-ignore</code>，但是如果不必要的话会抛出一个错误。</li></ul><h2 id="b05b" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">4.什么是TypeScript Declare关键字？</h2><p id="ea65" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated"><code class="fe nz oa ob oc b">Declare</code>用于告诉编译器在另一段代码上声明了什么。这在使用第三方库时特别有用。它还告诉编译器在传输TypeScript时不要包含这些代码。</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="39d0" class="nn mr it oc b gy oh oi l oj ok">interface Interface {<br/>  run: () =&gt; void;<br/>}</span><span id="9d89" class="nn mr it oc b gy ol oi l oj ok">declare let plugin: Interface;</span></pre><p id="a860" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查处的TypeScript playground <a class="ae ky" href="https://www.typescriptlang.org/play?ssl=6&amp;ssc=1&amp;pln=1&amp;pc=1#code/JYOwLgpgTgZghgYwgAgJLmvJyDeAoZZKAVxAC5kAKASmQF4A+ZANwHtgATAbjwF888HCAgA2cKChEQwyAA4jiAc1AV0kWIgg8gA" rel="noopener ugc nofollow" target="_blank">以查看<code class="fe nz oa ob oc b">plugin</code>的代码输出为none。</a></p><h2 id="eec2" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">5.如何将TypeScript配置成严格的？</h2><p id="aa2f" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">通过在<code class="fe nz oa ob oc b">ts-config.json</code>文件中添加<code class="fe nz oa ob oc b">strict: true</code>到<code class="fe nz oa ob oc b">compiler</code>选项，可以启用TypeScript严格模式。</p><p id="350f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转动<code class="fe nz oa ob oc b">strict: true</code>将所有这些标志变为真:</p><ul class=""><li id="f7f4" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe nz oa ob oc b">strictNullChecks</code></li><li id="cfa9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><code class="fe nz oa ob oc b">noImplicitAny</code></li><li id="c4d3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><code class="fe nz oa ob oc b">noImplicitThis</code></li><li id="506e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><code class="fe nz oa ob oc b">alwaysStrict</code></li></ul><p id="2d45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">万一你这次失败了，在这里检查我的打字稿<code class="fe nz oa ob oc b">strict mode</code>文章<a class="ae ky" href="https://medium.com/better-programming/getting-strict-with-typescript-2e906b48c0a" rel="noopener">。</a></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="90bb" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">第2部分:编码生命周期</h1><p id="d09a" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">为了进行适当的模拟，给自己25分钟来完成所有六个练习。设置一个计时器，确保你不会被打扰。每个练习都有一个到TypeScript操场的链接，你可以在那里练习。</p><p id="186b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在编码之前，确保你理解你被要求做什么。面试的时候问澄清问题是可以的。</p><h2 id="5bb6" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">练习1</h2><p id="08ab" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">给出如下界面:</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="7475" class="nn mr it oc b gy oh oi l oj ok">interface Point3D {<br/>  x: number;<br/>  y: number;<br/>  z: number;<br/>}</span></pre><p id="0713" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如何创建一个等同于<code class="fe nz oa ob oc b">Point3D</code>但没有<code class="fe nz oa ob oc b">z</code>属性的接口<code class="fe nz oa ob oc b">Point2D</code>？</p><p id="d475" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打字操场<a class="ae ky" href="https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgAoHtRgMwBFkDeAUMqcgB4BcyIArgLYBG0A3CWQJ7V1OvukAvbg2ZQ2AXyJA" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="76f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有多种解决方案—都是使用TypeScript映射类型实用工具实现的。如果你不了解映射类型，可以在这里查看我的文章<a class="ae ky" href="https://medium.com/better-programming/mastering-typescripts-mapped-types-5fa5700385eb" rel="noopener">。</a></p><p id="6788" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">解决方案1: </strong></p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="b3d4" class="nn mr it oc b gy oh oi l oj ok">type Point2D = Omit&lt;Point3D, 'z'&gt;;</span></pre><p id="a8c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">解决方案2: </strong></p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="e150" class="nn mr it oc b gy oh oi l oj ok">type Point2D = Pick&lt;Point3D, 'x' | 'y'&gt;;</span></pre><p id="1ebd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">解决方案3: </strong></p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="92a4" class="nn mr it oc b gy oh oi l oj ok">type Point2D = {<br/>  [T in Exclude&lt;keyof Point3D, 'z'&gt;]: Point3D[T]<br/>}</span></pre><p id="e6d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nz oa ob oc b">solution 1</code>是最好的，如果你添加另一个成员到接口，它将被添加到<code class="fe nz oa ob oc b">Point2D</code>。那不会发生在<code class="fe nz oa ob oc b">solution 2</code>上。<code class="fe nz oa ob oc b">Solution 3</code>有点矫枉过正，但是有效。</p><h2 id="5eaa" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">练习2</h2><p id="1300" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">给定前面的<code class="fe nz oa ob oc b">Point3D</code>界面和该功能:</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="c804" class="nn mr it oc b gy oh oi l oj ok">interface Point3D {<br/>  x: number;<br/>  y: number;<br/>  z: number;<br/>}</span><span id="141e" class="nn mr it oc b gy ol oi l oj ok">function rotateX(x: number, offset: number) {<br/>  return x + offset;<br/>}</span></pre><p id="aeb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如何确保函数参数依赖于<code class="fe nz oa ob oc b">Point3D</code>成员<code class="fe nz oa ob oc b">x</code>的类型，而不是使用<code class="fe nz oa ob oc b">number</code>，这样如果<code class="fe nz oa ob oc b">Point3D</code>成员<code class="fe nz oa ob oc b">x</code>的类型改变，函数参数类型也会改变？</p><p id="9444" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有操场<a class="ae ky" href="https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgAoHtRgMwBFkDeAUMqcgB4BcyIArgLYBG0A3CWQJ7V1OvukAvbg2ZQ2AXyJEYtEAjDB0IZFHRg4kABoAKKjRHQANMnQwYAZwhhhvKAEpC-FVdpRl5ZAGoTZy2AlEQA" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="2441" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">解决方案1 </strong></p><p id="5798" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以创建一个类型，然后在<code class="fe nz oa ob oc b">interface</code>和<code class="fe nz oa ob oc b">function</code>中使用它。这是不鼓励的，但它确实有效:</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="ad53" class="nn mr it oc b gy oh oi l oj ok">type X = number;</span><span id="f09f" class="nn mr it oc b gy ol oi l oj ok">interface Point3D {<br/>  x: X;<br/>  y: number;<br/>  z: number;<br/>}</span><span id="d78f" class="nn mr it oc b gy ol oi l oj ok">function rotateX(x: X, offset: X) {<br/>  return x + offset;<br/>}</span></pre><p id="68fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">解决方案2 </strong></p><p id="5bae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最佳解决方案是使用TypeScript的属性访问器。就像在JavaScript中，你可以用括号符号访问类型/接口变量。</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="b016" class="nn mr it oc b gy oh oi l oj ok">function translateX(x: Point3D['x'], offset: Point3D['x']) {<br/>  return x + offset;<br/>}</span></pre><h2 id="f6f5" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">练习3</h2><p id="4ee7" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">给定以下函数及其三个不同的调用:</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="05ba" class="nn mr it oc b gy oh oi l oj ok">// how you make this function accept any type wihout using any or unkown</span><span id="32c8" class="nn mr it oc b gy ol oi l oj ok">function fun(variable: string) {<br/>  return variable;<br/>}</span><span id="7b4e" class="nn mr it oc b gy ol oi l oj ok">const result1 = fun('string');<br/>const result2 = fun(true);<br/>const result3 = fun(new Date());</span></pre><p id="8589" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如何让这个函数适用于所有三种不同的类型以及任何其他类型？</p><p id="23df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有游乐场<a class="ae ky" href="https://www.typescriptlang.org/play?#code/PTAEAsHsHdQT0gV1AWwIYGsCmoAu4BLAZ1ADNEA7AY1wMgtDSqqwAddGK485WdoCURB0RECFAOadukAE6hKGGBQBQ5arXplKACgBuaWQTQAjADZYAXKCK4jkgJSgA3itChZWXIlkMDR0wsAbhUAXxUVKnpbDywiRDNcAEZQAF5tCh0Aclt7CSyHEKiKGM94xIAmNIydO0QsQsjojjKE3ABmavUdCixYABE0XCwdB0KgA" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="ef11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">解决方案</strong></p><p id="2b0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的解决方案是使用Typescript的特性:泛型。通过使用通用接口，您可以确保它对所有三种情况都有效。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><h2 id="b865" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">练习4</h2><p id="0aee" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">如何防止前面看到的函数用数组类型执行？</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="d3dd" class="nn mr it oc b gy oh oi l oj ok">function fun&lt;T&gt;(variable: T) {<br/>  return variable;<br/>}</span><span id="21f2" class="nn mr it oc b gy ol oi l oj ok">const result1 = fun('string');<br/>const result2 = fun(true);<br/>const result3 = fun(new Date());<br/>const result4 = fun(['one','two','three']); // should fail here</span></pre><p id="dbd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有游乐场<a class="ae ky" href="https://www.typescriptlang.org/play?ts=4.2.0-beta#code/GYVwdgxgLglg9mABKMAeAKgPgBQDcCGATjPgEYA2ApgFyLoCUiA3gFCKKGVQiFIHFkqAbhYBfFiwgIAzlA6VpIclACMiALzJw2AOSziYAOY76IqWFnzFygEwatYbFEIhKpyTLmdrUAMz2UbDBKAHdEABF8KEpsendzS28lKAAWAO0AbR0ESh0AGh0oELh8woALTlyAXVNEAHo6xGkyuCUAE2R8GHJEMspOCUGgA" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="550b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">方案一</strong></p><p id="ec4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最直观的做法是使用<code class="fe nz oa ob oc b">extends</code>关键字将<code class="fe nz oa ob oc b">T</code>限制为某些类型:</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="0464" class="nn mr it oc b gy oh oi l oj ok">function fun&lt;T extends string | boolean | Date&gt;(variable: T) {<br/>  return variable;<br/>}</span></pre><p id="6646" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这有一个明显的缺点:你必须事先知道类型。</p><p id="fbde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">方案二</strong></p><p id="6830" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最优雅的解决方案是使用映射类型和<code class="fe nz oa ob oc b">never</code>关键字。当类型为数组时，将类型<code class="fe nz oa ob oc b">T</code>赋给<code class="fe nz oa ob oc b">never</code>会使函数不可调用。无法满足类型为<code class="fe nz oa ob oc b">never</code>的参数，因此它将中断。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="d2eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:这些不起作用——那里不允许条件句。</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="ac2a" class="nn mr it oc b gy oh oi l oj ok">function fun&lt;T extends unknown[] ? never : T&gt; ... // will complain abount synthaxis</span><span id="673b" class="nn mr it oc b gy ol oi l oj ok">or</span><span id="9e9a" class="nn mr it oc b gy ol oi l oj ok">function fun&lt;T extends NotArray&lt;T&gt;&gt; ... // will complain about recursivity</span></pre><h2 id="d590" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">练习5</h2><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="ed1b" class="nn mr it oc b gy oh oi l oj ok">const items = ['string', true, new Date()];</span><span id="0d92" class="nn mr it oc b gy ol oi l oj ok">const firstItem = items[0];</span></pre><p id="db13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你能通过看上面的代码猜出<code class="fe nz oa ob oc b">firsItem</code>变量吗？</p><p id="8020" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果类型不精确，如何确保它匹配数组索引类型？</p><p id="12fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">操场<a class="ae ky" href="https://www.typescriptlang.org/play?#code/MYewdgzgLgBAllApgWwjAvDA2gcmgJzjAHMcAaGKfAV0QrEQHcYARAQyQAoBKAXQG4AUINCRYAMzj5oASSTIM8eRCwAGAUA" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="57e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">解决方案</strong></p><p id="2b27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nz oa ob oc b">firsItem</code>变量的类型是什么？由于数组是动态的，<code class="fe nz oa ob oc b">firstItem</code>的类型是<code class="fe nz oa ob oc b">string | boolean | date</code>。</p><p id="c0ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，如果您在启用了<code class="fe nz oa ob oc b">noUncheckedIndexedAccess</code>标志的情况下使用Typescript <code class="fe nz oa ob oc b">4.1</code>，则类型将是<code class="fe nz oa ob oc b">string | boolean | date | undefined</code>。该标志将<code class="fe nz oa ob oc b">undefined</code>作为一种可能的类型添加到动态数组中。</p><p id="0690" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们如何确保类型与索引一致？我们必须固定数组，这样TypeScript才能确定值类型。</p><p id="df6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">方法是使用<code class="fe nz oa ob oc b">as const</code>。这将把数组变成TypeScript的元组:</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="26ce" class="nn mr it oc b gy oh oi l oj ok">const items = [‘string’, true, new Date()] as const;</span><span id="6816" class="nn mr it oc b gy ol oi l oj ok">const firstItem = items[0]; // firstItem is of type string</span></pre><p id="d6ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一种不太优雅的方法是直接使用<code class="fe nz oa ob oc b">Tuple</code>:</p><pre class="kj kk kl km gt od oc oe of aw og bi"><span id="bc12" class="nn mr it oc b gy oh oi l oj ok">const items: [string, true, Date ] = [‘string’, true, new Date()];</span><span id="7523" class="nn mr it oc b gy ol oi l oj ok">const firstItem = items[0]; // firstItem is of type string</span></pre><h2 id="4a00" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">练习6</h2><p id="93d5" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们尝试一个稍微复杂一点的问题:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="0b7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们如何修复上面的代码，以便通过向<code class="fe nz oa ob oc b">if</code>语句添加一个条件，TypeScript编译器就可以推导出正确的类型<code class="fe nz oa ob oc b">Dog</code>或<code class="fe nz oa ob oc b">Cat</code>？您可以为此更改<code class="fe nz oa ob oc b">Animal</code>、<code class="fe nz oa ob oc b">Dog</code>和<code class="fe nz oa ob oc b">Cat</code>界面。</p><p id="f164" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打字操场<a class="ae ky" href="https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgIImAWzgG2QbwChkTk4BzCALmRAFdMAjaAbkIF9DDRJZEUAIgHtyyCAA9IIACYBnNBmx4ipZAjrTpOasgAUASmQBeAHzIAbkODS2nbuGjwkyAMJwwYyRBnz0WXATEpLLaEAAONAbGZpbWtlwA9AnIABZCAO7I6UJ0ONLIAJ45yDDA4shgKcDymBCVQtIA-IQwdCAIYMBCIMhhjkJQmKgdXSC6cIq4NMKiAD6u7oYqpMAwegkAVBvIGwlLQaokE-44AHTqmtoGbKp2qqvrWzt7gYekx0qnIRDh1wfInE4QA" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="bf0d" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">解决方案1</h2><p id="9017" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">第一个直观的解决方案是使用TypeScript类型的保护。我们可以为每个接口创建谓词，这是一个完全可以接受的解决方案:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="b2ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缺点:我们必须为每个新接口添加一个方法，这将增加很多样板文件。</p><h2 id="da40" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">解决方案2</h2><p id="63c8" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">这个问题的最佳解决方案是使用有区别的联合。注意，<code class="fe nz oa ob oc b">animal</code>的类型是暗示解决方案的<code class="fe nz oa ob oc b">Dog | Cat</code>。我们必须定义一个<code class="fe nz oa ob oc b">type</code>属性，然后用它来区分两种类型:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="7d2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过使用<code class="fe nz oa ob oc b">switch</code>语句和<code class="fe nz oa ob oc b">Enums</code>代替文字类型，可以进一步改进这段代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="44fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了<code class="fe nz oa ob oc b">Enums</code>和<code class="fe nz oa ob oc b">switch</code>语句，一切都更好看了。避免在一个函数中使用多个<code class="fe nz oa ob oc b">if</code>语句看起来总是更干净。当大量使用时，背后可能有一个你可以使用的模式。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="b737" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="0fcb" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">面试有时非常具有挑战性。重要的是不要紧张，并努力理解要求你做的任何事情。通过练习上面的编码练习，你会有充分的准备。</p><p id="000b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你做对了多少个现场编码练习？</p><ul class=""><li id="8435" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">三个正确的练习:你是一个优秀的TypeScript开发人员，但是还有很大的改进空间。</li><li id="b572" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">四个练习对:你是一个中级的Typescript开发人员。</li><li id="f3c9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">五个练习对:你是一个高级Typescript开发人员。</li><li id="38fe" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">六个练习对了:你是打字高手。</li></ul><p id="776c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我知道你是否觉得这个测试太简单或太有挑战性，以及你是否找到了其他方法来解决这些练习。随时欢迎反馈。</p><p id="7010" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在不久的将来，我会制作更多的打字稿内容。干杯！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="e5df" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">相关文章</h1><div class="oo op gp gr oq or"><a href="https://medium.com/better-programming/typescript-4-1s-advanced-mapped-types-eba9a2ba7a9" rel="noopener follow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">TypeScript 4.1的高级映射类型</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">看看递归条件类型、模板文字类型等等</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">medium.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf ks or"/></div></div></a></div><div class="oo op gp gr oq or"><a href="https://medium.com/better-programming/7-must-know-typescript-transpiled-features-e2365cce17e2" rel="noopener follow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">7个必须知道的打字稿翻译功能</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">将最新的ECMAScript功能与Typescript一起使用</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">medium.com</p></div></div><div class="pa l"><div class="pg l pc pd pe pa pf ks or"/></div></div></a></div><div class="oo op gp gr oq or"><a href="https://medium.com/better-programming/master-typescripts-type-guards-1fd5436bc6f2" rel="noopener follow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">Master TypeScript的类型保护</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">在TypeScript的type guards中从初学者到专业人员</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">medium.com</p></div></div><div class="pa l"><div class="ph l pc pd pe pa pf ks or"/></div></div></a></div></div></div>    
</body>
</html>