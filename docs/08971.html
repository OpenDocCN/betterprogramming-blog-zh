<html>
<head>
<title>Introducing DocC: A New Tool To Write Documentation From Xcode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍DocC:从Xcode编写文档的新工具</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/introducing-docc-a-new-tool-to-write-documentation-from-xcode-64d990d0a1c9?source=collection_archive---------3-----------------------#2021-07-01">https://betterprogramming.pub/introducing-docc-a-new-tool-to-write-documentation-from-xcode-64d990d0a1c9?source=collection_archive---------3-----------------------#2021-07-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="62b8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">苹果让文档写作变得容易多了</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2852ed642b74bd9be28375fdcfe42ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wal4iLxc88YM4THolvSiHg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">DocC标志取自<a class="ae ky" href="https://developer.apple.com" rel="noopener ugc nofollow" target="_blank">developer.apple.com</a>——由作者编辑</p></figure><h2 id="f394" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">介绍</h2><p id="0438" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">今年WWDC，苹果发布了一个新的开发者工具来为swift包和框架生成优秀的文档，<a class="ae ky" href="https://developer.apple.com/documentation/docc" rel="noopener ugc nofollow" target="_blank"> DocC </a>。</p><p id="8ff4" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><strong class="lx iu"> DocC </strong>，<strong class="lx iu"> </strong>顾名思义，是一个文档编译器，它与Swift编译器一起为我们的Swift框架和包生成文档，它深度集成在Xcode内部。它创建苹果风格的文档，你可以在Xcode的文档窗口中看到，更好的是，你可以将文档作为网站托管。</p><p id="faa9" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">我们将分两部分学习DocC。在本文的第一部分，我将向您展示如何使用DocC标记记录您的Swift框架和包，以及如何为Xcode文档窗口生成文档，在第二部分，我将向您展示如何将您的文档作为网站提供给全世界。</p><h2 id="a0af" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">准备</h2><p id="e9c3" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">DocC与Swift编译器一起生成文档。在构建我们的框架之后，DocC使用Xcode生成的公共API，并使用该信息将文档编译成Apple为docs引入的新格式。文档存档</p><p id="4f02" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如果您已经使用Xcode中的文档语法对代码库进行了注释，那么您已经比创建DocC文档领先了一步。如果您的代码库中有注释，您可以通过选择<strong class="lx iu">产品&gt;构建文档，立即在Xcode中构建DocC文档。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/5bca4e3802ca176015fc93e10691e833.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9w_zZj9Wrh8h6CcMxNVnLA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="f78d" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">这将构建您的文稿，并在Xcode的文稿窗口中打开它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/fd7e0e49961b6a18d85d51282880ce8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PbfV_c3OaMXmVZ0KIckjZg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="1ecb" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated"><strong class="lx iu">注:</strong>截至目前，DocC只支持Swift框架、Swift静态库、Swift包。它不支持Objective-C或应用程序级代码符号文档的文档生成。</p><p id="1c72" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如果您没有使用文档注释在代码中添加注释，或者想了解有关符号文档的更多信息，请访问下面的链接。这是苹果公司的一篇很棒的文章，展示了如何记录你的代码库。</p><div class="mv mw gp gr mx my"><a href="https://developer.apple.com/documentation/xcode/writing-symbol-documentation-in-your-source-files" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">在源文件中编写符号文档</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">向符号添加解释如何使用它们的参考文档。</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">developer.apple.com</p></div></div></div></a></div><h1 id="aa9a" class="nh la it bd lb ni nj nk le nl nm nn lh jz no ka ll kc np kd lp kf nq kg lt nr bi translated"><strong class="ak">文件目录</strong></h1><p id="ee96" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">默认情况下，DocC采用您的框架的公共API及其文档注释来生成文档归档，但是您可以使用Xcode 13 <strong class="lx iu">“文档目录”中引入的全新模板类型来使您的文档更加丰富</strong></p><p id="785f" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">要向您的项目添加文档目录，请转到<strong class="lx iu">选择文件&gt;新建&gt;文件</strong>以打开文件模板选择器并选择<strong class="lx iu">文档目录</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/9c6b684aa8456984caf72be67529ee87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S207m6VSUPCgp92TiMZPNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="92d7" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">您可以将其命名为与项目名称相同的名称。它附带了主文章页面和一个名为resource的文件夹。文章主页是一个markdown文件，显示为我们文档的第一页。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/221e39d89551e4fd26551fac6dc0ed52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*_pj78LYCGOssvrFr2L8nYQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="407f" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">文章模板Xcode提供了主markdown文件的基本结构，但是您可以根据markdown规则任意更改它。您不应该删除主题部分，因为DocC编译器对它的处理略有不同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/2e0c3e87c73c49081442892d1cd6dbe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VHWhXqpphPpaNGUuUATwsg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="8bde" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">主题部分通常包括一个分组列表，该列表包含一个深层符号列表或指向其他教程的链接。以下是如何组织文章主页的示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/fe71f7f70d66f48dabf5e4dc538cb108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*acBf7uta8G0w-PrdjmUY0w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><h2 id="0fbe" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">标志</h2><p id="4dd2" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">您可能已经注意到了<code class="fe nw nx ny nz b">``</code>中的文本是如何以蓝色突出显示的；这在我们的代码库中表示一个<strong class="lx iu">符号</strong>。您可以通过将符号名称用<code class="fe nw nx ny nz b">``</code>括起来来引用markdown文件中的任何函数或变量——但是由于函数和变量需要引用一些真实的代码——您必须提供符号的准确路径。正如你在上面看到的，为了引用<strong class="lx iu"> baseURL </strong>，我写了<code class="fe nw nx ny nz b">``API/baseURL``</code>，因为baseURL存在于协议API中。</p><p id="ead8" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">但是不要担心，Xcode会在你开始输入<code class="fe nw nx ny nz b">``</code>的时候自动提示来帮助我们解决这个问题。Xcode会在我们打字时提示符号，即使我们打错了，Xcode也会在我们创建文档时发出警告。这将转换为指向文档中特定符号的文档页面的超链接。</p><h2 id="ef3e" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">链接文章</h2><p id="1dd4" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">你也可以通过写<code class="fe nw nx ny nz b">&lt;Doc:GettingStarted&gt;</code>来参考另一篇文章/markdown文件，在这里你可以输入doc文件的相对路径来代替入门。</p><h2 id="06f9" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">添加图像</h2><p id="b6a4" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">你也可以更灵活地放置图像(就像你在markdown中做的那样),为黑暗和光明模式提供不同的图像。要在文章中添加图像，您可以使用特殊的命名系统将图像放在resources文件夹中，如下所示:</p><ol class=""><li id="1383" class="oa ob it lx b ly mo mb mp li oc lm od lq oe mn of og oh oi bi translated"><code class="fe nw nx ny nz b">&lt;filename&gt;@&lt;scale&gt;.&lt;image format&gt;</code> <br/>例如ElegantAPI@2x.png为灯光模式。</li><li id="ee7e" class="oa ob it lx b ly oj mb ok li ol lm om lq on mn of og oh oi bi translated"><code class="fe nw nx ny nz b">&lt;filename&gt;~dark@&lt;scale&gt;.&lt;image format&gt;</code> <strong class="lx iu"> <br/> </strong>如ElegantAPI~dark@2x.png为黑暗模式。</li></ol><p id="e59a" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">在文章中，虽然你不需要写刻度或者黑色的文字，你可以简单地写<code class="fe nw nx ny nz b">![Alt text](&lt;File Name&gt;.&lt;File Format&gt;)</code></p><p id="bacd" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如<code class="fe nw nx ny nz b">![ElegantAPI](ElegantAPI.png)</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/a4c2444849a4b036a4425a7c4a0a9665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_dIYmdtHZ-D2UfetgrtDPw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><h2 id="43d6" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">添加附加文章</h2><p id="5357" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">你可以在主页面之外添加多个文章页面，就像我在<a class="ae ky" href="https://github.com/DominatorVbN/ElegantAPI" rel="noopener ugc nofollow" target="_blank"> ElegantAPI </a>中添加的一样。要添加文章页面，可以去<strong class="lx iu">选择文件&gt;新建&gt;文件</strong>打开文件模板选择器，勾选<strong class="lx iu">文章文件</strong>。请记住在创建文件时选择您的文档目录，以便在文档目录下创建文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/7db9f75abd49ba06f92c4317e4483bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mib1iwCrfTPvuJl1rut4eg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="021b" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">你想怎么命名都行，你可以在你的文章主页面引用这个文档，写<strong class="lx iu"> &lt; doc: Docname &gt; </strong>。</p><p id="bcd4" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/a140df1a72c76cba1839170272c92e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eyv2lcI5mxuVAzA_jdBFSg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="16d6" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">它基本上是一个markdown文件，所以你可以像在其他平台上一样写文章。</p><h2 id="cf37" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">扩展ˌ扩张</h2><p id="8cfd" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">您可以使用扩展文件进一步将更多信息添加到文档中。这是一种非常好的方法，可以提取出您希望在文档中提供的额外信息，但又不希望它扰乱您的实际代码文件。</p><p id="e1eb" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">在下面的示例中，您有一些代码的文档注释，您可以看到这些注释将占用大量空间，这可能会导致文件变得很大，难以阅读。</p><pre class="kj kk kl km gt oq nz or os aw ot bi"><span id="7a39" class="kz la it nz b gy ou ov l ow ox">/// The protocol used to define the specifications necessary for a   generating an URLRequest<br/>///<br/>///  This protocol is intented to be implemented by an enum whoose cases represent each endpoint of the api calls you want to make, and provide the requirement according to each case.<br/>///    ```swift<br/>///    enum MyAPI {<br/>///       case getProfile(profileId: Int)<br/>///       case updateProfile(profileId: Int, profile: Profile)<br/>///       case getAbout<br/>///    }<br/>///    ...<br/>///    ```</span><span id="3552" class="kz la it nz b gy oy ov l ow ox"><strong class="nz iu">public</strong> <strong class="nz iu">protocol</strong> API { ... }</span></pre><p id="99ec" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">为了避免这种情况，您可以通过选择您的文档目录并转到<strong class="lx iu">文件&gt;新文件&gt;扩展文件</strong>来创建一个扩展文件。你想叫它什么都可以。我建议用这个扩展链接到的Swift文件来命名它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/d429f3d6309fcba97e54888f150801c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4KaYyvSYHHfPfYqHqfUHTg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="5309" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">您需要通过将文件添加到markdown标题中的路径来链接扩展名，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/7239cb53f54c721223b592214d1c2e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PlIzjQNSCvBa2J4Pg8XBNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="af4d" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">使用扩展，您可以随心所欲地编写代码，而不会弄乱您的代码库，并且在构建时，DocC会将这个扩展与您的符号注释合并。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/2817e0b9c8575c656199ececdca9265a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WiRjjmSLhK6hqiQD5nMqAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><h1 id="8d98" class="nh la it bd lb ni nj nk le nl nm nn lh jz no ka ll kc np kd lp kf nq kg lt nr bi translated">互动教程</h1><p id="5dcb" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">你也可以创建类似<a class="ae ky" href="https://developer.apple.com/tutorials/SwiftUI" rel="noopener ugc nofollow" target="_blank"> SwiftUI教程</a>的教程。是的，太神奇了！</p><p id="fda1" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">如果你想了解更多关于如何创建一个教程的信息，请观看苹果公司的这个精彩视频。</p><div class="mv mw gp gr mx my"><a href="https://developer.apple.com/videos/play/wwdc2021/10235" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd iu gy z fp nd fr fs ne fu fw is bi translated">使用DocC-wwdc 21-Videos-Apple Developer创建交互式教程</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">了解如何使用DocC从头开始创作沉浸式教程。我们将演示如何将…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">developer.apple.com</p></div></div><div class="pc l"><div class="pd l pe pf pg pc ph ks my"/></div></div></a></div><p id="20d7" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">这就是本文的全部内容。在下一篇文章中，我们将学习如何在web上托管DocC文档。<strong class="lx iu"/>我还将向您展示如何将此文档导出为文档存档并与其他人共享。</p><p id="7308" class="pw-post-body-paragraph lv lw it lx b ly mo ju ma mb mp jx md li mq mf mg lm mr mi mj lq ms ml mm mn im bi translated">感谢你阅读这篇文章，祝你学习愉快！</p></div></div>    
</body>
</html>