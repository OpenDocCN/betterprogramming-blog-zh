<html>
<head>
<title>The State of Web3 in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Web3在Unity中的状态</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/state-of-web3-in-unity-28475f89ffea?source=collection_archive---------19-----------------------#2022-09-12">https://betterprogramming.pub/state-of-web3-in-unity-28475f89ffea?source=collection_archive---------19-----------------------#2022-09-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b23d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让我们深入web3 SDKs的当前状态，并了解我们如何在Unity中提供最好的区块链功能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c6f919066069708590604524670d0217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TJoZnj2Uk-W0rr-rUgcuhw.jpeg"/></div></div></figure><p id="8ffe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据2022年的NewzooTrend报告，49%与去中心化应用程序交互的独特钱包已在区块链游戏中使用。该报告还指出，音乐和娱乐领域的大品牌对元宇宙的项目越来越感兴趣。</p><p id="aa71" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我的愿景是，沿着Web3游戏和元宇宙的道路前进的唯一方式是继续增强用户体验，使其清晰、直观、符合逻辑，是的，你是对的——娱乐性！让我们深入了解这条道路上的当前事态，并找出我们如何能够将Web3技术引入并为最受欢迎的游戏引擎之一——Unity提供最佳的区块链功能。</p><p id="9d49" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我的这篇文章适用于EVM兼容的区块链，因为我们知道它在引擎盖下的工作方式，不是吗？:)在这里，我主要关注Unity库和特性；但是，有些信息也可能适用于其他发动机。此外，我们都喜欢开源，所以我只写了我可以测试的开源库。</p><h1 id="8bb4" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">结构</h1><p id="dcb7" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">首先，让我们先来看看如何在不同的平台上连接到区块链。我想强调一下，我通常用钱包来存放私人钥匙。当然，您可以使用不同的方法，但是在这种情况下，您需要自担风险。此外，我要说的是，我从最简单的解决方案开始，并继续增加复杂性，以除了武士之路之外不能被称为其他解决方案的解决方案结束。</p><h1 id="b511" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">网</h1><p id="39c3" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">网络平台与区块链合作的历史最长。最先进的Web3库是为Web创建的。一切从<a class="ae mk" href="https://github.com/ChainSafe/web3.js" rel="noopener ugc nofollow" target="_blank"> web3.js </a>开始，接着是<a class="ae mk" href="https://github.com/ethers-io/ethers.js" rel="noopener ugc nofollow" target="_blank"> ether.js </a>，然后是<a class="ae mk" href="https://framework.embarklabs.io/" rel="noopener ugc nofollow" target="_blank"> Embark </a>。网络提供了大量不同的钱包，从浏览器插件(Metamask，比特币基地)到dApps (MyEtherWallet)，再到服务(Torus)。</p><h2 id="5798" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated"><strong class="ak"> <em class="mx"> Ankr Gaming SDK </em> </strong></h2><p id="8963" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">除了部署智能合约之外，Ankr Gaming SDK提供了与区块链交互的所有基本功能。它支持从C#代码中调用web3.js方法，这将SDK扩展到web3世界中最著名的库的功能。同时，它支持所有注入钱包，如Metamask，比特币基地等。，以及环面。Ankr Gaming SDK是作为通用SDK的一部分实现的，不需要任何特定的集成先决条件。值得一提的是，Ankr也为虚幻引擎提供了相同功能的SDK。</p><p id="11a9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SDK:<a class="ae mk" href="https://github.com/Ankr-network/game-unity-sdk" rel="noopener ugc nofollow" target="_blank">https://github.com/Ankr-network/game-unity-sdk<br/></a>举例:<a class="ae mk" href="https://github.com/Ankr-network/game-unity-demo" rel="noopener ugc nofollow" target="_blank">https://github.com/Ankr-network/game-unity-demo</a>T5】文档:<a class="ae mk" href="https://www.ankr.com/docs/game/ankr-game/" rel="noopener ugc nofollow" target="_blank">https://www.ankr.com/docs/game/ankr-game/</a></p><h2 id="aabd" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated"><strong class="ak"> <em class="mx">道德游戏套装</em> </strong></h2><p id="6a81" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Moralis是一项服务，允许管理以太坊和索拉纳区块链上的Web3应用程序，使用各种钱包，并与Firebase或PlayFab等其他服务连接。你唯一需要注意的是，他们有一个非常特殊的高级API，你最好研究一下它的兼容性。</p><p id="a161" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SDK:<a class="ae mk" href="https://github.com/MoralisWeb3/unity-web3-game-kit" rel="noopener ugc nofollow" target="_blank">https://github.com/MoralisWeb3/unity-web3-game-kit</a><br/>举例:<a class="ae mk" href="https://github.com/MoralisWeb3/web3-unity-sdk-examples" rel="noopener ugc nofollow" target="_blank">https://github.com/MoralisWeb3/web3-unity-sdk-examples</a><br/>文档:<a class="ae mk" href="https://docs.moralis.io/reference/evm-api-overview" rel="noopener ugc nofollow" target="_blank">https://docs.moralis.io/reference/evm-api-overview</a></p><h2 id="c140" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated"><strong class="ak"> <em class="mx">自定义方式</em> </strong></h2><p id="87b1" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">如果您有非常具体的用例、良好的JavaScript体验，并且不想使用第三方解决方案，您可以使用WebGL平台开发自己的集成。正如你可能已经知道的，Unity提供了一种从C#脚本直接调用JavaScript代码<a class="ae mk" href="https://docs.unity3d.com/Manual/webgl-interactingwithbrowserscripting.html" rel="noopener ugc nofollow" target="_blank">的极好方法。还有，可以使用我之前提到的JS库:</a><a class="ae mk" href="https://github.com/ChainSafe/web3.js" rel="noopener ugc nofollow" target="_blank"> web3.js </a>、<a class="ae mk" href="https://github.com/ethers-io/ethers.js" rel="noopener ugc nofollow" target="_blank"> ether.js </a>、<a class="ae mk" href="https://framework.embarklabs.io/" rel="noopener ugc nofollow" target="_blank"> Embark </a>等。</p><p id="970a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要开始项目开发，您可以使用meta mask——最流行的钱包，里面有相当好的文档。但是为了扩展支持的钱包，我推荐使用像<a class="ae mk" href="https://github.com/WalletConnect/web3modal" rel="noopener ugc nofollow" target="_blank">web 3 mode</a>这样的库。</p><h1 id="057d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">安卓/ iOS</h1><p id="bd90" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">没有必要区分Android和iOS平台，因为它们使用单一的方法来连接区块链— <a class="ae mk" href="https://walletconnect.com/" rel="noopener ugc nofollow" target="_blank"> WalletConnect </a>。</p><p id="fb50" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">WalletConnect是一个非常简单的协议，它使用移动钱包用用户的私钥签署交易。当然，您可以将它存储在您的应用程序中，但是这将意味着许多安全问题都落在您的肩上。</p><p id="5dca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">WalletConnect由3个参与者组成:您的应用程序、桥服务器和移动钱包。我认为唯一需要解释的参与者是桥接服务器。它是一个注册应用程序和钱包的专用服务器，就像一个钱包-应用程序互联的代理一样工作。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4d6855cf63deb43e8c4ae2d36988c901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*juzR24CVGWogkLsCOFpl4A.jpeg"/></div></div></figure><p id="6d6c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们深入了解协议工作的五个步骤:</p><ol class=""><li id="8abc" class="my mz iq kt b ku kv kx ky la na le nb li nc lm nd ne nf ng bi translated">您的应用程序与移动钱包共享桥服务器的会话ID和地址(使用深度链接或QR码)。</li><li id="e5a0" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated">然后，您的应用程序和移动钱包在桥服务器上以相同的会话ID注册。</li><li id="c3f9" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated">您的应用程序准备一个事务，并将其发送到桥服务器。</li><li id="842d" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated">桥服务器将此交易转移到您的移动钱包。</li><li id="82a5" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated">移动钱包执行交易。</li></ol><p id="474a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当然，这是一个过于简化的协议，但是对于本文的目的来说已经足够了。让我们来看看您可以用于当前平台的SDK。</p><h2 id="f68e" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated"><strong class="ak"> <em class="mx"> Ankr游戏SDK </em> </strong></h2><p id="f470" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我之前提到过，它是一个通用的SDK。网络平台也是如此——它提供了与区块链互联的所有重要功能。它基于WalletConnect和Nethereum库，并提供了一个取自web3.js最佳实践的方便的API。</p><p id="bbf3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SDK被实现为拥有一个处理契约事件的内部系统，这使您能够通过灵活的查询来请求和订阅事件。此外，SDK支持所有与WalletConnect协议(元掩码、信任等)兼容的钱包。).最重要的是——开发是由Ankr进行的，Ankr确保定期更新，为Web3新来者提供体面的示例、最佳实践和文章。</p><p id="ca65" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SDK:<a class="ae mk" href="https://github.com/Ankr-network/game-unity-sdk" rel="noopener ugc nofollow" target="_blank">https://github.com/Ankr-network/game-unity-sdk<br/></a>举例:<a class="ae mk" href="https://github.com/Ankr-network/game-unity-demo" rel="noopener ugc nofollow" target="_blank">https://github.com/Ankr-network/game-unity-demo</a><br/>文档:<a class="ae mk" href="https://www.ankr.com/docs/game/ankr-game/" rel="noopener ugc nofollow" target="_blank">https://www.ankr.com/docs/game/ankr-game/</a></p><h2 id="4f01" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated"><strong class="ak"> <em class="mx">道德游戏套装</em> </strong></h2><p id="bcaa" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">这和我在网络平台部分提到的游戏套件是一样的。它具有相同的功能，并与WalletConnect和Nethereum库集成。这意味着您拥有开箱即用的所有Nethereum功能，并支持所有与WalletConnect协议(元掩码、信任等)兼容的钱包。).</p><p id="9098" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SDK:<a class="ae mk" href="https://github.com/MoralisWeb3/unity-web3-game-kit" rel="noopener ugc nofollow" target="_blank">https://github.com/MoralisWeb3/unity-web3-game-kit</a><br/>举例:<a class="ae mk" href="https://github.com/MoralisWeb3/web3-unity-sdk-examples" rel="noopener ugc nofollow" target="_blank">https://github.com/MoralisWeb3/web3-unity-sdk-examples</a>T5】文档:<a class="ae mk" href="https://docs.moralis.io/reference/evm-api-overview" rel="noopener ugc nofollow" target="_blank">https://docs.moralis.io/reference/evm-api-overview</a></p><h2 id="1f01" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated"><strong class="ak"> <em class="mx"> Web3Auth SDK </em> </strong></h2><p id="717f" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Web3Auth是一个平台，其使命是利用Web2互联网的便利来扩展Web3。他们通过社交登录提供商(谷歌、脸书等)提供登录功能。)，允许在钱包内购买加密货币。但是根据经验，在Web3中，更多的便利总是意味着更少的安全。对于这个套件来说是绝对正确的。登录后，它会向您返回登录用户的私钥。这意味着现在你负责存储和保护用户钱包的主要秘密。我甚至没有谈论通过网络发送私钥，这是一种容易受到中间人和其他攻击的操作。但是如果你的目标是用户体验而不是安全，你可以使用这个解决方案。此外，您可以与Nethereum集成，并在您的项目中获得该库的所有优势——它允许您使用私钥来设置Web3提供者。</p><p id="86ab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SDK:<a class="ae mk" href="https://github.com/Web3Auth/web3auth-unity-sdk" rel="noopener ugc nofollow" target="_blank">https://github.com/Web3Auth/web3auth-unity-sdk</a><br/>文档:<a class="ae mk" href="https://web3auth.io/docs/index.html" rel="noopener ugc nofollow" target="_blank">https://web3auth.io/docs/index.html</a></p><h2 id="42a0" class="ml lo iq bd lp mm mn dn lt mo mp dp lx la mq mr lz le ms mt mb li mu mv md mw bi translated"><strong class="ak"> <em class="mx">自定义方式</em> </strong></h2><p id="1261" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">如果你打算为Android或iOS平台创建自己的解决方案，你有几条路可以走:</p><ul class=""><li id="d8be" class="my mz iq kt b ku kv kx ky la na le nb li nc lm nm ne nf ng bi translated">使用第三方钱包签署交易。在这种情况下，WalletConnect协议将帮助您。</li><li id="079d" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nm ne nf ng bi translated">请用户与您共享私钥。在这种情况下，只有高水平的密码学和安全专家才能帮助你。</li></ul><p id="46a6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们把WalletConnect协议作为最常见的方式。您必须将几个库导入到您的项目中，例如<a class="ae mk" href="https://github.com/WalletConnect/WalletConnectSharp" rel="noopener ugc nofollow" target="_blank"> WalletConnect。核心</a>，<a class="ae mk" href="https://github.com/WalletConnect/WalletConnectUnity" rel="noopener ugc nofollow" target="_blank"> WalletConnect。团结</a>，和<a class="ae mk" href="https://github.com/Nethereum/Nethereum" rel="noopener ugc nofollow" target="_blank">幽冥</a>。然后你会有一个迷人的追求，去解决依赖关系并找到合适的库版本。我建议您从Ankr Gaming SDK或Moralis game kit中获取它们，因为这些库已经设置了互操作性。除此之外，您还需要部署一个桥服务器来连接钱包。</p><h1 id="71e4" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">单独的</h1><p id="d3f4" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">事实上，我不会将独立平台划分为不同的类别，因为它们与钱包的连接方式与Android和iOS相同。在独立平台上使用WalletConnect的一个特别之处是使用二维码而不是深层链接来连接钱包。老实说，我还没有针对所有独立平台测试过上一个类别中的库，但是Ankr SDK实现为支持所有这些，Web3Auth SDK承诺在Windows上工作。据我所知，在独立平台上使用尼瑟姆没有问题，这就是为什么Moralis也可以使用，尽管我不是百分之百确定。上一节中关于定制开发的建议也适用于独立平台。</p><h1 id="303e" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">结论</h1><p id="837a" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我想说的是，GameFi的工具目前还处于早期开发阶段。市场上没有无可争议的领导者，开发自己的SDK不会被认为是疯狂的行为，就像它肯定会被认为是更成熟的开发部分一样。但这是区块链行业本身的现状，每天都会带来新的解决方案和工具。达到高度成熟需要一段时间。</p><p id="37c8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当然，这并不是Unity的Web3解决方案的完整列表，但我试图找到与Web3和Unity相关的最有趣的项目，并按照成熟度对其进行分类。如果你知道其他值得关注的项目，或者想表达自己的观点，那就在评论里见面吧。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="5936" class="ml lo iq no b gy ns nt l nu nv"><strong class="no ir">Authors</strong></span><span id="8fe8" class="ml lo iq no b gy nw nt l nu nv"><a class="ae mk" href="https://www.linkedin.com/in/sidorovk/" rel="noopener ugc nofollow" target="_blank">Kirill Sidorov</a> (material selection, experiments with SDKs, technical writing)</span><span id="00c2" class="ml lo iq no b gy nw nt l nu nv"><a class="ae mk" href="https://www.linkedin.com/in/gene-danilov/" rel="noopener ugc nofollow" target="_blank">Evgeni Danilov</a> (editing, breathed life in text)</span></pre></div></div>    
</body>
</html>