<html>
<head>
<title>Build a Python GUI App in Apple M1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在苹果M1建立一个Python GUI应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-python-gui-app-in-apple-m1-e16098112e61?source=collection_archive---------1-----------------------#2021-12-18">https://betterprogramming.pub/build-a-python-gui-app-in-apple-m1-e16098112e61?source=collection_archive---------1-----------------------#2021-12-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="52e4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用最新的PyQT6或PySide6在苹果硅片上构建跨平台桌面应用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ada3de0e79a5e44e42f460e334e8ad7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BpCC2bgCkjt2Dki6eKlBjw.png"/></div></div></figure><p id="24d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在我心爱的M1 Macbook Air上使用Python。在想，能不能用Python在小功率机里面搭建一个GUI桌面应用？经过一些错误和尝试，我找到了一条出路，它也将为你工作。</p><h1 id="4d67" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">安装Python</h1><p id="b25d" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">确保您的M1机器上安装了运行Python 3.9的M1本地版本。如果还没有，运行这个命令行命令来准备好您的环境。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="f8c6" class="ms lr it mo b gy mt mu l mv mw">brew install python@3.9</span></pre><p id="0912" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">是的，只有<a class="ae mx" href="https://formulae.brew.sh/formula/python@3.9" rel="noopener ugc nofollow" target="_blank">一行</a>命令。</p><h1 id="a33a" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">PyQt6或PySide6</h1><p id="3121" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">PyQt6和py side 6 99.99%<a class="ae mx" href="https://www.pythonguis.com/faq/pyqt5-vs-pyside2/" rel="noopener ugc nofollow" target="_blank">相同</a>。PySide6的存在是因为授权。PyQt是在GPL或商业许可下使用的。这意味着你需要开源你的代码或者为你的应用程序购买一个商业许可，从用户那里收取费用。虽然PySide在LGPL许可证下可用，但无需为您的应用程序购买许可证。</p><p id="a262" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在下面的代码示例中，PyQt6和PySide6是可替换的。我将在所有示例代码中使用PySide6。</p><h1 id="74e3" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">安装PyQt6或PySide6</h1><p id="ac12" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">从6.2版本开始，<a class="ae mx" href="https://www.qt.io/blog/qt-on-apple-silicon" rel="noopener ugc nofollow" target="_blank"> PyQt全面支持苹果硅片</a>。只需运行这个命令来安装PyQt6。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="22b8" class="ms lr it mo b gy mt mu l mv mw">pip install PyQt6</span></pre><p id="0421" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">或者</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="e06e" class="ms lr it mo b gy mt mu l mv mw">pip install PySide6</span></pre><p id="ab70" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">完成了。有关PyQt6安装的更多信息，请查看此<a class="ae mx" href="https://pypi.org/project/PyQt6/" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><p id="7743" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">顺便说一下，如果您希望查看您正在使用的PySide的版本，请使用以下代码:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="4c7b" class="ms lr it mo b gy mt mu l mv mw">import PySide6.QtCore<br/># Prints PySide6 version<br/>print(PySide6.__version__)<br/># Prints the Qt version used to compile PySide6<br/>print(PySide6.QtCore.__version__)</span></pre><h1 id="a1ec" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">HelloWorld</h1><p id="04a8" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">创建一个新文件<code class="fe my mz na mo b">helloworld.py</code>并写下下面的Python代码。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="d316" class="ms lr it mo b gy mt mu l mv mw">from PySide6.QtWidgets import QApplication,QLabel<br/>app   = QApplication([])<br/>label = QLabel('hello world')<br/>label.show()<br/>app.exec()</span></pre><p id="75a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，在您的终端中用<code class="fe my mz na mo b">python helloworld.py</code>运行它。您将看到一个新的应用程序弹出，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/76bf66738f2986ca57d4a53136f62477.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*xCmchVPjpXf4XlcuuClM3A.png"/></div></figure><h1 id="2e36" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">窗口、布局和按钮</h1><p id="95b0" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">让我们在hello world桌面应用程序中再添加一些元素。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="e658" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的代码中，我添加了一个保存垂直布局对象的<code class="fe my mz na mo b"><strong class="kw iu">Window</strong></code>，布局对象保存所有像<code class="fe my mz na mo b"><strong class="kw iu">Label</strong></code>和<code class="fe my mz na mo b"><strong class="kw iu">Button</strong></code>这样的小部件元素。</p><p id="2709" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第一个按钮(btn1)被绑定到一个事件处理程序— <code class="fe my mz na mo b">on_btn1_clicked() </code>，因此每当单击该按钮时都会触发事件处理函数。</p><p id="d3b5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">运行它，你会看到。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/5980d7e1d44c5de82e6fabb3ac45c711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXiEKwlQJ1fMgJvlTfdhaw.png"/></div></div></figure><h1 id="0d38" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">编译PyQt应用程序</h1><p id="a943" class="pw-post-body-paragraph ku kv it kw b kx mi ju kz la mj jx lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">要求您的应用程序用户在安装应用程序之前安装所有必备的软件包是不现实的。因此，您需要以可分发的形式编译和打包所有代码。人们通常称这个过程为<code class="fe my mz na mo b"><strong class="kw iu">Freeze</strong></code>。</p><p id="cefc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">编译PyQt应用程序有许多解决方案。我发现<code class="fe my mz na mo b"><a class="ae mx" href="https://cx-freeze.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">cx_Freeze</a></code>最适合苹果硅片。</p><p id="09ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">安装<code class="fe my mz na mo b">cx_Freeze</code>:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="551d" class="ms lr it mo b gy mt mu l mv mw">pip install --upgrade cx_Freeze</span></pre><p id="fc45" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要编译您的PyQt应用程序，在您的终端中运行:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="fb39" class="ms lr it mo b gy mt mu l mv mw">cxfreeze -c helloworld.py --target-dir dist</span></pre><p id="1a8e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，导航到dist文件夹，您可以启动您的应用程序</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="80ef" class="ms lr it mo b gy mt mu l mv mw">./helloworld</span></pre><p id="84f8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">完成了。</p><h1 id="b3a5" class="lq lr it bd ls lt lu lv lw lx ly lz ma jz mb ka mc kc md kd me kf mf kg mg mh bi translated">参考链接</h1><ol class=""><li id="1b88" class="nf ng it kw b kx mi la mj ld nh lh ni ll nj lp nk nl nm nn bi translated">苹果硅片上的Qt:<a class="ae mx" href="https://www.qt.io/blog/qt-on-apple-silicon" rel="noopener ugc nofollow" target="_blank">https://www.qt.io/blog/qt-on-apple-silicon</a></li><li id="7e35" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">PyQt5教程:<a class="ae mx" href="https://build-system.fman.io/pyqt5-tutorial" rel="noopener ugc nofollow" target="_blank">https://build-system.fman.io/pyqt5-tutorial</a></li><li id="8e99" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">pyqt 6 6 . 2 . 2:<a class="ae mx" href="https://pypi.org/project/PyQt6/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/PyQt6/</a></li><li id="85e7" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">CX _ Freeze:<a class="ae mx" href="https://cx-freeze.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">https://cx-freeze.readthedocs.io/en/latest/index.html</a></li><li id="ebea" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">pyqt 5 vs py side 2:<a class="ae mx" href="https://www.pythonguis.com/faq/pyqt5-vs-pyside2/" rel="noopener ugc nofollow" target="_blank">https://www.pythonguis.com/faq/pyqt5-vs-pyside2/</a></li><li id="5ef0" class="nf ng it kw b kx no la np ld nq lh nr ll ns lp nk nl nm nn bi translated">PySide6官方文件:<a class="ae mx" href="https://doc.qt.io/qtforpython-6/index.html#" rel="noopener ugc nofollow" target="_blank">https://doc.qt.io/qtforpython-6/index.html#</a></li></ol></div></div>    
</body>
</html>