<html>
<head>
<title>How to Setup CI/CD for Your Project Using Github Actions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Github操作为您的项目设置CI/CD</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-setup-ci-cd-for-your-project-using-github-actions-easily-d5a9c4968eec?source=collection_archive---------4-----------------------#2022-05-21">https://betterprogramming.pub/how-to-setup-ci-cd-for-your-project-using-github-actions-easily-d5a9c4968eec?source=collection_archive---------4-----------------------#2022-05-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a13c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">(容易)</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5b9d325c26eafb5698d9400b4106f6ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RmoUqiN5g0B4naOtueweoQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@mbenna?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">迈克·本纳</a>在<a class="ae kv" href="https://unsplash.com/s/photos/pipeline?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="0f3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将向您展示如何通过简单的步骤设置CI/CD部署管道。我将在AWS elastic beanstalk上部署我的春靴项目。我的应用程序没有使用任何Dockerization。</p><p id="6216" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先创建一个名为<code class="fe ls lt lu lv b">.github</code>的新目录。当您将代码推送到GitHub repo时，GitHub会自动检测这个目录中的所有<code class="fe ls lt lu lv b">.yml</code>文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/9ab2b45d4a556065d68f90757581f779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvfDmr_UkLCtF3Gloi5XYA.png"/></div></div></figure><p id="aab1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建一个新文件<code class="fe ls lt lu lv b">workflow-dev.yml</code></p><p id="420a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个文件中，我们将为CI/CD管道编写说明</p><h2 id="a7c9" class="lx ly iq bd lz ma mb dn mc md me dp mf lf mg mh mi lj mj mk ml ln mm mn mo mp bi translated">我们希望CI/CI渠道中包含什么？</h2><p id="c362" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated"><strong class="ky ir">任务1 </strong>:构建代码，这样我们就不会有任何编译错误</p><p id="d3bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">任务2 </strong>:生成您的代码的jar文件，该文件将被上传到您的elastic beanstalk实例</p><p id="059a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">任务三</strong>:下载jar并上传到elastic beanstalk</p><p id="68b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">任务4 :一旦jar部署完成，从GitHub存储中移除工件jar。</p><p id="fff6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将从下面的代码开始yml代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="489c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们给出了我们管道的名称。接下来，我们将定义工作流运行的条件。如果你看到我们在<code class="fe ls lt lu lv b">master</code>分支上使用<code class="fe ls lt lu lv b">push</code>和<code class="fe ls lt lu lv b">pull_request</code>条件。这意味着当有人将代码推送到主分支时，或者如果有人针对主分支创建拉请求，这个工作流将会运行。</p><p id="8f14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将定义构建代码的<code class="fe ls lt lu lv b">Task 1</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="0b4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您的代码正在使用任何私有库，而这些库需要您maven项目中的<code class="fe ls lt lu lv b">settings.xml</code>中的一些凭证。您可以在GitHub secret中为您的repo创建这些值，并在构建代码时访问这些值。</p><p id="ff27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来是生成工件jar</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="41fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只有当您将代码推送到<code class="fe ls lt lu lv b">master</code>时，上面的步骤才会运行，因为在创建<code class="fe ls lt lu lv b">pull_request</code>时，您不想生成jar。上面的代码还会将生成的工件上传到GitHub存储中。</p><p id="0be9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们想下载jar并将其部署到elastic beanstalk实例。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="3c14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你仔细观察，我们使用的是GitHub动作插件，名为<strong class="ky ir">einaregilsson/beanstalk-deploy @ v 13</strong>，它使用了一些我们定义的参数。在这里，我们需要设置一些关于我们的弹性beanstalk实例的信息，比如<code class="fe ls lt lu lv b">application name, env name, region, etc</code>，您可以将您的AWS访问和密钥添加到GitHub secret，并在您的管道中访问它。</p><p id="4386" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一步是在部署代码后删除工件</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="02d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以上将从GitHub存储中删除jar。</p><p id="7fcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">这是您的CI/CD管道的完整代码。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="696a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望这篇文章能帮助你快速建立你的CI/CD管道，这样你就可以专注于建设。</p><p id="7fd5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">干杯！！</p></div></div>    
</body>
</html>