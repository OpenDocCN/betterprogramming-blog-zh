<html>
<head>
<title>Getting an "Extra Argument in Call" SwiftUI Error? Here’s How to Resolve This Bug</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">得到一个“调用中的额外参数”SwiftUI错误？下面是解决这个错误的方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftui-common-bug-extra-argument-in-call-and-how-to-resolve-73a2d0ac3e97?source=collection_archive---------10-----------------------#2022-08-15">https://betterprogramming.pub/swiftui-common-bug-extra-argument-in-call-and-how-to-resolve-73a2d0ac3e97?source=collection_archive---------10-----------------------#2022-08-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cb00" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">看看我们都会遇到的bug。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a7f62b3480bd715d07e64bd48d6da5f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GSFvY4ZMaxoN1cHg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@nitin_mathew?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">尼廷·马修</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="1c6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这篇文章很短，但是恢复了开发人员在通过SwiftUI框架创建可重用视图时面临的一个非常常见的问题。我将解释为什么会发生这种情况，最好的解决方案，以及为什么苹果公司推出了这一点。</p><p id="eb98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我将用一个<code class="fe ls lt lu lv b">VStack</code>创建一个新的SwiftUI <code class="fe ls lt lu lv b">View</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="db36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">到目前为止没有任何问题，但是让我们尝试在这个<code class="fe ls lt lu lv b">VStack</code>中添加新的视图:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="5fd0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您尝试这段代码，您肯定会面临以下编译错误:第11个<code class="fe ls lt lu lv b">Text</code>视图旁边的“调用中的额外参数”。您可能想知道这有什么问题，因为您只是将新组件放入容器中。问题是Swift不允许你在一个SwiftUI容器中放置十个以上的元素，可能是<code class="fe ls lt lu lv b">VStack</code>、<code class="fe ls lt lu lv b">HStack</code>、<code class="fe ls lt lu lv b">Group</code>、<code class="fe ls lt lu lv b">Button</code>或者其他什么。</p><p id="aafd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是为了提高代码的可重用性和可读性。如果在一个<code class="fe ls lt lu lv b">View</code>中有太多的元素，阅读和解决一些UI错误可能会变得困难。所以苹果公司强烈鼓励你把你内心的一些想法放进另一个容器，或者一个新的定制<code class="fe ls lt lu lv b">View</code>。</p><h1 id="9998" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">解决方案:组</h1><p id="994f" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">SwiftUI中的容器就像内容大小有限的盒子，但每个盒子都很神奇，可以算作一个单元，很酷，对吧？这意味着不管内部内容是什么，每个视图都可以放在另一个视图中，只算一个，所以每个<code class="fe ls lt lu lv b">View</code>可以容纳10个直接子视图，不管它们是什么。考虑到这一点，<code class="fe ls lt lu lv b">Group</code>是一个SwiftUI视图，用于在其中保存一些其他视图。这就像把书整理成书架一样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="2ab4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">Group</code>是一种将子视图组织到一些独立容器中的方法。你可能会发现我们在语义上将<code class="fe ls lt lu lv b">Text</code>喜欢的书按照它们的类别分组到一些盒子里。</p><p id="faf7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于组的另一个很酷的事情是，它们的内部元素是一个单独的<code class="fe ls lt lu lv b">View</code>，这意味着应用于它们的任何修改器都会影响所有的内部视图:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="6a6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这两个修改器(字体和背景)应用于所有内部文本视图，因为它们分别修改了每个视图。这就是分组的意义所在:将多个视图保持为一个视图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/c686782b868bba5c030ef69371b25b67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k7jeAyHmGk8BnxMupQBE1w.png"/></div></div></figure><p id="939e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是注意一个<code class="fe ls lt lu lv b">Group</code>也只能容纳十个视图，就像superview一样，最多只能容纳十个组。</p><h1 id="0884" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">解决方案2:新的子视图类型</h1><p id="51b4" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">在我个人看来，这种解决方案甚至比组更好，因为当你创建新的自定义视图时，你可以通过分而治之的方式对它们进行更多的控制，你甚至可以预览，以便在将容器附加到某个屏幕之前测试你的UI。调试也容易得多:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="14c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于每个容器，您可以创建一个单独的组件，以便预览和控制它。</p><h1 id="4880" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">超过十个元素的循环:允许吗？</h1><p id="6d7c" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">以下面的代码为例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="a071" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可能会想:“嘿，我在栈里面有超过10个文本视图，这怎么可能呢？”。是的，这是允许的，因为<code class="fe ls lt lu lv b">ForEach</code>语句在<code class="fe ls lt lu lv b">ComedyView</code>中被当作单个参数，并且这个视图在一个基础<code class="fe ls lt lu lv b">Text</code>视图中迭代了100次，所以一切都很好。</p><h1 id="a447" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">结论</h1><p id="b75b" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">在这篇文章中，我们澄清了一个非常常见的问题，即在使用单片方法开发SwiftUI场景时，Apple和Swift如何鼓励您将内容拆分到单独的盒子中，以简化调试和测试。当将内容分离成新的类型或者将所有内容保存在一个<code class="fe ls lt lu lv b">Group</code>盒子中时，所有内容都易于阅读。我希望你喜欢它；)</p></div></div>    
</body>
</html>