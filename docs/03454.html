<html>
<head>
<title>JavaScript Interviews: What’s the Difference Between a Variable That’s null, undefined, or undeclared?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript访谈:空的、未定义的或未声明的变量之间有什么区别？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/javascript-interviews-whats-the-difference-between-a-variable-that-s-null-undefined-or-cb1c8f41e6c3?source=collection_archive---------7-----------------------#2020-02-11">https://betterprogramming.pub/javascript-interviews-whats-the-difference-between-a-variable-that-s-null-undefined-or-cb1c8f41e6c3?source=collection_archive---------7-----------------------#2020-02-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c8f7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">您将如何着手检查这些状态呢？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0a2a565b4280a5f9d2925a966c118fde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X54ad3hTBdG2VZpSsel68Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@kellysikkema?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Kelly Sikkema </a>在<a class="ae ky" href="https://unsplash.com/s/photos/empty?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="7404" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">让我们从未申报的开始</h1><p id="0033" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">未声明不是JavaScript保留字。这意味着我们在编写代码时不使用或赋值<code class="fe mu mv mw mx b">undeclared</code>，相反，当我们试图使用一个未声明的变量时，我们会遇到产生的错误消息。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="1577" class="nc lh it mx b gy nd ne l nf ng">aVariable;<br/>console.log(aVariable) // ReferenceError: aVariable is not defined</span></pre><p id="d93a" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">当我们试图使用一个没有使用关键字<code class="fe mu mv mw mx b">let</code>或<code class="fe mu mv mw mx b">const</code>声明的变量时，这种用法将导致上面的错误消息。</p><p id="bffc" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">具有讽刺意味的是，这条错误消息揭示了我们今天看到的第一个有点令人困惑的场景:未声明变量的数据类型是<code class="fe mu mv mw mx b">undefined</code>。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="c679" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">这就给我们带来了未定义</h1><p id="1775" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated"><code class="fe mu mv mw mx b">undefined</code>是JavaScript中七种原始数据类型之一。</p><p id="dcbf" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">根据ECMAScript <a class="ae ky" href="https://www.ecma-international.org/ecma-262/7.0/#sec-undefined-value" rel="noopener ugc nofollow" target="_blank">文档</a>:</p><blockquote class="nm"><p id="d2d7" class="nn no it bd np nq nr ns nt nu nv mt dk translated">"任何没有赋值的变量都有未定义的值."</p></blockquote><p id="c337" class="pw-post-body-paragraph ly lz it ma b mb nw ju md me nx jx mg mh ny mj mk ml nz mn mo mp oa mr ms mt im bi translated">我们在使用一个声明了但没有定义的变量时会遇到这种情况。在这些情况下，JavaScript为我们赋值。该值为<code class="fe mu mv mw mx b">undefined</code>:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="0638" class="nc lh it mx b gy nd ne l nf ng">let x; // <em class="ob">here we are declaring x without defining it</em><br/>console.log(x) // undefined</span></pre><p id="d684" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">语句或方法中使用的未定义变量将返回<code class="fe mu mv mw mx b">undefined</code>:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="b75c" class="nc lh it mx b gy nd ne l nf ng">let x;<br/>addTwo = (x) =&gt; {2 + x} // undefined</span></pre><p id="6a2b" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">而一个不返回值的函数也会返回<code class="fe mu mv mw mx b">undefined</code>。</p><p id="c5a6" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">当试图访问一个不存在的数组元素和/或对象属性时，我们也会遇到<code class="fe mu mv mw mx b">undefined</code>:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="ab85" class="nc lh it mx b gy nd ne l nf ng">let arr = [1,2,3];<br/>console.log(arr[6]) <br/>// undefined</span><span id="eb0e" class="nc lh it mx b gy oc ne l nf ng">var database = {};<br/>console.log(database.names);<br/>// undefined</span></pre><p id="9f62" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">在这些变量场景中，<code class="fe mu mv mw mx b">undefined</code>是值<em class="ob">，而</em>是数据类型。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="4a2e" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">null呢？</h1><p id="1e9a" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">再次引用ECMAScript <a class="ae ky" href="https://www.ecma-international.org/ecma-262/7.0/#sec-undefined-value" rel="noopener ugc nofollow" target="_blank">文档</a>，<code class="fe mu mv mw mx b">null</code>是:</p><blockquote class="nm"><p id="ce4f" class="nn no it bd np nq nr ns nt nu nv mt dk translated">"一个原始值，它代表任何对象值的有意缺失."</p></blockquote><p id="55af" class="pw-post-body-paragraph ly lz it ma b mb nw ju md me nx jx mg mh ny mj mk ml nz mn mo mp oa mr ms mt im bi translated">这里的关键词是<em class="ob">有意</em>。如果我们忘记定义一个变量，那么<code class="fe mu mv mw mx b">undefined</code>可能会被无意中赋值，而JavaScript永远不会赋值<code class="fe mu mv mw mx b">null</code>。</p><p id="d1a3" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">与<code class="fe mu mv mw mx b">undefined</code>一样，<code class="fe mu mv mw mx b">null</code>也是原语，尽管如果您检查它的类型:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="bd1e" class="nc lh it mx b gy nd ne l nf ng">typeof(null) // "object"</span></pre><p id="2810" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">你得到<code class="fe mu mv mw mx b">“object”</code>。这是一个JavaScript遗留错误，与本文的讨论无关，但是请注意<code class="fe mu mv mw mx b">null</code>是一个基本类型，而不是一个对象。</p><p id="e304" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated"><code class="fe mu mv mw mx b">null</code>是一个值，开发者可以将它赋给变量，以区分故意为空的值和返回<code class="fe mu mv mw mx b">undefined</code>的错误。</p><p id="967f" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">为什么要用？MDN的一个例子:</p><blockquote class="nm"><p id="f79b" class="nn no it bd np nq nr ns nt nu nv mt dk translated">在API中，<code class="fe mu mv mw mx b">null</code>经常在一个可以预期有对象但没有相关对象的地方被检索</p></blockquote></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="8f86" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">测试空值和未定义值</h1><p id="8410" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated"><code class="fe mu mv mw mx b">null</code>和<code class="fe mu mv mw mx b">undefined</code>都是<code class="fe mu mv mw mx b">falsy</code>值。因此，一个简单的方法来建立一个可以捕捉任一值的检查，如下所示(通过<a class="ae ky" href="https://stackoverflow.com/questions/5515310/is-there-a-standard-function-to-check-for-null-undefined-or-blank-variables-in" rel="noopener ugc nofollow" target="_blank">堆栈溢出</a>):</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="4ffe" class="nc lh it mx b gy nd ne l nf ng">if( variable ) {<br/>// <em class="ob">do execute</em><br/>} else {<br/> <em class="ob">// don't execute</em><br/>}</span></pre><p id="ff2e" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">如果变量不是<code class="fe mu mv mw mx b">undefined</code>或<code class="fe mu mv mw mx b">null</code>，这将评估为<code class="fe mu mv mw mx b">true</code>。</p><p id="0f19" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">但是，要注意，<code class="fe mu mv mw mx b">null</code>和<code class="fe mu mv mw mx b">undefined</code>是松散相等的，但不是严格相等的。这是因为检查宽松等式会将两者都强制到<code class="fe mu mv mw mx b">falsy</code>。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="aaad" class="nc lh it mx b gy nd ne l nf ng">undefined == null // true</span><span id="696c" class="nc lh it mx b gy oc ne l nf ng">undefined === null // false</span><span id="30d0" class="nc lh it mx b gy oc ne l nf ng">null !== undefined // true</span></pre><p id="bb4a" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">要检查变量是否未定义，您可以执行以下操作:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="cf11" class="nc lh it mx b gy nd ne l nf ng">typeof variable !== 'undefined' ? <em class="ob">execute</em> : <em class="ob">don't execute</em></span></pre><p id="fd19" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated"><code class="fe mu mv mw mx b">undefined</code>是类型和价值的缺失，<code class="fe mu mv mw mx b">null</code>是价值的缺失。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="4d4d" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">总结</h1><h2 id="e90c" class="nc lh it bd li od oe dn lm of og dp lq mh oh oi ls ml oj ok lu mp ol om lw on bi translated">空</h2><ul class=""><li id="c503" class="oo op it ma b mb mc me mf mh oq ml or mp os mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">null</code>被分配。</li><li id="69f5" class="oo op it ma b mb ox me oy mh oz ml pa mp pb mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">null</code>永远是故意的。</li><li id="e126" class="oo op it ma b mb ox me oy mh oz ml pa mp pb mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">null</code>表示缺乏价值。</li></ul><h2 id="8246" class="nc lh it bd li od oe dn lm of og dp lq mh oh oi ls ml oj ok lu mp ol om lw on bi translated">不明确的</h2><ul class=""><li id="0641" class="oo op it ma b mb mc me mf mh oq ml or mp os mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">undefined</code>可以分配。</li><li id="eda2" class="oo op it ma b mb ox me oy mh oz ml pa mp pb mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">undefined</code>往往是无意的。</li><li id="09a9" class="oo op it ma b mb ox me oy mh oz ml pa mp pb mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">undefined</code>表示变量已声明但未定义。</li></ul><h2 id="8896" class="nc lh it bd li od oe dn lm of og dp lq mh oh oi ls ml oj ok lu mp ol om lw on bi translated">两者</h2><ul class=""><li id="eea5" class="oo op it ma b mb mc me mf mh oq ml or mp os mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">null</code>和<code class="fe mu mv mw mx b">undefined</code>都是原语。</li><li id="3809" class="oo op it ma b mb ox me oy mh oz ml pa mp pb mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">null</code>和<code class="fe mu mv mw mx b">undefined</code>都是<code class="fe mu mv mw mx b">falsy</code>值。</li><li id="01a7" class="oo op it ma b mb ox me oy mh oz ml pa mp pb mt ot ou ov ow bi translated"><code class="fe mu mv mw mx b">null</code>和<code class="fe mu mv mw mx b">undefined</code>大致相等。</li></ul><p id="b582" class="pw-post-body-paragraph ly lz it ma b mb nh ju md me ni jx mg mh nj mj mk ml nk mn mo mp nl mr ms mt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>