<html>
<head>
<title>Astro and the Island Architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">阿童木和岛屿建筑</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/astro-and-the-island-architecture-db3615d0d1ec?source=collection_archive---------3-----------------------#2022-09-04">https://betterprogramming.pub/astro-and-the-island-architecture-db3615d0d1ec?source=collection_archive---------3-----------------------#2022-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0950" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Astro用你选择的前端框架创建了一个快速的交互式网站。如何实现这一点？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7d0583a5dba3bc3ad6d1f554382a3ebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VA-g3aHMKOG7cLq_"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">卢卡斯·戴维斯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="92a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">又到了引入新的JavaScript框架的时候了。今天，新的框架<a class="ae kv" href="https://astro.build/" rel="noopener ugc nofollow" target="_blank"> Astro </a>在几周前发布了第一个完整的1.0版本。但是，是什么让Astro和它的“孤岛架构”在JavaScript框架的无尽世界中与它的竞争对手如此不同呢？让我们来看看。</p><p id="783a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我认为Astro的核心是一个静态站点生成器。您可以选择使用模板来编写代码，然后这些模板会被转换成真正优化的HTML页面。然而，这种描述对框架来说有点不公平，因为它可以做更多的事情。除了真正的静态页面HTML生成之外，Astro还可以呈现页面的交互部分。但是如何在静态文件中显示交互元素呢？这个问题困扰了网络社区很长一段时间。</p><h1 id="dacf" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">对互动性的追求</h1><p id="5cb1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">互联网初期，只有静态文件。您使用URL来访问特定的超文本<strong class="ky ir">文档</strong>。后来又引入了CSS和JavaScript。现在，您可以用CSS样式化文档，用JavaScript实时操作DOM。一个网站由多个页面组成:它是一个多页面应用程序。</p><p id="166d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">多页面应用程序是在网络上做事情的传统方式。在过去，由于缓慢而复杂的执行，您希望避免在客户机上运行代码。多页面应用程序通常与后端服务器捆绑在一起。当用户访问站点时，服务器生成包含最新内容的HTML页面。此外，您可以从数据库中提取各种数据，并在服务器上进行用户验证。</p><p id="db2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几年过去了，现在我们已经有了客户端框架，可以从一开始就进行<em class="mp">状态管理</em>和更多事情。开发者有能力用这些强大的工具开发类似app的网站。单页应用程序诞生了。它只包含一个HTML文件，使用JavaScript来呈现站点的其余部分。但是，您需要向浏览器客户端发送大量的JavaScript，以便能够以交互的方式呈现网页。大量使用JavaScript导致首页加载缓慢，并且没有很好的SEO选项。拥有许多文件的大型应用程序也非常复杂。</p><p id="d871" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，让我们退一步。我们可以将单页面应用程序的开发者体验与多页面应用程序的灵活性结合起来。我们可以发送更小的部分作为单独的站点，而不是发送一个巨大的JavaScript应用程序。这是许多服务器端渲染框架的工作方式。</p><h1 id="0c8d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">动态到静态</h1><p id="38a9" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">一种多页面应用程序的问题是前端与后端很少集成。有必要在后台运行服务器。但并不是每个网站都有大量变化的数据，动态生成才有意义。</p><p id="0405" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，这使得网站作为一个整体更复杂的处理和编程。那么，解决办法是什么呢？我们不会在每次用户请求时都呈现网站，而是提前呈现。</p><p id="99ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，只有静态文件存储在服务器上。这种方法更简单，也是JAM栈(JavaScript、API、标记)的基础。一些数据现在是预先呈现的静态部分，一些数据是通过API在客户端收集的。</p><p id="0b16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是这里我们仍然没有解决必须在客户端运行大量JavaScript的问题。如果我们没有交互和经常变化的内容，我们可以预渲染整个页面，就像Hugo这样的静态站点生成器已经做了一段时间。通常两者都有。这就是阿童木的用武之地。</p><h1 id="9a17" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">岛屿及其用途</h1><p id="bdf3" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">Astro提前渲染了网站的静态部分。JavaScript仍然用于网站的动态部分。它们或多或少作为网站的一个独立的自我整合的部分，创造了一个<strong class="ky ir">孤岛</strong>。同时，阿童木并不固执己见。Astro让你可以用自己选择的JavaScript框架来设计网站的动态部分。如果你想为你的网站使用<a class="ae kv" href="https://nikolas.blog/tag/svelte/" rel="noopener ugc nofollow" target="_blank">苗条</a>，没问题。但是你的网站的某些部分需要React及其庞大的图书馆生态系统吗？没问题！对这些部分使用React即可。</p><p id="820f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，这种方法解决了另一个大问题:JavaScript太慢了。乍一看，在客户端呈现网页听起来是个好主意。现在，您可以使用客户端设备的资源。但实际上，这些还是有限的。最终，显示一个HTML文件总是比呈现这样的文件要快。这就是为什么Astro在其核心相对较快。</p><p id="544f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，Astro为博客提供了一个非常有趣的功能:用Markdown创建页面。这允许您简单地为单个页面创建一个新的Markdown文件，然后在构建过程中将其转换为HTML。</p><h1 id="b4ad" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">摘要</h1><p id="caf1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">那么，什么是阿童木？我会把它目前的形式描述为一个静态的站点生成器，具有极好的交互性。Astro还可以做服务器端渲染等很多功能。但核心仍然是半动态网站。这就是阿童木可以大放异彩的地方。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="49d9" class="mv lt iq mr b gy mw mx l my mz">This article can also be found on my blog: <a class="ae kv" href="https://nikolas.blog/astro-and-the-island-architecture/" rel="noopener ugc nofollow" target="_blank">https://nikolas.blog/astro-and-the-island-architecture/</a></span></pre></div></div>    
</body>
</html>