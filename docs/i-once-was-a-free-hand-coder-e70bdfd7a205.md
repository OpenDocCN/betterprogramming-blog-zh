# 我曾经是一名徒手程序员

> 原文：<https://betterprogramming.pub/i-once-was-a-free-hand-coder-e70bdfd7a205>

## 以及为什么测试驱动的开发更好

![](img/0fed8e1d6096eafeee05b3ff1ce2d5d0.png)

亚历克斯·布纳季奇的照片

许多人通过编写可执行代码来学习如何创建软件。我们中的一些人在学校/大学里学会了这种技能，一些人通过参加短期课程/训练营学会了这种技能，一些人在孤独中学会了这种技能。

学习如何给计算机编程远非小事。可能需要几年的时间才能有人变得擅长。Robert Martin 曾经说过，他花了 20 年的时间每天练习，才达到了他认为能够写出高质量代码的阶段。

# 我的编码之旅

我第一次开始学习计算机编程是在大学的时候。挑战在于学会如何将一些类似英语的文本转换成机器(计算机)可以执行的二进制代码。我们从 FORTRAN 开始，必须学习如何让计算机根据我们试图正式表达的算法计算一些值。这个想法是教机器遵循一些必要的步骤。

一直以来，很明显，我们试图将代码处理成文本容易出错。一个天真的程序员会设想一些文本(类似于“如果这个值那么做，否则，做另一件事”)，然后希望转换成二进制代码的文本会使计算机完全按照预期的那样工作。但是，天真的程序员常常会惊讶地发现，当文本被转换成机器可读的代码并运行时，处理的结果与预期不同。

这是天真的程序员发现调试乐趣的时刻。

# 徒手编码导致徒手调试

让我首先解释一下我所说的徒手编码是什么意思。对我来说，写代码类似于剪一些素材。事实上，我们甚至有一句话叫“截码”。它的工作方式如下:一个将要做出改变的人(程序员)首先设想它。例如，程序员认为“现在我将剪切一些代码来检查订单总额的值，如果总额大于 500.00 美元，我将创建一个例程来对订单总额应用 10%的折扣”。

以上描述了即将剪代码的程序员的意图。在自由式编码风格中，剩下要做的就是卷起袖子开始剪代码。

有许多方法可以剥下众所周知的猫的皮，也有不止一种方法可以删除将按预期处理订单总数的代码。

经常发生的情况是，程序员剪下代码，然后编译 app，运行 app，用一些测试凭证登录，导航 app，然后手动键入一些测试数据，将测试数据发送给 app 进行处理。然后，当应用程序显示处理结果时，程序员检查结果是否符合预期。

结果不符合程序员的期望也不是不可能的。比如说。程序员输入了一些总额为 1，000.00 美元的订单，当程序员点击“立即支付”链接时，预期处理算法将对总额 1，000.00 美元应用 10%的折扣，并将待支付的总额调整为 900.00 美元。但出于某种原因，该应用程序仍然显示要支付 1000.00 美元。只是一个假设的例子。

现在程序员意识到有一个 bug。编程逻辑中的某些内容没有正确实现。在这种简单的情况下，程序员可能会打开源代码，一行一行地仔细阅读，并有希望捕捉到编程逻辑中的错误。

但是，正如经常发生的情况一样，在更复杂的情况下，仅仅阅读源代码可能无法揭示程序中的错误所在。当这种情况发生时，程序员必须求助于调试。

与上面描述的徒手编码风格相同，调试活动也是徒手的。程序员将通过在源代码中的方便行插入一个断点来中断处理。该中断将使程序员能够检查在代码执行期间产生的一些中间步骤和值。

# 为什么徒手编码不好？

如上所述，徒手编码涉及许多手工步骤。这些手动步骤不仅缓慢而乏味，而且容易出错。程序员在向应用程序中输入测试数据时，有很多机会引入错别字。而且每当出现错误时，程序员必须在修复错误后重复歌舞。

调试也是一个乏味的手工过程。任何时候发生错误，有必要调试应用程序，修复错误后，我们可能会遇到同样的错误再次出现。先前的调试会话必须手动重复，因为没有办法自动化它。

总的来说，徒手编码往往是一种极其浪费的、非生产性的活动。

# 有没有更好的办法？

是的有。创建软件的一个更好的方法是在软件创建过程中引入自动化。我们应该指示机器代表我们做同样的家务，而不是像普通人那样做所有事情(例如，手动)。

我们如何做到这一点？通过编写可执行的期望。

可执行预期(我们称之为“测试”)是尚未编写的代码的第一个消费者。在我们写任何代码之前，我们应该首先阐明我们的意图。我们已经在这样做了，甚至在徒手工作的时候(如上所述的一种简单的方法)。徒手编码和自动化指导下的编码之间的唯一区别是，通过自动化，我们通过写下它来表达我们的意图，而不是把它记在脑子里。

为什么那样更好？嗯，有几个原因更好。第一个原因是，仔细考虑我们的意图，并将其转化为可执行的形式，这给了我们机会去想象我们会如何使用我们的代码。因为代码还没有出来，所以我们没有任何限制去适应以前强化的设计。在我们的可执行测试中，我们可以自由地想象我们的代码被使用的任何方式。这种自由使我们能够提出友好、直观、易于使用的设计。

其次，我们从一个破碎的情况开始。为什么局面被打破了？因为我们的可执行期望(我们的测试)试图与系统进行交互，但是由于支持这种交互的代码还没有编写，所以尝试失败了。

为什么从一个破碎的局面开始是可取的？这样开始很好，因为我们知道:

*   是我们，而不是别人，打破了它
*   是我们，而不是其他人，修复了破损
*   我们添加每个新功能时，首先破坏它，然后再修复它

在这种安排下，任何时候我们有一个没有被破坏的系统，我们知道它确实是功能齐全的(也就是说，在一些阴暗的角落里没有隐藏的错误或缺陷)。

# 不做徒手编码最大的好处是什么？

尽管非常有必要交付一个充满信心的系统，并且知道它能按预期运行，但是实现这一点的方法不止一种。实现这一点的一个方法是总是首先制定一个可执行的期望，目睹期望失败，然后让它通过。

然而，这种方法的结构质量是有争议的。一些专家声称，专注于高质量的设计更有意义。很难反驳这种观点，所以我将把重点放在我认为可执行期望方法的更大优势上。比生产高质量的设计更大的优势。

虽然可执行的期望方法不能保证最优的设计，但是有一点它肯定能保证，比其他任何方法都好，那就是减少与构建系统的过程相关的时间浪费。正如上面已经描述的，当我讨论徒手编码的过程时，不遵循可执行期望规程(即，测试驱动开发——TDD)的团队倾向于浪费大量时间手工做每件事。TDD 确实有助于减少，并且经常几乎消除手工杂务。

也就是以我的经验来看，抛弃徒手编码的最大好处。当我开始这篇文章时，我承认我已经开始了我的自由程序员生涯，今天我绝不会同意回去。今天，我让机器来做繁重的工作，我让机器来编译、构建、配置、运行和练习我正在做的工作。当实践这种方法时，我节省了大量的时间，否则这些时间会浪费在手工搬运重物上。

现在我们有一个来自观众的问题:一旦我们放弃徒手编码，拥有大量空闲时间的优势是什么？

好问题:我的回答是，通过在进行 TDD 时回收大量空闲时间，我有更好的机会专注于磨练我的设计技能。

谢谢你，并请发送更多的问题给我。