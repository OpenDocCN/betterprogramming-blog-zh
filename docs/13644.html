<html>
<head>
<title>How To Enable Hot Reloading for .env Files in Next.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何为启用热重装？Next.js中的env文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-enable-hot-reloading-for-env-files-in-next-js-1e9ef3d1dc87?source=collection_archive---------14-----------------------#2022-09-13">https://betterprogramming.pub/how-to-enable-hot-reloading-for-env-files-in-next-js-1e9ef3d1dc87?source=collection_archive---------14-----------------------#2022-09-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6d19" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">无需手动重新加载页面即可立即看到更改</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a4faf740836b8dfca32aa4e186c22954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4uyUXaq0qYV5xB3-"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@demidearest?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Demi DeHerrera </a>拍摄</p></figure><p id="8979" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开发过程中最烦人的事情之一就是当你改变了代码中的一些东西，却没有在你的应用程序中得到即时的反馈。这也是为什么<a class="ae ky" href="https://nextjs.org/blog/next-9-4#fast-refresh" rel="noopener ugc nofollow" target="_blank"> Next.js 9.4引入了什么叫做快速刷新</a>的原因。</p><p id="e4ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">"<em class="lv">快速刷新是Next.js的一个特性，它为您提供对React组件所做编辑的即时反馈。在9.4或更高版本的所有Next.js应用程序中，默认情况下启用快速刷新。启用Next.js快速刷新后，大多数编辑应该在一秒钟内可见，而不会丢失组件状态。</em>——<a class="ae ky" href="https://nextjs.org/docs/basic-features/fast-refresh" rel="noopener ugc nofollow" target="_blank">基本特性:快速刷新</a></p><p id="7c6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，快速刷新功能可能不适用于所有文件。对于<code class="fe lw lx ly lz b">.env</code>文件来说尤其如此。详细地说，当您编辑<code class="fe lw lx ly lz b">.env</code>文件时，您通常必须重启开发服务器才能看到这些更改。</p><p id="2ade" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对Next.js的行为不熟悉，这会导致沮丧，降低你的工作效率。幸运的是，Next.js引入了一个解决方案。在您意识到需要重启开发服务器之前，不必再想为什么新的环境变量没有被Next.js应用程序加载。</p><p id="d7e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们进一步了解如何对<code class="fe lw lx ly lz b">.env</code>文件启用快速刷新功能。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="742b" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">在上启用Next.js快速刷新功能。环境文件</h1><p id="a727" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">要启用<code class="fe lw lx ly lz b">.env</code>文件的热重装，您只需将Next.js依赖项更新到12.3+版本。为此，请确保启动以下命令:</p><pre class="kj kk kl km gt ne lz nf ng aw nh bi"><span id="a9aa" class="ni mi it lz b gy nj nk l nl nm">npm install next@latest</span></pre><p id="1e5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将安装最新的Next.js版本。在撰写本文时，它是12.3.1版本。任何大于等于12.3的版本都可以。请记住，从一个版本的Next.js迁移到另一个版本可能需要额外的工作。阅读官方文档中的<a class="ae ky" href="https://nextjs.org/docs/upgrading" rel="noopener ugc nofollow" target="_blank">以了解更多信息。</a></p><p id="a0c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如这里<a class="ae ky" href="https://nextjs.org/blog/next-12-3#improved-fast-refresh" rel="noopener ugc nofollow" target="_blank">所述</a>，Next.js 12.3现在支持对配置文件进行修改时的热重装，包括:</p><ul class=""><li id="0bc9" class="nn no it lb b lc ld lf lg li np lm nq lq nr lu ns nt nu nv bi translated"><code class="fe lw lx ly lz b">.env</code>和<code class="fe lw lx ly lz b">env.*</code>文件</li><li id="ad0e" class="nn no it lb b lc nw lf nx li ny lm nz lq oa lu ns nt nu nv bi translated"><code class="fe lw lx ly lz b">jsconfig.json</code>或<code class="fe lw lx ly lz b">tsconfig.json</code>文件</li></ul><p id="a032" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Next.js 12.3中，当对这些配置文件进行更改时，您不再需要重新启动本地开发服务器。</p><p id="e612" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在下面的现场演示中体验这一新功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="84e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更改Next.js配置文件，点击save，您的更改将在浏览器中得到反映，而无需重新加载页面。</p><p id="2818" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊！您刚刚学习了如何在Next.js中为<code class="fe lw lx ly lz b">.env</code>文件启用热重装</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="8e3e" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">结论</h1><p id="0d80" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在本文中，您了解了如何在Next.js上启用<code class="fe lw lx ly lz b">.env</code>文件的热加载。最后，Next.js将快速刷新特性扩展到了配置文件。</p><p id="3c1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，通过采用高于或等于12.3的Next.js版本，当您更改配置文件时，您将能够在浏览器中获得即时反馈，而不必重启本地开发服务器或手动重新加载页面。</p><p id="7a2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！我希望这篇文章对你有所帮助。请随意留下任何问题、评论或建议。</p></div></div>    
</body>
</html>