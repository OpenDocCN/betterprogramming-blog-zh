# 为什么无可指责的事后分析在软件工程中如此重要

> 原文：<https://betterprogramming.pub/why-blameless-postmortems-matter-in-software-engineering-3dad7ebc0d>

## 不要怪我！

![](img/5416255957ad8e58ca632c04aa93ba12.png)

[absolute vision](https://unsplash.com/@freegraphictoday?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄的照片

# 出事了！

当工作中发生一些事情时，人们倾向于互相指责。你最不希望的就是被牵连到别人制造的问题中，这让你看起来很糟糕，或者在更糟糕的情况下，丢掉你的工作。

我从前任经理那里学到的一句格言是，“当事情开始变糟时，我知道你在努力工作。”你可能会认为我是个废物，我工作的时候，总会打碎东西。这句话背后的意思是，当人们忙着做 100 件事的时候，就有东西要坏了。这是人之常情。

今年尤其艰难。我的团队在大约三个月的时间里，从包括经理和我在内的六个人，变成了没有经理的两个人。我可以诚实地说，在最后一个人离开三个月后，我很幸运地遇到了我的第一个生产中断/修复问题。

当我第一次听到停电的消息时，我跳上了会议桥，想知道发生了什么事。显然，没有人能够登录到使用 ADFS 认证的应用程序。当我坐在电话旁时，画面开始变得更加清晰:后端数据库正在被我使用一个`select-insert` SQL 查询对一个包含超过 10 亿条记录的表所做的一个更改所压垮。`select`使用了一个`where`子句，该子句在向表中插入单个记录之前比较一个非索引字段。

我已经做了尽职调查，并运行了 SQL 管理员的查询，得到了他们的认可。问题是我问了当时唯一有空的人，他们是公司里的新面孔。我怀疑他们甚至不知道去哪里找，更不用说访问数据库了。

一旦我意识到是我制造了这个问题，我就大声说出来，把谈话引向解决问题的正确方向。这一天剩下的时间里，我们进行了紧急更改，并恢复了这些更改。

![](img/8a039da5eda4325a1f406dcb840ed573.png)

[廷杰伤害律师事务所](https://unsplash.com/@tingeyinjurylawfirm?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

# 我为什么要坦白？

我坦白是因为我的公司允许我坦然坦白。我工作时不会害怕因为一个无心的错误而丢掉工作。

我坦白了，因为这阻止了另一个小时的讨论，试图理解为什么在同一台服务器上使用不同数据库的 ADFS 会有问题。它强调了我们遗留架构中的一个问题，并为解决这个问题指明了方向。它还让我们从最终用户的叫喊和尖叫中更好地了解了 ADFS 服务对我们公司的重要性。

我最喜欢我们公司的一件事是我们进行尸检；大多数时候，他们更关心我们现在如何修复它，以及未来我们可以做些什么来防止它发生。而不是通常的“这是谁干的？”

“这是谁干的？”态度如此恶劣。如果你在找血，人们会躲起来。如果你问这样的问题“这是怎么发生的，我们能做些什么？”人们更有可能站出来。“谁”和“为什么”表示某人有错。“How”表示某个过程出错了。

"为什么将记录插入数据库的程序发生了变化？"，导致“为什么此数据库与关键的 ADFS 服务在同一台服务器上？”我会知道的第一个答案；第二个是一个建筑设计的决定，这个决定是在我来这个部门之前由比我挣得多的人做出的。

这可能会导致我们更多次地问“为什么”。如果问“这是怎么发生的”这个问题，答案将是直接了当的，我们将有一个立即解决问题的方法。

下一个合乎逻辑的问题是，我们能做些什么来防止这种情况以好奇的语气再次发生，并愿意接受他人的输入。一些可能的解决方案可能是在进行代码审查时有第二双眼睛，或者如果你不知道什么，就让别人来做。另一个解决方案可能是分离数据库或改进程序来执行批量 SQL 插入，以减少表扫描的次数。

![](img/64d73116ea93524c8a19a017aef7bb94.png)

普里西拉·杜·普里兹在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

# 促进积极的文化

促进良好的工作环境不一定要在管理层。我们都知道有一个清洁工，他通常对生活很开心，在短暂的聊天后，他会让你对自己的生活感觉更好。这是一种很好的文化，看门人正在向你推广。你所要做的就是享受这份快乐，并向前传递。

抱怨、责备和放弃帮助他人并不能解决我们每天都要解决的难题。好的文化确实如此，因为它消除了等式中的压力。你没有想出摆脱困境的好办法，而是更多地考虑手头的问题，不管它让你看起来如何。

如果你有积极的文化，当你描述你做错了什么时，别人不会认为这是你的错。相反，他们正忙于头脑风暴，寻找前进的最佳方式。

当我在一家文化氛围不好的公司担任系统管理员时，人们会打电话来说这样的话，“我的 Outlook 工作不正常；它没有显示我的所有文件夹。我会走到他们的办公桌前看一看。

如果没有什么异常，我会问:“你点击了什么吗？”“不…”，“好吧，你想要什么？”他们会描述一个 PST，一个邮件存档的脱机文件夹。啊哈！他们关闭了 PST 文件。这是一个简单的解决办法，它发生得如此频繁，以至于我开始期待它。后来，他们非常抱歉。在我的世界里，为这样的事情道歉就像是向护士道歉，因为你躺在医院的病床上需要喝水。

当然，我当时不知道我现在知道的，如果我问，“这是怎么发生的？”他们可能告诉我他们点击了文件夹，它就消失了。如果在选项突出显示之前，右键单击并拖动并释放“关闭”按钮，通常会发生这种情况。

提出正确的问题与关心他人一样，能有效促进积极的文化。当你有了无可指责的事后分析，你就有助于这种积极的改变，最终使你和你的公司更有成效。