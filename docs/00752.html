<html>
<head>
<title>How To Write Your First HTTP Request to NASA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何给NASA写第一个HTTP请求</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/writing-your-first-http-request-to-nasa-ffbefef2093b?source=collection_archive---------10-----------------------#2019-07-09">https://betterprogramming.pub/writing-your-first-http-request-to-nasa-ffbefef2093b?source=collection_archive---------10-----------------------#2019-07-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5ab67c2457e37791cd8d37d93155f799.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Cl9qkZGO8UG9qiv5-D17A.jpeg"/></div></div></figure><p id="df41" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我很高兴向您介绍HTTP请求，并为您提供启动和运行的工具和资源。</p><p id="d26d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">学习如何使用API是提升前端开发人员水平的好方法。这也是了解如何检索数据以及哪些数据可供您使用的一种有趣方式。</p><p id="8148" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你需要做的第一件事是通过填写这张<a class="ae kw" href="https://api.nasa.gov/index.html#apply-for-an-api-key" rel="noopener ugc nofollow" target="_blank">表格向NASA申请API密匙</a>。</p><p id="b9b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可以在<a class="ae kw" href="https://www.youtube.com/watch?v=1yFggyk--Zo" rel="noopener ugc nofollow" target="_blank">这段视频</a>中了解更多关于API key的信息。</p><p id="9737" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">API密匙会给你与NASA API通信的能力。注册后，您将立即被定向到一个带有新API密钥的页面。</p><p id="fac0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它应该是这样的:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kx"><img src="../Images/c1a91004d66607a90c6561d9f81f9206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sEfdZOiINwI4JY4musLx2A.png"/></div></div><p class="lc ld gj gh gi le lf bd b be z dk translated">敏感信息被模糊化以保护用户的身份和个人API密钥</p></figure><p id="8b9d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以使用新的NASA API密钥提出许多不同的请求。</p><p id="a9fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我个人最喜欢的包括:</p><ul class=""><li id="cbbb" class="lg lh iq ka b kb kc kf kg kj li kn lj kr lk kv ll lm ln lo bi translated"><a class="ae kw" href="https://api.nasa.gov/api.html#NeoWS" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">小行星——近地小行星</strong> </a>:根据它们最接近地球的日期识别小行星。</li><li id="4fe8" class="lg lh iq ka b kb lp kf lq kj lr kn ls kr lt kv ll lm ln lo bi translated"><a class="ae kw" href="https://api.nasa.gov/api.html#MarsPhotos" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">火星车照片</strong> </a>:传回美国宇航局的好奇号、机遇号和勇气号火星车收集的照片</li><li id="f8e3" class="lg lh iq ka b kb lp kf lq kj lr kn ls kr lt kv ll lm ln lo bi translated"><a class="ae kw" href="https://api.nasa.gov/api.html#EONET" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> EONET </strong> </a>:允许用户每天浏览整个地球，寻找正在发生的自然事件。风暴经常出现在热带地区，沙漠上的沙尘暴，夏天的森林火灾。</li></ul><p id="6c86" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请参见<a class="ae kw" href="https://api.nasa.gov/index.html" rel="noopener ugc nofollow" target="_blank"> NASA API文档</a>获取完整的功能列表。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="212a" class="mb mc iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">代码</h1><p id="e10b" class="pw-post-body-paragraph jy jz iq ka b kb mz kd ke kf na kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">我将使用JavaScript的<a class="ae kw" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" rel="noopener ugc nofollow" target="_blank">获取API </a>，并一步一步地向你展示如何让一切运行起来。</p><h2 id="b06e" class="ne mc iq bd md nf ng dn mh nh ni dp ml kj nj nk mp kn nl nm mt kr nn no mx np bi translated">第一步</h2><p id="8a2b" class="pw-post-body-paragraph jy jz iq ka b kb mz kd ke kf na kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">设置Fetch以使用您选择的NASA API发出请求。</p><p id="fa76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您将需要您试图从中请求数据的API的URL。我选择使用我的第一个例子——小行星新闻的URL:</p><p id="af71" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe nq nr ns nt b"><a class="ae kw" href="https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=DEMO_KEY" rel="noopener ugc nofollow" target="_blank">https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=DEMO_KEY</a></code></p><h2 id="4b28" class="ne mc iq bd md nf ng dn mh nh ni dp ml kj nj nk mp kn nl nm mt kr nn no mx np bi translated">第二步</h2><p id="0d9c" class="pw-post-body-paragraph jy jz iq ka b kb mz kd ke kf na kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">您会注意到URL末尾的<code class="fe nq nr ns nt b">DEMO_KEY</code>。这是您将使用自己的个人API密钥替换的内容。</p><p id="f4a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦添加了API密钥，URL看起来应该与此非常相似:</p><pre class="ky kz la lb gt nu nt nv nw aw nx bi"><span id="777d" class="ne mc iq nt b gy ny nz l oa ob">https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=<!-- -->34oLy4FhODjKGewo2VIy8dsfgSGq6Qb1TQEpAX5s</span></pre><p id="de3d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">唯一的区别是您的API密匙是唯一的，与上面的不同。</p><p id="8402" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Fetch方法将上面列出的URL作为字符串形式的强制参数，如下所示:</p><pre class="ky kz la lb gt nu nt nv nw aw nx bi"><span id="ab97" class="ne mc iq nt b gy ny nz l oa ob">fetch("https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=<!-- -->34oLy4FhODjKGewo2VIy8dsfgSGq6Qb1TQEpAX5s")</span></pre><h2 id="e738" class="ne mc iq bd md nf ng dn mh nh ni dp ml kj nj nk mp kn nl nm mt kr nn no mx np bi translated">第三步</h2><p id="40a8" class="pw-post-body-paragraph jy jz iq ka b kb mz kd ke kf na kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">现在我们需要使用<code class="fe nq nr ns nt b">then</code>向<code class="fe nq nr ns nt b">fetch</code>请求添加一个承诺，该请求将被返回并解析为该请求的响应。</p><p id="3e35" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你会注意到我们构建了两个案例，一个<code class="fe nq nr ns nt b">then</code>和一个<code class="fe nq nr ns nt b">catch</code>——分别代表成功和失败:</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="252a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里有一个使用<a class="ae kw" href="https://jsfiddle.net/" rel="noopener ugc nofollow" target="_blank"> JSFiddle </a>和<a class="ae kw" href="https://developers.google.com/web/tools/chrome-devtools/" rel="noopener ugc nofollow" target="_blank"> Chrome DevTools </a>执行代码的演示。</p><p id="cfcd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我运行代码时，来自API的响应将显示在开发控制台的network选项卡中:</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oe"><img src="../Images/27f387f71198d3e4e6e9d6f7a2941e0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*G2MB7DaMuPdeyqIKSVQ0pA.gif"/></div></div></figure><p id="be43" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您在控制台打开的情况下，在jsdild中使用您唯一的API键运行这段代码，您要么会看到响应对象，要么会看到一个警告框。</p><p id="2754" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">请注意，上述代码不会运行，因为API密钥无效。</strong></p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="63fe" class="mb mc iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">结论和资源</h1><p id="d428" class="pw-post-body-paragraph jy jz iq ka b kb mz kd ke kf na kh ki kj nb kl km kn nc kp kq kr nd kt ku kv ij bi translated">如果您对代码有任何疑问，请随时联系我。如果你把你遇到的问题发过来，对我们双方来说都是最容易的。</p><p id="668f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你对NASA不感兴趣，还有很多其他的API供你使用，使用相似的代码。</p><p id="8a60" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里有一个简短的列表供您查看:</p><p id="1cd8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://developer.twitter.com/en/docs/api-reference-index" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> Twitter </strong> </a>:为开发者提供了很多不同的机会，包括收集某些地区的热门词汇和话题的数据。</p><p id="88ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://apilist.fun/api/fec" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> FEC </strong> </a>:为开发者提供收集美国联邦选举竞选捐款信息的工具。</p><p id="4de8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢<a class="of og ep" href="https://medium.com/u/df76b57e5595?source=post_page-----ffbefef2093b--------------------------------" rel="noopener" target="_blank">凯瑟琳·霍奇</a>关于我上面提到的API密匙的视频。我还要感谢韦恩·范·德万特、克洛伊·鲍威尔、曼弗雷德·施泰尔和克里斯蒂安·霍华德的反馈和支持。</p></div></div>    
</body>
</html>