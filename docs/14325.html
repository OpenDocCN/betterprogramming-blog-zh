<html>
<head>
<title>Build a Simple Airport Control System With Rust</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Rust构建一个简单的机场控制系统</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-simple-airport-control-system-with-rust-3b8f27ffb94e?source=collection_archive---------6-----------------------#2022-11-29">https://betterprogramming.pub/build-a-simple-airport-control-system-with-rust-3b8f27ffb94e?source=collection_archive---------6-----------------------#2022-11-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1b10" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">周末建设和学习</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ef8b8526d5b5a7e57b460b1042117b63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HxebuKYPXka0KG7kjNaAKA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">机场信息板</p></figure><p id="43e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我已经有一段时间没有写一些周末建设和学习了。主要原因是我大部分时间都和来看我的父母在一起。我很开心，享受这些难忘的时刻。</p><p id="7a7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上周五，我带着我的父母和我的儿子们去机场，当我们在排队登机时，我最小的儿子指着信息板问我:“这个信息板怎么知道我们的祖父母会去哪个登机口？”。</p><p id="747f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个周末我们有我们的编码用例(简单的机场控制系统)。谢谢你，儿子。:)</p><h1 id="aadd" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">高级需求</h1><p id="22ec" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">在我们开始之前，我想说明一下，机场控制系统将比我们在这里建造的要复杂得多。对于演示属性，我们将只关注三个主要组件<code class="fe mr ms mt mu b">Airport</code>、<code class="fe mr ms mt mu b">Aircraft</code>和<code class="fe mr ms mt mu b">Control</code>协调器。</p><ol class=""><li id="7328" class="mv mw it la b lb lc le lf lh mx ll my lp mz lt na nb nc nd bi translated">我们将能够定义机场名称及其登机口容量。</li><li id="0b0e" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">我们应该能够定义飞机类型，并很容易扩展不同的飞机类型与机场的互动。</li><li id="3a85" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">机场应允许飞机降落并通过可用的登机口。</li><li id="ccb7" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">如果已经达到登机口容量，飞机可以排队等待下一个可用的登机口。</li><li id="9132" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">该机场可以起飞飞机。</li><li id="701d" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">我们可以检查哪架飞机在几号登机口。</li><li id="77fb" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">我们将能够检查等待队列中有哪些飞机。</li></ol><p id="f217" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些是我们将在这个编码周末存档的一些基本功能。</p><p id="bd6b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们看得更深一点，这非常适合中介模式，其中我们将有一个控制协调器来协调两个组件(<code class="fe mr ms mt mu b">Airport </code>和<code class="fe mr ms mt mu b">Aircraft</code>)之间的动作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/1af8a7fed9b485d0cd871d6ac2d672eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*0CsvcHhZ7L-8RLE8pNc-qg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">高级UML机场登机口管理—作者署名</p></figure><p id="0625" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们应该强调的是，中介模式已经在不同的用例中得到了广泛的应用，例如:</p><blockquote class="nk nl nm"><p id="b51f" class="ky kz nn la b lb lc ju ld le lf jx lg no li lj lk np lm ln lo nq lq lr ls lt im bi translated">运输控制系统、物流、供应链管理、库存管理、仓库管理、聊天室、酒店客房管理等。</p></blockquote><p id="dded" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这样做的主要好处是:</p><blockquote class="nr"><p id="c79a" class="ns nt it bd nu nv nw nx ny nz oa lt dk translated">对象之间的通信封装在一个中介对象中。对象之间不再直接通信，而是通过中介进行通信。这减少了通信对象之间的依赖性，从而减少了耦合。”— <a class="ae ob" href="https://en.wikipedia.org/wiki/Mediator_pattern" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></blockquote><h1 id="ad9e" class="lu lv it bd lw lx ly lz ma mb mc md me jz oc ka mg kc od kd mi kf oe kg mk ml bi translated">让我们编码</h1><p id="51c5" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">我们将从<code class="fe mr ms mt mu b">Airport</code>组件开始。正如UML所定义的，它负责作为主要的动作触发器，如下所示:</p><ol class=""><li id="e5ae" class="mv mw it la b lb lc le lf lh mx ll my lp mz lt na nb nc nd bi translated">创建一个具有港口能力的新机场。</li><li id="2a39" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">降落飞机。</li><li id="b1b9" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">离开飞机。</li><li id="31cf" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">访问哪个飞机停在哪个港口的API。</li><li id="1e47" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">访问飞机队列的API。</li></ol><p id="2442" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它还保存了<code class="fe mr ms mt mu b">Airport</code>中飞机的参考，如下所示:</p><ol class=""><li id="5eb6" class="mv mw it la b lb lc le lf lh mx ll my lp mz lt na nb nc nd bi translated"><code class="fe mr ms mt mu b">Aircraft</code>在大门口。</li><li id="4382" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">以及门的可用性。<code class="fe mr ms mt mu b">Aircraft</code>正在排队等候。</li></ol><p id="dc1e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了简单起见，我们使用<code class="fe mr ms mt mu b">HashMap</code>和<code class="fe mr ms mt mu b">VecDeque</code>在运行时内存中保存这些引用，如果需要，我们还可以将其扩展到数据库级的实现。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段—机场组件—作者署名</p></figure><h2 id="8e31" class="oh lv it bd lw oi oj dn ma ok ol dp me lh om on mg ll oo op mi lp oq or mk os bi translated">飞机部件</h2><p id="d1d1" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">在现实世界中，<code class="fe mr ms mt mu b">Airport</code>可以降落任何飞机，如客机、货机等。</p><p id="9d49" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这意味着飞机可以是不同类型的飞机。但是，永远是同样的行为；当他们到达和离开的时候，这个特性就在这里发生了。</p><p id="59fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每一次到达和离开都会触发与协调者的交互。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码片段-飞机特征-作者署名</p></figure><h2 id="1fc5" class="oh lv it bd lw oi oj dn ma ok ol dp me lh om on mg ll oo op mi lp oq or mk os bi translated">协调者</h2><p id="3a0a" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">最后，这将是中介模式中最关键的部分，它将在<code class="fe mr ms mt mu b">Airport</code>中实现。它是领先的业务逻辑中心，如下所示:</p><ol class=""><li id="14ab" class="mv mw it la b lb lc le lf lh mx ll my lp mz lt na nb nc nd bi translated">这架陆地飞机能停在登机口吗？换句话说，根据机场的能力，是否有可用的港口？</li><li id="02ee" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">飞机起飞时，队列中的下一个是什么，哪个登机口？</li><li id="d838" class="mv mw it la b lb ne le nf lh ng ll nh lp ni lt na nb nc nd bi translated">基于#1和#2，我们将更新airport属性的引用。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><h1 id="5c90" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">让我们对它进行单元测试</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">单元测试——作者的学分</p></figure><p id="ed0c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">运行测试，一切准备就绪。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/42eccfbfad6329be6bb9f56dc7e2f830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lLSEDNMUAEm68CsJu5ls7Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">单元测试结果——作者署名</p></figure><h1 id="9146" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">铆钉铆合</h1><p id="2bb3" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">如果您继续关注我的周末构建和学习系列，您会注意到我喜欢从背景环境、用例、需求和设计开始。编码部分通常出现在最后一部分。</p><blockquote class="nr"><p id="2918" class="ns nt it bd nu nv nw nx ny nz oa lt dk translated">软件开发产生了一门艺术，它结合了可维护性、可伸缩性、可靠性、安全性和可扩展性。</p><p id="0575" class="ns nt it bd nu nv nw nx ny nz oa lt dk translated">它的主要目标是推动业务价值，并以更低的成本带来价值。—作者</p></blockquote><p id="6c49" class="pw-post-body-paragraph ky kz it la b lb ou ju ld le ov jx lg lh ow lj lk ll ox ln lo lp oy lr ls lt im bi translated">我希望你喜欢这个周末的建设，并了解了锈建立机场控制系统。</p><p id="38be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>