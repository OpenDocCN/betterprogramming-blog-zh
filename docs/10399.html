<html>
<head>
<title>How To Format a Value With Angular NGX-Formly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Angular NGX-Formly格式化一个值</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-format-a-value-with-angular-ngx-formly-c18dcd7be647?source=collection_archive---------11-----------------------#2022-01-04">https://betterprogramming.pub/how-to-format-a-value-with-angular-ngx-formly-c18dcd7be647?source=collection_archive---------11-----------------------#2022-01-04</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="97d5" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">格式化邮政编码、电话号码、银行账户等等的简便方法</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/5201e65dfc289332077817d0a4cced9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O_EKcNrJVWS18ZG-bP1FtA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="c183" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这就是为什么我喜欢用<a class="ae lv" href="https://formly.dev/" rel="noopener ugc nofollow" target="_blank"> NGX-Formly </a>！它们使得书写小的、大的、甚至复杂的表格变得更加容易。但是最近，我想在用户填写输入值后改变它们的格式。因为有一定的方式，后端API期望它们。</p><blockquote class="lw lx ly"><p id="c247" class="kz la lz lb b lc ld jv le lf lg jy lh ma lj lk ll mb ln lo lp mc lr ls lt lu in bi translated">如果你不知道如何使用NGX-formly，我强烈推荐阅读下面的帖子(它们甚至包含在NGX-formly本身的文档中)</p></blockquote><ol class=""><li id="63e4" class="md me iu lb b lc ld lf lg li mf lm mg lq mh lu mi mj mk ml bi translated"><a class="ae lv" rel="noopener ugc nofollow" target="_blank" href="/build-fast-json-powered-forms-on-angular-with-ngx-formly-b7a00733e66e">使用Ngx Formly在Angular上构建快速的JSON驱动的表单</a></li><li id="e39b" class="md me iu lb b lc mm lf mn li mo lm mp lq mq lu mi mj mk ml bi translated"><a class="ae lv" rel="noopener ugc nofollow" target="_blank" href="/build-fast-json-powered-forms-on-angular-with-ngx-formly-b7a00733e66e">如何使用ngx-formly在Angular上构建快速、高级的JSON表单</a></li></ol></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="e1c8" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">NGX格式格式化程序</h1><p id="0706" class="pw-post-body-paragraph kz la iu lb b lc nq jv le lf nr jy lh li ns lk ll lm nt lo lp lq nu ls lt lu in bi translated">例如，我们想创建一个邮政编码字段和一个首字母字段。在这些字段中，我们希望对值应用特定的格式。在这种情况下，这将是视觉格式化，没有什么非常复杂的。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nv nw l"/></div></figure><p id="836e" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">方法背后的逻辑是这样的。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nv nw l"/></div></figure></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="d15d" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">格式化程序</h1><p id="6c8a" class="pw-post-body-paragraph kz la iu lb b lc nq jv le lf nr jy lh li ns lk ll lm nt lo lp lq nu ls lt lu in bi translated">所以每个需要格式化程序的字段都需要一个属性<code class="fe nx ny nz oa b">parser.</code></p><pre class="kk kl km kn gu ob oa oc od aw oe bi"><span id="dc0f" class="of mz iu oa b gz og oh l oi oj">{<br/>    //...<br/>    parsers: [(value: string) =&gt; value?.toUpperCase()],<br/>    //...<br/>}</span></pre><p id="ba71" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">解析器需要是一个函数数组。每个函数都有一个保存值的参数。因为解析器需要一个数组，所以可以在每个字段上应用多个格式化程序。</p><p id="ccd1" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">该函数需要返回一个新值。因此它可以在输入字段中更新。</p><p id="70e5" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">确保字段config也有属性<code class="fe nx ny nz oa b">expressionProperties</code>，在其中更新模型；否则，它将不起作用。</p><pre class="kk kl km kn gu ob oa oc od aw oe bi"><span id="d48d" class="of mz iu oa b gz og oh l oi oj">expressionProperties: {<br/>    'model.postal': 'model.postal',<br/>},</span></pre></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="209e" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">例子</h1><p id="d21e" class="pw-post-body-paragraph kz la iu lb b lc nq jv le lf nr jy lh li ns lk ll lm nt lo lp lq nu ls lt lu in bi translated">我已经通过<a class="ae lv" href="https://stackblitz.com/edit/angular-vibhz9?file=src%2Fapp%2Fapp.component.ts" rel="noopener ugc nofollow" target="_blank"> StackBlitz </a>为本教程创建了一个示例项目，您可以用它来试验解析器。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ok nw l"/></div></figure><p id="9409" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果你想在Github上查看项目，<a class="ae lv" href="https://github.com/devbyray/angular-ngx-formly-value-formatter-parser" rel="noopener ugc nofollow" target="_blank">请在这里找到资源库</a>。</p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="2a32" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">结论</h1><p id="dcb1" class="pw-post-body-paragraph kz la iu lb b lc nq jv le lf nr jy lh li ns lk ll lm nt lo lp lq nu ls lt lu in bi translated">希望本教程能帮助你用NGX-Formly更容易地格式化你的值。如果您没有使用NGX-Formly，我希望它能让您更快地构建表单！</p><p id="8a75" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">祝你好运，玩得开心。</p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="e06f" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">谢谢！</h1><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/2bd571bb1ce9f466ae279fa98111b086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7pa1RpRxXqdkgYAJ"/></div></figure><p id="6169" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">读完这个故事后，我希望你学到了一些新的东西，或者受到启发去创造一些新的东西！🤗</p><p id="dc24" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果我给你留下了问题或一些要说的话作为回应，向下滚动并给我键入一条消息。如果你想保密，请在Twitter @DevByRayRay 上给我发一条<a class="ae lv" href="https://twitter.com/@devbyrayray" rel="noopener ugc nofollow" target="_blank"> DM。我的DM永远是开放的😁</a></p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><p id="2ca9" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><a class="ae lv" href="https://byrayray.medium.com/subscribe" rel="noopener"> <strong class="lb iv">通过电子邮件获取我的文章点击这里</strong> </a> <strong class="lb iv"> | </strong> <a class="ae lv" href="https://byrayray.medium.com/membership" rel="noopener"> <strong class="lb iv">购买5美元中等会员资格</strong> </a></p></div><div class="ab cl mr ms hy mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="in io ip iq ir"><h1 id="385c" class="my mz iu bd na nb nc nd ne nf ng nh ni ka nj kb nk kd nl ke nm kg nn kh no np bi translated">阅读更多</h1><div class="om on gq gs oo"><div role="button" tabindex="0" class="ab bv gw cb fq op oq bn or kt ex"><div class="os l"><div class="ab q"><div class="l di"><img alt="RayRay" class="l de bw ot ou fe" src="../Images/992af170033696163d6cc0269218aedd.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*1fUwrIRcFq3paK71SLifMw.png"/><div class="fb bw l ot ou fc n aw fd"/></div><div class="hi l fp"><p class="bd b dl z fq fr fs ft fu fv fw fx dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://byrayray.medium.com/?source=post_page-----c18dcd7be647--------------------------------" rel="noopener follow" target="_top">雷雷</a></p></div></div><div class="ox oy gx l"><h2 class="bd iv uh md fq ui fs ft uj fv fx it bi translated">荒诞的故事</h2></div><div class="ab q"><div class="l fp"><a class="bd b be z bi uk au ul um un qr uo an eh ei up uq ur el em eo de bk ep" href="https://byrayray.medium.com/list/angular-stories-24674407532a?source=post_page-----c18dcd7be647--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="us l fp"><span class="bd b dl z dk">6 stories</span></div></div></div><div class="pk dh pl fq ab pm fp di"><div class="di pc bv pd pe"><div class="dh l"><img alt="" class="dh" src="../Images/b94f2b7d2929c90566cd2dd6f657a751.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*O_EKcNrJVWS18ZG-bP1FtA.png"/></div></div><div class="di pc bv pf pg ph"><div class="dh l"><img alt="" class="dh" src="../Images/02b73423a62d73b113af9fdf9629c79f.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*HWY53D51pJqJuCKUXFf_9g.jpeg"/></div></div><div class="di bv pi pj ph"><div class="dh l"><img alt="Stacked books" class="dh" src="../Images/b02a2f57c0093e04ab1d11d3a55f35ea.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*QhXyFtl1Xx_ptTw5"/></div></div></div></div></div></div></div>    
</body>
</html>