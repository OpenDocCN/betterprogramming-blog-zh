<html>
<head>
<title>How To Create a Custom Switch Using UIButton</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用UIButton创建自定义开关</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-a-custom-switch-using-uibutton-cd89bf273fa4?source=collection_archive---------10-----------------------#2019-12-05">https://betterprogramming.pub/how-to-create-a-custom-switch-using-uibutton-cd89bf273fa4?source=collection_archive---------10-----------------------#2019-12-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b4c6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">定制它——让它变得美丽</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ff68694bc9328981fbcc269f2c08d479.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Yk2LFNYvPp_pxoeV"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@yogesh_7?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Yogesh Pedamkar </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="b8b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">切换或开关非常适合让用户打开或关闭应用程序中的功能——关闭通知、启用黑暗模式或您希望用户选择的任何其他偏好设置。</p><p id="6dcc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们应该给用户尽可能多的选择，让他们得到他们想要的体验，而不是我们强迫他们拥有的东西。你可能会说:“哦，我们需要保持简单。”是的，保持简单，但还是让人们来决定。</p><p id="c248" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们不打算继承子类<code class="fe ls lt lu lv b">UISwitch;</code>，而是使用<code class="fe ls lt lu lv b">UIButton</code>。为什么？因为我想展示实现自定义开关的最简单方法。如果你想创造更高级的东西，你应该研究一下子类化<code class="fe ls lt lu lv b">UISwitch</code>。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="479e" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">1.创建一个新类</h1><p id="fd6c" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">为您的自定义开关按钮创建一个新文件。我叫我的<code class="fe ls lt lu lv b">SwitchButton.swift</code></p><pre class="kg kh ki kj gt na lv nb nc aw nd bi"><span id="66a7" class="ne me iq lv b gy nf ng l nh ni">class SwitchButton: UIButton {<br/>}</span></pre></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="9765" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">2.导入开/关状态图像</h1><p id="72bb" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我们将使用这些图像来显示开关按钮的开/关状态。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/15df2cc4791dc29d06d4b40d258602df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bJKhLrlv2yKtfK3S1Is8FA.png"/></div></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="45cb" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">3.开始实现开关按钮</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="c40f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将开和关图像定义为UIImage。我们将使用UIView转换来呈现状态变化，因为这将给用户一种这不仅仅是一幅图像的感觉。你可以根据你想要给人的感觉来玩这个动画。</p><p id="633b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另外，我在<code class="fe ls lt lu lv b">sendHapticFeedback</code>功能中使用<code class="fe ls lt lu lv b">CoreMotion</code>添加了触觉反馈。这将增加更多的感觉，因为当用户点击切换时，它会给用户一个物理反馈。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="efad" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">4.展示您的自定义开关按钮</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="a16e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们有了一个定制的开关按钮，我们可以调用它并在视图控制器中显示它。</p><p id="05bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，运行您的应用程序，测试您的交换机！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/854bc72117c1bf57dfdb39161fba6955.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*K2AB0_iJeV3EI_sfnRkyNQ.gif"/></div></figure><p id="939e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可能会用到这个开关的状态，所以下面是获取状态的方法。</p><pre class="kg kh ki kj gt na lv nb nc aw nd bi"><span id="fac0" class="ne me iq lv b gy nf ng l nh ni">let status = switchButton.status</span></pre></div></div>    
</body>
</html>