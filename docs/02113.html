<html>
<head>
<title>How To Draw Beautifully Animated Graphs in SwiftUI — Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中绘制漂亮的动画图形—第3部分</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-draw-beautifully-animated-graphs-in-swiftui-part-1-9f8c26011071?source=collection_archive---------19-----------------------#2019-11-06">https://betterprogramming.pub/how-to-draw-beautifully-animated-graphs-in-swiftui-part-1-9f8c26011071?source=collection_archive---------19-----------------------#2019-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d4c7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">添加背景并组成最终视图</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ca56290da0dcd68fba62878b36c34929.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e3RGAJmUIINNHCzkmg2Qow.png"/></div></div></figure><p id="e916" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于我们项目的最后一部分，我们需要添加一些数据来控制每个背景和每个<code class="fe lq lr ls lt b">CapsuleBar</code>的颜色。</p><p id="6c13" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">添加这两个包含每个数据集颜色的数组:</p><pre class="kj kk kl km gt lu lt lv lw aw lx bi"><span id="e204" class="ly lz it lt b gy ma mb l mc md"><strong class="lt iu">private</strong> <strong class="lt iu">var</strong> dataBackgroundColor: [String: ColorRGB] = [<br/>    "Data1": ColorRGB(red: 44 / 255, green: 54 / 255, blue: 79 / 255),<br/>    "Data2": ColorRGB(red: 76 / 255, green: 61 / 255, blue: 89 / 255),<br/>    "Data3": ColorRGB(red: 56 / 255, green: 24 / 255, blue: 47 / 255)<br/>]</span><span id="5200" class="ly lz it lt b gy me mb l mc md"><strong class="lt iu">private</strong> <strong class="lt iu">var</strong> dataBarColor: [String: ColorRGB] = [<br/>    "Data1": ColorRGB(red: 222 / 255, green: 44 / 255, blue: 41 / 255),<br/>    "Data2": ColorRGB(red: 42 / 255, green: 74 / 255, blue: 150 / 255),<br/>    "Data3": ColorRGB(red: 47 / 255, green: 57 / 255, blue: 77 / 255)<br/>]</span></pre><p id="74c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们有了颜色，我们需要给我们的主视图添加一个背景。</p><p id="82a6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将我们之前的视图封装在<code class="fe lq lr ls lt b">ContentView</code>、<strong class="kw iu">、</strong>的<code class="fe lq lr ls lt b">body</code>变量中的<code class="fe lq lr ls lt b">ZStack</code>中，这样我们就可以将我们的颜色放在背景中:</p><pre class="kj kk kl km gt lu lt lv lw aw lx bi"><span id="4df3" class="ly lz it lt b gy ma mb l mc md"><strong class="lt iu">var</strong> body: <strong class="lt iu">some</strong> View {<br/>    ZStack {<br/>        Color(.sRGB,<br/>              red: <strong class="lt iu">self</strong>.dataBackgroundColor[dataPicker]!.red,<br/>              green: <strong class="lt iu">self</strong>.dataBackgroundColor[dataPicker]!.green,<br/>              blue: <strong class="lt iu">self</strong>.dataBackgroundColor[dataPicker]!.blue<br/>        ).edgesIgnoringSafeArea(.all)<br/>        .animation(.default)</span><span id="dba9" class="ly lz it lt b gy me mb l mc md">        VStack {<br/>            Text("Let's Graph!")<br/>                .foregroundColor(.white)<br/>                .font(.largeTitle)<br/>                .fontWeight(.bold)<br/>                .padding()</span><span id="5d6e" class="ly lz it lt b gy me mb l mc md">             Picker("", selection: $dataPicker) {<br/>                 Text("Data1").tag("Data1")<br/>                 Text("Data2").tag("Data2")<br/>                 Text("Data3").tag("Data3")<br/>             }.pickerStyle(SegmentedPickerStyle())<br/>             .padding()<br/>        }<br/>    }<br/>}</span></pre><p id="f6fc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们现在只是缺少图形，我们将通过添加<code class="fe lq lr ls lt b">CapsuleGraphView</code>到我们的<code class="fe lq lr ls lt b">ContentView</code> <strong class="kw iu"> </strong> <code class="fe lq lr ls lt b">VStack</code>来创建它:</p><pre class="kj kk kl km gt lu lt lv lw aw lx bi"><span id="282c" class="ly lz it lt b gy ma mb l mc md">VStack {<br/>    Text("Let's Graph!")<br/>        .foregroundColor(.white)<br/>        .font(.largeTitle)<br/>        .fontWeight(.bold)<br/>        .padding()<br/>    <br/>    Picker("", selection: $dataPicker) {<br/>         Text("Data1").tag("Data1")<br/>         Text("Data2").tag("Data2")<br/>         Text("Data3").tag("Data3")<br/>    }.pickerStyle(SegmentedPickerStyle())<br/>    .padding()</span><span id="fb4d" class="ly lz it lt b gy me mb l mc md">    CapsuleGraphView(data: data[dataPicker]!, maxValueInData: data[dataPicker]!.max()!, spacing: 24, capsuleColor: dataBarColor[dataPicker]!)</span><span id="ca01" class="ly lz it lt b gy me mb l mc md">}</span></pre><p id="3c38" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如您所见，我们将数据传递给<code class="fe lq lr ls lt b">CapsuleGraphView</code>来显示它们。</p><p id="41a0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您现在就可以试用我们的图表！按实时预览上的播放，开始享受。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mf"><img src="../Images/f1b8c65f6b178d59bf1771f2cba7defa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uFRMsjFDWlA2wOWlIpD0vQ.gif"/></div></div></figure></div></div>    
</body>
</html>