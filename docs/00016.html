<html>
<head>
<title>Tuples in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的元组</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/tuples-in-javascript-57ede9b1c9d2?source=collection_archive---------0-----------------------#2017-03-11">https://betterprogramming.pub/tuples-in-javascript-57ede9b1c9d2?source=collection_archive---------0-----------------------#2017-03-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5cc5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">拥抱细微差别</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7da1dd0de5363b90d112d36ee844391b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_XZk-_lcA1XNpP4mKqTICw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图为<a class="ae ky" href="https://unsplash.com/@wezlar11?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">迪安·普</a>在<a class="ae ky" href="https://unsplash.com/search/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="2a58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript缺少像<a class="ae ky" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>、<a class="ae ky" href="https://elm-lang.org/" rel="noopener ugc nofollow" target="_blank"> Elm </a>、<a class="ae ky" href="https://www.erlang.org/" rel="noopener ugc nofollow" target="_blank"> Erlang </a>等语言提供的对元组的语法支持。这种语法支持的缺乏剥夺了JS开发人员接触不同的、更细微差别的数据容器的机会。</p><p id="2ce8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正因为如此，JavaScript开发人员错过了用更有目的的数据结构来丰富代码库的机会。每当JavaScript程序员使用数组或对象文字作为元组的替身时，他们就错过了向其他开发人员提供他们在建模底层数据时的意图的机会。</p><p id="886f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，每当使用其他数据结构代替元组时，这些替代数据结构的语义值就会降低。</p><p id="6c0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ES6引入了新的结构化数据类型，如<code class="fe lv lw lx ly b">Map</code>和<code class="fe lv lw lx ly b">Set</code>，我认为这增强了语言。为了继续这种增强JS的趋势，我认为ECMAScript委员会应该引入对元组的语法支持。</p><p id="2f4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么为什么是元组呢？它们在其他语言中是什么样子的？</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="9d34" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">其他语言中的元组&amp;它们的JS等于</h1><p id="5c69" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">Python和Elm等语言中的基本元组如下所示:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="7cf3" class="nh mh it ly b gy ni nj l nk nl">color = (255, 0, 0)</span></pre><p id="7dcf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中，我们可以将相同的数据表示为:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="9e36" class="nh mh it ly b gy ni nj l nk nl">const color = [255, 0 , 0]</span></pre><p id="35b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像Python这样的语言也支持命名元组:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="8428" class="nh mh it ly b gy ni nj l nk nl">color = (red=255, green=0, blue=0)</span></pre><p id="efbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在JS中用对象文字达到同样的结果。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="5a77" class="nh mh it ly b gy ni nj l nk nl">const color = {red: 255, green: 0, blue: 0}</span></pre></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="85ef" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">容器语义</h1><p id="edd3" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">作为一名开发人员，当您看到一个数组时，您应该考虑一个同质数据类型的容器。这就是在像<a class="ae ky" href="https://www.haskell.org/" rel="noopener ugc nofollow" target="_blank"> Haskell </a>这样的强类型编程环境中链表的处理方式。</p><p id="5748" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里是JS中的一个数组；正确用于模型名称数据:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="1880" class="nh mh it ly b gy ni nj l nk nl">const names = ['John', 'Peter', 'Glen', 'Chris']</span></pre><p id="f11e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是因为JavaScript缺乏元组支持和数据类型强制，我们不能假设数组也不用于建模异构数据。</p><p id="65b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我所说的异构数据是指不同的数据类型(例如字符串、数字)、不同的数据(名字、城市、餐馆)，或者两者都有。</p><p id="ee04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如让我们看看<code class="fe lv lw lx ly b">record</code>:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="7d4d" class="nh mh it ly b gy ni nj l nk nl">const record = ['William', 24, 'Washington, D.C.']</span></pre><p id="91c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数JavaScript开发人员更喜欢用对象文字来表示像这样的异构数据。这比数组更可取，因为它具有标记数据的额外语义价值。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="795b" class="nh mh it ly b gy ni nj l nk nl">const record = {<br/>  name: 'William',<br/>  age: 24,<br/>  hometown: 'Washington, D.C.'<br/>}</span></pre><p id="9e62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，这种数据类型有一些限制。一个限制是不能保证保持秩序。还有额外的开销，因为对象中的每个值都需要一个键。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="97da" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">为什么是元组？</h1><p id="d851" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">JavaScript中包含语法元组支持的情况与ES6添加了用于声明变量的关键字<code class="fe lv lw lx ly b">const</code>和<code class="fe lv lw lx ly b">let</code>有一定关系。</p><p id="6974" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这为开发人员提供了更有意义的语义。它为开发人员提供了对底层数据和原始程序员意图的快速洞察，一切一目了然。</p><p id="d913" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设你在一个有严格林挺和谨慎开发者的代码库中，当你看到<code class="fe lv lw lx ly b">const</code>时，你知道标识符<em class="nm">不会被重新分配。</em></p><p id="bdd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，当您看到<code class="fe lv lw lx ly b">let</code>时，您知道标识符<em class="nm">将被重新分配。</em></p><p id="6b2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似地，当您看到一个元组与一个数组时，您知道您正在处理一个数据实体，而不是多个数据。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="6012" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">元组是不必要的</h1><p id="72fb" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">希望已经展示了使用JS来满足您的数据需求的方法。JavaScript中的元组支持<em class="nm">不必要</em>。但是我认为对元组的支持将丰富JavaScript开发者的编程体验。</p><p id="1f50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">元组的语法糖是不必要的，就像字符串的语法糖是不必要的一样。毕竟，JS中的字符串只是一个字符数组。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="54fa" class="nh mh it ly b gy ni nj l nk nl">const string = ['i',' ','a','m',' ','a',' ','s','t','r','i','n','g']</span></pre><p id="e3e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">语法糖是使数据结构可访问的东西。上面的代码片段变成了:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="254c" class="nh mh it ly b gy ni nj l nk nl">const string = 'I am a string'</span></pre><p id="65b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似地，删除元组构造函数的语法开销，如:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="41d7" class="nh mh it ly b gy ni nj l nk nl">const color = new Tuple(255, 0, 0)</span></pre><p id="711c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">取而代之的是:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="6580" class="nh mh it ly b gy ni nj l nk nl">const color = (255, 0, 0)</span></pre><p id="35ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使不熟悉元组的程序员更容易访问数据容器。</p><p id="fd64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将引用莱纳斯·托沃兹的话来结束我的演讲:</p><blockquote class="nn no np"><p id="d038" class="kz la nm lb b lc ld ju le lf lg jx lh nq lj lk ll nr ln lo lp ns lr ls lt lu im bi translated">“事实上，我非常支持围绕数据设计代码，而不是反过来……糟糕的程序员担心代码。优秀的程序员会担心数据结构和它们之间的关系。”<br/> —莱纳斯·托瓦尔兹</p></blockquote></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="4598" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">结论</h1><p id="f09b" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">Syntactic sugar将为JavaScript程序员提供一种在日常编程中非常有用的新型数据结构。</p><p id="aded" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将让他们以一种新的、更微妙的方式思考他们的数据。</p></div></div>    
</body>
</html>