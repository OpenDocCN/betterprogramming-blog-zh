<html>
<head>
<title>How to Reduce the Size of Your Flutter Package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何减小你的颤振包的尺寸</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-reduce-the-size-of-your-flutter-package-c99b2827ee90?source=collection_archive---------13-----------------------#2022-02-21">https://betterprogramming.pub/how-to-reduce-the-size-of-your-flutter-package-c99b2827ee90?source=collection_archive---------13-----------------------#2022-02-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b2bc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">简单的文件大小挤压</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0dda3f5934ff08f47c819966de54744e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MUVcRwWQcPtsv965H7iLXw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Brian Kostiuk 在<a class="ae ky" href="https://unsplash.com/s/photos/microchip?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="011c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你曾经试图发布一个Flutter包，你可能会意识到你的包的大小。例如，pub.dev不允许Flutter包大于100 MB。这是一个有用的规则，可以确保包(以及随后使用这些包的项目)不会变得过于庞大。</p><p id="eff4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如果您发现自己在尝试发布后看到这个不祥的pub.dev错误消息，不要惊慌。</p><p id="b11e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有很多原因可能会弹出这个问题，这些原因与您的包实际上太大无关。我的意思是，你的包的核心(开发者需要使用的)可能不会大到禁止进入pub.dev。</p><p id="fcea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更有可能的是，您需要运行一些快速命令来帮助减少和重新确定项目的文件和数据分配。有很多<a class="ae ky" href="https://itnext.io/reducing-flutter-app-size-570db9810ebb" rel="noopener ugc nofollow" target="_blank">好方法</a>可以缩小你的Flutter应用或包的大小。从减少资产规模，分割一个肥胖的APK，到使用程序优化你的应用，有很多选择可以探索。</p><p id="8234" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇博文中，我想在发布之前整合并涵盖我发现的最快捷、最简单的削减软件包的方法。让我们直接开始吧。</p><h2 id="a795" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><code class="fe mo mp mq mr b">pubignore</code></h2><p id="342c" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">首先要做的是更新您的<code class="fe mo mp mq mr b">.pubignore</code>文件。把你不想或不需要<code class="fe mo mp mq mr b">pub.dev</code>知道的东西放在这里。通过将这些文件放在这里，它们将不会在包发布过程中被考虑。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/11cab3036411edc31acd5e44d020877f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7U_7PqBxvgWJZg_G8V77MA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">的例子。pubignore文件。</p></figure><h2 id="1758" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">扑干净</h2><p id="3028" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">这个！这对我非常有帮助。命令<code class="fe mo mp mq mr b">flutter clean</code>的工作原理是删除你的Flutter应用程序中不需要发布的各种目录。根据Flutter Agency上的帖子“在执行flutter clean命令后，我们会看到它将删除我们应用程序中的dart-tools文件夹、android文件夹和iOS文件夹以及调试文件。”</p><h2 id="28b4" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">例子</h2><p id="38a0" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">如果你要发布一个包到pub.dev，在你的项目根目录下有一个<code class="fe mo mp mq mr b">example</code>目录是很重要的。这样，它将显示在pub.dev的example选项卡下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/8b69dacd63387f5ec8385a1eb2077cf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tL8YtwzeAymQ10Kd9cJIYA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">google_fonts flutter包的示例标签示例。</p></figure><p id="bf96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然您可能需要不止一个示例dart文件来本地运行您的包(比如说如果您cd到example来运行您的应用程序)，但是为了发布它，您只需要您的<code class="fe mo mp mq mr b">lib/main.dart</code>文件，甚至只需要example目录根目录中的<code class="fe mo mp mq mr b">example.dart</code>文件。</p><p id="c630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为在这个目录中发布到pub.dev不需要那么多，所以可以在示例目录中运行<code class="fe mo mp mq mr b">flutter clean</code>。在命令行中，在你的包的根目录中，简单地执行<code class="fe mo mp mq mr b">cd example/</code>，然后执行<code class="fe mo mp mq mr b">flutter clean</code>。您还可以在您的<code class="fe mo mp mq mr b">.pubignore</code>中包含您的<code class="fe mo mp mq mr b">example</code>目录的各个部分。</p><h2 id="bf87" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">饭桶</h2><p id="d705" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">您还可以通过从git历史中删除不需要的缓存信息来减少项目规模。为此，您只需在命令行中键入以下内容。</p><pre class="kj kk kl km gt mz mr na nb aw nc bi"><span id="f0d6" class="lv lw it mr b gy nd ne l nf ng">git rm -r--cached</span></pre><p id="572c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这对于存放要在回购中删除的文件更有用，但它可以帮助清理您的遥控器并减少您的回购大小。也可以试试<code class="fe mo mp mq mr b">git filter-repo</code>和<code class="fe mo mp mq mr b">git filter-branch</code>(虽然首选<code class="fe mo mp mq mr b">filter-repo</code>)。你可以在这里阅读更多关于这些命令<a class="ae ky" href="https://repository.prace-ri.eu/git/help/user/project/repository/reducing_the_repo_size_using_git.md#:~:text=Deleting%20files%20in%20a%20commit,Instead%2C%20you%20must%20rewrite%20history." rel="noopener ugc nofollow" target="_blank">的信息。</a></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="bac7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://matt-croak.medium.com/membership" rel="noopener"> <strong class="lb iu"> <em class="no">升级您的免费媒体会员资格</em> </strong> </a> <em class="no">并接收各种出版物上数千名作家的无限量、无广告的故事。这是一个附属链接，你的会员资格的一部分帮助我为我创造的内容获得奖励。</em></p><p id="660b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你还可以通过电子邮件   <em class="no">订阅</em> <a class="ae ky" href="https://matt-croak.medium.com/subscribe" rel="noopener"> <strong class="lb iu"> <em class="no">，每当我发布新内容时，你都会收到通知！</em></strong></a></p><p id="1db1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="no">谢谢！</em></p><h1 id="67d7" class="np lw it bd lx nq nr ns ma nt nu nv md jz nw ka mg kc nx kd mj kf ny kg mm nz bi translated">参考</h1><div class="oa ob gp gr oc od"><a href="https://itnext.io/reducing-flutter-app-size-570db9810ebb" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">减少抖动应用程序的大小</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">作为开发者，我们希望让应用程序变小，这样我们的应用程序就能获得尽可能多的分发。</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">itnext.io</p></div></div><div class="om l"><div class="on l oo op oq om or ks od"/></div></div></a></div><div class="oa ob gp gr oc od"><a href="https://flutteragency.com/clear-flutters-build-cache/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">如何清除Flutter的构建缓存？-颤振机构</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">缓存是什么系统生成的临时文件在dart-tools文件夹，android文件夹，一个iOS文件夹。清除…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">flutteragency.com</p></div></div><div class="om l"><div class="os l oo op oq om or ks od"/></div></div></a></div><div class="oa ob gp gr oc od"><a href="https://repository.prace-ri.eu/git/help/user/project/repository/reducing_the_repo_size_using_git.md#:~:text=Deleting%20files%20in%20a%20commit,Instead%2C%20you%20must%20rewrite%20history." rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">使用git存储库项目用户帮助减小存储库大小</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">随着时间的推移，Git存储库变得越来越大。当大文件被添加到Git存储库时:获取存储库…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">repository.prace-ri.eu</p></div></div><div class="om l"><div class="ot l oo op oq om or ks od"/></div></div></a></div></div></div>    
</body>
</html>