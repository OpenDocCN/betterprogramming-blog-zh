<html>
<head>
<title>VS Code Timeline Restores Lost Work That Git Can’t</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VS代码时间线恢复Git无法恢复的丢失工作</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/vs-code-timeline-restores-lost-work-that-git-cant-4197fa644aca?source=collection_archive---------14-----------------------#2022-09-28">https://betterprogramming.pub/vs-code-timeline-restores-lost-work-that-git-cant-4197fa644aca?source=collection_archive---------14-----------------------#2022-09-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/af4f09bca523f32389702133696c5b9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZDcfKE4ugK8sC7Cuifwveg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><div class=""/><div class=""><h2 id="eff2" class="pw-subtitle-paragraph kf jh ji bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dk translated">VS代码时间线可以拍摄文件不同保存点的快照。这可以帮助您保存Git可能无法保存的丢失的工作。</h2></div><p id="0a3a" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果您从事web开发已经有一段时间了，您可能会遇到这样的情况:您做了一些更改或删除了一些文件，结果不知何故丢失了工作和大量时间。</p><p id="94a0" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">今天我想向你展示一些在VS代码中防止这种情况发生的技巧。</p><p id="1f1a" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">当你需要修改一个文件时，你要做的第一件事就是复制并粘贴它，然后将新文件重命名为“V2”如果你需要更多的版本，你可以一直复制/粘贴，直到你得到“V3”、“V4”、“V_final”，然后是“V_finalfinal”，然后是“_-this-time-for-real-final _ version _ V7”</p><p id="0273" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">开个玩笑:)</p><p id="c455" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果你已经在这个领域工作了一段时间，并带来了一些根深蒂固的创伤，我知道一个伟大的治疗师。</p><p id="7c58" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">但是技术已经足够先进，我们不需要依赖那种格式。我们有像<a class="ae lt" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"> Git </a>这样的工具，它已经存在一段时间了，希望你听说过它。</p><p id="dc1f" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">VS Code有一些非常好的Git集成，他们已经很好地记录了这些集成<a class="ae lt" href="https://code.visualstudio.com/docs/sourcecontrol/overview" rel="noopener ugc nofollow" target="_blank"/>。它允许您:</p><ul class=""><li id="55d0" class="lu lv ji kz b la lb ld le lg lw lk lx lo ly ls lz ma mb mc bi translated">拍摄项目当前状态的快照</li><li id="a5a5" class="lu lv ji kz b la md ld me lg mf lk mg lo mh ls lz ma mb mc bi translated">向您展示并排比较以查看每个变化</li><li id="374d" class="lu lv ji kz b la md ld me lg mf lk mg lo mh ls lz ma mb mc bi translated">查看文件内的更改</li><li id="e8b8" class="lu lv ji kz b la md ld me lg mf lk mg lo mh ls lz ma mb mc bi translated">批量或一次一个地比较和恢复更改</li></ul><p id="2ec2" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">所有这些真的很好，但这不是我想给你看的。</p><p id="cd0e" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">在我参与的几乎每一个项目中，我都遇到过这样的情况:我提交了一些代码，然后实际上想回去修改一些关于提交的东西。</p><p id="d875" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">也许我包含了不应该在那里的文件，或者我忘记了包含一些应该在那里的更改。</p><p id="02f1" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我总是要查看你是如何撤销最近一次提交的:</p><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="c395" class="mr ms ji mn b gy mt mu l mv mw">git reset --hard HEAD~1</span></pre><p id="5c2a" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我永远也不会记得，但好消息是我不必记得。</p><p id="8c16" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">VS代码内置了这一点。你可以转到源代码控制标签，然后在小烤肉串菜单中，转到“提交”部分，有一个“撤销上次提交”的选项。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mx"><img src="../Images/e97c34e7f6c44e903aaf074aff02c480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HLGSqOCQcb7QO8un.jpg"/></div></div></figure><p id="a34d" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这很方便，但是对于喜欢键盘快捷键的人来说，你可以用<code class="fe my mz na mn b">ctrl+shift+P</code> (Windows)打开命令托盘，搜索“撤销上次提交”我通常只需输入“撤销”，然后按“回车”一旦你习惯了，这真的很快。</p><p id="7d66" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这也很方便，但即使这样也不是最酷的技巧，因为有些情况下Git实际上不会帮助你。</p><p id="bcc1" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">比方说，我们实际上向我们的项目添加了一个<code class="fe my mz na mn b"><a class="ae lt" href="https://git-scm.com/docs/gitignore" rel="noopener ugc nofollow" target="_blank">.gitignore</a></code>文件，并且我们包含了一个我们想要处理的文件。这会将文件排除在版本控制之外。这意味着我们不能进行更改，然后再恢复。这对于像ENV变量这样的东西来说是很常见的。</p><p id="5c1b" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">现在，如果你不小心删除了这个文件，你最好希望你有备份。</p><p id="3db7" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">你也许能在垃圾桶里找到它，但是在我的情况下，它实际上直接从光盘上被删除了。所以它不存在于垃圾桶里。所以，我要怎么把它拿回来？</p><p id="aedb" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">幸运的是，VS代码有这个<a class="ae lt" href="https://code.visualstudio.com/updates/v1_44#_timeline-view" rel="noopener ugc nofollow" target="_blank">时间轴视图</a>，这真的真的很酷，因为它会向你展示在提交之间对文件所做的更改。你可以把它想象成原子版本控制。</p><figure class="mi mj mk ml gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nb"><img src="../Images/d7da932a8a7f4f275ae61f3c1144ee29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ghNnPKa9Eh5g2Ns9.png"/></div></div></figure><p id="da31" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">它会在我每次点击保存时显示文件的状态。这使得在不同版本之间来回切换变得非常容易。</p><p id="1878" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这里最酷的功能之一是，如果我删除一个文件，我可以创建一个同名的新文件，它会恢复时间线。</p><p id="d9d8" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这个功能救了我很多次(如果你看我的<a class="ae lt" href="https://www.twitch.tv/heyaustingil" rel="noopener ugc nofollow" target="_blank">直播</a>，你知道我在说什么)。</p><p id="81d8" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我就知道这么多。现在，您可以随心所欲地编写代码了。</p><figure class="mi mj mk ml gt iv"><div class="bz fp l di"><div class="nc nd l"/></div></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><pre class="mi mj mk ml gt mm mn mo mp aw mq bi"><span id="cb04" class="mr ms ji mn b gy mt mu l mv mw"><strong class="mn jj">Want to Connect?</strong></span><span id="d211" class="mr ms ji mn b gy nl mu l mv mw">You can also <a class="ae lt" href="https://austingil.com/newsletter/" rel="noopener ugc nofollow" target="_blank">sign up for my newsletter</a> or <a class="ae lt" href="https://twitter.com/heyAustinGil" rel="noopener ugc nofollow" target="_blank">follow me on Twitter</a> if you want to know when new articles are published. Originally published on <a class="ae lt" href="https://austingil.com/vs-code-timeline-restores-work-git-cant/" rel="noopener ugc nofollow" target="_blank">austingil.com</a>.</span></pre></div></div>    
</body>
</html>