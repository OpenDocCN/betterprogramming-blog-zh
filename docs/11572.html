<html>
<head>
<title>How To Perform a For Loop From the Command Line</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从命令行执行For循环</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-perform-a-for-loop-from-the-command-line-bab844a11c69?source=collection_archive---------3-----------------------#2022-03-31">https://betterprogramming.pub/how-to-perform-a-for-loop-from-the-command-line-bab844a11c69?source=collection_archive---------3-----------------------#2022-03-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6b1f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">遍历一系列数字和文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/30b7db6f77ad51b1b71fc2eabee3a995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sHHiw1qzEvsnalfC"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@goran_ivos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">戈兰·艾沃斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="b3ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的上一篇文章中，我讲述了如何在Mac上从命令行打开浏览器标签。现在，如果你想做五次呢？还是10？在本文中，我将快速展示如何在终端中执行for循环来实现这种迭代行为。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/689c879a4269945cf0d5402098da4ebf.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*J7ELVvfR95C266ptPMmA0g.gif"/></div></figure><h2 id="b5f1" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">为了…在1 2 3 4 5年</h2><p id="b928" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">下面是bash中循环的基本语法。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="bc59" class="lw lx it mv b gy mz na l nb nc">for i in 1 2 3 4 5; do YOUR_TASK; done</span></pre><p id="e6c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码会执行<code class="fe nd ne nf mv b">YOUR_TASK</code>五次。借用我上一篇文章中<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-open-browser-tab-from-the-command-line-on-mac-52744abb4905">的代码，如果你想在Brave中打开Medium标签页五次，你的代码将如下所示。</a></p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="63db" class="lw lx it mv b gy mz na l nb nc">for i in 1 2 3 4 5; do open -a Brave\ Browser "https://medium.com"; done</span></pre><p id="44d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，假设您想在每次迭代之间给脚本一点喘息的时间。或者，您发现每五秒钟打开一个浏览器标签更适合您的用例，您可以添加一个<code class="fe nd ne nf mv b">sleep</code>属性。</p><p id="768a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">见下文。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="b8fc" class="lw lx it mv b gy mz na l nb nc">for i in 1 2 3 4 5; do open -a Brave\ Browser "https://medium.com"; sleep 5; done</span></pre><p id="6dc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太棒了。现在，只要你愿意，你可以在Brave中缓慢但稳定地打开五个中等标签。</p><p id="1697" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这还能更好吗？当然是用较短的语法！</p><h2 id="3cff" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">对于…在{1..5}</h2><p id="c2db" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">该语法允许您执行与上面代码相同的逻辑，但是不必写出每个单独的迭代。您只需在开始和结束迭代之间使用一个spread操作符，并将其全部用花括号括起来。</p><p id="330c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">见下文。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="4ac2" class="lw lx it mv b gy mz na l nb nc">for i in {1..5}; do open -a Brave\ Browser "https://medium.com"; sleep 5; done</span></pre><p id="fc38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了测试它，你可以把上面的代码复制/粘贴到你的Mac终端上(假设你已经安装了Brave)。</p><p id="32de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，如果你没有任何中间时间，你可以简单地省略<code class="fe nd ne nf mv b">sleep 5;</code>参数。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="0270" class="lw lx it mv b gy mz na l nb nc">for i in {1..10}; do open -a Brave\ Browser "https://medium.com"; done</span></pre><p id="0f7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">复制/粘贴上面的代码，看到十个中等标签立即出现在你的勇敢的窗口。你为什么想要这个？谁知道呢。但知道怎么做也无妨。</p><p id="93a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于bash for loops的更多信息，请查看nixCraft 上的这篇文章。</p><h2 id="daa7" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">一个更有用的案例</h2><p id="b422" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">现在来看一个更有用的例子，涉及到for循环。假设您想要迭代一组文件，并对每个文件执行某种逻辑。您可以遵循一个类似的<code class="fe nd ne nf mv b">for…in</code>结构——唯一的区别——而不是数字迭代，您可以对您想要迭代的文件执行如下所示的操作:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="e7b2" class="lw lx it mv b gy mz na l nb nc">for file in file1.txt file2.txt file3.txt; do echo $file; done</span></pre><p id="26a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码基本上会打印出每个文件的名称，如下所示:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="1dbb" class="lw lx it mv b gy mz na l nb nc">$ for file in hello.txt goodbye.txt nexttime.txt; do echo $file; done<br/>&gt; hello.txt<br/>&gt; goodbye.txt<br/>&gt; nexttime.txt</span></pre><p id="1d58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想读取每个文件的内容，你可以使用<code class="fe nd ne nf mv b">cat</code>而不是<code class="fe nd ne nf mv b">echo</code>。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="4b26" class="lw lx it mv b gy mz na l nb nc">$ for file in hello.txt goodbye.txt nexttime.txt; do <strong class="mv iu">cat</strong> $file; done<br/>&gt; Hello everyone.<br/>&gt; Goodbye everyone.<br/>&gt; We will meet again.</span></pre><h2 id="dbb1" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">如果我有很多文件怎么办？</h2><p id="e0b0" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">上面的代码很有用，但是如果要对很多文件执行for循环呢？写出我们范围内的每个文件的名称变得很麻烦。相反，您可以使用更短的语法，将所有相关文件放在一个共享目录中，并简单地提供该目录作为范围。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="a7ea" class="lw lx it mv b gy mz na l nb nc">$ for file in test/*; do cat $file; done<br/>&gt; Hello everyone.<br/>&gt; Goodbye everyone.<br/>&gt; We will meet again.</span></pre><p id="5658" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个脚本中，<code class="fe nd ne nf mv b">test/*</code>基本上将我们的文件包装在一个范围内。我们不做<code class="fe nd ne nf mv b">hello.txt..nexttime.txt</code>，而是简单地提供目录，<code class="fe nd ne nf mv b">*</code>表示该目录下的每个文件。</p><p id="fca8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这很好，但是如果您只想遍历目录中的某些文件呢？如果<code class="fe nd ne nf mv b">test</code>包含的文件不超过文本文件，但我们想跳过所有非文本文件，该怎么办？我们可以在我们范围的末尾对扩展类型简单地使用tac。</p><p id="fbd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">见下文。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="a5dc" class="lw lx it mv b gy mz na l nb nc">$ for file in test/*<strong class="mv iu">.txt</strong>; do cat $file; done<br/>&gt; Hello everyone.<br/>&gt; Goodbye everyone.<br/>&gt; We will meet again.</span></pre><p id="aa34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述代码将跳过该范围内的所有非文本文件，只对文本文件执行<code class="fe nd ne nf mv b">do</code>逻辑。关于bash中循环文件的更多信息，请查看由<a class="ae ky" href="https://linuxhint.com/loop-through-files-bash/" rel="noopener ugc nofollow" target="_blank"> linuxhint </a>撰写的这篇文章。</p><p id="1563" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论你是想遍历一系列文件并与之交互，还是想打开多个浏览器标签，这篇文章都会给你一个很好的起点。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><p id="217a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://matt-croak.medium.com/membership" rel="noopener"> <strong class="lb iu"> <em class="nn">升级您的免费Medium会员资格</em> </strong> </a> <em class="nn">并接收各种出版物上数千名作家的无限量、无广告的故事。这是一个附属链接，你的会员资格的一部分帮助我为我创造的内容获得奖励。</em></p><p id="96e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nn">你也可以</em> <a class="ae ky" href="https://matt-croak.medium.com/subscribe" rel="noopener"> <strong class="lb iu"> <em class="nn">通过电子邮件</em> </strong> </a> <em class="nn">订阅，当我发布新内容时，你会收到通知！</em></p><p id="b0b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你！</p><h1 id="9a62" class="no lx it bd ly np nq nr mb ns nt nu me jz nv ka mh kc nw kd mk kf nx kg mn ny bi translated">参考</h1><p id="60d1" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated"><a class="ae ky" href="https://www.cyberciti.biz/faq/bash-for-loop/" rel="noopener ugc nofollow" target="_blank">https://www.cyberciti.biz/faq/bash-for-loop/</a></p><div class="nz oa gp gr ob oc"><a href="https://linuxhint.com/loop-through-files-bash/" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">Bash遍历目录中的文件</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">在Ubuntu中，包括Bash，循环使得在多个文件上应用操作成为可能。循环是最…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">linuxhint.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq ks oc"/></div></div></a></div></div></div>    
</body>
</html>