<html>
<head>
<title>SwiftUI 4 Features for iOS 16</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 16的SwiftUI 4功能</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftui-ios16-d7685c08f8d5?source=collection_archive---------0-----------------------#2022-06-08">https://betterprogramming.pub/swiftui-ios16-d7685c08f8d5?source=collection_archive---------0-----------------------#2022-06-08</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="9dda" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">到目前为止，我探索的一些SwiftUI好东西</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/3cf892d84eb92316b5a0e124d116e339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_llJpqVXjV9WNPA8"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">奥马尔·穆罕默德在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="abef" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">WWDC 2022活动本周刚刚启动，像每次一样，SwiftUI公告值得关注。从新的<code class="fe lw lx ly lz b">NavigationStack</code>到仅支持SwiftUI的图表库，再到网格布局的增强——有很多好东西等着我们去发掘。</p><p id="0fa1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在接下来的几节中，我将向您介绍我在iOS 16的SwiftUI第四次迭代中有机会探索的4项新功能。它们将主要用于提升你的iOS应用的前端UI和UX。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="5008" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">SwiftUI图表</h1><p id="ad8e" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated"><code class="fe lw lx ly lz b">Charts</code>是一个全新的SwiftUI专用框架。因此，向自定义图表库说再见吧，因为SwiftUI现在将允许您创建令人惊叹的数据可视化应用程序和可访问的小部件。</p><p id="f022" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">目前，图表框架支持现成的条形图、面积图、折线图、点图和矩形图。没有卖油炸圈饼和馅饼的。然而，我认为我们可以通过利用框架来构建一个自定义的。</p><p id="bb0f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下是如何使用SwiftUI图表框架创建条形图的快速示例:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="d071" class="ni mi iu lz b gz nj nk l nl nm">Chart{<br/>BarMark(x: .value("Name", ""))<br/>}</span></pre><p id="b4ed" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">条形图由<code class="fe lw lx ly lz b">BarMark</code>视图组成。这里的<code class="fe lw lx ly lz b">x</code>参数有两个参数:条形的描述名和显示名。类似地，<code class="fe lw lx ly lz b">y</code>参数需要酒吧的名称和长度参数。SwiftUI不是直接在视图中传递数据，而是要求我们将它们包装在一个可绘制的对象中(<code class="fe lw lx ly lz b">.value</code>)。</p><p id="ab75" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">虽然上面的例子非常简单，但在现实世界的应用中，我们必须使用数据结构来构建图表。</p><p id="c99e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是我们刚刚创建的一个样本结构。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nn no l"/></div></figure><p id="58c1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">注意:重要的是将其中一个轴的值设置为可识别的，以便唯一地识别每个条形:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nn no l"/></div></figure><p id="29ac" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是应用程序的输出结果:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj np"><img src="../Images/14dd449da99cf773fb201bf88e983a57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xya6rOCyoQXYrxuWOFNdJg.png"/></div></div></figure><p id="4e9c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要创建水平图表，简化翻转<code class="fe lw lx ly lz b">x</code>和<code class="fe lw lx ly lz b">y</code>值。</p><p id="2b1a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以通过隐藏轴网格线来进一步定制图表——通过<code class="fe lw lx ly lz b">.chartYAxis(.hidden) </code>和<code class="fe lw lx ly lz b">.chartXAxis(.hidden)</code>修饰符或者通过图例给它们更多的上下文。</p><p id="10d9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您还可以在同一视图中添加多个图表，通过使用:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nq"><img src="../Images/505a06ecab85e3b2aae3d7a080575ab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EwZFHTvCiacDEnOx34CtzQ.png"/></div></div></figure><p id="5327" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">LineMark</code>、<code class="fe lw lx ly lz b">AreaMark</code>、<code class="fe lw lx ly lz b">PointMark</code>、<code class="fe lw lx ly lz b">RectangleMark</code>——我们都有了。要了解SwiftUI Charts框架如何让构建图表变得如此简单快捷，<a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/swiftui-bar-charts-274e9fbc8030">请查看这篇创建了自定义条形图的文章</a>。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="d224" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">渐变和阴影</h1><p id="9a2d" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">添加线性渐变比以往任何时候都容易。只需添加。<code class="fe lw lx ly lz b">Color</code>后的渐变修改器带来那种效果。</p><p id="1492" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">想看看实际情况吗？检查最后的图表演示图像。它包含:<code class="fe lw lx ly lz b">.foregroundStyle(chart.color.gradient)</code>给你的图表一个优势。</p><p id="e849" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI 4还使用<code class="fe lw lx ly lz b">ShadowStyle</code>带来了对内部阴影和投影的开箱即用支持。下面是它的使用方法:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="31d8" class="ni mi iu lz b gz nj nk l nl nm">Circle().fill(.red.gradient.shadow(.inner(radius: 10)))</span><span id="694c" class="ni mi iu lz b gz nr nk l nl nm">Circle().fill(.red.gradient.shadow(.drop(color: .black, radius: 10)))</span></pre><p id="f4b8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们还可以将它们组合起来，带来更多定制化的效果。预计这个特性会被大量使用来创建漂亮的图标设计。</p><p id="d68e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">下面是阴影和渐变的不同排列和组合的输出:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ns"><img src="../Images/8f0939d0fde2bb7f2cd1b547db34103b.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*DMxacTO9jlcReDvYtgr_-A.png"/></div></figure><p id="3bb9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后一个图标是带有渐变的投影和内部阴影的组合:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nn no l"/></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="30dc" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">可定制的底板</h1><p id="85dd" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">在iOS 15中，苹果为UIKit引入了<code class="fe lw lx ly lz b">UISheetPresentationController.Detent</code>。使用iOS 16，你也可以在SwiftUI中自定义底部表单——通过使用<code class="fe lw lx ly lz b">presentationDetents</code></p><p id="1490" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">下面是它的使用方法:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="8147" class="ni mi iu lz b gz nj nk l nl nm">.presentationDetents([.medium, .large,])</span><span id="0e4a" class="ni mi iu lz b gz nr nk l nl nm">.presentationDetents([.fraction(0.2), .height(100)])</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nt"><img src="../Images/67227be11e14037499fe0a0c476d76a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mMKoxiXVDlmXcNEfcCW0mQ.gif"/></div></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="bc8f" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">共享链接</h1><p id="9bd6" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">留出可定制的底部表。iOS 16的SwiftUI也带来了对原生share sheets的支持。</p><p id="a5c5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">通过使用共享链接，您可以打开默认的共享工作表界面，如下所示:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="9b62" class="ni mi iu lz b gz nj nk l nl nm">struct ContentView: View {<br/>   <br/>  private let shareItem = URL(string: "https://www.apple.com")!  var body: some View {<br/>    ShareLink(item: shareItem)<br/>  }<br/>}</span></pre><p id="6af7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">默认情况下，<code class="fe lw lx ly lz b">ShareLink</code>显示有“共享”按钮和图标。但是，您可以将其自定义为包含其他图标和标签。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nn no l"/></div></figure><p id="a375" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">注意:将<code class="fe lw lx ly lz b">ShareLink</code>包装在<code class="fe lw lx ly lz b">Button</code>上不起作用——可能是因为ShareLink本身就是一个按钮。</p><p id="a8e3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">此外，默认情况下，ShareLink显示完整的底部工作表。但是，您可以使用<code class="fe lw lx ly lz b">presentationDetents</code>对其进行定制，就像底部板材一样。</p><p id="29a1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">注意:在撰写本文时，为一个共享链接定制<code class="fe lw lx ly lz b">presentationDetents</code>也会在层次结构中的其他视图上反映出来。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nt"><img src="../Images/a2a5f8e1772752fe461d5d1569906030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xvuYhUgExeMlMT_VUKx2QQ.gif"/></div></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="4d86" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">估计</h1><p id="9f05" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">如果你使用过SwiftUI <code class="fe lw lx ly lz b">ProgressView</code>，仪表对你来说不会太陌生。从本质上说，量表是类固醇的进展视图。</p><p id="a345" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">与让您以百分比形式设置值的进度视图不同，仪表允许我们表示指定范围内的值。</p><p id="eb09" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">此外，增加的可定制性使它们成为构建应用程序小部件的有力竞争者。</p><p id="029a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下是仪表的使用方法:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="700b" class="ni mi iu lz b gz nj nk l nl nm">Gauge(value: 50, in: 0...100) {<br/>Text("Gauge Name")<br/>}<br/>.gaugeStyle(.accessoryCircular)</span></pre><p id="31d6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以进一步定制和添加<code class="fe lw lx ly lz b">maximumValueLabel</code>、<code class="fe lw lx ly lz b">minimumValueLabel</code>和<code class="fe lw lx ly lz b">currentValueLabel</code>用于仪表。</p><p id="828b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下是一些仪表样式:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nu"><img src="../Images/4fd6d83eabbf7f914790837cdaf1aaab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gbb0pAVyJ7emSuqc8FokgQ.png"/></div></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="7c70" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">新网格</h1><p id="97bf" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">SwiftUI现在提供了一个内置的<code class="fe lw lx ly lz b">Grid</code>视图来组成更复杂的布局。</p><p id="56af" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">通过使用<code class="fe lw lx ly lz b">GridRows</code>和<code class="fe lw lx ly lz b">gridCellColumn</code>修改器，定制网格变得更加容易和快速。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nn no l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nv"><img src="../Images/d8c472fab07fc8dbfe974dc77b90415c.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*ZxS1oRHEAS6H-RrNDPgf0w.png"/></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="3017" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">多重日期选择器</h1><p id="f6f7" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">曾经想要从本地SwiftUI选择器中选择多个日期吗？可能是预订你的旅行计划或工作约会。不要担心！</p><p id="7ce6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在iOS 16中，我们有了以如下方式工作的<code class="fe lw lx ly lz b">MultiDatePicker</code>:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nw"><img src="../Images/77cde7f5f0da5ca306ea15bc0a6f253c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RCUcGZUC-HV1czCRiNpgpA.png"/></div></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="2278" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">适合的视图</h1><p id="1262" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated"><code class="fe lw lx ly lz b">ViewThatFits</code>是iOS 16引入的新视图类型。顾名思义，它让SwiftUI自动选择两个视图中最适合可用空间的一个。</p><p id="dd03" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一个非常方便的工具，可以为不同的屏幕尺寸和方向设置不同的视图，如下所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nx"><img src="../Images/7f86d94652cb9d433323e49eea167fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aISw-kMwbuc5Izazuq3SAQ.gif"/></div></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="6064" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">任意布局</h1><p id="8547" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">。iOS 16的SwiftUI引入了<code class="fe lw lx ly lz b">AnyLayout</code>——一种在不丢失子视图状态的情况下在删除类型的布局之间切换的结构。它和<code class="fe lw lx ly lz b">VStack</code>和<code class="fe lw lx ly lz b">HStack</code>一起工作就像一个魔咒——但是和<code class="fe lw lx ly lz b">ZStack</code>不一起工作。</p><p id="b7ec" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">虽然<code class="fe lw lx ly lz b">ViewThatFits</code>允许SwiftUI为我们选择视图，但是<code class="fe lw lx ly lz b">AnyLayout</code>给了您一些对定制的控制权</p><p id="c437" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在不使用过渡和几何效果的情况下创建过渡效果从未如此简单:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nn no l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ny"><img src="../Images/ec4aade4127ce1a55c36b75985c8d3ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yQHCL11RK36gNZ-L3woomg.gif"/></div></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="dd1b" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">可变SF符号4</h1><p id="6af1" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">除了更多的新图标，SF Symbols 4还引入了可变符号。</p><p id="a324" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这意味着您现在可以将符号的颜色动态设置为百分比值，以动画形式显示或展示进度。</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="aa88" class="ni mi iu lz b gz nj nk l nl nm">Image(systemName: "wifi", variableValue: value)</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ny"><img src="../Images/996795024796451f6220bda75009907c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FRc63ijEBWPPQILA2ZQvqQ.gif"/></div></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="285c" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">将SwiftUI视图转换为图像—使用iOS 16中的ImageRenderer API</h1><p id="7a28" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">新的ImageRenderer API允许您将视图导出为UIImage、NSImage或CGImage。通过下面的函数调用，拍摄视图或捕捉现实场景变得简单多了:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="e995" class="ni mi iu lz b gz nj nk l nl nm">ImageRenderer(content: &lt;ViewToBeConverted&gt;).uiImage</span></pre><p id="2085" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们使用上述概念创建一个迷你海报SwiftUI应用程序。下面是我们想要转换成图像的视图的代码:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nn no l"/></div></figure><p id="84d7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">它由包裹在<code class="fe lw lx ly lz b">Shape</code>内的<code class="fe lw lx ly lz b">Text</code>和<code class="fe lw lx ly lz b">Image</code>组成。</p><p id="3095" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，让我们构造我们的<code class="fe lw lx ly lz b">ContentView</code>:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nn no l"/></div></figure><p id="c72b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们添加了一个<code class="fe lw lx ly lz b">ColorPicker</code>和一个<code class="fe lw lx ly lz b">TextField</code>来定制我们海报的背景和文本。</p><p id="1351" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">点击<code class="fe lw lx ly lz b">Button</code>，我们将得到一份海报视图作为<code class="fe lw lx ly lz b">Image</code>:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nz"><img src="../Images/29355c4499da61ac4528001b79faecc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KLKim2-PxZustHW73goJNg.png"/></div></div></figure><p id="c03d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要构建一个完整的海报应用程序，首先要将上面的视图封装在一个<code class="fe lw lx ly lz b">ScrollView</code>中。</p><p id="1402" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">注意:<code class="fe lw lx ly lz b">ImageRenderer</code> API并不适用于所有的视图。其中一些，像<code class="fe lw lx ly lz b">VideoPlayer</code>、<code class="fe lw lx ly lz b">Map</code>都是被禁止的。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><p id="2970" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这部分就到此为止了。但是还有很多你可能感兴趣的好东西。</p><p id="2883" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">就像一个原生的照片拾取器，SwiftUI列表的增强(是的，它不再使用<code class="fe lw lx ly lz b">UITableView</code>)，更多的搜索视图控件，用于编写自定义布局的新<code class="fe lw lx ly lz b">Layout</code>协议，用于<a class="ae kz" href="https://nilcoalescing.com/blog/RequestingAppStoreReviewsInSwiftUI/" rel="noopener ugc nofollow" target="_blank">应用商店评论</a>的内置API，等等。同样，在Xcode 14中，SwiftUI视图是自动缩进的。</p><p id="84a3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI文本字段也有一些不错的升级。比如开箱即用的多行支持，默认的焦点修改器，以及将其集成到<code class="fe lw lx ly lz b">Alert</code>中的能力。这里有一个关于iOS 16 新SwiftUI TextField特性的<a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/whats-new-in-swiftui-textfield-for-ios-16-308264052ca3">教程。</a></p></div></div>    
</body>
</html>