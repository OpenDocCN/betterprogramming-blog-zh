<html>
<head>
<title>Everything in JavaScript Is (Not) an Object</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的一切都是(不是)对象</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/everything-in-javascript-is-an-object-except-for-when-it-isnt-305bc65a3410?source=collection_archive---------4-----------------------#2019-12-07">https://betterprogramming.pub/everything-in-javascript-is-an-object-except-for-when-it-isnt-305bc65a3410?source=collection_archive---------4-----------------------#2019-12-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="712b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">…或者是吗？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/73cf16c18d88774b2acb8906cd90c39a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uSoVm8WegYz-g2oFEaGvMg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图为:现金(照片由<a class="ae ky" href="https://unsplash.com/@introspectivedsgn?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Erik Mclean </a>在<a class="ae ky" href="https://unsplash.com/s/photos/money?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄)</p></figure><p id="c4fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你必须回答“JavaScript中的一切都是对象”这句话对还是错，你的答案会是什么？你会问观众吗？给朋友打电话？好吧，就说你打电话给我吧(老实说，这是个冒险的举动；但我很荣幸)。现在我们是一个团队，让我们一起解决这个问题，赢得现金。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7253" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">什么是JavaScript对象？</h1><p id="9f52" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">来自<a class="ae ky" href="https://developer.mozilla.org/en-US/" rel="noopener ugc nofollow" target="_blank"> MDN </a>:</p><blockquote class="mz na nb"><p id="1fe4" class="kz la nc lb b lc ld ju le lf lg jx lh nd lj lk ll ne ln lo lp nf lr ls lt lu im bi translated">在JavaScript中，对象是独立的实体，具有属性和类型。例如，与杯子相比。杯子是一种物体，具有属性。一个杯子有一种颜色、一种图案、重量、一种材料等等。同样，JavaScript对象也可以有属性，这些属性定义了它们的特征。”</p></blockquote><p id="9480" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经知道哪些JavaScript结构是对象？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/8beec01f7a0e9d43bd44ca4af8585e51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CNG9uiWWvETtnTCuIloOOQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我不痛苦...</p></figure><p id="5186" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数组、函数和对象(显然)都是JavaScript中的对象。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f63a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">那还剩下什么？</h1><p id="2b1e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">剩下的是JavaScript原语。什么是原始人？这个定义就是数据，它不是一个对象，也没有方法。JS原语包括:</p><ul class=""><li id="17f3" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu nm nn no np bi translated"><code class="fe nq nr ns nt b">string</code></li><li id="6e4b" class="nh ni it lb b lc nu lf nv li nw lm nx lq ny lu nm nn no np bi translated"><code class="fe nq nr ns nt b">number</code></li><li id="7d08" class="nh ni it lb b lc nu lf nv li nw lm nx lq ny lu nm nn no np bi translated"><code class="fe nq nr ns nt b">boolean</code></li><li id="1aea" class="nh ni it lb b lc nu lf nv li nw lm nx lq ny lu nm nn no np bi translated"><code class="fe nq nr ns nt b">null</code></li><li id="0bde" class="nh ni it lb b lc nu lf nv li nw lm nx lq ny lu nm nn no np bi translated"><code class="fe nq nr ns nt b">undefined</code></li><li id="e64c" class="nh ni it lb b lc nu lf nv li nw lm nx lq ny lu nm nn no np bi translated"><code class="fe nq nr ns nt b">symbol</code></li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="48bd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">问题解决了，对吧？</h1><p id="daaa" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">所以对象是对象，原语不是对象，我们百万美元问题的答案是<em class="nc">假</em>，对吗？不完全是。对象和原语之间的一个主要区别是，对象是可变的(意味着它们可以被改变)，而原语是不可变的(意味着它们不能被改变)。基元类型不可变的原因是基元没有附加方法，这意味着首先不可能改变字符串。一个原语有一个值，没有属性。</p><p id="536b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中，这些都是真的。你不能改变一个字符串，它是一个原语。您可以重新分配变量，但这不会影响原始值。虽然这个事实可能会让我们相信我们的案例已经结束，但是当我们运行像<code class="fe nq nr ns nt b">string.length</code>或<code class="fe nq nr ns nt b">string.split(',')</code>这样的代码时，问题就出现了。正如我们在上面发现的，如果一个字符串确实是一个原语，它就不应该访问像<code class="fe nq nr ns nt b">.length</code>或<code class="fe nq nr ns nt b">.slice</code>这样的属性和方法。那是一种仅限于物体的能力。那么这是否意味着原语<em class="nc">是</em>对象？</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3441" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">这是怎么回事？进入自动装箱</h1><p id="3808" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">答案是一点JavaScript魔法，包括包装对象和自动装箱。这听起来很复杂，但是深呼吸，我保证很快就会明白。当一个像<code class="fe nq nr ns nt b">string.length</code>这样的方法在一个像字符串这样的原始类型上被调用时，JavaScript发起一个叫做<em class="nc">自动装箱</em>的动作。</p><p id="0cb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自动装箱是JavaScript将原语包装在对象中的过程，但只是暂时的。详细由<a class="ae ky" href="http://blog.brew.com.hk/not-everything-in-javascript-is-an-object/" rel="noopener ugc nofollow" target="_blank">李彦宏</a>，</p><blockquote class="mz na nb"><p id="b23f" class="kz la nc lb b lc ld ju le lf lg jx lh nd lj lk ll ne ln lo lp nf lr ls lt lu im bi translated"><code class="fe nq nr ns nt b">String</code>是一个全局函数，它在传递参数时创建一个原始字符串，但是您也可以将<code class="fe nq nr ns nt b">String</code>函数用作构造函数。这将创建一个表示字符串<code class="fe nq nr ns nt b">"dog"</code>的新对象(通常称为<em class="it">包装对象</em>),具有以下属性:</p></blockquote><pre class="kj kk kl km gt nz nt oa ob aw oc bi"><span id="e3dc" class="od md it nt b gy oe of l og oh"><strong class="nt iu">const pet = new String("dog")</strong></span><span id="9082" class="od md it nt b gy oi of l og oh"><strong class="nt iu">{<br/>  0: "d",<br/>  1: "o",<br/>  2: "g",<br/>  length: 3 <br/>}</strong></span></pre><p id="67e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当在原始字符串上调用<code class="fe nq nr ns nt b">.length</code>时，JavaScript引擎将该字符串转换为一个<code class="fe nq nr ns nt b">String</code>对象，如上所示。然后它是可变的，您可以访问许多附加到<code class="fe nq nr ns nt b">String</code>的内置方法。一旦方法被解析，上面的包装对象就被丢弃。这同样适用于数字和布尔值(不适用于null和undefined)。</p><p id="5b81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是JavaScript在幕后所做工作的分类:</p><ol class=""><li id="b4ce" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu oj nn no np bi translated">创建一个<code class="fe nq nr ns nt b">String</code>包装对象，相当于使用<code class="fe nq nr ns nt b">new String()</code>。</li><li id="461e" class="nh ni it lb b lc nu lf nv li nw lm nx lq ny lu oj nn no np bi translated">在<code class="fe nq nr ns nt b">String</code>包装对象上调用继承的<code class="fe nq nr ns nt b">.length</code>方法。</li><li id="f287" class="nh ni it lb b lc nu lf nv li nw lm nx lq ny lu oj nn no np bi translated">一旦方法完成，包装器<code class="fe nq nr ns nt b">String</code>对象被丢弃。</li><li id="5d53" class="nh ni it lb b lc nu lf nv li nw lm nx lq ny lu oj nn no np bi translated">返回变异后的原始字符串(如果使用了类似<code class="fe nq nr ns nt b">substr( )</code>的方法)。</li></ol></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="78d8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">JavaScript中的一切都是对象吗？</h1><p id="9e58" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">不完全是。更准确地说，JavaScript中的所有东西都可以表现得像一个对象<em class="nc">。</em>像<code class="fe nq nr ns nt b">String</code>、<code class="fe nq nr ns nt b">boolean</code>和<code class="fe nq nr ns nt b">number</code>这样的原语可以表现得像对象一样，这要感谢JavaScript的对象包装和自动装箱特性。希望这有帮助！</p><p id="bd87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续回答<em class="nc">假</em> <strong class="lb iu"> <em class="nc"> </em> </strong>领取您的现金！</p></div></div>    
</body>
</html>