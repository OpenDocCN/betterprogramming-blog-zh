<html>
<head>
<title>Intro to Computer Vision: Take Your First Steps With OpenCV for Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">计算机视觉介绍:使用OpenCV for Python迈出第一步</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/intro-to-computer-vision-take-your-first-steps-with-opencv-for-python-cd481a9b30e?source=collection_archive---------9-----------------------#2020-12-03">https://betterprogramming.pub/intro-to-computer-vision-take-your-first-steps-with-opencv-for-python-cd481a9b30e?source=collection_archive---------9-----------------------#2020-12-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2ce6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解用于Python的图像处理和计算机视觉的主库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5d4a2aff657f74fd7ae65df408271733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vCYu_lXUy8dKPKrD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@zoltantasi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Zoltan·塔斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b3e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论你是想为自动驾驶汽车建立一个复杂的深度学习模型，一个实时人脸识别程序，还是为你的研究生项目开发自己的图像处理软件，你都必须在这个过程中学习<a class="ae ky" href="https://opencv.org/" rel="noopener ugc nofollow" target="_blank"> OpenCV </a>。</p><p id="ea79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OpenCV是一个巨大的图像和视频处理库，设计用于许多语言，如Python、C/C++、Java等等。它如此流行和强大，以至于它是你所知道的许多处理图像处理的应用程序的基础。</p><p id="39ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始使用OpenCV可能很有挑战性，尤其是如果你依赖于它的官方文档——众所周知，它很麻烦，很难理解。</p><p id="51bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天我们将学习如何使用OpenCV，我将尽我所能保持简单。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3145" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装OpenCV</h1><p id="7e11" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在是时候使用一个简单的命令安装OpenCV了:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b538" class="ne md it na b gy nf ng l nh ni">pip3 install opencv-python</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8934" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">导入简单图像</h1><p id="eecb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">您需要学习的第一件事是如何导入一个简单的图像并使用OpenCV显示它。</p><p id="be41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码很简单:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="7961" class="ne md it na b gy nf ng l nh ni">import cv2</span><span id="4e32" class="ne md it na b gy nj ng l nh ni"># Read the image<br/>img = cv2.imread("image.jpg")</span><span id="6b08" class="ne md it na b gy nj ng l nh ni"># Display the image<br/>cv2.imshow("Image", img)</span><span id="1094" class="ne md it na b gy nj ng l nh ni"># Wait for a keypress<br/>cv2.waitKey(0)</span><span id="224a" class="ne md it na b gy nj ng l nh ni"># Clean up<br/>cv2.destroyAllWindows()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/f1b791c57d68932b4f233cda61caa4bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SieGadfNy85k2N13.jpg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">阅读我们的第一张图片</p></figure><p id="6276" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">读完代码后，如果你认为我们做的不仅仅是加载图像，那你就对了。毕竟，用OpenCV加载图像只需要一行Python代码:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="a4f0" class="ne md it na b gy nf ng l nh ni">img = cv2.imread("image.jpg")</span></pre><p id="947d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么剩下的呢？嗯，我们要做的第一件事是导入库。只有这样，我们才能使用<code class="fe nl nm nn na b">imread</code>方法读取图像，并将图像的路径作为唯一的参数传递。</p><p id="b0e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们现在停止程序，我们已经加载了图像，但没有对它做任何事情，因此，相反，让我们至少在一个新窗口中显示图像，以便用户可以看到结果。为此，我们将使用<code class="fe nl nm nn na b">cv2.imshow</code>并将窗口名称和图像作为参数传递。</p><p id="ac17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们将Python化，直到我们按下一个键或关闭窗口才退出程序。然后我们通过摧毁所有打开的窗户来清理一切。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6ae0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">加载视频</h1><p id="e2d8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">OpenCV不仅擅长处理图像，也擅长处理视频。视频流可以从视频文件加载，也可以直接从网络摄像头等视频源加载。</p><p id="d455" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一个示例中，我们将从网络摄像头加载视频，并在新窗口中呈现:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="0893" class="ne md it na b gy nf ng l nh ni">import cv2</span><span id="a0ff" class="ne md it na b gy nj ng l nh ni"># Load the video stream<br/>video = cv2.VideoCapture(0)</span><span id="5557" class="ne md it na b gy nj ng l nh ni">while(True):<br/>   # Capture each frame as an image<br/>   ret, frame = video.read()</span><span id="855d" class="ne md it na b gy nj ng l nh ni">   # show the image on the screen<br/>   cv2.imshow('frame', frame)<br/>     <br/>   # Stop the playback when pressing ‘q’<br/>   if cv2.waitKey(1) == ord('q'):<br/>       Break</span><span id="5c35" class="ne md it na b gy nj ng l nh ni"># Release the video from memory<br/>video.release() </span><span id="001b" class="ne md it na b gy nj ng l nh ni"># Clean up<br/>cv2.destroyAllWindows()</span></pre><p id="6ea3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码是不言自明的，但是让我们详细回顾一下。我们使用方法<code class="fe nl nm nn na b">VideoCapture</code>来加载视频资源。第一个参数定义了我们正在读取的输入。通过传递一个<code class="fe nl nm nn na b">0</code>，我们指的是主摄像头(如果存在的话)。如果您有多个网络摄像头连接，您可以使用<code class="fe nl nm nn na b">1</code>、<code class="fe nl nm nn na b">2</code>等。如果您的视频被捕获并保存在一个文件中，您可以传递一个带有文件路径的字符串。</p><p id="99a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们开始一个循环，这个循环只在用户命令时结束，但稍后会更多地结束。这里重要的是循环内部发生了什么。我们要做的第一件事是让我们的<code class="fe nl nm nn na b">VideoCapture</code>读一帧视频。对于摄像机，它将是摄像机当时的快照，对于视频文件，它将是当前的视频帧。</p><p id="313a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们从视频负载中读取的每一帧都像读取图像一样至关重要，因为这意味着我们在处理视频时拥有整个OpenCV函数库。</p><p id="c42e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，用<code class="fe nl nm nn na b">read</code>捕获的帧输出可以传递给方法<code class="fe nl nm nn na b">imshow</code>，就像我们在前面处理图像的例子中所做的一样。</p><p id="3ca1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">漂亮！</p><p id="1824" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在视频正在播放，但是没有办法跳出<code class="fe nl nm nn na b">while</code>循环，所以让我们通过检测<code class="fe nl nm nn na b">q</code>键是否被按下来建立一个退出策略。如果有，那么我们退出清理活动的循环。</p><p id="1da5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们有一个额外的清理步骤，释放相机或视频文件，因为即使我们不再读取任何帧，我们仍然有对象在内存中打开。我们可以通过使用来自<code class="fe nl nm nn na b">VideoCapture</code>对象的方法<code class="fe nl nm nn na b">release</code>来做到这一点。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0d87" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">调整图像大小</h1><p id="91dc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">改变图像尺寸有着广泛的应用，从优化尺寸、缩放，甚至输入神经网络来执行一些魔术。如果调整图像大小是你想要的，OpenCV可以满足你。</p><p id="2059" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们看一个如何调整图像大小的例子:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6654" class="ne md it na b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("image.jpg")<br/>scale = 60<br/>width = int(img.shape[1] * scale / 100)<br/>height = int(img.shape[0] * scale / 100)<br/>dim = (width, height)<br/>resized_img = cv2.resize(img, dim, cv2.INTER_AREA)<br/>cv2.imshow("Resized_Image", resized_img)<br/>cv2.waitKey(0)<br/>cv2.destroyAllWindows()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/2b5225de2385ecbcbafeb8fcb317446b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pZOMLRCmoxdfnIhn.jpg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">调整图像大小</p></figure><p id="abf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这非常简单，所以我们给它添加了一些味道，我们不是简单地将图像调整到特定的大小，而是将图像缩小了一个系数<em class="no"> x </em>(在我们的例子中是60%)。注意，如果我们针对特定的维度，代码会更简单。</p><p id="b08d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">方法<code class="fe nl nm nn na b">resize</code>期望至少两个参数:要调整大小的图像和新的尺寸(在<em class="no"> x </em>和<em class="no"> y </em>中作为一个元组)。可选地，我们可以传递第三个参数来定义插值，如<a class="ae ky" href="https://docs.opencv.org/4.3.0/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d" rel="noopener ugc nofollow" target="_blank"> resize函数文档</a>中所述。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7213" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">切换色彩空间</h1><p id="a0ac" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当我们使用OpenCV读取图像时，我们将颜色视为通道或图像数组的深度，其中每个通道或维度对应一种颜色。最常见的颜色空间，也是您可能已经知道的颜色空间，是RGB，<em class="no"> </em>由三个通道组成:红色、绿色和蓝色。</p><p id="a0ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但其他系统可以在图像上表示颜色，如LAB、YCrCb、HLS和HSV等。他们每个人都有不同的特点值得研究和学习。</p><p id="a3d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">设置图像颜色的一个更流行的选项是灰度，其中只有一个通道定义每个像素。让我们看一个如何将彩色图像转换成灰度图像的例子。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="e05d" class="ne md it na b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("image.jpg")<br/>gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br/>cv2.imshow("Gray", gray)<br/>cv2.waitKey(0)<br/>cv2.destroyAllWindows()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/a2708a184a1f19787af6bd8bc8e7251e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Jh_0pC8ODFHuptZ_.jpg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">灰度图像</p></figure><p id="94b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">奇迹发生的函数是<code class="fe nl nm nn na b">cvtColor</code>，它需要两个参数，图像和颜色空间，并在不改变原始图像的情况下返回新图像。幸运的是，OpenCV已经为每个已知的颜色空间转换定义了值。在我们的例子中，我们使用<code class="fe nl nm nn na b">COLOR_BGR2GRAY</code>，它将BGR转换为灰色。</p><p id="2804" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么BGR是什么？这是OpenCV加载图像的默认方式。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d9c1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">保存图像</h1><p id="67c8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们经常需要在处理图像后保存图像结果，可能是在改变其颜色空间、进行图像变换或对图像进行任何其他操作后。</p><p id="d083" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下代码显示了如何在将图像的颜色更改为灰度后保存图像:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="08d4" class="ne md it na b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("image.jpg")<br/>gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br/>cv2.imshow("Gray", gray)<br/>cv2.imwrite("image_gray.jpg", gray)<br/>cv2.waitKey(0)<br/>cv2.destroyAllWindows()</span></pre><p id="8611" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以看到我们使用了一个名为<code class="fe nl nm nn na b">imwrite</code>的函数，它负责在为新保存的图像指定路径后，将灰色图像保存在我们的计算机上。在本例中，我们需要保存的实际图像是变量gray。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7a2f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">图像平滑</h1><p id="3735" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">OpenCV提供了使图像更平滑的工具，并有助于减少图像上的噪声。这一过程是完全自动化的，其工作原理的所有复杂性都为我们封装在一个简单易用的功能中。</p><p id="3b37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">平滑图像是为了提高图像的质量，虽然并不完美，但在某些情况下，这可能是一个实质性的变化，也是在进一步处理中使用图像的关键。</p><p id="a8d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是如何对图像使用平滑的示例:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="a3f9" class="ne md it na b gy nf ng l nh ni">import cv2 as cv<br/>img = cv2.imread("early_1800.jpg")<br/>blur = cv2.blur(img, (5, 5))<br/>cv2.imshow("Blur", blur)<br/>cv2.waitKey(0)<br/>cv2.destroyAllWindows()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/7dda1a281a2ec5dc47a882c2e9c37229.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A5neStqPjRvK_ZQI.jpg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原象</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/21f461cccae2338989c94575996d6af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Goc1KZeH5Qr7UBCO.jpg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">平滑图像</p></figure><p id="9d44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图像看起来好多了，但是这一切是如何工作的呢？这是通过OpenCV库中的方法<code class="fe nl nm nn na b">blur</code>完成的，该方法期望图像和内核大小作为参数，内核大小是一个元组来反映<em class="no"> x </em>和<em class="no"> y </em>轴。请注意，<em class="no"> x </em>和<em class="no"> y </em>的不同值会导致不同的输出，因此您必须为您的图像调整这些值。</p><p id="7258" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">内核大小的工作原理是取一个小的像素区域(在我们的例子中是5x5)，取这些像素的平均值，然后替换真实的像素以获得新的小噪声图像。</p><p id="c702" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有其他方法来平滑图像，例如使用<code class="fe nl nm nn na b">gaussianBlur</code>或<code class="fe nl nm nn na b">medianBlur</code>——两者的工作原理相似。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3e8b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">在图像上绘图</h1><p id="4856" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">到目前为止，我们一直在玩图像，没有给它们添加任何新的东西。是时候改变这种状况了。OpenCV不仅允许我们对图像进行变换和特效，还允许我们对图像进行修改或绘制。</p><p id="a716" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果您试图开发一个对象跟踪程序或人脸识别程序，并希望在其中绘制一个正方形或形状来突出显示已识别的对象，那么在图像上绘图会非常有用。</p><p id="6890" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在图像上画几个几何图形来说明它是如何工作的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c79e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">画一条线</h1><p id="ffde" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们将尝试使用<code class="fe nl nm nn na b">line</code>功能在图像上画一条线:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="9faa" class="ne md it na b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("image.jpg")<br/>line = cv2.line(img, (20, 20), (150, 150), (255, 0, 0), 5)<br/>cv2.imshow("Line", line)<br/>cv2.waitKey(0)<br/>cv2.destroyAllWindows()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/f728bbebac24f2c59b336225b0624a0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PJf51L0KAwMGlxor.jpg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">画一条线</p></figure><p id="9817" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nl nm nn na b">line</code>函数需要图像和另外四个参数:在<em class="no"> (x1，y1) </em>中的线的起点，在<em class="no"> (x2，y2) </em>中的线的终点，线的颜色(在我们的图像中是BGR)，以及它的像素粗细。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="dd59" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">画一个矩形</h1><p id="67fd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我认为矩形是最常用的形状，至少在人工智能世界中，因为它们通常用于跟踪图像上的物体，如人脸、汽车或交通标志。它们也非常容易使用。这里有一个例子:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="fcdf" class="ne md it na b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("image.jpg")<br/>rectangle = cv2.rectangle(img, (200, 200), (450, 450), (255, 0, 0), 5)<br/>cv2.imshow("Rectangle", rectangle)<br/>cv2.waitKey(0)<br/>cv2.destroyAllWindows()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/828eb2fdcf2a6e92ff16bc2700245ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Wbou04up8J7GvjMK.jpg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">画一个矩形</p></figure><p id="c972" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nl nm nn na b">rectangle</code>功能与<code class="fe nl nm nn na b">line</code>功能非常相似。它需要图像和另外四个参数:矩形的左上角在<em class="no"> (x1，y1) </em>，矩形的右下角在<em class="no"> (x2，y2) </em>，线条的颜色(在我们的图像中是BGR)，以及它的像素粗细。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e007" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">画一个圆</h1><p id="7cd3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们最后要画的是图像上的一个小圆圈，当你在追踪一个像球一样的圆形物体时，这个小圆圈会很有用。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="e2bb" class="ne md it na b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("image.jpg")<br/>circle = cv2.circle(img, (300, 300), 50, (255, 0, 0), 5)<br/>cv2.imshow("Circle", circle)<br/>cv2.waitKey(0)<br/>cv2.destroyAllWindows()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/b6332dcba7c1cb4c9a74e21a4b89a5f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DpWcOSW27oFlv2iI.jpg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">画一个圆</p></figure><p id="5622" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，所有这些功能都非常相似。为了在图像上呈现一个圆，我们使用了<code class="fe nl nm nn na b">circle</code>函数，该函数需要图像和另外四个参数:圆在<em class="no"> (x，y)中的中心点、</em>以像素为单位的半径、颜色和线条粗细。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6cc8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="6d34" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">OpenCV是一个处理图像和视频的令人兴奋的强大的库。它的广泛用途从作为一个简单的助手库到执行图像操作到实现最先进的计算机视觉算法。</p><p id="7732" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天我们只讨论了这个库的一小部分功能。如果你喜欢这篇文章，我推荐你也阅读我的关于基本OpenCV函数的文章，这将进一步扩展你的库知识。</p><p id="5d94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">计算机视觉是一个令我着迷的话题，未来我会写更多关于OpenCV的内容——敬请期待。</p><p id="bb36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>