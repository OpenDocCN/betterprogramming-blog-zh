<html>
<head>
<title>The Many Flavours of Micro Front Ends</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多种口味的微前端</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-many-flavours-of-micro-front-ends-2db4b21dfbaa?source=collection_archive---------8-----------------------#2020-06-09">https://betterprogramming.pub/the-many-flavours-of-micro-front-ends-2db4b21dfbaa?source=collection_archive---------8-----------------------#2020-06-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a9bd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在下一个应用中实现微前端的3种方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/03c6b6ca25b5f325735ebd634523bac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nqbnrJzgmNJN1Ci0"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">劳伦·曼克在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="fa05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着前端应用尺寸的增加和处理变得更加复杂，微前端可能成为一个有吸引力的选择。</p><p id="3593" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用微前端意味着我们将应用分成多个部分。类似于后端架构中的微服务，微前端也是较大应用程序的隔离部分。</p><p id="87bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好处是每个应用程序可以分成多个微前端，每个微前端由一个团队开发。这导致了更容易的独立开发，更快的发布周期，以及更多的团队自治。</p><p id="75fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，它们伴随着开销。在微前端工作更复杂。它可能涉及更复杂的应用程序架构和CI过程，这意味着在由多个团队进行开发的更大的应用程序环境中，您可能会看到更多的好处。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fd84" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.使用NPM软件包</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/6000675da8b801a6db991f999b4cbb2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2D51zVBwOVcwVxKXs0kOxA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用NPM软件包——作者照片。</p></figure><p id="2fb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第一种风格中，我们的应用程序分为多个特性。每个功能都是一个NPM包。它们可以由每个团队独立开发，必要时，可以发布新版本。</p><p id="59a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些特性中的每一个都被加载到一个应用外壳中，该外壳将是所有微前端的外壳。这个shell将把所有特性作为NPM包安装，并作为一个大型应用程序运行。</p><p id="4b82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好处:</p><ul class=""><li id="cabc" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">每个团队可以使用他们自己的工作方式和最佳实践。</li><li id="8323" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">功能的版本控制。</li><li id="9b12" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">一个特性的改变不太可能破坏另一个特性。</li><li id="ff80" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">默认情况下，特性之间的耦合没有整体应用程序那么紧密。</li></ul><p id="c5b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缺点:</p><ul class=""><li id="2c7d" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">比整体方法的开销更大。</li><li id="e2b2" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated"><a class="ae ky" href="https://semver.org/" rel="noopener ugc nofollow" target="_blank">永远</a>需要严格遵守的特性。</li><li id="e6e8" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">对于每次更改，应用程序外壳仍然需要重新构建。</li><li id="1d2b" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">依赖于框架。在理想的场景中，只使用一个框架。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2298" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.使用远程CDN</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/fcba49204a3ee5ae58bd199db883717a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0oSNwm5jzpmOw6uqnFRM8g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在CDN上发布NPM模块—作者照片。</p></figure><p id="bb56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第二种味道中，我们更进一步。特性不再在构建时安装，而是在运行时获取。这是通过将每个功能发布到内容交付网络上来实现的。</p><p id="1e31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个架构可以通过使用<a class="ae ky" href="https://single-spa.js.org/" rel="noopener ugc nofollow" target="_blank">单SPA </a>框架来构建。这是一个用于微前端的顶级路由器，将加载并执行每条路由的每个功能。例如，转到route <code class="fe nj nk nl nm b">/feature-a</code>将加载一个微前端，转到<code class="fe nj nk nl nm b">/feature-b</code>将在应用程序外壳中加载另一个微前端。</p><p id="4d47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好处:</p><ul class=""><li id="433f" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">与NPM一揽子方案具有相同的优势。</li><li id="e382" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">无需为每次更改重建应用程序外壳。</li><li id="7548" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">配置项独立于每个功能。</li></ul><p id="8467" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缺点:</p><ul class=""><li id="0e86" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">没有真正的内置版本控制。</li><li id="3b66" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">设置起来更复杂。</li><li id="118d" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">共享应用程序状态比较棘手(<code class="fe nj nk nl nm b">browserEvents</code>，cookies等)。).</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="551f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.单独托管</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/59ef1eed8a46ec59bd74c48956e253ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GxSSSoWXYG-ocuyzsINpcA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">单独主办—作者照片。</p></figure><p id="0fad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于第三种风格，每个微前端托管在另一个彼此完全分离的URL上。仍然有一个应用程序外壳，但是现在每个特性都是在使用iframes时加载的。这意味着特性A可以在http://feature-a.com的<a class="ae ky" href="http://feature-a.com" rel="noopener ugc nofollow" target="_blank">举办，而特性B可以在http://feature-b.com的</a><a class="ae ky" href="http://feature-b.com" rel="noopener ugc nofollow" target="_blank">举办。</a></p><p id="2516" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好处:</p><ul class=""><li id="2571" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">无需为每次更改重建整个应用程序。</li><li id="3c0b" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">没有复杂的配置项设置。</li><li id="3f16" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">每个团队端到端地控制他们的应用程序。</li></ul><p id="67db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缺点:</p><ul class=""><li id="e789" class="mv mw it lb b lc ld lf lg li mx lm my lq mz lu na nb nc nd bi translated">劣等UX。</li><li id="4ec3" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">共享应用程序状态很棘手。</li><li id="d9eb" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated">已知的iframe问题。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="87e8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">包扎</h1><p id="4f0c" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">希望这三个模型已经激发了您进一步深入微前端的兴趣。承认随之而来的管理费用是很重要的。然而，在更大的应用程序中，它们可能是一个惊人的工具。</p><p id="ff24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，第一个味道(使用NPM包)可能是一个很好的进入微前端模型。小的缺点很容易克服，在较大的应用中好处很容易超过它们。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1417" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">资源</h1><ul class=""><li id="a467" class="mv mw it lb b lc nn lf no li ns lm nt lq nu lu na nb nc nd bi translated"><a class="ae ky" href="https://micro-frontends.org/" rel="noopener ugc nofollow" target="_blank">https://micro-frontends.org/</a></li><li id="a931" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated"><a class="ae ky" href="https://martinfowler.com/articles/micro-frontends.html" rel="noopener ugc nofollow" target="_blank">https://martinfowler.com/articles/micro-frontends.html</a></li><li id="5575" class="mv mw it lb b lc ne lf nf li ng lm nh lq ni lu na nb nc nd bi translated"><a class="ae ky" href="https://single-spa.js.org/" rel="noopener ugc nofollow" target="_blank">https://single-spa.js.org/</a></li></ul></div></div>    
</body>
</html>