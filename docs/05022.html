<html>
<head>
<title>How to Draw in 3D With SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用SwiftUI进行3D绘图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-draw-in-3d-with-swiftui-7989cfcd35fc?source=collection_archive---------9-----------------------#2020-06-01">https://betterprogramming.pub/how-to-draw-in-3d-with-swiftui-7989cfcd35fc?source=collection_archive---------9-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c6f6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用原生SwiftUI代码在3D中绘图</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/de21c6b2ab7b595b0b0df17f40697b85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ybW18Os93_9OHFHs"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@marjan_blan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">марьянблан| @ marjanblan</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="1b13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我四月份发表的一篇文章中，我使用SwiftUI中的<code class="fe lv lw lx ly b">rotate</code>标签来旋转多米诺骨牌。所讨论的标签可以被认为是一个方便的选项。我这么说是因为有一种更先进的技术可以给你更多的控制。</p><p id="fe0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前两个元素——移动的角度和要旋转对象的轴——与便捷版本完全相同。但是在高级方法中，您可以使用另外三个变量。因此，这个标签是SwiftUI军械库中最复杂的标签之一。希望这种复杂性会随着你的阅读而消失。</p><p id="6abf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">先说主播。这基本上决定了你想在哪一边旋转。锚的效果与你旋转的轴紧密相连。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/e7c67ece1f9cec332ae5a9db6a8d7d2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MiTg3aq8d4HOIFagzVGIyg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">绕Z轴旋转360度。</p></figure><p id="6b06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，我改变了360度的旋转角度，最初是在Z轴上。下面是幕后的代码(注意，这个要点是为下面的部分准备的):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="6550" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以清楚地看到上面代码中的<code class="fe lv lw lx ly b">rotation3DEffect</code>标签，我制作动画的唯一变量是<code class="fe lv lw lx ly b">pivotDegree</code>。下面是运行中的代码，它使绿色、蓝色和紫色的盒子转动:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/c7bb01916e4f298165f6631eae7839c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oTqc-xIIjWczuLQm6u_ynw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">绕X轴旋转360度。</p></figure><p id="2760" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，你也可以在Y轴上旋转。下一个例子正好说明了这一点:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/b3f2adc553bb4ed2432eed0207ee219a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pbFdUx5nNBGuVGVhGFm8VQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">绕Y轴旋转360度。</p></figure><p id="e7b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我没有提到它，但我们确实在这里也使用/设置了透视，设置为0.5。它控制摆动的幅度。数字越高，摆动幅度越大。下面是一张GIF图，展示了1.2的视角和一些至理名言:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/7018ac66c82d903cfbe01b30fc021a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*a9CP7LSlD8c9KoyNfibXhA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">透视设置为4的每个文本对象的旋转。</p></figure><p id="ce58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:当我们转过90度时，它消失了。我们稍后会用到它。</p><p id="33d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这给我们带来了最具挑战性的变量:T3。将运行下面动画的代码设置为值10、20、30、40、50、60和90。我选择这些值是因为它们符合我正在移动的矩形的大小。<code class="fe lv lw lx ly b">anchorZ</code>控制你旋转的直径的中心点。你可以最清楚地看到最末端的红色/粉色方块的效果，它拉向后面，然后向前摆动到前面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/dd94aa14df34613d90c09571e93aedef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MOk9vhBFGKe4djqWAxBUbA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Z锚上旋转360度。</p></figure><p id="f66e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实上，我只是把事情简化了一点点。你看，我使用的锚值是类型<code class="fe lv lw lx ly b">UnitPoint</code>。预置很少，但是您可以混合和匹配自己的组合，以获得一些非常酷的效果:</p><pre class="kj kk kl km gt mc ly md me aw mf bi"><span id="3d64" class="mg mh it ly b gy mi mj l mk ml">@State var anchorPView: UnitPoint = UnitPoint(x: 0, y: 0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/42599c822433187a070628bc2d5b0bb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8iWD_pcqv_euLCjPPM1MoQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">围绕自定义轴旋转360度。</p></figure><p id="4870" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些值有点奇怪，因为我们在X轴上旋转并改变了<code class="fe lv lw lx ly b">UnitPoint</code>变量中的Y值。这里的值0实际上是一个<code class="fe lv lw lx ly b">UnitPoint.top</code>，值1是一个<code class="fe lv lw lx ly b">UnitPoint.bottom</code>。其他值介于两者之间。就度数而言，我们正在360度旋转，所以是一个完整的圆。请注意，它看起来与前面的示例非常相似。它使用透视，但值只有0.5。我们在动画结尾的卡片在队伍中前后摆动。</p><p id="6d6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是这段代码的一部分:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="d107" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，事情可能会变得混乱，因为许多属性是相互关联的。所以如果你不小心改变了两个相反的变量，它们会互相抵消，看起来你什么都没改变。</p><p id="2fe3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在SwiftUI中讨论了很多关于3D旋转的基础知识，但是关于一个物体呢？</p><p id="5a02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们专注于建立一个立方体。它有六个方面，尽管为了简单起见，我只担心其中的四个方面。我们的两条边将从90度开始，使它们不可见，我们的两条边将处于0度(因此面朝上)。当我们旋转物体时，我们需要在两个面上使用偏移来保持所有的东西在一起。为了帮助我们获得正确的旋转，我们使用至少0.5的透视值，这样我们就可以在旋转时看到我们是否获得了正确的旋转。如果我们在每个面上添加一行文字，这样我们就可以知道它在转动时向哪个方向翻转，这也很有帮助。有时候，这并不明显。最后，我们使用不透明度，因为我们建立它来掩盖脸是好的。在最后使用不透明度，让你的正面和背面看起来正确。把视角也缩小到最小。否则，根本行不通。</p><p id="4b3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，正如我之前所说的，许多参数是相互影响的，所以在前进时要小心，不要一次更改多个参数。</p><p id="3455" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">遵循这些规则，很快你就会发现自己正在看一个像这样的立方体——一个你可以留下来作为线框或者添加皮肤的立方体。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/1bf0b3a11a504cc260ba1c836f834af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*GTGF1s3asiQBKPxrtNgyvg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用SwiftUI旋转立方体。</p></figure><p id="5abf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是这个GIF的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="069d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我所说，一旦建成，你可以添加一个皮肤和一些微妙的阴影。现在你有了:SwiftUI中的一个3D对象。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/9d57f70fab1621f0db1eb4a455385e04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*X9DIq8a2DFDB0Z96RBnjlQ.gif"/></div></div></figure></div></div>    
</body>
</html>