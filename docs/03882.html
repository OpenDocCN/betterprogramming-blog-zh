<html>
<head>
<title>Utility Classes of the JDK: Collections and Arrays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JDK的实用类:集合和数组</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/utility-classes-of-the-jdk-collections-and-arrays-cc07dbcb8586?source=collection_archive---------17-----------------------#2020-03-10">https://betterprogramming.pub/utility-classes-of-the-jdk-collections-and-arrays-cc07dbcb8586?source=collection_archive---------17-----------------------#2020-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="aa33" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一些你可能不知道的隐藏的小宝石</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7ad124bcc3b887e04ce2291053537baf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZg2MLNYYidhJp_Mk77Lzg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">托马斯·西泽夫斯基在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="9821" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JDK随着每个新版本的推出而不断发展，增加了更多功能并改进了现有功能。在表面之下是隐藏的宝石，可以使我们作为开发人员的生活更加容易。</p><p id="94b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缺失的功能通常由第三方库来补充，比如不同的<a class="ae ky" href="https://commons.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Commons </a>库，或者<a class="ae ky" href="https://github.com/google/guava" rel="noopener ugc nofollow" target="_blank"> Google Guava </a>。但是随着时间的推移，他们的一些功能和想法融入了JDK。</p><p id="e6ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一篇文章强调了实用程序类及其处理集合和数组的静态方法。</p><blockquote class="lv lw lx"><p id="3ff5" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">至少假设Java 8。一些方法在早期版本中可能不可用。所有列出的方法都省略了<code class="fe mc md me mf b">static</code>关键字和泛型类型定义，以减少视觉混乱。每个方法都链接到Oracle提供的<a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/overview-summary.html" rel="noopener ugc nofollow" target="_blank"> Java Platform SE 8文档</a>。</p></blockquote></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="78c3" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">使用集合</h1><p id="6ae6" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">Java 2引入的实用程序类<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html" rel="noopener ugc nofollow" target="_blank">java.util.Collections</a></code>，在Java 5的帮助下通过泛型得到了改进，它提供了许多静态方法来操作或返回集合。</p><h2 id="b51a" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">不可变的空集合</h2><p id="18aa" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">当我们需要返回一个空的集合或者与集合相关的类型时，我们可以创建一个新的空实例。如果我们的代码设计允许这个实例是不可变的，我们可以使用<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html" rel="noopener ugc nofollow" target="_blank">Collections</a></code>来代替一个空的静态实例:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="1fc3" class="nk mo it mf b gy oa ob l oc od">  Set&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptySet--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptySet</strong></a>()</span><span id="1e11" class="nk mo it mf b gy oe ob l oc od"> List&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptyList--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptyList</strong></a>()</span><span id="601a" class="nk mo it mf b gy oe ob l oc od">Map&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptyMap--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptyMap</strong></a>()<br/></span><span id="cdae" class="nk mo it mf b gy oe ob l oc od">  SortedSet&lt;E&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptySortedSet--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptySortedSet</strong></a>()</span><span id="f1ef" class="nk mo it mf b gy oe ob l oc od">SortedMap&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptySortedMap--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptySortedMap</strong></a>()</span><span id="3b1a" class="nk mo it mf b gy oe ob l oc od"> <br/>  NavigableSet&lt;E&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptyNavigableSet--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptyNavigableSet</strong></a>()</span><span id="9182" class="nk mo it mf b gy oe ob l oc od">NavigableMap&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptyNavigableMap--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptyNavigableMap</strong></a>()</span><span id="3119" class="nk mo it mf b gy oe ob l oc od"> <br/> Enumeration&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptyEnumeration--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptyEnumeration</strong></a>()</span><span id="303c" class="nk mo it mf b gy oe ob l oc od">    Iterator&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptyIterator--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptyIterator</strong></a>()</span><span id="f1bb" class="nk mo it mf b gy oe ob l oc od">ListIterator&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptyListIterator--" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">emptyListIterator</strong></a>()</span></pre><h2 id="cd9d" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">一个</h2><p id="8148" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">除了空集合，我们还可以返回一个只有一个元素的不可变集合:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="4539" class="nk mo it mf b gy oa ob l oc od">  Set&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#singleton-T-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">singleton</strong></a>(T o)</span><span id="92b9" class="nk mo it mf b gy oe ob l oc od"> List&lt;T&gt; <strong class="mf iu">singletonList</strong>(T o)</span><span id="181f" class="nk mo it mf b gy oe ob l oc od">Map&lt;K,V&gt; <strong class="mf iu">singletonMap</strong>(K key,<br/>                      V value)</span></pre><h2 id="a93d" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">不变</h2><p id="4b1f" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">创建由现有集合支持的不可修改的视图。这样，我们可以使预先存在的集合不可变:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="bc28" class="nk mo it mf b gy oa ob l oc od">Collection&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableCollection-java.util.Collection-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">unmodifiableCollection</strong></a>(Collection&lt;? extends T&gt; c)</span><span id="b062" class="nk mo it mf b gy oe ob l oc od">       Set&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSet-java.util.Set-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">unmodifiableSet</strong></a>(Set&lt;? extends T&gt; s)</span><span id="bdcc" class="nk mo it mf b gy oe ob l oc od">      List&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableList-java.util.List-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">unmodifiableList</strong></a>(List&lt;? extends T&gt; list)</span><span id="8110" class="nk mo it mf b gy oe ob l oc od">     Map&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableMap-java.util.Map-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">unmodifiableMap</strong></a>(Map&lt;? extends K,? extends V&gt; m)<br/></span><span id="fd99" class="nk mo it mf b gy oe ob l oc od">  SortedSet&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSortedSet-java.util.SortedSet-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">unmodifiableSortedSet</strong></a>(SortedSet&lt;T&gt; s)</span><span id="783d" class="nk mo it mf b gy oe ob l oc od">SortedMap&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableSortedMap-java.util.SortedMap-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">unmodifiableSortedMap</strong></a>(SortedMap&lt;K,? extends V&gt; m)<br/></span><span id="5443" class="nk mo it mf b gy oe ob l oc od">  NavigableSet&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableNavigableSet-java.util.NavigableSet-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">unmodifiableNavigableSet</strong></a>(NavigableSet&lt;T&gt; s)</span><span id="0d36" class="nk mo it mf b gy oe ob l oc od">NavigableMap&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableNavigableMap-java.util.NavigableMap-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">unmodifiableNavigableMap</strong></a>(NavigableMap&lt;K,? extends V&gt; m)</span></pre><h2 id="ca8d" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">排序和(重新)排序</h2><p id="b87a" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated"><a class="ae ky" href="https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html" rel="noopener ugc nofollow" target="_blank">给定集合按自然顺序排序</a>，或者使用提供的<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html" rel="noopener ugc nofollow" target="_blank">Comparator</a></code>:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="d466" class="nk mo it mf b gy oa ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#sort-java.util.List-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">sort</strong></a>(List&lt;T&gt; list)</span><span id="acb6" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#sort-java.util.List-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">sort</strong></a>(List&lt;T&gt; list,<br/>          Comparator&lt;? super T&gt; c)</span></pre><p id="7b9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还支持与排序无关的(重新)排序，如颠倒顺序、旋转或移动所有元素以及随机调整内容:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="f1db" class="nk mo it mf b gy oa ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#reverse-java.util.List-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">reverse</strong></a>(List&lt;?&gt; list)</span><span id="d09f" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">rotate</strong></a>(List&lt;?&gt; list,<br/>            int distance)</span><span id="60f2" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">shuffle</strong></a>(List&lt;?&gt; list)</span><span id="b28c" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-java.util.Random-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">shuffle</strong></a>(List&lt;?&gt; list,<br/>             Random rnd)</span></pre><h2 id="6b06" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">二进位检索</h2><p id="ea5d" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">可以使用<a class="ae ky" href="https://en.wikipedia.org/wiki/Binary_search_algorithm" rel="noopener ugc nofollow" target="_blank">二分搜索法算法</a>来定位特定元素的索引，而不是遍历集合:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="4870" class="nk mo it mf b gy oa ob l oc od">int <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">binarySearch</strong></a>(List&lt;? extends Comparable&lt;? super T&gt;&gt; list,<br/>                 T key)</span><span id="df11" class="nk mo it mf b gy oe ob l oc od">int <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">binarySearch</strong></a>(List&lt;? extends T&gt; list,<br/>                 T key,<br/>                 Comparator&lt;? super T&gt; c)</span></pre><h2 id="e3e1" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">线程安全</h2><p id="de72" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">创建现有集合的同步(线程安全)视图:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="b3fb" class="nk mo it mf b gy oa ob l oc od">Collection&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedCollection-java.util.Collection-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">synchronizedCollection</strong></a>(Collection&lt;T&gt; c)</span><span id="d899" class="nk mo it mf b gy oe ob l oc od">Set&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSet-java.util.Set-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">synchronizedSet</strong></a>(Set&lt;T&gt; s)</span><span id="226b" class="nk mo it mf b gy oe ob l oc od">List&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedList-java.util.List-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">synchronizedList</strong></a>(List&lt;T&gt; list)</span><span id="67eb" class="nk mo it mf b gy oe ob l oc od">Map&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedMap-java.util.Map-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">synchronizedMap</strong></a>(Map&lt;K,V&gt; m)</span><span id="ac8a" class="nk mo it mf b gy oe ob l oc od">SortedSet&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSortedSet-java.util.SortedSet-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">synchronizedSortedSet</strong></a>(SortedSet&lt;T&gt; s)</span><span id="297c" class="nk mo it mf b gy oe ob l oc od">SortedMap&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSortedMap-java.util.SortedMap-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">synchronizedSortedMap</strong></a>(SortedMap&lt;K,V&gt; m)</span><span id="4ca0" class="nk mo it mf b gy oe ob l oc od">NavigableSet&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedNavigableSet-java.util.NavigableSet-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">synchronizedNavigableSet</strong></a>(NavigableSet&lt;T&gt; s)</span><span id="b070" class="nk mo it mf b gy oe ob l oc od">NavigableMap&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedNavigableMap-java.util.NavigableMap-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">synchronizedNavigableMap</strong></a>(NavigableMap&lt;K,V&gt; m)</span></pre><p id="ed4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了保持线程安全，对后备集合的所有访问都必须由返回的同步集合进行。</p><p id="57c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个限制是，如果集合被<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html" rel="noopener ugc nofollow" target="_blank">Iterator</a></code>、<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html" rel="noopener ugc nofollow" target="_blank">Spliterator</a></code>或<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html" rel="noopener ugc nofollow" target="_blank">Stream</a></code>遍历，则需要手动同步。遍历对象<em class="ly">的创建必须</em>在<code class="fe mc md me mf b">synchronized</code>块内:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><h2 id="856a" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">类型安全的非泛型集合</h2><p id="35c3" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在引入泛型之前，集合类型必须处理缺乏类型安全的问题，一切都是一个<code class="fe mc md me mf b">Object</code>。如果我们有这样一个非泛型集合的遗留代码，我们可以创建该集合的类型安全视图:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="5908" class="nk mo it mf b gy oa ob l oc od">Collection&lt;E&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedCollection-java.util.Collection-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedCollection</strong></a>(Collection&lt;E&gt; c,<br/>                                Class&lt;E&gt; type)</span><span id="c892" class="nk mo it mf b gy oe ob l oc od">       Set&lt;E&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedSet-java.util.Set-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedSet</strong></a>(Set&lt;E&gt; s,<br/>                         Class&lt;E&gt; type)</span><span id="18c2" class="nk mo it mf b gy oe ob l oc od">      List&lt;E&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedList-java.util.List-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedList</strong></a>(List&lt;E&gt; list,<br/>                          Class&lt;E&gt; type)</span><span id="eaaf" class="nk mo it mf b gy oe ob l oc od">     Map&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedMap-java.util.Map-java.lang.Class-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedMap</strong></a>(Map&lt;K,V&gt; m,<br/>                         Class&lt;K&gt; keyType,<br/>                         Class&lt;V&gt; valueType)</span><span id="05a2" class="nk mo it mf b gy oe ob l oc od">     Queue&lt;E&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedQueue-java.util.Queue-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedQueue</strong></a>(Queue&lt;E&gt; queue,<br/>                           Class&lt;E&gt; type)</span><span id="6d6f" class="nk mo it mf b gy oe ob l oc od"> <br/>  SortedSet&lt;E&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedSortedSet-java.util.SortedSet-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedSortedSet</strong></a>(SortedSet&lt;E&gt; s,<br/>                                Class&lt;E&gt; type)</span><span id="7993" class="nk mo it mf b gy oe ob l oc od">SortedMap&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedSortedMap-java.util.SortedMap-java.lang.Class-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedSortedMap</strong></a>(SortedMap&lt;K,V&gt; m,<br/>                                Class&lt;K&gt; keyType,<br/>                                Class&lt;V&gt; valueType)</span><span id="db3b" class="nk mo it mf b gy oe ob l oc od"> <br/>  NavigableSet&lt;E&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedNavigableSet-java.util.NavigableSet-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedNavigableSet</strong></a>(NavigableSet&lt;E&gt; s,<br/>                                      Class&lt;E&gt; type)</span><span id="4abc" class="nk mo it mf b gy oe ob l oc od">NavigableMap&lt;K,V&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#checkedNavigableMap-java.util.NavigableMap-java.lang.Class-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">checkedNavigableMap</strong></a>(NavigableMap&lt;K,V&gt; m,<br/>                                      Class&lt;K&gt; keyType,<br/>                                      Class&lt;V&gt; valueType)</span></pre><p id="e2ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个简单的例子来说明如何使<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" rel="noopener ugc nofollow" target="_blank">List</a></code>类型安全:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="4a4d" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">使用数组</h1><p id="dc0c" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">实用程序类<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html" rel="noopener ugc nofollow" target="_blank">java.util.Arrays</a></code>类似于<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html" rel="noopener ugc nofollow" target="_blank">java.util.Collections</a></code>的基于数组的对应物，提供静态方法来操作、排序、复制、搜索数组等。</p><p id="14a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于值类型和<code class="fe mc md me mf b">Object</code>的普遍性，大多数方法可用于值类型，特别是<code class="fe mc md me mf b">Object</code>和泛型。</p><p id="ae7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了不列出每一个方法，占位符<code class="fe mc md me mf b">type[]</code>将作为不同类型的替代。类型<code class="fe mc md me mf b">boolean</code>是一个特例，除非提到，否则它不会支持一个方法。</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="20d1" class="nk mo it mf b gy oa ob l oc od">boolean[]  &lt;-- Only available if explicitly stated<br/>byte[]<br/>char[]<br/>int[]<br/>long[]<br/>short[]<br/>long[]<br/>float[]<br/>double[]<br/>Object[]</span></pre><h2 id="091f" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">列表创建</h2><p id="8587" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">从任意数量的元素创建列表的最简单方法是:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="2533" class="nk mo it mf b gy oa ob l oc od">List&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">asList</strong></a>(T... a)</span></pre><p id="58a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多亏了<code class="fe mc md me mf b"><a class="ae ky" href="https://www.baeldung.com/java-varargs" rel="noopener ugc nofollow" target="_blank">varargs</a></code>，我们可以提供多个元素或者一个数组:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="2786" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" rel="noopener ugc nofollow" target="_blank">List</a></code>实例是不可变的。为了再次创建一个可变视图，我们可以将它包装在另一个<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html" rel="noopener ugc nofollow" target="_blank">ArrayList</a></code>中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><h2 id="fcdc" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">整理</h2><p id="bf64" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">就像以前的集合一样，数组也可以排序。对于值类型，这意味着以数字顺序，对于<code class="fe mc md me mf b">Object</code>和<code class="fe mc md me mf b">&lt;T&gt;</code>，以自然顺序。</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="ab74" class="nk mo it mf b gy oa ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-byte:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">sort</strong></a>(type[] a)</span><span id="5a18" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSort-byte:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelSort</strong></a>(type[] a)</span><span id="2912" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSort-T:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelSort</strong></a>(T[] a)</span></pre><p id="403b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也支持仅对数组的特定范围进行排序:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="8435" class="nk mo it mf b gy oa ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-byte:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">sort</strong></a>(type[] a,<br/>          int fromIndex,<br/>          int toIndex)</span><span id="a14a" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-int-int-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">sort</strong></a>(T[] a,<br/>         int fromIndex,<br/>         int toIndex, Comparator&lt;? super T&gt; c)<br/></span><span id="2288" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSort-byte:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelSort</strong></a>(type[],<br/>                  int fromIndex,<br/>                  int toIndex)</span><span id="077b" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSort-T:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelSort</strong></a>(T[] a,<br/>                  int fromIndex,<br/>                  int toIndex)</span></pre><p id="1967" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果自然顺序不够，可以提供定制<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html" rel="noopener ugc nofollow" target="_blank">Comparator</a></code>:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="66e1" class="nk mo it mf b gy oa ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">sort</strong></a>(T[] a,<br/>          Comparator&lt;? super T&gt; c)</span><span id="2e17" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#sort-T:A-int-int-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">sort</strong></a>(T[] a,<br/>          int fromIndex,<br/>          int toIndex,<br/>          Comparator&lt;? super T&gt; c)<br/></span><span id="4a62" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSort-T:A-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelSort</strong></a>(T[] a,<br/>                  Comparator&lt;? super T&gt; cmp)</span><span id="589d" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSort-T:A-int-int-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelSort</strong></a>(T[] a,<br/>                  int fromIndex,<br/>                  int toIndex,<br/>                  Comparator&lt;? super T&gt; cmp)</span></pre><h2 id="67ce" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">流</h2><p id="e4cd" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我已经多次写到我有多爱<a class="ae ky" href="https://medium.com/better-programming/functional-programming-with-java-streams-f930e0e4d184" rel="noopener">溪流</a>。在<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html" rel="noopener ugc nofollow" target="_blank">Arrays</a></code>的帮助下，我们可以很容易地创建<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html" rel="noopener ugc nofollow" target="_blank">Stream</a>&lt;T&gt;</code>和<a class="ae ky" href="https://medium.com/better-programming/functional-programming-with-java-streams-f930e0e4d184#2ef1" rel="noopener">值类型流</a>，至少对于支持的类型:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="110c" class="nk mo it mf b gy oa ob l oc od"> <strong class="mf iu">type[]</strong>   | <strong class="mf iu">ValueTypeStream</strong><br/>----------|-----------------<br/> int[]    | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html" rel="noopener ugc nofollow" target="_blank">IntStream</a><br/> long[]   | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/LongStream.html" rel="noopener ugc nofollow" target="_blank">LongStream</a><br/> double[] | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html" rel="noopener ugc nofollow" target="_blank">DoubleStream</a><br/></span><span id="2e2e" class="nk mo it mf b gy oe ob l oc od">ValueTypeStream <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">stream</strong></a>(type[] array)</span><span id="486d" class="nk mo it mf b gy oe ob l oc od">ValueTypeStream <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">stream</strong></a>(type[] array,<br/>                       int startInclusive,<br/>                       int endExclusive)<br/></span><span id="f4f0" class="nk mo it mf b gy oe ob l oc od">Stream&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-T:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">stream</strong></a>(T[] array)</span><span id="6436" class="nk mo it mf b gy oe ob l oc od">Stream&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-T:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">stream</strong></a>(T[] array,<br/>                 int startInclusive,<br/>                 int endExclusive)</span></pre><h2 id="335e" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">分裂器</h2><p id="381c" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">Java 8引入了<code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html" rel="noopener ugc nofollow" target="_blank">java.util.Spliterator</a></code>接口，这是一个基本的流实用程序。它用于遍历和划分序列。</p><p id="ca7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分割符也根据它们的值类型划分了子类，和以前一样，只支持三种数值类型:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="f800" class="nk mo it mf b gy oa ob l oc od"><strong class="mf iu"> type[]</strong>   | <strong class="mf iu">ValueTypeSpliterator</strong><br/>----------|---------------------<br/> int[]    | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.OfInt.html" rel="noopener ugc nofollow" target="_blank">Spliterator.OfInt</a><br/> long[]   | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.OfLong.html" rel="noopener ugc nofollow" target="_blank">Spliterator.OfLong</a><br/> double[] | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.OfDouble.html" rel="noopener ugc nofollow" target="_blank">Spliterator.OfDouble</a><br/></span><span id="c624" class="nk mo it mf b gy oe ob l oc od">ValueTypeSpliterator <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#spliterator-int:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">spliterator</strong></a>(type[] array)</span><span id="9b6f" class="nk mo it mf b gy oe ob l oc od">ValueTypeSpliterator <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#spliterator-int:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">spliterator</strong></a>(type[] array,<br/>                                 int startInclusive,<br/>                                 int endExclusive)<br/></span><span id="df0a" class="nk mo it mf b gy oe ob l oc od">Spliterator&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#spliterator-T:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">spliterator</strong></a>(T[] array)</span><span id="cff9" class="nk mo it mf b gy oe ob l oc od">Spliterator&lt;T&gt; <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#spliterator-T:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">spliterator</strong></a>(T[] array,<br/>                           int startInclusive, <br/>                           int endExclusive)</span></pre><h2 id="0eb4" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">字符串表示</h2><p id="6c3d" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">为了更好地调试或记录输出，我们可以创建数组的字符串表示。除了上面列出的类型，还支持<code class="fe mc md me mf b">boolean</code>。<code class="fe mc md me mf b">Object[]</code>可能包含其他数组，因此也有一个用于深度<em class="ly">字符串表示的方法:</em></p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="76f2" class="nk mo it mf b gy oa ob l oc od">String <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#toString-boolean:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">toString</strong></a>(type[] a)</span><span id="ee8c" class="nk mo it mf b gy oe ob l oc od">String <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#deepToString-java.lang.Object:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">deepToString</strong></a>(Object[] a)</span></pre><p id="f032" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了调试或简单的显示目的，我们不应该使用由<code class="fe mc md me mf b">toString()</code>方法生成的字符串表示。实际的实现可能会随着时间的推移而改变，或者不同的JDK对它的处理可能不完全相同。</p><h2 id="30d4" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">平等</h2><p id="6518" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">像字符串表示一样，<code class="fe mc md me mf b">boolean</code>也受支持，我们可以检查<code class="fe mc md me mf b">Object[]</code>的<em class="ly">深度</em>相等:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="072b" class="nk mo it mf b gy oa ob l oc od">boolean <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#equals-boolean:A-boolean:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">equals</strong></a>(type[] a,<br/>               type[] a2)</span><span id="95a9" class="nk mo it mf b gy oe ob l oc od">boolean <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#deepEquals-java.lang.Object:A-java.lang.Object:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">deepEquals</strong></a>(Object[] a1,<br/>                   Object[] a2)</span></pre><h2 id="cd9c" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">哈希码</h2><p id="e413" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">计算hashcode还支持<code class="fe mc md me mf b">boolean</code>和<em class="ly">深度</em>计算:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="3679" class="nk mo it mf b gy oa ob l oc od">int <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#hashCode-boolean:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">hashCode</strong></a>(type[] a,<br/>             type[] a2)</span><span id="6aa1" class="nk mo it mf b gy oe ob l oc od">int <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#deepHashCode-java.lang.Object:A-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">deepHashCode</strong></a>(Object[] a1,<br/>                 Object[] a2)</span></pre><h2 id="2ebc" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">二进位检索</h2><p id="b765" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">使用<a class="ae ky" href="https://en.wikipedia.org/wiki/Binary_search_algorithm" rel="noopener ugc nofollow" target="_blank">二分搜索法算法</a>查找数组中特定元素的索引:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="128d" class="nk mo it mf b gy oa ob l oc od">int <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-byte:A-byte-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">binarySearch</strong></a>(type[] a,<br/>                 type key)</span><span id="f5f2" class="nk mo it mf b gy oe ob l oc od">int <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-byte:A-int-int-byte-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">binarySearch</strong></a>(type[] a,<br/>                 int fromIndex,<br/>                 int toIndex,<br/>                 type key)</span><span id="fa8d" class="nk mo it mf b gy oe ob l oc od"> <br/>int <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-T:A-T-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">binarySearch</strong></a>(T[] a,<br/>                 T key,<br/>                 Comparator&lt;? super T&gt; c)</span><span id="1ad3" class="nk mo it mf b gy oe ob l oc od">int <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#binarySearch-T:A-int-int-T-java.util.Comparator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">binarySearch</strong></a>(T[] a,<br/>                 int fromIndex,<br/>                 int toIndex,<br/>                 T key,<br/>                 Comparator&lt;? super T&gt; c)</span></pre><h2 id="a939" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">复制</h2><p id="56b7" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我们可以将任何数组复制到特定的长度，或者截断它，或者用适当的未初始化的值填充新的空间，或者<code class="fe mc md me mf b">null</code>。支持值类型<code class="fe mc md me mf b">boolean</code>:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="1744" class="nk mo it mf b gy oa ob l oc od">type[] <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#copyOf-boolean:A-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">copyOf</strong></a>(type[] original,<br/>              int newLength)</span><span id="cc00" class="nk mo it mf b gy oe ob l oc od">   T[] <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#copyOf-T:A-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">copyOf</strong></a>(T[] original,<br/>              int newLength)</span><span id="3f03" class="nk mo it mf b gy oe ob l oc od">   T[] <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#copyOf-U:A-int-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">copyOf</strong></a>(U[] original,<br/>              int newLength,<br/>              Class&lt;? extends T[]&gt; newType)<br/></span><span id="5b57" class="nk mo it mf b gy oe ob l oc od">type[] <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#copyOfRange-boolean:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">copyOfRange</strong></a>(type[] original,<br/>                   int from,<br/>                   int to)</span><span id="49db" class="nk mo it mf b gy oe ob l oc od">   T[] <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#copyOfRange-T:A-int-int-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">copyOfRange</strong></a>(T[] original,<br/>                   int from,<br/>                   int to)</span><span id="ce47" class="nk mo it mf b gy oe ob l oc od">   T[] <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#copyOfRange-U:A-int-int-java.lang.Class-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">copyOfRange</strong></a>(U[] original, <br/>                   int from,<br/>                   int to,<br/>                   Class&lt;? extends T[]&gt; newType)</span></pre><h2 id="4f9b" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">填充和设置</h2><p id="4477" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">用提供的值填充数组或指定的范围。支持值类型<code class="fe mc md me mf b">boolean</code>:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="2e5f" class="nk mo it mf b gy oa ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#fill-boolean:A-boolean-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">fill</strong></a>(type[] a,<br/>          type val)</span><span id="d0d5" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#fill-boolean:A-int-int-boolean-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">fill</strong></a>(type[] a,<br/>          int fromIndex,<br/>          int toIndex,<br/>          type val)</span></pre><p id="5230" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们需要对值进行更多的控制，可以提供一个生成器函数:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="55c1" class="nk mo it mf b gy oa ob l oc od"><strong class="mf iu"> type[]</strong>   | <strong class="mf iu">ValueGenerator</strong><br/>----------|---------------------<br/> int[]    | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/function/IntUnaryOperator.html" rel="noopener ugc nofollow" target="_blank">IntUnaryOperator</a><br/> long[]   | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/function/IntToLongFunction.html" rel="noopener ugc nofollow" target="_blank">IntToLongFunction</a><br/> double[] | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/function/IntToDoubleFunction.html" rel="noopener ugc nofollow" target="_blank">IntToDoubleFunction</a><br/></span><span id="af8e" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#setAll-int:A-java.util.function.IntUnaryOperator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">setAll</strong></a>(type[] array,<br/>            ValueGenerator generator)</span><span id="414f" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#setAll-T:A-java.util.function.IntFunction-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">setAll</strong></a>(T[] array,<br/>            IntFunction&lt;? extends T&gt; generator)<br/></span><span id="8855" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSetAll-int:A-java.util.function.IntUnaryOperator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelSetAll</strong></a>(type[] array,<br/>                    ValueGenerator generator)</span><span id="6166" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelSetAll-T:A-java.util.function.IntFunction-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelSetAll</strong></a>(T[] array,<br/>                    IntFunction&lt;? extends T&gt; generator)</span></pre><h2 id="79c9" class="nk mo it bd mp nl nm dn mt nn no dp mx li np nq mz lm nr ns nb lq nt nu nd nv bi translated">平行前缀</h2><p id="3338" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated"><code class="fe mc md me mf b">parallelPrefixing</code>方法并行累积数组的每个元素。对于较大的阵列，这种操作通常比顺序处理更有效:</p><pre class="kj kk kl km gt nw mf nx ny aw nz bi"><span id="24cb" class="nk mo it mf b gy oa ob l oc od"><strong class="mf iu"> type[]</strong>   | <strong class="mf iu">ValueOperator</strong><br/>----------|---------------------<br/> int[]    | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/function/IntBinaryOperator.html" rel="noopener ugc nofollow" target="_blank">IntBinaryOperator</a><br/> long[]   | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelPrefix-long:A-java.util.function.LongBinaryOperator-" rel="noopener ugc nofollow" target="_blank">LongBinaryOperator</a><br/> double[] | <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelPrefix-double:A-java.util.function.DoubleBinaryOperator-" rel="noopener ugc nofollow" target="_blank">DoubleBinaryOperator</a><br/></span><span id="1678" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelPrefix-int:A-java.util.function.IntBinaryOperator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelPrefix</strong></a>(type[] array,<br/>                    ValueOperator op)</span><span id="2fa0" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelPrefix-T:A-java.util.function.BinaryOperator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelPrefix</strong></a>(T[] array,<br/>                    BinaryOperator&lt;T&gt; op)<br/></span><span id="e24a" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelPrefix-int:A-int-int-java.util.function.IntBinaryOperator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelPrefix</strong></a>(type[] array,<br/>                    int fromIndex,<br/>                    int toIndex,<br/>                    ValueOperator op)</span><span id="d42f" class="nk mo it mf b gy oe ob l oc od">void <a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#parallelPrefix-T:A-int-int-java.util.function.BinaryOperator-" rel="noopener ugc nofollow" target="_blank"><strong class="mf iu">parallelPrefix</strong></a>(T[] array,<br/>                    int fromIndex,<br/>                    int toIndex,<br/>                    BinaryOperator&lt;T&gt; op)</span></pre><p id="847a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你以前没有用过这种方法，可能不清楚它到底有什么作用，至少我的经验是这样的。下面举个例子来解释一下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="0c3c" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">结论</h1><p id="ee66" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">许多我们可能自己编码或使用第三方库的常见任务，可以直接用JDK安全地完成。这样，我们依赖更少的外部因素，不会通过编写额外的代码引入错误，并且以简洁、一致和可重复的方式处理常见任务。</p><p id="7382" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一部分将介绍用于处理I/O的实用程序类。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="b5e5" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">资源</h1><ul class=""><li id="28ed" class="oh oi it lb b lc nf lf ng li oj lm ok lq ol lu om on oo op bi translated"><code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html" rel="noopener ugc nofollow" target="_blank">java.util.Arrays</a></code></li><li id="4f65" class="oh oi it lb b lc oq lf or li os lm ot lq ou lu om on oo op bi translated"><code class="fe mc md me mf b"><a class="ae ky" href="https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html" rel="noopener ugc nofollow" target="_blank">java.util.Collections</a></code></li></ul></div></div>    
</body>
</html>