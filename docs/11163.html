<html>
<head>
<title>Adding Web3 to Our NextJS TypeScript Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Web3添加到我们的NextJS TypeScript项目中</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/adding-web3-to-our-nextjs-typescript-project-861e9ed5feaf?source=collection_archive---------3-----------------------#2022-02-23">https://betterprogramming.pub/adding-web3-to-our-nextjs-typescript-project-861e9ed5feaf?source=collection_archive---------3-----------------------#2022-02-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a967" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">将web3集成到您的应用中</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1612edf3b072a18b4dda178c6971f17d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bD8EdeW5DLSAamw_b2lJ2Q.png"/></div></div></figure><p id="6e0c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你还没有看到我最近的两篇建立我们项目的帖子，请查看一下<a class="ae ln" href="https://wk0.medium.com/create-a-typescript-nextjs-project-with-jest-cypress-adbbcf237747" rel="noopener">第一部分</a> &amp; <a class="ae ln" href="https://wk0.medium.com/adding-tailwind-to-a-nextjs-typescript-project-d1eba5699c4d" rel="noopener">第二部分</a>。我们将在这里的一个新的web3-eth分支上使用<a class="ae ln" href="https://github.com/wk0/boilerplate-next" rel="noopener ugc nofollow" target="_blank">相同的回购</a>。</p><p id="a72f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你不熟悉<a class="ae ln" href="https://ethereum.org/en/what-is-ethereum/" rel="noopener ugc nofollow" target="_blank">以太坊</a>或<a class="ae ln" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">元面具</a>，一定要去看看。Metamask是一个浏览器钱包，让你与EVM兼容的区块链互动。如果你有大量的资金，我强烈建议你买一个<a class="ae ln" href="https://shop.ledger.com/products/ledger-nano-x?r=94dd9b6b6f3a" rel="noopener ugc nofollow" target="_blank">分类账</a>——然后<a class="ae ln" href="https://www.ledger.com/academy/security/the-safest-way-to-use-metamask" rel="noopener ugc nofollow" target="_blank">把它和你的元掩码</a>连接起来，方便使用dApps。</p><p id="b586" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在开始之前，请确保您的浏览器中安装了Metamask扩展。</p><p id="36ed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想看我们正在制作的快速演示，请点击这里查看。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><p id="be54" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们安装一些工具来处理Web3与我们项目的集成:</p><pre class="kg kh ki kj gt lv lw lx ly aw lz bi"><span id="8c85" class="ma mb iq lw b gy mc md l me mf">yarn add <a class="ae ln" href="http://twitter.com/walletconnect/web3-provider" rel="noopener ugc nofollow" target="_blank">@walletconnect/web3-provider</a> ethers web3modal</span></pre><p id="0bfb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://docs.walletconnect.com/" rel="noopener ugc nofollow" target="_blank"> walletconnect </a>让我们通过开放协议将钱包连接到我们的应用程序。</p><p id="533b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">ethers是一个现代的javascript/typescript Web3库。比起像<a class="ae ln" href="https://web3js.readthedocs.io/en/v1.7.0/" rel="noopener ugc nofollow" target="_blank"> web3.js </a>这样的其他选择，我更喜欢它</p><p id="91d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，<a class="ae ln" href="https://github.com/Web3Modal/web3modal" rel="noopener ugc nofollow" target="_blank">web 3 mode</a>是一个库，它允许我们以一种通用的方式支持不同的钱包提供者，如Metamask、WalletConnect或比特币基地钱包(还有许多其他的)。如果你以前用过dApp，你可能已经作为用户和它交互过了。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><p id="dd9a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还需要一个Infura API密钥。这将让我们通过简单的API访问以太坊节点。</p><p id="8b71" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mg">趣闻:Metamask居然在幕后使用Infura。</em></p><p id="8a37" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你还没有账户，请在这里注册:<a class="ae ln" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank">https://infura.io/</a></p><p id="25a8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后“创建新项目”，选择“以太坊”，然后复制你的<code class="fe mh mi mj lw b">PROJECT_ID</code>在我们的应用程序中使用。</p><p id="c7b9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想限制访问，还有一个安全标签，你可以启用JWT认证，秘密，允许列表，或速率限制。我们暂时跳过这一步。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><p id="a33d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为我们现在有了一些秘密，并且<a class="ae ln" href="https://nextjs.org/docs/basic-features/environment-variables" rel="noopener ugc nofollow" target="_blank"> NextJS为env变量</a>提供了一些内置支持，所以创建一个env文件来存储这些。</p><p id="5453" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mh mi mj lw b">touch .env.local</code></p><pre class="kg kh ki kj gt lv lw lx ly aw lz bi"><span id="8fd7" class="ma mb iq lw b gy mc md l me mf">NEXT_PUBLIC_INFURA_ID=PASTE_YOUR_ID_HERE</span></pre><p id="2f11" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将利用一个缩减器把我们的Web3连接器构造成一个钩子，并把它放在一个上下文中。这是相当多的移动部分，但值得深思熟虑地管理状态。</p><p id="09a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里有一个不错的模板<a class="ae ln" href="https://github.com/ChangoMan/web3modal-example" rel="noopener ugc nofollow" target="_blank"/>我们可以在它的基础上构建一个更加成熟的应用程序。</p><p id="d0c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">继续在下一个应用程序中初始化三个文件夹:</p><pre class="kg kh ki kj gt lv lw lx ly aw lz bi"><span id="a6e5" class="ma mb iq lw b gy mc md l me mf">mkdir hooks<br/>mkdir reducers<br/>mkdir context</span></pre><p id="504b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe mh mi mj lw b">reducers</code>中，初始化一个包含三个不同部分的<code class="fe mh mi mj lw b">Web3Provider.ts</code>文件:</p><h2 id="4c61" class="ma mb iq bd mk ml mm dn mn mo mp dp mq la mr ms mt le mu mv mw li mx my mz na bi translated">1.状态(初始状态)</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="f916" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mh mi mj lw b">null</code>和<code class="fe mh mi mj lw b">undefined</code>可能看起来有点奇怪，但是我们从一个‘空白’的初始状态开始，并且Web3变量在某些场景中可能是未定义的。例如，当元掩码本身被注入到浏览器<code class="fe mh mi mj lw b">window</code>中，但没有特定地址连接时的<code class="fe mh mi mj lw b">address</code>变量。当我们讨论ethers的签名者和提供者功能时，这一点会变得更加清楚。</p><h2 id="ed1f" class="ma mb iq bd mk ml mm dn mn mo mp dp mq la mr ms mt le mu mv mw li mx my mz na bi translated">2.行动</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><h2 id="b5eb" class="ma mb iq bd mk ml mm dn mn mo mp dp mq la mr ms mt le mu mv mw li mx my mz na bi translated">3.还原剂</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="3151" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">动作和减少器相当简单，所以我将继续在<code class="fe mh mi mj lw b">reducers/index.ts</code>中导出它们:</p><pre class="kg kh ki kj gt lv lw lx ly aw lz bi"><span id="c4b8" class="ma mb iq lw b gy mc md l me mf">export type { Web3ProviderState, Web3Action } from './Web3Provider'<br/>export { web3InitialState, web3Reducer } from './Web3Provider'</span></pre><p id="1d51" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们将首先使<code class="fe mh mi mj lw b">/hooks/Web3Client.ts</code>中的钩子上升，我们将初始化<code class="fe mh mi mj lw b">web3modal</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="40f4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里实际上只有两件事，<code class="fe mh mi mj lw b">providerOptions</code>让你使用不同类型的Web3钱包。这里有一个完整的内置提供者列表<a class="ae ln" href="https://github.com/Web3Modal/web3modal#provider-options" rel="noopener ugc nofollow" target="_blank">这里</a>，你甚至可以按照这里的文档<a class="ae ln" href="https://github.com/Web3Modal/web3modal#custom-provider" rel="noopener ugc nofollow" target="_blank">添加自定义提供者。</a></p><p id="a947" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">需要注意的是<code class="fe mh mi mj lw b">null</code>和检查<code class="fe mh mi mj lw b">window</code>的if语句，后者只处理服务器端的渲染条件。如果我们使用vanilla React而不是Next，我们可以排除它。</p><p id="daed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们进入主钩…</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="e2b4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这有点长，但是这主要是样板文件，在用我们上面定义的每个动作更新reducer时，保持状态与提供者同步。当我们从用户的角度来看时，会更容易理解。</p><p id="e017" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们来看看这个钩子是如何工作的。</p><p id="50ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在组件中，创建一个<code class="fe mh mi mj lw b">components/Web3Button.tsx</code>，让我们在应用程序中使用钱包的连接和断开功能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="1f84" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">另外，在<code class="fe mh mi mj lw b">components</code>中创建一个<code class="fe mh mi mj lw b">Web3Address.tsx</code>，这样我们就可以看到一个读取一些基本状态的例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="2723" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后编辑我们的<code class="fe mh mi mj lw b">index.tsx</code>来添加按钮和地址组件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="3f94" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们有一个漂亮的小dApp。在我们发布这个东西之前，让我们添加<a class="ae ln" href="https://fkhadra.github.io/react-toastify/introduction" rel="noopener ugc nofollow" target="_blank"> react-tostify </a>来更深入地了解我们的提供商的状态。</p><pre class="kg kh ki kj gt lv lw lx ly aw lz bi"><span id="ecc4" class="ma mb iq lw b gy mc md l me mf">yarn add react-toastify</span></pre><p id="30c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后像这样把它丢进我们的<code class="fe mh mi mj lw b">_app.tsx</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="63a0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，为我们的<code class="fe mh mi mj lw b">Web3Client.ts</code>干杯:</p><pre class="kg kh ki kj gt lv lw lx ly aw lz bi"><span id="9a04" class="ma mb iq lw b gy mc md l me mf">import { toast } from 'react-toastify'</span><span id="6aba" class="ma mb iq lw b gy nd md l me mf">...<br/> </span><span id="eaa8" class="ma mb iq lw b gy nd md l me mf">// before 'SET_WEB3_PROVIDER' in connect<br/>toast.success('Connected to Web3')</span><span id="2dc7" class="ma mb iq lw b gy nd md l me mf">// before 'RESET_WEB3_PROVIDER' in disconnect<br/>toast.error('Disconnected from Web3')</span><span id="4bad" class="ma mb iq lw b gy nd md l me mf">// before 'SET_ADDRESS' in handleAccountsChanged<br/>toast.info('Changed Web3 Account')</span><span id="6f8b" class="ma mb iq lw b gy nd md l me mf">// before 'window.location.reload()' in handleChainChanged<br/>toast.info('Web3 Network Changed')</span></pre><p id="196f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那就启动吧！</p><p id="b7d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你觉得完全不同步，你可以在这里查看当前状态<a class="ae ln" href="https://github.com/wk0/boilerplate-next/tree/f65e9cf60114de45d94ab3a59bbb3bb4b694dfb4" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3c8a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">注意到什么了吗？(除了样式和被忽略的关于页面…)</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/085adae1ce9990a04844a0ba882acd45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1xWS4PibvMYPbTL1p8tHVQ.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">双连！</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/1342857b7ab173519f7bf109b8a4b675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jCVACG81e5fG5fnOJbteqA.png"/></div></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">不同步！</p></figure><p id="ae7f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">祝酒词可能看起来有点多余，但它说明了关于使用钩子的一个很好的教训。使用钩子时，您可以看到我们正在多次重新连接——在每次使用钩子时重新触发连接逻辑。</p><p id="cf83" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还可以看到我们断开了连接，但是我们的<code class="fe mh mi mj lw b">Web3Address.tsx</code>组件没有注意到我们没有连接的地址！</p><p id="0d8b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上下文增加了一点额外的代码，但是让这个存储的状态保持同步并对我们的下游组件可用是很好的(甚至是必要的)。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><p id="b8e9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以…让我们在<code class="fe mh mi mj lw b">/context/Web3Context.tsx</code>中初始化一个上下文:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="958f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们对<code class="fe mh mi mj lw b">web3InitialState</code>会有一点问题，因为<code class="fe mh mi mj lw b">connect</code> &amp; <code class="fe mh mi mj lw b">disconnect</code>函数需要一个初始状态。</p><p id="51f7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe mh mi mj lw b">reducers/Web3Provider.ts</code>更新中:</p><pre class="kg kh ki kj gt lv lw lx ly aw lz bi"><span id="b453" class="ma mb iq lw b gy mc md l me mf">export type Web3ProviderState = {<br/>    ...<br/>    connect: (() =&gt; Promise&lt;void&gt;) | null<br/>    disconnect: (() =&gt; Promise&lt;void&gt;) | null<br/>}</span><span id="4578" class="ma mb iq lw b gy nd md l me mf">export const web3InitialState: Web3ProviderState = {<br/>    ...<br/>    connect: null,<br/>    disconnect: null,<br/>}</span></pre><p id="f886" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的组件中，切换到使用<code class="fe mh mi mj lw b">useWeb3Context()</code>而不是<code class="fe mh mi mj lw b">useWeb3()</code>钩子。</p><p id="9469" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，确保用<code class="fe mh mi mj lw b">Web3ContextProvider</code>包裹<code class="fe mh mi mj lw b">_app.tsx</code></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1612edf3b072a18b4dda178c6971f17d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bD8EdeW5DLSAamw_b2lJ2Q.png"/></div></div></figure><p id="d331" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么我们应该准备好了——并且您的本地版本应该已经修复了过时的状态问题。</p><p id="a93f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您要部署，不要忘记将您的Infura <code class="fe mh mi mj lw b">PROJECT_ID</code>添加到Vercel的env中！</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><p id="ee0c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读。查看演示，网址:<a class="ae ln" href="https://boilerplate-next-eth-context.vercel.app" rel="noopener ugc nofollow" target="_blank">https://boilerplate-next-eth-context . vercel . app</a>我们最新的分支:<a class="ae ln" href="https://github.com/wk0/boilerplate-next/tree/web3-eth" rel="noopener ugc nofollow" target="_blank">https://github.com/wk0/boilerplate-next/tree/web3-eth</a></p><pre class="kg kh ki kj gt lv lw lx ly aw lz bi"><span id="4b05" class="ma mb iq lw b gy mc md l me mf"><strong class="lw ir">Want to Connect?</strong></span><span id="a3c9" class="ma mb iq lw b gy nd md l me mf">Also check out my website: <a class="ae ln" href="https://wk0.dev/" rel="noopener ugc nofollow" target="_blank">https://wk0.dev</a></span></pre></div></div>    
</body>
</html>