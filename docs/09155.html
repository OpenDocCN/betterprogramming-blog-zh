<html>
<head>
<title>PX, EM, or REM? Examining Media Query Units in 2021</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PX，EM，还是REM？2021年考察媒体查询单位</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/px-em-or-rem-examining-media-query-units-in-2021-e00cf37b91a9?source=collection_archive---------2-----------------------#2021-07-21">https://betterprogramming.pub/px-em-or-rem-examining-media-query-units-in-2021-e00cf37b91a9?source=collection_archive---------2-----------------------#2021-07-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="808a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在不同浏览器中测试断点行为</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5d1f684853110fc2269f10b8c55013c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wCtxuiIix4Wa-wVYWuSA7Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者通过<a class="ae ky" href="http://Canva.com" rel="noopener ugc nofollow" target="_blank">Canva.com</a>提供</p></figure><p id="a038" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近写了<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/3-reasons-to-abandon-bootstrap-in-2021-aa71bbc1af14">一篇文章</a>，在文章中我提出了使用基于像素的断点的引导。我提到过相对的(例如基于<code class="fe lv lw lx ly b">em</code>或<code class="fe lv lw lx ly b">rem</code>的断点)对于可访问性更好。这就是我不久前改用<code class="fe lv lw lx ly b">em</code>回答媒体提问的原因。但是因为我不再写代码了，我从来没有考虑过这个决定。</p><p id="1b9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文章发表后，这一声明在开发人员中引发了很多讨论。虽然我采访的许多开发人员说，他们从未真正考虑过选择<code class="fe lv lw lx ly b">em</code>或<code class="fe lv lw lx ly b">rem</code>而不是像素，但其他人强烈主张选择一个单元而不是另一个。</p><p id="dfaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我很好奇，想看看它们各自的优缺点。我看到了Zell Liew的文章，其中包括一些精彩的实验，并最终得出结论，基于<code class="fe lv lw lx ly b">em</code>的断点在所有浏览器中都工作得最好，而基于像素的断点引起的问题最多。然而这首曲子是2016年写的。</p><p id="8c08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我们来看看2021年的断点单位。我们是否仍然面临同样的可访问性和浏览器兼容性问题？还是现代浏览器变好了还是变坏了？</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="9919" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">可访问性是怎么回事？</h1><p id="c035" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">首先，我想检查一下相对单位对于可访问性更好的说法，以及这背后的推理。</p><p id="06cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看一个断点的经典例子。一页上有两个框，里面有文字。他们并排坐着，有固定的高度。文本应该留在框中，所以设计者要求文本一重叠，框就堆叠在一起。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/c3ae0d9acc2039436414fe085152d194.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_eQZALxCzIi1DfksAvY30w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">断点用法示例</p></figure><p id="8a36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了简单起见，我将元素浮动在我定义的断点的最小宽度处。我使用相同的设置，但有三个不同的断点:</p><pre class="kj kk kl km gt ne ly nf ng aw nh bi"><span id="e9a1" class="ni mh it ly b gy nj nk l nl nm"><a class="ae ky" href="http://twitter.com/media" rel="noopener ugc nofollow" target="_blank">@media</a> (min-width: 1000px) {<br/>... <br/>}<br/><a class="ae ky" href="http://twitter.com/media" rel="noopener ugc nofollow" target="_blank">@media</a> (min-width: 62.5em) {<br/>... <br/>}<br/><a class="ae ky" href="http://twitter.com/media" rel="noopener ugc nofollow" target="_blank">@media</a> (min-width: 62.5rem) {<br/>... <br/>}</span></pre><p id="895c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据我的基本设置，这些都相当于一个1000像素的断点。如果在所有浏览器中都到达了断点，我的盒子可以很好地堆叠。</p><p id="0df7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是我使用的所有浏览器都设置为默认字体大小。</p><p id="6256" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些研究表明，多达11%的用户使用不同的默认字体大小。例如在Chrome中，这可以在设置- &gt;外观下更改。我可以帮助有视觉障碍或阅读小文本困难的用户改变所有网站的字体大小。如果网站是使用字体大小的<code class="fe lv lw lx ly b">em</code>或<code class="fe lv lw lx ly b">rem</code>单位构建的，文本应该缩放。</p><p id="3a20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以让我们来看看默认字体大小改变时断点会发生什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/0bb4caadae4a07af95cba5135e274f18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*furOm9JfoMHGh8m2X4vPhA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">1100像素屏幕尺寸的布局</p></figure><p id="8d1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当浏览器字体大小设置得更大时，相对断点会触发得更快，而基于像素的断点仍然会以1000px的速度触发。Chrome、Firefox、Edge和Safari都是如此。</p><p id="7c6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文本变大意味着在基于像素的例子中，它现在将溢出，而基于媒体查询的相对单位的框将很快破裂，以使文本总是留在里面。</p><p id="d90f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总之:使用像素的相对单位作为断点将确保网站布局在用户改变浏览器字体大小时仍能正常工作。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="deb3" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">而放大呢？</h1><p id="48f4" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">2016年的帖子中强调的另一个可访问性问题是，当用户放大时，Safari不支持像素断点。让我们在2021年进行测试。</p><p id="8a5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Chrome、Firefox和Edge中，当放大时，断点都在1000px处触发。由于文本大小和文本框现在也发生了变化，这是所期望的行为。文本从不溢出。</p><p id="6cb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后是Safari:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/a5a990d80ea78e64fb63be40ed2e4225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*SImjDeHhSleQ6vw8UZwD5w.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">放大时Safari中的断点</p></figure><p id="8a76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是放大了120%的窗口。断点似乎无处不在。在1250像素触发<code class="fe lv lw lx ly b">rem</code>媒体查询，然后在1150像素触发<code class="fe lv lw lx ly b">em</code>媒体查询，最后在1000像素触发<code class="fe lv lw lx ly b">px</code>媒体查询。</p><p id="814c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与Liew实验中的结论相反，在Safari中似乎只有pixel媒体查询的行为与在其他浏览器中一样。</p><p id="ba9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在我们的盒子布局的情况下，这仅仅意味着当视图被放大时，它更快地改变到移动布局。虽然这看起来有点奇怪，但我们没有出现文本重叠的情况。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="f705" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">压力测试Safari</h1><p id="1e50" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">由于Safari似乎是最难取悦的浏览器，我决定再做一些测试。</p><p id="7b07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我将媒体查询从最小宽度改为最大宽度，看看是否会有所不同。<strong class="lb iu">它没有</strong>。行为仍然如上所示。</p><p id="baf1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我把浏览器字体大小改成大<strong class="lb iu">和</strong>同时放大。奇怪的是，现在<code class="fe lv lw lx ly b">rem</code>和<code class="fe lv lw lx ly b">em</code>断点同时被触发——但都比1000px早得多。</p><p id="7bf1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我将HTML中的基本字体大小改为150%。这是2016年文章中的一个实验，强调了Safari过早地在<code class="fe lv lw lx ly b">rem</code>中触发断点。</p><p id="ee00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最新版本的Safari中，<code class="fe lv lw lx ly b">rem</code>和<code class="fe lv lw lx ly b">em</code>都以1500px触发。</p><p id="2521" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个实验有趣的是，似乎在2016年，所有断点的预期行为都是在1500像素触发，因为字体大小设置为150%。Chrome不再是这种情况了。所以奇怪的是，Safari的像素断点更符合其他浏览器。</p><p id="f2f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我尝试将基本字体大小设为150% <strong class="lb iu">和</strong>放大。这给了我们与上面类似的行为，它们都在不同的点触发。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="5d50" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">结论</h1><p id="ec9a" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">通过这些实验，我发现选择断点单元并不像我最初想的那样简单。</p><p id="be09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看来你得在支持Safari和支持辅助功能之间做出选择了。但是那么有无障碍需求的用户有多少使用Safari呢？</p><p id="fe1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总体来说我还是会选择<code class="fe lv lw lx ly b">rem</code>或者<code class="fe lv lw lx ly b">em</code>。虽然在Safari的某些情况下它们会过早地断开，但至少它们不会导致文本重叠。在我的场景中，我在内容下面留了很大的空白，以便更容易发现问题。然而，在真实的网站上，这可能意味着内容与其他内容重叠，变得难以辨认。</p><p id="c0eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好消息是，从pixel切换对设置为默认字体设置且未放大的浏览器没有任何影响。所以大多数人不会注意到这个变化。如果它至少对一些用户有帮助，也许值得一试？</p><p id="1fa9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我知道你正在使用什么，如果你发现任何其他浏览器不一致或建议的无障碍布局。这是我用于测试的笔:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="2c08" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">更多来自艾里斯·温特</h1><div class="nr ns gp gr nt nu"><a rel="noopener  ugc nofollow" target="_blank" href="/3-reasons-to-abandon-bootstrap-in-2021-aa71bbc1af14"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">2021年放弃Bootstrap的3个理由</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">已经10年了，让我们继续前进</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">better编程. pub</p></div></div><div class="od l"><div class="oe l of og oh od oi ks nu"/></div></div></a></div><div class="nr ns gp gr nt nu"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-nail-any-technical-interview-question-f540fc252c06"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">如何搞定任何技术面试问题</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">最好的部分是你不必准备很多</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">better编程. pub</p></div></div><div class="od l"><div class="oj l of og oh od oi ks nu"/></div></div></a></div></div></div>    
</body>
</html>