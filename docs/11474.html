<html>
<head>
<title>How to Use Generics in Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Kotlin中使用泛型</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-generics-in-kotlin-b7f5d8e91e99?source=collection_archive---------6-----------------------#2022-03-23">https://betterprogramming.pub/how-to-use-generics-in-kotlin-b7f5d8e91e99?source=collection_archive---------6-----------------------#2022-03-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="37f8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的代码最小化</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0564c582a1594ff170f3690b2de1fbbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pXVKH2ndilVaRGiQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马克·赖歇尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="0f45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为开发人员，我们的主要职责之一就是尽可能地减少代码，避免重复代码。泛型是提供更好的性能、更少的代码、可重用的代码等等的功能之一。所以我相信每个开发者都应该有关于泛型的知识。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="674c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么我们需要泛型？</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="d5c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们看到的，<code class="fe mw mx my mz b">SearchUtil</code>类将接受一个整数列表作为参数。<code class="fe mw mx my mz b">searchItem</code>函数将一个整数(需要搜索的)作为输入并返回结果。这似乎很好。不是吗？。那还有什么问题？</p><p id="af62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设，现在你需要搜索一个字符串或对象的列表。你会怎么做？这个问题有两种可能的解决方案。</p><ol class=""><li id="27fd" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">创建另一个<code class="fe mw mx my mz b">SearchUtil</code>类和<code class="fe mw mx my mz b">searchItem</code>函数，它们将接受字符串或对象类型并返回结果。</li><li id="02b0" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">使用泛型</li></ol><p id="e5e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解决方案1显然不是一个好主意。因为我们要写很多代码，而且很多代码会重复。在这种情况下，泛型可以拯救我们。</p><h1 id="61c2" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">什么是泛型？</h1><p id="fa7a" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">根据官方文件，</p><blockquote class="ny nz oa"><p id="47ca" class="kz la ob lb b lc ld ju le lf lg jx lh oc lj lk ll od ln lo lp oe lr ls lt lu im bi translated">泛型是类、结构、接口和方法，它们为自己存储或使用的一个或多个类型提供了占位符(类型参数)。泛型集合类可能使用类型参数作为其存储的对象类型的占位符；类型参数显示为其字段的类型和其方法的参数类型。泛型方法可能使用其类型参数作为其返回值的类型，或者作为其某个形参的类型。</p></blockquote><p id="3b5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，</p><blockquote class="ny nz oa"><p id="9731" class="kz la ob lb b lc ld ju le lf lg jx lh oc lj lk ll od ln lo lp oe lr ls lt lu im bi translated">泛型是一个灵活的系统，允许您处理任何数据类型。它把类型的负担从你身上转移到了编译器身上。</p></blockquote><p id="f808" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我觉得这是最简单的解释。</p><h1 id="f113" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">行动中的仿制药</h1><p id="43d0" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">现在我们将把上面的例子转换成泛型。要将<code class="fe mw mx my mz b">SearchUtil</code>类转换为泛型，我们需要如下修改它</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="773c" class="oj md it mz b gy ok ol l om on">class SearchUtil<em class="ob">&lt;</em>T<em class="ob">&gt;(</em>private val list: List<em class="ob">&lt;</em>T<em class="ob">&gt;)</em></span></pre><p id="26d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的<code class="fe mw mx my mz b">T</code>表示任何一种类型都可以用作参数。</p><p id="a247" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有，我们需要修改<code class="fe mw mx my mz b">searchItem</code>功能。</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="d770" class="oj md it mz b gy ok ol l om on">fun searchItem<em class="ob">(</em>element: T, foundItem: <em class="ob">(</em>element: T?<em class="ob">) </em>-&gt; Unit<em class="ob">)</em></span></pre><p id="786f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以使用任何我们想要的类型。</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="ef67" class="oj md it mz b gy ok ol l om on">val searchUtil = SearchUtil<em class="ob">(</em>list = listOfObjects<em class="ob">)<br/></em>val searchUtil = SearchUtil<em class="ob">(</em>list = listOfNumber<em class="ob">)</em></span></pre><p id="de7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码将没有任何问题。我们来看一个真实的例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="2ccf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们创建了一个<code class="fe mw mx my mz b">Person</code>数据类。我们正在对<code class="fe mw mx my mz b">listOfPerson</code>执行搜索操作。现在，如果我们想在一个整数列表上执行搜索操作，我们可以在不改变<code class="fe mw mx my mz b">SearchUtil</code>或<code class="fe mw mx my mz b">searchItem</code>的情况下完成。</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="6bb0" class="oj md it mz b gy ok ol l om on">val listOfNumbers = <em class="ob">listOf(</em>25, 46, 35<em class="ob">)<br/></em>val searchUtil = SearchUtil<em class="ob">(</em>list = listOfNumbers<em class="ob">)<br/></em>searchUtil.searchItem<em class="ob">(</em>element = 25<em class="ob">) </em><strong class="mz iu">{<br/>    </strong><em class="ob">println(</em>"Search result : $<strong class="mz iu">it</strong>"<em class="ob">)<br/></em><strong class="mz iu">}</strong></span></pre><p id="eb9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太棒了，不是吗？。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="0fd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天到此为止。我希望你学到了新的东西。如果你有什么建议，请在评论中分享。直到我们再次见面…干杯！</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="9cc1" class="oj md it mz b gy ok ol l om on"><strong class="mz iu">Want to Connect?</strong></span><span id="e487" class="oj md it mz b gy oo ol l om on">If you want to, you can connect with me on <a class="ae ky" href="https://twitter.com/FarhanT99598254" rel="noopener ugc nofollow" target="_blank">Twitter</a> or <a class="ae ky" href="https://www.linkedin.com/in/farhan-tanvir-b08520151/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>.</span></pre></div></div>    
</body>
</html>