# 用小夜曲进行语音编码

> 原文：<https://betterprogramming.pub/code-by-voice-using-serenade-5f51f4153854>

## 通过语音编写代码

![](img/95323469d819f343cefd23154d17cb90.png)

由[克莱班克斯](https://unsplash.com/@claybanks?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄的 GoPhoto。

语音控制设备的出现，如 Siri、Amazon Echo 和 Google Home，简化了以前需要键盘的任务。但是，我们才刚刚开始生活在一个充斥着我们以不同方式控制的设备的世界——一个我们说的比我们能做的更多的世界。

小夜曲旨在解决一个有趣的问题:通过语音编写代码。这是一个语音到代码的软件，可以插入几个流行的 ide，比如 VS Code 和 IntelliJ。他们声称允许你“使用自然语言”进行编码，并且支持近十几种语言，这是一个有趣的提议。通过语音命令编码的能力不仅仅是科幻小说中的幻想。对于患有腕管或其他更严重身体疾病的程序员来说，编码可以继续为他们提供他们喜欢的创造性努力——以及生活。

小夜曲实际上可行吗？在本文中，我们将测试这个程序。我的同事盖伦和我将尝试建立一个 Node.js 网站，仅用我们的声音，用一个简单的 HTML 和 CSS 前端。我们的网站将只不过是一个按钮，当点击时，将显示一个随机的表情符号。为了真正沉浸在免提体验中，我们还将尝试使用他们的 [CLI](https://devcenter.heroku.com/articles/heroku-cli) 将应用程序部署到 [Heroku](https://www.heroku.com/) 。我们开始吧！

# 设置服务器

与大多数新项目一样，我们想要创建一个新目录，进入该目录，并安装我们的包依赖项。由于我们只能在他们支持的 ide 中使用 Serenade，我们必须求助于 [macOS 的听写功能](https://support.apple.com/en-gb/guide/mac-help/mh40584/mac)，它缺乏并且无法理解程序员所说的话。我们必须明确地拼写出 Unix 命令，否则程序将无法理解它们。此外，似乎没有任何强制小写的方法，这真的会影响目录的美观。也许最令人沮丧的是无法说出文件名约定:

为了推进这项工作，我们只需在命令行上键入`npm i express --save-dev`，创建一个名为`server.js`的新文件，并打开 Visual Studio 代码。手 1，声音 0。

Serenade 在您的计算机上运行并检测您的 IDE，以便与其功能集成。安装并激活应用程序后，您可以通过发出明确的指令来开始。如果 Serenade 不理解，您可以选择视觉选项来解决歧义。有[几个教程](https://serenade.ai/guides/)可以帮助你开始学习指令。这是我们的第一次尝试:

Serenade 的工作方式有很多令人喜欢的地方:它知道常见的 IDE 命令，比如“删除单词”此外，一般来说，如果你说出一个句子，它会知道何时添加空格和分号。但是，需要记住的一个问题是，Serenade 有三种不同的方式来添加文本:

*   `[insert](https://serenade.ai/docs/#inserting-code)`，这是描述一条线的一般方式。
*   `[add](https://serenade.ai/docs/#adding-code)`，专门识别类和函数之类的语言特性。
*   `[type](https://serenade.ai/docs/#adding-raw-text)`，输入原始的纯文本。

知道使用哪一个可能有点令人困惑，但是在花一些时间使用程序(并彻底阅读文档)之后，有可能以更快的速度前进。然而，短语仍不时被误解:

关于在哪里放置括号和参数，似乎有些混乱。有时候，感觉就像我们在与应用程序的语法作斗争，而不是它理解我。手 2，声音 0。

# 写 HTML 和 CSS

让我们假设我们设法让一个基本的服务器运行起来:

我们现在将编写一个名为`index.html`的文件来表示我们设计的整体。HTML 是一种结构化语言。情况如何？

成功！编写 HTML 轻而易举。我们担心标签放置会有一些错误——特别是在添加属性之后——但是对齐和嵌套已经很好理解了。手 2，声音 1。

让我们继续看 CSS:

这是一个例子，说明了对底层语言语法的深入理解是非常重要的。我们从来不知道括号中的 CSS 定义被专门称为*规则集*。尽管如此，在这一点上，我们已经开始理解 Serenade 是如何工作的，包括它直接移动到一行的漂亮能力。手 2，声音 2。

# 编写客户端 JavaScript

我们最终的 HTML 和 CSS 将如下所示:

为了避免立即执行我们的 JavaScript，我们需要在设置任何事件侦听器之前等待`[DOMContentLoaded](https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event)`[事件](https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event)触发。这里的大小写很重要，我们无法让 Serenade 识别正确的拼写:

尽管如此，无论是通过我们对 Serenade 的熟练程度的提高，还是添加内容的相对简单性，添加事件处理代码都很容易。由于程序员不是一贯正确的，我们故意尝试犯错误，看看小夜曲是否可以恢复。例如，我们遗漏了一些缩进:

我们称这次为平局。

# 部署到 Heroku

对于我们测试的最后一部分，我们需要部署到 Heroku。Heroku 需要一个 Procfile，这对于这个项目来说是相当短的:

```
web: node index.js
```

不幸的是，这里的障碍又一次是切换到听写应用程序，它根本无法理解将该应用程序推送到 Heroku 所需的命令:

最终统计:手 3，声音 2。

# 结论

小夜曲用起来很有趣。在 IDE 中导航是可靠的，明确说出编程概念的正确名称会让人感觉像一个智者。但是，它需要对各种命令有具体的理解，这感觉不像说英语。这感觉就像我们在对一台计算机而不是一个和我们一起编程的人说特定的指令。

尽管如此，我们还是推荐它作为一个系统来增强你当前的双手编码风格，而不是一个完全的替代品。通过实践和耐心，它可以成为不会编码的开发人员的有用工具。作为一种友好的接触，该公司为任何想快速入门的人提供免费的一对一培训。

这里我们没有注意到的另一个问题是，像任何优秀的程序员一样，我们经常依赖互联网来查找特定的 API。这意味着我们大部分时间都在远离 IDE(和小夜曲)，IDE 测试听写的应对能力。

我们还没有完全用语音构建应用程序(在我们部署它们之前还有很长的路要走)，但我们已经越来越接近了。