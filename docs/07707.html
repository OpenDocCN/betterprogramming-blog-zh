<html>
<head>
<title>An Introduction to Jetpack Compose for Desktop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">桌面版Jetpack Compose简介</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/an-introduction-to-jetpack-compose-for-desktop-5c3bf8629dc5?source=collection_archive---------6-----------------------#2021-02-11">https://betterprogramming.pub/an-introduction-to-jetpack-compose-for-desktop-5c3bf8629dc5?source=collection_archive---------6-----------------------#2021-02-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0d2d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在您的Windows应用中使用强大的Android框架</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5f02c12455730873df9f4abf45cb2d37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3wOqMMXsvUfkDTWXUri_EQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="d18e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到目前为止，我们只在Android开发中看到过<a class="ae lu" href="https://developer.android.com/jetpack/compose" rel="noopener ugc nofollow" target="_blank"> Jetpack Compose </a>。今天，我们进入了一个新的阶段，JetBrains宣布了IntelliJ的早期版本，允许您使用Jetpack Compose来构建Windows应用程序。</p><p id="8142" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是我将在未来几天写的许多文章的第一篇，解释如何使用Jetpack Compose for desktop。上个月，JetBrains发布了Compose for desktop Milestone 2，带来了更好的开发体验和互操作性。</p><p id="1828" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一如既往，JetBrains试图通过提供独家项目向导来缓解开发人员的生活。在IntelliJ的早期版本中，他们添加了一个桌面项目向导来在几秒钟内配置项目。</p><p id="eb23" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先从开发开始，您需要安装IntelliJ IDEA 2020.3:</p><div class="lv lw gp gr lx ly"><a href="https://www.jetbrains.com/idea/whatsnew/#section=mac" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">IntelliJ IDEA - 2020.3的新功能</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">IntelliJ IDEA欢迎屏幕已经过重新设计。初始向导已被快速访问屏幕取代…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">www.jetbrains.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="844a" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">项目模板快速入门</h1><p id="5709" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">正如我前面所说的，IntelliJ最好的一点是项目模板。安装IDE后，启动应用程序。您将看到以下窗口:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/2a3572c1400c5563b783ad97935f71ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x-OrVhcmjnr0FKOlNHjNoQ.png"/></div></div></figure><p id="1668" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后单击顶部栏中的“新建项目”按钮，这将带您到选择应用程序类型的窗口。看看“新项目”窗口:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/eb44796b362de86f73aed2a83d284583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M2u_N3K-1DY9Q3WaYBnB0w.png"/></div></div></figure><p id="0a03" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们需要从左侧菜单中选择Kotlin。然后更新项目名称和位置。之后，我们需要选择项目模板。这是配置适当项目的重要部分。我们需要从项目模板列表中选择桌面模板，您可以在向下滚动时找到它。然后你需要选择项目JDK。我建议选择JDK 11号。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/b1b49e8072e58d5961f770ed3debef8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XyyhciTuFLCVhk_hF10xCw.png"/></div></div></figure><p id="d762" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后单击“下一步”按钮，这将把您带到带有撰写模块的确认窗口。现在单击“Finish”按钮，IntelliJ将通过自动下载适当的gradle为您设置项目。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="3e40" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">运行您的第一个桌面应用程序</h1><p id="6753" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">如果一切按预期进行，桌面项目设置将会成功，您将会看到以下设置:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/7b5cb56aff6b06053c42d6ded5b7c19f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iU2it0DXYOt0qxJQB1VgBQ.png"/></div></div></figure><p id="63a2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此时，您可以运行应用程序了。由于某种原因，右上角“运行”按钮旁边的<code class="fe nu nv nw nx b">Main.kt</code>没有被默认选中，所以它会要求你配置项目。要解决这个问题，您需要点击<code class="fe nu nv nw nx b">Main.kt</code>文件中主函数旁边的绿色“Run”按钮。</p><p id="0d3d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">成功运行后，您将看到以下输出，其中有一个按钮包含“Hello，World！”文字。如果你点击它，按钮里面的文字会变成“你好，桌面！”<em class="ny"> </em>看一看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/3ab0fcf71a31ff8c36568612970f6b0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AMNYP559WHhfKFvpGrmN4g.gif"/></div></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="fb82" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">探索代码</h1><p id="20e8" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">正如您所看到的，这是一个简单的Hello World程序，并不复杂。大部分代码类似于Android应用程序的Jetpack Compose UI。</p><p id="bf55" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nu nv nw nx b">Main.kt</code>是包含与输出相关的代码的Kotlin文件。它有main函数，是应用程序运行的入口点。代码从<code class="fe nu nv nw nx b">Window</code>函数开始，打开一个包含给定内容的窗口。初始配置窗口属性需要几个参数，如<code class="fe nu nv nw nx b">title</code>、<code class="fe nu nv nw nx b">size</code>、<code class="fe nu nv nw nx b">location</code>、<code class="fe nu nv nw nx b">centered</code>、<code class="fe nu nv nw nx b">content</code>等。</p><pre class="kj kk kl km gt oa nx ob oc aw od bi"><span id="9764" class="oe mv it nx b gy of og l oh oi">fun main() = <strong class="nx iu"><em class="ny">Window </em>{</strong></span><span id="0ece" class="oe mv it nx b gy oj og l oh oi">}</span></pre><p id="6911" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，我们将只把值传递给内容参数，其余的参数保留默认值。在下一步中，我们声明了一个具有<code class="fe nu nv nw nx b">remember</code>功能的<code class="fe nu nv nw nx b">text</code>变量和初始值<code class="fe nu nv nw nx b">Hello, World!</code>。看一看:</p><pre class="kj kk kl km gt oa nx ob oc aw od bi"><span id="022b" class="oe mv it nx b gy of og l oh oi">fun main() = <em class="ny">Window </em>{</span><span id="cb3b" class="oe mv it nx b gy oj og l oh oi">    var <strong class="nx iu">text</strong> by <strong class="nx iu"><em class="ny">remember </em>{ </strong><em class="ny">mutableStateOf</em>("<strong class="nx iu">Hello, World!</strong>") <strong class="nx iu">}</strong></span><span id="dce5" class="oe mv it nx b gy oj og l oh oi">}</span></pre><p id="6a01" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在声明式UI系统中，代码本身描述了UI。我们需要描述任何时间点的UI——不仅仅是初始时间。我们使用<code class="fe nu nv nw nx b">remember</code>作为文本在视图中显示的状态，比如按钮、文本字段等等。当我们将来更新这个<code class="fe nu nv nw nx b">text</code>变量时，与这个变量相关的视图也将更新显示文本。</p><p id="e32b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了更好地理解它，我建议阅读下面的文章:</p><div class="lv lw gp gr lx ly"><a href="https://medium.com/better-programming/jetpack-compose-components-part-2-2b3eb135d294" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">Jetpack合成组件(第2部分)</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">查看图标、图像、记忆、间隔、单选按钮、加载器、开关和复选框以及滑块</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">medium.com</p></div></div><div class="mh l"><div class="ok l mj mk ml mh mm ks ly"/></div></div></a></div><p id="909a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代码的下一部分是定义一个具有点击功能的按钮，并将材质主题应用于窗口。看一看:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="3558" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">结论</h1><p id="1b8c" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">Jetpack Compose在桌面和Android上都处于非常早期的阶段，但它仍然显示了构建UI的巨大进步。像Jetpack Compose这样具有Kotlin强大功能的框架将提高开发人员的生产力，并为他们提供一种在不同平台上工作的方式。</p><p id="fb50" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">像<a class="ae lu" href="https://twitter.com/_gurupreet" rel="noopener ugc nofollow" target="_blank"> Gurupreet Singh </a>这样的开发人员在Compose发布中非常活跃，并且正在创建有价值的资源(比如<a class="ae lu" href="https://github.com/Gurupreet/ComposeCookBook" rel="noopener ugc nofollow" target="_blank"> ComposeCookBook </a>)来帮助其他开发人员。他还从Compose Android应用程序中创建了Spotify桌面克隆版,这给了我很多灵感。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="2f3c" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">奖金</h1><p id="47c6" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">如果您不熟悉Jetpack Compose，请从这里开始:</p><ul class=""><li id="b2c3" class="on oo it la b lb lc le lf lh op ll oq lp or lt os ot ou ov bi translated"><a class="ae lu" href="https://medium.com/better-programming/jetpack-compose-a-new-and-simple-way-to-create-material-ui-in-android-f49c6fcb448b" rel="noopener">“Jetpack Compose——一种在Android中创建素材UI的简单新方法”</a></li><li id="68bb" class="on oo it la b lb ow le ox lh oy ll oz lp pa lt os ot ou ov bi translated"><a class="ae lu" href="https://medium.com/android-dev-hacks/jetpack-compose-with-server-driven-ui-396a19f0a661" rel="noopener">“JetPack与服务器驱动的用户界面相结合”</a></li><li id="22d2" class="on oo it la b lb ow le ox lh oy ll oz lp pa lt os ot ou ov bi translated"><a class="ae lu" href="https://medium.com/better-programming/jetpack-compose-how-to-build-a-messaging-app-e2cdc828c00f" rel="noopener">“Jetpack Compose:如何构建消息应用”</a></li></ul><p id="05ae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">目前就这些。希望你学到了有用的东西。感谢阅读。</p></div></div>    
</body>
</html>