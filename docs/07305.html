<html>
<head>
<title>Segmented Controls and SwiftUI 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分段控件和SwiftUI 2.0</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/segmented-controls-and-swiftui-2-0-e04d728ec027?source=collection_archive---------14-----------------------#2020-12-30">https://betterprogramming.pub/segmented-controls-and-swiftui-2-0-e04d728ec027?source=collection_archive---------14-----------------------#2020-12-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0db8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当分段控件的值改变时，激活我们的用户界面</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3e198b2961c9b0b8dc4d18375dc61412.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8vb8scRdjmg8hbfw"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Markus Spiske </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="9a2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有一个完全分段的控件视图，你可以将整个视图从一个分段滚动到另一个分段，这是一个缺点。但是这完全没问题，因为你可以用SwiftUI实现几乎任何事情。</p><p id="bd0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我们将创建一个完全分段的滚动效果。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cc11" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">大量</h1><ul class=""><li id="01ce" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">Xcode 12.3</li><li id="2fcf" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">斯威夫特伊</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3732" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">先决条件</h1><p id="9b5e" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">要学习本教程，您需要了解以下方面的一些基本知识:</p><ul class=""><li id="596d" class="mu mv it lb b lc ld lf lg li nn lm no lq np lu nb nc nd ne bi translated">迅速发生的</li><li id="6697" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">至少Xcode 11</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="156a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设置分段控制</h1><p id="1a11" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">您将创建一个<code class="fe nq nr ns nt b">state</code>来保存所选分段控件的值:</p><pre class="kj kk kl km gt nu nt nv nw aw nx bi"><span id="c1a5" class="ny md it nt b gy nz oa l ob oc">@State private var currentSegment = 0</span></pre><p id="d35c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将在<code class="fe nq nr ns nt b">VStack</code>中嵌入所有内容，并将<code class="fe nq nr ns nt b">SegmentedPickerStyle</code>用于选取器样式:</p><pre class="kj kk kl km gt nu nt nv nw aw nx bi"><span id="0bef" class="ny md it nt b gy nz oa l ob oc">VStack {<br/>    Picker("A or B", selection: $currentSegment) {<br/>		Text("A").tag(0)<br/>        Text("B").tag(1)<br/>    }.pickerStyle(SegmentedPickerStyle()).padding(.horizontal)<br/>}</span></pre><p id="dbc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个片段都被分配了自己的标签，这是惯例。</p><p id="2c14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将看到一个包含两个分段的分段控件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/1366fe77d5193f5f93ac48357b74b11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*j-cgruZf5BPm70lEROMfzA.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fb25" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设置第一个分段控制视图</h1><p id="12da" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在同一个<code class="fe nq nr ns nt b">VStack</code>中，你将利用<code class="fe nq nr ns nt b">GeometryReader</code>来帮助动画从一个片段过渡到另一个片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="f895" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在分段控件的第一个视图中，您至少会看到一个同时显示图像和文本的<code class="fe nq nr ns nt b">Label</code>和一个<code class="fe nq nr ns nt b">Image</code>。</p><p id="1a37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的第一个屏幕将如下所示，包含您添加的所有组件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/088880bd7cce0719904a7dee18d6b8e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/1*vHrbXwYV72QqJ87_ze4DSQ.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a0e4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设置第二个分段控制视图</h1><p id="1978" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在同一个<code class="fe nq nr ns nt b">ZStack</code>中，您将创建另一个<code class="fe nq nr ns nt b">VStack</code>，它属于第二个分段控制视图:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="1732" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果比较代码，这是一件相当重复的事情。唯一的区别是<code class="fe nq nr ns nt b">offset</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/e1c3444506fa19afd6e2036976081ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*Fm4ZcTdtpSZRa2h56ZLP4w.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ba01" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">分段控制动画</h1><p id="5db5" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">现在，您有了一个具有动画过渡的工作分段控件的完整视图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/985fa2d5b8d65d90e7170f70ad90b175.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/1*ksHBMFIGPXFJjlNoHX2xxQ.gif"/></div></figure></div></div>    
</body>
</html>