<html>
<head>
<title>MaterialYou — Dynamic Colors With JetPack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MaterialYou —使用JetPack合成动态颜色</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/materialyou-dynamic-colors-with-jetpack-compose-5a9bd00130e7?source=collection_archive---------0-----------------------#2022-02-13">https://betterprogramming.pub/materialyou-dynamic-colors-with-jetpack-compose-5a9bd00130e7?source=collection_archive---------0-----------------------#2022-02-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9235" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在Android应用中使用动态颜色</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a3d1503c31c999ae3fa4e8fad656a6c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GeCf6sPkatWMsxq-0gW7rQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">截图自示例应用程序，查看<a class="ae kv" href="https://github.com/praveen-gm/MaterialYou-Compose" rel="noopener ugc nofollow" target="_blank">此处</a></p></figure><p id="c056" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">嘿，Android开发者们，随着Android 12和以上版本的发布，应用程序的配色方案变得非常令人兴奋。一个非常个性化的方法来显示应用程序的外观。</p><p id="f909" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基于设备的壁纸，一种算法从壁纸中提取颜色，应用于系统UI和应用程序。是啊！壁纸中的自定义颜色可以动态应用到应用程序中。</p><p id="6050" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将看到动态颜色是如何工作的，以及如何在你的应用中实现它们</p><h1 id="989d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak">动态色彩是如何工作的？</strong></h1><p id="ebe8" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">Material You的算法从用户的壁纸中提取颜色，并指定一种类型，确定它与配色方案的关系。然后，这些颜色值被转换为基于亮度的色调调色板，生成从亮到暗的五个色调范围。</p><p id="5412" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从这五个色调范围中，基于亮度级别的特定色调被划分到预定义的角色中，形成一个方案。</p><h1 id="0355" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak">材质中的调色板你的主题</strong></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/ce5b94449b1b67a5621a359e03028dcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rC2lI8u1XP7QfRIfWliECg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">截图摘自<a class="ae kv" href="https://material-foundation.github.io/material-theme-builder/#/dynamic" rel="noopener ugc nofollow" target="_blank">素材主题构建器</a></p></figure><p id="9e2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尝试动态色彩的现场演示或从图像生成调色板<a class="ae kv" href="https://material-foundation.github.io/material-theme-builder/#/dynamic" rel="noopener ugc nofollow" target="_blank">在此</a></p><p id="ac5f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也就是说，我们如何在我们的应用中实现它？</p><h1 id="2b6b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak">实现动态颜色</strong></h1><p id="6176" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">像往常一样，让我们从所需的依赖项开始</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="f158" class="mv lt iq mr b gy mw mx l my mz">// Required minimum version: 1.5.0<br/>implementation 'com.google.android.material:material:1.5.0'</span><span id="4124" class="mv lt iq mr b gy na mx l my mz">// For use of Material3 in Compose<br/>implementation 'androidx.compose.material3:material3:1.0.0-alpha05'</span></pre><p id="aa2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:在编写compose.material3时，material3仍处于alpha阶段，可能会有突破性的变化。使用时风险自担。</p><p id="d410" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们定义一个后备主题来处理运行Android 11和更低版本的设备，或者硬件尚不支持您的材料</p><p id="e72b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">定义亮/暗主题调色板</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="54a3" class="mv lt iq mr b gy mw mx l my mz">private val <em class="nb">LightThemeColors </em>= <em class="nb">lightColorScheme</em>(<br/>    primary = <em class="nb">md_theme_light_primary, // and 20+ more color schemes<br/></em>)</span><span id="c71d" class="mv lt iq mr b gy na mx l my mz">private val <em class="nb">DarkThemeColors </em>= <em class="nb">lightColorScheme</em>(<br/>    primary = <em class="nb">md_theme_light_primary, // and 20+ more color schemes<br/></em>)</span></pre><p id="adc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们定义一个可组合的应用程序主题</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="c0a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保您指的是导入:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="48aa" class="mv lt iq mr b gy mw mx l my mz">import androidx.compose.material3.*</span></pre><p id="0134" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">而不是:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="cb4a" class="mv lt iq mr b gy mw mx l my mz">import androidx.compose.material.*</span></pre><p id="204b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">都准备好了，现在怎么办？</p><p id="6cda" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用我们刚刚创建的<code class="fe ne nf ng mr b">AppTheme</code>:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="1926" class="mv lt iq mr b gy mw mx l my mz"><em class="nb">setContent </em><strong class="mr ir">{<br/>    </strong><em class="nb">AppTheme </em><strong class="mr ir">{<br/>        </strong><em class="nb">Surface</em>(<br/>            modifier = Modifier.<em class="nb">fillMaxSize</em>()<br/>        ) <strong class="mr ir">{<br/>            </strong><em class="nb">MyAppScreen</em>()<br/>        <strong class="mr ir">}<br/>    }<br/>}</strong></span></pre><p id="5ea1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在利用<code class="fe ne nf ng mr b">MaterialTheme.colorScheme</code>为你的用户界面设置颜色</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="cc75" class="mv lt iq mr b gy mw mx l my mz"><em class="nb">Scaffold</em>(<br/>    topBar = <strong class="mr ir">{<br/>        </strong><em class="nb">CustomTopBar</em>()<br/>    <strong class="mr ir">}</strong>, <br/>    backgroundColor = MaterialTheme.colorScheme.surface<br/>)</span></pre><p id="b453" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a5b65b5001cb6486d5f546837ebe9d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NC60GC5-EjQMR3TTeIXCpg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">示例应用程序的截图1，点击此处查看<a class="ae kv" href="https://github.com/praveen-gm/MaterialYou-Compose" rel="noopener ugc nofollow" target="_blank"/></p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a3d1503c31c999ae3fa4e8fad656a6c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GeCf6sPkatWMsxq-0gW7rQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">示例应用程序的截图2，点击此处查看</p></figure><p id="2b68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">仅此而已！我希望这篇文章能帮助你在应用程序中实现动态主题。</p><p id="08f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Github库:<a class="ae kv" href="https://github.com/praveen-gm/MaterialYou-Compose" rel="noopener ugc nofollow" target="_blank">https://github.com/praveen-gm/MaterialYou-Compose</a></p></div></div>    
</body>
</html>