<html>
<head>
<title>Here Are 6 Awesome React Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这里有6个可怕的反应钩</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/here-are-6-awesome-react-hooks-2ff0c0b35218?source=collection_archive---------1-----------------------#2019-10-31">https://betterprogramming.pub/here-are-6-awesome-react-hooks-2ff0c0b35218?source=collection_archive---------1-----------------------#2019-10-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="20ba" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你知道现在有成千上万个有用的React挂钩可以开始使用吗？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7f37a6ffd5260c767910ffe997eeb552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-BQseRL42Onr5wXl"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奥斯卡·伊尔迪兹在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="eb9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据<a class="ae ky" href="https://reactjs.org/docs/hooks-overview.html" rel="noopener ugc nofollow" target="_blank"> React文档</a>:</p><blockquote class="lv lw lx"><p id="1c34" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">挂钩是让您从功能组件“挂钩”React状态和生命周期特性的功能。钩子在类内部不起作用——它们让你在没有类的情况下使用React。(我们<a class="ae ky" href="https://reactjs.org/docs/hooks-intro.html#gradual-adoption-strategy" rel="noopener ugc nofollow" target="_blank">不建议</a>在一夜之间重写你现有的组件，但是如果你愿意，你可以在新的组件中使用钩子。)React提供了几个类似<code class="fe mc md me mf b">useState</code>的内置钩子。您还可以创建自己的挂钩，以便在不同组件之间重用有状态行为</p></blockquote><p id="9260" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有五个方便的React挂钩，你可以从今天开始使用。</p><p id="d34e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注:</strong> <em class="ly"> </em>如果React钩子对你来说是一个新概念，可以看看我之前的帖子“<a class="ae ky" href="https://medium.com/better-programming/demystifying-react-hooks-a0b56a6254c2" rel="noopener">揭秘React钩子</a>”</p><div class="mg mh gp gr mi mj"><a href="https://medium.com/better-programming/demystifying-react-hooks-a0b56a6254c2" rel="noopener follow" target="_blank"><div class="mk ab fo"><div class="ml ab mm cl cj mn"><h2 class="bd iu gy z fp mo fr fs mp fu fw is bi translated">揭秘React挂钩</h2><div class="mq l"><h3 class="bd b gy z fp mo fr fs mp fu fw dk translated">钩子如何节省你的时间并提高你代码库的质量</h3></div><div class="mr l"><p class="bd b dl z fp mo fr fs mp fu fw dk translated">medium.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx ks mj"/></div></div></a></div><p id="094d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事不宜迟，这里有五个React挂钩，您可以从今天开始在React项目中使用。</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="c05c" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated"><code class="fe mc md me mf b">@rehooks/component-size</code></h1><p id="6581" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><code class="fe mc md me mf b">@rehooks/component-size</code>是一个React钩子，用于确定一个组件的大小。当涉及到在调整大小时需要重新渲染的响应性图像和组件时，这很有用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/b0f35bed1e692c38d434bac2929c575f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qwb7JqdI7aH2nPFWk4aEsQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">@ re hooks/component-size<a class="ae ky" href="https://github.com/rehooks/component-size" rel="noopener ugc nofollow" target="_blank">GitHub页面</a></p></figure><h2 id="bb90" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">安装</h2><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="ed6a" class="od ng it mf b gy ot ou l ov ow">yarn add @rehooks/component-size</span></pre><h2 id="355e" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">使用</h2><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="7bc7" class="od ng it mf b gy ot ou l ov ow">import { useRef } from '<a class="ae ky" href="https://github.com/facebook/react" rel="noopener ugc nofollow" target="_blank">react</a>'<br/>import useComponentSize from '<a class="ae ky" href="https://github.com/rehooks/component-size" rel="noopener ugc nofollow" target="_blank">@rehooks/component-size</a>'</span><span id="b3b9" class="od ng it mf b gy ox ou l ov ow">function MyComponent() {<br/>  let ref = useRef(null)<br/>  let size = useComponentSize(ref)<br/>  // size == { width: 100, height: 200 }<br/>  let { width, height } = size<br/>  let imgUrl = `https://via.placeholder.com/${width}x${height}`</span><span id="74df" class="od ng it mf b gy ox ou l ov ow">  return (<br/>    &lt;div style={{ width: '100%', height: '100%' }}&gt;<br/>      &lt;img ref={ref} src={imgUrl} /&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="d085" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong> <a class="ae ky" href="https://developers.google.com/web/updates/2016/10/resizeobserver" rel="noopener ugc nofollow" target="_blank"> ResizeObserver </a>是用来确定一个元素是否被调整大小的API。Chrome的浏览器支持相当不错，但在其他主流浏览器中仍然缺乏支持。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/775bd487b22208c847199522cc4b20c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TYNcp8MDK9_U8_IXaekKow.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://caniuse.com/#search=resize%20observer" rel="noopener ugc nofollow" target="_blank"><em class="oz">resize observer</em></a><em class="oz">浏览器支持</em></p></figure></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="2485" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated"><code class="fe mc md me mf b">@rehooks/window-scroll-position</code></h1><p id="53c0" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><code class="fe mc md me mf b">@rehooks/window-scroll-position</code>是一个用于确定窗口滚动位置的React钩子。当您希望根据用户是否滚动以及滚动的位置来制作对象动画时，这很有用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/1c0b1f72dfaf1b6bc6322a6f441a8c5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YJHUNnaHlQqahfQZ3JXxNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://github.com/rehooks/window-scroll-position" rel="noopener ugc nofollow" target="_blank">@ rehooks/window-scroll-position</a></p></figure><h2 id="652d" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">安装</h2><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="b3e8" class="od ng it mf b gy ot ou l ov ow">yarn add @rehooks/window-scroll-position</span></pre><h2 id="5a29" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">使用</h2><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="0484" class="od ng it mf b gy ot ou l ov ow">import useWindowScrollPosition from '<a class="ae ky" href="https://github.com/rehooks/window-scroll-position" rel="noopener ugc nofollow" target="_blank">@rehooks/window-scroll-position</a>'</span><span id="3577" class="od ng it mf b gy ox ou l ov ow">function MyComponent() {<br/>  // optionally you can pass options, those are default:<br/>  let options = {<br/>    throttle: 100,<br/>  }<br/>  let position = useWindowScrollPosition(options)<br/>  // position == { x: 0, y: 0 }<br/>  return &lt;div /&gt;<br/>}</span></pre></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="8048" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated"><code class="fe mc md me mf b">@rehooks/local-storage</code></h1><p id="6715" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><code class="fe mc md me mf b">@rehooks/local-storage</code>是一个React钩子，用于实现与本地存储的同步。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/6deeeeb7f64b72409655abe7b31a46f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_0r3ERwhsxKj-9NH37yKmw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe mc md me mf b"><a class="ae ky" href="https://github.com/rehooks/local-storage" rel="noopener ugc nofollow" target="_blank">@rehooks/local-storage</a></code></p></figure><h2 id="5e64" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">安装</h2><p id="1a9b" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><strong class="lb iu">纱线</strong></p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="fec0" class="od ng it mf b gy ot ou l ov ow">yarn add @rehooks/local-storage</span></pre><p id="ca3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> NPM </strong></p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="dbe2" class="od ng it mf b gy ot ou l ov ow">npm i @rehooks/local-storage</span></pre><h2 id="b247" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">使用</h2><p id="0819" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><code class="fe mc md me mf b">writeStorage</code>:这可以是应用程序中的任何地方。</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="fe69" class="od ng it mf b gy ot ou l ov ow">import React from 'react';<br/>import { writeStorage } from '@rehooks/local-storage';</span><span id="70a8" class="od ng it mf b gy ox ou l ov ow">let counter = 0;</span><span id="265f" class="od ng it mf b gy ox ou l ov ow">const MyButton = () =&gt; (<br/>  &lt;button onClick={_ =&gt; writeStorage('i', ++counter)}&gt;<br/>    Click Me<br/>  &lt;/button&gt;<br/>);</span></pre><p id="1e49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mc md me mf b">useLocalStorage</code>:该组件将从本地存储接收自身更新。</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="cfe0" class="od ng it mf b gy ot ou l ov ow">import React from 'react';<br/>import { useLocalStorage } from '@rehooks/local-storage';</span><span id="dc0e" class="od ng it mf b gy ox ou l ov ow">function MyComponent() {<br/>  const [counterValue] = useLocalStorage('i'); // send the key to be tracked.<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;h1&gt;{counterValue}&lt;/h1&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="387d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mc md me mf b">deleteFromStorage:</code>您也可以从本地存储器中删除项目。</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="f780" class="od ng it mf b gy ot ou l ov ow">import { writeStorage, deleteFromStorage } from '@rehooks/local-storage';</span><span id="893a" class="od ng it mf b gy ox ou l ov ow">writeStorage('name', 'Homer Simpson'); // Add an item first</span><span id="09c4" class="od ng it mf b gy ox ou l ov ow">deleteFromStorage('name'); // Deletes the item</span><span id="8cee" class="od ng it mf b gy ox ou l ov ow">const thisIsNull = localStorage.getItem('name'); // This is indeed null</span></pre><h2 id="dd38" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">完整示例</h2><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="9bfa" class="od ng it mf b gy ot ou l ov ow">import React from 'react';<br/>import ReactDOM from 'react-dom';<br/>import { writeStorage, deleteFromStorage, useLocalStorage } from '@rehooks/local-storage';</span><span id="7f1a" class="od ng it mf b gy ox ou l ov ow">const startingNum = 0;</span><span id="823e" class="od ng it mf b gy ox ou l ov ow">const App = () =&gt; {<br/>  const [getNum, setNum] = useLocalStorage('num');</span><span id="47fe" class="od ng it mf b gy ox ou l ov ow">  return (<br/>    &lt;&gt;<br/>      &lt;p&gt;{getNum}&lt;/p&gt;<br/>      &lt;button onClick={_ =&gt; setNum(getNum ? getNum + 1 : 0)}&gt;Increment&lt;/button&gt;<br/>      &lt;button onClick={_ =&gt; deleteFromStorage('num')}&gt;Delete&lt;/button&gt;<br/>    &lt;/&gt;<br/>  );<br/>};</span><span id="78ef" class="od ng it mf b gy ox ou l ov ow">// Assuming there is a div in index.html with an ID of 'root'<br/>ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));</span></pre><p id="1cf8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mc md me mf b">@rehooks/local-storage</code> API文档可以在这里<a class="ae ky" href="https://rehooks.github.io/local-storage" rel="noopener ugc nofollow" target="_blank">找到。</a></p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="27d1" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">反应-使用-形式-状态</h1><p id="4cca" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">在React中管理表单状态有时会有点笨拙。T21已经有很多很好的解决方案让管理表单变得轻而易举。然而，这些解决方案中有许多是固执己见的，包含了大量最终可能不会被使用的功能，并且/或者需要额外运输一些字节。</p><p id="07e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，最近引入的<a class="ae ky" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank"> React钩子</a>和编写定制钩子的能力为共享状态逻辑提供了新的可能性。表单状态也不例外。</p><p id="09d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mc md me mf b">react-use-form-state</code>是一个小的React钩子，它试图<a class="ae ky" href="https://github.com/wsmd/react-use-form-state#examples" rel="noopener ugc nofollow" target="_blank">简化管理表单状态</a>，使用您熟悉的本地表单输入元素。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/afe711e43255ce5b4daa7fa4f68d6abc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TNXkyqXUUyCtmTvfNTiaOQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://github.com/wsmd/react-use-form-state" rel="noopener ugc nofollow" target="_blank">反应-使用-形式-状态</a></p></figure><h2 id="cd96" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">入门指南</h2><p id="e574" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">首先，将<code class="fe mc md me mf b">react-use-form-state</code>添加到您的项目中:</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="ca01" class="od ng it mf b gy ot ou l ov ow">npm install --save react-use-form-state</span></pre><p id="0f24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意<code class="fe mc md me mf b">react-use-form-state</code>需要<code class="fe mc md me mf b">react@^16.8.0</code>作为对等依赖。</p><h2 id="c6ce" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">基本用法</h2><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="5bd2" class="od ng it mf b gy ot ou l ov ow">import { useFormState } from 'react-use-form-state';</span><span id="4a60" class="od ng it mf b gy ox ou l ov ow">export default function SignUpForm({ onSubmit }) {<br/>  const [formState, { text, email, password, radio }] = useFormState();</span><span id="73e0" class="od ng it mf b gy ox ou l ov ow">  function handleSubmit(e) {<br/>    // ...<br/>  }</span><span id="ab0f" class="od ng it mf b gy ox ou l ov ow">  return (<br/>    &lt;form onSubmit={handleSubmit}&gt;<br/>      &lt;input {...text('name')} /&gt;<br/>      &lt;input {...email('email')} required /&gt;<br/>      &lt;input {...password('password')} required minLength="8" /&gt;<br/>      &lt;input {...radio('plan', 'free')} /&gt;<br/>      &lt;input {...radio('plan', 'premium')} /&gt;<br/>    &lt;/form&gt;<br/>  );<br/>}</span></pre><p id="6e9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从上面的例子来看，当用户填写表单时，<code class="fe mc md me mf b">formState</code>对象看起来像这样:</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="9ae7" class="od ng it mf b gy ot ou l ov ow">{<br/>  values: {<br/>    name: 'Mary Poppins',<br/>    email: 'mary@example.com',<br/>    password: '1234',<br/>    plan: 'free',<br/>  },<br/>  touched: {<br/>    name: true,<br/>    email: true,<br/>    password: true,<br/>    plan: true,<br/>  },<br/>  validity: {<br/>    name: true,<br/>    email: true,<br/>    password: false,<br/>    plan: true,<br/>  },<br/>  errors: {<br/>    password: 'Please lengthen this text to 8 characters or more',<br/>  },<br/>  clear: Function,<br/>  clearField: Function,<br/>  reset: Function,<br/>  resetField: Function,<br/>  setField: Function,<br/>}</span></pre><h2 id="decb" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">初态</h2><p id="61dc" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><code class="fe mc md me mf b">useFormState</code>获取一个初始状态对象，其键与输入的名称相匹配。</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="e660" class="od ng it mf b gy ot ou l ov ow">export default function RentCarForm() {<br/>  const [formState, { checkbox, radio, select }] = useFormState({<br/>    trip: 'roundtrip',<br/>    type: ['sedan', 'suv', 'van'],<br/>  });<br/>  return (<br/>    &lt;form&gt;<br/>      &lt;select {...select('trip')}&gt;<br/>        &lt;option value="roundtrip"&gt;Same Drop-off&lt;/option&gt;<br/>        &lt;option value="oneway"&gt;Different Drop-off&lt;/option&gt;<br/>      &lt;/select&gt;<br/>      &lt;input {...checkbox('type', 'sedan')} /&gt;<br/>      &lt;input {...checkbox('type', 'suv')} /&gt;<br/>      &lt;input {...checkbox('type', 'van')} /&gt;<br/>      &lt;button&gt;Submit&lt;/button&gt;<br/>    &lt;/form&gt;<br/>  );<br/>}</span></pre><p id="bc37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看<a class="ae ky" href="https://github.com/wsmd/react-use-form-state#api" rel="noopener ugc nofollow" target="_blank"> API文档</a>部分进行深入研究。</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="b428" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">反应取钩</h1><p id="a5d4" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><code class="fe mc md me mf b">react-fetch-hook</code>是一个React钩子，方便使用Fetch API。该套件包括以下内容:</p><ul class=""><li id="78bd" class="pd pe it lb b lc ld lf lg li pf lm pg lq ph lu pi pj pk pl bi translated">Tiny (397B) —通过<a class="ae ky" href="https://github.com/ai/size-limit" rel="noopener ugc nofollow" target="_blank">尺寸限制</a>计算</li><li id="c428" class="pd pe it lb b lc pm lf pn li po lm pp lq pq lu pi pj pk pl bi translated">包括流和类型脚本类型</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/9f78d2246aa586095ab90604a8765fe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_jZUv4QjZaxZtP_26RF1Ig.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://github.com/ilyalesik/react-fetch-hook" rel="noopener ugc nofollow" target="_blank">反应抓取挂钩</a></p></figure><h2 id="7086" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">入门指南</h2><p id="9f05" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><strong class="lb iu">纱线</strong></p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="1168" class="od ng it mf b gy ot ou l ov ow">yarn add react-fetch-hook</span></pre><p id="821a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> NPM </strong></p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="5895" class="od ng it mf b gy ot ou l ov ow">npm i react-fetch-hook --save</span></pre><h2 id="b826" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">使用</h2><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="abaf" class="od ng it mf b gy ot ou l ov ow">import React from "<a class="ae ky" href="https://github.com/facebook/react" rel="noopener ugc nofollow" target="_blank">react</a>";<br/>import useFetch from "<a class="ae ky" href="https://github.com/ilyalesik/react-fetch-hook" rel="noopener ugc nofollow" target="_blank">react-fetch-hook</a>";<br/><br/>const Component = () =&gt; {<br/>  const { isLoading, data } = useFetch("https://swapi.co/api/people/1");<br/><br/>  return isLoading ? (<br/>    &lt;div&gt;Loading...&lt;/div&gt;<br/>  ) : (<br/>    &lt;UserProfile {...data} /&gt;<br/>  );<br/>};</span></pre><p id="f108" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mc md me mf b">useFetch</code>接受与fetch函数相同的参数。</p><h2 id="d1e6" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">自定义格式化程序</h2><p id="7a8d" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">默认是<code class="fe mc md me mf b">response =&gt; response.json()</code>格式化程序。您可以像这样传递自定义格式化程序:</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="d2ba" class="od ng it mf b gy ot ou l ov ow">const { isLoading, data } = useFetch("https://swapi.co/api/people/1", {<br/>    formatter: (response) =&gt; response.text()<br/>});</span></pre><h2 id="d2d2" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">多个请求</h2><p id="0bd3" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">支持<code class="fe mc md me mf b">useFetch</code>在同一个文件/组件中的多个实例:</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="7000" class="od ng it mf b gy ot ou l ov ow">const result1 = useFetch("https://swapi.co/api/people/1");<br/>const result2 = useFetch("https://swapi.co/api/people/2");</span><span id="6c81" class="od ng it mf b gy ox ou l ov ow">if (result1.isLoading &amp;&amp; result2.isLoading) {<br/>  return &lt;div&gt;Loading...&lt;/div&gt;;<br/>}  </span><span id="1b54" class="od ng it mf b gy ox ou l ov ow">return &lt;div&gt;<br/>    &lt;UserProfile {...result1.data} /&gt;<br/>    &lt;UserProfile {...result2.data} /&gt;<br/>&lt;/div&gt;</span></pre></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="60f4" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">使用-onclickoutside</h1><p id="a516" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">这是一个React钩子，用于监听元素外部的点击。它与模式、弹出窗口、提醒或个人资料导航结合使用非常有用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/eb82a8bd244c0b37881ea6aa6485b66f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Xbrew2ttbJsTXZ_7rz_mw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://github.com/Andarist/use-onclickoutside" rel="noopener ugc nofollow" target="_blank">使用-onclickoutside </a></p></figure><h2 id="7d8f" class="od ng it bd nh oe of dn nl og oh dp np li oi oj nr lm ok ol nt lq om on nv oo bi translated">入门指南</h2><p id="5fc6" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated"><strong class="lb iu">纱线</strong></p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="bb7e" class="od ng it mf b gy ot ou l ov ow">yarn add use-onclickoutside</span></pre><p id="9b75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">用法</strong></p><p id="7699" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建一个<code class="fe mc md me mf b">ref</code>并将<code class="fe mc md me mf b">ref</code>传递给<code class="fe mc md me mf b">useOnClickOutside</code>钩子。</p><pre class="kj kk kl km gt op mf oq or aw os bi"><span id="741e" class="od ng it mf b gy ot ou l ov ow">import React, { useRef } from '<a class="ae ky" href="https://github.com/facebook/react" rel="noopener ugc nofollow" target="_blank">react</a>'<br/>import useOnClickOutside from '<a class="ae ky" href="https://github.com/Andarist/use-onclickoutside" rel="noopener ugc nofollow" target="_blank">use-onclickoutside</a>'</span><span id="77b4" class="od ng it mf b gy ox ou l ov ow">export default function Modal({ close }) {<br/>  const ref = useRef(null)<br/>  useOnClickOutside(ref, close)</span><span id="6e7d" class="od ng it mf b gy ox ou l ov ow">  return &lt;div ref={ref}&gt;{'Modal content'}&lt;/div&gt;<br/>}</span></pre><p id="fba7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意<a class="ae ky" href="https://reactjs.org/docs/hooks-reference.html#useref" rel="noopener ugc nofollow" target="_blank"> useRef </a>的用法，这是标准React包提供的标准React钩子。</p><p id="6d1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mc md me mf b">useRef</code>返回一个可变的ref对象，其<code class="fe mc md me mf b">.current</code>属性被初始化为传递的参数(<code class="fe mc md me mf b">initialValue</code>)。返回的对象将在组件的整个生存期内保持不变</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="8a56" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">结论</h1><p id="f5d9" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">感谢阅读，我希望你学到了新的东西。编码快乐！</p></div></div>    
</body>
</html>