<html>
<head>
<title>Building Cross-Platform Voice Apps With VOXA — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用VOXA构建跨平台语音应用程序—第2部分</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/building-cross-platform-voice-apps-with-voxa-part-2-feb440ec5da0?source=collection_archive---------14-----------------------#2019-09-03">https://betterprogramming.pub/building-cross-platform-voice-apps-with-voxa-part-2-feb440ec5da0?source=collection_archive---------14-----------------------#2019-09-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f021" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">这是用Voxa创建跨平台语音应用系列的第二部分</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7cf4b4d0851dd194a57c36fb5caee9fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zwa-VoeUgxDhYVStNfQk5Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@dylu?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">亚采克·迪拉格</a>在<a class="ae kv" href="https://unsplash.com/search/photos/voice?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="2bc6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<a class="ae kv" href="https://medium.com/better-programming/building-cross-platform-voice-apps-with-voxa-part-1-547f50675fa6" rel="noopener">上一篇文章</a>中，我简要解释了您可以使用Voxa、<a class="ae kv" href="https://github.com/VoxaAI/voxa-cli" rel="noopener ugc nofollow" target="_blank"> voxa-cli </a>工具以及我们将在本系列结束时创建的语音应用程序做些什么。</p><p id="4adf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将在您的帐户中创建<a class="ae kv" href="https://developer.amazon.com/alexa/alexa-skills-kit/learn" rel="noopener ugc nofollow" target="_blank"> Alexa技能</a>和<a class="ae kv" href="https://developers.google.com/actions/" rel="noopener ugc nofollow" target="_blank"> Google操作</a>。我们将创建电子表格来管理应用程序的VUI(语音用户界面)部分。</p><p id="13c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你在团队中工作时，这是非常有用的，其他人可以合作来提高你的VUI。所以，让我们开始吧！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/fec638c1e39049ef719260fd03620c2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:288/format:webp/1*8eJvsG0CQEGwqc9Dum-BUw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">您可以使用谷歌电子表格来管理语音应用程序的VUI(语音用户界面)。图片经由<a class="ae kv" href="https://pixabay.com/illustrations/spreadsheet-file-miniature-icon-2127832/" rel="noopener ugc nofollow" target="_blank">www.pixabay.com</a></p></figure><p id="99d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要使用voxa-cli创建一个项目。你可以在这里找到<a class="ae kv" href="https://www.npmjs.com/package/voxa-cli" rel="noopener ugc nofollow" target="_blank"> npm包</a>。打开电脑上的终端窗口，键入:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="0a34" class="ly lz iq lu b gy ma mb l mc md">npm i -g voxa-cli</span></pre><p id="b2db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此命令将在本地安装最新版本的voxa-cli。命令完成后，您可以键入:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="8d8d" class="ly lz iq lu b gy ma mb l mc md">voxa create</span></pre><p id="46f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将引导您一步一步地使用一些选项设置您的项目:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi me"><img src="../Images/6d765e54c59de6400caef46a3a0ef7e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j5mdQITUOIxAbGZv35FgxQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建Voxa项目的分步助手</p></figure><p id="2064" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你会被要求输入应用程序的名称、开发者的名字、平台和编程语言(JavaScript或TypeScript)。最后的一些问题与电子表格有关:交互模型、发布信息和<code class="fe mf mg mh lu b">canFulfill</code>特性。</p><p id="46ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还将把我们的应用程序与<a class="ae kv" href="https://aws.amazon.com/dynamodb/" rel="noopener ugc nofollow" target="_blank"> DynamoDB </a>和<a class="ae kv" href="https://www.dashbot.io/" rel="noopener ugc nofollow" target="_blank"> Dashbot </a> analytics整合在一起，所以请务必对这些问题做出<em class="mi">是</em>的回答。</p><p id="006d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们的基本代码已经创建好了，让我们来检查一下吧！您可以在终端中键入:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="0c3e" class="ly lz iq lu b gy ma mb l mc md">cd quick-maths; code .</span></pre><p id="e527" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将使当前文件夹保留在项目的根目录下，并将使用Visual Studio代码打开它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mj"><img src="../Images/dac0f6490c17fc8f92d4d3ef638a9c53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SAr3nTAEfFVKKijeAGXmuA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用voxa-cli创建的Voxa项目的基本结构</p></figure><p id="85b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行<code class="fe mf mg mh lu b">npm install</code>或<code class="fe mf mg mh lu b">yarn install</code>创建<code class="fe mf mg mh lu b">node_modules</code>文件夹。在我们的例子中，我们将使用<code class="fe mf mg mh lu b">yarn</code>。</p><p id="1c34" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mf mg mh lu b">src/app</code> <strong class="ky ir"> <em class="mi"> </em> </strong>文件夹就是我们平时添加app逻辑的地方。我们将在下一篇文章中处理这个文件夹。</p><p id="1b62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mf mg mh lu b">src/app/index.js</code>文件是app的起点。正如我们在第1部分中解释的，Voxa是一个MVC框架，所以我们将在下面的文件中考虑这些关键部分:</p><ul class=""><li id="e128" class="mk ml iq ky b kz la lc ld lf mm lj mn ln mo lr mp mq mr ms bi translated">型号:<code class="fe mf mg mh lu b">src/app/model.js</code> <strong class="ky ir"> <em class="mi"> </em> </strong>文件。在对项目的每个请求中，您将可以访问一个<code class="fe mf mg mh lu b">model</code>变量，在这里您可以调用所有的函数并访问模型的变量。</li><li id="5530" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated">视图:<code class="fe mf mg mh lu b">src/app/views.json</code> <strong class="ky ir"> <em class="mi"> </em> </strong>文件。如果您使用voxa-cli，该路径将更改为<code class="fe mf mg mh lu b">src/languageResources</code>，工具将从交互模型电子表格中下载<code class="fe mf mg mh lu b">VIEWS</code>，包括所有地区。如果您为动态内容定义变量，您可以在<code class="fe mf mg mh lu b">src/app/variables.js</code>文件中定义这些变量。这些变量的值将从模型(<code class="fe mf mg mh lu b">model.js</code>文件)中获取</li><li id="5699" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated">控制器:<code class="fe mf mg mh lu b">src/app/states</code>文件夹。您可以使用函数<code class="fe mf mg mh lu b">voxaApp.onIntent</code>和<code class="fe mf mg mh lu b">voxaApp.onState</code>和<strong class="ky ir">定义所有意图和状态处理程序。</strong></li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Voxa中状态文件的基本结构</p></figure><p id="03d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将把我的更改推送到不同分支中的<a class="ae kv" href="https://github.com/omenocal/quick-maths-voice-app/" rel="noopener ugc nofollow" target="_blank">这个库:part2、part3、part4和part5:</a></p><p id="5f7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mf mg mh lu b">src/config</code>文件夹是您定义应用程序不同环境的地方。</p><p id="4679" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Voxa-cli添加了两个环境文件:生产和暂存。您可以通过将环境变量<code class="fe mf mg mh lu b">NODE_ENV</code>设置为staging、production或您想要的环境来定义您想要使用的环境。</p><p id="46bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">voxa-cli还允许您从电子表格中下载意图、话语和视图。</p><p id="2ad9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">还有另一个电子表格，你可以为你的Alexa技能定义所有的元数据信息:技能名称，权限，界面，描述，图像(URL)关键字等。</p><p id="b3d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于这个应用程序，我已经准备了两个公开的电子表格，你可以将它们复制到你的Google Drive。</p><p id="9ca1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按照这个进入<a class="ae kv" href="https://docs.google.com/spreadsheets/d/13Pwya7y26QsmOXVDv9a_Au1x9hPGn8jT8N2qoz2bCMQ/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank">发布信息电子表格</a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/d52e76c6305c8be1a4228d956fcfa8ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3P7-Oa0POrK-IOjPUQHHeg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">快速数学出版信息电子表格</p></figure><p id="5b32" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在发布信息电子表格中，您会发现三个重要的选项卡:</p><ul class=""><li id="7693" class="mk ml iq ky b kz la lc ld lf mm lj mn ln mo lr mp mq mr ms bi translated">为你的Alexa技能定义所有通用元数据信息。</li><li id="517d" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">SKILL_ENVIRONMENTS_INFORMATION</code>:为Alexa和<a class="ae kv" href="https://dialogflow.com/" rel="noopener ugc nofollow" target="_blank"> Dialogflow </a>定义端点。</li><li id="f730" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">SKILL_LOCALE_INFORMATION@en-US</code>:定义特定于地区的信息，如图像、描述、关键字或示例短语。您也可以为其他地区创建其他选项卡，您只需要修改地区的后缀，如:<code class="fe mf mg mh lu b">@en-GB</code>、<code class="fe mf mg mh lu b">@de-DE</code>、<code class="fe mf mg mh lu b">@es-ES</code>或<code class="fe mf mg mh lu b">@it-IT</code>。</li></ul><p id="9f06" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">访问<a class="ae kv" href="https://docs.google.com/spreadsheets/d/1uiXw38s6zzht1aPE2Iqe6dRYzXccKbn8lRpF9R6ivQ8/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank">交互模型电子表格</a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/47203867418189ec9bfde5f77da66560.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jrySlAsxaktWU9E27hcCVA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">快速数学互动模型电子表格</p></figure><p id="cbf4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在交互模型电子表格中，您会发现四个重要的选项卡:</p><ul class=""><li id="6956" class="mk ml iq ky b kz la lc ld lf mm lj mn ln mo lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">INTENT</code>:定义所有意图及其槽和类型。还有一个定义Dialogflow事件的列，如<code class="fe mf mg mh lu b">GOOGLE_ASSISTANT_WELCOME</code>或<code class="fe mf mg mh lu b">actions_intent_CANCEL</code>。您还可以添加特定于一个平台或另一个平台的意图，设置意图是否是一个<code class="fe mf mg mh lu b">startIntent</code> (Dialogflow)或可以自动使用<code class="fe mf mg mh lu b">CanFulfillIntent</code>界面(Alexa)。</li><li id="cbdc" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">UTTERANCES_MAIN</code>:为您在<code class="fe mf mg mh lu b">INTENT</code>选项卡中定义的每个意图定义所有话语。</li><li id="dd06" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">VIEWS_FILE@en</code>:定义你语音app的所有响应。您可以定义其他地区，就像发布信息电子表格中的<code class="fe mf mg mh lu b">SKILL_LOCALE_INFORMATION</code>页签一样:<code class="fe mf mg mh lu b">@de</code>、<code class="fe mf mg mh lu b">@it</code>、<code class="fe mf mg mh lu b">@es</code>、<code class="fe mf mg mh lu b">@ru-RU</code>等。</li><li id="d97d" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">INVOCATION_NAMES</code>:为您拥有的每个环境定义调用名称。在我们的例子中，我们为生产环境设置了<em class="mi">快速数学</em>，为暂存设置了<em class="mi">快速数学暂存</em>。</li></ul><p id="cb8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们需要用电子表格的URL修改<code class="fe mf mg mh lu b">interaction.json</code>文件。看看这个要点，看看你的文件应该是什么样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="my mz l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">interaction.json文件的基本结构</p></figure><p id="53e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要下载这些资源，我们需要一个来自Google Cloud的密钥。你可以查看<a class="ae kv" href="https://github.com/VoxaAI/voxa-cli" rel="noopener ugc nofollow" target="_blank"> GitHub资源库</a>，按照说明创建Google Cloud项目。</p><p id="5174" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你下载密钥文件时，将其复制到你的语音项目的根文件夹中，并命名为<code class="fe mf mg mh lu b">client_secret.json</code>。现在，您可以运行:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="974c" class="ly lz iq lu b gy ma mb l mc md">yarn interaction</span></pre><p id="146b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将下载您的发言和回应。您将看到三个新文件夹:</p><ul class=""><li id="834d" class="mk ml iq ky b kz la lc ld lf mm lj mn ln mo lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">/src/content</code>:用voxa-cli下载的其他内容。例如，<code class="fe mf mg mh lu b">{environment}-canfulfill-intents.json</code>文件。</li><li id="338a" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">/src/languageResources</code>:从电子表格下载的视图。</li><li id="e3e5" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated"><code class="fe mf mg mh lu b">/speech-assets</code>:Alexa和Dialogflow的交互模型。</li></ul><p id="5a0d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这个库的这个<a class="ae kv" href="https://github.com/omenocal/quick-maths-voice-app/tree/part2" rel="noopener ugc nofollow" target="_blank">分支</a>中仔细检查项目到目前为止的进度，当我们按照一步一步的指示操作时，我用这个分支来推动我的变更。</p><p id="ab3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，是时候在您的客户中创造技能和行动了。去亚马逊开发者控制台<a class="ae kv" href="https://developer.amazon.com/alexa/console/ask" rel="noopener ugc nofollow" target="_blank">创建一个叫做<em class="mi">快速数学</em>的技能。并且，在</a><a class="ae kv" href="https://console.actions.google.com" rel="noopener ugc nofollow" target="_blank">动作控制台</a>中，创建一个<em class="mi">快速数学</em>动作。</p><p id="bd0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于Alexa，转到<em class="mi">构建</em>选项卡，在<em class="mi"> JSON编辑器</em>菜单下复制<code class="fe mf mg mh lu b">/speech-assets/alexa/en-US/{environment}-interaction.json</code> <strong class="ky ir"> </strong>文件内容，这取决于您想要首先设置的环境。</p><p id="c2bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您已经设置了ASK CLI，您可以运行以下命令:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="75e9" class="ly lz iq lu b gy ma mb l mc md">ask api update-model -s {SKILL_ID} -f speech-assets/alexa/en-US/production-interaction.json -l en-US</span></pre><p id="3315" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要更新技能元数据，您可以运行</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="06c8" class="ly lz iq lu b gy ma mb l mc md">ask api update-skill -s {SKILL_ID} -f speech-assets/alexa/production-manifest.json</span></pre><p id="bd41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于Dialogflow，进入<em class="mi">动作</em>菜单，点击<em class="mi">构建</em>按钮，进入Dialogflow控制台。</p><p id="0d0f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以将<code class="fe mf mg mh lu b">/speech-assets/dialogflow/{environment}/</code> <strong class="ky ir"> </strong>路径的内容压缩，上传到Dialogflow。转到<em class="mi">设置</em>按钮⚙️，点击<em class="mi">导出和导入</em>选项卡。</p><p id="e1bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击<em class="mi">从zip文件中恢复</em>按钮，从项目中拖动ZIP文件。最后，进入<em class="mi">集成</em>菜单，点击<em class="mi">谷歌助手</em>按钮，点击<em class="mi">测试</em>按钮。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="5b4b" class="nj lz iq bd nk nl nm nn no np nq nr ns jw nt jx nu jz nv ka nw kc nx kd ny nz bi translated">Alexa的帐户链接</h1><p id="048d" class="pw-post-body-paragraph kw kx iq ky b kz oa jr lb lc ob ju le lf oc lh li lj od ll lm ln oe lp lq lr ij bi translated">先说Alexa。进入开发者门户网站，在页面的右上角有一个按钮，上面有你账户名称的首字母，点击它，然后点击<em class="mi">设置</em>。</p><p id="612d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇来自Alexa博客的<a class="ae kv" href="https://developer.amazon.com/blogs/post/Tx3CX1ETRZZ2NPC/Alexa-Account-Linking-5-Steps-to-Seamlessly-Link-Your-Alexa-Skill-with-Login-wit" rel="noopener ugc nofollow" target="_blank">帖子</a>中，你会看到如何创建账户链接的<code class="fe mf mg mh lu b">LoginWithAmazon</code>配置的详细步骤说明。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/6610f4c8cb13f4c28cbfef683355092c.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/1*hLGk8ztxabfjvUAKuyXcXA.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">逐步创建LoginWithAmazon配置</p></figure><p id="b46e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">转到开发人员门户控制台中的技能配置。在<em class="mi">账户链接</em>菜单下，启用<em class="mi">账户链接</em>并粘贴以下值:</p><pre class="kg kh ki kj gt lt lu lv lw aw lx bi"><span id="25a3" class="ly lz iq lu b gy ma mb l mc md">Authorization URI: <a class="ae kv" href="https://www.amazon.com/ap/oa" rel="noopener ugc nofollow" target="_blank">https://www.amazon.com/ap/oa</a></span><span id="9e65" class="ly lz iq lu b gy og mb l mc md">Access Token URI: <a class="ae kv" href="https://api.amazon.com/auth/o2/token" rel="noopener ugc nofollow" target="_blank">https://api.amazon.com/auth/o2/token</a></span><span id="6208" class="ly lz iq lu b gy og mb l mc md">ClientID: from LoginWithAmazon</span><span id="9cff" class="ly lz iq lu b gy og mb l mc md">ClientSecret: from LoginWithAmazon</span><span id="c3ff" class="ly lz iq lu b gy og mb l mc md">Client Authentication Scheme: HTTP Basic</span><span id="8da5" class="ly lz iq lu b gy og mb l mc md">Scopes: profile, postal_code</span><span id="6786" class="ly lz iq lu b gy og mb l mc md">Domain list: <a class="ae kv" href="http://amazon.com" rel="noopener ugc nofollow" target="_blank">amazon.com</a>, <a class="ae kv" href="http://na.amazon.com" rel="noopener ugc nofollow" target="_blank">na.account.amazon.com</a></span></pre></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="019a" class="nj lz iq bd nk nl nm nn no np nq nr ns jw nt jx nu jz nv ka nw kc nx kd ny nz bi translated">谷歌的登录</h1><p id="965e" class="pw-post-body-paragraph kw kx iq ky b kz oa jr lb lc ob ju le lf oc lh li lj od ll lm ln oe lp lq lr ij bi translated">转到操作控制台中的操作配置。在<em class="mi">账户链接</em>菜单下，按照以下步骤操作:</p><ul class=""><li id="d9f9" class="mk ml iq ky b kz la lc ld lf mm lj mn ln mo lr mp mq mr ms bi translated">账户创建:选择<em class="mi">是</em>，允许用户通过语音注册新账户。</li><li id="c3de" class="mk ml iq ky b kz mt lc mu lf mv lj mw ln mx lr mp mq mr ms bi translated">链接类型:Google登录。</li></ul><p id="689f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击<em class="mi">保存</em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/4a37698a2c7de67f5ad7215e833cbb06.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*BhfXJROzltWPYZLN9bkLvg.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">设置Google登录的步骤</p></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="ff21" class="nj lz iq bd nk nl nm nn no np nq nr ns jw nt jx nu jz nv ka nw kc nx kd ny nz bi translated">最后的</h1><p id="3998" class="pw-post-body-paragraph kw kx iq ky b kz oa jr lb lc ob ju le lf oc lh li lj od ll lm ln oe lp lq lr ij bi translated">完成这两个步骤后，我们就完成了语音应用程序的帐户链接集成。在下一篇文章中，我们将为游戏和比赛创建逻辑。</p><p id="5a9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！请务必查看下一篇文章。</p></div></div>    
</body>
</html>