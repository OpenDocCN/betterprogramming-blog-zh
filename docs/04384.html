<html>
<head>
<title>4 Tools to Write Better Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编写更好Python的4个工具</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/3-tools-for-writing-better-python-155b159faad8?source=collection_archive---------12-----------------------#2020-04-09">https://betterprogramming.pub/3-tools-for-writing-better-python-155b159faad8?source=collection_archive---------12-----------------------#2020-04-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b88a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">PEP8、Pylint、IPython和isort</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/249b2ace935789b52caa5e9f12983d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XzLg1HERAp5kRQhrVm_Sgw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Rachael Gorjestani 在<a class="ae ky" href="https://unsplash.com/s/photos/tools?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="687b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我第一次开始写Python的时候，我犯了<em class="lv">太多</em>错误。令人沮丧。我第一次学习用Ruby编程，虽然熟练地使用Python并不是什么惊天动地的事情，但还是有点烦人。</p><p id="875d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我反对语言的常规和“Python的禅宗”。每一个语法错误都会让我说:“多么愚蠢的规则。为什么？”</p><p id="ff18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">缩进作为语法感觉怪怪的。这使得代码看起来很难看，并且向右移动。我过去习惯的速记方法和巧妙的单句俏皮话现在已经无效了，必须用一种看起来陌生的方式重写。</p><p id="ce1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后…一切都变了。</p><p id="c2ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，算是吧。不是一下子，而是慢慢地事情发生了变化。语法开始变得不那么陌生，我开始有点喜欢写Python了。让我恼火的事情最终都退居幕后了。</p><p id="91b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像语法缩进这样令人厌恶的东西仍然存在。我仍然不欣赏一些整体的语法决策，但是编写Python已经变得不那么令人沮丧了。</p><p id="fc52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过明智地应用工具，可以减轻习惯一门新语言的考验和磨难。学习风格指南。Lint你的代码。变得舒适。</p><p id="f338" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我整理了一个工具列表，这些工具帮助我成为一名更好的Python开发人员。希望像这样的工具能够减轻痛苦，并尽早指出需要改进的地方。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="aba7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">1.PEP8</h1><p id="d853" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">首先也是最重要的是<a class="ae ky" href="https://www.python.org/dev/peps/pep-0008/" rel="noopener ugc nofollow" target="_blank"> Python风格指南</a>。这不一定是你运行的工具，而是你引用的工具。在开发过程中，你肯定会遇到这样的场景，你会想:“我应该怎么写呢？”</p><p id="7cd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你的第一反应应该是查看风格指南。参考样式指南首先巩固了你头脑中的最佳设计选择，并使得下次编写类似的方法或函数更快。</p><p id="dc1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有两个额外的步骤可以让你尽早真正理解这种风格:</p><ul class=""><li id="6da1" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">遇到问题不要只参考，读一读。研究该语言期望某些数据结构如何格式化，或者函数应该如何正确声明。</li><li id="2a71" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">将风格指南与下一个工具(<a class="ae ky" href="https://www.pylint.org/" rel="noopener ugc nofollow" target="_blank"> Pylint </a>)结合使用，作为更密切关注的领域的指示器。如果你每次都违反某些规则，那就再看一遍风格指南的那个部分。</li></ul></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="1342" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">2.皮林特</h1><p id="8ab7" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">接下来是一个方便的工具，可以显示你在代码中犯的所有错误和违反的约定。Pylint 是一个林挺Python文件的命令行工具。</p><p id="e7c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对林挺一点都不熟悉，那么Colby Fayock有一篇很棒的文章叫做“<a class="ae ky" href="https://medium.com/better-programming/what-is-linting-66e7876708f3" rel="noopener">林挺是什么？</a>”</p><p id="7094" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">林挺归结为检查你的代码的错误，并根据风格指南进行检查。在这种情况下，安装Pylint并对Python文件运行它会产生一系列需要解决的问题。这包括行长度、函数格式、变量命名等。</p><p id="487f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每次编写新的Python文件或更新现有文件时，都应该运行Pylint并检查问题。这可以由其他第三方工具自动完成，或者通过插件简单地内置到您现有的IDE中。</p><p id="4945" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着时间的推移，您会发现在编写一些代码后，您产生的问题更少，需要修复的东西也更少。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="676a" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">3.IPython</h1><p id="4491" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">IPython 是现有Python <a class="ae ky" href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop" rel="noopener ugc nofollow" target="_blank"> REPL </a>的替代产品，有一个重要的改进——语法高亮！</p><p id="da85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与Ruby的<a class="ae ky" href="https://github.com/pry/pry" rel="noopener ugc nofollow" target="_blank"> Pry </a> gem非常相似，IPython为您提供了彩色输出、自动缩进和交互式语法高亮显示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/244e5f7029b6fb57b893e793e7b70d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/1*8rhFJxEJaTuOALR06exuGg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用IPython突出显示内联语法。</p></figure><p id="1b6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用IPython也非常简单，你需要做的就是安装并运行<code class="fe nr ns nt nu b">ipython</code>,就像你使用普通的Python REPL一样:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="8a41" class="nz me it nu b gy oa ob l oc od">sudo apt-get install ipython<br/>ipython</span></pre><p id="b754" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您测试代码和开发简短的代码片段时，使用这个插件可以为您提供更好的反馈。</p><p id="b845" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你键入时，你将能够更清楚地看到语法，并且你将得到像自动缩进这样有用的调整，以避免当你错过一个制表符时不得不重新键入代码。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d7da" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">4.伊索特</h1><p id="7793" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">起初，这并不是这个星球上最有用的工具，但它可以将你从一次又一次的单调工作中拯救出来。</p><p id="95f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代表“导入排序”,它确实如其名。该工具将接受一个Python文件，并按字母顺序对其中的所有<code class="fe nr ns nt nu b">import</code>语句进行排序。</p><p id="465e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">乍一看，如果您只处理几个文件和一小组导入语句，这似乎没有必要。当代码库增长和引入更多的导入时，按字母顺序保存它们会很快变得很烦人。</p><p id="ede1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在列表的底部加入一个import语句来测试一些东西。结果是你测试的东西工作得很好，你想提交代码。接下来，您会发现您的Pylint失败了，因为您的导入不是按字母顺序的。</p><p id="5732" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe nr ns nt nu b">isort</code>，再也不用手动按字母顺序排列了。</p><p id="f89b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可以通过<code class="fe nr ns nt nu b">pip</code>或<code class="fe nr ns nt nu b">apt</code>安装，具体取决于您的经销商:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="4803" class="nz me it nu b gy oa ob l oc od">pip install isort</span><span id="e5fb" class="nz me it nu b gy oe ob l oc od">sudo apt install isort</span></pre><p id="83f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一种简便的方法是将<code class="fe nr ns nt nu b">isort</code>添加为Git挂钩，这样它就可以在你提交任何东西之前自动运行。有关配置的更多信息，请查看<a class="ae ky" href="https://timothycrosley.github.io/isort/" rel="noopener ugc nofollow" target="_blank">官方文档</a>。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="54b9" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="1891" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">感谢阅读！我希望其中的一些工具能够增强您使用Python的开发体验，并让您更容易习惯这种语法和风格。</p></div></div>    
</body>
</html>