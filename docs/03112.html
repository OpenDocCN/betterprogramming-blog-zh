<html>
<head>
<title>Pure CSS Media Queries and Responsive Web Design With React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">纯CSS媒体查询和响应式网页设计</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/pure-css-media-queries-and-responsive-web-design-with-react-bac7a31e84b4?source=collection_archive---------10-----------------------#2020-01-21">https://betterprogramming.pub/pure-css-media-queries-and-responsive-web-design-with-react-bac7a31e84b4?source=collection_archive---------10-----------------------#2020-01-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="82fc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">构建适合用户设备大小的网页和应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8effbbd80609d7f76a7518f5d6f1bf76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BOrupAvTGYsAbwayf4kkHg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">多梅尼科·洛亚在<a class="ae ky" href="https://unsplash.com/s/photos/responsive-design?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="4d5b" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">介绍</h1><p id="f136" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">最近，我和一位同事在科技大会<a class="ae ky" href="https://connect.tech/" rel="noopener ugc nofollow" target="_blank"> Connect上做了一次演讲。Tech </a>关于构建应用程序时对响应式web设计日益增长的需求，以及实现这一需求的几种不同方式，特别是在JavaScript框架方面，React。</p><p id="5ab8" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">如果你不熟悉这个术语，让我快速定义一下<em class="mz">响应式网页设计</em>，这样我们都从同一个地方开始。我发现的最好的定义直接来自于《粉碎》杂志，它是网站开发者和网站设计者的主要编辑声音。</p><blockquote class="na nb nc"><p id="192a" class="ly lz mz ma b mb mu ju md me mv jx mg nd mw mj mk ne mx mn mo nf my mr ms mt im bi translated">“响应式网页设计是一种方法，它建议设计和开发应该根据屏幕大小、平台和方向来响应用户的行为和环境。”— <a class="ae ky" href="https://www.smashingmagazine.com/2011/01/guidelines-for-responsive-web-design/" rel="noopener ugc nofollow" target="_blank">砸弹匣</a></p></blockquote><p id="ea8f" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在构建应用程序时，从多种浏览器/设备尺寸的响应式设计开始，这在当今世界越来越有必要，这一点应该是有道理的，但如果您想要一些统计数据，这里有一些应该有助于说服您。</p><blockquote class="ng"><p id="7126" class="nh ni it bd nj nk nl nm nn no np mt dk translated">“2018年，全球所有网站流量的52.2%是通过手机产生的，高于上一年的50.3%。”— <a class="ae ky" href="https://www.statista.com/statistics/241462/global-mobile-phone-website-traffic-share/" rel="noopener ugc nofollow" target="_blank">统计人员</a></p></blockquote><p id="838a" class="pw-post-body-paragraph ly lz it ma b mb nq ju md me nr jx mg mh ns mj mk ml nt mn mo mp nu mr ms mt im bi translated">并且:</p><blockquote class="ng"><p id="9836" class="nh ni it bd nj nk nl nm nn no np mt dk translated">"平均而言，88%的全球消费者表示他们同时使用2.42台设备进行多重屏幕操作."— <a class="ae ky" href="https://blogs.adobe.com/creative/files/2015/12/Adobe-State-of-Content-Report.pdf" rel="noopener ugc nofollow" target="_blank">土坯</a></p></blockquote><p id="a349" class="pw-post-body-paragraph ly lz it ma b mb nq ju md me nr jx mg mh ns mj mk ml nt mn mo mp nu mr ms mt im bi translated">或者考虑一下这张2018年8月-2019年8月的图表，显示了全球用户的平均屏幕尺寸。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/4c405db09d62664829599f7e173c4c22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D4AShZm4ogKVqr7QO7pldw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据来源:<a class="ae ky" href="https://gs.statcounter.com/screen-resolution-stats/desktop-mobile-tablet/worldwide/#monthly-201808-201908-bar" rel="noopener ugc nofollow" target="_blank">global stats</a>2018年8月—2019年8月。</p></figure><p id="88d4" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在2020年及以后，所有迹象都表明，无论用户身在何处，都需要响应式设计来满足他们。</p><p id="ef0e" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">虽然我不会深入讨论如何实现响应式设计的所有细节(如果你愿意，你可以看到演讲的完整<a class="ae ky" href="https://t.co/WFHmJsDZ4d?amp=1" rel="noopener ugc nofollow" target="_blank">幻灯片)，但我想分享两种实现响应式设计的可能方法，供其他希望开始使用它的人参考。</a></p><p id="a6ca" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">本文将介绍响应式web设计的第一个解决方案:CSS媒体查询，它适用于任何使用CSS样式的JavaScript应用程序。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="b1ff" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">什么是CSS媒体查询？</h1><p id="3f8c" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated"><a class="ae ky" href="https://www.w3schools.com/cssref/css3_pr_mediaquery.asp" rel="noopener ugc nofollow" target="_blank">媒体查询</a>是一种向台式机、笔记本电脑、平板电脑和手机发送定制样式表(响应式网页设计)的流行技术。</p><p id="b73d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">CSS媒体查询通常用于检查以下内容:</p><ul class=""><li id="d80c" class="nw nx it ma b mb mu me mv mh ny ml nz mp oa mt ob oc od oe bi translated">视口的宽度和高度。</li><li id="689f" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">设备的宽度和高度。</li><li id="d004" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">方向(设备是横向模式还是纵向模式？).</li><li id="b1b5" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">分辨率。</li></ul><p id="8f3d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">它们还可以用于指定某些样式仅用于打印文档或屏幕阅读器。</p><h2 id="10c8" class="ok lh it bd li ol om dn lm on oo dp lq mh op oq ls ml or os lu mp ot ou lw ov bi translated">CSS媒体查询剖析</h2><p id="cd2a" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">但是到目前为止，媒体查询最常见的用途属于上面的第一组要点:检查视口和设备的宽度和高度，以了解要提供哪种CSS样式。</p><p id="5223" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这里有一个CSS媒体查询代码的例子。</p><p id="bcdc" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">CSS媒体查询的典型示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/d8247a64afbf945477b12e97d434d88a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FMR7YwW87tXuqtc7P0rrxw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这里有一个你可能在CSS中看到的典型媒体查询的例子。</p></figure><pre class="kj kk kl km gt ox oy oz pa aw pb bi"><span id="7001" class="ok lh it oy b gy pc pd l pe pf">@<em class="mz">media</em> <em class="mz">only</em> screen and (min-width: 375px) and (max-width: 969px) {  <br/>  body { <br/>    background: green;<br/>    font-size: 16px;<br/>  }<br/>}</span></pre><p id="0ffb" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">CSS3引入的<code class="fe pg ph pi oy b">@media</code>规则用于为不同的媒体类型/设备应用不同的样式。<code class="fe pg ph pi oy b">only screen</code>适用于所有电脑屏幕、平板电脑、智能手机等。</p><p id="cf91" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在上面的例子中，这个start指定了在中定义的CSS样式(<code class="fe pg ph pi oy b">background: green</code>和<code class="fe pg ph pi oy b">font-size: 16px</code>)将只应用于尺寸至少在375px ( <code class="fe pg ph pi oy b">min-width: 375px)</code>，一直到969px ( <code class="fe pg ph pi oy b">max-width: 969px</code>)之间的屏幕的<code class="fe pg ph pi oy b">body</code> HTML标签。</p><p id="d172" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这是一个非常基本的例子，但是CSS媒体查询非常强大。它们可以用来显示和隐藏DOM的不同元素，调整字体大小，以及相对容易地切换整个页面布局。</p><p id="09fd" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在向您展示我是如何使用它们的之前，让我们先来谈谈媒体查询的两种基本设计方法。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="7566" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">CSS媒体查询方法</h1><p id="4abc" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">编写CSS媒体查询有两种常见的方法。它们被称为<em class="mz">减法CSS </em>和<em class="mz">加法CSS </em>。</p><p id="3031" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">没有哪一个真的比另一个更好，它更多地取决于应用程序的主要受众来帮助确定哪种方法适合您。</p><p id="8458" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">有助于弄清楚这一点的问题可能包括:“它将更多地用于移动设备还是台式机，还是将用于一大群不同的用户，还是一个公司内部的一小群用户？诸如此类的事情。</p><p id="db64" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">以下是关于这两种方法的更多细节。</p><h2 id="a566" class="ok lh it bd li ol om dn lm on oo dp lq mh op oq ls ml or os lu mp ot ou lw ov bi translated">减法CSS</h2><p id="a9bd" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">第一种方法是减法CSS，这种方法可能更常用于拥有更小、更同质用户群的应用程序。</p><p id="532b" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">想想组织内用于非常特定目的的内部应用程序，这些应用程序通常只能通过特定设备访问，原因可能是公司防火墙、网络或硬连线终端等。</p><p id="2424" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">减色CSS通常从最大分辨率的构图和屏幕样式开始。它从最大的显示器开始，然后添加媒体查询以<em class="mz">撤销</em>较小视窗不需要的CSS。</p><p id="ca24" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">基本上，它加入了一些样式，撤销了一些以更高分辨率布局的更复杂的布局。</p><p id="b7cc" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">尽管它的名字中有减法，但它通常会导致更多的CSS行不得不覆盖底层样式。</p><p id="d264" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">你可以看看这个代码笔，它展示了减法CSS的工作原理。看看我必须添加多少CSS来从宽屏视图撤销布局以适应更小的视窗。</p><p id="067e" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">如果扩展和收缩视口，可以看到大屏幕、平板电脑和移动设备的样式发生变化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pj pk l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一个交互式的减法CSS代码笔。</p></figure><h2 id="5219" class="ok lh it bd li ol om dn lm on oo dp lq mh op oq ls ml or os lu mp ot ou lw ov bi translated">加法CSS</h2><p id="7e54" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">加法CSS是减法的反义词，顾名思义。使用附加CSS，你首先从最小分辨率的样式开始，随着屏幕尺寸的增加，向<em class="mz">添加媒体查询来构建</em>CSS。</p><p id="3e12" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">开始很简单，随着水平屏幕空间的增加，布局变得更加复杂。</p><p id="4c84" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">一般来说，附加CSS可能是开始设计新应用程序的更推荐的方式。如果它是移动优先设计的，并且需要覆盖和撤销的CSS更少，那么它会使在不同断点加载的CSS数量更少(对您的最终用户体验更好)。</p><p id="67f8" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">此外，用户很有可能会从各种不同的屏幕尺寸和设备上访问应用程序，这是你无法想象的，因此对他们进行分类是非常重要的。</p><p id="4639" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这是另一个显示附加CSS工作的代码笔。您可以看到，在这个示例中，我首先从最小的视窗开始，随着媒体查询下视窗大小的增加，慢慢添加更多的细节和布局复杂性。</p><p id="0fdb" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">尝试调整视口大小以查看CSS的变化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pj pk l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">附加CSS的交互式代码笔。</p></figure><p id="35c9" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我知道这两个例子看起来都很简单，但是想象一下一个更大的多屏应用程序(见鬼，看看你经常在手机和笔记本上使用的大多数应用程序)，然后想想你如何使用这两种方法来构建它们。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="0d63" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">我如何在React中使用CSS媒体查询</h1><p id="f3c9" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">除了我们在会议上的发言，我还建立了三个React电影演示站点来说明我的观点，使用了<a class="ae ky" href="https://developers.themoviedb.org/3/getting-started/introduction" rel="noopener ugc nofollow" target="_blank">电影数据库API </a>作为数据源。</p><p id="c3dd" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">第一个站点完全没有响应，显示了跨多个设备的糟糕用户体验。</p><p id="1ab2" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">第二个网站是用CSS媒体查询构建的，使其能够响应平板电脑和移动设备。第三个站点是使用名为<a class="ae ky" href="https://github.com/flexdinesh/react-socks" rel="noopener ugc nofollow" target="_blank"> React-socks </a>的React专用响应库构建的，以使其具有响应性。</p><p id="fcda" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">第二个演示是我将在博客中展示的代码片段。如果你想看完整的代码库，可以在GitHub 上找到<a class="ae ky" href="https://github.com/paigen11/movie-demo-2" rel="noopener ugc nofollow" target="_blank">，如果你想看现场版，可以在这个网站</a>上找到<a class="ae ky" href="https://movie-demo-2.paigen11.now.sh/" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="9ea2" class="ok lh it bd li ol om dn lm on oo dp lq mh op oq ls ml or os lu mp ot ou lw ov bi translated">基本组件示例</h2><p id="a6a6" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated"><strong class="ma iu">桌面视图</strong></p><p id="a7a5" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我将向您展示我的应用程序中的<code class="fe pg ph pi oy b">MovieDetails</code> React组件的一部分CSS。下面是使用该组件的桌面页面的外观。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/435fd06a6e8c5c11b5fd09b74cab0416.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-vxJ9oCgn6UP1EYAJL7IEw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我的应用程序中使用“MovieDetails”组件的页面。</p></figure><p id="13b2" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">正如你从截图中看到的，在桌面大小的布局相当复杂:电影海报背景，官方预告片海报在左侧，电影简介，上映日期，评级和评论在右侧，等等。</p><p id="7ebf" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这是制作电影海报的CSS片段。这是我用来构建小屏幕视图的基础CSS。没错，这就是减法CSS的一个例子。</p><p id="d298" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe pg ph pi oy b">MovieDetails.scss</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/a67a5a2bbbe7afe9a09da6247d73de8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RhOc0imQv923vv-ZJXgjwQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这是进入“MovieDetails.js”组件页面的所有CSS的一小部分。</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pn pk l"/></div></figure><p id="7eef" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">好的，你可以看到我在桌面布局中使用了<a class="ae ky" href="https://css-tricks.com/snippets/css/complete-guide-grid/" rel="noopener ugc nofollow" target="_blank"> CSS网格</a>布局。现在，让我们看看视图和组件的CSS是如何随着屏幕尺寸的缩小而变化的。</p><h2 id="30d5" class="ok lh it bd li ol om dn lm on oo dp lq mh op oq ls ml or os lu mp ot ou lw ov bi translated">具有媒体查询的相同组件</h2><p id="3bf7" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated"><strong class="ma iu">平板电脑视图</strong></p><p id="1a36" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这是同样的React组件<code class="fe pg ph pi oy b">MovieDetails</code>在平板电脑上的外观。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/c8bd95c949c0a6067a49f14d0852bac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DpA8V-IKBtfUUl3GLgmzTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用“MovieDetails”组件的应用程序中的平板电脑视图页面。</p></figure><p id="1d5b" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在平板电脑视窗尺寸下，电影海报位于视窗中央，剧情简介、评分和评论在海报下方滑动。</p><p id="eeda" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这是这个视图中CSS的一部分。</p><p id="525a" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe pg ph pi oy b">MovieDetails.scss</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/f27a940ec8f0e035a38d6e0840b178ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yaH-M4uulMy96MdI4l4fNQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">相同的“MovieDetails”组件CSS，但现在是平板电脑大小。</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pn pk l"/></div></figure><p id="b8c1" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">对于tablet视图，CSS布局从Grid(设计布局的二维方式)切换到<a class="ae ky" href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" rel="noopener ugc nofollow" target="_blank"> CSS Flexbox </a>(安排布局的更一维方式)。更适合每个元素一个接一个按顺序排列的视图。</p><p id="04cd" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">够直接了。</p><p id="826d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">接下来是最后一个例子:移动视图。</p><p id="883a" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><strong class="ma iu">移动视图</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/7e6ce94d98c220fe823d99a7b186d2a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*hBklyScf1lON1AZeXNFI4A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最后，应用程序中使用“MovieDetails”组件的移动视图页面。</p></figure><p id="f651" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">移动视图更类似于<code class="fe pg ph pi oy b">MovieDetails</code> React组件的平板视图。同样，电影海报是最前面和最中心的，总览和收视率排在后面。</p><p id="ab53" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">对于手机，字体大小也增加了，现在评论上有一个“阅读更多…”的切换，而不是用户可以从头开始滚动整个评论，因为他们可以在更大的视图大小。</p><p id="6259" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这是伴随它的CSS的最后一个例子。</p><p id="2393" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe pg ph pi oy b">MovieDetails.scss</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/a8b9c4cfeed45ec6838ca28e0e988e24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kRsOl_U--ANYoen2L-slpQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“MovieDetails”组件的CSS，但适用于移动大小。</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pn pk l"/></div></figure><p id="7faf" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">如您所见，<code class="fe pg ph pi oy b">.movie-details-poster-wrapper</code>的<code class="fe pg ph pi oy b">display</code>属性在CSS Flexbox中保持这个视口大小，而它的<code class="fe pg ph pi oy b">flex-direction</code>保持<code class="fe pg ph pi oy b">column</code>，因此其中包含的所有子元素都排列得很好。</p><p id="de83" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">不过您会注意到，对于这个视图，<code class="fe pg ph pi oy b">.movie-details-poster</code>设置了一个<code class="fe pg ph pi oy b">width</code>属性来防止它超出视口的宽度(默认情况下，TMDB API提供的实际图像是500px大)，以及它的其他样式属性。</p><p id="0bb4" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">有道理？很好，现在我将快速概述一下我在使用CSS媒体查询时遇到的利与弊。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="296c" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">CSS媒体查询的利与弊</h1><p id="5394" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我已经介绍了CSS媒体查询的基础知识，以及如何在React中使用它们，但是我觉得有必要讨论一下它们的优缺点。</p><p id="c591" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">有时，它们可能是一个很好的解决方案，但它们可能并不完美，无法解决每一个响应式设计问题。</p><p id="176c" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">先说亮点。</p><h2 id="cd61" class="ok lh it bd li ol om dn lm on oo dp lq mh op oq ls ml or os lu mp ot ou lw ov bi translated">CSS媒体查询的好处</h2><ul class=""><li id="0a6e" class="nw nx it ma b mb mc me mf mh ps ml pt mp pu mt ob oc od oe bi translated">当在不同的布局中稍微重用相同的组件时非常有用<em class="mz"/>——只要组件中元素的位置或可见性没有太大的不同，CSS媒体查询应该能够完成这项工作。当需要以不同的视口大小添加全新的组件时，JavaScript和JSX组件代码可能会变得复杂。</li><li id="8524" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">断点可以跨组件重用——这是一个很好的节省时间的方法。通常，您为一个组件设置的视口断点对其他组件也有意义，因此不需要为应用程序的每个页面重新设计。</li><li id="5477" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">关注点分离——对于不属于CSS-in-JS阵营的人(我知道有很多)，CSS媒体查询提供了逻辑和表示的良好分离。CSS严格处理布局，JavaScript和React框架处理数据获取和逻辑操作。</li></ul><p id="b7c0" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">虽然CSS媒体查询有很多优点，但也有一些缺点。</p><h2 id="e284" class="ok lh it bd li ol om dn lm on oo dp lq mh op oq ls ml or os lu mp ot ou lw ov bi translated">CSS媒体查询的缺点</h2><ul class=""><li id="a34e" class="nw nx it ma b mb mc me mf mh ps ml pt mp pu mt ob oc od oe bi translated">CSS可能很快变得又长又乱——如果一个组件有三个或更多大小的断点，并且使用了更多的减法样式的CSS，那么CSS文件可能会变得很长。例如，我在上面的例子中引用的<code class="fe pg ph pi oy b">MovieDetails.scss</code>文件在被<a class="ae ky" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> webpack </a>打包用于部署之前有176行长。这是一个相对简单的例子，它可以变得比这复杂得多。</li><li id="96a4" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">从一个尺寸到另一个尺寸非常不同的布局需要用<code class="fe pg ph pi oy b">display: none</code>复制代码来实现结果——这一点是不言自明的，但是如果你有一个桌面布局，顶部有一个<code class="fe pg ph pi oy b">title</code>元素，下面有一个图像，但是移动布局在<code class="fe pg ph pi oy b">title</code>上面有一个图像，可能没有办法编写JSX，这样你就不会在代码的两个地方重复<code class="fe pg ph pi oy b">title</code>。这意味着在一个组件中不同视口级别的重复元素，这意味着可读性更差，维护代码更复杂。</li></ul><p id="d0ec" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">CSS媒体查询很棒，但它们并不总是正确的答案，在使用它们之前了解这一点很重要。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="547c" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">结论</h1><p id="13df" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">响应式网页设计是当今每个设计师和开发者都需要思考的问题。我们甚至无法想象应用程序可能被使用的一些场景，我们不能给用户不好的体验，因为我们的竞争对手不会。</p><p id="5577" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">有很多解决方案，但是我选择研究的方法之一是在React应用程序中使用CSS媒体查询。它们原生于CSS3，这意味着不管您的JavaScript框架如何，只要它使用CSS进行样式化，您就可以利用它们。</p><p id="8e68" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">实现它们只需要很少的额外CSS，至少最初是这样。如果您正确构建CSS(使用随着屏幕变大而增加的附加CSS方法)，移动CSS包的大小可以非常小，这意味着用户可以获得更快的加载时间和更好的体验。这是一个非常可靠的选择。</p><p id="c97a" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">过几周再来看看，我会用React.js写这个关于响应式设计的系列的第二篇文章，这篇文章将重点讨论一个让站点具有响应性的React专用解决方案。</p><p id="6ced" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">感谢您的阅读，我希望您在设计和构建自己的响应式web应用程序时，能够考虑CSS媒体查询。它们是一种强大、通用的解决方案。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="2c2d" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">参考资料和更多资源</h1><ul class=""><li id="beda" class="nw nx it ma b mb mc me mf mh ps ml pt mp pu mt ob oc od oe bi translated">GitHub repo，React app用CSS媒体查询响应式设计:<a class="ae ky" href="https://github.com/paigen11/movie-demo-2" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。</li><li id="4ed2" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated"><a class="ae ky" href="https://movie-demo-2.paigen11.now.sh/" rel="noopener ugc nofollow" target="_blank">响应式app </a>现场演示现场。</li><li id="1cb9" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">响应式网页设计，粉碎杂志:<a class="ae ky" href="https://www.smashingmagazine.com/2011/01/guidelines-for-responsive-web-design/" rel="noopener ugc nofollow" target="_blank">粉碎杂志</a>。</li><li id="43d8" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">响应式设计采用React.js <a class="ae ky" href="https://drive.google.com/drive/folders/1oRtHrgzpPorn9ogGpAxA5lPrH3ycCYK9" rel="noopener ugc nofollow" target="_blank">演示平台</a>。</li><li id="62a5" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">媒体查询，<a class="ae ky" href="https://www.w3schools.com/cssref/css3_pr_mediaquery.asp" rel="noopener ugc nofollow" target="_blank"> W3学校</a>。</li><li id="6b30" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">CSS网格参考，<a class="ae ky" href="https://css-tricks.com/snippets/css/complete-guide-grid/" rel="noopener ugc nofollow" target="_blank"> CSS招数</a>。</li><li id="c1f8" class="nw nx it ma b mb of me og mh oh ml oi mp oj mt ob oc od oe bi translated">CSS Flexbox，<a class="ae ky" href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" rel="noopener ugc nofollow" target="_blank"> CSS招数</a>。</li></ul></div></div>    
</body>
</html>