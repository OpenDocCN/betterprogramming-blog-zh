<html>
<head>
<title>5 Useful Swift One-Liners To Write Concise Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编写简洁代码的5个有用的Swift一行程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-useful-swift-one-liners-to-write-concise-code-e63f75337a53?source=collection_archive---------4-----------------------#2021-04-09">https://betterprogramming.pub/5-useful-swift-one-liners-to-write-concise-code-e63f75337a53?source=collection_archive---------4-----------------------#2021-04-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="200d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习一些一行程序来提高代码的可读性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/716efb124b9f615db6f7691e0abe3d52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TNBylPZPNsAECGQy"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@maxcodes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">麦克斯韦·纳尔逊</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="9430" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">1.单行If-Else运算符</h1><p id="3439" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">您知道可以替换这个简单的<code class="fe mu mv mw mx b">if-else</code>语句吗:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="f2b1" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">用这个简洁的小一行表达式？</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="14b6" class="nj lh it mx b gy nk nl l nm nn">money &gt; 0 <strong class="mx iu">?</strong> print("Some money") <strong class="mx iu">:</strong> print("No money")</span></pre><p id="8b44" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">在Swift中，这实际上被称为<em class="no">三元条件操作符</em>(这在其他编程语言中也是一个常见的特性)。</p><p id="7a94" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">以下是三元条件句的一般结构:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="c9ba" class="nj lh it mx b gy nk nl l nm nn">condition <strong class="mx iu">?</strong> true_expression <strong class="mx iu">:</strong> false_expression</span></pre><p id="550a" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">不过，使用这个的时候要小心。这种简写是替换简单的<code class="fe mu mv mw mx b">if-else</code>语句的有用方式。然而，过度使用代码降低可读性是不明智的。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="b4ef" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">2.交换两个变量，不需要助手</h1><p id="ccc2" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">为了在没有辅助变量的情况下交换两个变量，您可以利用<em class="no">元组析构</em>:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="04b5" class="nj lh it mx b gy nk nl l nm nn"><strong class="mx iu">var</strong> a = 1<br/><strong class="mx iu">var</strong> b = 2</span><span id="5980" class="nj lh it mx b gy np nl l nm nn">(a, b) = (b, a)</span><span id="2db2" class="nj lh it mx b gy np nl l nm nn">print(a, b)</span></pre><p id="44d5" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">输出:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="453d" class="nj lh it mx b gy nk nl l nm nn">2 1</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="6f7a" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">3.检查可选值中的nil</h1><p id="a039" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">您不需要编写<code class="fe mu mv mw mx b">if-else</code>语句来检查可选值是否为<code class="fe mu mv mw mx b">nil</code>。相反，你可以使用一个<em class="no">零合并操作符</em>、<code class="fe mu mv mw mx b">??</code>，只用一行代码就可以达到同样的效果:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="18b3" class="nj lh it mx b gy nk nl l nm nn"><strong class="mx iu">var</strong> name: String?</span><span id="cb1e" class="nj lh it mx b gy np nl l nm nn">print(name <strong class="mx iu">??</strong> "N/A")</span></pre><p id="e0c4" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">输出:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="5c81" class="nj lh it mx b gy nk nl l nm nn">N/A</span></pre><p id="42e1" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated"><em class="no"> Nil合并</em>是Swift中常用的功能。它通过检查<code class="fe mu mv mw mx b">??</code>的左侧是否为零来工作。如果是，那么它返回右边的值。否则，它返回左边的值。</p><p id="0875" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">换句话说，<code class="fe mu mv mw mx b">print(name <strong class="ma iu">??</strong> "N/A")</code>是:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="ce59" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">4.检查一个单词在句子中是否存在</h1><p id="1b30" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">您可以使用简单的一行程序检查字符串中是否存在特定的单词:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="1e01" class="nj lh it mx b gy nk nl l nm nn"><strong class="mx iu">let</strong> favorites = ["Banana", "Orange", "Apple"] <br/><strong class="mx iu">let</strong> bag = "I packed some Beef, Potatoes, and a Banana"</span><span id="c43d" class="nj lh it mx b gy np nl l nm nn"><strong class="mx iu">let</strong> hasFavorite = !favorites.filter({bag.contains($0)}).isEmpty</span><span id="01da" class="nj lh it mx b gy np nl l nm nn">print(hasFavorite)</span></pre><p id="4d8c" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">输出:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="6885" class="nj lh it mx b gy nk nl l nm nn">true</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="41d1" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">5.将所有数字相加得到一个数</h1><p id="c42a" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">例如，将1到10范围内的所有数字相加:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="d356" class="nj lh it mx b gy nk nl l nm nn"><strong class="mx iu">let</strong> sum = (1...10).reduce(0,+)</span><span id="9aa5" class="nj lh it mx b gy np nl l nm nn">print(sum)</span></pre><p id="a5ce" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">输出:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="4324" class="nj lh it mx b gy nk nl l nm nn">55</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="17ff" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">额外收获:检查是否所有数组元素都满足一个条件</h1><p id="1649" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">使用<code class="fe mu mv mw mx b">allSatisfy</code>方法检查集合中的所有值是否都符合标准:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="12cc" class="nj lh it mx b gy nk nl l nm nn"><strong class="mx iu">let</strong> ages = [19, 30, 43, 22, 67]</span><span id="b0b2" class="nj lh it mx b gy np nl l nm nn"><strong class="mx iu">let</strong> allAdults = ages.allSatisfy { $0 &gt;= 18}</span><span id="c6aa" class="nj lh it mx b gy np nl l nm nn">print(allAdults)</span></pre><p id="78d7" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">输出:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="5572" class="nj lh it mx b gy nk nl l nm nn">true</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="6591" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">结论</h1><p id="721e" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">感谢阅读！我希望你觉得这很有用。</p><p id="aecb" class="pw-post-body-paragraph ly lz it ma b mb na ju md me nb jx mg mh nc mj mk ml nd mn mo mp ne mr ms mt im bi translated">请在评论区让人们知道你最喜欢的Swift一行程序。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="6688" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">资源</h1><div class="nq nr gp gr ns nt"><a href="https://swift.org/documentation/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">Swift.org</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">您可以将此页面上的资源用作Swift语言的文档。苹果公司拥有额外的资源…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">swift.org</p></div></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://developer.apple.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">苹果开发者</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">现在是开发苹果平台的最佳时机。</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">developer.apple.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh ks nt"/></div></div></a></div></div></div>    
</body>
</html>