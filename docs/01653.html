<html>
<head>
<title>What is the Decorator Design Pattern?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是装饰设计模式？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/decorator-c04fae63dfff?source=collection_archive---------13-----------------------#2019-10-01">https://betterprogramming.pub/decorator-c04fae63dfff?source=collection_archive---------13-----------------------#2019-10-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2c91" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Decorator是一种有用的模式，它将使向代码添加新功能变得更加容易</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/32e9ae39a8c81b34b0c3890c32e8b27f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uwP8BJG7rGc2MaKfqhqWCQ.jpeg"/></div></div></figure><p id="394c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">继承使你的类和它的基类永久耦合。有时，您希望动态地附加新的行为或功能，而不必创建额外的层次结构。</p><p id="241d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以通过用一个已经有你想要的行为的新的包装它来达到这个目的。它就像套娃一样。对于客户端来说，它看起来是一样的，因为它具有相同的界面，但可以具有额外的功能。</p><p id="ca86" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们想象一下，有一家商店出售不同的消费品。每个产品都有名字和价格。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="9b07" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">每件衬衫都有一个名称和价格，计算方法是将基本价格乘以服装的增值税(VAT)率。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="33f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">电视的名称略有不同，增值税率也更高。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="4b16" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了促进销售，你想组织季节性促销活动。</p><p id="dc58" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">产品应该有更吸引人的描述和打折的价格。一种方法是扩展每个产品类并覆盖现有的属性。</p><p id="0804" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，这有一个很大的缺点。如果您计划进行两次季节性销售，您必须为两种产品创建四个额外的类。如果有五种产品，你需要10种。对于这样一个简单的用例来说，这肯定太多了。</p><p id="977e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您决定使用Decorator设计模式，您可以为每个季节性计划使用一个单独的类来包装产品并共享相同的接口。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="f667" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们进行夏季和冬季销售。每个产品都会有一个折扣价格和一个增强的描述。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="ee2b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">夏季销售将有更积极的价格政策和不同的营销口号。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="ceff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们已经设置好了，让我们开始工作吧。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lq lr l"/></div></figure><p id="4e49" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">综上所述，Decorator有以下元素:</p><ul class=""><li id="9e4f" class="ls lt it kw b kx ky la lb ld lu lh lv ll lw lp lx ly lz ma bi translated">Component ( <code class="fe mb mc md me b">Product</code>):定义一个可以被修饰的元素的接口</li><li id="dce0" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated">具体组件(<code class="fe mb mc md me b">TV</code>、<code class="fe mb mc md me b">Shirt</code>):组件的实现</li><li id="f529" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated">Decorator ( <code class="fe mb mc md me b">ProductDecorator</code>):定义Decorator的接口</li><li id="d220" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated">混凝土装饰器(<code class="fe mb mc md me b">SummerSale</code>，<code class="fe mb mc md me b">WinterSale</code>):装饰器的实现</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="1022" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">优势</h1><ul class=""><li id="bfb0" class="ls lt it kw b kx nj la nk ld nl lh nm ll nn lp lx ly lz ma bi translated">你可以在一个类中使用多个装饰器。在PHP中，这种行为不能通过继承来实现，因为它不支持扩展多个类</li><li id="c4d9" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated">附加新行为可以是动态的，并在运行时决定</li><li id="f4b7" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated">这种责任不同的班级是独立的</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="2c5e" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">源代码</h1><p id="6bcf" class="pw-post-body-paragraph ku kv it kw b kx nj ju kz la nk jx lc ld no lf lg lh np lj lk ll nq ln lo lp im bi translated">完整的源代码和其他一些模式可以在这里找到:</p><div class="nr ns gp gr nt nu"><a href="https://github.com/jkapuscik2/design-patterns-php" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">jkapuscik 2/设计-模式-php</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">这个项目是一组在现实世界中使用不同设计模式的简单例子。每个人都有一个…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">github.com</p></div></div><div class="od l"><div class="oe l of og oh od oi ks nu"/></div></div></a></div></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="c5b5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您想了解一些更有用的设计模式，您可以在以下文章中找到它们:</p><ul class=""><li id="5e4e" class="ls lt it kw b kx ky la lb ld lu lh lv ll lw lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/getting-started-with-design-patterns-in-php-4d451ccdfb71" rel="noopener">工厂方法</a></li><li id="6fa1" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/creational-design-patterns-in-php-db365d3245ce" rel="noopener">创作模式</a></li><li id="211f" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/observer-pattern-in-php-2ba240f89fb2" rel="noopener">观察者</a></li><li id="2ef0" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/iterator-pattern-in-php-b7624f6bdbcf" rel="noopener">迭代器</a></li><li id="dfcb" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/state-strategy-design-patterns-by-example-f57ebd7b6211" rel="noopener">状态&amp;策略</a></li><li id="f677" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/template-method-pattern-in-php-6116fd7e8ccc?source=friends_link&amp;sk=ac4c483446bd5a5323c09a662bd54116" rel="noopener">模板方法</a></li><li id="d855" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/swlh/flyweight-design-pattern-in-php-edcda0486fb0?source=friends_link&amp;sk=a0fa3083d5afd7e41af8a4f7a1df05f1" rel="noopener">飞锤</a></li><li id="3241" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/better-programming/proxy-design-pattern-and-how-to-use-it-acd0f11e5330" rel="noopener">代理</a></li><li id="f909" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/better-programming/dependency-injection-8f09a93ec995" rel="noopener">依赖注入</a></li><li id="83b0" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/swlh/composite-908878748d0e" rel="noopener">复合</a></li><li id="e7f4" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/swlh/building-cloud-storage-application-with-adapter-design-pattern-8b0105a1bda7" rel="noopener">适配器</a></li><li id="4281" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/better-programming/what-is-facade-design-pattern-67cb09ce35d4" rel="noopener">立面</a></li><li id="4025" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/better-programming/what-is-bridge-design-pattern-89bfa581fbd3" rel="noopener">桥</a></li><li id="932f" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/what-is-chain-of-responsibility-design-pattern-ff4d22abd124" rel="noopener">责任链</a></li><li id="7ba5" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/what-is-visitor-design-pattern-8451fb75876" rel="noopener">来访者</a></li><li id="d7b2" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/what-is-cqrs-command-design-pattern-5d400fd9f93a" rel="noopener">命令</a></li><li id="192b" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/what-is-null-object-design-pattern-f3b4d3d28636" rel="noopener">空对象</a></li><li id="2a2c" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/what-is-the-fluent-interface-design-pattern-2797645b2a2e" rel="noopener">流畅的界面</a></li><li id="e89f" class="ls lt it kw b kx mf la mg ld mh lh mi ll mj lp lx ly lz ma bi translated"><a class="ae oj" href="https://medium.com/@j.kapuscik2/what-is-the-specification-design-pattern-4051dd9e71c3" rel="noopener">规格</a></li></ul></div></div>    
</body>
</html>