<html>
<head>
<title>Random SVG Blob Shape Generator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">随机SVG斑点形状生成器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/random-svg-blob-shape-generator-e3d5b9a55f50?source=collection_archive---------8-----------------------#2020-01-11">https://betterprogramming.pub/random-svg-blob-shape-generator-e3d5b9a55f50?source=collection_archive---------8-----------------------#2020-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6111" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们写一些代码来生成随机的斑点形状。svg文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1b08937fc9f523e2b08e538350db837b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9hDThHyKw7EOzRyq"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@hollyachisholm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">霍利·齐索姆</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="c08b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将对这个小部件使用Ionic 4/Angular，但是如果你愿意的话，用纯JavaScript实现它应该是相当容易的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6e21" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">步骤1: HTML模板</h1><p id="388c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">将下面的代码添加到您的。html文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="6bc1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有三点值得注意:</p><ul class=""><li id="0089" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">我们的SVG元素包含一个简单的SVG路径，其样式和<code class="fe nk nl nm nn b">d-path</code>属性被绑定到相关的TS属性。(注意:这里我们使用了<code class="fe nk nl nm nn b">[attr.d]</code>属性绑定。)这样，我们可以在TS文件中操作这些属性，角度数据绑定将拾取这些更改并处理渲染。</li><li id="6295" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">我们这里有几个按钮，我们将用来生成我们的形状和随机化风格。所有按钮都绑定到它们的相关方法，我们将把它们添加到模板中。</li><li id="031a" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">最后，我们有一个范围(<code class="fe nk nl nm nn b">ion-range</code>)元素，这将是一个方便的用户界面的blob“复杂性因素”调整。(在我们的例子中，形状的复杂性将由该形状所具有的顶点的数量来定义。)</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a912" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">步骤2: TS文件</h1><p id="7696" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">转到TS文件。这里，我们正在创建我们的基类(<code class="fe nk nl nm nn b">HomePage</code>)，它具有我们将需要的所有属性:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="f4ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些注意事项:</p><ul class=""><li id="efca" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated"><code class="fe nk nl nm nn b">pathCoordinates</code>属性将路径的顶点数据存储在一个数组中，我们将生成<code class="fe nk nl nm nn b">pathD</code>字符串，该字符串绑定到我们的SVG路径元素的属性<code class="fe nk nl nm nn b">d</code>。</li><li id="3408" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">半径、角度、中心坐标以及顶点数——所有这些变量都用于在生成时定义我们的形状。(比如放在哪里，大小等等。)</li><li id="dc6f" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">最后，<code class="fe nk nl nm nn b">pathStyle</code>属性是一个绑定(通过<code class="fe nk nl nm nn b">[ngStyle]</code>)到我们的path元素的对象，它将定义我们的形状是如何设计的。</li></ul><p id="c213" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用了<code class="fe nk nl nm nn b">ngOnInit()</code>生命周期钩子来初始化所有的默认值。接下来，我们将添加帮助我们生成形状的方法。</p><h2 id="4aa7" class="nt md it bd me nu nv dn mi nw nx dp mm li ny nz mo lm oa ob mq lq oc od ms oe bi translated"><strong class="ak">生成线性形状</strong></h2><p id="05f4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">下面我们来添加这些方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="ba42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的逻辑如下:</p><ul class=""><li id="ca96" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">我们使用一个简单的几何公式在圆形旁边放置随机坐标(并且<code class="fe nk nl nm nn b">vertixCountFactor</code>定义了我们将有多少个顶点)。</li><li id="a7e1" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">我们在公式中为我们的随机坐标动态地操纵半径，以便它们不再在圆形路径上(放错位置)。</li><li id="47c5" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">然后，对于线性随机形状，我们只需要通过用直线链接所有随机生成的顶点来“构建”d路径。</li></ul><p id="db01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这一点上，我们的“生成线性形状”应该工作。耶！</p><h2 id="0e75" class="nt md it bd me nu nv dn mi nw nx dp mm li ny nz mo lm oa ob mq lq oc od ms oe bi translated"><strong class="ak">生成斑点</strong></h2><p id="1702" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在，生成曲线形状有点棘手。我从这个<a class="ae ky" href="https://github.com/ariutta/catmullrom2bezier" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>中获得了一些灵感，并使用Catmull-Rom到Bezier的转换，在Bezier曲线的帮助下实现了我们创建形状的d路径的方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="b51c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个转换的最终结果被分配给我们的<code class="fe nk nl nm nn b">pathD</code>属性，因此，我们可以渲染我们的曲线形状。试试看。</p><h2 id="f784" class="nt md it bd me nu nv dn mi nw nx dp mm li ny nz mo lm oa ob mq lq oc od ms oe bi translated"><strong class="ak">随机风格</strong></h2><p id="61c0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">最后，我们可以为样式变更创建一些基本方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="19d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以添加一个CSS规则，以确保与我们的形状相关的所有更改都有一个平滑的过渡，包括d-path和style属性:</p><pre class="kj kk kl km gt of nn og oh aw oi bi"><span id="e056" class="nt md it nn b gy oj ok l ol om">path {</span><span id="d3e4" class="nt md it nn b gy on ok l ol om">    transition: all 0.3s;</span><span id="5269" class="nt md it nn b gy on ok l ol om">}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1ba4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结局</h1><p id="d83f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们刚刚创建了一个简单但有趣的小部件，它可以生成带有随机平滑和锐利边缘(斑点)的SVG。有了range UI，你可以改变顶点计数因子，并在生成随机样式时获得一些乐趣。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/65a25b000aff1c06099d9db98e254a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/1*wiUg9Cz8wE_CQKJBiP-p8g.gif"/></div></figure><ul class=""><li id="8612" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">下面是<a class="ae ky" href="https://ionic-v4-angular-tabs-1x83k4.stackblitz.io" rel="noopener ugc nofollow" target="_blank">完整演示</a>。</li><li id="833b" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated"><a class="ae ky" href="https://stackblitz.com/edit/ionic-v4-angular-tabs-1x83k4" rel="noopener ugc nofollow" target="_blank">编辑链接</a>。</li></ul></div></div>    
</body>
</html>