<html>
<head>
<title>SwiftUI — List and NavigationView</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI —列表和导航视图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftui-list-and-navigationview-cc51ee400c6?source=collection_archive---------7-----------------------#2019-08-27">https://betterprogramming.pub/swiftui-list-and-navigationview-cc51ee400c6?source=collection_archive---------7-----------------------#2019-08-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="872b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一些关键功能的逐步演示</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1ca384e4ba526c019674a64e9626c09e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s7Ou3FWKV3kJzI24JnvsVw.jpeg"/></div></div></figure><p id="58ec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你不熟悉SwiftUI <a class="ae lq" href="https://medium.com/@ashok_b/swiftui-quick-start-guide-e9157a8e8be6" rel="noopener">，SwiftUI —快速入门指南</a>是一个有用的资源。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="618f" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">涵盖的主题</h1><p id="243c" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">通用结构:<a class="ae lq" href="https://developer.apple.com/documentation/swiftui/list" rel="noopener ugc nofollow" target="_blank">列表</a>，<a class="ae lq" href="https://developer.apple.com/documentation/swiftui/navigationview" rel="noopener ugc nofollow" target="_blank">导航视图</a>，<a class="ae lq" href="https://developer.apple.com/documentation/swiftui/navigationlink" rel="noopener ugc nofollow" target="_blank">导航链接</a>，<a class="ae lq" href="https://developer.apple.com/documentation/swiftui/vstack" rel="noopener ugc nofollow" target="_blank"> VStack </a>，<a class="ae lq" href="https://developer.apple.com/documentation/swiftui/image" rel="noopener ugc nofollow" target="_blank">图片</a>，<a class="ae lq" href="https://developer.apple.com/documentation/swiftui/text" rel="noopener ugc nofollow" target="_blank">文本</a>，<a class="ae lq" href="https://developer.apple.com/documentation/swiftui/environmentobject" rel="noopener ugc nofollow" target="_blank">环境对象</a></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="11c8" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">目录</h1><p id="1f48" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">一种容器，它显示排列在单列中的多行数据。</p><h2 id="338a" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">申报</h2><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="9c1d" class="mv lz it ni b gy nm nn l no np">struct ContentView: View {<br/>     var body: some View {<br/>        List{<br/>            <br/>        }<br/>    }<br/>}</span></pre></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="64ae" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">导航视图</h1><p id="e090" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">一种视图，用于呈现一堆视图，这些视图表示导航层次结构中的可见路径。</p><h2 id="188e" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">申报</h2><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="b0bf" class="mv lz it ni b gy nm nn l no np">struct ContentView: View {<br/>     var body: some View {<br/>        NavigationView{<br/>             List{<br/>            <br/>            } <br/>        }<br/>    }<br/>}</span></pre><p id="9009" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意:列表将位于NavigationView中。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="8fdb" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">开始吧！</h1><h2 id="28e0" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">第一步</h2><p id="f21b" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">最初，ContentView.swift会是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3aeb514b5d34a2efde3a90733619d3c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kxfJBL0cW7NTXLSR1P-rqg.jpeg"/></div></div></figure><h2 id="0b9b" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">第二步</h2><p id="9ce2" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">添加列表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e3d6e09be8d6d03b5910ff9d86cf965c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*orre2TTuGQLOJM6qQIu0Nw.jpeg"/></div></div></figure><h2 id="c841" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">第三步</h2><p id="0c32" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated"><strong class="kw iu"> <em class="nq"> C </em> </strong>创建将数据加载到列表中的结构:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="2f9b" class="mv lz it ni b gy nm nn l no np">struct Movies: Identifiable{<br/>    var id  = UUID()<br/>    var name = String()<br/>    var image = String()<br/>}</span></pre><h2 id="b028" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">第四步</h2><p id="175b" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在ContentView中，创建一个名为movies的“Movies”类型的变量。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="2fca" class="mv lz it ni b gy nm nn l no np">let movies: [Movies] = [<br/>        Movies(name: "The Lion King (2019)", image: "1"),<br/>        Movies(name: "Aladdin (2019)", image: "2"),<br/>        Movies(name: "The Avengers : End game (2019)", image: "3")]</span></pre><p id="3e8f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">添加垂直保存图像和名称的VStack，并将其与行距对齐。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="dcf5" class="mv lz it ni b gy nm nn l no np">VStack(alignment: .leading){<br/> Image(movie.image)<br/>    .resizable()<br/>    .aspectRatio(contentMode: .fit)<br/>    .cornerRadius(10)<br/> Text(movie.name)<br/>    .font(.system(size: 15))<br/>  }</span></pre><p id="7494" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">结果会是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/38b1541d3ccf1a5d0b2665e048c1e8d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Hur8XArTYEJut05VKLlcw.jpeg"/></div></div></figure><h2 id="9e6d" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">第五步</h2><p id="a9aa" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">创建名为“DetailsView.swift”的结构来保存电影的完整视图图像</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dc001b26becb5081f20e84060f8a46cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vpsg6cX9yojkzpHoxT56iA.jpeg"/></div></div></figure><h2 id="3b25" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">第六步</h2><p id="4392" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在ContentView.swift上，添加NavigationView和NavigationLink。</p><p id="c3da" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我们的结构内容视图将如下所示:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="4292" class="mv lz it ni b gy nm nn l no np">struct ContentView: View {<br/>    <br/>    let movies: [Movies] = [<br/>        Movies(name: "The Lion King (2019)", image: "1"),<br/>        Movies(name: "Aladdin (2019)", image: "2"),<br/>        Movies(name: "The Avengers : End game (2019)", image: "3")]<br/>    <br/>    var body: some View {<br/>        NavigationView {<br/>            List(movies) { movie in<br/>                NavigationLink(destination: DetailsView(index: movie.image)) {<br/>                    VStack(alignment: .leading){<br/>                        Image(movie.image)<br/>                            .resizable()<br/>                            .aspectRatio(contentMode: .fit)<br/>                            .cornerRadius(10)<br/>                        Text(movie.name)<br/>                            .font(.system(size: 15))<br/>                    }<br/>                }<br/>            }<br/>            .navigationBarTitle(Text("Movies").foregroundColor(Color.black))<br/>        }<br/>    }<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/02e72a890fd63a689b6523c44e11df9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZtemwKpr3Q5FObsovPgN1A.jpeg"/></div></div></figure><p id="0508" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意:导航视图包含列表，列表包含导航链接。</p><h2 id="7a92" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">第七步</h2><p id="7265" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在DetailsView上。Swift，在<code class="fe nr ns nt ni b">NavigationBarItems</code>中增加自定义导航返回按钮。创建绑定演示模式属性，以便在点击导航后退按钮时关闭my DetailsView。</p><p id="7550" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我们的结构DetailsView将如下所示:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="90be" class="mv lz it ni b gy nm nn l no np">struct DetailsView: View {<br/>    <a class="ae lq" href="http://twitter.com/Environment" rel="noopener ugc nofollow" target="_blank">@Environment</a>(\.presentationMode) var presentationMode: Binding&lt;PresentationMode&gt;<br/>    var index: String<br/>    var body: some View {<br/>        NavigationView(){<br/>            Image("A\(index)")<br/>                .resizable()<br/>                .aspectRatio(contentMode: .fill)<br/>                .frame(minWidth: 0, maxWidth: .infinity, minHeight:       0, maxHeight: .infinity)<br/>                .edgesIgnoringSafeArea(.all)<br/>        }<br/>        .navigationBarItems(leading: Button(action: {<br/>            self.presentationMode.wrappedValue.dismiss()<br/>        }, label: { Image("back").foregroundColor(Color.white)}))<br/>    }<br/>    <br/>}</span></pre><p id="ee4e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这样—运行您的项目！</p><p id="9ee2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lq" href="https://github.com/ashokgurmeet/SwiftUI-List-Navigation" rel="noopener ugc nofollow" target="_blank"> <em class="nq"> GitHub </em> </a></p></div></div>    
</body>
</html>