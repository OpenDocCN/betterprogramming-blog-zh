<html>
<head>
<title>10 Frequently Used Bash Scripts and Commands</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10个常用的Bash脚本和命令</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/10-frequently-used-bash-scripts-and-commands-afe9e7fa8cea?source=collection_archive---------0-----------------------#2021-10-18">https://betterprogramming.pub/10-frequently-used-bash-scripts-and-commands-afe9e7fa8cea?source=collection_archive---------0-----------------------#2021-10-18</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="3e6a" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">有用的Linux脚本和命令的备忘单</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/861a99eba4e935e0f7bfe004e3d57233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_BtrKhQkeUU9o7bI"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Gabriel Heinzer 在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="3db4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有时，您需要使用Bash来完成与您过去完成的任务类似的任务。你是否不得不再次搜索相同的命令？如果你没有记住语法，你可以在模板的帮助下加快开发速度。这样，更容易修改代码以供将来使用。</p><p id="85a7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本教程中，我将提供一组方便的Linux脚本和命令。你可以把它当作一张小抄。我根据自己的经验收集了最常用的例子。</p><p id="f168" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们开始吧！</p><h1 id="cb23" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">1.递归搜索文件以查找表达式</h1><p id="b572" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">该命令将列出所有包含字符串<code class="fe mt mu mv mw b">nltk</code>的文件名:</p><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="2596" class="nb lx iu mw b gz nc nd l ne nf">$ find . -type f -exec grep -l "nltk" {} \;</span></pre><p id="dc15" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">注意,<code class="fe mt mu mv mw b">-l</code>选项只列出了文件名。</p><h1 id="b60e" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">2.打印代码执行的运行时间</h1><p id="4fdd" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">当您想要跟踪代码执行的时间时，此脚本非常有用:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ng nh l"/></div></figure><h1 id="5aa0" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">3.搜索和替换文件中的字符串</h1><p id="0e70" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">该命令将所有文件中等于<code class="fe mt mu mv mw b">localhost:8000</code>的字符串替换为<code class="fe mt mu mv mw b">localhost:8080</code>；</p><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="9a36" class="nb lx iu mw b gz nc nd l ne nf">$ find . -type f -exec grep -l "localhost:8000" {} \; | xargs sed -i 's/localhost:8000/localhost:8080/g'</span></pre><h1 id="d41e" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">4.删除特定文件</h1><ul class=""><li id="fe63" class="ni nj iu lc b ld mo lg mp lj nk ln nl lr nm lv nn no np nq bi translated">该命令删除所有以<code class="fe mt mu mv mw b">.log</code>结尾的空文件:</li></ul><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="1a49" class="nb lx iu mw b gz nc nd l ne nf">$ find . -type f -name "*.log" -exec rm {} \;</span></pre><ul class=""><li id="9afa" class="ni nj iu lc b ld le lg lh lj nr ln ns lr nt lv nn no np nq bi translated">要删除超过25天的所有文件，请运行以下命令:</li></ul><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="6d52" class="nb lx iu mw b gz nc nd l ne nf">$ find . -type f -mtime +25 -exec rm {} \;</span></pre><h1 id="accf" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">5.如果满足条件，则对每个文件执行命令</h1><p id="2849" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">该脚本遍历当前目录中的所有文件，并检查文件名是否以字母开头。如果条件得到满足，它将执行本例中的<code class="fe mt mu mv mw b">echo</code>命令:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ng nh l"/></div></figure><h1 id="c24a" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">6.从远程服务器下载文件</h1><p id="572e" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">使用此命令从服务器下载文件并将其保存在本地:</p><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="8357" class="nb lx iu mw b gz nc nd l ne nf">$ scp username@server:path/to/file destination_path</span></pre><h1 id="9a73" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">7.将文件上传到远程服务器</h1><p id="c7b4" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">将本地目录复制到远程服务器:</p><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="b06f" class="nb lx iu mw b gz nc nd l ne nf">$ scp -r /local/dir username@server:/remote/dir</span></pre><p id="1372" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">此命令以新文件名将本地文件上传到服务器:</p><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="1b32" class="nb lx iu mw b gz nc nd l ne nf">$ scp file.txt username@server:/remote/dir/newfilename.txt</span></pre><h1 id="bbc8" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">8.在两台远程服务器之间复制文件</h1><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="1913" class="nb lx iu mw b gz nc nd l ne nf">$ scp user1@server1:/dir1/file.txt user2@server2:/dir2</span></pre><h1 id="9aee" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">9.将参数传递给脚本</h1><p id="17e5" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">如果要将命令行参数传递给脚本，请在脚本中使用以下语法:</p><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="66ed" class="nb lx iu mw b gz nc nd l ne nf">echo "The first argument is: $1"</span></pre><p id="1ceb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">执行:</p><pre class="kk kl km kn gu mx mw my mz aw na bi"><span id="f9d1" class="nb lx iu mw b gz nc nd l ne nf">./myscript.sh myargument</span></pre><p id="10f6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果需要第二个参数，使用<code class="fe mt mu mv mw b">$2</code>，以此类推。</p><h1 id="375a" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">10.将变量分配给命令结果</h1><p id="dba8" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">您可以使用命令替换使变量等于另一个命令的输出。例如，下面的代码向由<code class="fe mt mu mv mw b">logname</code>命令检索的当前登录用户发送一封电子邮件:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ng nh l"/></div></figure><h1 id="c45a" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">结论</h1><p id="e6ee" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">在本文中，我介绍了一些方便且常用的Linux脚本/命令。拥有现成的模板可以节省很多工作。</p><p id="1a42" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我希望这些示例对您接下来的任务有用。</p><p id="ba14" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我可能会写这篇文章的续篇来涵盖更多的场景。</p><p id="09e3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您对更多与Linux相关的教程感兴趣，您可能会喜欢我的另一篇文章:</p><div class="nu nv gq gs nw nx"><a rel="noopener  ugc nofollow" target="_blank" href="/lesser-known-but-powerful-unix-commands-to-polish-your-tech-skills-b2ceec3e078a"><div class="ny ab fp"><div class="nz ab oa cl cj ob"><h2 class="bd iv gz z fq oc fs ft od fv fx it bi translated">鲜为人知但功能强大的Unix命令来提高您的技术技能</h2><div class="oe l"><h3 class="bd b gz z fq oc fs ft od fv fx dk translated">带有简单示例的简便bash命令</h3></div><div class="of l"><p class="bd b dl z fq oc fs ft od fv fx dk translated">better编程. pub</p></div></div><div class="og l"><div class="oh l oi oj ok og ol kt nx"/></div></div></a></div><p id="fd06" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">感谢您的阅读，下次再见！</p></div></div>    
</body>
</html>