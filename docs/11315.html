<html>
<head>
<title>Headless BI: Metric Standardization in Action</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无头BI:公制标准化在行动</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/headless-bi-metric-standardization-in-action-afb2ac7e89b6?source=collection_archive---------10-----------------------#2022-03-08">https://betterprogramming.pub/headless-bi-metric-standardization-in-action-afb2ac7e89b6?source=collection_archive---------10-----------------------#2022-03-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="43d9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解各种数据工具如何访问无头BI平台，使用相同的指标，并获得一致的结果</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7008b9c885a72d2abdc623e0002e6368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OzblR7NTzxgzgTyEZ_FLBw.jpeg"/></div></div></figure><p id="a0ee" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">公制标准化是目前的热门话题。公司正在部署各种解决方案——指标存储、指标层和无头BI平台——为所有数据工具提供一致的指标，以避免<a class="ae ln" href="https://lahannin.medium.com/danger-zone-inconsistent-metrics-at-work-306f09051a4" rel="noopener">不一致的危险区域</a>。</p><p id="603b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本文提供了一个简单的指标标准化示例，其中不同的数据消费者— SQL客户端、data science IDE、BI平台和React应用程序—访问一个无头BI平台，使用相同的指标，并获得一致的结果。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="8e5c" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">Table of contents:</strong></span><span id="b492" class="lt lu iq lp b gy lz lw l lx ly">· <a class="ae ln" href="#2f68" rel="noopener ugc nofollow">What is headless BI?</a><br/>· <a class="ae ln" href="#4ae9" rel="noopener ugc nofollow">Setting up the headless BI platform</a><br/>  ∘ <a class="ae ln" href="#c1f0" rel="noopener ugc nofollow">GoodData.CN CE</a><br/>  ∘ <a class="ae ln" href="#0472" rel="noopener ugc nofollow">GoodData Foreign Data Wrapper</a><br/>· <a class="ae ln" href="#b714" rel="noopener ugc nofollow">Consuming a standardized revenue metric</a><br/>  ∘ <a class="ae ln" href="#2cde" rel="noopener ugc nofollow">SQL clients</a><br/>  ∘ <a class="ae ln" href="#8ea7" rel="noopener ugc nofollow">Data science IDEs</a><br/>  ∘ <a class="ae ln" href="#8f73" rel="noopener ugc nofollow">BI platforms</a><br/>  ∘ <a class="ae ln" href="#8b56" rel="noopener ugc nofollow">React applications</a><br/>  ∘ <a class="ae ln" href="#7232" rel="noopener ugc nofollow">Comparing the results</a><br/>· <a class="ae ln" href="#39e1" rel="noopener ugc nofollow">Summary</a></span></pre><h1 id="2f68" class="ma lu iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是无头毕？</h1><p id="aa94" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">无头BI意味着我们将分析后端和计算与消费分开。这种分离允许我们通过API和标准协议将通用语义层暴露给多种数据工具。</p><p id="e921" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为所有数据消费者都可以访问单一的指标来源，所以我们的数据工程师、分析师和最终用户可以使用他们选择的工具，使用一致的指标(对每个人都有相同的意义)。</p><h1 id="4ae9" class="ma lu iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">设置无头BI平台</h1><p id="2f89" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">本文用【GoodData.CN】社区版来介绍无头BI的概念。GoodData作为一个容器在我们的本地机器上运行，我们将用无头BI用例所需的GoodData外部数据包装器(FDW)来配置它。</p><h2 id="c1f0" class="lt lu iq bd mb mw mx dn mf my mz dp mj la na nb ml le nc nd mn li ne nf mp ng bi translated">好数据。CN CE</h2><p id="abf0" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">要阅读本文，您可以下载包含docker-compose文件的GoodData <a class="ae ln" href="https://github.com/gooddata/gooddata-python-sdk" rel="noopener ugc nofollow" target="_blank"> Python SDK </a>，并在根文件夹中运行以下命令:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="c5f8" class="lt lu iq lp b gy lv lw l lx ly"><em class="nh">$ docker-compose up -d</em></span></pre><p id="421d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">docker-compose命令启动GoodData.CN社区版和GoodData FDW容器，并将预定义的分析对象(数据连接器、语义模型、度量、可视化和仪表板)加载到GoodData.CN中。</p><p id="ae5f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦容器开始运行，让我们转到<a class="ae ln" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>并登录平台。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="aa18" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">User:</strong> demo@example.com<br/><strong class="lp ir">Password:</strong>demo123</span></pre><p id="23b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是用docker-compose创建的<strong class="kt ir">演示</strong>工作空间的逻辑数据模型。后来，这个模型和一个<strong class="kt ir">收入</strong>指标被暴露给外部数据工具。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/c751fedf3f86a2518d6f99e23ace67bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TpncQux70wfOdQ3QzrkCow.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">逻辑数据模型— GoodData。通信网络（Communicating Net的缩写）</p></figure><p id="acd5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">预定义的分析对象还包含一个<strong class="kt ir">收入</strong>指标。该指标使用另一个指标——计算所有订单收入的<strong class="kt ir">订单金额</strong>——并且只计算已交付订单的收入(订单状态不是<strong class="kt ir">已退回</strong>也不是<strong class="kt ir">已取消</strong>)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/281b3ebab5734f308cc98aff5ba6a031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JDGjhkGEd0F347cL7CYDPA.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">收入指标—GoodData。通信网络（Communicating Net的缩写）</p></figure><p id="dcf9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是在<strong class="kt ir">收入</strong>指标中使用的<strong class="kt ir">订单金额</strong>指标:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/c20088e07af4e4309f094759f54dcd87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BuKwsCagHQ0Bn8XC9xZXkA.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">订单量指标— GoodData。通信网络（Communicating Net的缩写）</p></figure><p id="daf7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<strong class="kt ir"> Analyze </strong> <strong class="kt ir">选项卡</strong>上，我们可以创建一个简单的表格，按地区划分收入。结果将作为一个基准，因为我们将在以后的章节中用不同的数据工具重新创建它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/752b06cef6492b70a2a41d44c7ebcad7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lWD4MGsOz6QVssTPIY5hYQ.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">按地区划分的收入— GoodData。通信网络（Communicating Net的缩写）</p></figure><h2 id="0472" class="lt lu iq bd mb mw mx dn mf my mz dp mj la na nb ml le nc nd mn li ne nf mp ng bi translated">GoodData外部数据包装器</h2><p id="2388" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">GoodData外部数据包装器是PostgreSQL外部数据包装器扩展。它建立在多核处理器的基础上，可以产生很好的数据。CN的度量、计算和数据在PostgreSQL中以表格的形式提供。</p><p id="af6b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以连接到正在运行的PostgreSQL:</p><ul class=""><li id="d63c" class="no np iq kt b ku kv kx ky la nq le nr li ns lm nt nu nv nw bi translated">从控制台使用<code class="fe nx ny nz lp b">psql --host localhost --port 2543 --user gooddata gooddata123</code></li><li id="abc6" class="no np iq kt b ku oa kx ob la oc le od li oe lm nt nu nv nw bi translated">从任何其他客户端使用JDBC字符串:<code class="fe nx ny nz lp b">jdbc:postgresql://localhost:2543/gooddata</code></li></ul><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="bde9" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">Username:</strong> gooddata<br/><strong class="lp ir">Password:</strong> gooddata123</span></pre><p id="25fb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦连接，我们可以与GoodData.CN外国数据包装工作。首先，我们需要在PostgreSQL中定义我们的GoodData.CN服务器。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">好数据。PostgreSQL中的CN服务器</p></figure><p id="4562" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们将把整个语义模型导入到一个特殊的<strong class="kt ir">计算伪表</strong>中。从该表中进行选择将触发GoodData.CN服务器上基于我们在选择中指定的列的分析计算。</p><blockquote class="oh oi oj"><p id="4e56" class="kr ks nh kt b ku kv jr kw kx ky ju kz ok lb lc ld ol lf lg lh om lj lk ll lm ij bi translated">计算机被称为伪表是有原因。它不遵循关系模型。您选择的列映射到语义模型中的事实、度量和标签。select的计算结果将自动聚合映射到语义模型中标签的列的结果。换句话说，计算表的基数根据您选择的列而变化。</p><p id="2684" class="kr ks nh kt b ku kv jr kw kx ky ju kz ok lb lc ld ol lf lg lh om lj lk ll lm ij bi translated">― <a class="ae ln" href="https://gooddata-fdw.readthedocs.io/en/latest/foreign_tables.html" rel="noopener ugc nofollow" target="_blank"> GoodData外部数据包装文档</a></p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">将语义模型导入伪表</p></figure><h1 id="b714" class="ma lu iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">消费标准化收入指标</h1><p id="895d" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">目前，收入指标仅用于GoodData.CN平台。让我们看看如何使用其他数据工具访问语义模型和使用度量。</p><h2 id="2cde" class="lt lu iq bd mb mw mx dn mf my mz dp mj la na nb ml le nc nd mn li ne nf mp ng bi translated">SQL客户端</h2><p id="459e" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">首先，SQL客户机——在本例中为<a class="ae ln" href="https://github.com/dbeaver/dbeaver" rel="noopener ugc nofollow" target="_blank">DBeaver</a>——需要连接到GoodData FDW。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="41d3" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">Connection type:</strong> PostgreSQL<br/><strong class="lp ir">Host:</strong> localhost<br/><strong class="lp ir">Port:</strong> 2543<br/><strong class="lp ir">Database:</strong> gooddata<br/><strong class="lp ir">Username:</strong> gooddata<br/><strong class="lp ir">password:</strong> gooddata123</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/0a9ffad82e5bd4e30188ddcaeff34def.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*duXfgurJ8UzW_0mWm9WNMg.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">数据库连接— DBeaver</p></figure><p id="3bb0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦连接就绪，我们就可以编写一个SQL查询来计算之前在GoodData.CN创建的按地区划分的相同收入。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="7ec8" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">select</strong> customers_region, revenue <strong class="lp ir">from</strong> demo.compute;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/ef52af2126762e98a0126cd8859b0d99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bYULkZvdd-uwzoXTx0Aw-Q.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">按地区划分的收入— DBeaver</p></figure><h2 id="8ea7" class="lt lu iq bd mb mw mx dn mf my mz dp mj la na nb ml le nc nd mn li ne nf mp ng bi translated">数据科学IDEs</h2><p id="cfac" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">要使用<a class="ae ln" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter </a>，让我们从命令行启动笔记本服务器:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="f3dc" class="lt lu iq lp b gy lv lw l lx ly"><em class="nh">$ jupyter notebook</em></span></pre><p id="f7ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们将使用ipython-sql连接到FDW，运行与DBeaver使用的相同的sql查询，并打印Revenue by Region结果。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">按地区划分的收入— Jupyter</p></figure><h2 id="8f73" class="lt lu iq bd mb mw mx dn mf my mz dp mj la na nb ml le nc nd mn li ne nf mp ng bi translated">商务智能平台</h2><p id="f2d5" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">作为一个BI平台，本文使用了<a class="ae ln" href="https://hub.docker.com/r/metabase/metabase/" rel="noopener ugc nofollow" target="_blank">元数据库</a>，我们将它作为一个容器在本地运行。以下命令启动元数据库容器(注意，原始端口从3000更改为12345，因为GoodData.CN CE使用端口3000):</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="c90f" class="lt lu iq lp b gy lv lw l lx ly"><em class="nh">$ </em><em class="nh">docker run -d -p 12345:3000 --name metabase metabase/metabase</em></span></pre><p id="2e14" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦元数据库容器开始运行，我们需要创建一个网络来连接该容器和FDW容器，因为正如您所猜测的，一切都还在本地运行。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="f085" class="lt lu iq lp b gy lv lw l lx ly"><em class="nh">$ </em><em class="nh">docker network create network<br/></em><em class="nh">$ </em><em class="nh">docker network connect network metabase<br/></em><em class="nh">$ </em><em class="nh">docker network connect network gooddata-fdw-container-name</em></span></pre><p id="d816" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们可以使用以下详细信息和凭据将元数据库连接到FDW伪表:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="5951" class="lt lu iq lp b gy lv lw l lx ly"><strong class="lp ir">Host:</strong> host.docker.internal<br/><strong class="lp ir">Port:</strong> 2543<br/><strong class="lp ir">Database name:</strong> gooddata<br/><strong class="lp ir">Username:</strong> gooddata<br/><strong class="lp ir">password:</strong> gooddata123</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/968da6b25f60a0e18a39de15e876f026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B9d0AjpiEmAv-wqVpiQThg.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">数据库连接—元数据库</p></figure><p id="3c3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当连接完成时，我们可以再次使用相同的SQL查询来计算按区域划分的收入结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/ffbd42e1f0fd550b4acb49fa3540dd89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e2bnJHXxRbyM-Olxpt5kvg.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">按区域划分的收入-元数据库</p></figure><h2 id="8b56" class="lt lu iq bd mb mw mx dn mf my mz dp mj la na nb ml le nc nd mn li ne nf mp ng bi translated">反应应用程序</h2><p id="edc7" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">对于这一部分，我使用<a class="ae ln" href="https://github.com/gooddata/gooddata-ui-sdk" rel="noopener ugc nofollow" target="_blank"> GoodData创建了一个React应用程序。UI </a>加速器工具包。它是一个基于CLI的工具，引导您逐步在终端应用程序中创建应用程序。该工具创建了一个应用程序，我们不需要或只需要很少的额外配置就可以使用。</p><p id="fcc9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从React项目开始，我们在终端中运行下面的命令，并遵循CLI提供的指令。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="07cf" class="lt lu iq lp b gy lv lw l lx ly">npx --ignore-existing @gooddata/create-gooddata-react-app my-app</span></pre><p id="ff47" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">构建完成后，我们需要转到生成的目录，用<code class="fe nx ny nz lp b">yarn start</code> <strong class="kt ir"> </strong>命令启动应用程序。</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="8a7e" class="lt lu iq lp b gy lv lw l lx ly">cd my-app<br/>yarn start</span></pre><p id="f838" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，我们按照主页上的指示对<code class="fe nx ny nz lp b">src/constants.js</code> <strong class="kt ir"> </strong>文件进行如下编辑。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">Constant.js配置— React应用程序</p></figure><p id="e93b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们将为数据模型对象生成人类可读的JavaScript标识符，稍后将在代码中使用。首先，我们导出GoodData.CN身份验证令牌环境变量(该令牌对于所有GoodData.CN CE安装都是相同的)，然后运行以下命令:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="f110" class="lt lu iq lp b gy lv lw l lx ly">export TIGER_API_TOKEN=YWRtaW46Ym9vdHN0cmFwOmFkbWluMTIz<br/>yarn refresh-ldm</span></pre><p id="10c8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦生成了数据模型对象和其他元数据的可读名称，我们就可以编辑<code class="fe nx ny nz lp b">src/routes/Home.js</code>文件来匹配下面的代码，从而创建一个按地区划分的收入表:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">home.js地区收入表代码React应用程序</p></figure><p id="f6d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们返回浏览器并转到<strong class="kt ir">主页选项卡</strong>时，我们会看到按地区显示的嵌入式收入结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/91df9cbd05edd58ecb1b5028ef612160.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oJ52x3ZezAb4fQLCISNMEQ.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">按地区划分的收入— React应用</p></figure><h2 id="7232" class="lt lu iq bd mb mw mx dn mf my mz dp mj la na nb ml le nc nd mn li ne nf mp ng bi translated">比较结果</h2><p id="f7f0" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">为了便于比较，我将前面步骤的所有结果合并到下图中。正如我们所见，所有工具都访问相同的语义模型，使用相同的<strong class="kt ir">收入</strong>指标，并计算完全相同的结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/ef47ae46aac98a68b386a67ec84ab8b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VDaJfLKeR36qhtt2dBpVSQ.png"/></div></div><p class="nj nk gj gh gi nl nm bd b be z dk translated">跨各种数据工具的标准化收入指标</p></figure><h1 id="39e1" class="ma lu iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">摘要</h1><p id="f15d" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">本文的目的是展示开始标准化度量是多么容易。标准化意味着我们所有的指标都在一个地方定义，可以被不同的数据工具使用，比如SQL客户端、数据科学ide、BI平台和应用程序。</p><p id="a1f0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">借助headless BI，标准化是通过将分析后端和计算从消费中分离出来，并通过API和标准协议公开语义层来实现的。因此，我们可以使用我们熟悉的工具，使用一致的指标，对数据的含义有共同的理解。</p></div></div>    
</body>
</html>