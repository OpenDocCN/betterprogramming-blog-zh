<html>
<head>
<title>Master Your Regex Skills by Solving This Word Cloud JavaScript Challenge</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过解决这个单词云JavaScript挑战来掌握您的正则表达式技能</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/master-your-regex-skills-by-solving-this-word-cloud-javascript-challenge-4aef1a1d7d9b?source=collection_archive---------10-----------------------#2021-05-18">https://betterprogramming.pub/master-your-regex-skills-by-solving-this-word-cloud-javascript-challenge-4aef1a1d7d9b?source=collection_archive---------10-----------------------#2021-05-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="53f4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">澄清3个正则表达式概念的编码挑战</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/10c7e4d5532e96275efdbd9d3ba67401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yKLKrALqlSD40uOf"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Clark Van Der Beken 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="1a39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近遇到了一个有趣的由几个问题组成的代码挑战。下面可以看到第一个问题:</p><blockquote class="lv lw lx"><p id="852c" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">“我们爱字云！根据下面的文字，打印出所有使用过的单词及其出现的次数。请忽略标点符号和其他无趣的字符。单词不应区分大小写。</p></blockquote><p id="ecab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以把这个挑战分成几个部分。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="1d37" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">1.删除所有标点符号和“无趣”的字符</h1><p id="2af6" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">我们可以通过实现一个快速正则表达式来实现这一点:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="0bd5" class="nl mk it nh b gy nm nn l no np">text.replace(/[^A-Za-z]+/g, " ")</span></pre><p id="75b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码更有效，因为你不必有一个单独的数组包含所有的标点符号。这个正则表达式基本上可以找到所有是单词或者包含字符a-z和A-Z的东西，不包括数字和标点符号。</p><p id="7d02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样做唯一的缺点是，如果你有类似于<code class="fe nq nr ns nh b">25th</code>的东西，它只会返回<code class="fe nq nr ns nh b">th</code>，而不是一个单词。如果你允许数字(在<code class="fe nq nr ns nh b">a-z</code>后加上<code class="fe nq nr ns nh b">0–9</code>，这样更好。但是如果你有类似于<code class="fe nq nr ns nh b">1/25th</code>的东西，你会得到<code class="fe nq nr ns nh b">1 25th</code>，它创造了两个新的“单词”，扭曲了我们的最终结果。我最终使用了下面的正则表达式:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="7abc" class="nl mk it nh b gy nm nn l no np">text.replace(/[^A-Za-z0–9\/]+/g, " ")</span></pre><p id="5618" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用<code class="fe nq nr ns nh b">^</code>来匹配<em class="ly">不包含</em>的所有内容，包括字母、数字或<code class="fe nq nr ns nh b">/</code>。我们可以用空格代替这些匹配。上面的正则表达式会把字符串<code class="fe nq nr ns nh b">This is a test string. This is a string with lots of: punctuations; 1/25th in. it?!</code>变成<code class="fe nq nr ns nh b">This is a test string This is a string with lots of punctuations 1/25th in it</code>。</p><p id="9d8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你愿意，你可以进一步迭代，但是现在，它非常有效(挑战是有时间限制的，所以我没有一整天的时间来制作完美的正则表达式)。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="beba" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">2.在散列表中存储单词和使用实例</h1><p id="bae4" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在我们有了一个更精确的字符串，我们可以基于一个空格来分割它。这就是我们如何隔离所有完整的单词，将它们存储在一个数组中，并遍历该数组。当我们迭代时，我们可以通过将它们存储在一个hashmap中来跟踪迭代中的一个条目被使用了多少次。参见下面的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="6767" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于单词不区分大小写，我们可以将<code class="fe nq nr ns nh b">word</code>变成小写。然后我们可以检查<code class="fe nq nr ns nh b">wordMap</code>是否已经有一个值为<code class="fe nq nr ns nh b">word.toLowerCase()</code>的键。如果它已经有了一个值——比如说，<code class="fe nq nr ns nh b">1</code>——这意味着我们将那个键上的值增加到<code class="fe nq nr ns nh b">2</code>，以显示我们有两个<code class="fe nq nr ns nh b">word.toLowerCase()</code>实例。我们对数组中的每个单词都这样做。</p><p id="e69d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在循环结束时，我们将把每个单词作为一个键存储在<code class="fe nq nr ns nh b">wordMap</code>中。在每个键上将是每个单词出现的次数。</p><p id="2623" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就把我们带到了挑战的最后一部分。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="a269" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">3.打印所有使用的单词和它们出现的次数</h1><p id="1185" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在我们有了这个，我们终于可以打印单词列表和它们被使用的次数了。我们可以通过一个简单的<code class="fe nq nr ns nh b">for...in</code>循环来实现这一点:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="47a5" class="nl mk it nh b gy nm nn l no np">for (var k in wordMap){<br/>  console.log(`${k}: ${wordMap[k]} times`)<br/>}</span></pre><p id="df10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将打印每个单词以及该单词被使用的次数。下面是我们在代码挑战中针对这个问题的所有代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="7b6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在控制台中，使用我们之前使用的字符串执行代码将如下所示:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="be5a" class="nl mk it nh b gy nm nn l no np">genWordList("<!-- -->This is a test string. This is a string with lots of: punctuations; 1/25th in. it?!<!-- -->")</span><span id="0e2d" class="nl mk it nh b gy nv nn l no np">&gt; this: 2 times<br/>is: 2 times<br/>a: 2 times<br/>test: 1 times<br/>...</span></pre></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="5be3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://matt-croak.medium.com/membership" rel="noopener"> <em class="ly">在此将您的免费中级会员升级为付费会员</em> </a> <em class="ly">，每月只需5美元，您就可以获得数千位作家的无限量无广告故事。这是一个附属链接，你的会员资格的一部分帮助我为我创造的内容获得奖励。谢谢大家！</em></p><h1 id="c05f" class="mj mk it bd ml mm nw mo mp mq nx ms mt jz ny ka mv kc nz kd mx kf oa kg mz na bi translated">参考</h1><div class="ob oc gp gr od oe"><a href="https://www.rexegg.com/regex-quickstart.html" rel="noopener  ugc nofollow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd iu gy z fp oj fr fs ok fu fw is bi translated">正则表达式备忘单</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">正则表达式语法参考。包括显示语法、示例和匹配的表格。</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">www.rexegg.com</p></div></div><div class="on l"><div class="oo l op oq or on os ks oe"/></div></div></a></div></div></div>    
</body>
</html>