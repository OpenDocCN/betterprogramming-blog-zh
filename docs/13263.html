<html>
<head>
<title>Styled Components in React — A Better Way To Organize Your Styles</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的样式组件——组织样式的更好方式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/styled-components-in-react-a-better-way-to-organize-your-styles-591c43fa98f8?source=collection_archive---------8-----------------------#2022-08-11">https://betterprogramming.pub/styled-components-in-react-a-better-way-to-organize-your-styles-591c43fa98f8?source=collection_archive---------8-----------------------#2022-08-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6587" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何以及为什么在React中使用<em class="ki">样式化组件</em>而不是普通CSS</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/6a74243b83e2793668ddc58f89f31d1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3ESyP9uOCSXK9bUt"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">马库斯·加纳尔在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="83dd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">随着你的React应用变得越来越大，你可能会遇到一些CSS成长的烦恼。即使你试图保持你的样式组织良好，你也可能会遇到一些常见的问题，比如名称空间冲突、样式改变的意外影响、内容在多个地方被设计样式等等。虽然通过良好的纪律和团队协作可以避免这些问题，但是简单的CSS很容易遇到这些问题。</p><p id="2f0c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">虽然有一些工具可以帮助避免这些问题，但是最强大的工具之一是<code class="fe lw lx ly lz b">styled-components</code>。在本文中，我们将介绍什么是样式化组件，它们是如何工作的，以及如何使用它们来恢复React中CSS样式的合理性。</p><h1 id="9ee9" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">什么是样式组件？</h1><p id="aa5c" class="pw-post-body-paragraph la lb it lc b ld ms ju lf lg mt jx li lj mu ll lm ln mv lp lq lr mw lt lu lv im bi translated"><code class="fe lw lx ly lz b">Styled-components</code>，顾名思义，是一种将样式直接附加到React组件的方式。让我们快速看一下一个使用CSS编写的简单组件，然后修改成使用<code class="fe lw lx ly lz b">styled-components</code>。在这个简单的例子中，我们有一个简单的组件容器和一个头:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mx my l"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">没有样式组件的简单组件</p></figure><p id="1e63" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，用<code class="fe lw lx ly lz b">styled-components</code>做同样的例子。我们没有使用带有<code class="fe lw lx ly lz b">className</code>属性的<code class="fe lw lx ly lz b">div</code>和<code class="fe lw lx ly lz b">h3</code>，而是创建标签的样式版本，并将其用作组件:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mx my l"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">与上面相同的组件，用样式化组件重写</p></figure><p id="c5c6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">请注意，虽然为了简单起见，我们的示例将<code class="fe lw lx ly lz b">styled-components</code>与主组件显示在同一个文件中，但是最好将这些样式保存在单独的文件中，尤其是当有很多样式时。</p><p id="c360" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">除了简单地重构我们放置CSS的地方，样式化组件还让我们在样式中引入逻辑，这在CSS中是不可能的。考虑一个场景，当<code class="fe lw lx ly lz b">selected</code>值为真时，组件的样式发生变化。使用普通CSS类，您可能会基于对象状态生成一个类名列表。代码如下:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mx my l"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">使用类名应用选定样式的组件</p></figure><p id="22b4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这种CSS类名操作很麻烦，当逻辑变得更复杂时，例如，当可能需要应用多个“可选”类时，可能很难使用。</p><p id="f8d3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">使用<code class="fe lw lx ly lz b">styled-components</code>，我们可以将组件状态(如<code class="fe lw lx ly lz b">selected</code>布尔值)视为样式组件的属性，并在样式中使用逻辑来显式修改样式，而无需使用类名。代码如下:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mx my l"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">使用样式组件应用选定样式的组件</p></figure><p id="6167" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">样式化组件的另一个有助于保持代码组织良好的特性是，通过简单地将新样式应用于现有的<code class="fe lw lx ly lz b">Styled</code>组件来扩展样式的能力:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="mx my l"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">对现有样式化组件进行样式化</p></figure><p id="c5bc" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这涵盖了<code class="fe lw lx ly lz b">styled-components</code>的主要优点，但是还有其他几个特性，比如对动画、主题、CSS伪选择器等的支持。有关这些功能的完整文档或了解更多关于<code class="fe lw lx ly lz b">styled-components</code>如何工作的信息，参见<a class="ae kz" href="https://styled-components.com/docs/basics#adapting-based-on-props" rel="noopener ugc nofollow" target="_blank">样式组件文档</a>。</p><h1 id="efa3" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">为什么要使用样式化的组件(为什么不呢)</h1><p id="3280" class="pw-post-body-paragraph la lb it lc b ld ms ju lf lg mt jx li lj mu ll lm ln mv lp lq lr mw lt lu lv im bi translated">在我们开始在项目中安装样式化组件之前，让我们来看看您应该尝试它们的一些原因:</p><ul class=""><li id="c6f9" class="mz na it lc b ld le lg lh lj nb ln nc lr nd lv ne nf ng nh bi translated">保持样式更接近代码:<code class="fe lw lx ly lz b">styled-components</code>与CSS相比，鼓励您保持样式与代码更紧密地集成，在CSS中，类名和嵌套选择器的使用会在远离预期位置的地方产生影响</li><li id="c14c" class="mz na it lc b ld ni lg nj lj nk ln nl lr nm lv ne nf ng nh bi translated">保持样式的语义性:不描述组件的外观，<code class="fe lw lx ly lz b">styled-components</code>保持样式附加到组件本身。</li><li id="436d" class="mz na it lc b ld ni lg nj lj nk ln nl lr nm lv ne nf ng nh bi translated">显式样式范围:原始CSS的最大问题之一是它的全局性质——有意或无意地对CSS进行影响深远的更改太容易了。<code class="fe lw lx ly lz b">styled-components</code>显式地将样式限定在组件范围内</li></ul><p id="8185" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">为了公平起见，让我们看看你可能不想使用<code class="fe lw lx ly lz b">styled-components</code>的一些原因:</p><ul class=""><li id="2adf" class="mz na it lc b ld le lg lh lj nb ln nc lr nd lv ne nf ng nh bi translated">移植工作:尽管<code class="fe lw lx ly lz b">styled-components </code>很简单，但是移植一个现有的代码库可能需要大量的工作。逐渐迁移是可能的，但是既有CSS文件又有影响样式的<code class="fe lw lx ly lz b">styled-components</code>是混乱的。</li><li id="1b75" class="mz na it lc b ld ni lg nj lj nk ln nl lr nm lv ne nf ng nh bi translated">供应商和工具锁定:CSS文件是样式化的最小公分母，而使用<code class="fe lw lx ly lz b">styled-component</code>构建将固有地以一种耦合到您正在使用的工具集(React、styled-components等)的方式构建您的代码。).我不认为这是一个巨大的缺点，除非你一开始就不确定你的架构。</li><li id="0e40" class="mz na it lc b ld ni lg nj lj nk ln nl lr nm lv ne nf ng nh bi translated">个人喜好或造型哲学:我承认在上面列出的一些好处上有不同意见的空间。特别是语义样式，一些框架(比如Tailwind)有意采取相反的方法。实际上，我认为这两种技术可以结合起来(例如，用Tailwind类来帮助构建样式化的组件)以达到两全其美。</li></ul><h1 id="0c32" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">如何在React中使用样式化组件</h1><p id="d6c7" class="pw-post-body-paragraph la lb it lc b ld ms ju lf lg mt jx li lj mu ll lm ln mv lp lq lr mw lt lu lv im bi translated">如果您已经做到了这一步，并且想要亲自尝试样式化的组件，这很简单——只需使用您最喜欢的包管理器将<code class="fe lw lx ly lz b">styled-components</code>添加到您的项目中:</p><pre class="kk kl km kn gt nn lz no np aw nq bi"><span id="875c" class="nr mb it lz b gy ns nt l nu nv">yarn add styled-components</span></pre><p id="f446" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后重新启动开发服务器，尝试一个简单的样式化组件:</p><pre class="kk kl km kn gt nn lz no np aw nq bi"><span id="5caf" class="nr mb it lz b gy ns nt l nu nv">import styled from "styled-components"<br/>const StyledP = styled('p')`color: #fff;`</span></pre><p id="7ae0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">就这么简单！但是如果你遇到任何问题，你可以查看<a class="ae kz" href="https://styled-components.com/docs/basics#installation" rel="noopener ugc nofollow" target="_blank">安装指南</a>以获得更详细的说明。</p><h1 id="4c4c" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">总结:开始编码，用风格做出反应</h1><p id="de26" class="pw-post-body-paragraph la lb it lc b ld ms ju lf lg mt jx li lj mu ll lm ln mv lp lq lr mw lt lu lv im bi translated">在使用React时，样式组件是帮助保持样式有序的宝贵工具。它们很好地集成到React代码库中，使您的样式代码保持独立，但与您的组件结构完全同步。如果你正在努力管理不断增长的CSS文件，我强烈推荐你看看<code class="fe lw lx ly lz b"><a class="ae kz" href="http://styled-components.com" rel="noopener ugc nofollow" target="_blank">styled-components</a></code>！</p></div></div>    
</body>
</html>