<html>
<head>
<title>How To Manage Files in Google Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Google Colab中管理文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/google-colab-dealing-with-files-49fce565c02d?source=collection_archive---------6-----------------------#2021-05-04">https://betterprogramming.pub/google-colab-dealing-with-files-49fce565c02d?source=collection_archive---------6-----------------------#2021-05-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f4f8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Google Colab从任何地方访问文件的权威指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f1d508b4fcd3998c067f6152ec03b2c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XFXIoB2tmyCdKmdzlvKl8Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">安德鲁·庞斯在<a class="ae kv" href="https://unsplash.com/s/photos/files?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="bca5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">被困在付费墙后面？点击</em> <a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/google-colab-dealing-with-files-49fce565c02d?source=friends_link&amp;sk=5d3a307c22a23520919b27c63f5f409c"> <em class="ls">此处</em> </a> <em class="ls">阅读全文与我的朋友链接。</em></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="4cbf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谷歌合作实验室是一个免费的Jupyter笔记本环境，运行在谷歌的云服务器上，让用户利用后端硬件，如GPU和TPU。这使您可以在本地计算机上运行Jupyter笔记本，而无需在本地计算机上安装和设置笔记本。</p><p id="c1d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Colab提供了(几乎)开始编码所需的所有设置，但它没有开箱即用的数据集。你如何从Colab中访问你的数据？</p><p id="4e21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将讨论:</p><ul class=""><li id="3ac1" class="ma mb iq ky b kz la lc ld lf mc lj md ln me lr mf mg mh mi bi translated">如何从大量数据源向Colab加载数据</li><li id="9fdb" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr mf mg mh mi bi translated">如何从Colab内部写回那些数据源</li><li id="244f" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr mf mg mh mi bi translated">Google Colab在处理外部文件时的局限性</li></ul></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="2dbb" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">Google Colab中的目录和文件操作</h1><p id="a502" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">由于Colab允许您在本地托管的Jupyter笔记本上做您能做的一切，您还可以使用shell命令，如<code class="fe nl nm nn no b">ls</code>、<code class="fe nl nm nn no b">dir</code>、<code class="fe nl nm nn no b">pwd</code>、<code class="fe nl nm nn no b">cd</code>、<code class="fe nl nm nn no b">cat</code>、<code class="fe nl nm nn no b">echo</code>等等，使用line-magic ( <code class="fe nl nm nn no b">%</code>)或bash ( <code class="fe nl nm nn no b">!</code>)。</p><p id="6ae5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要浏览目录结构，您可以使用左侧的文件资源管理器窗格。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/1472650d3ae0ad2b11f4c1b539f219a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-rGuw8jfY_14IUmC"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Colab中浏览目录</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="cf46" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">如何在Google Colab上上传和下载文件</h1><p id="c4a8" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">由于Colab笔记本托管在谷歌的云服务器上，因此默认情况下，无法直接访问本地驱动器上的文件(不像笔记本托管在你的机器上)或任何其他环境。</p><p id="ba50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，Colab提供了各种选项来连接到几乎任何您能想到的数据源。让我们看看如何。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="fd79" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">从Google Colab访问GitHub</h1><p id="9eee" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">您可以将整个GitHub存储库克隆到您的Colab环境中，也可以通过原始链接访问单个文件。</p><h2 id="5adf" class="nq mp iq bd mq nr ns dn mu nt nu dp my lf nv nw na lj nx ny nc ln nz oa ne ob bi translated">克隆一个GitHub库</h2><p id="fc3d" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">您可以像在本地机器上一样，使用<code class="fe nl nm nn no b">git clone</code>将GitHub存储库克隆到您的Colab环境中。一旦存储库被克隆，刷新文件浏览器浏览其内容。</p><p id="b884" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，您可以像在本地机器上一样简单地读取这些文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/034d0fb385c47932231ed3a58886627e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IaT0T54y2P_dF5ow"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将存储库克隆到Colab中</p></figure><h2 id="46cf" class="nq mp iq bd mq nr ns dn mu nt nu dp my lf nv nw na lj nx ny nc ln nz oa ne ob bi translated">直接从GitHub加载单个文件</h2><p id="a065" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">如果您只需要处理几个文件而不是整个存储库，您可以直接从GitHub加载它们，而不需要将存储库克隆到Colab。</p><p id="cd69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此:</p><ol class=""><li id="c4f3" class="ma mb iq ky b kz la lc ld lf mc lj md ln me lr oc mg mh mi bi translated">单击存储库中的文件。</li><li id="5c8f" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr oc mg mh mi bi translated">点击查看原始数据。</li><li id="10bd" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr oc mg mh mi bi translated">复制原始文件的URL。</li><li id="d68b" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr oc mg mh mi bi translated">使用此URL作为文件的位置。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/e7e3952835c17cf78fca646d92c5b6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eOPO29NnGERGGQbI"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">读取加载到Colab的文件</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="71f0" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">使用Google Colab访问本地文件系统</h1><p id="71a5" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">您可以使用文件资源管理器或Python代码读取或写入本地文件系统。</p><h2 id="5b5d" class="nq mp iq bd mq nr ns dn mu nt nu dp my lf nv nw na lj nx ny nc ln nz oa ne ob bi translated">通过文件资源管理器访问本地文件</h2><p id="72bb" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated"><strong class="ky ir">通过文件浏览器从本地文件系统上传文件</strong></p><p id="c275" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用file explorer窗格顶部的upload选项将本地文件系统中的任何文件上传到当前工作目录中的Colab。</p><p id="0c16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要将文件直接上传到子目录，您需要:</p><ol class=""><li id="f042" class="ma mb iq ky b kz la lc ld lf mc lj md ln me lr oc mg mh mi bi translated">当您将鼠标悬停在目录上方时，单击可见的三个点。</li><li id="072e" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr oc mg mh mi bi translated">选择上传选项。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/7738ecf4f63e2595fcd98e54989b2eac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/0*gEcc2TJQsrSrpeXU"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从本地文件系统上传文件到Colab</p></figure><p id="da9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.从文件上传对话窗口中选择您想要上传的文件。</p><p id="b81d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.等待上传完成。上传进度显示在文件资源管理器窗格的底部。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/ce16371b3457713889e6be5c9b5f339c.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/0*vjjnBGtt92aYMOB0"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Colab中上传进度</p></figure><p id="977b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上传完成后，您可以像平常一样读取文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/a06e9a240f529eea03f2bede5430654e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PI6FLDHz-zC1PyjV"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">读取加载到Colab的文件</p></figure><p id="427d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">通过文件浏览器下载文件到本地文件系统</strong></p><p id="94e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当鼠标悬停在文件名上方时，单击可见的三个点，并选择下载选项。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/9bb9720bdd8da65bc96c1f7d7f195d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/0*0SN9P_AnMpG3c8j3"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从Colab下载文件到本地</p></figure><h2 id="07ec" class="nq mp iq bd mq nr ns dn mu nt nu dp my lf nv nw na lj nx ny nc ln nz oa ne ob bi translated">使用Python代码访问本地文件系统</h2><p id="b454" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">该步骤要求您首先从<code class="fe nl nm nn no b">google.colab library</code>中导入<code class="fe nl nm nn no b">files</code>模块:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="95f9" class="nq mp iq no b gy ol om l on oo">from google.colab import files</span></pre><p id="5a1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">使用Python代码从本地文件系统上传文件</strong></p><p id="19db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您使用<code class="fe nl nm nn no b">files</code>对象的上传方法:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="0f92" class="nq mp iq no b gy ol om l on oo">uploaded = files.upload()</span></pre><p id="2f4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行此命令将打开文件上传对话框窗口:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/46726aef34a4c863afc09159978842ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/0*pqa5abasjrxpJE0z"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">以编程方式将文件上传到Colab</p></figure><p id="b2bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择您希望上传的文件，然后等待上传完成。将显示上传进度:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/d2a519329f82b3a9c9b435c9aa93349f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MY5rE_jO-Y3151jl"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">程序文件上传进度</p></figure><p id="6862" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nl nm nn no b">uploaded</code>对象是一个以文件名和内容作为键值对的字典:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/50c1335ce93062af5cbbbac980016081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G4pcjpJ8EVHm-fN_"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">上传的对象结构</p></figure><p id="f518" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上传完成后，您可以像阅读Colab中的任何其他文件一样阅读它:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="3735" class="nq mp iq no b gy ol om l on oo">df4 = pd.read_json("News_Category_Dataset_v2.json", lines=True)</span></pre><p id="b65f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者您可以使用<code class="fe nl nm nn no b">io</code>库直接从<code class="fe nl nm nn no b">uploaded</code>字典中读取:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="c1f1" class="nq mp iq no b gy ol om l on oo">import io<br/>df5 = pd.read_json(io.BytesIO(uploaded['News_Category_Dataset_v2.json']), lines=True)</span></pre><p id="303a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保文件名与您希望加载的文件的名称相匹配。</p><p id="4a0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">使用Python代码从Colab下载文件到本地文件系统</strong></p><p id="66d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">files对象的<code class="fe nl nm nn no b">download</code>方法可用于将任何文件从Colab下载到您的本地驱动器。将显示下载进度，下载完成后，您可以选择将其保存在本地计算机中的什么位置。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/fd6c6100a8c470a8948884ca6b266e07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*D5K42zBTmjqjZPNv"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从Colab以编程方式下载文件</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="1d29" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">从Google Colab访问Google Drive</h1><p id="3eaa" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">您可以通过以下步骤使用<code class="fe nl nm nn no b">google.colab</code>的<code class="fe nl nm nn no b">drive</code>模块将您的整个Google Drive安装到Colab:</p><p id="e7f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.执行下面的代码，它将为您提供一个身份验证链接。</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="af2b" class="nq mp iq no b gy ol om l on oo">from google.colab import drive<br/>drive.mount('/content/gdrive')</span></pre><p id="3528" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.打开链接。</p><p id="aa50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.选择您想要安装其驱动器的Google帐户。</p><p id="3684" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.允许Google Drive Stream访问您的Google帐户。</p><p id="b300" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.复制显示的代码，粘贴到如下所示的文本框中，然后按Enter键。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/0a5423e3c395b7114a962f6969c652c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/0*qqK4dPDln1CKDvGi"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将Google Drive安装到Colab</p></figure><p id="5f94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦安装了驱动器，您将得到消息“安装在/content/gdrive”，并且您将能够从文件资源管理器窗格浏览驱动器的内容。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/10f540329c279f765062b5d50fc39434.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/0*svYxeTwM0_d_JNxS"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Colab中探索Google Drive</p></figure><p id="217e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在你可以和你的Google drive进行交互，就像它是你的Colab环境中的一个文件夹一样。对此文件夹的任何更改都将直接反映在您的Google drive中。你可以像阅读其他文件一样阅读谷歌硬盘中的文件。</p><p id="0280" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你甚至可以使用通常的文件/目录操作从Colab直接写入Google Drive。</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="dbd2" class="nq mp iq no b gy ol om l on oo">! touch "/content/gdrive/My Drive/sample_file.txt"</span></pre><p id="d4ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将在您的Google drive中创建一个文件，并且在您刷新该文件后，它将出现在文件资源管理器窗格中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/ecd3ac3e7de0b136e425b3298a16ae6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/0*SIYta4AhnVkDBsr9"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将文件从Colab上传到Google Drive</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/5c83be89ceb9793576dd9f91d341365b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x2PpJ-nedWLFHtAs"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将文件从Colab上传到Google Drive</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="c1db" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">从Google Colab访问Google工作表</h1><p id="3cf4" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">要访问Google Sheets:</p><ol class=""><li id="1d23" class="ma mb iq ky b kz la lc ld lf mc lj md ln me lr oc mg mh mi bi translated">您需要首先通过运行以下代码来验证要与Colab链接的Google帐户:</li></ol><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="5767" class="nq mp iq no b gy ol om l on oo">from google.colab import auth<br/>auth.authenticate_user()</span></pre><p id="826f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.执行上述代码将为您提供一个身份验证链接。打开链接。</p><p id="3635" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.选择您想要链接的Google帐户。</p><p id="aa26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.允许Google Cloud SDK访问您的Google帐户。</p><p id="e91d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.最后，复制显示的代码，将其粘贴到显示的文本框中，并按Enter键。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/6d82fa420665ee9219e479037ac8da72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/0*yKFM7WF_MDa3niaX"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">认证Google Cloud SDK</p></figure><p id="1a88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要与Google Sheets交互，需要导入预装的gspread库。要授权gspread访问您的Google帐户，您需要预装的oauth2client.client库中的<code class="fe nl nm nn no b">GoogleCredentials</code>方法:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="9d6d" class="nq mp iq no b gy ol om l on oo">import gspread<br/>from oauth2client.client import GoogleCredentials<br/> <br/>gc = gspread.authorize(GoogleCredentials.get_application_default())</span></pre><p id="4748" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行上述代码后，将在当前工作目录中创建一个应用程序默认凭证(ADC) JSON文件。这包含gspread用来访问您的Google帐户的凭据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/64d2eb2121c0e5213da336f72befa966.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/0*AeWz1xn0RY2wxDNE"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Google电子表格的adc.json文件</p></figure><p id="85a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦完成，您现在可以直接从您的Colab环境中创建或加载Google sheets。</p><h2 id="d01c" class="nq mp iq bd mq nr ns dn mu nt nu dp my lf nv nw na lj nx ny nc ln nz oa ne ob bi translated">在Colab中创建/更新Google工作表</h2><ol class=""><li id="3f70" class="ma mb iq ky b kz ng lc nh lf oy lj oz ln pa lr oc mg mh mi bi translated">使用<code class="fe nl nm nn no b">gc</code>对象的<code class="fe nl nm nn no b">create</code>方法创建一个工作簿:</li></ol><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="2f41" class="nq mp iq no b gy ol om l on oo">wb = gc.create('demo')</span></pre><p id="fffb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.一旦创建了工作簿，您可以在<a class="ae kv" href="http://sheets.google.com" rel="noopener ugc nofollow" target="_blank">sheets.google.com</a>查看它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/41f655bf6f4a555d956f92d890fa6d54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FqbXih3bMjbipX9u"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将工作表从Colab上传到Google工作表</p></figure><p id="b568" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.若要将值写入工作簿，请先打开一个工作表:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="c4e8" class="nq mp iq no b gy ol om l on oo">ws = gc.open('demo').sheet1</span></pre><p id="ee50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.然后选择要写入的单元格:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/8376f5a6fdf18e5866105231f4674a3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/0*1BXyoP5qQWGJ1tu4"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Colab中更新Google Sheets中的工作表(1)</p></figure><p id="14f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.这将创建一个包含索引(R1C1)和值(当前为空)的单元格列表。您可以通过更新单个单元格的值属性来修改它们:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/cef5ec47600846316294b0b335a9aeb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ry9FWd3wnw2zhAkS"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Colab中更新Google Sheets中的工作表(2)</p></figure><p id="8e24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">6.要更新工作表中的这些单元格，请使用<code class="fe nl nm nn no b">update_cells</code>方法:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/509f6e89376d8b4723ffb291640216c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/0*JS_8DBxLFt1upPbY"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Colab中更新Google Sheets中的工作表(3)</p></figure><p id="660e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">7.这些变化现在将反映在您的Google表单中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/9a9a96fb70620c24d57bc968664942fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/0*WuiroF9fttOui7QT"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">查看更新</p></figure><h2 id="3381" class="nq mp iq bd mq nr ns dn mu nt nu dp my lf nv nw na lj nx ny nc ln nz oa ne ob bi translated">从谷歌工作表下载数据</h2><p id="850b" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">1.使用<code class="fe nl nm nn no b">gc</code>对象的<code class="fe nl nm nn no b">open</code>方法打开工作簿:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="310f" class="nq mp iq no b gy ol om l on oo">wb = gc.open('demo')</span></pre><p id="dc27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.然后使用<code class="fe nl nm nn no b">get_all_values</code>方法读取特定工作表的所有行:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/88c69dcfaf2ea433f4cc839c49e02326.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/0*mS56d9U11ynVoUXp"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从Google Sheets下载工作表到Colab</p></figure><p id="883a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.要将这些加载到数据框中，您可以使用<code class="fe nl nm nn no b">DataFrame</code>对象的<code class="fe nl nm nn no b">from_record</code>方法:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/1b777a4db735675eafe2827dbd1b5712.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/0*d-wupLWmsYdQ0SDH"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从下载的Google Sheets创建数据框</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="43cc" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">从Google Colab访问Google云存储(GCS)</h1><p id="f60e" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">你需要有一个谷歌云项目(GCP)来使用GCS。您可以通过预装的<code class="fe nl nm nn no b">gsutil</code>命令行实用程序在Colab中创建和访问您的GCS buckets。</p><p id="128c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.首先指定您的项目ID:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="6ee0" class="nq mp iq no b gy ol om l on oo">project_id = '&lt;project_ID&gt;'</span></pre><p id="ed9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.要访问GCS，您必须验证您的Google帐户:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="55f0" class="nq mp iq no b gy ol om l on oo">from google.colab import auth<br/>auth.authenticate_user()</span></pre><p id="79d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.执行上述代码将为您提供一个身份验证链接。打开链接。</p><p id="cfa1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.选择您想要链接的Google帐户。</p><p id="5f5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.允许Google Cloud SDK访问您的Google帐户。</p><p id="ac38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">6.最后，复制显示的代码，将其粘贴到显示的文本框中，并按Enter键。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/e8fe8eff9bb370a4f6911102f3d8e01b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/0*LDSrOUX7oJFFprXx"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">认证谷歌可以SDK</p></figure><p id="ebd1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">7.然后您配置<code class="fe nl nm nn no b">gsutil</code>来使用您的项目:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="d72c" class="nq mp iq no b gy ol om l on oo">! gcloud config set project {project_id}</span></pre><p id="c647" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">8.您可以使用“制作桶”(<code class="fe nl nm nn no b">mb</code>)命令制作一个桶。GCP存储桶必须有一个全球唯一的名称，所以使用预安装的<code class="fe nl nm nn no b">uuid</code>库来生成一个全球唯一的ID:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="20fc" class="nq mp iq no b gy ol om l on oo">import uuid</span><span id="8c1d" class="nq mp iq no b gy pf om l on oo">bucket_name = f'sample-bucket-{uuid.uuid1()}'<br/>! gsutil mb gs://{bucket_name}</span></pre><p id="274b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">9.一旦创建了bucket，您就可以从您的Colab环境向它上传一个文件:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="4545" class="nq mp iq no b gy ol om l on oo">! gsutil cp /tmp/to_upload.txt gs://{bucket_name}/</span></pre><p id="4d07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">10.上传完成后，该文件将在您的项目的GCS浏览器中可见:<a class="ae kv" href="https://console.cloud.google.com/storage/browser?project=Your_project_ID_here" rel="noopener ugc nofollow" target="_blank">https://console.cloud.google.com/storage/browser?project=<strong class="ky ir">&lt;project _ id</strong>&gt;</a></p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="3808" class="nq mp iq no b gy ol om l on oo">! gsutil cp gs://{bucket_name}/{filename} {download_location}</span></pre><p id="1fe3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下载完成后，该文件将出现在指定下载位置的Colab文件浏览器窗格中。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="33c7" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">从Google Colab访问S3自动气象站</h1><p id="8c24" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">您需要有一个AWS帐户，配置IAM，并生成您的访问密钥和秘密访问密钥，以便能够从Colab访问S3。您还需要将awscli库安装到Colab环境中:</p><p id="9e02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.安装awscli库:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="7229" class="nq mp iq no b gy ol om l on oo">! pip install awscli</span></pre><p id="d5df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.安装后，通过运行<code class="fe nl nm nn no b">aws configure</code>来配置AWS:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/91173635a789e1160fdd4216b6ed85cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/0*_SFYmyYFck-mQS2d"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">AWS配置</p></figure><p id="064a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.在文本框中输入您的<code class="fe nl nm nn no b">access_key</code>和<code class="fe nl nm nn no b">secret_access_key</code>，然后按回车键。</p><p id="9e30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后你可以从S3下载任何文件:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="886c" class="nq mp iq no b gy ol om l on oo">! aws s3 cp s3://{bucket_name} ./{download_location} --recursive --exclude "*" --include {filepath_on_s3}</span></pre><p id="27a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nl nm nn no b">filepath_on_s3</code>可以指向单个文件或使用一个模式匹配多个文件。</p><p id="8999" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下载完成后将会通知您，并且下载的文件将会在您指定的位置提供，以供您随意使用。</p><p id="38e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要上传文件，只需颠倒源和目标参数:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="a305" class="nq mp iq no b gy ol om l on oo">! aws s3 cp ./{upload_from} s3://{bucket_name} --recursive --exclude "*" --include {file_to_upload}</span></pre><p id="47c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nl nm nn no b">file_to_upload</code>可以指向单个文件或使用一个模式匹配多个文件。</p><p id="726f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上传完成后，您将收到通知，上传的文件将保存在您的S3存储桶中的指定文件夹中:<a class="ae kv" href="https://s3.console.aws.amazon.com/s3/buckets/tr-project-ace-data/staging/?region=us-east-1" rel="noopener ugc nofollow" target="_blank">https://s3.console.aws.amazon.com/s3/buckets/<strong class="ky ir">{ bucket _ name }/{ folder }</strong>/？region= <strong class="ky ir"> {region} </strong> </a></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="abfd" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">从Google Colab访问Kaggle数据集</h1><p id="2ce8" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">要从Kaggle下载数据集，首先需要一个Kaggle帐户和一个API令牌。</p><ol class=""><li id="8ac9" class="ma mb iq ky b kz la lc ld lf mc lj md ln me lr oc mg mh mi bi translated">要生成您的API令牌，请转到我的帐户，然后创建新的API令牌。</li><li id="7c0f" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr oc mg mh mi bi translated">打开<code class="fe nl nm nn no b">kaggle.json</code>文件并复制其内容。应该是{ <code class="fe nl nm nn no b">"username":"########", "key":"################################"</code> }的形式。</li><li id="0167" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr oc mg mh mi bi translated">然后在Colab中运行以下命令:</li></ol><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="ace7" class="nq mp iq no b gy ol om l on oo">! mkdir ~/.kaggle #create the .kaggle folder in your root directory<br/>! echo '&lt;PASTE_CONTENTS_OF_KAGGLE_API_JSON&gt;' &gt; ~/.kaggle/kaggle.json #write kaggle API credentials to kaggle.json<br/>! chmod 600 ~/.kaggle/kaggle.json  # set permissions<br/>! pip install kaggle #install the kaggle library</span></pre><p id="d811" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.一旦在Colab中创建了<code class="fe nl nm nn no b">kaggle.json</code>文件并且安装了Kaggle库，您就可以使用以下命令搜索数据集:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="b8fb" class="nq mp iq no b gy ol om l on oo">! kaggle datasets list -s {KEYWORD}</span></pre><p id="defd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.然后使用以下方式下载数据集:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="1755" class="nq mp iq no b gy ol om l on oo">! kaggle datasets download -d {DATASET NAME} -p /content/kaggle/</span></pre><p id="143c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据集将被下载，并在指定的路径中可用(本例中为<code class="fe nl nm nn no b">/content/kaggle/</code>)。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="0ef6" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">从Google Colab访问MySQL数据库</h1><p id="1244" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">1.您需要导入预先安装的sqlalchemy库来使用关系数据库。</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="069c" class="nq mp iq no b gy ol om l on oo">import sqlalchemy</span></pre><p id="d54d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.输入连接详细信息并创建引擎:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="4faa" class="nq mp iq no b gy ol om l on oo">HOSTNAME = 'ENTER_HOSTNAME'<br/>USER = 'ENTER_USERNAME'<br/>PASSWORD = 'ENTER_PASSWORD'<br/>DATABASE = 'ENTER_DATABASE_NAME'<br/> <br/>connection_string = f'mysql+pymysql://{MYSQL_USER}:{MYSQL_PASSWORD}@{MYSQL_HOSTNAME}/{MYSQL_DATABASE}'<br/> <br/>engine = sqlalchemy.create_engine(connection_string)</span></pre><p id="5c84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.最后，只需创建SQL查询，并使用<code class="fe nl nm nn no b">pd.read_sql_query()</code>将查询结果加载到数据框中:</p><pre class="kg kh ki kj gt oh no oi oj aw ok bi"><span id="1dac" class="nq mp iq no b gy ol om l on oo">query = f"SELECT * FROM {DATABASE}.{TABLE}"<br/> <br/>import pandas as pd<br/>df = pd.read_sql_query(query, engine)</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="ae7b" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">Google Colab在处理文件时的局限性</h1><p id="26cb" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">使用Colab时要记住的一个重要警告是，你上传到它的文件不会永远可用。Colab是一个临时环境，空闲超时为90分钟，绝对超时为12小时。这意味着，如果运行时已经空闲了90分钟或者已经使用了12个小时，它将断开连接。断开连接时，您会丢失所有的变量、状态、已安装的软件包和文件，并在重新连接时连接到一个全新的干净的环境。</p><p id="39b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，Colab的磁盘空间限制为108 GB，其中只有77 GB可供用户使用。虽然这对于大多数任务来说应该足够了，但在处理更大的数据集(如图像或视频数据)时，请记住这一点。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="ef30" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">结论</h1><p id="cfbe" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">对于那些希望利用高端计算资源(如GPU)而不受价格限制的个人来说，Google Colab是一个很好的工具。</p><p id="8077" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们已经介绍了通过在Google Colab中读取外部文件或数据以及从Google Colab向这些外部数据源写入数据来增强Google Colab体验的大多数方法。</p><p id="7561" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据您的用例或者您的数据架构是如何设置的，您可以很容易地应用上述方法将您的数据源直接连接到Colab并开始编码。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="de21" class="mo mp iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">其他资源</h1><ul class=""><li id="a405" class="ma mb iq ky b kz ng lc nh lf oy lj oz ln pa lr mf mg mh mi bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=i-HnvsehuSw" rel="noopener ugc nofollow" target="_blank">Google Colab入门|如何使用Google Colab </a></li><li id="2cec" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr mf mg mh mi bi translated"><a class="ae kv" href="https://colab.research.google.com/notebooks/io.ipynb" rel="noopener ugc nofollow" target="_blank">外部数据:本地文件、驱动器、表单和云存储</a></li><li id="c7a8" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr mf mg mh mi bi translated"><a class="ae kv" href="https://towardsdatascience.com/importing-data-to-google-colab-the-clean-way-5ceef9e9e3c8" rel="noopener" target="_blank">将数据导入Google Colab——干净利落的方式</a></li><li id="84cb" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr mf mg mh mi bi translated"><a class="ae kv" href="https://towardsdatascience.com/3-ways-to-load-csv-files-into-colab-7c14fcbdcb92" rel="noopener" target="_blank">入门:通过A. Apte将CSV文件加载到Colab </a>的3种方法</li><li id="f4ca" class="ma mb iq ky b kz mj lc mk lf ml lj mm ln mn lr mf mg mh mi bi translated">陆嘉荣<a class="ae kv" href="https://towardsdatascience.com/downloading-datasets-into-google-drive-via-google-colab-bcb1b30b0166" rel="noopener" target="_blank">通过Google Colab </a>将数据集下载到Google Drive</li></ul></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="ab7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本博客最初发表于<a class="ph pi ep" href="https://medium.com/u/a7a4a9e70d82?source=post_page-----49fce565c02d--------------------------------" rel="noopener" target="_blank"> neptune.ai </a>:</p><div class="pj pk gp gr pl pm"><a href="https://neptune.ai/blog/google-colab-dealing-with-files" rel="noopener  ugc nofollow" target="_blank"><div class="pn ab fo"><div class="po ab pp cl cj pq"><h2 class="bd ir gy z fp pr fr fs ps fu fw ip bi translated">如何在Google Colab中处理文件:你需要知道的一切- neptune.ai</h2><div class="pt l"><h3 class="bd b gy z fp pr fr fs ps fu fw dk translated">谷歌合作实验室是一个免费的Jupyter笔记本环境，运行在谷歌的云服务器上，让用户…</h3></div><div class="pu l"><p class="bd b dl z fp pr fr fs ps fu fw dk translated">海王星. ai</p></div></div><div class="pv l"><div class="pw l px py pz pv qa kp pm"/></div></div></a></div></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="8fd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Medium仍然不支持向印度以外的作者支付费用。如果你喜欢我的内容，你可以给我买杯咖啡:)</p><div class="pj pk gp gr pl pm"><a href="https://www.buymeacoffee.com/siddhantsadangi" rel="noopener  ugc nofollow" target="_blank"><div class="pn ab fo"><div class="po ab pp cl cj pq"><h2 class="bd ir gy z fp pr fr fs ps fu fw ip bi translated">Siddhant Sadangi正在Streamlit上创建python网络应用程序</h2><div class="pt l"><h3 class="bd b gy z fp pr fr fs ps fu fw dk translated">嘿👋我刚刚在这里创建了一个页面。你现在可以给我买杯咖啡了！</h3></div><div class="pu l"><p class="bd b dl z fp pr fr fs ps fu fw dk translated">www.buymeacoffee.com</p></div></div><div class="pv l"><div class="qb l px py pz pv qa kp pm"/></div></div></a></div></div></div>    
</body>
</html>