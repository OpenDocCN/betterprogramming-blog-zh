<html>
<head>
<title>Programmatically Create an Ethereum Wallet With Python and Infura</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python和Infura编程创建一个以太坊钱包</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/programmatically-create-an-ethereum-wallet-with-python-and-infura-c378dda3e19c?source=collection_archive---------3-----------------------#2022-07-05">https://betterprogramming.pub/programmatically-create-an-ethereum-wallet-with-python-and-infura-c378dda3e19c?source=collection_archive---------3-----------------------#2022-07-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f468" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">存储加密货币的指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b3ff0a8bdf18fe81cea65e7d27a87f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nJjZB8UzB94COg-_"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@theshubhamdhage?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Shubham Dhage </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="851b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一名Python开发者，找到关于如何创建以太坊钱包的教程或文章并不容易。所以，我花了几个小时想出了这个程序，现在你不用想了。</p><p id="f2c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你选择继续读下去，你会在下面找到十行代码的解决方案。</p><p id="86dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我将介绍如何为以太坊和其他EVM链创建一个唯一的公钥-私钥对。我将使用<a class="ae ky" href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki" rel="noopener ugc nofollow" target="_blank"> BIP-39 </a>助记符、web3.py和<a class="ae ky" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank"> Infura </a>来实现这一点。</p><p id="a399" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:你可以使用任何提供者，比如<a class="ae ky" href="https://moralis.io/" rel="noopener ugc nofollow" target="_blank">道德</a>或者<a class="ae ky" href="https://www.alchemy.com/" rel="noopener ugc nofollow" target="_blank">炼金术</a>来达到同样的效果。把它换成Infura就行了。</p><p id="69ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码与Python 3.8+兼容，并且已经过测试，可以与Django 4.0一起使用。</p><p id="7cbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们开始之前，您需要在<a class="ae ky" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank"> Infura.io </a>上创建一个帐户。一旦完成并验证了您的信息，您将看到您的密钥和您的区块链端点。我们将在项目的稍后阶段回到这些。</p><p id="e2db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们安装助记库和web3.py库:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ad54" class="ma mb it lw b gy mc md l me mf">pip install mnemonic web3</span></pre><p id="951d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的库安装了你生成助记单词表所需的依赖项，该列表用于使用<a class="ae ky" href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki" rel="noopener ugc nofollow" target="_blank"> BIP-39 </a>标准生成你的私钥。您还需要web3.py库来与区块链进行交互。</p><ol class=""><li id="c025" class="mg mh it lb b lc ld lf lg li mi lm mj lq mk lu ml mm mn mo bi translated">创建新文件并导入所需的库:</li></ol><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ab52" class="ma mb it lw b gy mc md l me mf">from mnemonic import Mnemonic<br/>from web3 import Web3</span></pre><p id="35d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.初始化助记符类:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="4295" class="ma mb it lw b gy mc md l me mf">mnemo = Mnemonic("english")<br/>words = mnemo.generate(strength=256)<br/>seed = mnemo.to_seed(words, passphrase="")</span></pre><p id="b113" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们花点时间来理解代码。首先，我们初始化<code class="fe mp mq mr lw b">mnemo</code>类。然后，我们使用<code class="fe mp mq mr lw b">mnemo.generate(strength=256).</code>生成短语。最后，我们使用上一步生成的单词生成<code class="fe mp mq mr lw b">seed</code>。您可以选择提供额外的<code class="fe mp mq mr lw b">passphrase</code>，以获得额外的安全性。</p><p id="287d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您现在已经为以太坊链生成了一个唯一的私钥。现在让我们从上面的密钥生成我们的公共地址。</p><p id="2f66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.初始化web3.py:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9cc0" class="ma mb it lw b gy mc md l me mf">MAIN_NET_HTTP_ENDPOINT = "&lt;add your mainnet endpoint URL here&gt;"<br/>w3 = Web3(Web3.HTTPProvider(MAIN_NET_HTTP_ENDPOINT))</span></pre><p id="1d4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从<a class="ae ky" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank"> Infura </a>中获取您的端点URL，并将其设置为上面的<code class="fe mp mq mr lw b">MAIN_NET_HTTP_ENDPOINT</code>。然后，用端点初始化一个名为<code class="fe mp mq mr lw b">w3</code>的类。</p><p id="003e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.初始化帐户类:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7756" class="ma mb it lw b gy mc md l me mf">account = w3.eth.account.privateKeyToAccount(seed[:32])</span></pre><p id="7801" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用上面的<code class="fe mp mq mr lw b">seed[:32]</code>,因为我们只需要使用种子的32位字符串作为我们的私钥。</p><p id="652a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.获取您的公钥和私钥:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a0f6" class="ma mb it lw b gy mc md l me mf">private_key = account.privateKey<br/>public_key = account.address</span></pre><p id="e5bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这样——你完成了！</p><p id="a4a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，就是这么简单。不相信我？您可以打印<code class="fe mp mq mr lw b">private_key</code>并使用metamask导入它。你也可以打印<code class="fe mp mq mr lw b">words</code>，用它来恢复你的账户。</p><p id="6952" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是全部代码，这样您可以更容易地复制:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f652" class="ma mb it lw b gy mc md l me mf">from mnemonic import Mnemonic<br/>from web3 import Web3<br/>mnemo = Mnemonic("english")<br/>words = mnemo.generate(strength=256)<br/>seed = mnemo.to_seed(words, passphrase="")</span><span id="de23" class="ma mb it lw b gy ms md l me mf">MAIN_NET_HTTP_ENDPOINT = "&lt;add your mainnet endpoint URL here&gt;"<br/>w3 = Web3(Web3.HTTPProvider(MAIN_NET_HTTP_ENDPOINT))<br/>account = w3.eth.account.privateKeyToAccount(seed[:32])<br/>private_key = account.privateKey<br/>public_key = account.address</span></pre><p id="4592" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>