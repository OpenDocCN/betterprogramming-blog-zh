<html>
<head>
<title>Xcode File Templates — A Real Time Saver</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Xcode文件模板——一个真正的省时工具</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/xcode-file-template-a-time-saver-8d37dac1864?source=collection_archive---------10-----------------------#2020-09-02">https://betterprogramming.pub/xcode-file-template-a-time-saver-8d37dac1864?source=collection_archive---------10-----------------------#2020-09-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f20a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建模板以生成具有相同基本名称的多个文件</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4cd50ebaf923e5dd2d25cbd2ccbb9fd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y1-B8ihUQ4M0EE2KgB5cwg.png"/></div></div></figure><p id="f716" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在从事iOS项目的一段时间里，我一直在考虑让整个代码库保持一致，减少开发工作量。但是确保每个人都编写高质量和一致的代码总是一件困难的工作。</p><p id="79eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">假设您正在开发一个项目，并假设它包含许多屏幕类。您重复地创建每个类，写下每个屏幕类应该有的代码、方法和函数——这是一项相当耗时的工作，但如果您有严格的截止日期，这也很烦人，对吗？</p><p id="9b5a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是今天，我有一个惊人的解决方案，为您的项目创建一些很棒的模板，简而言之，这将有助于减少大量的人力，同时确保每个人都遵守架构指南。</p><p id="dbd5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">好消息是Xcode提供了所有这些特性。如果我想用任何设计架构创建一个screen类，所有与这个screen类相关的子结构都会自动创建。例如，当我使用MVVM架构创建登录屏幕时，绑定方法、视图模型、模型、视图和协议都是自动创建的。</p><p id="732a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">听起来很神奇，对吧？🤩</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="2540" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">我们开始吧</h1><p id="4e7a" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated"><strong class="kt ir">注意:</strong>在本文中，我将仅为演示目的创建一个与ViewModel相关的模板。您可以自己创建其他文件模板。此外，我还附上了MVVM-R模板的GitHub链接。</p><h2 id="59c3" class="mr lv iq bd lw ms mt dn ma mu mv dp me la mw mx mg le my mz mi li na nb mk nc bi translated"><strong class="ak">让我们写一些模板代码</strong></h2><p id="eaad" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">让我们从创建一个新的Swift文件开始。</p><p id="5a23" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">其次，我们将从编写一些通用模板代码开始。下面是我的ViewModel在模板代码之前的样子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/4830a0dfc33e73e85cf1902fac4ecd1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rliZy_tWDQ3r7yJ9H_CnTQ.png"/></div></div></figure><p id="19c5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果能预发布所有这些代码，是不是很神奇？真见鬼。</p><p id="2793" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以目前这个视图模型包含特定的模块名，比如<code class="fe ne nf ng nh b">LoginViewModel</code>。</p><p id="d53e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，现在我们将修改我们的视图模型，并将<code class="fe ne nf ng nh b">Login</code>更改为一些通用的代码模板。我们可以在任何我们想要的地方添加它，并且命名像变魔术一样变化。</p><p id="d3bf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这里，Xcode开始发挥作用。Xcode为我们提供了一些我们今天要用到的关键词来达到我们的目标。这些是:</p><ul class=""><li id="a001" class="ni nj iq kt b ku kv kx ky la nk le nl li nm lm nn no np nq bi translated"><code class="fe ne nf ng nh b"><strong class="kt ir">___FILEBASENAMEASIDENTIFIER___</strong></code> : <strong class="kt ir"> </strong>如果我们想让我们的标识符与文件名相同，我们将使用这个关键字——例如，如果我们的文件名是<code class="fe ne nf ng nh b">LoginViewModel</code> <strong class="kt ir"> </strong>并且我们想让这个文件中的类具有相同的名称。此外，我们还可以附加任何其他字符串—例如，如果我们想在<code class="fe ne nf ng nh b">LoginViewModel</code>文件中包含协议<code class="fe ne nf ng nh b">LoginViewModelProtocol</code> <em class="nr"> </em>，我们只需使用<code class="fe ne nf ng nh b">___FILEBASENAMEASIDENTIFIER___Protocol</code> <em class="nr">。</em></li><li id="e501" class="ni nj iq kt b ku ns kx nt la nu le nv li nw lm nn no np nq bi translated"><code class="fe ne nf ng nh b"><strong class="kt ir">___VARIABLE_productName:identifier___</strong></code> : <strong class="kt ir"> </strong>当我们想要获取产品名称时，可以使用这个关键字。在创建模块时，我们必须为这个模块指定前缀。该前缀充当产品名称。<strong class="kt ir"> <br/> </strong>假设我们正在为<code class="fe ne nf ng nh b">Login</code>、<em class="nr"> </em>创建一个模块，我们想在<code class="fe ne nf ng nh b">LoginViewModel</code>内部创建一个名为<code class="fe ne nf ng nh b">LoginOutput</code>的变量。我们只是使用关键字和一个像<code class="fe ne nf ng nh b">___VARIABLE_productName:identifier___Output</code>这样的后缀。</li><li id="c75a" class="ni nj iq kt b ku ns kx nt la nu le nv li nw lm nn no np nq bi translated">这是我今天为这篇文章使用的最后一个关键词。顾名思义，它用于指定文件名。所以我们总是希望我们的模板根据模块名来指定文件名。像创建模块时一样，我们必须为这个模块指定前缀。考虑到我们已经选择了<code class="fe ne nf ng nh b">Login</code> <em class="nr">。</em>现在我们将模板文件名指定为<code class="fe ne nf ng nh b">___FILEBASENAME___ViewModel.swift</code> <strong class="kt ir"> <em class="nr"> </em> </strong>，这样用户在名为<code class="fe ne nf ng nh b">filename</code>的模块中输入的任何内容都会被自动配置。</li></ul><p id="4ad9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">基于所有这些关键字，我已经更新了我的视图模型，使其表现得像一个模板。这就是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/d471d934c1e62e49c032dbc5e751864e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GKx161DVqaKDxT7SnPa29Q.png"/></div></div></figure><p id="89c0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，根据您的架构需求，如上所述创建所有的组件模板。</p><p id="57e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">注意:不要对所有这些文件感到焦虑——我已经在下面添加了我的Git回购链接。</p><h2 id="2eba" class="mr lv iq bd lw ms mt dn ma mu mv dp me la mw mx mg le my mz mi li na nb mk nc bi translated"><strong class="ak">让我们附上我们的模板</strong></h2><p id="1572" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">现在，在创建所有这些文件模板之后。让我们继续将它们添加到XCode中。我们将在创建新模块时看到结果。首先，导航到您的XCode模板目录(路径如下):</p><p id="a4a0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">注意:</strong>根据您的XCode应用程序名称和路径更新您的路径。</p><pre class="kg kh ki kj gt ny nh nz oa aw ob bi"><span id="179b" class="mr lv iq nh b gy oc od l oe of">/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates</span></pre><p id="9024" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">进入目录后，您已经创建了两个文件夹:</p><ul class=""><li id="3e58" class="ni nj iq kt b ku kv kx ky la nk le nl li nm lm nn no np nq bi translated">文件模板</li><li id="bf80" class="ni nj iq kt b ku ns kx nt la nu le nv li nw lm nn no np nq bi translated">项目模板</li></ul><p id="4d2e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在Add New File窗口下，在这个目录下创建另一个文件夹，使用后缀<code class="fe ne nf ng nh b">.xctemplate</code>和您想要显示的名称。因为我想将我的模块名显示为MVVM模块，所以我创建了一个名为<code class="fe ne nf ng nh b">MVVM Module.xctemplate</code>的文件夹。</p><p id="869b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个文件夹中，您将添加三种不同的文件:</p><ul class=""><li id="c4f5" class="ni nj iq kt b ku kv kx ky la nk le nl li nm lm nn no np nq bi translated"><strong class="kt ir">模板:</strong>要添加模板，首先创建一个名为<code class="fe ne nf ng nh b">MVVM Template</code>的文件夹，在这个文件夹中粘贴你为你的模块创建的所有模板。</li><li id="f099" class="ni nj iq kt b ku ns kx nt la nu le nv li nw lm nn no np nq bi translated"><strong class="kt ir">图标:</strong>现在我们将为我们的模块添加图标，这些图标将显示在添加文件窗口中。您将上传1x和2x比例的图标，预定义名称为<code class="fe ne nf ng nh b">TemplateIcon.png</code>和<code class="fe ne nf ng nh b">TemplateIcon@2x.png</code>。</li><li id="7203" class="ni nj iq kt b ku ns kx nt la nu le nv li nw lm nn no np nq bi translated"><strong class="kt ir"> PLIST描述:</strong>最后，我们将为名为<code class="fe ne nf ng nh b">TemplateInfo.plist</code>的描述创建一个PLIST文件。您将在PLIST中添加一些键，如下所示:</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/6896a2b7e4b22fadb34a2444426107f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ONOU1EyRRmjsUtpBmT5aYA.png"/></div></div></figure><p id="e8c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ne nf ng nh b">Kind</code>值决定了这是否是一个文件模板。平台，你也知道，就是iOS。选项数组给出了模块的详细信息。</p><p id="c39e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您已经按顺序完成了所有步骤，您的新模块就准备好了。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="cde8" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">结果呢</h1><p id="04c1" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">一旦你完成了所有文件的创建，你的文件夹结构将会是这样的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/13a30cbfc4a7656c76d79d139bffb04a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3F8N1NDCM95v3EVCYJjrng.png"/></div></div></figure><p id="e184" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">重启XCode后，您将能够在“添加文件”窗口中看到创建MVVM模块的选项，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/25f037888f64dbb0e6022e22f63e670e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ktDbn0pm6sonTvlzg1QWzQ.png"/></div></div></figure><p id="3e26" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，当我在一个构建器中使用MVVM-R时，我的结构看起来像这样:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/5aec0b8f1b2645e4839a6554cb0d1204.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*NXBaW6ayYTjlIotR_xRcPg.png"/></div></figure><div class="ok ol gp gr om on"><a href="https://github.com/rahimkhalid/XCode-MVVM-Template.git" rel="noopener  ugc nofollow" target="_blank"><div class="oo ab fo"><div class="op ab oq cl cj or"><h2 class="bd ir gy z fp os fr fs ot fu fw ip bi translated">rahimkhalid/XCode-MVVM-模板</h2><div class="ou l"><h3 class="bd b gy z fp os fr fs ot fu fw dk translated">在GitHub上创建一个帐户，为rahimkhalid/XCode-MVVM模板开发做贡献。</h3></div><div class="ov l"><p class="bd b dl z fp os fr fs ot fu fw dk translated">github.com</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb kp on"/></div></div></a></div><p id="863f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>