<html>
<head>
<title>Create Apple-like Docs From Your Code Comments in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">根据您在Swift中的代码注释创建类似Apple的文档</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-apple-like-docs-from-your-code-comments-in-swift-d8334b1ef57f?source=collection_archive---------13-----------------------#2022-07-19">https://betterprogramming.pub/create-apple-like-docs-from-your-code-comments-in-swift-d8334b1ef57f?source=collection_archive---------13-----------------------#2022-07-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="859d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">自述文件或GitHub页面的替代和补充</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/08f299fd6b703b9ab3e71d56b853b174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-BkjzwQJg9ri_381n_x-xw@2x.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:苹果Swift-DocC</p></figure><p id="4c95" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在深入讨论什么是DocC之前，我们需要理解什么是Doc注释。</p><blockquote class="lr ls lt"><p id="6692" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated"><em class="iq">文档注释</em>(也称为文档注释)是对作为建议文档的代码的注释。</p><p id="6049" class="kv kw lu kx b ky kz jr la lb lc ju ld lv lf lg lh lw lj lk ll lx ln lo lp lq ij bi translated">通常，ide可以识别这些类型的注释，并在快速帮助菜单中显示它们(使用Xcode上的<strong class="kx ir">选项-单击</strong>)；此外，一些工具可以读取您的评论并生成文档，如HTML或Markdown格式的文件。</p></blockquote><p id="07c7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">许多工具允许你这样做。在本文中，我们将探索苹果官方工具，<a class="ae ly" href="https://developer.apple.com/documentation/docc" rel="noopener ugc nofollow" target="_blank"> Swift-DocC </a>。</p><h1 id="1539" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">生成的文档看起来怎么样？</h1><p id="1cda" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">用DocC生成的文档看起来和官方的<a class="ae ly" href="https://developer.apple.com/documentation/swift" rel="noopener ugc nofollow" target="_blank">苹果Swift文档</a>非常相似；我们可以猜测，苹果使用相同的工具来创建它。</p><p id="6824" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面的例子展示了如何利用Xcode中的doc注释。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/50b7ad175a2c3cdf074319c25170cf00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xHQAJkj8SDI4NMobXV53_w.png"/></div></div></figure><p id="3ef0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下示例显示了如何在Xcode窗口中查看文稿，就像Apple文稿一样。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/4f3e2e4a13574cc670414c3e1250b02b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*scbE1XZjn40fd7iXWA2aLg.png"/></div></div></figure><p id="e602" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以添加文本格式，如粗体、斜体，甚至代码示例。</p><p id="270c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在Swift Playgrounds上，你可以添加图片，但这将是另一篇文章的主题。</p><h1 id="38b4" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">如何使用Swift上的Doc注释？</h1><p id="a1e7" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">如您所知，您可以在Swift上添加常规注释，使用双斜线<code class="fe my mz na nb b">//</code>表示单行注释，使用<code class="fe my mz na nb b">/* */</code>表示多行注释。</p><p id="6db8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Doc注释使用稍微不同的语法，三斜线<code class="fe my mz na nb b">///</code>用于单行注释，而<code class="fe my mz na nb b">/** **/</code>格式用于多行注释。</p><p id="5dd7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最基本的例子是属性声明。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="5070" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如你所见，Doc注释应该在声明之前的行中；你可以记录任何你可以声明的东西，比如函数、方法、属性、类、结构、枚举、枚举用例等等。</p><p id="7ec8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是您不需要记录只存在于函数内部的变量，因为它的整个生命周期一目了然。</p><h2 id="cbd1" class="ne ma iq bd mb nf ng dn mf nh ni dp mj le nj nk ml li nl nm mn lm nn no mp np bi translated">记录功能</h2><p id="c403" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">这些函数需要更多的工作，因为您可能希望记录参数、返回值和抛出错误。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="4377" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以上是带有两个参数的函数的文档示例。首先，我们有“功能”的描述，然后是每个参数的文档。这是为参数添加文档的标准方式；有必要遵循标准，让Xcode知道您引用的是一个参数。</p><p id="9887" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，这不是记录参数的唯一标准方法；当您有许多参数时，还有另一种看起来更简洁的方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="aac9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我们来看看<code class="fe my mz na nb b">return</code>和<code class="fe my mz na nb b">throw</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="6ee3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如您所见，这就像在描述后面添加<em class="lu"> —抛出:</em>或<em class="lu"> —返回:</em>一样简单；退货通常是你的文档注释的最后一项。</p><blockquote class="nq"><p id="01c3" class="nr ns iq bd nt nu nv nw nx ny nz lq dk translated">💡<strong class="ak">专业提示</strong></p><p id="e13a" class="nr ns iq bd nt nu nv nw nx ny nz lq dk translated">您不需要记住正确的语法来编写文档注释；使用快捷方式<strong class="ak">选项(alt) + cmd + / </strong>，Xcode会自动为光标下的任何内容添加一个模板。</p></blockquote><p id="2e19" class="pw-post-body-paragraph kv kw iq kx b ky oa jr la lb ob ju ld le oc lg lh li od lk ll lm oe lo lp lq ij bi translated">您可以使用Markdown样式在您的注释中添加格式，如星号之间的文本表示*斜体*，双星号表示**粗体* *，并添加代码块，如Markdown。</p><p id="e6a1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们看一个例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="17ac" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">是的，你可以在文档评论中添加表情符号！</p><h1 id="108d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">如何生成文档？</h1><p id="db42" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">现在，您已经在源代码中编写了文档注释；你可能想知道如何更好地利用它们。</p><blockquote class="nq"><p id="eb5e" class="nr ns iq bd nt nu nv nw nx ny nz lq dk translated">💡<strong class="ak">注</strong></p><p id="9ec3" class="nr ns iq bd nt nu nv nw nx ny nz lq dk translated">Swift-DocC需要Swift 5.5和Xcode 13或以上版本。</p></blockquote><p id="a6ac" class="pw-post-body-paragraph kv kw iq kx b ky oa jr la lb ob ju ld le oc lg lh li od lk ll lm oe lo lp lq ij bi translated">在Xcode菜单上，选择<code class="fe my mz na nb b">Product &gt; Build Documentation</code>。</p><p id="faa7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Xcode将打开一个新窗口，您可以在其中直接查看文稿。</p><p id="99ee" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">就是这样；你已经有了你的项目文档和苹果文档；您可以随时再次打开文档，而无需通过菜单<code class="fe my mz na nb b">Help &gt; Developer Documentation</code>进行构建。</p><p id="bf74" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，任何好的文档都需要一个好的主页！</p><p id="bc4f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在你的项目中，进入你的主文件夹，点击<code class="fe my mz na nb b">File &gt; New File</code>，搜索“文档目录”，然后点击下一步。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/b0478fecf5f09d4111e162571f00eca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WT1dgqe1_LmmvZ0EFSzDsg.png"/></div></div></figure><p id="a573" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Xcode将创建一个新的文档目录，您可以从侧边栏访问它，并创建一个模板来编写框架概述。它将是你的文档的主页。</p><p id="aac5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Swift-DocC可以作为README文件或GitHub页面的替代和补充；请告诉我们您喜欢哪种类型的源代码文档。</p><h1 id="71bf" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">常见问题解答</h1><p id="98a8" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated"><strong class="kx ir">我是否需要记录所有事情？<br/> </strong>您可以记录任何您想记录的内容，但Swift-DocC只会为公共和开放内容生成文档页面。</p><p id="8536" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">Swift-DocC有哪些替代方案？用于HTML文档的<br/> </strong> <a class="ae ly" href="https://github.com/realm/jazzy" rel="noopener ugc nofollow" target="_blank"> Jazzy </a>和支持HTML和兼容GitHub Wiki的Markdown的<a class="ae ly" href="https://github.com/SwiftDocOrg/swift-doc" rel="noopener ugc nofollow" target="_blank"> Swift Doc </a>是很好的选择。</p></div></div>    
</body>
</html>