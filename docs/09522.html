<html>
<head>
<title>Learn to Change Fonts in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习在Flutter中改变字体</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/learn-how-to-change-fonts-in-flutter-e3de592db5b3?source=collection_archive---------1-----------------------#2021-09-05">https://betterprogramming.pub/learn-how-to-change-fonts-in-flutter-e3de592db5b3?source=collection_archive---------1-----------------------#2021-09-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e9e6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为你的Flutter应用程序挑选1000多种谷歌字体</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/30759f6183401d283b811facf8efe229.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8rezTIEiIqlgleJ91LqrAg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">亚历山大·安德鲁斯在<a class="ae ky" href="https://unsplash.com/s/photos/fonts?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d0e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">四年前，谷歌醒来后想，我们为什么不创建自己的多平台框架，然后带着它“飘起”去呢？</p><p id="2b36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从那以后，Flutter的受欢迎程度稳步增长，在接下来的三年里，它已经成为应用程序、桌面和web开发的首选。也许没那么快，但是这个框架肯定有很大的潜力。</p><p id="65c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了表达你的个性，突出大众，自定义文本字体会有所帮助。在接下来的部分中，我们将创建一个显示不同文本字体的应用程序。</p><p id="0a92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此字体应分为五类:<code class="fe lv lw lx ly b">SansSerif</code>、<code class="fe lv lw lx ly b">Serif</code>、<code class="fe lv lw lx ly b">Display</code>、<code class="fe lv lw lx ly b">Handwriting</code>、<code class="fe lv lw lx ly b">Monospace</code>，字体名称可复制。</p><p id="3243" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我将向您展示如何在到达列表末尾时加载更多的对象。以下视频展示了应用程序的最终结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Luciano Jung在Youtube上的视频</p></figure><h1 id="6a7a" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">介绍</h1><p id="1781" class="pw-post-body-paragraph kz la it lb b lc mt ju le lf mu jx lh li mv lk ll lm mw lo lp lq mx ls lt lu im bi translated">在这篇文章中，我将向您展示如何在Flutter中更改文本字体，并为您提供一些最佳实践。对于实现，我们使用最新版本(2.1.0)中的<code class="fe lv lw lx ly b">google_fonts</code>包，包括空安全。这支持Android和iOS应用程序以及web和桌面应用程序。</p><p id="bd81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">改变文本字体不仅可以帮助你脱颖而出，还可以提升你的品牌形象，改善你的读者体验。在下一节中，我们将逐步引导您在应用中实现上述结果。</p><h1 id="661e" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">准备</h1><p id="976a" class="pw-post-body-paragraph kz la it lb b lc mt ju le lf mu jx lh li mv lk ll lm mw lo lp lq mx ls lt lu im bi translated">我们从代码准备开始。要实现下面的代码，您需要将<code class="fe lv lw lx ly b">google_fonts</code>包集成到您的Flutter项目中。</p><p id="1a64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在命令行中运行以下命令:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="f122" class="nc mc it ly b gy nd ne l nf ng"><strong class="ly iu">$ </strong>flutter pub add google_fonts</span></pre><p id="a137" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将向您的包的<code class="fe lv lw lx ly b">pubspec.yaml</code>添加一行代码(并运行一个隐式的<code class="fe lv lw lx ly b">flutter pub get</code>):</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="38c0" class="nc mc it ly b gy nd ne l nf ng">dependencies:<br/>  google_fonts: ^latest_version</span></pre><p id="120b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，在您的Dart代码中，您可以使用以下import语句来使用该包:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="c356" class="nc mc it ly b gy nd ne l nf ng">import 'package:google_fonts/google_fonts.dart';</span></pre><h1 id="5405" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">履行</h1><p id="b2b9" class="pw-post-body-paragraph kz la it lb b lc mt ju le lf mu jx lh li mv lk ll lm mw lo lp lq mx ls lt lu im bi translated">首先，我将向您展示如何将文本小部件的文本字体更改为Flutter。为此，将一个<code class="fe lv lw lx ly b">TextStyle</code>对象传递给文本小部件的style属性，您可以按如下方式创建它，并使用<code class="fe lv lw lx ly b">copyWith</code>根据您的需要进行定制:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ma l"/></div></figure><p id="9d1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在fonts.google.com找到所有可用的字体。</p><p id="00f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想在Android手机上测试这段代码，不要忘记在你的项目的<code class="fe lv lw lx ly b">AndroidManifest.xml</code>文件中添加下面一行:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="24ff" class="nc mc it ly b gy nd ne l nf ng">&lt;uses-permission android:name=”android.permission.INTERNET” /&gt;</span></pre><p id="451a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在<code class="fe lv lw lx ly b">android/app/main/AndroidManifest.xml</code>下找到这个，直接写在:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="43e0" class="nc mc it ly b gy nd ne l nf ng">&lt;manifest xmlns:android=”http://schemas.android.com/apk/res/android" package=”com.example.package_examples”&gt;</span></pre><h2 id="efdb" class="nc mc it bd md ni nj dn mh nk nl dp ml li nm nn mn lm no np mp lq nq nr mr ns bi translated"><strong class="ak">最佳实践建议</strong></h2><p id="759a" class="pw-post-body-paragraph kz la it lb b lc mt ju le lf mu jx lh li mv lk ll lm mw lo lp lq mx ls lt lu im bi translated">一旦你决定了应用程序的文本字体，免费下载并保存在项目目录的<code class="fe lv lw lx ly b">assets/fonts</code>下。</p><p id="341c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按照<a class="ae ky" href="https://flutter.dev/docs/cookbook/design/fonts" rel="noopener ugc nofollow" target="_blank">https://flutter.dev/docs/cookbook/design/fonts</a>的指南进行后续步骤。还可以用<code class="fe lv lw lx ly b">google_font</code>包。这将始终使用本地可用的字体文件。如果离线时不可用，每次小工具初始化时，字体将从互联网下载。如果没有互联网连接，则使用默认的文本字体。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><p id="db03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然您已经知道了如何更改文本字体，现在是代码显示UI的时候了。</p><p id="d68a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将创建一个<code class="fe lv lw lx ly b">FontCard</code>小部件，可视化每种字体的标题、文本字体中的一个例句，并允许您复制文本字体名称:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ma l"/></div></figure><p id="daa5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要在点击图标时复制文本字体名称，需要以下功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ma l"/></div></figure><p id="9a39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们想要创建一个包含所有google字体的列表。不幸的是，没有提供列出所有可用字体的API。</p><p id="6277" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际的名单也很难找到。因此，为了允许选择多种字体，我选择了一些可用的字体，并把它们和它们的类别一起写在一个散列图中。类别本身被创建为枚举:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ma l"/></div></figure><p id="7a0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">细心的读者可能已经注意到，有些变量还没有详细描述。我现在将弥补这一点。类别枚举看起来简单如下:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="1782" class="nc mc it ly b gy nd ne l nf ng">enum Category { SANSSERIF, SERIF, DISPLAY, HANDWRITING, MONOSPACE }</span></pre><p id="b23c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，应该在状态对象中声明以下属性:</p><ul class=""><li id="351b" class="oa ob it lb b lc ld lf lg li oc lm od lq oe lu of og oh oi bi translated"><code class="fe lv lw lx ly b">displayCount</code>指定要显示的<code class="fe lv lw lx ly b">FontCard</code>小部件的初始数量</li><li id="3540" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><code class="fe lv lw lx ly b">TextEditingController</code>允许更容易地处理文本字符串</li><li id="aaf8" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><code class="fe lv lw lx ly b">filteredFontList</code>获取所有字体名称，用于类别过滤显示</li><li id="aa5c" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><code class="fe lv lw lx ly b">CategoryMap</code>将类别枚举分配给字符串</li><li id="b356" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><code class="fe lv lw lx ly b">googleFontMap</code>给每个字体名称分配一个类别</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ma l"/></div></figure><p id="464f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">MaterialDropdownView</code>是一个定制的小部件，其核心只是一个下拉按钮小部件。对于整个部件看<a class="ae ky" href="https://github.com/lucianojung/flutter_package_examples/blob/master/lib/shared/material_dropdown_view.dart" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="5cc9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述项目的完整源代码可在<a class="ae ky" href="https://github.com/lucianojung/flutter_package_examples/blob/master/lib/packages/google_fonts/google_fonts_main.dart" rel="noopener ugc nofollow" target="_blank"> GitHub </a>获得。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><h1 id="8656" class="mb mc it bd md me oo mg mh mi op mk ml jz oq ka mn kc or kd mp kf os kg mr ms bi translated">结论</h1><p id="6ea1" class="pw-post-body-paragraph kz la it lb b lc mt ju le lf mu jx lh li mv lk ll lm mw lo lp lq mx ls lt lu im bi translated">我真的很喜欢编写这里介绍的应用程序，在某一点上，它将我推到了实现的极限。</p><p id="fb22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我更希望这篇教程对你们中的一些人的下一个项目有所帮助。<code class="fe lv lw lx ly b">google_fonts</code>包是为你的应用程序尝试新字体的好方法，而不必先下载它们。</p><p id="2c73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于大多数app来说，不建议总是从网上下载字体。如果字体是本地提供的，你仍然可以使用这个包，但你不必这样做。即使没有<code class="fe lv lw lx ly b">google_fonts</code>包，也可以使用你想要的所有文本字体，但是它简化了这个过程。</p><p id="24ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如需完整的示例应用程序源代码，请访问<a class="ae ky" href="https://medium.com/r?url=https%3A%2F%2Fgithub.com%2Flucianojung%2Fflutter_package_examples" rel="noopener"> GitHub </a>，附带的应用程序可用<a class="ae ky" href="https://medium.com/r?url=https%3A%2F%2Fflutter-package-examples.netlify.app%2F" rel="noopener">此处</a>。</p><p id="2dd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div></div>    
</body>
</html>