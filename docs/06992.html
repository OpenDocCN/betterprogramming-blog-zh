<html>
<head>
<title>Why You Should Always Write Down Your Architecture Decision Records</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么您应该总是写下您的架构决策记录</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/why-you-should-always-write-down-your-architecture-decision-records-3e654d9782e2?source=collection_archive---------10-----------------------#2020-11-24">https://betterprogramming.pub/why-you-should-always-write-down-your-architecture-decision-records-3e654d9782e2?source=collection_archive---------10-----------------------#2020-11-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b4e1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过不重复做同样的事情来帮助你的软件团队节省时间</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b86ad169cea7760210857285650a206c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qGuGTHFiDgKS1lYi"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">托拜厄斯·凯勒在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="c412" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的团队中，我们最近引入了<em class="lv">架构决策记录</em>的原则。</p><p id="c2ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">架构决策记录(ADR)是一个文档，它记录了一个重要的架构决策及其背景和结果。</p><p id="e168" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是跟踪我们决策的一种非常棒、非常简单的方式，它让我们的产品和团队更加经得起未来的考验。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="62b9" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="a6fa" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">ADR框架是一个很棒的工具，可以帮助新员工理解你的团队是如何做决策的，以及为什么你的软件看起来是这样的。</p><p id="0ef7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该为几乎所有影响你的工程师工作的事情写一个ADR(大的新决定，未记录的团队标准，当你决定不改变某事时，等等)。).</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="5e16" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">有什么好处？</h1><h2 id="6d3c" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">团队的变化</h2><p id="f7de" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们的组织正在快速变化和发展，所以每个新加入的人都必须了解团队当前的堆栈——包括其中奇怪的部分。</p><p id="675c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有了ADR，我们理解了为什么要做出某个决定，以及做出决定时的背景是什么。</p><p id="7280" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这降低了辩论的成本，即使我们每次在环境发生变化时都要重新考虑一个决定。</p><h2 id="3b14" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">入职</h2><p id="62db" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">未来的团队成员有一个地方可以阅读决策的历史，并快速了解决策的方式和原因，以及该决策的影响。</p><p id="2e15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们举一个例子:我们有一个定制的索引服务，我们已经看到我们可以用一个标准的开源工具来代替它。</p><p id="9137" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在ADR中，我们将做出“保留我们当前的定制解决方案”的决定，以及我们进行POC的原因。我们已经对这两个解决方案进行了负载测试，发现我们当前解决方案的指标更好。</p><p id="ca5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，现在团队的新成员知道了为什么我们在做定制工作，而不是使用这个其他开源工具，除非环境发生了变化(例如，工具的重大改进)，否则我们不会重新考虑这个解决方案。</p><h2 id="ccd7" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">对齐</h2><p id="d5c7" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">ADR对于团队之间的合作也很重要，因为它们允许与其他团队共享最佳实践。</p><p id="25aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你已经决定了一个特定的上下文。如果另一个团队面临同样的问题，您可以分享您的ADR，帮助他们不要从零开始。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="5c62" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">看起来怎么样</h1><p id="b653" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">ADR的好处是它们不会太正式。你可以把它们放在任何你想放的地方(Confluence，Google Doc，Git等。).它只需要是一个每个人都可以进入的地方。</p><p id="c894" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们对这四个项目使用基本文档格式:</p><ul class=""><li id="a3e5" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated">状态— <strong class="lb iu"> </strong>我们有两种状态:<code class="fe nv nw nx ny b">IN PROGRESS</code>和<code class="fe nv nw nx ny b">ACCEPTED</code>。<br/>当它正在进行时，意味着我们仍在质疑这一决定，并且仍在接受意见。接受后，我们都同意采取与此ADR相关的行动。</li><li id="493c" class="nm nn it lb b lc nz lf oa li ob lm oc lq od lu nr ns nt nu bi translated">背景——我们看到的促使我们做出这一决定或改变的问题是什么？</li><li id="f43c" class="nm nn it lb b lc nz lf oa li ob lm oc lq od lu nr ns nt nu bi translated">决策——我们提议和/或正在做的改变是什么？</li><li id="8fd8" class="nm nn it lb b lc nz lf oa li ob lm oc lq od lu nr ns nt nu bi translated">后果— <strong class="lb iu"> </strong>因为这种改变，什么事情变得更容易或更难做了？</li></ul><p id="c668" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想了解更多ADR示例，您可以访问<a class="ae ky" href="https://github.com/joelparkerhenderson/architecture_decision_record#adr-example-templates" rel="noopener ugc nofollow" target="_blank">这个资源库</a>。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2370" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">我们应该什么时候写ADR？</h1><p id="0ce2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">现在最大的问题是你什么时候应该写一份ADR。这很简单。大多数时候，你想去做——即使是很小的事情。</p><p id="e472" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的流程图将帮助您准确理解何时需要撰写ADR，但这几乎是所有的时间:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/2f362e881c5b395407355f5ee41213c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*hbjBDBZPWWXPjNonGdxGfA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><h2 id="1c1d" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">书写你的过去</h2><p id="b6bc" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">有时候，决定是在很久以前做出的。这是团队的标准，但每个新员工都会问为什么我们决定走这条路。这意味着你需要写一份ADR。</p><p id="2e18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">识别未记录的决策的一个好方法是在代码审查期间。如果有人没有遵循团队的标准，你应该有一个文档来解释为什么这是标准。如果没有，就要写了。</p><h2 id="bf00" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">提议大的改变</h2><p id="2a3e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当你提出大的改变时，最好记录下帮助你最终做出决定的过程。</p><p id="247b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您打开一份ADR草案(状态为<code class="fe nv nw nx ny b">IN PROGRESS</code>)，<em class="lv"> </em>本文档将帮助您记录最终决策的过程。所以你可以把你考虑过的所有解决方案和你为什么没有选择它们放在上面。</p><h2 id="7949" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">提议小改动/不改动</h2><p id="d0b2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当我们决定<em class="lv">而不是</em>改变某件事时，跟踪也非常重要。</p><p id="f37a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道记录什么都没有改变听起来很奇怪，但是如果你已经考虑过改变并决定不去做，写一份ADR来解释你为什么最终做出这个决定可能是好的。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="ebaa" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="1225" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">综上所述，我们可以说:“写出来或者从来没发生过！”</p></div></div>    
</body>
</html>