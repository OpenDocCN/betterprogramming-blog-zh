<html>
<head>
<title>How To Efficiently Display Data in Tables With React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React高效地显示表格中的数据</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-efficiently-display-data-in-tables-with-react-7e133bad5719?source=collection_archive---------0-----------------------#2021-06-16">https://betterprogramming.pub/how-to-efficiently-display-data-in-tables-with-react-7e133bad5719?source=collection_archive---------0-----------------------#2021-06-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="14ec" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用React Table为您的桌子增压</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fca632381d45d2e6b896245777a32ed9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NW-6fMWEkijP5dpk"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@xavierfoucrier?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Xavier Foucrier </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="f668" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，您将了解以下内容:</p><ul class=""><li id="ee9d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">什么是反应表以及何时使用它</li><li id="c015" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">呈现基本表格</li><li id="68ef" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">设计您的表格</li><li id="b25d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用React表库进行排序、过滤和分页</li><li id="c8a4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用React Table将数据从API显示到表中</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7ac3" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">介绍</h1><p id="9d98" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在普通的JSX生成表格已经很容易了。例如，要呈现一个简单的表，您可以编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="107b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这适合于呈现数据，但是请考虑这样一种情况，您必须显示来自API的数百条记录。此外，在此之后，您将不得不编写额外的代码来排序和过滤您的单元格。因此，这将使你的应用程序逻辑更加复杂，难以阅读。</p><p id="136e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是<a class="ae ky" href="https://react-table.tanstack.com/" rel="noopener ugc nofollow" target="_blank">反应表</a>的用武之地。这是一个久经考验的库，通过几个简单的步骤呈现大量数据，使您的工作变得更容易。除此之外，它还内置了对排序、过滤和分页的支持。这意味着你可以花更少的时间编写不必要的逻辑，花更多的时间优化或增加新应用的功能。</p><p id="eebf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然说了它的优点，那就开始吧！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="f765" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">入门指南</h1><h2 id="8fb3" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">项目初始化和设置</h2><p id="da46" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">要具体化React项目，请运行以下终端命令:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="b800" class="np mr it oc b gy og oh l oi oj">npx create-react-app table-tutorial</span></pre><p id="f7dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，安装react-table库，如下所示:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="2493" class="np mr it oc b gy og oh l oi oj">npm i react-table </span></pre><p id="98ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们现在写一些代码！为了尝试一下，我们将首先尝试渲染一个基本的表格。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="0ea3" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">反应表:基本用法</h1><h2 id="83df" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">简单渲染</h2><p id="b32d" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在本节中，我们将使用以下数据集:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/eff86ad5eaac82daa2b824cd166571d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hmlBopJZY_-Puy0kJQWf0w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://www.w3schools.com/html/html_tables.asp" rel="noopener ugc nofollow" target="_blank"> W3学校</a></p></figure><p id="fed4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe ol om on oc b">src</code>文件夹中，创建一个名为<code class="fe ol om on oc b">components</code>的目录。在<code class="fe ol om on oc b">components</code>中，创建一个名为<code class="fe ol om on oc b">BasicTable.js</code>的文件。</p><p id="4869" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe ol om on oc b">components/BasicTable.js</code>中，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="339c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们一点一点地解构代码。</p><ul class=""><li id="63ed" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第四行:我们的<code class="fe ol om on oc b">BasicTable</code>会接受两个道具<code class="fe ol om on oc b">columns</code>和<code class="fe ol om on oc b">data</code>。我们将通过这些道具加载数据集。</li><li id="53ab" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第7–13行:<code class="fe ol om on oc b"><a class="ae ky" href="https://react-table.tanstack.com/docs/api/useTable" rel="noopener ugc nofollow" target="_blank">useTable</a></code>钩子包含了一系列函数和数组，它们是我们显示记录所必需的。</li><li id="84b5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第14–15行:将我们的数据集传递给<code class="fe ol om on oc b">useTable</code>钩子。</li></ul><p id="7238" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们来呈现我们的表格UI。为此，在<code class="fe ol om on oc b">components/BasicTable.js</code>中添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="1493" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管这段代码看起来有些吓人，但它还是比较容易理解的。</p><ul class=""><li id="f861" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第3行:使用析构来传入我们的桌子道具。如果你想了解更多，巴哈伊·古勒·比尔吉已经写了一篇关于数组析构的<a class="ae ky" href="https://medium.com/swlh/javascript-array-destructuring-es6-ec6b0d70e83c" rel="noopener">文章</a>。</li><li id="faf9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第5–11行:告诉React Table呈现我们的标题。</li><li id="176e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第13行:再次使用析构将我们的道具传递给我们的<code class="fe ol om on oc b">tbody</code>。</li><li id="5793" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第18–23行:在这个部分呈现我们的记录。</li></ul><p id="a4aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在已经对表格的后端进行了编码。留给我们的就是用代码复制我们的数据集。</p><p id="989e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe ol om on oc b">App.js</code>中，编写下面的代码块:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><ul class=""><li id="80f2" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:创建标题。这里我们用的是<code class="fe ol om on oc b"><a class="ae ky" href="https://reactjs.org/docs/hooks-reference.html#usememo" rel="noopener ugc nofollow" target="_blank">React.useMemo</a></code>。这告诉React我们的数据并没有在每次渲染时被重新创建。因此，这将确保我们的应用程序保持优化。</li><li id="d47d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第18行:创建我们的数据值。</li></ul><p id="f33e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在需要将这些变量传递给我们的<code class="fe ol om on oc b">BasicTable</code>组件。在<code class="fe ol om on oc b">App.js</code>的<code class="fe ol om on oc b">return</code>块中，编写以下代码:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="4cee" class="np mr it oc b gy og oh l oi oj">return (<br/>  &lt;BasicTable columns={columns} data={data}/&gt;<br/>)</span></pre><p id="c305" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/ea44c8d020b237cde3c03b9c876d3216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*LyKITKh4jUWF_nGsYWEc7A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="397d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太神奇了！在下一节中，您将学习向该表添加CSS。</p><p id="6bb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，<code class="fe ol om on oc b">components/BasicTable.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="6d95" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">样式化表格</h2><p id="986d" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">向我们的<code class="fe ol om on oc b">BasicTable</code>组件添加样式是一个简单的过程。我们只需要通过props将CSS添加到我们的<code class="fe ol om on oc b">table</code>元素中。</p><p id="00c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe ol om on oc b">BasicTable.js</code>中，添加一个<code class="fe ol om on oc b">styles</code>对象，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="4be2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在<code class="fe ol om on oc b">components/BasicTable.js</code>中，找到您的<code class="fe ol om on oc b">return</code>块，并将其更改如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="0633" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些变化出现在第3行和第19行:</p><ul class=""><li id="4003" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第3行:将我们的<code class="fe ol om on oc b">thead</code>样式传递给我们的<code class="fe ol om on oc b">thead</code>元素。</li><li id="6120" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第19行:将我们的<code class="fe ol om on oc b">td</code>样式传递给我们的<code class="fe ol om on oc b">td</code>元素。</li></ul><p id="cccb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再次运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/f8aad0e9f0acf6dd99d635f844ce50aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*si4kbNXa3x1sNQKmIPj0fw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="8347" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的桌子现在看起来稍微好一点了！在下一节中，我们将学习如何构建一个包含排序功能的表。</p><p id="f3b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，<code class="fe ol om on oc b">BasicTable.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="4102" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">排序选项</h2><p id="5d13" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">借助React Table的强大功能，我们无需编写数百行代码就可以添加排序功能。</p><p id="ba11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在你的<code class="fe ol om on oc b">components</code>文件夹中，创建一个名为<code class="fe ol om on oc b">SortingTable.js</code>的文件。这里，从编写以下代码块开始:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="3f26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与<code class="fe ol om on oc b">BasicTable.js</code>相比，唯一的区别出现在第17行。</p><ul class=""><li id="2fdf" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第17行:我们将<code class="fe ol om on oc b">useSortBy</code>钩子作为<code class="fe ol om on oc b">useTable</code>中的参数之一传入。这意味着我们现在可以在表上实现行排序了。</li></ul><p id="3af6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在<code class="fe ol om on oc b">SortingTable.js</code>中编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="4012" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个代码块和<code class="fe ol om on oc b">BasicTable</code>类似，除了几行。</p><ul class=""><li id="0cc3" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第7行:这个函数将告诉React在单击时对表中的列进行排序。</li><li id="2170" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第10行:检查React Table当前是否正在对表进行排序。如果是，则显示一个可视指示器。</li></ul><p id="88a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在需要向DOM显示我们的<code class="fe ol om on oc b">SortingTable</code>组件。为此，转到<code class="fe ol om on oc b">App.js</code>并像这样改变<code class="fe ol om on oc b">return</code>块:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="cdc1" class="np mr it oc b gy og oh l oi oj">return (<br/>  &lt;SortedTable columns={columns} data={data} /&gt;<br/>);</span></pre><p id="0cb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完事了。运行代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/fcbe827101a92ea3cd7d21719de459fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/1*Nls1FIoY6SLMWoGmlpyGYA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="5e7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这毕竟不是很难！在下一节中，我们将执行全局过滤。</p><p id="b040" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，<code class="fe ol om on oc b">SortingTable.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="d42b" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">全局过滤</h2><p id="f50d" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">使用全局过滤，过滤器被应用于表中的所有列。例如，如果您搜索字符串<code class="fe ol om on oc b">hello</code>，React将返回任何包含字符串<code class="fe ol om on oc b">hello</code>的列的结果。</p><p id="1780" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe ol om on oc b">components</code>文件夹中，创建一个名为<code class="fe ol om on oc b">GlobalFilter.js</code>的新文件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="3c5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，这是一个标准的React组件。</p><ul class=""><li id="073f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第5行:我们的<code class="fe ol om on oc b">input</code>组件的默认值应该是<code class="fe ol om on oc b">filter</code>属性的值。如果用户写了一些文本，那么调用<code class="fe ol om on oc b">setFilter</code>方法。</li></ul><p id="dbc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在你的<code class="fe ol om on oc b">components</code>文件夹中，创建一个名为<code class="fe ol om on oc b">FilterTable.js</code>的文件。在这里，写下这段代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="7d8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该准则的要点是:</p><ul class=""><li id="5db6" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第13行和第14行:我们已经执行了对象析构来获取<code class="fe ol om on oc b">state</code>和<code class="fe ol om on oc b">setGlobalFilter</code>函数。<code class="fe ol om on oc b">state</code>变量包含表的状态，而<code class="fe ol om on oc b">setGlobalFilter</code>更新我们的过滤器值。</li><li id="f827" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第22行:从<code class="fe ol om on oc b">state</code>变量中提取<code class="fe ol om on oc b">globalFilter</code>。这将返回当前的过滤器值。</li><li id="a634" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第30行:使用<code class="fe ol om on oc b">GlobalFilter</code>组件在表上应用和修改过滤器。</li></ul><p id="41d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们快完成了！要在您的应用程序中使用它，请转到<code class="fe ol om on oc b">App.js</code>并编写以下代码:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="1088" class="np mr it oc b gy og oh l oi oj">return (<br/>  &lt;FilterTable column={columns} data={data}/&gt;<br/>);</span></pre><p id="e080" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/00dbfd308c272232540feb8abd1ad89d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/1*g3Ceh0KI8k2riGqMjr-SvQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="34ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！我们的产量和预期的一样。现在是时候使用基于列的过滤了。</p><h2 id="a72f" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">列过滤</h2><p id="4b04" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">通过列过滤，我们可以从特定的列中搜索数据。</p><p id="5f0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe ol om on oc b">components</code>目录中，创建一个名为<code class="fe ol om on oc b">ColumnFilter.js</code>的组件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="440f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个街区的几个要点:</p><ul class=""><li id="526f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第2行:从<code class="fe ol om on oc b">column</code>对象中提取<code class="fe ol om on oc b">filterValue</code>、<code class="fe ol om on oc b">setFilter</code>和<code class="fe ol om on oc b">preFilteredRows</code>变量。</li><li id="f29b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第3行:<code class="fe ol om on oc b">count</code>变量包含结果的总数。</li></ul><p id="9fb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们现在使用它。在您的<code class="fe ol om on oc b">FilterTable.js</code>文件中，添加<code class="fe ol om on oc b">useFilter</code>导入:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="d996" class="np mr it oc b gy og oh l oi oj">import { useGlobalFilter, useTable, useFilters } from "react-table";</span></pre><p id="cb0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在<code class="fe ol om on oc b">FilterTable.js</code>中编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="76cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前最大的变化是:</p><ul class=""><li id="6ddb" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第4行:告诉React Table我们的默认过滤器将是<code class="fe ol om on oc b">ColumnFilter</code>组件。</li><li id="759a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第26行:<code class="fe ol om on oc b">useFilters</code>钩子将允许我们应用基于列的过滤。</li></ul><p id="ffbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一步，修改<code class="fe ol om on oc b">FilterTable.js</code>中的<code class="fe ol om on oc b">return</code>块，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><ul class=""><li id="43d8" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第11行:如果该列具有过滤能力，那么呈现我们的过滤器功能。在这种情况下，它是<code class="fe ol om on oc b">ColumnFilter</code>组件。</li></ul><p id="1d1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/375ca09c06f90c34dc353eb9e7a4f22d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/1*Y2k51LsJZWyMtqcPDId_Dw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="0ff0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在是时候学习分页了。</p><p id="1c1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最终，修改后的<code class="fe ol om on oc b">FilterTable.js</code>文件应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="0124" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">页码</h2><p id="4626" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在某些情况下，您必须将数千条记录呈现在一个表中。为了让您的界面看起来更好，您可以应用分页。这样，您可以显示所有数据，而不会占用太多空间。</p><p id="2e0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为<code class="fe ol om on oc b">PaginationTable</code>的文件，并在其中编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="2853" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个文件类似于<code class="fe ol om on oc b">BasicTable.js</code>的文件。最大的区别是:</p><ul class=""><li id="788b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第10行:这一次，我们提取的是<code class="fe ol om on oc b">page</code>而不是<code class="fe ol om on oc b">rows</code>。<code class="fe ol om on oc b">page</code>属性检索表的页数。</li><li id="63c7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第11–12行:<code class="fe ol om on oc b">nextPage</code>和<code class="fe ol om on oc b">previousPage</code>是改变页码的功能。</li><li id="bf9e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第13–14行:<code class="fe ol om on oc b">canNextPage</code>和<code class="fe ol om on oc b">canPrevious</code>页是<code class="fe ol om on oc b">boolean</code>值。它们向用户指示它们是在第一页还是最后一页。</li><li id="4748" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第20行:告诉React我们每页只需要两个条目。</li><li id="605d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第22行:<code class="fe ol om on oc b">usePagination</code>钩子将构建分页功能。</li></ul><p id="8f7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们剩下的工作就是显示表格界面。为此，在<code class="fe ol om on oc b">PaginationTable.js</code>中添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><ul class=""><li id="e739" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第26行:单击时，将用户带到上一页。如果用户在第一页，则禁用此按钮。</li><li id="d9ad" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第29行:单击时，将用户带到下一页。如果用户无法继续操作，则禁用此按钮。</li></ul><p id="d754" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完事了。这将是以下代码的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/c11e58792e7f27ceca5cd0c88e3d8499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/1*DT604odrY7sSY4tZ2ZOAAA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="abe7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太神奇了！在下一节中，您将学习如何对API获取的数据使用React Table。</p><p id="058c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，<code class="fe ol om on oc b">PaginationTable.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="942a" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">将React表与API一起使用</h2><p id="4e73" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在本节中，我们将从<a class="ae ky" href="https://sampleapis.com/api-list/coffee" rel="noopener ugc nofollow" target="_blank"> Coffee API </a>中获取数据。在写一些代码之前，我们先来分析一下数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/f9f9a7d9a77cec208f593dae0424cf70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*754hgx5dDdZQvOISbtSoJg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自API的数据</p></figure><p id="1170" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，服务器返回三列:<code class="fe ol om on oc b">title</code>、<code class="fe ol om on oc b">description</code>和<code class="fe ol om on oc b">ingredients</code>。</p><p id="65c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe ol om on oc b">components</code>文件夹中，创建一个名为<code class="fe ol om on oc b">TableWithAPI.js</code>的文件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><ul class=""><li id="5488" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第6行:<code class="fe ol om on oc b">cells</code>钩子将包含我们的API数据。</li><li id="5096" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第8行:从Coffee API获取响应，并将其存储在<code class="fe ol om on oc b">cells</code>钩子中。</li><li id="2107" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第13行:创建我们的标题。</li><li id="4420" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第34行:存储我们的<code class="fe ol om on oc b">cells</code>数据，这样我们就可以用它来呈现我们的表格。</li><li id="f165" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第36行:最后，呈现表格并传入标题和单元格值。</li></ul><p id="dce6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/39ff5e91da20f62ece16722b0cca569e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/1*F8yt9INP4CHwbff4UkYA4A.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="f33b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完事了。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="a023" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">额外资源</h1><h2 id="e85c" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">GitHub知识库</h2><p id="da9b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">此项目的所有<a class="ae ky" href="https://github.com/HussainArif12/react-table-tutorial/tree/main/src" rel="noopener ugc nofollow" target="_blank">源代码</a></p><h2 id="4649" class="np mr it bd ms nq nr dn mw ns nt dp na li nu nv nc lm nw nx ne lq ny nz ng oa bi translated">进一步阅读</h2><ul class=""><li id="5a84" class="lv lw it lb b lc ni lf nj li ow lm ox lq oy lu ma mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/an-introduction-to-react-table-6ebd34d8059e">介绍反应过来表</a>作者<a class="oo op ep" href="https://medium.com/u/faf2e58f3d28?source=post_page-----7e133bad5719--------------------------------" rel="noopener" target="_blank">詹妮弗·傅</a></li><li id="a900" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://blog.logrocket.com/complete-guide-building-smart-data-table-react/" rel="noopener ugc nofollow" target="_blank"> React Table:带示例的完整教程</a></li><li id="e43d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.youtube.com/playlist?list=PLC3y8-rFHvwgWTSrDiwmUsl4ZvipOw9Cz" rel="noopener ugc nofollow" target="_blank">协同进化反应表教程播放列表</a></li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ffce" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="8783" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">虽然React表库乍一看似乎令人生畏，但实际上它很容易设置和使用。用最少的代码，我们能够设置分页、排序和过滤工具。此外，这个库的大小很小，因此减少了程序的膨胀。正因为如此，像亚马逊、沃尔玛和苹果这样的大公司利用它来增强他们的网站。</p><p id="6efe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢您的阅读！</p></div></div>    
</body>
</html>