<html>
<head>
<title>How to Easily Load Test Serverless Apps With Postman and AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Postman和AWS轻松加载测试无服务器应用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-easily-load-test-serverless-apps-with-postman-and-aws-912de7f1f7e0?source=collection_archive---------3-----------------------#2020-07-28">https://betterprogramming.pub/how-to-easily-load-test-serverless-apps-with-postman-and-aws-912de7f1f7e0?source=collection_archive---------3-----------------------#2020-07-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5a76" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">负载测试应该需要几天，而不是几周。我们有现成的工具…免费的</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4e73875ff039a3f0c50a6879466834f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tbO9YHLPkNubsiSg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">丹·弗里曼在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="2f23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你向一个软件工程师提到负载测试时，十有八九你会看到他们脸上有一丝畏缩。为什么？因为历史上，负载测试是痛苦的。</p><p id="5b59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建自动化测试脚本是单调乏味的，开发人员在最初的构建过程中没有考虑到大规模的性能，并且没有人知道如何解决由此产生的问题。</p><p id="e077" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">听起来像是一场灾难。不可避免的灾难，但还是一团糟。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/3168896c5b6159a932b5616910214030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XOGseQYk7KmoaHr3"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@matthewhenry?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马太·亨利</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="f977" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入无服务器。如果你已经用FaaS(作为服务的功能)开发了你的应用，你很幸运。你可能已经知道AWS Lambda的许多好处，但是你现在也可以在上面添加<em class="lw">易负载测试</em>。</p><p id="7148" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无服务器应用背后的一个核心原则是API第一，这意味着你能够通过端点充分运用系统。为了加载测试，您所需要的只是一种将这些请求链接在一起以构建您的测试脚本的方法。</p><p id="a778" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你有了你的测试脚本，你需要一个工具来大规模运行它们。我们在AWS的好朋友为我们提供了这样一个工具。</p><p id="5c83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您需要能够在负载测试运行时监控系统健康。你猜怎么着？AWS也让我们了解了这一点。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="15da" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">使用Postman来构建您的测试脚本</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/a9fd086a31329d88bec20e20677589e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GbNU0zQ9HjcxIVcU"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@scienceinhd?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">科学高清照片</a>上<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="67fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">邮差将作为你的脚本生成器。您应该有一组您希望看到在负载下执行的业务流程，Postman将帮助协调这些流程。</p><p id="bac8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您已经使用了Postman并构建了贯穿业务流程的<a class="ae ky" href="https://www.postman.com/collection/" rel="noopener ugc nofollow" target="_blank">集合</a>——太好了！您可以使用它们，无需任何额外的设置。如果您没有，我强烈推荐您使用<a class="ae ky" href="https://www.postman.com/product/postman-interceptor/" rel="noopener ugc nofollow" target="_blank"> Postman Interceptor </a>并浏览一些业务流程。</p><p id="6ce9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">拦截器将记录所有通过您的浏览器发出的请求，留给您一个集合，该集合与您的应用程序完全一样。之后你所要做的就是参数化请求(如果必要的话),这样它们就可以正确地<a class="ae ky" href="https://blog.postman.com/extracting-data-from-responses-and-chaining-requests/" rel="noopener ugc nofollow" target="_blank">链接在一起</a>进行多次运行。</p><p id="7fc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您根据自己的喜好配置了集合后，将其作为集合v2.1导出到JSON。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/362db74b77af0b8b3db70f7339c34f96.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*J4JRZDoCztEh3OmSmfCijQ.png"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="dbe5" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">配置负载测试工具</h1><p id="215d" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我们将使用AWS创建的<a class="ae ky" href="https://aws.amazon.com/solutions/implementations/distributed-load-testing-on-aws/" rel="noopener ugc nofollow" target="_blank">负载测试机制</a>。开箱即用，它不支持Postman集合，但我们可以通过Postman的CLI快速修改它以运行集合— <a class="ae ky" href="https://learning.postman.com/docs/running-collections/using-newman-cli/command-line-integration-with-newman/" rel="noopener ugc nofollow" target="_blank"> Newman </a>。</p><p id="ea5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">按照网页上的部署说明将负载测试资源堆栈部署到您的AWS帐户中。当栈正在部署时，我们可以进行支持Postman所需的代码修改。</p><p id="bb8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为AWS负载测试工具克隆<a class="ae ky" href="https://github.com/awslabs/distributed-load-testing-on-aws" rel="noopener ugc nofollow" target="_blank"> GitHub存储库</a>并导航到<code class="fe nd ne nf ng b">.\source\container</code>文件夹。接下来，执行以下步骤:</p><ol class=""><li id="11ec" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu nm nn no np bi translated">将导出的Postman集合JSON添加到文件夹中。</li><li id="315c" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu nm nn no np bi translated">添加一个名为<code class="fe nd ne nf ng b">test.json</code>的新文件，内容如下:</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="b1c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以将第5行的<code class="fe nd ne nf ng b">iterations</code>中的值更改为您希望收集运行的次数。</p><p id="765d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第11行的<code class="fe nd ne nf ng b">script</code>值将是您从Postman导出的集合的名称。</p><p id="bf6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.更新<code class="fe nd ne nf ng b">Dockerfile</code>以包含新的JSON文件</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="ec23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至此，我们完成了对源代码的编辑。现在我们需要将我们的变更推进到ECS中。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="72dd" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">更新AWS中的负载测试</h1><p id="9524" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">到目前为止，我们部署到AWS中的堆栈应该已经完成了。我们现在可以进入<a class="ae ky" href="https://console.aws.amazon.com/ecs/home" rel="noopener ugc nofollow" target="_blank"> ECS服务</a>并导航到页面左侧的Amazon ECR Repositories链接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/7bf9c24b9311c2d37518b63b1dc98d57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FV3n1kfX5qz6I7Rdb8rSUQ.png"/></div></div></figure><p id="1cce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的列表中选择负载测试存储库，以显示图像列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/3bf0263d4f1bb3970946c5e74018053c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_9Xd7LYFZxDgurjeL19gaw.png"/></div></div></figure><p id="a936" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，您想要点击右上角的<code class="fe nd ne nf ng b">View push commands</code>按钮来获得一组特定于您的存储库的命令。给出了四个命令来用我们的更改更新存储库。</p><p id="1434" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本地机器上，打开命令提示符并导航到<code class="fe nd ne nf ng b">.\source\container</code>文件夹。复制并粘贴AWS给您的四个命令，以便更新图像。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/306b2cd949dfd2460b0e5df1ce93ab87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmJvlKBz48-eWrF3c15j1g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">注意:如果您需要对映像进行多次更改，请确保在步骤2的命令末尾添加'— no-cache '。</p></figure><p id="c9e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">命令运行完毕后，我们就可以运行测试了！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="8ac8" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">运行负载测试</h1><p id="9a16" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">在堆栈完成部署之后，您应该会收到一封电子邮件，其中包含用户名、密码和负载测试仪表板的链接。找到那封邮件，点击控制台链接，用给定的凭证登录。</p><p id="c904" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击页面顶部的<code class="fe nd ne nf ng b">Create Test</code>按钮，导航到负载测试设置。在名称、描述和任务计数字段中填入测试所需的值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/1887bfeddcc7e0857f3e0c69c12e99b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zg5f1TUJrxxzuTnYNaaK4A.png"/></div></div></figure><p id="7a89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们对<code class="fe nd ne nf ng b">Dockerfile</code>和<code class="fe nd ne nf ng b">test.json</code>的修改使得<em class="lw">并发</em>、<em class="lw">上升</em>、<em class="lw">等待</em>和<em class="lw">测试中的HTTP端点</em>字段变得无用，但是它们仍然是提交表单所必需的。只需在字段中填入您想要的任何值—当您点击提交时，这些值将被忽略。</p><p id="543b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lw">任务计数</em>字段将在您的集群中旋转X数量的容器来运行您的收集。Fargate一次最多只能运行100个容器，但是这个表单最多只能运行50个。如果您希望将吞吐量增加到100，您可以打开浏览器开发工具，将限制从50更改为100。</p><p id="ec9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你点击提交按钮，它将旋转所有的容器，并开始执行你的邮差收集！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="7703" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">监视</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/c8f5ea5b1f29ac51af3b01aa565a1cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cMZY_WL_DTsk6egC"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@cspek?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克里斯·阮</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="b1ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当负载测试运行时，您需要监控应用程序的性能。对于无服务器应用，我们希望关注两个方面:</p><ul class=""><li id="ccf6" class="nh ni it lb b lc ld lf lg li nj lm nk lq nl lu oc nn no np bi translated">基础设施如何扩展</li><li id="0bda" class="nh ni it lb b lc nq lf nr li ns lm nt lq nu lu oc nn no np bi translated">您的代码如何处理缩放</li></ul><p id="4243" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我们可以制作两个CloudWatch图来进行实时监控。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="df17" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated"><strong class="ak">基础设施扩展</strong></h1><p id="31e2" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我们想全面了解一下API Gateway和Lambda函数。如果我们的应用程序不能优雅地处理负载，我们将得到节流事件，应用程序将变得缓慢和无响应。</p><p id="b4cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://console.aws.amazon.com/cloudwatch/home" rel="noopener ugc nofollow" target="_blank"> Cloudwatch </a>中，导航至指标控制台。点击所有职能部门的Lambda指标&gt;。您想要启用<em class="lw">并发执行</em>、<em class="lw">持续时间</em>、<em class="lw">错误</em>、<em class="lw">调用</em>和<em class="lw">节流</em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/3b128bac4bb6b2ee4c325738d2c9e282.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_WD4f09G3B_V23rtLbXwaw.png"/></div></div></figure><p id="a739" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们要查看ApiGateway &gt;跨所有API &gt;计数指标。</p><p id="8793" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击图表化指标选项卡，并更改统计类型和周期以匹配下图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/f4a9faaa5bba8f38a3e4fc18b98c265e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bu8oz7pmToxsGgpBUF5m_w.png"/></div></div></figure><p id="7f7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就基础设施扩展而言，这将涵盖大部分无服务器应用程序。如果您使用其他AWS服务，请随意添加其他指标。图表将实时更新，向您显示所有这些统计数据的值。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="e704" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated"><strong class="ak">应用缩放</strong></h1><p id="132f" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">您还想看看您的应用程序在测试期间是否抛出了任何错误。由于系统是通过API Gateway运行的，我们希望监控API消息的响应。</p><p id="4057" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一个新的CloudWatch图中，您想要查看所有API的<code class="fe nd ne nf ng b">4XXError</code>和<code class="fe nd ne nf ng b">5XXError</code>指标。点击ApiGateway &gt;的Api名称&gt;过滤<code class="fe nd ne nf ng b">4xx</code>，选择所有结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/a0862c86224f18b2891305ca4fa0b100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YX13UoF2fyus227WIqVpxQ.png"/></div></div></figure><p id="eab3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">取下过滤器，对<code class="fe nd ne nf ng b">5XX</code>进行同样的操作。</p><p id="aa4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您遇到lambda函数使用的AWS服务的任何节流问题，它们必定会通过您的API出现400或500响应。</p><p id="861a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两个图表将向您展示无服务器应用程序在负载测试中的运行状况。如果您看到错误开始出现，您可以修改图形以显示特定的lambda函数，并开始深入研究日志。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="d537" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">结论</h1><p id="5b68" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">负载测试不一定很难。您希望看到您的应用程序在规模上是否像在开发环境中一样无缝地运行。</p><p id="eca8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Postman使您能够通过浏览器记录和回放您的业务流程。这是该领域将要做的工作的一对一副本。</p><p id="3df0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AWS使您能够扩展回放，并以每分钟数千个请求的速度访问您的应用程序。它还为您提供了一种机制来查看应用程序的运行状况，因为它可以根据工作负载进行调整。</p><p id="a68d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最重要的是，当你完成了负载测试，你就对你的应用程序的运行成本有了一个很好的了解。正如我以前写过的，<a class="ae ky" href="https://medium.com/better-programming/5-steps-to-making-a-predictable-cost-model-for-aws-serverless-projects-78d78909bb82" rel="noopener">预测无服务器成本可能很困难</a>，但这可以被视为事实的来源。使用生产工作负载测试系统，并通过AWS计费服务查看成本明细。</p><p id="18c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要跳过负载测试。当你的应用达到黄金时段时，你需要知道它将会执行。你已经做出了正确的选择，选择无服务器构建你的应用。让我们在它上面打个蝴蝶结，证明它在规模上的表现有多好。</p><p id="eda7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">玩得开心！</p></div></div>    
</body>
</html>