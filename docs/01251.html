<html>
<head>
<title>How To Add Localization and Translation to Your Vue.js App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将本地化和翻译添加到您的Vue.js应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-add-localization-and-translation-to-your-vue-js-app-dc4ad2b6c3e8?source=collection_archive---------4-----------------------#2019-08-27">https://betterprogramming.pub/how-to-add-localization-and-translation-to-your-vue-js-app-dc4ad2b6c3e8?source=collection_archive---------4-----------------------#2019-08-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="641d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建一个以英语和法语显示纽约时报API数据的应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/14982b9c1ed53899dc17a6f09be3a4eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*WV6DUN8-Tf0uWMPneDPt2A.jpeg"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">由<a class="ae ku" href="https://unsplash.com/@pakata" rel="noopener ugc nofollow" target="_blank"> Pakata Goh </a>在<a class="ae ku" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="006c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Vue.js通过附加包支持本地化和翻译。最流行的一个是<code class="fe lr ls lt lu b">vue-i18n</code>库，它直接挂在你的Vue.js应用上。</p><p id="08e0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在这个故事中，我们将构建一个应用程序，用英语和法语显示来自纽约时报API的数据。你可以在<a class="ae ku" href="https://developer.nytimes.com/" rel="noopener ugc nofollow" target="_blank">https://developer.nytimes.com/</a>注册一个API密钥。之后，我们可以开始构建应用程序。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7402" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装Vue CLI</h1><p id="8434" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">要开始构建应用程序，我们必须安装Vue CLI。我们通过运行以下命令来实现这一点:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="2996" class="nd md it lu b gy ne nf l ng nh">npm install -g @vue/cli</span></pre><p id="2c95" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">运行Vue CLI需要Node.js 8.9或更高版本。我没能让Vue CLI在Windows版本的Node.js上运行，不过Ubuntu帮我运行Vue CLI没有问题。</p><p id="49db" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后我们运行:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="d914" class="nd md it lu b gy ne nf l ng nh">vue create vue-material-nyt-app</span></pre><p id="1963" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这将创建项目文件夹和文件。在向导中，我们不使用默认选项，而是选择“手动选择功能”然后，我们从选项列表中选择Babel、Router和Vuex，按下每个选项上的“space”。如果它们是绿色的，那意味着它们被选中了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="eac4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装库</h1><p id="a1d6" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">现在我们需要安装一些库。我们需要安装一个HTTP客户端，一个用于格式化日期的库，一个用于从对象生成GET查询字符串，另一个用于表单验证。另外，我们需要安装Vue素材库本身。我们通过运行以下命令来实现这一点:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="d3c1" class="nd md it lu b gy ne nf l ng nh">npm i axios moment querystring vee-validate vue-material vue-i18n</span></pre><p id="5b63" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><code class="fe lr ls lt lu b">axios</code>是我们的HTTP客户端，<code class="fe lr ls lt lu b">moment</code>是操纵日期，<code class="fe lr ls lt lu b">querystring</code>是从对象生成查询字符串，<code class="fe lr ls lt lu b">vee-validate</code>是Vue.js做验证的附加包，<code class="fe lr ls lt lu b">vue-material</code>是我们的材料设计库。<code class="fe lr ls lt lu b">vue-i18n</code>，正如我们提到的，是Vue.js应用程序的翻译库。</p><p id="894f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在我们已经安装了所有的库，我们可以开始构建我们的应用程序了。首先，我们创建一些组件。在<code class="fe lr ls lt lu b">views</code>文件夹中，我们创建<code class="fe lr ls lt lu b">Home.vue</code>和<code class="fe lr ls lt lu b">Search.vue</code>。这些是我们页面的代码文件。</p><p id="a919" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后，创建一个<code class="fe lr ls lt lu b">mixins</code>文件夹和一个名为<code class="fe lr ls lt lu b">nytMixin.js</code>的文件。Mixins是代码片段，可以直接集成到我们的Vue.js组件中，就像直接在组件中一样使用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="344f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">向应用程序添加过滤器和翻译</h1><p id="a715" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">然后，我们添加一些过滤器。过滤器是从一件事映射到另一件事的Vue.js代码。我们创建一个<code class="fe lr ls lt lu b">filters</code>文件夹，并添加<code class="fe lr ls lt lu b">capitalize.js</code>和<code class="fe lr ls lt lu b">formatDate.js</code>。然后，在<code class="fe lr ls lt lu b">components</code>文件夹中，我们创建一个名为<code class="fe lr ls lt lu b">SearchResults.vue</code>的文件。<code class="fe lr ls lt lu b">components</code>文件夹包含不是页面的Vue.js组件。</p><p id="8542" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，我们需要在我们的应用程序中添加翻译。为此，我们在项目中创建一个<code class="fe lr ls lt lu b">translations</code>文件夹。然后，我们为英语和法语翻译分别创建名为<code class="fe lr ls lt lu b">en.js</code>和<code class="fe lr ls lt lu b">fr.js</code>的文件。</p><p id="1c9c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在<code class="fe lr ls lt lu b">en.js</code>中，我们把:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="1fb1" class="nd md it lu b gy ne nf l ng nh">export const ENGLISH_TRANSLATIONS = {<br/>    text: {<br/>        nyt_app: 'New York Times App with Translations',<br/>        home: 'Home',<br/>        search: 'Search',<br/>        date: 'Date',<br/>        sections: 'Section | Sections',<br/>        link: 'Link',<br/>        arts: 'arts',<br/>        automobiles: 'automobiles',<br/>        books: 'books',<br/>        business: 'business',<br/>        fashion: 'fashion',<br/>        food: 'food',<br/>        health: 'health',<br/>        insider: 'insider',<br/>        magazine: 'magazine',<br/>        movies: 'movies',<br/>        national: 'national',<br/>        nyregion: 'nyregion',<br/>        obituaries: 'obituaries',<br/>        opinion: 'opinion',<br/>        politics: 'politics',<br/>        realestate: 'realestate',<br/>        science: 'science',<br/>        sports: 'sports',<br/>        sundayreview: 'sundayreview',<br/>        technology: 'technology',<br/>        theater: 'theater',<br/>        tmagazine: 'tmagazine',<br/>        travel: 'travel',<br/>        upshot: 'upshot',<br/>        world: 'world',<br/>        english: 'English',<br/>        french: 'French',<br/>        begin_date: 'Begin Date',<br/>        end_date: 'End Date',<br/>        sort_by: 'Sort By',<br/>        newest: 'Newest',<br/>        oldest: 'Oldest',<br/>        relevance: 'Relevance',<br/>        keyword: 'Keyword'<br/>    }<br/>};</span></pre><p id="fa1d" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在<code class="fe lr ls lt lu b">fr.js</code>中，我们把:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="9736" class="nd md it lu b gy ne nf l ng nh">export const FRENCH_TRANSLATIONS = {<br/>    text: {<br/>        nyt_app: 'New York Times App avec des traductions',<br/>        home: 'Accueil',<br/>        search: 'Chercher',<br/>        date: 'Rendez-vous amoureux',<br/>        sections: 'Section | Section',<br/>        link: 'Lien',<br/>        arts: 'Arts',<br/>        automobiles: 'Les automobiles',<br/>        books: 'Livres',<br/>        business: 'Entreprise',<br/>        fashion: 'Mode',<br/>        food: 'Aliments',<br/>        health: 'Santé',<br/>        insider: 'Initié',<br/>        magazine: 'Magazine',<br/>        movies: 'Films',<br/>        national: 'National',<br/>        nyregion: 'La région de New York',<br/>        obituaries: 'Notices nécrologiques',<br/>        opinion: 'Opinion',<br/>        politics: 'Politics',<br/>        realestate: 'Immobilier',<br/>        science: 'Science',<br/>        sports: 'Des sports',<br/>        sundayreview: 'Avis dimanche',<br/>        technology: 'La technologie',<br/>        theater: 'Théâtre',<br/>        tmagazine: 'T magazine',<br/>        travel: 'Voyage',<br/>        upshot: 'Résultat',<br/>        world: 'Monde',<br/>        english: 'Anglais',<br/>        french: 'Français',<br/>        begin_date: 'Date de début',<br/>        end_date: 'Date de fin',<br/>        sort_by: 'Trier par',<br/>        newest: 'Plus récent',<br/>        oldest: 'Le plus vieux',<br/>        relevance: 'Pertinence',<br/>        keyword: 'Mot-clé'<br/>    }<br/>};</span></pre><p id="82ef" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">注意</strong>:翻译来自谷歌翻译，因此可能不是100%准确。</p><p id="d4ee" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们还必须设置英语和法语的日期格式、月份名称和星期名称。为此，我们创建一个名为<code class="fe lr ls lt lu b">datepickerLocales</code>的新文件夹。然后，在这个文件夹中，我们分别创建两个名为<code class="fe lr ls lt lu b">en.js</code>和<code class="fe lr ls lt lu b">fr.js</code>的文件。</p><p id="2f15" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在<code class="fe lr ls lt lu b">datepickerLocales/en.js</code>中，我们输入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="f7f6" class="nd md it lu b gy ne nf l ng nh">export const ENGLISH_DATEPICKER_LOCALE = {<br/>    // range for datepicker<br/>    startYear: 1900,<br/>    endYear: 2099,</span><span id="7de5" class="nd md it lu b gy ni nf l ng nh">// date format for date picker<br/>    dateFormat: "yyyy-MM-dd",</span><span id="3277" class="nd md it lu b gy ni nf l ng nh">// i18n strings<br/>    days: [<br/>      "Sunday",<br/>      "Monday",<br/>      "Tuesday",<br/>      "Wednesday",<br/>      "Thursday",<br/>      "Friday",<br/>      "Saturday"<br/>    ],<br/>    shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],<br/>    shorterDays: ["S", "M", "T", "W", "T", "F", "S"],<br/>    months: [<br/>      "January",<br/>      "February",<br/>      "March",<br/>      "April",<br/>      "May",<br/>      "June",<br/>      "July",<br/>      "August",<br/>      "September",<br/>      "October",<br/>      "November",<br/>      "December"<br/>    ],<br/>    shortMonths: [<br/>      "Jan",<br/>      "Feb",<br/>      "Mar",<br/>      "Apr",<br/>      "May",<br/>      "June",<br/>      "July",<br/>      "Aug",<br/>      "Sept",<br/>      "Oct",<br/>      "Nov",<br/>      "Dec"<br/>    ],<br/>    shorterMonths: [<br/>      "J",<br/>      "F",<br/>      "M",<br/>      "A",<br/>      "M",<br/>      "Ju",<br/>      "Ju",<br/>      "A",<br/>      "Se",<br/>      "O",<br/>      "N",<br/>      "D"<br/>    ],</span><span id="353b" class="nd md it lu b gy ni nf l ng nh">// `0` stand for Sunday, `1` stand for Monday<br/>    firstDayOfAWeek: 0<br/>  };</span></pre><p id="f866" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在<code class="fe lr ls lt lu b">fr.js</code>中，我们输入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="a84b" class="nd md it lu b gy ne nf l ng nh">export const FRENCH_DATEPICKER_LOCALE = {<br/>    // range for datepicker<br/>    startYear: 1900,<br/>    endYear: 2099,</span><span id="6f56" class="nd md it lu b gy ni nf l ng nh">// date format for date picker<br/>    dateFormat: "yyyy-MM-dd",</span><span id="2da9" class="nd md it lu b gy ni nf l ng nh">// i18n strings<br/>    days: [<br/>        "Dimanche",<br/>        "Lundi",<br/>        "Mardi ",<br/>        "Mercredi ",<br/>        "Jeudi",<br/>        "Vendredi ",<br/>        "Samedi "<br/>    ],<br/>    shortDays: ["Dim", "Lun", "Mar", "Mer", "Jeu", "Ven", "Sam"],<br/>    shorterDays: ["Di", "Lu", "Ma", "Me", "Je", "Ve", "Sa"],<br/>    months: [<br/>        "janvier",<br/>        "février",<br/>        "mars",<br/>        "avril",<br/>        "mai",<br/>        "juin",<br/>        "juillet",<br/>        "août",<br/>        "septembre",<br/>        "octobre",<br/>        "novembre",<br/>        "décembre"<br/>    ],<br/>    shortMonths: [<br/>        "Janv",<br/>        "Févr",<br/>        "Mars",<br/>        "Avr",<br/>        "Mai",<br/>        "Juin",<br/>        "Juil",<br/>        "Août",<br/>        "Sept",<br/>        "Oct",<br/>        "Nov",<br/>        "Déc"<br/>    ],<br/>    shorterMonths: [<br/>        "J",<br/>        "F",<br/>        "M",<br/>        "A",<br/>        "M",<br/>        "Ju",<br/>        "Ju",<br/>        "A",<br/>        "Se",<br/>        "O",<br/>        "N",<br/>        "D"<br/>    ],</span><span id="1590" class="nd md it lu b gy ni nf l ng nh">// `0` stand for Sunday, `1` stand for Monday<br/>    firstDayOfAWeek: 0<br/>};</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bfd6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用Vuex进行状态管理</h1><p id="e4e3" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">为了使组件之间的数据传递更容易、更有组织，我们使用Vuex进行状态管理。因为我们在运行<code class="fe lr ls lt lu b">vue create</code>时选择了Vuex，所以我们的项目文件夹中应该有一个<code class="fe lr ls lt lu b">store.js</code>。如果没有，就创建它。在<code class="fe lr ls lt lu b">store.js</code>中，我们输入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="6f5e" class="nd md it lu b gy ne nf l ng nh">import Vue from 'vue'<br/>import Vuex from 'vuex'</span><span id="4ac0" class="nd md it lu b gy ni nf l ng nh">Vue.use(Vuex)</span><span id="f8a7" class="nd md it lu b gy ni nf l ng nh">export default new Vuex.Store({<br/>  state: {<br/>    searchResults: []<br/>  },<br/>  mutations: {<br/>    setSearchResults(state, payload) {<br/>      state.searchResults = payload;<br/>    }<br/>  },<br/>  actions: {</span><span id="9619" class="nd md it lu b gy ni nf l ng nh">  }<br/>})</span></pre><p id="b0d3" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><code class="fe lr ls lt lu b">state</code>对象是存储状态的地方。对象是我们可以操纵自己状态的地方。当我们在代码中调用<code class="fe lr ls lt lu b">this.$store.commit(“setSearchResults”, searchResults)</code>时，假设<code class="fe lr ls lt lu b">searchResults</code>被定义，那么<code class="fe lr ls lt lu b">state.searchResults</code>将被设置为<code class="fe lr ls lt lu b">searchResults</code>。然后我们可以使用<code class="fe lr ls lt lu b">this.$store.state.searchResults</code>得到结果。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c1ce" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">添加样板代码</h1><p id="6398" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">我们还需要向我们的应用程序添加一些样板代码。首先，我们添加我们的过滤器。在<code class="fe lr ls lt lu b">capitalize.js</code>中，我们把:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="5b99" class="nd md it lu b gy ne nf l ng nh">export const capitalize = (str) =&gt; {<br/>    if (typeof str == 'string') {<br/>        if (str == 'realestate') {<br/>            return 'Real Estate';<br/>        }<br/>        if (str == 'sundayreview') {<br/>            return 'Sunday Review';<br/>        }</span><span id="9cae" class="nd md it lu b gy ni nf l ng nh">if (str == 'tmagazine') {<br/>            return 'T Magazine';<br/>        }<br/>        return `${str[0].toUpperCase()}${str.slice(1)}`;<br/>    }<br/>}</span></pre><p id="1c2f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这使我们能够将在<a class="ae ku" href="https://developer.nytimes.com/docs/top-stories-product/1/routes/%7Bsection%7D.json/get" rel="noopener ugc nofollow" target="_blank">https://developer . nytimes . com/docs/top-stories-product/1/routes/% 7 section % 7d . JSON/get</a>中列出的纽约时报栏目名称进行大写映射。然后，在<code class="fe lr ls lt lu b">formatDate.js</code>中，我们放入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="ce8e" class="nd md it lu b gy ne nf l ng nh">import * as moment from 'moment';</span><span id="42bd" class="nd md it lu b gy ni nf l ng nh">export const formatDate = (date) =&gt; {<br/>    if (date) {<br/>        return moment(date).format('YYYY-MM-DD hh:mm A');<br/>    }<br/>}</span></pre><p id="4189" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这将把我们的日期格式化为人类可读的格式。之后，在<code class="fe lr ls lt lu b">main.js</code>中，我们放入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="2c88" class="nd md it lu b gy ne nf l ng nh">import Vue from 'vue'<br/>import App from './App.vue'<br/>import router from './router'<br/>import store from './store'<br/>import VueMaterial from 'vue-material';<br/>import VeeValidate from 'vee-validate';<br/>import 'vue-material/dist/vue-material.min.css'<br/>import 'vue-material/dist/theme/default.css'<br/>import { formatDate } from './filters/formatDate';<br/>import { capitalize } from './filters/capitalize';<br/>import VueI18n from 'vue-i18n';<br/>import { ENGLISH_TRANSLATIONS } from './translations/en';<br/>import { FRENCH_TRANSLATIONS } from './translations/fr';</span><span id="8369" class="nd md it lu b gy ni nf l ng nh">Vue.config.productionTip = false;</span><span id="1905" class="nd md it lu b gy ni nf l ng nh">Vue.use(VueMaterial);<br/>Vue.use(VeeValidate);<br/>Vue.use(VueI18n);<br/>Vue.filter('formatDate', formatDate);<br/>Vue.filter('capitalize', capitalize);</span><span id="e5a2" class="nd md it lu b gy ni nf l ng nh">const TRANSLATIONS = {<br/>  en: ENGLISH_TRANSLATIONS,<br/>  fr: FRENCH_TRANSLATIONS<br/>}</span><span id="456e" class="nd md it lu b gy ni nf l ng nh">const i18n = new VueI18n({<br/>  locale: 'en',<br/>  messages: TRANSLATIONS,<br/>})</span><span id="bcb2" class="nd md it lu b gy ni nf l ng nh">new Vue({<br/>  router,<br/>  store,<br/>  i18n,<br/>  render: h =&gt; h(App)<br/>}).$mount('#app')</span></pre><p id="68b7" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">注意，在上面的文件中，我们必须通过调用<code class="fe lr ls lt lu b">Vue.use</code>来注册我们在Vue.js中使用的库，以便它们可以在我们的应用程序模板中使用。我们可以通过在变量右侧添加管道和过滤器名称来调用过滤器函数上的<code class="fe lr ls lt lu b">Vue.filter</code>。</p><p id="5374" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后，在<code class="fe lr ls lt lu b">router.js</code>中，我们把:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="f254" class="nd md it lu b gy ne nf l ng nh">import Vue from 'vue'<br/>import Router from 'vue-router'<br/>import Home from './views/Home.vue';<br/>import Search from './views/Search.vue';</span><span id="8e65" class="nd md it lu b gy ni nf l ng nh">Vue.use(Router)</span><span id="25a7" class="nd md it lu b gy ni nf l ng nh">export default new Router({<br/>  mode: 'history',<br/>  base: process.env.BASE_URL,<br/>  routes: [<br/>    {<br/>      path: '/',<br/>      name: 'home',<br/>      component: Home<br/>    },<br/>    {<br/>      path: '/search',<br/>      name: 'search',<br/>      component: Search<br/>    }<br/>  ]<br/>})</span></pre><p id="021f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这将让我们进入网页时，我们进入列出的网址。<code class="fe lr ls lt lu b">mode: ‘history’</code>意味着在基本URL和我们的路由之间不会有散列符号。如果我们部署我们的应用程序，那么我们需要配置我们的web服务器，这样所有的请求都将被重定向到<code class="fe lr ls lt lu b">index.html</code>。这样，我们在重新加载应用程序时就不会出现错误。例如，在Apache中，我们做到了:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="388d" class="nd md it lu b gy ne nf l ng nh">&lt;IfModule mod_rewrite.c&gt;<br/>  RewriteEngine On<br/>  RewriteBase /<br/>  RewriteRule ^index\.html$ - [L]<br/>  RewriteCond %{REQUEST_FILENAME} !-f<br/>  RewriteCond %{REQUEST_FILENAME} !-d<br/>  RewriteRule . /index.html [L]<br/>&lt;/IfModule&gt;</span></pre><p id="1332" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在Nginx中，我们放入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="ae9f" class="nd md it lu b gy ne nf l ng nh">location / {<br/>  try_files $uri $uri/ /index.html;<br/>}</span></pre><p id="ad88" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">查看您的web服务器文档，了解如何做同样的事情。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="93c8" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为应用程序的组件编写代码</h1><p id="8786" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">现在，我们为组件编写代码。在<code class="fe lr ls lt lu b">SearchResult.vue</code>中，我们放入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="f8d5" class="nd md it lu b gy ne nf l ng nh">&lt;template&gt;<br/>  &lt;div id="search-results"&gt;<br/>    &lt;md-card v-for="s in searchResults" :key="s.id"&gt;<br/>      &lt;md-card-header&gt;<br/>        &lt;div class="md-title title"&gt;{{s.headline.main}}&lt;/div&gt;<br/>      &lt;/md-card-header&gt;</span><span id="5894" class="nd md it lu b gy ni nf l ng nh">&lt;md-card-content&gt;<br/>        &lt;md-list&gt;<br/>          &lt;md-list-item&gt;{{$t(`text.date`)}}: {{s.pub_date | formatDate}}&lt;/md-list-item&gt;<br/>          &lt;md-list-item&gt;<br/>            &lt;a :href="s.web_url"&gt;{{$t('text.link')}}&lt;/a&gt;<br/>          &lt;/md-list-item&gt;<br/>          &lt;md-list-item v-if="s.byline.original"&gt;{{s.byline.original}}&lt;/md-list-item&gt;<br/>          &lt;md-list-item&gt;{{s.lead_paragraph}}&lt;/md-list-item&gt;<br/>          &lt;md-list-item&gt;{{s.snippet}}&lt;/md-list-item&gt;<br/>        &lt;/md-list&gt;<br/>      &lt;/md-card-content&gt;<br/>    &lt;/md-card&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="26b6" class="nd md it lu b gy ni nf l ng nh">&lt;script&gt;<br/>export default {<br/>  computed: {<br/>    searchResults() {<br/>      return this.$store.state.searchResults;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="fc3e" class="nd md it lu b gy ni nf l ng nh">&lt;style scoped&gt;<br/>.title {<br/>  margin: 0 15px !important;<br/>}</span><span id="72d7" class="nd md it lu b gy ni nf l ng nh">#search-results {<br/>  margin: 0 auto;<br/>  width: 95vw;<br/>}</span><span id="8315" class="nd md it lu b gy ni nf l ng nh">.md-title.title {<br/>  color: rgba(0, 0, 0, 0.87) !important;<br/>}<br/>&lt;/style&gt;</span></pre><p id="f366" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这是从Vuex商店获取我们的搜索结果并显示它们的地方。我们在应用程序的<code class="fe lr ls lt lu b">computed</code>属性的函数中返回<code class="fe lr ls lt lu b">this.$store.state.searchResults</code>，这样当商店的<code class="fe lr ls lt lu b">searchResults</code>状态更新时，搜索结果将自动刷新。</p><p id="d5bf" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><code class="fe lr ls lt lu b">md-card</code>是一个卡片小部件，用于在一个框中显示数据。<code class="fe lr ls lt lu b">v-for</code>用于循环数组条目并显示所有内容。<code class="fe lr ls lt lu b">md-list</code>是一个列表小部件，用于在页面上整齐地显示列表中的项目。<code class="fe lr ls lt lu b">{{s.pub_date | formatDate}}</code>是我们应用<code class="fe lr ls lt lu b">formatDate</code>过滤器的地方。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f145" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">编写我们的混音</h1><p id="2094" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">接下来，我们编写我们的mixin。我们还将在mixin中为HTTP调用添加代码。在<code class="fe lr ls lt lu b">nytMixin.js</code>中，我们输入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="8931" class="nd md it lu b gy ne nf l ng nh">const axios = require('axios');<br/>const querystring = require('querystring');<br/>const apiUrl = '<a class="ae ku" href="https://api.nytimes.com/svc'" rel="noopener ugc nofollow" target="_blank">https://api.nytimes.com/svc'</a>;<br/>const apikey = 'your api key';</span><span id="3844" class="nd md it lu b gy ni nf l ng nh">export const nytMixin = {<br/>    methods: {<br/>        getArticles(section) {<br/>            return axios.get(`${apiUrl}/topstories/v2/${section}.json?api-key=${apikey}`);<br/>        },</span><span id="901a" class="nd md it lu b gy ni nf l ng nh">searchArticles(data) {<br/>            let params = Object.assign({}, data);<br/>            params['api-key'] = apikey;<br/>            Object.keys(params).forEach(key =&gt; {<br/>                if (!params[key]) {<br/>                    delete params[key];<br/>                }<br/>            })<br/>            const queryString = querystring.stringify(params);<br/>            return axios.get(`${apiUrl}/search/v2/articlesearch.json?${queryString}`);<br/>        }<br/>    }<br/>}</span></pre><p id="79be" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们返回对HTTP请求的承诺，以在每个函数中获取文章。在<code class="fe lr ls lt lu b">searchArticles</code>函数中，我们将传递给查询字符串的对象传递给请求。确保将API键放入<code class="fe lr ls lt lu b">apiKey</code>常量，然后删除任何未定义的内容:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="65d4" class="nd md it lu b gy ne nf l ng nh">Object.keys(params).forEach(key =&gt; {<br/>  if (!params[key]) {<br/>     delete params[key];<br/>  }<br/>})</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6dbf" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">添加到主页部分</h1><p id="a0e9" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">接下来，在<code class="fe lr ls lt lu b">Home.vue</code>中，我们放入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="df5c" class="nd md it lu b gy ne nf l ng nh">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;div class="center"&gt;<br/>      &lt;h1&gt;{{$t(`text.${selectedSection}`)  | capitalize}}&lt;/h1&gt;<br/>      &lt;br /&gt;<br/>      &lt;md-menu&gt;<br/>        &lt;md-button class="md-raised" md-menu-trigger&gt;{{$tc('text.sections', 2)}}&lt;/md-button&gt;</span><span id="8682" class="nd md it lu b gy ni nf l ng nh">&lt;md-menu-content&gt;<br/>          &lt;md-menu-item<br/>            v-for="s in sections"<br/>            :key="s"<br/>            <a class="ae ku" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="selectSection(s)"<br/>          &gt;{{$t(`text.${s}`) | capitalize}}&lt;/md-menu-item&gt;<br/>        &lt;/md-menu-content&gt;<br/>      &lt;/md-menu&gt;<br/>    &lt;/div&gt;<br/>    &lt;br /&gt;</span><span id="dbe6" class="nd md it lu b gy ni nf l ng nh">&lt;md-card v-for="a in articles" :key="a.id"&gt;<br/>      &lt;md-card-header&gt;<br/>        &lt;div class="md-title title"&gt;{{a.title}}&lt;/div&gt;<br/>      &lt;/md-card-header&gt;</span><span id="240e" class="nd md it lu b gy ni nf l ng nh">&lt;md-card-content&gt;<br/>        &lt;md-list&gt;<br/>          &lt;md-list-item&gt;{{$t(`text.date`)}}: {{a.published_date | formatDate}}&lt;/md-list-item&gt;<br/>          &lt;md-list-item&gt;<br/>            &lt;a :href="a.url"&gt;{{$t('text.link')}}&lt;/a&gt;<br/>          &lt;/md-list-item&gt;<br/>          &lt;md-list-item v-if="a.byline"&gt;{{a.byline}}&lt;/md-list-item&gt;<br/>          &lt;md-list-item&gt;{{a.abstract}}&lt;/md-list-item&gt;<br/>        &lt;/md-list&gt;<br/>        &lt;img<br/>          v-if="a.multimedia[a.multimedia.length - 1]"<br/>          :src="a.multimedia[a.multimedia.length - 1].url"<br/>          :alt="a.multimedia[a.multimedia.length - 1].caption"<br/>          class="image"<br/>        /&gt;<br/>      &lt;/md-card-content&gt;<br/>    &lt;/md-card&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="9297" class="nd md it lu b gy ni nf l ng nh">&lt;script&gt;<br/>import { nytMixin } from "../mixins/nytMixin";</span><span id="d116" class="nd md it lu b gy ni nf l ng nh">export default {<br/>  name: "home",<br/>  mixins: [nytMixin],<br/>  computed: {},</span><span id="4684" class="nd md it lu b gy ni nf l ng nh">data() {<br/>    return {<br/>      selectedSection: "home",<br/>      articles: [],<br/>      sections: `arts, automobiles, books, business, fashion, food, health,<br/>    home, insider, magazine, movies, national, nyregion, obituaries,<br/>    opinion, politics, realestate, science, sports, sundayreview,<br/>    technology, theater, tmagazine, travel, upshot, world`<br/>        .replace(/ /g, "")<br/>        .split(",")<br/>    };<br/>  },</span><span id="9214" class="nd md it lu b gy ni nf l ng nh">beforeMount() {<br/>    this.getNewsArticles(this.selectedSection);<br/>  },</span><span id="a672" class="nd md it lu b gy ni nf l ng nh">methods: {<br/>    async getNewsArticles(section) {<br/>      const response = await this.getArticles(section);<br/>      this.articles = response.data.results;<br/>    },</span><span id="7bbc" class="nd md it lu b gy ni nf l ng nh">selectSection(section) {<br/>      this.selectedSection = section;<br/>      this.getNewsArticles(section);<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="885e" class="nd md it lu b gy ni nf l ng nh">&lt;style scoped&gt;<br/>.image {<br/>  width: 100%;<br/>}</span><span id="706d" class="nd md it lu b gy ni nf l ng nh">.title {<br/>  color: rgba(0, 0, 0, 0.87) !important;<br/>  margin: 0 15px !important;<br/>}</span><span id="676e" class="nd md it lu b gy ni nf l ng nh">.md-card {<br/>  width: 95vw;<br/>  margin: 0 auto;<br/>}<br/>&lt;/style&gt;</span></pre><p id="7aa4" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">注意我们有<code class="fe lr ls lt lu b">{{$tc(‘text.sections’, 2)}}.</code><code class="fe lr ls lt lu b">$tc</code>函数用于复数，其中第二个参数是第一个参数中项目的数量。<code class="fe lr ls lt lu b">{{$t(`text.date`)}}</code>意味着我们在翻译对象中查看来自路径<code class="fe lr ls lt lu b">text.date</code>的值并显示它。</p><p id="e1a7" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这个页面组件是我们获取所选部分文章的地方，默认为<code class="fe lr ls lt lu b">home</code>部分。我们还有一个菜单，通过添加以下内容来选择我们想要查看的部分:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="56e0" class="nd md it lu b gy ne nf l ng nh">&lt;md-menu&gt;<br/>  &lt;md-button class="md-raised" md-menu-trigger&gt;{{$tc('text.sections', 2)}}&lt;/md-button&gt;</span><span id="41af" class="nd md it lu b gy ni nf l ng nh">  &lt;md-menu-content&gt;<br/>    &lt;md-menu-item<br/>      v-for="s in sections"<br/>      :key="s"<br/>      <a class="ae ku" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="selectSection(s)"<br/>  &gt;{{$t(`text.${s}`) | capitalize}}&lt;/md-menu-item&gt;<br/>  &lt;/md-menu-content&gt;<br/>&lt;/md-menu&gt;</span></pre><p id="0d78" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">注意，我们在承诺代码中使用了<code class="fe lr ls lt lu b">async</code>和<code class="fe lr ls lt lu b">await</code>关键字，而不是<code class="fe lr ls lt lu b">then</code>。它要短得多，<code class="fe lr ls lt lu b">then</code>、<code class="fe lr ls lt lu b">await</code>和<code class="fe lr ls lt lu b">async</code>之间的功能是等效的。但是，它在Internet Explorer中不受支持。在<code class="fe lr ls lt lu b">beforeMount</code>块中，我们运行<code class="fe lr ls lt lu b">this.getNewsArticles</code>在页面加载时获取文章。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="21be" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">添加到搜索部分</h1><p id="0ef5" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">接下来，在<code class="fe lr ls lt lu b">Search.vue</code>中，我们放入:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="ceea" class="nd md it lu b gy ne nf l ng nh">&lt;template&gt;<br/>  &lt;div&gt;<br/>    &lt;div class="center"&gt;<br/>      &lt;h1&gt;{{$t('text.search')}}&lt;/h1&gt;<br/>    &lt;/div&gt;<br/>    &lt;form <a class="ae ku" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>="search" novalidate&gt;<br/>      &lt;md-field :class="{ 'md-invalid': errors.has('keyword') }"&gt;<br/>        &lt;label for="keyword"&gt;{{$t('text.keyword')}}&lt;/label&gt;<br/>        &lt;md-input type="text" name="keyword" v-model="searchData.keyword" v-validate="'required'"&gt;&lt;/md-input&gt;<br/>        &lt;span class="md-error" v-if="errors.has('keyword')"&gt;{{errors.first('keyword')}}&lt;/span&gt;<br/>      &lt;/md-field&gt;</span><span id="9e4c" class="nd md it lu b gy ni nf l ng nh">&lt;div&gt;<br/>        &lt;md-datepicker v-model="searchData.beginDate" :md-disabled-dates="disabledDates"&gt;<br/>          &lt;label&gt;{{$t('text.begin_date')}}&lt;/label&gt;<br/>        &lt;/md-datepicker&gt;<br/>      &lt;/div&gt;</span><span id="2cbd" class="nd md it lu b gy ni nf l ng nh">&lt;div&gt;<br/>        &lt;md-datepicker v-model="searchData.endDate" :md-disabled-dates="disabledDates"&gt;<br/>          &lt;label&gt;{{$t('text.end_date')}}&lt;/label&gt;<br/>        &lt;/md-datepicker&gt;<br/>      &lt;/div&gt;</span><span id="6282" class="nd md it lu b gy ni nf l ng nh">&lt;md-field&gt;<br/>        &lt;label for="movie"&gt;{{$t('text.sort_by')}}&lt;/label&gt;<br/>        &lt;md-select v-model="searchData.sort"&gt;<br/>          &lt;md-option value="newest"&gt;{{$t('text.newest')}}&lt;/md-option&gt;<br/>          &lt;md-option value="oldest"&gt;{{$t('text.oldest')}}&lt;/md-option&gt;<br/>          &lt;md-option value="relevance"&gt;{{$t('text.relevance')}}&lt;/md-option&gt;<br/>        &lt;/md-select&gt;<br/>      &lt;/md-field&gt;</span><span id="097b" class="nd md it lu b gy ni nf l ng nh">&lt;md-button class="md-raised" type="submit"&gt;{{$t('text.search')}}&lt;/md-button&gt;<br/>    &lt;/form&gt;<br/>    &lt;SearchResults /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="ab29" class="nd md it lu b gy ni nf l ng nh">&lt;script&gt;<br/>import { nytMixin } from "../mixins/nytMixin";<br/>import SearchResults from "@/components/SearchResults.vue";<br/>import * as moment from "moment";</span><span id="5a12" class="nd md it lu b gy ni nf l ng nh">export default {<br/>  name: "search",<br/>  mixins: [nytMixin],<br/>  components: {<br/>    SearchResults<br/>  },<br/>  computed: {<br/>    isFormDirty() {<br/>      return Object.keys(this.fields).some(key =&gt; this.fields[key].dirty);<br/>    }<br/>  },<br/>  data: () =&gt; {<br/>    return {<br/>      searchData: {<br/>        sort: "newest"<br/>      },<br/>      disabledDates: date =&gt; {<br/>        return +date &gt;= +new Date();<br/>      }<br/>    };<br/>  },<br/>  methods: {<br/>    async search(evt) {<br/>      evt.preventDefault();<br/>      if (!this.isFormDirty || this.errors.items.length &gt; 0) {<br/>        return;<br/>      }<br/>      const data = {<br/>        q: this.searchData.keyword,<br/>        begin_date: moment(this.searchData.beginDate).format("YYYYMMDD"),<br/>        end_date: moment(this.searchData.endDate).format("YYYYMMDD"),<br/>        sort: this.searchData.sort<br/>      };<br/>      const response = await this.searchArticles(data);<br/>      this.$store.commit("setSearchResults", response.data.response.docs);<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="2465" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这是我们用来搜索文章的表单。我们还有两个日期选择器来标记用户设置的开始和结束日期。我们只将日期限制在今天及之前，以便搜索查询有意义:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="50e6" class="nd md it lu b gy ne nf l ng nh">&lt;md-field :class="{ 'md-invalid': errors.has('keyword') }"&gt;<br/>   &lt;label for="keyword"&gt;{{$t('text.keyword')}}&lt;/label&gt;<br/>   &lt;md-input type="text" name="keyword" v-model="searchData.keyword" v-validate="'required'"&gt;&lt;/md-input&gt;<br/>   &lt;span class="md-error" v-if="errors.has('keyword')"&gt;{{errors.first('keyword')}}&lt;/span&gt;<br/>&lt;/md-field&gt;</span></pre><p id="0972" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们使用<code class="fe lr ls lt lu b">vee-validate</code>来检查所需的搜索关键字字段是否已填写。如果不是，它将显示一条错误消息并阻止查询继续进行。我们还将<code class="fe lr ls lt lu b">SearchResults</code>组件嵌套到<code class="fe lr ls lt lu b">Search</code>页面组件中，包括:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="9640" class="nd md it lu b gy ne nf l ng nh">components: {<br/>  SearchResults<br/>}</span></pre><p id="8d95" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们应该把它放在模板中的<code class="fe lr ls lt lu b">script</code>标签和<code class="fe lr ls lt lu b">&lt;SearchResults /&gt;</code>标签之间。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ddf4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">将顶部栏和菜单添加到应用程序</h1><p id="fa2c" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">最后，我们通过在<code class="fe lr ls lt lu b">App.vue</code>中输入以下内容来添加顶部栏和菜单:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="f1b0" class="nd md it lu b gy ne nf l ng nh">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;md-toolbar&gt;<br/>      &lt;md-button class="md-icon-button" <a class="ae ku" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="showNavigation = true"&gt;<br/>        &lt;md-icon&gt;menu&lt;/md-icon&gt;<br/>      &lt;/md-button&gt;<br/>      &lt;h3 class="md-title"&gt;{{$t('text.nyt_app')}}&lt;/h3&gt;</span><span id="54cc" class="nd md it lu b gy ni nf l ng nh">      &lt;div class="md-toolbar-section-end"&gt;<br/>        &lt;md-menu md-direction="bottom-start"&gt;<br/>          &lt;md-button class="md-icon-button" md-menu-trigger&gt;<br/>            &lt;md-icon&gt;more_vert&lt;/md-icon&gt;<br/>          &lt;/md-button&gt;</span><span id="9522" class="nd md it lu b gy ni nf l ng nh">         &lt;md-menu-content&gt;<br/>            &lt;md-menu-item <a class="ae ku" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="setLocale('en')"&gt;{{$t('text.english')}}&lt;/md-menu-item&gt;<br/>            &lt;md-menu-item <a class="ae ku" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="setLocale('fr')"&gt;{{$t('text.french')}}&lt;/md-menu-item&gt;<br/>          &lt;/md-menu-content&gt;<br/>        &lt;/md-menu&gt;<br/>      &lt;/div&gt;<br/>    &lt;/md-toolbar&gt;<br/>    &lt;md-drawer :md-active.sync="showNavigation" md-swipeable&gt;<br/>      &lt;md-toolbar class="md-transparent" md-elevation="0"&gt;<br/>        &lt;span class="md-title"&gt;{{$t('text.nyt_app')}}&lt;/span&gt;<br/>      &lt;/md-toolbar&gt;</span><span id="d4c5" class="nd md it lu b gy ni nf l ng nh">&lt;md-list&gt;<br/>        &lt;md-list-item&gt;<br/>          &lt;router-link to="/"&gt;<br/>            &lt;span class="md-list-item-text"&gt;{{$t('text.home')}}&lt;/span&gt;<br/>          &lt;/router-link&gt;<br/>        &lt;/md-list-item&gt;</span><span id="a42d" class="nd md it lu b gy ni nf l ng nh">&lt;md-list-item&gt;<br/>          &lt;router-link to="/search"&gt;<br/>            &lt;span class="md-list-item-text"&gt;{{$t('text.search')}}&lt;/span&gt;<br/>          &lt;/router-link&gt;<br/>        &lt;/md-list-item&gt;<br/>      &lt;/md-list&gt;<br/>    &lt;/md-drawer&gt;</span><span id="17be" class="nd md it lu b gy ni nf l ng nh">&lt;router-view /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="f100" class="nd md it lu b gy ni nf l ng nh">&lt;script&gt;<br/>import { ENGLISH_DATEPICKER_LOCALE } from "@/datepickerLocales/en";<br/>import { FRENCH_DATEPICKER_LOCALE } from "@/datepickerLocales/fr";</span><span id="958f" class="nd md it lu b gy ni nf l ng nh">export default {<br/>  name: "app",<br/>  data: () =&gt; {<br/>    return {<br/>      showNavigation: false<br/>    };<br/>  },<br/>  methods: {<br/>    setLocale(locale) {<br/>      this.$root.$i18n.locale = locale;<br/>      if (locale == "en") {<br/>        this.$material.locale = ENGLISH_DATEPICKER_LOCALE;<br/>      } else if (locale == "fr") {<br/>        this.$material.locale = FRENCH_DATEPICKER_LOCALE;<br/>      }<br/>      localStorage.setItem("locale", locale);<br/>    }<br/>  },</span><span id="3343" class="nd md it lu b gy ni nf l ng nh">  beforeMount() {<br/>    const locale = localStorage.getItem("locale") || "en";<br/>    this.$root.$i18n.locale = locale;<br/>    if (locale == "en") {<br/>      this.$material.locale = ENGLISH_DATEPICKER_LOCALE;<br/>    } else if (locale == "fr") {<br/>      this.$material.locale = FRENCH_DATEPICKER_LOCALE;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="a172" class="nd md it lu b gy ni nf l ng nh">&lt;style&gt;<br/>.center {<br/>  text-align: center;<br/>}</span><span id="ba10" class="nd md it lu b gy ni nf l ng nh">form {<br/>  width: 95vw;<br/>  margin: 0 auto;<br/>}</span><span id="1e18" class="nd md it lu b gy ni nf l ng nh">.md-toolbar.md-theme-default {<br/>  background: #009688 !important;<br/>  height: 60px;<br/>}</span><span id="2de2" class="nd md it lu b gy ni nf l ng nh">.md-title,<br/>.md-toolbar.md-theme-default .md-icon {<br/>  color: #fff !important;<br/>}<br/>&lt;/style&gt;</span></pre><p id="d1d7" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这是我们为整个应用程序设置语言的地方，因为应用程序中的所有页面都是在这个组件加载后加载的。请注意，我们使用<code class="fe lr ls lt lu b">this.$root.$i18n.locale</code>将我们的区域设置应用到应用程序的所有部分。为了设置日期选择器的地区，我们有:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="e98b" class="nd md it lu b gy ne nf l ng nh">if (locale == "en") {<br/>  this.$material.locale = ENGLISH_DATEPICKER_LOCALE;<br/>} else if (locale == "fr") {<br/>  this.$material.locale = FRENCH_DATEPICKER_LOCALE;<br/>}</span></pre><p id="fbb3" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们将区域设置保存到本地存储，这样我们就可以在<code class="fe lr ls lt lu b">beforeMount</code>函数中获取它们，并在应用程序重新加载时加载保存的区域设置。</p><p id="b2fe" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们还在右上方添加了一个菜单，让用户设置他们的首选语言:</p><pre class="kj kk kl km gt mz lu na nb aw nc bi"><span id="d6db" class="nd md it lu b gy ne nf l ng nh">&lt;div class="md-toolbar-section-end"&gt;<br/>  &lt;md-menu md-direction="bottom-start"&gt;<br/>    &lt;md-button class="md-icon-button" md-menu-trigger&gt;<br/>      &lt;md-icon&gt;more_vert&lt;/md-icon&gt;<br/>    &lt;/md-button&gt;</span><span id="1673" class="nd md it lu b gy ni nf l ng nh">    &lt;md-menu-content&gt;<br/>      &lt;md-menu-item <a class="ae ku" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="setLocale('en')"&gt;{{$t('text.english')}}&lt;/md-menu-item&gt;<br/>      &lt;md-menu-item <a class="ae ku" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="setLocale('fr')"&gt;{{$t('text.french')}}&lt;/md-menu-item&gt;<br/>    &lt;/md-menu-content&gt;<br/>   &lt;/md-menu&gt;<br/>&lt;/div&gt;</span></pre><p id="d9cd" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果你想要一个带有左导航抽屉的顶栏，你必须精确地遵循上面的代码结构。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5344" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">最终产品</h1><p id="3dff" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">写完所有代码后，我们有以下代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nj"><img src="../Images/e057cb091ed12a8b0c583a11f204716b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oy-zAfct7z6In1EJU5sOhA.png"/></div></div></figure></div></div>    
</body>
</html>