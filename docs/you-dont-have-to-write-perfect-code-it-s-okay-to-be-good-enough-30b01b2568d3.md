# 不要写完美的代码

> 原文：<https://betterprogramming.pub/you-dont-have-to-write-perfect-code-it-s-okay-to-be-good-enough-30b01b2568d3>

## 够好就可以了

![](img/a9a72e082ed6b01a5c6a85afc1890952.png)

瑞兰德·迪恩在 [Unsplash](https://unsplash.com/s/photos/code?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

完美主义。如今，它经常被展示为一种荣誉徽章。
以至于在面试中提到它被认为是一种“好的”负面品质，因为它往往与勤奋和努力工作联系在一起。然而，完美是有代价的。

# 足够好的母亲和你的代码

你现在可能正在挠头。母性？代码？不要担心，一会儿一切都会变得完美(双关语)。

“足够好的母亲”这个词是由著名的儿科医生和精神分析学家唐纳德·W·温尼科特创造的。其主要思想是，以成为完美父母为目标往往会引入无意的有害行为。因此，对完美父母的追求适得其反，对父母和孩子都是弊大于利。

当你想到它的时候，它非常有意义。但是如果你碰巧是一个新生儿的父母，这可能很难接受。毕竟，这是你一生中要做的最重要的事情——抚养一个 100%依赖你的真正的人。但你知道那是什么感觉。当压力增加时，我们开始变得更加易怒，停止思考问题，所有这些情绪都会反馈给你的孩子。

那绝对是一个[引人入胜的话题](https://medium.com/@alexandrasacks/the-good-enough-mother-ab19fd7dad06)，但我不是来谈育儿的。
这堂快速心理学课的目的是说明完美主义，即使是在生活中最重要的事情上，比如养育子女，也是错误的。

那么，成为一个“足够好”的开发者意味着什么呢？

写“足够好”的代码意味着什么？

让我们从基本原则开始，问问我们自己——编写代码的目标是什么？

# 编写代码的目标

![](img/1e6fc7570f23d3b5f972a8a64c53f52d.png)

马库斯·温克勒在 [Unsplash](https://unsplash.com/s/photos/goal?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

有些人将代码视为一种艺术形式。他们努力写出优雅、美丽的代码来激励他人。我完全支持优雅的代码，但这不是它的最终目标。
写代码的真正目的是解决问题。

即便如此，我们也不只是想解决问题，而是想把问题解决好。我们不只是想制造一个有用的产品，我们希望它是一个高质量的产品。然而，在某些时候，花更多的时间使代码变得更完美，不会产生任何实际的结果。

此外，如果我们花了这么多时间来完善我们的代码，缺乏切实的成果是我们最不关心的问题。完美，尽管值得称赞，却伴随着高昂的代价。

# 完美的代价

![](img/6d511bad1588d9094ae5b043fe334bc2.png)

由 [Elisa Ventur](https://unsplash.com/@elisa_ventur?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 在 [Unsplash](https://unsplash.com/s/photos/frustration?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄的照片

完美有一个问题，而且是一个很大的问题——完美是主观的。当谈到真正糟糕的代码时，大多数人都会同意。但是要写出完美的代码呢？每个人都有自己的看法。

> “您应该将这些行提取到一个函数中”
> 
> “您的功能太多了”
> 
> “这应该属于一个单独的类”
> 
> “这并不能证明一个单独的类是合理的”
> 
> ”实例化对象时添加显式参数名”
> 
> 代码太冗长，请删除显式参数名
> 
> “您必须在关键区域添加注释”
> 
> “永远不要添加评论”
> 
> “您应该很少抛出异常—返回一个状态为“失败”的响应对象”
> 
> “如果某些东西不工作，总是抛出一个异常”
> 
> “代码不够面向对象”
> 
> “这并不能证明 OOP 的耦合性是正确的——使用一种更具功能性的方法”

这个清单还在继续。如果以上所有的评论都来自不同的队友，那就更难了。面对这么多相互矛盾的观点，甚至有可能让代码完美吗？大概不会。

由于完美没有明确的标准，工程师可能会花上几个小时，甚至几天的时间来考虑细节。这很容易导致过度思考，最终甚至筋疲力尽。

所以你问的完美的代价是什么？

在任务上没有进展的精疲力竭的工程师。
追求完美意味着错过我们的目标——有效解决问题。

# 完美的解药——足够好的代码

![](img/6fc377d5da546b3d99d73bc3ea359fe6.png)

照片由 [Unsplash](https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的 [Felicia Buitenwerf](https://unsplash.com/@iamfelicia?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄

为了有效地解决问题，我们需要在代码质量和实际完成工作之间取得平衡。为了做到这一点，我们需要找到收益递减点。花更多时间优化代码质量的地方，不会产生更好的结果，甚至可能使我们整体效率更低。我们需要构建我们自己的“足够好”代码的定义。

“足够好”代码的定义必须根据您的独特需求来确定。一些企业可能会优先考虑快速发展，因此标准可能不会那么高。其他企业可能需要一个强大的基础设施，在这里，每个小错误都可能导致灾难。

一旦我们明确了我们业务的独特优先级，我们就需要确定我们的编码指南。为了促进更有效的合作，最好在整个 R&D 部门的层面上进行。但最起码需要在你的团队层面确定。

*   “完成”的定义是什么？
*   我们如何格式化我们的代码？—行距，何时换行，我们是否添加函数参数名称(如果适用)
*   我们更喜欢性能还是可读性？
*   我们的测试哲学是什么？比起集成测试，我们更喜欢组件测试吗？
*   类/包/函数命名约定
*   逻辑层——分离 dto 和模型是否总是有意义的？
*   在编写 API 时，我们更喜欢抛出异常而不是响应对象吗？

当然，这个清单还在继续。主要目标是为编写高质量的代码设定一个清晰的标准。这样，我们可以减少[认知负荷](https://medium.com/@guy-oxnb/cognitive-load-why-its-destroying-your-code-and-what-to-do-about-it-3c28cc0d3598)并减少花费在无休止地讨论 PRs 上的时间，从而给我们的团队带来显著的绩效提升。

# 底线

完美是有代价的。心理学告诉我们，养育健康的孩子不需要成为完美的父母。对于您的代码来说也是如此。你不需要写出完美的代码就能成为一个有效的开发者。努力写出完美的代码最有可能导致沮丧和倦怠，因为完美是主观的。

写代码的目标是解决问题。

因此，弄清楚对你的企业来说什么是“足够好”的代码，制定明确的指导方针，并体验生产力和开发人员福利的显著提高。