<html>
<head>
<title>Web Image Optimisation: Responsive &amp; Adaptive</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络图像优化:响应性和适应性</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/optimising-images-on-the-web-9ae9f3e4610e?source=collection_archive---------15-----------------------#2019-12-17">https://betterprogramming.pub/optimising-images-on-the-web-9ae9f3e4610e?source=collection_archive---------15-----------------------#2019-12-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6145" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">图像是最大的性能瓶颈之一——但前提是你不去管它们</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cc36e345d2406b83327b0e42c5682264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MbeqbvR3MYzPC-Vr4TkmeA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://undraw.co/illustrations" rel="noopener ugc nofollow" target="_blank">展开的插图</a></p></figure><blockquote class="kz la lb"><p id="18fe" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">这篇文章已经过时</strong>——更新版本请关注<a class="ae ky" href="https://www.charistheo.io/blog/2021/03/optimised-images-for-the-web-responsive-and-adaptable/" rel="noopener ugc nofollow" target="_blank">https://www . charistheo . io/blog/2021/03/optimized-images-for-the-web-responsive-and-adaptable/</a>的这篇文章。</p></blockquote><p id="2578" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在这篇短文中，我将带你了解一些你现在就可以实现的常见图像优化技术。希望你能获得巨大的性能提升，创造流畅的网络体验。</p><p id="7a46" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">但首先，让我们先来看一些数据，看看为什么优化你的网页图片很重要——尤其是对手机而言。</p><p id="2573" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">平均移动网站有2.2 MB大，其中68%是图片。</p><p id="f810" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">引用穆斯塔法·库尔图尔杜的电子书<a class="ae ky" href="https://www.awwwards.com/brainfood-mobile-performance-vol3.pdf" rel="noopener ugc nofollow" target="_blank"/>:</p><blockquote class="kz la lb"><p id="8355" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">“正如我们刚刚测试的那样，一个网站有很高的百分比，大约70%是由图像组成的。”</p></blockquote><p id="d103" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在一个缓慢的3G网络中，大的资源大小将是页面加载时间的一个巨大瓶颈。试图只下载一些未经优化的图像会使网络繁忙，阻止其他同样重要的资源被下载。</p><p id="3eb0" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">同样，<a class="ae ky" href="https://www.facebook.com/business/news/improving-mobile-site-performance" rel="noopener ugc nofollow" target="_blank">根据脸书蓝图</a>，多达40%的用户会在三秒钟的延迟后放弃网站。当你把这一点加到前面的图片尺寸上时，很容易意识到我们需要在如何向用户提供图片时小心谨慎。</p><p id="1892" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">也是时候我们认为图像优化是在移动网络上获得良好用户体验的重要一步，并努力关注我们为用户提供的图像的大小。</p><p id="b220" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在我们开始之前，请记住每个网站都是不同的——因为每个网站可能会有更高的性能提升，甚至有相反的效果。)取决于您正在跟踪的<a class="ae ky" href="https://sites.google.com/a/webpagetest.org/docs/using-webpagetest/metrics" rel="noopener ugc nofollow" target="_blank">绩效指标</a>。</p><p id="8e22" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><strong class="lf iu">提示:</strong>确保每次优化后都进行测试，以便跟踪什么对你的网站有效，什么无效。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="2516" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">压缩您的图像</h1><p id="0edf" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">这一部分可能是所有建议中最重要的，这也是它排在第一位的原因。希望经过这次优化后，你的网站在性能审计中会表现得更好。</p><p id="bbea" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">现在你可能在想，“哦，我不可能触摸我美丽的图像！我不想为了节省几个kb而拥有蹩脚的质量。”</p><p id="b1aa" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">但是不要相信我的话。</p><p id="95b5" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">尝试使用<a class="ae ky" href="https://squoosh.app/" rel="noopener ugc nofollow" target="_blank"> squoosh应用</a>压缩和比较一些图像。或者更好的是，尝试压缩一些图像，然后请朋友指出压缩的图像。您将能够亲眼看到<strong class="lf iu">未压缩图像和有损优化图像之间的质量很少存在明显差异。</strong></p><p id="a6a0" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在你揭开事情的神秘面纱之后，回到这里，因为我有一些你可能会感兴趣的工具。</p><ul class=""><li id="bea2" class="ng nh it lf b lg lh lj lk lz ni ma nj mb nk ly nl nm nn no bi translated"><a class="ae ky" href="https://github.com/imagemin/imagemin" rel="noopener ugc nofollow" target="_blank"> imagemin压缩工具</a> — <a class="ae ky" href="https://webpagetest.org/mobiletest" rel="noopener ugc nofollow" target="_blank">相关工具</a></li><li id="9337" class="ng nh it lf b lg np lj nq lz nr ma ns mb nt ly nl nm nn no bi translated"><a class="ae ky" href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/automating-image-optimization" rel="noopener ugc nofollow" target="_blank">“自动化图像优化”文章</a>，作者Addy Osmani</li></ul><p id="b5c2" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><strong class="lf iu">提示:</strong>尽量不要再压缩(<a class="ae ky" href="https://www.youtube.com/watch?v=w7vXJbLhTyI" rel="noopener ugc nofollow" target="_blank">视频</a>)。建议总是从原始图像压缩，以避免过多的噪声。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="f11f" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">响应性和下一代格式支持</h1><p id="8192" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">接下来，我们将看看如何使用<code class="fe nu nv nw nx b">picture</code> HTML标签来根据请求它们的平台提供不同的图像大小、分辨率和格式。</p><p id="cd1d" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">听起来很复杂？当我走完这些步骤的时候。</p><h2 id="4aa4" class="ny mk it bd ml nz oa dn mp ob oc dp mt lz od oe mv ma of og mx mb oh oi mz oj bi translated">多屏幕尺寸支持</h2><p id="24f2" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">让我们从了解如何支持不同的图像尺寸开始。我们将使用<code class="fe nu nv nw nx b">source</code>标签的<code class="fe nu nv nw nx b">media</code>属性来定义我们的媒体查询。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用源标签的<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture/#The_media_attribute" rel="noopener ugc nofollow" target="_blank">媒体属性</a>支持多种屏幕尺寸</p></figure><p id="2c48" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">正如你在上面看到的，我们可以为屏幕宽度为320px和480px的手机提供缩小版的图像，为平板电脑和更高版本提供768px宽的图像，最后，为台式机提供1024px宽的图像。</p><p id="8c1b" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">请注意<code class="fe nu nv nw nx b">alt</code>属性，并将其包含在<code class="fe nu nv nw nx b">picture</code>元素内的最后一个标签中——也就是<code class="fe nu nv nw nx b">img</code>标签。</p><h2 id="d364" class="ny mk it bd ml nz oa dn mp ob oc dp mt lz od oe mv ma of og mx mb oh oi mz oj bi translated">HTML元素</h2><p id="e4ee" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">如果您不熟悉<code class="fe nu nv nw nx b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture" rel="noopener ugc nofollow" target="_blank">picture</a></code>元素，我在这里提供了一些解释。如果你已经很熟悉了，可以跳过这一步。</p><p id="aa8d" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在<code class="fe nu nv nw nx b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture" rel="noopener ugc nofollow" target="_blank">picture</a></code>元素中，我们定义了所有的图像来匹配不同设备的不同情况。<code class="fe nu nv nw nx b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture" rel="noopener ugc nofollow" target="_blank">picture</a></code>元素将考虑所有这些因素，并推断出当前设备的最佳匹配。如果没有，它将退回到<code class="fe nu nv nw nx b">img</code>元素。</p><p id="b1e6" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><code class="fe nu nv nw nx b">img</code>元素接受要提供的图像URL的来源、样式、大小和可选文本。</p><h2 id="94d1" class="ny mk it bd ml nz oa dn mp ob oc dp mt lz od oe mv ma of og mx mb oh oi mz oj bi translated">多屏幕分辨率支持</h2><p id="bdfe" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">让我们的图片在网络上变得更棒的第二部分，我们将会包括更多高分辨率的图片版本。对于这个魔术，我们将利用<code class="fe nu nv nw nx b">srcset</code>属性给我们的一些忍者力量。</p><p id="1e83" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">你不是已经厌倦了生成一堆图像吗？<em class="le"> <br/> </em>我感觉到你了。只需使用您选择的工具(例如<a class="ae ky" href="https://imagemagick.org/Usage/resize/" rel="noopener ugc nofollow" target="_blank"> ImageMagick </a>)，就能实现自动化！否则，如果你有钱，你可以使用<a class="ae ky" href="https://cloudinary.com/documentation/image_transformations" rel="noopener ugc nofollow" target="_blank"> Cloudinary，</a>它提供了很好的服务，作为一种选择。许多开发人员发现Cloudinary是一个更简单的图像解决方案。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用源标签的<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attr-srcset" rel="noopener ugc nofollow" target="_blank"> srcset属性</a>支持多屏幕分辨率</p></figure><p id="63bd" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">例如，在第4行中，我们简单地说明对于设备:<br/>屏幕宽度大于<code class="fe nu nv nw nx b">480px</code> ( <code class="fe nu nv nw nx b">media</code>)两倍(<code class="fe nu nv nw nx b">2x</code>)的<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio" rel="noopener ugc nofollow" target="_blank">基本dpi (96)，</a>使用高分辨率图像<code class="fe nu nv nw nx b">img-480–2x.jpg</code> <br/>，而使用低分辨率图像<code class="fe nu nv nw nx b">img-480.jpg</code></p><h2 id="99e6" class="ny mk it bd ml nz oa dn mp ob oc dp mt lz od oe mv ma of og mx mb oh oi mz oj bi translated">支持下一代格式的图像</h2><p id="2b96" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">总结一下，要包含上述所有响应选项，并在下一代格式中包含其他图像，请粘贴以下内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="f7a4" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果浏览器支持的话，这里我包括了<code class="fe nu nv nw nx b"><a class="ae ky" href="https://medium.com/@charistheodoulou/image-optimisation-for-the-web-webp-webm-4402d7817cce" rel="noopener">webp</a></code> <strong class="lf iu"> </strong>格式的图片。相反，浏览器将退回到下一个<code class="fe nu nv nw nx b">jpg</code>图像。</p><p id="96cd" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><strong class="lf iu">提示:</strong>不要忘记<code class="fe nu nv nw nx b">type=”image/webp”</code> <em class="le"> </em>部分，因为根据我的经验，<code class="fe nu nv nw nx b">webp</code>图片不会被浏览器拾取。</p><p id="d7d9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">它看起来很少，但我保证它是为您的图像添加响应和下一代格式支持。确保自动化到位，这样以后更新图像就容易了。</p><p id="792b" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果你感兴趣，可以看看我的另一篇关于使用WebP和WebM而不是JPG、PNG和GIF的文章。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="791f" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><code class="fe nu nv nw nx b">display: none’</code>陷阱</h1><p id="f014" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">有时，当用户登陆我们的页面时，我们希望隐藏图片，而不是延迟或有条件地加载图片。但是如果你不熟悉<code class="fe nu nv nw nx b">&lt;img&gt;</code>元素的特性，你可能会不知不觉地落入<code class="fe nu nv nw nx b">display: none</code>陷阱。</p><h2 id="7575" class="ny mk it bd ml nz oa dn mp ob oc dp mt lz od oe mv ma of og mx mb oh oi mz oj bi translated">问题</h2><p id="f015" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated"><code class="fe nu nv nw nx b">display:none</code>是否避免触发对图片的<code class="fe nu nv nw nx b">src</code> URL的请求？</p><pre class="kj kk kl km gt om nx on oo aw op bi"><span id="e5fa" class="ny mk it nx b gy oq or l os ot">&lt;div style="display:none"&gt;<br/>  &lt;img src="example.jpg"&gt;<br/>&lt;/div&gt;</span></pre><p id="416d" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">不。仍然需要图像。</p><p id="91a3" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">这里，如果使用了<code class="fe nu nv nw nx b">display: none</code>，JavaScript库对于延迟加载是不可靠的，因为在JavaScript改变<code class="fe nu nv nw nx b">src</code>之前会请求图像。</p><p id="1379" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">这就是为什么您会看到大多数延迟加载JS库中使用的<code class="fe nu nv nw nx b">data-src</code>属性。</p><h2 id="72dc" class="ny mk it bd ml nz oa dn mp ob oc dp mt lz od oe mv ma of og mx mb oh oi mz oj bi translated">问题</h2><p id="a4a8" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated"><code class="fe nu nv nw nx b">&lt;div&gt;</code>上的<code class="fe nu nv nw nx b">display:none</code>是否避免触发对<code class="fe nu nv nw nx b">background: url()</code>的请求？</p><pre class="kj kk kl km gt om nx on oo aw op bi"><span id="9837" class="ny mk it nx b gy oq or l os ot">&lt;div style="display:none"&gt;  <br/>  &lt;div style="background: url(example.jpg)"&gt;&lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="073b" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">是的。</p><p id="9e39" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">CSS背景不会在元素被解析后立即获取。用<code class="fe nu nv nw nx b">display:none</code>计算元素子元素的CSS样式用处不大，因为它们不会影响文档的呈现。不会计算或下载子元素上的背景图像。</p><h2 id="9244" class="ny mk it bd ml nz oa dn mp ob oc dp mt lz od oe mv ma of og mx mb oh oi mz oj bi translated">阻止手机下载</h2><p id="5c83" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">无论你打算用哪种方式来阻止图像被下载，都要确保首先保护手机，因为它是最容易受到攻击的设备，因为它的CPU更低，而且更常见的是，3g/4g的网络带宽更低，延迟更高。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="7265" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">通过包含一个媒体查询来替换移动设备上的<code class="fe nu nv nw nx b">background-image: url()</code>到<code class="fe nu nv nw nx b">none</code>，我们可以确保用于更大设备的图像不会被下载到移动设备上。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="440c" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">本地映像延迟加载就在这里</h1><p id="4af1" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">从版本75开始，Chrome就支持原生镜像延迟加载。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ol l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Addy Osmani的本地延迟加载演示</p></figure><p id="9171" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">您可能已经在使用类似于<a class="ae ky" href="https://github.com/aFarkas/lazysizes" rel="noopener ugc nofollow" target="_blank"> lazysizes </a>的脚本来延迟加载图像；然而，有一种方法仍然可以延迟加载图像，同时在客户端发送更少的代码和执行更少的JavaScript。另外，它是搜索引擎优化友好的。当然，所有这些优势都依赖于<a class="ae ky" href="https://caniuse.com/#feat=loading-lazy-attr" rel="noopener ugc nofollow" target="_blank">浏览器对</a>的支持。目前，只有Chrome和Opera支持<code class="fe nu nv nw nx b">loading</code>属性。</p><p id="3137" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><strong class="lf iu">注:</strong>图片重复在网站中相当常见。确保你没有使用一个以上的脚本进行延迟加载，这样你的图片就只下载一次。检查开发工具中的网络选项卡，查看正在下载的图像。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://addyosmani.com/blog/lazy-loading/" rel="noopener ugc nofollow" target="_blank">使用shim脚本延迟加载图像</a></p></figure><p id="c8d2" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果你想了解更多，看看几个例子，请查看Addy Osmani的这篇文章。如果你喜欢，这里还有一个<a class="ae ky" href="https://lazy-loading.firebaseapp.com/lazy_loading_native.html" rel="noopener ugc nofollow" target="_blank">示例网站</a>。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="8ded" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">结论</h1><p id="77f1" class="pw-post-body-paragraph lc ld it lf b lg nb ju li lj nc jx ll lz nd lo lp ma ne ls lt mb nf lw lx ly im bi translated">这就是我优化图像的全部内容。希望你发现这些技巧很有见地，并从今天开始优化你的图片。一定要检查它们，看看你是否得到任何性能的提高，尤其是如果你的网站是图片密集型的。</p><p id="48a1" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">但是请记住，最好的做法是<a class="ae ky" href="https://webpagetest.org/mobiletest" rel="noopener ugc nofollow" target="_blank">在每次改变前后测量性能</a>,因为每个网站都是不同的，有些优化会奏效，而有些则不会。</p><p id="664c" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">祝你愉快。干杯！</p></div></div>    
</body>
</html>