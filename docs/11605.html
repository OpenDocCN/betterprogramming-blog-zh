<html>
<head>
<title>Implementing Dynamic Localization on Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Android上实现动态本地化</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/dynamic-localization-on-android-be0b69f73be4?source=collection_archive---------2-----------------------#2022-04-03">https://betterprogramming.pub/dynamic-localization-on-android-be0b69f73be4?source=collection_archive---------2-----------------------#2022-04-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0ec7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">翻译..翻译..到处</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/44c438fc5edc27bdb48a09fd8f629961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fLeR-PxgI61y69KSpa1aug.png"/></div></div></figure><p id="10d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你的应用面向全球用户，应用内本地化在现代android应用开发中是不可避免的。有多种方法可以在android应用中实现应用内本地化。</p><p id="0e01" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这篇博客中，我将向你展示我们的Android团队如何在<a class="ae ln" href="https://codigo.co" rel="noopener ugc nofollow" target="_blank"> Codigo </a>实现动态本地化</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h2 id="f0d4" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">在我们深入研究实现之前，为什么标题是"<strong class="ak">动态本地化</strong>"？</h2><p id="a381" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">这只是因为我们在运行时加载整个应用程序的翻译。<br/>翻译的数据源可以来自任何地方！(远程、本地JSON文件，或来自任何类型的本地资产)</p><h2 id="abc9" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">是什么让动态本地化比Android的本地化资源更好？</h2><p id="f258" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">Android的本地化资源取决于您用户的设备语言设置。手动控制特定于应用程序的区域设置并实时反映变化是很困难的。<em class="mt">(也就是说，你必须重启你的整个活动来刷新你的语言环境)。</em></p><p id="27d9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，您的翻译资源完全是本地的，因为它与APK打包在一起。这意味着每当你想更新翻译时，你都必须构建并发布一个新版本的应用程序。</p><p id="76c7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过动态本地化，您可以从CMS或管理仪表板或任何地方远程更新您的翻译，您的应用程序将在运行时获取和更新，而无需更改您的代码或生成任何新版本。</p><p id="cdc8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">听起来很有希望？来实施吧！</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="f480" class="mu lw iq bd lx mv mw mx ma my mz na md jw nb jx mg jz nc ka mj kc nd kd mm ne bi translated">我们的目标</h1><p id="2ec4" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">让我们在开始之前设定我们的目标。我们的应用应该能够:</p><ol class=""><li id="5b50" class="nf ng iq kt b ku kv kx ky la nh le ni li nj lm nk nl nm nn bi translated">应用程序启动后加载默认本地化数据</li><li id="4244" class="nf ng iq kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">在应用程序中的任何地方提供对翻译的轻松访问</li><li id="e940" class="nf ng iq kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">实时反映用户的首选语言<br/>(即应用程序应反映对所选语言的更改，而无需重启应用程序)</li><li id="1ebe" class="nf ng iq kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">支持翻译文本中的文本模板</li><li id="f446" class="nf ng iq kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">使用默认语言以防出错</li></ol></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="85c5" class="mu lw iq bd lx mv mw mx ma my mz na md jw nb jx mg jz nc ka mj kc nd kd mm ne bi translated">我们的解决方案</h1><ol class=""><li id="b56f" class="nf ng iq kt b ku mo kx mp la nt le nu li nv lm nk nl nm nn bi translated">用一个<code class="fe nw nx ny nz b">localization.json</code>文件作为原始资产保留我们的默认本地化。</li><li id="a211" class="nf ng iq kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">创建一个提供本地化相关信息和功能的抽象<code class="fe nw nx ny nz b">LocalizedViewModel</code>,这样任何视图模型都可以很容易地从它扩展并利用它。</li><li id="6cb0" class="nf ng iq kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">公开一个<strong class="kt ir">可观察的</strong>本地化数据，并将用户选择的语言作为一个<code class="fe nw nx ny nz b">SharedPreference</code>持久化。</li><li id="e084" class="nf ng iq kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">创建一个文本格式化函数，这样我们就可以在本地化的字符串中支持文本模板。</li><li id="c58b" class="nf ng iq kt b ku no kx np la nq le nr li ns lm nk nl nm nn bi translated">万一远程获取失败，回退到我们的缓存翻译。</li></ol></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="9953" class="mu lw iq bd lx mv mw mx ma my mz na md jw nb jx mg jz nc ka mj kc nd kd mm ne bi translated">演示项目设置</h1><p id="bbab" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">既然我们已经设定了目标，让我们开始实施吧。我已经建立了一个项目来演示我们如何进行动态本地化。您可以从以下存储库中克隆或下载示例项目。</p><div class="oa ob gp gr oc od"><a href="https://github.com/NaingAungLuu/dynamic-localization.git" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">GitHub-NaingAungLuu/Dynamic-localization:一个展示动态…</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">github.com</p></div></div><div class="om l"><div class="on l oo op oq om or kp od"/></div></div></a></div><p id="2cfb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">示例项目使用以下堆栈:</p><ul class=""><li id="0e6d" class="nf ng iq kt b ku kv kx ky la nh le ni li nj lm os nl nm nn bi translated"><strong class="kt ir"> MVVM +存储库+本地&amp;远程数据源</strong></li><li id="9f60" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated"><strong class="kt ir"> Jetpack撰写+单个活动</strong>(用于UI)</li><li id="bf53" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated"><strong class="kt ir">科特林流量</strong>(用于反应性)</li><li id="a23c" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated">莫希-科特林(用于JSON序列化)</li><li id="a2dd" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated"><strong class="kt ir">匕首柄</strong>(依赖注射用)</li></ul></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h2 id="f5fa" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">应用程序UI</h2><p id="b7c8" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">演示应用程序设置了一个最小的用户界面，只有一个屏幕来显示翻译的文本和三个按钮来切换语言:<strong class="kt ir">英语</strong>、<strong class="kt ir">中文</strong>和<strong class="kt ir">缅甸语</strong>。</p><div class="kg kh ki kj gt ab cb"><figure class="ot kk ou ov ow ox oy paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/aad815313e55433db3f97bc7b32f203f.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*QC44H6b4wTslW11hVbveYQ.png"/></div></figure><figure class="ot kk ou ov ow ox oy paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/f7c68b7929de13bec5eb1eb0635dae43.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*A0S0zHollocsvfGZ5QT4mg.png"/></div></figure><figure class="ot kk ou ov ow ox oy paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/5ed8a34fd812305751597da52f66b190.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*rcaoCRrb1WxtMrjD5LCx1g.png"/></div><p class="oz pa gj gh gi pb pc bd b be z dk pd di pe pf translated">带有不同语言设置的演示应用程序的主屏幕</p></figure></div><h1 id="a80b" class="mu lw iq bd lx mv pg mx ma my ph na md jw pi jx mg jz pj ka mj kc pk kd mm ne bi translated">数据模型</h1><p id="ac29" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">为了给我们的应用程序提供本地化数据，我设置了一个<code class="fe nw nx ny nz b">localization.json</code>文件作为<code class="fe nw nx ny nz b">raw</code> android资源。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="1228" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您检查了结构，它只是三个json对象，每个翻译一个。每一个都包含相同的密钥。我们将在演示应用中使用这些翻译。</p><p id="13b4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，让我们创建一个<code class="fe nw nx ny nz b">Localization</code>类来保存上面的翻译。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="9267" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nw nx ny nz b">Localization.getDefaultLocalization()</code>该功能用于在Jetpack Compose中进行预览。</p><p id="03f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们有了<code class="fe nw nx ny nz b">Localization</code>类，我们将创建一个<code class="fe nw nx ny nz b">LocalizationBundle</code>类来保存所有语言的翻译。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="faa8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们将创建一个enum类来保存我们支持的语言。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="70d8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">数据模型到此结束，我们现在可以进入有趣的部分，<code class="fe nw nx ny nz b">Repository</code>和<code class="fe nw nx ny nz b">DataSources</code></p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="391e" class="mu lw iq bd lx mv mw mx ma my mz na md jw nb jx mg jz nc ka mj kc nd kd mm ne bi translated">存储库和数据源</h1><p id="5a41" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">我们的数据层是这样建立的…</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/e582230f27e85264c75408908633760e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tth43sB3o_n3qMfSi-AZ9g.png"/></div></div></figure><h2 id="5438" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">本地化知识库</h2><p id="a8d0" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated"><code class="fe nw nx ny nz b">LocalizationRepository</code>将消耗来自本地<em class="mt">(原始json文件)</em>和远程<em class="mt">(虚拟网络api) </em>源的数据</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="237b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们的<code class="fe nw nx ny nz b">LocalizationRepository</code>曝光了以下…</p><ul class=""><li id="e8f9" class="nf ng iq kt b ku kv kx ky la nh le ni li nj lm os nl nm nn bi translated"><code class="fe nw nx ny nz b">localizationFlow</code>实时消费本地化</li><li id="faca" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated"><code class="fe nw nx ny nz b">currentAppLanguage</code>，顾名思义</li><li id="8c82" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated"><code class="fe nw nx ny nz b">updateLanguage</code>语言切换功能</li></ul><p id="6932" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们对<code class="fe nw nx ny nz b">LocalizationRepository</code>的实现如下…</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="4a1e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">哇，这里发生了很多事！让我给你解释一下。</p><ul class=""><li id="edd0" class="nf ng iq kt b ku kv kx ky la nh le ni li nj lm os nl nm nn bi translated">首先，我们设置了流和缓存状态。这里你会看到私人和公共的流动。私立学校是个<code class="fe nw nx ny nz b">MutableStateFlow</code>，公立学校只是个<code class="fe nw nx ny nz b">StateFlow</code>。这样，我们就限制了外部类修改我们的状态。</li><li id="3f47" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated"><code class="fe nw nx ny nz b">updateLanguage</code>函数发出各自的语言本地化对象并保存在<code class="fe nw nx ny nz b">SharedPreference</code></li><li id="f2a2" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated">我们有名为<code class="fe nw nx ny nz b">getLocalization</code>和<code class="fe nw nx ny nz b">LocalizationBundle.getLocalization()</code>的辅助函数。如果缓存为空，前者返回缓存的翻译或来自<code class="fe nw nx ny nz b">localization.json,</code>的翻译。后者从所选语言的<code class="fe nw nx ny nz b">LocalizationBundle</code>中提取正确的<code class="fe nw nx ny nz b">Localization</code>对象。</li><li id="e2db" class="nf ng iq kt b ku no kx np la nq le nr li ns lm os nl nm nn bi translated"><code class="fe nw nx ny nz b">getLocalizationFromRemote()</code>展示了从远程本地化获取<code class="fe nw nx ny nz b">Localization</code>的例子。</li></ul><h2 id="dc12" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">本地数据源</h2><p id="61b7" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">你可以在下面看到<code class="fe nw nx ny nz b">LocalizationLocal</code>类的实现。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="2d45" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它基本上将<code class="fe nw nx ny nz b">localization.json</code>文件从<strong class="kt ir">原始资产</strong>反序列化为<code class="fe nw nx ny nz b">LocalizationBundle</code>。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="5f8d" class="mu lw iq bd lx mv mw mx ma my mz na md jw nb jx mg jz nc ka mj kc nd kd mm ne bi translated">视图模型</h1><p id="e7b7" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">现在我们的<code class="fe nw nx ny nz b">LocalizationRepository</code>已经准备好了，我们可以开始将它集成到我们的视图模型中。我们将创建一个名为<code class="fe nw nx ny nz b">LocalizedViewModel</code>的抽象类，如下…</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="71c7" class="mu lw iq bd lx mv mw mx ma my mz na md jw nb jx mg jz nc ka mj kc nd kd mm ne bi translated">还是用UI实现吧！</h1><p id="81f1" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">我们已经成功地设置了视图模型和存储库。现在我们可以开始使用UI中的数据了！为了使用本地化数据，我们只需要用<code class="fe nw nx ny nz b">ViewModel</code>类来扩展<code class="fe nw nx ny nz b">LocalizedViewModel</code>。</p><p id="616e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以看到我们的演示应用程序的主屏幕实现如下…</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="676e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为我们使用的是Jetpack Compose，所以我们只是使用<code class="fe nw nx ny nz b">collectAsState()</code>扩展函数来消费本地化流。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="fa80" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果使用Android的<code class="fe nw nx ny nz b">DataBinding</code>功能，我们也可以轻松绑定！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h2 id="3e07" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">顶部带有字符串模板的Cherry</h2><p id="3fb4" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">我们可以通过在翻译中支持字符串模板来进一步扩展我们的实现。我们可以利用下面的方法来替换翻译后的字符串中的变量。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pl pm l"/></div></figure><p id="2eff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的实现中，我们使用<code class="fe nw nx ny nz b">%@</code>作为模板句柄。所以我们的函数用传递的参数替换每个<code class="fe nw nx ny nz b">%@</code>。我们可以为<code class="fe nw nx ny nz b">TEMPLATE_HANDLE</code>使用任何一种独特的字符或字符串</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h2 id="cb0e" class="lv lw iq bd lx ly lz dn ma mb mc dp md la me mf mg le mh mi mj li mk ml mm mn bi translated">就是这样！干杯！</h2><p id="14b1" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">我们已经成功实现了“动态本地化”功能，我们的用户界面将实时反映所选择的语言。您可以在这个Github资源库中阅读或尝试我对这个演示应用程序的完整实现。你也可以自由评论文章中的任何错误或误解！</p><div class="oa ob gp gr oc od"><a href="https://github.com/NaingAungLuu/dynamic-localization.git" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">GitHub-NaingAungLuu/Dynamic-localization:一个展示动态…</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">github.com</p></div></div><div class="om l"><div class="po l oo op oq om or kp od"/></div></div></a></div></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><pre class="kg kh ki kj gt pp nz pq pr aw ps bi"><span id="3589" class="lv lw iq nz b gy pt pu l pv pw"><strong class="nz ir">Want to Connect?</strong></span><span id="ed27" class="lv lw iq nz b gy px pu l pv pw">You can follow me on <a class="ae ln" href="https://twitter.com/harryluu_96" rel="noopener ugc nofollow" target="_blank">Twitter</a> and <a class="ae ln" href="https://www.linkedin.com/in/naing-aung-luu-6113b7192/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a> too!</span></pre></div></div>    
</body>
</html>