<html>
<head>
<title>How To Get a Timestamp in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中获得时间戳</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-get-a-timestamp-in-javascript-e1b7ecd769f7?source=collection_archive---------2-----------------------#2020-01-04">https://betterprogramming.pub/how-to-get-a-timestamp-in-javascript-e1b7ecd769f7?source=collection_archive---------2-----------------------#2020-01-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="85fd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习使用getTime()、now()和一元加号运算符</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/2079ee0d0a82907ccfddf508c08f4166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*HUKw8jtQ_5EZbfbemUJ19w.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">由<a class="ae ku" href="https://unsplash.com/@markusspiske?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">马库斯·斯皮斯克</a>在<a class="ae ku" href="https://unsplash.com/s/photos/timestamp?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d67e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在任何编程语言中，处理时间都是一项基本技能。有些语言比其他语言更容易掌握。后者让看似简单的任务变得复杂到让你头昏脑胀。</p><p id="655f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">JavaScript位于中间。乍一看，它似乎过于复杂；然而，一旦你理解了游戏中的部分，它会很快变得更加清晰。</p><p id="116e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">对于JavaScript日期，10篇文章已经足够了，在本教程中，我们将讨论如何获得时间戳——传统方法和更简洁的现代技术。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="8ca3" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">什么是时间戳？</h1><p id="c774" class="pw-post-body-paragraph kv kw it kx b ky mq ju la lb mr jx ld le ms lg lh li mt lk ll lm mu lo lp lq im bi translated">在我们开始之前，让我们确切地定义一下什么是时间戳。该术语在各种上下文中使用不严格，但是我们将把时间戳定义为单个时间点的数字表示。此外，我们的时间戳将是从UTC 1970年1月1日开始的毫秒数——这被称为Unix纪元。</p><p id="a81d" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这意味着我们的时间戳将是一个长整数，比如1578054035。这样表示时间有什么好处？它当然不容易阅读……至少对人眼来说是这样。通过使用一组度量单位和标准格式，它使时间计算变得非常容易，因为您可以在Unix时间戳上执行运算。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="559e" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">使用Date()对象</h1><p id="7707" class="pw-post-body-paragraph kv kw it kx b ky mq ju la lb mr jx ld le ms lg lh li mt lk ll lm mu lo lp lq im bi translated">在JavaScript中处理日期和时间时，<code class="fe mv mw mx my b">Date()</code>对象是满足大多数需求的一站式商店。最需要理解的是，当你创建一个<code class="fe mv mw mx my b">Date()</code>对象时，它保存分钟、小时、日、月、年等。作为独立的信息片段。你没有创造一个简单的时间表示。</p><p id="a1d9" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">由于这个原因，一开始和<code class="fe mv mw mx my b">Date()</code>对象一起工作会感到不知所措。幸运的是，我们不需要使用所有不同的特性，我们只需要时间戳。</p><p id="3b29" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">有两种获取时间戳的传统方法。第一个使用来自一个<code class="fe mv mw mx my b">Date</code>对象的<code class="fe mv mw mx my b">.getTime()</code>方法。</p><pre class="kj kk kl km gt mz my na nb aw nc bi"><span id="e120" class="nd lz it my b gy ne nf l ng nh">let d = new Date();<br/>let timestamp = d.getTime();<br/>console.log(timestamp);</span></pre><p id="1711" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">当您需要获取特定时间点的时间戳而不是当前时间戳时，这种方法非常方便。</p><p id="a006" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果您只需要当前的时间戳，您可以绕过创建新对象，使用<code class="fe mv mw mx my b">.now()</code>方法。</p><pre class="kj kk kl km gt mz my na nb aw nc bi"><span id="e545" class="nd lz it my b gy ne nf l ng nh">let timestamp = Date.now();</span></pre><p id="1250" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果你想把毫秒转换成秒，我们需要做一个转换。</p><pre class="kj kk kl km gt mz my na nb aw nc bi"><span id="e146" class="nd lz it my b gy ne nf l ng nh">// .getTime()<br/>let timestamp = Math.round(new Date().getTime() / 1000);</span><span id="cbc8" class="nd lz it my b gy ni nf l ng nh">// .now()<br/>let timestamp = Math.round(Date.now() / 1000);</span></pre><p id="1c98" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果你想截断毫秒(总是向下舍入)，那么使用<code class="fe mv mw mx my b">Math.floor()</code>代替。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="d3de" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">使用一元加号运算符</h1><p id="d16e" class="pw-post-body-paragraph kv kw it kx b ky mq ju la lb mr jx ld le ms lg lh li mt lk ll lm mu lo lp lq im bi translated">我们可以通过利用一元加号运算符来进一步压缩代码。一元运算符只接受一个<em class="nj">操作数</em>(被运算的值)。在一元运算符中，加号运算符将尝试将其操作数转换为数字。</p><p id="5e9d" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">当一个<code class="fe mv mw mx my b">Date()</code>对象与一元加操作符一起使用时，我们得到未改变的时间戳。</p><pre class="kj kk kl km gt mz my na nb aw nc bi"><span id="d6ac" class="nd lz it my b gy ne nf l ng nh">let timestamp = + new Date();<br/>console.log(timestamp);</span></pre><p id="331a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">你更喜欢哪种方法在很大程度上取决于你的句法风格和你认为清楚的东西。对于我自己，我在单个语句中使用一元加号运算符。然而，当多个语句链接或嵌套在一起时，我更喜欢使用<code class="fe mv mw mx my b">Date.now()</code>,因为我觉得它更容易阅读。</p><pre class="kj kk kl km gt mz my na nb aw nc bi"><span id="0226" class="nd lz it my b gy ne nf l ng nh">// easy to read<br/>let timestamp = + new Date();</span><span id="ff52" class="nd lz it my b gy ni nf l ng nh">// hard to read<br/>let timestamp = Math.floor(+ new Date()/1000);</span></pre><p id="e322" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">当我在链或嵌套语句中看到一元运算符时，我的眼睛和大脑会记录一个缺少的加法操作数。因此，为了清楚起见，我更喜欢在这些场景中使用<code class="fe mv mw mx my b">Date.now()</code>。</p></div></div>    
</body>
</html>