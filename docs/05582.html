<html>
<head>
<title>How to Implement Biometric Authentication in Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Android中实现生物认证</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-implement-biometric-authentication-in-android-a1da36d61b1e?source=collection_archive---------13-----------------------#2020-07-20">https://betterprogramming.pub/how-to-implement-biometric-authentication-in-android-a1da36d61b1e?source=collection_archive---------13-----------------------#2020-07-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1c14" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">现在，您的应用安全性更高</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/34741652bf10ed96a23a3419815f56fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VdfwsPWhLdlUES89"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@loli_oni?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">川上正风</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="49ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您设备上的许多应用程序存储了某种类型的私人数据，这些数据将受到另一个未授权用户的保护(例如，银行应用程序、金融应用程序等)。).保护这类数据的最佳方式是通过应用程序中的生物认证。有了生物识别锁，没有获得你的密码的用户在没有所有者允许的情况下无法打开应用程序。</p><p id="779d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我第一次听说生物锁的概念时，我认为这很难实现。事实上，这很容易。</p><p id="833f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看一个简短的Android生物认证演示。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d445" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">履行</h1><ol class=""><li id="a892" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">在Android Studio中创建新项目。</li><li id="6901" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">在<code class="fe nk nl nm nn b">app build.gradle</code>文件中添加一个依赖项。</li><li id="b71d" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">在主活动中添加按钮和文本。</li><li id="ee6e" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">在<code class="fe nk nl nm nn b">MainActivity.kt</code>文件中创建<code class="fe nk nl nm nn b">BiometricPrompt</code>对象。</li><li id="84ba" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">现在我们将在<code class="fe nk nl nm nn b">Oncreate()</code>中创建一个对象和一个名为<code class="fe nk nl nm nn b">isCapable</code>的布尔变量，该变量将返回设备是否具有生物认证。</li><li id="b833" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">使用<code class="fe nk nl nm nn b">BiometricPrompt</code>对象，为认证错误、成功和失败添加回调。</li></ol><p id="99b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生物认证主要有三种回调:</p><ul class=""><li id="d3d2" class="mu mv it lb b lc ld lf lg li no lm np lq nq lu nr nc nd ne bi translated"><code class="fe nk nl nm nn b">onAuthenticationError</code></li><li id="51bf" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nr nc nd ne bi translated"><code class="fe nk nl nm nn b">onAuthenticationSucceeded</code></li><li id="4d9a" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nr nc nd ne bi translated"><code class="fe nk nl nm nn b">onAuthenticationFailed</code></li></ul><p id="52df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">身份验证错误有许多可能的原因(例如，密码不正确、生物识别锁出现问题等。).认证成功和认证失败也是如此。有很多种可能。</p><p id="bc9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以根据应用程序要求使用唯一的代码来显示错误或任何消息。</p><p id="8ccc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在<a class="ae ky" href="https://developer.android.com/reference/android/hardware/biometrics/BiometricPrompt.AuthenticationCallback#onAuthenticationError(int,%20java.lang.CharSequence)" rel="noopener ugc nofollow" target="_blank"> Android的文档</a>中找到所有的代码和回调类型。</p><p id="b81d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">7.添加生物识别<code class="fe nk nl nm nn b">PromptInfo</code>对象。</p><ul class=""><li id="c40a" class="mu mv it lb b lc ld lf lg li no lm np lq nq lu nr nc nd ne bi translated">您可以在锁定屏幕上根据您想要的信息编辑<code class="fe nk nl nm nn b">setTitle</code>和<code class="fe nk nl nm nn b">setSubtitle</code>。</li><li id="6835" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nr nc nd ne bi translated"><code class="fe nk nl nm nn b">setDeviceCredentialAllowed</code>将允许用户使用除生物认证之外的选项来解锁应用程序(例如，密码、数字密码或模式锁)。</li><li id="043d" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nr nc nd ne bi translated"><code class="fe nk nl nm nn b">setConfirmationRequired</code>将确认给定的用户凭证，但仅当面部锁定激活时。</li></ul><p id="a26d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">8.最后一步是按钮点击事件，应用程序锁的对话框打开。</p><p id="35cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！生物认证已经实现。</p><p id="80bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是演示的一部分:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/7c034c03d6878a06c6500a17b5c3a5d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JG-42InGf-jNhXui3ETyew.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d496" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">参考</h1><div class="nt nu gp gr nv nw"><a href="https://github.com/pg598595/Bio_Metric_Auth_Android" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd iu gy z fp ob fr fs oc fu fw is bi translated">pg 598595/Bio _ metrix _ Auth _ Android</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">解散GitHub是超过5000万开发者的家园，他们一起工作来托管和审查代码，管理项目，以及…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ks nw"/></div></div></a></div><div class="nt nu gp gr nv nw"><a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricManager" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd iu gy z fp ob fr fs oc fu fw is bi translated">生物计量管理器| Android开发人员</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">AccessibilityServiceMagnificationController . OnMagnificationChangedListener</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">developer.android.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok ks nw"/></div></div></a></div></div></div>    
</body>
</html>