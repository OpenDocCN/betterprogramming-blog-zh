# Windows 用户欢欣鼓舞！现在已经有一个带有 ACL 和 TSL 支持的本地 Redis 可以使用了

> 原文：<https://betterprogramming.pub/windows-users-rejoice-theres-a-native-redis-with-acl-and-tsl-support-ready-for-use-now-17d5ef8c6c40>

## Memurai 刚刚发布了 3.0 版本，完全兼容 Redis 6.0

![](img/617817f7a718b86bd8bb9f6a44de157f.png)

由 [Unsplash](https://unsplash.com/s/photos/happy-computer?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的[窗口](https://unsplash.com/@windows?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)拍摄

与 Redis 6.0 完全兼容的[Memurai’](https://www.memurai.com/)s[version 3.0](https://www.memurai.com/blog/announcing-memurai-3)的发布标志着 Windows 用户寻求获得后者所包含的新安全功能的重大突破。作为一个原生的 Windows 应用程序， [Memurai](https://www.memurai.com/) 将提供这些开箱即用的功能，而无需您解决限制或不兼容问题。

两个主要的更新是通过 ACL 合并了用户管理，以及增加了对 TLS 1.2 的支持。

让我们来分析它们，以了解它们的实际影响范围。

# 使用 TLS 1.2 保护客户端-服务器连接

在这个版本的[Memurai](https://www.memurai.com/)和 Redis 之前，还没有本地的方法来支持数据库服务器和与之交互的多个客户机之间的安全连接。

TLS 协议允许在客户端和服务器之间创建安全的连接。加密连接不可能被外部监听，这使得它成为具有高安全性要求的应用程序的理想解决方案。

此类应用包括银行解决方案等平台，在这些平台上，信用卡号、银行账户信息和其他细节等信息不会以任何方式泄露。或者甚至是医疗保健行业，在这些行业中，患者信息需要保密以遵守法规。

到目前为止，在这些(以及类似的)行业中使用 Redis 解决方案是相当困难的，因为将它添加到他们的架构中会增加一个潜在的安全漏洞。

当然，开发团队可以采取变通办法来确保数据的安全性，但是额外的努力并不总是值得的。
现在，这一额外的安全层使得在这些情况下再次谈论 Redis 成为可能，为陈旧过时的行业带来了最先进的技术(想想这些行业如何在大多数时候需要更多地考虑安全而不是技术)。

# 通过 ACLS 向 Redis 添加用户控制

为了与安全主题保持一致，访问控制列表(或 ACL)的添加是向提供一个存储数据的更安全的生产环境迈出的又一大步。

到目前为止，Redis 提供的唯一安全机制是您必须在初始连接时提供的密码。

这当然意味着每个客户端对您的服务器都有相同的认证凭证，没有真正的方法来分别提供不同的访问级别。

现在情况不同了，ACL 不仅允许您决定谁可以访问您的数据，还允许您决定他们可以获得什么样的访问权限。

例如，拥有只读用户现在只需一个命令就可以轻松实现:

`ACL SETUSER`命令将用给定的密码创建(或更新)一个用户，并删除所有权限。然后 Redis 会开始读取权限列表，只启用那些以`+`开头的权限。所以，在上面的例子中，用户“fernando”是用密码“p4ssw0rd”创建的，它的启用要感谢这里的`on`。

此外，该行只授予新用户对所有键的`GET` 命令的权限。

这个用户将永远不能在数据库上写任何东西。

对于其他数据库管理器来说，这是一个正常的场景，使用只读用户是一个很好的做法，可以降低凭据被黑客攻击时的安全风险。

当然，您不需要手动执行这个配置。使用`aclfile` 配置选项，可以配置 Redis 直接从文件中加载 ACL。然后简单地使用`ACL LOAD`命令就可以完成剩下的工作。

## 按命令类型限制访问

此外，Redis 还允许我们指定希望为用户启用的命令的类别。这样，您可以选择正确的类别，并在一行中自动分配对多个命令的访问，而不是一个接一个地指定它们。

命令`ACL CAT`将列出所有这些类别，但值得注意的是:

*   **pubsub** 。这些都是与 Redis 的消息总线功能相关的命令。例如，如果你正在使用 Redis 来互连微服务或作为一个[聊天消息总线](https://www.memurai.com/blog/using-redis-for-chat-and-messaging)，你可能想要为一组特定的用户单独启用这个类别。
*   **快**。这些都是 O(1)命令，可以在单个操作中保存数据或快速读取数据，但不包括那些需要迭代多个键来完成任务的命令。如果您希望限制某些用户对您的存储层的性能影响，这一点尤其有趣。通过这一类别，您只能让他们使用最具性能的
*   **危险**。如果用户不小心，此类别包含的命令可能会对您的储存空间造成一些损坏。我说的是像`FLUSHALL`、`MIGRATE`和`CONFIG`这样的人，仅举几个例子。这是一个很好的类别，可以在管理员或支持用户上启用，但在普通用户上禁用。当然，你也有“管理”类别。
*   **读** / **写**。这些类别包括与按键读写相关的命令。如果您将 Redis 用于像会话存储或缓存这样的用例，那么让用户只访问这些类别可能是个好主意。

要使用其中一个类别，只需在名称前加上一个`@`，就像这样:

这个命令将创建一个新的`admin`用户，可以访问他们可能需要的所有“有趣”的命令。

还有其他的类别，你真的应该查看一下[类别的完整列表](https://redis.io/docs/manual/security/acl)以了解它们是如何分类的。

在为单个用户分配多个权限时，它们是真正的省时工具。

# 迄今为止最大的更新之一

[memu rai](https://www.memurai.com/blog/announcing-memurai-3)3.0 版本可能是 Windows 用户迄今为止最大的更新之一。添加到 [Memurai](https://www.memurai.com/) 中的两大功能为存储层带来了全新级别的开箱即用安全性，让人难以忽视。

再加上 ACL 命令提供的灵活性，可能性是无穷无尽的。

最重要的是，你有一个对开发者非常友好的产品，为他们提供了许多强大的功能。

[Memurai 3.0](https://www.memurai.com/blog/announcing-memurai-3) 使您能够构建您的解决方案，并且由于它与 Redis 6.0 API 完全兼容，任何支持的编程语言上的任何库都将兼容。

你以前试过 Memurai 吗？还是 ACL API？我迫不及待地想在我的下一个项目中尝试这个！