<html>
<head>
<title>Easy Way to Create a Good Error-Handling in Flutter With Dartz</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用达姿在颤振中创建良好的错误处理的简单方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/easiest-way-to-create-a-good-error-handling-in-flutter-with-dartz-44084d5341bb?source=collection_archive---------1-----------------------#2022-05-06">https://betterprogramming.pub/easiest-way-to-create-a-good-error-handling-in-flutter-with-dartz-44084d5341bb?source=collection_archive---------1-----------------------#2022-05-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b9c5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不要让你的用户感到困惑，在开发应用程序的时候，创建一个好的错误处理机制</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2c05f2704162ab00992e28e959ab4aa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*INRKPrr_K0unchVAcPi3Ng.png"/></div></div></figure><p id="709a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作为开发人员，我们的主要任务是创建应用程序来解决某些问题。当发布时，我们开发的应用程序可能会在用户面前产生一些错误。例如，可能我们的用户输入数据不正确，连接丢失，甚至我们的服务器关闭。</p><p id="3730" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一个好的应用程序将能够处理错误，并能再次为用户指出正确的道路。我们当然不希望仅仅因为应用程序不能处理像失去连接这样的小错误，用户就决定卸载它。</p><p id="372b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我将展示如何使用达姿在一个颤振项目中创建良好的错误处理。</p><div class="ln lo gp gr lp lq"><a href="https://pub.dev/packages/dartz" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">dartz |飞镖包</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">按照cats、scalaz和标准Haskell库的精神，Dart类型类层次结构中的函数式编程…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">公共开发</p></div></div><div class="lz l"><div class="ma l mb mc md lz me kp lq"/></div></div></a></div><h1 id="6ffb" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">履行</h1><p id="b5c9" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">首先，我们需要弄清楚哪些错误是可能发生的。例如，在登录流中，常见的错误是:</p><ul class=""><li id="b788" class="nc nd iq kt b ku kv kx ky la ne le nf li ng lm nh ni nj nk bi translated">用户输入错误的密码或电子邮件未注册</li><li id="a8af" class="nc nd iq kt b ku nl kx nm la nn le no li np lm nh ni nj nk bi translated">服务器可能有问题</li><li id="2e10" class="nc nd iq kt b ku nl kx nm la nn le no li np lm nh ni nj nk bi translated">失去互联网连接</li></ul><p id="9cd6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，让我们将我们需要的包添加到<code class="fe nq nr ns nt b">pubspec.yaml</code>文件中:</p><pre class="kg kh ki kj gt nu nt nv nw aw nx bi"><span id="2e79" class="ny mg iq nt b gy nz oa l ob oc">...<br/>dependencies:<br/>    flutter:<br/>        sdk: flutter<br/>    <br/>    dartz: ^0.10.1<br/>    ...</span></pre><p id="8867" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在达姿包中，我们将使用一个叫做<code class="fe nq nr ns nt b">Either&lt;L,R&gt;</code>的类。这个类将被用来在一个函数中返回两个不同的东西。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="5b7c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有一个类型为<code class="fe nq nr ns nt b">Future&lt;<strong class="kt ir">Either&lt;LoginFailure, bool&gt;</strong>&gt;</code>的函数。有了这个类型，现在我可以从函数中返回两个不同的东西。</p><p id="d27b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当请求成功时(状态码为200)，布尔值true将作为正确的值返回。</p><p id="3c21" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果请求失败，我可以通过返回<code class="fe nq nr ns nt b">enum</code>作为左值来轻松处理它。<code class="fe nq nr ns nt b">enum</code>阶层充当助手创造条件。</p><p id="6d02" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是我们使用登录功能的方式，例如在<code class="fe nq nr ns nt b">controller</code>中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="aa3e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在你可以像这样创建一些用户交互。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7bb7ee8537cf5d12262b4e052e9667af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4tPnVTuF07FKNvOICXnPbg.png"/></div></div><p class="of og gj gh gi oh oi bd b be z dk translated">处理一些错误的用户交互示例</p></figure><h1 id="a03b" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">概述</h1><p id="8272" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">这就是在颤振上实现良好的错误处理的方法。术语“好”意味着我们的应用程序有更丰富的错误处理功能，可以帮助用户了解他们在使用应用程序时是否有问题。</p><p id="c933" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读。我希望这些简短的提示可以帮助你为你的Flutter项目编写一个更加干净、简洁和健壮的代码库。</p></div></div>    
</body>
</html>