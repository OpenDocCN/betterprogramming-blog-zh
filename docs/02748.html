<html>
<head>
<title>Integrate Elasticsearch With Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Elasticsearch与Node.js集成</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/integrate-elasticsearch-with-node-js-37ed7b286f1c?source=collection_archive---------3-----------------------#2019-12-23">https://betterprogramming.pub/integrate-elasticsearch-with-node-js-37ed7b286f1c?source=collection_archive---------3-----------------------#2019-12-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d8c0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">完整而简单的集成</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/40a5ab103e6a64fd67b7e44834c0492b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZEtpmZguRkRK138n1Yvbw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@kobuagency?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Kobu机构</a>在<a class="ae ky" href="https://unsplash.com/s/photos/search?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a4eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.elastic.co/" rel="noopener ugc nofollow" target="_blank"> Elasticsearch </a>是一个搜索引擎(也是一个数据库),主要用于搜索、收集和分析日志。它变得非常受欢迎，并被用于各种应用。</p><p id="b847" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将告诉你Elasticsearch与Node.js的完全集成。我们将创建自己的数据库，并从该数据库中搜索内容。Elasticsearch与Node.js的集成相当容易。</p><p id="b165" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，在整合这个之前，你要有<a class="ae ky" href="https://www.elastic.co/guide/index.html" rel="noopener ugc nofollow" target="_blank"> Elasticsearch </a>的基础知识。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6179" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">在这篇文章中我们做了什么？</h1><ul class=""><li id="b9dc" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">我们将安装Elasticsearch并在我们的系统中运行它。(我们将使用<a class="ae ky" href="https://medium.com/@svsh227/docker-do-you-know-about-it-c7a5151e27ef" rel="noopener"> Docker </a>，Elasticsearch将在那里运行，这非常容易。</li><li id="1671" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">我们将为实时搜索创建一个巨大的数据存储。</li><li id="599d" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">我们将从我们创建的数据存储中创建索引(+100，000个索引)。</li><li id="bba5" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">我们将使用Elasticsearch从我们的数据存储中整合和搜索内容。</li><li id="66b1" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">我们将分析搜索时间。</li><li id="f3e8" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">删除Elasticsearch的索引。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8258" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装Elasticsearch</h1><p id="ee21" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们在<a class="ae ky" href="https://docs.docker.com/install/linux/docker-ce/ubuntu/" rel="noopener ugc nofollow" target="_blank">Ubuntu</a>/<a class="ae ky" href="https://docs.docker.com/docker-for-mac/install/" rel="noopener ugc nofollow" target="_blank">Mac</a>/<a class="ae ky" href="https://docs.docker.com/v17.09/docker-for-windows/install/" rel="noopener ugc nofollow" target="_blank">Windows</a>上安装Elasticsearch，同时安装<a class="ae ky" href="https://medium.com/@svsh227/docker-do-you-know-about-it-c7a5151e27ef" rel="noopener"> Docker </a>。</p><h2 id="6ed6" class="nn md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">用Docker运行弹性搜索</h2><p id="d134" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在继续之前，我假设您已经成功安装了Docker。让我们使用Docker在本地运行Elasticsearch。</p><p id="d4ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您需要使用以下命令提取图像进行弹性搜索:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="1ea5" class="nn md it oa b gy oe of l og oh">docker pull docker.elastic.co/elasticsearch/elasticsearch:6.4.0</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/225de3031c4962803805c429c1f8c989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kO7I4MFLEku2ZGhjGRbs4Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“码头工人拉docker.elastic.co/elasticsearch/elasticsearch:6.4.0"命令的快照</p></figure><p id="bf4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:在上面的快照中，内容/信息可能有所不同，因为我已经为Elasticsearch提取了图像。所以，不要迷茫。</p><h2 id="6f52" class="nn md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated"><strong class="ak">运行Docker镜像</strong></h2><p id="2c3b" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">现在是时候使用下面的命令运行Docker映像了:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="2b93" class="nn md it oa b gy oe of l og oh">docker run -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" docker.elastic.co/elasticsearch/elasticsearch:6.4.0</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/9da24a3c4d46d6634fe632a3cefa41e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w0AymzuDD3Lmpsy1ddUeIA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">运行以上命令的快照</p></figure><p id="01a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，该Docker运行在端口9200上。现在，打开浏览器，点击URL <code class="fe ok ol om oa b">localhost:9200</code>并测试如下所示的消息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/90f0460985cea214c4dcadedc0299149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Do-aF5dmMHlQaHCxh8FcQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“本地主机:9200”的快照</p></figure><p id="1e5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的消息是一个很好的迹象，表明你在Docker上的Elasticsearch正在运行。</p><p id="027b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保持这个终端打开，不要关闭。如果您的Elasticsearch没有运行，您将会看到以下错误:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/44e7a80a3cfde779b1c817983095b3df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2-Bis1U7_33f0bgCfHUx7g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">弹性搜索错误的快照:错误:请求错误，正在重试</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ac16" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为实时搜索创建一个巨大的数据存储</h1><p id="ec43" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">要创建一个巨大的数据库，需要从<a class="ae ky" href="https://github.com/geometalab/OSMNames/releases/download/v2.0/planet-latest_geonames.tsv.gz" rel="noopener ugc nofollow" target="_blank"> GitHub </a>下载一个名为<code class="fe ok ol om oa b">planet-latest_geonames.tsv.gz</code>的文件，里面包含了大量的信息。</p><p id="499c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果上述链接不起作用，则进入<a class="ae ky" href="https://github.com/OSMNames/OSMNames/releases" rel="noopener ugc nofollow" target="_blank">该链接</a>并下载文件<code class="fe ok ol om oa b">planet-latest_geonames.tsv.gz</code> <strong class="lb iu"> </strong>并解压。</p><p id="fe0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查文件名，应该是<code class="fe ok ol om oa b">planet-latest-100k_geonames.tsv</code>。如果不是，就改名为<code class="fe ok ol om oa b">planet-latest-100k_geonames.tsv</code>。</p><p id="bcb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果以上链接都不起作用，那么评论我，我会亲自分享/发送给你。</p><p id="240b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，复制这个文件并创建一个目录，<code class="fe ok ol om oa b">elasticsearch</code>，然后粘贴进去。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/dbd948a0d2c42bbe03f6e1ee79c8b5d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n5WkDqVcYQpzfwAFcPwdCg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">dir:planet-latest-100k _ geonames . tsv快照</p></figure><p id="e4e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们有一个包含大量数据的巨大数据库。这是我们将对其执行索引的数据，以便我们可以实时执行搜索。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b892" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">编写索引代码并开始使用Elasticsearch</h1><p id="8712" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">为上述数据库编写创建索引的代码，并开始使用Elasticsearch。</p><p id="868c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为<code class="fe ok ol om oa b">makeIndex.js</code>的文件，并将以下代码粘贴到其中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码:makeIndex.js</p></figure><p id="48ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在是时候执行<code class="fe ok ol om oa b">makeIndex.js</code>并使用这个命令创建索引了:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="22e9" class="nn md it oa b gy oe of l og oh">node makeIndex.js</span></pre><p id="265e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您得到如下快照所示的错误:<code class="fe ok ol om oa b">No living connections</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/03a072acc3f5e72a1fd5b2866e4e0c65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xV3ZSBXGbdUzR9Yu5qaCRg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">错误:没有活动连接</p></figure><p id="81d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述错误表明您没有任何Elasticsearch的活动连接，这意味着您的Elasticsearch没有在Docker上运行(检查<code class="fe ok ol om oa b">localhost:9200</code>)。</p><p id="ef7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，你需要重复上面的步骤“用Docker运行Elasticsearch”，直到在终端上执行命令<code class="fe ok ol om oa b">node makeIndex.js</code>时得到如下消息。</p><p id="dbfd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您收到如下快照所示的消息:<code class="fe ok ol om oa b">Elastic search</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/4a2b8326025d446ecb7a14ad592fca6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DzpDNqI4MMYOlgA_6kyYSQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建索引的快照。</p></figure><p id="dc32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一段时间后，索引将会完成。(完成索引可能需要一些时间。)</p><p id="cc13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">索引的数量可能与下面的快照不同，因为它取决于下载文件<code class="fe ok ol om oa b">planet-latest_geonames.tsv.gz</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/60c3cdec09cd69fc0f5789523fc7cade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BP-G4Z9L_7ZyqZAkckpuUQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">索引完成的快照。</p></figure><p id="1e23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您可以在终端上看到消息<code class="fe ok ol om oa b">Indexing Completed</code>，这意味着您的索引已经创建，现在您可以开始搜索了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5d1d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">从上述索引中搜索数据</h1><p id="e57e" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">为了搜索索引<code class="fe ok ol om oa b">demo_elastic_index</code>中的数据，我们需要编写搜索数据的代码。因此，让我们创建一个文件<code class="fe ok ol om oa b">searchData.js</code>，并将下面的代码粘贴到这个文件中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码:searchData.js</p></figure><ul class=""><li id="26f4" class="mu mv it lb b lc ld lf lg li ov lm ow lq ox lu nb nc nd ne bi translated">//1:<code class="fe ok ol om oa b">query</code>参数表示查询上下文。</li><li id="82ea" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">//2和//3:<code class="fe ok ol om oa b">bool</code>和<code class="fe ok ol om oa b">match</code>子句在查询上下文中使用，这意味着它们用于对每个文档的匹配程度进行评分。</li><li id="4795" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">//4:<code class="fe ok ol om oa b">filter</code>参数表示过滤上下文。</li><li id="c62d" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">//5和//6:<code class="fe ok ol om oa b">term</code>和<code class="fe ok ol om oa b">range</code>子句用于过滤上下文。它们会过滤掉不匹配的文档，但不会影响匹配文档的分数。</li></ul><p id="ea6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，使用下面的命令运行上面的代码:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="7de2" class="nn md it oa b gy oe of l og oh">node searchData</span></pre><p id="a845" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在下面看到结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/7d716424bcde8cc19621638a293532e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mAFNoxypW6U5XhAnBnzpbg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">搜索结果</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/1a00c62d55f93b96cfcb16d0576bbdaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c0kyyiNYRM_L_ko7596vMA.png"/></div></div></figure><p id="195e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分数:每个文档的匹配程度。</p><p id="332e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些其他查询及其结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码:查询示例</p></figure><h1 id="fda9" class="mc md it bd me mf pa mh mi mj pb ml mm jz pc ka mo kc pd kd mq kf pe kg ms mt bi translated">删除索引</h1><p id="d45f" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们删除所有的索引。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码:deleteIndex.js</p></figure><p id="8736" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行上面的代码:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="eee1" class="nn md it oa b gy oe of l og oh">node deleteIndex.js</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/fa6e3304d72791390daf76c67c40af9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EMtvGF29gW5CjiNTb3pEtQ.png"/></div></div></figure><p id="fb10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们现在搜索:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="7ca7" class="nn md it oa b gy oe of l og oh">node searchData.js</span></pre><p id="506a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在终端中看到一条消息:</p><p id="c9d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ok ol om oa b">Index not found</code>。(因为索引现在被删除了，所以您需要通过运行命令<code class="fe ok ol om oa b">node makeIndex.js</code>再次创建索引。)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/499892eb472897f3a3167f78ae1d6ca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jV0y5xnCxQGkfcuXlsrRkg.png"/></div></div></figure><p id="5eff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们再次创建索引:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/d8390b232cf26639e9467215568ce6c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qSuNFaFAMEJhOmYC_IXHWw.png"/></div></div></figure><p id="ebf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建索引后，您可以使用<code class="fe ok ol om oa b">searchData</code>文件再次搜索数据。</p><p id="98dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，让我们享受Elasticsearch吧。感谢阅读。继续编码。</p></div></div>    
</body>
</html>