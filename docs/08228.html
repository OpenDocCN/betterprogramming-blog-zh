<html>
<head>
<title>How To Make Better Queries With React Query</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React Query进行更好的查询</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-make-better-queries-with-react-query-6543d02fb711?source=collection_archive---------1-----------------------#2021-04-08">https://betterprogramming.pub/how-to-make-better-queries-with-react-query-6543d02fb711?source=collection_archive---------1-----------------------#2021-04-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0538" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在项目中使用React Query的指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/808a14f1936a5f34c46c4a12a2eeb7eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Jh9dJDHtIv1z_Dlt"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://unsplash.com/@federi" rel="noopener ugc nofollow" target="_blank">帕特里克·费德里</a>在<a class="ae ky" href="http://unsplash.com" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="9da4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将了解以下内容:</p><ul class=""><li id="f7d4" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">何时使用React查询</li><li id="5e29" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用React查询包的简单<code class="fe mj mk ml mm b">fetch</code>请求</li><li id="bedd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">通过ID从API中搜索项目</li><li id="1409" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">页码</li><li id="f98d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">突变</li></ul></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="c3c6" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">何时使用React查询</h1><p id="18c5" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">传统的<code class="fe mj mk ml mm b">fetch()</code>方法非常适合从API中提取数据，但是如果您的应用程序增长并变得更加复杂，您可能会面临一些困难。举个例子，</p><ul class=""><li id="f41f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">缓存:为了将查询响应保存到缓存中，开发人员需要处理缓存头和浏览器缓存。这是一个令人头疼的问题。稍后，您还需要告诉React何时重新获取数据，也就是说，告诉React数据已经过时，需要更新。</li><li id="f8ac" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">分页:如果需要向用户显示大量数据，该怎么办？在这种情况下，您需要实现分页支持。当然，虽然分页是可能的，但是引入这样一个特性是另一个麻烦。</li></ul><p id="d8cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是React查询包的用武之地。这个库为您处理缓存。不需要使用缓存头和浏览器缓存。此外，它还使分页更加容易。</p><p id="9d5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，React Query通过消除与获取数据和管理服务器状态相关的许多困难，缓解了许多令人头痛的问题。</p><p id="667b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然已经谈了它的好处，就该编码了！</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="61f3" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">React查询:基础知识</h1><p id="fed4" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在文章的这一部分，我们将学习:</p><ul class=""><li id="f9cf" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">简单的API调用</li><li id="725b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用ID搜索</li></ul><h2 id="20f1" class="nr mv it bd mw ns nt dn na nu nv dp ne li nw nx ng lm ny nz ni lq oa ob nk oc bi translated">项目设置</h2><p id="97b9" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">我们需要初始化存储库。为此，运行以下终端命令:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/e4748f9cb0a0bc6af3747863869a750c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DNYaqfUtkD_SQKGlZEP1hQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">初始化存储库的终端命令。</p></figure><p id="21ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个项目中，我们将使用以下外部库:</p><ul class=""><li id="3589" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">react-query:这将用于向API发出fetch和post请求。</li><li id="5a46" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">Formik :这将用于创建一个文本表单，允许用户通过ID搜索数据。</li></ul><p id="6b03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，编写以下终端命令:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/6d39b574511cf155a47ed0bfec5544ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*85U5fLuYopMr3LXp3BFuMQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安装软件包的终端命令</p></figure><p id="424f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，导航到<code class="fe mj mk ml mm b">src/App.js</code>并删除<code class="fe mj mk ml mm b">div</code>标签之间的代码。最后，<code class="fe mj mk ml mm b">src/App.js</code>文件应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/63bfab20bc383a9a2713abb0d8b7131a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GEXPXkshqb65AoeD6buZMA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">App.js中的代码应该是这样的</p></figure><p id="1aa2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/720d75b901fc67a41c87e75150418777.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*6KWfCMQUU3KGX-wC6YTu0A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的结果</p></figure><p id="f1e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们继续用React Query进行简单的fetch请求。</p><h2 id="ae93" class="nr mv it bd mw ns nt dn na nu nv dp ne li nw nx ng lm ny nz ni lq oa ob nk oc bi translated">获取和显示数据</h2><p id="4fb6" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">第一步，在您的<code class="fe mj mk ml mm b">src</code>目录中创建一个名为<code class="fe mj mk ml mm b">Passenger.js</code>的文件。这个文件将负责从服务器获取数据。我们将在本文中使用<a class="ae ky" href="https://www.instantwebtools.net/fake-rest-api" rel="noopener ugc nofollow" target="_blank">假REST API </a>。</p><p id="39e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mj mk ml mm b">src/Passenger.js</code>中，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="791e" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:从react-query包中导入<code class="fe mj mk ml mm b">useQuery</code>方法。这将允许我们执行获取请求。</li><li id="99bb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第4行:从<code class="fe mj mk ml mm b">useQuery</code>钩子中提取<code class="fe mj mk ml mm b">isLoading</code>、<code class="fe mj mk ml mm b">error</code>、<code class="fe mj mk ml mm b">data</code>和<code class="fe mj mk ml mm b">isSuccess</code>字段。<code class="fe mj mk ml mm b">useQuery</code>的第一个参数是关键。这用于识别查询。</li><li id="aec0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第5–7行:告诉React我们将在API上执行一个<code class="fe mj mk ml mm b">fetch</code>请求，然后将这个原始数据转换成JSON。</li><li id="9440" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第11行:如果请求成功(<code class="fe mj mk ml mm b">isSuccess</code>为<code class="fe mj mk ml mm b">true</code>)，那么显示数据。这里我们将显示每个项目的<code class="fe mj mk ml mm b">id</code>和<code class="fe mj mk ml mm b">name</code>字段。</li><li id="55bf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第12–13行:如果请求仍在加载或返回一个错误(<code class="fe mj mk ml mm b">isLoading</code>是<code class="fe mj mk ml mm b">true</code>，或者<code class="fe mj mk ml mm b">error</code>不是<code class="fe mj mk ml mm b">null</code>，那么显示适当的消息。</li></ul><p id="fabd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，转到<code class="fe mj mk ml mm b">App.js</code>并从react-query包和<code class="fe mj mk ml mm b">Passengers</code>组件中导入<code class="fe mj mk ml mm b">QueryClient</code>和<code class="fe mj mk ml mm b">QueryClientProvider</code>，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/18659344f181dd81c029b65dcbfd5811.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rveJRLLKALwsZ9hJI2hbUA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在App.js中编写的代码</p></figure><p id="fcc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，就在<code class="fe mj mk ml mm b">App</code>组件声明的上方，编写下面这段代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/ca1ec1b15a8f4452cd6ff497d6ff8b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OXB_jfyqXKp0O8Wq6mt52A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在App.js中编写的代码</p></figure><ul class=""><li id="c1ca" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:创建一个<code class="fe mj mk ml mm b">QueryClient</code>实例。这用于与缓存进行交互。</li></ul><p id="0ff0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在在<code class="fe mj mk ml mm b">App.js</code>中找到下面这段代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/812a47857798be03b1673b2672fa6d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qNYyXYjrab4NVvI5YMabqA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在App.js中查找的代码</p></figure><p id="e51d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用下面的代码块替换它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/0b775372047787137544ae059c04ab50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5zdczJgeYyfjfDfnPTft4A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要编写的代码</p></figure><ul class=""><li id="da6d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第3行:<code class="fe mj mk ml mm b">QueryClientProvider</code>充当我们的应用程序和<code class="fe mj mk ml mm b">QueryClient</code>之间的桥梁。换句话说，这允许我们在应用程序中实现缓存。</li><li id="7696" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第4行:呈现<code class="fe mj mk ml mm b">Passengers</code>组件。</li></ul><p id="3fac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/65c5ffa18a4ebc8865d61a59b30feb7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*4sVE7dVUEN0rvfzdfPbrSw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="0c56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了，我们的代码成功了！我们成功地用React Query发出了一个简单的fetch请求。</p><p id="8a8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一节中，我们将学习如何通过ID搜索特定的数据。</p><p id="daa6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，<code class="fe mj mk ml mm b">App.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><h2 id="3dd9" class="nr mv it bd mw ns nt dn na nu nv dp ne li nw nx ng lm ny nz ni lq oa ob nk oc bi translated">使用ID搜索</h2><p id="4cc5" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在你的<code class="fe mj mk ml mm b">src</code>文件夹中，创建一个名为<code class="fe mj mk ml mm b">PassengerID.js</code>的文件。<code class="fe mj mk ml mm b">PassengerID</code>组件将允许用户通过输入ID来搜索乘客数据。</p><p id="7408" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mj mk ml mm b">src/PassengerID.js</code>中，首先导入以下库:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/07a601d2aadbcfd8d8d047b1b70cd590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eguKqnTliJy5Oz_XXYRg4w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在PassengerID中编写的代码</p></figure><ul class=""><li id="791f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:我们将使用一个状态变量来跟踪ID。</li><li id="569e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第2行:这将帮助我们查询API。</li><li id="46f2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第3行:<code class="fe mj mk ml mm b">useFormik</code>钩子将帮助我们创建表单。</li></ul><p id="293b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在您的<code class="fe mj mk ml mm b">PassengerID</code>文件中编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="82bf" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第2行:<code class="fe mj mk ml mm b">id</code>钩子将告诉React Query它需要从我们的API查询的ID。</li><li id="c523" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第3行:<code class="fe mj mk ml mm b">useFormik</code>钩子将帮助我们创建一个表单。这里我们通知Formik,<code class="fe mj mk ml mm b">_id</code>文本字段的初始值将为空。</li><li id="cc88" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第7行:如果用户提交表单，那么调用<code class="fe mj mk ml mm b">setID</code>函数将<code class="fe mj mk ml mm b">id</code>变量更改为用户在文本字段中输入的值。</li><li id="7efd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第12行:声明<code class="fe mj mk ml mm b">fetchPassenger</code>函数。这将根据参数中显示的ID为用户提取。最终，原始数据将被转换成JSON，然后返回。</li><li id="2069" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第18行:运行<code class="fe mj mk ml mm b">useQuery</code>函数来运行对API的<code class="fe mj mk ml mm b">fetch</code>请求。<br/>此外，请注意我们已经将<code class="fe mj mk ml mm b">id</code>状态变量添加到键中。这是因为我们的查询依赖于<code class="fe mj mk ml mm b">id</code>变量。这基本上是告诉React在每次<code class="fe mj mk ml mm b">id</code>状态改变时运行查询。要了解更多信息，请参见本<a class="ae ky" href="https://react-query.tanstack.com/guides/query-keys#if-your-query-function-depends-on-a-variable-include-it-in-your-query-key" rel="noopener ugc nofollow" target="_blank">指南</a>。</li><li id="7a47" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第19行:调用<code class="fe mj mk ml mm b">fetchPassenger</code>函数并输入<code class="fe mj mk ml mm b">id</code>参数。</li></ul><p id="614e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在已经提取了数据。剩下的就是展示了。</p><p id="d40b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，在<code class="fe mj mk ml mm b">PassengerID.js</code>中添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="7861" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第4行:创建一个<code class="fe mj mk ml mm b">form</code>元素，告诉React如果用户提交表单，那么运行Formik的提交处理程序。</li><li id="4b70" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第5行:用<code class="fe mj mk ml mm b">_id</code>的<code class="fe mj mk ml mm b">id</code>和<code class="fe mj mk ml mm b">name</code>创建一个<code class="fe mj mk ml mm b">input</code>文本字段。<br/>需要注意的是，我们正在传递<code class="fe mj mk ml mm b">id</code>和<code class="fe mj mk ml mm b">name</code>字段，它们与我们之前在位于<code class="fe mj mk ml mm b">useFormik</code>钩子内的<code class="fe mj mk ml mm b">initialValues</code>属性中定义的属性相匹配。</li><li id="7123" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第12行:如果返回数据，则显示乘客的<code class="fe mj mk ml mm b">name</code>和<code class="fe mj mk ml mm b">trips</code>字段。</li></ul><p id="a1f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码现在已经完成。我们现在需要将<code class="fe mj mk ml mm b">PassengerID</code>组件呈现到DOM中。</p><p id="97b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mj mk ml mm b">App.js</code>中找到以下代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/08d048f9586ddf5c9afae7c6562c30c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DrlwyOdnqR6QamRtXR8LCg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在App.js中查找的代码</p></figure><p id="2c2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像这样改变它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/31b584f00820729b74c822ac0a26ca33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SQoTautvmTYvDLXGREJarA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在App.js中编写的代码</p></figure><ul class=""><li id="764c" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第5行:呈现<code class="fe mj mk ml mm b">PassengerID</code>组件。</li></ul><p id="0335" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/cfc732ec83b935ab612df509a9d946d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/1*jCpxtZ8_EQaNTrSElmRtjg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="f578" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。我们的代码有效。此外，请注意，每次<code class="fe mj mk ml mm b">id</code>状态变量改变时，都会重新获取数据。</p><p id="5d72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在已经完成了这一部分。在下一节中，我们将深入react-query库。</p><p id="73ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最终，<code class="fe mj mk ml mm b">PassengerID.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="cc80" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">反应查询:高级主题</h1><p id="76dc" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在文章的这一部分，我们将了解</p><ul class=""><li id="bb50" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">页码</li><li id="0afa" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">突变</li></ul><p id="c1ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们先来学习分页。</p><h2 id="2013" class="nr mv it bd mw ns nt dn na nu nv dp ne li nw nx ng lm ny nz ni lq oa ob nk oc bi translated">页码</h2><p id="616a" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">我们的<a class="ae ky" href="https://www.instantwebtools.net/fake-rest-api" rel="noopener ugc nofollow" target="_blank">假API </a>包含数千个条目。虽然可以在页面上显示所有的列表，但更好的做法是在页面中呈现列表。例如，在第一页上呈现前十个条目，然后在第二页上呈现接下来的十个条目，依此类推。</p><p id="57a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe mj mk ml mm b">Passengers.js</code>文件中，声明一个名为<code class="fe mj mk ml mm b">page</code>的状态变量，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/04bbda6d45e16c09104f1168fbb15ea0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hI6aBnBhszRgC9JY0sGLXg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Passengers.js中编写的代码</p></figure><p id="cd98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将跟踪我们在哪个页面。</p><p id="d5a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，编写以下代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/523f39996f28bfff46791f6b3d2479aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*slo_vUVsrIOMgei_zSUkyw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Passengers.js中编写的代码</p></figure><p id="5007" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个函数中，我们告诉React从API中获取给定的页面。最后，返回转换后的JSON数据。</p><p id="d142" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，找到下面这段代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/bc1b3664c403efb479fc0c42298d0006.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aGiBe3KE4B0zuqk1koG8ug.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Passengers.js中查找的代码</p></figure><p id="58d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在把它改成这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/2acbb4568f7a1afd54183d03fea8c862.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RvZmt7SwMJYHNLER-Xl_jQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Passengers.js中编写的代码</p></figure><ul class=""><li id="2f5b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第2行:告诉React我们的查询依赖于<code class="fe mj mk ml mm b">page</code>变量。如果<code class="fe mj mk ml mm b">page</code>状态改变，则再次运行查询。</li><li id="37b3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第3行:获取乘客数据，参数为<code class="fe mj mk ml mm b">page</code>变量。</li><li id="ee0c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第4行:<code class="fe mj mk ml mm b">keepPreviousData</code>告诉React在查询键改变时存储旧数据。</li></ul><p id="23af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们差不多完成了。接下来，在<code class="fe mj mk ml mm b">Passengers.js</code>中找到你的<code class="fe mj mk ml mm b">return</code>块:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/e9fcfc7347c4921495beacc2b0a0edbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DKa86nLEC-E7yPw2sZN6g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查找乘客的代码. js</p></figure><p id="0f73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开始的<code class="fe mj mk ml mm b">div</code>标签后添加以下代码行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/722550614914046adc1c111d4ec9d721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9AZbeXEtvywlgDrPJRWIA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Passengers.js中编写的代码</p></figure><ul class=""><li id="9fc2" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第3行:告诉React递减<code class="fe mj mk ml mm b">page</code>状态，如果达到零就停止。</li><li id="1a48" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第4行:增加<code class="fe mj mk ml mm b">page</code>状态。</li><li id="de57" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第5行:显示<code class="fe mj mk ml mm b">page</code>的值。</li></ul><p id="aa78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在完成了！运行代码。结果应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/4a4c53bfe039fb0f8a96a86be9c945e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/1*csi_rFBSTB3zRcsD8Sgwwg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="4b8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！我们的代码有效。现在让我们来研究突变。</p><p id="b2f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，<code class="fe mj mk ml mm b">Passengers.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><h2 id="f70d" class="nr mv it bd mw ns nt dn na nu nv dp ne li nw nx ng lm ny nz ni lq oa ob nk oc bi translated">突变</h2><p id="5f02" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">React Query对于发出<code class="fe mj mk ml mm b">GET</code>请求来说是一个很好的库，但是我们如何改变或者添加数据到我们的服务器呢？</p><p id="b42f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是突变出现的原因。这允许您发出<code class="fe mj mk ml mm b">POST</code>和<code class="fe mj mk ml mm b">PUT</code>请求。</p><p id="b8c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始之前，我们必须先安装<a class="ae ky" href="https://www.npmjs.com/package/axios" rel="noopener ugc nofollow" target="_blank">轴</a>。这将允许我们向API发出<code class="fe mj mk ml mm b">POST</code>请求。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/cfce816bef6eb8d247c65351650cf897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8yZePXYevWgKcUJVvggJWw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安装axios的终端命令</p></figure><p id="c427" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe mj mk ml mm b">src</code>目录中，创建一个名为<code class="fe mj mk ml mm b">AddPassenger.js</code>的文件。作为第一步，导入以下模块:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/d20f37c67ef739f4bb9e75d7ffc2151a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V05tiKkcEZfF3FlfRjaLgA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在AddPassenger.js中编写的代码</p></figure><ul class=""><li id="e8a3" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:我们将声明状态变量，这些变量稍后将作为数据发送给API。</li><li id="96a7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第2行:<code class="fe mj mk ml mm b">useMutation</code>钩子将告诉React修改服务器上的数据。</li><li id="ca7d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第3行:Axios将允许您向API发出<code class="fe mj mk ml mm b">POST</code>请求。</li><li id="81d5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第4行:这有助于我们从表单中提取数据。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="781e" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第2–6行:创建<code class="fe mj mk ml mm b">useFormik</code>钩子。它将有三个值，称为<code class="fe mj mk ml mm b">name</code>、<code class="fe mj mk ml mm b">trips</code>和<code class="fe mj mk ml mm b">airline</code>。</li><li id="45a9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第8–16行:当用户提交表单时，执行变异。将文本字段的值作为数据发送到服务器。我们后面会定义<code class="fe mj mk ml mm b">mutation</code>。</li></ul><p id="bc9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="bb64" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:创建一个<code class="fe mj mk ml mm b">useMutation</code>实例。</li><li id="dbc0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第2行:对API运行一个<code class="fe mj mk ml mm b">POST</code>请求。这里的<code class="fe mj mk ml mm b">item</code>变量是我们稍后将发送的数据体。</li><li id="219f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第4行:如果变异成功(<code class="fe mj mk ml mm b">isSuccess</code>属性为<code class="fe mj mk ml mm b">true</code>)，那么将返回的数据记录到控制台。</li></ul><p id="b160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在完成了我们的逻辑。剩下的就是显示一个表单，以便用户可以输入一些数据。</p><p id="aa20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe mj mk ml mm b">AddPassenger.js</code>文件中编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="e32d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第4行:当用户提交表单时，运行Formik的提交处理程序。</li><li id="adaa" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第7–15行:为姓名、行程和航空公司创建多个文本字段。</li><li id="8d6f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第19行:如果请求正在加载(<code class="fe mj mk ml mm b">isLoading</code>属性是<code class="fe mj mk ml mm b">true</code>),那么显示适当的消息。</li><li id="d085" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第20行:如果变异成功(<code class="fe mj mk ml mm b">isSuccess</code>属性是<code class="fe mj mk ml mm b">true</code>，那么显示新乘客的ID。</li></ul><p id="5f4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在完成了这段代码。最后一步是向DOM显示我们的<code class="fe mj mk ml mm b">AddPassenger</code>组件。</p><p id="add6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转到<code class="fe mj mk ml mm b">src/App.js</code>并找到以下代码块:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/ee2560dc31172aa52462d358efc7340c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z4MwZsVO-zDqb3Bw3qfwDg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在App.js中查找的代码</p></figure><p id="e456" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像这样改变它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/6573d5bb634298821440bbb29f2ad096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iyVeCR21620B255RF1ermg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在App.js中编写的代码</p></figure><ul class=""><li id="4993" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第4行:显示<code class="fe mj mk ml mm b">AddPassenger</code>组件。</li></ul><p id="323c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/a95b7ee89db90a24fabff422579d6627.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cnibVlE-qMpuxzWMegT-dg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="8af7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！我们的代码有效。我们找到了乘客的身份。让我们试着寻找它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/b113ebefe16d61413fdd30a755fd2473.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p5pZAnxgH9ihipqGcQXILQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按ID搜索</p></figure><p id="5219" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一切按预期运行！</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="6911" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">其他资源</h1><h2 id="a565" class="nr mv it bd mw ns nt dn na nu nv dp ne li nw nx ng lm ny nz ni lq oa ob nk oc bi translated">GitHub知识库</h2><ul class=""><li id="bef5" class="lv lw it lb b lc nm lf nn li ol lm om lq on lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/HussainArif12/react-query-tutorial" rel="noopener ugc nofollow" target="_blank"> GitHub项目的代码</a></li></ul><h2 id="0012" class="nr mv it bd mw ns nt dn na nu nv dp ne li nw nx ng lm ny nz ni lq oa ob nk oc bi translated">进一步学习</h2><ul class=""><li id="047f" class="lv lw it lb b lc nm lf nn li ol lm om lq on lu ma mb mc md bi translated"><a class="ae ky" href="https://blog.logrocket.com/whats-new-in-react-query-3/" rel="noopener ugc nofollow" target="_blank">React Query v3有什么新特性？—对数火箭</a></li><li id="501a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=ZE0xeClKosA" rel="noopener ugc nofollow" target="_blank">使用React Query- Weibenfalk重构应用</a></li><li id="6de4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=nnBaERWIDl0" rel="noopener ugc nofollow" target="_blank">反应查询v3 —使用突变—微博对话</a></li><li id="7fba" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://formik.org/docs/tutorial#a-simple-newsletter-signup-form" rel="noopener ugc nofollow" target="_blank"> Formik —简单注册表单</a></li></ul></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="8a09" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">结论</h1><p id="4012" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">React Query使用起来绝对轻而易举。我们不需要编写大量代码来添加分页支持或发出<code class="fe mj mk ml mm b">POST</code>请求。难怪像微软和易贝这样的大公司使用React Query进行生产。</p><p id="c624" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在阅读本文时有任何困惑，我建议您解构并处理代码，这样您就可以完全理解这个库的内部工作方式。</p><p id="2e02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢你坚持到最后！</p></div></div>    
</body>
</html>