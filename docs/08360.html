<html>
<head>
<title>How To Work With Dates in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Swift中处理日期</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-work-with-dates-in-swift-99f445a6179d?source=collection_archive---------7-----------------------#2021-04-21">https://betterprogramming.pub/how-to-work-with-dates-in-swift-99f445a6179d?source=collection_archive---------7-----------------------#2021-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1179" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于在Swift中处理日期，您需要了解的一切</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/88a107a2129ee0294afaf78db213ebe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Lf-Xw_SUBFWLTxhWMv53w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="92ed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://developer.apple.com/documentation/foundation/date" rel="noopener ugc nofollow" target="_blank">根据苹果</a>显示，一个日期是:</p><blockquote class="lv"><p id="8c46" class="lw lx it bd ly lz ma mb mc md me lt dk translated">独立于任何日历或时区的特定时间点</p></blockquote><p id="fbc8" class="pw-post-body-paragraph ky kz it la b lb mf ju ld le mg jx lg lh mh lj lk ll mi ln lo lp mj lr ls lt im bi translated">您只需使用以下命令即可获得当前日期:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="c4a4" class="mp mq it ml b gy mr ms l mt mu"><strong class="ml iu">let</strong> date = Date()<br/>print(date)</span></pre><p id="01b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="51b6" class="mp mq it ml b gy mr ms l mt mu">2021-04-21 9:23:19 +0000</span></pre><p id="3092" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个<code class="fe mv mw mx ml b">Date</code>对象支持:</p><ul class=""><li id="b5cb" class="my mz it la b lb lc le lf lh na ll nb lp nc lt nd ne nf ng bi translated">比较</li><li id="6a8b" class="my mz it la b lb nh le ni lh nj ll nk lp nl lt nd ne nf ng bi translated">时间间隔计算</li><li id="4012" class="my mz it la b lb nh le ni lh nj ll nk lp nl lt nd ne nf ng bi translated">根据另一个日期创建新日期。</li></ul><p id="70c4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="d060" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="3eff" class="mp mq it ml b gy mr ms l mt mu">3600.0<br/>2021-04-20 05:18:45 +0000<br/>2021-04-20 04:18:45 +0000</span></pre><p id="fe4f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这已经很了不起了。但是如果你需要对日期有更多的控制，你应该使用Swift的内置<code class="fe mv mw mx ml b">DateFormatter</code>。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="6748" class="nv mq it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">日期格式化程序—自定义和本地化日期</h1><p id="5267" class="pw-post-body-paragraph ky kz it la b lb om ju ld le on jx lg lh oo lj lk ll op ln lo lp oq lr ls lt im bi translated">如果您需要对显示日期进行更多控制(例如，您想要以其他国家的风格以其他格式显示日期)，那么您可以使用Swift的<code class="fe mv mw mx ml b">DateFormatter</code>来完成这项工作。</p><h2 id="3005" class="mp mq it bd nw or os dn oa ot ou dp oe lh ov ow og ll ox oy oi lp oz pa ok pb bi translated">使用样式预设设置日期格式</h2><p id="e778" class="pw-post-body-paragraph ky kz it la b lb om ju ld le on jx lg lh oo lj lk ll op ln lo lp oq lr ls lt im bi translated">您可以使用内置的日期和时间样式预设来自定义您的日期格式。</p><p id="7595" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个<code class="fe mv mw mx ml b">DateFormatter</code>具有有用的样式属性<code class="fe mv mw mx ml b">dateStyle</code>和<code class="fe mv mw mx ml b">timeStyle</code>。这两个可以用来改变日期显示的格式。</p><p id="7226" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="a781" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="b6fa" class="mp mq it ml b gy mr ms l mt mu">Tuesday, April 20, 2021 at 5:18:18 AM Greenwich Mean Time</span></pre><p id="a46a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的代码中，我使用了<code class="fe mv mw mx ml b">full</code> <code class="fe mv mw mx ml b">dateStyle</code>和<code class="fe mv mw mx ml b">timeStyle</code>来显示关于日期的所有信息。但是，这里列出了您可以使用的所有其他预置:</p><ul class=""><li id="e296" class="my mz it la b lb lc le lf lh na ll nb lp nc lt nd ne nf ng bi translated"><code class="fe mv mw mx ml b">none</code></li><li id="d026" class="my mz it la b lb nh le ni lh nj ll nk lp nl lt nd ne nf ng bi translated"><code class="fe mv mw mx ml b">short</code></li><li id="ef01" class="my mz it la b lb nh le ni lh nj ll nk lp nl lt nd ne nf ng bi translated"><code class="fe mv mw mx ml b">medium</code></li><li id="b467" class="my mz it la b lb nh le ni lh nj ll nk lp nl lt nd ne nf ng bi translated"><code class="fe mv mw mx ml b">long</code></li><li id="3410" class="my mz it la b lb nh le ni lh nj ll nk lp nl lt nd ne nf ng bi translated"><code class="fe mv mw mx ml b">full</code></li></ul><h2 id="d758" class="mp mq it bd nw or os dn oa ot ou dp oe lh ov ow og ll ox oy oi lp oz pa ok pb bi translated">自定义日期格式</h2><p id="e3d7" class="pw-post-body-paragraph ky kz it la b lb om ju ld le on jx lg lh oo lj lk ll op ln lo lp oq lr ls lt im bi translated">为了进一步定制日期格式，您可以使用<code class="fe mv mw mx ml b">DateFormatter</code>实例的<code class="fe mv mw mx ml b">dateFormat</code>属性。</p><p id="d6a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，要像<code class="fe mv mw mx ml b">20.04.2021</code>一样显示当前时间，只需将格式<code class="fe mv mw mx ml b">"dd.MM.YYYY"</code>分配给<code class="fe mv mw mx ml b">DateFormatter</code>实例，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="c737" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="d814" class="mp mq it ml b gy mr ms l mt mu">20.4.2021</span></pre><h2 id="7014" class="mp mq it bd nw or os dn oa ot ou dp oe lh ov ow og ll ox oy oi lp oz pa ok pb bi translated">为其他国家本地化日期对象</h2><p id="b055" class="pw-post-body-paragraph ky kz it la b lb om ju ld le on jx lg lh oo lj lk ll op ln lo lp oq lr ls lt im bi translated">您知道吗，您还可以本地化特定国家的日期，而无需了解该国家的日期格式指南。</p><p id="7dbb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为此，您可以使用<code class="fe mv mw mx ml b">DateFormatter</code>的<code class="fe mv mw mx ml b">setLocalizedDateFormatFromTemplate</code>方法。</p><p id="fac5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，让我们以芬兰的方式显示当前日期。在芬兰，日期格式是<code class="fe mv mw mx ml b">"dd.MM.yyyy"</code>。但是你不需要知道这些。您真正需要的是<em class="pc">地区标识符</em>，这是芬兰的<code class="fe mv mw mx ml b">fi_FI</code>(参见GitHub 上的本地化<a class="ae lu" href="https://gist.github.com/jacobbubu/1836273" rel="noopener ugc nofollow" target="_blank">的完整列表):</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="66ad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="kj kk kl km gt mk ml mm mn aw mo bi"><span id="96d4" class="mp mq it ml b gy mr ms l mt mu">20.04.2021</span></pre><p id="98d8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="pc">注意:在定义了</em> <code class="fe mv mw mx ml b"><em class="pc">locale</em></code> <em class="pc">之后，调用</em> <code class="fe mv mw mx ml b"><em class="pc">setLocalizedDateFormatFromTemplate</em></code> <em class="pc">，以便正确格式化特定区域的日期！</em></p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="b0ef" class="nv mq it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">使用时间单位</h1><p id="5cde" class="pw-post-body-paragraph ky kz it la b lb om ju ld le on jx lg lh oo lj lk ll op ln lo lp oq lr ls lt im bi translated">您还可以分别处理不同的时间组件。例如，当你想打电话给<code class="fe mv mw mx ml b">date.minutes</code>时，这很有用。为此，您需要利用<code class="fe mv mw mx ml b">DateComponents</code>。</p><p id="5b90" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mv mw mx ml b">DateComponents</code>以时间单位表示日期(如小时、分钟、秒等)。).</p><p id="88a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">举个例子，让我们在<code class="fe mv mw mx ml b">Calendar</code>和<code class="fe mv mw mx ml b">DateComponents</code>的帮助下将日期的日期部分分开:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="fb5e" class="nv mq it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">结论</h1><p id="7850" class="pw-post-body-paragraph ky kz it la b lb om ju ld le on jx lg lh oo lj lk ll op ln lo lp oq lr ls lt im bi translated">在Swift中，处理日期非常简单。</p><p id="b237" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了比较日期和计算时间间隔之外，您还可以完全自定义日期格式。更好的是，您可以使用特定国家的时间格式，而无需自己了解该格式。</p><p id="4c62" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您还可以选择使用单独的日期组件，如年、月、日、小时等。</p><p id="78ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就是这样！</p><p id="5763" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读。我希望你觉得这有用！</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="989f" class="nv mq it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">你可能会感兴趣</h1><div class="pd pe gp gr pf pg"><a href="https://medium.com/swlh/a-clock-using-swift-and-sprite-kit-27f3fffc878a" rel="noopener follow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">使用Swift和Sprite套件的时钟</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">使用Swift和SpriteKit创建一个令人惊叹的时钟。</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">medium.com</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu ks pg"/></div></div></a></div></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="16f0" class="nv mq it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">资源</h1><div class="pd pe gp gr pf pg"><a href="https://developer.apple.com/documentation/foundation/dateformatter" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">Apple开发者文档</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">编辑描述</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">developer.apple.com</p></div></div></div></a></div></div></div>    
</body>
</html>