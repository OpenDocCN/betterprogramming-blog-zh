<html>
<head>
<title>Connect Your Express and React Applications Using axios</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用axios连接Express和React应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/connect-your-express-and-react-applications-using-axios-c35723b6d667?source=collection_archive---------1-----------------------#2020-02-23">https://betterprogramming.pub/connect-your-express-and-react-applications-using-axios-c35723b6d667?source=collection_archive---------1-----------------------#2020-02-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9485" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">把你的前端和后端结合在一起</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/93fb5f0958cc013215d6acaa999488c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ualUEuwr4UIinOm7HMs19g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯·利维拉尼在<a class="ae ky" href="https://unsplash.com/s/photos/client-and-server?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="2206" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正在寻找将客户端React应用程序连接到服务器端Express应用程序的方法吗？不要再找了！</p><p id="7cfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用一个简单的<a class="ae ky" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank"> axios </a>请求来弥合前端和后端之间的差距。</p><p id="691b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程假设您已经安装了Node.js。如果没有，我创建了下面的教程来帮助你完成这个过程:<a class="ae ky" href="https://medium.com/better-programming/my-node-js-mongodb-atlas-rest-api-environment-setup-71923cfbc98c" rel="noopener"> <em class="lv">我的Node.js环境设置</em> </a>。作为本教程的先决条件，您只需要Node.js部分。</p><p id="44b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从头开始。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="c478" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">目标</h1><p id="1bec" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">通过axios API请求将React前端应用程序与Express后端应用程序连接起来</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8009" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">工具</h1><p id="9968" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们将使用以下工具来帮助我们实现目标:</p><ul class=""><li id="bd8f" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">React —我们将在本教程中使用的前端库。<a class="ae ky" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> Create-react-app </a>让我们能够快速启动并运行。</li><li id="761c" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">Express.js —用于构建web应用程序和API的Node.js框架。</li><li id="75ba" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">Axios — <a class="ae ky" href="https://www.npmjs.com/package/axios" rel="noopener ugc nofollow" target="_blank">一个npm库</a>。用于浏览器和Node.js的基于promise的HTTP客户端</li><li id="1800" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">CORS——一个国家预防机制图书馆。用于实现跨来源资源共享的Express中间件。</li></ul></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="ba90" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">创建后端</h1><p id="e77e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们将创建一个新目录来存放我们的整个项目。姑且称之为<code class="fe no np nq nr b">connect-tutorial</code>。</p><pre class="kj kk kl km gt ns nr nt nu aw nv bi"><span id="afea" class="nw me it nr b gy nx ny l nz oa">mkdir connect-tutorial</span></pre><p id="ab41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们在这里初始化我们的节点服务器。使用以下命令:</p><pre class="kj kk kl km gt ns nr nt nu aw nv bi"><span id="7e69" class="nw me it nr b gy nx ny l nz oa">npm init</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/72e566235f497f1df4b6ef6ae0d69938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*mqIxyzBr4HtEmIf9hyyVHQ.png"/></div></div></figure><p id="bc75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于他们问你的所有不同问题，请随意接受默认设置。</p><p id="c1b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们现在安装<code class="fe no np nq nr b">express</code>和<code class="fe no np nq nr b">cors</code>。我们需要添加<code class="fe no np nq nr b">cors</code>来允许我们的axios请求从前端传递到后端。</p><pre class="kj kk kl km gt ns nr nt nu aw nv bi"><span id="e2c7" class="nw me it nr b gy nx ny l nz oa">npm i --save express cors</span></pre><p id="026d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并添加我们的<code class="fe no np nq nr b">server.js</code>文件:</p><pre class="kj kk kl km gt ns nr nt nu aw nv bi"><span id="5293" class="nw me it nr b gy nx ny l nz oa">touch server.js</span></pre><p id="f212" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们给<code class="fe no np nq nr b">server.js</code>添加以下代码。这是我们激活启用CORS(跨源资源共享)的Express服务器所需的最低要求:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">server.js</p></figure><p id="b157" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在运行<code class="fe no np nq nr b">node server.js</code>之后转到localhost:5000，您应该会看到这个JSON:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/2a674bec608240a001b32a158d082f08.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*tcqxWo-C3aKkH4cuCcDLlA.png"/></div></figure><p id="4a86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让它出现在React应用程序的控制台中。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="e43b" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">设置我们的前端</h1><p id="d249" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">现在让我们在<code class="fe no np nq nr b">connect-tutorial</code>目录中创建React应用程序。点击<code class="fe no np nq nr b">Ctrl-c</code>终止后端服务器。我们将命名我们的React项目为<code class="fe no np nq nr b">client</code>。</p><pre class="kj kk kl km gt ns nr nt nu aw nv bi"><span id="2c2a" class="nw me it nr b gy nx ny l nz oa">npx create-react-app client</span></pre><p id="62c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq nr b">cd client</code>我们将安装一个模块来帮助我们提出API请求:</p><pre class="kj kk kl km gt ns nr nt nu aw nv bi"><span id="83d7" class="nw me it nr b gy nx ny l nz oa">npm i --save axios</span></pre><p id="8785" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们将下面的代码添加到<code class="fe no np nq nr b">App.js</code>中。其中大部分是React样板代码。您只需要担心添加axios请求:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">App.js</p></figure><p id="e30e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe no np nq nr b">client</code>文件夹中运行<code class="fe no np nq nr b">npm start</code>，在<code class="fe no np nq nr b">connect-tutorial</code>目录中运行<code class="fe no np nq nr b">node server.js</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/c59ed4fd756cf0aa0edba353472ae4a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mLCqpAbKLNBBqrO7bNo8Fg.png"/></div></div></figure><p id="58db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此消息现在将出现在您的控制台中。我们之前看到的相同消息，但是现在在客户端服务器上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/2821b2268c0ef28e28edb4fe18ef900c.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*QVZ5DOZjnbkLvAxMZLXUeg.png"/></div></figure><p id="1e81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">放松点。我们已经将前端React应用程序连接到后端Express应用程序。</p><p id="6f76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您有任何问题、意见或顾虑，请在评论区告诉我。</p></div></div>    
</body>
</html>