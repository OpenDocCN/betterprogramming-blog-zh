<html>
<head>
<title>Start to Finish: Let’s Build Google’s Dictionary Widget</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头到尾:让我们构建Google的字典小部件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/start-to-finish-lets-build-google-s-dictionary-widget-f8a0fbef1c0?source=collection_archive---------9-----------------------#2019-08-13">https://betterprogramming.pub/start-to-finish-lets-build-google-s-dictionary-widget-f8a0fbef1c0?source=collection_archive---------9-----------------------#2019-08-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8e88" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习使用API、Vue.js、SCSS和承诺，并编写语义HTML5</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/498885fd6a2dcca594cc09d127097747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8nkWE8t4QzBiI51SsnmpQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在本系列教程结束时，您将已经重新创建了这个字典小部件。</p></figure><h1 id="2c8d" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">我们将一起采取的步骤</h1><ol class=""><li id="c633" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">分解小部件来理解我们应该使用什么HTML元素。</li><li id="c8a0" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">研究、测试并注册一个API服务来获取我们需要的数据。</li><li id="8267" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">将来自WordsAPI的模拟数据添加到我们的HTML模板中，以验证其结构。</li><li id="279b" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">使用Vue.js使用来自API的数据快速构建我们的小部件原型</li><li id="1191" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">一点一点地，用我们的Vue模型中的数据替换硬编码文本。</li><li id="a6fa" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">测试我们的应用程序和更新部分，以说明从任何单词的API接收的数据。</li><li id="943b" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">风格我们的应用程序使用SCSS模仿谷歌的小工具。</li></ol></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="5301" class="ky kz it bd la lb mu ld le lf mv lh li jz mw ka lk kc mx kd lm kf my kg lo lp bi translated">分解小部件来理解我们应该使用什么HTML元素</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/821198d12e1ff2028175cf89572a5c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UnjAPMQV_fnF09G9hFRd-A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我选择的结构包含嵌套的<dl>、一个<ol>和一些其他语义元素。</ol></dl></p></figure><h2 id="46a8" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">这是细目分类</h2><ul class=""><li id="5156" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md nl mf mg mh bi translated">这个小部件有一个标题，字典。</li><li id="d7a4" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">然后是一个简短的形式:一个<code class="fe nm nn no np b">input</code>和<code class="fe nm nn no np b">submit</code>按钮。</li><li id="3844" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">搜索的结果是一个定义列表，每组名词和动词都有一个<code class="fe nm nn no np b">dt</code>和一个<code class="fe nm nn no np b">dd</code>。</li><li id="0bcc" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">在每个<code class="fe nm nn no np b">dd</code>中有一个<code class="fe nm nn no np b">ol</code>，为每个名词或动词列出条目。</li><li id="c665" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">每个<code class="fe nm nn no np b">li</code>将包含定义，可能包括句子中使用的术语和一个或多个同义词。定义是一个<code class="fe nm nn no np b">p</code>。句子是一个包裹在<code class="fe nm nn no np b">p,</code>中的<code class="fe nm nn no np b">q</code>，同义词列表是另一个<code class="fe nm nn no np b">dl</code>。</li></ul><h2 id="d77f" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">以下是在<code class="fe nm nn no np b">{{ }}</code>中标记了内容占位符的HTML</h2><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="6b37" class="mz kz it np b gy nu nv l nw nx">&lt;div id="app"&gt;<br/>  &lt;h1&gt;Dictionary&lt;/h1&gt;<br/>  &lt;input type="text" /&gt;<br/>  &lt;button&gt;Search&lt;/button&gt;<br/>  &lt;dl&gt;<br/>    &lt;dt&gt;<br/>      &lt;p&gt;{{syllables}}&lt;/p&gt;<br/>      &lt;p&gt;{{pronunciation}}&lt;/p&gt;<br/>    &lt;/dt&gt;<br/>    &lt;dd&gt;<br/>      &lt;p&gt;noun&lt;/p&gt;<br/>      &lt;ol&gt;<br/>        &lt;li&gt;<br/>          &lt;p&gt;{{definition}}&lt;/p&gt;<br/>          &lt;p&gt;<br/>            &lt;q&gt;{{sentence}}&lt;/q&gt;<br/>          &lt;/p&gt;<br/>          &lt;dl&gt;<br/>            &lt;dt&gt;synonyms&lt;/dt&gt;<br/>            &lt;dd&gt;{{synonym}}&lt;/dd&gt;<br/>          &lt;/dl&gt;<br/>        &lt;/li&gt;<br/>      &lt;/ol&gt;<br/>    &lt;/dd&gt;<br/>    &lt;dd&gt;<br/>      &lt;p&gt;verb&lt;/p&gt;<br/>      &lt;ol&gt;<br/>        &lt;li&gt;<br/>          &lt;p&gt;{{definition}}&lt;/p&gt;<br/>          &lt;p&gt;<br/>            &lt;q&gt;{{sentence}}&lt;/q&gt;<br/>          &lt;/p&gt;<br/>          &lt;dl&gt;<br/>            &lt;dt&gt;synonyms&lt;/dt&gt;<br/>            &lt;dd&gt;{{synonym}}&lt;/dd&gt;<br/>          &lt;/dl&gt;<br/>        &lt;/li&gt;<br/>      &lt;/ol&gt;<br/>    &lt;/dd&gt;<br/>  &lt;/dl&gt;<br/>&lt;/div&gt;</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="4bfb" class="ky kz it bd la lb mu ld le lf mv lh li jz mw ka lk kc mx kd lm kf my kg lo lp bi translated">研究、测试并注册一个API服务来获取我们需要的数据</h1><p id="12ca" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">在谷歌词典小工具的左下角，有一个标签，来自牛津。这引导我去谷歌<code class="fe nm nn no np b">oxford dictionary api</code>，因此，官方的<a class="ae ol" href="https://developer.oxforddictionaries.com/" rel="noopener ugc nofollow" target="_blank">牛津字典API </a>。</p><h2 id="382c" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">不幸的是，我发现了两个瓶颈:</h2><ol class=""><li id="a8e4" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">每当调用API时，它都有一个相关的开销。我不愿意只为少数API调用付费。</li><li id="d525" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">API似乎没有返回同义词，而同义词是我们试图重新创建的小部件的关键部分。</li></ol><p id="17ba" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">很有可能我在网站上阅读的不够多，我认为的瓶颈实际上并不存在。</p><p id="f3b2" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">但是当另一个谷歌搜索<code class="fe nm nn no np b">dictionary api</code>的功能是一个简单的英文资源调用<a class="ae ol" href="https://www.wordsapi.com/" rel="noopener ugc nofollow" target="_blank"> WordsAPI </a>而没有上述瓶颈时，我很容易就做出了决定。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/c3647a4fc4793d0e3ebd4cd78898d219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bdut5UsFa2gRClvdatlLiw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">WordsAPI主页截图；滚动到“尝试”部分，输入并查询“程序”一词。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/7166f1f81e6d8fd69526ccfba861fef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2yq9Pht9RvuTz6_I-HyfGg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">WordsAPI是免费的，只要我们在任何24小时内不超过2，500个API请求。</p></figure><h2 id="62e5" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">使用WordsAPI和几乎所有的API都需要一个密钥</h2><p id="7bb2" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">除其他原因外，该键用于跟踪一天中的请求数。</p><h2 id="505d" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">要获取WordsAPI密钥，您必须:</h2><ol class=""><li id="fb1a" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">在RapidAPI注册，通过这个伞式服务，你可以订阅WordsAPI。</li><li id="4171" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">输入计费信息，以防您超出免费层的限制，他们必须向您收费。</li><li id="a529" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">订阅WordsAPI，这样您对API的任何请求都可以得到验证，并且您可以得到真实的数据，而不是讨厌的错误消息。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/309aa1a546d2fb7fddc06450b38c617e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0eHBzp-aI1bOHkRoJw8hSw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">访问<a class="ae ol" href="https://rapidapi.com" rel="noopener ugc nofollow" target="_blank">rapidapi.com</a>并通过各种方式注册。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/a4df7b1272e9f61ef84aa9daa1b4e60c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-AvWzTBTKc_xoMJW81sPQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">登录后，点击我的应用程序，然后点击账单和账单信息。单击编辑并输入您的信用卡信息。只有当您对WordsApi的API请求超过2，500次时，才会向您收取费用。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/ef10da50eed2665a3828ec96a05b95e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hmpE8FFQzt9YUzbxqTxq8A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">转到API市场选项卡。在搜索字段中，键入“wordsapi”并选择第一个结果。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/35a12d1a6eaa046ed293138bc3a622f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZRpGdwquvgu4XZWZ6X-NxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ol" href="https://rapidapi.com/dpventures/api/wordsapi" rel="noopener ugc nofollow" target="_blank"> WordsAPI页面</a>上，向下滚动一点，直到您看到标有Subscribe to Test的蓝色按钮。点击它订阅WordsAPI。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/0b47a3c768e63beeac8ba74b04e32676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K2zjrucBDST3f-t0gSV5iw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要验证您是否已订阅，请返回“我的应用”选项卡，单击“计费”，然后单击“订阅和使用”，并确认您看到列出的WordsAPI。</p></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="f56c" class="ky kz it bd la lb mu ld le lf mv lh li jz mw ka lk kc mx kd lm kf my kg lo lp bi translated">将来自WordsAPI的模拟数据添加到我们的HTML模板中，以验证其结构</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/c3647a4fc4793d0e3ebd4cd78898d219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bdut5UsFa2gRClvdatlLiw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">回想一下我们在WordsAPI主页的“尝试”部分对“程序”提出的请求</p></figure><h2 id="323a" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">从该API请求返回的响应中感兴趣的部分如下所示</h2><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="622f" class="mz kz it np b gy nu nv l nw nx">{<br/>  "word": "program",<br/>  "results": [<br/>    {<br/>      "definition": "an integrated course of academic studies",<br/>      "partOfSpeech": "noun",<br/>      "synonyms": [<br/>        "course of study",<br/>        "curriculum",<br/>        "programme",<br/>        "syllabus"<br/>      ],<br/>      "examples": [<br/>        "he was admitted to a new program at the university"<br/>      ]<br/>    },<br/>    // more result objects<br/>  ],<br/>  "syllables": {<br/>    "count": 2,<br/>    "list": [<br/>      "pro",<br/>      "gram"<br/>    ]<br/>  },<br/>  "pronunciation": {<br/>    "all": "'proʊgræm"<br/>  }<br/>}</span></pre><p id="2386" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">在这一步中，我们必须回答的问题是，“我们是否设置了HTML模板来有效地显示上面显示的每个数据块？”</p><h2 id="0a67" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">这是我们的模板</h2><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="4574" class="mz kz it np b gy nu nv l nw nx">&lt;div id="app"&gt;<br/>  &lt;h1&gt;Dictionary&lt;/h1&gt;<br/>  &lt;input type="text" /&gt;<br/>  &lt;button&gt;Search&lt;/button&gt;<br/>  &lt;dl&gt;<br/>    &lt;dt&gt;<br/>      &lt;p&gt;{{syllables}}&lt;/p&gt;<br/>      &lt;p&gt;{{pronunciation}}&lt;/p&gt;<br/>    &lt;/dt&gt;<br/>    &lt;dd&gt; &lt;!-- will repeat for each result that is a noun --&gt;<br/>      &lt;p&gt;noun&lt;/p&gt;<br/>      &lt;ol&gt;<br/>        &lt;li&gt;<br/>          &lt;p&gt;{{definition}}&lt;/p&gt;<br/>          &lt;p&gt;<br/>            &lt;q&gt;{{sentence}}&lt;/q&gt; &lt;!-- repeat for each example --&gt;<br/>          &lt;/p&gt;<br/>          &lt;dl&gt;<br/>            &lt;dt&gt;synonyms&lt;/dt&gt;<br/>            &lt;dd&gt;{{synonym}}&lt;/dd&gt; &lt;!-- repeat for each synonym --&gt;<br/>          &lt;/dl&gt;<br/>        &lt;/li&gt;<br/>      &lt;/ol&gt;<br/>    &lt;/dd&gt;<br/>    &lt;dd&gt; &lt;!-- will repeat for each result that is a verb --&gt;<br/>      &lt;p&gt;verb&lt;/p&gt;<br/>      &lt;ol&gt;<br/>        &lt;li&gt;<br/>          &lt;p&gt;{{definition}}&lt;/p&gt;<br/>          &lt;p&gt;<br/>            &lt;q&gt;{{sentence}}&lt;/q&gt;<br/>          &lt;/p&gt;<br/>          &lt;dl&gt;<br/>            &lt;dt&gt;synonyms&lt;/dt&gt;<br/>            &lt;dd&gt;{{synonym}}&lt;/dd&gt; &lt;!-- repeat for each synonym --&gt;<br/>          &lt;/dl&gt;<br/>        &lt;/li&gt;<br/>      &lt;/ol&gt;<br/>    &lt;/dd&gt;<br/>  &lt;/dl&gt;<br/>&lt;/div&gt;</span></pre><ul class=""><li id="3e35" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated"><code class="fe nm nn no np b">{{ syllables }}</code>可以从<code class="fe nm nn no np b">syllables.list</code>数组中获得。</li><li id="15f1" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated"><code class="fe nm nn no np b">{{ pronunciation }}</code>是从同名财产中给我们的。</li><li id="2471" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated"><code class="fe nm nn no np b">{{ sentence }}</code>可以从每个结果的<code class="fe nm nn no np b">examples</code>数组中获得。</li><li id="db77" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">每个<code class="fe nm nn no np b">{{ synonym }}</code>都可以从<code class="fe nm nn no np b">synonyms</code>数组中获得。</li><li id="15e7" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated"><code class="fe nm nn no np b">{{ definition }}</code>是同名财产给我们的。</li><li id="4b20" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">我们可以根据每个结果的<code class="fe nm nn no np b">partOfSpeech</code>属性正确地对名词和动词进行分组。</li></ul><p id="ca6d" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们的HTML模板已经准备好了。现在让我们创建一个Vue实例，并在该模板中显示来自响应对象的数据。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="d055" class="ky kz it bd la lb mu ld le lf mv lh li jz mw ka lk kc mx kd lm kf my kg lo lp bi translated"><strong class="ak">使用Vue.js使用来自API的数据快速构建我们的小部件原型</strong></h1><h2 id="34f0" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">让我们在整个步骤中记住:</h2><ul class=""><li id="b1a9" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md nl mf mg mh bi translated">当构建原型时，我们希望快速工作。</li><li id="5d83" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">我们的目标是让一些东西工作，仅用于演示和学习目的。</li><li id="5442" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">在这个阶段，我们不一定关心使用最佳实践、编写生产就绪代码或考虑所有边缘情况。</li></ul><p id="276a" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">有了这样的理解，我发现<a class="ae ol" href="https://vuejs.org" rel="noopener ugc nofollow" target="_blank"> Vue.js，一个进步的JavaScript框架</a>，让我在制作这样的小部件原型时工作得最快。</p><h2 id="9e37" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">如何将Vue.js添加到项目中</h2><p id="b841" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">使用加载了HTML文件的代码编辑器？在结束的<code class="fe nm nn no np b">&lt;/body&gt;</code>标签之前添加一个<code class="fe nm nn no np b">script</code>标签，将<code class="fe nm nn no np b">src</code>属性设置为Vue.js可用的众多cdn之一，如下所示:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="e036" class="mz kz it np b gy nu nv l nw nx">...<br/>    &lt;script src="<a class="ae ol" href="https://unpkg.com/vue@2.6.10/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://unpkg.com/vue@2.6.10/dist/vue.js</a>" /&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="0baa" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">使用类似于<a class="ae ol" href="https://codepen.io" rel="noopener ugc nofollow" target="_blank"> Codepen </a>的服务？从你的笔中，点击JS旁边的齿轮并搜索<em class="ox"> vue </em>。它应该自动填充一个列表，第一个是Vue.js。选择它添加到您的笔。保存并关闭。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/bfe1200cd6766f3e979302e3f208fb46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p_zQajg3EhHFB_pVjgDryQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在笔设置模式窗口的JavaScript选项卡中搜索“vue”。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/ca3184afdea004eda153df07c25bc25e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ogn5jignBas6DX31PCs_gQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从选项列表中选择Vue后，您会看到第一个文本框中添加了一个到cloudflare.com的链接。</p></figure><h2 id="5715" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">如何用Vue.js开始原型制作</h2><p id="ca8b" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated"><code class="fe nm nn no np b">Vue</code>是一个构造函数:它是一个构造对象的函数。这意味着为了使用Vue，我们必须包含<code class="fe nm nn no np b">new</code>关键字，一组<code class="fe nm nn no np b">()</code>括号，并将返回的内容保存在一个变量中，就像这样。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="ef55" class="mz kz it np b gy nu nv l nw nx">var app = new Vue();</span></pre><p id="8da0" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">像大多数函数一样，当您调用Vue时，它需要一个或多个参数。出于我们的目的，我们将传入一个参数，一个对象。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="8a8a" class="mz kz it np b gy nu nv l nw nx">var app = new Vue( {} );</span></pre><p id="8165" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">这个对象将有几个属性，每个属性都是Vue所期望的。让我们从将Vue插入小部件的属性开始。回想一下，在我们的HTML模板中，我用<code class="fe nm nn no np b">app</code>的<code class="fe nm nn no np b">id</code>将所有东西包装在一个<code class="fe nm nn no np b">&lt;div&gt;</code>中。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="504d" class="mz kz it np b gy nu nv l nw nx">&lt;div id="app"&gt;<br/>   ...<br/>&lt;/div&gt;</span></pre><p id="0ad9" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我这么做是为了Vue。Vue插入到一个HTML元素中，当目标是一个元素时，使用<code class="fe nm nn no np b">id</code>是最容易的。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="1431" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app"<br/>});</span></pre><p id="ebe9" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们在传递给Vue构造函数的对象中添加了一个<code class="fe nm nn no np b">key: value</code>对。<code class="fe nm nn no np b">key</code>是<code class="fe nm nn no np b">el</code>，是<code class="fe nm nn no np b">element</code>的简称，值是<code class="fe nm nn no np b">"#app"</code>，一个包含CSS选择器的字符串，目标是我们的<code class="fe nm nn no np b">div</code>。</p><p id="a2bf" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">就这样，我们的<code class="fe nm nn no np b">div</code>现在是一个Vue实例！可悲的是，它还没有做任何事情。让我们解决这个问题。</p><h2 id="9baa" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">如何向我们的Vue实例添加默认状态</h2><p id="5a49" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">让我们给对象添加另一个<code class="fe nm nn no np b">key: value</code>对。这一对在Vue实例中扮演着重要的角色:它保存着我们的应用程序的状态。这个<code class="fe nm nn no np b">key</code>叫做<code class="fe nm nn no np b">data</code>，它的值是一个对象，如下图。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="fe12" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app",<br/>  data: {}<br/>});</span></pre><p id="a07c" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">在这个对象内部，我们可以随意添加带有任何名称的<code class="fe nm nn no np b">key: value</code>对，因为它们对于我们的应用程序是唯一的，而不是由Vue指定或预期的。</p><p id="177e" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们只需要存储两条数据:来自API请求的响应和我们想要查找的单词。</p><p id="46fd" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们需要为每个项目设置初始值和默认值，以便Vue可以正确地注册和跟踪每个项目的任何未来更改。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="e5ff" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app",<br/>  data: {<br/>    response: null,<br/>    word: ""<br/>  }<br/>});</span></pre><p id="40f0" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我为每个数据对象键选择了直观的标签，<code class="fe nm nn no np b">response</code>为API响应，<code class="fe nm nn no np b">word</code>为我们想要查找的单词。</p><h2 id="20dc" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">如何将WordsAPI请求设置为我们的Vue实例的一部分</h2><p id="7f36" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">这一步有三个部分:</p><ul class=""><li id="a6fe" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">我们需要向WordsAPI发送一个GET请求，其中包含我们想要查找的单词。</li><li id="82c9" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">当我们从API得到响应时，我们希望将它转换成JSON，这样我们就可以对它执行操作。</li><li id="fd71" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">在将其转换为JSON之后，我们希望将响应对象存储在用<code class="fe nm nn no np b">null</code>作为值初始化的<code class="fe nm nn no np b">data</code>对象的<code class="fe nm nn no np b">response</code>属性中。</li></ul><p id="a563" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们将在一个<code class="fe nm nn no np b">function</code>中完成所有这些。该函数将存储在我们的Vue实例中，因为Vue将在适当的时候调用它。</p><p id="18fd" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">让我们开始编写函数:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="db1d" class="mz kz it np b gy nu nv l nw nx">function handleAPIRequest() {<br/>  ...<br/>}</span></pre><p id="b5ca" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">这是一个很长的函数名，但是它的功能非常清楚:它处理我们的API请求。</p><p id="f7dd" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">发送GET请求的一种方便的内置方式是通过<a class="ae ol" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" rel="noopener ugc nofollow" target="_blank">获取API </a>。</p><p id="1338" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">Mozilla Developer Network上的文章<a class="ae ol" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" rel="noopener ugc nofollow" target="_blank">使用Fetch </a>提供了一个有用的基本示例:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="f435" class="mz kz it np b gy nu nv l nw nx">fetch('http://example.com/movies.json')<br/>  .then(function(response) {<br/>    return response.json();<br/>  })<br/>  .then(function(myJson) {<br/>    console.log(JSON.stringify(myJson));<br/>  });</span></pre><h2 id="8dd8" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">这里发生了什么事？嗯，很多。</h2><ul class=""><li id="9e98" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md nl mf mg mh bi translated"><code class="fe nm nn no np b">fetch</code>是一个用单个参数调用的<code class="fe nm nn no np b">function</code>:一个包含URL的字符串，在本例中指向一个JSON文件</li><li id="1881" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">下一行实际上是第一行的延续:<code class="fe nm nn no np b">fetch</code>函数调用返回一个对象。我们立即调用<code class="fe nm nn no np b">then</code>方法(也称为函数)，向它传递一个参数:a <code class="fe nm nn no np b">function</code>。</li><li id="9a00" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">这个函数——作为参数传递给<code class="fe nm nn no np b">then</code>函数调用的函数——在被调用时，需要一个参数——在这里标记为<code class="fe nm nn no np b">response</code>。这个函数执行一个命令:返回调用<code class="fe nm nn no np b">json</code>的结果。这个命令可以有效地将API请求发送的文本字符串转换成我们更喜欢使用的JavaScript对象。</li><li id="82a4" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">下一行是第一行的<code class="fe nm nn no np b">fetch</code>函数调用的延续。它的工作方式与前面的<code class="fe nm nn no np b">then</code>函数调用相同。传递给它的函数需要一个参数。它将接收前一个函数调用返回的JSON对象。</li><li id="86fc" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">我们将用一个将JSON对象存储到Vue实例的<code class="fe nm nn no np b">data</code>对象的<code class="fe nm nn no np b">response</code>属性中的命令来替换<code class="fe nm nn no np b">console.log()</code>命令。</li></ul><p id="0f6b" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">用更简单但更高级的术语来说，Fetch返回一个承诺。每个<code class="fe nm nn no np b">then</code>函数调用记录了当承诺成功解析时要执行的后续动作。</p><h2 id="309c" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">我们如何修改代码样本来满足我们的需求？</h2><p id="1c11" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">在四个重要方面:</p><ol class=""><li id="544f" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md me mf mg mh bi translated">我们需要向不同的URL发送请求。</li><li id="0aea" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">我们需要向该URL追加一段数据。</li><li id="43b3" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">我们需要在发送之前配置该请求，以便WordsAPI可以正确地验证我们的请求。</li><li id="2390" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">我们需要将最终的JSON存储回Vue实例中。</li></ol><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="9d58" class="mz kz it np b gy nu nv l nw nx">fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>   headers: {<br/>      "X-Mashape-Key": "someCrazyLongAPIKeyThatContainsNumbersAndLetters"<br/>   }<br/>})<br/>   .then(function(response) { return response.json() })<br/>   .then(function(myJson) { this.response = myJson })</span></pre><h2 id="eb48" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">使用哪个URL？</h2><p id="1ce4" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">我们从WordsAPI得到这个。他们的文档指出，当查找一个单词时，我们使用这个URL:<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/</a></p><h2 id="6ea3" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">我们如何将数据添加到那个URL？</h2><p id="a679" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">该URL需要在<code class="fe nm nn no np b">words/</code>部分之后的最后一位:我们想要查找的单词。在我们的Vue实例中，该值将存储在<code class="fe nm nn no np b">data</code>对象内标记为<code class="fe nm nn no np b">word</code>的属性中。Vue为我们提供了一种便捷的方式来引用存储在<code class="fe nm nn no np b">data</code>对象中的任何值:我们写<code class="fe nm nn no np b">this.word</code>而不是<code class="fe nm nn no np b">this.data.word</code>或者必须通过其他方式访问word。</p><p id="b0dc" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们可以使用一个<code class="fe nm nn no np b">template literal</code>来清楚地写出完整的URL，包括我们的数据。模板文字被反勾号包围:在大多数键盘上，<code class="fe nm nn no np b">1</code>左边的底部符号。</p><p id="60a6" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">模板文字允许我们使用以下语法将评估的数据插入到字符串中:<code class="fe nm nn no np b">${ expression }</code>。</p><p id="2844" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">因此，我们传递给<code class="fe nm nn no np b">fetch</code>的字符串将如下所示:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="5d13" class="mz kz it np b gy nu nv l nw nx">fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>)</span></pre><h2 id="1fb6" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">我们如何在请求中发送所需的API键，以便WordsAPI不会返回关于无效访问的错误？</h2><p id="bad2" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated"><code class="fe nm nn no np b">fetch</code>函数调用接受第二个参数:一个用于配置API请求的对象。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="307b" class="mz kz it np b gy nu nv l nw nx">fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {})</span></pre><p id="ba2e" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">这个对象允许多种可能的<code class="fe nm nn no np b">key: value</code>对。我们只需要设置一个，<code class="fe nm nn no np b">headers</code>。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="d511" class="mz kz it np b gy nu nv l nw nx">fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>  headers: {}<br/>})</span></pre><p id="9df7" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">WordsAPI要求我们向<code class="fe nm nn no np b">headers</code>对象添加一个<code class="fe nm nn no np b">key: value</code>对。密钥是<code class="fe nm nn no np b">X-Mashape-Key</code>,值是一个长字符串，在您订阅WordsAPI时分配给您的帐户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/42c1745684b2a8ba63d356edc3bea52b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*frH7soSxrMHWUQfbdjhA9g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用红色突出显示的是API请求所需的密钥。只要您已经登录，<a class="ae ol" href="https://rapidapi.com/dpventures/api/wordsapi" rel="noopener ugc nofollow" target="_blank">使用此链接跳转到此页面并复制粘贴您的密钥</a>。</p></figure><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="ba9d" class="mz kz it np b gy nu nv l nw nx">fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>   headers: {<br/>      "X-Mashape-Key": "yourAPIKeyThatContainsNumbersAndLetters"<br/>   }<br/>})</span></pre><p id="451b" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">将这个API调用放在我们函数的上下文中，现在看起来像这样:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="22cf" class="mz kz it np b gy nu nv l nw nx">function handleAPIRequest() {<br/>   fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>      headers: {<br/>         "X-Mashape-Key": "yourAPIKeyThatContainsNumbersAndLetters"<br/>      }<br/>   })<br/>}</span></pre><p id="ddd3" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">回想一下，MDN示例代码中有两个对<code class="fe nm nn no np b">then</code>的链式调用:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="b8ce" class="mz kz it np b gy nu nv l nw nx">fetch('http://example.com/movies.json')<br/>  .then(function(response) {<br/>    return response.json();<br/>  })<br/>  .then(function(myJson) {<br/>    console.log(JSON.stringify(myJson));<br/>  });</span></pre><p id="ebee" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们可以完全按照编写的内容复制第一个<code class="fe nm nn no np b">then</code>调用。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="0237" class="mz kz it np b gy nu nv l nw nx">function handleAPIRequest() {<br/>   fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>      headers: {<br/>         "X-Mashape-Key": "yourAPIKeyThatContainsNumbersAndLetters"<br/>      }<br/>    })<br/>    <!-- -->.then(function(response) {<br/>       return response.json();<br/>    })<br/>}</span></pre><p id="2622" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们需要修改第二个<code class="fe nm nn no np b">then</code>调用，将JSON存储回Vue实例的<code class="fe nm nn no np b">response</code>属性。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="9075" class="mz kz it np b gy nu nv l nw nx">function handleAPIRequest() {<br/>   fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>      headers: {<br/>         "X-Mashape-Key": "yourAPIKeyThatContainsNumbersAndLetters"<br/>      }<br/>    })<br/>    <!-- -->.then(function(response) {<br/>       return response.json();<br/>    })<br/>    .then(function(body) {<br/>       this.response = body;<br/>    })<br/>}</span></pre><p id="7862" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">就像使用<code class="fe nm nn no np b">word</code>一样，我们可以通过<code class="fe nm nn no np b">this.</code>方便地引用存储在Vue的<code class="fe nm nn no np b">data</code>对象中的任何属性，然后引用属性的名称，而不必插入<code class="fe nm nn no np b">this.data.</code>或通过其他方式。</p><p id="0b72" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">如果您更喜欢使用JavaScript较新的arrow <code class="fe nm nn no np b">=&gt;</code>函数，您的<code class="fe nm nn no np b">handleAPIRequest</code>函数将如下所示:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="d533" class="mz kz it np b gy nu nv l nw nx">function handleAPIRequest() {<br/>   fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>      headers: {<br/>         "X-Mashape-Key": "yourAPIKeyThatContainsNumbersAndLetters"<br/>      }<br/>    })<br/>    <!-- -->.then(response =&gt; response.json())<br/>    .then(body =&gt; this.response = body)<br/>}</span></pre><h2 id="2aa5" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">我们把这个函数放在Vue的什么地方？</h2><p id="2577" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">您的Vue配置对象上目前有两对<code class="fe nm nn no np b">key: value</code>:<code class="fe nm nn no np b">el</code>和<code class="fe nm nn no np b">data</code>。再补充一个Vue认可的:<code class="fe nm nn no np b">methods</code>。它的值是一个存储一个或多个函数的对象。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="f3ef" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app",<br/>  data: {<br/>    response: null,<br/>    word: ""<br/>  },<br/>  methods: {}<br/>});</span></pre><p id="895c" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们的<code class="fe nm nn no np b">handleAPIRequest</code>函数可以是这个对象的属性值之一，就像这样:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="57d7" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app",<br/>  data: {<br/>    response: null,<br/>    word: ""<br/>  },<br/>  methods: {<br/>    handleAPIRequest: function () {<br/>      fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>         headers: {<br/>            "X-Mashape-Key": "yourAPIKey"<br/>         }<br/>      })<br/>       <!-- -->.then(response =&gt; response.json())<br/>       .then(body =&gt; this.response = body)<br/>    <!-- -->}<br/>  }<br/>});</span></pre><h2 id="9373" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">我们如何用我们想要的任何单词触发API请求？</h2><p id="6462" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">让我们回到HTML模板的一部分:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="18d3" class="mz kz it np b gy nu nv l nw nx">&lt;div id="app&gt;<br/>  &lt;h1&gt;Dictionary&lt;/h1&gt;<br/>  &lt;input type="text" /&gt;<br/>  &lt;button&gt;Search&lt;/button&gt;<br/>   ...<br/>&lt;/div&gt;</span></pre><p id="6568" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们需要做两件事:</p><ol class=""><li id="0192" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md me mf mg mh bi translated">将<code class="fe nm nn no np b">input</code>绑定到我们的<code class="fe nm nn no np b">data</code>对象中的<code class="fe nm nn no np b">word</code>属性。</li><li id="73a2" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">向按钮添加一个事件监听器，以便在单击时调用<code class="fe nm nn no np b">handleAPIRequest</code>函数。</li></ol><h2 id="3aa4" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">将<code class="fe nm nn no np b">input</code>绑定到我们的<code class="fe nm nn no np b">data</code>对象中的<code class="fe nm nn no np b">word</code>属性</h2><p id="bd2c" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">当您在<code class="fe nm nn no np b">input</code>字段中输入文本时，该文本应该作为重新分配给<code class="fe nm nn no np b">word</code>属性的值保存在Vue的<code class="fe nm nn no np b">data</code>对象中。此外，无论存储在<code class="fe nm nn no np b">word</code>中的是什么，都应该始终显示为<code class="fe nm nn no np b">input</code>字段的值。</p><p id="43ca" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">这被称为双向数据绑定，Vue为创建它提供了一个非常方便的语法:<code class="fe nm nn no np b">v-model</code>指令。</p><p id="b843" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">Vue指令被方便地写成仿HTML属性，并带有前缀<code class="fe nm nn no np b">v-</code>。</p><p id="c8c5" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">Vue的<code class="fe nm nn no np b">model</code>指令和许多其他指令一样，是这样写的:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="0f3f" class="mz kz it np b gy nu nv l nw nx">&lt;input v-model="word" type="text" /&gt;</span></pre><p id="f383" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">引号内的内容是任何有效的JavaScript表达式(也就是通常写在赋值操作符右边的内容，<code class="fe nm nn no np b">=</code>)</p><p id="c69e" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们只需要把四个字符的字符串<code class="fe nm nn no np b">word</code>放在引号之间，如上图所示。我们的HTML模板的开头看起来像这样:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="36e1" class="mz kz it np b gy nu nv l nw nx">&lt;div id="app&gt;<br/>  &lt;h1&gt;Dictionary&lt;/h1&gt;<br/>  &lt;input v-model="word" type="text" /&gt;<br/>  &lt;button&gt;Search&lt;/button&gt;<br/>   ...<br/>&lt;/div&gt;</span></pre><h2 id="0db6" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">向按钮添加一个事件监听器，以便在单击时调用<code class="fe nm nn no np b">handleAPIRequest</code>函数</h2><p id="0b39" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">Vue有一个用于监听DOM事件的指令:<code class="fe nm nn no np b">on</code>。</p><p id="4ac4" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">它的语法一开始有点奇怪。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="8e30" class="mz kz it np b gy nu nv l nw nx">&lt;button v-on:click="handleAPIRequest"&gt;Search&lt;/button&gt;</span></pre><ul class=""><li id="f0b6" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">以<code class="fe nm nn no np b">v-</code>为前缀。</li><li id="aa3e" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">然后是指令名，<code class="fe nm nn no np b">on</code>。</li><li id="b8d1" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">然后是冒号，表示后面是一个参数(很像调用函数)。</li><li id="2db7" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">然后是参数的名称。在这种情况下，它必须是一个有效的DOM事件，比如<code class="fe nm nn no np b">click</code>。</li><li id="76e6" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">然后是通常的等号，开盘价，和收盘价。</li><li id="6954" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">引号之间是JavaScript表达式。在这种情况下，我们输入应该调用的函数的名称。仔细看:我们没有调用函数(没有括号)。</li></ul><h2 id="17eb" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">我们的模板现在看起来像这样:</h2><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="5bab" class="mz kz it np b gy nu nv l nw nx">&lt;div id="app&gt;<br/>  &lt;h1&gt;Dictionary&lt;/h1&gt;<br/>  &lt;input v-model="word" type="text" /&gt;<br/>  &lt;button v-on:click="handleAPIRequest"&gt;Search&lt;/button&gt;<br/>   ...<br/>&lt;/div&gt;</span></pre><h2 id="6d5e" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">如何在模板中显示响应对象的各个部分</h2><p id="1378" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">回到我们的模板，我们需要显示几个项目，每个项目都来自API请求返回的JSON:</p><ul class=""><li id="f8ac" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated"><code class="fe nm nn no np b">{{ syllables }}</code></li><li id="1f5b" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated"><code class="fe nm nn no np b">{{ pronunciation }}</code></li><li id="5d19" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated"><code class="fe nm nn no np b">{{ definition }}</code> <code class="fe nm nn no np b">{{ sentences }}</code>和<code class="fe nm nn no np b">{{ synonyms }}</code>为每个名词或动词</li></ul><p id="b0a2" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">Vue提供了两种存储数据的方式，一种依赖于另一种:</p><ul class=""><li id="b654" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">对象存储所有的原始数据</li><li id="e7dd" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">一个<code class="fe nm nn no np b">computed</code>对象可以存储从<code class="fe nm nn no np b">data</code>中存储的值中导出的数据</li></ul><p id="5136" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">例如，<code class="fe nm nn no np b">data</code>可能存储了数组，<code class="fe nm nn no np b">[1, 2, 3, 4, 5]</code>。如果我想在模板的某个地方显示数组<code class="fe nm nn no np b">[1, 3, 5]</code>的子集奇数，我会使用一个<code class="fe nm nn no np b">computed</code>属性，它是该数组的过滤副本。</p><p id="879d" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">在我们的例子中，上面我们想要在模板中显示的每个标签都可以从JSON对象中派生出来，我们将把它存储在<code class="fe nm nn no np b">response</code>的<code class="fe nm nn no np b">data</code>对象中。因此，我们将为每一个创建<code class="fe nm nn no np b">computed</code>属性。每个<code class="fe nm nn no np b">computed</code>属性本质上将存储从<code class="fe nm nn no np b">response</code>中提取的值。</p><h2 id="ac68" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">让我们从音节开始，掌握事情的诀窍</h2><p id="16f3" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">记住我们的目标:</p><ul class=""><li id="36c2" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">将数据从一种结构转换为另一种结构——从API响应的数据结构到我们希望在模板中呈现的数据结构</li></ul><p id="1dfe" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">对于音节，我们给出了一个数组:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="3d5d" class="mz kz it np b gy nu nv l nw nx">"syllables": {<br/>    "count": 2,<br/>    "list": [<br/>      "pro",<br/>      "gram"<br/>    ]<br/>},</span></pre><p id="57be" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">…我们希望我们的模板显示<code class="fe nm nn no np b">pro•gram</code>。</p><ul class=""><li id="52cd" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">我们必须从一个数组<code class="fe nm nn no np b">list</code>到一个字符串。</li><li id="2bd5" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">数组的元素将被链接(也称为组合)在一起，用项目符号作为粘合剂。</li></ul><p id="f6ba" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated"><code class="fe nm nn no np b">list</code>是父对象<code class="fe nm nn no np b">syllables</code>的属性，父对象是由我们的API请求返回的父对象的属性，并存储在我们的Vue实例的<code class="fe nm nn no np b">data</code>对象的<code class="fe nm nn no np b">response</code>属性中。</p><p id="b23e" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">这就是我们在Vue实例中访问<code class="fe nm nn no np b">list</code>的方式:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="42a0" class="mz kz it np b gy nu nv l nw nx">this.response.syllables.list</span></pre><p id="4878" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">JavaScript中的所有数组都可以访问一个名为<code class="fe nm nn no np b">join</code>的函数。调用时，它使用作为函数参数传入的字符合并数组中的每个元素。这正是我们实现目标所需的功能:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="8564" class="mz kz it np b gy nu nv l nw nx">this.response.syllables.list.join("•")<br/>// "pro•gram"</span></pre><p id="cc41" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们知道如何进行翻译。现在，让我们将这个命令作为一个<code class="fe nm nn no np b">computed</code>属性放在Vue中。</p><p id="089b" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">回想一下到目前为止我们的Vue实例的形状:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="5ee7" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app",<br/>  data: {...},<br/>  methods: {<br/>    handleAPIRequest: function() {...}<br/>  }<br/>});</span></pre><p id="0b4c" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">Vue的<code class="fe nm nn no np b">computed</code>属性与<code class="fe nm nn no np b">methods</code>非常相似:它存储一个属性都指向函数的对象。</p><p id="60a2" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">让我们添加<code class="fe nm nn no np b">computed</code>和它的第一个<code class="fe nm nn no np b">key: value</code>对来存储<code class="fe nm nn no np b">syllables</code>:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="b41a" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app",<br/>  data: {...},<br/>  methods: {<br/>    handleAPIRequest: function() {...}<br/>  },<br/>  computed: {<br/>    syllables: function() {<br/>      return this.response.syllables.list.join("•");<br/>    }<br/>  }<br/>});</span></pre><h2 id="134a" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">有一点我们必须说明</h2><p id="12c3" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">在我们查一个词之前，<code class="fe nm nn no np b">this.response</code>会是它的默认值，<code class="fe nm nn no np b">null</code>。</p><p id="ae29" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">因此，当我们试图访问<code class="fe nm nn no np b">this.response.syllables</code>时，JavaScript将抛出一个错误，因为<code class="fe nm nn no np b">null.syllables</code>不存在。</p><p id="ea26" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们需要控制JavaScript的流程:</p><ul class=""><li id="2d9f" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">如果<code class="fe nm nn no np b">this.response</code>是<code class="fe nm nn no np b">null</code>，返回比方说一个空数组(真的，任何空对象都可以)。</li><li id="2794" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">否则(当<code class="fe nm nn no np b">this.response</code>是返回的JSON对象时)，返回<code class="fe nm nn no np b">this.response.syllables.list.join("•")</code>。</li></ul><p id="9e3e" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">为了以简洁的方式实现这一点，我们将使用JavaScript的<code class="fe nm nn no np b">ternary operator</code>，它采用以下伪形式:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="ceae" class="mz kz it np b gy nu nv l nw nx">(is this true) ? [yes: do this] : [no: do this instead]</span></pre><p id="f2ab" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">换句话说，就是:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="a0bf" class="mz kz it np b gy nu nv l nw nx">condition ? true : false</span></pre><p id="debc" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">我们更新后的<code class="fe nm nn no np b">syllables</code>函数如下所示:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="3895" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app",<br/>  data: {...},<br/>  methods: {<br/>    handleAPIRequest: function() {...}<br/>  },<br/>  computed: {<br/>    syllables: function() {<br/>      return this.response === null ? [] : this.response.syllables.list.join("•");<br/>    }<br/>  }<br/>});</span></pre><p id="a514" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">如果<code class="fe nm nn no np b">this.response</code>为<code class="fe nm nn no np b">null</code>，则返回一个空数组。否则，返回我们的<code class="fe nm nn no np b">join</code>函数调用。</p><p id="964f" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">作为一种快进，以下是所有四个<code class="fe nm nn no np b">computed</code>属性及其相应的函数值:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="9dbe" class="mz kz it np b gy nu nv l nw nx">var app = new Vue({<br/>  el: "#app",<br/>  data: {...},<br/>  methods: {<br/>    handleAPIRequest: function() {...}<br/>  },<br/>  computed: {<br/>    syllables: function() {<br/>      return this.response === null ? [] : this.response.syllables.list.join("•");<br/>    },<br/>    pronunciation: function() {<br/>      return this.response === null ? [] : `/${this.response.pronunciation.all}/`<br/>    },<br/>    nouns: function() {<br/>      return this.response === null ? [] : this.response.results.filter(result =&gt; result.partOfSpeech === "noun"<br/>    },<br/>    verbs: function() {<br/>      return this.response === null ? [] : this.response.results.filter(result =&gt; result.partOfSpeech === "verb"<br/>    }<br/>  }<br/>});</span></pre><ul class=""><li id="e3f7" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">发音被格式化为附加到<code class="fe nm nn no np b">pronunciation.all</code>的字符串。出于演示目的，我们在开头和结尾添加了<code class="fe nm nn no np b">/</code>字符。</li><li id="1c37" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated"><code class="fe nm nn no np b">nouns</code>和<code class="fe nm nn no np b">verbs</code>是通过过滤<code class="fe nm nn no np b">response</code>中的<code class="fe nm nn no np b">results</code>数组得到的，分别只包含<code class="fe nm nn no np b">partOfSpeech</code>属性为字符串<code class="fe nm nn no np b">noun</code>或<code class="fe nm nn no np b">verb</code>的结果。两者都将返回数组</li></ul><h2 id="cb74" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">在我们的模板中显示所有这些数据…终于！</h2><p id="3660" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">为了在我们的模板中显示这些计算出的属性，我们首先需要查看另外两个Vue指令:<code class="fe nm nn no np b">v-if</code>和<code class="fe nm nn no np b">v-for</code>。</p><ul class=""><li id="8f02" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated"><code class="fe nm nn no np b">v-if</code>会评估一个表达式。如果为true，DOM元素及其所有子元素将被添加到组件中。如果为false，将从组件中移除DOM元素及其所有子元素。</li><li id="67c6" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">将遍历一个对象或数组，为每个键值对或元素生成DOM元素。</li></ul><p id="710a" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">先说我们最亲的<code class="fe nm nn no np b">&lt;dl&gt;</code>。它应该只在用户输入一个单词，按下按钮，并且API返回一个带有定义数据的响应时出现。换句话说，如果用户没有查找一个单词，或者这个单词对于API来说是无效的，那么我们就不会在页面或DOM中看到一个<code class="fe nm nn no np b">&lt;dl&gt;</code>。</p><p id="f366" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">因此，开头的<code class="fe nm nn no np b">&lt;dl&gt;</code>标记现在看起来是这样的:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="baf1" class="mz kz it np b gy nu nv l nw nx">&lt;dl v-if="response"&gt;</span></pre><p id="32a6" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">如果<code class="fe nm nn no np b">response</code>是<code class="fe nm nn no np b">null</code>，则该表达式将计算为<code class="fe nm nn no np b">false</code>。如果<code class="fe nm nn no np b">response</code>是JSON对象，它将计算为<code class="fe nm nn no np b">true</code>。</p><p id="7d0f" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">接下来，两个<code class="fe nm nn no np b">&lt;dd&gt;</code>可能包含一个单词的定义列表，分为<code class="fe nm nn no np b">nouns</code>和<code class="fe nm nn no np b">verbs</code>。</p><p id="245a" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">根据我们的<code class="fe nm nn no np b">computed</code>属性，无论<code class="fe nm nn no np b">response</code>是什么，这两个值都将是数组。唯一的区别就是每一个是不是空的。</p><p id="780f" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">因此，我们的<code class="fe nm nn no np b">v-if</code>指令可以检查数组的<code class="fe nm nn no np b">length</code>以确定<code class="fe nm nn no np b">&lt;dd&gt;</code>是否呈现(length&gt;0)(length = = 0)。</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="98e6" class="mz kz it np b gy nu nv l nw nx">&lt;dd v-if="nouns.length"&gt;<br/>  ...<br/>&lt;/dd&gt;<br/>&lt;dd v-if="verbs.length"&gt;<br/>  ...<br/>&lt;/dd&gt;</span></pre><p id="fb1f" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">在给定的结果中，有三样东西可能包含0、1或更多元素:</p><ul class=""><li id="b3dc" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">定义的数量。</li><li id="cc82" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">例句的数量。</li><li id="47b0" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">同义词的数量。</li></ul><p id="727a" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">对于这些潜在的项目集合中的每一个，我们将利用Vue的<code class="fe nm nn no np b">v-for</code>指令为每个项目清除一个DOM元素。</p><p id="cfa7" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">下面是列表项上下文中Vue的<code class="fe nm nn no np b">v-for</code>指令的语法:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="cc5a" class="mz kz it np b gy nu nv l nw nx">&lt;li v-for="item in collection"&gt;...&lt;/li&gt;</span></pre><p id="096e" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">在<code class="fe nm nn no np b">&lt;li&gt;</code>内部，我们可以使用<code class="fe nm nn no np b">item</code>来引用迭代中的当前元素。</p><p id="cec9" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">回想一下前面的模板部分，我们现在可以将适当的<code class="fe nm nn no np b">v-for</code>指令添加到标记中:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="045a" class="mz kz it np b gy nu nv l nw nx">&lt;dd v-if="nouns.length"&gt;<br/>      &lt;p&gt;noun&lt;/p&gt;<br/>      &lt;ol&gt;<br/>        &lt;li v-for="noun in nouns"&gt;<br/>          &lt;p&gt;{{noun.definition}}&lt;/p&gt;<br/>          &lt;p v-for="sentence in noun.examples"&gt;<br/>            &lt;q&gt;{{noun.sentence}}&lt;/q&gt;<br/>          &lt;/p&gt;<br/>          &lt;dl&gt;<br/>            &lt;dt&gt;synonyms&lt;/dt&gt;<br/>            &lt;dd v-for="synonym in synonyms"&gt;{{synonym}}&lt;/dd&gt;<br/>          &lt;/dl&gt;<br/>        &lt;/li&gt;<br/>      &lt;/ol&gt;<br/>    &lt;/dd&gt;</span></pre><ul class=""><li id="f8ea" class="lq lr it ls b lt om lv on lx ou lz ov mb ow md nl mf mg mh bi translated">每个结果一个<code class="fe nm nn no np b">&lt;li&gt;</code>。</li><li id="18b6" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">每个例句都有一个<code class="fe nm nn no np b">&lt;p&gt;</code>和<code class="fe nm nn no np b">&lt;q&gt;</code>。</li><li id="0113" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md nl mf mg mh bi translated">每个同义词一个<code class="fe nm nn no np b">&lt;dd&gt;</code>。</li></ul></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="e431" class="ky kz it bd la lb mu ld le lf mv lh li jz mw ka lk kc mx kd lm kf my kg lo lp bi translated">测试我们的应用程序和更新部分，以说明从任何单词的API接收的数据</h1><p id="58c4" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">唉！现在，您应该有了测试小部件所需的标记、脚本和API键。</p><h2 id="fcb4" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">超文本标记语言</h2><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="d8bc" class="mz kz it np b gy nu nv l nw nx">&lt;div id="app"&gt;<br/>  &lt;h1&gt;Dictionary&lt;/h1&gt;<br/>  &lt;input type="text" v-model="word" /&gt;<br/>  &lt;button <a class="ae ol" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="lookup"&gt;Look-up&lt;/button&gt;<br/>  &lt;dl v-if="response"&gt;<br/>    &lt;dt&gt;<br/>      &lt;p class="syllables"&gt;{{syllables}}&lt;/p&gt;<br/>      &lt;p class="pronunciation"&gt;{{pronunciation}}&lt;/p&gt;<br/>    &lt;/dt&gt;<br/>    &lt;dd v-if="nouns.length"&gt;<br/>      &lt;p class="part-of-speech"&gt;noun&lt;/p&gt;<br/>      &lt;ol&gt;<br/>        &lt;li class="definition-group" v-for="noun in nouns"&gt;<br/>          &lt;p&gt;{{noun.definition}}&lt;/p&gt;<br/>          &lt;p v-for="example in noun.examples"&gt;<br/>            &lt;q class="example"&gt;{{example}}&lt;/q&gt;<br/>          &lt;/p&gt;<br/>          &lt;dl&gt;<br/>            &lt;dt class="synonym-heading"&gt;synonyms&lt;/dt&gt;<br/>            &lt;dd class="synonym" v-for="synonym in noun.synonyms"&gt;<br/>              {{synonym}}<br/>            &lt;/dd&gt;<br/>          &lt;/dl&gt;<br/>        &lt;/li&gt;<br/>      &lt;/ol&gt;<br/>    &lt;/dd&gt;<br/>    &lt;dd v-if="verbs.length"&gt;<br/>      &lt;p class="part-of-speech"&gt;verb&lt;/p&gt;<br/>      &lt;ol&gt;<br/>        &lt;li class="definition-group" v-for="verb in verbs"&gt;<br/>          &lt;p&gt;{{verb.definition}}&lt;/p&gt;<br/>          &lt;p v-for="example in verb.examples"&gt;<br/>            &lt;q class="example"&gt;{{example}}&lt;/q&gt;<br/>          &lt;/p&gt;<br/>          &lt;dl&gt;<br/>            &lt;dt class="synonym-heading"&gt;synonyms&lt;/dt&gt;<br/>            &lt;dd class="synonym" v-for="synonym in verb.synonyms"&gt;<br/>              {{synonym}}<br/>            &lt;/dd&gt;<br/>          &lt;/dl&gt;<br/>        &lt;/li&gt;<br/>      &lt;/ol&gt;<br/>    &lt;/dd&gt;<br/>  &lt;/dl&gt;<br/>&lt;/div&gt;</span></pre><h2 id="7a4e" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">Java Script语言</h2><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="43ee" class="mz kz it np b gy nu nv l nw nx">var vm = new Vue({<br/>  el: "#app",<br/>  data: {<br/>    response: null,<br/>    word: "program"<br/>  },<br/>  computed: {<br/>    syllables() {<br/>      return this.response !== null ? this.response.syllables.list.join("•") : [];<br/>    },<br/>    pronunciation() {<br/>      return this.response !== null ? `/${this.response.pronunciation.all}/` : [];<br/>    },<br/>    verbs() {<br/>      return this.response !== null ? this.response.results.filter(result =&gt; result.partOfSpeech === "verb") : [];<br/>    },<br/>    nouns() {<br/>      return this.response !== null ? this.response.results.filter(result =&gt; result.partOfSpeech === "noun") : [];<br/>    },<br/>  },<br/>  methods: {<br/>    lookup() {<br/>      fetch(`<a class="ae ol" href="https://wordsapiv1.p.mashape.com/words/${this.word}`" rel="noopener ugc nofollow" target="_blank">https://wordsapiv1.p.mashape.com/words/${this.word}`</a>, {<br/>        headers: {<br/>          "X-Mashape-Key": "yourAPIKeyHere"<br/>        }<br/>      })<br/>        .then(response =&gt; response.json())<br/>        .then(body =&gt; this.response = body)<br/>    },<br/>  }<br/>})</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/25e0c9f3d7ba29d91263ff65d3b4f954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UnPLAdZWAsksFTPfK9LReQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">它缺乏造型，但它的工作预期！</p></figure><h2 id="3324" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">我们的代码中缺少两个特性，我会留给你们做作业</h2><ol class=""><li id="c862" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">如果一个单词没有同义词，我们的小部件仍然会在不应该显示的时候显示单词<code class="fe nm nn no np b">synonyms</code>。</li><li id="a26d" class="lq lr it ls b lt mi lv mj lx mk lz ml mb mm md me mf mg mh bi translated">在谷歌的版本中，许多同义词可以作为超链接来查找该词的定义。然而，并非所有人都是如此。我们怎样才能达到同样的效果和行为呢？</li></ol><p id="4a48" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">如果你雄心勃勃，可以研究Vue的基于组件的架构，将这个单一组件的应用重构为由几个组件组成的应用。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="610a" class="ky kz it bd la lb mu ld le lf mv lh li jz mw ka lk kc mx kd lm kf my kg lo lp bi translated">最后，让我们使用SCSS模仿谷歌的小部件来设计我们的应用程序</h1><p id="6235" class="pw-post-body-paragraph ny nz it ls b lt lu ju oa lv lw jx ob lx oc od oe lz of og oh mb oi oj ok md im bi translated">在本节末尾的代码片段中，您会看到几次<code class="fe nm nn no np b">&amp;</code>字符。这个特殊字符使作者能够有效地将作为另一个元素的子元素的元素样式嵌套在该元素的样式声明块中，同时仍然在子选择器中的任何位置引用该父元素。</p><p id="58ec" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">例如:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="58fe" class="mz kz it np b gy nu nv l nw nx">.synonym-heading {<br/>    font-style: italic;<br/>    <br/>    &amp;::after {<br/>      content: ":";<br/>    }<br/>}</span></pre><p id="5fa6" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">在常规CSS中应该是这样的:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="bbfd" class="mz kz it np b gy nu nv l nw nx">.synonym-heading {<br/>    font-style: italic;<br/>}<br/>.synonym-heading::after {<br/>    content: ":";<br/>}</span></pre><p id="ec40" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">因此，当选择器块被解释时，上下文中的<code class="fe nm nn no np b">&amp;</code>被编译成<code class="fe nm nn no np b">.synonym-heading</code>。</p><h2 id="c54d" class="mz kz it bd la na nb dn le nc nd dp li lx ne nf lk lz ng nh lm mb ni nj lo nk bi translated">SCSS</h2><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="cdf5" class="mz kz it np b gy nu nv l nw nx">#app {<br/>  min-width: 50vw;<br/>  max-width: 600px;<br/>  margin: 2em auto;<br/>  font-family: sans-serif;<br/>  border: 1px solid lightgray;<br/>  border-radius: 10px;<br/>  padding: 1em;<br/>  <br/>  h1 {<br/>    font-weight: normal;<br/>    font-size: 2em;<br/>    line-height: 1;<br/>    margin-top: 1em;<br/>  }<br/>  <br/>  input, button {<br/>    font-size: 1.5em;<br/>    color: gray;<br/>  }<br/>  <br/>  .syllables {<br/>    font-size: 2em;<br/>    margin: 0;<br/>    line-height: 1;<br/>  }<br/>  <br/>  .pronunciation {<br/>    color: gray;<br/>  }<br/>  <br/>  .synonym-heading {<br/>    font-style: italic;<br/>    <br/>    &amp;::after {<br/>      content: ":"<br/>    }<br/>  }<br/>  <br/>  .synonym {<br/>    &amp;:not(:last-child)::after {<br/>      content: ", ";<br/>    }<br/>  }<br/>  <br/>  .synonym-heading,<br/>  .synonym {<br/>    color: gray;<br/>    margin: 0;<br/>    display: inline;<br/>  }<br/>  <br/>  .part-of-speech {<br/>    font-style: italic;<br/>  }<br/>  <br/>  .definition-group {<br/>    margin-bottom: 1em;<br/>  }<br/>  <br/>  .definition-item {<br/>    margin: 0;<br/>  }<br/>  <br/>  .example {<br/>    color: gray;<br/>  }</span><span id="a707" class="mz kz it np b gy pb nv l nw nx">}</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="214d" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">你到达了终点——无论是通过勇气还是通过滚动页面。</p><p id="6fd5" class="pw-post-body-paragraph ny nz it ls b lt om ju oa lv on jx ob lx oo od oe lz op og oh mb oq oj ok md im bi translated">不管怎样，谢谢你的阅读。我希望你跟着做，因为这样做会让你成为一个更强的前端开发人员。</p></div></div>    
</body>
</html>