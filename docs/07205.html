<html>
<head>
<title>Building Cross-Platform Apps With SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI构建跨平台应用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/building-cross-platform-apps-with-swiftui-3fea88cdb0ae?source=collection_archive---------1-----------------------#2020-12-17">https://betterprogramming.pub/building-cross-platform-apps-with-swiftui-3fea88cdb0ae?source=collection_archive---------1-----------------------#2020-12-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9449" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们使用单一代码库构建一个移动和桌面应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ba5c0cfdce26427be5cd30445428aa61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3XBPYvUpZo8wQ6j5KX2tA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="0e1c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">自从推出以来，通用应用程序(多平台应用程序)一直值得独立开发者和大公司考虑。作为一个想开发应用程序的独立开发者，特别是在Mac应用程序市场，通用应用程序对我来说真的很棒。</p><p id="be89" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将了解什么是通用应用程序，并开发一个简单的通用应用程序，以便我们可以更好地了解通用应用程序是如何工作的。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="d711" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">什么是多平台应用？</h1><p id="d524" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">在WWDC20上发布了新的多平台应用程序概念。在此之前，我们能够开发一些类似的应用程序，但有了WWDC20，SwiftUI变得非常好——所以你实际上可以只用SwiftUI开发一个应用程序。这样，您可以在许多平台上运行SwiftUI代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/cca68b4a50f83b2f3a2ab84bc61db0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fiNj138yVeydSWlWsRh0fQ.jpeg"/></div></div></figure><p id="dd06" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了SwiftUI之外，Mac Catalyst也是一个非常好的工具，可以在多个平台上快速开发应用程序，但Mac Catalyst是一种仅用于将iPad应用程序转换为Mac应用程序的技术。此外，Mac Catalyst只与UIKit框架一起工作。所以大部分人对SwiftUI还是比较兴奋的。</p><p id="acd7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我对SwiftUI感到非常兴奋，因为你可以在Mac、iPhone、<em class="mz">和</em> iPad上运行你用SwiftUI 2.0编写的项目，根本不需要太多额外的代码。</p><p id="cd75" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于通用应用程序，即使是独立开发者也可以不费吹灰之力将其应用程序打入Mac应用程序市场。这实际上是一个游戏改变者。两年前，由于Mac技术的原因，甚至一些较大的公司也不想进入Mac应用市场。</p><p id="95f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但多亏了像Mac Catalyst和SwiftUI这样的新技术，为Mac开发应用变得容易多了。如果你想在这些技术出现之前创建一个原生Mac应用，你必须使用AppKit框架。AppKit框架很老了，所以互联网上与AppKit相关的内容要少得多。一些开发者抱怨苹果扼杀了AppKit，但是，最终，多亏了这些新技术，像我这样的人——以前没有创建过Mac应用的人——可以像iOS应用一样开发Mac应用。</p><p id="a6d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">无论如何，我希望我能稍微解释一下Mac应用市场的总体状况。现在我们可以开始开发我们的应用程序了。当然，我们需要知道开发的要求。</p><h2 id="b15a" class="na mc it bd md nb nc dn mh nd ne dp ml lh nf ng mn ll nh ni mp lp nj nk mr nl bi translated">要求</h2><p id="770c" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">当然，为了开发一个通用的应用程序，我们需要遵守一些要求。于是，通用应用的概念随着WWDC20走进了我们的生活。</p><p id="4692" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">我们的要求:</strong> Xcode 12和装有macOS Big Sur的Mac。</p><p id="60b9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们可以真正开始开发了！</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="8888" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">编码时间</h1><p id="19a2" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我们的应用程序将是一个非常简单的文章列表应用程序。我们要做一个非常简单的应用程序。也许我可以在以后写的关于通用应用的文章中进一步开发这个应用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/727f8512fc6cf365bd61974ebebaa188.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VyJRfRyClYNCat97f7yJfw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最终应用</p></figure><h2 id="b745" class="na mc it bd md nb nc dn mh nd ne dp ml lh nf ng mn ll nh ni mp lp nj nk mr nl bi translated">创建新的Xcode项目</h2><p id="1d06" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">首先，让我们创建一个新的Xcode项目。我们需要创建一个多平台应用程序这个项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/ffb160b3a03840dca0efd0649df8e5da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cFTHqcm2ugGyE5GZmPg_tg.png"/></div></div></figure><p id="1e6d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，你可以给这个项目取任何你想要的名字。之后，剩下的唯一一件事就是开始做你的项目。</p><p id="bfc2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在开发项目时，我给你的建议是把你的文件分成文件夹。在做这个项目时，你可以像我一样使用文件夹。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/832e66582302652b89025f26f2106414.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lh9e_UiWbRAF_JJ32E9owQ.png"/></div></div></figure><h2 id="3153" class="na mc it bd md nb nc dn mh nd ne dp ml lh nf ng mn ll nh ni mp lp nj nk mr nl bi translated">构建数据模型</h2><p id="4e83" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">在我们的项目中只有一个数据模型。因为我们的应用程序是一个商品显示应用程序，正如您所理解的，商品有一个数据模型。这个模型有四个属性:<code class="fe np nq nr ns b">id</code>、<code class="fe np nq nr ns b">title</code>、<code class="fe np nq nr ns b">description</code>、<code class="fe np nq nr ns b">type</code>。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="4ba3" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">struct</strong> Article: Identifiable {<br/>    <br/>    // MARK: - Properties<br/>    <strong class="ns iu">var</strong> id = UUID()<br/>    <strong class="ns iu">let</strong> title: String<br/>    <strong class="ns iu">let</strong> description: String<br/>    <strong class="ns iu">let</strong> type: String<br/>}</span></pre><p id="bdcd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，我们需要用<code class="fe np nq nr ns b">Article</code>模型创建的对象。我们将通过直接写入来创建这些数据。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="ae27" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">let</strong> techArticles = [<br/>    Article(title: "AirPods Max: This is Expensive", description: "Let's take a closer look at AirPods Max, Apple's last product in 2020.", type: "Tech"),<br/>    Article(title: "Mac Apps are Back!", description: "With first Apple Silicon -M1- Macs, many applications that we use on iPhones and iPads come to the Mac App Store! Here is why.", type: "Tech"),<br/>    Article(title: "How to Create an Onboarding Screens in Your App", description: "Onboarding screens are very important for new users to fully understand the application and have a smooth user experience.", type: "Tech")<br/>]</span><span id="32f4" class="na mc it ns b gy ob ny l nz oa"><strong class="ns iu">let</strong> scienceArticles = [<br/>    Article(title: "Are Apple Products Becoming More Cheaper?", description: "In recent years, when I looked at the price of Apple's newly introduced products, I saw a slight decrease in the price of new products.", type: "Science"),<br/>    Article(title: "Limit Properties", description: "Limits can also be evaluated using the properties of limits.", type: "Science"),<br/>    Article(title: "Direct Substitution", description: "We can find any limit of a definite function with direct substitution. Let’s find out how we can do this!", type: "Science")<br/>]</span><span id="e0d7" class="na mc it ns b gy ob ny l nz oa"><strong class="ns iu">let</strong> designArticles = [<br/>    Article(title: "Euler Number", description: "What is the number of e that we usually encounter in calculators? What does it do? Let’s find out what this number is!", type: "Design"),<br/>    Article(title: "Introduction of Limits", description: "Now that we have defined the limit, let’s try to better understand the limit by giving an example…", type: "Design"),<br/>    Article(title: "Find Limits Using Graphs", description: "Graphs are a great tool for understanding the approaching values. Let’s see how this happens!", type: "Design"),<br/>    Article(title: "Find Limits Using Tables", description: "A noteworthy method to understand limits. How, you ask?", type: "Design")<br/>]</span></pre><p id="9d17" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们的数据模型和数据集已经准备好了，让我们创建界面元素来显示这些数据。</p><h2 id="c9f6" class="na mc it bd md nb nc dn mh nd ne dp ml lh nf ng mn ll nh ni mp lp nj nk mr nl bi translated">建筑视图</h2><p id="3638" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">首先，让我们创建一个显示单个<code class="fe np nq nr ns b">Article</code>对象属性的<code class="fe np nq nr ns b">ArticleView</code>对象。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="14b6" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">struct</strong> ArticleView: View {<br/>    <br/>    // MARK: - Properties<br/>    <strong class="ns iu">let</strong> article: Article<br/>    <br/>    // MARK: - UI Elements<br/>    <strong class="ns iu">var</strong> body: <strong class="ns iu">some</strong> View {<br/>        VStack(alignment: .leading, spacing: 5) {<br/>            Text(article.title)<br/>                .font(.title)<br/>            <br/>            Text(article.description)<br/>                .font(.headline)<br/>            <br/>            Spacer()<br/>        }<br/>        .padding()<br/>    }<br/>}</span></pre><p id="2e7c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在为了一起显示这些<code class="fe np nq nr ns b">ArticleView</code>元素，创建一个新的<code class="fe np nq nr ns b">View</code>对象。叫<code class="fe np nq nr ns b">ArticlesListView</code>。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="9bc8" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">struct</strong> ArticlesListView: View {<br/>    <br/>    // MARK: - Properties<br/>    <strong class="ns iu">let</strong> articles: [Article]<br/>    <br/>    // MARK: - UI Elements<br/>    <strong class="ns iu">var</strong> body: <strong class="ns iu">some</strong> View {<br/>        Text("Hello, TurkishKit!")<br/>    }<br/>}</span></pre><p id="f918" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们不会直接在<code class="fe np nq nr ns b">body</code>中创建<code class="fe np nq nr ns b">List</code>对象，因为当应用程序在Mac设备上打开时，最好相应地设置大小。正如你在下面看到的，我们用<code class="fe np nq nr ns b">frame</code>方法调整了Mac应用的大小。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="f73e" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">struct </strong>ArticlesListView: View {<br/>    <br/>    // MARK: - Properties<br/>    <strong class="ns iu">let</strong> articles: [Article]<br/>    <br/>    // MARK: - UI Elements<br/>    <strong class="ns iu">var</strong> body: some View {<br/>        #<strong class="ns iu">if os</strong>(macOS)<br/>        <strong class="ns iu">return</strong><br/>            view<br/>                .frame(minWidth: 400, minHeight: 600)<br/>        #<strong class="ns iu">else</strong><br/>        <strong class="ns iu">return</strong> view<br/>        #<strong class="ns iu">endif</strong><br/>    }<br/>        <br/><strong class="ns iu">    @ViewBuilder</strong><br/>    <strong class="ns iu">private var </strong>view: <strong class="ns iu">some</strong> View {<br/>        List(articles) { article <strong class="ns iu">in</strong><br/>            NavigationLink(destination: ArticleView(article: article)) {<br/>                ArticleView(article: article)<br/>            }<br/>        }<br/>        .navigationTitle("\(articles[0].type)")<br/>    }<br/>}</span></pre><p id="8d93" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在到了重要的部分:<code class="fe np nq nr ns b">SideBar</code>和<code class="fe np nq nr ns b">TabBar</code>。<code class="fe np nq nr ns b">TabBar</code>和<code class="fe np nq nr ns b">SideBar</code>元素对于我们应用程序的结构来说极其重要。通常我们用这些元素来划分我们的应用。在这个应用中，<code class="fe np nq nr ns b">TabBar</code>元素也将用于iPhone版本，<code class="fe np nq nr ns b">SideBar</code>元素将用于iPad和Mac设备。</p><p id="f556" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们从<code class="fe np nq nr ns b">TabBar</code>元素开始。在这个元素中，我们唯一要做的就是排列我们的主屏幕。我们使用<code class="fe np nq nr ns b">tag</code>方法来准确定位屏幕。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="b349" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">struct</strong> TabBar: View {<br/>    <br/>    // MARK: - UI Elements<br/>    <strong class="ns iu">var</strong> body: <strong class="ns iu">some</strong> View {<br/>        TabView {<br/>            ArticlesListView(articles: techArticles)<br/>                .tabItem {<br/>                    Image(systemName: "newspaper.fill")<br/>                    Text("Tech")<br/>                }<br/>                .tag(0)<br/>            <br/>            ArticlesListView(articles: scienceArticles)<br/>                .tabItem {<br/>                    Image(systemName: "paperclip")<br/>                    Text("Science")<br/>                }<br/>                .tag(1)<br/>            <br/>            ArticlesListView(articles: designArticles)<br/>                .tabItem {<br/>                    Image(systemName: "rectangle.and.paperclip")<br/>                    Text("Design")<br/>                }<br/>                .tag(2)<br/>        }<br/>        .navigationTitle("Articles")<br/>    }<br/>}</span></pre><p id="8152" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们来看看<code class="fe np nq nr ns b">SideBar</code>元素。在<code class="fe np nq nr ns b">SideBar</code>元素中我们有一个基本的<code class="fe np nq nr ns b">View</code>元素，类似于<code class="fe np nq nr ns b">TabBar</code>元素:<code class="fe np nq nr ns b">List</code>。我们将使用<code class="fe np nq nr ns b">NavigationLink</code>对象在<code class="fe np nq nr ns b">List</code>对象中定向。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="bf2c" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">struct</strong> SideBar: View {<br/>    <br/>    // MARK: - UI Elements<br/><strong class="ns iu">    @ViewBuilder</strong><br/>    <strong class="ns iu">var</strong> body: <strong class="ns iu">some</strong> View {<br/>        List {<br/>            NavigationLink(<br/>                destination: ArticlesListView(articles: techArticles),<br/>                label: {<br/>                    Label("Tech", systemImage: "newspaper.fill")<br/>                }<br/>            )<br/>            .tag(NavigationItem.tech)<br/>            <br/>            NavigationLink(<br/>                destination: ArticlesListView(articles: scienceArticles),<br/>                label: {<br/>                    Label("Science", systemImage: "paperclip")<br/>                }<br/>            )<br/>            .tag(NavigationItem.science)<br/>            <br/>            NavigationLink(<br/>                destination: ArticlesListView(articles: designArticles),<br/>                label: {<br/>                    Label("Design", systemImage: "rectangle.and.paperclip")<br/>                }<br/>            )<br/>            .tag(NavigationItem.design)<br/>        }<br/>        .navigationTitle("Articles")<br/>        .listStyle(SidebarListStyle())<br/>    }<br/>}</span></pre><p id="99ef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">开发如下代码，以确保<code class="fe np nq nr ns b">NavigationLink</code>元素的正确定位。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="65cd" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">enum</strong> NavigationItem {<br/>    <strong class="ns iu">case</strong> tech<br/>    <strong class="ns iu">case</strong> science<br/>    <strong class="ns iu">case</strong> design<br/>}</span><span id="5eac" class="na mc it ns b gy ob ny l nz oa"><strong class="ns iu">struct</strong> SideBar: View {<br/>    <br/>    // MARK: - Properties<br/>    <strong class="ns iu">@State var</strong> selection: Set&lt;NavigationItem&gt; = [.tech]<br/>    <br/>    // MARK: - UI Elements<br/><strong class="ns iu">    @ViewBuilder</strong><br/>    <strong class="ns iu">var</strong> body: <strong class="ns iu">some</strong> View {<br/>        List(selection: $selection) {<br/>            NavigationLink(<br/>                destination: ArticlesListView(articles: techArticles),<br/>                label: {<br/>                    Label("Tech", systemImage: "newspaper.fill")<br/>                }<br/>            )<br/>            .tag(NavigationItem.tech)<br/>            <br/>            NavigationLink(<br/>                destination: ArticlesListView(articles: scienceArticles),<br/>                label: {<br/>                    Label("Science", systemImage: "paperclip")<br/>                }<br/>            )<br/>            .tag(NavigationItem.science)<br/>            <br/>            NavigationLink(<br/>                destination: ArticlesListView(articles: designArticles),<br/>                label: {<br/>                    Label("Design", systemImage: "rectangle.and.paperclip")<br/>                }<br/>            )<br/>            .tag(NavigationItem.design)<br/>        }<br/>        .navigationTitle("Articles")<br/>        .listStyle(SidebarListStyle())<br/>    }<br/>}</span></pre><p id="9014" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">重要提示:</strong>你必须找到<code class="fe np nq nr ns b">SideBar</code>和<code class="fe np nq nr ns b">TabBar</code>元素的文件，如下所述——否则会出现问题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/e080641b836a6d1cd225bc8f5434996b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yMuC6Sb_aKL8Rycou2VP0A.png"/></div></div></figure><p id="635c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您的文件不能相互通信，您可能需要编辑您的目标成员资格。我们的项目非常小，所以您可以在每个文件中打开两个现有的目标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/6c051e56af1fe135890615ffd71cc12f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*Lmb_7Diyt3AFGTu_6FC3Hw.png"/></div></figure><p id="3cf8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">终于到了编辑<code class="fe np nq nr ns b">ContentView</code>的时候了。这里我们需要根据应用程序运行的设备来运行不同的元素。为此，我们将使用类似于<code class="fe np nq nr ns b">#if</code>的工具，我们之前也使用过，然后我们将使用<code class="fe np nq nr ns b">horizontalSizeClass</code>属性。感谢<code class="fe np nq nr ns b">horizontalSizeClass</code>，我们可以检测到运行应用的设备是iPad还是iPhone。</p><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="9cbd" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">struct</strong> ContentView: View {<br/>    <br/>    // MARK: - Properties<br/>    #<strong class="ns iu">if os</strong>(iOS)<br/><strong class="ns iu">    @Environment</strong>(\.horizontalSizeClass) <strong class="ns iu">var</strong> horizontalSizeClass: UserInterfaceSizeClass?<br/>    #<strong class="ns iu">endif</strong><br/>    <br/>    // MARK: - UI Elements<br/><strong class="ns iu">    @ViewBuilder</strong><br/>    <strong class="ns iu">var</strong> body: <strong class="ns iu">some</strong> View {<br/>        NavigationView {<br/>            #<strong class="ns iu">if</strong> <strong class="ns iu">os</strong>(iOS)<br/>            <strong class="ns iu">if</strong> horizontalSizeClass == .compact {<br/>                TabBar()<br/>            } <strong class="ns iu">else</strong> {<br/>                SideBar()<br/>            }<br/>            #<strong class="ns iu">else</strong><br/>            SideBar()<br/>            ArticlesListView(articles: techArticles)<br/>            #<strong class="ns iu">endif</strong><br/>        }<br/>    }<br/>}</span></pre><p id="5693" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这样，我们的申请正式完成了！</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="f89e" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">结论</h1><p id="15fd" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">如你所见，制作通用应用程序很容易。但是，我不得不说你不能在通用应用中使用UIKit元素！这对一个稍微中等/大的项目来说确实不是一件好事，但是你可以通过使用额外的框架来解决这个问题/障碍。(也许以后我甚至可以写一篇关于这个的文章。)</p><p id="0cd8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">总之，随着SwiftUI的进一步发展，开发更全面、更强大的通用应用程序将成为可能。显然，以SwiftUI目前的形式，很快开发出优质的独立项目是可能的。如果你是一个独立开发者，我认为你绝对应该考虑这个。</p><p id="1551" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，记住你可以用SwiftUI为watchOS操作系统开发应用。用一个额外的watchOS扩展来制作一个几乎可以在所有苹果平台上工作的应用程序，一定非常令人着迷。如果你有兴趣为Apple Watch开发应用程序，你可以在我们在本文中制作的应用程序中添加一个watchOS扩展，并使这个应用程序在Apple Watch上工作！</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="8760" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以通过下面的链接访问我们在本文中创建的项目。</p><div class="od oe gp gr of og"><a href="https://github.com/canbalkya/Universal-App-Basics" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">canbalkya/通用应用程序基础</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">GitHub是超过5000万开发人员的家园，他们一起工作来托管和审查代码、管理项目和构建…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt nt ns nu nv aw nw bi"><span id="77c4" class="na mc it ns b gy nx ny l nz oa"><strong class="ns iu">My Other Articles<br/></strong>- <a class="ae ov" rel="noopener ugc nofollow" target="_blank" href="/whats-new-in-swift-5-4-88949071d538">What’s New in Swift 5.4?</a><br/>- <a class="ae ov" rel="noopener ugc nofollow" target="_blank" href="/how-to-create-onboarding-screens-in-your-ios-app-e41b518db31f">How to Create Onboarding Screens in Your iOS App</a><br/>- <a class="ae ov" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-firebase-in-swiftuis-new-application-lifecycle-c77a8a306d63">How To Use Firebase in SwiftUI’s New Application Lifecycle</a></span></pre><p id="bfd6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想见我或有关于iOS开发等问题。你可以在这里和我进行一对一的会谈。</p></div></div>    
</body>
</html>