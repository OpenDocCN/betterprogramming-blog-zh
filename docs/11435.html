<html>
<head>
<title>9 Most Useful Storybook Addons and Features Through Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">9个最有用的故事书插件和功能示例</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/most-useful-storybook-addons-and-features-in-examples-f751ed8ffbc?source=collection_archive---------1-----------------------#2022-03-20">https://betterprogramming.pub/most-useful-storybook-addons-and-features-in-examples-f751ed8ffbc?source=collection_archive---------1-----------------------#2022-03-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="35b7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">插件解锁故事书的高级功能和新工作流程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b2516064458be17583ff9ef1e9d5cf07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jooW0y_VFbN5PzCH.png"/></div></div></figure><h1 id="abe5" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">将涵盖哪些内容</h1><ul class=""><li id="bf46" class="lm ln it lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated"><a class="ae me" href="#e086" rel="noopener ugc nofollow">链接</a>；</li><li id="9feb" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated"><a class="ae me" href="#5b08" rel="noopener ugc nofollow">可达性</a>；</li><li id="4544" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated"><a class="ae me" href="#c217" rel="noopener ugc nofollow">设计</a>；</li><li id="d8a6" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated"><a class="ae me" href="#9f8d" rel="noopener ugc nofollow">故事来源</a>；</li><li id="ba7f" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated"><a class="ae me" href="#82dd" rel="noopener ugc nofollow">模拟服务人员</a>；</li><li id="a816" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated"><a class="ae me" href="#595f" rel="noopener ugc nofollow">@故事书/测试-反应</a>；</li><li id="678b" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated"><a class="ae me" href="#496c" rel="noopener ugc nofollow">互动</a>；</li><li id="f0b1" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated"><a class="ae me" href="#0779" rel="noopener ugc nofollow">半音阶</a>；</li><li id="5f4e" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated"><a class="ae me" href="#15fc" rel="noopener ugc nofollow">伪州</a>；</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="32e6" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated"><strong class="lo iu">注意</strong>:在你的项目中添加了插件依赖后，你需要更新<code class="fe ng nh ni nj b"><strong class="lo iu">.storybook/main.js</strong></code>文件中的<code class="fe ng nh ni nj b"><strong class="lo iu">addons</strong></code>数组。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/fb1226792b2360ba1b1ca226f984f091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aEhNwZejjhVVl-su_27srQ.jpeg"/></div></div></figure><p id="fee7" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">我们开始吧。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="e086" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated">链接</h1><p id="8107" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">将故事链接在一起，用您的UI组件构建演示和原型。</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="7638" class="nx kv it nj b gy ny nz l oa ob">yarn add -D @storybook/addon-links</span></pre><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/@storybook/addon-links/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">链接插件|故事书</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">故事书链接插件可以用来创建链接，在故事书的故事之间导航。</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="op l oq or os oo ot ks of"/></div></div></a></div><p id="de6b" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated"><code class="fe ng nh ni nj b">linkTo</code>举例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="a2f6" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/ec8f598548efc81bed14eebbc7a3e1b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Lm8tQkBgAhFfLjhqXuvcSg.gif"/></div></div></figure><p id="8c30" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated"><code class="fe ng nh ni nj b">withLinks</code>举例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="5b08" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated">易接近</h1><p id="8adc" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">测试组件是否符合web可访问性标准。</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="5a1f" class="nx kv it nj b gy ny nz l oa ob">yarn add @storybook/addon-a11y --dev</span></pre><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/@storybook/addon-a11y/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">辅助功能插件|故事书</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">这个故事书插件有助于使你的UI组件更易访问。框架支持首先，安装…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="ox l oq or os oo ot ks of"/></div></div></a></div><p id="34f8" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/378191affc7adb581b1b68ba194ecf9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lzqfkfdjl1MvR4mDxSLFlw.jpeg"/></div></div></figure><p id="f71d" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">此外，您可以检查辅助功能工具栏:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/c4229fb4c28eb3e911ea9e73561de3f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cjGBZG6rlx6Xa0XbnSPnzA.jpeg"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="c217" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated"><strong class="ak">设计</strong></h1><p id="0a69" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">故事书插件，用于在插件面板中嵌入你的设计预览。</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="02d1" class="nx kv it nj b gy ny nz l oa ob">yarn add -D storybook-addon-designs</span></pre><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/storybook-addon-designs/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">设计插件|故事书</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">一个故事书插件，在插件面板中嵌入Figma或网站，以便更好地设计开发工作流程。这个插件…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="pa l oq or os oo ot ks of"/></div></div></a></div><p id="1054" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="2667" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/8e124670238939141fa5cb5c1a295183.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rUMFww8p7Mn1IcLvjoT4eA.jpeg"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="9f8d" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated"><strong class="ak">故事来源</strong></h1><p id="1e4c" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">查看故事的源代码，了解其工作原理，并将其粘贴到您的应用程序中。</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="5274" class="nx kv it nj b gy ny nz l oa ob">yarn add @storybook/addon-storysource -D</span></pre><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/@storybook/addon-storysource/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">故事书</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">这个插件用于在插件面板中显示故事源。</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="pc l oq or os oo ot ks of"/></div></div></a></div><p id="21f4" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/3648c57f3437a9cb43332d076e49fb78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XtAEXqUWKAtFsePMSEYAtQ.jpeg"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="82dd" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated"><strong class="ak">模拟服务员</strong></h1><p id="5177" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">用模拟服务人员在故事书中模拟API请求。</p><h2 id="e36b" class="nx kv it bd kw pe pf dn la pg ph dp le lt pi pj lg lv pk pl li lx pm pn lk po bi translated">特征</h2><ul class=""><li id="16ac" class="lm ln it lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">在您的故事中模拟Rest和GraphQL请求。</li><li id="a0e0" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated">记录组件在各种场景中的行为。</li><li id="0845" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated">免费使用其他插件获得a11y、快照和视觉测试。</li></ul><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/msw-storybook-addon/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">模拟服务人员插件|故事书</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">在您的故事中模拟Rest和GraphQL请求。记录组件在各种场景中的行为。获得…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="pp l oq or os oo ot ks of"/></div></div></a></div><p id="b5d5" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">首先，我们需要初始化模拟服务工作者来启用全局模拟。这些也可以在您的开发环境中启用。</p><div class="oc od gp gr oe of"><a href="https://mswjs.io/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">模拟服务人员</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">通过在网络层拦截请求来模仿。无缝重用相同的模拟定义进行测试、开发…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">mswjs.io</p></div></div><div class="oo l"><div class="pq l oq or os oo ot ks of"/></div></div></a></div><p id="7da6" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">将<a class="ae me" href="https://www.npmjs.com/package/msw" rel="noopener ugc nofollow" target="_blank"> msw </a>和<a class="ae me" href="https://www.npmjs.com/package/msw-storybook-addon" rel="noopener ugc nofollow" target="_blank"> msw-storybook-addon </a>库添加到您的项目中:</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="3802" class="nx kv it nj b gy ny nz l oa ob"><strong class="nj iu">yarn</strong> add msw msw-storybook-addon -D</span></pre><p id="e900" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">运行MSW init命令:</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="bb5a" class="nx kv it nj b gy ny nz l oa ob"><strong class="nj iu">npx</strong> msw init public/ --save</span></pre><p id="9285" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">它将创建<code class="fe ng nh ni nj b">public/mockServiceWorker.js</code>文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/9e61c719c078416fbc036ca42002d815.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3IhvqVy3wHAp1B6cq56c7Q.jpeg"/></div></div></figure><p id="23a3" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">接下来，用<code class="fe ng nh ni nj b">.storybook/main.js</code>文件中的<code class="fe ng nh ni nj b">msw-storybook-addon</code>更新<strong class="lo iu"> addon </strong>数组:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/fb1226792b2360ba1b1ca226f984f091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aEhNwZejjhVVl-su_27srQ.jpeg"/></div></div></figure><p id="8dc3" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">更新<code class="fe ng nh ni nj b">.storybook/preview.js</code>文件</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/a2178f86a6d1cb75f02806817a15cd65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6g0ijClzia-HpRLHF3jnKQ.jpeg"/></div></div></figure><p id="442e" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">接下来，用msw decorator更新您的故事，并添加API模拟:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/2d55ee5dae08a3ed9ac8d00749b3a732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-IE1YYAMBIwEOEnrdW1xgQ.jpeg"/></div></div></figure><p id="b7e4" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="595f" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated"><strong class="ak">@ story book/testing-react</strong></h1><p id="a0e6" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">允许你在单元测试中重用你的故事的测试工具。</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="1c7b" class="nx kv it nj b gy ny nz l oa ob">yarn add @storybook/testing-react -D</span></pre><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/@storybook/testing-react/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">@ story book/testing-react Addon | story book</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">允许你在单元测试中重用你的故事的测试工具你正在为你的组件使用故事书…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="pu l oq or os oo ot ks of"/></div></div></a></div><p id="6404" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">假设我们有一个简单的组件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="bed3" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">三个简单的故事:</p><ul class=""><li id="0837" class="lm ln it lo b lp mt lr mv lt pv lv pw lx px lz ma mb mc md bi translated">装载状态；</li><li id="5cc6" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated">数据成功提取状态；</li><li id="d2d4" class="lm ln it lo b lp mf lr mg lt mh lv mi lx mj lz ma mb mc md bi translated">错误状态；</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="a4d7" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">故事</p><div class="kj kk kl km gt ab cb"><figure class="py kn pz qa qb qc qd paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/d263abce8c173af56e4b1fdb927b0fa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*FKVQeGJv8_QP7XvwyPNgbg.jpeg"/></div></figure><figure class="py kn qe qa qb qc qd paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/c943a50ab54c29386f22c86bfff07a02.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/format:webp/1*p2qXxq76fG4Zem9hlmnRAQ.jpeg"/></div></figure><figure class="py kn qf qa qb qc qd paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/6a70bb3c62bd59a2c37c299866347fcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*JZgqUXYMH7wPeghvu_cRjw.jpeg"/></div></figure></div><p id="f5de" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">我们已经有了模拟数据，所以我们不需要在测试中再次这样做。我们可以重复使用我们的故事:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="496c" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated">相互作用</h1><p id="b033" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">故事书插件交互支持对<a class="ae me" href="https://storybook.js.org/" rel="noopener ugc nofollow" target="_blank">故事书</a>中的交互和测试进行可视化调试。</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="c048" class="nx kv it nj b gy ny nz l oa ob">yarn add -D @storybook/addon-interactions @storybook/jest @storybook/testing-library</span></pre><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/@storybook/addon-interactions/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">互动插件|故事书</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">故事书插件交互支持对故事书中的交互和测试进行可视化调试。通过…安装此插件</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="qg l oq or os oo ot ks of"/></div></div></a></div><p id="1ef9" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">让我们创建一个简单的组件。我们有很多不同的条件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="987f" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">使用<a class="ae me" href="https://storybook.js.org/addons/@storybook/addon-interactions/" rel="noopener ugc nofollow" target="_blank">交互</a>插件，您不需要一次又一次地手动遵循组件步骤:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qh"><img src="../Images/4c710a77b93320d9bd7b3e4b9c2d1315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*q0GJ66sOW8phV3Cw9bUWIg.gif"/></div></div></figure><p id="555d" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">使用<code class="fe ng nh ni nj b">play</code>功能，你可以描述交互步骤，故事书将会重现它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="ad23" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">延迟的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qi"><img src="../Images/c8b46658fc7f731cddc5603b3b88334e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Q6lBg6mpijdTahLqGLiglQ.gif"/></div></div></figure><p id="8680" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">没有延迟的结果(对测试有用):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qi"><img src="../Images/86c1701c0ecc85599d4711c0922bb156.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3SIn46FIOog2waU_yBxp1A.gif"/></div></div></figure><p id="9dc4" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">⚠️ <strong class="lo iu">注</strong>:虽然技术上可以使用<code class="fe ng nh ni nj b">screen</code>，但建议使用<code class="fe ng nh ni nj b">within(canvasElement)</code>。除了在找不到DOM元素时给你一个更好的错误消息，它还能确保你的play函数与故事书文档兼容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qj"><img src="../Images/3d3e9446c8ef1011117f5f3041e7b9ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VLZKYvXb93hREYobrOQwxQ.jpeg"/></div></div></figure><p id="ca30" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">⚠️:注意:你也可以在测试中重用播放功能</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="0779" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated">彩色的</h1><p id="2703" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">跨浏览器自动化视觉测试。收集用户界面反馈。版本化文档。你可以在我的另一个故事中找到答案:</p><div class="oc od gp gr oe of"><a href="https://artem-diashkin.medium.com/react-and-chromatic-automated-visual-regression-testing-22551b8ebc93" rel="noopener follow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">反应和色度。自动化视觉回归测试</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">一步一步的自动化视觉回归测试</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">artem-diashkin.medium.com</p></div></div><div class="oo l"><div class="qk l oq or os oo ot ks of"/></div></div></a></div></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="15fc" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated">伪状态</h1><p id="0d3d" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">故事书的CSS伪状态。</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="4b7b" class="nx kv it nj b gy ny nz l oa ob">yarn add storybook-addon-pseudo-states -D</span></pre><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/storybook-addon-pseudo-states" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">伪国家插件|故事书</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">在Storybook中切换组件的CSS伪状态。这个插件试图“强迫”你的组件的伪…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="ql l oq or os oo ot ks of"/></div></div></a></div><p id="f297" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qm"><img src="../Images/331e326454b7d707d12fcaeaff5ed7aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2RAWfGLYwNfbHY90p5TvaQ.jpeg"/></div></div></figure><p id="680c" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qn"><img src="../Images/e2a3afd10f155db09b59a42ff7bd5ab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PwA9_oEz84SSqyzi-1yllw.gif"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="39ab" class="ku kv it bd kw kx nl kz la lb nm ld le jz nn ka lg kc no kd li kf np kg lk ll bi translated"><strong class="ak">性能</strong></h1><p id="10c0" class="pw-post-body-paragraph mr ms it lo b lp lq ju mu lr ls jx mw lt nq my mz lv nr nb nc lx ns ne nf lz im bi translated">一个故事书插件，帮助更好地理解和调试React组件的性能</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="929d" class="nx kv it nj b gy ny nz l oa ob">yarn add storybook-addon-performance --dev</span></pre><div class="oc od gp gr oe of"><a href="https://storybook.js.org/addons/storybook-addon-performance/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">性能插件|故事书</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">一个故事书插件，帮助更好地理解和调试React组件的性能🚧这个插件是实验性的…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">storybook.js.org</p></div></div><div class="oo l"><div class="qo l oq or os oo ot ks of"/></div></div></a></div><p id="4f57" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated"><code class="fe ng nh ni nj b">.storybook/main.js</code>文件更新:</p><pre class="kj kk kl km gt nt nj nu nv aw nw bi"><span id="f697" class="nx kv it nj b gy ny nz l oa ob">module.exports = {<br/>  addons: ['storybook-addon-performance/register'],<br/>};</span></pre><p id="8eca" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">组件示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="5d87" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">故事:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="126d" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qp"><img src="../Images/e0ebd5ab7d70de2a92ec0f03544593bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LzV02lE4vZ5_NHRLBTBFMw.jpeg"/></div></div></figure><p id="2605" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">您可以选择要渲染组件的多少个副本，然后单击<code class="fe ng nh ni nj b"><strong class="lo iu">Start all</strong></code> <strong class="lo iu">。结果每次都会更新没有保存，但是……</strong></p><p id="5a4b" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">如果您点击<code class="fe ng nh ni nj b"><strong class="lo iu">Pin as baseline</strong></code>按钮，对您的组件进行更改，并再次点击<code class="fe ng nh ni nj b"><strong class="lo iu">Start all</strong></code>，您将看到不同之处。</p><p id="63bd" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">我将添加一个简单的onClick函数，并重新启动:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qq"><img src="../Images/661573e00299804cfe262714ad353c6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eFQgNBw9EnUdRyhB1ZEdqg.jpeg"/></div></div></figure><p id="675f" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">结果经过<code class="fe ng nh ni nj b">Start all</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qr"><img src="../Images/a23f72fa5543d666d3f9167ffc36ae21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F3-cZluFS6PzVmZ7hJdVqQ.jpeg"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="ebd2" class="pw-post-body-paragraph mr ms it lo b lp mt ju mu lr mv jx mw lt mx my mz lv na nb nc lx nd ne nf lz im bi translated">GitHub repo的链接:</p><div class="oc od gp gr oe of"><a href="https://github.com/nemrosim/react-visual-regression-testing-example" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">GitHub-nemrosim/react-visual-regression-testing-example</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">github.com</p></div></div><div class="oo l"><div class="qs l oq or os oo ot ks of"/></div></div></a></div></div></div>    
</body>
</html>