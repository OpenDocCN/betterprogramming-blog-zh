<html>
<head>
<title>Figure Out Your Reading Speed By Building a Tiny Svelte App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过构建一个小巧的应用程序来计算你的阅读速度</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/building-a-tiny-svelte-app-64066a70074a?source=collection_archive---------5-----------------------#2022-07-02">https://betterprogramming.pub/building-a-tiny-svelte-app-64066a70074a?source=collection_archive---------5-----------------------#2022-07-02</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="dd70" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">一个单一服务的应用程序，让你看到以一定速度阅读是什么感觉</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/fdee4607ecdafb5f0b490455bdcac86b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dK2U0jCrNtGhPJPE"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/es/@patrickian4?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">帕特里克·福尔</a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="3a9e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我决定最终尝试一下苗条身材。我最近看了一部关于框架起源及其创造者Rich Harris的纪录片。那个医生让我很兴奋，所以我决定试一试。</p><p id="a7ef" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在浏览了他们的介绍教程后，我做了一个小小的单一服务应用程序，让你看看以一定速度阅读是什么感觉。</p><p id="60e3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以在这里查看<a class="ae kz" href="https://yarocruz.github.io/reading-speed-svelte-app/" rel="noopener ugc nofollow" target="_blank">演示，在这里</a>查看<a class="ae kz" href="https://github.com/yarocruz/reading-speed-svelte-app" rel="noopener ugc nofollow" target="_blank">源代码。</a></p><p id="f540" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="lw">注意— </em> </strong> <em class="lw">如果你像我一样决定使用</em><a class="ae kz" href="https://kit.svelte.dev/" rel="noopener ugc nofollow" target="_blank"><em class="lw">Sveltekit</em></a><em class="lw">(而不是Vite)来引导应用程序，如果你计划用Github页面托管它，那么在尝试构建站点时可能会遇到问题。</em></p><h1 id="ae18" class="lx ly iu bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated"><strong class="ak">我做的假设</strong></h1><p id="16d8" class="pw-post-body-paragraph la lb iu lc b ld mp jv lf lg mq jy li lj mr ll lm ln ms lp lq lr mt lt lu lv in bi translated">您的系统中安装了节点/NPM，您熟悉NPM安装包系统，并且您知道一些JavaScript。</p><h1 id="098b" class="lx ly iu bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated"><strong class="ak">启动App </strong></h1><p id="3f36" class="pw-post-body-paragraph la lb iu lc b ld mp jv lf lg mq jy li lj mr ll lm ln ms lp lq lr mt lt lu lv in bi translated">从终端类型:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mu mv l"/></div></figure><p id="1905" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将创建具有以下文件夹结构的项目:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mw"><img src="../Images/587fff76caa5048276dedf54e6330128.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*T3vOPTXo5cHT0n7oUKrTfQ.png"/></div></figure><h1 id="7fd2" class="lx ly iu bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">主要逻辑</h1><p id="e57f" class="pw-post-body-paragraph la lb iu lc b ld mp jv lf lg mq jy li lj mr ll lm ln ms lp lq lr mt lt lu lv in bi translated">app的主要逻辑会写在<code class="fe mx my mz na b">routes</code>文件夹的<code class="fe mx my mz na b">index.svelte</code>文件中。在<code class="fe mx my mz na b">index.svelte</code>文件中，删除标记中的所有<code class="fe mx my mz na b">section</code>标签——尽管保留了<code class="fe mx my mz na b">&lt;svelte:head&gt;</code>标签。</p><h1 id="8203" class="lx ly iu bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">在<script/></h1><p id="795b" class="pw-post-body-paragraph la lb iu lc b ld mp jv lf lg mq jy li lj mr ll lm ln ms lp lq lr mt lt lu lv in bi translated">让我们先从我们将要用来测试阅读速度的段落开始。我从《爱丽丝梦游仙境》中选了300字左右，但是你可以选择任何你想要的内容。</p><p id="fb70" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">先说一段话:</p><blockquote class="nb nc nd"><p id="86e2" class="la lb lw lc b ld le jv lf lg lh jy li ne lk ll lm nf lo lp lq ng ls lt lu lv in bi translated">兔子洞笔直地向前延伸，像一条隧道，然后突然向下倾斜，如此突然，以至于爱丽丝没有时间考虑停下来，她发现自己掉进了一口深井。要么井很深，要么她掉得很慢，因为她下井时有足够的时间环顾四周，思考接下来会发生什么。首先，她试着往下看，想弄清楚她来到了什么地方，但是太黑了，什么也看不见。然后，她看了看井的四周，注意到它们堆满了碗橱和书架:这里和那里都有挂在钉子上的地图和图片。当她经过时，她从一个架子上取下一个罐子，上面贴着“橘子果酱”的标签，但令她大失所望的是，罐子是空的:她不想把罐子掉在地上，怕摔死下面的人，所以当她经过它时，设法把它放进了一个橱柜里。“嗯！”爱丽丝想，“摔了这么一跤，我就不觉得从楼梯上摔下来有什么了不起了！他们会认为我在家里有多勇敢！为什么，我不会说什么，即使我从屋顶上掉下来！”(这很可能是真的。)往下，往下，往下。秋天永远不会结束吗？"我想知道我现在已经走了多少英里了？"她大声说:“我一定是快到地心了。让我想一想:我想应该是4000英里以下——”(你知道，爱丽丝在教室里的课上已经学过几件这类的事情，虽然这不是一个炫耀自己知识的好机会，因为没有人听她说话，但重复一遍也是一个好习惯，)是的，这是正确的距离，但我应该在哪个经度或纬度线上呢？”</p></blockquote><p id="9951" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">复制并粘贴上面的段落，(或者您选择的任何段落)，并将其保存到一个名为<code class="fe mx my mz na b">paragraph</code>的变量中。确保段落用反斜杠``换行，这样你就不会有任何奇怪的格式问题。</p><p id="390b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">之后，我们将把段落分割成单个的单词，并用。拆分方法。</p><p id="c553" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">split方法接受一个字符串作为参数。这里我们用了一个空格的论点。此方法自动返回一个数组。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mu mv l"/></div></figure><p id="82b6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们将段落保存到“words”数组中，以便稍后遍历每个单词。</p><h1 id="5edf" class="lx ly iu bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">让我们添加一些状态</h1><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mu mv l"/></div></figure><p id="f7e4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">第一段数据是布尔<strong class="lc iv"> </strong> <code class="fe mx my mz na b">isReading</code>变量<strong class="lc iv">。</strong></p><p id="866f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有了这个变量，我们将控制遍历单词的开始和停止。我们也用一个<code class="fe mx my mz na b">id</code>来添加到每个单词中。最后，我们从默认值<code class="fe mx my mz na b">readingSpeed</code>150开始。这个数字是毫秒，我们将在后面的setInterval函数中看到。</p><p id="8fb8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">数据的另一部分是我们称之为<code class="fe mx my mz na b">words_per_minute</code> <strong class="lc iv">的对象数组。</strong>我们将使用该数组来填充select元素中的选项。</p><h1 id="6bb0" class="lx ly iu bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">两个经手人</h1><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mu mv l"/></div></figure><p id="df3f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe mx my mz na b">changeSpeed()</code>处理程序超级简单。它将监听select元素，获取选项的值并更新速度。</p><p id="2950" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe mx my mz na b">startReading()</code>功能是当我们点击按钮开始阅读时，它将如何工作的核心逻辑。</p><p id="ba1d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">它做的第一件事是翻转布尔值<code class="fe mx my mz na b">isReading</code>。然后我们设置并保存一个<code class="fe mx my mz na b">setInterval</code>，只有当<code class="fe mx my mz na b">isReading</code>为真并且<code class="fe mx my mz na b">id</code>是数组中的最后一个字时才会运行。</p><p id="7cbd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">换句话说，如果我们到达了最后一个单词，间隔将停止。在else子句中，我们停止interval(基本上是单词的遍历)，我们重置id，我们将is reading返回到false。</p><p id="4a42" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后一个值<code class="fe mx my mz na b">readingSpeed</code>，是毫秒。这是根据所选择的WPM速度的快慢间隔。</p><h1 id="73d0" class="lx ly iu bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">加价</h1><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mu mv l"/></div></figure><p id="503f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在纤细的组件标记中也有一些逻辑。在段落中，我们使用了一个<code class="fe mx my mz na b">#each</code>模块。<strong class="lc iv"> </strong>这是对<code class="fe mx my mz na b">words</code> <strong class="lc iv"> </strong>数组的循环，获取索引(<strong class="lc iv"> i </strong>)并根据某些条件为每个单词生成一个<code class="fe mx my mz na b">&lt;span&gt;</code> <strong class="lc iv"> </strong>标签，包括一个类、一个id或无。</p><p id="cbc1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">第一个条件是如果isReading为真，并且如果索引等于id，(<em class="lw">开始它将为真，因为它们都是0</em>)span标签将具有id和类<code class="fe mx my mz na b">highlight-text</code> <strong class="lc iv">。</strong>正如你将在下面的CSS中看到的，<code class="fe mx my mz na b">highlight-text</code> <strong class="lc iv"> </strong>类<strong class="lc iv"> </strong>将使每个span标签加粗并增加一点字体大小。</p><p id="e7bc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果<code class="fe mx my mz na b">isReading</code>为真，我们还想给spans一个类<code class="fe mx my mz na b">.fade-text</code>，这样所有其他的单词都会“淡出”那个类只是给文本一个浅灰色。</p><p id="2511" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后，如果条件为假，我们只渲染没有类或id的跨度。</p><h1 id="c05b" class="lx ly iu bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">CSS</h1><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mu mv l"/></div></figure><p id="705f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我为按钮添加了一些样式，但你可以根据自己的喜好设计应用程序的样式。重要的类是<code class="fe mx my mz na b">.fade-text</code>和<code class="fe mx my mz na b">.highlight-text</code>类，但是即使是那些你可以随意调整和定制的类。</p><p id="6a1f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在终端上运行<code class="fe mx my mz na b">npm run dev</code>，检查是否一切正常。</p><p id="27e6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这结束了我的第一个教程。</p></div></div>    
</body>
</html>