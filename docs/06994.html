<html>
<head>
<title>Explain Like I’m 5: The React Virtual DOM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像我5岁一样解释:反应虚拟DOM</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/explain-like-im-5-react-virtual-dom-297ed1b8f7b?source=collection_archive---------12-----------------------#2020-11-24">https://betterprogramming.pub/explain-like-im-5-react-virtual-dom-297ed1b8f7b?source=collection_archive---------12-----------------------#2020-11-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="554f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">React的虚拟DOM到底是怎么工作的？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/62e58d659fa71d27a97ff0f4d20cb0b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1BLU8QHVBLEMx6KlMSHWQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">丹尼尔·麦卡洛在<a class="ae kv" href="https://unsplash.com/s/photos/architect-blueprint?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="a725" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你是个新手，那么<em class="ls">虚拟世界</em>的概念可能会让你晕头转向。您已经了解到React通过使用虚拟DOM解决了DOM操作的问题，虚拟DOM是DOM对象的轻量级表示。您已经了解到操作DOM很慢，而使用虚拟DOM很快。然而你仍然不明白这一切到底意味着什么。</p><p id="032b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将简化React虚拟DOM，希望能在您的头脑中更好地表达这个概念！</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="33eb" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">问题是</h1><p id="cc87" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">DOM(或<em class="ls">文档对象模型</em>)是应用程序的树状表示。当一个元素在真实的DOM中更新时，就会创建一个新的DOM。这个过程既慢又贵。</p><p id="7c2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你把真正的大教堂想象成一个实体的房子。DOM操纵就像需要翻新房子的一个房间，通过拆除房子来建造一个全新的房间。这当然是浪费和费力的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/00b78984c359c8f12e231d85a4f9e76a.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/1*LA6AXbzvC0IQ_d2H8v3NCw.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:W3Schools</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="ba82" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">修复</h1><p id="98a8" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">另一方面，虚拟DOM是DOM的轻量级表示。把虚拟DOM想象成你的房子在纸上的当前蓝图。你可以通过这个蓝图看到你房子的各个方面，但是仅仅在蓝图上画一个新房间不会神奇地修复真实的房间。同样，虚拟DOM是DOM的一个很好的表示，但是它不能直接改变你在屏幕上看到的东西。那么这是怎么做到的呢？</p><p id="9476" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虚拟DOM发生的情况类似于:</p><ul class=""><li id="9bc6" class="my mz iq ky b kz la lc ld lf na lj nb ln nc lr nd ne nf ng bi translated">你想翻新你家里的一个房间。</li><li id="34fc" class="my mz iq ky b kz nh lc ni lf nj lj nk ln nl lr nd ne nf ng bi translated">你可以看到房子的蓝图。</li><li id="ce9f" class="my mz iq ky b kz nh lc ni lf nj lj nk ln nl lr nd ne nf ng bi translated">然后，制作蓝图的新副本，并对新版本进行修改。新蓝图现在具有新的房间表示。</li><li id="184a" class="my mz iq ky b kz nh lc ni lf nj lj nk ln nl lr nd ne nf ng bi translated">现在你比较原始蓝图和新蓝图，看看需要做什么样的建设。</li><li id="fee4" class="my mz iq ky b kz nh lc ni lf nj lj nk ln nl lr nd ne nf ng bi translated">然后你走进真正的房子，独自进行与那个房间相关的改变，而不必重建整个房子。</li><li id="d18f" class="my mz iq ky b kz nh lc ni lf nj lj nk ln nl lr nd ne nf ng bi translated">既然旧的蓝图不再有用，你可以把它扔掉。现在你最近的蓝图是你唯一的蓝图，它代表了修复后你房子的最新版本。</li></ul><p id="282b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个例子中，房子的原始蓝图是虚拟DOM。您需要对房子进行修复，这类似于当一个元素需要更新时(由状态变化触发)。您根据需要的更改制定一个修改的蓝图类似于虚拟DOM的完全更新。将原始蓝图与更新后的蓝图进行比较类似于将更新前的虚拟DOM与更新后的虚拟DOM进行比较。在这个过程中，React确定虚拟DOM的哪个方面发生了变化。这被称为<em class="ls">差</em>。最后，您进入房间进行所需的精确更改相当于React只更新实际DOM上需要更改的对象<em class="ls">。</em></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="ba9b" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">结论</h1><p id="d57b" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">希望这个类比能帮助你看到React中使用虚拟DOM <em class="ls"> </em>背后的效率和轻松想法。要获得更多初学者友好的资源，请查看:</p><ul class=""><li id="d182" class="my mz iq ky b kz la lc ld lf na lj nb ln nc lr nd ne nf ng bi translated"><a class="ae kv" href="https://www.codecademy.com/articles/react-virtual-dom" rel="noopener ugc nofollow" target="_blank">反应:虚拟DOM </a></li><li id="d50f" class="my mz iq ky b kz nh lc ni lf nj lj nk ln nl lr nd ne nf ng bi translated"><a class="ae kv" href="https://programmingwithmosh.com/react/react-virtual-dom-explained/" rel="noopener ugc nofollow" target="_blank"> React虚拟DOM用简单的英语解释</a></li></ul></div></div>    
</body>
</html>