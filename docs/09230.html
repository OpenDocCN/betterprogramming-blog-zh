<html>
<head>
<title>You Don’t Need To Integrate Google Maps or Mapbox in Your Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你不需要在你的应用程序中集成谷歌地图或者地图盒子</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/you-dont-need-to-integrate-google-maps-or-mapbox-in-your-apps-cd54e87f86a4?source=collection_archive---------1-----------------------#2021-07-30">https://betterprogramming.pub/you-dont-need-to-integrate-google-maps-or-mapbox-in-your-apps-cd54e87f86a4?source=collection_archive---------1-----------------------#2021-07-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="430a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建和托管您自己的可设置样式的矢量切片，使地图脱颖而出</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/91c5db77e935c5794a5b5e09001b4c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9xSVpBnAS0ZqZ07A"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">谢栋豪在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="e2aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将向您介绍创建矢量切片的工具集和过程，并向您展示如何在不需要服务器的情况下静态且廉价地托管地图数据。最终，您将能够在基于网络的产品和移动应用程序中使用地图切片。</p><p id="dc3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">地图很便宜，而且大部分时间是免费的。不完全是。有些情况下，你可以免费或者至少以合理的价格使用谷歌地图或地图盒子。</p><p id="8810" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，在某些情况下，地图会变得非常昂贵，因此不适合小型企业。</p><p id="564b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，尤其是如果你的产品或网站是针对欧盟客户，GDPR总是一个障碍，你必须克服。自己托管瓦片使得上述所有问题变得不那么严重。</p><p id="d5db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">地图已经成为我们日常生活中必不可少的一部分。你很有可能遇到过由谷歌地图、苹果地图或Mapbox支持的地图。</p><p id="cfe7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如今，大多数地图(如果不是全部的话)都是OpenStreetMap社区收集的数据的某种衍生物。</p><p id="7c9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我开始在<a class="ae kv" href="https://www.aerwork.app" rel="noopener ugc nofollow" target="_blank">航空公司</a>工作时，我已经知道我需要地图来可视化飞行路线和显示机场位置。</p><p id="ae68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">TL；如果你不关心我是如何得到我的最终结果的，你可以直接跳到“</em> <a class="ae kv" href="#2312" rel="noopener ugc nofollow"> <em class="ls">要走的路</em> </a> <em class="ls">”:关于如何转换、提供和显示你自己的地图的逐步指南。</em></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="741b" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">方法1。使用任何商业地图平台，如Mapbox或谷歌地图</h1><p id="a5ab" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">作为一个具有强烈视觉焦点的开发人员，前往Mapbox，安装他们的JavaScript SDK，在Mapbox Studio中设计一些漂亮的地图，这是显而易见的，我就完成了(或多或少，还没有飞行路径，但基本的设置已经完成)。</p><p id="a495" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我看着他们的许可页面时，我最初的兴奋很快就消失了。对于每个web席位(如果我向认证用户提供地图)，我将不得不支付4美元。对于一个没有一个付费客户、起价仅为8美元的Plus层的SaaS来说，这似乎是一个障碍。所有其他地图提供商都提供类似价格范围的产品，因此也没有纳入产品中。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="eb04" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">方法二。我们自己托管地图切片</h1><p id="ee2e" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">接下来，我考虑自己提供地图拼图。我是说这不会很难。原始的OSM数据在一个<em class="ls"> ODbL </em>许可下是免费的，因此被允许在商业产品中使用。</p><p id="696b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">事情发展得很快。原始的OSM数据非常详细，因此非常庞大。垃圾桶、树木、建筑、机场，应有尽有。它在那里。向所有OSM的贡献者致敬。</p><p id="181d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同时，如果您想要处理数据，这也是一个问题。事实证明，这是一个相当雄心勃勃的计划，因为没有“只加水”的解决方案。在做了一些研究后，我发现我需要一个MBTiles文件，其中包含我感兴趣的世界特定区域(或整个星球)的地图切片。</p><p id="ce78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">MBTiles文件是一种在单个文件中存储地图切片的格式。从技术上讲，它只是一个SQLite数据库。通过使用MBTiles文件，你可以使用<a class="ae kv" href="https://docs.mapbox.com/mapbox-gl-js/style-spec/" rel="noopener ugc nofollow" target="_blank"> Mapbox GL样式规范</a>来设置地图样式，这是一个巨大的好处，因为有一些编辑器可以直观地定义地图样式，例如<a class="ae kv" href="https://maputnik.github.io/" rel="noopener ugc nofollow" target="_blank"> maputnik </a>。</p><p id="b4a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我需要得到一些MBTiles。Maptiler (另一个地图平台)提供已经准备好的特定区域甚至整个星球的MBTiles。</p><p id="42db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以订阅并获得定期更新，或者支付一次性费用来下载所需区域的MBTiles文件。如上所述，Aerwork是一个刚刚起步的SaaS。我不想仅仅为了提供好看的地图而花费数百甚至数千美元。我很想做那件事，但是那是遥远的将来。</p><p id="0a8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">即使欧洲现在足够了，我也找不到任何免费的欧洲MBTiles文件(或者至少比<code class="fe mx my mz na b">maptiler</code>提供的便宜一点)。</p><p id="a77c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以计划成立。我自己制作瓷砖。在偶然发现<code class="fe mx my mz na b">maptiler</code>为将原始osm数据转换为可用的MBTiles文件这一具体任务提供的开源工具集后，我从<code class="fe mx my mz na b"><a class="ae kv" href="https://github.com/openmaptiles/openmaptiles" rel="noopener ugc nofollow" target="_blank">openmaptiles</a></code> repo中提取了docker映像，跟随他们的文档，并开始用Hamburg测试它。</p><p id="097a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">汉堡本身相当小，因此是一个很好的起点，看看结果是否可以用在我们的产品中。转换进行得很顺利；已经挺快的了(Macbook Pro，2.9Ghz 6核i7，32GB RAM)。如果汉堡很快，为什么不试试德国呢？嗯，很快就证明需要很长时间。我仍然对在我的机器上对欧洲做同样的事情持乐观态度。现在挫折开始了。</p><p id="2149" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行了14个小时后，它崩溃了，告诉我没有足够的空间了。700GB的空闲空间不够用？原始源数据大约为30GB。700 GBs应该够了。很有可能我做错了什么。我彻底重读了这些文件，以确保第二次我把一切都做对了。这一次，它在大约12小时后崩溃，出现了一些非描述性错误。我执行了与上一次迭代相同的步骤。太好了。谢谢你什么都没做。</p><p id="d51f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我想过采取不同的方法。因为我只想显示飞行路线和机场，所以我想去掉建筑物和其他细节。建筑物是OSM数据中最大的一块，因此占用了大量的时间和计算能力。</p><p id="2122" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，有一些工具可以帮助你编辑原始的OSM数据。首先，我开始使用<a class="ae kv" href="https://github.com/openstreetmap/osmosis/releases/tag/0.48.3" rel="noopener ugc nofollow" target="_blank">渗透</a>。最新发布的是2020年9月。尽管它不是最新的，但我还是试了一下。</p><p id="af11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在试图找出如何正确过滤原始数据时，我能够缩小原始OSM数据的大小。不是很广泛，但至少有一点。然而，即使对汉堡来说，这也需要相当长的时间。</p><p id="a64b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我重新运行了openmaptiles工具，但仍然遇到了许多错误。好吧，也许有另一种工具来过滤不想要的数据？向<a class="ae kv" href="https://github.com/osmcode/osmium-tool" rel="noopener ugc nofollow" target="_blank">锇</a>问好。它是用C++写的，应该很快。我试了一下。</p><p id="5819" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我还设法缩小了OSM数据的规模。它相当快。渗透作用远不及锇，但对欧洲来说，它仍然需要永远，在某些时候，我决定杀死这个任务。所以，基本上，我又回到了起点。</p><p id="835d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在做了进一步的研究后，我发现<a class="ae kv" href="https://github.com/systemed/tilemaker" rel="noopener ugc nofollow" target="_blank"> tilemaker </a>是openmaptiles的替代产品。它也是基于C++的，没有依赖性。哦，孩子，祈祷吧。我又从汉堡开始。很顺利。这就是我们的MBTiles文件。</p><p id="cb40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将它放入我们的tileserver-gl(它读取MBTiles文件并为客户需要的特定区域提供请求的切片)中，瞧，我有了一个包含自转换和自托管切片的工作地图。诶哈！我简直不敢相信。在心理上为转变欧洲做好准备后，我重读了tilemaker doc，只为了第一次就把它弄对。不幸的是，医生说tilemaker应该只用于小块提取物，而不是整个大陆。</p><p id="0e2e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">早上好。今天是土拨鼠日。向比利·穆雷问好。WTF。我做了一些研究，发现了马塞尔·诺曼的这篇博文(德语)。</p><p id="45b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据他的发现，tilemaker使用了相当多的RAM。他在做了一些基准测试后发现，原始数据的文件大小需要12个RAM。</p><p id="7fd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，欧洲将需要大约256GB的内存。这种RAM连什么都外包给AWS的时候都买不起，所以我差点放弃了。在不依赖第三方公司的情况下，展示一幅风格精美的地图并不难。</p><p id="fc86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在深呼吸和重新思考所有选项之后，我回到了最初的方法，使用开源的openmaptiles工具，只增加了一点资源。</p><p id="e27f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，AWS提供了一些强大的EC2实例来简化这个过程。这种方式不会整天阻塞我的机器，因为AWS以合理的价格提供计算时间。</p><p id="0f9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以在下面，你会找到最终证明非常有效的解决方案——前提是你有足够的计算资源。</p><p id="2312" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我学到了很多关于OSM数据本身，如何处理原始osm数据，以及如何相信自己的直觉。大多数时候你的直觉是对的，第一选择有时候是最好的。这次我不得不吃了苦头。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="466d" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">要走的路</h1><ol class=""><li id="ba4b" class="nb nc iq ky b kz ms lc mt lf nd lj ne ln nf lr ng nh ni nj bi translated">启动AWS EC2实例(我使用c5.4xlarge，它针对计算任务进行了优化。它有16个vCPUs、32GB RAM和500GB EBS gp2 SSD存储卷)</li><li id="4c8b" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr ng nh ni nj bi translated">安装docker和docker-compose</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="4d3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.克隆处理原始OSM数据所需的工具，并将其转换为*。mbtiles文件</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="6314" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这需要相当长的时间。我们最后一次去欧洲花了48小时。</p><p id="7515" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了向您的前端或移动应用程序提供图块，有两个选项:</p><p id="da40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选项1:运行服务器(例如，基于PHP的tileserver 或tileserver-gl )，它负责从MBTiles文件中提取所需的tiles。</p><p id="32dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选项2:提取图块并静态托管它们。</p><p id="30f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我选择了后一种方法，因为我总是希望将维护保持在最低限度，拥有易于掌握的基础设施，并利用AWS Cloudfront的缓存机制。</p><p id="0f60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe mx my mz na b"><a class="ae kv" href="https://github.com/mapbox/mbutil" rel="noopener ugc nofollow" target="_blank">mbutil</a></code>是正确的方法。很简单。请注意t*。由<code class="fe mx my mz na b">mbutil</code>提取的pbf文件被压缩。所以，如果你使用S3，确保在复制文件时包含了标志<code class="fe mx my mz na b">—-content-encoding gzip</code>。</p><p id="21d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这为存储在S3中的对象添加了额外的元数据，并帮助Cloudfront正确地处理它。如果你想动态压缩文件或者根本不想使用压缩，你也可以解压文件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="2512" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:使用EC2 5c.4xlarge实例，500GB EBS gp2卷，运行Ubuntu Server 20.04，需要48小时才能获得欧洲的MBTiles文件。我一直处于紧张状态，希望这个过程不会在中间随机崩溃。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="f715" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可选步骤—解压缩文件</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="61ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">可选步骤——使用服务器托管和提供瓷砖</em></p><p id="3f7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">出于某些原因，您可能希望将tile保存在一个文件中(例如，定期更新)，并利用tileserver为您完成所有繁重的工作。提供切片、缓存切片甚至提供预渲染的栅格切片都是自己运行tileserver的好处。实现起来非常简单:</p><ul class=""><li id="b121" class="nb nc iq ky b kz la lc ld lf nr lj ns ln nt lr nu nh ni nj bi translated">下载/上传T <a class="ae kv" href="https://github.com/maptiler/tileserver-php" rel="noopener ugc nofollow" target="_blank"> ileServer PHP </a>到你的服务器上</li><li id="7205" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr nu nh ni nj bi translated">复制*。mbtiles文件，位于根目录下，与其他tileserver文件相邻</li><li id="fd45" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr nu nh ni nj bi translated">打开你的浏览器，导航到你的目录，它就在那里。</li></ul><p id="bcee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">TileServer PHP还提供了一个代码片段，告诉你如何使用<a class="ae kv" href="https://github.com/mapbox/mapbox-gl-js" rel="noopener ugc nofollow" target="_blank"> mapbox-gl-js </a>在浏览器中渲染地图(从mapbox-gl-js 2.x开始，他们已经调整了他们的许可，现在如果没有有效的订阅，你就不能使用js库了。因此你必须使用1.x或者<a class="ae kv" href="https://github.com/maplibre/maplibre-gl-js" rel="noopener ugc nofollow" target="_blank"> maplibre-gl-js </a>。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="8e97" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">技巧</h1><p id="d9cd" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">1.为了加速这个过程，你可以用锇工具过滤掉建筑物来处理原始OSM数据(建筑物占据了很大的空间)。</p><p id="af2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.防止使用超过14的缩放级别。相信我，你不会想去那里的。</p><p id="8d95" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.如果你计划使用较小的提取，例如，单个国家，我强烈建议使用<a class="ae kv" href="https://github.com/systemed/tilemaker/" rel="noopener ugc nofollow" target="_blank"> tilemaker </a>。与<code class="fe mx my mz na b">openmaptiles</code>方法相比，它快得惊人。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="4bae" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">资源、工具、原始数据和其他有用的链接</h1><ul class=""><li id="33f9" class="nb nc iq ky b kz ms lc mt lf nd lj ne ln nf lr nu nh ni nj bi translated"><a class="ae kv" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/compute-optimized-instances.html" rel="noopener ugc nofollow" target="_blank"> AWS EC2 5c.4xlarge，500GB EBS gp2卷，运行Ubuntu Server 20.04 </a></li><li id="0e74" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr nu nh ni nj bi translated"><a class="ae kv" href="https://github.com/openmaptiles/openmaptiles" rel="noopener ugc nofollow" target="_blank"> Openmaptiles工具</a>(将原始OSM数据转换成MBTiles)</li><li id="0ef8" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr nu nh ni nj bi translated"><a class="ae kv" href="https://osmcode.org/osmium-tool/" rel="noopener ugc nofollow" target="_blank">锇工具</a>(处理原始OSM数据)</li><li id="0d6c" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr nu nh ni nj bi translated"><a class="ae kv" href="https://github.com/maptiler/tileserver-php" rel="noopener ugc nofollow" target="_blank"> TileServer PHP </a>(提供MBTiles)</li><li id="2a86" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr nu nh ni nj bi translated"><a class="ae kv" href="https://download.geofabrik.de/europe.html" rel="noopener ugc nofollow" target="_blank">OSM地质调查局数据</a>(下载原始OSM数据)</li><li id="e963" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr nu nh ni nj bi translated"><a class="ae kv" href="https://wheregroup.com/blog/tilemaker-am-limit/" rel="noopener ugc nofollow" target="_blank"> Tilemaker am Limit </a>(关于Tilemaker am使用的文章。<em class="ls">德语</em></li><li id="b823" class="nb nc iq ky b kz nk lc nl lf nm lj nn ln no lr nu nh ni nj bi translated"><a class="ae kv" href="https://openmaptiles.org/" rel="noopener ugc nofollow" target="_blank">预转换</a> <a class="ae kv" href="https://openmaptiles.org/" rel="noopener ugc nofollow" target="_blank"> *。mbtiles </a>(虽然对于商业用途来说很贵，但取决于你的预算)</li></ul></div></div>    
</body>
</html>