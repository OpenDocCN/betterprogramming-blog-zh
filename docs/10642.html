<html>
<head>
<title>One Crucial Tip To Escape Code Review Hell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">逃离代码审查地狱的一个重要技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/1-crucial-tip-to-escape-code-review-hell-ae59cb3baa47?source=collection_archive---------19-----------------------#2022-01-19">https://betterprogramming.pub/1-crucial-tip-to-escape-code-review-hell-ae59cb3baa47?source=collection_archive---------19-----------------------#2022-01-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c46b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何进行更快更有效的代码评审</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bdbff679d978e903383a28c930626e11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O8ka3YKUeClSXmbjqF8SZA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">阿尔瓦罗·雷耶斯在<a class="ae kv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="7140" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">两周前，我把我的代码提交给了评审。它仍然没有被批准。</p><p id="3efb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我在第六次修订代码。前一天，我已经修复了负责我正在修改的代码库的工程师留下的评论。今天，又有一轮关于新零件的评论。</p><p id="4b02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">他为什么不检查所有的代码？</em></p><p id="3b27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我累了。我给他发了信息。“嘿，我能和你当面聊聊我的公关吗？”</p><p id="d3be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">"当然，随时到我的办公桌来."</p><p id="40f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我走到他靠窗的桌子旁，拉过一把椅子。他调出了我的代码审查。他很有帮助地向我展示了他的评论，并感谢我迄今为止所做的改变。</p><p id="429d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们讨论了我的代码的实际设计。</p><p id="4175" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我向他解释了我想做的事情。他指出了一种他认为更好的构建代码的不同方式，因为它遵循了他的代码库的风格。“看起来不错。只要做出改变，我就会批准。”</p><p id="b2cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我屁股坐在最近的沙发上，做了修改，然后把它送了回去。他几分钟内就批准了。</p><h1 id="7667" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">提高代码评审的一个技巧是面对面进行(或者通过视频电话)。</h1><p id="34db" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">自从那次经历之后，我有了同样的机会——为整个公司评审面向客户的API代码。我每天至少评审一个来自不同人的代码评审。</p><p id="66e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">许多代码评审不需要任何交互。它们简单明了。一个功能变化。逻辑上的改变。</p><p id="94f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是每当我得到一个真正试图改变事情的评论——实现一些新功能或者修改核心框架——我都会特意去和作者聊天。</p><p id="4e33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我会理解他们想做什么，为什么，然后提出一些更大的结构性变革。大的重构完成后，我们会做小代码风格的nits。</p><p id="f66b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码审查时间可以减少一半。</p><h1 id="caa0" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">你的评论很慢，因为评论者不理解你的目标。</h1><p id="d5cd" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">代码告诉你到底发生了什么，但不告诉你为什么。</p><p id="45a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是一个问题总是有多个解决方案。我会问某人他们实际上在做什么。一旦我知道了原因，我就可以提出更好的解决方案。</p><p id="e003" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你只关注树木，修复森林会花费你更长的时间。在修复所有代码风格问题之前，您需要获得正确的结构。代码评审工具并不总是理解上下文的最佳工具。有时人们链接整个规范文档。但是你的评审者不应该阅读你的整个项目来评审你的代码——他们是在为你服务。</p><p id="8a0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你与某人面对面交谈时，你的通信带宽从1 Mbps到1 Gbps。</p><h1 id="98d9" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">你的评论很慢，因为它们是异步的。</h1><p id="9094" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">异步通信很方便。但是效率不高。</p><p id="3391" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我并不主张每次代码审查都需要开会。你可以让它非侵入性和快速。</p><p id="3839" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们回到办公室时，如果我审查坐在我旁边的同事的代码，我会把我的椅子转过来进行审查。现在每个人都在远程工作，我打赌更多的人被困在代码审查地狱，因为没有那么多面对面的快速聊天。</p><p id="bb62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使快速空闲呼叫正常化。代码审查不需要花很长时间。</p><p id="ddb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尝试结对编程代码审查。</p><h1 id="028c" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated"><strong class="ak">人们面对面比通过短信更友好。</strong></h1><p id="9856" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这是互联网的真理。</p><p id="0781" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码审查并不像在线聊天室那样糟糕，但是你确实会通过文本失去共鸣和语气。当人们只是对你的代码吹毛求疵时，你可能会认为他们是在发牢骚，或者他们试图证明他们的优越性。你最好和某人面对面地交谈，而不是和他斗气，然后留下消极的、攻击性的代码评审评论。</p><p id="8a42" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个建议是双向的。</p><p id="e5ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你得到一个令人沮丧的代码审查，或者如果你是被审查者挫败的那个人，和另一边的人谈谈。</p></div></div>    
</body>
</html>