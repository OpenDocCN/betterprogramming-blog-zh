<html>
<head>
<title>Create Custom Button Styles in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中创建自定义按钮样式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-custom-button-styles-in-swiftui-f3778f695266?source=collection_archive---------11-----------------------#2022-07-06">https://betterprogramming.pub/create-custom-button-styles-in-swiftui-f3778f695266?source=collection_archive---------11-----------------------#2022-07-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="84f2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过定制、压制和加载。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8cca000b02aa0e1b778be868f39ed94e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dkI92NsXT4cMOWFr"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@trine?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Katrin Hauf </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="f295" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak"> 1。简单按钮样式</strong></h1><p id="b13e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为您的按钮样式创建一个新的Swift文件。以<code class="fe mn mo mp mq b">{style-name}ButtonStyle.swift</code>结尾来命名文件是一个很好的习惯。</p><p id="56a9" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">在这种情况下，我们将其命名为<code class="fe mn mo mp mq b">BigButtonStyle.swift</code>。</p><p id="3c97" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">添加一个符合<code class="fe mn mo mp mq b">ButtonStyle</code>协议的结构。此协议只要求您在结构中包含以下方法。</p><p id="932b" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><code class="fe mn mo mp mq b">func makeBody(configuration: Configuration) -&gt; some View</code></p><p id="24e6" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">这是代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/f45138344cf37d894a6adf9b0a466d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TXCFe0XkJOxFOG7IpP2UZg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">简单BigButtonStyle</p></figure><p id="0f78" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">我喜欢看到我正在做的东西，所以如果你也这样做，我强烈建议在你的文件底部添加这个预览代码并打开画布。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><h1 id="7348" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">2.自定义按钮样式</h1><p id="f4ea" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">完美，我们现在有了一个好看的按钮，但是，它非常单调和不灵活——我们不能改变颜色和字体。我们唯一能改变的是它的内容。让我们解决这个问题。</p><p id="cf68" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">在我们的<code class="fe mn mo mp mq b">BigButtonStyle</code>的开头添加一个<code class="fe mn mo mp mq b">color</code>属性，并用<code class="fe mn mo mp mq b">.background(color)</code>替换<code class="fe mn mo mp mq b">.background(Color.indigo)</code>修饰符。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/f2058a03f0fd0b0552d48c386d36129f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ALBOLR1zLZcw3_bxUSFfg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有自定义的BigButtonStyle</p></figure><p id="0597" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">现在，您可以通过用所需的按钮颜色初始化样式来为您的<code class="fe mn mo mp mq b">BigButtonStyle</code>使用自定义颜色。</p><p id="8d46" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><code class="fe mn mo mp mq b">.buttonStyle(BigButtonStyle(color: .green)</code></p><h1 id="ae64" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">3.按下按钮样式</h1><p id="6c06" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">好的，太好了！你现在有了一个自定义的按钮样式和自定义的颜色，但是有点糟糕。如果你运行预览，你很快就会注意到，当你按下它时，它不会给你任何反馈。它只是一个静态按钮。</p><p id="053c" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">当使用苹果的原生按钮风格时，当按下按钮时，你会得到一个淡淡的覆盖，告诉你这一点；按钮被按下了。所以让我们为我们的客户<code class="fe mn mo mp mq b">BigButtonStyle</code>编写代码。</p><p id="e40e" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">在底部添加<code class="fe mn mo mp mq b">.overlay</code>修改器，如果按钮被按下，它会覆盖一个白色透明的彩色视图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/73b8cd52c4421811c5ab004607d09bd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/1*OWaQtnQrFGfnBuMOSvSKjw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带按的BigButtonStyle</p></figure><h1 id="0d2a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">4.禁用按钮样式</h1><p id="2852" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，经常希望通过使用<code class="fe mn mo mp mq b">.disable(true)</code>修改器来禁用按钮。现在，不可能区分启用和禁用的按钮，因为它们看起来一样。</p><p id="4d74" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">我们现在将使用<code class="fe mn mo mp mq b">isEnabled</code>环境变量来获取该信息。</p><p id="1b24" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">在颜色属性后添加<code class="fe mn mo mp mq b">@Environment(\.isEnabled) private var isEnabled: Bool</code>。这个环境变量让我们知道按钮是启用还是禁用。</p><p id="9917" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">现在，我们将尝试复制苹果的默认禁用按钮设计。为此，我们将只改变按钮被禁用时的<code class="fe mn mo mp mq b">foregroundColor</code>和<code class="fe mn mo mp mq b">background</code>修饰符来“灰显”。</p><p id="08fa" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">在每个属性中，添加三元运算符以获得相应的颜色。更新代码以包括</p><p id="61f7" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><code class="fe mn mo mp mq b">.foregroundColor(isEnabled ? .white : Color(UIColor.systemGray3))</code></p><p id="a889" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">和</p><p id="c4b2" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><code class="fe mn mo mp mq b">.background(isEnabled ? color : Color(UIColor.systemGray5))</code></p><p id="9646" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">下面是完整的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/099f26be894ecfd80621606e8a3329f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WKJ8e7JsCfI2BweN49iO-A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">禁用BigButtonStyle</p></figure><p id="fc3c" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">感谢阅读；我希望这篇文章是有用的。</p></div></div>    
</body>
</html>