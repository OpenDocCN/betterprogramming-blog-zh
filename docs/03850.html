<html>
<head>
<title>Coupling and Cohesion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">耦合和内聚</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/coupling-and-cohesion-75aa16bc9adf?source=collection_archive---------7-----------------------#2020-03-09">https://betterprogramming.pub/coupling-and-cohesion-75aa16bc9adf?source=collection_archive---------7-----------------------#2020-03-09</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="993e" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">他们形影不离</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/07ec3f192f7dc90cec2a6151abea082f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_NLX1opi8UNIHqZm"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kz" href="https://unsplash.com/@duck58cth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Alphacolor </a>拍摄的照片</p></figure></div><div class="ab cl la lb hy lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="in io ip iq ir"><h1 id="45a9" class="lh li iu bd lj lk ll lm ln lo lp lq lr ka ls kb lt kd lu ke lv kg lw kh lx ly bi translated">介绍</h1><p id="1904" class="pw-post-body-paragraph lz ma iu mb b mc md jv me mf mg jy mh mi mj mk ml mm mn mo mp mq mr ms mt mu in bi translated">在我的文章、书籍和演讲中，我经常谈到耦合。我对此有点狂热。我强调紧耦合是不好的，应该避免。</p><p id="5631" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">这是一个很好的观点，但我不经常谈论你应该做什么。这就是凝聚力概念的由来。我将在本文中讨论这两个问题。</p></div><div class="ab cl la lb hy lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="in io ip iq ir"><h1 id="358a" class="lh li iu bd lj lk ll lm ln lo lp lq lr ka ls kb lt kd lu ke lv kg lw kh lx ly bi translated">关于耦合的思考</h1><p id="2df7" class="pw-post-body-paragraph lz ma iu mb b mc md jv me mf mg jy mh mi mj mk ml mm mn mo mp mq mr ms mt mu in bi translated">耦合是衡量代码模块相互依赖程度的标准。强耦合不好，低耦合好。</p><p id="4021" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">高耦合意味着你的模块不能分离。这意味着一个模块的内部知道另一个模块的内部，并与另一个模块的内部混合在一起。</p><p id="653d" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">当你的系统真的耦合很差时，它被称为“意大利面条”代码，因为所有的东西都混在一起，就像一碗意大利面条。</p><p id="0d87" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">高耦合意味着一个地方的变化可能对其他未知的地方产生未知的影响。这意味着您的代码更难理解，因为复杂、交织的关系很难理解。</p><p id="98cf" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">高度耦合的代码很难重用，因为它很难从系统中移除以用于其他地方。人们应该努力将代码中的耦合降低到尽可能高的程度。</p><p id="34c0" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">当然，你的代码不可能完全解耦。一堆完全解耦的模块什么都做不了。它们需要以轻薄的方式耦合。</p><p id="8661" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">我以前说过<a class="ae kz" href="https://medium.com/better-programming/code-against-interfaces-not-implementations-37b30e7ab992" rel="noopener">界面就像一缕烟</a>——那里有东西，但真的很难抓住它。通过接口耦合的代码被耦合得尽可能的稀疏。</p><p id="ae73" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">强耦合的一个真实例子是航天飞机。</p><p id="dbbf" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">现在，我不是火箭科学家，但我猜想航天飞机是由成千上万——如果不是数百万——独特的零件组成的，这些零件只能以一种方式装配在一起。</p><p id="aa47" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">这些部分是不可重用的，如果您需要改变一个部分——尤其是如果您必须改变一个部分的接口——您就会遇到问题，因为它周围的其他部分很可能也需要改变。</p><p id="18bf" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">最初的改变可能会在整个飞船中传播很长一段时间，并产生深远的影响。因此，航天飞机是一个高度耦合的系统。</p><p id="54a1" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">松散耦合的例子是什么？</p><p id="0df6" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">乐高积木造的航天飞机怎么样？当然，它不会去任何地方，但它很容易改变它的设计，因为乐高积木很容易组装和拆卸，可以制作任何你想要的东西。乐高航天飞机耦合度较低</p><p id="6862" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">总之，在编写非耦合代码时，您应该考虑以下几点:</p><ul class=""><li id="c8e1" class="na nb iu mb b mc mv mf mw mi nc mm nd mq ne mu nf ng nh ni bi translated">你的代码将更容易阅读，因为它将是简单而不复杂的。</li><li id="654c" class="na nb iu mb b mc nj mf nk mi nl mm nm mq nn mu nf ng nh ni bi translated">您的代码将是可重用的，因为它将只通过非常薄的接口连接。</li><li id="f2a2" class="na nb iu mb b mc nj mf nk mi nl mm nm mq nn mu nf ng nh ni bi translated">您的代码将易于更改和维护，因为对代码的更改将被隔离。</li></ul><p id="5aa6" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">那么，如果你不希望你的代码紧密耦合，你希望你的代码是什么样的呢？</p></div><div class="ab cl la lb hy lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="in io ip iq ir"><h1 id="2762" class="lh li iu bd lj lk ll lm ln lo lp lq lr ka ls kb lt kd lu ke lv kg lw kh lx ly bi translated">关于凝聚力的思考</h1><p id="8bba" class="pw-post-body-paragraph lz ma iu mb b mc md jv me mf mg jy mh mi mj mk ml mm mn mo mp mq mr ms mt mu in bi translated">设计良好的代码会有很好的内聚性。</p><p id="d4d3" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">什么是凝聚力？维基百科称之为“<a class="ae kz" href="https://en.wikipedia.org/wiki/Cohesion_%28computer_science%29" rel="noopener ugc nofollow" target="_blank">一个模块的元素属于一起的程度。</a>”</p><p id="216f" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">高内聚力被认为是一件好事。也就是说，让所有的类都很好地协同工作以形成一个整体是一个好的设计。</p><p id="7b24" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">一个好的凝聚力的例子是电钻。它由电机、电源、外壳、触发器、钻头支架和钻头本身组成。所有这些独立的组件——尽管它们各自不同——共同创造出有用的东西。</p><p id="9b8e" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">你的代码也是如此。如果你的类可以很容易地组合在一起创造出有用的东西，那么这个代码就是内聚的。</p><p id="2bff" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">不过，有一个条件。正如我们在上一节中看到的，您不希望以耦合为代价来实现内聚。设计良好的系统适当耦合<em class="no">和</em> <strong class="mb iv"> </strong>具有良好的衔接性。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj np"><img src="../Images/c17b268a2ad8a08f2ecd200d21ab6880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_WQdBwM9Txq8dpTw"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@cetteup?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> cetteup </a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="5204" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">想想你的训练。我敢打赌，使用合适的螺丝刀可以很容易地将一个设计良好的钻头拆开。马达可以从外壳上拆下来，电气系统可以很容易地固定或更换，钻头支架可以拆下来维修，然后整个钻头可以重新组装起来。</p><p id="8bdd" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">发生这种情况是因为钻头正确地耦合在一起，并且其组成部分之间具有高内聚力。</p><p id="fd36" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">您的代码应该是同样的方式——正如上面所说的，它应该是松散但适当耦合的。与此同时，你构建的模块应该能够被拼凑起来形成有用的东西，但是以一种使系统的分解相对容易的方式。</p><p id="0881" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">如果您发现系统的一部分对另一个项目有用，您希望能够轻松地移除该模块并在其他地方使用它。这是很好的耦合。它很容易与其他模块组合在一起，从而创建一个系统，这就是良好的内聚性。</p></div><div class="ab cl la lb hy lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="in io ip iq ir"><h1 id="c5e8" class="lh li iu bd lj lk ll lm ln lo lp lq lr ka ls kb lt kd lu ke lv kg lw kh lx ly bi translated">结论</h1><p id="f02a" class="pw-post-body-paragraph lz ma iu mb b mc md jv me mf mg jy mh mi mj mk ml mm mn mo mp mq mr ms mt mu in bi translated">如上所述，乐高表现出很高的凝聚力。它们可以很容易地拼凑在一起，创造出几乎任何你能想象的东西。即使是Duplo积木也有一个与普通乐高积木的接口，这使得它们可以组合在一起。</p><p id="2d8b" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">乐高玩具可以很容易地拆开。它们可以很容易地组合在一起。它们是这个星球上最受欢迎的玩具是有原因的。如果它们没有表现出低耦合和高内聚，就没有人会使用它们。</p><p id="2c9b" class="pw-post-body-paragraph lz ma iu mb b mc mv jv me mf mw jy mh mi mx mk ml mm my mo mp mq mz ms mt mu in bi translated">你的代码应该像乐高积木一样——容易组合起来创造有用的东西。</p></div></div>    
</body>
</html>