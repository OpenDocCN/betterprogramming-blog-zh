# Swift 中的 Pure 和 Curry 函数

> 原文：<https://betterprogramming.pub/a-look-at-pure-and-curry-functions-in-swift-c62c21d07598>

## Swift 中的函数式编程

![](img/85453e969be91915fbe74881bfa1d1c0.png)

照片由 [Thiébaud Faix](https://unsplash.com/@thips?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄。

Swift 不是纯粹的函数式语言。相反，这种语言足够灵活，允许多种范例——面向对象、函数式和泛型编程。

纯函数式语言的一个必要特征是“没有副作用”换句话说，函数应该根据参数返回值，而不依赖于任何外部状态。在非常基础的层面上，在 Swift 中使用`let`定义一个值是尊重函数式编程的，因为它避免了可变状态。

尽管语言不是纯函数式的，我们仍然可以利用范式特性。在接下来的几节中，我们将深入探讨两个核心函数式编程概念 Swift 中的 pure 和 curry 函数——并探索它们的用例。让我们开始吃吧。

# 纯函数

Swift 中的功能有多种类型。闭包是没有名字的函数，但是它们有能力捕获周围的值。虽然这可能将闭包描绘成不纯的函数，但这并不一定适用于所有情况。

以下核心原则决定了一个函数是否是纯函数:

*   给定一组参数，它必须返回相同的值。
*   它不应该自己变异。
*   它不能依赖于任何可变的东西。
*   它的评估应该没有副作用—网络或数据库调用。

没有返回值的函数是不纯函数的明显标志。另一个不纯函数的生动例子是`print`函数，因为它改变了 I/O，这是一个外部状态。

这是一个纯函数的基本例子:

```
func add(a: Int, b: Int) -> Int { a + b }
```

让我们考虑另一个例子，我们将*净化*一个不纯的函数:

上面的变异函数改变了字符串`name`。我们可以简单的去掉 mutating 关键字，设置返回类型为`String`，做一个`return append(str)`，让函数变得纯粹。

在代码库中使用纯函数有很多好处——可重用性、线程安全性、可测试性——从而产生更可预测的代码。不可变值和纯函数在并发中非常方便。

# 咖喱功能

Currying 是通过将具有多个参数的单个函数翻译成一系列具有单个参数的函数来组合函数的过程。

本质上，它允许我们使用函数的部分应用，其中您可以保持一个中间函数，在代码中传递它，并随后填充剩余的参数以完全评估它。

让我们看一个简单的函数，并将其转换成一个咖喱函数:

注意:删除了 currying 函数(`sum(_ x: Int)(_ y: Int)`)的旧声明语法。

现在，上面的代码可能看起来没什么大不了的，但是在高阶函数中使用 curry 函数确实很方便:

```
let numbers = 1...10
let add10 = sum(10) let x = numbers.map(add10)//Output of x = [11, 12, 13,..., 20]
```

# 结论

Swift 是一门神奇的语言，功能是一等公民。我希望 pure 和 curry 函数的概念能够帮助您在基于 iOS 和 Swift 的应用程序中很好地应用函数式编程。

这一次到此为止。感谢阅读。