<html>
<head>
<title>8 Neat C++ Programming Tricks You Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该知道的8个简洁的C++编程技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/8-neat-c-programming-tricks-you-should-know-be331b828be1?source=collection_archive---------1-----------------------#2021-03-24">https://betterprogramming.pub/8-neat-c-programming-tricks-you-should-know-be331b828be1?source=collection_archive---------1-----------------------#2021-03-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9c14" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">掌握一些关键的C++概念，节省几行代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1e9637c3089e05956b008852d7df3384.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ouDBWhT2IOVDKMEN"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@nateggrant?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">内特·格兰特</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="7eaa" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">1.一次性包含所有标准库</h1><p id="86f6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用<code class="fe mn mo mp mq b"><strong class="lt iu">#include</strong> &lt;bits/stdc++.h&gt;</code>在你的项目中包含所有的标准库，而不是单独包含它们。这在时间宝贵的编程竞赛中尤其有用。</p><p id="a199" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">例如，您可以替换这个(以及更多):</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="22b9" class="na la it mq b gy nb nc l nd ne"><strong class="mq iu">#include</strong> &lt;iostream&gt;<br/><strong class="mq iu">#include</strong> &lt;algorithm&gt;<br/><strong class="mq iu">#include</strong> &lt;vector&gt;<br/><strong class="mq iu">#include</strong> &lt;string&gt;<br/><strong class="mq iu">#include</strong> &lt;stack&gt;<br/><strong class="mq iu">#include</strong> &lt;set&gt;<br/><strong class="mq iu">#include</strong> &lt;queue&gt;<br/><strong class="mq iu">#include</strong> &lt;map&gt;</span></pre><p id="c200" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">有了这个:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="d21e" class="na la it mq b gy nb nc l nd ne"><strong class="mq iu">#include</strong> &lt;bits/stdc++.h&gt;</span></pre><p id="541c" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><strong class="lt iu">谨记</strong></p><ul class=""><li id="4ad5" class="nf ng it lt b lu mr lx ms ma nh me ni mi nj mm nk nl nm nn bi translated"><code class="fe mn mo mp mq b">&lt;bits/stdc++.h&gt;</code>包含了很多你可能不需要在项目中使用的头文件。这最终会增加编译时间。</li><li id="1d1a" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated"><code class="fe mn mo mp mq b">&lt;bits/stdc++.h&gt;</code>不是GNU C++库的标准头文件。因此，非GCC编译器可能很难编译。然而，大多数时候这是不会发生的！</li></ul><h1 id="13bf" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">2.使用Auto省略变量的数据类型</h1><p id="a6e4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在C++ 11和更高版本中，可以通过使用<code class="fe mn mo mp mq b">auto</code>关键字省略变量的数据类型。当你需要在运行时声明一个变量时，例如，当使用迭代器时，这是非常有用的。</p><p id="c14b" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">例如，以下变量的数据类型在运行时声明。</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="1e85" class="na la it mq b gy nb nc l nd ne"><strong class="mq iu">auto</strong> a = 'a';<br/><strong class="mq iu">auto</strong> t = true;<br/><strong class="mq iu">auto</strong> x = 1;<br/><strong class="mq iu">auto</strong> y = 2.0;</span></pre><h1 id="175b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">3.全面的基于范围的for循环</h1><p id="6c89" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">基于范围的for循环是传统for循环的升级版本，它是在C++ 11中引入的。</p><p id="a8ed" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">基于范围的for循环的语法是:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="1801" class="na la it mq b gy nb nc l nd ne">for(range_declaration : range_expression)</span></pre><p id="16b1" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">例如，您可以使用基于范围的for循环遍历数字数组，如下所示:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="7148" class="na la it mq b gy nb nc l nd ne"><strong class="mq iu">int</strong> numbers[] = {1,2,3,4,5};</span><span id="a15b" class="na la it mq b gy nt nc l nd ne"><strong class="mq iu">for</strong> (<strong class="mq iu">auto</strong> number: numbers){<br/>    cout &lt;&lt; number &lt;&lt; endl;<br/>}</span></pre><p id="5d28" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">或者，您可以使用基于范围的for循环以类似的方式遍历字符串中的字符:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="8522" class="na la it mq b gy nb nc l nd ne">string name = "Charlie";</span><span id="760e" class="na la it mq b gy nt nc l nd ne"><strong class="mq iu">for</strong> (<strong class="mq iu">auto</strong> character: name){<br/>    cout &lt;&lt; character &lt;&lt; endl;<br/>}</span></pre><h1 id="fc4a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">4.一行If…Else语句</h1><p id="0826" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以使用三元运算符(也称为条件运算符)轻松地将<code class="fe mn mo mp mq b">if...else</code>语句转换成一行程序。</p><p id="beb7" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">例如，您可以替换此表达式:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="bc60" class="na la it mq b gy nb nc l nd ne"><strong class="mq iu">int</strong> age = 9;<br/>    <br/><strong class="mq iu">if</strong>(age &lt; 18) {<br/>    printf("A Child");<br/>} <strong class="mq iu">else </strong>{<br/>    printf("An Adult");<br/>}</span></pre><p id="266d" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">用更简洁的简写，就像这样:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="bf3b" class="na la it mq b gy nb nc l nd ne">age &lt; 18 ? printf("A Child") : printf("An Adult");</span></pre><p id="c182" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">三元运算符的一般语法是:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="6dc6" class="na la it mq b gy nb nc l nd ne">condition ? true_expression : false_expression</span></pre><p id="6c09" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">三元运算符在其他编程语言中也很常见，因此它绝对不仅仅是“C++的事情”</p><p id="ab59" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><strong class="lt iu">提示:</strong>过度使用三元运算符会降低代码的可读性。只有当<code class="fe mn mo mp mq b">if...else</code>语句作为一行程序足够清晰时，才使用它是有益的。</p><h1 id="9b42" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">5.交换两个变量，不交换第三个变量</h1><p id="9762" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以使用<code class="fe mn mo mp mq b">XOR</code>操作符交换两个变量，而不使用第三个辅助变量。这里有一个例子:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="d6fc" class="na la it mq b gy nb nc l nd ne"><strong class="mq iu">int</strong> a = 1;<br/><strong class="mq iu">int</strong> b = 2;<br/> <br/>a ^= b ^= a ^= b;</span></pre><h1 id="37c4" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><code class="fe mn mo mp mq b">6. The --&gt; </code>操作员</h1><p id="ac85" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以在while循环中使用<code class="fe mn mo mp mq b">--&gt;</code>“操作符”作为“Goes to”操作符。</p><p id="8d99" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">例如，您可以像这样用while循环打印数字<code class="fe mn mo mp mq b">9 8 7 6 5 4 3 2 1</code>:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="1be6" class="na la it mq b gy nb nc l nd ne"><strong class="mq iu">int</strong> x = 10;</span><span id="ee47" class="na la it mq b gy nt nc l nd ne"><strong class="mq iu">while</strong>( x --&gt; 0 ) { <br/>    printf("%d ", x);<br/>}</span></pre><p id="c895" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated"><strong class="lt iu">注:</strong> <code class="fe mn mo mp mq b">--&gt;</code>其实不是一个运算符，而是两个运算符的组合，<code class="fe mn mo mp mq b">--</code>和<code class="fe mn mo mp mq b">&gt;</code>。上面的<code class="fe mn mo mp mq b">while</code>和<code class="fe mn mo mp mq b">while( (x--) &gt; 0 )</code>一样，都是“用<code class="fe mn mo mp mq b">1</code>递减<code class="fe mn mo mp mq b">x</code>，然后和<code class="fe mn mo mp mq b">0</code>比较结果。”</p><h1 id="2469" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">7.前增量比后增量快</h1><p id="2f54" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在C++中，有两个运算符可用于通过<code class="fe mn mo mp mq b">1</code>递增一个值:</p><ul class=""><li id="35a8" class="nf ng it lt b lu mr lx ms ma nh me ni mi nj mm nk nl nm nn bi translated">预递增，<code class="fe mn mo mp mq b">++i</code> —在给变量赋值之前，值递增1。</li><li id="81ce" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated">后递增，<code class="fe mn mo mp mq b">i++</code> —将值赋给变量后，值递增。</li></ul><p id="3b40" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">因此，前增量<code class="fe mn mo mp mq b">++i</code>比后增量快，因为后增量保留了前一个值的副本，其中前增量直接加1，而不复制前一个值。</p><h1 id="3146" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">8.将赋值与函数调用结合起来</h1><p id="6dae" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在C++中，可以将赋值和函数调用结合起来。</p><p id="3640" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">而不是这个:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="f546" class="na la it mq b gy nb nc l nd ne">int i;</span><span id="9780" class="na la it mq b gy nt nc l nd ne">i = 10;<br/>printf("%d", i); // prints 10</span></pre><p id="4baf" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">您可以这样做来节省一些代码行:</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="8da1" class="na la it mq b gy nb nc l nd ne">int i;</span><span id="4323" class="na la it mq b gy nt nc l nd ne">printf("%d", i = 10); // prints 10</span></pre><h2 id="0968" class="na la it bd lb nu nv dn lf nw nx dp lj ma ny nz ll me oa ob ln mi oc od lp oe bi translated">就是这样！</h2><p id="9bb4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">感谢阅读！希望你觉得有用。</p></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h1 id="17e2" class="kz la it bd lb lc om le lf lg on li lj jz oo ka ll kc op kd ln kf oq kg lp lq bi translated">资源</h1><div class="or os gp gr ot ou"><a href="https://devdocs.io/cpp/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">DevDocs</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">具有即时搜索、离线支持、键盘快捷键、移动版本等功能的C++ API文档。</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">devdocs.io</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi ks ou"/></div></div></a></div></div></div>    
</body>
</html>