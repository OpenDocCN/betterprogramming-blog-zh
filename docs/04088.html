<html>
<head>
<title>How to Implement the Delegation Design Pattern in Dart</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Dart中实现委托设计模式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-implement-the-delegation-design-pattern-in-dart-d782de77c886?source=collection_archive---------9-----------------------#2020-03-23">https://betterprogramming.pub/how-to-implement-the-delegation-design-pattern-in-dart-d782de77c886?source=collection_archive---------9-----------------------#2020-03-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9f4b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解Dart中的mixins以及它们与Swift协议的比较</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3db1a76eaedec074881307694069b1d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RfUdxG9CdZ6twoH9"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@j0rt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">🇻🇪·何塞·g·奥尔特加·卡斯特罗·🇲🇽</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="3503" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个简短的教程中，我们将用两种语言实现委托设计模式:Dart和Swift。在这个过程中，我们将学习Dart中的a <code class="fe lv lw lx ly b">mixin</code>是什么，并将最终实现与Swift版本进行比较。</p><p id="2aef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">允许我们向Dart类添加功能，并在不同的类层次结构中重用它们的代码。</p><p id="067d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">源代码可以在文章的底部找到。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="bfc2" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">我们开始吧</h1><p id="ba04" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">比方说我们有两个班，一个是<code class="fe lv lw lx ly b">Manager</code>，另一个是<code class="fe lv lw lx ly b">Worker</code>。<code class="fe lv lw lx ly b">Manager</code>的职责是向<code class="fe lv lw lx ly b">Worker</code>发送命令，执行某项工作。完成这项工作后，<code class="fe lv lw lx ly b">Worker</code>类将结果发送回<code class="fe lv lw lx ly b">Manager</code>。</p><p id="7347" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建我们的第一个<code class="fe lv lw lx ly b">mixin</code> — <code class="fe lv lw lx ly b">WorkerDelegate</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="6835" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了简单起见，它只包含一个方法<code class="fe lv lw lx ly b">onWorkDone</code>，这个方法<code class="fe lv lw lx ly b">Worker</code>将在任务完成时触发。让我们创建<code class="fe lv lw lx ly b">Manager</code>类并实现<code class="fe lv lw lx ly b">WorkerDelegate</code>方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="c021" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们继续讨论<code class="fe lv lw lx ly b">Worker</code>类:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="a230" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到，一旦运行了<code class="fe lv lw lx ly b">doWork()</code>方法，就会触发委托的<code class="fe lv lw lx ly b">onWorkDone()</code>方法。</p><p id="6465" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使用我们创建的类，我们将它写在<code class="fe lv lw lx ly b">main()</code>函数中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="d0e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果，我们看到控制台中打印出以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/31df16534ba6ac38887be937bcd2fa4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*PagfEh5rF90Z4ohb2pAKSA.png"/></div></figure><p id="da31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经实现了委托设计模式。现在，worker不知道它的委托是谁，它所做的只是执行它的任务并触发委托的方法<code class="fe lv lw lx ly b">onWorkDone()</code>，该方法在一个特定的委托中被单独处理。</p><p id="8cac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是Swift中相同功能的实现(在Xcode游乐场中运行):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ed66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到Dart和Swift中设计模式的实现是相似的。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="5e3a" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">资源</h1><p id="0c09" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">Dart版本的完整源代码可从GitHub 上的<a class="ae ky" href="https://gist.github.com/zafarivaev/b444f060628a3ac7b63c21f8e62cec50" rel="noopener ugc nofollow" target="_blank">获得。</a></p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="dfca" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">包扎</h1><p id="20c8" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">想了解更多关于Dart和Flutter的知识？请随意查看我的其他相关作品:</p><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/create-a-cross-platform-tabbed-app-in-flutter-c728ca5e30f6" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">在Flutter中创建跨平台的选项卡式应用程序</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">使用MaterialApp、AppBar和BottomNavigationBar小部件</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/what-is-the-copywith-operation-in-flutter-2567e4d924bf" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">Flutter中的' copyWith()'操作是什么？</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">通过一些修改重用现有的小部件</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/what-is-the-navigator-in-flutter-640e864892e2" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">Flutter中的导航仪是什么？</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">如何促进跨平台应用内部的流动</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="nz l nu nv nw ns nx ks nj"/></div></div></a></div><p id="9511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>