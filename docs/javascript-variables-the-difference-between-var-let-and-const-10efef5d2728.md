# JavaScript 变量:Var、Let 和 Const 之间的区别

> 原文：<https://betterprogramming.pub/javascript-variables-the-difference-between-var-let-and-const-10efef5d2728>

## 以及何时使用哪个？

![](img/db1d0ac2b7b10e2b73f36df5ae96580b.png)

随着 ES6 的引入，也引入了两个重要的新 JavaScript 关键字:`let`和`const`。在引入 ES6 之前，在 JavaScript 中声明变量的唯一方法是使用`var`。但是`var`、`let`和`const`有什么区别呢？我们什么时候使用哪种类型的示波器？

# 定义变量

您可能知道，在 JavaScript 中声明变量的老式方法是使用 *var* 关键字。

当你在控制台中记录变量`name`时，输出显然是*本杰明*。`name` 变量具有全局范围。当我们通过添加一个函数来扩展脚本时，事情变得更有趣了。

您认为控制台中的输出会是什么？如果你认为输出会是*本杰明*，那你就错了。这是因为`name`变量是在`setup`函数中定义的，并且有一个函数范围。这意味着该变量只能在`setup`函数中使用。这个例子的输出将是*未定义的*。

可以在函数中使用全局变量。这意味着`age`变量可以在`setup`函数中使用。这将输出*本杰明 26 岁*到控制台。

您只能访问具有相同范围或更高范围的变量。所以，从函数内部，你可以访问全局范围。但是，从全局来看，你不能访问一个只在函数中创建的变量。

知道一个具有全局范围的变量可以在函数内部被改变也是很好的。在下面的例子中，`age`变量将被设置为 35；因此，35 将在控制台中输出。

当`var`在`for`循环或`if`语句中使用时，情况变得更加棘手。一个`for`循环或一个`if`语句不会创建它们自己的变量。这意味着变量比创建它们的循环或语句更容易被访问。在下面的例子中，变量 *i* 具有全局范围。这将导致控制台输出 10。

# 让

使用块范围而不是词法范围。这意味着`let`不关心全局或局部，也不关心你是否在函数内部。相反，`let`关心你所在的街区。块基本上是带花括号的任何东西。这可以是一个函数，也可以是一个`for`循环或一个`if`语句。

这意味着在上面的例子中，变量 *i* 没有在全局范围内更新；因此输出将是 5。

当你想让一个变量作用于它的块时,`Let`很有用。可以从更高的块中访问变量，就像用`var`从更高的作用域中访问变量一样。

# 常数

`Const`的工作原理和`let`几乎一样。然而，唯一的区别是一旦你给一个`const`变量赋值，你就不能再给它赋值了。就像关键词暗示的那样。

上面的例子会给出一个错误，告诉你你正试图给一个`const`赋值。

`Const`当你知道你有一个不会真正改变的变量时，这是很棒的。现在你会想，如果一个值不变，我们为什么要把它存储在变量中呢？

一部分是真的。另一方面，为了可读性，可以使用 if。您可以选择在多个地方对代码中的一些值进行硬编码，但是使用一个`const`变量会使您的代码更易于维护。每当硬编码的值改变时，您只需要改变`const`变量，而不是遍历整个代码来寻找硬编码的值。

在下面的例子中，用户名是我们从用户输入中得到的一个值，不会改变。一个`const`变量使得代码可读性更好。

`const username = document.querySelect(‘input[name=”username”]’).value;`

这同样适用于下一个例子。无论何时处理大型对象，都可以使用`const`来提高可读性。

`const books = api.data.sources[‘library’].books;`

使用`const`有助于让你的代码背后的意图更清晰、更有表现力。当你在团队中工作时，这尤其有用。如果有人在代码中看到一个`const`，这个人知道这个值可能不应该改变。

# 例外:常量和对象的组合

`const`声明创建一个值的只读引用。这并不意味着它保存的值是不可变的，只是变量标识符不能被重新赋值。

这意味着下面是不可能的，因为我们试图重新分配用户`const`。

但是可以改变这个对象的属性。这是因为一个`const`持有的值不是不可变的。

# 何时使用哪种类型的变量？

我认为你应该使用`var`的唯一原因是当你在不支持 ES6 的代码库上工作时。

一般来说，`let`比`var`更可取，因为它缩小了范围。在大多数情况下，您应该能够将所有的`var`语句转换成`let`语句，而不做任何语义上的改变。

`Const`优于`let`。从技术角度来说，`const`从来都不是必须的。每一个`const`都可以用一个`let`变量替换，但是使用`const`可以产生更干净的代码。除非需要改变值，否则使用`const`。这具有`let`的所有优点，同时减少了未初始化变量的出现，使代码更具可读性和表现力。如果你不确定是否需要改变一个值，就把它设为常量，直到你需要改变它。