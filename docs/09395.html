<html>
<head>
<title>24 Bashism To Avoid for POSIX-Compliant Shell Scripts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">POSIX兼容Shell脚本应该避免的24 Bashism</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/24-bashism-to-avoid-for-posix-compliant-shell-scripts-8e7c09e0f49a?source=collection_archive---------0-----------------------#2021-08-19">https://betterprogramming.pub/24-bashism-to-avoid-for-posix-compliant-shell-scripts-8e7c09e0f49a?source=collection_archive---------0-----------------------#2021-08-19</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="bb9b" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">带示例的POSIX初学者指南</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/5f3ad5fd862e80031e94134c68bc6644.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*KjNSDeV8LERj_5_a8NREsw.gif"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">图片由作者使用<a class="ae kz" href="http://24 Bashism to Avoid for Posix-Compliant Shell Scripts" rel="noopener ugc nofollow" target="_blank"> Teffects blob </a>制作。</p></figure><h1 id="96ce" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">介绍</h1><p id="dfb8" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Unix可移植操作系统接口(POSIX)是由IEEE 创建的国际标准。通过遵循POSIX标准，包括Linux、macOS和Windows在内的各种系统都可以执行您的脚本。</p><p id="120c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在本文中，您将了解POSIX、它的命令以及如何使您的Shell脚本更符合POSIX的技巧。</p><p id="fa8c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">当在20世纪80年代开发UNIX变体版本(System V和BSD变体)时，shell脚本的可移植性变得很困难。POSIX标准化创建于1988年。每个操作系统都有不同的<strong class="lu iv">默认</strong>系统外壳，如下表所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mt"><img src="../Images/3b1e0941a2577ef224912bce1cf2469a.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*-_gNmhVkI4P7IT1NYV6Agw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">系统外壳/bin/sh列表。</p></figure><p id="0c7e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><a class="ae kz" href="https://wiki.ubuntu.com/DashAsBinSh" rel="noopener ugc nofollow" target="_blank"> Ubuntu的默认登录shell仍然是bash </a>，但是使用<code class="fe mu mv mw mx b">#!/bin/sh</code> shebang的脚本作为POSIX dash执行。Dash比Bash体积更小，速度更快。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj my"><img src="../Images/f83e55367281ee5ba1bebd16565e82dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aDBRpF6aC6eJJlhURJxQag.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">ls -al /usr/bin/sh的输出表明它与dash符号链接。图片由作者提供。</p></figure><p id="866d" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">POSIX描述了应用程序和操作系统之间的契约。遵循POSIX之类的标准化可以让您的软件在尽可能多的类UNIX环境中运行。</p><h2 id="0dfd" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">POSIX外壳</h2><p id="002a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">由于POSIX是一个规范，所以不存在称为POSIX shell的shell。您可以在许多shells中使用POSIX标准，例如，<code class="fe mu mv mw mx b">dash</code>、<code class="fe mu mv mw mx b">bash</code>、<code class="fe mu mv mw mx b">ksh</code>、<code class="fe mu mv mw mx b">mksh</code>、<code class="fe mu mv mw mx b">yash</code>、<code class="fe mu mv mw mx b">zsh</code>等。您需要知道每个shell都有自己的命令和选项，或者POSIX规范之外的不同选项。</p><h2 id="0aa9" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">所有的POSIX shells都有相同的命令吗？</h2><p id="befc" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">POSIX指定了类似XSI和更高版本的扩展。不同的shells安装不同的扩展，命令选项也可能不同。</p><h2 id="2106" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">在哪里可以找到规范和POSIX标准文档？</h2><p id="37b9" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">你可以在<a class="ae kz" href="https://pubs.opengroup.org/onlinepubs/9699919799.2018edition/" rel="noopener ugc nofollow" target="_blank">Open Group Base Specifications Issue 7，2018 edition </a>中找到POSIX细节。该站点还包括一个shell命令参考。</p><h2 id="d1af" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">什么是POSIX shell命令？</h2><p id="4527" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">以下列表显示了所有POSIX命令及其说明。列表中有<a class="ae kz" href="https://gist.github.com/shinokada/fb2d10d8c1e02bb37ea9c9fada5ef042#file-posix-commands-cheatsheet-md" rel="noopener ugc nofollow" target="_blank"> 160个命令。</a></p><h2 id="66f5" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">我可以使用哪些工具来编写POSIX兼容代码？</h2><p id="b23e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Shellcheck和<code class="fe mu mv mw mx b">checkbashism</code>是编写POSIX兼容shell脚本的优秀工具。</p><h2 id="6a9c" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">外壳检查</h2><p id="9ec5" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Shellcheck不会让您直接检查脚本是否符合POSIX。但是，Shellcheck检查是否符合<code class="fe mu mv mw mx b">dash</code>外壳。Dash的目标是与POSIX兼容，对于许多情况来说已经足够好了。</p><p id="76be" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">当您在终端中使用<code class="fe mu mv mw mx b">shellcheck</code>时，您可以使用以下命令运行您的脚本:</p><pre class="kk kl km kn gu nl mx nm nn aw no bi"><span id="96d0" class="mz lb iu mx b gz np nq l nr ns">shellcheck --shell=dash ./myscript.sh</span></pre><p id="aa06" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果使用VS代码编辑器，可以安装Shellcheck插件。它会根据您的提示发出警告，如下图所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nt"><img src="../Images/23c02f580e5c174c1cd63f03c5c7c996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ua1RMvwdf3UmTk35w8_jKw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">VSCode扩展，Shellcheck，正在运行。作者截图。</p></figure><h2 id="4964" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">Checkbashims</h2><p id="6f64" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe mu mv mw mx b"><a class="ae kz" href="https://manpages.ubuntu.com/manpages/bionic/man1/checkbashisms.1.html" rel="noopener ugc nofollow" target="_blank">checkbashism</a></code>是一个检查bashisms的Debian脚本。在<a class="ae kz" href="https://command-not-found.com/checkbashisms" rel="noopener ugc nofollow" target="_blank">安装好</a>之后，你可以检查你的脚本:</p><pre class="kk kl km kn gu nl mx nm nn aw no bi"><span id="ec38" class="mz lb iu mx b gz np nq l nr ns">checkbashisms ./myscript</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nu"><img src="../Images/cd30b5d669ad647a21175787985d1d6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vwpeYQDIR9B5bik2YWUDig.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">在终端上运行checkbashisms。图片由作者提供。</p></figure><h1 id="e6fa" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">如何运行POSIX Shell</h1><h2 id="b0bb" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">事情</h2><p id="27ef" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">按如下方式使用<code class="fe mu mv mw mx b">/usr/bin/env sh</code>或<code class="fe mu mv mw mx b">/bin/sh</code>进行切换:</p><pre class="kk kl km kn gu nl mx nm nn aw no bi"><span id="fc34" class="mz lb iu mx b gz np nq l nr ns">#!/usr/bin/env sh<br/>or<br/>#!/bin/sh</span></pre><p id="4940" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">然后运行它:</p><pre class="kk kl km kn gu nl mx nm nn aw no bi"><span id="8257" class="mz lb iu mx b gz np nq l nr ns">./my_script</span></pre><h2 id="ee3d" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">破折号</h2><p id="4b9b" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">dash shell具有POSIX指定的特性，加上一些Berkeley扩展。</p><p id="bf63" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">名称Dash是Debian Almquist Shell的缩写。Ubuntu在2006年决定采用Dash作为默认的/bin/sh。</p><blockquote class="nv nw nx"><p id="bf38" class="ls lt ny lu b lv mo jv lx ly mp jy ma nz mq md me oa mr mh mi ob ms ml mm mn in bi translated">" DASH是/bin/sh的一个符合<strong class="lu iv"> POSIX的</strong>实现，其目标是尽可能的小。在可能的情况下，这样做不会牺牲<strong class="lu iv">速度</strong>。事实上，对于大多数任务来说，它比bash(GNU Bourne-Again SHell)快得多。”—<a class="ae kz" href="http://gondor.apana.org.au/~herbert/dash/" rel="noopener ugc nofollow" target="_blank">http://gondor.apana.org.au/~herbert/dash/</a></p></blockquote><p id="749d" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">用<code class="fe mu mv mw mx b">dash</code>运行您的脚本:</p><pre class="kk kl km kn gu nl mx nm nn aw no bi"><span id="d5e9" class="mz lb iu mx b gz np nq l nr ns">$ dash my_script<br/># or<br/>$ dash my_script.sh</span></pre><p id="5d56" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">当您在脚本名称前使用破折号时，它会忽略shebang并为破折号设置一个shell环境。该脚本在dash环境中运行。</p><h1 id="d523" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">如何避免Bashisms &amp;非POSIX命令</h1><p id="1bfe" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Bashisms是特定于Bash解释器的shell命令。POSIX标准没有定义这些特性。</p><p id="5714" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">以下24个示例并不是完整的命令列表。它包括常见的Bash命令和POSIX标准中没有的规则。在可能的情况下，我添加了一个替代的POSIX代码。</p><h2 id="2a41" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">关于本节中的示例</h2><p id="aeb6" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在这一节中，我使用TECHIO来运行Bash脚本。TECHIO使用BusyBox v1.31.1，运行脚本时使用Bash。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">技术环境。作者代码。</p></figure><h1 id="4172" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">1.这里是琴弦</h1><p id="380c" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">这里的文档是POSIX兼容的，但是这里的字符串不是。</p><p id="81ad" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">以下示例适用于Bash。checkbashisms为示例的第二部分返回一个错误，因为它使用了一个here字符串。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://tech.io/snippet/DEsYvl2" rel="noopener ugc nofollow" target="_blank">代码</a>由作者举例说明。</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oe"><img src="../Images/adbd5966b8d50a01262782e28332e29d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WFkM4mf9UDNJbcuiMyqQwg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">checkbashisms的错误输出。图片由作者提供。</p></figure><h1 id="fc51" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">2.{}大括号扩展</h1><p id="cf3b" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">大括号扩展用于在Bash中生成字符串。您不能将它用于POSIX shell。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">大括号扩展示例。作者代码。</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj of"><img src="../Images/d886a59375b038eb4738189434f2fe2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1xIosHPFatAr3wjkpy5FBw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">checkbashisms的错误输出。图片由作者提供。</p></figure><h1 id="8794" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">3.~对于主目录</h1><p id="f5ef" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">使用<code class="fe mu mv mw mx b">$HOME</code>作为POSIX中的主目录。POSIX中没有定义主目录的符号<code class="fe mu mv mw mx b">~</code>。</p><h1 id="c2f4" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">4.选择命令</h1><p id="299a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在Bash中，<code class="fe mu mv mw mx b">select</code>命令用于创建菜单，但在POSIX中没有定义。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">选择命令示例。作者代码。</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj og"><img src="../Images/4b7c1a8f83d64f4a1a4c7b883dd375cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VVZsTjEqejsvbivOppNYYQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">checkbashisms的错误输出。图片由作者提供。</p></figure><p id="ebfd" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">请改用<code class="fe mu mv mw mx b">case</code>语句。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Case语句示例。作者代码。</p></figure><h1 id="4932" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">5.声明，排版命令</h1><p id="b62f" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Bash通过使用<code class="fe mu mv mw mx b">declare</code>和<code class="fe mu mv mw mx b">typeset</code>允许类类型行为。它们没有在POSIX中定义。定义没有这些关键字的变量。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">声明示例。作者代码。</p></figure><p id="4959" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">正如您在下图的第二个错误中看到的，POSIX中没有定义该数组。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oh"><img src="../Images/d38fc01aff2879c7e9acae2b5fa79c2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dt6GM_cEqQZWBG6MwBbLKA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">checkbashisms的错误输出。图片由作者提供。</p></figure><h1 id="1726" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">6.Function关键字</h1><p id="c11a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe mu mv mw mx b">function</code>关键字在Bash中是可选的，但是在POSIX中没有定义。删除<code class="fe mu mv mw mx b">function</code>关键字。POSIX shell没有它也能正常工作。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">函数示例。作者代码。</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oi"><img src="../Images/8c3f7e0b4bae94e3f88f714cf5c34545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mW07Xu-uBcVa7L-0A3ngWw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">checkbashisms的错误输出。图片由作者提供。</p></figure><h1 id="56d0" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">7.字母命令</h1><p id="c1f0" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe mu mv mw mx b">let</code>是一个Bash关键字，它允许创建一个带有简单算术求值的变量。为POSIX shell创建不带<code class="fe mu mv mw mx b">let</code>关键字的变量。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">举个例子。作者代码。</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/bc4c4d0728540e24c5aca82effd1859b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WX-lE7D1yS9qQLJTlpi2tw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">checkbashisms的错误输出。图片由作者提供。</p></figure><h1 id="b897" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">8.测试用单支架</h1><p id="1ea2" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在Bash if语句中，可以使用一个双括号，<code class="fe mu mv mw mx b">[[</code>，命令。对于POSIX shell，您需要使用单括号<code class="fe mu mv mw mx b">[</code>命令。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">使用双括号的Bashism。作者代码。</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ok"><img src="../Images/2db122bca1de9b97862082fc8737bd4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NzBb8bqukpYotIHPAXCA7Q.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Shellcheck的错误输出。图片由作者提供。</p></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">POSIX <a class="ae kz" href="https://tech.io/snippet/qi2rccP" rel="noopener ugc nofollow" target="_blank">作者代码</a>。</p></figure><h1 id="cfcc" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">9.阅读选项</h1><p id="e498" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">read命令从标准输入中读取用户输入。使用唯一的<code class="fe mu mv mw mx b">read -r</code>选项。<code class="fe mu mv mw mx b">-p</code>选项是Bashism。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">带r和p选项的read命令。作者代码。</p></figure><p id="a7fb" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">Shellcheck发现<code class="fe mu mv mw mx b">-p</code>在POSIX中是未定义的，但是checkbashisms不会给出错误。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/300f5edd5ff704a6e320f9ee9a97533e.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*KwSDMBd9xfjFwPySKs6pOQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Shellcheck的错误输出。图片由作者提供。</p></figure><h1 id="adaa" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">10.使用2&gt;&amp;1而不是&amp; &gt;重定向</h1><p id="065d" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">重定向代码<code class="fe mu mv mw mx b">&amp;&gt;</code>是Bashism，没有在POSIX中定义。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/e45765dff0188217d2b2f80898143fbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*1qHdAgc8WdKdbPDTU3Plmw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Shellcheck的错误输出。图片由作者提供。</p></figure><p id="1c36" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">使用<code class="fe mu mv mw mx b">2&gt;&amp;1</code>代替<code class="fe mu mv mw mx b">&amp;&gt;</code>。</p><h1 id="41af" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">11.本地命令</h1><p id="f335" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">声明为局部的变量是在Bash的函数中定义的。它在代码块中具有局部范围。</p><p id="6f82" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">POSIX中没有定义本地命令。不使用本地命令定义变量。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">本地命令示例。作者代码。</p></figure><p id="67ce" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">Shellcheck给你一个警告，但是checkbashisms让它通过。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/9869eb125e8b6fd1c174979c1b0c2ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*HoMcowq13hm7oLavM_Vf1w.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Shellcheck的错误输出。图片由作者提供。</p></figure><h1 id="7c86" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">12.参数扩展</h1><p id="3600" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">请参见<a class="ae kz" href="https://medium.com/mkdir-awesome/posix-shell-parameter-expansion-explained-with-examples-31f40efedef0" rel="noopener"> POSIX Shell参数扩展示例</a>了解更多细节和示例。</p><h1 id="f12c" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">13.[ A == B ]</h1><p id="3edc" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe mu mv mw mx b">==</code>操作符是一个Bash命令。使用一个等号<code class="fe mu mv mw mx b">=</code>来表示POSIX兼容。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">==和=示例。作者代码。</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj om"><img src="../Images/dcb2970cb91d885e04acf4db38ae3f35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kTcqoFqjoXyyV9V4ubL6_g.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">checkbashisms输出一个可能的bashism警告。作者截图。</p></figure><h1 id="8aac" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">14.字符串索引</h1><p id="ff68" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Bash可以使用字符串索引从字符串中提取子字符串。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">字符串索引示例。作者代码。</p></figure><p id="8ee7" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">POSIX中没有定义字符串索引。需要使用<code class="fe mu mv mw mx b">cut</code>命令或参数扩展进行<a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/27-simple-bash-scripting-tips-for-beginners-d6764c977546#01ab">子串处理</a>。</p><h1 id="03ad" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">15.使用。来源</h1><p id="79e7" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">当重新加载配置文件或读取外部文件时，使用<code class="fe mu mv mw mx b">.</code>而不是<code class="fe mu mv mw mx b">source</code>命令。POSIX中没有定义<code class="fe mu mv mw mx b">source</code>命令。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj on"><img src="../Images/5c0408b2f930d06c514c747d9fb3bb9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*voKFHvGRWow6U1GAkCTzEQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Shellcheck的错误输出。图片由作者提供。</p></figure><h1 id="c2c9" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">16.回声</h1><p id="a82a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">不同的操作系统有不同的选项。如果使用回显选项，使用<code class="fe mu mv mw mx b">printf</code>命令。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oo"><img src="../Images/dd368c2d8b16c1c0cf100b7501e42410.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*U386q2GYMhlk0o1XMJsLzg.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Shellcheck的错误输出。图片由作者提供。</p></figure><p id="da7c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">System V OSs识别转义序列，如<code class="fe mu mv mw mx b">\b</code>(退格)、<code class="fe mu mv mw mx b">\t</code> (tab)等，但BSD OSs不识别。</p><p id="21a0" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">一些shells(包括bash)实现了<code class="fe mu mv mw mx b">echo -e</code>选项来扩展转义序列。如果您需要打印包含任何反斜杠字符的字符串，请使用<code class="fe mu mv mw mx b">printf</code>命令，这是可移植的，也更可靠。</p><h1 id="e9c8" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi">17. ((…))</h1><p id="3dae" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Bash可以使用<code class="fe mu mv mw mx b">((...))</code>测试整数。对于POSIX外壳，您必须使用单个支架<code class="fe mu mv mw mx b">[</code>和<code class="fe mu mv mw mx b">-gt</code>以及<a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/the-ultimate-programmers-guide-to-bash-scripting-2d11d4e6e978#89ad">其他操作器</a>。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">整数测试示例。作者代码。</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj op"><img src="../Images/0235485d6554e9797989e8138af6aa4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*NW9CRrH-pI6zUBBWYU0Giw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">到处跑..))测试。作者截图。</p></figure><h1 id="7ff0" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">18.排列</h1><p id="f23e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Bash提供一维索引和关联数组变量。但是数组不是在POSIX shell中定义的。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">数组示例。作者代码。</p></figure><p id="b153" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">第2–6行:Bash数组<br/>第9–11行:如果项目没有空格，您可以使用<code class="fe mu mv mw mx b">cut</code>命令剪切出一个选定的字段。<br/>第13–23行:如果项目有空格，使用带有<code class="fe mu mv mw mx b">for</code>语句的<code class="fe mu mv mw mx b">set</code>命令。</p><h2 id="f4f6" class="mz lb iu bd lc na nb dn lg nc nd dp lk mb ne nf lm mf ng nh lo mj ni nj lq nk bi translated">复原</h2><p id="d82c" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe mu mv mw mx b">unset</code>命令清除变量和函数的值和属性。它可以与数组一起使用来取消变量的设置。因为POSIX没有指定数组，所以不能使用<code class="fe mu mv mw mx b">unset</code>命令来取消数组的设置。</p><h1 id="2049" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">19.检查字符串是否包含子字符串</h1><p id="4e31" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">您可以在Bash中使用一个<a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/the-ultimate-programmers-guide-to-bash-scripting-2d11d4e6e978#b994">双括号</a>来检查一个字符串是否包含子串。使用<code class="fe mu mv mw mx b">case</code>语句是POSIX shells的另一种方式。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure><h1 id="2b22" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">20.awk、sed和grep</h1><p id="1703" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">GNU命令有更多的扩展功能。你会发现比较<a class="ae kz" href="https://man7.org/linux/man-pages/man1/gawk.1.html" rel="noopener ugc nofollow" target="_blank">GNU awk</a>/<a class="ae kz" href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/awk.html" rel="noopener ugc nofollow" target="_blank">POSIX awk</a>、<a class="ae kz" href="https://man7.org/linux/man-pages/man1/sed.1.html" rel="noopener ugc nofollow" target="_blank">GNU sed</a>/<a class="ae kz" href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/sed.html" rel="noopener ugc nofollow" target="_blank">POSIX sed</a>和<a class="ae kz" href="https://man7.org/linux/man-pages/man1/grep.1.html" rel="noopener ugc nofollow" target="_blank">GNU grep</a>/<a class="ae kz" href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/grep.html#tag_20_55" rel="noopener ugc nofollow" target="_blank">POSIX grep</a>，</p><h1 id="ed30" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">21.序列</h1><p id="6913" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe mu mv mw mx b">seq</code>命令是一个Bash命令。</p><h1 id="52e6" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">22.别名-p</h1><p id="3cd1" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">POSIX中的<code class="fe mu mv mw mx b">alias</code>命令没有选项，而Bash添加了一个<code class="fe mu mv mw mx b">-p</code>选项。<code class="fe mu mv mw mx b">-p</code>选项打印别名列表</p><pre class="kk kl km kn gu nl mx nm nn aw no bi"><span id="a529" class="mz lb iu mx b gz np nq l nr ns">random=$(hexdump -n 2 -e '/2 "%u"' /dev/urandom)<br/>echo "$random"</span></pre><h1 id="b1b4" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">23.阅读链接</h1><p id="1478" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">请阅读Readlink 的<a class="ae kz" href="https://medium.com/mkdir-awesome/posix-alternatives-for-readlink-21a4bfe0455c" rel="noopener"> POSIX替代方案</a></p><h1 id="db93" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">24.随意</h1><p id="2274" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Bash和其他shells有一个神奇的变量$RANDOM，它可以扩展为一个随机整数。但是在POSIX中没有定义。创建随机数的一种方法是组合输出进程id和日期值的<code class="fe mu mv mw mx b">$$</code>。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">随机数<a class="ae kz" href="https://tech.io/snippet/yA15d25" rel="noopener ugc nofollow" target="_blank">示例</a>使用日期和$$。作者代码。</p></figure><p id="b04e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">另一个例子来自<a class="ae kz" href="https://wiki.ubuntu.com/DashAsBinSh" rel="noopener ugc nofollow" target="_blank"> DashAsBinSh </a>。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">随机<a class="ae kz" href="https://tech.io/snippet/NrdV5KL" rel="noopener ugc nofollow" target="_blank">举例</a>。作者代码。</p></figure><h1 id="81e3" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">POSIX中其他未定义的命令</h1><p id="6c03" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">还有更多命令没有在POSIX中定义。</p><p id="05cb" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><code class="fe mu mv mw mx b">mapfile</code>、<code class="fe mu mv mw mx b">mktemp</code>、<code class="fe mu mv mw mx b">which</code>、<code class="fe mu mv mw mx b">tac</code>、<code class="fe mu mv mw mx b">test -a</code></p><h1 id="4485" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">结论</h1><p id="dde0" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">你应该只用POSIX编码吗？命令严重依赖于它们的环境。如果您遵循POSIX指南，并不能保证不会出现问题。所以不要单纯依赖POSIX。</p><p id="22a1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在不同的环境中测试代码会消除隐藏的问题。使用GNU Coreutils是另一种解决方案。Linux安装了GNU Coreutils，macOS可以用自制软件安装。</p><p id="65c7" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果您必须使用与POSIX不兼容的依赖项，将代码与依赖项对齐可能是一个解决方案。</p><p id="975c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">灵活一点！</p><p id="43d1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">您可以从《Arnold Robbins和Nelson H. F. Beebe的经典Shell脚本》一书中了解更多关于POSIX的知识。该书于2005年出版，涵盖了基于POSIX的shell和实用程序。</p></div><div class="ab cl oq or hy os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="in io ip iq ir"><p id="95e2" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">通过</strong> <a class="ae kz" href="https://blog.codewithshin.com/membership" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iv">成为</strong> </a> <strong class="lu iv">的会员，可以完全访问媒体上的每一个故事。</strong></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ox"><img src="../Images/0be3ee559fee844cb75615290e4a8b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*DjTM9iFtVc2wlcWcOms7VQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://blog.codewithshin.com/subscribe" rel="noopener ugc nofollow" target="_blank">https://blog.codewithshin.com/subscribe</a></p></figure></div><div class="ab cl oq or hy os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="in io ip iq ir"><h1 id="e92f" class="la lb iu bd lc ld oy lf lg lh oz lj lk ka pa kb lm kd pb ke lo kg pc kh lq lr bi translated">参考</h1><ul class=""><li id="b114" class="pd pe iu lu b lv lw ly lz mb pf mf pg mj ph mn pi pj pk pl bi translated"><a class="ae kz" href="https://dev.to/bowmanjd/writing-bash-scripts-that-are-not-only-bash-checking-for-bashisms-and-testing-with-dash-1bli" rel="noopener ugc nofollow" target="_blank">开发到</a></li><li id="a9a7" class="pd pe iu lu b lv pm ly pn mb po mf pp mj pq mn pi pj pk pl bi translated"><a class="ae kz" href="https://pubs.opengroup.org/onlinepubs/9699919799/idx/shell.html" rel="noopener ugc nofollow" target="_blank">外壳命令语言</a></li><li id="82e4" class="pd pe iu lu b lv pm ly pn mb po mf pp mj pq mn pi pj pk pl bi translated"><a class="ae kz" href="https://github.com/koalaman/shellcheck/wiki/SC2039" rel="noopener ugc nofollow" target="_blank">外壳检查SC2039 </a></li><li id="8ae3" class="pd pe iu lu b lv pm ly pn mb po mf pp mj pq mn pi pj pk pl bi translated"><a class="ae kz" href="https://mywiki.wooledge.org/Bashism" rel="noopener ugc nofollow" target="_blank"> Bashism </a></li><li id="4386" class="pd pe iu lu b lv pm ly pn mb po mf pp mj pq mn pi pj pk pl bi translated"><a class="ae kz" href="https://qiita.com/ko1nksm/items/4a64aebd7f45e98f5def#comment-d8bf7cf5568b9409cb31" rel="noopener ugc nofollow" target="_blank">博客</a></li><li id="f2a8" class="pd pe iu lu b lv pm ly pn mb po mf pp mj pq mn pi pj pk pl bi translated"><a class="ae kz" href="https://wiki.ubuntu.com/DashAsBinSh" rel="noopener ugc nofollow" target="_blank"> DashAsBinSh Wiki </a></li><li id="77f7" class="pd pe iu lu b lv pm ly pn mb po mf pp mj pq mn pi pj pk pl bi translated"><a class="ae kz" href="https://mywiki.wooledge.org/Bashism" rel="noopener ugc nofollow" target="_blank">如何让bash脚本在dash中工作</a></li></ul></div></div>    
</body>
</html>