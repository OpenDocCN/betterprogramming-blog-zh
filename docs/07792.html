<html>
<head>
<title>Building a Google Clone — Part 2: The Search Component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建谷歌克隆——第2部分:搜索组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/building-a-google-clone-part-2-the-search-component-945e705d3b87?source=collection_archive---------3-----------------------#2021-02-19">https://betterprogramming.pub/building-a-google-clone-part-2-the-search-component-945e705d3b87?source=collection_archive---------3-----------------------#2021-02-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5b43" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用React添加搜索图标、功能和可重用组件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8fe914961f31efb375762c43ee65f1ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pMZoVuOqhXJ-Q_Rv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·温克勒在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="77e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你是想让你的开发者技能更上一层楼，还是想给你未来的雇主留下深刻印象？然后构建这个<a class="ae ky" href="https://clone-5ebs.web.app/" rel="noopener ugc nofollow" target="_blank">谷歌克隆</a>！</p><p id="62be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你卡住了，不要担心！我将在每一节的结尾为您提供完整的代码。此外，在本教程的最后一期中，我将让您访问我的GitHub上的完整源代码。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ae35" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">第二部分</h1><p id="a35e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在本系列的第1部分中，我们设置了React项目，安装并设置了React路由器，创建了主页标题，并添加和设计了Google徽标。</p><p id="7a34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这一部分，我们将创建<code class="fe mz na nb nc b">&lt;Search/&gt;</code> <strong class="lb iu"> </strong>组件，并完成谷歌主页。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/ba75dcbe681fc687e6a56746fb25aa12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1keJBp5qQSSoHFCor6J8QA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有搜索组件的最终谷歌主页。</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="71e3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.构建搜索组件</h1><p id="034a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">将搜索栏创建为组件的原因是为了以后在<strong class="lb iu"> </strong> <code class="fe mz na nb nc b">SearchPage</code>组件中重用它。</p><ul class=""><li id="6f47" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">在<strong class="lb iu"> </strong> <code class="fe mz na nb nc b">components</code>文件夹中，创建一个名为<code class="fe mz na nb nc b">Search.js</code>的文件。</li><li id="5911" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">一旦你在文件中，输入<code class="fe mz na nb nc b">rfce</code>来使用ES7片段<em class="ns">中的<strong class="lb iu"> </strong>片段。</em></li><li id="6394" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">还是在<code class="fe mz na nb nc b">pages</code> <strong class="lb iu"> </strong>文件夹中，做一个<code class="fe mz na nb nc b">Search.css</code>文件，导入到你的<code class="fe mz na nb nc b">Search</code>组件中。</li><li id="f8c2" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">在<code class="fe mz na nb nc b">Search.js</code>文件中，用<code class="fe mz na nb nc b">search</code>的<code class="fe mz na nb nc b">className</code>创建一个<code class="fe mz na nb nc b">form</code>。该容器将有一个带有<code class="fe mz na nb nc b">search__input</code>的<code class="fe mz na nb nc b">className</code>的<code class="fe mz na nb nc b">&lt;div&gt;</code>子容器。<code class="fe mz na nb nc b">search__input</code>将进一步包含一个<code class="fe mz na nb nc b">&lt;SearchIcon&gt;</code>、一个<code class="fe mz na nb nc b">input</code>和一个<code class="fe mz na nb nc b">&lt;MicIcon&gt;</code>。</li><li id="ab69" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">从<a class="ae ky" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>中导入两个图标:</li></ul><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="b3ae" class="nx md it nc b gy ny nz l oa ob">import SearchIcon from "@material-ui/icons/Search";<br/>import MicIcon from "@material-ui/icons/Mic";</span></pre><p id="08cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们要创建两个按钮:<code class="fe mz na nb nc b">Google Search</code>和<code class="fe mz na nb nc b">I’m Feeling Lucky</code> <em class="ns">。</em></p><ul class=""><li id="218f" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">用<code class="fe mz na nb nc b">search__buttons</code>的<code class="fe mz na nb nc b">className</code>创建一个<code class="fe mz na nb nc b">&lt;div&gt;</code>容器。</li><li id="cff1" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">导入并插入两个带有<em class="ns"> </em> <code class="fe mz na nb nc b">outlined</code>变体的<code class="fe mz na nb nc b">&lt;Button&gt;</code>组件。这是来自<a class="ae ky" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>的一个属性，它将设计按钮的样式。</li><li id="a860" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">将<code class="fe mz na nb nc b">Google Search</code>按钮类型定义为<code class="fe mz na nb nc b">submit</code>。这样，谷歌搜索不仅在你点击按钮时有效，在你按下回车键时也有效。</li><li id="4349" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">至此，您的<code class="fe mz na nb nc b">Search.js</code>文件应该如下所示:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><ul class=""><li id="c267" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">为了给我们的<code class="fe mz na nb nc b">Search.js</code>组件添加一些样式，打开<code class="fe mz na nb nc b">Search.css</code>并添加以下代码:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><ul class=""><li id="48f1" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">回到<code class="fe mz na nb nc b">Home.js</code>文件，导入并渲染<code class="fe mz na nb nc b">&lt;Search/&gt;</code> <strong class="lb iu"> </strong>组件。</li></ul><p id="a6ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们刚刚建立了谷歌主页的用户界面！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3b95" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.添加搜索功能</h1><p id="4a86" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">是时候给<code class="fe mz na nb nc b">&lt;Search/&gt;</code>组件一些功能了。</p><ul class=""><li id="a423" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">在<code class="fe mz na nb nc b">Search.js</code>文件中，给<code class="fe mz na nb nc b">Search with Google</code> <em class="ns"> </em>按钮添加一个<code class="fe mz na nb nc b">onClick</code> <em class="ns"> </em>事件<em class="ns"> </em>。</li><li id="fe81" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">添加一个<code class="fe mz na nb nc b">{search]</code>功能，点击按钮时会触发该功能。</li><li id="5b32" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">创建<code class="fe mz na nb nc b">search</code>功能。这个箭头函数接受一个事件(<code class="fe mz na nb nc b">e</code>)。在这种情况下，这将是我们添加到按钮的<code class="fe mz na nb nc b">onClick</code> <em class="ns"> </em>事件。</li><li id="ef77" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">添加<code class="fe mz na nb nc b">e.preventDefault()</code>方法防止页面刷新。</li><li id="aacf" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">目前，<code class="fe mz na nb nc b">search</code> <em class="ns"> </em>函数看起来是这样的:</li></ul><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="c2c4" class="nx md it nc b gy ny nz l oa ob">const search = (e) =&gt; {<br/>e.preventDefault();<br/>console.log(“search!”);<br/>}</span></pre><p id="2355" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了跟踪用户在搜索栏中输入的文本，我们必须使用<a class="ae ky" href="https://reactjs.org/docs/state-and-lifecycle.html" rel="noopener ugc nofollow" target="_blank">反应状态</a>:</p><ul class=""><li id="6e95" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">从React导入<code class="fe mz na nb nc b">useState</code>:</li></ul><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="deda" class="nx md it nc b gy ny nz l oa ob">import React, { useState } from “react”;</span></pre><ul class=""><li id="4ee9" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated"><code class="fe mz na nb nc b">input</code>的初始值是一个空字符串:</li></ul><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="4203" class="nx md it nc b gy ny nz l oa ob">const [input, setInput] = useState(‘‘)</span></pre><ul class=""><li id="86ba" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">为了映射<code class="fe mz na nb nc b">input</code>的值，将<code class="fe mz na nb nc b">&lt;input&gt;</code>元素的<code class="fe mz na nb nc b">value</code>属性设置为等于<code class="fe mz na nb nc b">{input}</code>。这样，<code class="fe mz na nb nc b">input</code>的值将是由<code class="fe mz na nb nc b">useState</code>定义的值。</li><li id="6ad2" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">为了跟踪用户输入的内容，向<code class="fe mz na nb nc b">&lt;input&gt;</code>元素<em class="ns">的<em class="ns"> </em>添加一个<code class="fe mz na nb nc b">onChange</code> <em class="ns"> </em>事件<em class="ns"> </em>。</em>当一个元素的值被改变时，会出现这种情况。</li><li id="d62f" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated"><code class="fe mz na nb nc b">onChange</code>触发一个事件(<code class="fe mz na nb nc b">e</code>，该事件触发<code class="fe mz na nb nc b">setInput</code>函数，该函数将把<code class="fe mz na nb nc b">input</code>设置为用户输入的任何值。</li><li id="5c2a" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">为了在点击搜索按钮时将用户重定向到搜索页面，我们必须使用来自<a class="ae ky" href="https://reactrouter.com/web/guides/quick-start" rel="noopener ugc nofollow" target="_blank"> React Router </a>的<code class="fe mz na nb nc b">useHistory</code>钩子。</li><li id="6634" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">定义一个名为<code class="fe mz na nb nc b">history</code>的<code class="fe mz na nb nc b">const</code>，它等于<em class="ns"> </em> <code class="fe mz na nb nc b">useHistory</code>:</li></ul><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="2cee" class="nx md it nc b gy ny nz l oa ob">const history = useHistory()</span></pre><ul class=""><li id="61da" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">在箭头功能<code class="fe mz na nb nc b">search</code>、<strong class="lb iu">、</strong>内添加这行代码:</li></ul><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="0d8f" class="nx md it nc b gy ny nz l oa ob">history.push(“/search”)</span></pre><p id="9f3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将把用户重定向到搜索页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/017808645c2f14d5554b2531bd113fc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*fWHrKYOS7Us0WhLRCQWLKw.gif"/></div></figure><ul class=""><li id="0ce1" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">至此，您的<code class="fe mz na nb nc b">Search.js</code>文件应该如下所示:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ab05" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.使搜索组件可重用</h1><p id="b3f1" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为了在搜索页面中使用<strong class="lb iu"> </strong> <code class="fe mz na nb nc b">&lt;Search/&gt;</code>组件，我们必须添加一些额外的代码，以便在组件呈现在搜索页面上时隐藏这两个按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/1ab4af801e004dfceb9eab21b08edbab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nKlN49mk-uIY72leS58M8Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">搜索页面上的搜索组件</p></figure><ul class=""><li id="8e16" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">转到<code class="fe mz na nb nc b">Search.js</code>。</li><li id="22db" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">在<code class="fe mz na nb nc b">search</code>函数中，传递一个名为<code class="fe mz na nb nc b">hideButtons</code>的道具，并将其默认值设置为<code class="fe mz na nb nc b">false</code>。</li></ul><p id="0279" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以使用一个三元运算符来显示按钮，如果我们没有传递隐藏它们的选项(<code class="fe mz na nb nc b">!hideButtons</code>)，或者隐藏按钮，如果我们传递了<code class="fe mz na nb nc b">hideButtons</code> <em class="ns"> </em>属性。</p><ul class=""><li id="0f86" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">要保留搜索功能并隐藏按钮，请将这两个按钮指定为<code class="fe mz na nb nc b">search__buttonsHidden</code>的<code class="fe mz na nb nc b">className</code>或<em class="ns">。</em></li><li id="301b" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">最后，在<code class="fe mz na nb nc b">Search.css</code>文件中，添加这几行代码:</li></ul><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="ad2d" class="nx md it nc b gy ny nz l oa ob">.search__buttonsHidden {<br/>display: none !important;<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4b8f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.上下文API + React挂钩</h1><p id="8cfc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在教程的这一部分，我们将使用<strong class="lb iu"> </strong> React钩子和上下文API为我们的应用程序实现全局状态管理。<br/>这是一个很好的替代方案。要了解更多，我推荐阅读<a class="ae ky" href="https://medium.com/simply/state-management-with-react-hooks-and-context-api-at-10-lines-of-code-baf6be8302c" rel="noopener">卢克·霍尔</a>的这篇文章。</p><p id="0ae0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">上下文API </a> <strong class="lb iu"> </strong>是<strong class="lb iu"> </strong>一种通过组件树传递数据的高效方式。有了上下文，我们可以将用户在搜索栏中键入的内容推送到任何组件都可以访问的数据层中，解决了<a class="ae ky" href="https://sebhastian.com/react-prop-drilling/" rel="noopener ugc nofollow" target="_blank"> prop drilling </a>的问题。</p><ul class=""><li id="5813" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">要使用上下文API，创建一个名为<code class="fe mz na nb nc b">StateProvider.js</code>的文件并粘贴以下代码:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="c555" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还将使用reducer，一个状态管理器。</p><ul class=""><li id="4f5c" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">创建一个名为<code class="fe mz na nb nc b">reducer.js</code>的文件，并粘贴以下代码:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><ul class=""><li id="b5c8" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">现在，进入<code class="fe mz na nb nc b">index.js</code>，导入<code class="fe mz na nb nc b">initialState</code>和<strong class="lb iu"> </strong> <code class="fe mz na nb nc b">StateProvider</code>:</li></ul><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="8d33" class="nx md it nc b gy ny nz l oa ob">import reducer, { initialState } from “./reducer”;<br/>import { StateProvider } from “./StateProvider”;</span></pre><ul class=""><li id="8df6" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">用穿过<code class="fe mz na nb nc b">initialState</code>和<code class="fe mz na nb nc b">reducer</code>的<code class="fe mz na nb nc b">&lt;StateProvider/&gt;</code>作为道具包裹<code class="fe mz na nb nc b">&lt;App/&gt;</code>组件。</li></ul><p id="c86d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的<code class="fe mz na nb nc b">index.js</code>现在应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><ul class=""><li id="1ef9" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">在设置了上下文API之后，我们终于可以从这个数据层推送和拉取数据了。</li><li id="3408" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">回到<code class="fe mz na nb nc b">Search.js</code>，从<code class="fe mz na nb nc b">StateProvider.js</code>文件导入<strong class="lb iu"> </strong> <code class="fe mz na nb nc b">useStateValue</code>，从<code class="fe mz na nb nc b">reducer.js</code>文件导入<code class="fe mz na nb nc b">actionTypes</code>。</li><li id="4d2f" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">现在我们可以利用<code class="fe mz na nb nc b">Search</code>组件中的<strong class="lb iu"> </strong> <code class="fe mz na nb nc b">useStateValue</code>和<code class="fe mz na nb nc b">dispatch</code>。为此，我们打开<code class="fe mz na nb nc b">Search.js</code>，将内容更改如下:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><ul class=""><li id="f7af" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">要检查它是否真的工作，只需在搜索栏中键入“test”并按回车键。这将调度一个动作，该动作也将被打印在控制台中。这意味着我们实际上将数据层中的术语更新为字符串<code class="fe mz na nb nc b">“test”</code>，一切正常！</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/dcb11999633582ca454e614c24c732a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JZJ8a75eFrgMu13woAVPPw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">谷歌浏览器中的JS控制台</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/0df489a943c24a2e8b52bedd17f26a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*BotAIpotlmG2qqgE6wWfUQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">眼睛盯着奖品:这将是最终结果。</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0ae6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="4e1b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这部分到此为止。让我们总结一下到目前为止我们所做的工作:</p><ol class=""><li id="a4b9" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu oj nk nl nm bi translated">构建了UI中的<code class="fe mz na nb nc b">&lt;Search/&gt;</code> <strong class="lb iu"> </strong>组件。</li><li id="7f81" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu oj nk nl nm bi translated">增加了搜索功能，完成了主页。</li><li id="1db7" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu oj nk nl nm bi translated">使<code class="fe mz na nb nc b">&lt;Search/&gt;</code> <strong class="lb iu"> </strong>组件可重复使用。</li><li id="23a8" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu oj nk nl nm bi translated">用<a class="ae ky" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank"> React钩子</a>和<a class="ae ky" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">上下文API </a>实现了全局状态管理。</li></ol><p id="3f9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一篇文章中，我们将建立一个定制的Google API，并开始构建搜索结果页面。敬请期待！</p></div></div>    
</body>
</html>