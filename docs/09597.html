<html>
<head>
<title>10 Important Tips for Using Nested Lists in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Python中使用嵌套列表的10个重要技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/10-important-tips-for-using-nested-lists-in-python-38ceca68be35?source=collection_archive---------0-----------------------#2021-09-15">https://betterprogramming.pub/10-important-tips-for-using-nested-lists-in-python-38ceca68be35?source=collection_archive---------0-----------------------#2021-09-15</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="445b" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">反转、展平、转换成字典等等</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/d139666e9f4c381b5d357394be7d576e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r6wf9K0WZeFYQOZnYuQasw.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://www.pexels.com/@magda-ehlers-pexels?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">玛格达·埃勒斯</a>从<a class="ae kz" href="https://www.pexels.com/photo/animal-figurines-on-a-staircase-made-of-toy-blocks-1329321/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">佩克斯</a>拍摄</p></figure><p id="6079" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Python列表是最重要的数据结构之一。Python列表本身也可以包含子列表。这就是所谓的嵌套列表。</p><p id="0599" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在使用python嵌套列表时，我遇到了一些场景。我在这篇文章中分享了这些。比如如何访问元素、替换元素、计算嵌套列表中元素的出现次数等等。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="9f9e" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">1.如何检查嵌套列表中是否存在某个元素？</h1><h2 id="39db" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated">使用any()函数</h2><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="216f" class="mv me iu ni b gz nm nn l no np">any(elem in sub_list for sub_list in nested_list)</span></pre><ul class=""><li id="91c2" class="nq nr iu lc b ld le lg lh lj ns ln nt lr nu lv nv nw nx ny bi translated">如果嵌套列表中的元素返回True，否则返回False。</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="fff0" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">2.如何反转嵌套列表？</h1><h2 id="147d" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated">使用索引</h2><p id="0d30" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">如果我们想反转嵌套列表中的元素(<code class="fe ol om on ni b">sub_list</code>)，可以使用索引方法。</p><p id="a598" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe ol om on ni b">my_list[::-1]</code> —它将反转嵌套列表中的元素。它将创建嵌套列表的副本。它不会修改原始列表。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h2 id="6cbb" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated">使用<code class="fe ol om on ni b">reverse()</code></h2><p id="8c35" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated"><code class="fe ol om on ni b">my_list.reverse()</code> — <code class="fe ol om on ni b">reverse()</code>函数还会反转嵌套列表中的元素，并修改原始列表本身。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h2 id="cdf6" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated">如何反转子列表中的元素？</h2><p id="5a93" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">假设，如果我们想要反转<code class="fe ol om on ni b">sub_list</code>中的元素，那么我们必须遍历<code class="fe ol om on ni b">nested_list</code>中的<code class="fe ol om on ni b">sub_list</code>，并对那个<code class="fe ol om on ni b">sub_list</code>应用反转函数。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="ab4a" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">3.如何展平嵌套列表？</h1><p id="907b" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">通过使用列表理解，我们可以展平嵌套列表。这是做这件事的一种方法。</p><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="0537" class="mv me iu ni b gz nm nn l no np">[element for element in sub_list for sub_list in nested_list]</span></pre><ul class=""><li id="2587" class="nq nr iu lc b ld le lg lh lj ns ln nt lr nu lv nv nw nx ny bi translated">首先，遍历嵌套列表，然后遍历<code class="fe ol om on ni b">sub_list</code>并获取每个元素。</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="0e24" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">4.在Python嵌套列表中查找一个项目的所有匹配项的索引？</h1><h2 id="08df" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated">使用<code class="fe ol om on ni b">index()</code>方法</h2><p id="6128" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">首先，遍历嵌套列表中的子列表，然后检查该特定元素是否存在于那个<code class="fe ol om on ni b">sub_list</code>中。如果存在，找到<code class="fe ol om on ni b">sub_list</code>的索引和<code class="fe ol om on ni b">sub_list</code>中元素的索引。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h2 id="6f14" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated">使用列表理解</h2><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="3ad0" class="mv me iu ni b gz nm nn l no np">[(index1,index2) for (index1,sub_list) in enumerate(nested_list) <br/>for (index2,element) in enumerate(sub_list) if element==’X’]</span></pre><ul class=""><li id="e94a" class="nq nr iu lc b ld le lg lh lj ns ln nt lr nu lv nv nw nx ny bi translated">它将返回包含特定元素索引的元组列表。</li></ul><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="78fb" class="mv me iu ni b gz nm nn l no np">for (index1,sub_list) in enumerate(nested_list)</span></pre><p id="bbfc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe ol om on ni b">enumerate</code> <em class="oo"> </em>函数将迭代iterable并返回迭代iterable得到的索引和值。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="9fb2" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">5.如何计算嵌套列表中一个元素的出现次数？</h1><p id="3f70" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">在列表中，我们可以使用<code class="fe ol om on ni b">count()</code>方法找到一个元素的出现次数。</p><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="a5b5" class="mv me iu ni b gz nm nn l no np">l1.count()</span></pre><p id="7184" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在<code class="fe ol om on ni b">nested_list</code>中，我们遍历<code class="fe ol om on ni b">sub_list</code>，然后找到每个<code class="fe ol om on ni b">sub_list</code>中特定元素的计数，然后使用<code class="fe ol om on ni b">sum()</code>函数将计数相加。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="9c77" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">6.如何从嵌套列表中移除元素？</h1><h2 id="6bad" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated"><strong class="ak">使用remove()方法</strong></h2><p id="be37" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">首先，遍历<code class="fe ol om on ni b">nested _list</code>，然后遍历<code class="fe ol om on ni b">sub_list</code>中的元素，检查该特定元素是否存在。如果是，使用<code class="fe ol om on ni b">remove()</code>方法移除该元素。</p><p id="db35" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">它将从嵌套列表中移除该特定元素的所有出现。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h2 id="4ce4" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated"><strong class="ak">利用列表理解</strong></h2><p id="161c" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">遍历嵌套列表，然后遍历<code class="fe ol om on ni b">sub_list</code>，只保留与要删除的元素不匹配的元素。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="c563" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">7.如何在嵌套列表中的特定索引处插入元素？</h1><p id="b281" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">如果我们想在特定的索引处插入一个元素，我们可以通过使用<code class="fe ol om on ni b">insert()</code>方法来实现。</p><p id="58fc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">遍历<code class="fe ol om on ni b">nested_list</code>中的<code class="fe ol om on ni b">sub_list</code>，如果<code class="fe ol om on ni b">sub_list</code>的索引匹配，则使用以下命令插入元素:</p><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="a521" class="mv me iu ni b gz nm nn l no np">sub_list.insert(index,element_to_inserted)</span></pre><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="c407" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">8.如何替换嵌套列表中所有出现的元素？</h1><p id="762a" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">获取需要替换的元素的索引，然后通过提及索引来分配新元素:</p><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="2446" class="mv me iu ni b gz nm nn l no np">my_list[index1][index2]=’X’</span></pre><p id="00ee" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以使用<code class="fe ol om on ni b">enumerate()</code>函数从<code class="fe ol om on ni b">sub_list</code>中获取<code class="fe ol om on ni b">sub_list</code>的索引和特定元素的索引。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="0f23" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">9.如何将嵌套列表转换成字典？</h1><h2 id="be3e" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated"><strong class="ak">例1 </strong></h2><p id="cb18" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">在给定的嵌套列表示例中，每个sub_list中的第一个元素是一个键，第二个元素是相应的值。</p><p id="1f69" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">首先，我们可以遍历嵌套列表，然后将第一个元素指定为键，将第二个元素指定为值。</p><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="c666" class="mv me iu ni b gz nm nn l no np">d[key]=value <br/>d[sub_list[0]]=sub_list[1]</span></pre><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h2 id="fe6a" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated"><strong class="ak">例二</strong></h2><p id="5fd1" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">在给定的嵌套列表示例中，每个<code class="fe ol om on ni b">sub_list</code>中的第一个元素是一个键，其余元素是相应的值。</p><pre class="kk kl km kn gu nh ni nj nk aw nl bi"><span id="e14c" class="mv me iu ni b gz nm nn l no np">d[sub_list[0]]=sub_list[1:]</span></pre><p id="8bf5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe ol om on ni b">sub_list[1:]</code> —它将从第一个索引中取出所有元素。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><h1 id="0260" class="md me iu bd mf mg ob mi mj mk oc mm mn ka od kb mp kd oe ke mr kg of kh mt mu bi translated">10.如何将嵌套列表转换成熊猫数据框架？</h1><h2 id="d06c" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated"><strong class="ak">例1 </strong></h2><p id="57b7" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">在下面的例子中，第一个<code class="fe ol om on ni b">sub_list</code>包含<code class="fe ol om on ni b">column_names</code>，剩余的<code class="fe ol om on ni b">sub_list</code>包含相应的值。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><p id="56e8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">输出:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj op"><img src="../Images/e6463a1e6df287c7bf331aa469b192e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*-kuBRqzCGc_rYBCBsQqz2g.png"/></div></div></figure><h2 id="46b1" class="mv me iu bd mf mw mx dn mj my mz dp mn lj na nb mp ln nc nd mr lr ne nf mt ng bi translated"><strong class="ak">例二</strong></h2><p id="1159" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">在下面的例子中，所有的<code class="fe ol om on ni b">sub_list</code>都包含这些值。<code class="fe ol om on ni b">sub_list</code>中没有列名。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><p id="d6fa" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">输出:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oq"><img src="../Images/aea165978c8f173177b29d9c15a34338.png" data-original-src="https://miro.medium.com/v2/resize:fit:310/format:webp/1*sDLZBMX0SB3B34vBgjJCrw.png"/></div></figure></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="366d" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">结论</h1><p id="4377" class="pw-post-body-paragraph la lb iu lc b ld og jv lf lg oh jy li lj oi ll lm ln oj lp lq lr ok lt lu lv in bi translated">在本文中，我介绍了一些关于如何在Python中使用嵌套列表的重要技巧。与常规Python列表相比，嵌套列表上的操作执行起来略有不同。</p><p id="6c01" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我希望你们都喜欢。感谢阅读。</p></div></div>    
</body>
</html>