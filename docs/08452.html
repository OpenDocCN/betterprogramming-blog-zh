<html>
<head>
<title>The Hidden Secrets of TabView in iOS With SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中隐藏的TabView秘密</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-hidden-secrets-of-tabview-in-ios-with-swiftui-5663b972386d?source=collection_archive---------2-----------------------#2021-05-03">https://betterprogramming.pub/the-hidden-secrets-of-tabview-in-ios-with-swiftui-5663b972386d?source=collection_archive---------2-----------------------#2021-05-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9fd5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">探索各种样式，并以编程方式选择所需的选项卡</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1e2bec50c9cded77d64de892a1d13368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f8Tbg2XNbYuVh3rPQwa_4g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@sigmund" rel="noopener ugc nofollow" target="_blank"> Sigmund </a>在<a class="ae ky" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="7bb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标签栏是iOS的一个至关重要的组件，从iOS 2.0就开始了。这个元素出现在iOS和iPadOS设备的底部，允许我们的应用程序用户在不同的视图或功能之间快速切换。</p><p id="acfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它是苹果应用的主要元素，就像音乐、播客和应用商店一样。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/f8b1701aa20aac4000bf7934948021e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*f_xgqppPnczEOtwd.png"/></div></figure><p id="2076" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在SwiftUI中，我们有一个名为<code class="fe lw lx ly lz b">TabView</code>的新元素，而不是UIKit中的<code class="fe lw lx ly lz b">UITabBar</code>。在本文中，我们将研究如何使用它——尤其是如何使用<code class="fe lw lx ly lz b">TabView</code>来显示页面指示器。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="0f51" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">SwiftUI中初始化TabView的方法</h1><p id="c9de" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">现在，我们有两个选项来使用SwiftUI创建选项卡视图。我们可以控制选定的选项卡，也可以完全避免它。让我们探索这两种方法。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="6a1a" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">用SwiftUI创建TabView</h1><p id="97a7" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">为了创建一个<code class="fe lw lx ly lz b">TabView</code>元素，我们需要传递一个<code class="fe lw lx ly lz b">Content</code>，它是SwiftUI视图的列表。为了将这个视图标记为标签栏项目，我们需要使用在描述标题和图像的<code class="fe lw lx ly lz b">Label</code>中传递的<code class="fe lw lx ly lz b">tabItem</code>视图修饰符。</p><p id="d591" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们将所有这些放在代码中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="d580" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以解开上面的代码了。每个选项卡只是一个<code class="fe lw lx ly lz b">Text</code>视图，选项卡项目是一个带有标题和系统图像的<code class="fe lw lx ly lz b">Label</code>，系统图像是一个SF符号。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/1516759b836ff8a4d4cf7a134f08c0c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/0*eCtd_llQlu1pbMdz.gif"/></div></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="118d" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">以编程方式控制选定的选项卡</h1><p id="8eb9" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">假设我们希望以编程方式控制选定的选项卡。在这种情况下，我们需要使用第二种方法来初始化方法。除了内容之外，我们需要传递一个状态变量来保存当前选中的选项卡。另一个关键步骤是用符合<code class="fe lw lx ly lz b">Hashable</code>协议的值的<code class="fe lw lx ly lz b">tag</code>修饰符标记每个选项卡。这就是SwiftUI布局引擎在选项卡之间的不同之处，并且可以理解独特性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="dc29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们一步一步地检查上面的代码。</p><p id="d3e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们使用内部带有<code class="fe lw lx ly lz b">Button</code>的<code class="fe lw lx ly lz b">VStack</code>视图来选择下一个或者最后一个或者第一个选项卡。</p><p id="20ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们对每个选项卡项目使用<code class="fe lw lx ly lz b">tag</code>修饰符。我们使用<code class="fe lw lx ly lz b">Int</code>值类型来跟踪当前选择的选项卡。我们不局限于符合<code class="fe lw lx ly lz b">Hashable</code>协议的<code class="fe lw lx ly lz b">Int</code>值类型，但是如果我们愿意，我们可以使用我们的类型。为了简单起见，我们这次使用<code class="fe lw lx ly lz b">Int</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/a21cdac0a02837ff4fd4c4b4c251570a.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/0*QUJ34lCEjSEt8BJw.gif"/></div></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="3db5" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">自定义选项卡视图</h1><p id="1d55" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">可悲的是，在SwiftUI中定制<code class="fe lw lx ly lz b">TabView</code>的选项并不多。我们可以改变标签的图片和标题，但是这很简单。</p><p id="4004" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以更改默认的强调颜色。我们换成紫色吧:</p><pre class="kj kk kl km gt nh lz ni nj aw nk bi"><span id="94b8" class="nl mi it lz b gy nm nn l no np">TabView {<br/> // ...<br/>}<br/>.accentColor(.purple)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/50479834a1c1fd9b2d1666bdc48ee3c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/0*Zm0xaDXSxMdHse5K.png"/></div></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="2a11" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">SwiftUI中的选项卡视图样式</h1><p id="5033" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在SwiftUI中，我们不局限于常规的选项卡栏样式。现在，我们有三种方法来改变<code class="fe lw lx ly lz b">TabView</code>风格:</p><ul class=""><li id="1f88" class="nr ns it lb b lc ld lf lg li nt lm nu lq nv lu nw nx ny nz bi translated"><code class="fe lw lx ly lz b">DefaultTabViewStyle</code> —我们都知道的常规风格。</li><li id="d6cf" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated"><code class="fe lw lx ly lz b">PageTabViewStyle</code> —使用页面指示器滚动页面。</li><li id="c50d" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated"><code class="fe lw lx ly lz b">CarouselTabViewStyle</code>—watch OS的特定风格，我们不打算在本文中讨论。</li></ul></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="c31c" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">创建滚动页面</h1><p id="858e" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">为了用SwiftUI中的<code class="fe lw lx ly lz b">TabView</code>创建滚动页面，我们需要调用<code class="fe lw lx ly lz b">tabViewStyle</code>视图修饰符并传递一个<code class="fe lw lx ly lz b">PageTabViewStyle</code>样式的实例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="0fcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想要隐藏页面指示器，我们为<code class="fe lw lx ly lz b">PageTabViewStyle</code>实例指定<code class="fe lw lx ly lz b">indexDisplayMode</code>参数，并将其设置为<code class="fe lw lx ly lz b">.never</code>:</p><pre class="kj kk kl km gt nh lz ni nj aw nk bi"><span id="7f7d" class="nl mi it lz b gy nm nn l no np">TabView {<br/>  // ...<br/>}<br/>.tabViewStyle(PageTabViewStyle(indexDisplayMode: .never))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/a29fe73796a405fedf0dfeae1de7d97b.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/0*zUbYm86gU3k3cAfB.gif"/></div></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="f4f6" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="05f0" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">屏幕底部的标签栏是现代iOS应用程序最重要的组成部分之一。苹果经常在他们的应用程序中使用它。</p><p id="cdb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了SwiftUI，这个元素现在有了新的名字<code class="fe lw lx ly lz b">TabView</code>。它允许我们添加选项卡视图，并以编程方式控制当前选定的选项卡。</p><p id="b382" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lw lx ly lz b">TabView</code>的隐藏特性是我们可以用它来显示带有页面指示器的多个标签，并且这些标签可以通过在它们之间滚动来控制。在UIKit中，我们用<code class="fe lw lx ly lz b">UIPageViewController</code>做到了这一点。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="0c50" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">链接</h1><ul class=""><li id="64b8" class="nr ns it lb b lc mz lf na li of lm og lq oh lu nw nx ny nz bi translated"><a class="ae ky" href="https://github.com/fassko/SwiftUITabView" rel="noopener ugc nofollow" target="_blank">样本代码</a></li><li id="b860" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated"><a class="ae ky" href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/tab-bars/" rel="noopener ugc nofollow" target="_blank">人机界面指南——标签栏</a></li><li id="d3b6" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated"><a class="ae ky" href="https://developer.apple.com/documentation/swiftui/tabview" rel="noopener ugc nofollow" target="_blank"> SwiftUI文档— TabView </a></li><li id="dcc4" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated"><a class="ae ky" href="https://www.iosapptemplates.com/blog/swiftui/tabview-swiftui" rel="noopener ugc nofollow" target="_blank">如何用TabView在SwiftUI中创建标签栏</a></li><li id="4e8c" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated"><a class="ae ky" href="https://www.hackingwithswift.com/quick-start/swiftui/adding-tabview-and-tabitem" rel="noopener ugc nofollow" target="_blank">添加TabView和tabItem() </a></li><li id="b9d5" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated"><a class="ae ky" href="https://www.hackingwithswift.com/quick-start/swiftui/how-to-embed-views-in-a-tab-bar-using-tabview" rel="noopener ugc nofollow" target="_blank">如何使用TabView在标签栏中嵌入视图</a></li><li id="9830" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated"><a class="ae ky" href="https://www.appcoda.com/swiftui-tabview/" rel="noopener ugc nofollow" target="_blank">引入SwiftUI选项卡视图并使用选项卡栏定制</a></li></ul></div></div>    
</body>
</html>