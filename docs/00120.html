<html>
<head>
<title>Angular Resolver</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度分解器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understanding-angular-resolver-what-was-the-problem-before-using-resolver-and-why-we-need-it-7502554ab7a3?source=collection_archive---------0-----------------------#2018-04-09">https://betterprogramming.pub/understanding-angular-resolver-what-was-the-problem-before-using-resolver-and-why-we-need-it-7502554ab7a3?source=collection_archive---------0-----------------------#2018-04-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0f8c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">什么是角旋变器，它有什么好处？</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ce368acf43fbb625e19c40d2006a2fb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4i-TBh_dr2P5fbFJCo1VoA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://unsplash.com/@bugsster?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Taras Shypka </a>在<a class="ae ky" href="https://unsplash.com/search/photos/user-experience?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="5063" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">角度解析器是一种平滑的方法，通过在导航到特定组件之前加载数据来增强用户体验。</p><p id="2a56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过实现Resolver，我们将在下一个组件<code class="fe lv lw lx ly b">activatedRoute</code>被激活之前从服务器获取远程数据，因此不需要loading spinner(查看或隐藏),因为在从远程服务器获取数据之前，我们不会导航到下一个组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/d0de49c4ffd284eb06ad5ee18e185cc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*fOATKniE9vFPU0-4cKixCw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">指示从服务器加载数据的微调器</p></figure><p id="33e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，我们通过以下方式加载远程数据:</p><ol class=""><li id="1d25" class="ma mb it lb b lc ld lf lg li mc lm md lq me lu mf mg mh mi bi translated">制作一个服务文件来发出一个远程HTTP请求。</li><li id="cd7b" class="ma mb it lb b lc mj lf mk li ml lm mm lq mn lu mf mg mh mi bi translated">在组件构造函数中创建该服务的DI。</li><li id="0cb1" class="ma mb it lb b lc mj lf mk li ml lm mm lq mn lu mf mg mh mi bi translated">订阅服务并在服务回调中隐藏微调器。</li></ol><p id="4a28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了角度解析器，我们的应用程序有了更平滑和增强的UX。</p><p id="fa57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们面临的一个常见问题是，当您导航到一个包含不同子组件的组件时，每个子组件都有一个单独的微调器，指示数据正在从服务器加载。</p><p id="9e64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，将为每个子组件分别显示多个微调器。多重纺纱对UX不利。</p><p id="9f17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，使用Resolver，根本不需要微调器，因为它不会导航到组件，直到数据被加载。Resolver的目标是在收集到所有需要的数据之前不会加载组件。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="4e8b" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">解析器路由的步骤</h1><ol class=""><li id="d6ff" class="ma mb it lb b lc nn lf no li np lm nq lq nr lu mf mg mh mi bi translated">单击链接将导航到要解析的组件。</li><li id="d6e0" class="ma mb it lb b lc mj lf mk li ml lm mm lq mn lu mf mg mh mi bi translated">Angular执行某些代码并返回一个可观察的值或一个承诺。</li><li id="6053" class="ma mb it lb b lc mj lf mk li ml lm mm lq mn lu mf mg mh mi bi translated">您可以将返回值或可观察值<strong class="lb iu"> <em class="ns"> </em> </strong>收集到一个构造函数中，或者将要加载的组件的<code class="fe lv lw lx ly b">ngOnInit</code>生命周期钩子中。</li><li id="e875" class="ma mb it lb b lc mj lf mk li ml lm mm lq mn lu mf mg mh mi bi translated">根据需要使用导航组件中的数据。</li></ol></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="e6ed" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">如何创建解析程序</h1><ol class=""><li id="aea1" class="ma mb it lb b lc nn lf no li np lm nq lq nr lu mf mg mh mi bi translated">创建一个新的服务解析文件并实现resolve方法来获取远程数据，如下所示:</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/b8d61bfad932359f1ae916dd7a696c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fKMD5wrw_HO1Y39zO580CA.png"/></div></div></figure><p id="ec31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.按如下方式定义路线中的解析程序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/3524189222df54bf642aed2e48cd7fc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6mhtR8DDwWbCWtPeMiHIQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在路线中定义解析</p></figure><p id="3559" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">Supplier</code>是保存从服务返回的数据的键。</p><p id="229f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.在解析数据后将加载的组件中使用解析程序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/bab4440c14d2561c26166d80172176b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_zUQ5uiZjzuK2-nV3Sd5Fg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在组件中使用解析程序数据</p></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="ccd1" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">参考</h1><p id="5827" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li nw lk ll lm nx lo lp lq ny ls lt lu im bi translated"><a class="ae ky" href="https://angular.io/api/router/Resolve" rel="noopener ugc nofollow" target="_blank">角度解析器API </a></p></div></div>    
</body>
</html>