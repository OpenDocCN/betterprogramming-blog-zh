<html>
<head>
<title>Jarvis 1.1.0 — What’s New &amp; How to Use It</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jarvis 1.1.0 —新增功能和使用方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/jarvis-1-1-0-whats-new-how-to-use-it-f53a23377f48?source=collection_archive---------8-----------------------#2019-06-25">https://betterprogramming.pub/jarvis-1-1-0-whats-new-how-to-use-it-f53a23377f48?source=collection_archive---------8-----------------------#2019-06-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1835" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">浏览最新版本中包含的修复和更新</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ce11e7b99c0a778c1a01b634e245b008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HahghLYwQKe7IatG-K1ZSQ.png"/></div></div></figure><p id="5c85" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Jarvis 1.1.0今天发布了一些很酷的新特性和大量更新。在这篇文章中，我将快速浏览所有的变化，并向您展示如何使用新功能。</p><p id="762f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你还不知道Jarvis是什么，那么你就错过了。Jarvis是一个CLI，可以帮助完成日常任务，如管理配置、部署应用程序和初始化项目。如果你想了解更多关于贾维斯的事情，以及我为什么建造他，那么你应该阅读<a class="ae ln" href="https://medium.com/swlh/building-a-cli-to-help-manage-github-accounts-react-projects-and-more-2755259be493" rel="noopener">这个故事</a>，如果你想知道如何设置和使用他，那么<a class="ae ln" href="https://medium.com/better-programming/how-to-set-up-use-jarvis-the-cli-that-makes-your-life-easier-54fa6d7e83b" rel="noopener">这个故事</a>将指导你。</p><p id="2af4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要将Jarvis更新到新版本，运行:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="9696" class="lt lu iq lp b gy lv lw l lx ly">npm install -g @willptswan/jarvis</span></pre><h2 id="8983" class="lt lu iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">修理</h2><p id="ab0e" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">首先，我们来看看已经修复了什么。运行<code class="fe mv mw mx lp b">react-init</code>和<code class="fe mv mw mx lp b">react-create</code>时产生的组件测试已经修复。现在，测试会像预期的那样通过和失败，而不是总是通过。同样在<code class="fe mv mw mx lp b">react-init</code>命令中，<code class="fe mv mw mx lp b">Environment.js</code>已经更新了社交媒体URL的getters，所以它们现在将返回正确的URL而不是<code class="fe mv mw mx lp b">undefined</code>。最后，在运行<code class="fe mv mw mx lp b">react-init</code>时，自定义滚动条的样式已经被移除，因为CSS没有得到广泛支持。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="6323" class="nf lu iq bd lz ng nh ni mc nj nk nl mf jw nm jx mi jz nn ka ml kc no kd mo np bi translated">有什么新鲜事吗？</h1><p id="65f0" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">Jarvis 1.10除了一些新特性之外，还增加了很多新特性。</p><h2 id="b38f" class="lt lu iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">更新</h2><p id="07f4" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">让我们从更新开始，Jarvis现在将每天自动检查更新。如果有可用的更新，Jarvis将在命令运行完毕后显示一条消息让您知道。</p><h2 id="43f3" class="lt lu iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">SCSS</h2><p id="68c4" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">你不用再少用了，现在<code class="fe mv mw mx lp b">react-init</code>和<code class="fe mv mw mx lp b">react-create</code>都支持SCSS。默认情况下，仍然使用“更少”,但是您可以在设置中对此进行更改。</p><h2 id="6934" class="lt lu iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">设置</h2><p id="d705" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">贾维斯现在有了设置。目前，只有三种设置:</p><ul class=""><li id="81cc" class="nq nr iq kt b ku kv kx ky la ns le nt li nu lm nv nw nx ny bi translated"><code class="fe mv mw mx lp b">checkActiveConfig</code> —这告诉Jarvis您是否希望它在运行命令之前总是检查活动配置。</li><li id="f50c" class="nq nr iq kt b ku nz kx oa la ob le oc li od lm nv nw nx ny bi translated">这告诉贾维斯你是否希望使用SCSS或者更少。</li><li id="570c" class="nq nr iq kt b ku nz kx oa la ob le oc li od lm nv nw nx ny bi translated"><code class="fe mv mw mx lp b">autoCheckUpdates</code> —这告诉Jarvis您是否希望他自动检查更新。</li></ul><p id="4b8a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着贾维斯的成长，更多的设置将会被添加进来，允许你对他进行更多的定制。</p><p id="b61f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着设置的引入，Jarvis有了三个新命令。</p><ul class=""><li id="7a68" class="nq nr iq kt b ku kv kx ky la ns le nt li nu lm nv nw nx ny bi translated"><code class="fe mv mw mx lp b">settings-update</code> —这允许您更新设置。</li><li id="27fd" class="nq nr iq kt b ku nz kx oa la ob le oc li od lm nv nw nx ny bi translated"><code class="fe mv mw mx lp b">settings-reset</code> —允许您将所有设置重置为默认值。</li><li id="6c39" class="nq nr iq kt b ku nz kx oa la ob le oc li od lm nv nw nx ny bi translated"><code class="fe mv mw mx lp b">settings-view</code> —允许您查看当前设置。</li></ul><p id="bb59" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您不必担心添加新设置时会遗漏它们。每次运行命令时，Jarvis都会检查新的设置。如果有新的设置，那么他会问你要怎么设置。</p><h2 id="dc52" class="lt lu iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">新网站</h2><p id="ff8f" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">在1.1.0版中有两个新的站点速记员:</p><ul class=""><li id="521d" class="nq nr iq kt b ku kv kx ky la ns le nt li nu lm nv nw nx ny bi translated"><code class="fe mv mw mx lp b">css</code> — CSS招数</li><li id="28cf" class="nq nr iq kt b ku nz kx oa la ob le oc li od lm nv nw nx ny bi translated"><code class="fe mv mw mx lp b">m</code> —中等</li></ul><p id="1ff3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这两个短手都由<code class="fe mv mw mx lp b">site-open</code>和<code class="fe mv mw mx lp b">site-search</code>支撑。</p><h2 id="d70a" class="lt lu iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">AWS区域</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/6c688a69d755319b6ce7de676e5f0bcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*j89Xw7qbY89Dvt5OopI37g.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">AWS区域</p></figure><p id="7cbe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当您添加新的AWS配置或更新现有配置时，您将看到所有可用区域的列表。将对您键入的区域进行验证，以确保在运行AWS相关命令时不会出现意外行为。</p><h2 id="cb04" class="lt lu iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">S3上传</h2><p id="b330" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">有了Jarvis 1.1.0，你现在可以直接从Jarvis上传文件和文件夹到S3。执行此操作的命令语法是:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="e78f" class="lt lu iq lp b gy lv lw l lx ly">jarvis s3-upload &lt;filePath&gt; -p</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/e546e42ec3724af3cd75896df8a91018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*6tIfygp8S8JGOMiubwS3rw.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">上传文件和文件夹到AWS S3</p></figure><p id="60eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mv mw mx lp b">-p</code>选项用于在您不想上传文件所在的文件夹时上传多个文件。这样做的原因是，如果你想上传多个文件，那么他们需要在一个文件夹中，但你可能不希望他们所在的文件夹被上传。让我们来看几个例子。假设您有以下文件结构:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="fe1c" class="lt lu iq lp b gy lv lw l lx ly">// File Structure<br/>logo.png<br/>icons/    <br/>     menu.png    <br/>     instagram.png    <br/>     facebook.png    <br/>     twitter.png</span></pre><p id="1195" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你想上传<code class="fe mv mw mx lp b">logo.png</code>，那么你可以运行:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="f036" class="lt lu iq lp b gy lv lw l lx ly">jarvis s3-upload logo.png</span><span id="6081" class="lt lu iq lp b gy oj lw l lx ly">// This uploads to<br/>bucket/<br/>    logo.png</span></pre><p id="405c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想要上传所有图标，包括文件夹，那么您应该运行:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="ce35" class="lt lu iq lp b gy lv lw l lx ly">jarvis s3-upload icons</span><span id="220a" class="lt lu iq lp b gy oj lw l lx ly">// This uploads to<br/>bucket/<br/>    icons/<br/>        menu.png<br/>        instagram.png<br/>        facebook.png<br/>        twitter.png</span></pre><p id="fec0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，如果您想上传所有图标而不是文件夹，那么您应该运行:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="67b1" class="lt lu iq lp b gy lv lw l lx ly">jarvis s3-upload icons -p</span><span id="eec9" class="lt lu iq lp b gy oj lw l lx ly">// This uploads to<br/>bucket/<br/>    menu.png<br/>    instagram.png<br/>    facebook.png<br/>    twitter.png</span></pre><p id="e227" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当您运行<code class="fe mv mw mx lp b">s3-upload</code>命令时，Jarvis将首先检查当前的S3配置是否正确。检查完配置后，Jarvis将询问您希望上传文件的S3存储桶内的路径。他还会询问您希望对文件使用什么ACL，所有可能的ACL都会显示出来供您参考。上传文件&amp;文件夹到S3就是这么简单。</p><h2 id="0e81" class="lt lu iq bd lz ma mb dn mc md me dp mf la mg mh mi le mj mk ml li mm mn mo mp bi translated">AWS弹性豆茎</h2><p id="5540" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">你现在可以初始化弹性Beanstalk应用程序，并部署它们，不仅如此，<code class="fe mv mw mx lp b">react-init</code>和<code class="fe mv mw mx lp b">react-deploy</code>现在都支持弹性Beanstalk。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/9515607a3f4b402de870d15c75f63798.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*P6Jt-ZE-H9Foq0SSzaoRGw.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">为Elastic Beanstalk创建新的IAM用户</p></figure><p id="5052" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们看看如何使用<code class="fe mv mw mx lp b">react-init</code>和<code class="fe mv mw mx lp b">react-deploy</code>来实现这一点。您需要做的第一件事是转到AWS控制台，创建一个新的具有以下权限的编程式IAM用户:</p><ul class=""><li id="6195" class="nq nr iq kt b ku kv kx ky la ns le nt li nu lm nv nw nx ny bi translated">ElasticLoadBalancingFullAccess</li><li id="3588" class="nq nr iq kt b ku nz kx oa la ob le oc li od lm nv nw nx ny bi translated">AWSElasticBeanstalkFullAccess</li></ul><p id="95aa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不要忘记记下访问密钥和秘密访问密钥，因为在下一步中会用到它们。创建用户后，继续使用以下命令创建新的配置:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="52de" class="lt lu iq lp b gy lv lw l lx ly">jarvis config-new eb</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/e5d8328cdc04e9b644f4f57ed3b6132b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*NJjiB4Oq8DZpR8T9xysBDA.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">创建新的弹性Beanstalk配置</p></figure><p id="5067" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Jarvis将首先要求您提供一个配置id，之后他将要求您提供您想要的区域，以及您刚刚创建的键。输入所有信息后，Jarvis将在用户的根目录下创建一个凭证文件和一个配置文件。这些文件由Elastic Beanstalk CLI在运行命令时使用。</p><p id="f370" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在您已经设置了配置，您可以继续创建一个新项目:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="3e41" class="lt lu iq lp b gy lv lw l lx ly">mkdir awesome-app<br/>cd awesome-app<br/>jarvis react-init awesome-app</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/9393ba4e5c364a20f90a715b2d129e6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Gx10MtckibbFeomCE6AOog.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">为弹性豆茎初始化一个React项目</p></figure><p id="8237" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您将在<code class="fe mv mw mx lp b">react-init</code>中看到的只有一个变化，它现在将询问项目是否将部署在Elastic Beanstalk上，回答是。一旦您做出响应，Jarvis将确保活动配置是正确的。然后，他将开始初始化一个弹性Beanstalk应用程序，为应用程序创建一个配置文件，然后创建应用程序环境。这个过程可能需要几分钟，所以如果看起来像是卡住了，也不要担心。一旦Jarvis完成了一个弹性Beanstalk应用程序的初始化，<code class="fe mv mw mx lp b">react-init</code>将照常继续。</p><p id="53f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您的应用程序现在可以部署了，运行以下命令:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="78ce" class="lt lu iq lp b gy lv lw l lx ly">jarvis react-deploy eb 1.0.0</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/8969ac12d15582dbeef6278ce1f8068c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*nxNgk1kwLrSqkEIhxzQu0Q.gif"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">将React应用部署到Elastic Beanstalk</p></figure><p id="aa9d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ok">注意:当您部署应用程序时，您应该只能在AWS控制台中看到一个环境。我的控制台显示了多种环境，因为由于NPM缓存错误，我不得不重新运行几次</em> <code class="fe mv mw mx lp b"><em class="ok">react-init</em></code> <em class="ok">。</em></p><p id="bb0f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">与<code class="fe mv mw mx lp b">react-init</code>类似，这里你不会看到太大的变化。唯一的区别是，不是检查GCP配置，而是检查您的EB配置，不是部署到Google App Engine，而是将您的应用部署到Elastic Beanstalk。</p><p id="2d4d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个命令要注意的主要事情是它现在有了一个平台参数和一个版本。仅使用版本运行命令将不再有效，您现在必须运行以下命令之一:</p><pre class="kg kh ki kj gt lo lp lq lr aw ls bi"><span id="4dd3" class="lt lu iq lp b gy lv lw l lx ly">jarvis react-deploy gae &lt;version&gt;<br/>jarvis react-deploy eb &lt;version&gt;</span></pre><p id="fea0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">至此，您已经创建了一个React应用程序，并将其部署到AWS Elastic Beanstalk。</p><p id="4445" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您有一个现有的应用程序，那么您可以使用<code class="fe mv mw mx lp b">eb-init</code>命令来初始化一个Elastic Beanstalk应用程序，并使用<code class="fe mv mw mx lp b">eb-deploy</code>命令将应用程序部署到Elastic Beanstalk。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><h1 id="a618" class="nf lu iq bd lz ng nh ni mc nj nk nl mf jw nm jx mi jz nn ka ml kc no kd mo np bi translated">结论</h1><p id="ecd0" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">这就是全部内容，您已经准备好开始使用Jarvis 1.1.0了。我希望你已经发现这个故事是有用的，并且你喜欢新的更新。像往常一样，我们非常欢迎反馈、建议和贡献。</p><p id="315f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">GitHub:<a class="ae ln" href="https://github.com/willptswan/jarvis" rel="noopener ugc nofollow" target="_blank">https://github.com/willptswan/jarvis</a></p><p id="be23" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">https://www.npmjs.com/package/@willptswan/jarvis<a class="ae ln" href="https://www.npmjs.com/package/@willptswan/jarvis" rel="noopener ugc nofollow" target="_blank">NPM</a></p></div></div>    
</body>
</html>