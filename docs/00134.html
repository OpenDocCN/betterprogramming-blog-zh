<html>
<head>
<title>A Simple but Powerful Tool to Record Your Architectural Decisions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个简单但强大的工具，记录您的架构决策</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/here-is-a-simple-yet-powerful-tool-to-record-your-architectural-decisions-5fb31367a7da?source=collection_archive---------0-----------------------#2018-05-20">https://betterprogramming.pub/here-is-a-simple-yet-powerful-tool-to-record-your-architectural-decisions-5fb31367a7da?source=collection_archive---------0-----------------------#2018-05-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/ce88596c82e7918b5c18dea11e409cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVmVbim_-Ogm9zs7SW6hBw.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">布鲁克·卡吉尔在<a class="ae kf" href="https://unsplash.com/search/photos/decision?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="dec0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从我接手技术架构师的角色开始，我就一直想知道为什么要做出某些决定，而不是其他选择。</p><p id="05df" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://support.office.com/en-us/article/a-beginner-s-guide-to-visio-bc1605de-d9f3-4c3a-970c-19876386047c" rel="noopener ugc nofollow" target="_blank"> Visio </a>图表很棒，但它们只是图片。他们不会告诉你为什么某些箭头朝某个方向而不是相反的方向。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="5619" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">思想工作技术雷达</h1><p id="93af" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">在试图解决这一困境时，我遇到了最新的<a class="ae kf" href="https://www.thoughtworks.com/radar#" rel="noopener ugc nofollow" target="_blank"> ThoughtWorks技术雷达</a>的<a class="ae kf" href="https://assets.thoughtworks.com/assets/technology-radar-vol-18-en.pdf" rel="noopener ugc nofollow" target="_blank">版本</a>。</p><blockquote class="mo mp mq"><p id="07b4" class="kg kh mr ki b kj kk kl km kn ko kp kq ms ks kt ku mt kw kx ky mu la lb lc ld im bi translated">“我们是一家软件公司，是一个由充满激情、目标明确的个人组成的社区。我们以颠覆性的方式提供技术来解决客户最棘手的挑战，同时寻求革新IT行业并创造积极的社会变革。”— <em class="it"> ThoughtWorks </em></p></blockquote><p id="f09d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在技术雷达中，ThoughtWorks发布了关于您应该使用什么、应该继续做什么以及可以尝试什么的新闻。</p><p id="a0be" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ThoughtWorks谈到了各种:</p><ol class=""><li id="4a11" class="mv mw it ki b kj kk kn ko kr mx kv my kz mz ld na nb nc nd bi translated"><a class="ae kf" href="https://www.thoughtworks.com/radar/techniques" rel="noopener ugc nofollow" target="_blank">技巧</a></li><li id="38cd" class="mv mw it ki b kj ne kn nf kr ng kv nh kz ni ld na nb nc nd bi translated"><a class="ae kf" href="https://www.thoughtworks.com/radar/platforms" rel="noopener ugc nofollow" target="_blank">平台</a></li><li id="3ea2" class="mv mw it ki b kj ne kn nf kr ng kv nh kz ni ld na nb nc nd bi translated"><a class="ae kf" href="https://www.thoughtworks.com/radar/tools" rel="noopener ugc nofollow" target="_blank">工具</a></li><li id="6028" class="mv mw it ki b kj ne kn nf kr ng kv nh kz ni ld na nb nc nd bi translated"><a class="ae kf" href="https://www.thoughtworks.com/radar/languages-and-frameworks" rel="noopener ugc nofollow" target="_blank">语言&amp;框架</a></li></ol><p id="70da" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在阅读技术部分时，我注意到ThoughtWorks推荐采用<a class="ae kf" href="https://www.thoughtworks.com/radar/techniques/lightweight-architecture-decision-records" rel="noopener ugc nofollow" target="_blank">轻量级架构决策记录(LADR) </a>。</p><p id="0148" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我不知道LADR，所以我开始研究。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="e917" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">LADR历史</h1><p id="3401" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">在研究LADR的时候，我看到了一篇非常有趣的文章，作者是迈克尔·尼加德。这篇文章谈到了将架构文档作为代码本身的一部分嵌入的技术。</p><p id="bff7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从文章中引用:</p><blockquote class="nj"><p id="3900" class="nk nl it bd nm nn no np nq nr ns ld dk translated">敏捷项目的架构需要不同的描述和定义。不是所有的决策都会立刻做出，也不是所有的决策都会在项目开始时就完成。迈克尔·尼加德</p></blockquote><p id="1403" class="pw-post-body-paragraph kg kh it ki b kj nt kl km kn nu kp kq kr nv kt ku kv nw kx ky kz nx lb lc ld im bi translated">这是真的。<a class="ae kf" href="https://www.atlassian.com/agile" rel="noopener ugc nofollow" target="_blank">敏捷</a>被广泛使用，需要一个定义好的过程来捕捉所有的架构决策。通常，我们最终会创建大量没有人喜欢阅读的文档。</p><p id="dab4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">随着阅读的深入，我发现了一种更好的方法来记录你的决定。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="138a" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">Git友好</h1><p id="f8d8" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">ADR可以记录在源代码库中。您可以简单地创建ADR作为Git存储库的一部分。</p><p id="06fc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，您可以创建此文件夹:</p><pre class="ny nz oa ob gt oc od oe of aw og bi"><span id="d90b" class="oh lm it od b gy oi oj l ok ol">/doc/adr/</span></pre><p id="0c34" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">并向其中添加决策，如下图所示。</p><figure class="ny nz oa ob gt ju gh gi paragraph-image"><div class="gh gi om"><img src="../Images/cd8cab883f72ad7149d66e13ed006037.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*deUQ5cNZ9wUDbBn9__p7lg.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">GIT回购中的ADR</p></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="4c8d" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">ADR的内容</h1><p id="91c3" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">ADR的内容可分为以下几个部分:</p><ol class=""><li id="f9ba" class="mv mw it ki b kj kk kn ko kr mx kv my kz mz ld na nb nc nd bi translated"><strong class="ki iu">标题</strong> —决策记录的标题。</li><li id="c58b" class="mv mw it ki b kj ne kn nf kr ng kv nh kz ni ld na nb nc nd bi translated"><strong class="ki iu">决定— </strong>做出的决定。例如，使用<a class="ae kf" href="https://www.elastic.co/" rel="noopener ugc nofollow" target="_blank"> Elasticsearch </a>作为企业范围的搜索API。</li><li id="b09b" class="mv mw it ki b kj ne kn nf kr ng kv nh kz ni ld na nb nc nd bi translated"><strong class="ki iu">状态— </strong>状态可以是<em class="mr">建议</em>、<em class="mr">接受</em>或<em class="mr">替代</em>。如果您做出了任何决定，并且您需要在以后更改它们，您可以简单地添加一个具有已更改状态的新记录。</li><li id="b1d6" class="mv mw it ki b kj ne kn nf kr ng kv nh kz ni ld na nb nc nd bi translated"><strong class="ki iu">背景</strong> —这个决策的背景是什么？重要的是要抓住这个决定的全部背景，以便读者知道其背后的原因。</li><li id="7a7e" class="mv mw it ki b kj ne kn nf kr ng kv nh kz ni ld na nb nc nd bi translated"><strong class="ki iu">后果— </strong>在这一部分，你可以添加如果做出这个决定会发生什么。重要的是列出所有的后果，包括积极的和消极的。</li></ol><p id="2b8c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">整个文件需要一到两页，不要超过一页。这里的想法是保持光线，这样人们可以阅读它。</p><p id="6456" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">开发人员需要一直看到ADR，因为他们应该知道他们为什么要构建一些东西。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="a392" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">ADR样本</h1><p id="6cea" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">这里有一份<a class="ae kf" href="https://github.com/deshpandetanmay/lightweight-architecture-decision-records/blob/master/doc/adr/0001-use-elasticsearch-for-search-api.md" rel="noopener ugc nofollow" target="_blank">ADR</a>样本，您可以参考使用。</p><figure class="ny nz oa ob gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi on"><img src="../Images/5f6935f85140adf14e00fdfbb1d0c102.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bA1YGWM5DK4MeS9gx4urfw.png"/></div></div></figure><p id="9f1f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">GitHub有<a class="ae kf" href="https://github.com/npryce/adr-tools/tree/master/doc/adr" rel="noopener ugc nofollow" target="_blank">更多ADRs </a>的例子供你参考。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h2 id="e674" class="oh lm it bd ln oo op dn lr oq or dp lv kr os ot lz kv ou ov md kz ow ox mh oy bi translated">ADR模板</h2><p id="5bc1" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">这不是您可以使用的唯一ADR模板。许多团队都在使用他们自己的模板。你可以在GitHub上找到其他的ADR模板集合。</p><div class="oz pa gp gr pb pc"><a href="https://github.com/joelparkerhenderson/architecture_decision_record" rel="noopener  ugc nofollow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">joelparkerhenderson/建筑_决策_记录</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">软件规划、IT领导和模板文档的架构决策记录(ADR)示例…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">github.com</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq jz pc"/></div></div></a></div></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="926e" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">结论</h1><p id="5a0d" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">随着我们越来越倾向于基于敏捷的开发，我们需要采用这样的技术，这样我们在架构文档中也更加高效和敏捷。</p><p id="54f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读！如果您有关于记录架构决策的建议，请留下评论。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="0a5f" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">附加阅读</h1><ul class=""><li id="40d0" class="mv mw it ki b kj mj kn mk kr pr kv ps kz pt ld pu nb nc nd bi translated"><a class="ae kf" href="https://engineering.atspotify.com/when-should-i-write-an-architecture-decision-record/" rel="noopener ugc nofollow" target="_blank">https://engineering . atspotify . com/when-should-I-write-an-architecture-decision-record/</a></li></ul></div></div>    
</body>
</html>