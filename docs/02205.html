<html>
<head>
<title>How To Create a Custom UITableViewCell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建自定义UITableViewCell</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-custom-uitableviewcell-f4e69193bab?source=collection_archive---------5-----------------------#2019-11-13">https://betterprogramming.pub/how-to-create-custom-uitableviewcell-f4e69193bab?source=collection_archive---------5-----------------------#2019-11-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="54ae" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">IOS编程指南</h2><div class=""/><div class=""><h2 id="6a04" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">有时你需要一个比现成的更复杂的用户界面</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/094087dd81b6db44958673f22473338b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rffnex5tzarzkzVOvux7xQ.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@grohsfabian" rel="noopener ugc nofollow" target="_blank"> Fabian Grohs </a>在<a class="ae lh" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> unsplash </a>上拍摄</p></figure><p id="a7ae" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe me mf mg mh b">UITableViewCell</code>(又名单元格)是为IOS设备开发时使用最多的视图之一。它非常有用，可以根据任何开发人员的喜好轻松定制。</p><p id="56c6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在苹果引入自动布局和堆栈视图的概念之前，开发人员有时会为不同的设备创建多个视图(即iPhone vs. iPad)。</p><p id="f532" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我将向您展示如何创建一个定制的自适应<code class="fe me mf mg mh b">UITableViewCell</code>，而不是创建两个单独的视图。</p><p id="61af" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了简洁起见，我创建了一个启动项目。可以在<a class="ae lh" href="https://github.com/Petey509/CustomTableViewCell" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上下载。需要具备Swift<a class="ae lh" href="https://developer.apple.com/swift/" rel="noopener ugc nofollow" target="_blank">语言和Xcode编辑器的基础知识。</a></p><p id="4f12" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦你下载了文件，打开它，里面应该有两个项目。打开启动一次。完成的项目是我们要在这里实现的最终版本。我鼓励你从创业开始。</p><p id="6de7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">构建并运行项目，您应该有一个包含空单元格的表格视图。这些单元格故意留空。我们的应用程序将显示演员的全名、电子邮件和评级。</p><p id="6989" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我已经在解决方案中硬编码了一组参与者。我们的自定义单元格将以两种方式运行。一个用于iPhone，另一个用于iPad。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mi"><img src="../Images/1c68173ab92669f9a260cf5f21167ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLjOr1jUdDjyNbCqXKf13g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">iPhone设计布局</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mj"><img src="../Images/fef7d0dc3bbbb0bcddd9856eef322938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PfukXEqhWYK0TKM9b7i3Rg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">iPad设计布局</p></figure><p id="fa78" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦你理解了如何构造具有适应性的UI，你就可以提出你的设计了。让我们开始吧。</p><p id="7c91" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">添加一个新文件(Command + N)，选择<em class="mk">可可触摸类</em> &gt;，然后选择<code class="fe me mf mg mh b">UITableViewCell</code>作为子类，并将类命名为<code class="fe me mf mg mh b">ActorTableViewCell</code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ml"><img src="../Images/f533c788246bce42f97bd1a20406b7a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nOVgjm6zx2OE1HD1vnRGiw.png"/></div></div></figure><p id="8cef" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择<em class="mk">下一个</em> &gt; <em class="mk">创建</em>。</p><p id="aeb4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们需要做一些数学计算，以确保得到我们想要的测量值。</p><p id="dcb7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我的iPhone设计标签的高度将是44px。因此，图像尺寸将<code class="fe me mf mg mh b">(44*3)+(5*2) =&gt; 142</code> <strong class="lk jd"> </strong>为<strong class="lk jd"> </strong>既宽又高。</p><p id="ecb9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在我们知道了图像的尺寸，我们可以找到单元格的高度。我想在图像的顶部和底部都添加5px。</p><p id="386a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">使用iPhone时的桌子高度应该是<code class="fe me mf mg mh b">Image height+ (5*2) =&gt; 152.</code>对于iPad，我们将桌子高度设置为<code class="fe me mf mg mh b">75</code>，图像的宽度和高度都是<code class="fe me mf mg mh b">65</code> = &gt; <code class="fe me mf mg mh b">75-(5*2)</code>。</p><p id="23a6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">剩余的空间将用于显示三个标签。如果这有点令人困惑，那么一旦我们开始设计视图，它就会变得有意义。</p><p id="ca83" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们添加一个变量来存储我们的表格高度。将这段代码添加到您的<code class="fe me mf mg mh b">MainTableViewController.swift</code>文件中，就在<code class="fe me mf mg mh b">actors</code>变量之后。</p><pre class="ks kt ku kv gt mm mh mn mo aw mp bi"><span id="df7b" class="mq mr it mh b gy ms mt l mu mv">var rowHeight : CGFloat!</span></pre><p id="dcc1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在<code class="fe me mf mg mh b">viewDidLoad</code>方法中，将这段代码添加到代码行<code class="fe me mf mg mh b">self.actors = getActors()</code>之前。</p><pre class="ks kt ku kv gt mm mh mn mo aw mp bi"><span id="f231" class="mq mr it mh b gy ms mt l mu mv">//Assuming you're developing for only iPhone and iPad, otherwise do more checks for other Apple devices</span><span id="ad09" class="mq mr it mh b gy mw mt l mu mv">self.rowHeight = UIScreen.main.traitCollection.userInterfaceIdiom == .phone ? 152 : 75</span><span id="afd0" class="mq mr it mh b gy mw mt l mu mv">self.tableView.rowHeight = self.rowHeight</span></pre><p id="1527" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">构建并运行后，你会发现iPhone和iPad的单元格都比以前大了。点击<code class="fe me mf mg mh b">Command + Shift + L</code>，键入image，并将图像视图拖动到单元格上。调整大小，直到它适合单元格。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mx"><img src="../Images/0990d62941bbde79bc880e94b1f7548c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0YKCw3D8YI8VWnA5znKJOg.png"/></div></div></figure><p id="1b9f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在文档大纲中，选择图像视图，按住Command，然后将鼠标拖到内容视图上。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi my"><img src="../Images/c3bb0309bd4e7006bd71c09d9dc11a06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*4bHiz8icHXtXP1cfHf3itg.png"/></div></figure><p id="827c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您应该会看到弹出菜单。按住命令并选择<em class="mk">到容器</em>的前导/顶部/底部空间。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mz"><img src="../Images/8afe003e9ee7b90c20e0bf152fb700e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sB9OBk-Y_DQ6WLegVHiqzg.png"/></div></div></figure><p id="cc49" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，您的图像视图下应该有三个约束。选择所有三个，并将属性检查器中的常数值设定为5。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi na"><img src="../Images/3242489d262c8bba9196ef4a9cb982f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FDWHdSoOtqLCCKOBAQm9Mw.png"/></div></div></figure><p id="207f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们已经覆盖了图像的高度，现在我们需要设置宽度。</p><p id="e034" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择图像并添加约束。如果你不熟悉约束按钮，它在主编辑器的右下方，看起来像一艘小飞船。</p><p id="224a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您应该看到一个弹出菜单，单击宽度，并将值设置为142，然后单击“添加约束”按钮。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/27e70ebad15f420d080a5526e7112d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*gQJ80H3ZjFlX9KqvvtWU3Q.png"/></div></figure><p id="b5bf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这个值将适用于所有设备尺寸，我们需要告诉它使用<code class="fe me mf mg mh b">65</code>的iPad。</p><p id="81c2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">单击图像下方的约束，单击属性检查器中<em class="mk">常量</em>左侧的<code class="fe me mf mg mh b">+</code>符号，并选择<em class="mk">常规</em>作为宽度和高度。将值设置为<code class="fe me mf mg mh b">65</code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/2966ebf30350f10c458fd998b63b7e2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*B45r3MKh-MaWwOKM8_5gbw.png"/></div></figure><p id="9f86" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">好了，我们完成了图像约束。</p><p id="a503" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">点击<code class="fe me mf mg mh b">Command + Shift + L</code>并输入<code class="fe me mf mg mh b">label</code>。将三个标签拖到单元格上，并将它们的背景设置为黄色。</p><p id="4929" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了方便起见，让我们在<code class="fe me mf mg mh b">Main.Storyboard</code>中增加单元格的高度。不要担心，当应用程序加载时，该值将被<code class="fe me mf mg mh b">viewDidLoad</code>方法覆盖。添加标签后，您的单元格应该如下所示。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nd"><img src="../Images/651cf3e27684602c801f858d2c8626a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B-CijgsXFkn__jMyY9iE3w.png"/></div></div></figure><p id="4c82" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们的设计正在进行中，但是在我们开始填充值和查看UI的自适应部分之前，还有一些工作要做。</p><p id="1927" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择所有三个标签，并将它们嵌入到一个<code class="fe me mf mg mh b">UIStackView</code>中。如果您不熟悉堆栈视图，右下角的按钮看起来像框中的向下箭头。</p><p id="f800" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在<em class="mk">文档</em> <em class="mk">轮廓</em>中，折叠图像视图，然后展开堆栈视图。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/5ad84b9ea1bab9b450e2d5e9c3ad3465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*Jx-eg1KmOrSvfqu-lBOVUQ.png"/></div></figure><p id="eeb8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">按住Command并拖动鼠标到内容视图，你应该看到一个弹出菜单，一旦你放开鼠标。按住命令并选择<em class="mk">容器顶部/尾部/底部空间</em>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nf"><img src="../Images/b73e44fdf29da250d581c5f2d1667fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OWlZzaMzSnL0jYN4zwg2BA.png"/></div></div></figure><p id="07b1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">展开约束，选择刚刚添加的约束，在属性检查器中将常量值设置为<code class="fe me mf mg mh b">5</code>。再次点击常量旁边的+号，选择<em class="mk">常规</em>的宽度和高度。将该值设置为<code class="fe me mf mg mh b">15</code>。</p><p id="6b3c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所有的约束现在都应该被设置为<code class="fe me mf mg mh b">5</code>。但是如果您选择iPad，这三个约束的值将变为<code class="fe me mf mg mh b">15</code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ng"><img src="../Images/9e223fe7bba3b3e4c273a91825448594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EJh9eBRQdjtevktIIvFHIw.png"/></div></div></figure><p id="747f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择堆栈视图并按住命令，然后将鼠标拖向图像视图。</p><p id="15dd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你应该会看到一个弹出菜单，点击<em class="mk">水平间距</em>。将常量值设置为<code class="fe me mf mg mh b">10</code>，点击+号，将宽度和高度都设置为<em class="mk">常规</em>，然后将值设置为<code class="fe me mf mg mh b">20</code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nh"><img src="../Images/829a1f6f212636f4bf8d6733d3e5fc47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8SMmePJSSGBg99WZSfyt1g.png"/></div></div></figure><p id="cd90" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">再次选择堆栈视图，在属性检查器中，将<em class="mk">分布</em>设置为<em class="mk">填充均匀，</em> <strong class="lk jd"> </strong> <em class="mk">间距</em> <strong class="lk jd"> </strong>设置为<strong class="lk jd"> </strong> <code class="fe me mf mg mh b">5</code>。点击<em class="mk">轴</em>旁边的+号，选择<em class="mk">常规</em>的宽度和高度，并将数值设置为<em class="mk">水平</em>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/71b620b4a2e7db4373a16ea3a8d47037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*4i0KLmnii-EUJnF3PG2ILw.png"/></div></figure><p id="db3c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了查看我们已经完成的UI，选择image视图并将背景设置为黄色，就像您对标签所做的那样。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nj"><img src="../Images/f42a3d3c17e04b496d7e2715d0a2e59e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*78rh7Ykde1fDWCECI50nBA.png"/></div></div></figure><p id="4952" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在iPhone和iPad模拟器上构建和运行。图像还不是圆形的，但是我们会在填充单元格时解决这个问题。构建并再次运行，你应该有下面的iPhone图片。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nk"><img src="../Images/2a169bb679e2978dcba66d71fefa196f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5ctXtlOIws69NBa_Tifo1Q.png"/></div></div></figure><p id="1adb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您还应该看到下图中的iPad。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nl"><img src="../Images/61772dbb7496e36eedb97b2c7bf2ad61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qGuDrwR7_W2atQ8b9uCQNA.png"/></div></div></figure><p id="c207" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们都完成了用户界面。让我们把它连接到我们的数据源。</p><p id="e0ab" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">向主区域添加一个新编辑器。在左边的编辑器中，选择<code class="fe me mf mg mh b">ActorTableViewCell</code>文件并删除类中的所有内容。它现在应该看起来像这样。</p><pre class="ks kt ku kv gt mm mh mn mo aw mp bi"><span id="268a" class="mq mr it mh b gy ms mt l mu mv">import UIKit</span><span id="e086" class="mq mr it mh b gy mw mt l mu mv">class ActorTableViewCell: UITableViewCell {</span><span id="9b3a" class="mq mr it mh b gy mw mt l mu mv">}</span></pre><p id="496c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在右边的编辑器中，选择<code class="fe me mf mg mh b">Main.Storyboard</code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nm"><img src="../Images/5f33a1c9279c81c69814b775898366fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JmdHebviJAg6nLTvLHklSA.png"/></div></div></figure><p id="6cdc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择单元格，并在身份检查器中将类名设置为<code class="fe me mf mg mh b">ActorTableViewCell</code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nn"><img src="../Images/6ac887aab7d2a2788fef340dd726d882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LIgBOKnpQpbWPkUbxKf1pQ.png"/></div></div></figure><p id="9212" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在我们的用户界面连接到了我们的类，我们可以在类中添加用户界面元素来表示我们的用户界面。选择第一个标签，按住Command键，向左拖动鼠标，然后放开。您应该会看到一个弹出菜单。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi no"><img src="../Images/ada118616f4e591e9641185ee6a8b0fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0vz2zkzehKCNlfnm3uKITg.png"/></div></div></figure><p id="de8d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">命名为<code class="fe me mf mg mh b">fullName</code>。</p><p id="d875" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对剩余的标签和图像重复该过程。分别命名为<code class="fe me mf mg mh b">email</code>、<code class="fe me mf mg mh b">rating</code>和<code class="fe me mf mg mh b">actorImage</code>。你的<code class="fe me mf mg mh b">ActorTableViewCell</code>现在应该是这样的。</p><pre class="ks kt ku kv gt mm mh mn mo aw mp bi"><span id="f527" class="mq mr it mh b gy ms mt l mu mv">import UIKit</span><span id="789a" class="mq mr it mh b gy mw mt l mu mv">class ActorTableViewCell: UITableViewCell {</span><span id="eb56" class="mq mr it mh b gy mw mt l mu mv">@IBOutlet weak var fullName: UILabel!<br/>   @IBOutlet weak var email: UILabel!<br/>   @IBOutlet weak var rating: UILabel!<br/>   @IBOutlet weak var actorImage: UIImageView!</span><span id="735f" class="mq mr it mh b gy mw mt l mu mv">}</span></pre><p id="9a57" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们已经将我们的UI连接到我们的类，并且准备开始填充tableview以查看单元格中的实际值。</p><p id="df6e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">打开<code class="fe me mf mg mh b">MainTableViewController</code>文件。我们将在<code class="fe me mf mg mh b">cellForRowAt</code>方法中添加所有需要的东西。首先，去掉这条线。</p><pre class="ks kt ku kv gt mm mh mn mo aw mp bi"><span id="fb92" class="mq mr it mh b gy ms mt l mu mv">cell.backgroundColor = indexPath.row % 2 == 0 ? UIColor.lightGray : UIColor.cyan</span></pre><p id="bdbc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在让我们添加代码来填充图像和标签。用这些代码行替换方法中的所有代码。</p><pre class="ks kt ku kv gt mm mh mn mo aw mp bi"><span id="5024" class="mq mr it mh b gy ms mt l mu mv">//cast the cell to an ActorTableViewCell<br/>let cell = tableView.dequeueReusableCell(withIdentifier: "reuseIdentifier", for: indexPath) as! ActorTableViewCell</span><span id="9a77" class="mq mr it mh b gy mw mt l mu mv">//get our cell data<br/>let actor = self.actors[indexPath.row]</span><span id="092a" class="mq mr it mh b gy mw mt l mu mv">//set values<br/>cell.actorImage.image = UIImage(named:"\(actor.firstName)_\(actor.lastName).jpg")<br/>cell.fullName.text = "Full Name: \(actor.firstName) \(actor.lastName)"<br/>cell.email.text = "Email: \(actor.email)"<br/>cell.rating.text = "Overall Rating: \(actor.rating)"</span><span id="bf93" class="mq mr it mh b gy mw mt l mu mv">//check if ipad to make transform image to a circular shape</span><span id="600c" class="mq mr it mh b gy mw mt l mu mv">if(UIScreen.main.traitCollection.userInterfaceIdiom == .pad){<br/>   cell.actorImage.layer.cornerRadius = cell.actorImage.frame.width / 4<br/>   cell.actorImage.layer.masksToBounds = true<br/>}</span><span id="71be" class="mq mr it mh b gy mw mt l mu mv">return cell</span></pre><p id="7435" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">构建并运行，现在您应该看到iPhone的如下内容:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi np"><img src="../Images/c85c698c039b360a176c8cdf051da8e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*daxchEjgtLk7nz3A7s_0SA.png"/></div></div></figure><p id="f796" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这是给iPad的。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/4a259e8266c1c758c33d3357879a1571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GaAgv1jCFhvQqs1p4t5_sQ.png"/></div></div></figure><p id="710b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这就是全部了。谢谢你陪我走到最后。现在你知道如何使用<code class="fe me mf mg mh b">UITableViewCell</code>，让你的设计更有创意。请记住，永远享受编码的乐趣。下次见。</p><p id="1a38" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">注意:如果遇到问题，您也可以在先前下载的同一文件夹中打开已完成的项目。</p></div></div>    
</body>
</html>