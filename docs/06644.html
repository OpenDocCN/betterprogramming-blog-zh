<html>
<head>
<title>How to Avoid WiFi Throttling on Android Devices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何避免安卓设备上的WiFi节流</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-avoid-wifi-throttling-on-android-devices-494a0cc29dd8?source=collection_archive---------5-----------------------#2020-10-21">https://betterprogramming.pub/how-to-avoid-wifi-throttling-on-android-devices-494a0cc29dd8?source=collection_archive---------5-----------------------#2020-10-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="37df" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">继续讨论谷歌的局限性以及如何绕过它们</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/de1926ea03d86b721d0d9d3c6804ce4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LvG0BzxbMunbCN3Z.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://dribbble.com/Gaspart" rel="noopener ugc nofollow" target="_blank">气体部分</a>在<a class="ae ky" href="https://dribbble.com/" rel="noopener ugc nofollow" target="_blank">滴溜溜</a>上拍照。</p></figure><p id="cb99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天我想讨论一下安卓新版本中的WiFi扫描节流以及如何避免。<a class="ae ky" href="https://proandroiddev.com/android-wifi-scanning-frustrations-799d1d942aea" rel="noopener ugc nofollow" target="_blank">之前我写过一篇文章</a>关于最近发布的Android R上的一个新的扫描机制，如果你看了那篇文章，你就知道谷歌像以前的Android版本一样限制开发者扫描WiFi的机会。</p><p id="ae74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，让我们从回顾它以前是如何工作的，以及现在如何使用新的Android R获得类似的结果开始我们的文章。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8d87" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">之前是如何运作的</h1><p id="f751" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">文章的这一部分会很简单，没有任何限制。没有任何限制，包括安卓奥利奥，你可以没有任何限制地每秒扫描一次。下面是一个简单的代码片段，解释了它之前是如何工作的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="1d33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您只需在您的上下文中注册广播接收器，以获取扫描结果并解析它们。然后你在你的WiFi管理器上调用<code class="fe nb nc nd ne b">start scan</code>方法，它非常有效。曾经有一段时间，Android允许每秒扫描WiFi高达十次。想象一下为<a class="ae ky" href="https://navigine.com/" rel="noopener ugc nofollow" target="_blank">高质量导航</a>打开的潜力。</p><p id="77c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但后来一切都出了问题，谷歌引入了WiFi扫描限制。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bc1b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安卓9和10</h1><p id="6673" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Android 9一发布，谷歌就给所有开发者呈现了一个惊喜。WiFi扫描被尽可能地裁剪。现在，您可以每120秒启动四次扫描。如果您尝试启动扫描更多次，那么您的所有尝试都将被阻止。</p><p id="7152" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的上一篇文章中，我描述了一个以相等的时间间隔扫描和使用WiFi RTT的解决方案，但是值得注意的是，你不能完全避免节流。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="1b90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">顺便说一下，谷歌随着Android 10的发布推出了一个解决方案。他们在开发者设置中增加了一个可以关闭WiFi扫描节流的按钮，所以现在你可以关闭它，不受限制地扫描。但是，如果您为所有设备编写通用解决方案，那么您将不知道该选项是否关闭。主要问题是采用定制操作系统的设备(如华为、小米等。)因为他们没有关闭节流的选项。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="92cc" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Android R及其解决方案</h1><p id="84c2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Android R在几周前发布，谷歌推出了新的扫描，因为旧的扫描随着Android 9的发布而被淘汰。所以现在他们增加了一个功能来检查节流是否关闭:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="2c9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你只需要检查节流被禁用，你可以扫描没有任何限制。顺便说一下，这个解决方案只有在您测试本地应用程序时才是好的。对于通过Play Market和其他平台分发它，这个解决方案可能非常糟糕，因为用户需要打开开发者模式并在那里找到这个选项。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="307a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="c83b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">谷歌限制了频繁的WiFi扫描，但增加了关闭节流的选项。看起来他们明白自己糟糕的决策，并试图以某种方式修复它。然而，这仍然给开发者和用户都带来了困难。</p><p id="a1ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，iOS上根本没有办法扫描WiFi，所以我们应该感激我们所拥有的。</p></div></div>    
</body>
</html>