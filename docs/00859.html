<html>
<head>
<title>Save UIColor With UserDefaults in Swift 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Swift 5中使用用户默认值保存UIColor</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/save-uicolor-with-userdefaults-in-swift-5-951ef1aa88e8?source=collection_archive---------8-----------------------#2019-07-22">https://betterprogramming.pub/save-uicolor-with-userdefaults-in-swift-5-951ef1aa88e8?source=collection_archive---------8-----------------------#2019-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1884787c39f74448757db1760767e969.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQaKld0tddpG8xR6ERbMsA.png"/></div></div></figure><p id="f0da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我想把<code class="fe kz la lb lc b">UIColor</code>保存到<code class="fe kz la lb lc b">UserDefaults</code>中，所以我谷歌了一下，找不到任何关于<a class="ae ld" href="https://developer.apple.com/swift/" rel="noopener ugc nofollow" target="_blank"> Swift </a> 5的更新资源。因此，我想出了自己的解决办法。希望对你有帮助。</p><p id="e5b0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">没有直接的方法可以用<code class="fe kz la lb lc b">UserDefaults</code>来拯救<code class="fe kz la lb lc b">UIColor</code>，所以我们不得不稍微操纵一下类型。</p><p id="a725" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将把<code class="fe kz la lb lc b">UIColor</code>转换成<code class="fe kz la lb lc b">Data </code>，并保存为<code class="fe kz la lb lc b">any?</code>。为了转换<code class="fe kz la lb lc b">UIColor</code>的类型，我们需要使用一个叫做<code class="fe kz la lb lc b">NSKeyedArchiver</code>的特殊方法。</p><blockquote class="le lf lg"><p id="b3ce" class="kb kc lh kd b ke kf kg kh ki kj kk kl li kn ko kp lj kr ks kt lk kv kw kx ky im bi translated">"<code class="fe kz la lb lc b">NSKeyedArchiver</code>，<code class="fe kz la lb lc b"><a class="ae ld" href="https://developer.apple.com/documentation/foundation/nscoder" rel="noopener ugc nofollow" target="_blank">NSCoder</a></code>的一个具体子类，提供了一种将对象(和标量值)编码成可存储在文件中的与架构无关的格式的方法。当存档一组对象时，每个对象的类信息和实例变量都会写入存档。伴生类<code class="fe kz la lb lc b"><a class="ae ld" href="https://developer.apple.com/documentation/foundation/nskeyedunarchiver" rel="noopener ugc nofollow" target="_blank">NSKeyedUnarchiver</a></code>对档案中的数据进行解码，并创建一组与原始集合等效的对象。<em class="it"> —苹果</em></p></blockquote><p id="82a8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，让我们对<code class="fe kz la lb lc b">UserDefaults</code>进行扩展。</p><figure class="ll lm ln lo gt ju"><div class="bz fp l di"><div class="lp lq l"/></div></figure><p id="aa26" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们已经将<code class="fe kz la lb lc b">UIColor</code>转换为<code class="fe kz la lb lc b">Data</code>，然后保存为<code class="fe kz la lb lc b">Any?</code>。然后，我们使用解归档器解归档<code class="fe kz la lb lc b">data </code>并返回<code class="fe kz la lb lc b">UIColor</code>。</p><p id="7e79" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，如果你不是设计师，你也可以购买一些很棒的<a class="ae ld" href="https://www.iosapptemplates.com/" rel="noopener ugc nofollow" target="_blank"> iOS应用程序模板</a>，如果你对<a class="ae ld" href="https://www.instamobile.io/" rel="noopener ugc nofollow" target="_blank"> React原生应用程序模板</a>更感兴趣，你可以从这里购买，他们有非常棒的收藏。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="685b" class="ly lz it bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">资源</h1><ul class=""><li id="747f" class="mw mx it kd b ke my ki mz km na kq nb ku nc ky nd ne nf ng bi translated"><a class="ae ld" href="https://www.hackingwithswift.com/example-code/system/how-to-save-and-load-objects-with-nskeyedarchiver-and-nskeyedunarchiver" rel="noopener ugc nofollow" target="_blank">如何用NSKeyedArchiver和NSKeyedUnarchiver保存和加载对象</a></li><li id="2b51" class="mw mx it kd b ke nh ki ni km nj kq nk ku nl ky nd ne nf ng bi translated"><a class="ae ld" href="https://www.sitepoint.com/store-uicolor-with-userdefaults-in-swift-3/" rel="noopener ugc nofollow" target="_blank">在Swift 3中存储带有用户默认值的ui color</a></li><li id="71ce" class="mw mx it kd b ke nh ki ni km nj kq nk ku nl ky nd ne nf ng bi translated"><a class="ae ld" href="https://www.iosapptemplates.com/" rel="noopener ugc nofollow" target="_blank"> iOS应用模板</a></li><li id="3a14" class="mw mx it kd b ke nh ki ni km nj kq nk ku nl ky nd ne nf ng bi translated"><a class="ae ld" href="https://www.instamobile.io/" rel="noopener ugc nofollow" target="_blank"> React原生App模板</a></li></ul></div></div>    
</body>
</html>