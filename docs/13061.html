<html>
<head>
<title>A Comprehensive Guide on Fresh — JavaScript’s New Web Framework by Deno</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Deno撰写的关于Fresh——JavaScript的新Web框架的全面指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-comprehensive-guide-on-fresh-a-new-web-framework-by-deno-b1ebc94007cb?source=collection_archive---------0-----------------------#2022-07-25">https://betterprogramming.pub/the-comprehensive-guide-on-fresh-a-new-web-framework-by-deno-b1ebc94007cb?source=collection_archive---------0-----------------------#2022-07-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6733" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为Deno编写的全新web框架的完整指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/f0dbf7c8b2f818c41afc70d95adca094.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*s3SUmFAVORMPFvxITeL3IA.gif"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图片由https://fresh.deno.dev/<a class="ae ku" href="https://fresh.deno.dev/" rel="noopener ugc nofollow" target="_blank">改编</a></p></figure><h1 id="dd72" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">什么是新鲜？</h1><p id="5e56" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><a class="ae ku" href="https://github.com/denoland/fresh" rel="noopener ugc nofollow" target="_blank"> Fresh </a>是面向JavaScript和TypeScript开发者的全栈现代web框架。它旨在创建高质量、高性能和个性化的web应用程序。Fresh 1.0发布于2022年6月28日。</p><p id="0615" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">Fresh是一个为<a class="ae ku" href="https://en.wikipedia.org/wiki/Deno_(software)" rel="noopener ugc nofollow" target="_blank"> Deno </a>编写的新型web框架，它是JavaScript、TypeScript和WebAssembly的运行时，基于V8 JavaScript引擎和Rust编程语言。</p><p id="5689" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">Fresh基于island的体系结构，该体系结构鼓励在服务器呈现的网页中进行小而集中的交互。默认情况下，它向客户端发送纯HTML，并为交互式小部件注入占位符。在静态内容的海洋中，每个页面几乎没有交互的孤岛。它最大限度地减少了页面加载时间，并最大限度地减少了在客户端执行的工作。当出现错误时，它也会优雅地降级。</p><p id="1e3a" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">Fresh使用<a class="ae ku" href="https://github.com/preactjs/preac" rel="noopener ugc nofollow" target="_blank"> Preact </a>，这是一个替代react，它用一个小库实现了快速虚拟DOM。Preact和JSX用于服务器和客户端的渲染和模板化。</p><p id="8faf" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">在本文中，我们提供了一个完整的指南，介绍了新的web框架如何促进快速服务器端呈现、便捷路由和轻松部署的开发。</p><h1 id="27c4" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">创造一个全新的项目和工作环境</h1><p id="b28a" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">在<a class="ae ku" rel="noopener ugc nofollow" target="_blank" href="/the-comprehensive-guide-to-deno-an-alternative-to-node-ea0db4fdec77#2db0">安装Deno CLI </a>之后，我们通过以下命令搭建一个新的项目:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="e83d" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第1行，<code class="fe mz na nb nc b">deno run</code>执行位于<code class="fe mz na nb nc b"><a class="ae ku" href="https://fresh.deno.dev" rel="noopener ugc nofollow" target="_blank">https://fresh.deno.dev</a></code>的初始化脚本。<code class="fe mz na nb nc b">-A</code>允许所有权限，<code class="fe mz na nb nc b">-r</code>重载一切。</li><li id="7357" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第2–21行，该命令从init脚本下载所有依赖项。</li><li id="4e71" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">第22行，显示了是否使用<code class="fe mz na nb nc b">twind</code>的选择，这是一个小型、快速、功能完整的<code class="fe mz na nb nc b">tailwind-in-js</code>解决方案。我们绕过了<code class="fe mz na nb nc b">twind</code>，因此它减少了代码的大小并丢失了一些格式。</li><li id="dbb6" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第23行，它显示了是否使用<a class="ae ku" rel="noopener ugc nofollow" target="_blank" href="/10-useful-plugins-for-visual-studio-code-6ab62c0b14ee"> VS Code </a>的选择，这是微软为Windows、Linux和macOS开发的源代码编辑器。</li><li id="fb77" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第27–28行，它指示如何启动开发服务器。</li></ul><p id="b743" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我们选择使用VS代码并下载<a class="ae ku" href="https://marketplace.visualstudio.com/items?itemName=denoland.vscode-deno" rel="noopener ugc nofollow" target="_blank">Deno扩展</a>来启用Deno工作环境。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ni"><img src="../Images/64ac503bd78c1a74a52d27e542c8b9bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wG_YfBbwKpYX0KWCYLD2VQ.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="631c" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">在文件夹<code class="fe mz na nb nc b">my-project</code>中，我们执行<code class="fe mz na nb nc b">deno task start</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="d7c9" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">在浏览器上，运行欢迎页面。它有一个徽标、一些欢迎文本和一个可以增加或减少数量的交互式组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/fed4727b4dcefebe536e0fd40b8d7f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*7jybq3cdv1IzKcsLihDabg.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><h1 id="5878" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">顶级文件和目录</h1><p id="2b89" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">安装项目后，项目目录下会生成许多文件和目录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi no"><img src="../Images/9dde32ffc71e2792fd6bcd8f937a660b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQKS2GC0FhfR-SXSFlqppg.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="cee0" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">顶层文件为<code class="fe mz na nb nc b">deno.json</code>、<code class="fe mz na nb nc b">dev.ts</code>、<code class="fe mz na nb nc b">main.ts</code>、<code class="fe mz na nb nc b">fresh.gen.ts</code>、<code class="fe mz na nb nc b">import_map.json</code>、<code class="fe mz na nb nc b">README.md</code>。</p><p id="b8f4" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">顶层目录是<code class="fe mz na nb nc b">routes</code>、<code class="fe mz na nb nc b">islands</code>和<code class="fe mz na nb nc b">static</code>。</p><h2 id="3558" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">deno.json</h2><p id="0b04" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">deno.json</code>是Deno的配置文件，配置一个启动任务和依赖关系的导入映射。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="1983" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第2–4行，<code class="fe mz na nb nc b">deno task start</code>被配置为运行<code class="fe mz na nb nc b">dev.ts</code>。<code class="fe mz na nb nc b">-A</code>允许所有权限，<code class="fe mz na nb nc b">—-watch</code>监视文件更改并自动重启进程。</li><li id="2d59" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第5行，指定了<code class="fe mz na nb nc b">importMap</code>的位置。</li></ul><p id="b624" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">以下是来自<code class="fe mz na nb nc b">deno run --help</code>的手表选项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="ecd4" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">模块图被定义为一个简单的图，它被构建来覆盖来自根模块的所有依赖关系。这里的根模块是<code class="fe mz na nb nc b">dev.ts</code>。由于它的模块图不包括<code class="fe mz na nb nc b">static</code>和<code class="fe mz na nb nc b">routes</code>目录，我们需要显式地将它们添加到观察文件中。</p><h2 id="3ecb" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">开发人员</h2><p id="ae4a" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">dev.ts</code>是该项目的开发切入点。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="3344" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第1行，shebang命令(<code class="fe mz na nb nc b">#!</code>)运行脚本<code class="fe mz na nb nc b">env</code>，以确定可执行文件(<code class="fe mz na nb nc b">deno</code>)的位置。选项<code class="fe mz na nb nc b">-S</code>将字符串<code class="fe mz na nb nc b">deno run -A --watch=static/,routes/</code>分割成多个参数，因此它使用适当的选项执行<code class="fe mz na nb nc b">deno</code>命令。用第1行执行<code class="fe mz na nb nc b">dev.ts</code>仅打印出以下信息:</li></ul><pre class="kj kk kl km gt ob nc oc od aw oe bi"><span id="9f75" class="np kw it nc b gy of og l oh oi">Warning deno task is unstable and may drastically change in the future<br/>Task start deno run -A --watch=static/,routes/ dev.ts<br/>Watcher Process started.<br/>Watcher Process finished. Restarting on file change...</span></pre><ul class=""><li id="fc7d" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第3行，<code class="fe mz na nb nc b">dev</code>函数是从新鲜的<code class="fe mz na nb nc b">mod.ts</code>导入的，它在第5行被调用。<code class="fe mz na nb nc b">dev</code>函数有两个参数，基本URL和入口点。该函数基于<code class="fe mz na nb nc b">routes</code>和<code class="fe mz na nb nc b">islands</code>目录的内容创建一个清单文件<code class="fe mz na nb nc b">fresh.gen.ts</code>。</li></ul><h2 id="204a" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">主页面</h2><p id="c21e" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">main.ts</code>是项目的生产切入点。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="d60a" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第1–5行，三斜线指令被定义为编译器指令。<code class="fe mz na nb nc b">/// &lt;reference path="..." /&gt;</code>指令指示编译器在编译过程中包含额外的文件。</li><li id="7993" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第9行，它用生成的清单文件启动应用程序。如果需要，可以指定端口号，例如<code class="fe mz na nb nc b">await start(manifest, { port: 3000 });</code></li></ul><h2 id="c7f3" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">新鲜事物</h2><p id="ee96" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">fresh.gen.ts</code>是自动生成的清单文件。结果基于<code class="fe mz na nb nc b">routes</code>和<code class="fe mz na nb nc b">islands</code>目录的内容。以下是现成环境的内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="7184" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第5–8行，它从<code class="fe mz na nb nc b">routes</code>和<code class="fe mz na nb nc b">islands</code>目录中的所有文件导入。</li><li id="16c0" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第10-20行，它定义了由<code class="fe mz na nb nc b">routes</code>、<code class="fe mz na nb nc b">islands</code>和<code class="fe mz na nb nc b">baseUrl</code>组成的<code class="fe mz na nb nc b">manifest</code>对象。</li><li id="a132" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第22行，<code class="fe mz na nb nc b">manifest</code>被导出为<code class="fe mz na nb nc b">default</code>。</li></ul><h2 id="cdab" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">import_map.json</h2><p id="4450" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">管理项目的依赖关系。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="d789" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第3行，新的框架被导入。</li><li id="f552" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第4–6行，Preact包被导入。</li></ul><h2 id="44a6" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">路线目录</h2><p id="6600" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">routes</code>目录包含项目中的所有路线。该文件夹中每个文件的名称对应于访问该页面的路径。这个文件夹中的代码永远不会直接发送到客户端。</p><h2 id="411b" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">岛屿目录</h2><p id="df9b" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">islands</code>目录包含项目中所有的交互岛。每个文件的名称对应于该文件中定义的岛的名称。该文件夹中的代码可以从客户端和服务器运行。</p><h2 id="0b98" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">静态目录</h2><p id="4326" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">static</code>目录包含按原样自动提供的静态文件。目前，有两个文件:</p><ul class=""><li id="cda1" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated"><code class="fe mz na nb nc b">favicon.ico</code>:浏览器标签和书签的新图标。</li><li id="3ca0" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated"><code class="fe mz na nb nc b">logo.svg</code>:应用的新logo。</li></ul><h1 id="c0ee" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">路线</h1><p id="29e9" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">路由是一种机制，它决定通过哪条路由来处理给定的传入请求。新路由请求基于其URL路径。<code class="fe mz na nb nc b">routes</code>目录包含项目中的所有路线。每个文件的名称对应于访问该页面的URL路径。以下是将文件名映射到路由模式的规则:</p><ul class=""><li id="2bd2" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">文件扩展名被忽略。</li><li id="72e9" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">文件路径中的文字被视为字符串文字进行匹配。</li><li id="2e1b" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">名为<code class="fe mz na nb nc b">&lt;path&gt;/index.&lt;ext&gt;</code>的文件与名为<code class="fe mz na nb nc b">&lt;path&gt;.&lt;ext&gt;</code>的文件行为相同。</li><li id="e406" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">通过用<code class="fe mz na nb nc b">[</code>和<code class="fe mz na nb nc b">]</code>包围一个标识符，路径段可以变成动态的。</li><li id="db16" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">最后一个路径段遵循结构<code class="fe mz na nb nc b">[...&lt;ident&gt;]</code>的路径被视为具有通配符后缀。</li></ul><p id="1990" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">下面是一个示例表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/4643fd95945d73d3d3b8cdf9247c5395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*roPJ-Lj55YvzVthO-8Vfig.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图片由新鲜文档，<a class="ae ku" href="https://fresh.deno.dev/docs/concepts/routing" rel="noopener ugc nofollow" target="_blank">https://fresh.deno.dev/docs/concepts/routing</a></p></figure><p id="5e64" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">这些规则比<a class="ae ku" rel="noopener ugc nofollow" target="_blank" href="/a-step-by-step-guide-on-react-router-6-8964c10af364#71a9-41181d1f934"> React路由器</a>简单多了。</p><p id="002d" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">让我们看看如何用现成的例子<code class="fe mz na nb nc b">index.tsx</code>、<code class="fe mz na nb nc b">[name].tsx</code>和<code class="fe mz na nb nc b">api/joke.ts</code>来应用规则。</p><h2 id="60ab" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">index.tsx</h2><p id="cd7d" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">index.tsx</code>是为路径<code class="fe mz na nb nc b">/</code>指定静态路由的页面组件。由<code class="fe mz na nb nc b">http://localhost:8000</code>访问的是索引页。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="dcbe" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">第1–2行是Preact特定的语法。第1行告诉babel为<code class="fe mz na nb nc b">JSX</code>使用<code class="fe mz na nb nc b">h</code>，这也可以在babel 中全局配置<a class="ae ku" href="https://babeljs.io/docs/en/babel-plugin-transform-react-jsx#usage" rel="noopener ugc nofollow" target="_blank">。<code class="fe mz na nb nc b">h()</code>函数将JSX转换成虚拟DOM元素。</a></li><li id="9699" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第5–20行，它定义了<code class="fe mz na nb nc b">Home</code>组件，这是一个典型的React代码，具有Fresh徽标(第8–12行)、欢迎文本(第13–16行)和<code class="fe mz na nb nc b">Counter</code>组件(第17行)。</li></ul><p id="4ce7" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">以下是<code class="fe mz na nb nc b">http://localhost:8000</code>显示的页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/fed4727b4dcefebe536e0fd40b8d7f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*7jybq3cdv1IzKcsLihDabg.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><h2 id="32cb" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">[姓名]。tsx</h2><p id="8f61" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe mz na nb nc b">[name].tsx</code>是为路径<code class="fe mz na nb nc b">/:name</code>指定动态路由的页面组件。这是由<code class="fe mz na nb nc b">http://localhost:8000/:name</code>访问的页面。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="448e" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">第1–2行是Preact特定的语法。</li><li id="ee23" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第5–8行，它定义了<code class="fe mz na nb nc b">Greet</code>组件，该组件读取路由参数以检索<code class="fe mz na nb nc b">props.params.name</code>，并显示动态Hello消息。添加第6行以显示<code class="fe mz na nb nc b">props</code>。</li></ul><p id="1d50" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><code class="fe mz na nb nc b">PageProps</code>类型被定义为具有<code class="fe mz na nb nc b">url</code>、<code class="fe mz na nb nc b">route</code>、<code class="fe mz na nb nc b">params</code>和<code class="fe mz na nb nc b">data</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="d81f" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">在浏览器上，键入URL路径<code class="fe mz na nb nc b">http://localhost:8000/john</code>。<code class="fe mz na nb nc b">console.log</code>在执行控制台上显示页面属性:</p><pre class="kj kk kl km gt ob nc oc od aw oe bi"><span id="1146" class="np kw it nc b gy of og l oh oi">{<br/>  params: { name: "john" },<br/>  url: URL {<br/>    href: "http://localhost:8000/john",<br/>    origin: "http://localhost:8000",<br/>    protocol: "http:",<br/>    username: "",<br/>    password: "",<br/>    host: "localhost:8000",<br/>    hostname: "localhost",<br/>    port: "8000",<br/>    pathname: "/john",<br/>    hash: "",<br/>    search: ""<br/>  },<br/>  route: "/:name",<br/>  data: undefined<br/>}</span></pre><p id="60a5" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">以下是<code class="fe mz na nb nc b">http://localhost:8000/john</code>显示的页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/13c07f5b649db533043cbbb23f03ac86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*Hs5O-bkfO2XyC2oM2mBqYg.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><h2 id="71cb" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">api/joke.ts</h2><p id="1abe" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">路由实际上由两部分组成:处理程序和页面组件。处理程序是形式为<code class="fe mz na nb nc b">Request =&gt; Response</code>或<code class="fe mz na nb nc b">Request =&gt; Promise&lt;Response&gt;</code>的函数，当向特定路由发出请求时会调用这些函数。</p><p id="2b51" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">带有页面组件的路线是常规路线，如<code class="fe mz na nb nc b">index.tsx</code>和<code class="fe mz na nb nc b">[name].tsx</code>。只有处理程序的路由是API路由，比如<code class="fe mz na nb nc b">routes/api/joke.ts</code>。API路线位于<code class="fe mz na nb nc b">routes/api</code>。</p><p id="b1de" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><code class="fe mz na nb nc b">routes/api/joke.ts</code>定义了以下处理程序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="c89b" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第3-15行，创建了一个包含10个笑话的数组。</li><li id="8f2d" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第17–21行，一个处理程序被定义为<code class="fe mz na nb nc b">JOKES</code>的随机行。</li></ul><p id="31ee" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">必须导出一个处理程序。它可以访问支持路由请求的<code class="fe mz na nb nc b">Request</code> ( <code class="fe mz na nb nc b">_req</code>)对象，并且必须返回一个<code class="fe mz na nb nc b">Response</code>对象。响应对象既可以手动创建，比如笑话字符串，也可以通过<code class="fe mz na nb nc b">_ctx</code>、<code class="fe mz na nb nc b">HandlerContext</code>呈现页面组件来创建。</p><p id="14c5" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">以下是<code class="fe mz na nb nc b">http://localhost:8000/api/joke</code>显示的页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/9c356c9a60d1706d206328380498b158.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*2JlaRSwkbnlvKNn8DDqE2A.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><h2 id="46b6" class="np kw it bd kx nq nr dn lb ns nt dp lf lw nu nv lh ma nw nx lj me ny nz ll oa bi translated">[姓名]。带处理程序的tsx</h2><p id="d72f" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">由<code class="fe mz na nb nc b">http://localhost:8000/john</code>访问的<code class="fe mz na nb nc b">[name].tsx</code>没有定义自定义处理程序。它使用只呈现页面组件的默认处理程序。</p><p id="7b73" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我们可以用一个自定义处理程序来扩展它，以调用<code class="fe mz na nb nc b">api/joke</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><ul class=""><li id="d8da" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第5–15行，为<code class="fe mz na nb nc b">GET</code>方法定义了一个处理程序。它调用API路由，<code class="fe mz na nb nc b">http://localhost:8000/api/joke</code>。</li><li id="e56c" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第8行，<code class="fe mz na nb nc b">resp</code>显示在执行控制台上:</li></ul><pre class="kj kk kl km gt ob nc oc od aw oe bi"><span id="fa07" class="np kw it nc b gy of og l oh oi">Response {<br/>  body: ReadableStream { locked: false },<br/>  bodyUsed: false,<br/>  headers: Headers {<br/>  "content-type": "text/plain;charset=UTF-8",<br/>  date: "Sat, 23 Jul 2022 18:29:48 GMT",<br/>  vary: "Accept-Encoding"<br/>},<br/>  ok: true,<br/>  redirected: false,<br/>  status: 200,<br/>  statusText: "OK",<br/>  url: "http://localhost:8000/api/joke"<br/>}</span></pre><ul class=""><li id="5a51" class="mq mr it lp b lq mj lt mk lw ms ma mt me mu mi mv mw mx my bi translated">在第12行，检索响应体，并由第13行的<code class="fe mz na nb nc b">_ctx.render(result)</code>呈现为<code class="fe mz na nb nc b">data</code>。</li><li id="cf4b" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第17–25行，它定义了<code class="fe mz na nb nc b">Greet</code>组件。</li><li id="fa49" class="mq mr it lp b lq nd lt ne lw nf ma ng me nh mi mv mw mx my bi translated">在第18行，<code class="fe mz na nb nc b">console.log</code>在执行控制台上显示页面属性:</li></ul><pre class="kj kk kl km gt ob nc oc od aw oe bi"><span id="a2a5" class="np kw it nc b gy of og l oh oi">{<br/>  params: { name: "john" },<br/>  url: URL {<br/>    href: "http://localhost:8000/john",<br/>    origin: "http://localhost:8000",<br/>    protocol: "http:",<br/>    username: "",<br/>    password: "",<br/>    host: "localhost:8000",<br/>    hostname: "localhost",<br/>    port: "8000",<br/>    pathname: "/john",<br/>    hash: "",<br/>    search: ""<br/>  },<br/>  route: "/:name",<br/>  data: "Why are assembly programmers often wet? They work below C level."<br/>}</span></pre><p id="3699" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">以下是<code class="fe mz na nb nc b">http://localhost:8000/john</code>显示的页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/75b98304e4f8f8f1a57fa36ba64918a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*aj81KLqt58v6gNj3UKA8hA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="aefe" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">以下是获取数据的技巧—渲染是同步的，获取数据是异步的。所有异步操作都应该加载到route的<code class="fe mz na nb nc b">handler</code>函数中，然后通过<code class="fe mz na nb nc b">_ctx.render()</code>的第一个参数传递给页面组件。传递给<code class="fe mz na nb nc b">_ctx.render()</code>的数据可以通过页面组件上的<code class="fe mz na nb nc b">props.data</code>字段进行访问。</p><h1 id="efd8" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">岛屿</h1><p id="667f" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">在Fresh中，孤岛支持客户端交互。它们是在客户端呈现的独立的Preact组件。这不同于通常在服务器上呈现的所有其他组件。</p><p id="ef41" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><code class="fe mz na nb nc b">islands</code>目录包含项目中所有的岛。每个文件的名称对应于岛组件的pascal大小写名称。这里是<code class="fe mz na nb nc b">islands/Counter.tsx</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="8f00" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">这看起来像是正常的行为代码吗？</p><p id="7ab4" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">简单来说就是用作<code class="fe mz na nb nc b">&lt;Counter start={3} /&gt;</code>。</p><h1 id="625c" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">部署到生产环境</h1><p id="50b6" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们已经写了<a class="ae ku" href="https://javascript.plainenglish.io/a-hands-on-guide-for-creating-a-production-ready-react-app-864ad98e7497" rel="noopener ugc nofollow" target="_blank">一个创建生产就绪的React应用</a>的指南，它显然不简单。然而，<a class="ae ku" href="https://deno.com/deploy" rel="noopener ugc nofollow" target="_blank"> Deno Deploy </a>可以轻松地将生产应用部署为全球可用。</p><p id="f9c3" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">为了部署到Deno Deploy，应用程序需要有一个GitHub repo。存储库<code class="fe mz na nb nc b"><a class="ae ku" href="https://github.com/JenniferFuBook/my-deno-fresh-project" rel="noopener ugc nofollow" target="_blank">my-deno-fresh-project</a></code>就是为此目的而创建的。</p><p id="e066" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">转到<a class="ae ku" href="https://dash.deno.com/projects" rel="noopener ugc nofollow" target="_blank"> Deno Deploy仪表板</a>并创建一个新项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi om"><img src="../Images/44da2b1ba91c8b1001b1ce71fc60518e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_wNOd-eLSGOEC6lWl1rkmw.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="1c71" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">新创建的项目在<code class="fe mz na nb nc b">https://jennifer-fresh-project.deno.dev/</code>可用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi om"><img src="../Images/a5cb4c928a7008d92ac1fdc676968fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YTPlp4dugVXofGD0FKl5NQ.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="24c7" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">去<code class="fe mz na nb nc b"><a class="ae ku" href="https://jennifer-fresh-project.deno.dev/" rel="noopener ugc nofollow" target="_blank">https://jennifer-fresh-project.deno.dev/</a></code>，索引页很好用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/e3cad43c8263e369a0748e74d1c39ff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*yotaWNb_SY8raYDhsSLDFA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="179b" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">转到<code class="fe mz na nb nc b"><a class="ae ku" href="https://jennifer-fresh-project.deno.dev/api/joke" rel="noopener ugc nofollow" target="_blank">https://jennifer-fresh-project.deno.dev/api/joke</a>,</code>API路线运行良好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7bb1ffdddad01104d8f7c8857b28ccfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*a6KNqrXjvf4PGcKH00BnxA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="5bdd" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">转到<code class="fe mz na nb nc b">https://jennifer-fresh-project.deno.dev/john,</code>，它显示一个错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/fc5a68b2ae57dd6ee7cf0d00b649c088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*mEtGr2uCG0FYenqBKj88rQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="fe77" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">发生了什么事？</p><p id="3432" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">转至<code class="fe mz na nb nc b">https://dash.deno.com/projects/jennifer-fresh-project/logs</code>，显示错误详情:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi oo"><img src="../Images/f03b57fb45191d5946c110831d9d0b6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vIVMCgD3eynfljNYdVrMpA.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="34e5" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">很明显<code class="fe mz na nb nc b">http://localhost:8000/api/joke</code>不是为API服务的。在以下代码的第9行更改硬编码的API路径:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="a3a5" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">它适用于本地开发环境。</p><p id="68f2" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">提交更改并将代码推送到Github。</p><p id="fe53" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">它仍然不工作，出现508错误:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi op"><img src="../Images/29c96825358ef1dfe7a888e25b8df53e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q4uNDq4vbUUNdbR9_lE3AQ.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="072e" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">这是一个现存的问题，下面是改编自<a class="ae ku" href="https://github.com/WittySmirk" rel="noopener ugc nofollow" target="_blank">怀亚特·德根哈特</a>的<a class="ae ku" href="https://github.com/denoland/fresh/issues/398#issuecomment-1174075334" rel="noopener ugc nofollow" target="_blank">解决方案</a>的工作代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="8803" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">它起作用了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/265e7307fa39c081716c30f4d3f0512f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*tTX88rDNzWps1XSOEd9faA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="5ab9" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">以下是快乐日志:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi oq"><img src="../Images/45dd011043dc9ef8fff420c3a90493f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rFcmFGcrADbUIpc8074fsA.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="8ccf" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">问题已解决。不过Fresh应该可以走API路由的相对路径。新的可用框架仍然需要一些改进。</p><p id="5100" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">纵观全局，每次推送Github都会触发自动重新部署。这个功能非常方便。项目仪表板上的日志/崩溃内容有助于调试部署问题。</p><h1 id="1d26" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">结论</h1><p id="6af3" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">Fresh旨在创建高质量、高性能和个性化的web应用程序。这是一种为Deno编写的新型web框架。Fresh基于<a class="ae ku" href="https://jasonformat.com/islands-architecture/" rel="noopener ugc nofollow" target="_blank"> islands架构</a>并使用Preact，Preact通过一个小库实现快速虚拟DOM。Preact和JSX用于服务器和客户端的渲染和模板化。</p><p id="5978" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">Fresh 1.0推出还不到一个月，但它展示了许多有前途的特性，以促进快速服务器端呈现、方便路由和易于部署的开发。</p><p id="9159" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">还有另一个web框架，<a class="ae ku" href="https://medium.com/p/5dadd98f8e39" rel="noopener"> Astro </a>，你可能想看看。它还使用了岛屿架构。</p><p id="4e15" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">感谢阅读。</p><pre class="kj kk kl km gt ob nc oc od aw oe bi"><span id="21cb" class="np kw it nc b gy of og l oh oi"><strong class="nc iu">Want to Connect?</strong></span><span id="e5e0" class="np kw it nc b gy or og l oh oi">If you are interested, check out <a class="ae ku" href="https://jenniferfubook.medium.com/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener">my directory of web development articles</a>.</span></pre></div></div>    
</body>
</html>