<html>
<head>
<title>Losing Head Over Code Coverage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在代码覆盖率上失去理智</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/loosing-head-over-code-coverage-c2d955bd4c3c?source=collection_archive---------14-----------------------#2022-07-05">https://betterprogramming.pub/loosing-head-over-code-coverage-c2d955bd4c3c?source=collection_archive---------14-----------------------#2022-07-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dabe" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">以及如何将测试覆盖合并到开发中</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ce40ec2f58238901b5ccfa1f106c6eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_8sSkRABSES9okXA"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">西蒙·伯杰在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b02a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">毫无疑问，人际关系可能很艰难，但在很多方面也是示意性的。可以观察模式和定义短语。</p><p id="4398" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我在开发团队和代码覆盖率之间的关系中观察到一种特殊的模式。</p><p id="4481" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，是无知阶段，开发人员完全忽略了代码覆盖率的度量，不管他们可能编写了多少测试。</p><p id="36fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，一旦度量被发现，开发人员倾向于沉迷于它，将它视为测试套件质量的唯一决定因素——这就是痴迷阶段。</p><p id="cbc1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终，这种关系会发展到最后的阶段，在这个阶段中，代码覆盖率是软件质量保证的众多度量之一，需要谨慎对待。</p><p id="de7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">开发人员编写自动化测试是行业标准，生产软件需要可维护和可扩展的方式。</p><p id="146f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在每个人都编写测试，但是没有多少人将测试覆盖合并到他们的工作流程中。如果你发现自己属于这一类，让我告诉你关于覆盖范围。</p><blockquote class="ls lt lu"><p id="1753" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated"><em class="iq">在计算机科学中，测试覆盖率是一个特定测试套件运行时程序源代码被执行程度的百分比度量。</em></p></blockquote><p id="43fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，50%意味着我们一半的代码在测试套件运行期间至少执行一次，而另一半则完全省略。</p><p id="d11e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">100%意味着源代码被测试完全覆盖。这并不能保证代码没有错误，但是如果做得好，可以让您非常接近，同时不会成为开发和维护过程的巨大负担。</p><p id="94be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是如何将测试覆盖合并到开发中:</p><ul class=""><li id="fbe9" class="lz ma iq ky b kz la lc ld lf mb lj mc ln md lr me mf mg mh bi translated">编写新代码时，使用IDE和调试器来检查新源代码的哪些行被测试命中，哪些行没有被测试命中。你会惊讶的。</li><li id="b85f" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">使覆盖率测量成为CI/CD管道的一部分。让拉动式请求表明它们如何影响整体覆盖范围(增加/减少/中性)。此外，在回购的自述文件顶部放置一个覆盖徽章。</li></ul><p id="cf61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">“关系”的自然下一步似乎是痴迷阶段，在这一阶段，开发人员倾向于支持测试覆盖率超过任何其他度量。</p><p id="e0a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">他们只编写高水平的测试(因为他们的覆盖率最低)，他们所有的信心都来自这个单一的统计数据。</p><p id="708a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">遗憾的是，这通常是不够的，因为，到一天结束时，最终的统计数据是我们让多少bug溜到了最终用户那里。当处于痴迷阶段时，您很可能不会发现这两个指标如预期的那样相关。</p><p id="a8e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是如何将您的软件质量保证提升到一个新的水平:</p><ul class=""><li id="a115" class="lz ma iq ky b kz la lc ld lf mb lj mc ln md lr me mf mg mh bi translated">注意测试的逻辑方面，而不仅仅是代码行。使断言有意义且严格。</li><li id="6e86" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">广泛测试不同的路径。不要轻易放弃已经测试过的代码。通常，测试不同的路径需要多次覆盖相同的线路。</li><li id="7fa3" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">将测试视为同行评审的一等公民。</li><li id="ac8f" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">回顾性地分析错误，并致力于改进测试套件，以防止将来出现相同类型的错误。</li></ul><p id="57b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">底线是，尽管我鼓励开发人员依赖代码覆盖率，但要记住，就测试套件质量而言，还有其他方面在发挥作用。</p><p id="60e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">毕竟，测试自动化的最终目的是以高度的信心实现快速开发，其质量的最终决定因素是最终用户发现的错误。</p></div></div>    
</body>
</html>