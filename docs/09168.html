<html>
<head>
<title>6 More Terminal Commands You Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您应该知道的另外6个终端命令</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/6-more-terminal-commands-you-should-know-3606cecdf8b6?source=collection_archive---------3-----------------------#2021-07-22">https://betterprogramming.pub/6-more-terminal-commands-you-should-know-3606cecdf8b6?source=collection_archive---------3-----------------------#2021-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="16d6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">来自/usr/bin深处的另一轮巧妙命令</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/43540378f665d7321e0e8e9548a18f92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E71VWSVOUplfC6juanF3tA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Joan Gamell 在<a class="ae ky" href="https://unsplash.com/s/photos/code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="88f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在大多数Linux或macOS系统上浏览一下<code class="fe lv lw lx ly b">/usr/bin</code>,您会发现即使没有数千个命令，也有数百个。可供你选择的数量似乎令人眼花缭乱。尽管这些命令中的一些不会每天都是最相关或最有用的，但它们中的大部分都非常方便，有些非常聪明。</p><p id="fcfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们计算一下全新安装的Debian 10 (Buster)上可用的命令数量，会超过2000个(你可以运行<code class="fe lv lw lx ly b">compgen -c</code>来查看列表)。你将花费数年时间来梳理和掌握所有的选项。幸运的是，你不必这样做。</p><p id="12a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中(你应该知道的<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/6-terminal-commands-you-should-know-8e9767bdfec"> 6个终端命令的续篇</a>)，我们将会看到六个更加有趣和有用的命令，当你把它们添加到你的指令清单中时，它们将会使你成为一个生产力大师。</p><p id="ba40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面就开始探索几个吧！</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="995e" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">1.使用cmp比较文件中的差异</h1><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="94c0" class="nc mh it ly b gy nd ne l nf ng">cmp &lt;file1&gt; &lt;file2&gt;</span></pre><p id="6671" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们假设你有两个文本文件。每个文件中都有几行简单的文本，如下所示:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="5be5" class="nc mh it ly b gy nd ne l nf ng">file1.txt           file2.txt<br/>--------           --------<br/>line1              line1<br/>line2              line2<br/>line4              line3</span></pre><p id="6fc5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不想打开每个文件并通过寻找不同的行来检查它，您可以使用<code class="fe lv lw lx ly b">cmp</code>来快速确定文件中的任何差异。</p><p id="380f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您通过了<code class="fe lv lw lx ly b">cmp file1.txt file2.txt</code>，您将看到以下输出:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="17b9" class="nc mh it ly b gy nd ne l nf ng">file1.txt file2.txt differ: char 17, line 3</span></pre><p id="331b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过识别行号和字符号，这可以快速地向您显示这两个文件的分歧所在。这个工具对于进行即时文件比较非常方便。您可以通过验证文件是否相同来检查复制作业的基本有效性，或者通过比较一些源文件来找出它们的不同之处，从而找出代码中的错误。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="267b" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">2.用comm查找文件中的公共行</h1><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="ce8a" class="nc mh it ly b gy nd ne l nf ng">comm &lt;file1&gt; &lt;file2&gt;</span></pre><p id="20e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，<code class="fe lv lw lx ly b">comm</code>实用程序扫描相似的线，而不是像<code class="fe lv lw lx ly b">cmp</code>那样寻找不同的线。使用这个命令，您可以识别两个文件的<em class="nh">公共</em>行。</p><p id="89a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们使用前一个示例中相同的两个文件，看看这个实用程序是如何工作的:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="cc01" class="nc mh it ly b gy nd ne l nf ng">file1.txt           file2.txt<br/>--------           --------<br/>line1              line1<br/>line2              line2<br/>line4              line3</span></pre><p id="5b09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们运行<code class="fe lv lw lx ly b">comm file1.txt file2.txt</code>，我们应该会看到以下输出:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="b31d" class="nc mh it ly b gy nd ne l nf ng">            line1<br/>            line2<br/>      line3<br/>line4</span></pre><p id="c789" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">起初，这个输出可能有点令人困惑，但是它向您显示的是三个特定的结果列:</p><ul class=""><li id="39a2" class="ni nj it lb b lc ld lf lg li nk lm nl lq nm lu nn no np nq bi translated">第一列包含仅来自第一个输入文件的行</li><li id="b8d9" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated">第二列仅包含第二个输入文件中的行</li><li id="d29a" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated">两个文件共有的最后一列行</li></ul><p id="389e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用这个工具，我们可以快速识别包含相同行的文件。这对于查找在多个文件中定义的变量或者在一些文本输出中寻找重复条目是很有用的。</p><p id="34a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您需要不区分大小写，您也可以将<code class="fe lv lw lx ly b">-i</code>标志传递给<code class="fe lv lw lx ly b">comm</code>。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="8482" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">3.使用ssh-keyscan预加载可信的SSH密钥</h1><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="d393" class="nc mh it ly b gy nd ne l nf ng">ssh-keyscan &lt;hostname&gt; &gt;&gt; ~/.ssh/known_hosts</span></pre><p id="6ec9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您有多少次连接到新机器并收到一般警告:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="f854" class="nc mh it ly b gy nd ne l nf ng">"The authenticity of host &lt;foo&gt; can't be established.</span><span id="7fa6" class="nc mh it ly b gy nw ne l nf ng">Are you sure you want to continue connecting? (yes/no)?"</span></pre><p id="a0ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在连接到你已经知道是可信的主机(从内部网络或者像GitHub这样的公共服务),那么这条消息并不能保护你。</p><p id="dea4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数时候，用户只是简单地输入“是”，比你说出“安全漏洞”还要快。那么，如果我们连接到许多主机，有什么方法可以减少我们看到这个消息的次数呢？是啊！</p><p id="0cc5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">ssh-keyscan</code>,您可以扫描一个特定的主机或一列主机的公共SSH密钥，并将它们添加到您的<code class="fe lv lw lx ly b">known_hosts</code>文件中。现在当你连接到那个主机时，你不会得到提示，因为密钥已经存在于你的<code class="fe lv lw lx ly b">known_hosts</code>文件中。例如，假设您想要扫描<a class="ae ky" href="https://about.gitlab.com/" rel="noopener ugc nofollow" target="_blank"> GitLab </a>中的键并自动添加它们:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="633f" class="nc mh it ly b gy nd ne l nf ng">ssh-keyscan gitlab.com &gt;&gt; ~/.ssh/known_hosts</span></pre><p id="57a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您应该能够SSH到公共GitLab主机，而不会在继续之前被提示添加密钥。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="32ef" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">4.用脚本记录您的终端会话日志</h1><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="c664" class="nc mh it ly b gy nd ne l nf ng">script &lt;filename&gt;</span></pre><p id="68a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你是否曾经在一个终端会话中处理一些复杂或令人沮丧的东西，并且希望你能自动保存所有的输出供以后使用？<code class="fe lv lw lx ly b">script</code>命令可以让你做到这一点。</p><p id="3dcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个简单的程序最初是为学生设计的，用于保存他们所有作业的日志，以显示他们是如何得出解决方案的。然而，这种用途并不仅限于学术界。</p><p id="844b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经使用这个工具在敏感的操作中保存日志，在这些操作中，我必须再次确认我运行了一个特定的命令。这也被实现为记录特定用户会话的基本方法，以便以后进行安全审查。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="cd58" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">5.用jot生成测试数据</h1><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="ee8d" class="nc mh it ly b gy nd ne l nf ng">jot &lt;number&gt;</span></pre><p id="6193" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常快速地需要大量随机或顺序数据？使用<code class="fe lv lw lx ly b">jot</code>。这个漂亮且极其简单的实用程序可以让您生成一个巨大的数字列表，并创建一些非常大的数据输出。</p><p id="5b9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了<code class="fe lv lw lx ly b">jot</code>，你可以构建连续的数字、字符串和字节集，或者只是输出随机数据。以下命令将生成一个从1到100的序列号列表:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="e7fc" class="nc mh it ly b gy nd ne l nf ng">jot 100</span><span id="143d" class="nc mh it ly b gy nw ne l nf ng">1<br/>2<br/>...<br/>100</span></pre><p id="423d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看到这有多简单了吗？那么，一些随机数呢？</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="b4ee" class="nc mh it ly b gy nd ne l nf ng">jot -r 100</span><span id="87fc" class="nc mh it ly b gy nw ne l nf ng">19<br/>27<br/>...<br/>49</span></pre><p id="7b73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几根大长弦怎么样？</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="20d5" class="nc mh it ly b gy nd ne l nf ng">jot -s abc 100</span><span id="67da" class="nc mh it ly b gy nw ne l nf ng">1abc2abc3abc4abc5abc6abc7abc8abc9abc10abc11abc12abc13abc14abc15abc16abc17abc18abc19abc20abc21abc22abc23abc24abc25abc26abc27abc28abc29abc30abc31abc32abc33abc34abc35abc36abc37abc38abc39abc40abc41abc42abc43abc44abc45abc46abc47abc48abc49abc50abc51abc52abc53abc54abc55abc56abc57abc58abc59abc60abc61abc62abc63abc64abc65abc66abc67abc68abc69abc70abc71abc72abc73abc74abc75abc76abc77abc78abc79abc80abc81abc82abc83abc84abc85abc86abc87abc88abc89abc90abc91abc92abc93abc94abc95abc96abc97abc98abc99abc100</span></pre><p id="6a1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个命令快速、简单，比我用来快速生成简单测试数据的任何其他命令都要简单。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="6b4b" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">6.使用iptab联网的快速参考</h1><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="8f44" class="nc mh it ly b gy nd ne l nf ng">iptab</span></pre><p id="0a57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不敢相信我忽略了这一点。这非常简单，但是当你急着想改变网络时，却非常有用。发出不带参数的<code class="fe lv lw lx ly b">iptab</code>命令将显示子网掩码和其他IP地址空间详细信息的参考表:</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="3494" class="nc mh it ly b gy nd ne l nf ng">+----------------------------------------------+<br/>| addrs   bits   pref   class  mask            |<br/>+----------------------------------------------+<br/>|     1      0    /32          255.255.255.255 |<br/>|     2      1    /31          255.255.255.254 |<br/>|     4      2    /30          255.255.255.252 |<br/>|     8      3    /29          255.255.255.248 |<br/>|    16      4    /28          255.255.255.240 |<br/>|    32      5    /27          255.255.255.224 |<br/>|    64      6    /26          255.255.255.192 |<br/>|   128      7    /25          255.255.255.128 |<br/>|   256      8    /24      1C  255.255.255.0   |<br/>|   512      9    /23      2C  255.255.254.0   |<br/>|    1K     10    /22      4C  255.255.252.0   |<br/>|    2K     11    /21      8C  255.255.248.0   |<br/>|    4K     12    /20     16C  255.255.240.0   |<br/>|    8K     13    /19     32C  255.255.224.0   |<br/>|   16K     14    /18     64C  255.255.192.0   |<br/>|   32K     15    /17    128C  255.255.128.0   |<br/>|   64K     16    /16      1B  255.255.0.0     |<br/>|  128K     17    /15      2B  255.254.0.0     |<br/>|  256K     18    /14      4B  255.252.0.0     |<br/>|  512K     19    /13      8B  255.248.0.0     |<br/>|    1M     20    /12     16B  255.240.0.0     |<br/>|    2M     21    /11     32B  255.224.0.0     |<br/>|    4M     22    /10     64B  255.192.0.0     |<br/>|    8M     23     /9    128B  255.128.0.0     |<br/>|   16M     24     /8      1A  255.0.0.0       |<br/>|   32M     25     /7      2A  254.0.0.0       |<br/>|   64M     26     /6      4A  252.0.0.0       |<br/>|  128M     27     /5      8A  248.0.0.0       |<br/>|  256M     28     /4     16A  240.0.0.0       |<br/>|  512M     29     /3     32A  224.0.0.0       |<br/>| 1024M     30     /2     64A  192.0.0.0       |<br/>| 2048M     31     /1    128A  128.0.0.0       |<br/>| 4096M     32     /0    256A  0.0.0.0         |<br/>+----------------------------------------------+</span></pre><p id="92a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该命令没有参数，只是一个简单的表格供您参考，然后继续进行这些关键的网络更改。</p><p id="3c2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一篇就到此为止——感谢阅读！</p></div></div>    
</body>
</html>