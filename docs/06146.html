<html>
<head>
<title>LazyHGrids in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的LazyHGrids</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/lazyhgrids-in-swiftui-aced42336f8?source=collection_archive---------11-----------------------#2020-09-04">https://betterprogramming.pub/lazyhgrids-in-swiftui-aced42336f8?source=collection_archive---------11-----------------------#2020-09-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a825" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">可以把它们想象成水平滚动的集合视图</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1072950403b18bab7dbd1d4b86353595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9VtDgmIMNtMQSU5r"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@pawel_czerwinski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">paweczerwiński</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="4dc9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最近的WWDC 2020上，苹果推出了一款<code class="fe lv lw lx ly b">LazyHGrid</code>。许多开发人员发现SwiftUI在首次推出时缺少对CollectionView的支持。随着<code class="fe lv lw lx ly b">LazyHGrid</code>的发布，您现在可以在UIKit中模仿与UICollectionView相同的行为。</p><blockquote class="lz"><p id="01f2" class="ma mb it bd mc md me mf mg mh mi lu dk translated"><em class="mj">“一个容器视图，它在一个水平增长的网格中排列其子视图，仅在需要时创建项目。”— </em> <a class="ae ky" href="https://developer.apple.com/documentation/swiftui/lazyhgrid" rel="noopener ugc nofollow" target="_blank"> <em class="mj">苹果开发者</em> </a></p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="bfe5" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">先决条件</h1><p id="3695" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">要学习本教程，您需要了解以下方面的一些基本知识:</p><ul class=""><li id="0eef" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated">迅速发生的</li><li id="cdb6" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">至少Xcode 12+</li></ul><p id="bc32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oc">注意:这只支持iOS 14+。</em></p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="f3fc" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">LazyHGrid入门</h1><p id="5bff" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">正如您可能注意到的，<code class="fe lv lw lx ly b">Lazy</code>前缀基本上表示视图只在屏幕上出现时才被渲染，这提高了性能。您不想同时加载所有1，000个数据。使用<code class="fe lv lw lx ly b">LazyHGrid</code>，您只需加载屏幕上出现的任意数量的数据。</p><p id="22b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了让事情更有趣，我们来编一个故事情节。特斯拉正在举办一场招聘iOS工程师的比赛，他们向所有人开放了提交材料。你热爱特斯拉，想成为团队的一员。</p><p id="c794" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以你决定用SwiftUI和<code class="fe lv lw lx ly b">LazyHGrid</code>来打动他们。</p><p id="c6b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您首先需要配置布局，您可以使用<code class="fe lv lw lx ly b">GridItem</code>来完成。<code class="fe lv lw lx ly b">GridItem</code>基本上允许您配置<code class="fe lv lw lx ly b">size</code>和<code class="fe lv lw lx ly b">grid</code>属性:</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="3a4a" class="oh ms it ly b gy oi oj l ok ol">var gridItems: [GridItem] = [GridItem()]</span></pre><p id="e5ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您将创建<code class="fe lv lw lx ly b">LazyHGrid</code>，它嵌入在<code class="fe lv lw lx ly b">ScrollView</code>中用于滚动。</p><p id="5310" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，<code class="fe lv lw lx ly b">Assets.xcassets</code>中存储的图像基本命名为<code class="fe lv lw lx ly b">1</code>、<code class="fe lv lw lx ly b">2</code>、<code class="fe lv lw lx ly b">3</code>、<code class="fe lv lw lx ly b">4</code> …</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="aaef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/502134c48fdeead6e0060e9e502ee117.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/1*K3ZlZ3IXOCldUtG_EMDm_A.gif"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="4521" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">自定义行</h1><p id="3f40" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">在上面的配置中，只有一行。在SwiftUI上添加行变得更加容易，只需添加一行代码即可完成。只需将您的<code class="fe lv lw lx ly b">gridItems</code>修改如下:</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="85cc" class="oh ms it ly b gy oi oj l ok ol">var gridItems: [GridItem] = [GridItem(), GridItem()]</span></pre><p id="f6d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你会看到两行。如果您希望有更多行，您可以自行添加。默认情况下，<code class="fe lv lw lx ly b">GridItem</code>使用<code class="fe lv lw lx ly b">flexible(minimum: CGFloat = 10, maximum: CGFloat = .infinity)</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/04e91471977d88fabe1ce070771a9e32.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/1*8Zi85_EJaUPYvA6P0BBksg.gif"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="22dc" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">定制尺寸</h1><p id="cc94" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">你甚至可以通过使用<code class="fe lv lw lx ly b">GridItem.Sizes</code>来调整网格的大小，包括<code class="fe lv lw lx ly b">fixed</code>、<code class="fe lv lw lx ly b">adaptive</code>和<code class="fe lv lw lx ly b">flexible</code>。</p><p id="1654" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">fixed</code>，你可以给物品指定高度。下面的代码基本上表明第一行的高度是200，下一行的高度是400。</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="b45b" class="oh ms it ly b gy oi oj l ok ol">var gridItems: [GridItem] = [GridItem(.flexi(200)),<br/>                             GridItem(.fixed(400))]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/02c8d69e05694908e19c01b9c2c2c460.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ujykflg-a8ctgnkbCcZ-Bg.png"/></div></div></figure><p id="bf4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">flexible</code>、<strong class="lb iu">、</strong>可以设置最小和最大高度。在这里，你甚至可以混合一些其他的<code class="fe lv lw lx ly b">GridItem.Sizes</code>:</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="11f6" class="oh ms it ly b gy oi oj l ok ol">var gridItems: [GridItem] = [GridItem(.flexible(minimum: 100, maximum: 300)),<br/>                             GridItem(.fixed(400))]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/9a38c33fd66f735e3bcf82cbb084b6d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XN5anWgv3h2akgmL2Mtf0g.png"/></div></div></figure><p id="53c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">adaptive</code>，<code class="fe lv lw lx ly b">LazyHGrid</code>将通过检查每个项目的高度来确定需要多少行:</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="b358" class="oh ms it ly b gy oi oj l ok ol">var gridItems: [GridItem] = [GridItem(.adaptive(minimum: 150, maximum: 400))]</span></pre><p id="78e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，每个项目的高度重新调整如下。使用<code class="fe lv lw lx ly b">adaptive</code>，它只是计算要创建多少行:</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="231e" class="oh ms it ly b gy oi oj l ok ol">.frame(width: 200, height: 150, alignment: .center)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/d149467469e0561becef3bc0fd938a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6MYpnWRbcA2YEfq0f3l5rQ.png"/></div></div></figure><p id="3d91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们不要被定制分散注意力。相反，让我们发送我们的提交到特斯拉的网站，并希望我们被选中。</p></div></div>    
</body>
</html>