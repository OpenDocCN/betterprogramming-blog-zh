<html>
<head>
<title>Terraforming a Terrific Two-Tier Triumph</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一场了不起的双重胜利</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/terraforming-a-terrific-two-tier-triumph-4e7297e6a1e1?source=collection_archive---------7-----------------------#2022-07-29">https://betterprogramming.pub/terraforming-a-terrific-two-tier-triumph-4e7297e6a1e1?source=collection_archive---------7-----------------------#2022-07-29</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="32f3" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">或者如何在Terraform中建造一个简单的建筑</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/5498944893b1de0fb8faa6685805e0e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NSXN5hhkWpqJNocpC2BG9A.png"/></div></div></figure><p id="bed8" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">如果你一直关注我的旅程，这个项目可能看起来有点熟悉。我之前完成了一个项目，使用AWS的CloudFormation和YAML创建了一个3层的示例架构。这一次，我们将它削减到两层，并且将在Terraform中完成。</p><h1 id="8b5e" class="lr ls iu bd lt lu lv lw lx ly lz ma mb ka mc kb md kd me ke mf kg mg kh mh mi bi translated">什么是Terraform？</h1><p id="3388" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">简而言之，Terraform是一个基础设施即代码(IaC)工具，允许人们创建完整的架构，而不管你使用的是哪个提供商(AWS、GCP、Azure等)。与CloudFormation类似，在cloud formation中，您创建一个“模板”来启动，Terraform利用一个中心文档来列出要创建的数据点和资源。</p><h1 id="ab88" class="lr ls iu bd lt lu lv lw lx ly lz ma mb ka mc kb md kd me ke mf kg mg kh mh mi bi translated">我们在建造什么？</h1><p id="761b" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">我们的任务是构建一个具有以下规格的双层架构:</p><ul class=""><li id="1deb" class="mo mp iu kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">VPC和CIDR 16年10月0日</li><li id="cdba" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">CIDRs为10.0.1.0/24和10.0.2.0/24的2个公共子网。每个都在不同的AZ中，以实现高可用性。</li><li id="892c" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">CIDRs为10.0.3.0/24和10.0.4.0/24的两个私有子网。每个都在不同的AZ中，以实现高可用性。</li><li id="7df4" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">一个专用子网中的RDS MySQL实例。</li><li id="4d0b" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">将流量导向公共子网的负载平衡器。</li><li id="bb1c" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">每个公共子网中的EC2 t2.micro实例。</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nc"><img src="../Images/ee44f0ed5c5744ad00607fb050414d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TJG2OhrjADhkB1tm_r87lA.png"/></div></div></figure><h1 id="04d6" class="lr ls iu bd lt lu lv lw lx ly lz ma mb ka mc kb md kd me ke mf kg mg kh mh mi bi translated">我需要什么？</h1><ul class=""><li id="1eae" class="mo mp iu kx b ky mj lb mk le nd li ne lm nf lq mt mu mv mw bi translated">具有管理员权限的AWS帐户</li><li id="22aa" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">访问<a class="ae ng" href="https://registry.terraform.io/" rel="noopener ugc nofollow" target="_blank"> Terraform文档</a></li><li id="feb3" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">您选择的IDE/终端。(我使用Visual Code Studio和Cloud9的组合)</li><li id="7ce9" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">安装在IDE或本地工作站上的Terraform。</li></ul><h1 id="a3f8" class="lr ls iu bd lt lu lv lw lx ly lz ma mb ka mc kb md kd me ke mf kg mg kh mh mi bi translated">我们走吧！！</h1><p id="7b13" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">对于这个项目，我们将有点混乱，并创建一个“单片”地形(tf)文件。这仅仅意味着我们所有的资源、数据点等将在一个文件中。Tf允许工程师将元素分解成不同的文档，从而允许更多的模块化设计，但我们只是要为这个项目创建一个野兽。</p><p id="58ed" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我建议为您的Terraform项目创建一个新目录，因为当我们运行它时会创建一些文件/文件夹。但是现在，一个简单的1，2，3就能让我们到达我们需要的地方:</p><ul class=""><li id="913e" class="mo mp iu kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated"><code class="fe nh ni nj nk b">mkdir &lt;projectname&gt;</code></li><li id="e18e" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><code class="fe nh ni nj nk b">cd &lt;projectname&gt;</code></li><li id="3c33" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated"><code class="fe nh ni nj nk b">touch main.tf</code></li></ul><p id="f87f" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我们将要编辑的是<code class="fe nh ni nj nk b">main.tf</code>文件。</p><h2 id="27cb" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">供应商</h2><p id="52bc" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">这是我们告诉tf我们将使用什么服务的地方。注意，你可以有多个提供者(事实上，这是tf的优点之一)，但是现在我们只使用AWS。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nx"><img src="../Images/c4e1999ac62f8281f95a066d31759130.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*618mRc1nU0SLTn7V-7UM_Q.png"/></div><p class="ny nz gk gi gj oa ob bd b be z dk translated">我们也将在这里指定我们的区域。</p></figure><h2 id="196f" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">VPC</h2><p id="6ade" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">接下来，我们将创建我们的VPC。这将是我们的环境，包含我们所有的组件。接下来，我们将继续创建我们的子网:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure><p id="f49c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">通过<code class="fe nh ni nj nk b">map_public_ip_on_launch</code>元素，子网可以很容易地从公有切换到私有。元素确保子网在我们创建的VPC内。上面的代码还显示了我们如何手动将每个子网分配到不同的可用性区域以获得可靠性。</p><p id="a042" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">至此，我们基本上已经有了这个小项目的“骨架”，所以现在让我们添加一些器官吧！</p><h2 id="a838" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">实例</h2><p id="aeff" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">该项目模拟了一个2层体系结构，需要一个RDS MySQL实例在私有子网中作为我们的“数据库层”,两个EC2实例在公共子网中作为我们的“web层”。下面的代码还展示了一些需要创建的额外内容，比如EC2实例的密钥对、它们的安全组以及RDS实例的子网组。</p><p id="e4df" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我们将在下一节中讨论安全组，所以现在，让我们回顾一下RDS。就像这个项目的99%一样，我们可以从Terraform注册表中找到所有这些元素的文档。有示例代码，以及所有组件(必需或可选)的列表，以及可以在输出中引用的内部属性等。插入我们的价值观，我们就出发了！我将注意到RDS可能需要相当长的时间来创建/销毁，所以我将我的大小更改为比他们提供的示例小得多，并且关闭了multi-az，因为我在这个项目中不需要它。</p><p id="81d0" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">许多元素都是不言自明的，因此创建资源(例如修改模板)变得相当快速和容易。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure><p id="82ed" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">EC2实例就像在控制台或AWS CLI中创建它们一样，或者几乎是任何其他实例化EC2实例的方式。我们只是要确保<code class="fe nh ni nj nk b">subnet_id</code>和<code class="fe nh ni nj nk b">vpc_security_group_ids</code>设置正确，否则要进行大量的故障排除。我将我的引导程序内联(虽然对于更大的引导程序脚本，它可以作为文件或数据源传入)，这样我们就有了实例！</p><h1 id="6233" class="lr ls iu bd lt lu lv lw lx ly lz ma mb ka mc kb md kd me ke mf kg mg kh mh mi bi translated">界面</h1><p id="fbd9" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">如果实例是我们的器官，那么网络接口就像嘴巴或眼睛……进入我们环境的门户。</p><h2 id="a2fb" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">网关</h2><p id="24f6" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">用户或客户实际与之交互的第一部分是互联网网关。这是什么让交通进入我们的VPC。我们还将在这里设置路由表:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure></div><div class="ab cl oe of hy og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="in io ip iq ir"><p id="6cb2" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">您可能会注意到，我只将公共子网添加到路由表中。这是因为，由于这更多的是在Terraform中的练习，而不是在完整的架构中，所以没有理由将我的私有子网连接到我的公共子网。因为我的web层只不过是一个简单的html页面，所以它不需要与RDS实例/私有子网/“数据库层”对话。但是，如果是这样的话，我们还需要几个元素:</p><ul class=""><li id="c4a1" class="mo mp iu kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">私有子网的另一个路由表</li><li id="b356" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">公共路由表中的另一个条目</li><li id="9134" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">NAT网关</li><li id="ce1f" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">EIP</li><li id="5766" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">可能有一两个我现在忘记了:)</li></ul></div><div class="ab cl oe of hy og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="in io ip iq ir"><h2 id="644a" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">负载平衡器</h2><p id="eb09" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">然后，我们进入一个设备，将流量分配给我们的web层。这实际上提供了我们用来访问web服务器的DNS，所以看起来这是第一部分，但是由于DNS只是我们VPC内部的一个地址，它必须首先通过IG。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure><p id="ee0d" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">非常简单，我们构建我们的ALB来指向我们的公共子网，确保它有正确的安全组，将<code class="fe nh ni nj nk b">internal</code>设置为<code class="fe nh ni nj nk b">false</code>,这样它就是一个“面向互联网”的负载平衡器，我们就完成了！哦，等等，不完全是……这让我花了点时间才弄明白，但是有一个倾听者(尤其是<code class="fe nh ni nj nk b">target_group_arn</code>)是让这个工作成功的绝对关键。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure><p id="e440" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">简单回顾一下:</p><ul class=""><li id="82fb" class="mo mp iu kx b ky kz lb lc le mq li mr lm ms lq mt mu mv mw bi translated">创建需要监听器的ALB</li><li id="00b8" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">创建一个需要目标组的监听器</li><li id="e0d1" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">创建需要目标的目标组</li><li id="c0c8" class="mo mp iu kx b ky mx lb my le mz li na lm nb lq mt mu mv mw bi translated">将目标附加到组</li></ul><p id="8446" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">还和我在一起吗？很好！</p><p id="a063" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我要说的是，所有这些部分的文档都很好地解释了每个部分*是什么，但通常不会帮助您了解*哪些部分可以一起使用，或者您*需要*哪些部分才能工作。这些项目无疑教会了我这一部分。</p><h1 id="b504" class="lr ls iu bd lt lu lv lw lx ly lz ma mb ka mc kb md kd me ke mf kg mg kh mh mi bi translated">安全组</h1><p id="88c9" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">在我们尝试运行之前，这最后一部分将介绍我们需要的三个安全组，以便让正确的流量流向它需要去的地方。</p><p id="a68f" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">VPC、ALB和EC2。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure><p id="ee50" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">老实说，这是我在整个项目中最大的挣扎。最终，我忘记了我的VPC安全组上的<code class="fe nh ni nj nk b">cidr_blocks</code>，然后需要为EC2实例和负载平衡器创建安全组。允许从ALB到web层的流量是通过引用ALB安全组实现的。</p><p id="b7fb" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">有了这个拼图的最后一块，我们现在准备通过Terraform命令来创建这个作品！</p></div><div class="ab cl oe of hy og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="in io ip iq ir"><h1 id="1e59" class="lr ls iu bd lt lu ol lw lx ly om ma mb ka on kb md kd oo ke mf kg op kh mh mi bi translated">土地改造</h1><h2 id="270a" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">1.地形初始化</h2><p id="7317" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated"><code class="fe nh ni nj nk b">terraform init</code>是我们将在终端上运行的第一个命令。正如您可能猜到的，这将初始化我们的项目将使用的所有文件和依赖项。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oq"><img src="../Images/0726d955396f0f6269138d0de40cbcc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*E4Uj7KYp6Myq9I190ImRLw.png"/></div><p class="ny nz gk gi gj oa ob bd b be z dk translated">screencap来自命令的重新运行，因此是“重用”和“先前安装”的行</p></figure><h2 id="e909" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">2.terraform fmt/terraform验证</h2><p id="aafe" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">这两个不同的命令是可选的，但可以派上用场。<code class="fe nh ni nj nk b">fmt</code>仅仅格式化你的。tf文件，所以他们有干净的空间等等。浏览你的文件并检查语法。它不能检测所有的问题，但是通过发现那些烦人的小错误，它肯定能为你节省一些时间！这两个函数都将返回他们已经修改过的文件。(可以使用<code class="fe nh ni nj nk b">-diff</code>和<code class="fe nh ni nj nk b">fmt</code>来显示所做的更改)</p><h2 id="857c" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">3.地形图</h2><p id="4482" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">下一个命令将检查您的代码，并提供一个输出，显示Terraform在“应用”时将执行的操作。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj or"><img src="../Images/58abe77bb30d7064109eb11b6705a0c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QUblRNLLB9EkbS3XuBrhFw.png"/></div></div><p class="ny nz gk gi gj oa ob bd b be z dk translated">太多无法截图，但底部的提要有助于注意</p></figure><h2 id="6619" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">4.地形应用</h2><p id="552e" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">好了，伙计们，这是红色大按钮！这个命令告诉Terraform“Go”，在第二次“yes”确认之后，tf将开始创建所有的资源。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj os"><img src="../Images/213865ca35dd9ee22373ddcf8629acd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*OYl2YYws2Y8wEyNEz_J8mQ.png"/></div></figure><p id="f4cd" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">同时，喝杯咖啡，或者吃点零食。对于此项目，即使RDS很小，也可能需要5-6分钟。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ot"><img src="../Images/9d2e88a0e2e587112647ffa2066e21c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xb48-cmdvB-B8ewBT_W_BA.png"/></div></div></figure><p id="e0b0" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">构建完成后，我们应该会看到以下屏幕:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ou"><img src="../Images/62a9eae75b79e426803b9649d1559434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rgfF6YrHomzwwOxUE_VC6w.png"/></div></div></figure><p id="113e" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我们可以运行的一个很酷的命令是<code class="fe nh ni nj nk b">terraform state list</code>,它将向我们展示所有创建的不同元素:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ov"><img src="../Images/049cbe79e256f298a70a8db3bb855244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oP2eTBP7t1I1qv1uvt_ZOw.png"/></div></div></figure><p id="9b63" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我们可以通过检查AWS控制台中的不同点来手动确认所有内容都已创建，但我们的最终检查是看我们是否可以访问我们的web服务器。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ow"><img src="../Images/3db525ac96aade2418ee07eae42387df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XJw8g-LTEX_j7YGAipl2Eg.jpeg"/></div></div></figure><h2 id="73b1" class="nl ls iu bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">5.地形破坏</h2><p id="6bdb" class="pw-post-body-paragraph kv kw iu kx b ky mj jv la lb mk jy ld le ml lg lh li mm lk ll lm mn lo lp lq in bi translated">史诗般的成功！现在让我们打扫一下。这一条命令将关闭一切，并删除我们创建的所有资产/资源。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ox"><img src="../Images/7e62dc4efcafb0fa61b91799fc7408ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Z_ulu8o6LrMcShbDszBXg.png"/></div></div></figure></div><div class="ab cl oe of hy og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="in io ip iq ir"><p id="ae31" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我们已经看到了如何在Terraform中创建一个简单的2层AWS架构。感谢你在这段旅程中与我同行，如果你想看最终的<code class="fe nh ni nj nk b">main.tf</code>文件，请务必查看我的GitHub:</p><div class="oy oz gq gs pa pb"><a href="https://github.com/vypr907/LUIT_Terraform" rel="noopener  ugc nofollow" target="_blank"><div class="pc ab fp"><div class="pd ab pe cl cj pf"><h2 class="bd iv gz z fq pg fs ft ph fv fx it bi translated">GitHub - vypr907/LUIT_Terraform:我探索Terraform的所有技术升级的地方</h2><div class="pi l"><h3 class="bd b gz z fq pg fs ft ph fv fx dk translated">我在Tech-GitHub-vypr 907/LUIT _ terra form的所有探索之家</h3></div><div class="pj l"><p class="bd b dl z fq pg fs ft ph fv fx dk translated">github.com</p></div></div><div class="pk l"><div class="pl l pm pn po pk pp kt pb"/></div></div></a></div></div></div>    
</body>
</html>