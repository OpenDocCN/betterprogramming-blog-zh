<html>
<head>
<title>Using Python’s set.update() Method for Fun and Profit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python的set.update()方法以获得乐趣和利润</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/pythons-set-update-method-53a8fbadb204?source=collection_archive---------13-----------------------#2021-01-06">https://betterprogramming.pub/pythons-set-update-method-53a8fbadb204?source=collection_archive---------13-----------------------#2021-01-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7755" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python的set是一种强大的集合数据类型，在某些情况下，它提供了优于list对象的几个性能优势</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d73b78220194120948139cf6690adbb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HEvKqaPJZJ0tekpXZw9xXw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图像由<a class="ae ky" href="https://www.overcoded.net" rel="noopener ugc nofollow" target="_blank">过度编码</a></p></figure><p id="2174" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python是世界上最流行的编程语言之一，这是有充分理由的——它提供了强大的内置数据类型来处理常见问题。<code class="fe lv lw lx ly b">set </code>数据类型可用于需要唯一性的性能集合。Python <code class="fe lv lw lx ly b">sets</code>在查找时比<code class="fe lv lw lx ly b">lists</code>性能更好，但是在迭代元素时性能稍差<em class="lz"> </em>。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="755b" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">Python集合数据类型快速介绍</h1><p id="fd93" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">Python集合提供了几种添加、移除或检索元素的方法。最简单的(ish)方法是<code class="fe lv lw lx ly b">set.add()</code>方法。官方Python文档以如下方式描述集合(<a class="ae ky" href="https://docs.python.org/dev/tutorial/datastructures.html#sets" rel="noopener ugc nofollow" target="_blank"> R </a>):</p><blockquote class="ne nf ng"><p id="cdaa" class="kz la lz lb b lc ld ju le lf lg jx lh nh lj lk ll ni ln lo lp nj lr ls lt lu im bi translated">集合是没有重复元素的无序集合。基本用途包括成员资格测试和消除重复条目。集合对象还支持数学运算，如并、交、差和对称差。</p></blockquote><p id="5ae3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些值得注意的要点是没有重复元素、成员测试和奇特的数学运算。这些被认为是Python的<code class="fe lv lw lx ly b">set </code>数据类型的定义特征。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="275d" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">Python的set.update方法</h1><p id="7c8e" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">要真正理解Python的<code class="fe lv lw lx ly b">set.update</code>方法，需要将其与<code class="fe lv lw lx ly b">set.add</code>方法进行比较。这种比较将对应该选择<code class="fe lv lw lx ly b">set.update</code>的用例和底层功能进行分层。因此，我们将重点放在<code class="fe lv lw lx ly b">set.update</code>上，但我会在此过程中包括一些比较示例。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="a76c" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">添加单一元素</h1><p id="0712" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">下面是通过<code class="fe lv lw lx ly b">set.add</code>方法创建集合和添加元素的快速示例。注意第二个例子的错误表明<em class="lz">只有单个项目</em>可以这样添加。这是应该考虑更新方法的标志。否则，必须迭代循环中要添加的所有元素(最后一个例子)。见下文:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="d052" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:我已经用文字符号而不是<code class="fe lv lw lx ly b">set()</code>符号创建了一个集合。此语法不能用于创建空集，因为它将创建一个空的字典对象。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="fcea" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">添加多个元素</h1><p id="4424" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">向一个<code class="fe lv lw lx ly b">set</code>添加多个元素就是<code class="fe lv lw lx ly b">set.update()</code>方法的用武之地。它的用法很简单，但是在一些值得注意的情况下必须小心。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="7a6c" class="nm mi it bd mj nn no dn mn np nq dp mr li nr ns mt lm nt nu mv lq nv nw mx nx bi translated">字典对象</h2><p id="0702" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">注意这里的<code class="fe lv lw lx ly b">set.update</code>方法需要多个iterable项。限定结构包括<code class="fe lv lw lx ly b">Lists</code>、<code class="fe lv lw lx ly b">Tuples</code>，甚至<code class="fe lv lw lx ly b">Dictonary</code>对象。另外，注意<code class="fe lv lw lx ly b">set.update()</code>方法将只使用来自<code class="fe lv lw lx ly b">Dictionary</code>对象的键。例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="0076" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python还允许使用多个键创建dictionary对象，尽管重复的值将被忽略。这可能会造成一些混乱，值得记住，尤其是在使用字典对象和集合对象时。例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="f111" class="nm mi it bd mj nn no dn mn np nq dp mr li nr ns mt lm nt nu mv lq nv nw mx nx bi translated">元组对象</h2><p id="c210" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">元组是另一种需要小心的情况。虽然元组是使用<code class="fe lv lw lx ly b">add()</code>方法整体添加的，但是更新添加了单个元素。如果元组的成员关系很重要，那么<code class="fe lv lw lx ly b">add()</code>方法更合适。例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="bf52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最后一个示例中，请注意，作为iterable成员添加的元组是完整添加的。这说明<code class="fe lv lw lx ly b">set.update()</code>方法<em class="lz">不是递归的</em>。</p><h2 id="6104" class="nm mi it bd mj nn no dn mn np nq dp mr li nr ns mt lm nt nu mv lq nv nw mx nx bi translated">字符串对象</h2><p id="8d11" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">向集合中添加字符串还会带来一些需要注意的边缘情况——最值得注意的是，可能会将字符串解释为<code class="fe lv lw lx ly b">character</code> iterables。记住<code class="fe lv lw lx ly b">update()</code>方法接受一个iterable作为它的参数add方法接受一个单独的项目。当向update方法传递一个包含多个字符的字符串时，它将被解释为iterable，并被视为iterable。考虑下面的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="ee13" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">最后的想法</h1><p id="a476" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">很明显，Python的<code class="fe lv lw lx ly b">set.update()</code>方法有一些首选用例。通常，当需要向一个集合对象添加多个项目时，这是首选。集合提供了高得多的性能成员测试——特别是对于大型数据集——尽管性能的可迭代性稍差。</p><p id="1193" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，这里列出的使用<em class="lz">和</em>边缘案例有助于更好地评估与列表等其他集合数据类型相比，集合的性能收益何时超过损失。此外，几乎可以肯定的是，记住<code class="fe lv lw lx ly b">set.update()</code>方法的用例、动态和边缘情况关注点将证明在任何项目中争论数据时是有益的。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="9b6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lz">文章“</em> <a class="ae ky" href="https://www.overcoded.net/python-set-update-method-044711/" rel="noopener ugc nofollow" target="_blank">利用Python的set.update方法取乐&amp;获利</a>”<em class="lz">原载于</em> <a class="ae ky" href="https://www.overcoded.net" rel="noopener ugc nofollow" target="_blank"> <em class="lz">过度编码</em> </a> <em class="lz">网站，经允许在此转载。</em></p></div></div>    
</body>
</html>