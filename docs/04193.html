<html>
<head>
<title>An Android Studio Plugin for Autogenerating Models or POJO Classes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个自动生成模型或POJO类的Android Studio插件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/android-studio-plugin-for-auto-generation-of-model-or-pojo-classes-78bfda432527?source=collection_archive---------3-----------------------#2020-03-29">https://betterprogramming.pub/android-studio-plugin-for-auto-generation-of-model-or-pojo-classes-78bfda432527?source=collection_archive---------3-----------------------#2020-03-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e205" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为API响应创建模型类的最简单方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/335ea3fa46260e1911c526c38b1130b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CRz7OYnI_SqwHM0YDWttnw.png"/></div></div></figure><p id="38a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于开发人员来说，使用最好的IDE和工具进行开发更容易——它们对于战士来说就像一把剑一样重要。如果我们正确使用它们，我们可以用更少的时间做更好的事情。毕竟，业绩可能是唯一的衡量标准，而不是多年的经验。因此，为了提高性能，我们需要更多地使用东西，并充分利用它们。</p><p id="78dc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们的日常开发中，为了处理网络请求响应，我们创建普通的旧Java对象(POJO)或模型类来正确地处理它们。一开始，我们手动编写每个字段，但后来，过了一段时间，我们遇到了一个生成模型类的在线网站。后来，插件开始发挥作用，这使得它变得容易得多，即使没有互联网连接，它们也能工作。在本文中，我们将讨论为API响应创建模型类的两种方法。我们在本文中讨论的创建模型或POJO类的两种方法是:</p><ul class=""><li id="87ed" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">使用网站方法</li><li id="53d7" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">使用插件方法</li></ul><p id="05fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，让我们考虑这样一个API请求，它给出以下响应。</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="fc23" class="mj mk it mf b gy ml mm l mn mo">[<br/>  {<br/>    "<strong class="mf iu">id</strong>": 123,<br/>    "<strong class="mf iu">name</strong>": "Captain America",<br/>    "<strong class="mf iu">realname</strong>": "Steve Rogers",<br/>    "<strong class="mf iu">team</strong>": "Avengers",<br/>    "<strong class="mf iu">firstappearance</strong>": "1941",<br/>    "<strong class="mf iu">createdby</strong>": "Joe Simon",<br/>    "<strong class="mf iu">publisher</strong>": "Marvel Comics",<br/>    "<strong class="mf iu">imageurl</strong>": "<a class="ae mp" href="https://www.simplifiedcoding.net/demos/marvel/captainamerica.jpg" rel="noopener ugc nofollow" target="_blank">https://www.simplifiedcoding.net/demos/marvel/captainamerica.jpg</a>",<br/>    "<strong class="mf iu">bio</strong>": "\r\n\t\tSteven Rogers was born in the Lower East Side of Manhattan, New York City, in 1925 to poor Irish immigrants, Sarah and Joseph Rogers.[54] Joseph died when Steve was a child, and Sarah died of pneumonia while Steve was a teen. By early 1940, before America's entry into World War II, Rogers is a tall, scrawny fine arts student specializing in illustration and a comic book writer and artist.\r\n\t\t"<br/>  },<br/> {<br/>   ......<br/>  },<br/> {<br/>   ......<br/>  },<br/>.........<br/> {<br/>   ......<br/>  }<br/>]</span></pre><p id="9ed3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如您在上面的代码片段中看到的，几乎没有九个字段。手动创建对象并编写每个键及其类型不会花费太多时间。但是假设有大约50或100个字段，您是否愿意花费大量时间手工编写它们？不是吧？因此，让我们详细探讨一下上述每一种方法。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="4594" class="mx mk it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated"><strong class="ak">使用网站方法</strong></h1><p id="b5f1" class="pw-post-body-paragraph ku kv it kw b kx no ju kz la np jx lc ld nq lf lg lh nr lj lk ll ns ln lo lp im bi translated">这是用来为API响应创建模型类的最简单的方法之一，而不是手工写出每个字段。现在有很多网站可以做这项工作。</p><p id="4a54" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一开始，我们使用了<a class="ae mp" href="http://www.jsonschema2pojo.org/" rel="noopener ugc nofollow" target="_blank"> jsonschema2pojo、</a> <strong class="kw iu"> </strong>，这已经很容易了。问题是如何使用它。很简单:首先，打开你的浏览器，输入<code class="fe nt nu nv mf b">jsonschema2pojo.org</code>。<strong class="kw iu"> </strong>这会将您重定向到网址，在那里您会看到以下屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/79e3bfc831541870176d192aae400c26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXVvB2yBBnKsE7GWFBp0Cg.png"/></div></div></figure><p id="a425" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在左侧，我们需要粘贴需要转换的响应或JSON数据，并在右侧选择所需的转换字段。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/4a75cb7a1c62c464d1c7566772b343b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sWbGx1UKVXx3BVqKiF3mJg.png"/></div></div></figure><p id="2872" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们的例子中，在右上角，根据我们的要求，我们需要提到应用包名和类名，在它下面选择语言选项Java。在其下方，选择注释样式为Gson。最后，在底部，我们有两个选项:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/f76758e622ae1fc4ac011b2c84ce5d01.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*EXQLmaXE71AUvH60paQo5Q.png"/></div></figure><p id="da61" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">预览选项让您了解模型类是如何生成的，您可以在将它导入到项目中之前使用它进行验证。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/ffef3861b7dbc14be54f7d1c363e2a56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGsY1lrSi0vwGedFr6VO0g.png"/></div></div></figure><p id="7f85" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">zip选项允许您下载一个或多个类，您可以将它们复制并粘贴到您的项目中。就是这样！即使你有20或50或100块田地，努力是一样的。</p><p id="a9fc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用这种方法<strong class="kw iu">、</strong>的优点是:</p><ul class=""><li id="03e2" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">我们不需要在模型类中手工编写每个字段，这将节省您的时间</li></ul><p id="f74d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">缺点是:</p><ul class=""><li id="4768" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">您需要互联网连接才能使用这种方法</li><li id="719f" class="lq lr it kw b kx lz la ma ld mb lh mc ll md lp lv lw lx ly bi translated">我还没有找到直接生成Kotlin类的选项</li></ul><p id="e2a1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还有一个替代网站，<a class="ae mp" href="https://www.json2kotlin.com/" rel="noopener ugc nofollow" target="_blank"> json2kotlin，</a>那里的过程是相同的。您可以轻松地生成Kotlin数据类。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="1db4" class="mx mk it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated"><strong class="ak">使用插件方法</strong></h1><p id="034c" class="pw-post-body-paragraph ku kv it kw b kx no ju kz la np jx lc ld nq lf lg lh nr lj lk ll ns ln lo lp im bi translated">我想你对插件有一个基本的概念，插件只不过是即插即用的组件。要找到插件部分，请转到首选项并在Android Studio中选择右侧的插件。然后，您会发现以下屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/37ea1ae5dc93aa3a7724be3d953cf3eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3aZQbljd3VLDg6sZ_gRNUg.png"/></div></div></figure><p id="f7e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以使用搜索栏来搜索您感兴趣的插件，或者向下滚动到末尾来查看不同的可用插件。当你点击右边的任何一个插件时，你可以查看与该插件相关的信息。之后，如果你感兴趣，只需点击安装按钮。然后，单击应用。在那之后，重启studio，这样改动就能反映出来，你就可以使用插件了。</p><p id="e0c7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这种情况下，让我们在插件搜索栏上搜索<a class="ae mp" href="https://github.com/wuseal/JsonToKotlinClass" rel="noopener ugc nofollow" target="_blank"> JsonToKotlin lass </a>。然后，我们可以找到不同发行商提供的不同插件的列表。所以还是选下面有logo的插件吧，因为我用过，感觉很方便。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/a444c5e5192210aaf39ef3c1aad5ece4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*75rIlD_8aTV1efQ00rTLUw.png"/></div></div></figure><p id="7fb4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="ob">文件→设置→插件→浏览存储库→搜索jsontoktlinclass</em></p><p id="b1f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">安装后，重启你的工作室。一旦完成，双击键盘，搜索JSON。然后，您会发现如下所示的选项:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/f6cf9ca6c73495f6400d3cbc64d02794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4bRhjCRoKTaugIpUR7h4uA.png"/></div></div></figure><p id="f6fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">单击您想要生成模型的包，并选择New选项。在那里，您可以选择“来自JSON的Kotlin数据类文件”选项，这样它就会在适当的文件夹中生成(否则，它会随机生成，我们需要将它移回适当的文件夹)。</p><p id="196e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">单击您安装的选项。它将打开一个窗口，您可以在其中粘贴JSON数据以获得该类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/ff61831af043eb7b9b24528416586762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TcFvPdMmZY184pdc42mLXA.png"/></div></div></figure><p id="4c72" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">单击Generate选项，它会生成一个带有注释和所有必需内容的类。您可以单击高级选项，根据需要更改默认值。</p><div class="kj kk kl km gt ab cb"><figure class="oc kn od oe of og oh paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/b90a6320512c8f23d2e01f1c924421ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*b2PlgmBy0zaIO0o_DvLWnQ.png"/></div></figure><figure class="oc kn oi oe of og oh paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/4672418c59f5ebf94a7e465680ca5a39.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*qyyoAsHNMsjBJ6jz5YZ8Rw.png"/></div></figure></div><p id="f2df" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是通过上述方法生成的类。</p><pre class="kj kk kl km gt me mf mg mh aw mi bi"><span id="8701" class="mj mk it mf b gy ml mm l mn mo">package com.example.daggersample.modules</span><span id="d91c" class="mj mk it mf b gy oj mm l mn mo">import com.google.gson.annotations.SerializedName</span><span id="0c9c" class="mj mk it mf b gy oj mm l mn mo">data class SampleModel(<br/>    @SerializedName("bio")<br/>    val bio: String?,<br/>    @SerializedName("createdby")<br/>    val createdby: String?,<br/>    @SerializedName("firstappearance")<br/>    val firstappearance: String?,<br/>    @SerializedName("imageurl")<br/>    val imageurl: String?,<br/>    @SerializedName("name")<br/>    val name: String?,<br/>    @SerializedName("properties")<br/>    val properties: Properties?,<br/>    @SerializedName("publisher")<br/>    val publisher: String?,<br/>    @SerializedName("realname")<br/>    val realname: String?,<br/>    @SerializedName("team")<br/>    val team: String?<br/>)</span></pre><p id="ff35" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe nt nu nv mf b">@SerializedName</code>是一个注释，表示这个成员应该序列化为JSON，并使用提供的name值作为它的字段名。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="2595" class="mx mk it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">结论</h1><p id="dba8" class="pw-post-body-paragraph ku kv it kw b kx no ju kz la np jx lc ld nq lf lg lh nr lj lk ll ns ln lo lp im bi translated">目前就这些。我想你从这篇文章中学到了一些东西。我会写更多关于这些插件的东西，这些插件可以节省时间，让我们的工作更容易。</p><p id="0489" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读。</p></div></div>    
</body>
</html>