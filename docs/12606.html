<html>
<head>
<title>Create NFTs Using Solidity With Open Zeppelin and Publish It on IPFS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Solidity和Open Zeppelin创建NFT并在IPFS上发布</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-your-own-nft-smart-contract-tutorial-1b90978bd7a3?source=collection_archive---------1-----------------------#2022-06-16">https://betterprogramming.pub/how-to-create-your-own-nft-smart-contract-tutorial-1b90978bd7a3?source=collection_archive---------1-----------------------#2022-06-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="46e7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">在OpenSea上查看</strong></h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5290d43696d7f5961cd6883aeb0663a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IL11_SIYtyui5zt4"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@theshubhamdhage?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Shubham Dhage </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="e8e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着web3空间在区块链舞台上继续取得重大进展，非功能性桌面和数字收藏品越来越受欢迎。Cryptokitties和Bored APE等NFT的巨大人气推动投资者购买ERC721兼容的数字收藏品。</p><p id="f823" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将指导你创建你的第一个ERC-721 (NFT)合同的过程。</p><p id="a20f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用solidity开发一个智能合同并将其部署在区块链上，起初听起来可能令人生畏:Solidity、安全性、gas优化、开发人员环境和gas费用，只是将代码托管在区块链上需要经历的一些事情。</p><p id="90bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">OpenZeppelin Wizard等工具为开发人员提供了点击和编写功能，可以立即创建可组合的安全智能合同，与Alchemy等Web3开发工具配合使用，可以让在区块链上编写部署代码的体验变得前所未有的简单、快速和可靠。</p><p id="6b65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，您将学习如何开发和部署ERC721 (NFT)智能合约。</p><h1 id="f5a2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">技术堆栈</h1><ul class=""><li id="8beb" class="mk ml iq ky b kz mm lc mn lf mo lj mp ln mq lr mr ms mt mu bi translated">魔力</li><li id="9c02" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">OpenZeppelin</li><li id="7321" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">再搅拌</li><li id="06ab" class="mk ml iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">以太坊</li></ul><h1 id="9d08" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 1。开齐柏林飞艇</strong></h1><p id="ad98" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">首先我们去<a class="ae kv" href="https://docs.openzeppelin.com/contracts/4.x/" rel="noopener ugc nofollow" target="_blank"> OpenZeppelin </a>，然后在向导选项卡上，点击ERC721。所有NFT都是ERC721令牌。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/2aca4f14ff8a2121543e2d29dc39bcb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LKE-Q_0Ck9Gw4IkHQjP4pQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">开放齐柏林ERC-721，来源:自我</p></figure><p id="5c7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们希望我们的令牌是可铸造的，具有可枚举和URI存储的特性。根据您的意愿命名您的令牌，并输入所需的符号。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/8dc7f61d3e35ec5f472ee90ce023c6f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jJps3Lp69LFBOl8MioHwGA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">可创建、可枚举、URIStorage的代码Source: self</p></figure><h1 id="d3ff" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 2。混音IDE </strong></h1><p id="8bfc" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">现在，点击右上角的打开混音按钮。它将打开Remix IDE并编写代码。您可以将编译器版本更改为0.8.4。</p><p id="af21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，是更新的代码，一定要在Remix里面改。我们需要删除solidity程序的Ownable部分，因为我们希望ownable之外的人也可以铸造我们的NFT。此外，我们还将MAX_SUPPLY添加为5000，以便限制NFT。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="d8ce" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 3。炼金术-创造应用程序</strong></h1><p id="5c34" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">接下来需要报名<a class="ae kv" href="https://dashboard.alchemyapi.io/" rel="noopener ugc nofollow" target="_blank">炼金</a>。点击创建应用程序，你可以随意命名你的应用程序。我把它命名为Namzz nft。然后点击查看键，复制HTTPS地址。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/ccf521ca500d010f920205e47c4c26e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5gl2fen_D0tBlP2SOb3K_A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建应用程序后的炼金术，来源:自我</p></figure><h1 id="9fac" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 4。元掩码-添加网络</strong></h1><p id="126c" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">此外，我们需要通过单击Add Network在Metamask上创建我们的网络。按照你的意愿命名测试网。我把它命名为Namzz Goerli testnet。粘贴我们从alchemy复制的https URL。为Goerli添加ID为5，并输入ETH作为符号。点击添加网络按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/db5889641b55382813130860b6f9aa4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*tDe6eQm1wDP2M7Ajnbq2OA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">网络创建，来源:self</p></figure><p id="d8bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以从歌尔里水龙头那里得到一些测试以太坊。这里是<a class="ae kv" href="https://goerlifaucet.com/" rel="noopener ugc nofollow" target="_blank">环节</a>。用你的Alchemy帐户登录并输入你的地址。你将在几秒钟内得到测试乙醚！</p><h1 id="4885" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 5。在Goerli Testnet上编译和部署NFT智能合同</strong></h1><p id="9c70" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在Remix上，转到Deploy，选择<em class="nj"> Injected Web3 </em>作为环境。它会自动连接到您的网络。你将会得到你的元掩码的地址以及平衡以太。在合同选项卡中选择您的智能合同，然后单击部署。</p><p id="0bc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它将显示一个元掩码弹出窗口，要求您支付费用。点击确认并等待10秒钟。它将在混音中添加已部署的契约！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/fffe7dea12175b83e8320a4ba53e0fe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*Xqcqgr4lWGjmvbcFkEQZog.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">元掩码中已部署的协定，来源:self</p></figure><h1 id="0b6d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 6。格式化NFT元数据</strong></h1><p id="b251" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">为了让OpenSea获取ERC721令牌的链外元数据，契约需要返回一个指向托管元数据的URI。为了找到这个URI，OpenSea、Rarible和其他流行的市场将使用包含在<code class="fe nl nm nn no b">ERC721Uristorage</code>标准中的<code class="fe nl nm nn no b">tokenURI</code>方法。</p><p id="4800" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">转到<a class="ae kv" href="https://docs.opensea.io/docs/metadata-standards" rel="noopener ugc nofollow" target="_blank"> OpenSea开发者文档</a>并复制元数据结构。粘贴到<a class="ae kv" href="https://jsoneditoronline.org/#left=local.faseci" rel="noopener ugc nofollow" target="_blank"> json在线编辑器</a>中，根据自己的意愿编辑描述。根据OpenSea文档，NFT元数据应该存储在一个. json文件中，其结构如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">NFT元数据</p></figure><h1 id="67a0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 7。在IPFS上创建和上传元数据</strong></h1><p id="e60e" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">现在我们已经对NFT元数据中包含的内容有了一个简单的了解，让我们来学习如何创建它并将其存储在IPFS行星间文件系统中。</p><p id="0a96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">转到Filebase，并在那里创建一个帐户。验证您的电子邮件并登录。现在，我们需要点击create bucket，这个bucket的名字是小写字母，我将其命名为<code class="fe nl nm nn no b">namzz-nft</code>。选择IPFS并创建。现在上传你想制作成nft的图片。点击图片并复制IPFS网关的网址。在JSON文件的image部分输入这个链接。</p><p id="6625" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以metadata.json的名称保存JSON文件，并上传到FileBase中的Bucket上。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/b4e03899654a035c6acd7a242c05efe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6DhntMS6CpJHCmFkPo9Q4A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将JSON文件保存为metadata.json，Source: self</p></figure><p id="eec8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击你的文件，复制IPFS刑事调查局。</p><h1 id="6a12" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 8。铸造你的格利测试网NFT </strong></h1><p id="622b" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">然后去混音室。<strong class="ky ir">橙色方法</strong>是实际写在区块链上的方法，而<strong class="ky ir">蓝色方法</strong>是从区块链学来的方法。</p><p id="cf37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击<code class="fe nl nm nn no b">safeMint</code>方法下拉图标，将您的地址和以下字符串粘贴到uri字段:</p><pre class="kg kh ki kj gt nq no nr ns aw nt bi"><span id="075a" class="nu lt iq no b gy nv nw l nx ny">ipfs://&lt;your_metadata_cid&gt;</span></pre><p id="03ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击transact将创建一个Metamask弹出窗口，提示您支付煤气费。点击“签名”,继续铸造你的第一个NFT！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/a5624f2264c28c86848e084c43ead1ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nDpr_0tKDPVvj-TK_ehhOQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">通过元掩码进行交易</p></figure><p id="315b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe nl nm nn no b">balanceOf</code>按钮中输入您的地址，然后输入您的地址。运行它——它应该显示您有1个NFT。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/a9ce18424fd108bc4f3936b25a0e0902.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*GHwzyQ_RN9TMzXD88AQJDA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">1 NFT可用</p></figure><p id="9b2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对tokenUri方法做同样的事情，插入“0”作为id参数—它应该显示您的tokenURI。</p><p id="6298" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！你刚刚铸造了你的第一个NFT！🎉现在是时候转移到OpenSea来检查元数据是否被读取了。</p><h1 id="b4e3" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak"> 9。在OpenSea上查看NFT</strong></h1><p id="ece4" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">导航到<a class="ae kv" href="https://testnets.opensea.io/" rel="noopener ugc nofollow" target="_blank"> testnets.opensea.io </a>和<strong class="ky ir">使用您的元掩码钱包</strong>登录。然后点击你的个人资料图片，你应该会看到你的新铸造的NFT。如果图像尚不可见，请单击它，然后单击“刷新元数据”按钮。</p><p id="5a01" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，OpenSea很难识别testnet元数据——可能需要长达6个小时才能看到它。</p><p id="1792" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">祝贺您，您已经成功创建、修改和部署了您的第一个智能合同。铸造了你的第一个NFT，并在IPFS上发布了你的照片！</p><p id="1497" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读。</p></div></div>    
</body>
</html>