# 在 SwiftUI 中正确完成多表

> 原文：<https://betterprogramming.pub/multisheets-done-right-in-swiftui-2634607adeb9>

## `A look at the custom MultiSheetDisplaying`查看

![](img/9aab732d3d02c251fe18073d23017165.png)

Nguyen Dang Hoang Nhu 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

这篇文章只是一个小提示，告诉我如何使用 SwiftUI 在 iOS 应用程序中实现多模态页面。

我敢肯定，你们大多数人都曾经在屏幕上工作过，利用多模态页面来显示不同类型的上下文。

如果您以前使用过 SwiftUI，您可能知道我们有一个简洁的小`View`操作符，可以用 SwiftUI 语言轻松显示模态或表单。

让我们看看它在通用设置页面上会是什么样子:

正如我们所看到的，这是非常直接的。一个`State`布尔函数使我们能够切换模态视图，瞧，我们手上有了一个工作模态。

但是，如果我们根据我们关注的设置开始显示多个这样的表，会发生什么呢？

一种方法是连续声明多个`.sheet`,然后结束它。我想我们都同意这样一个事实，这将很快带来混乱和重复的代码，我个人真的不喜欢摆弄这种类型的代码错误。下面是一个我们不想看到的小例子:

## 收拾残局

我们如何改进上面的场景，让上面的场景对眼睛和灵魂更加友好？

首先，让我介绍一个小的`protocol`，它将帮助我们把任何枚举转换成一粒金的模态药丸。

我向您介绍`MultiSheetDisplaying`:

这里发生了一些事情:

*   我们有一个显示函数，我们将使用它来显示模态内容
*   无显示状态的基本枚举事例
*   用于绑定视图运算符的布尔值

该扩展在显示变量上添加了一个助手实现。

现在让我们创建一个符合这个协议的 enum，并在我们的设置视图中实现我们管理模态的新方法。

正如你所看到的，现在只有一个入口点和一个变量来管理它们。

希望这对你有所帮助，给你一些甜蜜重构的小工具:)。

这也向您展示了一个巧妙的小技巧，能够在协议中声明一个具有不透明返回类型的函数，然后用`ViewBuilder`以一种通用的方式实现它。这可以帮助您删除 SwiftUI 代码库中的一些`AnyViews`。

下次再见，祝你愉快。