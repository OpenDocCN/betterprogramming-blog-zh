<html>
<head>
<title>Why CocoaPods Is Still A Thing In 2022?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么CocoaPods还是2022年的东西？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/why-cocoapods-is-still-a-thing-in-2022-b1478f03852?source=collection_archive---------7-----------------------#2022-10-17">https://betterprogramming.pub/why-cocoapods-is-still-a-thing-in-2022-b1478f03852?source=collection_archive---------7-----------------------#2022-10-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cad9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用CocoaPods而不是Swift Package Manager的几个原因</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/653890f047903b35c76ed557cc6ad547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0u5GrJCkqUAXsJ02"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@antonytrivet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">安东尼·特里维特</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="c3d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Swift包管理器(或SPM/SwiftPM)出现在Swift 3.0中，作为流行的包管理器CocoaPods和Carthage的替代。它是苹果官方的软件包管理器，这给了它巨大的优势。当它刚出现的时候，我听很多专家说，它会杀死所有其他的包管理器。到底发生了吗？让我们找出它。</p><h1 id="b604" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为什么您应该转向SPM</h1><p id="40eb" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">与它的替代品相比，SPM有几个优点。主要是……是苹果。苹果是一个品牌。它保证质量和支持。人们通常信任他们的产品。这意味着在一段时间内，越来越多的产品将支持SPM，有时仅支持SPM。</p><p id="6db7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SPM是Apple开发生态系统的一部分。它是Xcode的一部分。不像CocoaPods和Carthage，你不需要安装外部工具来使用它们。您不需要在终端中运行任何东西，您可以直接在Xcode中添加包。</p><p id="8a08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SPM可以在Linux中使用。没错，Swift是跨平台语言。尽管大多数开发人员将Swift用于macOS、iOS和其他苹果操作系统——这意味着在macOS环境中编写代码——但仍有少数开发人员将Swift用于其他目的(例如后端)。</p><p id="78b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SPM不需要工作空间。CocoaPods创建了一个工作区，这可能会令人困惑。您可以打开项目而不是工作区。默认情况下，该工作空间与项目同名，它位于Xcode欢迎窗口或XCOrganizer等帮助应用程序中。</p><p id="c357" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">切换到SPM的最后一个原因是它不需要任何配置。理论上，它可以像任何苹果应用产品一样开箱即用。</p><h1 id="17f2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为什么你应该和椰子呆在一起</h1><p id="fed7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果你在SPM发布之前为苹果平台开发应用，你可能会使用CocoaPods或Carthage。我将比较SPM和CocoaPods，将Carthage放在后面，因为它更受欢迎，而且我在这方面更有经验。</p><p id="3556" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CocoaPods与Objective-C一起工作。如果您的应用程序需要在低内存设备上工作，或者需要更高的性能，您可以考虑使用Objective-c。cocoa pods比Swift更早，甚至在Swift发布之前就可以工作。</p><p id="448d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CocoaPods更灵活。它有许多内置参数，如<code class="fe ms mt mu mv b">use_frameworks!</code>、<code class="fe ms mt mu mv b">inhibit_all_warnings!</code>等。但是，即使这些参数不能满足您的需要，您也可以手动配置不同的目标:</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="0d16" class="na lw it mv b gy nb nc l nd ne">post_install do |installer|<br/>  installer.pods_project.targets.each do |target|<br/>    ...<br/>  end<br/>end</span></pre><p id="b22f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这种方式，您可以更改构建标志。例如，您可以为旧应用程序设置旧的Swift版本。</p><p id="74e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CocoaPods可以使用任何自定义源，包括本地文件夹。就像这样，你可以修改一个库，并在你的应用中使用修改后的版本:</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="5950" class="na lw it mv b gy nb nc l nd ne">pod 'MyLib', :path =&gt; '~/MyLib'<br/>pod 'Alamofire', :git =&gt; 'https://github.com/Alamofire/Alamofire.git'</span></pre><p id="2b82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了选择路径或存储库URL之外，您还可以选择分支、标记甚至特定的提交:</p><pre class="kj kk kl km gt mw mv mx my aw mz bi"><span id="668a" class="na lw it mv b gy nb nc l nd ne">pod 'Alamofire', :git =&gt;  'https://github.com/Alamofire/Alamofire.git', :branch =&gt; 'dev'<br/>pod 'Alamofire', :git =&gt; 'https://github.com/Alamofire/Alamofire.git', :tag =&gt; '3.1.1'<br/>pod 'Alamofire', :git =&gt; 'https://github.com/Alamofire/Alamofire.git', :commit =&gt; '0f506b1c45'</span></pre><h1 id="5cb5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在这种情况下，椰子是唯一的选择</h1><p id="ca8d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在一些情况下，您根本无法使用SPM，尽管官方的SPM应该可以工作。</p><p id="386d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一种情况是不稳定的互联网连接。如果你在家里有不稳定的互联网连接，或者如果你喜欢在咖啡馆、酒店甚至海滩工作，SPM可能不会拉你的依赖。当SPM无法下载依赖项时，它会在Xcode中显示一个错误，甚至不允许重试。若要再试一次，您需要重新启动Xcode，或者移除并添加依赖关系。</p><p id="ffa1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我遇到的第二个无法使用SPM的情况是一个带有定制模式和框架的项目。项目通常有<code class="fe ms mt mu mv b">debug</code>和<code class="fe ms mt mu mv b">release</code>模式。如果您停留在这个范式中，您可以使用SPM。但是如果你有不同的构建模式，你的项目就不会构建。例如，对于QA或营销团队，当您同时使用框架来分离代码的某些部分时，这些框架使用来自SPM的框架。很可能在某个时候，苹果会修复这个问题，但在写这篇文章的那一刻，他们似乎并不着急。</p><h1 id="e898" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">摘要</h1><p id="271f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">CocoaPods和Swift包管理器都是很好的成熟包管理器，用于数千种产品。你可以使用它们中的任何一个，因为对于大多数项目来说，它们都可以完成预期的任务。</p><p id="565b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不能决定什么对你和你的项目更好，为什么不两者都用呢？他们甚至在同一个项目上工作得很好。</p><p id="70ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐，下次见！</p></div></div>    
</body>
</html>