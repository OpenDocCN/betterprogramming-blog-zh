<html>
<head>
<title>9 JavaScript Features That Can Make Any Java Developer Scream</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">9个可以让任何Java开发人员尖叫的JavaScript特性</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/9-javascript-features-that-can-make-any-java-developer-scream-e4160a044fc8?source=collection_archive---------1-----------------------#2021-04-19">https://betterprogramming.pub/9-javascript-features-that-can-make-any-java-developer-scream-e4160a044fc8?source=collection_archive---------1-----------------------#2021-04-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b5a9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这个参数，对象是哈希映射，对象从对象继承，var没有块作用域等等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/763f7182033d4bc0147407ca147c163f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7yGO2vWr0MzgQMxx"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Ryan Snaadt 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="35ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Java和JavaScript有时会被混淆，尤其是招聘人员，但它们当然是不同的语言。JavaScript最初是Java的愚蠢小弟，<strong class="lb iu"> </strong>但现在情况不同了。对不对？</p><p id="afc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们找出JavaScript的九个特性，它们会让一个Java开发人员非常困惑。</p><h1 id="86be" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.函数不一定是方法</h1><p id="aa5b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在Java中，函数在大多数情况下是方法，并且是在类内部定义的。即使不是方法的匿名函数也必须在类内部定义。</p><p id="8622" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中却不是这样。<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/10-fundamentals-you-need-to-know-about-functions-in-javascript-8e74579b7a9a">函数</a>不一定是方法。功能可以是独立的单元；它们不必在一个类中定义。</p><p id="4125" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript中的函数通常是在模块中创建的。一个模块基本上就是一个文件。为了使一个函数对其他模块可用，它必须被导出。下面是一些代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="fa1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用其他模块中的函数，我们必须首先导入它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="498f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mu mv mw mx b">removeDuplicates</code>函数不是对象上的方法。它只是一个可重用的独立函数。</p><h1 id="08cf" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.这不一定指向当前对象</h1><p id="e157" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在Java中，<code class="fe mu mv mw mx b">this</code>关键字总是指向当前的<a class="ae ky" href="https://medium.com/programming-essentials/7-things-you-should-know-about-objects-in-javascript-c0b2f251e160" rel="noopener">对象</a>。</p><p id="c49d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中却不是这样，这是许多混乱的来源。函数可以是独立的，但也可以是对象的一部分。当它们是对象的一部分时，它们就变成了方法。在这种情况下，他们需要知道自己属于哪个对象。<a class="ae ky" href="https://medium.com/programming-essentials/removing-javascripts-this-keyword-makes-it-a-better-language-here-s-why-db28060cc086" rel="noopener">这个</a>伪参数对此有所帮助。</p><p id="c4f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">混乱来自于这样一个事实，即<code class="fe mu mv mw mx b">this</code>依赖于函数如何被调用，而不是函数在哪里被定义。也许这是一件微妙的事情，但它很重要。</p><p id="0241" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑下面的例子。<code class="fe mu mv mw mx b">show</code>方法中的<code class="fe mu mv mw mx b">this</code>参数用于引用同一个类<code class="fe mu mv mw mx b">msg</code>中的其他成员。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="ebb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当函数作为方法被调用时，它指向正确的对象。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="6d5a" class="nc lw it mx b gy nd ne l nf ng">const message = new Message('Hi');<br/>message.show();<br/>//Hi</span></pre><p id="00b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不考虑1000毫秒后调用<code class="fe mu mv mw mx b">show</code>函数的下一个代码。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="4677" class="nc lw it mx b gy nd ne l nf ng">setTimeout(message.show, 1000);<br/>//undefined</span></pre><p id="f49d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这次<code class="fe mu mv mw mx b">show</code>是作为函数调用的，而不是作为方法。<a class="ae ky" href="https://medium.com/programming-essentials/removing-javascripts-this-keyword-makes-it-a-better-language-here-s-why-db28060cc086" rel="noopener">这个</a>在严格模式未启用时指向<code class="fe mu mv mw mx b">undefined</code>甚至更坏的指向<code class="fe mu mv mw mx b">window</code>对象。</p><p id="4af9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了修复<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/7-common-javascript-bugs-you-can-now-avoid-27d41c8d81c2">问题</a>，我们需要将其作为方法调用。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="9c81" class="nc lw it mx b gy nd ne l nf ng">setTimeout(() =&gt; message.show(), 1000);<br/>//Hi</span></pre><h1 id="6c87" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.用var声明的变量没有块范围</h1><p id="911b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Java中的变量无论如何声明都有块作用域。这意味着它们只在创建的块中可用。看看下一个简单的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="36b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript中用<code class="fe mu mv mw mx b">var</code>声明的变量没有块范围。</p><p id="0c4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个在创建变量的块之外访问变量的例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="3f30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更有甚者，用<code class="fe mu mv mw mx b">var</code>创建的变量被提升到其函数作用域的顶部，所以它们可以在声明前使用。在赋值之前，它们保存未定义的值<a class="ae ky" href="https://medium.com/programming-essentials/essential-things-on-undefined-and-null-178e2baa21b8" rel="noopener"/>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="37ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了避免这种混淆，请使用<code class="fe mu mv mw mx b">const</code>和<code class="fe mu mv mw mx b">let</code>声明。</p><h1 id="ce96" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.对象不一定是类的实例，它们实际上更像散列图</h1><p id="e4d4" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Java中的对象是类的实例。</p><p id="0d74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与JavaScript中的概念不同。这里的对象更像是散列图。</p><p id="350a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个不使用任何类创建对象的例子，但是使用了所谓的对象字面语法</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h1 id="dd12" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">5.对象从其他对象继承</h1><p id="83dd" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">来自Java的你可能习惯于从其他类继承的类。</p><p id="a39a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中，对象从称为原型的其他对象继承。</p><p id="8e7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几年前，JavaScript中加入了类的概念，以使这种原型继承更容易，并为习惯于类模型的开发人员所熟悉。</p><p id="557b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript中的<a class="ae ky" href="https://medium.com/programming-essentials/class-vs-factory-function-exploring-the-way-forward-73258b6a8d15" rel="noopener">类</a>在很大程度上是原型系统上的<a class="ae ky" href="https://medium.com/programming-essentials/these-are-the-features-in-es6-that-you-should-know-1411194c71cb" rel="noopener">糖语法</a>。在幕后，我们仍然有从其他对象继承的对象。<code class="fe mu mv mw mx b">this</code>还是要看函数怎么调用等等。</p><p id="1ec2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类别会建立新建立的物件所使用的原型。你可以简单地检查一下。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="d02e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mu mv mw mx b">Message </code>类中定义的所有方法都被添加到了<code class="fe mu mv mw mx b">Message.prototype</code>对象中。用这个类创建的所有对象实际上都继承自<code class="fe mu mv mw mx b">Message.prototype</code>。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="c38c" class="nc lw it mx b gy nd ne l nf ng">Object.getPrototypeOf(message) === Message.prototype;<br/>//true</span></pre><h1 id="6d97" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">6.变量可以改变它们的类型</h1><p id="7517" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在Java中，变量总是具有相同的类型。一旦用<code class="fe mu mv mw mx b">var</code>声明了一个变量并用一个整数初始化，它就永远是一个整数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="77e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变量可以在JavaScript中改变它们的类型。</p><p id="f528" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript中的值总是具有相同的类型，但是变量可以存储不同类型的值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="0570" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这被称为动态类型化。</p><p id="cffe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，用<code class="fe mu mv mw mx b">const</code>声明的变量不能被重新赋值，所以它不能改变它的类型。</p><h1 id="1679" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">7.无效的算法或无效的数字转换不会引发异常，但结果是NaN</h1><p id="5b35" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在Java中，试图将无效字符串转换为数字会引发异常。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="9da1" class="nc lw it mx b gy nd ne l nf ng">int no = Integer.parseInt("nine");<br/>//java.lang.NumberFormatException: For input string: "nine"</span></pre><p id="45fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当试图用零除一个整数时，也会发生同样的事情，抛出一个异常。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="c42b" class="nc lw it mx b gy nd ne l nf ng">int no = 0/0;<br/>//java.lang.ArithmeticException: / by zero</span></pre><p id="5f9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中，如果文本不能被解析成整数，结果是<code class="fe mu mv mw mx b">NaN</code>。不会引发任何异常。当试图将零除以零时，也会发生同样的事情。结果是<code class="fe mu mv mw mx b">NaN</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="6ab6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住<code class="fe mu mv mw mx b">NaN</code>不等于<code class="fe mu mv mw mx b">NaN</code>。使用<code class="fe mu mv mw mx b">Number.isNaN</code>实用程序检查值是否为<code class="fe mu mv mw mx b">NaN</code>。</p><h1 id="1ef1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">8.函数不能重载</h1><p id="dfad" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在Java中，您可能习惯于用相同的名称但不同的签名(参数的数量、类型和顺序)来声明相同的方法。此外，您可能希望该语言根据您提供的参数选择正确的语言。</p><p id="84b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="5fff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中，没有所谓的重载系统。你不应该用相同的名字声明两个函数。如果你这样做，语言将使用最后一个。</p><p id="5910" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="fc14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，使用<code class="fe mu mv mw mx b">sum</code>函数的最后一个定义。它使用三个参数进行求和，但调用时使用两个参数。当调用一个参数比预期少的函数时，剩余的参数被设置为<code class="fe mu mv mw mx b">undefined</code>。在<code class="fe mu mv mw mx b">NaN</code>中有未定义结果的算术。</p><h1 id="2979" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">9.函数可以有方法</h1><p id="cc8b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">事实上，在JavaScript中函数可以有方法。这怎么可能呢？</p><p id="c593" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中，函数实际上是<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/did-you-know-that-almost-everything-is-an-object-in-javascript-f06c3f69faf1">对象</a>，所以像其他对象一样，它们也有方法。</p><p id="d149" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，<code class="fe mu mv mw mx b">call</code>方法可以在所有函数上调用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="0fe4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是一个Java开发者，我可能已经毁了你的这些惊喜。有关JavaScript基础知识的更多信息，请查看<a class="ae ky" href="https://medium.com/programming-essentials/learn-these-javascript-fundamentals-and-become-a-better-developer-2a031a0dc9cf" rel="noopener">了解这些JavaScript基础知识，成为更好的开发人员</a>。</p><p id="7789" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div></div>    
</body>
</html>