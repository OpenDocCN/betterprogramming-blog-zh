<html>
<head>
<title>A First Look at PySketch: Python for Fun!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PySketch初看:有趣的Python！</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/pysketch-python-coding-for-fun-dc13732db502?source=collection_archive---------21-----------------------#2022-04-12">https://betterprogramming.pub/pysketch-python-coding-for-fun-dc13732db502?source=collection_archive---------21-----------------------#2022-04-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f33c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">艺术家、设计师、初学者和其他人的创造性编码</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/97dd4e2b9f70ff02b754db7d58b7732f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E1K3inTbuybQB8EQEKIsBQ.jpeg"/></div></div></figure><p id="b6bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://pysketch.com" rel="noopener ugc nofollow" target="_blank">PySketch.com</a>是一个Python web编辑器，旨在为任何喜欢创造性编码的人提供社交编码体验。您可以通过访问HTML5和JavaScript库来构建有趣的项目、游戏和图形，或者探索其他优秀开发人员的其他Python项目，从而在web上提高或展示您的Python技能。它可以在所有主要的移动和桌面浏览器上运行，你可以和你的朋友分享你的项目和游戏，或者把它们嵌入到你的博客中给你的读者。</p><p id="2406" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你是一个Python爱好者，你会感觉像在家里一样，享受pysketch的所有HTML5特性。</p><p id="475f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">查看pysketch中著名的flappy bird游戏:</p><div class="lo lp gp gr lq lr"><a href="https://pysketch.com/flappy-bird" rel="noopener  ugc nofollow" target="_blank"><div class="ls ab fo"><div class="lt ab lu cl cj lv"><h2 class="bd ir gy z fp lw fr fs lx fu fw ip bi translated">拍打鸟</h2><div class="ly l"><h3 class="bd b gy z fp lw fr fs lx fu fw dk translated">经典的Flappy鸟游戏。</h3></div><div class="lz l"><p class="bd b dl z fp lw fr fs lx fu fw dk translated">pysketch.com</p></div></div><div class="ma l"><div class="mb l mc md me ma mf kp lr"/></div></div></a></div></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="1982" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated"><strong class="ak">入门:弹跳Logo </strong></h1><p id="72f5" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated">我们将通过做一个覆盖要点的跳跃标志草图来学习基础知识。这是最著名的屏幕保护程序，在这里开发它会很有趣。这是最终的草图，请随意使用代码:</p><div class="lo lp gp gr lq lr"><a href="https://pysketch.com/bouncing-logo" rel="noopener  ugc nofollow" target="_blank"><div class="ls ab fo"><div class="lt ab lu cl cj lv"><h2 class="bd ir gy z fp lw fr fs lx fu fw ip bi translated">弹跳标志</h2><div class="ly l"><h3 class="bd b gy z fp lw fr fs lx fu fw dk translated">弹跳标志动画。</h3></div><div class="lz l"><p class="bd b dl z fp lw fr fs lx fu fw dk translated">pysketch.com</p></div></div><div class="ma l"><div class="nk l mc md me ma mf kp lr"/></div></div></a></div><p id="1b73" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们仔细看看代码:</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="b961" class="nq mo iq nm b gy nr ns l nt nu">from browser import document, window<br/>from browser.html import CANVAS, IMG<br/>from random import randint</span></pre><p id="9ad3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nv nw nx nm b"><em class="ny">Document</em></code>和<code class="fe nv nw nx nm b"><em class="ny">window</em></code>模块等同于它们的JavaScript版本。这些用于访问JavaScript属性、全局变量等。<br/> <code class="fe nv nw nx nm b">browser.html</code>是一个HTML标签的包装器模块。它允许我们在Python中轻松地创建和操作dom元素。对于所有其他标签和示例，请检查此处的<a class="ae ln" href="https://brython.info/static_doc/en/html.html" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="b913" class="nq mo iq bd mp nz oa dn mt ob oc dp mx la od oe mz le of og nb li oh oi nd oj bi translated"><strong class="ak"> Dom API </strong></h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="4f66" class="nq mo iq nm b gy nr ns l nt nu">canvas = CANVAS(width=width, height=height)<br/>document.body &lt;= canvas</span><span id="1b13" class="nq mo iq nm b gy ok ns l nt nu">ctx = canvas.getContext(‘2d’)</span></pre><p id="50ab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里，我们创建一个canvas元素，并将其添加到HTML页面的主体中。<code class="fe nv nw nx nm b"><strong class="kt ir">ctx</strong></code>是我们进行绘图操作的画布的上下文。我们不会详细讨论canvas API，但是你可以在这里得到更多信息<a class="ae ln" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="e8a4" class="nq mo iq bd mp nz oa dn mt ob oc dp mx la od oe mz le of og nb li oh oi nd oj bi translated"><strong class="ak">加载资产</strong></h2><p id="a4da" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated">文件是异步加载的，这意味着图像在下一行不可用，需要一些时间来加载。所以我们在这里设置了一个<code class="fe nv nw nx nm b">onload</code>回调。一旦加载了徽标，我们的应用程序将开始循环。我们稍后将讨论循环部分。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="3478" class="nq mo iq nm b gy nr ns l nt nu">logo = IMG(src ='logo.png')<br/>logo.onload = lambda e: loop(0)</span></pre><p id="f1a0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">PySketch为能够在草图中使用的资产提供云托管。转到草图详细信息-&gt;文件选项卡，并为您的草图上传您的资产。</p><p id="4b0e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">草图资源可以通过它们的文件名来加载，如上面的代码片段所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/0f36935b283c5136a703f1b3cfe41282.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*tg9W8B8vYh2cWV5oIVRN8Q.png"/></div></figure><h2 id="935e" class="nq mo iq bd mp nz oa dn mt ob oc dp mx la od oe mz le of og nb li oh oi nd oj bi translated"><strong class="ak">绘图功能</strong></h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="7065" class="nq mo iq nm b gy nr ns l nt nu">def draw():<br/>   global x, y, x_speed, y_speed<br/>   … does calculations here<br/>   ctx.drawImage(logo, x, y)</span></pre><p id="33c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是我们绘制和更新里面东西的主要函数。它通过考虑速度来计算新位置，并在画布上下文中呈现徽标。请阅读对最终草图的在线评论，以了解在上下文中绘图的想法。</p><h2 id="8593" class="nq mo iq bd mp nz oa dn mt ob oc dp mx la od oe mz le of og nb li oh oi nd oj bi translated"><strong class="ak">主循环</strong></h2><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="e36c" class="nq mo iq nm b gy nr ns l nt nu">def loop(t):<br/>   draw()<br/>   window.requestAnimationFrame(loop)</span></pre><p id="f05d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是大多数图形应用的核心。它指的是程序的整体流程，并保持无限循环，直到手动停止。浏览器内置了<code class="fe nv nw nx nm b"><a class="ae ln" href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame" rel="noopener ugc nofollow" target="_blank"><strong class="kt ir">requestAnimationFrame</strong></a></code>功能。它的目的是在浏览器上运行流畅的动画，而不会阻塞页面。</p><h2 id="9724" class="nq mo iq bd mp nz oa dn mt ob oc dp mx la od oe mz le of og nb li oh oi nd oj bi translated"><strong class="ak">浏览器是如何运行Python的？</strong></h2><p id="59ba" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated">几个令人印象深刻的项目将Python带入浏览器，比如<a class="ae ln" href="https://brython.info" rel="noopener ugc nofollow" target="_blank"> Brython </a>、<a class="ae ln" href="https://transcrypt.org/" rel="noopener ugc nofollow" target="_blank"> Transcrypt </a>、<a class="ae ln" href="https://skulpt.org/" rel="noopener ugc nofollow" target="_blank"> Skulpt </a>、<a class="ae ln" href="https://github.com/iodide-project/pyodide" rel="noopener ugc nofollow" target="_blank"> Pyodide </a>。PySketch使用Brython在浏览器中将Python编译成JavaScript。如果你想了解更多，你可以看看这篇关于技术和比较的文章。</p><h1 id="4da4" class="mn mo iq bd mp mq om ms mt mu on mw mx jw oo jx mz jz op ka nb kc oq kd nd ne bi translated"><strong class="ak">结论</strong></h1><p id="2593" class="pw-post-body-paragraph kr ks iq kt b ku nf jr kw kx ng ju kz la nh lc ld le ni lg lh li nj lk ll lm ij bi translated">我们看到了如何使用PySketch在浏览器中直接实现基于Python的应用程序。如果你熟悉JavaScript和web开发，你会喜欢用Python开发应用和游戏。</p><p id="4986" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">毫无疑问，在速度、可用性和可维护性方面，JavaScript是不可替代的，但很高兴知道还有其他方式来享受HTML5。</p><p id="492e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如需更多示例和教程，请访问<a class="ae ln" href="https://pysketch.com" rel="noopener ugc nofollow" target="_blank">pysketch.com</a></p></div></div>    
</body>
</html>