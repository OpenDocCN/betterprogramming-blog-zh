<html>
<head>
<title>Elm — a Beautiful Language for Web Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">elm——一种漂亮的Web开发语言</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/elm-a-beautiful-language-for-web-development-bc06fd0b570f?source=collection_archive---------0-----------------------#2022-11-12">https://betterprogramming.pub/elm-a-beautiful-language-for-web-development-bc06fd0b570f?source=collection_archive---------0-----------------------#2022-11-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a94a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">这就是你混合使用Haskell、TypeScript、Python和Rust的结果</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/63867b39f0ec775e8573da0e30ce60ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7L2FW-xoO4kXODAKUD1gVw.png"/></div></div></figure><p id="ad4b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://elm-lang.org/" rel="noopener ugc nofollow" target="_blank"> Elm </a>是一种编写前端JavaScript代码的语言。</p><p id="22f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">再来一个！？我通常对任何新事物都持怀疑态度，但我测试Elm有一段时间了，印象非常深刻。这里发生了一些令人兴奋的事情。有待探索的金矿。</p><p id="4178" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为什么需要Elm？</p><p id="5db5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">像React，Angular，Vue这些竞争对手有什么问题？</p><h1 id="c0e6" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">为什么？</h1><p id="ac71" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">榆树在很多方面都很特别。</p><p id="a5cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它是功能性的。所有的值都是不可变的。没有副作用。基础只是函数:输入→输出。</p><p id="b4c4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">与其他框架相比，Elm使得创建干净且没有错误的代码变得更加容易。为什么？Elm本质上是静态类型的。大多数错误是在编译时而不是运行时发现的。如果代码构建成功，它可能是正确的。</p><p id="b4f7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Elm是一个纯函数，但是为什么它很重要呢？除了提高性能之外，还有一个非常好的优势:如果函数必须处理一些意外的事情，例如字符串不能转换为整数或者http调用出错，那么不会发送异常，但是函数会返回有关错误的信息。榆树并不区分快乐和悲伤的道路。只是数据输入，数据输出。</p><p id="c6d6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Elm鼓励编写可组合的代码。可组合性可能是设计模式中最重要的部分<a class="ae ln" href="https://dannorth.net/2022/02/10/cupid-for-joyful-coding/" rel="noopener ugc nofollow" target="_blank">丘比特</a>。您可以快速编写解决小问题的代码，然后在没有太多重构的情况下进行构建。您可以解决问题，而不必创建太“智能”的代码或没有人理解的不必要的抽象代码。</p><p id="0131" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Elm是为web构建的，有一个简单的内置概念，如模型、视图、更新、订阅和解码器，使用户和运行时之间的数据流感觉直观。</p><p id="edba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">null值会在许多编程语言中引起问题。但是<em class="ml"> </em> null在Elm编程语言中并不存在。</p><h1 id="c358" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">更多原因</h1><p id="879c" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">我希望上面列出的原因激起了你的好奇心，但让我们继续:</p><p id="f57b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">语法很紧凑，没有花括号，缩进有意义(就像在Python中一样)。需要几个括号。你可以写一些表达性的小代码。</p><p id="fa32" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你出错了，你会得到简单而有用的错误信息，比如:也许你想做X？你忘记写Y了吗？</p><p id="1a3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">官方文档确实不错。它给出了一些很好的例子，文本也不太冗长。</p><p id="8270" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对这种语言的更新很少。为什么这是优势？我们避免破坏性的改变，不需要重写旧代码。</p><h1 id="aecc" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">榆树vs反应</h1><p id="9d30" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">如果将Haskell(函数式)、TypeScript(编译成JavaScript)、Python(简单紧凑的语法)和Rust(友好的错误消息)混合在一起，就会得到Elm。</p><p id="c8bc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Elm与React等类似的框架/库竞争。我觉得React很棒。但是React不是静态类型的，我的经验是React应用程序经常会出现许多运行时错误。静态类型可以用TypeScript解决，但是我们可以用TypeScript欺骗很多，使用<code class="fe mm mn mo mp b"><em class="ml">any</em></code>数据类型或者忽略在部分代码中创建类型。</p><p id="6b9b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于React和类似的框架，我们需要Node和无数的JavaScript包放在<code class="fe mm mn mo mp b">node_module</code> <em class="ml"> </em>文件夹中。Elm就不是这样了。</p><h1 id="b2e1" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">主要概念</h1><p id="76b9" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">Elm应用程序的主要部分包括:</p><ul class=""><li id="1178" class="mq mr iq kt b ku kv kx ky la ms le mt li mu lm mv mw mx my bi translated">模型</li><li id="b8cb" class="mq mr iq kt b ku mz kx na la nb le nc li nd lm mv mw mx my bi translated">视角</li><li id="e0ec" class="mq mr iq kt b ku mz kx na la nb le nc li nd lm mv mw mx my bi translated">更新</li></ul><p id="c5e8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是一个应用程序的代码片段，它从一个API获取随机报价并显示在屏幕上。</p><p id="db5a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">函数<code class="fe mm mn mo mp b">init</code>是执行的第一行。它只是创建了一个初始模型。在下面的例子中，我们将初始状态设置为<code class="fe mm mn mo mp b">Loading</code>，同时执行一个自定义命令<code class="fe mm mn mo mp b">getRandomQuote</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/ab59e7040c01f98a779bcbd85c03c146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KeutUqaqAKDrguyPHKl4dQ.png"/></div></div></figure><p id="900d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mm mn mo mp b">model</code> <strong class="kt ir"> </strong>是显示视图所需的数据。相当于<em class="ml">状态</em>在反应。视图必须知道我们是否已经得到报价，如果我们正在加载报价或如果有什么地方出错。如果我们已经获取了报价，我们需要它的内容(它将存储在我们的自定义类型<code class="fe mm mn mo mp b">Quote</code>中)。下面的简单声明告诉我们应用程序的所有状态。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/367ff5e9392082f543e7ceb6865e802d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QD8S0-qIDY-1a1AogNGR8w.png"/></div></div></figure><p id="b977" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mm mn mo mp b">view</code> <strong class="kt ir"> </strong>描述了HTML。它对应于组件(函数)在React中返回的内容。一个有趣的细节是，<code class="fe mm mn mo mp b">div</code>、<code class="fe mm mn mo mp b">h2</code>、等被看作是Elm中带两个参数(属性+其子项)的常规函数。</p><p id="dde7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果用户与站点交互，例如点击按钮或改变文本字段，则生成<code class="fe mm mn mo mp b">message</code> <em class="ml"> </em>并自动发送到<code class="fe mm mn mo mp b">update</code> <em class="ml"> </em>功能。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/06f2c58c7814a1fca4d0d7f37f15621b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0EgefX4ZvFLyljEyXt-tIg.png"/></div></div></figure><p id="5ce4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mm mn mo mp b">update</code> <strong class="kt ir"> </strong>功能根据接收到的消息进行操作。它自动更新<em class="ml">视图</em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/2f40243c69099a212f0578a777da7b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JPJj1ck8zK_qZxrulrRupQ.png"/></div></div></figure><p id="92ed" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们从一开始就知道会收到哪种类型的消息。如果我们忘记处理一个场景，例如，用户想要更多的报价或者加载报价有问题，这将是编译时的一个错误。这个真的很厉害。</p><p id="4ccf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一切都非常干净和紧凑。</p><h1 id="e792" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">更多技术</h1><p id="03e2" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">模型、视图和更新是Elm最重要的部分。</p><p id="1d38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">更多的内置概念如下:</p><ul class=""><li id="fa45" class="mq mr iq kt b ku kv kx ky la ms le mt li mu lm mv mw mx my bi translated"><strong class="kt ir">订阅— </strong>可以订阅外界发生的事情。例如，你设置了一个每秒发送一条<em class="ml">消息</em>的订阅(来更新时钟)。或者当新的动画帧可用时发送消息。或者在用户移动鼠标时发送消息。</li><li id="2a36" class="mq mr iq kt b ku mz kx na la nb le nc li nd lm mv mw mx my bi translated"><strong class="kt ir">解码器— </strong>如果我们从一个API得到一个JSON，我们希望它是一种特定的格式。解码器将原始JSON翻译成您自己的定制类型。如果JSON的结构不像我们预期的那样，我们马上就会知道。我们<em class="ml">失败得很快</em>并且能够在正确的地方处理情况。</li></ul><h1 id="630b" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">看看他们的文件</h1><p id="0439" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">官方文档<a class="ae ln" href="https://guide.elm-lang.org/" rel="noopener ugc nofollow" target="_blank">真的很好，如果你想尝试Elm，这是一个完美的开始。概念描述得很清楚，在选择安装开发环境之前，您甚至可以在浏览器中编码。安装开发环境只需要几分钟时间。</a></p><p id="17af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在官方文档中，您可以在不安装任何东西的情况下在浏览器中使用该语言:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/fc4ed9c4558fab143a7ca70ca81b6c85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OjDAZvG7jvr-BKW_gc4fXg.png"/></div></div></figure><p id="2c9d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您还可以读取和修改Elm代码，并在浏览器上运行:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/1d683ef05336c952c2d49dfba3dd722f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TCGQ32jpymnWuS4nYwK0fw.png"/></div></div></figure><h1 id="f15e" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">错误消息</h1><p id="f5e9" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">Elm的一个有趣的细节是错误消息很清楚，它通常会给出关于<em class="ml">您应该做什么的建议:</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/82e54c5eed87ca72e4b0f043c1189d70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Lj_SjYhUcR0r-EVn"/></div></div></figure><p id="32dd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些信息是在你和一个人交谈时写的——这很有趣。</p><h1 id="6884" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">缺点</h1><p id="852b" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">Elm的一个缺点是它还没有庞大的用户群。(2022年11月12日)youtube上只有几个关于如何开始的视频，而且很多都是3-5年前的。但是正如我之前所说的，官方文档非常棒，是入门的最佳途径。</p><h1 id="8fe3" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">背景</h1><p id="6591" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">在听了精彩的<a class="ae ln" href="https://kodsnack.se/" rel="noopener ugc nofollow" target="_blank"> Kodsnack </a>播客后，我对Elm产生了好奇，当时他们采访了<a class="ae ln" href="https://webbhuset.se/" rel="noopener ugc nofollow" target="_blank"> Webbhuset </a>，</p><p id="8a0a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://kodsnack.se/498/" rel="noopener ugc nofollow" target="_blank">可以在这里听插曲(瑞典语)。</a></p><p id="bc57" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Webbhuset称赞了Elm。他们长期致力于创建定制的电子商务解决方案。以前他们使用PHP和React。但是代码变得越来越难维护。新开发人员很难理解代码，代码变得越来越(不必要的)复杂。</p><p id="6e89" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">切换到Elm之后，一切都变得更好，代码也更容易扩展和维护。</p><p id="38a7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我很想听听你在榆树的经历。</p></div></div>    
</body>
</html>