<html>
<head>
<title>7 Sequential Operators You Should Know From Swift Combine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift Combine中您应该知道的7个顺序运算符</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/7-sequential-operators-you-should-know-from-swift-combine-1775ce3c47c8?source=collection_archive---------10-----------------------#2020-07-01">https://betterprogramming.pub/7-sequential-operators-you-should-know-from-swift-combine-1775ce3c47c8?source=collection_archive---------10-----------------------#2020-07-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f2c5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">第一个、最后一个、计数、包含、全部满足、减少等等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/23dd6a1dacdc973b119a56fa49b9655d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ljlHTUFDDxMMJcTK"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Daniele Levis Pelusi 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="bdfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将掌握七个有用的序列合并操作符。我们将使用Xcode Playground来快速试验一些例子。</p><p id="282e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有示例的源代码都可以在文章的底部找到。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c091" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我们开始吧</h1><p id="a5e9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这些是我们将要探讨的运算符:</p><ul class=""><li id="2dca" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated"><code class="fe ni nj nk nl b">.first</code>和<code class="fe ni nj nk nl b">.first(where:)</code></li><li id="07a9" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><code class="fe ni nj nk nl b">.last</code>和<code class="fe ni nj nk nl b">.last(where:)</code></li><li id="92eb" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><code class="fe ni nj nk nl b">.output(at:)</code>和<code class="fe ni nj nk nl b">.output(in:)</code></li><li id="2a9b" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><code class="fe ni nj nk nl b">.count</code></li><li id="c580" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><code class="fe ni nj nk nl b">.contains</code>和<code class="fe ni nj nk nl b">.contains(where:)</code></li><li id="abcc" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><code class="fe ni nj nk nl b">.allSatisfy</code></li><li id="97d3" class="mz na it lb b lc nm lf nn li no lm np lq nq lu ne nf ng nh bi translated"><code class="fe ni nj nk nl b">.reduce</code></li></ul><p id="a66d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事不宜迟，让我们开始与他们合作。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ba81" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.第一</h1><p id="1e13" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">顾名思义，<code class="fe ni nj nk nl b">.first</code>操作符组允许我们获得序列的第一个元素:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="7710" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果是<code class="fe ni nj nk nl b">10</code>打印出来的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/7f4e91743d372a709c04dc5a5b90e302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_aUooaRfSFz58J6Q7kUvuA.png"/></div></div></figure><p id="162e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用操作符的<code class="fe ni nj nk nl b">.first(where)</code>版本指定一个谓词:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="2d9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您可能已经猜到的，我们在控制台中打印了<code class="fe ni nj nk nl b">50</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/7b2f951c755b04013d9e2c3f022f2bd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FmPLvVr2APmEp2e_8ouviQ.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="28f5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.最后的</h1><p id="d06a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">就像我们获得了一个序列的第一个元素一样，我们也可以获得最后一个元素:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/c15169ec3a38958c0a98b0eaefaaea9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EN5Q-TGT_qRQu00u3zkDYQ.png"/></div></div></figure><p id="692b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，我们可以提供一个条件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="8331" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到<code class="fe ni nj nk nl b">108</code>被打印出来，因为它是满足谓词的最后一个元素:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/da72a86edd7761e5d93b5614471302eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yJf_3mye-qib-AbPkpLTDQ.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ca19" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.输出</h1><p id="4042" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">该操作符的<code class="fe ni nj nk nl b">.output(at:)</code>版本在指定的索引处获取某个元素:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="473c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">指数是<code class="fe ni nj nk nl b">3</code>。因此，<code class="fe ni nj nk nl b">“D”</code>被打印出来:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/e4e24df20197f7b337caf8dfa1fe27e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LDqQaWFf0CjIKs0YBTImhg.png"/></div></div></figure><p id="8938" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用<code class="fe ni nj nk nl b">.output(in:)</code>版本获得属于指定范围的所有元素:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/d9074a482b74f8fd49ad8be472f98e76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K99KA-6jDYc7tYHsqhY7eQ.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f3fd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.数数</h1><p id="8c86" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">就像它的Swift标准库对应物一样，<code class="fe ni nj nk nl b">.count</code>操作符返回一个序列的已发布值的数量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="f8b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，我们发送了三个<code class="fe ni nj nk nl b">Void</code>事件，所以我们打印了<code class="fe ni nj nk nl b">Total 3 events</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/f420da4d0961b2aec2287fd6bb6edfe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3POM8aRFU9Uh2shTkX8WZQ.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="58b9" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.包含</h1><p id="35bd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><code class="fe ni nj nk nl b">.contains</code>操作符返回<code class="fe ni nj nk nl b">true</code>或<code class="fe ni nj nk nl b">false</code>，这取决于是否在序列中找到了特定的元素:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="0458" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们搜索一个<code class="fe ni nj nk nl b">“Z”</code>。由于没有找到，我们收到<code class="fe ni nj nk nl b">false</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/5142ab1d8723c186386b1890a38ceb4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_DtKkGO3CNO3JdVPCBqvA.png"/></div></div></figure><p id="87ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用<code class="fe ni nj nk nl b">.contains(where:)</code>协变提供一个谓词:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="139a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ni nj nk nl b">letterPublisher</code>有一个大写的<code class="fe ni nj nk nl b">“C”</code>字符，所以<code class="fe ni nj nk nl b">true</code>被打印出来:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/570e8a5970ab26196e3a0c58c3ccbb69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*is3Lnbtwi-k3PqJ5fGMXHg.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="56cd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">6.全部满足</h1><p id="9134" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">与前面的<code class="fe ni nj nk nl b">.contains</code>操作符类似，这个操作符返回一个<code class="fe ni nj nk nl b">Bool</code>值。然而，只有当每个元素都满足所提供的条件时，它才返回<code class="fe ni nj nk nl b">true</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="a9c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，除了一个元素之外，所有元素都满足条件。因此，我们获得一个<code class="fe ni nj nk nl b">false</code>值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/83e50960bc275d5c7fa8165d84470018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RXItr54LBZNIcG8Cdp5KAw.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4350" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">7.减少</h1><p id="f0ae" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">最后一个操作符<code class="fe ni nj nk nl b">.reduce</code>提供了一个强大的机制来累加序列的元素，并在完成后返回一个最终值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="5303" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，我们计算所有元素的总和。当我们接收更多的元素时,<code class="fe ni nj nk nl b">accumulated</code>属性会增加。结果是<code class="fe ni nj nk nl b">364</code>，所有提供的整数之和:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/fefb169feba39340481f8effaf73a16c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pLODo6DmDurVZaS1NvL8zw.png"/></div></div></figure><p id="94d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们甚至可以将<code class="fe ni nj nk nl b">.reduce</code>语句缩短如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="bab1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这产生了相同的结果。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="326e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">资源</h1><p id="1ba5" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">源代码可在<a class="ae ky" href="https://gist.github.com/zafarivaev/1eef54f15e62c25c87ed84fdca497e1b" rel="noopener ugc nofollow" target="_blank"> a gist </a>中找到。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6f1f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">包扎</h1><p id="a7b1" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">对不同类型的联合运算符感兴趣？欢迎访问我的其他相关文章:</p><div class="od oe gp gr of og"><a href="https://medium.com/better-programming/5-transforming-combine-operators-you-should-know-4603fe112d74" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">5你应该知道的变换组合运算符</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">用清晰的例子</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://levelup.gitconnected.com/9-filtering-combine-operators-you-should-know-9c1ef2911352" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">你应该知道的9个过滤组合运算符</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">用清晰的例子</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="op l"><div class="ov l or os ot op ou ks og"/></div></div></a></div><p id="90cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>