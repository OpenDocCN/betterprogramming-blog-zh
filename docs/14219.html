<html>
<head>
<title>Does Performance Testing Matter? Yes, and Here’s a Case Study</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">性能测试重要吗？是的，这里有一个案例研究</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/does-performance-testing-matter-yes-and-heres-a-case-study-99eeb09e1d46?source=collection_archive---------11-----------------------#2022-11-17">https://betterprogramming.pub/does-performance-testing-matter-yes-and-heres-a-case-study-99eeb09e1d46?source=collection_archive---------11-----------------------#2022-11-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="11f9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">性能测试不仅仅是测试你的应用。这也是关于测试你的基础设施</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fa33accce5dbc4fe7ade984bbe4b0ff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*adJibJg7BW7mnQN-WN81Uw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">托马斯·凯利在<a class="ae kv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="8c0f" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">为什么性能测试很重要？</h1><p id="aece" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">像单元测试和集成测试一样，性能测试检查应用程序性能和用户体验的某个基线。然而，性能测试提供了单元测试和集成测试所不具备的对应用程序各个方面的洞察力。特别是对基础设施的了解。</p><p id="9772" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这种对基础设施的理解使得性能测试变得如此强大和重要。将性能测试与基础设施监控工具(如AWS Cloudwatch)结合使用，我们可以查明应用程序的具体瓶颈。是内存、CPU、I/O还是网络受限？通过回答这些问题，我们可以优化应用代码和基础设施。</p><h1 id="1681" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">性能测试案例研究</h1><p id="8cc5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">让我们通过下面的案例研究来了解性能测试是如何帮助优化成本和可伸缩性的。</p><p id="ebf5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一个应用程序当前正在AWS m4.large EC2实例上部署，遇到了一些性能问题。这些问题需要在即将到来的假期前解决。</p><p id="84cb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这个应用程序有两个缩放选项:水平和垂直缩放。</p><p id="e2ee" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于我们的案例研究，我们尝试水平扩展并增加m4.large实例的数量。这稍微提高了性能，但是我们的应用程序仍然不能满足假日季节的性能需求。垂直缩放怎么样？</p><p id="2a8a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对于垂直伸缩，我们的应用程序的实例增加到m4.xlarge实例，这缓解了性能问题。但是，从下表中我们可以看到，从m4.large增加到m4.xlarge，我们的成本会翻倍，从每小时0.10美元增加到每小时0.20美元。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/6eaf035f22f6a3ef0c28a945eb95c903.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8c9DsXxzqL_XxRKUSTTjqQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">AWS m4 EC2实例规格</p></figure><p id="52ec" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在对应用程序进行性能测试后，我们意识到它遇到了内存瓶颈。这解释了为什么m4.xlarge实例缓解了这个问题，因为与m4.large实例的8 GiB相比，它的内存增加了一倍，达到16 GiB。</p><p id="08db" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这也阐明了为什么水平扩展不能完全解决我们的性能问题。由于m4.large实例不足，简单地增加它们并不能缓解我们的性能问题。既然我们知道内存是个问题，我们可以选择一个内存优化的实例来节省成本。</p><p id="441a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">通过使用内存优化的r6g EC2实例，我们可以在不大幅增加成本的情况下增加内存。查看下表，通过使用r6g.large实例，我们可以将内存增加一倍，以匹配m4.xlarge实例的16 GiB，但仍然具有与当前m4.large实例几乎相同的成本0.1008美元。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/22d64d16175717895dd26e2a408c16c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9XWSmdZWjerC_PozdfsVbA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">AWS r6g EC2实例规格</p></figure><p id="94a5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">总的来说，我们可以在不增加成本的情况下将内存翻倍并提高性能。这突出了性能测试对于成本优化和可伸缩性的强大作用。</p><p id="e821" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢阅读。</p></div></div>    
</body>
</html>