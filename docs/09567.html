<html>
<head>
<title>What’s New in Xcode 13?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Xcode 13有什么新功能？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/whats-new-in-xcode-13-a48d5158f98?source=collection_archive---------1-----------------------#2021-09-10">https://betterprogramming.pub/whats-new-in-xcode-13-a48d5158f98?source=collection_archive---------1-----------------------#2021-09-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7745" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">列断点、更好的自动完成和新的DocC工具</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/03c925873a6ba00739ece3fb89921cb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mIb57CdUpARi4cZC"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@zanilic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Zan </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="8690" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Xcode 13 出现在<a class="ae ky" href="https://developer.apple.com/wwdc21/" rel="noopener ugc nofollow" target="_blank"> WWDC 21 </a>上，包含了大量的新元素、升级和性能改进。在这篇文章中，我将带你经历一些我认为有趣和有用的关键变化。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7b98" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">迅速发生的</h1><p id="9a6a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Swift现在原生支持使用async/await和actors的并发编程。有关更多信息，请参见<a class="ae ky" href="https://developer.apple.com/wwdc21/10192" rel="noopener ugc nofollow" target="_blank">Swift中的新功能</a>、Swift中的<a class="ae ky" href="https://developer.apple.com/wwdc21/10132" rel="noopener ugc nofollow" target="_blank">Meet async/await</a>和<a class="ae ky" href="https://developer.apple.com/wwdc21/10134" rel="noopener ugc nofollow" target="_blank">探索Swift中的结构化并发</a>。</p><p id="65d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有使用<code class="fe mz na nb nc b">completionHandler</code>的代码，你可以很容易地重构它们。新的重构有助于迁移到异步代码。“Convert Call to Async Alternative”可用于将完成处理程序作为最后一个参数的调用，并重构它们以使用新的异步语言功能，假设该功能的异步等效功能已经存在。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/9b3d854fa84783f39fb722ab9f7d84ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xqGDHQYbh2dv-v-Broqfbw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将功能转换为异步</p></figure><p id="0fea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">异步函数可以使用<code class="fe mz na nb nc b">async let</code>绑定创建并发执行的子任务。子任务从父任务声明<code class="fe mz na nb nc b">async let</code>的地方开始，变量<code class="fe mz na nb nc b">async let</code>在使用它们的地方声明<code class="fe mz na nb nc b">await</code>。<code class="fe mz na nb nc b">async let</code>等待直到子任务完成并返回值。</p><p id="22b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如:</p><pre class="kj kk kl km gt ne nc nf ng aw nh bi"><span id="9393" class="ni md it nc b gy nj nk l nl nm">func chopVegetables() async throws -&gt; [Vegetables]<br/>func marinateMeat() async -&gt; Meat<br/>func preheatOven(temperature: Int) async -&gt; Oven</span><span id="17cf" class="ni md it nc b gy nn nk l nl nm">func makeDinner() async throws -&gt; Meal { <br/>    async let veggies = chopVegetables()  <br/>    async let meat = marinateMeat()  <br/>    async let oven = preheatOven(temperature: 350)</span><span id="1cac" class="ni md it nc b gy nn nk l nl nm">    let dish = Dish(ingredients: await [try veggies, meat])  <br/>    return try await oven.cook(dish, duration: .hours(3))}<br/>}</span></pre><p id="2306" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有子任务都在声明它们的作用域退出之前完成。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3401" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">源代码控制</h1><p id="0647" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在，当登录GitHub或Bitbucket服务器帐户时，您可以使用Xcode的源代码控制功能来创建、检查和合并请求。</p><p id="4186" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以从文档选项卡栏的任何编辑器(或编辑器拆分)中启用代码审查，默认情况下，它会在内联演示文稿中显示比较结果。编辑器底部新的提交选择器允许您定制显示的差异。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="213b" class="ni md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">精力</h2><p id="0558" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Xcode 13现在支持Vim键绑定，如果你感兴趣，你可以在<a class="ae ky" href="https://vim.rtorr.com/" rel="noopener ugc nofollow" target="_blank"> VIM备忘单</a>中找到更多命令。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="11af" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">DocC:Xcode的文档工具</h1><p id="790a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">DocC是Xcode 13中的一个新文档工具，它扩展了现有的基于Markdown的源代码文档语法。</p><p id="5eb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了API参考之外，您还可以为您的包创建文章和教程，并生成文档存档。这些可以在线阅读或在Xcode文档浏览器中阅读。</p><p id="06ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要更全面地了解这个工具，请查看这篇<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/introducing-docc-a-new-tool-to-write-documentation-from-xcode-64d990d0a1c9">文章</a>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d302" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">自动完成</strong></h1><p id="70b3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Xcode 13包括重新设计的Swift代码完成，最大限度地提高了可靠性和性能，尤其是在项目源代码中存在结构和逻辑不一致的情况下。</p><p id="5d65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Xcode 13中的代码补全功能可以帮助您快速完成您的想法，即使周围的源代码已损坏。完成出现得更快，更有预测性，表明在较少键入后最有可能完成。</p><p id="75f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了完成类型和方法之外，Xcode 13中的代码完成功能还提供了像<code class="fe mz na nb nc b">for item in items {</code>或<code class="fe mz na nb nc b">guard let item = item else { return nil }</code>这样的完整语句，甚至是带有<code class="fe mz na nb nc b">enum</code>案例的完整<code class="fe mz na nb nc b">switch</code>语句。当在一个视图中完成<code class="fe mz na nb nc b">cornerRadius</code>时，代码完成还会搜索属性以提供类似<code class="fe mz na nb nc b">layer.cornerRadius</code>的链式完成。</p><p id="41f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码完成帮助您完成尚不正确的表达式。它查找并识别模块中尚未导入的类型，并自动添加必要的导入。当周围的源代码有错误时，代码补全仍然会推断出您的意思。它提供了您正在寻找的完成方式，并带有一条描述如何使其有效的消息。</p><p id="8083" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当在Swift中将占位符扩展为闭包时，代码完成使用闭包的参数名而不是<code class="fe mz na nb nc b">&lt;#Type#&gt;</code></p><p id="e6b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，Xcode现在允许您自动展开选项。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cf49" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">列断点</h1><p id="489d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">若要在行上设置列断点，请按住Command键单击表达式，然后从“动作”菜单中选择“设置列断点”。</p><pre class="kj kk kl km gt ne nc nf ng aw nh bi"><span id="c5f0" class="ni md it nc b gy nj nk l nl nm">func findMultiplesOf2() -&gt; [Int] {<br/>   return [1,2,3,4,5].map { $0 * 2 }.filter { $0.isMultiple(of: 2) }<br/>}</span></pre><p id="53f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您现在可以通过右击<code class="fe mz na nb nc b">filter</code> - &gt;选择<code class="fe mz na nb nc b">Code Actions</code>-&gt;-T10】在<code class="fe mz na nb nc b">filter { $0.isMultiple(of: 2) }</code>设置断点</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/566eb6b8c1eabed8e2dd31870387e5d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RHWi751gbEJu-PCrwgFEsw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">列断点</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fe97" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">辅助功能设置</h1><p id="3e28" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在，您可以在Interface Builder场景中预览以下辅助功能设置:动态类型、粗体文本、按钮形状、开/关标签、增加对比度和降低透明度。</p><p id="fa3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过单击画布按钮栏中的“辅助功能”按钮来激活这些设置，并在“辅助功能”弹出式菜单中进行设置。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a909" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">试映</h1><p id="e829" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">预览现在支持在预览视图时检查视图的辅助功能元素。这种支持需要macOS 12。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/c0d0d83d5b9395f0e49712a6c0435248.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A_GzTmqt5nPVrpCKZT31MA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SwiftUI景观</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e03d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设计</h1><p id="a0f8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Xcode 13有一个刷新的项目导航器，它包含了各种文档类型的符号。文件扩展名目前被自然地隐藏起来，以获得更整洁的外观和感觉。显然，你可以决定在你希望的时候展示它们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/f970baa87e89540ce3f33fba106c19e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*c7QVClGYptZ9X6KqQQizKA.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="f94d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想更深入地了解Xcode 13，你可以在这里找到它们<a class="ae ky" href="https://developer.apple.com/documentation/xcode-release-notes/xcode-13-beta-release-notes" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="5f3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇文章能以某种方式帮助你，如果你有问题，请告诉我。谢谢大家！祝你好运。</p></div></div>    
</body>
</html>