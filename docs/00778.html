<html>
<head>
<title>Smooth Animations With React and Framer Motion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有反应和帧运动的平滑动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/smooth-animations-with-react-and-framer-motion-c272b6f22f67?source=collection_archive---------0-----------------------#2019-07-12">https://betterprogramming.pub/smooth-animations-with-react-and-framer-motion-c272b6f22f67?source=collection_archive---------0-----------------------#2019-07-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="df2b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Frame Motion是一个开源的React库，用于制作现成的动画</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4860e1382ff7705381ce40fb143a6e73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Zrpk23patbwAS1E7MKQcFQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有帧运动的动画</p></figure><h1 id="70ab" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">什么是框架运动？</h1><p id="0c4b" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">成帧器运动是<a class="ae mm" href="https://popmotion.io/pose" rel="noopener ugc nofollow" target="_blank">姿势</a>动画库的继承者。像Pose一样，它提供了一个声明式API来支持React应用程序中的动画和手势。<a class="ae mm" href="https://www.framer.com/motion/" rel="noopener ugc nofollow" target="_blank"> Motion </a>试图让API在最简单的情况下更简单，在处理高级情况时更灵活。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/f4f9def91b3d10cfd471510d4f60fca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wSREfaE8K6mbZAtCesDOSg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">成帧器运动—<a class="ae mm" href="https://www.framer.com/motion/" rel="noopener ugc nofollow" target="_blank">https://www.framer.com/motion/</a></p></figure><p id="ea60" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">成帧器动作特别强大，因为它解决了设计中的另一个大问题:切换。</p><p id="2164" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">设计师们经常花上几天时间来完善动画，直到最后一个春天，却发现在开发过程中细节丢失了。通过在原型制作和生产中使用相同的动画库，您现在可以保证以更真实、更有效的方式确保您的动画始终是一对一的。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="4028" class="ky kz it bd la lb na ld le lf nb lh li jz nc ka lk kc nd kd lm kf ne kg lo lp bi translated">入门指南</h1><p id="ddb9" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><em class="nf">注:成帧器动作要求</em> <strong class="ls iu"> <em class="nf">版本React 16.8以上</em> </strong> <em class="nf">。</em></p><h2 id="2e6f" class="ng kz it bd la nh ni dn le nj nk dp li lz nl nm lk md nn no lm mh np nq lo nr bi translated">装置</h2><p id="301b" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">从npm安装<code class="fe ns nt nu nv b">framer-motion</code>。</p><pre class="kj kk kl km gt nw nv nx ny aw nz bi"><span id="a192" class="ng kz it nv b gy oa ob l oc od">npm install framer-motion</span></pre><p id="e787" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">安装完成后，您可以通过<code class="fe ns nt nu nv b">framer-motion</code>包将Motion导入到组件中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="5893" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">我们可以用<code class="fe ns nt nu nv b">motion.div</code>元素替换常规div。使用运动元素可以让我们访问许多可以用来制作动画的属性。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="eae5" class="ky kz it bd la lb na ld le lf nb lh li jz nc ka lk kc nd kd lm kf ne kg lo lp bi translated">鼓舞</h1><p id="630a" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">让我们看看这个超级简单的反应和帧运动组件。当组件安装后，它将在两秒钟内旋转360度。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/4af4f974b6c916fe88aa714aeaf5489f.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/1*4-EiqJr6il-nA3J99UKZBA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">旋转元件</p></figure><p id="3469" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated"><code class="fe ns nt nu nv b">animate</code>属性可以接受一个值对象。当其中一个改变时，<code class="fe ns nt nu nv b">motion</code>组件将自动动画到新的状态。</p><p id="88e9" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">让我们以pop为例，一旦组件挂载，我们的元素将“弹出”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/8a788304d7f208b69fbdc0f8a09d32ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/1*qnlnNqSaPMcd2Otd_Z0wkw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“流行”</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="e7f1" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">注意我们是如何指定在<code class="fe ns nt nu nv b">animate</code>属性中的元素会发生什么的。这是我们给出动画制作指导的地方。属性是我们告诉动画持续时间的地方。</p><p id="daaa" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">我们甚至可以通过将值作为数组传递来为每个<code class="fe ns nt nu nv b">transition</code>、<code class="fe ns nt nu nv b">animate</code>属性和样式指定多个值。这给了我们一个选项，将“pop”和旋转动画合并成一个动画。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/80c54e1259a27eef81086daafd55e180.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/1*EDBSUyLFl6PzUXRqwr8Big.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">"旋转-弹出"</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="82ae" class="ky kz it bd la lb na ld le lf nb lh li jz nc ka lk kc nd kd lm kf ne kg lo lp bi translated">手势动画</h1><p id="547e" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">Motion提供了<code class="fe ns nt nu nv b">whileHover</code>和<code class="fe ns nt nu nv b">whileTap</code>辅助道具，当手势处于活动状态时，这些辅助道具会将组件临时动画化为可视状态。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/67a86773b1ed2e7371872632ac904d39.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/1*EuuLBzHOLEO_2uAqiXSiwg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">处理手势，如悬停和点击按钮</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="3175" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">请注意制作元素动画是多么简单。既然我们已经学习了框架运动的基础知识，让我们来看一个更复杂的例子。如果你目前正在学习JavaScript，我推荐你阅读“<a class="ae mm" href="https://amzn.to/2LRyq8p" rel="noopener ugc nofollow" target="_blank">一种更聪明的学习JavaScript的方法:使用技术将你的努力减半的新方法”</a>这本书。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="3640" class="ky kz it bd la lb na ld le lf nb lh li jz nc ka lk kc nd kd lm kf ne kg lo lp bi translated">棒形纽扣</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/e63e9b13d147ff241c47034c5842ca51.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/1*qCiSqSjprQmMZQNYHpcavg.gif"/></div></figure><p id="4888" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">大多数触发器有两种状态:要么开要么关，<code class="fe ns nt nu nv b">true</code>或<code class="fe ns nt nu nv b">false</code>。让我们创建一个开关组件，根据其当前状态打开或关闭。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">toggle.js组件</p></figure><p id="c1a5" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">这里要带走的关键点是我们运动元素上的<code class="fe ns nt nu nv b">variant</code>道具。变体让我们为动画定义多种状态。</p><p id="4e46" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">变体是组件可以处于的预定义可视状态。通过给一个组件和它的孩子<code class="fe ns nt nu nv b">variants</code>匹配的名字，整个反应树可以通过改变一个道具来激活。</p><p id="4c8c" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">通过使用变体，父母可以轻松地用特殊的<code class="fe ns nt nu nv b">transition</code>道具(如<code class="fe ns nt nu nv b">staggerChildren</code>)编排孩子的动画。</p><p id="3e97" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">变体也可以是动态函数，根据传递给每个组件的<code class="fe ns nt nu nv b">custom</code>属性的数据返回不同的属性。</p><p id="1450" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated"><em class="nf">注意:注意我们是如何使用钩子的。如果钩子对你来说很陌生，</em> <a class="ae mm" href="https://codeburst.io/demystifying-react-hooks-a0b56a6254c2" rel="noopener" target="_blank"> <em class="nf">看看这篇文章</em> </a> <em class="nf">。</em></p><div class="ol om gp gr on oo"><a href="https://codeburst.io/demystifying-react-hooks-a0b56a6254c2" rel="noopener follow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">揭秘React挂钩</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">你可能听说过React的新概念，叫做钩子。钩子在React版本16.8中发布，它们让…</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">codeburst.io</p></div></div><div class="ox l"><div class="oy l oz pa pb ox pc ks oo"/></div></div></a></div></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="ac33" class="ky kz it bd la lb na ld le lf nb lh li jz nc ka lk kc nd kd lm kf ne kg lo lp bi translated">接下来去哪里</h1><p id="f908" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">查看完整的属性列表，自定义挂钩，以及您可以使用Framer Motion完成的酷动画。这是一个非常值得学习的动画库，它将大幅提升你的应用程序的视觉效果。</p><div class="ol om gp gr on oo"><a href="https://www.framer.com/api/motion/" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">成帧器运动API</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">一个开源的、可用于生产的动作库，用于React on web</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">www.framer.com</p></div></div><div class="ox l"><div class="pd l oz pa pb ox pc ks oo"/></div></div></a></div><p id="dd42" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">我还推荐通读“<a class="ae mm" href="https://amzn.to/2yrLuJ6" rel="noopener ugc nofollow" target="_blank"> SVG动画:从常见的UX实现到复杂的响应动画</a>”这本书，以便更好地理解动画。</p><h1 id="f38d" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">源代码</h1><p id="2acc" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">如果你想尝试使用Framer Motion，这里有源代码和代码沙盒。</p><div class="ol om gp gr on oo"><a href="https://github.com/indreklasn/react-framer-motion-examples" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">indreklasn/react-帧-运动-示例</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">用CodeSandbox创建。为indreklasn/react-framer-motion-examples开发贡献一份力量</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">github.com</p></div></div><div class="ox l"><div class="pe l oz pa pb ox pc ks oo"/></div></div></a></div><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf of l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Codesandbox</p></figure><p id="4b47" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz mq mb mc md mr mf mg mh ms mj mk ml im bi translated">感谢阅读！❤</p></div></div>    
</body>
</html>