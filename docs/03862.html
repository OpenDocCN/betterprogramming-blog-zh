<html>
<head>
<title>How I Sped Up iOS Development Using Go</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何使用Go加速iOS开发</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/speeding-up-ios-development-using-go-979425dea4ec?source=collection_archive---------19-----------------------#2020-03-09">https://betterprogramming.pub/speeding-up-ios-development-using-go-979425dea4ec?source=collection_archive---------19-----------------------#2020-03-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1f08" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过将所有字符串移动到Constants.swift文件中，将可翻译的字符串转换为NSLocalizedString，最后，使用Google的云翻译API填充并翻译所有可本地化的. String文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/be0dae84c95d187487e5e41cce80c4ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZnxeFtH59Xwqc7oMffg1Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安娜在<a class="ae ky" href="https://unsplash.com/s/photos/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="0d2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我考虑将哪个项目作为我在<a class="ae ky" href="http://makeschool.com" rel="noopener ugc nofollow" target="_blank"> Make学校的</a> <a class="ae ky" href="https://make-school-courses.github.io/BEW-2.5-Strongly-Typed-Languages/#/" rel="noopener ugc nofollow" target="_blank">围棋课程</a>的最终项目时，这些问题摆在了我面前:</p><ul class=""><li id="ac03" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">什么实用程序、API或库对您的日常生活影响最大？</li><li id="58e8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">我能自动做些什么来提高自己和他人的工作效率？</li></ul><p id="bea6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我有幸参加了这个国家第一个也是唯一一个由世界上最好的后台教练Dani教授的围棋课程。在七周内，我达到了超乎我想象的水平。我不仅学习了Go的并发概念，还制作了非常酷的应用程序，如<a class="ae ky" href="https://github.com/SamuelFolledo/MakeSite" rel="noopener ugc nofollow" target="_blank">静态站点生成器</a>、一个<a class="ae ky" href="https://github.com/SamuelFolledo/MakeScrape" rel="noopener ugc nofollow" target="_blank"> web scraper </a>和我的<a class="ae ky" href="https://github.com/SamuelFolledo/StringsUtility" rel="noopener ugc nofollow" target="_blank">最终项目</a>，作为一名程序员，我希望它能加速iOS开发。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7805" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">问题</h1><p id="7cbc" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">字符串是编程世界中最常见的数据类型之一，因为它们包含向用户显示的消息文本，用于字典或JSONs，以便与后端通信。问题是，重复输入字符串使它们容易出现错别字。必须在确保拼写正确的同时输入它们，这可能是相当烦人的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/12e4e952fcb39a168e1b4bcf617ca6dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IjSjLK_Wlr_Kw7jVDCiNfw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://i.ytimg.com/vi/AMShoQ_qdc0/maxresdefault.jpg" rel="noopener ugc nofollow" target="_blank">https://i.ytimg.com/vi/AMShoQ_qdc0/maxresdefault.jpg</a></p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="0fc1" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">解决办法</h1><p id="fd47" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我做了一个应用程序，递归搜索项目中所有<code class="fe no np nq nr b">.swift</code>文件中的所有字符串，并将这些字符串转换为一个全局常量变量。在<a class="ae ky" href="https://github.com/Make-School-Courses/INT-1.3-AND-INT-2.3-Spring-Intensive" rel="noopener ugc nofollow" target="_blank"> Make School为期两周的春季集训</a>期间，我决定更进一步，自动化更多无聊的字符串任务，并添加以下功能:</p><ul class=""><li id="3988" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">将所有常量文件中的所有可翻译字符串转换为NSLocalizedString。</li><li id="576b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">通过查找Localizable.strings文件并用可翻译的字符串填充它们来检测开发人员想要支持的语言。</li><li id="d498" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">翻译所有Localizable.strings文件中的所有字符串。</li><li id="3cf3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在程序导致意外错误的情况下撤消功能。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="b96b" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">利益</h1><ul class=""><li id="773d" class="lv lw it lb b lc ni lf nj li ns lm nt lq nu lu ma mb mc md bi translated">字符串的自动完成。</li><li id="3f7b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">保证没有意外的错别字。</li><li id="cbe2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在一个文件中轻松管理所有字符串。</li><li id="3fa8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">每个文件可能只需要两个字符串，也可能需要一百万个。</li><li id="df6c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">所有可本地化的文件中没有重复的字符串。</li><li id="f1b0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">可翻译字符串的NSLocalizedString</li><li id="4ddf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在几秒钟内支持41种以上的语言</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="6703" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">它是如何工作的？</h1><p id="0f99" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated"><strong class="lb iu">注意</strong>:为了<strong class="lb iu">使用自动翻译功能</strong>，该项目需要额外但快速完成谷歌云翻译的<a class="ae ky" href="https://cloud.google.com/translate/docs/basic/setup-basic" rel="noopener ugc nofollow" target="_blank">基本设置</a>，以便获得。json文件，允许你向Google的API发送字符串。点击<a class="ae ky" href="https://github.com/SamuelFolledo/StringsUtility" rel="noopener ugc nofollow" target="_blank">此处</a>了解更多信息。完成设置后，您就有了。要导出的json文件，运行一次该行并继续:</p><pre class="kj kk kl km gt nv nr nw nx aw ny bi"><span id="30a2" class="nz mr it nr b gy oa ob l oc od">export GOOGLE_APPLICATION_CREDENTIALS=[PATH]<!-- --> </span></pre><p id="bec8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如:</p><pre class="kj kk kl km gt nv nr nw nx aw ny bi"><span id="9797" class="nz mr it nr b gy oa ob l oc od">export GOOGLE_APPLICATION_CREDENTIALS=/Users/Samuel/Downloads/StringsUtility-Tester-785c7f11aedf.json</span></pre><p id="be5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您已经克隆了<a class="ae ky" href="https://github.com/SamuelFolledo/StringsUtility" rel="noopener ugc nofollow" target="_blank">字符串实用程序</a>项目，开始设置，以及可选的Google Cloud Translation的<a class="ae ky" href="https://cloud.google.com/translate/docs/basic/setup-basic" rel="noopener ugc nofollow" target="_blank">基本设置</a>，下面是它的工作方式:</p><ul class=""><li id="37b8" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">为了构建和运行，它需要一个指向项目的路径目录或任何包含。swift文件或项目不会做任何事情。</li><li id="84e3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">运行<code class="fe no np nq nr b">run main.go — dir=REPLACE_FOR_PROJECT_PATH</code>。</li><li id="974d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">它首先在存储路径的项目中搜索一个<code class="fe no np nq nr b">Constant</code>文件，如果它存在的话，或者创建一个新的路径。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/f43c09fde8a7749aecfd34e337f08935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a1BUcz3yU6Hq0g9ysKPr-g.png"/></div></div></figure><ul class=""><li id="db70" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">现在我们有了一个存储常量变量的地方，我们可以开始递归搜索所有的字符串。目录内的swift文件通过了。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/1c653b92346ba534010696e7b70205c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p5Yny8eIgtfjzva9RZquGA.png"/></div></div></figure><p id="2e3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">命令<code class="fe no np nq nr b">ioutil.ReadDir()</code>查看一个路径中的所有文件，并且可以区分目录和实际文件。如果文件是一个目录，再次递归运行这个函数。如果该文件是一个. swift文件，我们现在可以开始在该文件中搜索字符串。</p><p id="f6d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一步是搜索字符串，然后更新。swift文件和相应的常量文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/81277a6e04300d6fcd762b6de6caef56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMs4ONuerupWwrwX4B4aLw.png"/></div></div></figure><p id="74a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码是在我的期末考试期间写的，现在已经被优化得更干净，并在我的2周强化期中遵循最佳实践。查看我的GitHub repo来看完整的源代码。如果你有任何问题，建议，雇用，或希望这个项目得到优化，并遵循贵公司的标准和自动化字符串任务，随时联系<a class="ae ky" href="https://www.makeschool.com/portfolio/SamuelFolledo" rel="noopener ugc nofollow" target="_blank">我</a>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="f559" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">重要链接</h1><ul class=""><li id="8c8c" class="lv lw it lb b lc ni lf nj li ns lm nt lq nu lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/SamuelFolledo/StringsUtility" rel="noopener ugc nofollow" target="_blank"> Samuel Folledo的弦乐实用项目</a></li><li id="049e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/Make-School-Courses/INT-1.3-AND-INT-2.3-Spring-Intensive" rel="noopener ugc nofollow" target="_blank">让学校的春季密集</a></li><li id="33f2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://github.com/Make-School-Courses/BEW-2.5-Strongly-Typed-Languages/blob/master/Project/MakeUtility.md" rel="noopener ugc nofollow" target="_blank"> GitHub:制作学校课程— BEW2.5 </a></li><li id="2315" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="http://makeschool.com" rel="noopener ugc nofollow" target="_blank">制作学校</a></li></ul></div></div>    
</body>
</html>