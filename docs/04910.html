<html>
<head>
<title>4 Ways to Conditionally Render in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中有条件渲染的4种方式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/4-ways-to-conditionally-render-in-react-3785fb5e5013?source=collection_archive---------1-----------------------#2020-05-21">https://betterprogramming.pub/4-ways-to-conditionally-render-in-react-3785fb5e5013?source=collection_archive---------1-----------------------#2020-05-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9988" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">展示还是不展示？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3a7000de7bda73880c2cea7745999e39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9xUdCOev9p2bTYvUdL8NkQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://icons8.cn/ouch/illustration/magic" rel="noopener ugc nofollow" target="_blank"> Icon8 </a></p></figure><p id="307a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您是React开发人员，您可能已经处理过基于条件的渲染。这个过程叫做<a class="ae ky" href="https://it.reactjs.org/docs/conditional-rendering.html" rel="noopener ugc nofollow" target="_blank"> <em class="lv">条件渲染</em></a><em class="lv"/>，一般用在以下过程中:</p><ul class=""><li id="2e28" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><strong class="lb iu">显示/隐藏一个元素:</strong>像一个按钮。用户是否有权限通过按下它来执行此操作？</li><li id="217f" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">实现权限:</strong>也许你的产品里有角色。商店经理可以使用他们的内部应用程序为其订购新的供应品，而收银员甚至无法在应用程序中看到该功能。</li><li id="f718" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">管理加载器:</strong>简单——列表停止加载它的元素，我们让加载栏消失。</li></ul><p id="da89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是处理条件渲染并不总是那么容易。应该使用<em class="lv">三元运算符</em>吗？几个<code class="fe mk ml mm mn b">&amp;&amp;</code>还是一个<code class="fe mk ml mm mn b">if</code>语句？</p><p id="3a33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将向您介绍基于条件在React中呈现某些内容的不同技术。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="2528" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">1.使用If..其他</h1><p id="e174" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">假设您正在编写一个应用程序，用于管理物理存储区域中的技术设备。只有当<code class="fe mk ml mm mn b">isManager</code>为<code class="fe mk ml mm mn b">true</code>时，你才能将其中一个移动到物品栏中。否则，该应用程序的普通用户可以请求支持。假设您显示一个按钮，允许正确的用户执行此活动:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="8721" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前，将设备移至清单的选项始终开启。让我们用一个<code class="fe mk ml mm mn b">if ..else</code>声明来改变这一点。这是一个琐碎的任务。只需将语句从render函数中取出，并按如下方式计算结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="bc56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请点击<a class="ae ky" href="https://react-cn.github.io/react/tips/if-else-in-JSX.html" rel="noopener ugc nofollow" target="_blank">链接</a>了解更多关于为什么不能在JSX内部直接使用<code class="fe mk ml mm mn b">if ..else</code>语句的信息。但是，请注意，您可能更喜欢使用这种<a class="ae ky" href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression" rel="noopener ugc nofollow" target="_blank">life</a>方法来更简洁地解决这个问题:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="6e84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很明显，在某些情况下，您的代码会比这复杂得多。如果您必须在允许设备移动到清单之前执行一些初步操作，该怎么办？比如检查是否有足够的空间，或者新的空间何时可用。在这些情况下，您可以分离这个逻辑，并将其包装在一个助手函数<strong class="lb iu"> <em class="lv"> </em> </strong>或一个新组件中。</p><p id="6061" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是第一种方法，将它包装在一个助手函数中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="6e29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是第二种方法，在新文件中创建新组件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="01ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后简单地使用它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="71b3" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">2.使用Switch语句</h1><p id="b333" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">如果你用一个常量来比较多个值，那么可能需要将复杂的<code class="fe mk ml mm mn b">if ..else</code>子句转换成一个<code class="fe mk ml mm mn b">switch</code>语句。我推荐你阅读<a class="ae ky" href="https://codeburst.io/alternative-to-javascripts-switch-statement-with-a-functional-twist-3f572787ba1c" rel="noopener" target="_blank">这篇文章</a>来学习如何避免使用这样的语句以及为什么。现在，让我们看看如何在这里使用它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="985a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，返回null将不会在我们调用<code class="fe mk ml mm mn b">checkPermission()</code>的地方呈现任何内容，这在本例中非常有用。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="8f31" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">3.使用三元运算符</h1><p id="1e90" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">这可能是大多数情况下您使用条件渲染的方式。为什么？因为它是内嵌的，易于阅读，而且相当简洁。看一看:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="4139" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您必须执行一个简化的<code class="fe mk ml mm mn b">if ..else</code>子句时，使用三元运算符，其中，在条件发生时，您将返回值。请注意它是如何自动执行的，无需您键入<code class="fe mk ml mm mn b">return</code>。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="c37e" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">4.使用&amp;&amp;进行短路评估</h1><p id="648c" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">该技术用于确保在表达式中的操作数求值期间不会出现副作用<em class="lv">。当你想用它的时候。答案是:当你希望某件事只在特定条件下发生，否则什么都不做。假设您只想在用户是经理时显示“移至库存”按钮:</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h2 id="1a4b" class="nu mw it bd mx nv nw dn nb nx ny dp nf li nz oa nh lm ob oc nj lq od oe nl of bi translated">结论</h2><p id="0b09" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">在本文中，您已经看到了在应用程序中执行条件渲染的几种有用方法。通常，我的建议是:</p><ul class=""><li id="8d36" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">如果你有一个简单的<code class="fe mk ml mm mn b">if ..else</code>，那就用一个<em class="lv">三元运算符</em>。</li><li id="b06b" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">如果你想只打印某些东西，而且只在一定条件下打印，那么就用<em class="lv">短路评估。</em></li><li id="5a14" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">对于更复杂的情况，助手函数通常会完成这项工作。但是有时它们增长得如此之快，以至于你最好用自己的逻辑实现一个新的组件。</li></ul><p id="ea41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然这只是我对一个复杂话题的看法。希望这篇文章能帮助你发现新的东西，成为一名更好的开发人员。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="8345" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">资源</h1><ul class=""><li id="ea93" class="lw lx it lb b lc nn lf no li og lm oh lq oi lu mb mc md me bi translated"><a class="ae ky" href="https://it.reactjs.org/docs/conditional-rendering.html" rel="noopener ugc nofollow" target="_blank"> <em class="lv">条件渲染</em> </a></li><li id="7fa5" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://react-cn.github.io/react/tips/if-else-in-JSX.html" rel="noopener ugc nofollow" target="_blank">为什么在JSX不能直接使用if语句</a></li><li id="861f" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression" rel="noopener ugc nofollow" target="_blank">生命定义</a></li><li id="e1e9" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://icons8.it" rel="noopener ugc nofollow" target="_blank">美丽图标8中的所有图标</a></li></ul></div></div>    
</body>
</html>