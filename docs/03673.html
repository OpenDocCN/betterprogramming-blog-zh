<html>
<head>
<title>Google Hash Code 2020: How we Took 98.5% of the Best Score</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌哈希代码2020:我们如何取得98.5%的最好成绩</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/google-hash-code-2020-how-we-took-98-5-of-the-best-score-e5b6fa4abc1b?source=collection_archive---------1-----------------------#2020-02-26">https://betterprogramming.pub/google-hash-code-2020-how-we-took-98-5-of-the-best-score-e5b6fa4abc1b?source=collection_archive---------1-----------------------#2020-02-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="521c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们在乌克兰排名第53位，在世界排名第530位</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7cf690a1c350bef9cb23029e55ad25a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uyCK9sajC9NhImPx"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@mitchel3uo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">米切尔罗</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="3dc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于我们没有机会参加今年的谷歌哈希代码，我们决定在扩展赛中尽力而为。下面是结果:世界排名第530，乌克兰第53。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1062" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是谷歌哈希码？</h1><p id="4a25" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">自2016年以来，谷歌一直在组织一场名为<a class="ae kv" href="https://codingcompetitions.withgoogle.com/hashcode" rel="noopener ugc nofollow" target="_blank">哈希代码</a>的程序员竞赛。两到四人的团队可以参加比赛，他们必须解决一个优化问题。每年它都吸引了成千上万来自世界各地的人们。</p><p id="7335" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它有两个回合:主回合和扩展回合。主回合只持续四个小时，而延长回合可持续两周。当然，延长赛不计入记分牌，但这仍然是检验你的知识和技能的好机会。</p><p id="1eeb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们提到的，我们没有机会参加主轮，但也许我们的解决方案会让你感兴趣。或者，它可能会促使您尝试实现自己的解决方案。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0c65" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">今年的任务描述</h1><p id="d3cf" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">今年，参与者面临的问题是扫描不同图书馆的书籍。</p><p id="ab2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你必须从首先注册的图书馆中选择得分最高的书。这件事必须在规定的期限内完成。相同的书籍可以在多个图书馆中获得，但是每本书只能获得一次分数。此外，每个图书馆每天可以提供不同数量的书籍。</p><p id="0602" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我们得到的原始数据:</p><ul class=""><li id="c0d6" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">一次只能有一个图书馆注册。</li><li id="2187" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">只有签约的图书馆才能为你提供扫描的书籍。</li><li id="19de" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">你有一个总的截止日期。</li><li id="c2e9" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">你的目标是在所有提供的书籍中获得尽可能高的分数。</li></ul><p id="b397" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">听起来可能有点复杂，至少用我们的话说是这样！希望这张图片能帮助你弄清事情的真相:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/49450fb609273b2f83cd54cb8a5d62a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ki2R5KQ6TfrjUGF2"/></div></div></figure><p id="cef8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你还没有解决这个问题，我们建议你推迟阅读这篇文章的其余部分，试着先自己解决。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="744e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">我们的解决方案</h1><p id="dfee" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">分析任务描述，我们得出的结论是，基本上只有一个问题需要解决:每次注册过程是空的，我们必须找到最合适的库，我们将通过它来注册。</p><p id="9d4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了找到这个图书馆，我们决定按照以下标准对它们进行评估:两个正面——图书馆书籍的分数和我们每天可以扫描的书籍数量；还有一个负面因素——注册一个图书馆需要多少天。</p><p id="9cf2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们停下来的第一个算法非常简单。它基本上计算了如果我们现在开始注册，图书馆将产生多少分数。</p><ul class=""><li id="7feb" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">计算注册完成后还剩多少天。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/4368f84dedc9cebb27174156621a6d50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/0*W8ZSAkjZu9Qw2l7B"/></div></figure><ul class=""><li id="fc88" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">乘以每天扫描的书籍数量。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/b6214fe2db746d7f60f97d0183853412.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*F5U0KY2eYMvOp_3X"/></div></div></figure><ul class=""><li id="c752" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">根据分数对书籍进行排序，并获得排名靠前的书籍。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/c252a97e85ee4666ce135a92c0465f4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/0*XCSPjNYQu_yl7km6"/></div></figure><ul class=""><li id="30eb" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">扫描书籍的累积分数就是图书馆价值。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/c3cf1fe2da522a1a7d892efc596138bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/0*XKEs1SNbp-nHO62J"/></div></figure><p id="7506" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，我们只选择具有最高值的库。如果有多个库具有最大值，我们选择注册时间最短的一个。</p><p id="2fd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果如下:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="b3d2" class="nu ma iq nq b gy nv nw l nx ny">a         |             21</span><span id="7875" class="nu ma iq nq b gy nz nw l nx ny">b         |      5 822 900</span><span id="653b" class="nu ma iq nq b gy nz nw l nx ny">c         |      1 480 105</span><span id="d969" class="nu ma iq nq b gy nz nw l nx ny">d         |      5 028 530</span><span id="a3b9" class="nu ma iq nq b gy nz nw l nx ny">e         |      3 310 023</span><span id="2795" class="nu ma iq nq b gy nz nw l nx ny">f         |      1 197 503</span><span id="a1e6" class="nu ma iq nq b gy nz nw l nx ny"><strong class="nq ir">total     |     16 839 082</strong></span></pre><p id="2229" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个解决方案相当不错，但仍远非完美。所以我们继续尝试。</p><p id="ea6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">经过进一步的头脑风暴，我们发现负标准(注册图书馆的天数)在我们的等式中没有得到恰当的体现。</p><p id="2ce0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的公式中引入这个标准的许多方法中(为标准定义一些系数，等等。)，我们选择了下面这个——用计算值除以报名天数。这样我们就可以得到好的输入和坏的输入之间的比率。</p><p id="e898" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们得到的结果非常令人吃惊，结果比当时的最佳结果只差1.5%。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/19076356df58fdf1ba797b07bdb629a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J9ajKahdEakMHvQo"/></div></div></figure><p id="785d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我们的源代码(不要评价我们，我们做得太匆忙了！):</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8a5d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">我们从这次经历中学到了什么</h1><ul class=""><li id="573d" class="mw mx iq ky b kz mr lc ms lf od lj oe ln of lr nb nc nd ne bi translated">用算法思考</li><li id="7cbc" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">找到问题的根源——即使这个任务乍看起来很复杂，但真正的问题可能很简单。</li><li id="c3e4" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">考虑方程的所有变量。</li><li id="c78c" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">不要停止改善结果——如果某样东西有效，并不意味着它不能更好地发挥作用。</li><li id="de33" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">使用TypeScript而不是JavaScript。我们花了很多时间调试JavaScript问题，这些问题本可以通过使用TypeScript来避免。</li></ul><h2 id="2cbd" class="nu ma iq bd mb og oh dn mf oi oj dp mj lf ok ol ml lj om on mn ln oo op mp oq bi translated">团队成员的积分:</h2><p id="f35c" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Yelysei Lukin ( <a class="ae kv" href="https://www.linkedin.com/in/yelysei/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a></p><p id="b91c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="or os ep" href="https://medium.com/u/262dcfc8102b?source=post_page-----e5b6fa4abc1b--------------------------------" rel="noopener" target="_blank">奥莱赫·扎波罗热茨</a> ( <a class="ae kv" href="https://www.linkedin.com/in/oleh-zaporozhets/" rel="noopener ugc nofollow" target="_blank">领英</a>)</p></div></div>    
</body>
</html>