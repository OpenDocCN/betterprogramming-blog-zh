<html>
<head>
<title>How To Deploy RabbitMQ With The Kubernetes Operators</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Kubernetes操作符部署RabbitMQ</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-deploy-rabbitmq-with-the-kubernetes-operators-687a2bb9f648?source=collection_archive---------10-----------------------#2021-12-14">https://betterprogramming.pub/how-to-deploy-rabbitmq-with-the-kubernetes-operators-687a2bb9f648?source=collection_archive---------10-----------------------#2021-12-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="88e0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用Kubernetes运营商的力量部署您自己的RabbitMQ集群</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e5da4a851e3f4809f1d90be0b742f652.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EYPJkNg-OLd1vIVo"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">汉斯·艾斯科宁 / <a class="ae ky" href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>摄影</p></figure><p id="a077" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.rabbitmq.com/" rel="noopener ugc nofollow" target="_blank"> RabbitMQ </a>是部署最广泛的开源消息代理。在谈论RabbitMQ之前，我们先定义一下什么是消息代理。简而言之，它允许应用程序和服务相互通信并交换数据。下图展示了使用消息代理的事件总线的用例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/dcb9c2355364d2cc60636148966c3dde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TdL7MiRST-M5fIGj.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有消息代理(事件总线)的软件通信中心</p></figure><p id="d27d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">消息代理对于分离组件之间的通信非常有用。它让你有机会创建完全分布式的现代架构。在message broker家族中，你可以找到其他流行的名字，比如<a class="ae ky" href="https://kafka.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Kafka </a>、<a class="ae ky" href="https://activemq.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache ActiveMQ </a>。</p><p id="45dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">RabbitMQ是轻量级的，易于在内部或云中部署。它提供了有趣的功能:</p><ul class=""><li id="8890" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">它支持多种消息协议，如AMQP、STOMP、MQTT等</li><li id="706f" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">它可以部署在分布式和联合配置中，以满足高可扩展性和高可用性要求。</li><li id="5c3e" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">它提供了用于管理的UI和用于监控的HTTP API。</li><li id="1951" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">它可以用许多可用的插件来扩展。</li><li id="a005" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">有很多编程语言实现的客户端:Python、Javascript、Java、Go、Ruby等。</li></ul><p id="1a9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我们将重点介绍如何在Kubernetes集群中部署高可用性RabbitMQ集群。选择将是使用Kubernetes运营商来有效地实现这一目标。我们将看到使用它们的优势，以及如何一步步部署RabbitMQ资源。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="09d7" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">为什么使用Kubernetes操作符？</h1><blockquote class="nj nk nl"><p id="d84e" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated"><em class="it">“Operators是Kubernetes的软件扩展，它利用</em> <a class="ae ky" href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/" rel="noopener ugc nofollow" target="_blank"> <em class="it">自定义资源</em> </a> <em class="it">来管理应用程序及其组件。”</em><a class="ae ky" href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/" rel="noopener ugc nofollow" target="_blank"><em class="it">https://kubernetes . io/docs/concepts/extend-kubernetes/operator/</em></a></p></blockquote><p id="aab7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kubernetes中的操作符允许您扩展集群的行为，而无需修改Kubernetes本身的代码。在我们的例子中，RabbitMQ的行为将被委托给操作者。这将为我们节省大量时间。</p><p id="6239" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">RabbitMQ团队开发并维护了两个Kubernetes运营商:</p><ul class=""><li id="ece3" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><em class="nm">RabbitMQ Cluster Kubernetes Operator</em>自动化运行在Kubernetes上的rabbit MQ集群的供应、管理和操作。</li><li id="943d" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><em class="nm"> RabbitMQ消息传递拓扑操作符</em>管理集群的拓扑(权限、用户等)</li></ul><p id="dcfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">操作员通过CRDs ( <em class="nm">自定义资源定义</em>)安装在Kubernetes集群中。安装后，集群中的新资源是已知的，如传统资源(Pod、部署等)。您只需创建YAML清单来调用它们。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="496e" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">部署RabbitMQ集群Kubernetes操作符</h1><p id="4564" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">CRD在<a class="ae ky" href="https://github.com/rabbitmq/cluster-operator/releases" rel="noopener ugc nofollow" target="_blank">存储库版本</a>中可用。用<code class="fe nv nw nx ny b">kubectl</code>命令安装它:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="48cb" class="od ms it ny b gy oe of l og oh">$ kubectl apply -f "https://github.com/rabbitmq/cluster-operator/releases/latest/download/cluster-operator.yml"</span></pre><p id="c90a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">新资源位于<code class="fe nv nw nx ny b">rabbitmq-system</code>名称空间中:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="59cf" class="od ms it ny b gy oe of l og oh">$ kubectl get all -n rabbitmq-system<br/>NAME                                             READY   STATUS    RESTARTS   AGE<br/>pod/rabbitmq-cluster-operator-7cbf865f89-9pq6n   1/1     Running   4          2d21h<br/><br/>NAME                                        READY   UP-TO-DATE   AVAILABLE   AGE<br/>deployment.apps/rabbitmq-cluster-operator   1/1     1            1           2d21h<br/><br/>NAME                                                   DESIRED   CURRENT   READY   AGE<br/>replicaset.apps/rabbitmq-cluster-operator-7cbf865f89   1         1         1       2d21h</span></pre><p id="da6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保资源都已准备好，可以开始下一步了。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="db5b" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">创建RabbitMQ集群</h1><p id="aeb0" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">RabbitMQ集群操作符提供了一种<code class="fe nv nw nx ny b">RabbitmqCluster</code>。现在，您可以在Kubernetes集群中创建任意数量的RabbitMQ集群。您只需在YAML清单中定义它们，如下所示:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="506a" class="od ms it ny b gy oe of l og oh">apiVersion: rabbitmq.com/v1beta1<br/>kind: RabbitmqCluster<br/>metadata:<br/>  labels:<br/>    app: rabbitmq<br/>  name: rabbitmq<br/>spec:<br/>  replicas: 3<br/>  image: rabbitmq:3.9.11<br/>  service:<br/>    type: ClusterIP<br/>  persistence:<br/>    storageClassName: hostpath<br/>    storage: 10<br/>  resources:<br/>    requests:<br/>      cpu: 256m<br/>      memory: 1Gi<br/>    limits:<br/>      cpu: 256m<br/>      memory: 1Gi<br/>  rabbitmq:<br/>    additionalPlugins:<br/>      - rabbitmq_management<br/>      - rabbitmq_peer_discovery_k8s<br/>    additionalConfig: |<br/>      cluster_formation.peer_discovery_backend = rabbit_peer_discovery_k8s<br/>      cluster_formation.k8s.host = kubernetes.default.svc.cluster.local<br/>      cluster_formation.k8s.address_type = hostname<br/>      vm_memory_high_watermark_paging_ratio = 0.85<br/>      cluster_formation.node_cleanup.interval = 10<br/>      cluster_partition_handling = autoheal<br/>      queue_master_locator = min-masters<br/>      loopback_users.guest = false<br/>      default_user = guest<br/>      default_pass = guest<br/>    advancedConfig: ""</span></pre><p id="e97b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们回顾一下上面清单的内容:</p><ul class=""><li id="4f61" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">我们创建了一种资源<code class="fe nv nw nx ny b">Rabbitmqcluster</code>。它是由我们在前一部分中安装的CRD定义的。</li><li id="8c2c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">该集群有3个副本，以实现高可用性和容错。</li><li id="979c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">每个pod都有明确定义的资源。</li><li id="0cea" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">新增插件:管理UI的<code class="fe nv nw nx ny b">rabbitmq_management</code>和集群形成的<code class="fe nv nw nx ny b">rabbitmq_peer_discovery_k8s</code>。你可以在这里找到其他插件:<a class="ae ky" href="https://www.rabbitmq.com/plugins.html" rel="noopener ugc nofollow" target="_blank">https://www.rabbitmq.com/plugins.html</a>。</li><li id="029e" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">集群配置在<code class="fe nv nw nx ny b">additionalConfig</code>字段完成:<a class="ae ky" href="https://www.rabbitmq.com/configure.html#config-file" rel="noopener ugc nofollow" target="_blank">https://www.rabbitmq.com/configure.html#config-file</a>。</li><li id="fcf3" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">使用的服务类型是<code class="fe nv nw nx ny b">ClusterIP</code>。如果您的应用程序在集群之外，您可以配置一个<code class="fe nv nw nx ny b">LoadBalancer</code>类型。</li><li id="ac52" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">持久性已配置。给定的示例运行在本地Kubernetes集群上，因此存储类是<code class="fe nv nw nx ny b">hostpath</code>。您可以查看Kubernetes中符合您需求的可用类:<a class="ae ky" href="https://kubernetes.io/docs/concepts/storage/storage-classes/" rel="noopener ugc nofollow" target="_blank">https://Kubernetes . io/docs/concepts/storage/storage-classes/</a></li></ul><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="fec6" class="od ms it ny b gy oe of l og oh">$ kubectl create -f rabbitmq.yaml<br/>$ kubectl get pods -l app.kubernetes.io/name=rabbitmq<br/>NAME                READY   STATUS    RESTARTS   AGE<br/>rabbitmq-server-0   1/1     Running   0          4m41s<br/>rabbitmq-server-1   1/1     Running   0          4m41s<br/>rabbitmq-server-2   1/1     Running   0          4m41s</span></pre></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="13d9" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">部署RabbitMQ拓扑操作符</h1><p id="5047" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">现在让我们来讨论RabbitMQ拓扑运算符。它允许您管理RabbitMQ特定的资源，如用户和权限，例如:<a class="ae ky" href="https://www.rabbitmq.com/kubernetes/operator/using-topology-operator.html" rel="noopener ugc nofollow" target="_blank">https://www . rabbit MQ . com/kubernetes/operator/using-topology-operator . html</a>。</p><p id="995f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该操作员需要证书管理器才能工作。部署它并确保所有pod都正常运行:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="0a55" class="od ms it ny b gy oe of l og oh">$ kubectl apply -f https://github.com/jetstack/cert-manager/releases/download/v1.3.1/cert-manager.yaml<br/>$ kubectl get pods -n cert-manager<br/>NAME                                       READY   STATUS    RESTARTS   AGE<br/>cert-manager-7dd5854bb4-vt5jn              1/1     Running   0          47s<br/>cert-manager-cainjector-64c949654c-j2npq   1/1     Running   0          47s<br/>cert-manager-webhook-6b57b9b886-f6gwt      1/1     Running   0          47s</span></pre><p id="c441" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装CRD:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="bdcf" class="od ms it ny b gy oe of l og oh">$ kubectl apply -f https://github.com/rabbitmq/messaging-topology-operator/releases/latest/download/messaging-topology-operator-with-certmanager.yaml</span></pre><p id="71ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个清单示例，用于为来宾用户配置权限，以便使用身份验证进行测试:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="4969" class="od ms it ny b gy oe of l og oh">apiVersion: rabbitmq.com/v1beta1<br/>kind: Permission<br/>metadata:<br/>  name: rabbitmq-guest-permission<br/>spec:<br/>  vhost: /<br/>  user: guest<br/>  permissions:<br/>    write: ".*"<br/>    configure: ".*"<br/>    read: ".*"<br/>  rabbitmqClusterReference:<br/>    name: rabbitmq</span></pre></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="513a" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">安装RabbitMQ集群操作器Kubectl插件</h1><p id="9c2f" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">RabbitMQ团队还提供了一个<code class="fe nv nw nx ny b">kubectl</code>插件来使用RabbitMQ集群操作符。这个插件将自动化许多与Kubernetes API和RabbitMQ集群操作符的交互。</p><p id="59db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">插件需要安装<code class="fe nv nw nx ny b">krew</code>插件管理器(这里的安装是针对MacOSX的，查看<a class="ae ky" href="https://krew.sigs.k8s.io/docs/user-guide/setup/install/" rel="noopener ugc nofollow" target="_blank">文档</a>并适应你的操作系统)</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="b7ad" class="od ms it ny b gy oe of l og oh">(<br/>  set -x; cd "$(mktemp -d)" &amp;&amp;<br/>  OS="$(uname | tr '[:upper:]' '[:lower:]')" &amp;&amp;<br/>  ARCH="$(uname -m | sed -e 's/x86_64/amd64/' -e 's/\(arm\)\(64\)\?.*/\1\2/' -e 's/aarch64$/arm64/')" &amp;&amp;<br/>  KREW="krew-${OS}_${ARCH}" &amp;&amp;<br/>  curl -fsSLO "https://github.com/kubernetes-sigs/krew/releases/latest/download/${KREW}.tar.gz" &amp;&amp;<br/>  tar zxvf "${KREW}.tar.gz" &amp;&amp;<br/>  ./"${KREW}" install krew<br/>)</span></pre><p id="1ece" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用<code class="fe nv nw nx ny b">krew</code>的位置更新您的<code class="fe nv nw nx ny b">PATH</code>环境变量:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="7e6f" class="od ms it ny b gy oe of l og oh">$ export PATH="${KREW_ROOT:-$HOME/.krew}/bin:$PATH"</span></pre><p id="4434" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查安装是否正常:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="a204" class="od ms it ny b gy oe of l og oh">$ kubectl krew</span></pre><p id="6937" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装RabbitMQ插件:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="98b0" class="od ms it ny b gy oe of l og oh">$ kubectl krew install rabbitmq</span></pre><p id="adbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查RabbitMQ插件:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="6997" class="od ms it ny b gy oe of l og oh">$ kubectl rabbitmq help</span></pre><p id="24dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在列表中检索您的集群:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="f2f7" class="od ms it ny b gy oe of l og oh">$ kubectl rabbitmq list                          <br/>NAME       ALLREPLICASREADY   RECONCILESUCCESS   AGE<br/>rabbitmq   True               True               4d20h</span></pre><p id="b3de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以直接打开管理界面:</p><pre class="kj kk kl km gt nz ny oa ob aw oc bi"><span id="ba47" class="od ms it ny b gy oe of l og oh">$ kubectl rabbitmq manage rabbitmq</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/c15239b0515691b6aa7419ca9aa6f172.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/0*CXFcqDzHI4uUN2zV.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">RabbitMQ管理登录界面</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/362729ce6ee77c275da9c0463a8fa45a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mtY10k_CjMi8UoVV.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">RabbitMQ管理界面</p></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="05b6" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">结论</h1><p id="8dfc" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">通过本教程，我们看到了使用运营商部署Kubernetes的优势。</p><p id="c526" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它们允许RabbitMQ集群的透明性和供应。它自动化了大部分管理，并允许通过YAML清单定义RabbitMQ拓扑。最后，我们已经看到了如何设置kubectl插件来与操作者交互。</p></div></div>    
</body>
</html>