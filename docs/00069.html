<html>
<head>
<title>All You Need To Know About CSS-in-JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于CSS-in-JS你需要知道的</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/all-you-need-to-know-about-css-in-js-984a72d48ebc?source=collection_archive---------1-----------------------#2017-11-09">https://betterprogramming.pub/all-you-need-to-know-about-css-in-js-984a72d48ebc?source=collection_archive---------1-----------------------#2017-11-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5d93" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">TL；DR: <em class="ki"> </em>在组件中思考<strong class="ak"> — </strong>你不再需要维护一堆样式表。</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/fd90e460c69a37ca11113b4f4848a062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OH0dDfJAGv6aEGFk2zLAxw.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">由<a class="ae kz" href="http://bit.ly/anna-dadej" rel="noopener ugc nofollow" target="_blank">设计<strong class="bd la">安娜</strong>设计</a></p></figure><p id="2d7b" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">CSS-in-JS将CSS模型抽象到组件级别，而不是文档级别(模块化)。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="6513" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">样式化的React组件示例</h1><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mw"><img src="../Images/43c3c68418e8e0f2c58449386b504527.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DFwkvCRyz9K0Mbl59r2hMg.png"/></div></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="d0e7" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">你可能听说过像<a class="ae kz" href="http://cssinjs.org/?v=v9.1.0" rel="noopener ugc nofollow" target="_blank"> CSS-in-JS </a>、<a class="ae kz" href="https://www.styled-components.com" rel="noopener ugc nofollow" target="_blank">style Components</a>、<a class="ae kz" href="https://github.com/FormidableLabs/radium" rel="noopener ugc nofollow" target="_blank"> Radium </a>和<a class="ae kz" href="https://github.com/Khan/aphrodite" rel="noopener ugc nofollow" target="_blank"> Aphrodite </a>、<strong class="ld iu"> </strong>这样的术语，你可能会想，“这和我有什么关系？我对CSS-in-CSS (CSS in)非常满意。css)。<strong class="ld iu"/></p><p id="7de8" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我在这里解释一下为什么这是相关的，希望我们至少能理解这个概念，并且理解为什么它是相关的。尽管如此，请放心使用CSS-in-CSS。您没有义务使用CSS-in-JS。<strong class="ld iu"> </strong>只要对你最有效，让你开心，那就是最好的解决方案，永远都是！</p><p id="258f" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">JS中的CSS是一个微妙而有争议的话题。我提倡思想开放，考虑这对你是否有意义。问问你自己，“它会改善我的工作流程吗？”最后，唯一重要的是使用让你更快乐、更有效率的工具。</p><p id="821c" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我总是觉得维护一个巨大的样式表文件夹很尴尬。我想尝试不同的方法。我看到很多人问有没有新的造型创意。到目前为止，CSS-in-JS是最好的概念。</p><p id="cff8" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">让我们试试CSS-in-JS。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mx"><img src="../Images/73fa1fbd3189cd05a9e587fbeab4afe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bsbmmLcGl2kSJSuKW-JFqw.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">中小型项目CSS</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="d13f" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">什么是CSS-in-JS？</h1><blockquote class="my mz na"><p id="2383" class="lb lc nb ld b le lf ju lg lh li jx lj nc ll lm ln nd lp lq lr ne lt lu lv lw im bi translated">相对于CSS，JSS是一个更强大的抽象。它使用JavaScript作为一种语言，以声明性和可维护的方式描述样式。它是一个高性能的JS到CSS编译器，可以在运行时和服务器端工作。这个核心库是低级的，与框架无关。它大约6KB (minified和gzipped ),可以通过<a class="ae kz" href="http://cssinjs.org/plugins" rel="noopener ugc nofollow" target="_blank">插件</a> API扩展。— <a class="ae kz" href="http://cssinjs.org/" rel="noopener ugc nofollow" target="_blank">来源</a></p></blockquote><p id="bb6b" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">记住<a class="ae kz" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style" rel="noopener ugc nofollow" target="_blank">内联样式</a>和CSS-in-JS是不一样的！它们是不同的，如下面的演示所示。</p><h1 id="2882" class="me mf it bd mg mh nf mj mk ml ng mn mo jz nh ka mq kc ni kd ms kf nj kg mu mv bi translated">差异</h1><p id="052f" class="pw-post-body-paragraph lb lc it ld b le nk ju lg lh nl jx lj lk nm lm ln lo nn lq lr ls no lu lv lw im bi translated">并不是所有的CSS特性都可以用JavaScript事件处理程序作为别名。许多伪选择器(如<code class="fe np nq nr ns b">:disabled</code>、<code class="fe np nq nr ns b">:before</code>、<code class="fe np nq nr ns b">:nth-child</code>)是不可能的，样式化的<code class="fe np nq nr ns b">html</code>和<code class="fe np nq nr ns b">body</code>标签不被支持，等等。</p><p id="3b32" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">有了CSS-in-JS，您就可以轻松掌握CSS的所有功能。因为生成了实际的CSS，所以您可以使用您能想到的所有媒体查询和伪选择器。一些库(比如<code class="fe np nq nr ns b">jss</code>、<code class="fe np nq nr ns b">styled-components</code>)甚至增加了对简洁的非CSS原生特性的支持，比如嵌套！</p><p id="96b9" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">为什么我们不直接使用CSS-in-CSS就完事了呢？</p><p id="62dd" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">虽然这种情况已经持续了很长时间，但挑战在于现代web是用组件编写的，而不是页面。</p><p id="3ef5" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">CSS实际上从来不是为基于组件的方法而设计的。CSS-in-JS正好解决了这个问题。大声疾呼<a class="ae kz" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue </a>漂亮地解决了这个问题，尽管Vue的样式无法访问组件状态。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="6ae4" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">使用CSS-in-JS有什么好处？</h1><ul class=""><li id="731c" class="nt nu it ld b le nk lh nl lk nv lo nw ls nx lw ny nz oa ob bi translated">用组件思考。你不再需要维护一堆样式表。CSS-in-JS将CSS模型抽象到组件级别，而不是文档级别(模块化)。</li><li id="a226" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">CSS-in-JS <strong class="ld iu"> </strong>利用JavaScript生态系统的全部力量来增强CSS。</li><li id="50d6" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">真正的规则隔离。作用域选择器是不够的。CSS具有从父元素自动继承的属性，如果没有明确定义的话。感谢<a class="ae kz" href="http://cssinjs.org/jss-isolate" rel="noopener ugc nofollow" target="_blank"> jss-isolate </a>插件，jss规则不会继承属性。</li><li id="46d6" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">作用域选择器。CSS只有一个全局名称空间。在重要的应用程序中，避免选择器冲突是不可能的。命名约定，如BEM，可能在一个项目中有所帮助，但在集成第三方代码时没有帮助。默认情况下，JSS在将JSON表示编译成CSS时会生成唯一的类名。</li><li id="0b76" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">供应商前缀。CSS规则是自动以供应商为前缀的，所以您不必考虑它。</li><li id="2f62" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">代码共享。在JS和CSS之间轻松共享常量和函数。</li><li id="b494" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">只有当前在你的屏幕上使用的样式在DOM中(<a class="ae kz" href="https://github.com/cssinjs/react-jss" rel="noopener ugc nofollow" target="_blank"> react-jss </a>)。</li><li id="4e51" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated"><a class="ae kz" href="https://en.wikipedia.org/wiki/Dead_code_elimination" rel="noopener ugc nofollow" target="_blank">死码消除</a>。</li><li id="46bf" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">CSS的单元测试。</li></ul></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="a3e9" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">使用CSS-in-JS有什么弊端？</h1><ul class=""><li id="147c" class="nt nu it ld b le nk lh nl lk nv lo nw ls nx lw ny nz oa ob bi translated">学习曲线。</li><li id="5f3e" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">新的依赖关系。</li><li id="c8ac" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated">新队友更难适应代码库。初来乍到前端的人，要多学点东西。</li><li id="b127" class="nt nu it ld b le oc lh od lk oe lo of ls og lw ny nz oa ob bi translated"><strong class="ld iu"> </strong>挑战现状(不一定是骗局)。</li></ul><p id="820b" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">利远大于弊——让我们试试CSS-in-JS吧！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="9e42" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">最流行的CSS-in-JS库</h1><p id="1a56" class="pw-post-body-paragraph lb lc it ld b le nk ju lg lh nl jx lj lk nm lm ln lo nn lq lr ls no lu lv lw im bi translated">所有流行的CSS-in-JS库的快速“Hello World”示例。根据语法选择你最喜欢的一个。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oh"><img src="../Images/facfc799000934a0c43a7b0a538be065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xXIXJeI3l6_k-rXg6cqNjw.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae kz" href="http://www.npmtrends.com/jss-vs-aphrodite-vs-radium-vs-styled-components-vs-glamorous-vs-emotion-vs-styletron" rel="noopener ugc nofollow" target="_blank"> <strong class="bd la"> NPM趋势</strong> </a></p></figure><p id="c3c0" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">所有的库都包含了很多功能，例如主题化、动态道具、服务器端渲染等等。</p><h2 id="272c" class="oi mf it bd mg oj ok dn mk ol om dp mo lk on oo mq lo op oq ms ls or os mu ot bi translated">与我的时事通讯保持同步</h2><p id="bb2d" class="pw-post-body-paragraph lb lc it ld b le nk ju lg lh nl jx lj lk nm lm ln lo nn lq lr ls no lu lv lw im bi translated">转发给朋友，让他们知道他们可以在这里订阅<a class="ae kz" href="https://thewholesome.dev/" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ou"><img src="../Images/f49d02dea514e76862b2de42ba9d7a85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tXcoea9X6gj_8vABgFhBOA.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated"><a class="ae kz" href="https://thewholesome.dev/" rel="noopener ugc nofollow" target="_blank">https://thewholesome.dev/</a></p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="939f" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">结论和资源</h1><p id="e6d8" class="pw-post-body-paragraph lb lc it ld b le nk ju lg lh nl jx lj lk nm lm ln lo nn lq lr ls no lu lv lw im bi translated">我认为CSS-in-JS应该得到一个机会。希望这篇文章对你有帮助，感谢你的阅读！</p><p id="c509" class="pw-post-body-paragraph lb lc it ld b le lf ju lg lh li jx lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">如果你想让你的JavaScript能力更上一层楼，我推荐阅读“<a class="ae kz" href="https://amzn.to/2LSDpG6?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> <em class="nb">你不知道的JS </em> </a>”系列丛书。</p></div></div>    
</body>
</html>