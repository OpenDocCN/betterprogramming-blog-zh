<html>
<head>
<title>AWS Key Management Service: All You Need to Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS密钥管理服务:您需要知道的一切</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/aws-key-management-service-all-you-need-to-know-8c6b0e17a2d0?source=collection_archive---------12-----------------------#2020-03-10">https://betterprogramming.pub/aws-key-management-service-all-you-need-to-know-8c6b0e17a2d0?source=collection_archive---------12-----------------------#2020-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c8fc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">存储和控制您最重要的应用和服务的加密密钥</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0fc31b8982ac0985ca4251a3650d9aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qCAwPrVuFyCMQn2n.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://www.easetech.com/" rel="noopener ugc nofollow" target="_blank"> EaseTech </a>。</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="ec53" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated"><strong class="ak">什么是AWS KMS？</strong></h1><p id="463a" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">AWS密钥管理服务(KMS)是一项全面管理的服务，用于创建、存储和控制加密密钥，以便对您的数据进行加密。</p><p id="e87b" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">一些要点:</p><ol class=""><li id="b500" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">KMS是一种非常耐用且可用的服务。</li><li id="eea5" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">KMS加密密钥是区域性的。</li><li id="1cd7" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">该服务利用了幕后的<a class="ae ky" href="https://aws.amazon.com/cloudhsm/" rel="noopener ugc nofollow" target="_blank">硬件安全模块(HSM) </a>，这反过来保证了生成的密钥的安全性和完整性。</li><li id="20e3" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">它提供了简单的密钥轮换，并将所有与密钥相关的事件记录到AWS CloudTrail。</li></ol></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="57b8" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated"><strong class="ak">关键概念</strong></h1><h2 id="4442" class="nn lh it bd li no np dn lm nq nr dp lq mh ns nt ls ml nu nv lu mp nw nx lw ny bi translated">客户主密钥(cmk)</h2><p id="4808" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">客户主密钥绝不会让AWS KMS服务处于未加密状态。它们包含元数据，如密钥id、创建日期等。它们可用于加密/解密不超过4 KB的任意数据块。<br/>通常，您使用CMKs生成、加密和解密在AWS KMS之外用于加密数据的数据密钥。这就是所谓的信封加密。</p><p id="a103" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">cmk可以是:</p><ol class=""><li id="d737" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">客户管理—由AWS用户创建和管理。可以使用AWS IAM服务来控制对它的访问。</li><li id="4299" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">AWS-managed —由AWS代表您创建和管理。它们可以通过格式aws/service-name来标识。</li><li id="5d08" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">AWS所有—这些不在您的AWS帐户中。它们是AWS拥有和管理的cmk集合的一部分，用于多个AWS帐户。用户无法查看或管理它们。</li></ol><h2 id="3028" class="nn lh it bd li no np dn lm nq nr dp lq mh ns nt ls ml nu nv lu mp nw nx lw ny bi translated">数据键</h2><p id="52b6" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这些是由AWS KMS生成的对称密钥，可以加密/解密大量数据。AWS KMS不存储、管理或跟踪数据密钥，也不使用数据密钥执行加密操作。您必须在AWS KMS之外使用和管理数据密钥。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="535c" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated"><strong class="ak">使用AWS KMS的基本加密</strong></h1><p id="442f" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这是一种使用AWS CMKs加密/解密数据的简单方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/f5b7b1c1c64537e310143f0c79fb654a.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/0*LAm7wQaRXxaXR20P.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://dev.to/" rel="noopener ugc nofollow" target="_blank"> DEV </a>。</p></figure><p id="5f89" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">局限性:</p><ol class=""><li id="1fc9" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">CMKs一次最多只能加密/解密4 KB的数据。</li><li id="cf20" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">每次需要加密/解密时，向亚马逊服务发送大量数据的成本会很高。此外，它可能涉及安全问题，如中间人攻击等。</li></ol></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="13e0" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated"><strong class="ak">信封加密</strong></h1><p id="381a" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这同时利用了数据密钥和cmk。它使用数据密钥来加密纯文本，使用CMKs来加密数据密钥。</p><ol class=""><li id="f101" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">使用AWS的<a class="ae ky" href="https://docs.aws.amazon.com/kms/latest/APIReference/API_GenerateDataKey.html" rel="noopener ugc nofollow" target="_blank">generated takey操作</a>生成数据密钥。AWS KMS使用cmk生成数据密钥。它将返回数据密钥的明文副本和使用CMK加密的数据密钥。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/4ad2771761d7b495e8ab87d19c241452.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/0*dT2ZU4r-AdgjpLhT"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://docs.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS文档</a>的照片。</p></figure><p id="20ec" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">2.用明文数据密钥加密数据。AWS KMS不能使用数据密钥加密数据，但是您可以在AWS KMS之外使用数据密钥加密/解密您的数据。使用数据密钥的明文副本加密明文数据后，为了安全起见，请尽快从内存中删除该数据密钥。存储数据密钥的加密副本用于解密。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/61749a9f5ebf3563a41944255ffdffa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/0*b0yTJU2zNqnrLWuj.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://docs.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS文档</a>。</p></figure><p id="7e30" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">3.使用加密的数据密钥解密数据。要解密数据，使用AWS KMS的<a class="ae ky" href="https://docs.aws.amazon.com/kms/latest/APIReference/API_Decrypt.html" rel="noopener ugc nofollow" target="_blank">解密操作</a>来解密加密的数据密钥，以获得数据密钥的明文副本(使用CMK解密)。然后使用这个明文数据密钥在AWS KMS之外解密密文。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/9c3112b674a9d4ec8042e174e9544446.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/0*zRoxlHjktD0eIxjE.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://docs.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS文档</a>。</p></figure><p id="5a06" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">以下是使用信封加密的优点:</p><ol class=""><li id="ac3f" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">你不需要保护数据键。您可以简单地将加密的数据密钥与加密的数据一起存储。</li><li id="6a99" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">它使您能够结合对称密钥加密算法和公钥加密算法的优点。</li><li id="dcdc" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">您获得了性能提升，因为您不需要向Amazon服务器发送大量数据。</li><li id="ddf7" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">您可以重新加密您的数据密钥，而不是用多个数据密钥重新加密您的原始数据。</li></ol></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="6b3e" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated"><strong class="ak">一些好的资源</strong></h1><div class="od oe gp gr of og"><a href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">AWS关键管理服务概念</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">了解AWS密钥管理服务(AWS KMS)中的基本术语和概念，以及它们如何协同工作来帮助保护…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">docs.aws.amazon.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure></div></div>    
</body>
</html>