<html>
<head>
<title>How to Write iOS Apps Without Xcode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何不用Xcode写iOS应用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/writing-ios-apps-without-xcode-89450d0de21a?source=collection_archive---------0-----------------------#2020-04-12">https://betterprogramming.pub/writing-ios-apps-without-xcode-89450d0de21a?source=collection_archive---------0-----------------------#2020-04-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="edce" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你知道你有iOS IDE选项吗？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1b5bee504b1b20302506587781062b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8AeFz3Lpy6i-5NPqvdtChw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">没有Xcode IDE的iOS开发(图片来源:作者)</p></figure><p id="423e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://developer.apple.com/xcode/" rel="noopener ugc nofollow" target="_blank"> Xcode </a>是苹果公司的IDE(集成开发环境)，历史悠久。它原生于iOS开发，支持<a class="ae lu" href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html" rel="noopener ugc nofollow" target="_blank"> Objective-C </a>和Swift，包括XIB和故事板编辑器、编译器、调试器和开发所需的一切。</p><p id="6578" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为什么会有人想开发没有Xcode的iOS应用？有几个可能的原因:</p><ul class=""><li id="81a6" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">Xcode消耗大量内存，在许多MAC上运行缓慢。</li><li id="7334" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">Xcode有很多bug。苹果修复了它们，但添加了新功能的新漏洞。</li><li id="8dbc" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">Xcode只能在macOS上工作，这让来自其他平台的开发者感到不舒服。</li></ul><p id="559e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不幸的是，苹果千方百计阻止开发者使用其他平台；iOS simulator是Xcode应用程序包的一部分，没有编辑故事板的替代方案，并且在没有Xcode的情况下制作完整的签名版本非常复杂。</p><p id="a090" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，要明确的是，有些事情是不可能的，所以不要期望克服这些限制:</p><ul class=""><li id="6507" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">原生iOS应用只能在Mac上开发。你甚至可以在Windows或Linux中编写代码，但是你不能在那里编译和签名。</li><li id="8f22" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">非本机平台，如Flutter或React Native，也不会在没有Mac的情况下制作iOS版本。</li><li id="92d0" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">故事板只能在Xcode中编辑，所以没有Xcode的开发就意味着没有故事板的开发。</li><li id="8379" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">iOS开发的替代ide需要Xcode。您不需要运行它，但是您应该安装它。</li><li id="5efe" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">可以从命令行(见下文)签名和上传应用到App Store(或测试飞行)，但你需要安装Xcode。</li></ul><p id="fc54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我不是说Xcode绝对不可用。正好相反；这是制作iOS应用最简单的方法。但是，如果你面临上述困难之一，或者只是想尝试一些新的东西，这个故事是给你的。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="20a2" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">土著还是非土著？</h1><p id="a419" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">iOS应用程序可以是原生的，也可以是非原生的。其实不是非黑即白；之间有很多选择。</p><p id="3d94" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">绝对的原生应用是用Objective-C或者Swift编写的。其中有些部分可以用C或C++编写。用户界面通常以故事板或XIB文件的形式呈现。</p><p id="0f07" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">绝对非原生的app，只是包裹在<code class="fe nn no np nq b">WKWebView</code> ( <code class="fe nn no np nq b">UIWebView</code>)里的网站。现在苹果拒绝这类应用，但在过去，它们相当普遍。显然，这样的应用不需要太多与Xcode的交互，用一个<code class="fe nn no np nq b">WebView</code>创建一个<code class="fe nn no np nq b">UIViewController</code>几乎不是问题，即使你在网上租了Mac，并且没有任何Xcode的使用经验。</p><p id="c829" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有其他选项都在中间。它们使用本地组件，但代码通常是用非本地语言编写的。比如Flutter用Dart，React Native — JavaScript，Unity — C#。所有这些框架都使用它们自己的开发环境，但是它们都导出一个Xcode项目。您需要使用… Xcode构建它来发布版本。通常情况下，这不是问题。该文稿包含针对从未见过Xcode的人的分步说明。</p><p id="06ad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Android Studio中编写Flutter应用程序并不是这个故事的主题。这是一个默认选项，所以我们不会在这上面浪费时间。我们将讨论没有Xcode的原生iOS应用程序的开发、测试和分发。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="562c" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">我们有哪些问题？</h1><p id="6ad5" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">我们来看看为什么不用Xcode写iOS应用不那么容易。</p><ul class=""><li id="0cc2" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated"><strong class="la iu">创建项目</strong> — Xcode将您的工作存储在项目和工作区中。工作区只是一组相互关联的项目。两个都是文件夹，里面都是文本文件。这些文件的格式是专有的，但是它们很大，并且有很多生成的id，所以它们不应该被人编辑。</li><li id="0ee5" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><strong class="la iu">用户界面</strong> —故事板是另一种专有格式。你不能在Xcode之外编辑它。</li><li id="9ec7" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><strong class="la iu">构建和测试</strong> —有命令行编译器<code class="fe nn no np nq b">swiftc</code>、<code class="fe nn no np nq b">gcc</code>和<code class="fe nn no np nq b">llvm</code>，但是如何做出一个可运行的iOS app呢？</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="fdef" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">iOS项目</h1><p id="31eb" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">任何比“Hello world”更复杂的app都不止一个文件。以iOS为例，即使是“Hello world”也不止一个文件。</p><p id="ec50" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可在Simulator中运行的iOS应用程序至少包含两个组件:</p><ul class=""><li id="f768" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">可执行二进制</li><li id="cda4" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><code class="fe nn no np nq b">Info.plist</code>文件</li></ul><p id="520d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在真实的iOS设备上运行的完整应用程序有更多的组件，但我们将在稍后讨论。</p><p id="53c6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要创建二进制文件，您至少需要两个项目:</p><ul class=""><li id="f7fb" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">源代码</li><li id="bb24" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">构建脚本</li></ul><p id="96ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">iOS应用可以从命令行构建；比如用<code class="fe nn no np nq b">make</code>。我们稍后将研究如何做。</p><p id="663e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">构建iOS应用程序的一种更舒适的方式是使用Xcode项目。我发现只有一个app(除了Xcode)可以创建这样的项目——<a class="ae lu" href="https://www.jetbrains.com/objc/" rel="noopener ugc nofollow" target="_blank">app code</a>。它是JetBrain的应用程序之一，类似于IDEA和Android Studio，但用于苹果特定的开发，macOS和iOS。它只在macOS上运行，并且是付费的(从8.90美元/月或2020年4月的89美元/年开始)。</p><p id="9f92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">警告！AppCode无法编辑故事板。当你尝试的时候它会打开Xcode。而且需要安装Xcode否则，它不会构建应用程序。</strong></p><h2 id="fd6c" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated"><strong class="ak">Xcode项目的结构</strong></h2><p id="32b7" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">正如我前面提到的，Xcode项目不应该手动编辑。</p><p id="ff3f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">xcodeproj</code>是一个文件夹，里面包含一个文件和几个文件夹。</p><p id="77f2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">文件是<code class="fe nn no np nq b">project.pbxproj</code>。它包含了项目的所有信息，是最重要的文件。</p><p id="be6b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">警告！如果您要编辑现有项目，请制作备份副本。</strong></p><p id="9e37" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">project.pbxproj</code>是一个类似<code class="fe nn no np nq b">plist</code>的文件。这种格式来自NeXTSTEP平台。现代的<code class="fe nn no np nq b">plist</code>是XML，但是<code class="fe nn no np nq b">project.pbxproj</code>更类似于JSON(虽然不是JSON)。</p><p id="a9a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">project.pbxproj</code>大多是一组物体。每个对象都有一个唯一的标识符(一个96位的数字或一串24个十六进制字符)。对象可以是源文件、链接框架、构建阶段等。对象可以是包含其他对象的组。对象可以有属性和类型。其中一个对象是根对象。它的类型为PBXProject。</p><p id="2426" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果在所有警告之后，您决定编辑<code class="fe nn no np nq b">project.pbxproj</code>文件，您可以使用带有<a class="ae lu" href="https://marketplace.visualstudio.com/items?itemName=mariomatheu.syntax-project-pbxproj" rel="noopener ugc nofollow" target="_blank">语法Xcode项目数据</a>扩展名的Visual Studio代码。在这里你可以找到一个<a class="ae lu" href="http://www.monobjc.net/xcode-project-file-format.html" rel="noopener ugc nofollow" target="_blank">文件格式</a>的详细描述。</p><p id="4d79" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了<code class="fe nn no np nq b">project.pbxproj</code>，Xcode项目还包含几个文件夹。都是选项。</p><p id="808d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">project.xcworkspace</code>是一个只包含一个项目的工作空间。它是在Xcode中打开项目文件时自动创建的，包含构建模式、关于断点的信息和其他数据，不属于项目的一部分。</p><p id="3382" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">xcuserdata</code>是包含不同用户的个人数据的文件夹。如果你是唯一的开发者，里面只有一个文件夹。这个文件夹是可选的，可以从Git和其他存储库中排除。</p><p id="e824" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">xcshareddata</code>是用户之间共享数据的文件夹；比如，方案。</p><p id="d760" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你不用Xcode，你只需要<code class="fe nn no np nq b">project.pbxproj</code>。</p><h2 id="86b9" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">使用make从控制台构建iOS应用程序</h2><p id="915c" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">说实话，我觉得这样做项目太头疼了。与手动完成这么多步骤相比，用Xcode解决你的异议更容易(无论如何你需要安装它来签署应用程序)。但是理论上的可能性很有意思，我们再深入挖掘一下。</p><p id="02b8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们来获取一个SDK路径:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="330b" class="nr mr it nq b gy oh oi l oj ok">xcrun --sdk iphonesimulator --show-sdk-path</span></pre><p id="a5fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">结果将是这样的:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="0c92" class="nr mr it nq b gy oh oi l oj ok">/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator13.4.sdk</span></pre><p id="186a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe nn no np nq b">Makefile</code>中，您可以粘贴<code class="fe nn no np nq b">xcrun</code>的输出，或者使用该命令作为脚本的一部分:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="cf2e" class="nr mr it nq b gy oh oi l oj ok">SDKROOT:=$(shell xcrun --sdk iphonesimulator --show-sdk-path)</span></pre><p id="e1df" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们制定一个<code class="fe nn no np nq b">app</code>目标:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="d050" class="nr mr it nq b gy oh oi l oj ok">app: main.m<br/>    clang -isysroot $(SDKROOT) -framework Foundation -framework UIKit -o MakeTest.app/$@ $^</span></pre><p id="50a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">clang</code>是来自Xcode包的标准编译器。</p><p id="b407" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们添加了两个框架:</p><ul class=""><li id="64ee" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">基础</li><li id="8a89" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">UIKit</li></ul><p id="c6ab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出文件是<code class="fe nn no np nq b">MakeTest.app/app</code>。</p><p id="3c09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">$@</code>是一个自动变量，其计算结果为目标的名称。在我们这里是<code class="fe nn no np nq b">app</code>。<code class="fe nn no np nq b">$^</code>是另一个自动变量。在本实验中，它评估为依赖项的完整列表— <code class="fe nn no np nq b">main.m</code>。</p><p id="fdd6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">和<code class="fe nn no np nq b">clean</code>目标:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="dff9" class="nr mr it nq b gy oh oi l oj ok">.PHONY: clean<br/>clean:<br/>    rm MakeTest.app/app</span></pre><p id="2dc5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，让我们宣布<code class="fe nn no np nq b">app</code>是一个主要目标:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="6664" class="nr mr it nq b gy oh oi l oj ok">default: app</span></pre><p id="3b0c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是完整的<code class="fe nn no np nq b">Makefile</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="b2bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您从未使用过<code class="fe nn no np nq b">make</code>来构建项目:</p><ul class=""><li id="8186" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated"><code class="fe nn no np nq b">make app</code>建立一个<code class="fe nn no np nq b">app</code>目标。</li><li id="7ca4" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><code class="fe nn no np nq b">make clean</code>清理(删除<code class="fe nn no np nq b">app</code>文件)。</li></ul><p id="32ce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为我们声明了一个默认目标，所以我们可以使用<code class="fe nn no np nq b">make</code>命令来构建项目。</p><p id="6dbe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一步是创建应用程序文件夹。没错，iOS app是文件夹。</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="3e4e" class="nr mr it nq b gy oh oi l oj ok">mkdir MakeTest.app</span></pre><p id="046a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe nn no np nq b">MakeTest.app</code>里面应该有两个文件:</p><ul class=""><li id="3cc3" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated"><code class="fe nn no np nq b">app</code>是一个二进制文件，我们用<code class="fe nn no np nq b">make</code>命令构建它。</li><li id="10f8" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><code class="fe nn no np nq b">Info.plist</code>(以大写<em class="on"> I </em>开头)是一个项目的属性列表。iOS设备或模拟器需要知道运行哪个二进制文件、它的版本以及其他数据。</li></ul><p id="1db7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是我们的<code class="fe nn no np nq b">Info.plist</code>。如果您运行自己的测试，您可以更改一些字段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="0369" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后一个文件是<code class="fe nn no np nq b">main.m</code>。在传统的iOS项目中，有三个不同的文件:</p><ul class=""><li id="009c" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated"><code class="fe nn no np nq b">main.m</code></li><li id="3fd4" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><code class="fe nn no np nq b">AppDelegate.h</code></li><li id="2334" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><code class="fe nn no np nq b">AppDelegate.m</code></li></ul><p id="da6f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这只是一个组织的问题，而不是一个严格的规则。由于所有组件都非常小，所以让我们将它们放在一起。</p><p id="f7a2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是这款应用的主要功能。它的唯一目的是进入主循环。我们还传递了一个申请代表的名字——<code class="fe nn no np nq b">AppDelegate</code>:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="aca7" class="nr mr it nq b gy oh oi l oj ok">int main(int argc, char *argv[]) {<br/>  @autoreleasepool {<br/>    return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));<br/>  }<br/>}</span></pre><p id="c78f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果用Xcode或AppCode创建项目，这个函数会自动生成。</p><p id="fa8f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不要忘记将<code class="fe nn no np nq b">UIKit</code>包含到项目的所有Objective-C文件中:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="9e98" class="nr mr it nq b gy oh oi l oj ok">#import &lt;UIKit/UIKit.h&gt;</span></pre><p id="98bc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您来自Swift，您可能不知道在Objective-C(以及C++)中，每个类都必须声明和定义。</p><p id="46f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">类声明:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="2b88" class="nr mr it nq b gy oh oi l oj ok">@interface AppDelegate : UIResponder &lt;UIApplicationDelegate&gt;<br/>@property (strong, nonatomic) UIWindow *window;<br/>@end</span></pre><p id="a184" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">类别定义:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="7795" class="nr mr it nq b gy oh oi l oj ok">@implementation AppDelegate<br/>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(id)options {<br/>  CGRect mainScreenBounds = [[UIScreen mainScreen] bounds];<br/>  self.window = [[UIWindow alloc] initWithFrame:mainScreenBounds];<br/>  <br/>  UIViewController *viewController = [[UIViewController alloc] init];<br/>  viewController.view.backgroundColor = [UIColor whiteColor];<br/>  viewController.view.frame = mainScreenBounds;</span><span id="9947" class="nr mr it nq b gy oo oi l oj ok">  UILabel *label = [[UILabel alloc] initWithFrame:mainScreenBounds];<br/>  [label setText:@"Wow! I was built with clang and make!"];<br/>  [viewController.view addSubview: label];</span><span id="9cd3" class="nr mr it nq b gy oo oi l oj ok">  self.window.rootViewController = viewController;</span><span id="42fa" class="nr mr it nq b gy oo oi l oj ok">  [self.window makeKeyAndVisible];<br/>  <br/>  return YES;<br/>}</span><span id="ac54" class="nr mr it nq b gy oo oi l oj ok">@end</span></pre><p id="c831" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它创建了一个窗口、视图控制器，并在其中心创建了一个标签。我就不赘述了，因为这和Xcode之外的编码无关。只是iOS编程而已。</p><p id="27bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">应用程序代理、视图控制器和其他组件可以放在单独的文件中。更重要的是，这是值得推荐的做法。从技术上讲，基于<code class="fe nn no np nq b">Makefile</code>的项目可以使用与普通Xcode项目相同的结构。</p><p id="1979" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它看起来是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/5cced804561b14c304ea634fbd951fa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G5AHrVkMamOHL3rzlwgCxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">不用Xcode搭建的iOS项目，运行在iPhone 11模拟器中。</p></figure><p id="a9ed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">main.m</code>的完整源代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="cd13" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么，下一步是什么？</p><ul class=""><li id="d34c" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">授权文件—如果您需要向iOS项目添加任何功能，您将需要一个授权文件。这是一个<code class="fe nn no np nq b">plist</code>文件，其中的键值对描述了它使用的iOS设备或苹果用户帐户的哪些资源或服务。你可以在<a class="ae lu" href="https://developer.apple.com/documentation/bundleresources/entitlements" rel="noopener ugc nofollow" target="_blank">苹果文档</a>中找到更多细节。</li><li id="34cc" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">你可以看到我们例子中的应用程序没有全屏。它可以通过添加启动图像或适当的大小，或启动屏幕故事板来修复。</li><li id="9cbd" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">制定两个目标:iOS设备和模拟器。iOS构建需要签名，这个我们后面会讲到。</li><li id="84e2" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">应用程序图标可以作为资产文件夹<code class="fe nn no np nq b">Assets.xcassets</code>的一部分添加，或者作为一组PNG文件添加(参考<code class="fe nn no np nq b">Info.plist</code>)。<code class="fe nn no np nq b">Assets.xcassets</code>是一个包含应用资产的文件夹。我们稍后再来讨论。</li></ul><p id="a81f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你有任何以这种方式构建商业iOS应用程序的经验，请留下评论。我很乐意根据您的经验提供更多信息。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="9a8c" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">构建用户界面</h1><p id="db1c" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">我发现了四种不用Xcode和故事板来构建用户界面的方法:</p><ul class=""><li id="66c5" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated"><strong class="la iu"> SwiftUI </strong> —苹果新推出的UI builder可以在任何文本编辑器中编辑。比如Visual Studio Code (VS Code)有一个写Swift代码的插件。而且是免费的。缺点是需要iOS 13才能用SwiftUI运行app。再过几年，它将不再是一个缺点，但现在放弃对iOS 12和更早版本的支持还为时过早。</li><li id="a386" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><strong class="la iu">从代码中创建组件</strong> —任何组件都可以从Objective-C或Swift代码中创建，无需任何UI设计人员。很长很不舒服，但是很普遍。代码可以在任何地方编写，你的应用甚至可以在第一部iPhone上运行(如果你能为这样一部老设备开发的话)。</li><li id="9402" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><strong class="la iu">外部工具</strong>——有一些工具允许将设计(例如，在<a class="ae lu" href="https://www.sketch.com" rel="noopener ugc nofollow" target="_blank">草图</a>中制作)转换成原生iOS代码(在Objective-C或Swift中)。这类工具的一个例子是<a class="ae lu" href="https://supernova.io" rel="noopener ugc nofollow" target="_blank"> Supernova </a>。它是付费的，就像其他具有类似功能的工具一样。</li><li id="e4d3" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><strong class="la iu">外部库</strong> —这些库允许你编写简短的代码来构建本地UI。它们是免费的，但是你需要学会使用它们。这几乎就像学习一门新的编程语言。例如:LinkedIn中的<a class="ae lu" href="https://github.com/linkedin/LayoutKit" rel="noopener ugc nofollow" target="_blank"> LayoutKit </a>。</li></ul><p id="50ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">没有完美的解决方案。每一种都有优缺点，用什么由你决定。我认为假以时日，SwiftUI将成为最流行的为iOS构建UI的方式。但如果你需要更快地发布你的应用，你最好使用另一种方式。无论如何，这是你的选择。</p><h2 id="3aa3" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">斯威夫特伊</h2><p id="5857" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">SwiftUI是苹果公司的一个新框架，它将取代UIKit和故事板。</p><p id="81f7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">优点:</p><ul class=""><li id="a7a5" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">是iOS原生的。苹果将支持它，推广它，并激励开发者使用它。</li><li id="7b56" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">SwiftUI代码可以在任何文本编辑器中编写。</li><li id="d401" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">SwiftUI可以在同一布局中与UIKit混合使用。</li></ul><p id="2221" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">缺点:</p><ul class=""><li id="1185" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">SwiftUI只能针对iOS 13或更高版本。不会在iOS 12上运行。</li><li id="5b6b" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">布局预览和模拟仅在Xcode中有效。没有用于AppCode、VS Code或任何其他代码编辑器的插件。</li></ul><p id="6d0b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看SwiftUI是如何工作的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="0fb5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个例子借用了官方<a class="ae lu" href="https://developer.apple.com/tutorials/swiftui/creating-and-combining-views" rel="noopener ugc nofollow" target="_blank">苹果教程</a>。</p><p id="29f3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里你可以找到另一个<a class="ae lu" href="https://www.hackingwithswift.com/quick-start/swiftui" rel="noopener ugc nofollow" target="_blank">详细的SwiftUI教程</a>。</p><h2 id="8533" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">从代码创建UIKit组件</h2><p id="b247" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">这是一种绝对通用的创建布局的方法。你可以创建组件，添加约束，做任何事情。但是每个组件都需要完全初始化。当你看不到自己在做什么的时候，带着约束工作是一场噩梦。只能在Simulator或iOS设备上预览布局，每次修改都需要重新启动应用程序。</p><p id="7d17" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它是这样工作的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="4373" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这段代码应该在<code class="fe nn no np nq b">UIViewController</code>子类中。</p><p id="a979" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个UI组件都应该这样创建。它们可以嵌套，就像故事板一样。故事板的所有特性和UIKit的所有组件都可以通过代码获得，包括表格、集合等。</p><h2 id="1d16" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">外部工具</h2><p id="f18d" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">设计师使用Sketch、Adobe XD、Zeplin或其他工具进行iOS布局。如果你能把它们导出到一个iOS应用程序中，那不是很好吗？绝对的。这是可能的，但不是免费的。</p><p id="ddcf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我发现了几个允许这样做的工具:</p><ul class=""><li id="077d" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated"><a class="ae lu" href="https://supernova.io" rel="noopener ugc nofollow" target="_blank">超新星</a>——每月20美元起</li><li id="5daa" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><a class="ae lu" href="https://www.paintcodeapp.com/sketch" rel="noopener ugc nofollow" target="_blank">草图代码生成器插件</a>—€47/年；加上<a class="ae lu" href="https://www.sketch.com" rel="noopener ugc nofollow" target="_blank">草图</a>，99美元</li><li id="e68a" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated"><a class="ae lu" href="https://zeplin.io" rel="noopener ugc nofollow" target="_blank"> Zeplin </a>有<a class="ae lu" href="https://extensions.zeplin.io/zeplin/swift" rel="noopener ugc nofollow" target="_blank"> Swift </a>和<a class="ae lu" href="https://extensions.zeplin.io/zeplin/objective-c" rel="noopener ugc nofollow" target="_blank"> Objective-C </a>扩展，将样式导出到iOS代码。一个项目免费，然后每月17美元起</li></ul><p id="6fb4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，价格不是固定的，可能随时变化。</p><p id="70d7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些工具/插件的结果是原生iOS代码、Swift或Objective-C。</p><p id="6f51" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们有一个草图设计。对于这个例子，我下载了文件<a class="ae lu" href="https://www.sketchappsources.com/free-source/4311-waste-management-app-sketch-freebie-resource.html" rel="noopener ugc nofollow" target="_blank">废物管理应用草图资源</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/a881cda333ec1b950992ab1c1c7720b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wLfKaUiXYuUKr2Ox3hq5ag.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">素描</p></figure><p id="2a42" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Sketch app打开时有警告(版本不匹配)，但不是问题。下一步——超新星。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/32f898dea52a2235052e53a8984d25eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0E4r4MI_bbg7XR7SYogGKQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">超新星工作室</p></figure><p id="1190" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Supernova Studio具有导入草图或Adobe XD文件的功能。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/3a3207ff2f977155f204942f8c7d8c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Xau2C4ic-6AmroICSxzhw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将草图导入Supernova Studio</p></figure><p id="3439" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">导入工作正常，但是有一些小故障。比如后退箭头(见截图)。此外，在预览时，文本与按钮重叠，但应该用约束或<code class="fe nn no np nq b">UIScrollView</code>来解决。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/39c4cd4806292c9119180965ab76de6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Od9bM-wmNWH7SgtoNdaXog.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Supernova中的iOS屏幕设计</p></figure><p id="48b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">箭头的问题可以通过使用光栅图片或手动修复。我们来看看它是如何导出到iOS代码的。<strong class="la iu">文件</strong> → <strong class="la iu">导出到iOS </strong>。尝试导出时，我看到了丢失字体的列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/c571a5871655d936223423fd8f3aa567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*fcZ4QTZ14AEr0bWynQgUrw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">缺少字体</p></figure><p id="ce9e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">好吧，我们暂时忽略它。系统字体没问题。</p><p id="5f9d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我选择了仅适用于iPhone且仅适用于纵向的导出，这样就不会深入细节了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/4776673b8d5fd0d7677d25bb5b3aff4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ot7ioWwFP1CDlwE2c1GhpQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">超新星的输出</p></figure><p id="825c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">语言只能是迅捷的。对于我来说，选择最新的是有意义的。目前是Swift 5。UI必须是代码。其他选项有故事板和XIB，但它们只能通过Xcode打开，所以对我们来说不是一个选项。</p><p id="3c00" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">导出过程不到一分钟。它用<code class="fe nn no np nq b">Podfile</code>生成了一个Xcode项目。<code class="fe nn no np nq b">Podfile</code>几乎是空的；它只有一个框架，但没有依赖关系。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="708d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">无论如何，让我们安装Pods来生成一个工作区。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/b8687a8ece942819be4a7ba9ba69c074.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*12emd8AggzMEuJH5qFfzsQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由Supernova Studio生成的项目</p></figure><p id="1338" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个屏幕都是一个单独的类，是<code class="fe nn no np nq b">UIViewController</code>的子类，位于单独的文件夹中。字体、图像和其他资源也会被导出。也没有故事板。意思是我们可以用AppCode打开。</p><p id="79d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里有一个Supernova Studio导出的例子，文件<code class="fe nn no np nq b">HomeActivityNavViewController</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="8acc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该文件包含“copyright 2018 Supernova”这是一个有趣的细节，因为我在2020年3月做了这个导出。</p><p id="e246" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">项目成功构建并运行。它看起来是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/cd75e4d1aa3afb41e0bfd7d204ff1bc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p5OmxAJKal4czdEKobP_Jg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">iPhone 11模拟器中的应用程序</p></figure><p id="dc46" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">显然，按钮不起作用，因为我从未在Supernova Studio中添加逻辑。但是有可能。按钮没有绿色背景。在我看来，这些问题并不显著，可以在导出后的代码中轻松修复。Supernova Studio和IDE中都可以添加逻辑(Xcode或App代码)。</p><h2 id="2faf" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">外部库</h2><p id="9962" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">有不同的布局框架。它们时隐时现，所以如果你选择这种方法，只需找到最近更新(去年内)的框架，它支持Swift 5并具有你需要的特性。</p><p id="a1a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们回顾一下LinkedIn中最流行的LayoutKit。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="cd45" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个例子是从官方<a class="ae lu" href="https://github.com/linkedin/LayoutKit" rel="noopener ugc nofollow" target="_blank"> LayoutKit网站</a>借来的。</p><p id="b64e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它创建标准UIKit组件(像所有框架一样)的方式与我们前面所做的一样，但是它有两个额外的特性:</p><ul class=""><li id="94a2" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">代码更短，更清晰。</li><li id="8dda" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">它增加了自动调整组件大小的简单方法。</li></ul><p id="82bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我想回顾的另一个框架是<a class="ae lu" href="https://github.com/SnapKit/SnapKit" rel="noopener ugc nofollow" target="_blank"> SnapKit </a>。有时，即使在基于故事板的项目中，您也需要用代码创建组件。在保持组件大小最新的同时，在带有约束的布局中添加组件是相当复杂的。</p><p id="d1a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">SnapKit有助于使用代码添加约束。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="f6a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例子借用官方<a class="ae lu" href="https://github.com/SnapKit/SnapKit" rel="noopener ugc nofollow" target="_blank"> SnapKit网站</a>。</p><h2 id="4c8e" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">摘要</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/56a8db3a6f8f408edbb087e82b36aa7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6PTb_yU5u0uX0E1oNqB9_Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">iOS用户界面创建方法比较</p></figure><p id="ae13" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">无论你选择什么，请不要忘记你的布局应该符合<a class="ae lu" href="https://developer.apple.com/design/human-interface-guidelines/" rel="noopener ugc nofollow" target="_blank">苹果人机界面指南</a>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="deab" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">资产</h1><p id="2172" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">大多数iOS应用程序都有一个包含资源的特殊文件夹。通常是一个名为<code class="fe nn no np nq b">Assets.xcassets</code>的文件夹。如果您创建新的Xcode项目，此文件夹将会自动创建。</p><p id="07e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它包含不同类型的资产:图像、颜色、数据、AR资源、贴纸包等。最受欢迎的资产是图像集。除了图像之外，图像集还有重要的元数据。例如，对于不同的屏幕尺寸、设备类型和分辨率，图像集可以有不同的图像。集合中的图像可以呈现为原始图像或模板。模板图像的颜色可以用<code class="fe nn no np nq b">tint</code>属性改变。</p><p id="56ee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">资产文件夹有<code class="fe nn no np nq b">json</code>文件来存储元数据。所有这些文件的名称都是相同的— <code class="fe nn no np nq b">Contents.json</code>。根<code class="fe nn no np nq b">Contents.json</code>通常是这样的:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="9dcf" class="nr mr it nq b gy oh oi l oj ok">{<br/>  "info" : {<br/>    "version" : 1,<br/>    "author" : "xcode"<br/>  }<br/>}</span></pre><p id="101a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我看不出有什么理由要修改这个文件。内部文件夹中的文件更有趣。这是一个在<code class="fe nn no np nq b">AppIcon.appiconset</code>中的<code class="fe nn no np nq b">Contents.json</code>文件的例子:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="bdf1" class="nr mr it nq b gy oh oi l oj ok">{<br/>  "images" : [<br/>    {<br/>      "size" : "20x20",<br/>      "idiom" : "iphone",<br/>      "filename" : "Icon-App-20x20@2x.png",<br/>      "scale" : "2x"<br/>    },</span><span id="10c0" class="nr mr it nq b gy oo oi l oj ok">    ...<br/>    {<br/>      "size" : "1024x1024",<br/>      "idiom" : "ios-marketing",<br/>      "filename" : "ItunesArtwork@2x.png",<br/>      "scale" : "1x"<br/>    }<br/>  ],<br/>  "info" : {<br/>    "version" : 1,<br/>    "author" : "xcode"<br/>  }<br/>}</span></pre><p id="cc64" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">“info”</code>部分也是一样。<code class="fe nn no np nq b">“images”</code>包含不同设备和分辨率的图标图像阵列。属性:</p><ul class=""><li id="09ba" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">大小—图标大小，以磅为单位</li><li id="681d" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">习语—设备类型</li><li id="7acd" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">文件名—文件的名称。文件应该在同一个文件夹中。</li><li id="a48b" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">比例—设备比例(retina屏幕设备的2倍或3倍，低分辨率设备的1倍)。</li></ul><p id="b5b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">图标集的<code class="fe nn no np nq b">Contents.json</code>文件具有类似的结构。例如:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="9d9b" class="nr mr it nq b gy oh oi l oj ok">{<br/>  "images" : [<br/>    {<br/>      "idiom" : "universal",<br/>      "filename" : "button_back.png",<br/>      "scale" : "1x"<br/>    },<br/>    {<br/>      "idiom" : "universal",<br/>      "filename" : "button_back@2x.png",<br/>      "scale" : "2x"<br/>    },<br/>    {<br/>      "idiom" : "universal",<br/>      "filename" : "button_back@3x.png",<br/>      "scale" : "3x"<br/>    }<br/>  ],<br/>  "info" : {<br/>    "version" : 1,<br/>    "author" : "xcode"<br/>  }<br/>}</span></pre><p id="37b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将把其他资产类型留在这个范围之外。它们更先进，并不是在所有项目中都使用。</p><p id="8c06" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可以在Xcode和AppCode中编辑资源文件夹。此外，如果您从一些网站下载图像集，例如，<a class="ae lu" href="https://material.io/resources/icons" rel="noopener ugc nofollow" target="_blank">材质图标</a>，您将获得内含<code class="fe nn no np nq b">Contents.json</code>的<code class="fe nn no np nq b">imageset</code>文件夹。在所有其他情况下，您需要手动创建<code class="fe nn no np nq b">json</code>文件。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="1880" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">使用iOS模拟器</h1><p id="4e3f" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">假设你建了一个app，你得到了一个二进制(其实是一个文件夹，但是里面有一个二进制)。如何在iOS模拟器上运行？</p><p id="6fa0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，你需要运行它。</p><p id="2459" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">AppCode可以帮你运行；这方面和Xcode很像。它支持代码调试，甚至可以在物理设备上运行。</p><p id="183d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你用iOS应用程序获得一个文件夹，你需要遵循三个步骤:</p><ol class=""><li id="1f04" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt oy mb mc md bi translated">手动运行iOS模拟器。</li><li id="65bd" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt oy mb mc md bi translated">将app文件夹拖到运行iOS模拟器。</li><li id="9f13" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt oy mb mc md bi translated">在虚拟屏幕上找到它并运行它。</li></ol><p id="3c7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要运行iOS simulator，请打开终端应用程序并运行以下命令:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="8fec" class="nr mr it nq b gy oh oi l oj ok">open -a Simulator.app</span></pre><p id="5fd6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要选择设备型号和iOS版本，请使用菜单<strong class="la iu">文件</strong> → <strong class="la iu">打开设备</strong>或<strong class="la iu">硬件</strong> → <strong class="la iu">设备</strong>(在旧版本中)。</p><h2 id="e1cd" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">排除故障</h2><p id="5248" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">iOS模拟器有一个秘密。其中运行的所有应用实际上都是你Mac上运行的x86_64应用(在某种沙箱中)。这意味着你可以在本地调试iOS应用程序，就像任何macOS应用程序一样。</p><p id="4880" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，运行<code class="fe nn no np nq b">lldb</code>:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="d634" class="nr mr it nq b gy oh oi l oj ok">lldb</span></pre><p id="9da4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">其次，附加到一个进程:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="e5b2" class="nr mr it nq b gy oh oi l oj ok"><strong class="nq iu">(lldb)</strong> process attach --pid 12345</span></pre><p id="277b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="fe43" class="nr mr it nq b gy oh oi l oj ok"><strong class="nq iu">(lldb)</strong> process attach --name MyApp</span></pre><p id="2483" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以在活动监视器应用程序中找到您的应用程序，该应用程序安装在所有MAC上。在那里你可以找到你的应用程序的pid(进程id)。</p><p id="44d4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你不知道如何使用<code class="fe nn no np nq b">lldb</code>，这里有<a class="ae lu" href="https://developer.apple.com/library/archive/documentation/IDEs/Conceptual/gdb_to_lldb_transition_guide/document/lldb-terminal-workflow-tutorial.html" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ac57" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">应用程序签名</h1><p id="92cd" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">您完成了您的应用程序，在模拟器中测试了它，并发现和修复了bug。现在是时候在真实设备上测试并上线了。</p><p id="f2f2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，有几件事你需要知道:</p><ul class=""><li id="7ca6" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">iOS app，和macOS app一样是一个文件夹，使用的扩展名是<code class="fe nn no np nq b">app</code>。</li><li id="51c2" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">要分发一个iOS应用，需要创建一个名为<code class="fe nn no np nq b">ipa</code>的归档。这是一个压缩文件，在一个<code class="fe nn no np nq b">Payload</code>文件夹中有一个<code class="fe nn no np nq b">app</code>文件夹。</li><li id="28c5" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">在进行<code class="fe nn no np nq b">ipa</code>存档之前，您需要签署一个iOS应用程序。</li><li id="2cce" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">若要签署您的iOS应用程序，您需要有一个Apple开发人员帐户。你可以在<a class="ae lu" href="http://developer.apple.com/account" rel="noopener ugc nofollow" target="_blank">苹果开发者门户</a>上创建一个。</li><li id="3028" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">只有已签名的应用程序才能在物理iOS设备上运行，即使那是你自己的iPhone。</li><li id="65f9" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">您应该有证书和预置描述文件来签名应用程序。Xcode会自动创建它们，但是如果您手动给应用程序签名，您就必须自己请求它们。</li><li id="74c9" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">您的<code class="fe nn no np nq b">plist</code>文件和您的预置描述文件中关于您的应用程序的信息(捆绑包id、授权)应该匹配。</li></ul><p id="1e43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这听起来很复杂，实际上也是如此。让我们一步一步地回顾这个过程，因为没有应用程序签名，之前的所有努力都没有多大意义。</p><p id="d496" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于这个例子，我将使用前面“用<code class="fe nn no np nq b">make</code>从控制台构建iOS应用程序”一节中构建的应用程序。它叫做MakeTest。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/97c94d96f92f1a39256964495ad6aa45.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*KRN7eELotyD1SLlRKpIvBQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用make构建的iOS应用程序</p></figure><p id="beda" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你的应用应该看起来像你在上面的图片中看到的。白色标志表示不能在macOS中运行。</p><h2 id="63c1" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">步骤0。编译应用程序</h2><p id="a3be" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">在我们开始之前，你应该有一个用于<code class="fe nn no np nq b">armv7</code>和<code class="fe nn no np nq b">arm64</code>的应用程序。如果你是从Xcode或者其他平台构建的，只要选择一个合适的目标就可以了。如果您使用我们之前构建的示例，在<code class="fe nn no np nq b">Makefile</code>中做一些修改:</p><ol class=""><li id="1aa0" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt oy mb mc md bi translated">替换:</li></ol><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="10ce" class="nr mr it nq b gy oh oi l oj ok">SDKROOT:=$(shell xcrun --sdk iphonesimulator --show-sdk-path)</span></pre><p id="bfab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="f09d" class="nr mr it nq b gy oh oi l oj ok">SDKROOT:=$(shell xcrun --sdk iphoneos --show-sdk-path)</span></pre><p id="e884" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.将生成命令从:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="63f0" class="nr mr it nq b gy oh oi l oj ok">clang -isysroot $(SDKROOT) -framework Foundation -framework UIKit -o MakeTest.app/$@ $^</span></pre><p id="caa7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">收件人:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="61c8" class="nr mr it nq b gy oh oi l oj ok">clang -isysroot $(SDKROOT) -arch armv7 -arch arm64 -framework Foundation -framework UIKit -o MakeTest.app/$@ $^</span></pre><p id="6038" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将生成一个具有两种架构的所谓“胖”二进制文件。这正是我们所需要的。</p><p id="bac0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您在此阶段出现任何错误，可能是Xcode有问题。安装它，如果你还没有这样做。运行它，Xcode会在每次更新后安装一个命令行工具。</p><h2 id="9b1f" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">第一步。创建证书</h2><p id="e490" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">要创建证书，请打开此链接:<a class="ae lu" href="https://developer.apple.com/account/resources/certificates/list" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/account/resources/certificates/list</a>。如果您在同一台Mac上使用Xcode开发了iOS应用程序，则可以跳过这一步。如果没有，请点按“+”按钮并添加一个新的“Apple Distribution”证书。这里就不赘述了。这个过程相当容易，你可以找到许多教程和手册。准备好了就下载安装。</p><p id="cea4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在“钥匙串访问”应用程序中检查您的证书。在下一步中，您应该使用完整的证书名称。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/34a8845d25447a12ddb0448a676b946c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0yTlUrrvURvWcTDYxbEcRw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有苹果分销证书的钥匙扣</p></figure><h2 id="4577" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">第二步。合作设计</h2><p id="217a" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">打开终端app，将当前目录更改为您的工作文件夹(包含<code class="fe nn no np nq b">MakeTest.app</code>)。</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="d314" class="nr mr it nq b gy oh oi l oj ok">cd full_path</span></pre><p id="c9f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">类型:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="f0a0" class="nr mr it nq b gy oh oi l oj ok">codesign -s "Apple Distribution: Your Account Name (TEAM_ID)" MakeTest.app</span></pre><p id="3457" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">几秒钟后，你会看到<code class="fe nn no np nq b">MakeTest.app</code>里面的文件夹<code class="fe nn no np nq b"> _CodeSignature</code>。这是数字签名。这也是不与不信任的人共享证书的原因。这个签名证明你开发了这个应用。如果有人窃取你的证书，并发布一个签名的应用程序做一些非法的事情，你的帐户可能会被阻止。</p><h2 id="0708" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">第三步。创建预置描述文件</h2><p id="3d51" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">打开苹果供应门户:<a class="ae lu" href="https://developer.apple.com/account/resources/profiles/list" rel="noopener ugc nofollow" target="_blank">https://developer.apple.com/account/resources/profiles/list</a>。</p><p id="24b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">单击“+”按钮。您可以生成几种类型的配置文件:</p><ul class=""><li id="e377" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">iOS应用程序开发—只能用于您自己的设备</li><li id="5bdb" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">临时—可以分发给有限数量的设备，包括在配置文件中</li><li id="fa3c" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">App Store —可以上传到App Store</li></ul><p id="deb7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本例中，让我们生成一个临时配置文件，并为应用程序安装创建一个链接。</p><p id="a987" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一步，你需要选择你的应用ID。可能你的id还不在名单上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/7b74db36f823fe201d682cee2bfed681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r4IB9xyqjALnMcUuj_WEhA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择应用ID</p></figure><p id="b4ad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果有，就去标识符列表添加一个新的应用ID:<a class="ae lu" href="https://developer.apple.com/account/resources/identifiers/list" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/account/resources/identifiers/list</a>。请记住，您的应用ID(捆绑包ID)应该与您的<code class="fe nn no np nq b">Info.plist</code>中的ID相匹配。您可以选择您在应用程序中使用的功能。对于这个测试，你不需要选择任何东西。有些是可以预选的；让它们保持不变。</p><p id="1389" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">返回到档案生成并选择您的应用ID。在下一个屏幕上，您需要选择一个证书。它应该与您在上一步中使用的证书完全相同。如果您有几个日期不同的证书，请检查钥匙串中的证书。对比有效期。应该是一样的或者相差一天。</p><p id="6dcc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下一步中，您需要选择设备。如果您以前使用过Xcode，您的设备可能已经注册。如果没有，请在此手动注册:</p><p id="99cd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要注册新设备，您需要输入它的UDID(唯一的设备ID)。有两种方法可以得到它:</p><ul class=""><li id="3ac8" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">你可以用线把你的设备连接到你的PC/Mac，在iTunes里找到UDID。在macOS Catalina中，没有iTunes，但是您可以在Finder中找到您的设备。在设备名称下，您会看到一些附加信息。点按它一次或几次，直到您看到UDID。请注意序列号和UDID是不同的。</li><li id="0139" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">你可以使用类似<a class="ae lu" href="https://get.udid.io" rel="noopener ugc nofollow" target="_blank"> https://get.udid.io </a>或类似的服务。在您的iOS设备上打开它，然后按照说明进行操作。</li></ul><p id="5fa8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注册设备后，返回描述文件生成，检查一个或多个设备，然后生成描述文件。在最后一步中，您需要输入一个概要文件名。通常，我使用应用程序名称加上“AdHoc”准备好了就下载档案。</p><h2 id="e809" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">第四步。准备金提取</h2><p id="89b0" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">要将预置描述文件添加到您的应用程序，只需将其复制到<code class="fe nn no np nq b">app</code>文件夹，并将其重命名为<code class="fe nn no np nq b">embedded.mobileprovision</code>。</p><p id="4e81" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后再签一次:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="d2d6" class="nr mr it nq b gy oh oi l oj ok">codesign -f -s "Apple Distribution: Your Account Name (TEAM_ID)" MakeTest.app</span></pre><p id="eb14" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果之前签过，加<code class="fe nn no np nq b">-f</code>旗(强制)。</p><h2 id="6706" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">第五步。权利</h2><p id="4899" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">首先，让我们生成授权文件:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="8a8b" class="nr mr it nq b gy oh oi l oj ok">security cms -D -i Payload/MakeTest.app/embedded.mobileprovision</span></pre><p id="fd4a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将向控制台输出一个包含权限的大结构。将此结构保存在以<code class="fe nn no np nq b">.entitlements</code>结尾的文件中。遵循以下结构:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="3cee" class="nr mr it nq b gy oh oi l oj ok">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;<br/>&lt;plist version="1.0"&gt;<br/>&lt;dict&gt;<br/>    &lt;key&gt;application-identifier&lt;/key&gt;<br/>    &lt;string&gt;TEAM_ID.com.test.make&lt;/string&gt;</span><span id="1f6d" class="nr mr it nq b gy oo oi l oj ok">    &lt;key&gt;keychain-access-groups&lt;/key&gt;<br/>    &lt;array&gt;<br/>        &lt;string&gt;TEAM_ID.*&lt;/string&gt;<br/>    &lt;/array&gt;<br/>    <br/>    &lt;key&gt;get-task-allow&lt;/key&gt;<br/>    &lt;false/&gt;</span><span id="b5c9" class="nr mr it nq b gy oo oi l oj ok">    &lt;key&gt;com.apple.developer.team-identifier&lt;/key&gt;<br/>    &lt;string&gt;TEAM_ID&lt;/string&gt;<br/>&lt;/dict&gt;<br/>&lt;/plist&gt;</span></pre><p id="091c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您应该拥有与之前所有步骤相同的应用ID，以及与您的Apple开发者帐户匹配的TEAM_ID。</p><p id="1e8a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您不应该在有效负载中包含授权文件。相反，将其用作<code class="fe nn no np nq b">codesign</code>命令的参数:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="fc9a" class="nr mr it nq b gy oh oi l oj ok">codesign -f -s "Apple Distribution: Your Account Name (TEAM_ID)" --entitlements 'MakeTest.entitlements' Payload/MakeTest.app</span></pre><h2 id="66fb" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">第六步。创建ipa</h2><p id="c538" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">要在物理设备上安装你的应用，你需要创建一个<code class="fe nn no np nq b">ipa</code>档案。让我们来看看怎么做:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="27a2" class="nr mr it nq b gy oh oi l oj ok">mkdir Payload<br/>cp -r MakeTest.app Payload<br/>zip -r MakeTest.ipa Payload</span></pre><p id="553d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们到了！我们有一个档案库。</p><h2 id="8a71" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">第七步。分配</h2><p id="07ec" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">要分发你的应用，我推荐<a class="ae lu" href="https://www.diawi.com" rel="noopener ugc nofollow" target="_blank"> Diawi </a>。Diawi(开发&amp;内部应用程序无线安装)是一项允许你上传你的<code class="fe nn no np nq b">ipa</code>(或安卓系统的<code class="fe nn no np nq b">apk</code>)并获得链接和二维码的服务。您将此链接(和/或QR码)发送给设备所有者(iOS设备的UDID应该在您创建的预置描述文件中)，他们只需轻按几下就可以安装它。</p><p id="25c5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">问题是以目前的配置，你甚至不能上传，这就导致了第8步。</p><h2 id="dc63" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">第八步。更新Info.plist并排除故障</h2><p id="b6ca" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">当您在Xcode中进行构建时，它会在签名之前向<code class="fe nn no np nq b">Info.plist</code>添加一些字段。</p><p id="a99e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">警告！您应该在任何更改后更新您的应用程序签名，包括</strong> <code class="fe nn no np nq b"><strong class="la iu">Info.plist</strong></code> <strong class="la iu">中的更改。</strong></p><p id="28b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这两个字段是上传版本所必需的:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="bcdb" class="nr mr it nq b gy oh oi l oj ok">&lt;key&gt;CFBundleSupportedPlatforms&lt;/key&gt;<br/>&lt;array&gt;<br/>  &lt;string&gt;iPhoneOS&lt;/string&gt;<br/>&lt;/array&gt;<br/>&lt;key&gt;MinimumOSVersion&lt;/key&gt;<br/>&lt;string&gt;10.0&lt;/string&gt;</span></pre><p id="dc6b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">版本号可能会有所不同，这取决于您的目标iOS版本。</p><p id="24ae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当您添加这些字段时，上传将会成功，但您可能仍然无法安装该应用程序。<code class="fe nn no np nq b">Info.plist</code>的生产版本应包含兼容设备的信息。</p><p id="503b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我从Xcode生成的<code class="fe nn no np nq b">ipa</code>中复制了值。有些不是必须的，但也不会有什么坏处:</p><pre class="kj kk kl km gt od nq oe of aw og bi"><span id="7ac1" class="nr mr it nq b gy oh oi l oj ok">&lt;key&gt;BuildMachineOSBuild&lt;/key&gt;<br/>&lt;string&gt;19D76&lt;/string&gt;<br/>&lt;key&gt;DTCompiler&lt;/key&gt;<br/>&lt;string&gt;com.apple.compilers.llvm.clang.1_0&lt;/string&gt;<br/>&lt;key&gt;DTPlatformBuild&lt;/key&gt;<br/>&lt;string&gt;17B102&lt;/string&gt;<br/>&lt;key&gt;DTPlatformName&lt;/key&gt;<br/>&lt;string&gt;iphoneos&lt;/string&gt;<br/>&lt;key&gt;DTPlatformVersion&lt;/key&gt;<br/>&lt;string&gt;13.2&lt;/string&gt;<br/>&lt;key&gt;DTSDKBuild&lt;/key&gt;<br/>&lt;string&gt;17B102&lt;/string&gt;<br/>&lt;key&gt;DTSDKName&lt;/key&gt;<br/>&lt;string&gt;iphoneos13.2&lt;/string&gt;<br/>&lt;key&gt;DTXcode&lt;/key&gt;<br/>&lt;string&gt;1130&lt;/string&gt;<br/>&lt;key&gt;DTXcodeBuild&lt;/key&gt;<br/>&lt;string&gt;11C504&lt;/string&gt;<br/>&lt;key&gt;UIDeviceFamily&lt;/key&gt;<br/>&lt;array&gt;<br/>    &lt;integer&gt;1&lt;/integer&gt;<br/>    &lt;integer&gt;2&lt;/integer&gt;<br/>&lt;/array&gt;<br/>&lt;key&gt;UIRequiredDeviceCapabilities&lt;/key&gt;<br/>&lt;array&gt;<br/>&lt;string&gt;arm64&lt;/string&gt;<br/>&lt;/array&gt;<br/>&lt;key&gt;UIRequiresFullScreen&lt;/key&gt;<br/>&lt;true/&gt;<br/>&lt;key&gt;UIStatusBarHidden&lt;/key&gt;<br/>&lt;false/&gt;</span></pre><p id="9f8c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是我的<code class="fe nn no np nq b">Info.plist</code>文件的最终版本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="9677" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你的应用可能尚未安装在你的设备上。很有可能，你不会看到任何错误。但是，如果您知道，您如何解决这些问题呢？</p><p id="1d43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Mac上打开控制台应用程序。您的iOS设备应该已连接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/b7e04af6c4df5a5396cc218fbdd89161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mujfXEzImUX7TnO5cQCngw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">iOS设备控制台</p></figure><p id="cb95" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">选取您的iOS设备，并在过滤器(右上角)中键入您的应用程序名称。App install会生成大约50条信息，其中大多数信息不多，因此可能需要几个小时才能找到并修复问题。</p><p id="e16c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的屏幕截图中，您可以看到授权文件存在问题。如果你遵循了所有的步骤，你不应该有它，但是如果你的情况更复杂或者你错过了一些步骤，你可以使用控制台应用程序来检查出了什么问题。</p><h2 id="1dc2" class="nr mr it bd ms ns nt dn mw nu nv dp na lh nw nx nc ll ny nz ne lp oa ob ng oc bi translated">完成的</h2><p id="42c4" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">如果一切正常，你会看到你的应用程序安装在你的设备上。</p><p id="ff11" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您仍然有问题:</p><ol class=""><li id="0332" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt oy mb mc md bi translated">尝试添加应用程序图标。你不需要它的资产目录。你只需添加必要的png文件，并将其添加到你的<code class="fe nn no np nq b">Info.plist</code>中。</li><li id="198d" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt oy mb mc md bi translated">添加PkgInfo文件。老实说，我不明白它的用途，但所有Xcode生成的包都包含它。它只有8个字:<code class="fe nn no np nq b">APPL????</code>。</li></ol></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="96fa" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="9105" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">不使用Xcode也完全可以创建iOS应用。如果你真的反对Xcode，你可能应该使用AppCode。您可以在那里编写代码、构建和调试。它有许多插件，这将使过程更容易。</p><p id="a9e5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">布局可以用许多不同的方式来制作，使用代码或替代解决方案，如Supernova Studio或Sketch(带插件)。</p><p id="4bd6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">仅使用终端和文本编辑器制作iOS项目极其复杂，但完全可行。只有在非常必要的时候才应该使用这种方法；例如，对于自动构建。</p><p id="3ec3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下次见。编码快乐！</p></div></div>    
</body>
</html>