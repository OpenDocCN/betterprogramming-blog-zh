# JavaScript 中高阶函数的 5 个例子

> 原文：<https://betterprogramming.pub/5-examples-of-higher-order-functions-in-javascript-21aabb4c00ac>

## 使用函数式编程让您的编码生活更轻松

![](img/bdffd724e2a50ce20aff5c3c7b26e055.png)

照片由[王思然·哈德森](https://unsplash.com/@hudsoncrafted?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/five?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄

高阶函数可以说是 JavaScript 语言中最好的事情之一。它们被广泛使用是有原因的。

如果你不知道什么是高阶函数，它们只是以其他函数作为参数的函数，或者返回一个函数作为结果的函数。

当我刚接触 JavaScript 时，我花了一段时间才理解它们是什么，所以如果你在这个位置，那么希望在看完这篇文章后，你会对它们有更清晰的理解。

也就是说，这里有五个 JavaScript 中高阶函数的例子，以便更好地理解。

# 1.`.map`、`.forEach`等。

如果你使用 JavaScript 才一天，你很可能已经通过原生 JavaScript 数组方法处理过高阶函数，比如`.map`。

下面的代码片段遍历一个数组，并对每一项调用一个函数，直到到达最后一项。获取可以调用的函数的能力使其成为高阶函数:

# 2.使用高阶函数支持操作的多种变化

有时，我们最终决定创建一个高阶函数，这样我们就可以用它来创建所需操作的更多变体。

在下面的例子中，一个基本的`utilizePrefixer`函数是一个高阶函数，它返回一个以`word`作为参数的函数，并将前缀应用于返回值。

# 3.逆转控制

每当你需要重构一堆指向一个函数的代码时，你可以创建一个增强的函数来反转代码的运行方向。

我将从一篇旧文章中复制并粘贴一个例子，因为这是一个很好的例子来说明这一点:

在我以前的工作中，我们使用[来显示通知。我们在任何地方都使用它。此外，他们还为 UX 最后一分钟的快速决策提供了绝佳的逃生通道:“我们应该如何处理这个错误？只显示一个祝酒通知！”完成了。](https://github.com/fkhadra/react-toastify)

然而，我们开始注意到，当应用程序变得越来越大，复杂程度越来越高时，我们的 toast 通知变得过于频繁。这很好，但是，我们没有办法防止重复。这意味着一些 toast 通知会在屏幕上出现多次，即使它们与上面的 toast 完全相同。

所以我们最终利用该库提供的 API 来帮助使用`toast.dismiss()`通过 ID 删除活动的 toast 通知。

为了解释前面的部分，在继续之前显示我们从中导入祝酒词的文件可能是个好主意:

现在忍耐一下，我知道这可能看起来不吸引人，但我保证两分钟后会好起来的。

这就是我们在一个单独的组件中检查先前的 toast 是否已经在屏幕上，如果有，它会尝试删除那个 toast 并重新显示新的 toast。

这工作得很好——然而，我们在整个应用程序中有其他的祝酒词需要以同样的方式修改。我们不得不仔细检查每一个显示 toast 通知的文件来删除重复的文件。

当我们想到在 2019 年检查每一个文件时，我们立即知道这不是解决方案。因此，我们查看了`util/toast.js`文件，并对其进行了重构，以解决我们的问题。这是后来的样子:

`src/util/toast.js`:

最简单的解决方案是创建一个高阶函数，而不是遍历每个文件。这样做可以让我们互换角色，这样我们就不用搜索文件，而是把祝酒词指向我们的高阶函数。

这样，文件中的代码就不会被修改或改动。它仍然一切正常，我们获得了删除重复祝酒词的能力，最终不用去任何地方写不必要的代码。这节省了时间。

# 4.组成

当你开始创作高阶函数时，它们开始变得更加耀眼。一个人可以出于许多原因选择作曲。对于下面的例子，我们编写的原因是我们希望防止 JavaScript 在每个`.filter`操作中反复循环青蛙数组:

这可以避免我们在应用程序中到处重复编写这样的代码:

# 5.内部状态

值得一提的是，当我们创建一个高阶函数时，我们也可以在作用域内创建一些局部状态，并且它将被缓存以供将来的操作使用:

# 结论

这就是这篇文章的结尾。我希望你发现这是有价值的，并期待在未来更多！