<html>
<head>
<title>How To Add a Background in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中添加背景</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-add-a-background-in-swiftui-98fd0001c8ef?source=collection_archive---------12-----------------------#2021-01-12">https://betterprogramming.pub/how-to-add-a-background-in-swiftui-98fd0001c8ef?source=collection_archive---------12-----------------------#2021-01-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a864" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在UIKit中，在任何视图上设置背景都非常简单——在SwiftUI中则稍微复杂一点</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/75fd9305d7b92c004e68fc17501d5381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vJq17sHcdFp39mTH"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@autumnstudio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">秋工作室</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="cd1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从素色到渐变和自定义视图，这篇文章将教你<strong class="lb iu">如何给SwiftUI视图</strong>添加背景，以及如何包装该功能以便在需要时重用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="043a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">基础知识</h1><p id="9ee8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">让我们从一个简单的观点开始:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5303" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">彩色背景</h1><p id="84d8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在这篇文章中，我将向你解释给我们的视图添加彩色背景的两种方法:</p><h2 id="9532" class="nb md it bd me nc nd dn mi ne nf dp mm li ng nh mo lm ni nj mq lq nk nl ms nm bi translated">1.使用<code class="fe nn no np nq b">ZStack</code></h2><p id="73c5" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">第一种方法是创建一个<code class="fe nn no np nq b">ZStack</code>结构，其中颜色背景是实际内容后面的第二层:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><h2 id="9d3a" class="nb md it bd me nc nd dn mi ne nf dp mm li ng nh mo lm ni nj mq lq nk nl ms nm bi translated">2.使用<code class="fe nn no np nq b">.overlay</code>视图修改器</h2><p id="503a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">第二种方法是添加所选的颜色作为主要元素，然后添加一个<code class="fe nn no np nq b">.overlay</code>修饰符，其中包含显示在背景顶部的内容。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="44e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:我已经包括了修改器<code class="fe nn no np nq b">.edgesIgnoringSafeArea(.all)</code>来填充屏幕到设备边缘。如果您不想要这种行为，只需移除修饰符。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9b60" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使其可重复使用</h1><p id="9faa" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在是时候重构代码，以形成一个可重用的解决方案。为此，您将创建一个外部结构，其中包括已经解释过的方法之一。</p><p id="c042" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于这两种方法达到了相同的结果，你可以选择你最喜欢的一种。我会用第二个。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="6b1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结构<code class="fe nn no np nq b">init </code>方法接收两个输入参数:</p><ul class=""><li id="f3e2" class="nr ns it lb b lc ld lf lg li nt lm nu lq nv lu nw nx ny nz bi translated">要显示的<code class="fe nn no np nq b">color: Color</code>。</li><li id="668f" class="nr ns it lb b lc oa lf ob li oc lm od lq oe lu nw nx ny nz bi translated">将作为覆盖图包含在内的<code class="fe nn no np nq b">content: () -&gt; Content</code>。它是一个闭包，所以您可以很容易地在构造函数调用中包含我们的内容。该参数标有标签<code class="fe nn no np nq b">@ViewBuilder</code>，因为它可以是任何类型的视图。</li></ul><p id="78f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到我们最初的视图，结果将是这样的:内容包装后清晰而容易地显示出来:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/6afd488a3e86933aae8fee588d666032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b8D46ONj4OBYjz7il_lP-g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">彩色背景手机</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="533b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">自定义视图背景</h1><p id="3c15" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">一旦您创建了显示单色的背景视图，让我们扩展解决方案以支持任何类型的视图作为背景。</p><p id="944c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主要区别在于背景内容类型，从<code class="fe nn no np nq b">Color</code>移动到<code class="fe nn no np nq b">BackgroundContent</code>，可以是任何种类的<code class="fe nn no np nq b">View</code>。</p><p id="10b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更新<code class="fe nn no np nq b">init</code>方法以支持<code class="fe nn no np nq b">BackgroundContent</code>输入参数，而不是<code class="fe nn no np nq b">Color</code>输入参数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="6413" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，更新对<code class="fe nn no np nq b">BackgroundView</code>的调用，以包含包含您的定制视图的闭包。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/eba14dd68b72f2408ec79e884f844473.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oCrk4ihPKXuTx9JQHRdgeA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有线性渐变背景的电话</p></figure><p id="ef5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:您可以通过使用第二个解决方案来摆脱之前的单色解决方案:在自定义背景视图闭包内添加颜色。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="392f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">特殊情况</h1><p id="98bc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这在与像<code class="fe nn no np nq b">Text</code>这样的元素一起使用时效果很好，但是将这种解决方案与其他SwiftUI元素一起使用可能需要额外的配置。发生这种情况是因为一些UI元素包含了它们的背景，所以需要移除它们。</p><p id="bc67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何在一个<code class="fe nn no np nq b">List</code>元素后面添加一个彩色背景。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="d08b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使<code class="fe nn no np nq b">List</code>背景透明，您将声明一个<code class="fe nn no np nq b">UITableView.appearance()</code>配置，使列表和列表行背景清晰。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/cb1761f222cef0ea3bab7b9d73f0c2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b9eq0WIWs9GmAt-foY78yg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有使用列表的自定义背景的手机</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c733" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="383f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你有一些关于堆叠和覆盖的知识，在SwiftUI中添加一个背景视图并不是一件大事。您在本文中了解到的干净的解决方案提供了灵活性，从而避免了对额外代码的需求。所以，在任何屏幕上包含都非常方便。</p><p id="365e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢这篇文章！</p></div></div>    
</body>
</html>