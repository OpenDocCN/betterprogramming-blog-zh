<html>
<head>
<title>How To Use Custom Colors and Modifiers in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中使用自定义颜色和修改器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/custom-colors-and-modifiers-in-swiftui-a093c243c126?source=collection_archive---------1-----------------------#2019-10-03">https://betterprogramming.pub/custom-colors-and-modifiers-in-swiftui-a093c243c126?source=collection_archive---------1-----------------------#2019-10-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8dfa" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用颜色集简化颜色处理</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7f6fc2153629e590aa8017bbdb444ed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eCe9jGb9TCBQv7qPCiiCVg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">渐变游戏(图片来源:作者)</p></figure><p id="8a40" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我已经为我的<a class="ae lr" href="https://apps.apple.com/us/app/gradients-game/id1479784361?ref=producthunt" rel="noopener ugc nofollow" target="_blank"> SwiftUI游戏</a>工作了几个星期了，这变得很有趣！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2041" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">自定义颜色</h1><p id="a758" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">我从UIColor的systemIndigo颜色中获得灵感，改用定制颜色作为品牌。上面的模型使用了systemIndigo，但是我想在浅色模式下使用更深的颜色，在深色模式下使用更浅的颜色。</p><p id="eed8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为此，您可以在<code class="fe mw mx my mz b">Assets.xcassets</code>文件夹中创建一个新的颜色集。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/f2f4c063185b456294ecb42fd4d327c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*eaQ8lgKL-7NQL29Zn5eYiQ.png"/></div></div></figure><p id="3fde" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后勾选所有深色的外观，让它们在深色模式下有不同的颜色，为什么不呢？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/a68fcdd96ecf9079635416fc3a5be5a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/1*6NDRSIwc3v6VO-YOT2CJug.png"/></div></figure><p id="7c8e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">提供颜色的值。我用sRGB和0-255的方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/cb18d0041c22878cce83ad5b51ed58ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*0QrYp371g2rBTiUJBVToKw.png"/></div></figure><p id="1588" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用静态常量创建结构颜色的扩展，从资产目录中获取颜色。</p><pre class="kg kh ki kj gt nd mz ne nf aw ng bi"><span id="7cf8" class="nh ma iq mz b gy ni nj l nk nl">extension Color {</span><span id="9088" class="nh ma iq mz b gy nm nj l nk nl">    static let oldPrimaryColor = Color(UIColor.systemIndigo)</span><span id="c4d9" class="nh ma iq mz b gy nm nj l nk nl">    static let newPrimaryColor = Color(“primaryColor”)</span><span id="bd82" class="nh ma iq mz b gy nm nj l nk nl">}</span></pre><p id="bda8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以在以下视图中轻松使用它:</p><pre class="kg kh ki kj gt nd mz ne nf aw ng bi"><span id="359d" class="nh ma iq mz b gy ni nj l nk nl">Text(“Gradients Game”)</span><span id="af76" class="nh ma iq mz b gy nm nj l nk nl">    .fontWeight(.black)</span><span id="4efb" class="nh ma iq mz b gy nm nj l nk nl">    .font(.system(size: 36))</span><span id="0dcd" class="nh ma iq mz b gy nm nj l nk nl">    .foregroundColor(.newPrimaryColor)</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="ccf2" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">自定义修改器</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/79a170cebd38949f2f5f12276ebd59cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2hCApjjH49Ymg9KSp_lqGA.png"/></div></div></figure><p id="6616" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你看上面的模型，继续和评估按钮有相同的设计。</p><p id="04a9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以通过编写自定义修饰符来实现这一点，以便在任何地方重用该设计。</p><pre class="kg kh ki kj gt nd mz ne nf aw ng bi"><span id="4f97" class="nh ma iq mz b gy ni nj l nk nl">struct ButtonModifier: ViewModifier {</span><span id="e7d7" class="nh ma iq mz b gy nm nj l nk nl">    func body(content: Content) -&gt; some View {</span><span id="8d5d" class="nh ma iq mz b gy nm nj l nk nl">        content</span><span id="6060" class="nh ma iq mz b gy nm nj l nk nl">            .font(.headline)</span><span id="e644" class="nh ma iq mz b gy nm nj l nk nl">            .foregroundColor(.white)</span><span id="a742" class="nh ma iq mz b gy nm nj l nk nl">            .padding()</span><span id="e7f6" class="nh ma iq mz b gy nm nj l nk nl">            .frame(width: UIScreen.main.bounds.width — 30, alignment: .center)</span><span id="1f4e" class="nh ma iq mz b gy nm nj l nk nl">            .background(RoundedRectangle(cornerRadius: 8, style:   .circular).fill(Color.newPrimaryColor))</span><span id="2f7d" class="nh ma iq mz b gy nm nj l nk nl">            .padding(.bottom, 8)</span><span id="abe2" class="nh ma iq mz b gy nm nj l nk nl">    }</span><span id="7e1c" class="nh ma iq mz b gy nm nj l nk nl">}</span></pre><p id="0a90" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了使它更容易使用，在视图的扩展中编写一个函数来返回修饰符。</p><pre class="kg kh ki kj gt nd mz ne nf aw ng bi"><span id="3de2" class="nh ma iq mz b gy ni nj l nk nl">extension View {</span><span id="f191" class="nh ma iq mz b gy nm nj l nk nl">    func customButton() -&gt; ModifiedContent&lt;Self, ButtonModifier&gt; {</span><span id="bc61" class="nh ma iq mz b gy nm nj l nk nl">        return modifier(ButtonModifier())</span><span id="6576" class="nh ma iq mz b gy nm nj l nk nl">    }<br/>}</span></pre><p id="9af9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，您可以轻松地将它用作:</p><pre class="kg kh ki kj gt nd mz ne nf aw ng bi"><span id="913c" class="nh ma iq mz b gy ni nj l nk nl">Text(“Evaluate”)</span><span id="0952" class="nh ma iq mz b gy nm nj l nk nl">    .customButton()</span></pre></div></div>    
</body>
</html>