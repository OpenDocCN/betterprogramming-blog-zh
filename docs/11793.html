<html>
<head>
<title>Convert Text to Speech Using Web Speech API in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript中的Web语音API将文本转换为语音</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/convert-text-to-speech-using-web-speech-api-in-javascript-c9710bbb2d41?source=collection_archive---------3-----------------------#2022-04-18">https://betterprogramming.pub/convert-text-to-speech-using-web-speech-api-in-javascript-c9710bbb2d41?source=collection_archive---------3-----------------------#2022-04-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6e65" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们听听那些话！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2e5b146a31f65296220e42eb60903f7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SgwdjUbDSRzUSq17"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@daiga_ellaby?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Daiga Ellaby </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="6a32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我花了很多时间在媒体上。有时写些东西，但主要是阅读。阅读其他开发人员愿意与社区分享的经验。</p><p id="debd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，我注意到媒体对每个故事都有一个播放按钮。最初，我以为这种特权只授予少数故事或作家。但在下一刻，我知道这是给所有读者的。这意味着我们甚至可以在媒体上听故事。厉害！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/655459785194b75b8202fd636ce5bca5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DUjBwK_F1l5EjRjOJ_h3rw.png"/></div></div></figure><p id="af82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，就像一个典型的开发人员一样，我想，他们是怎么做到的？我知道在JavaScript领域，我们有一个名为<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API." rel="noopener ugc nofollow" target="_blank"> Web Speech API </a>的web API，但我从未使用或了解过它。</p><p id="c69a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以今天，让我们一起来学习这个web API，甚至创建一个工作示例。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="94a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API." rel="noopener ugc nofollow" target="_blank">网络语音API </a>将语音数据整合到在线应用中。在本文中，我们将创建一个使用<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API." rel="noopener ugc nofollow" target="_blank"> Web语音API </a>实现文本到语音转换的简单网页。</p><p id="404e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了这个演示，让我们创建一个新目录并创建两个新文件:<code class="fe md me mf mg b">index.html</code>和<code class="fe md me mf mg b">text-to-speech.js</code></p><h1 id="47ec" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">HTML文件</h1><p id="3a85" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在HTML文件中，让我们设置以下元素:</p><ul class=""><li id="cd7f" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">一个没有选项的<code class="fe md me mf mg b">select</code>菜单。使用JavaScript，我们将用可能的声音列表填充空的<code class="fe md me mf mg b">select</code>菜单</li><li id="358f" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">音量、音高和速率的范围滑块</li><li id="fd4b" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">键入一个<code class="fe md me mf mg b">textarea</code></li><li id="e1d9" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">演讲的控制按钮</li></ul><p id="eb0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个演示中，我们将使用<a class="ae ky" href="https://getbootstrap.com/docs/5.0/getting-started/introduction/" rel="noopener ugc nofollow" target="_blank"> Bootstrap 5 </a>进行造型。下面是一些代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="84b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是它在浏览器中的外观:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/19058a821b94ec9360e1e3365c7bbe17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ve37KkVrZR1S9I-cC96P_Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">输出</p></figure><h1 id="6b71" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated"><strong class="ak">JavaScript文件</strong></h1><p id="5e70" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在JavaScript文件中，我们主要准备使用三个接口:<code class="fe md me mf mg b">SpeechSynthesis</code>、<code class="fe md me mf mg b">window.speechSynthesis</code>和<code class="fe md me mf mg b">SpeechSynthesisUtterance</code>。所以，我们来简单了解一下他们。</p><h2 id="4cd7" class="nv mi it bd mj nw nx dn mn ny nz dp mr li oa ob mt lm oc od mv lq oe of mx og bi translated">JavaScript <code class="fe md me mf mg b">SpeechSynthesis</code>接口</h2><p id="d873" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">这是语音合成服务的主要界面，它根据文本输入控制语音的合成或生成。此接口用于开始、停止、暂停和重新开始语音，以及访问设备支持的语音。</p><p id="30e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该接口中提供的方法如下:</p><ul class=""><li id="ff79" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated"><code class="fe md me mf mg b">speak()</code>:将话语(<code class="fe md me mf mg b">SpeechSynthesisUtterance</code>的对象)添加到队列中，当队列前面没有未决的话语时，将说出该话语，这是我们将使用的函数</li><li id="1156" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated"><code class="fe md me mf mg b">pause()</code>:暂停当前正在进行的演讲</li><li id="9d8c" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated"><code class="fe md me mf mg b">resume()</code>:恢复暂停的演讲</li><li id="e411" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated"><code class="fe md me mf mg b">cancel()</code>:取消所有尚未播放的未决话语或已创建的语音</li><li id="503f" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated"><code class="fe md me mf mg b">getVoices()</code>:获取设备支持的所有语音列表</li></ul><h2 id="3eb7" class="nv mi it bd mj nw nx dn mn ny nz dp mr li oa ob mt lm oc od mv lq oe of mx og bi translated"><strong class="ak"> JavaScript </strong> <code class="fe md me mf mg b"><strong class="ak">window.speechSynthesis</strong></code> <strong class="ak">属性</strong></h2><p id="b26b" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在语音合成控制器接口上调用<code class="fe md me mf mg b">speak()</code>方法，该接口由JavaScript <code class="fe md me mf mg b">window</code>对象的这个属性引用。</p><p id="a008" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们跳到代码中时，我们会更加理解这一点。</p><h2 id="574f" class="nv mi it bd mj nw nx dn mn ny nz dp mr li oa ob mt lm oc od mv lq oe of mx og bi translated"><strong class="ak">JavaScript</strong>T9<strong class="ak">接口</strong></h2><p id="dbab" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">这是我们真正从提供的文本中产生语音或话语的界面，包括语言类型、音量、音调、语速等等。在为这个接口创建一个对象之后，我们将它提供给<code class="fe md me mf mg b">SpeechSynthesis</code>对象的<code class="fe md me mf mg b">speak()</code>方法来播放语音。</p><p id="92af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe md me mf mg b">SpeechSynthesisUtterance</code>接口上有六个我们可以调整的属性。它们如下:</p><p id="d68f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">语言:</strong></p><p id="4a57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">language属性获取并设置发言的语言。如果未设置，将使用<code class="fe md me mf mg b">&lt;html lang=”en”&gt;</code> lang值，如果<code class="fe md me mf mg b">&lt;html lang=”en”&gt;</code> lang不可用，则使用用户代理默认值。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="7304" class="nv mi it mg b gy ol om l on oo">speech.lang = "en";</span></pre><p id="4111" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文本:</p><p id="c296" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当说出话语时，<code class="fe md me mf mg b">text</code>属性获取并设置将要合成的文本。文本可以以纯文本格式发送。在我们的示例中，当按下开始按钮时，必须设置<code class="fe md me mf mg b">text</code>属性。</p><p id="82db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们给按钮一个<code class="fe md me mf mg b">click</code>监听器。我们应该从<code class="fe md me mf mg b">textarea</code>中检索文本值，并在单击按钮时将其设置为该属性。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="b628" class="nv mi it mg b gy ol om l on oo">document.querySelector("#start").addEventListener("click", () =&gt; {<br/>  speech.text = document.querySelector("textarea").value;<br/>});</span></pre><p id="068c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">音量:</p><p id="a22e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">属性获取并设置说话的音量。它是一个指示音量值的浮点数，范围从0(最低)到1(最高)。如果未设置此属性，默认值为1。</p><p id="71a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">向音量范围滑块添加一个<code class="fe md me mf mg b">input</code>监听器，并在滑块值改变时改变音量属性。HTML标记中已经指定了滑块的最小值、最大值和默认值。</p><p id="82cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在范围滑块旁边，我们将添加一个<code class="fe md me mf mg b">&lt;span&gt;</code>,在网页上显示音量值。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="6945" class="nv mi it mg b gy ol om l on oo">document.querySelector("#volume").addEventListener("input", () =&gt; {<br/>  // Get volume value from the input<br/>  const volume = document.querySelector("#volume").value;<br/><br/>  // Set volume property of the SpeechSynthesisUtterance instance<br/>  speech.volume = volume;<br/><br/>  // Update the volume label<br/>  document.querySelector("#volume-label").innerHTML = volume;<br/>});</span></pre><p id="53b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">费率:</p><p id="b0ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe md me mf mg b">rate</code>属性返回并设置话语的速率。它是一个表示比率值的浮点数，范围从0.1(最低)到10(最高)。如果未设置此属性，默认值为1。</p><p id="c071" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们为<code class="fe md me mf mg b">rate</code>做同样的事情，就像我们为<code class="fe md me mf mg b">volume</code>做的一样。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="54ba" class="nv mi it mg b gy ol om l on oo">document.querySelector("#rate").addEventListener("input", () =&gt; {<br/>  // Get rate value from the input<br/>  const rate = document.querySelector("#rate").value;<br/><br/>  // Set rate property of the SpeechSynthesisUtterance instance<br/>  speech.rate = rate;<br/><br/>  // Update the rate label<br/>  document.querySelector("#rate-label").innerHTML = rate;<br/>});</span></pre><p id="b0ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">间距:</p><p id="02c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">属性返回并设置话语的音高。同样，它是一个浮点值，其中0表示最低，1表示最高。</p><p id="eee4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们对<code class="fe md me mf mg b">pitch</code>做同样的事情，就像我们对<code class="fe md me mf mg b">rate</code>和<code class="fe md me mf mg b">volume</code>做的一样。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="675e" class="nv mi it mg b gy ol om l on oo">document.querySelector("#pitch").addEventListener("input", () =&gt; {<br/>  // Get pitch Value from the input<br/>  const pitch = document.querySelector("#pitch").value;<br/><br/>  // Set pitch property of the SpeechSynthesisUtterance instance<br/>  speech.pitch = pitch;<br/><br/>  // Update the pitch label<br/>  document.querySelector("#pitch-label").innerHTML = pitch;<br/>});</span></pre><p id="77a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">声音:</p><p id="2bbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">voice属性检索和修改将用于演讲的声音。应该使用其中一个<code class="fe md me mf mg b">SpeechSynthesisVoice</code>对象。如果没有配置，将使用最适合话语语言设置的默认声音。</p><p id="b3c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要检索<code class="fe md me mf mg b">window</code>对象中可用声音的列表，以设置说话的声音。当<code class="fe md me mf mg b">window</code>对象加载时，声音不会立即可用。这是一个异步操作。当声音被加载时，一个事件将被触发。我们可以设置一个函数，当声音被加载时应该执行这个函数。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="8ba9" class="nv mi it mg b gy ol om l on oo">window.speechSynthesis.onvoiceschanged = () =&gt; {<br/>  // On Voices Loaded<br/>};</span></pre><p id="00d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe md me mf mg b">window.speechSynthesis.getVoices()</code>，我们可以检索声音列表。它将返回一个可访问的<code class="fe md me mf mg b">SpeechSynthesisVoice</code>对象数组。让我们将列表保存在一个全局数组中，并用它来用可用的声音更新web页面的选择菜单。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="28fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然已经修改了语音菜单，我们可以向它添加一个<code class="fe md me mf mg b">change</code>事件监听器来更新<code class="fe md me mf mg b">SpeechSynthesisUtterance</code>实例的语音。我们将利用索引号(它被设置为每个选项的值)和声音的全局数组在用户更新声音时更新声音。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="4de7" class="nv mi it mg b gy ol om l on oo">document.querySelector("#voices").addEventListener("change", () =&gt; {<br/>  speech.voice = voices[document.querySelector("#voices").value];<br/>});</span></pre><h2 id="137c" class="nv mi it bd mj nw nx dn mn ny nz dp mr li oa ob mt lm oc od mv lq oe of mx og bi translated">控制</h2><p id="f11b" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">如果你还记得，在我们的index.html中，我们有几个控制按钮，比如开始、继续、暂停和取消。让我们通过使用<code class="fe md me mf mg b">SpeechSynthesis</code>接口及其方法让它们工作。</p><p id="8560" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始:</p><p id="0299" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当按下开始按钮时，<code class="fe md me mf mg b">SpeechSynthesisUtterance</code>实例应该被传递给<code class="fe md me mf mg b">window.speechSynthesis.speak()</code>。这将开始将文本转换成语音的过程。</p><p id="9d0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在调用此函数之前，必须设置text属性。</p><p id="7bab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="op">如果在一个文本到语音转换实例已经运行的情况下启动另一个文本到语音转换实例，新实例将排在当前实例之后。</em></p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="d8eb" class="nv mi it mg b gy ol om l on oo">document.querySelector("#start").addEventListener("click", () =&gt; {<br/>  speech.text = document.querySelector("textarea").value;<br/>  window.speechSynthesis.speak(speech);<br/>});</span></pre><p id="1443" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">暂停:</p><p id="4e6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要暂停当前运行的<code class="fe md me mf mg b">SpeechSynthesisUtterance</code>实例，我们可以使用<code class="fe md me mf mg b">window.speechSynthesis.pause()</code>。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="4e24" class="nv mi it mg b gy ol om l on oo">document.querySelector("#pause").addEventListener("click", () =&gt; {<br/>  window.speechSynthesis.pause();<br/>});</span></pre><p id="ac8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简历:</p><p id="7666" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要恢复当前暂停的<code class="fe md me mf mg b">SpeechSynthesisUtterance</code>实例，我们可以使用<code class="fe md me mf mg b">window.speechSynthesis.resume()</code>。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="ed50" class="nv mi it mg b gy ol om l on oo">document.querySelector("#resume").addEventListener("click", () =&gt; {<br/>  window.speechSynthesis.resume();<br/>});</span></pre><p id="473a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">取消:</p><p id="47e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用<code class="fe md me mf mg b">window.speechSynthesis.cancel()</code>取消正在运行的<code class="fe md me mf mg b">SpeechSynthesisUtterance</code>实例。</p><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="9c8c" class="nv mi it mg b gy ol om l on oo">document.querySelector("#cancel").addEventListener("click", () =&gt; {<br/>  window.speechSynthesis.cancel();<br/>});</span></pre><p id="4b31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们完成了所有的控件，并且已经设置了所需的属性。所以，这里是<code class="fe md me mf mg b"> text-to-speech.js</code>的最终版本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="2f9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是浏览器屏幕上的最终输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/3e0ba33af66ba0ee78cd1f4f05f8b386.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gotI5jXHnEN5bn60e4YFYA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最终输出</p></figure><p id="5599" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，只需在<code class="fe md me mf mg b">textarea</code>中输入一些文本，然后点击开始按钮，听你刚刚写的单词。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt oh mg oi oj aw ok bi"><span id="4013" class="nv mi it mg b gy ol om l on oo"><strong class="mg iu">Want to Connect?</strong></span><span id="e7b2" class="nv mi it mg b gy or om l on oo">Connect with me on <a class="ae ky" href="https://www.linkedin.com/in/gouravkajal/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>.</span></pre><p id="cda5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>