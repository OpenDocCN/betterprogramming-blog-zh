<html>
<head>
<title>How to Set Up Tailwind CSS V2.0 With Next.js 10</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Next.js 10设置Tailwind CSS V2.0</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-set-up-tailwind-css-v2-0-with-next-js-10-4a82c8f8caaa?source=collection_archive---------6-----------------------#2020-12-14">https://betterprogramming.pub/how-to-set-up-tailwind-css-v2-0-with-next-js-10-4a82c8f8caaa?source=collection_archive---------6-----------------------#2020-12-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5c70" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在React项目中使用新的Tailwind CSS和Next.js</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c3861966ea7fa742e01fa358e4c8197a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ELGRITzowO0FpRIC"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@tbk_f?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> TJ K. </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="3f68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在2020年的最后几个月，发布了几个伟大的框架更新。首先是<a class="ae ky" href="https://nextjs.org/blog/next-10" rel="noopener ugc nofollow" target="_blank"> Next.js 10 </a>的发布，它有很多不错的特性，比如自动优化图像的新图像组件。</p><p id="174f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其次，在1.0发布18个月后，Tailwind团队发布了他们CSS框架的<a class="ae ky" href="https://blog.tailwindcss.com/tailwindcss-v2" rel="noopener ugc nofollow" target="_blank"> v2.0 </a>。这次新的更新包括很多改进，比如<a class="ae ky" href="https://blog.tailwindcss.com/tailwindcss-v2#all-new-color-palette" rel="noopener ugc nofollow" target="_blank">新的调色板</a>和<a class="ae ky" href="https://blog.tailwindcss.com/tailwindcss-v2#dark-mode" rel="noopener ugc nofollow" target="_blank">黑暗模式支持</a>。</p><p id="3054" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用最新版本的Next.js和Tailwind CSS是创建和设计web应用程序的一个非常强大的组合。让我们看一下建立新项目的步骤。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cd2f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">启动一个新的Next.js项目</h1><p id="b69c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">假设您已经安装了<a class="ae ky" href="https://classic.yarnpkg.com/en/docs/install/#mac-stable" rel="noopener ugc nofollow" target="_blank"> Yarn </a>，打开您的终端并运行项目文件夹中的<code class="fe mz na nb nc b">yarn create next-app</code>。</p><p id="f3e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将收到以下消息提示:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="9744" class="nh md it nc b gy ni nj l nk nl">What is your project named?</span></pre><p id="bd1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">填写一个名称，按enter键，然后等待，直到您的项目准备就绪。然后，键入<code class="fe mz na nb nc b">cd &lt;your-project-name&gt;</code>以确保您在可以运行<code class="fe mz na nb nc b">yarn dev</code>来启动开发服务器的目录中。现在，您应该已经启动并运行了新的Next.js 10项目。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="36e9" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装Tailwind及其依赖项</h1><p id="cf2a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Tailwind CSS是一个建立在<a class="ae ky" href="https://postcss.org/" rel="noopener ugc nofollow" target="_blank"> PostCSS </a>之上的插件，一个用JavaScript转换CSS的工具。v2.0已经更新为最新的PostCSS版本，该版本需要安装<code class="fe mz na nb nc b">postcss</code>和<code class="fe mz na nb nc b">autoprefixer</code>作为与Tailwind本身的对等依赖项。</p><p id="efc9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用npm或yarn添加Tailwind并安装PostCSS以及autoprefixer:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="e5f0" class="nh md it nc b gy ni nj l nk nl">yarn add tailwindcss postcss autoprefixer</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="44cb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建配置文件</h1><p id="aea6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们需要向应用程序的根目录添加一个<code class="fe mz na nb nc b">tailwind.config.js</code>和一个<code class="fe mz na nb nc b">postcss.config.js</code>文件。使用以下命令进行设置:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="ee16" class="nh md it nc b gy ni nj l nk nl">npx tailwindcss init -p</span></pre><p id="414e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将在项目的根目录下创建一个<code class="fe mz na nb nc b">tailwind.config.js</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="21b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://tailwindcss.com/docs/configuration" rel="noopener ugc nofollow" target="_blank">配置文档</a>中了解更多关于配置顺风的信息。</p><p id="374c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它还将创建一个包含已配置的<code class="fe mz na nb nc b">tailwindcss</code>和<code class="fe mz na nb nc b">autoprefixer</code>的<code class="fe mz na nb nc b">postcss.config.js</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d634" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">导入CSS</h1><p id="07d3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">让我们创建一个<code class="fe mz na nb nc b">styles</code>文件夹，从CSS文件中导入Tailwind CSS:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="236d" class="nh md it nc b gy ni nj l nk nl">touch styles/tailwind.css</span></pre><p id="79bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">内部<code class="fe mz na nb nc b">tailwind.css</code>:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="33c2" class="nh md it nc b gy ni nj l nk nl">@tailwind base;<br/>@tailwind components;<br/>@tailwind utilities;</span></pre><p id="5160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要将全局CSS添加到Next.js应用程序中，我们需要覆盖默认的<code class="fe mz na nb nc b">App</code>组件。在Next.js 10中，pages文件夹中应该已经有了<code class="fe mz na nb nc b">_app.js</code>。现在导入我们创建的样式表:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="da6f" class="nh md it nc b gy ni nj l nk nl">import '../styles/globals.css'<br/>import '../styles/tailwind.css';</span><span id="c873" class="nh md it nc b gy no nj l nk nl">export default function MyApp({ Component, pageProps }) {<br/>  return &lt;Component {...pageProps} /&gt;;<br/>}</span></pre><p id="cd5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">酷，现在我们准备给我们的主页添加一些CSS魔法。转到<code class="fe mz na nb nc b">/pages/index.js</code>(或者<code class="fe mz na nb nc b">/pages/index.tsx</code>如果你使用TypeScript)并用Tailwind CSS类添加一些元素。例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="12b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行<code class="fe mz na nb nc b">yarn dev</code>在浏览器中查看<a class="ae ky" href="https://localhost:4202/settings/departments" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>上的应用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="996b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">配置PurgeCSS</h1><p id="d1b6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">顺风CSS的一个问题是文件太大，但是<a class="ae ky" href="https://github.com/FullHuman/purgecss" rel="noopener ugc nofollow" target="_blank"> PurgeCSS </a>可以解决这个问题。PurgeCSS通过扫描HTML并删除任何不使用的类来减小文件大小。我们只希望在产品中这样做，因为如果我们正在开发，我们希望能够在不运行构建过程的情况下使用任何Tailwind CSS类。</p><p id="a37c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在有了Tailwind CSS v2，PurgeCSS已经包含在内了。你所要做的就是更新<code class="fe mz na nb nc b">tailwind.config.js</code>文件，这样Tailwind就可以在产品构建中对未使用的样式进行树抖动。像这样更新您的文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="2dad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们检查位于<code class="fe mz na nb nc b">pages/</code>或<code class="fe mz na nb nc b">components/</code>文件夹中的<code class="fe mz na nb nc b">.js, .jsx, .ts or .tsx</code>文件中的所有代码。如果您计划将HTML添加到其他文件夹中，如<code class="fe mz na nb nc b">containers/</code>或其他文件夹，请确保将该文件夹添加到此配置文件中。</p><p id="29a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以阅读Tailwind关于<a class="ae ky" href="https://tailwindcss.com/docs/optimizing-for-production" rel="noopener ugc nofollow" target="_blank">优化生产</a>的指南，了解更多关于树摇动未使用的样式以获得最佳性能的信息。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6371" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="fafc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在我们已经准备好使用最新版本的Next.js和Tailwind CSS，而不必担心包的大小！</p><p id="fdfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！感谢阅读。我希望它有帮助。</p></div></div>    
</body>
</html>