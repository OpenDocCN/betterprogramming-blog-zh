<html>
<head>
<title>6 More Unique Linux Utilities You Forgot About</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你忘记的6个独特的Linux实用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/6-more-unique-linux-utilities-you-forgot-about-1215ac0c58da?source=collection_archive---------2-----------------------#2022-12-01">https://betterprogramming.pub/6-more-unique-linux-utilities-you-forgot-about-1215ac0c58da?source=collection_archive---------2-----------------------#2022-12-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c999" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">再次到/usr/bin的深处</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e1bdd57acda1ba2d19581a0b3d8bbcfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*brA9UH0hT9pE5hvTNxqiGw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@lukash?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卢卡斯</a>在<a class="ae ky" href="https://unsplash.com/s/photos/linux?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="350a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们以前曾经掉进过Linux二进制兔子洞，现在我们将再次踏上旅程。在这篇文章中，我们将更深入地挖掘<code class="fe lv lw lx ly b">/usr/bin</code>的黑暗角落，揭开一些更有趣的宝石。我们将探索一些独特而有趣的程序，这些程序乍一看似乎过时了，但实际上今天仍然非常有用。</p><p id="2f5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们戴上探险家的帽子，去发现Linux为我们提供的更多精彩的东西。</p><h1 id="6861" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">1.折叠</h1><p id="0ce1" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">首先是一个非常简洁的小工具，它将帮助您将输入行换行到特定的长度。长度可以用字节或空格来定义。使用<code class="fe lv lw lx ly b">fold</code>实用程序，您可以快速驯服具有不同运行长度的文件。</p><p id="eef0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，假设我们有一个六个字符长的输入行。我们希望将每行限制在五个字符以内，并换行。使用<code class="fe lv lw lx ly b">fold</code>,我们可以通过下面的命令来实现:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="611b" class="na ma it ly b be nb nc l nd ne">echo "123456" | fold -w 5</span></pre><p id="8d40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相应的输出应该是:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="e556" class="na ma it ly b be nb nc l nf ne">12345<br/>6</span></pre><p id="0577" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们可以快速强制一些文本符合我们的长度限制。如果您想分解很长的文本流，或者对代码或其他配置文件实施行长度限制，这确实很方便。</p><p id="8e26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看<a class="ae ky" href="https://en.wikipedia.org/wiki/Fold_(Unix)" rel="noopener ugc nofollow" target="_blank"> wiki </a>了解更多关于使用<code class="fe lv lw lx ly b">fold</code>的细节。</p><h1 id="eda0" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">2.圆柱</h1><p id="bfa6" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">这是另一个超级有用的格式化工具。<code class="fe lv lw lx ly b">column</code>实用程序帮助您在文本输出中创建列，甚至生成整个表格，所有这些都可以从命令行完成。</p><p id="791b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用像<code class="fe lv lw lx ly b">awk</code>这样的实用程序还有其他方法来实现同样的事情，但是<code class="fe lv lw lx ly b">column</code>实用程序是针对这种特定用途的，所以使用起来非常简单，记住语法。</p><p id="bd88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想基于几行输入构建一个简单的表，我们可以执行以下命令:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="e03e" class="na ma it ly b be nb nc l nd ne">echo -e "one two three\n1 2 3\n111111 222222 333322" | column -t</span></pre><p id="a8be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该命令的输出应该如下所示:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="0025" class="na ma it ly b be nb nc l nf ne">one     two     three<br/>1       2       3<br/>111111  222222  333322</span></pre><p id="6821" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，输出被自动格式化成整齐对齐的列。这在输出中形成了一个小表，并会根据每个输入行的长度自动调整大小。</p><p id="2985" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在命令行上处理稍微长一点的非结构化数据集，并且希望快速实现一些表格顺序，那么这个实用程序是一个救星。</p><p id="0b2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">column</code>的<a class="ae ky" href="https://man7.org/linux/man-pages/man1/column.1.html" rel="noopener ugc nofollow" target="_blank">手册页</a>有更多的使用细节和处理不同输入的独特方法。</p><h1 id="91a4" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">3.医务主任</h1><p id="0aac" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">您可能听说过<code class="fe lv lw lx ly b">newgrp</code>命令。这个命令像其他组一样执行命令，但是有一个更简单的实用程序可以完成同样的事情。<code class="fe lv lw lx ly b">sg</code>实用程序允许您使用您指定的另一个组的权限直接执行命令。您不需要通过管道传输任何东西或者改变您现有的shell组，您只需要指定一个组和一个命令。</p><p id="af54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要执行来自<code class="fe lv lw lx ly b">admin</code>组的<code class="fe lv lw lx ly b">ls</code>，您需要传递以下内容:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="5c85" class="na ma it ly b be nb nc l nd ne">sg admin ls</span></pre><p id="a2ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将使用<code class="fe lv lw lx ly b">admin</code>组的权限切换<code class="fe lv lw lx ly b">ls</code>命令运行。一旦命令退出，您将返回到执行前的正常组权限。</p><p id="140c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">sg</code>命令有助于测试新的组权限或快速切换上下文以运行另一个组的程序。</p><p id="d19c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看<a class="ae ky" href="https://man7.org/linux/man-pages/man1/sg.1.html" rel="noopener ugc nofollow" target="_blank">手册页</a>了解更多使用信息。</p><h1 id="ab81" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">4.xxd</h1><p id="e6d0" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated"><code class="fe lv lw lx ly b">xxd</code>实用程序是在Linux上执行十六进制转储的众多方法之一。有许多实用程序具有类似的功能，但是<code class="fe lv lw lx ly b">xxd</code>程序略有不同。额外的好处是您可以转储和恢复十六进制使用这个工具。还有许多可配置的标志，您也可以对二进制文件进行修补。</p><p id="087b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们假设我们想要对以下名为<code class="fe lv lw lx ly b">foo</code>的文件进行十六进制转储:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="f558" class="na ma it ly b be nb nc l nf ne">1234<br/>5678</span></pre><p id="2e4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们所要做的就是提供输入，<code class="fe lv lw lx ly b">xxd</code>会自动将文件编码到<code class="fe lv lw lx ly b">stdout</code>(默认情况下，对于较短的输入文件，这是一个方便的特性):</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="3ab1" class="na ma it ly b be nb nc l nd ne">xxd foo<br/><br/>00000000: 3132 3334 0a35 3637 380a                 1234.5678.</span></pre><p id="83eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以通过传递附加的文件名参数直接输出到转储文件:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="c01f" class="na ma it ly b be nb nc l nd ne">xxd foo bar</span></pre><p id="015a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将把十六进制转储发送到标题为<code class="fe lv lw lx ly b">bar</code>的文件中。</p><p id="2891" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此处可获得<code class="fe lv lw lx ly b">xxd</code>的<a class="ae ky" href="https://linux.die.net/man/1/xxd" rel="noopener ugc nofollow" target="_blank">手册页。</a></p><h1 id="649f" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">5.pwdx</h1><p id="7e8a" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">这个方便的小工具与我们都知道并喜爱的古老的<code class="fe lv lw lx ly b">ps</code>工具来自同一个家族。<code class="fe lv lw lx ly b">pwdx</code>实用程序将允许您获取正在运行的进程的当前工作目录。你需要做的就是把PID传给它，然后它会告诉你这个进程从哪里开始工作。</p><p id="b92a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们想找出<code class="fe lv lw lx ly b">cron</code>进程在我们机器上的工作位置。首先，我们只需要通过使用<code class="fe lv lw lx ly b">ps</code>搜索PID来计算它，如下所示:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="f422" class="na ma it ly b be nb nc l nd ne">ps aux | grep cron<br/><br/>&gt; root   612  0.0  0.0   7260  2708 ?  Ss   May06   0:11 /usr/sbin/cron -f</span></pre><p id="b0db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们可以看到<code class="fe lv lw lx ly b">cron</code>的PID是<code class="fe lv lw lx ly b">612</code>。现在我们需要做的就是确定该进程的工作目录，将它传递给<code class="fe lv lw lx ly b">pwdx</code>,如下所示:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="daec" class="na ma it ly b be nb nc l nd ne">sudo pwdx 612<br/><br/>&gt; 612: /var/spool/cron</span></pre><p id="eee3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于<code class="fe lv lw lx ly b">cron</code>是一个系统进程，您必须<code class="fe lv lw lx ly b">sudo</code>才能获得关于它的信息。一旦命令完成，我们就剩下当前的工作目录<code class="fe lv lw lx ly b">cron</code>，也就是<code class="fe lv lw lx ly b">/var/spool/cron</code>。</p><p id="0bce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可能是一个非常有价值的故障排除工具，尤其是在您追踪目录范围问题的时候。用<code class="fe lv lw lx ly b">pwdx</code>快速检查一下，你就可以精确地计算出进程<em class="ng">认为</em>应该从哪里运行。</p><p id="cd99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击查看<code class="fe lv lw lx ly b">pwdx</code>和<a class="ae ky" href="https://linux.die.net/man/1/pwdx" rel="noopener ugc nofollow" target="_blank">的手册页。</a></p><h1 id="6777" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">6.写</h1><p id="753e" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">这个强大的小程序可能不像你第一眼看到的那样。它在Linux中已经存在了几十年，甚至可以追溯到1975年的Unix版本6。</p><p id="56d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">write</code>实用程序实际上允许您向同一系统上的其他用户发送消息。您可以锁定任何其他登录用户，并向他们发送消息。提供一个用户名，然后你就会进入一个交互式的shell，你可以写任何你想写的内容。您键入的所有内容(包括换行符)都将出现在目标用户的控制台上。</p><p id="d586" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个简单的例子:</p><pre class="kj kk kl km gt mw ly mx bn my mz bi"><span id="82ac" class="na ma it ly b be nb nc l nd ne">write &lt;username&gt;</span></pre><p id="b2dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将使您进入一个交互式控制台，向相应的用户发送消息。请记住，这是一种颇具侵犯性的向其他用户发送消息的方式。他们将立即开始接收您在他们的控制台上输入的文本。不会有任何警告或提示让他们接受它。看起来好像他们的终端闹鬼了。他们也将无法回复，因为这是单向通信。</p><p id="60ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管现在有更好的方法来处理用户间的消息传递，但这只是一段计算历史。我确信今天它仍然有一些创造性的(和邪恶的)用途。</p><p id="5828" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击查看官方<a class="ae ky" href="https://linux.die.net/man/1/write" rel="noopener ugc nofollow" target="_blank">手册页。</a></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="118a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！如果你喜欢这篇文章，看看我的其他帖子:</p><ul class=""><li id="7fa3" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/5-python-modules-that-make-building-apis-easier-a8d39911f6a8"> <em class="ng"> 5个让构建API更简单的Python模块</em> </a></li><li id="b8c1" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/clean-up-your-kubernetes-deployments-using-ansible-10a000db313b"> <em class="ng">使用Ansible </em> </a>清理您的Kubernetes部署</li></ul></div></div>    
</body>
</html>