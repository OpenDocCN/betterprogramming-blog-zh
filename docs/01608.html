<html>
<head>
<title>Designing for Dark Mode on iOS 13</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在iOS 13上设计黑暗模式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/designing-for-dark-mode-on-ios-13-fc17a0940639?source=collection_archive---------2-----------------------#2019-09-28">https://betterprogramming.pub/designing-for-dark-mode-on-ios-13-fc17a0940639?source=collection_archive---------2-----------------------#2019-09-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="38e0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我如何用三个简单的步骤实现黑暗模式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/89bfe079d272b618ddd83c58548a32ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4UjbwcQrbEFWYfXPNY_UFQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GPA监控应用程序</p></figure><p id="f8fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">黑暗模式终于在iOS 13中到来了。作为一个熬夜的夜猫子，我发现黑暗模式不仅对眼睛有吸引力，而且对大脑有舒缓作用。苹果已经提供了详细的文档。我将尝试以第一人称的视角通过一个例子进行补充，而不是照搬官方文档。我希望它能让你更容易过渡到黑暗模式。</p><p id="23d8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">很多年前我建了一个<a class="ae lu" href="https://apps.apple.com/us/app/gpa-master-a-gpa-calculator/id1480981622?ls=1" rel="noopener ugc nofollow" target="_blank"> GPA计算器应用</a>。它最初是为纽约大学(我的<em class="lv">母校</em>)设计的，但我最近将该应用程序改编为通用应用，具有可定制的壁纸和评级尺度(常规、荣誉、AP)。如果你在高中或者大学，千万不要错过这个app！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="e746" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">第一步:检查你的应用程序</h1><p id="d81f" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">要开始使用，你需要升级到Xcode 11，并在模拟器中开启黑暗模式(需要iOS 13)。第一次启动黑暗模式的时候，你会注意到很多UI控件，包括UI开关，标签栏，导航栏，都会自动适应。然而，一些组件将会彻底失败。以下截图显示了一些问题:</p><ul class=""><li id="c002" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt nf ng nh ni bi translated"><em class="lv">左</em>:表格视图完全不适应黑暗模式；背景还是白色；文字颜色也不对。</li><li id="7f3f" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated"><em class="lv">中间</em>:表格视图背景错误；标签文本不可读；导航栏与其他控制器不一致。</li><li id="fbeb" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated"><em class="lv">右</em>:整体外观太暗；文字难以辨认。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/8fcff02ec5e05b17ac37f5a90f03b9cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cB4QpElDZYz5_BejxK4Fjg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">筛选有问题的视图和UI控件</p></figure><p id="6daf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">列出所有需要修复的有问题的视图。视图层次调试器是一个很好的工具，可以准确地从重叠的视图中识别出颜色错误的视图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/5c08551d667055ef298219fbc86cc3b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lxcztm7OF0EKiBDCQ61TeQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用视图层次结构调试器查找有问题的视图</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="1d0c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">第二步:使用系统语义颜色</h1><p id="9f59" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">除非你有一个全职的UI设计师，并微调每个UI控件的十六进制颜色代码，否则你最好使用自动调整明暗模式的<a class="ae lu" href="https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/color/" rel="noopener ugc nofollow" target="_blank">系统语义颜色</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/daf497c0566ede1eb3271ecb3d7fb2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fc-i9kNiKzUSzE4QBl9sHw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae lu" href="https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/color/" rel="noopener ugc nofollow" target="_blank"> <em class="nr">人机界面指南—颜色</em> </a></p></figure><p id="4cf6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于简单的应用程序，最好在故事板中选择颜色，而不是在控制器中编码(以避免兼容性警告)。首先，我简单地将所有标签、文本字段、文本视图、表格、容器视图的颜色和背景色切换为默认的语义颜色。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="dc0f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">第三步:微调细节</h1><p id="b355" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">通过利用语义颜色，苹果已经为你的转变做了大部分的繁重工作。</p><p id="e84a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，<em class="lv">你仍然需要在黑暗和光明模式下检查每个控制器，以避免意外</em>。</p><p id="f524" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，在轻量模式下可能会出现新的问题。例如，GPA标签在深色模式下自动调整为浅色，在浅色模式下自动调整为深色。不幸的是，在光线模式下，它是不清晰的。所以它的颜色必须明确定义。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/81e098f8a8e60cb2a045bd2349c23742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m0_1Ur8Yh3ExPjEGXTHHVw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">微调细节</p></figure><p id="1a3d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了系统颜色，您还可以在资产目录中定义自己的颜色(<em class="lv"> Assets.xsassets </em>)。只需创建一个新的颜色集，您就可以为亮模式和暗模式定义不同的色调。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/15dd3f4432bd72ebc22f3efa1cdba26a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QoVM2frGMLRKVxCCAN8p3w.png"/></div></div></figure><p id="aecf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，您可以在故事板的任何地方应用自定义颜色，或者以编程方式调用自定义颜色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/61d9e255f27b0e49995c1af1f28036e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gb-REaJlY8f9jv5NGWXsEw.png"/></div></div></figure><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="0328" class="nz me it nv b gy oa ob l oc od">// swift<br/>let themeColor = UIColor(named: "themeColor")</span><span id="feb0" class="nz me it nv b gy oe ob l oc od">// objective C<br/>UIColor themeColor = [UIColor colorNamed:@"themeColor"];</span></pre><p id="f099" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意，系统语义颜色适用于iOS13。资产目录颜色集从iOS 11开始提供。为了最大化向后兼容性，我们每次都需要检查iOS版本。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="eabd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我的应用足够简单，所以这三个步骤绰绰有余。对于更复杂的应用程序，您可能还需要检查以下内容:</p><ul class=""><li id="8d4e" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt nf ng nh ni bi translated">在UI控件和导航栏中使用一致的文本颜色、背景颜色和色调。</li><li id="c020" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated">不要全押iOS 13。你的app应该还是向后兼容iOS 11的(到【2019年8月，95%的iOS设备使用iOS 11或更高版本)。</li><li id="8069" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated">在真实设备上测试。我发现真实设备比模拟器更能容忍易读性问题。</li><li id="aecd" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated">支持iPad分屏多任务。</li><li id="5362" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated">在App Store中将黑暗模式截图添加到您的应用程序页面。</li></ul></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="628c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="33f1" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">我是一名iOS爱好者，努力保持最新状态。如果您注意到任何可以改进的地方，请留下评论或意见让我知道！在接触你自己的应用程序之前，这里有一些你必须观看的视频:</p><ul class=""><li id="1725" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt nf ng nh ni bi translated">关于颜色层次和材料的演示，请参见WWDC 2019 <a class="ae lu" href="https://developer.apple.com/videos/play/wwdc2019/214/" rel="noopener ugc nofollow" target="_blank">在iOS </a>上实现黑暗模式。</li><li id="3068" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated">参见WWDC 2019 <a class="ae lu" href="https://developer.apple.com/videos/play/wwdc2019/224/" rel="noopener ugc nofollow" target="_blank">为iOS 13 </a>实现用户界面的现代化，了解新手势、演示和灵活的用户界面设计的演示。</li></ul></div></div>    
</body>
</html>