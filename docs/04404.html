<html>
<head>
<title>How to Use URL Parameters and Query Strings With React Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React路由器中使用URL参数和查询字符串</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/using-url-parameters-and-query-strings-with-react-router-fffdcea7a8e9?source=collection_archive---------0-----------------------#2020-04-11">https://betterprogramming.pub/using-url-parameters-and-query-strings-with-react-router-fffdcea7a8e9?source=collection_archive---------0-----------------------#2020-04-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="df2c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让您的用户去他们要去的地方</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/610fb05fdcca6900af912f3079b5a6b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Noh02utjZsHzrToL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马特·邓肯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="db28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">React是一个用于创建前端视图的库。它有一个庞大的图书馆生态系统与之合作。此外，我们可以用它来增强现有的应用程序。</p><p id="b150" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要构建单页面应用程序，我们必须有某种方法将URL映射到React组件来显示。</p><p id="04fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将研究如何在React路由器路由中访问URL参数。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="969c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">定义接受URL参数的路由，并获取它们</h1><p id="47a4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为了定义一个带有将<code class="fe mz na nb nc b">id</code>作为参数的<code class="fe mz na nb nc b">path</code>的<code class="fe mz na nb nc b">Route</code>,我们可以在参数名前加一个冒号。</p><p id="1d30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以写:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="d76b" class="nh md it nc b gy ni nj l nk nl">&lt;Switch&gt;<br/>    &lt;Route path="/:id" children={&lt;User /&gt;} /&gt;<br/>&lt;/Switch&gt;</span></pre><p id="f160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们可以使用<code class="fe mz na nb nc b">useParams</code>钩子来获取URL参数。</p><p id="4e77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以写一个完整的例子如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="729c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们将<code class="fe mz na nb nc b">App</code>中的<code class="fe mz na nb nc b">Switch</code>组件和里面的<code class="fe mz na nb nc b">Route</code>作为子组件。<code class="fe mz na nb nc b">path</code> prop被设置为<code class="fe mz na nb nc b">/:id</code>，这意味着我们稍后可以使用<code class="fe mz na nb nc b">useParams</code>钩子来获取route参数。</p><p id="534e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后在<code class="fe mz na nb nc b">children</code> prop中，我们传入我们想要显示的<code class="fe mz na nb nc b">User</code>组件。</p><p id="87df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我们还添加了带有链接的<code class="fe mz na nb nc b">Link</code>组件，我们可以单击这些链接转到带有<code class="fe mz na nb nc b">to</code>属性中给定URL参数的URL。</p><p id="d515" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后在<code class="fe mz na nb nc b">User</code>组件中，我们用<code class="fe mz na nb nc b">useParams</code>钩子从URL参数中获取<code class="fe mz na nb nc b">id</code>。</p><p id="68c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们在<code class="fe mz na nb nc b">User</code>路线中显示<code class="fe mz na nb nc b">id</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/d00eb2811794fd92eda6f58c45bc14e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mg0yI1JYyLjhtF79"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔治·希尔斯在Unsplash上的照片</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ad46" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">获取和设置查询字符串</h1><p id="5207" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们可以在组件中定义并使用一个<code class="fe mz na nb nc b">useQuery</code>钩子来获取查询参数。要传入查询参数，我们只需像往常一样将它们添加到<code class="fe mz na nb nc b">Link</code> s <code class="fe mz na nb nc b">to</code>道具中。</p><p id="29ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以这样写:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="bda2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们首先定义了<code class="fe mz na nb nc b">useQuery</code>钩子，通过<code class="fe mz na nb nc b">URLSearchParams</code>构造函数获取URL的查询参数。我们得到了<code class="fe mz na nb nc b">useLocation()</code>的<code class="fe mz na nb nc b">search</code>财产。</p><p id="527b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们创建一个<code class="fe mz na nb nc b">QueryScreen</code>组件来调用<code class="fe mz na nb nc b">useQuery()</code>，并获得分配给<code class="fe mz na nb nc b">query</code>的<code class="fe mz na nb nc b">URLSearchParams</code>实例。在这里，我们可以使用<code class="fe mz na nb nc b">query</code>通过调用传入了<code class="fe mz na nb nc b">'name'</code>的<code class="fe mz na nb nc b">get</code>来获取<code class="fe mz na nb nc b">name</code>查询参数。</p><p id="cbfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们将<code class="fe mz na nb nc b">query.get(“name” )</code>返回的值作为道具传递给<code class="fe mz na nb nc b">User</code>组件，并显示在那里。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bbd4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="cc67" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们可以使用<code class="fe mz na nb nc b">useParams</code>钩子来获取在<code class="fe mz na nb nc b">Route</code> s中定义的URL参数。</p><p id="623f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在<code class="fe mz na nb nc b">Route</code>中接受URL参数，方法是在<code class="fe mz na nb nc b">path</code>参数中的参数名前加一个冒号，就像<code class="fe mz na nb nc b">path=”/:id”</code>一样。</p><p id="6f6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要在路径中添加查询字符串，我们只需将它直接追加到路径中。</p><p id="e9d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们可以将查询字符串转换成一个<code class="fe mz na nb nc b">URLSearchParams</code>实例，并且我们可以使用它的<code class="fe mz na nb nc b">search</code>属性来获取查询字符串。</p><p id="11c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们可以使用带有键名的<code class="fe mz na nb nc b">get</code>方法来获取值。</p></div></div>    
</body>
</html>