<html>
<head>
<title>Consolidate Your TypeScript Imports With index.ts Files</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用index.ts文件合并您的TypeScript导入</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/consolidate-your-typescript-imports-with-index-ts-files-cee934c665a7?source=collection_archive---------2-----------------------#2022-10-04">https://betterprogramming.pub/consolidate-your-typescript-imports-with-index-ts-files-cee934c665a7?source=collection_archive---------2-----------------------#2022-10-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dcfd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这一有用功能的简要指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/140a9c2117ef00f8438203a6a9f1873d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IvnfhQN5ttg7XLK55j_tEw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://stock.adobe.com/contributor/206854500/nuthawut?load_type=author&amp;prev_url=detail" rel="noopener ugc nofollow" target="_blank">纳特伍</a></p></figure><p id="57f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想分享我在TypeScript项目中使用的一种有用的技术，以合并导入并使我的代码库更容易阅读。它涉及到用<code class="fe lv lw lx ly b">index.ts</code>文件重新导出目录中的模块。通过一个<code class="fe lv lw lx ly b">index.ts</code>文件导出允许其他模块在一个单独的import语句中直接导入所有内容。</p><p id="2581" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们来看一个简单的app例子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/bf38d896d3ac562824290b37c251e7ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*4hSy8SEM24QZZE1Tiuh0Yg.png"/></div></figure><p id="5ccd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">message.ts</code>和<code class="fe lv lw lx ly b">user.ts</code>都导出了server.ts文件中使用的函数。</p><h2 id="fda5" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr ms bi translated">user.ts</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="1fae" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr ms bi translated">message.ts</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="34ff" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr ms bi translated">server.ts</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="b0a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">server.ts</code>内部，我需要两个导入行来获得两个功能。为了简化导入，向components文件夹添加一个<code class="fe lv lw lx ly b">index.ts</code>文件，并重新导出其中包含的文件内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/c38b1c28df02315c4e64703ea19bef9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*pmkPskQOgdxJjPuFINN6qg.png"/></div></figure><h2 id="6b72" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr ms bi translated">index.ts</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="3783" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">导入模块时，TypeScript最初会查找一个<code class="fe lv lw lx ly b">index.ts</code>文件。如果找不到，它将寻找一个具有指定ie名称的文件。消息或用户。</p><p id="0576" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了一个<code class="fe lv lw lx ly b">index.ts</code>文件，就可以将<code class="fe lv lw lx ly b">server.ts</code>文件中的导入合并到一个导入行中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="4fc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">甚至一个简化的例子也显示了两个版本之间可读性的提高。</p><h1 id="df04" class="mv mb it bd mc mw mx my mf mz na nb mi jz nc ka ml kc nd kd mo kf ne kg mr nf bi translated">应用增长</h1><p id="9454" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">这种技术的另一个好处是它可以自动处理新的导出。假设我向我的<code class="fe lv lw lx ly b">user.ts</code>文件添加了另一个函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="937b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了新函数，我不必对我的<code class="fe lv lw lx ly b">index.ts</code>文件做任何修改。<code class="fe lv lw lx ly b">users.ts</code>中的所有内容都已被导出。现在，我只需要在我的<code class="fe lv lw lx ly b">server.ts</code>文件中指定导入。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h2 id="2972" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr ms bi translated">申报文件</h2><p id="c1af" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">如果您有一个包含文件的文件夹，那么您可以利用相同的设计模式，只需做一处修改。使用<code class="fe lv lw lx ly b">index.d.ts</code>文件代替<code class="fe lv lw lx ly b">index.ts</code>文件。</p><p id="ce41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以将<code class="fe lv lw lx ly b">index.ts</code>用于您的声明文件，但是当您将项目转换为JavaScript时，它们将被包含在内。理想情况下，你把没有目的的文件放在外面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/5c794fb71fee20443685ac64fdc478e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*4P36amI7ntUIkt2rSZIjgw.png"/></div></figure><h2 id="5eb9" class="ma mb it bd mc md me dn mf mg mh dp mi li mj mk ml lm mm mn mo lq mp mq mr ms bi translated">缺点</h2><p id="dfdd" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">从经验上讲，在代码库已经存在一段时间之后，这是一个痛苦的设计模式。如果可以，我会在项目开始时采用这种技术。</p><p id="280a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，这种技术将增加项目中的文件数量。根据我的经验，简化导入路径的好处超过了额外文件的成本。</p><h1 id="a813" class="mv mb it bd mc mw mx my mf mz na nb mi jz nc ka ml kc nd kd mo kf ne kg mr nf bi translated">包扎</h1><p id="9cb1" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">index.ts</code>文件合并导入是提高代码库可读性的一个好方法。这是我在过去几年中开发的所有大中型代码库中的一个重要工具。</p></div></div>    
</body>
</html>