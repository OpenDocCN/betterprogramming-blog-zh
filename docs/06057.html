<html>
<head>
<title>Automate the Publishing Process of Your Podcast With GitHub Actions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GitHub操作自动发布您的播客</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/youtube-to-anchor-fm-a-github-action-to-automate-the-publishing-process-of-your-podcast-1dbb0fc90560?source=collection_archive---------0-----------------------#2020-08-30">https://betterprogramming.pub/youtube-to-anchor-fm-a-github-action-to-automate-the-publishing-process-of-your-podcast-1dbb0fc90560?source=collection_archive---------0-----------------------#2020-08-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d87c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">将您的播客从YouTube发送到Anchor.fm</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ada395de0e719f4a02b21934f91dabc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TzZJST1i2o7c06o1BCoFIg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">存储库封面图像</p></figure><h1 id="e827" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">背景</h1><p id="464f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">隔离期间，我和几个朋友在YouTube上开了一个意大利科技直播节目，在Spotify和Anchor.fm上开了一个播客。这个节目叫做薛定谔的帽子。</p><p id="cb58" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我们很喜欢在网上创建这些内容，但是我们遇到了一些技术问题。其中一些是小问题，我们在那段时间很容易解决，但接下来是大问题。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="69f5" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">问题</h1><p id="11b5" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我们在将音频文件从YouTube上传到Anchor.fm时遇到了一些问题，因为这个操作需要时间，一个转换工具，你知道，在2020年，没有人有太多的时间。</p><p id="f944" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我们开始思考。我们搜索了一些Anchor.fm APIs，但什么也没找到，直到发生了以下对话:</p><blockquote class="na nb nc"><p id="6929" class="ln lo nd lp b lq mj jr ls lt mk ju lv ne ml ly lz nf mm mc md ng mn mg mh mi ij bi translated">"我们应该创建一个私有的Anchor.fm API吗？"</p><p id="99c3" class="ln lo nd lp b lq mj jr ls lt mk ju lv ne ml ly lz nf mm mc md ng mn mg mh mi ij bi translated">“嗯，我听说了一些关于Github Actions的事情，也许我们可以通过使用它来自动化整个过程”</p><p id="f2f5" class="ln lo nd lp b lq mj jr ls lt mk ju lv ne ml ly lz nf mm mc md ng mn mg mh mi ij bi translated">“闭嘴，让我们开始编码。”</p></blockquote></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="a72d" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">解决方案</h1><p id="3a3c" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我们通过Github管理整个播客项目，通过Github操作，您可以在您的存储库中自动化、定制和执行您的软件开发工作流。</p><p id="a3ee" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">我们开发了一个Github Action，可以在<a class="ae nh" href="https://github.com/marketplace/actions/upload-episode-from-youtube-to-anchor-fm" rel="noopener ugc nofollow" target="_blank"> Github Action Marketplace上找到，</a>它可以自动完成从YouTube到Anchor.fm的整个发布过程。</p><div class="ni nj gp gr nk nl"><a href="https://github.com/Schrodinger-Hat/youtube-to-anchorfm" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd ir gy z fp nq fr fs nr fu fw ip bi translated">薛定谔帽/youtube到主播fm</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">此操作会将给定youtube视频中的音频文件自动上传到您的Anchor.fm帐户。这是非常…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">github.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz kp nl"/></div></div></a></div><p id="b244" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">工作流程和操作都是免费的，在麻省理工学院的许可下是开源的。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="bf11" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">它是如何工作的</h1><p id="1ce2" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">Github动作正在使用<code class="fe oa ob oc od b">youtube-dl</code>库和<code class="fe oa ob oc od b">puppeteer</code>。第一个是<code class="fe oa ob oc od b">npm</code>模块，用于从YouTube下载视频/音频，同时Puppeteer会将生成的文件上传到Anchor.fm仪表盘(通过登录)。</p><p id="389d" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">每次您对<code class="fe oa ob oc od b">episode.json</code>文件进行更改时，该操作都会启动。您需要指定视频的Youtube ID。该操作使用基于ubuntu 18.04构建的Docker映像。设置环境需要一些时间(安装依赖项和chromium-browser)。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="b60b" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">怎么用？</h1><p id="5eb9" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">您可以从<a class="ae nh" href="https://github.com/marketplace/actions/upload-episode-from-youtube-to-anchor-fm" rel="noopener ugc nofollow" target="_blank"> Github动作市场</a>使用此动作的最新版本。在你的存储库根目录下，你应该添加一个包含你的Youtube视频ID的<code class="fe oa ob oc od b">episode.json</code>文件，例如:</p><pre class="kg kh ki kj gt oe od of og aw oh bi"><span id="d462" class="oi kw iq od b gy oj ok l ol om">{<br/>  "id": "nHCXZC2InAA"<br/>}</span></pre><p id="805f" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated">然后你可以在<code class="fe oa ob oc od b">.github/workflows</code>目录下为这个YAML文件添加:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="10a6" class="pw-post-body-paragraph ln lo iq lp b lq mj jr ls lt mk ju lv lw ml ly lz ma mm mc md me mn mg mh mi ij bi translated"><strong class="lp ir">注意</strong>:您需要设置<code class="fe oa ob oc od b"><em class="nd">ANCHOR_EMAIL</em></code>和<code class="fe oa ob oc od b"><em class="nd">ANCHOR_PASSWORD</em></code>的密码。这些环境变量是强制性的，因为它们指定了登录帐户。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="4e46" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated"><em class="op">一点工作流程解释</em></h1><p id="df3b" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">上面的工作流程是这样的:“每次你在episode.json文件上推送一些更改，它都会用你的Anchor.fm帐户(在你的secrets中指定)设置“YouTube to Anchor.fm”操作，该操作会下载指定的YouTube视频，将其转换为音频文件(最佳质量)并上传到你的Anchor.fm帐户</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="705e" class="kv kw iq bd kx ky mv la lb lc mw le lf jw mx jx lh jz my ka lj kc mz kd ll lm bi translated">结论</h1><p id="21c0" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我们喜欢在Github Actions上构建这个动作，它节省了我们大量的时间。我们希望这将帮助其他使用相同平台的创作者。我建议Anchor.fm制作一些公共API，允许开发者推送音频文件，并更好地管理整个发布过程。</p></div></div>    
</body>
</html>