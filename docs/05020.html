<html>
<head>
<title>How to Build a To-Do List With React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用React建立待办事项列表</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-a-todo-list-with-react-d2d5dd9f6630?source=collection_archive---------7-----------------------#2020-06-01">https://betterprogramming.pub/how-to-build-a-todo-list-with-react-d2d5dd9f6630?source=collection_archive---------7-----------------------#2020-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d254" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">反应101</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/fe0c3aae0ff44e4ad6216631ba8fed44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/0*6sLpKNZ667gsI4qD"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">图片来源:作者</p></figure><p id="241e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">发表在我的<a class="ae ln" href="https://blog.uchechukwunwafor.codes/" rel="noopener ugc nofollow" target="_blank">博客</a>上的原创文章</p><h1 id="e6e3" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">更新</h1><blockquote class="mg mh mi"><p id="d3b7" class="kr ks mj kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">本文最初是使用React的基于类的组件发布的。但是考虑到基于功能的组件现在是标准，我将提供功能等同于带有<code class="fe mn mo mp mq b">useState</code> <a class="ae ln" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank"> React钩子</a>的<code class="fe mn mo mp mq b">App</code>组件。尽情享受吧！😊</p></blockquote><h1 id="12a0" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">介绍</h1><p id="f85e" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">在掌握React Js的基础知识之后，构建一个待办事项列表应用程序是挑战自己的一个好方法。这是一个入门项目，有助于巩固基本概念，如状态、组件、虚拟DOM等等。</p><p id="0667" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将指导你创建一个简单的待办事项应用程序，并鼓励你在它的基础上添加任何你喜欢的功能。在我们开始之前，有几件事你必须知道:</p><ul class=""><li id="cefc" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nb nc nd ne bi translated">除了那些由<code class="fe mn mo mp mq b">create-react-app</code>提供的，所有的功能组件或函数都将被写成箭头函数。</li><li id="0c44" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">要理解这篇文章，您需要了解React的基础知识。(你可以查看React文档。)</li><li id="680b" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">本文不涉及部署待办事项应用程序。</li></ul><p id="8efa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于那些想看看真实代码的人来说，<a class="ae ln" href="https://github.com/caspero-62/to-do-list-demo-for-article" rel="noopener ugc nofollow" target="_blank">这里有链接</a>到那里。</p><p id="ee00" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您也可以点击访问<a class="ae ln" href="https://caspero-62.github.io/to-do-list/" rel="noopener ugc nofollow" target="_blank"> live应用程序。</a></p><h2 id="7445" class="nk lp iq bd lq nl nm dn lu nn no dp ly la np nq ma le nr ns mc li nt nu me nv bi translated">更新</h2><blockquote class="mg mh mi"><p id="55ff" class="kr ks mj kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">此应用的功能组件版本的<a class="ae ln" href="https://github.com/caspero-62/ToDoListFunctional" rel="noopener ugc nofollow" target="_blank">回购</a>已添加到本文中。</p></blockquote><p id="e2c8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">由于这只是一个React教程，我将删除每个组件的CSS文件的链接:</p><ol class=""><li id="738d" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nw nc nd ne bi translated"><a class="ae ln" href="https://github.com/caspero-62/to-do-list-demo-for-article/blob/master/src/index.css" rel="noopener ugc nofollow" target="_blank"> Index.css </a></li><li id="f486" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nw nc nd ne bi translated"><a class="ae ln" href="https://github.com/caspero-62/to-do-list-demo-for-article/blob/master/src/App.css" rel="noopener ugc nofollow" target="_blank"> App.css </a></li><li id="7b80" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nw nc nd ne bi translated"><a class="ae ln" href="https://github.com/caspero-62/to-do-list-demo-for-article/blob/master/src/components/ToDoList/ToDoList.style.css" rel="noopener ugc nofollow" target="_blank"> ToDoList.style.css </a></li><li id="9c71" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nw nc nd ne bi translated"><a class="ae ln" href="https://github.com/caspero-62/to-do-list-demo-for-article/blob/master/src/components/ToDo/ToDo.style.css" rel="noopener ugc nofollow" target="_blank"> ToDo.style.css </a></li><li id="19bc" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nw nc nd ne bi translated"><a class="ae ln" href="https://github.com/caspero-62/to-do-list-demo-for-article/blob/master/src/components/TaskIndicator/TaskIndicator.style.css" rel="noopener ugc nofollow" target="_blank"> TaskIndicator.style.css </a></li><li id="3d20" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nw nc nd ne bi translated"><a class="ae ln" href="https://github.com/caspero-62/to-do-list-demo-for-article/blob/master/src/components/InputForm/InputForm.style.css" rel="noopener ugc nofollow" target="_blank"> InputForm.style.css </a></li></ol></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h1 id="c541" class="lo lp iq bd lq lr oe lt lu lv of lx ly jw og jx ma jz oh ka mc kc oi kd me mf bi translated">设置React应用程序</h1><p id="85e6" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">为了这个例子，我们将使用<code class="fe mn mo mp mq b">create-react-app</code>方法来设置我们的应用程序。这是为了让我们一切都变得容易。</p><p id="77e7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您的计算机上没有设置<code class="fe mn mo mp mq b">create-react-app</code>，您可以通过查看<a class="ae ln" href="https://facebook.github.io/create-react-app/docs/getting-started" rel="noopener ugc nofollow" target="_blank"> Create React App文档</a>开始。</p><p id="afca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下步骤将帮助您开始设置应用程序:</p><ol class=""><li id="e48b" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nw nc nd ne bi translated">转到您的终端(如果您是MAC OS/LINUX用户)或命令提示符(如果您是Windows用户)。</li></ol><p id="bdca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">注意:在本文中，我将只使用术语<em class="mj">终端</em>。</p><p id="0063" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.使用<code class="fe mn mo mp mq b">cd</code>命令，将路径更改为您想要创建应用的目录:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oj"><img src="../Images/78688efd7e00902fe913f6f6365688ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qK-G-f6tSCnEj7DW"/></div></div></figure><p id="c703" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">3.在你的终端中输入<code class="fe mn mo mp mq b">create-react-app &lt;name of the app&gt;</code>并按回车键。这安装和应用程序，瞧:我们可以开始编码我们的应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oo"><img src="../Images/349656edd3886fc3b456cf62aa7c526f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uNX0t6bVpPnh-CGq"/></div></div></figure><p id="1ee0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">注意:如果您在下面的消息中看到这种错误，请尝试使用sudo命令切换到root。</p><p id="35ac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">4.进入app文件夹，在VS代码或任何其他你使用的IDE中打开:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi op"><img src="../Images/ad0853dba39c0e1cf91cf285482b1157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*08Cy1ZwpHT5tIx_v"/></div></div></figure></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h1 id="e245" class="lo lp iq bd lq lr oe lt lu lv of lx ly jw og jx ma jz oh ka mc kc oi kd me mf bi translated">草图和结构</h1><p id="d553" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">在我们开始编写应用程序之前，我们需要对我们想要实现的目标有一个可视化的表示或结构。我有一个我们希望应用程序看起来像什么的快速草图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oq"><img src="../Images/05b45c4d5875cf6b027bc7729c04afe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/0*B0EkzxQ_oK3mh0dy"/></div></div></figure><p id="cf6a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">尤其是在React中，我们希望了解以下内容:</p><ul class=""><li id="65c5" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nb nc nd ne bi translated">我们的组件会是什么样子</li><li id="e72f" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">组件的哪一部分应该改变或更新</li><li id="1759" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">他们什么时候会改变</li></ul><p id="730f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请看这张图片，我们需要三个基本组件:</p><ol class=""><li id="a031" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nw nc nd ne bi translated"><strong class="kt ir">输入表单:</strong>该部分负责接收用户输入(任务)，最终将呈现给待办事项列表组件。</li><li id="a0ca" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nw nc nd ne bi translated"><strong class="kt ir">待办事项列表:</strong>该组件作为每个待办事项(任务)组件的容器，容纳任何接受的新任务。</li><li id="56a9" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nw nc nd ne bi translated"><strong class="kt ir">任务指示器:</strong>这个组件会显示你当时的任务数。</li></ol><p id="947c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如这些组件已经列出，这是它们在我们的应用程序中的样子。我们必须为每个任务包含一个待办组件，最后，我们的<code class="fe mn mo mp mq b">App.js</code>文件将包含所有这些组件(这已经由<code class="fe mn mo mp mq b">create-react-app</code>提供给我们)。)</p><p id="6b22" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">完成整个设置后，我们的应用程序的<code class="fe mn mo mp mq b">src</code>结构如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/b2ca86480337ee16f67182b8aa2ad03e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/0*1084U-vVBbaWa0yZ"/></div></figure><p id="949e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如您在这里看到的，我们在<code class="fe mn mo mp mq b">src</code>文件夹下创建了一个<code class="fe mn mo mp mq b">component</code>文件夹来存放所有单独的和可重用的组件。这是React的主要优势之一；它有助于将我们的整个应用程序分解成块(可重用的组件)。在构建更大的应用程序时，我们更容易看到这种优势。</p></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h1 id="ce74" class="lo lp iq bd lq lr oe lt lu lv of lx ly jw og jx ma jz oh ka mc kc oi kd me mf bi translated">编写应用程序</h1><p id="20d4" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">最后，是时候编写我们的应用程序了。我们所有的文件都准备好了，让我们从<code class="fe mn mo mp mq b">App</code>组件开始，因为它将包含我们所有剩余的组件。</p><p id="9d36" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个特殊的<code class="fe mn mo mp mq b">App</code>组件将是一个类组件，这样我们就可以访问React的状态。</p><p id="60e8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我建议我们清除<code class="fe mn mo mp mq b">App.js</code>文件中的所有内容，并从头开始编码。但是，您可以将其修改为下面的代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi os"><img src="../Images/6ad587bbec521fdd5e15c2245c6319fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n48_yXXhZ4mQ0Y40GrTNiQ.png"/></div></div></figure><p id="6376" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">好的，让我们解释一下目前为止我们做了什么。第一张图片只是描述了我们需要导入的内容。如你所知，在React中编写任何函数或类组件之前，我们必须导入React。由于这是一个类组件，我们还必须导入React的组件类。</p><p id="4c9d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后我们从各自的文件中导入<code class="fe mn mo mp mq b">TaskIndicator</code>函数，并为<code class="fe mn mo mp mq b">App</code>组件导入CSS文件。</p><p id="8d45" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这之后，我们开始编写我们的<code class="fe mn mo mp mq b">App</code>类组件，它将扩展React的组件类，并可以访问它的方法(通过调用<code class="fe mn mo mp mq b">super()</code>)。这使我们能够访问一个状态属性，在这里我们可以声明我们想要更改的内容。</p><p id="4a04" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的应用程序中，我们想要改变的是我们的tasks ( <code class="fe mn mo mp mq b">lists</code>)属性，对象值包含每个任务及其各自的<code class="fe mn mo mp mq b">id</code>。</p><p id="827c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后调用<code class="fe mn mo mp mq b">render</code>方法，它将以类似HTML的格式(JSX)返回我们想要的组件。我们现在渲染的第一件事是<code class="fe mn mo mp mq b">TaskIndicator</code>组件，我们将<code class="fe mn mo mp mq b">number</code>道具传递给它，指示我们的待办事项列表中剩余的任务数量。</p><p id="d458" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们看看我们的<code class="fe mn mo mp mq b">TaskIndicator</code>组件会是什么样子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi ot"><img src="../Images/baaad6d17e5a20fd8736f752904fac82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7w91O8_Npk9XTDVo460MGA.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">TaskIndicator组件</p></figure><p id="0716" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们让它成为一个功能组件(因为它不包含任何状态),只返回我们拥有的任务数量的文本(使用我们传递给它的<code class="fe mn mo mp mq b">number</code>属性)。</p><p id="33fa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">应用组件的CSS文件后，我们应该在浏览器中看到:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/35dcceea37b0f6bcf5f6f644bf0daddf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/0*BhgCqWwZvmS94BAQ"/></div></figure><p id="ebd0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如您所见，这表明我们有三个任务，这是我们的<code class="fe mn mo mp mq b">lists</code>数组中存在的对象数量。</p><p id="549b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那很容易，不是吗？现在让我们继续添加我们的<code class="fe mn mo mp mq b">ToDoList</code>组件。它将使用<code class="fe mn mo mp mq b">lists</code>数组作为它的道具，并且有一个<code class="fe mn mo mp mq b">handleDelete</code>方法来帮助删除我们完成的任何任务。<code class="fe mn mo mp mq b">handleDelete</code>方法如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi ov"><img src="../Images/824e3c537c6239806af3da8d7e07eb73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lpyoVOc919a_s2Fxs1KSSA.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">handleDelete函数</p></figure><p id="ed74" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个方法接受一个<code class="fe mn mo mp mq b">index</code>参数，这个参数有助于从列表中过滤出一个<code class="fe mn mo mp mq b">id</code>不等于<code class="fe mn mo mp mq b">index</code>的任务。然后，它使用<code class="fe mn mo mp mq b">this.setState()</code>方法将列表的状态修改为过滤后的形式。</p><p id="9a30" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后我们将<code class="fe mn mo mp mq b">ToDoList</code>组件添加到<code class="fe mn mo mp mq b">App.js</code>文件的<code class="fe mn mo mp mq b">render</code>方法中:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi ow"><img src="../Images/87c5c45cbe5e1629dd3d6e33cff2d4ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jFX5NzL3H4OKzrsP-Xau2w.png"/></div></div></figure><p id="8864" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不要忘记从文件中导入<code class="fe mn mo mp mq b">ToDoList</code>函数，然后继续编写<code class="fe mn mo mp mq b">ToDoList</code> <em class="mj"> </em>函数:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi ox"><img src="../Images/deb7020fc259a5592e53284d16c6d29d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZCN_2Ag4OHCtvnfxWXqNoA.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">ToDoList组件</p></figure><p id="a004" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个函数组件遍历作为props给出的<code class="fe mn mo mp mq b">lists</code>数组，并为每个列表返回一个<code class="fe mn mo mp mq b">ToDo</code>组件。然后我们给每个<code class="fe mn mo mp mq b">ToDo</code>组件以下道具:</p><ul class=""><li id="11ec" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nb nc nd ne bi translated"><code class="fe mn mo mp mq b">key</code> —相当于列表对象中的<code class="fe mn mo mp mq b">id</code>值</li><li id="af74" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated"><code class="fe mn mo mp mq b">index</code> —与<code class="fe mn mo mp mq b">key</code>相同，但被传递到<code class="fe mn mo mp mq b">handleDelete</code>方法中，用于移除每个任务</li><li id="f50b" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated"><code class="fe mn mo mp mq b">task</code> —代表<code class="fe mn mo mp mq b">lists</code>数组的每个任务</li><li id="9ae0" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated"><code class="fe mn mo mp mq b">onDelete</code> —在我们的App组件中编写的<code class="fe mn mo mp mq b">handleDelete</code>方法</li></ul><p id="b278" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当然，我们导入我们的<code class="fe mn mo mp mq b">ToDo</code>组件并在我们的<code class="fe mn mo mp mq b">ToDo.component.jsx</code>文件中编写函数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oy"><img src="../Images/f0b80be1e9f320780e3fd4d3011780a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TieqeuY7riDv3PgfvKGr7w.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">待办事项组件</p></figure><p id="8e8c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们应用程序的这一部分最终返回一个div，其中包含每个任务和一个字体很棒的减号(-)图标，该图标传递了<code class="fe mn mo mp mq b">onDelete</code>道具。单击此图标时，会移除相应的任务。然后，该组件被导出。</p><p id="eb29" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了访问字体Awesome图标，我们将下面的脚本标签添加到我们的<code class="fe mn mo mp mq b">index.html</code>文件中的body标签的末尾，该文件位于我们应用程序的public文件夹中。</p><pre class="kg kh ki kj gt oz mq pa pb aw pc bi"><span id="1f15" class="nk lp iq mq b gy pd pe l pf pg">&lt;script <em class="mj">src</em>=”https://kit.fontawesome.com/8ca81c817e.js" <em class="mj">crossorigin</em>=”anonymous”&gt;&lt;/script&gt;</span></pre><p id="a630" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">做完这些后，我们的应用程序看起来是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/46c3c66f94b98bd998bf7f930dee1e9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/0*WCsvjOIwaTq7cgnj"/></div></figure><p id="b8e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在是我们应用程序的最后一个阶段，创建输入表单，接受新任务并将它们添加到列表中。根据我们的草图，这个表单将包含一个输入元素(type=text)和另一个带有加号(+)的字体很棒的图标。</p><p id="358d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了帮助我们实现这一目标，我们需要以下方法:</p><ul class=""><li id="bcce" class="mw mx iq kt b ku kv kx ky la my le mz li na lm nb nc nd ne bi translated">一个<code class="fe mn mo mp mq b">handleChange</code>方法，处理作为输入传递的任何值</li><li id="ee5b" class="mw mx iq kt b ku nf kx ng la nh le ni li nj lm nb nc nd ne bi translated">一个<code class="fe mn mo mp mq b">handleSubmit</code>方法，将输入(任务)添加到列表中，只要它不为空</li></ul><p id="1498" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们在我们的<code class="fe mn mo mp mq b">App</code>组件中添加一个输入状态:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi pi"><img src="../Images/2a0897eec98602bbe32c97489d92dd79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYesV4_NDnz4hAV8WfvMKA.png"/></div></div></figure><p id="c6bd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">之后，我们继续在构造函数后面编写我们的<code class="fe mn mo mp mq b">handleChange</code>和<code class="fe mn mo mp mq b">handleSubmit</code>方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi pj"><img src="../Images/07fa82bb0e50f2c88b6aee698f710485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8NE95UYzx3l4mreOHptn1Q.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">handleChange函数</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi pk"><img src="../Images/352c345cd23b3f296599b6e68ac3b39c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q8I5GGDHXTbxugzr3SRCxw.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">handleSubmit函数</p></figure><p id="0aa7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如前所述，<code class="fe mn mo mp mq b">handleChange</code>方法只是记录用户类型并将我们的输入设置为该值。</p><p id="b3c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">另一方面，如果用户的输入为空，我们的<code class="fe mn mo mp mq b">handleSubmit</code>方法什么也不做。如果用户最终写了东西，它会用<code class="fe mn mo mp mq b">task</code>和<code class="fe mn mo mp mq b">id</code>属性创建一个对象，并将这个对象添加到我们的待办事项列表中。添加任务时，表单将被清除或重置。</p><p id="7177" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如我们对前面的组件所做的那样，我们从文件中导入<code class="fe mn mo mp mq b">InputForm</code>组件，并在我们的<code class="fe mn mo mp mq b">App</code>组件中呈现它:</p><pre class="kg kh ki kj gt oz mq pa pb aw pc bi"><span id="a35b" class="nk lp iq mq b gy pd pe l pf pg"><strong class="mq ir">import</strong> InputForm <strong class="mq ir">from</strong> ‘./components/InputForm/InputForm.component.jsx’;</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi pl"><img src="../Images/f4861c71ee1e625ba91fc573ede03981.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7XxrjOc6hdLU2Rof5yjMuA.png"/></div></div></figure><p id="2920" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">记住，我们必须传入我们刚刚编写的两个方法，作为进入<code class="fe mn mo mp mq b">InputForm</code>组件的道具。</p><p id="76d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是<code class="fe mn mo mp mq b">InputForm</code>功能:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi pm"><img src="../Images/f384c0e7f8dfddc7b0140d5f578d97e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CiH1riAaaYbxU4I51IUe5g.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">输入表单组件</p></figure><p id="31b4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们利用所有必要的道具和出口我们的组件。</p><h1 id="3797" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">更新——用于<code class="fe mn mo mp mq b">App</code>的功能组件</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi pn"><img src="../Images/ab34365520d16d8a53a3eda85f2fa66f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UwgACZ7fubyY8FIpBevrwA.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">App.js代码重组</p></figure><p id="1330" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如您所注意到的，将我们的<code class="fe mn mo mp mq b">App</code>组件从基于类切换到基于函数需要一些修改。</p><p id="be01" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们做的第一件显而易见的事情是从<code class="fe mn mo mp mq b">Class</code>改为<code class="fe mn mo mp mq b">function</code>。<br/>这样做，我们失去了<code class="fe mn mo mp mq b">this</code>上下文；因此，我们使用<code class="fe mn mo mp mq b">const</code>初始化所有的句柄函数。我们也不再需要<code class="fe mn mo mp mq b">constructor</code>，并且可以继续移除它。</p><p id="fc74" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们使用<code class="fe mn mo mp mq b">useState</code>钩子代替构造函数中的<code class="fe mn mo mp mq b">this.state</code>对象来初始化我们的状态。<code class="fe mn mo mp mq b">useState</code>允许你初始化一个状态，也可以传入一个函数在以后改变状态——就像<code class="fe mn mo mp mq b">this.state</code>和<code class="fe mn mo mp mq b">this.setState</code>一样。不同之处在于，它与功能组件结合使用，并且可以尽可能多次地用于指定单个状态，就像我们对<strong class="kt ir">列表</strong>和<strong class="kt ir">输入</strong>所做的那样。</p><p id="d551" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从这里开始，其他事情都非常简单。</p></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h1 id="6f6b" class="lo lp iq bd lq lr oe lt lu lv of lx ly jw og jx ma jz oh ka mc kc oi kd me mf bi translated"><strong class="ak">结论</strong></h1><p id="10a7" class="pw-post-body-paragraph kr ks iq kt b ku mr jr kw kx ms ju kz la mt lc ld le mu lg lh li mv lk ll lm ij bi translated">仅此而已。我们已经准备好了待办事项应用程序。只需添加必要的样式，我们的应用程序就像开始时的成品一样。</p><p id="1ad4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">理解这样一个小项目可以帮助您掌握React中的一些基本概念，并为您继续学习更具挑战性的概念做好准备。</p></div></div>    
</body>
</html>