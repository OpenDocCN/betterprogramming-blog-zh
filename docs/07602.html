<html>
<head>
<title>Using Python and R With Julia</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Julia中使用Python和R</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/using-python-and-r-with-julia-b7019a3d1420?source=collection_archive---------8-----------------------#2021-02-01">https://betterprogramming.pub/using-python-and-r-with-julia-b7019a3d1420?source=collection_archive---------8-----------------------#2021-02-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8e95" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Julia的PyCall和RCall包的快速介绍</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7e63cef7e9a6e88455d056a13b05ebdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HSqhgqRosDqkxHc7OPQJEg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com/@meeuwesen?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@meeuwesen?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> M.S. Meeuwesen </a>拍摄的照片。</p></figure><p id="9e5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了！因此，您正在冒险进入充满希望的Julia世界，但仍然希望访问您熟悉的朋友Python和R。虽然Julia的好处最好通过纯粹在Julia中操作来实现，但知道有几种方法可以在出发时将您的Python或R技能集成到您的工作流程中是令人放心的。</p><p id="cca8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Python和R都可以通过使用<a class="ae kv" href="https://github.com/JuliaPy/PyCall.jl" rel="noopener ugc nofollow" target="_blank"> PyCall </a>或<a class="ae kv" href="https://juliainterop.github.io/RCall.jl/stable/gettingstarted/" rel="noopener ugc nofollow" target="_blank"> RCall </a>包在Julia中调用。查看这些包的最简单的方法是利用它们各自的方法<strong class="ky ir"> </strong>将Python或R的字符串转换成Julia可访问的操作和函数。对于熟悉Python的人来说，这类似于对单行/单表达式代码使用<code class="fe ls lt lu lv b"><a class="ae kv" href="https://www.programiz.com/python-programming/methods/built-in/eval" rel="noopener ugc nofollow" target="_blank">eval</a></code> <strong class="ky ir"> </strong>或对多行/多表达式代码使用<code class="fe ls lt lu lv b"><a class="ae kv" href="https://www.programiz.com/python-programming/methods/built-in/exec" rel="noopener ugc nofollow" target="_blank">exec</a></code>。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="7ed5" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">PyCall你好世界</h1><p id="17f9" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">从Python开始，我们将通过在朱莉娅·REPL中运行以下命令来看看PyCall:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">PyCall示例</p></figure><p id="3314" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您会注意到输出是Julia类型的(在本例中是<code class="fe ls lt lu lv b">String</code>)。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="c093" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">RCall Hello World</h1><p id="1c04" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">下面是使用RCall的相同演示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">RCall示例</p></figure><p id="2a75" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以<code class="fe ls lt lu lv b">RObjects</code>的形式调用输出，使用<code class="fe ls lt lu lv b"><a class="ae kv" href="https://juliainterop.github.io/RCall.jl/v0.7.2/internal.html#RCall.rcopy-Tuple{RCall.RObject}" rel="noopener ugc nofollow" target="_blank">rcopy</a></code>方法可以很容易地转换成Julia类型:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用rcopy进行类型转换</p></figure><p id="a65f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以用简单的语法将Julia中声明的变量直接传递到Python或R代码中。例如:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="4742" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">加载本地Python模块</h1><p id="a8a0" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">互操作性的一个实际用例是利用您开发的任何定制Python实用程序，并在Julia中应用它们。为了进行一个非常简单的演示，让我们创建一个存储我们的<code class="fe ls lt lu lv b">hello_world</code>函数的Python模块，然后使用PyCall从Julia调用它。</p><p id="14de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，在下面创建一个名为<code class="fe ls lt lu lv b">mymodule</code>的示例模块。从终端运行:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Python模块创建示例</p></figure><p id="48c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后你可以从你的朱莉娅·REPL中导入并调用<code class="fe ls lt lu lv b">mymodule.hello_world</code> <em class="nc"> </em>。有几种方法可以做到这一点。第一个类似于我们上面所做的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">第3行暂时将本地Python模块添加到Julia可见的Python导入路径中。</p></figure><p id="f5aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二种可能更适用的方法是使用PyCall的<code class="fe ls lt lu lv b">pyimport</code>函数直接导入Python模块:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="a792" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">加载Python和R包</h1><p id="3aed" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">也可以使用外部Python和R包。以下代码加载scikit-learn Boston housing数据集，并在朱莉娅·REPL酒店内使用matplotlib生成可视化效果:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/1d1749852ee884675ab6e3d1e8b7fa6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OCLPjMgcfkkNSA2OPDc1cQ.png"/></div></div></figure><p id="c802" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢用R的<a class="ae kv" href="https://ggplot2.tidyverse.org/" rel="noopener ugc nofollow" target="_blank"> ggplot2 </a>包绘图，你可以使用RCall的<code class="fe ls lt lu lv b">@rlibrary</code> <em class="nc"> </em>宏:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/adbd482111ee81d46f24f0a30c19d7d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uFeeJsE2h77trXGE_sl9Ow.png"/></div></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="a6c7" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">结论</h1><p id="ec05" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">仅此而已。PyCall和RCall支持与Julia的互操作性的功能比这里演示的要广泛得多。很高兴看到这些促进语言兼容性和降低准入门槛的努力。</p><p id="b887" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着Julia的包生态系统继续增长，可能很少需要从外部语言调用工具，但它仍然是入门时的一块方便的垫脚石。</p><p id="0bdb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">查看下面链接的PyCall和RCall的文档，进行更深入的研究。</p><p id="b582" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="04f3" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated"><strong class="ak">资源</strong></h1><div class="nf ng gp gr nh ni"><a href="https://julialang.org/" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">Julia编程语言</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">丰富的科学计算生态系统Julia从一开始就被设计为非常擅长数字和科学计算…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">julialang.org</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw kp ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://github.com/JuliaPy/PyCall.jl" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">JuliaPy/PyCall.jl</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">这个包提供了从Julia语言直接调用Python并与之完全互操作的能力。你可以…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">github.com</p></div></div><div class="nr l"><div class="nx l nt nu nv nr nw kp ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://juliainterop.github.io/RCall.jl/stable/gettingstarted/" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">入门RCall.jl</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">RCall包是通过julia &gt;使用RCall加载的，这将在后台初始化R进程。RCall提供…</h3></div><div class="nq l"><p class="bd b dl z fp nn fr fs no fu fw dk translated">Julian terop . github . io</p></div></div></div></a></div></div></div>    
</body>
</html>