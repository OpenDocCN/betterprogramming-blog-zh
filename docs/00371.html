<html>
<head>
<title>A Deep Dive Into Our DeepLens Basketball Referee</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深入了解我们的DeepLens篮球裁判</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-deep-dive-into-our-deeplens-basketball-referee-c8ed96affd82?source=collection_archive---------2-----------------------#2019-05-06">https://betterprogramming.pub/a-deep-dive-into-our-deeplens-basketball-referee-c8ed96affd82?source=collection_archive---------2-----------------------#2019-05-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3864" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用计算机视觉和AWS DeepLens将篮球带入未来</h2></div><h1 id="a297" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">概观</h1><p id="2ccc" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">篮球不仅会导致脚踝骨折，还会导致关系破裂。从含糊不清的犯规争论到两分球或三分球的争论，临时抱佛脚的比赛可能会变成长期的争斗。进入我们的篮球虚拟裁判。篮球虚拟裁判的目标是让玩家更容易玩游戏，让他们更专注于玩游戏本身，而不是跟踪投篮，记忆比分和检测犯规(没有什么比视频回放功能更好了)。</p><p id="551c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">对于我们的第一次迭代，团队专注于镜头检测。该团队训练了一个微软定制视觉模型来识别人、篮球和篮球框，并训练了第二个模型来检测篮球进入篮框。AWS云应用程序利用这些机器学习模型来识别包含所需对象的DeepLens帧，通过S3和DynamoDB传递图像及其元数据，并最终在拍摄时输出到UI。</p><h1 id="2b60" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">什么是DeepLens？</h1><p id="4dfa" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">AWS DeepLens是一个支持无线的摄像机和开发平台，与AWS云集成在一起。它允许您使用最新的人工智能(AI)工具和技术来开发基于深度学习模型的计算机视觉应用程序。</p><p id="9baf" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">DeepLens类似于人工智能驱动的谷歌Clips相机，但虽然Clips的目标是消费者，但DeepLens是一个新的，令人兴奋的开发人员工具。根据亚马逊网站的说法，这是第一款旨在教授深度学习基础知识的摄像机，并优化了在摄像机上运行机器学习模型。</p><h1 id="09c2" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">什么是微软定制愿景？</h1><p id="4ce4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">自定义视觉服务使用机器学习算法对图像进行分类。你，开发人员，必须提交一组图像的特点和缺乏分类的问题。您在提交时指定图像的正确标签。然后，该算法对该数据进行训练，并通过对该数据进行自我测试来计算自己的准确性。一旦模型被训练，你可以测试，重新训练，并最终使用它来根据你的应用程序的需求对新图像进行分类。您还可以导出模型本身以供脱机使用。</p><h1 id="67c9" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">在幕后</h1><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mb"><img src="../Images/628ae6382c47ee2be1de49819ac23efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hz-FFHq7fmGOmoj30kVzwQ.png"/></div></div><p class="mn mo gj gh gi mp mq bd b be z dk translated">团队:莫吉·帕坦甘、穆罕默德·纳维瓦拉、索菲亚·泰、布列塔尼·哈灵顿和亚历克斯·泰</p></figure><h1 id="ff21" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">体系结构</h1><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mr"><img src="../Images/9bf4f866d21877a8d1e233358e869590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ikm6HdaKSk3EpDYMAmAbxg.png"/></div></div><p class="mn mo gj gh gi mp mq bd b be z dk translated">技术栈</p></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi ms"><img src="../Images/c879f82c12c3e03bc22bf81f38aeb552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0MQCHCAqb4de54xhtfpWNg.png"/></div></div><p class="mn mo gj gh gi mp mq bd b be z dk translated">系统图</p></figure><h1 id="0ed8" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">视频演示</h1><p id="44d1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果你宁愿看视频而不是看下面的文章，请随意使用这个！</p><figure class="mc md me mf gt mg"><div class="bz fp l di"><div class="mt mu l"/></div><p class="mn mo gj gh gi mp mq bd b be z dk translated">视频漫游</p></figure><h1 id="8875" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">我们如何创造它</h1><p id="b705" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">下面是我们用AWS DeepLens创建的篮球虚拟裁判:</p><ul class=""><li id="f5bc" class="mv mw it lc b ld lw lg lx lj mx ln my lr mz lv na nb nc nd bi translated">亚马逊DeepLens设备</li><li id="31aa" class="mv mw it lc b ld ne lg nf lj ng ln nh lr ni lv na nb nc nd bi translated">AWS帐户</li><li id="7423" class="mv mw it lc b ld ne lg nf lj ng ln nh lr ni lv na nb nc nd bi translated">Microsoft自定义Vision帐户(免费)</li><li id="b0b6" class="mv mw it lc b ld ne lg nf lj ng ln nh lr ni lv na nb nc nd bi translated">笔记本电脑或电脑</li><li id="5605" class="mv mw it lc b ld ne lg nf lj ng ln nh lr ni lv na nb nc nd bi translated">手或其他与计算机交互的方式</li></ul><h1 id="85b0" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">训练目标检测自定义视觉模型</h1><p id="475e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">首先，我们收集了人类、篮球和篮球框的图像。它们可以是单独的图像，也可以都在同一张照片中。</p><p id="13f0" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">一旦我们有了自己的图像，我们就创建了一个免费的微软定制视觉账户:<a class="ae nj" href="https://www.customvision.ai/" rel="noopener ugc nofollow" target="_blank">https://www.customvision.ai/</a>。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nk"><img src="../Images/864e8809e06ece58ae1da9bcf3b40961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*so1JpZELr2KV5X1nUiYt5w.png"/></div></div></figure><p id="3dfd" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在这里，我们训练我们的对象检测模型来识别你的三个对象(球员/人、篮球和篮球架)。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nl"><img src="../Images/6f0d846466a0aa830ba303ba037bf175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43JZof6mCmVpJPIfUTTvhg.png"/></div></div></figure><p id="f4f0" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">一旦模型被训练得具有足够高的精度和召回率，我们需要一种方法将我们的DeepLens相机馈送传递到自定义视觉模型中。视频提要只是一系列的帧，所以我们需要将每一帧传递到模型中来检测这三个对象。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nm"><img src="../Images/551934003c5439bdd8b15c67773faac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZKXNj0JWtj-cZv0QXUhqKQ.png"/></div></div></figure><p id="9ef7" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">你可以用很多方法做到这一点。我们选择使用AWS Lambda，因为DeepLens是亚马逊套件的一部分。要了解更多关于创建一个，使用<a class="ae nj" href="https://docs.aws.amazon.com/toolkit-for-eclipse/v1/user-guide/lambda-tutorial.html" rel="noopener ugc nofollow" target="_blank">这个链接</a>。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nn"><img src="../Images/4d8cf7cba96faf1dfff29574abca76c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a40mq9GAgCF46cJHQAAYZg.png"/></div></div></figure><p id="eaa0" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">下面是我们如何点击自定义Vision API并取回概率的片段。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi no"><img src="../Images/c8cc653c025ae5b91ce44f201a81b36e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AlhgpamaVktNFL_IPgg1PA.png"/></div></div></figure><p id="6a9c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">输出如下所示:</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi np"><img src="../Images/c4258a835a5aa791a6075371572bcdaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q7Z_FihEeoY0qO03cfE_qg.png"/></div></div></figure><p id="bb73" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">接下来，如果图像中出现篮圈和篮球的概率超过40%，我们将该帧存储到S3实例中，并在DynamoDB中插入一条新记录(如果您还没有旋转的S3，请放心<a class="ae nj" href="https://docs.aws.amazon.com/quickstarts/latest/s3backup/step-1-create-bucket.html" rel="noopener ugc nofollow" target="_blank">现在就创建一个</a>)。DynamoDB记录包含关于帧的属性，但是您的记录可能不同。我们有框架URL、概率字典(球、篮圈和球员的概率)和时间戳。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nq"><img src="../Images/4c6e3a201dfaa32c309df01d3dad37da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8cjwVPad-uQcJ0vvUs8FYw.png"/></div></div></figure><p id="e138" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">回到lambda——如果有40%或更多的概率，一个球员在帧中，将帧存储到S3(不考虑篮圈和篮球的概率)。根据产品和模型性能的需要，随时更改阈值。我们这样做是为了让系统尽可能模块化，这样我们就可以用这个输出来检测玩家的进步，并最终得到团队级别的反馈。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nr"><img src="../Images/5457d7374d796f12b68fefbc9bda8011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*76nt2pSo-cyYi-baD_IToA.png"/></div></div></figure><h1 id="dce4" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">镜头检测</h1><p id="3347" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">接下来，我们有了一个单独的lambda，它是从刚刚发生的S3上传中自动触发的。下面是你的S3一旦有了图片后的样子。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi ns"><img src="../Images/d76901e27b3b204f8205e5da929ae9f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8j303tkchJMJtsk2ctjN5g.png"/></div></div></figure><p id="45cf" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">要为第二个lambda(镜头检测)创建一个触发器，我们只需要将S3模块拖到左边，并填写必要的配置。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nt"><img src="../Images/d93c177f1611670f2da12238c21e88dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZTHak9GDy8quGdNeh8MvSA.png"/></div></div></figure><p id="89b0" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">接下来，我们将触发lambda的帧传递到我们的第二个自定义视觉模型，以预测一个成功的镜头。同样，我们把这些分开的原因是考虑到未来球员级别或球队级别的分析功能。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nm"><img src="../Images/4e7920af837c22af348ec90a2164d83c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*44vG37TWnwK2LZ6vrBjzQw.png"/></div></div></figure><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nu"><img src="../Images/f3d9ec8edaea8e6d145065410bf9f3d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LY89G7qDiqgXUQiCPBU3ag.png"/></div></div></figure><p id="80fb" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">这是镜头检测模型在我们的日志中的输出:</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nv"><img src="../Images/0ec9c91ee93985d5bd8091af55224048.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dA62tv7dyGXATmGiXxrh4w.png"/></div></div></figure><p id="6512" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">如果该帧成功拍摄的概率大于或等于50 %,则更新DynamoDB记录以包含1的点值。如果低于50 %,用0点值更新记录。</p><p id="28df" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">下面是最终的DynamoDB输出:</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nw"><img src="../Images/080d154f67f55379ac216e49e13d6631.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PW4IyPdFnGQfcmsBeCYtkA.png"/></div></div></figure><h1 id="95cc" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">结论</h1><p id="ec33" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">总的来说，DeepLens是一个容易上手的工具，让我们能够证明我们的概念。然而，由于DeepLens相对于其他视频处理工具的帧速率较低，它很容易错过关键时刻。对于团队技巧来说，捕捉一组连续的帧来跟踪球从球员到篮筐的过程是一个挑战。下一步，该团队有兴趣用iPhone取代DeepLens视频。我们希望这能激发你创造自己的东西，感谢你的阅读！</p><h1 id="cc4d" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">团队</h1><p id="57f4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">Team Finesse是Pariveda Solutions的内部计划，我们的主要目标是利用新兴技术创建小型、可行的概念验证。欢迎留言或通过<a class="ae nj" href="https://www.instagram.com/ogteamfinesse/" rel="noopener ugc nofollow" target="_blank">https://www.instagram.com/ogteamfinesse/</a>(@ ogteamfesse)直接给我们发消息。我们目前正致力于创建一个鼓励会面和交流机会的区块链，欢迎咨询我们！</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi nx"><img src="../Images/b5878f5c27e897bcfc85058556ca5114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D-y1WYuWUC8gMZqwwTOqag.png"/></div></div></figure><h1 id="7b16" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">来源:</h1><p id="de5c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><a class="ae nj" href="https://docs.aws.amazon.com/deeplens/latest/dg/what-is-deeplens.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/deep lens/latest/DG/what-is-deep lens . html</a></p><p id="c96e" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">【https://mashable.com/2018/06/14/amazon-deeplens-camera/ T4】</p><p id="b0df" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated"><a class="ae nj" href="https://docs.microsoft.com/en-us/azure/cognitive-services/custom-vision-service/home" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/cognitive-services/custom-vision-service/home</a></p></div></div>    
</body>
</html>