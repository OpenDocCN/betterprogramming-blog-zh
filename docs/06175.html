<html>
<head>
<title>The Challenges of Stateless Architecture and How to Monitor Your Serverless Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无状态架构的挑战以及如何监控无服务器应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-challenges-of-stateless-architecture-and-how-to-monitor-your-serverless-application-94c0e8b8dd1?source=collection_archive---------13-----------------------#2020-09-07">https://betterprogramming.pub/the-challenges-of-stateless-architecture-and-how-to-monitor-your-serverless-application-94c0e8b8dd1?source=collection_archive---------13-----------------------#2020-09-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c26b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">无服务器应用并非没有挑战。主动监控以应对新的困难</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c68f2d0f2fc8eb77757a7d58f8d76f5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I7XD3tNJDsAI9FjIs0FKUQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">格伦·卡丽在<a class="ae ky" href="https://unsplash.com/s/photos/spying?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="1ef6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以你决定不用服务器。恭喜你。欢迎来到高可用性、纵向和横向可伸缩性、快速开发以及只为您使用的东西付费的世界。</p><p id="5425" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">业务功能是游戏的名称。软件工程师开始花时间解决业务问题，而不是解决网络和基础设施问题。您的应用程序将会得到开发团队的充分关注。</p><p id="5d0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，无服务器应用带来了一些新的有趣的挑战——这些挑战曾经是解决的问题，比如<a class="ae ky" href="https://medium.com/better-programming/5-steps-to-making-a-predictable-cost-model-for-aws-serverless-projects-78d78909bb82" rel="noopener">如何预测应用成本</a>。既然您的应用程序是“按使用付费”，那么这如何转化为执行次数和计算时间呢？</p><p id="a32a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他问题包括<a class="ae ky" href="https://medium.com/better-programming/how-to-easily-load-test-serverless-apps-with-postman-and-aws-912de7f1f7e0" rel="noopener">如何大规模测试你的应用</a>。你如何测试所有这些lambda函数、API网关端点和SNS主题？</p><p id="7402" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应用健康如何？您需要知道您的应用程序是否已经启动并运行，并且正在做它应该做的事情。对于这个问题，传统的开发有一个简单的答案。只需添加一个运行状况检查端点。创建一个web服务来检查服务器的状态及其连接性。</p><p id="251d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果你的应用没有服务器呢？无服务器应用程序是无状态的。它是分布式的。您不能控制代码运行的服务器。见鬼，大多数时候，你的代码甚至没有运行！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a7ba" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">了解您的无服务器问题</h1><p id="a5d6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">与传统的客户机/服务器甚至容器化的应用程序相比，无服务器应用程序会有不同的问题。信不信由你，你那些“你有没有试着把它关了再开？”现在都结束了。没什么可关的。</p><p id="de87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当一个AWS Lambda函数被调用时，一个<a class="ae ky" href="https://aws.amazon.com/blogs/aws/firecracker-lightweight-virtualization-for-serverless-computing/" rel="noopener ugc nofollow" target="_blank">小鞭炮容器</a>被启动，你的代码被执行，然后它被关闭(除非有更多的调用紧随其后)。本质上，你的整个应用程序整天都在自我关闭和重新打开。</p><p id="8ddb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您更可能看到的是基础设施设置问题、配置问题和外部集成事故。</p><h2 id="54be" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">基础设施设置问题</h2><p id="77a3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果您正在使用类似<a class="ae ky" href="https://aws.amazon.com/cloudformation/" rel="noopener ugc nofollow" target="_blank"> CloudFormation </a>的可重复基础设施设置脚本，有许多工具可以确保您的无服务器应用程序配置正确。</p><p id="d73c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://aws.amazon.com/serverless/sam/" rel="noopener ugc nofollow" target="_blank"> AWS SAM </a>是一个框架，允许你轻松地将无服务器组件连接在一起。它把云结构的重担卸下来，抽象成几行YAML或JSON。这允许您在向S3上传文档时触发lambda函数，或者只用几行代码构建DynamoDB表。</p><p id="be75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它不会验证您的IAM权限。IAM是AWS用于身份和访问管理的工具。如果你遵循<a class="ae ky" href="https://aws-quickstart.github.io/best-practices.html" rel="noopener ugc nofollow" target="_blank"> AWS最佳实践</a>，你就是在实践最小特权原则(PoLP)。这意味着您已经将您的角色设置为只使用他们绝对需要的东西。</p><p id="d88d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这在理论上听起来很棒，最终这是一个有安全意识的人的梦想。但是在开始的时候，这是非常困难的。找到正确的权限，知道何时限制权限，以及弄清楚如何构建IAM角色需要一点学习过程。</p><p id="e7dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你第一次构建你的应用时，你会遇到一个服务不允许与另一个服务对话的问题。这很容易解决，但它肯定会一次又一次地出现。</p><h2 id="0e2b" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">配置问题</h2><p id="a0a1" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">尽管我们都喜欢认为自己写出了完美的代码，但事实并非如此。会有bug，而且会有很多。对于无服务器应用程序，这些错误肯定会在配置问题中表现出来。</p><p id="7bcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标准的无服务器模式是开始执行&gt;加载配置&gt;执行业务逻辑&gt;保存结果&gt;完成执行。</p><p id="fe40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你没有一个严密的配置，你的应用程序将会失控。在保存和加载租户配置时，请自行确保记录适当数量的详细信息。</p><h2 id="98f5" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">外部整合失败</h2><p id="bfbf" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们都经历过。一切都很好。你的应用程序看起来和感觉上都是防弹的。</p><p id="fe31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">突然，轮子掉了。警铃、警笛和灯光都在响，而你不知道刚刚发生了什么。</p><p id="03ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">原来是第三方依赖出了问题。您依赖它们来执行任务，而它们的应用程序开始出现故障。</p><p id="e90b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的SLA只和您的依赖项的最差SLA一样好。选择他们时要小心，当事情变糟时要有一个计划。</p><h2 id="38c8" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">了解你的(软)极限</h2><p id="72e4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">你必须担心的一个新问题是触及软限制。软限制是由你的云供应商设置的约束，以确保你不会做任何…愚蠢的事情。</p><p id="6b8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，AWS在任何给定时间都有1，000个并发lambdas运行的软限制。如果您试图让1001+lambda同时运行，您将开始受到限制，并收到429个HTTP响应。</p><p id="0cfd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，在这种情况下，<em class="nl">软</em>意味着它们是可调的。如果您遇到需要合法更新限额的情况，您可以向AWS支持部门发送电子邮件，他们会为您提高限额。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/031ddb371f915d73d57d3eb96e7057bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jBqdbNByc_fIoz59.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="nn">照片由</em> <a class="ae ky" href="https://unsplash.com/@chadpeltola?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> <em class="nn">查得</em> </a> <em class="nn">上</em> <a class="ae ky" href="https://unsplash.com/s/photos/mail?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> <em class="nn">下</em> </a> <em class="nn">。</em></p></figure><h1 id="dd18" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">向dlq中抛出错误</h1><p id="1bb8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在一个无服务器的应用程序中，你不能登录到一个应用服务器去查看日志。不再有持久的连接。应用服务器日志不是一个东西。</p><p id="e439" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有CloudWatch日志，但如果你只是浏览，找到你要找的东西可能是一场噩梦。每一个旋转起来的lambda都会创建自己的日志组，在一天中，你可能会有数千个组需要梳理。</p><p id="4ce8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您必须将错误发送到一个<a class="ae ky" href="https://aws.amazon.com/blogs/compute/designing-durable-serverless-apps-with-dlqs-for-amazon-sns-amazon-sqs-aws-lambda/" rel="noopener ugc nofollow" target="_blank">死信队列(DLQ) </a>。DLQ是一种队列类型，您可以在其中发送例外以进行人工审查。它们让您可以直接访问错误的细节，此外，您还可以了解错误发生时应用程序正在做什么。</p><p id="0be7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果操作失败，您的无服务器应用程序应该总是尝试重试操作。</p><p id="872b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你的重试失败了，并且没有一个明确的解决方法，那么就把你正在尝试做的事情的上下文和细节发送到一个特定的队列中。对于应用程序中的每个故障点，应该有一个单独的队列。</p><p id="9f78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，这确实意味着大量的队列，但也意味着如果有什么东西出现，您可以确切地知道是什么出了问题。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d604" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">配置DLQ警报</h1><p id="d4b9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在理想的世界里，不会有任何问题。</p><p id="6d0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一个接近理想的世界里，软件公司会在客户报告问题之前识别并修复问题。</p><p id="5ff8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了在问题发生的那一刻就意识到它们，您需要在死信队列上设置警报。警报监控dlq，并在有消息传入时提醒负责方。</p><p id="fd55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以直接在<a class="ae ky" href="https://aws.amazon.com/cloudwatch/" rel="noopener ugc nofollow" target="_blank"> AWS CloudWatch </a>中建立警报，或者你可以使用像<a class="ae ky" href="https://datadoghq.com/" rel="noopener ugc nofollow" target="_blank"> Datadog </a>这样的外部服务来管理它们。这些服务允许您对特定的死信队列设置警报，监视给定时间段内的传入消息阈值，并通过发送电子邮件、垃圾消息、电话等方式提醒相关人群。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/9a71a89dd5ba28925e82b10be1362b74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qFEithSJ_V9EB5IU.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="nn">配置一个</em> <a class="ae ky" href="https://datadoghq.com" rel="noopener ugc nofollow" target="_blank"> <em class="nn">中的死信队列监视器</em> </a> <em class="nn">。</em></p></figure><p id="5f8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">DLQ的警报示例如下:</p><blockquote class="nu nv nw"><p id="ccd4" class="kz la nl lb b lc ld ju le lf lg jx lh nx lj lk ll ny ln lo lp nz lr ls lt lu im bi translated">一个小时内:<br/> —如果没有消息排队，一切正常。<br/> —如果队列中有1-4条消息，则在Slack中发出警告，表示可能有问题。<br/> —如果队列中有5条以上的消息，则说明有问题。通知待命工程师。</p></blockquote><p id="4109" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦您有了一套强大的警报，您就能够在问题出现时快速做出响应。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b492" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">运行自动化业务流程</h1><p id="c1ca" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">让一个QA分析师一直在你的系统中运行测试是不现实的。但是你需要测试来确保系统健康，一切正常。</p><p id="7a43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，您可以设置自动化测试来测试您的应用程序，并让它们定期运行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/e4e6ad50295697ba1552ea54cce33358.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SeG-UQxQEPgfpwZk.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="nn">照片由</em><a class="ae ky" href="https://unsplash.com/@daseine?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"><em class="nn">Filtore F</em></a><em class="nn">on</em><a class="ae ky" href="https://unsplash.com/s/photos/robot?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"><em class="nn">Unsplash</em></a><em class="nn">。</em></p></figure><p id="c7c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<a class="ae ky" href="https://getpostman.com" rel="noopener ugc nofollow" target="_blank"> Postman </a>，您可以在您的系统中构建模拟用户的工作流。您可以<a class="ae ky" href="https://learning.postman.com/docs/sending-requests/capturing-request-data/interceptor/" rel="noopener ugc nofollow" target="_blank">记录您的应用程序在业务流中发出的所有web请求</a>，将它们参数化，并让它们以随机值定期回放。</p><p id="52f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的一个项目中，我们将这些工作流(称为<a class="ae ky" href="https://www.postman.com/collection/" rel="noopener ugc nofollow" target="_blank">集合</a>)配置为在我们的测试和生产环境中运行。我们有一整套测试整个系统的工作流程，在测试环境中每四小时运行一次，在生产环境中每两小时运行一次。</p><p id="89b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些集合运行一系列web请求，然后执行测试来验证状态代码、响应时间和预期的响应模式是否正确。</p><p id="7bdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于系统每隔几个小时就进行这样的自检，我们确信系统在任何时候都是可操作的。</p><p id="db08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果测试出现问题，我们通过与Datadog 的<a class="ae ky" href="https://learning.postman.com/docs/integrations/available-integrations/datadog/" rel="noopener ugc nofollow" target="_blank">本地集成进行报告，这将在Slack中向团队发送一条消息，以便立即采取行动。</a></p><p id="3c6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你建立了这些集合，你不仅会对你的系统是可操作的有信心，而且你也为自己设置了<a class="ae ky" href="https://medium.com/better-programming/how-to-easily-load-test-serverless-apps-with-postman-and-aws-912de7f1f7e0" rel="noopener">简单负载测试</a>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bbdd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">尝试受管监控</h1><p id="fc96" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">有许多本地工具可以监控您的无服务器应用程序。您可以配置仪表板、测试、警报、通知、限值、阈值等。，但是你仍然需要维护你正在收集的所有数据。</p><p id="8cbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了自己构建之外，另一种方法是尝试托管监控服务，如<a class="ae ky" href="https://epsagon.com/get-started/" rel="noopener ugc nofollow" target="_blank"> Datadog </a>、<a class="ae ky" href="https://www.thundra.io/" rel="noopener ugc nofollow" target="_blank">桑德拉</a>或<a class="ae ky" href="https://epsagon.com/get-started/" rel="noopener ugc nofollow" target="_blank"> Epsagon </a>。像这样的服务不仅为您提供了增强的监控数据，还通过绘制您的架构图为您提供了组装系统的可观察性。</p><p id="eb9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">拥有可视化的架构图和基础设施图有助于发现瓶颈和其他节流机会。</p><p id="5fed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">万一出现问题，托管监控服务还将提供增强的调试措施。调试速度越快，系统恢复运行的速度就越快。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="66c0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="7e0e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">监控无服务器应用程序是应用程序开发的一个必要部分，这一点经常被认为有点太晚了。</p><p id="32a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它提供了对系统的深入了解，有助于故障排除，并让您确信您的设置是正确的。</p><p id="496b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">花点时间为自己准备一些工具，以便在客户发现问题之前发现问题。将所有错误发送到死信队列。当错误出现时触发警报。无论您是手动设置还是使用托管服务，未来的自己都会感谢您。</p><p id="f6b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽可能在任何地方构建自动化。让您的系统可靠。确信你已经构建了正确的软件。</p><p id="a93e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最重要的是，让你的开发者专注于开发。拥有一个全面监控的系统可以让他们把精力投入到真正重要的事情上:解决业务问题。</p></div></div>    
</body>
</html>