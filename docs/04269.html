<html>
<head>
<title>Build a Tic-Tac-Toe Game With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python构建井字游戏</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/tic-tac-toe-with-python-8fb6d666b13f?source=collection_archive---------3-----------------------#2020-04-02">https://betterprogramming.pub/tic-tac-toe-with-python-8fb6d666b13f?source=collection_archive---------3-----------------------#2020-04-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="31af" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个有趣的命令行游戏</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/53acb009bd4e2ce5e74858a98bda548f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aBVt6laSpCuZE3atsjYWHQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由PIRO4D来自Pixabay</p></figure><p id="4763" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">遏制时间可能会很长。在法国，对我来说是从3月13日开始的，这似乎只是一个开始。</p><p id="82ea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以为了消磨时间，我们用Python搭建一个多人井字游戏，不需要库。</p><p id="f174" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我在这里建议的是试着创建你自己的函数，只是通过阅读它们的目的。如果你遇到任何麻烦，不要犹豫，快速看一下我是如何制作该功能的，然后回到你的编辑器中自己尝试。无论如何，如果需要，完整的代码可以在文章的底部找到。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="df9d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了玩我们的游戏，我们需要一些函数。首先要做的是总结我们的需求。</p><p id="248e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">井字游戏是在棋盘上玩的。我们的第一个函数将是一个<code class="fe mb mc md me b">display_board</code>函数。然后，我们需要问玩家他们是想用十字(X)还是圆(O)。我们得到了第二个函数。</p><p id="1098" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还需要玩家放置标记(第三个功能)。但是在放置它之前，用户必须选择将它放置在哪里(第四个功能)，并确定这个位置是否可用(第五个功能)。</p><p id="fa34" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还想在每次放置标记时检查是否有人赢了(第六个功能)或棋盘是否已满(第七个功能)。</p><p id="76ad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们想要一个回放功能。因为我们都有时间，如果我们可以尽情地玩而不用重新启动程序，那就太好了。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="b198" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第一个函数将被称为<code class="fe mb mc md me b">display_board</code>。我们将创建一个包含数字小键盘的空白板。玩家选择后，这些数字将被X或O代替。</p><p id="7a43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">玩家的选择将被存储在一个包含十个项目的列表中(只是因为项目编号0不能是用户的选择)。这个列表将在主程序中定义，看起来像这样:<code class="fe mb mc md me b">board = [‘#’,‘#’,‘#’,‘#’,‘#’,‘#’,‘#’,‘#’,‘#’,‘#’]</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="069e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该函数将棋盘列表作为参数，并用玩家的选择或空格替换<code class="fe mb mc md me b">blankBoard</code>中的箱子编号。</p><p id="234f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第二个函数将询问一号玩家他们想要哪个标记。选项可以是X/x或O/o。如果用户做了另一个选择，程序必须重新请求输入。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="f12e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，我们简单地使用了一个<code class="fe mb mc md me b">while True</code>语句，如果输入与可能性匹配，它将通过返回退出。注意，我们正在应用输入<code class="fe mb mc md me b">if player1.upper() == ‘X’:</code>以避免双重检查。</p><p id="b625" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第三个功能是<code class="fe mb mc md me b">place_marker</code>。这个很小。</p><pre class="kj kk kl km gt mh me mi mj aw mk bi"><span id="ec6f" class="ml mm it me b gy mn mo l mp mq">def place_marker(board, marker, position):<br/>    board[position] = marker<br/>    return board</span></pre><p id="3e2f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们只是传递棋盘列表、标记和选择的位置。该函数将把标记分配给我们的列表，替换给定位置的#字符。</p><p id="7b1e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此后，我们的两个函数都将向玩家询问位置，并检查所选择的位置是否为空。这两个功能是联系在一起的，这就是为什么我把这两个放在一起。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="2a33" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，<code class="fe mb mc md me b">space_check</code>函数会收到两个<code class="fe mb mc md me b">args</code>，板单和持仓。如果字段号<code class="fe mb mc md me b">position</code>等于<code class="fe mb mc md me b">#</code>，则返回<code class="fe mb mc md me b">True</code>。这意味着空间是空闲的。如果不相等，这意味着这个场已经玩过了，所以返回<code class="fe mb mc md me b">False</code>。</p><p id="680b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，<code class="fe mb mc md me b">player_choice</code>函数将板作为<code class="fe mb mc md me b">param</code>。它要求用户做出选择。只要所选的位置不是空闲的，它就会一直要求用户输入有效的字段。最后，它返回用户的选择。</p><p id="95e7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只剩下三个功能:棋盘满了吗？有人赢了吗？你想再玩一次吗？</p><pre class="kj kk kl km gt mh me mi mj aw mk bi"><span id="e116" class="ml mm it me b gy mn mo l mp mq">def full_board_check(board):<br/>    return len([x for x in board if x == '#']) == 1</span></pre><p id="7bda" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">问题“董事会满员了吗？”可以用上面的代码来检查。</p><p id="266a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们在这里使用一个带有<code class="fe mb mc md me b">if</code>语句的综合列表。我们所做的是解析board列表，并将所有匹配hashtag (#)字符的项目提取到一个列表中。然后我们计算这个列表的长度，如果等于1，我们返回<code class="fe mb mc md me b">True</code>(即我们的板子满了)；如果没有，我们返回<code class="fe mb mc md me b">False</code>。</p><p id="7268" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下一个要检查的是是否有人赢得了游戏。我很确定它可以改进。我们只是检查我们是否有一条线或对角线有相同的标记。两个必需的参数是纸板列表和我们想要检查的标记。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="c855" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们在主程序之前的最后一个函数，只是询问用户是否想再玩一次。</p><pre class="kj kk kl km gt mh me mi mj aw mk bi"><span id="fdfe" class="ml mm it me b gy mn mo l mp mq">def replay():<br/>    playAgain = input("Do you want to play again (y/n) ? ")<br/>    if playAgain.lower() == 'y':<br/>        return True<br/>    if playAgain.lower() == 'n':<br/>        return False</span></pre><p id="6725" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们完成了我们的功能。现在是时候将所有这些实现到我们的主程序中了。</p><p id="d901" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只有当程序直接运行时，我们才运行它。如果我们从另一个Python脚本加载该函数，那么上面的<code class="fe mb mc md me b">if</code>语句下面的内容将不会被执行。要了解关于内置变量<code class="fe mb mc md me b">__name__</code>的更多信息，您可以在这里查看示例:<a class="ae mr" href="https://www.guru99.com/learn-python-main-function-with-examples-understand-main.html" rel="noopener ugc nofollow" target="_blank">https://www . guru 99 . com/learn-python-main-function-with-examples-understand-main . html</a></p><p id="cbad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae mr" href="https://gist.github.com/30d4d2e378f2f0d671ccd59f7a2c99d2" rel="noopener ugc nofollow" target="_blank">https://gist.github.com/30d4d2e378f2f0d671ccd59f7a2c99d2</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="7608" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要什么？也许是一个我们称之为<code class="fe mb mc md me b">i</code>的计数器。这个将用于确定哪个玩家在玩，使用模函数:<code class="fe mb mc md me b">if i % 2 =</code> = 0，我们知道该轮到玩家二了。</p><p id="bedc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们要求用户使用功能<code class="fe mb mc md me b">player_input</code>选择他们想要的标记。不要忘记这个函数返回两个值，我们将它们存储在<code class="fe mb mc md me b">players</code>变量中。</p><p id="a3f2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还需要从一个空的董事会列表开始，它是由语句<code class="fe mb mc md me b">board = [‘#’] * 10</code>定义的。</p><p id="b3cb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们准备好出发了。我们从一个<code class="fe mb mc md me b">while True</code>循环开始，这个循环从我们检查电路板是否已满开始。如果没有满，我们在第二个<code class="fe mb mc md me b">while loop</code>进入。我们可以把它分成五块:</p><ol class=""><li id="8b3c" class="ms mt it la b lb lc le lf lh mu ll mv lp mw lt mx my mz na bi translated">我们要求用户输入:<br/> <strong class="la iu"> <em class="nb"> </em> </strong> <code class="fe mb mc md me b">position = player_choice(board)</code></li><li id="c78e" class="ms mt it la b lb nc le nd lh ne ll nf lp ng lt mx my mz na bi translated">我们决定谁在玩:</li></ol><pre class="kj kk kl km gt mh me mi mj aw mk bi"><span id="6197" class="ml mm it me b gy mn mo l mp mq">if i % 2 == 0:<br/>marker = players[1]<br/>else: marker = players[0]</span></pre><p id="619e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.我们放置标记并向玩家显示棋盘，然后我们增加计数器<code class="fe mb mc md me b">i</code>来切换玩家:</p><pre class="kj kk kl km gt mh me mi mj aw mk bi"><span id="0e44" class="ml mm it me b gy mn mo l mp mq"># Play !<br/> place_marker(board, marker, int(position))<br/> # Check the board<br/> display_board(board)<br/> i += 1</span></pre><p id="96bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.我们检查是否有人赢了:</p><pre class="kj kk kl km gt mh me mi mj aw mk bi"><span id="a615" class="ml mm it me b gy mn mo l mp mq"><strong class="me iu"><em class="nb"> </em></strong>if win_check(board, marker):<br/> print(“You won !”)<br/> break<br/> game_on=full_board_check(board)</span></pre><p id="a03a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.最后，我们请求重播。如果用户想再玩一次，我们重新初始化我们的棋盘和计数器变量，然后回到我们的第一个<code class="fe mb mc md me b">while True</code>循环。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="805c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们的代码已经可以工作了，你也可以开始玩了。您只需要将全部代码粘贴到一个<code class="fe mb mc md me b">.py</code>文件中，并使用Python命令运行它。<br/>以下是您将获得的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/f78ed01b8fdcac1d5637f5d4c425230b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7WowPeMEmnpIse6pg8QUUA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">TicTacToe游戏概述</p></figure><p id="9c6e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有这些教程都是在观看一个精彩的Udemy课程<a class="ae mr" href="https://www.udemy.com/course/complete-python-bootcamp/" rel="noopener ugc nofollow" target="_blank">完整的Python训练营</a>时完成的。</p><p id="08c4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以在GitHub gist中找到完整的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="f6f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我希望你喜欢这个教程，并且这个井字游戏会在这个特殊的时期给你带来快乐。</p><p id="bb86" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢所有的评论。</p></div></div>    
</body>
</html>