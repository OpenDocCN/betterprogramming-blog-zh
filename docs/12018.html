<html>
<head>
<title>Build Dynamic Gradient Generator Using React and Chroma.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React和Chroma.js构建动态渐变生成器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-dynamic-gradient-generator-using-react-and-chroma-js-ace95aba2263?source=collection_archive---------5-----------------------#2022-05-05">https://betterprogramming.pub/build-dynamic-gradient-generator-using-react-and-chroma-js-ace95aba2263?source=collection_archive---------5-----------------------#2022-05-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e0b6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用React从头开始创建一个简单的渐变功能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/42a44ed556feb20d15c931bdcc9689ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7MrZSSnbM7krZ8ohttg0yA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片<a class="ae kv" href="https://sahilpatel09.github.io/" rel="noopener ugc nofollow" target="_blank">萨希尔·帕特尔</a></p></figure><p id="f953" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">梯度发生器似乎很有趣。我主要使用https://mycolor.space/网站来生成不同格式的渐变。在周末，我决定制作我的渐变生成器，我已经制作了一个类似的“mycolor space”网站。</p><p id="dd44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里找到项目的<a class="ae kv" href="https://github.com/sahilpatel09/Gradient-Generator-using-React.js" rel="noopener ugc nofollow" target="_blank">源代码</a>，在这里找到<a class="ae kv" href="https://gradient-generator-react.netlify.app/" rel="noopener ugc nofollow" target="_blank">现场演示</a>。</p><p id="ffa0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">渐变发生器有改变方向和颜色的选项。它接受颜色的参数，并生成它们之间最相关的3种颜色。</p><h1 id="2f29" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">准备好环境</h1><p id="f31f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先使用create-react-app创建一个react app，并添加对Tailwind CSS的支持。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="11b3" class="mu lt iq mq b gy mv mw l mx my">npx create-react-app color-generator-react<br/>cd color-generator-react</span></pre><p id="0c27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，将cd放入项目中，添加唯一的依赖项Chroma-js。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="54b6" class="mu lt iq mq b gy mv mw l mx my">yarn add chroma-js<br/>OR<br/>npm install chroma-js</span></pre><h1 id="c0cb" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">添加顺风CSS</h1><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="da3d" class="mu lt iq mq b gy mv mw l mx my">yarn add -D tailwindcss postcss autoprefixer<br/>OR<br/>npm install -D tailwindcss postcss autoprefixer<!-- --> </span></pre><p id="5f84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面的代码创建了一个<code class="fe mz na nb mq b">tailwindcss.config.js</code>文件。由于我们已经传递了<code class="fe mz na nb mq b">-p</code>标志，它还创建了一个带有默认配置的<code class="fe mz na nb mq b">postcss.config.js</code>文件，用于Tailwind CSS。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="5a69" class="mu lt iq mq b gy mv mw l mx my">npx tailwindcss init -p</span></pre><p id="7cb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们在assets文件夹中创建一个<code class="fe mz na nb mq b">tailwind.css</code>文件。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="014f" class="mu lt iq mq b gy mv mw l mx my">mkdir assets<br/>cd assets<br/>touch tailwind.css // Linux<br/>OR <br/>echo. &gt; tailwind.css // Windows</span></pre><p id="209b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在创建的<code class="fe mz na nb mq b">tailwind.css</code>文件中，添加下面的顺风指令。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="024f" class="mu lt iq mq b gy mv mw l mx my">@tailwind base;<br/>@tailwind components;<br/>@tailwind utilities;</span></pre><p id="6085" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">恭喜，顺风CSS成功添加到项目中。</p><p id="9d3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦添加完毕，我们就可以开始这个项目了。不过在此之前，我们先来稍微介绍一下<a class="ae kv" href="https://gka.github.io/chroma.js/" rel="noopener ugc nofollow" target="_blank"> Chroma.js </a>。</p><h1 id="35a0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">色度简介. js</h1><p id="3ee7" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">Chroma.js是一款出色的色彩处理、转换和缩放软件。它拥有你所需要的一切，从变暗或变亮到色调调整。它也给你不同颜色空间的结果。它可以读取、转换、分析和处理不同格式的颜色。</p><p id="f651" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用色度从实际给定的2个参数中再生成3种颜色，并创建5种颜色的渐变。</p><h1 id="21a5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">让我们建立布局</h1><p id="9d37" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了简单起见，只有一个主要组件。下面的标记使用flexbox属性使<code class="fe mz na nb mq b">div</code>之间的任何内容居中。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="2e87" class="mu lt iq mq b gy mv mw l mx my">&lt;div className="flex items-center bg-gray-900 justify-center md:fixed h-screen inset-0 px-10"&gt;<br/>    /* All the content is centered. */<br/>    &lt;/div&gt;</span></pre><p id="9cf4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要创建控件来改变颜色扩展的方向，请将以下代码添加到<code class="fe mz na nb mq b">App.js</code>文件中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="d7ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要使其中一些旋转，将这个CSS添加到<code class="fe mz na nb mq b">App.css</code>文件中。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="797d" class="mu lt iq mq b gy mv mw l mx my">.rotate-135 {<br/>    transform: rotate(135deg);<br/>}</span><span id="50f7" class="mu lt iq mq b gy ne mw l mx my">.rotate-225 {<br/>    transform: rotate(225deg);<br/>}<br/>button:focus{<br/>    border: 2px solid white;<br/>    border-radius:50%;<br/>    outline: none;<br/>    transition: all 220ms ease-in;<br/>}</span></pre><p id="a48a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它现在应该看起来像这样。</p><p id="6bdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们添加两个按钮来接受用户的颜色输入，并在下面添加一个CSS代码框。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="244a" class="mu lt iq mq b gy mv mw l mx my">.font-cursive {<br/>    font-family: cursive;<br/>}</span><span id="bfc7" class="mu lt iq mq b gy ne mw l mx my">.box{<br/>    background: rgba( 255, 254, 254, 0.05 );<br/>    box-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );<br/>    backdrop-filter: blur( 9.5px );<br/>    -webkit-backdrop-filter: blur( 9.5px );<br/>    border-radius: 10px;<br/>    border: 1px solid rgba( 255, 255, 255, 0.18 );<br/>}</span></pre><p id="ad2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦添加了标记和CSS，看起来应该是这样的。此时此刻，我们已经完成了应用程序的基本布局。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/8229074f078d78dbc2f1e019819d9a7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ilm7pM_RqfZ5DjMatt5f3g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者:Sahil Patel</p></figure><h1 id="bf26" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">添加功能</h1><p id="6382" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先，我们必须声明颜色和按钮的所有变量和引用。为了使用React功能组件中的状态，我将使用“useState”钩子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="2471" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，当箭头按钮被选中时，函数<code class="fe mz na nb mq b">changeOrientation</code>被触发，方向字符串如下所示传入。</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="da1c" class="mu lt iq mq b gy mv mw l mx my">&lt;button title="to right" onClick={() =&gt; changeOrientation("to right") }&gt;<br/>              &lt;img src={arrow} alt="arrow to right" className="transform rotate-90" /&gt;<br/>&lt;/button&gt;</span></pre><p id="4718" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了处理这个函数，我们将编写下面的函数:</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="6e4d" class="mu lt iq mq b gy mv mw l mx my">const changeOrientation = function (ori){</span><span id="91cb" class="mu lt iq mq b gy ne mw l mx my">    //condition to check if the passed in string is circle<br/>    //if circle the radial gradient is generated<br/>    //else linear gradient</span><span id="a7ea" class="mu lt iq mq b gy ne mw l mx my">        if(ori === "circle"){<br/>          //setting the direction variable &amp; orientation<br/>            setDirection("radial-gradient")<br/>            setOrientation(ori)<br/>        }else{<br/>            setDirection("linear-gradient")<br/>            setOrientation(ori)<br/>        }</span><span id="8355" class="mu lt iq mq b gy ne mw l mx my">    }</span></pre><p id="d100" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，当背景颜色是任何颜色时，我们必须根据背景颜色动态地将输入框的颜色设置为暗或亮。同样，我们将不得不从用户的输入生成3种动态颜色。为了处理这个问题，我们有以下函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="af98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">动态颜色生成器功能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="121d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，每当有人输入颜色并按下Enter按钮时，就会触发一个名为<code class="fe mz na nb mq b">doJob(e)</code>的函数，事件通过参数传递。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h1 id="dc91" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">完整的App.js代码</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="d773" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe mz na nb mq b">yarn start or npm run start</code>运行应用程序，您应该在localhost:3000处看到应用程序的输出。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/9efdef08af3a4738ea0d247b5845c16e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1KeQ0VT2ua4KaVuRSM5cQg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">最终结果—作者提供的图片</p></figure><p id="edd0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您阅读文章。</p></div></div>    
</body>
</html>