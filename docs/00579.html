<html>
<head>
<title>Adopting iOS Dark Mode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">采用iOS黑暗模式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/adopting-ios-dark-mode-e2970482aa5a?source=collection_archive---------2-----------------------#2019-06-13">https://betterprogramming.pub/adopting-ios-dark-mode-e2970482aa5a?source=collection_archive---------2-----------------------#2019-06-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6b42" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">iOS 13黑暗模式下的默认和自定义颜色和图像</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/13a3f2b64a94a035485f25e6de05c302.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*MqWQ-8giUOp83wk4tF0sEw.jpeg"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">iOS 13黑暗模式</p></figure><p id="1959" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">简而言之，为了在iOS中采用深色模式，你需要准备两套颜色或者图像。一个用于白天模式，一个用于夜晚模式。</p><p id="3b03" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">看起来工作量很大，但是真的要看情况。如果你的应用程序没有为黑暗模式定制的图标、颜色或图像，那就很简单了。否则，这将需要一些工作，但我会告诉你一些方法来帮助你。</p><p id="6497" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在进入细节之前，我们先来看看iOS 13中的黑暗模式是如何工作的。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="ae98" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">用户界面元素颜色(语义颜色)</h1><p id="6aa6" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated"><a class="ae mr" href="https://developer.apple.com/documentation/uikit/uicolor/ui_element_colors?changes=latest_minor" rel="noopener ugc nofollow" target="_blank"> UI元素颜色</a>是一组新的标准颜色对象，用于标签、文本、背景、链接等等。仅在iOS 13、tvOS 13及更高版本上可用。</p><p id="8c5f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着苹果还为所有系统UI组件准备了两套颜色。棘手的是，一个颜色名称实际上映射到两种颜色——一种用于白天模式，一种用于夜晚模式。例如:</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="6181" class="mx lv iq mt b gy my mz l na nb">lable.textColor = .label</span></pre><p id="1037" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nc nd ne mt b">UIColor.label</code>实际上是白天模式下的黑色，夜晚模式下的白色。只要您使用元素颜色，当您的用户在白天模式和夜晚模式之间切换时，系统将为您处理颜色变化。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="85b9" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">采用默认颜色的用户界面</h1><p id="2375" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">如果项目中的一些UI组件使用默认的系统颜色，您可以简单地将它们更改为新的UI元素颜色。</p><h2 id="4c1a" class="mx lv iq bd lw nf ng dn ma nh ni dp me la nj nk mg le nl nm mi li nn no mk np bi translated">程序化</h2><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="fbcd" class="mx lv iq mt b gy my mz l na nb">self.label.textColor = .label<br/>self.view.backgroundColor = .systemBackground</span></pre><h2 id="873c" class="mx lv iq bd lw nf ng dn ma nh ni dp me la nj nk mg le nl nm mi li nn no mk np bi translated">界面生成器</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/ea75339bc023f68c5c6ec8bd34229cda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*DI77L2NYtauDSYJNusMhOw.png"/></div></figure></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="c948" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">如何在模拟器中切换黑暗模式？</h1><p id="0b50" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">当您打开Xcode 11 beta或更高版本，在模拟器中运行应用程序时，会出现一个新的小环境覆盖图标。点击它，然后你可以在模拟器中切换黑暗模式。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nr"><img src="../Images/1dde8afd1acadda2c7c5dfb275cca28f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g_pdhLnT4pens3JtwLMoLA.png"/></div></div></figure></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="88f5" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">采用定制颜色的用户界面</h1><h2 id="7a76" class="mx lv iq bd lw nf ng dn ma nh ni dp me la nj nk mg le nl nm mi li nn no mk np bi translated">程序化</h2><p id="0ee9" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">在iOS 13中，引入了一个新的<code class="fe nc nd ne mt b">UIColor</code>初始化器:</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="dca2" class="mx lv iq mt b gy my mz l na nb">init(dynamicProvider: @escaping (<a class="ae mr" href="https://developer.apple.com/documentation/uikit/uitraitcollection?changes=latest_minor" rel="noopener ugc nofollow" target="_blank">UITraitCollection</a>) -&gt; <a class="ae mr" href="https://developer.apple.com/documentation/uikit/uicolor?changes=latest_minor" rel="noopener ugc nofollow" target="_blank">UIColor</a>)</span></pre><p id="3172" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以根据<code class="fe nc nd ne mt b">UITraitCollection</code>中的<code class="fe nc nd ne mt b">userInterfaceStyle</code>属性自定义自己的颜色:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="fcbf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以简单地从<code class="fe nc nd ne mt b">Assets</code>创建一个新的颜色集，然后在检查器面板下，将<code class="fe nc nd ne mt b">Appearance</code>改为暗模式，然后你就可以设置两种颜色了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi ny"><img src="../Images/ab938bf1bbeb58ee9694a365b8fecf14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J6knMzYUIAdQbKyzdexFDA.png"/></div></div></figure><p id="d8d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe nc nd ne mt b">Assets</code>中设置好颜色后，你可以在任何地方使用这个名称，当然，当黑暗模式切换时，系统会为你处理颜色变化。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="e8cb" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">采用带有定制图像的用户界面</h1><p id="838b" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">与彩色相似，深色模式的图像也可以在<code class="fe nc nd ne mt b">Assets</code>中设置。</p><p id="42eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe nc nd ne mt b">Assets</code>中设置颜色或图像的好处是它是向后兼容的。这意味着你不需要在你的代码中说<code class="fe nc nd ne mt b">if #available(iOS13, *)</code>。对于运行iOS 12及之前版本的应用，系统会自动使用白天模式的颜色或图像。</p></div></div>    
</body>
</html>