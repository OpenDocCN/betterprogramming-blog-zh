<html>
<head>
<title>How to Add Columns to Pandas at a Specific Location</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在特定位置向熊猫添加列</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-add-columns-to-pandas-at-a-specific-location-77913aa6b9f0?source=collection_archive---------14-----------------------#2022-01-06">https://betterprogramming.pub/how-to-add-columns-to-pandas-at-a-specific-location-77913aa6b9f0?source=collection_archive---------14-----------------------#2022-01-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bfa9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何根据列索引或列名在特定位置插入列的演练示例</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5345c0acea9b72032d77dc25ae298089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1T7Y72wNPV8f-OBu"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">帕斯卡·米勒在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class="kz la gp gr lb lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="e079" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在Pandas中，当我们添加一个新列时，它会出现在数据框的末尾。但是，很多时候需要在特定位置添加列。让我们看看如何通过使用<code class="fe mn mo mp mq b">insert</code>方法在熊猫身上实现。</p><h1 id="dd0f" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">在开头插入一个熊猫专栏</h1><p id="c6f2" class="pw-post-body-paragraph lr ls it lt b lu nj ju lw lx nk jx lz ma nl mc md me nm mg mh mi nn mk ml mm im bi translated">让我们看看如何在数据框的开头添加一列。</p><pre class="kj kk kl km gt no mq np nq aw nr bi"><span id="814b" class="ns ms it mq b gy nt nu l nv nw"><strong class="mq iu">import</strong> <!-- -->pandas as pd</span><span id="c08a" class="ns ms it mq b gy nx nu l nv nw">df <strong class="mq iu">=</strong> <!-- -->pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]})</span><span id="f50d" class="ns ms it mq b gy nx nu l nv nw">df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/912df031007651a62f936aa40ef90a21.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/0*qBZq1AkiLxU18GZr.png"/></div></figure><pre class="kj kk kl km gt no mq np nq aw nr bi"><span id="30de" class="ns ms it mq b gy nt nu l nv nw"># new column</span><span id="f8d5" class="ns ms it mq b gy nx nu l nv nw">C <strong class="mq iu">=</strong> <!-- -->[7, 8, 9]</span><span id="772b" class="ns ms it mq b gy nx nu l nv nw">df.insert(loc<strong class="mq iu">=</strong>0, column<strong class="mq iu">=</strong> <!-- -->'MyNew', value <strong class="mq iu">=</strong> <!-- -->C )</span><span id="7305" class="ns ms it mq b gy nx nu l nv nw">df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/86ec2ec765983c88056c79b432a3e959.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/0*n2Cek0LbZYRB56gl.png"/></div></figure><h1 id="ae95" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">在特定位置添加列</h1><p id="a6e3" class="pw-post-body-paragraph lr ls it lt b lu nj ju lw lx nk jx lz ma nl mc md me nm mg mh mi nn mk ml mm im bi translated">在下一个例子中，我们展示了如何在特定位置添加一个新列，尤其是作为第三列。</p><pre class="kj kk kl km gt no mq np nq aw nr bi"><span id="bb39" class="ns ms it mq b gy nt nu l nv nw"># new column<br/>D <strong class="mq iu">=</strong> <!-- -->[10, 11, 12]</span><span id="3766" class="ns ms it mq b gy nx nu l nv nw">df.insert(loc<strong class="mq iu">=</strong>2, column<strong class="mq iu">=</strong> <!-- -->'MySecond', value <strong class="mq iu">=</strong> <!-- -->D )</span><span id="0171" class="ns ms it mq b gy nx nu l nv nw">df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/31b21bfdf57fcc839385095de9c0c218.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/0*06tHY7B8OITV56eq.png"/></div></figure><h1 id="71b3" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">在列名之前或之后添加列</h1><p id="f3aa" class="pw-post-body-paragraph lr ls it lt b lu nj ju lw lx nk jx lz ma nl mc md me nm mg mh mi nn mk ml mm im bi translated">最后，假设我们想要在特定列之后添加一个新列。例如，假设我们想要在<code class="fe mn mo mp mq b">MySecond</code>列之后添加一个新列。如前所述，我们需要指定要添加的列的位置。在Pandas中，我们可以使用<code class="fe mn mo mp mq b">get_loc</code>方法通过列名获得列的位置。下面的例子有助于理解。</p><h2 id="20ff" class="ns ms it bd mt ob oc dn mx od oe dp nb ma of og nd me oh oi nf mi oj ok nh ol bi translated">获取<code class="fe mn mo mp mq b">MySecond</code>列的位置</h2><pre class="kj kk kl km gt no mq np nq aw nr bi"><span id="fbff" class="ns ms it mq b gy nt nu l nv nw">df.columns.get_loc('MySecond')</span></pre><p id="3171" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们得到了:</p><pre class="kj kk kl km gt no mq np nq aw nr bi"><span id="b170" class="ns ms it mq b gy nt nu l nv nw">2</span></pre><h2 id="1de6" class="ns ms it bd mt ob oc dn mx od oe dp nb ma of og nd me oh oi nf mi oj ok nh ol bi translated">在<code class="fe mn mo mp mq b">MySecond</code>列后添加新列</h2><p id="8883" class="pw-post-body-paragraph lr ls it lt b lu nj ju lw lx nk jx lz ma nl mc md me nm mg mh mi nn mk ml mm im bi translated">既然我们得到了引用列的位置，我们就可以指定新列的位置。例如，新列的位置将是<code class="fe mn mo mp mq b">df.columns.get_loc('MySecond') + 1 = 3</code></p><pre class="kj kk kl km gt no mq np nq aw nr bi"><span id="a640" class="ns ms it mq b gy nt nu l nv nw"># new column<br/>E = [13, 14, 15]</span><span id="0bda" class="ns ms it mq b gy nx nu l nv nw">df.insert(loc=df.columns.get_loc('MySecond')+1, column= 'MyThird', value = E )</span><span id="8f92" class="ns ms it mq b gy nx nu l nv nw">df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/ebf5bcd6c50283cdcd6986a1d5c01725.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/0*ul5euC5f66jkr7mD.png"/></div></figure><h2 id="9d1e" class="ns ms it bd mt ob oc dn mx od oe dp nb ma of og nd me oh oi nf mi oj ok nh ol bi translated">在<code class="fe mn mo mp mq b">MySecond</code>列之前添加新列</h2><p id="64ed" class="pw-post-body-paragraph lr ls it lt b lu nj ju lw lx nk jx lz ma nl mc md me nm mg mh mi nn mk ml mm im bi translated">同样，我们可以在特定列之前添加一个新列。</p><pre class="kj kk kl km gt no mq np nq aw nr bi"><span id="7faf" class="ns ms it mq b gy nt nu l nv nw"># new column<br/>F = [16, 17, 18]</span><span id="77fd" class="ns ms it mq b gy nx nu l nv nw">df.insert(loc=df.columns.get_loc('MySecond'), column= 'MyForth', value = F )</span><span id="f1e4" class="ns ms it mq b gy nx nu l nv nw">df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/367c8c5288c9535370fffaedc28247b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/0*72wuGzwO4jWIbmxq.png"/></div></figure></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><p id="5315" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最初发布于<a class="ae ky" href="https://predictivehacks.com/?all-tips=how-to-add-columns-to-pandas-at-a-specific-location" rel="noopener ugc nofollow" target="_blank">预测黑客</a></p></div></div>    
</body>
</html>