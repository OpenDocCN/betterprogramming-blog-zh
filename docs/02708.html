<html>
<head>
<title>Create a Stretchy Header in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Swift中创建弹性标题</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-a-stretchy-header-in-swift-6d840e9d5106?source=collection_archive---------10-----------------------#2019-12-18">https://betterprogramming.pub/create-a-stretchy-header-in-swift-6d840e9d5106?source=collection_archive---------10-----------------------#2019-12-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0390" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用不到5行代码就完成了</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dae2a845069ffd68d496a67513e9d054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e1iypsouAGB6jABtPW-JyA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯托夫·高尔在<a class="ae ky" href="https://unsplash.com/s/photos/iphone-on-table?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="24b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">弹性标题是Twitter、脸书和Spotify等各种应用中常见的UI元素。它们给应用程序增加了视觉效果，虽然看起来令人生畏，但是一旦你弄清楚发生了什么，它们真的是小菜一碟。所以今天，我们将在我们自己的应用程序中添加一个可伸缩的标题！</p><p id="9e25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建新的Xcode项目。您可以随意命名它，并将其保存在系统中的任意位置。我们只想快点进入有趣的部分！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/9b9d1e1c012d3c1e1770c2d997c3b8a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IfzeayGiMFYJQ14CPQZNQg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建您的项目！</p></figure><p id="04b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您新创建的Xcode项目中，转到<em class="lw"> </em> Main.storyboard并添加一个<em class="lw"> UIImageView </em>到其中。将它固定到超级视图的前沿、后沿和顶边，以便它根据屏幕的宽度扩展，并将自己固定在屏幕的顶部。此外，添加一个高度限制为300，或任何你喜欢的，到图像。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lx"><img src="../Images/2652d83e3a220504ae5571116bbf2c5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KPOCjtt7sE524ER-OsCz5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">给出UIImageView约束</p></figure><p id="9db5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，在ViewController中添加一个UITableView，并将其固定到视图的所有四个边缘，以便它覆盖整个视图。它可能会与您刚刚插入的UIImageView重叠，但这没关系！我们将在接下来的步骤中修复它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lx"><img src="../Images/526aa88c099a49c1c139c8eb9d2aeefc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTC5ezlC0j2gWn2oRMawjg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">给出UITableView约束</p></figure><p id="e1e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们将创建IBOutlets来引用代码中的这些元素。我们将为UITableView、UIImageView和UIImageView的高度约束创建一个IBOutlet。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ly"><img src="../Images/ad63859e17c809f2c0307a98f6c93bb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n3ooYgu43ybFo9ERV7AbvA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用IBOutlet连接一切</p></figure><p id="8ec1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们将添加一些设置代码，以便我们的视图看起来像它预期的那样。我在应用程序的Assets.xcassets文件夹中添加了一个名为joker的图像，并将其设置为UIImageView的图像。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="e392" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">有趣的部分</h1><p id="1f51" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">获得这种效果的技巧是，我们将创建一个与UIImageView高度相同的透明单元格，然后开始我们的实际内容(与给tableview一个图像高度的contentInset相同)。每当用户向上或向下滚动时，我们将更新UIImageView的高度。</p><p id="57dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在scrollViewDidScroll方法中，每当表滚动时，我们都会得到一个回调。因此，我们将覆盖这个方法，并在其中插入我们自己的自定义代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="ba16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在上面做了什么:</p><ol class=""><li id="28fa" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated">我们确定了高度，这是从contentOffset中减去我们的常规高度。当我们向上滚动时，contentOffset实际上是负的，所以它被添加到常规高度(减去负的量实际上会添加它)，所以它扩展了。</li><li id="79b7" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">我们将高度约束处理为我们在第一步中算出的高度。</li><li id="11a2" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><strong class="lb iu">鳍。</strong></li></ol><p id="cd49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几个要点:</p><ul class=""><li id="8f22" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nt nl nm nn bi translated">请确保UIImageView的contentMode是scaleAspectFill。</li><li id="b779" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nt nl nm nn bi translated">确保UITableView的<em class="lw">c</em>ontentadjustmentbehavior设置为never。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/b31a42587c4e822bb4bea2e6be0f3770.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/1*bKUoT4mkwQA2goB4Kp2Kgg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@jamie452?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">杰米街</a>在<a class="ae ky" href="https://unsplash.com/s/photos/2020?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="3903" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以添加这个标题效果来提升你的应用程序，让它看起来更有吸引力。您还可以调整图像的标准高度，以获得适合您的像素级完美外观。所有这些只用了不到五行的代码！</p></div></div>    
</body>
</html>