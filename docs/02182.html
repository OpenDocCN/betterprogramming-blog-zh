<html>
<head>
<title>Deploying an Angular App to AWS S3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Angular应用程序部署到S3自动气象站</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/deploying-an-angular-app-to-aws-s3-301e0c3827d7?source=collection_archive---------6-----------------------#2019-11-12">https://betterprogramming.pub/deploying-an-angular-app-to-aws-s3-301e0c3827d7?source=collection_archive---------6-----------------------#2019-11-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="23ba" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在不到五分钟的时间内，从零开始创建Angular应用程序并将其部署到AWS S3</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6b61652a51537e862e7d62694df563cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-fFDPdHDz7ti-UxPN7gHyQ.png"/></div></div></figure><p id="d63b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">先决条件:</p><ul class=""><li id="7ac4" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><a class="ae lz" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">节点</a></li><li id="8969" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated"><a class="ae lz" href="https://angular.io/cli" rel="noopener ugc nofollow" target="_blank">角度CLI </a></li><li id="d33a" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated"><a class="ae lz" href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/" rel="noopener ugc nofollow" target="_blank">激活的AWS账户</a></li></ul><p id="d5e5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，使用Angular CLI生成一个新的Angular应用程序:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="9dc8" class="mk ml it mg b gy mm mn l mo mp">ng new</span></pre><p id="3653" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">系统会提示您输入应用程序的名称和一些配置选项。一旦CLI为您的Angular应用程序生成了所有必要的文件，让我们通过执行以下操作来确保它正常运行:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="fa2e" class="mk ml it mg b gy mm mn l mo mp">cd &lt;app-name&gt;<br/>ng serve</span></pre><p id="b287" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在您最喜欢的浏览器中，导航到<a class="ae lz" href="http://localhost:4200" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>。如果您使用Angular 8，您应该会看到与此类似的屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/a4d9b0d396f6c9ef0010b3ca52bb49dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LvNtptQF6ZNh5KGsy9rnpA.png"/></div></div></figure><p id="c6db" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，您的应用程序已经启动并运行，让我们将其部署到S3。为此，您需要登录您的AWS帐户，并前往<a class="ae lz" href="https://s3.console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> S3控制台</a>。</p><p id="8927" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">点击<em class="mr">创建存储桶</em>按钮，按照步骤为您的新存储桶命名并选择一个合适的区域。</p><p id="83bc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">保持<em class="mr">配置选项</em>不变，取消勾选<em class="mr">设置权限</em>部分的<em class="mr">阻止所有公共访问</em>。现在查看并创建您的存储桶。您的最终屏幕应该如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/dcb526b56c460d74f42631fee3d69ec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XlgURH0G8S8l7bzykH8f6w.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/edcd231f98b00ebfe0fc11701114455d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wy-75ZVoLTqhkWGCmn0vpA.png"/></div></div></figure><p id="b90d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们的新桶看起来很棒。但是当我们把它装满的时候会看起来更好。</p><p id="fbfb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">目前，我们所有的是一个带有Angular应用程序的文件夹。我们需要生成构建文件，这样S3就可以理解并服务于它们。让我们回到Angular应用程序，简单运行:</p><pre class="kj kk kl km gt mf mg mh mi aw mj bi"><span id="29d1" class="mk ml it mg b gy mm mn l mo mp">ng build --prod</span></pre><p id="7e73" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您应该会在项目目录中看到一个新的<code class="fe mu mv mw mg b">dist</code>文件夹。它包含<br/>浏览器可以理解的文件，你现在需要上传到你的桶。</p><p id="59b0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">回到S3上传你的<code class="fe mu mv mw mg b">dist</code>文件夹的内容。确保在<em class="mr">管理公共权限</em>下拉菜单中选择<em class="mr">授予对该对象</em>的公共读取权限。</p><p id="b0c2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">保持<em class="mr">设置权限</em>和<em class="mr">设置属性</em>不变。然后点击<em class="mr">上传</em>。以下是一些有用的截图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/8eafeb8ff97bd469a20464ca778e7d5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VdFRzWJEjZar7iYSGt4M8w.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/f354cded341e4c7a979f3bdcb18da594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T0lCca4tal69QIOkwyPBLQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/e28dfde1dfe2212365a9e6c8bf162c3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*33q_1vOqEsWXYr5WYtABUA.png"/></div></div></figure><p id="1591" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，导航到<em class="mr">属性</em>并展开<em class="mr">静态网站托管</em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/6d623ace40ab0007f81116228d0cdf12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgkwzYYG0FeKNZVEIiVK-g.png"/></div></div></figure><p id="ff3c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">点击<em class="mr">使用此桶托管网站</em>，进入<code class="fe mu mv mw mg b">index.html</code>获取<em class="mr">索引文件</em>。点击<em class="mr">保存</em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/4cdd7ce3687d837d5bfbc45e2e664d94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lLBau8-YJHdsXSU6EI-ngQ.png"/></div></div></figure><p id="404b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">保存后，你应该会看到一个彩色的勾号代表<em class="mr">桶托管</em>，表示它现在已被启用。在顶部，<em class="mr">端点</em>是新部署的Angular应用程序的链接。</p><p id="86a0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">大约一分钟后，导航到该链接以查看结果。恭喜你。您刚刚将Angular应用程序部署到AWS S3！</p></div></div>    
</body>
</html>