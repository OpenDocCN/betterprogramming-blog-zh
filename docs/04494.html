<html>
<head>
<title>I Created a Truffle Box With React, Redux, and Bootstrap 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我用React、Redux和Bootstrap 4创建了一个松露盒</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/i-created-a-truffle-box-with-react-redux-and-bootstrap-4-7f382f75483d?source=collection_archive---------6-----------------------#2020-04-16">https://betterprogramming.pub/i-created-a-truffle-box-with-react-redux-and-bootstrap-4-7f382f75483d?source=collection_archive---------6-----------------------#2020-04-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="447d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何自动化繁琐的设置任务，以便专注于功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/16e43641f37c5f09ddccc92ac8cf0059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*fMydxlx5wsBWi8CVW5sqYQ.png"/></div></figure><h1 id="9e84" class="kq kr it bd ks kt ku kv kw kx ky kz la jz lb ka lc kc ld kd le kf lf kg lg lh bi translated">什么是松露套房？</h1><p id="a767" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae me" href="https://www.trufflesuite.com/" rel="noopener ugc nofollow" target="_blank">松露</a>是世界上最受欢迎的区块链开发套件。用他们自己的话说:</p><blockquote class="mf"><p id="b7b3" class="mg mh it bd mi mj mk ml mm mn mo md dk translated">使用以太坊虚拟机(EVM)为区块链提供世界一流的开发环境、测试框架和资产管道，旨在使开发人员的生活更加轻松</p></blockquote><p id="ea20" class="pw-post-body-paragraph li lj it lk b ll mp ju ln lo mq jx lq lr mr lt lu lv ms lx ly lz mt mb mc md im bi translated">如果你不知道如何开始编写全栈以太坊去中心化应用(DApps)，考虑使用Truffle Suite 的<a class="ae me" href="https://medium.com/swlh/develop-test-and-deploy-your-first-ethereum-smart-contract-with-truffle-14e8956d69fc" rel="noopener">。</a></p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="177b" class="kq kr it bd ks kt nb kv kw kx nc kz la jz nd ka lc kc ne kd le kf nf kg lg lh bi translated">块菌盒</h1><p id="9bfb" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Truffle Boxes是样板工程，预先打包了一堆为您安装的依赖项。这省去了从头开始一个空白Truffle项目的麻烦，也省去了安装和配置自己的项目的麻烦。</p><p id="62cd" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">例如，如果你喜欢Vue.js并想在你的项目中使用它，你可以打开<a class="ae me" href="https://www.trufflesuite.com/boxes/drizzle-vue-box" rel="noopener ugc nofollow" target="_blank"> Vue.js Truffle Box </a>。</p><p id="7f91" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">我最喜欢的是<a class="ae me" href="https://www.trufflesuite.com/boxes/react" rel="noopener ugc nofollow" target="_blank">反应盒</a>。几乎我开始的每个项目都是从打开这个特殊的盒子开始的。</p><p id="7c51" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">我的问题是，我几乎总是使用Redux和Bootstrap，它们并没有附带。我安装这些，每次都执行相同的文件夹结构管理。</p><p id="bf74" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">过了一段时间，这种骗人的把戏变得单调乏味，就像任何称职的开发人员一样，我看到了实现自动化的机会。所以，我创造了一个松露盒！以下是方法。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="352e" class="kq kr it bd ks kt nb kv kw kx nc kz la jz nd ka lc kc ne kd le kf nf kg lg lh bi translated">创建盒子</h1><p id="7f1b" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">松露有关于如何创建松露盒子的很好的文档。每个盒子本质上都围绕着一个<code class="fe nl nm nn no b">truffle-box.json</code>配置文件。这个文件规定了在拆箱时应该运行什么命令，这样它就可以运行了。</p><p id="db3f" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">因为我习惯于从React Truffle盒子开始，所以我认为这是一个很好的起点。代码可以在GitHub上获得，所以我分叉了这个项目，并开始执行我每次开始新项目时所做的相同的家务。</p><h2 id="c1ba" class="np kr it bd ks nq nr dn kw ns nt dp la lr nu nv lc lv nw nx le lz ny nz lg oa bi translated">扩展反应盒</h2><p id="ddfd" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先我来解释一下React框自带的文件夹结构。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/a845c01b96a009ee74d3d3a362ad0ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*T5nI5eixRNd2HPw910oxKw.png"/></div><p class="oc od gj gh gi oe of bd b be z dk translated">图1: React box文件夹结构</p></figure><p id="2e7c" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">从上到下:</p><ul class=""><li id="3cad" class="og oh it lk b ll ng lo nh lr oi lv oj lz ok md ol om on oo bi translated"><code class="fe nl nm nn no b">client/</code> —前端代码所在。我们所有编译的契约和React组件都放在这里。</li><li id="73d8" class="og oh it lk b ll op lo oq lr or lv os lz ot md ol om on oo bi translated"><code class="fe nl nm nn no b">contracts<strong class="lk iu">/</strong></code> —智能合约的代码住在这里。</li><li id="c44a" class="og oh it lk b ll op lo oq lr or lv os lz ot md ol om on oo bi translated"><code class="fe nl nm nn no b">migrations/</code> —将您的智能合同迁移到区块链live的部署脚本。</li><li id="8bbf" class="og oh it lk b ll op lo oq lr or lv os lz ot md ol om on oo bi translated"><code class="fe nl nm nn no b">test/</code> —用于测试您的智能合约的文件位于此处。</li><li id="ec44" class="og oh it lk b ll op lo oq lr or lv os lz ot md ol om on oo bi translated"><code class="fe nl nm nn no b">.gitattributes </code> —为Git提供一些配置(不要担心这个)。</li><li id="58b5" class="og oh it lk b ll op lo oq lr or lv os lz ot md ol om on oo bi translated"><code class="fe nl nm nn no b">LICENSE</code> —盒子许可(还是那句话，不用担心这个)。</li><li id="3131" class="og oh it lk b ll op lo oq lr or lv os lz ot md ol om on oo bi translated"><code class="fe nl nm nn no b">truffle-config.js</code> —项目的配置。像<a class="ae me" href="https://solidity.readthedocs.io/en/v0.6.6/" rel="noopener ugc nofollow" target="_blank">可靠性</a>编译器版本和网络细节之类的东西都存在这里。</li></ul><p id="adfc" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">我从不改变根文件夹的结构，所以这个结构和新的盒子是一致的。在<code class="fe nl nm nn no b">client/</code>文件夹里面是我修改的地方。</p><h2 id="d727" class="np kr it bd ks nq nr dn kw ns nt dp la lr nu nv lc lv nw nx le lz ny nz lg oa bi translated">添加依赖关系</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/f9afdce87f6673ecd62e061e2cc6952d.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*_LHGmmJcPHduYZmICw_ZlA.png"/></div><p class="oc od gj gh gi oe of bd b be z dk translated">图2:客户端/文件夹</p></figure><p id="5dfe" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">图2显示了合同编译完成后，<code class="fe nl nm nn no b">client/</code>文件夹在React框中的样子。(我们的<code class="fe nl nm nn no b">truffle-config.js</code>文件声明编译后的智能合约将存储在<code class="fe nl nm nn no b">client/src/contracts/</code>中。)</p><p id="b14a" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">这个盒子已经存在的依赖项有<code class="fe nl nm nn no b">react</code>、<code class="fe nl nm nn no b">react-dom</code>、<code class="fe nl nm nn no b">react-scripts</code>和<code class="fe nl nm nn no b">web3</code>。它是最基本的，这使得盒子很灵活。</p><p id="a7c8" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">正如我前面提到的，我总是添加Redux和Bootstrap，所以在添加它们和其他一些之后，图3显示了<code class="fe nl nm nn no b">package.json</code>的样子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/7fe09a79b0d453c143d2a2bd658d31bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*Qed_MeTOw267i4WUxNtEyw.png"/></div><p class="oc od gj gh gi oe of bd b be z dk translated">图3:添加新依赖项后的package.json代码片段</p></figure><p id="61ff" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">新的依赖项有:<code class="fe nl nm nn no b">bootstrap</code>和<code class="fe nl nm nn no b">react-bootstrap</code>用于前端样式；<code class="fe nl nm nn no b">redux</code>、<code class="fe nl nm nn no b">redux-logger</code>、<code class="fe nl nm nn no b">react-redux</code>用于集成Redux以及选择器的<code class="fe nl nm nn no b">lodash</code>和<code class="fe nl nm nn no b">reselect</code>(稍后将详细介绍)。</p><h2 id="05ad" class="np kr it bd ks nq nr dn kw ns nt dp la lr nu nv lc lv nw nx le lz ny nz lg oa bi translated">Redux文件夹</h2><p id="bf1d" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我总是把我的Redux代码放在一个文件夹中，使它与组件文件分开。</p><p id="02a7" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">在对任何DApp的Redux端进行编码时，我都遵循<a class="ae me" href="https://medium.com/blockcentric/how-to-structure-react-redux-applications-53906565a61b" rel="noopener">IARS范式来构建Redux代码</a>，它由四个文件组成:<code class="fe nl nm nn no b">interactions.js</code>、<code class="fe nl nm nn no b">actions.js</code>、<code class="fe nl nm nn no b">reducers.js</code>和<code class="fe nl nm nn no b">selectors.js</code>。</p><p id="744f" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">添加这些内容后，文件夹结构如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/5145f117251df67ac28b5d37d0bb51f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*WxmNf0G6AiF9kunJrswwWg.png"/></div><p class="oc od gj gh gi oe of bd b be z dk translated">图4:添加redux文件夹</p></figure><p id="474e" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">您会注意到有两个文件我还没有提到:<code class="fe nl nm nn no b">configure.js</code>包含一些让Redux工作的样板配置，以及<code class="fe nl nm nn no b">subscriptions.js</code>我们很快会回来。</p><h2 id="c4a2" class="np kr it bd ks nq nr dn kw ns nt dp la lr nu nv lc lv nw nx le lz ny nz lg oa bi translated">装载区块链</h2><p id="caa0" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一个好的松露盒子应该包含足够的代码来运行开箱即用的<em class="ox">(原谅这个双关语)。这允许开发人员修改代码并检查DApp中的变化。</em></p><p id="d269" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">例如，React Box在加载页面时加载区块链，然后从<code class="fe nl nm nn no b">SimpleStorage</code>合同中检索数据，并显示在页面上。</p><p id="ef51" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">这个工作流的问题是，除非<a class="ae me" href="https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en" rel="noopener ugc nofollow" target="_blank">元掩码</a>为DApp做好准备(用户登录到正确的网络)，否则它将导致一个错误，这可能会吓到新开发人员。</p><p id="dc51" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">相反，我希望DApp在页面上单击“连接”按钮时加载区块链数据。这个按钮将调用一个<em class="ox">交互</em>来加载<a class="ae me" href="https://web3js.readthedocs.io/en/v1.2.6/" rel="noopener ugc nofollow" target="_blank"> web3 </a>和区块链数据。</p><p id="41cf" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">然后它会发送一个<em class="ox">动作</em>，该动作被一个<em class="ox">缩减器</em>捕获，该缩减器将数据保存在Redux存储中。然后，组件可以使用<em class="ox">选择器</em>从存储中检索数据。</p><p id="312a" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated"><code class="fe nl nm nn no b">getWeb3.js</code>文件包含一个监听器，它在检索web3之前一直等到窗口被加载。我删除了它，这样它可以被交互调用，而不是被窗口事件调用。</p><p id="6d00" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">接下来，我删除了<code class="fe nl nm nn no b">App.js</code>组件文件中的所有内容，并开始重写我自己的文件。我所需要的只是一个按钮和一些标签，以便在加载后显示web3和区块链的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oz pa di pb bf pc"><div class="gh gi oy"><img src="../Images/d9d4f574ccb38f487c4c745ef43e23ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uFAi0dfuPm__vM67m7VPPQ.png"/></div></div><p class="oc od gj gh gi oe of bd b be z dk translated">图5:按钮代码。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/b6b0a7f5637295bcba9cd84b9b70e8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*rkxtm_ZkSLGsyiN0-IhSvw.png"/></div><p class="oc od gj gh gi oe of bd b be z dk translated">图connectBlockchain()函数的内容。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oz pa di pb bf pc"><div class="gh gi pe"><img src="../Images/b1bcfbf04bca252f4717bb83d93d7ec3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*aRjmm7zJNX9xY2QSJ54Ezg.png"/></div></div><p class="oc od gj gh gi oe of bd b be z dk translated">图interactions.js中的loadWeb3()函数。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/a8789a7e56f49c9e0c810f5f6d0465fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*7RbxwwfAmpOnpxwuON6SKA.png"/></div><p class="oc od gj gh gi oe of bd b be z dk translated">图8: web3Loaded()动作。</p></figure><p id="b055" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">图5、6、7和8显示了单击connect按钮时执行的代码序列。根据图8中的操作，reducer将web3实例存储在Redux存储中，如图9所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oz pa di pb bf pc"><div class="gh gi pg"><img src="../Images/5519a46d5da3058dd488aaa71ac63c33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T37CSk78EWdR-gZwLC8j5Q.png"/></div></div><p class="oc od gj gh gi oe of bd b be z dk translated">图9: Web3缩减器</p></figure><h2 id="7d1c" class="np kr it bd ks nq nr dn kw ns nt dp la lr nu nv lc lv nw nx le lz ny nz lg oa bi translated">装载合同</h2><p id="1dac" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因为我想尽可能多地利用React Box提供的现有代码，所以我保留了<code class="fe nl nm nn no b">SimpleStorage</code>智能契约。</p><p id="e04c" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">DApp需要像加载区块链一样加载已部署的智能合约，以显示其中的数据。在<code class="fe nl nm nn no b">connectBlockchain()</code>函数中，我添加了以下几行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oz pa di pb bf pc"><div class="gh gi ph"><img src="../Images/fc8e1b9bf572a099964041db4d225444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y11hv9uwM8eYlhGtoUTxZw.png"/></div></div><p class="oc od gj gh gi oe of bd b be z dk translated">图10:加载智能合同数据</p></figure><p id="2d06" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">然后我添加了后续的<em class="ox">交互</em>、<em class="ox">动作、</em>和<em class="ox">减速器</em>。加载MetaMask用来与DApp交互的当前帐户也是如此。</p><h2 id="e2eb" class="np kr it bd ks nq nr dn kw ns nt dp la lr nu nv lc lv nw nx le lz ny nz lg oa bi translated">使用选择器</h2><p id="9aec" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">只要一切都连接正确，组件将使用选择器从Redux存储中检索数据并显示在页面上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oz pa di pb bf pc"><div class="gh gi pi"><img src="../Images/d8c6df27633e03f670d10f1a256ddd79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_ijnHh17p2_4fG9RDxo6Q.png"/></div></div><p class="oc od gj gh gi oe of bd b be z dk translated">图11:选择器. js</p></figure><p id="448d" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated"><code class="fe nl nm nn no b">Selectors.js</code>是使用<code class="fe nl nm nn no b">lodash</code>和<code class="fe nl nm nn no b">reselect</code>依赖项的地方。</p><h2 id="a377" class="np kr it bd ks nq nr dn kw ns nt dp la lr nu nv lc lv nw nx le lz ny nz lg oa bi translated">订阅帐户更改</h2><p id="62fa" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在结束之前，我还想在盒子里放最后一件东西。MetaMask不再支持在帐户改变时重新加载帐户，这意味着DApps必须在用户改变时侦听它。</p><p id="40b0" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">默认情况下，这从来没有真正实现过，并且可能需要很长时间来挖掘文档(尤其是对于新开发人员)以找到解决方法。</p><p id="db85" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">我前面提到的<code class="fe nl nm nn no b">subscriptions.js</code>文件是事件监听所在的位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oz pa di pb bf pc"><div class="gh gi pj"><img src="../Images/a4338c52e7dccc8c449fd5394c834f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z0F4YJHvgaAVsNfV92j9fQ.png"/></div></div><p class="oc od gj gh gi oe of bd b be z dk translated">图12: subscriptions.js</p></figure><p id="2ec5" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">通过添加这个小功能，Redux商店的数据将在用户更改其活动帐户时重新加载。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="5b08" class="kq kr it bd ks kt nb kv kw kx nc kz la jz nd ka lc kc ne kd le kf nf kg lg lh bi translated">最终块菌盒</h1><p id="8423" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">添加了这些特性后，这就是页面在初始拆箱、运行迁移和启动客户端时的样子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pk pl l"/></div><p class="oc od gj gh gi oe of bd b be z dk translated">图13:前端</p></figure><p id="3b41" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">在图13所示的视频中，当单击按钮时，DApp连接到区块链，并从合同中加载帐户信息和值。</p><p id="7233" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">当MetaMask中的帐户发生变化时，屏幕上显示的帐户会通过<code class="fe nl nm nn no b">subscribers.js</code>文件和IARS模式中的订阅进行更新。最后几秒钟显示存储在Redux存储中的数据。</p><p id="9aa7" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">我认为这个盒子在配置帮助开发人员使用React、Redux和Bootstrap 4快速编码新功能所需的脚手架方面做得很好。</p><p id="e0b7" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">如果您想亲自尝试，请遵循下面的安装说明。</p><h2 id="1767" class="np kr it bd ks nq nr dn kw ns nt dp la lr nu nv lc lv nw nx le lz ny nz lg oa bi translated">安装说明</h2><p id="b1a7" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先(假设您已经安装了Truffle)，确保您在一个新的空目录中，然后运行<code class="fe nl nm nn no b">unbox</code>命令:</p><pre class="kj kk kl km gt pm no pn po aw pp bi"><span id="d767" class="np kr it no b gy pq pr l ps pt">truffle unbox alexroan/react-redux-bootstrap-box</span></pre><p id="6900" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">设置您的<code class="fe nl nm nn no b">truffle-config.js</code>文件以连接到您的本地开发网络，然后运行以下命令:</p><pre class="kj kk kl km gt pm no pn po aw pp bi"><span id="1015" class="np kr it no b gy pq pr l ps pt">truffle migrate</span></pre><p id="7ac1" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">要启动前端应用程序，请将<code class="fe nl nm nn no b">cd</code>放入<code class="fe nl nm nn no b">client/</code>文件夹，并开始使用以下命令:</p><pre class="kj kk kl km gt pm no pn po aw pp bi"><span id="c88e" class="np kr it no b gy pq pr l ps pt">cd client/<br/>npm run start</span></pre></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="bfff" class="kq kr it bd ks kt nb kv kw kx nc kz la jz nd ka lc kc ne kd le kf nf kg lg lh bi translated">被卖方收回的汽车</h1><p id="272f" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">GitHub 上的<a class="ae me" href="https://github.com/alexroan/react-redux-bootstrap-box" rel="noopener ugc nofollow" target="_blank">提供了完整的repo，其中包含启动和运行的详细说明。</a></p><p id="0dcc" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">如果您有任何改进或建议，请在GitHub上提交问题或请求。</p><p id="c3b5" class="pw-post-body-paragraph li lj it lk b ll ng ju ln lo nh jx lq lr ni lt lu lv nj lx ly lz nk mb mc md im bi translated">感谢阅读！</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="4a06" class="kq kr it bd ks kt nb kv kw kx nc kz la jz nd ka lc kc ne kd le kf nf kg lg lh bi translated">进一步阅读</h1><p id="a0d3" class="pw-post-body-paragraph li lj it lk b ll lm ju ln lo lp jx lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你对区块链开发感兴趣，我会写一些关于入门和建立投资组合的教程、演练、提示和技巧。查看以下资源:</p><div class="pu pv gp gr pw px"><a href="https://medium.com/blockcentric/blockchain-development-resources-b44b752f3248" rel="noopener follow" target="_blank"><div class="py ab fo"><div class="pz ab qa cl cj qb"><h2 class="bd iu gy z fp qc fr fs qd fu fw is bi translated">区块链开发资源马上跟进</h2><div class="qe l"><h3 class="bd b gy z fp qc fr fs qd fu fw dk translated">学习区块链、以太坊和DApp开发的资源列表</h3></div><div class="qf l"><p class="bd b dl z fp qc fr fs qd fu fw dk translated">medium.com</p></div></div><div class="qg l"><div class="qh l qi qj qk qg ql ko px"/></div></div></a></div></div></div>    
</body>
</html>