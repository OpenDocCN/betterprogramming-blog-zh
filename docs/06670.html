<html>
<head>
<title>The Complete Guide on How to Code Review</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何进行代码评审的完整指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-complete-guide-on-how-to-code-review-df3d01404f6b?source=collection_archive---------0-----------------------#2020-10-23">https://betterprogramming.pub/the-complete-guide-on-how-to-code-review-df3d01404f6b?source=collection_archive---------0-----------------------#2020-10-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0142" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">苹果、谷歌、微软、亚马逊和脸书的最佳实践</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1087ec9d23d46fe004cf78143387e602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nFARG5D1d5rnAxDmBcssBw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">妮可·沃尔夫在<a class="ae kv" href="https://unsplash.com/s/photos/code-review?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="27d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码评审的最终目标是什么？</p><p id="f05e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以确保改变奏效？验证代码是否遵循了样式指南？检查新的变化是否不会破坏任何东西？所有这些？这些都没有？</p><p id="dbc8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有这些问题都是代码审查的必要部分，但没有一个是它的最终目标。</p><p id="e7c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码评审的主要目的是确保解决方案以最好的方式解决问题——从代码和产品的角度。</p><p id="1f02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有的代码评审实践都是为了满足这个最终目标而设计的。</p><p id="a5fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，您如何确定您正在审查的解决方案是否是解决问题的最佳方式呢？换句话说，你如何进行代码审查？</p><p id="b586" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们深入探讨一下。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9959" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">没有完美的代码</h1><p id="69fc" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在你开始审查代码之前，你需要明白没有所谓的<em class="mw">完美的</em>代码——只有<em class="mw">平衡的</em>代码。</p><p id="5a55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为一个评审者，你应该在取得进步的需要和理解变化的重要性之间取得平衡。</p><p id="6652" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要追求完美。</p><p id="fb93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你不仅仅是为了代码而写代码，而是用代码解决业务问题。</p><p id="eb69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果代码解决了一个问题，并提高了系统的可维护性、可读性和可理解性，即使它并不完美，也不要拖延几个星期。留下评论，告诉作者如何改进他们的代码，并给它开绿灯。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="50f8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">你的意见不是权威</h1><p id="751f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">每个人对每件事都有自己的看法:你应该如何写代码，你应该花多少时间，为什么你需要使用一些文本编辑器而不是另一个，等等。</p><p id="1d0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们都有不同的经历，不同的背景，但我们需要在代码审查期间关闭它们。</p><p id="5163" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你决定你正在评论的解决方案写得好不好时，你必须依赖技术事实和标准，而不是个人偏好。</p><p id="e1d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，在编码时，也许您总是在行尾使用分号，但是您正在审阅的代码的作者却不这样做。你要做的第一件事是留下类似“在此添加分号”的注释但是你应该做的是创建一个风格指南，并使之成为团队的标准。</p><p id="c857" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码库一定要一致，不要为了符合个人喜好而写。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="10b6" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">解决冲突</h1><p id="e46b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我见过很多这样的例子，评审者在“如何编写代码”上犯了错误，在代码评审时留下了评论，在意识到他们错了之后，仍然决定改变他们的观点，只是为了看起来不愚蠢或者好像他们不知道一些事情。</p><p id="d219" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码审查并不是一个你需要统治对手的地方。你们是一个团队。你们朝着共同的目标努力。每个人都是你的队友。</p><p id="9e19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在冲突中你应该做的第一件事是达成共识。最好在聊天或视频通话中进行，而不是在GitHub上的评论中。到最后就快多了。</p><p id="98b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你们两个都找不到关于如何编写代码的共同解决方案，请向团队或技术负责人寻求帮助。</p><p id="359c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要在一个冲突上坐几天——试着尽快解决它。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2403" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">代码质量</h1><p id="1e39" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在高层次上，在代码评审时，您需要注意两件事情:</p><ol class=""><li id="ed2e" class="mx my iq ky b kz la lc ld lf mz lj na ln nb lr nc nd ne nf bi translated">改变解决问题。</li><li id="a907" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nc nd ne nf bi translated">代码设计得很好。</li></ol><p id="bb02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要做到这一点，创建一个清单，列出在评审代码时应该注意的事项，并在每次代码评审时使用它。</p><p id="90f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是我对您应该关注的内容的一般性建议:</p><ul class=""><li id="69eb" class="mx my iq ky b kz la lc ld lf mz lj na ln nb lr nl nd ne nf bi translated">变更按照开发人员的意图进行。在任务中一切都按需要工作。</li><li id="bb06" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nl nd ne nf bi translated"><strong class="ky ir">变化并不复杂，难以理解。</strong>团队所有成员都能理解每一行代码，并能在未来轻松维护这段代码。</li><li id="41c3" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nl nd ne nf bi translated"><strong class="ky ir">作者为一切事物取了好名字。它们不长，也很难读懂。</strong></li><li id="a316" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nl nd ne nf bi translated">作者在必要的地方添加了评论。好的注释是那些解释为什么一段代码存在的注释——而不仅仅是解释代码在做什么。如果代码不够清晰，不能自我解释，那么作者应该使代码更简单。</li><li id="81e0" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nl nd ne nf bi translated"><strong class="ky ir">变化遵循风格指南。如果你在公司没有风格指南，你一定要创建一个。</strong></li><li id="f074" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nl nd ne nf bi translated"><strong class="ky ir">变更需要记录吗？</strong>如果他们改变了基本或主要功能的主要部分(构建、测试、API、集成等。)，那么作者需要创建或更新关于它的文档。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d448" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">试验</h1><p id="ad46" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">每一个变化都必须经过测试。</p><p id="a464" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果作者还没有添加单元、集成或端到端测试，请他们根据变更情况进行添加。</p><p id="8248" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保测试不是为了自我测试而编写的。它们必须是有用和有效的。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7009" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">评论</h1><p id="c367" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">首先，从你对你正在审查的代码的人的感觉中抽象出来。总是对代码而不是对一个人发表评论。</p><p id="dd6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你看到作者写了“糟糕”的代码，不知何故引发了愤怒，先冷静下来，然后带着平静的心态回来留下你的评论。</p><p id="7d7a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，永远不要写像“做这个，不要做这个”这样的评论总是要解释作者为什么要做出改变，并添加一个来源(链接到博客帖子、文档、指南),人们可以在那里读到更多。但是解释原因的时候不要写完整的解决问题的方案。代码审查不能占用你一整天的时间。你的工作也不是修复另一个开发者的改变。在指出问题和提供直接解决方案之间找到平衡。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5e0e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">做人吧</h1><p id="162f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">还有最后一条:做人。</p><p id="5ef7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你在修改中发现了一些好的东西，告诉作者。代码审查不应该仅仅是错误。也给一些积极的反馈。做导师。</p><p id="31b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对你来说，这可能只是一个小小的积极的评论，但对其他人来说，这可能会让他们的一天。</p><p id="cfe3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">干杯，</p><p id="530b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">–<a class="ae kv" href="https://twitter.com/nickbulljs" rel="noopener ugc nofollow" target="_blank">尼克</a></p><p id="319c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这篇文章，你需要知道，每周一，我都会给4000多名web开发人员发一封信，里面有3篇来自技术世界的精选文章、2篇Web开发指南和1篇本周最佳Tweet</p><p id="22c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="mw">“你的迅器真是混账牛逼</em> </strong> <em class="mw">，真是尼克。这给了我一周的良好开端，让我学到了很多重要的知识。”</em></p><p id="e782" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里  <strong class="ky ir">加入免费获得短小精悍知识信的聪明开发者<a class="ae kv" href="https://nickbulljs.com/3-2-1/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">。</strong></a></strong></p></div></div>    
</body>
</html>