<html>
<head>
<title>React-Three-Fiber: Build 3D for the Web With React and WebGL Easily</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React-Three-Fiber:使用React和WebGL轻松构建3D网络</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/react-three-fiber-build-3d-for-the-web-with-react-and-webgl-easily-c0df8801292?source=collection_archive---------4-----------------------#2020-02-07">https://betterprogramming.pub/react-three-fiber-build-3d-for-the-web-with-react-and-webgl-easily-c0df8801292?source=collection_archive---------4-----------------------#2020-02-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2ce8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">直接编写three.js交互来与组件进行反应，并清除范围和道具</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/226fc225438229ab09fe7ca16923ecd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VD6Pbn6Lt_7P5bhXvNXP6w.png"/></div></div></figure><h1 id="c940" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">什么是反应三纤维？</h1><p id="b897" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">React-Three-Fiber 或R3F <strong class="lo iu"> </strong>是一个强大的React渲染器，用于web和React Native场景。</p><h2 id="e5e6" class="mj kv it bd kw mk ml dn la mm mn dp le lv mo mp lg lz mq mr li md ms mt lk mu bi translated">我为什么要用它？</h2><p id="04a6" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">帮助您提高场景的创建速度。有了R3F，您将花更少的时间做无聊的事情，花更多的时间定义定制组件，R3F将为您做所有这些:</p><ul class=""><li id="8f9b" class="mv mw it lo b lp mx ls my lv mz lz na md nb mh nc nd ne nf bi translated">创建画布</li><li id="7112" class="mv mw it lo b lp ng ls nh lv ni lz nj md nk mh nc nd ne nf bi translated">绑定事件</li><li id="4e97" class="mv mw it lo b lp ng ls nh lv ni lz nj md nk mh nc nd ne nf bi translated">创建<code class="fe nl nm nn no b">Three.js</code>对象</li><li id="fa18" class="mv mw it lo b lp ng ls nh lv ni lz nj md nk mh nc nd ne nf bi translated">开始渲染循环</li></ul></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="7a55" class="ku kv it bd kw kx nw kz la lb nx ld le jz ny ka lg kc nz kd li kf oa kg lk ll bi translated">我为什么要用它？</h1><h2 id="45e1" class="mj kv it bd kw mk ml dn la mm mn dp le lv mo mp lg lz mq mr li md ms mt lk mu bi translated"><strong class="ak">基于组件的场景</strong></h2><p id="16b0" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">3JS允许我们以一种<code class="fe nl nm nn no b">declarative</code>的方式编写<code class="fe nl nm nn no b">three.js</code>对象。这意味着我们可以利用<code class="fe nl nm nn no b">props</code>、<code class="fe nl nm nn no b">states</code>和<code class="fe nl nm nn no b">hooks</code>构建场景，创建可重用的React组件。</p><h2 id="66f5" class="mj kv it bd kw mk ml dn la mm mn dp le lv mo mp lg lz mq mr li md ms mt lk mu bi translated"><strong class="ak">内置助手</strong></h2><p id="c3fb" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">它带有一些有用的功能，如<code class="fe nl nm nn no b">raycaster</code>，在每个<code class="fe nl nm nn no b">mesh</code>上，它可以让你访问所有有用的指针事件，如<code class="fe nl nm nn no b">onClick</code>、<code class="fe nl nm nn no b">onPointerOver</code>、<code class="fe nl nm nn no b">onPointerOut</code>等。</p><h2 id="6719" class="mj kv it bd kw mk ml dn la mm mn dp le lv mo mp lg lz mq mr li md ms mt lk mu bi translated"><strong class="ak">挂钩</strong></h2><p id="1af0" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">它有很多钩子，比如<code class="fe nl nm nn no b">useFrame</code>或<code class="fe nl nm nn no b">useThree</code>，从中我们可以得到<code class="fe nl nm nn no b">renderer</code>、<code class="fe nl nm nn no b">scene</code>、<code class="fe nl nm nn no b">camera</code>等有用的对象。</p><h2 id="5aaf" class="mj kv it bd kw mk ml dn la mm mn dp le lv mo mp lg lz mq mr li md ms mt lk mu bi translated"><strong class="ak">无依赖性</strong></h2><p id="84ef" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">因为它“只是”一个渲染器，它不依赖于<code class="fe nl nm nn no b">three.js</code>版本，所以你可以自由选择你的<a class="ae mi" href="https://github.com/mrdoob/three.js/releases" rel="noopener ugc nofollow" target="_blank">首选版本</a>。</p><h2 id="ce79" class="mj kv it bd kw mk ml dn la mm mn dp le lv mo mp lg lz mq mr li md ms mt lk mu bi translated"><strong class="ak">仅在需要时重新渲染</strong></h2><p id="5360" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">它像任何React组件一样工作，根据依赖关系的变化(状态、存储等)更新自身。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="09f1" class="ku kv it bd kw kx nw kz la lb nx ld le jz ny ka lg kc nz kd li kf oa kg lk ll bi translated">装置</h1><p id="8f51" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">用<a class="ae mi" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> npm </a>安装:</p><p id="fd71" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated"><code class="fe nl nm nn no b">npm install three react-three-fiber</code></p><p id="9998" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">用<a class="ae mi" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">纱线</a>安装:</p><p id="6189" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated"><code class="fe nl nm nn no b">yarn add three react-three-fiber</code></p><p id="3154" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">你只需要添加三个(三个-js)和这个伟大的模块，没有其他依赖，它只有<a class="ae mi" href="https://bundlephobia.com/result?p=react-three-fiber@4.0.14" rel="noopener ugc nofollow" target="_blank"> 33kB </a>！</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="9f1d" class="ku kv it bd kw kx nw kz la lb nx ld le jz ny ka lg kc nz kd li kf oa kg lk ll bi translated">我如何使用它？</h1><p id="ffbd" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">只需使用<code class="fe nl nm nn no b">Canvas</code>组件创建一个<code class="fe nl nm nn no b">three-js</code>画布——这将占用其容器的整个高度和宽度。</p><p id="231b" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">然后，在<code class="fe nl nm nn no b">Canvas</code>节点中，您将能够添加所有的动态组件——比如react组件的嵌套层次结构以及自定义组件。在本例中，我们创建了一个带有一些定制行为的<code class="fe nl nm nn no b">Box</code>组件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="9c5d" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">我们使用<code class="fe nl nm nn no b">useRef</code>来访问<code class="fe nl nm nn no b">cube</code>的网格。在它被<code class="fe nl nm nn no b">three-js</code>初始化后，在内部，<code class="fe nl nm nn no b">canvas</code>能够保持与它的连接，当鼠标或触摸悬停在它上面时，改变它的比例或方向。</p><p id="8035" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">如果你向下滚动查看<code class="fe nl nm nn no b">Canvas</code>，你会看到<code class="fe nl nm nn no b">three-js</code>的其他官方组件，如<code class="fe nl nm nn no b"><a class="ae mi" href="https://threejs.org/docs/#api/en/lights/AmbientLight" rel="noopener ugc nofollow" target="_blank">ambientLight</a></code>和<code class="fe nl nm nn no b"><a class="ae mi" href="https://threejs.org/docs/#api/en/lights/PointLight" rel="noopener ugc nofollow" target="_blank">pointLight</a></code>。</p><pre class="kj kk kl km gt og no oh oi aw oj bi"><span id="503b" class="mj kv it no b gy ok ol l om on">&lt;Canvas&gt;</span><span id="9849" class="mj kv it no b gy oo ol l om on">&lt;ambientLight /&gt;</span><span id="3523" class="mj kv it no b gy oo ol l om on">&lt;pointLight position={[10, 10, 10]} /&gt;</span><span id="c306" class="mj kv it no b gy oo ol l om on">&lt;Box position={[-1.2, 0, 0]} /&gt;</span><span id="01cf" class="mj kv it no b gy oo ol l om on">&lt;Box position={[1.2, 0, 0]} /&gt;</span><span id="187e" class="mj kv it no b gy oo ol l om on">&lt;/Canvas&gt;</span></pre><p id="37d7" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">总而言之，如果你想开始使用这个伟大的库来添加更多的3D，你只需要使用Fiber中的这些函数/钩子:</p><pre class="kj kk kl km gt og no oh oi aw oj bi"><span id="c71f" class="mj kv it no b gy ok ol l om on">import { Canvas, useFrame } from 'react-three-fiber'</span></pre><p id="5df5" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">如果你喜欢这个库，我建议你在这里开始寻找一个更基础的关于三js和WebGL世界的介绍:<a class="ae mi" href="https://threejsfundamentals.org/" rel="noopener ugc nofollow" target="_blank">https://threejsfundamentals.org/</a>。</p><p id="693b" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">如果你想了解更多光纤的功能，你可以阅读更多官方文档。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="7d48" class="ku kv it bd kw kx nw kz la lb nx ld le jz ny ka lg kc nz kd li kf oa kg lk ll bi translated">你对这个图书馆有什么看法？</h1><p id="ac1b" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">还有其他的高级库，比如A-FRAME，它们在网络上用3D元素构建类似的体验和页面。</p><p id="fda9" class="pw-post-body-paragraph lm ln it lo b lp mx ju lr ls my jx lu lv ob lx ly lz oc mb mc md od mf mg mh im bi translated">但是R3F的<em class="op">真正的</em> <strong class="lo iu"> </strong>威力是能够访问<code class="fe nl nm nn no b">three-js</code>的底层API，帮助你更加熟悉这个不可思议的WebGL库。它还帮助您保持组件的清晰定义的层次结构，以便全面重用。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="a7af" class="ku kv it bd kw kx nw kz la lb nx ld le jz ny ka lg kc nz kd li kf oa kg lk ll bi translated">code sandbox React-三纤维游乐场</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq of l"/></div></figure></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="55c7" class="ku kv it bd kw kx nw kz la lb nx ld le jz ny ka lg kc nz kd li kf oa kg lk ll bi translated">如果你想了解更多关于钩子的知识</h1><p id="2cdd" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">当我开始使用钩子时，我亲自阅读了《学习反应钩子》<strong class="lo iu"/>,它帮助我理解了它们如何使用工具，如<strong class="lo iu"> useFrame或画布钩子</strong>:<a class="ae mi" href="https://amzn.to/2Y8hoX9" rel="noopener ugc nofollow" target="_blank">https://amzn.to/2Y8hoX9</a></p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><h1 id="b3f0" class="ku kv it bd kw kx nw kz la lb nx ld le jz ny ka lg kc nz kd li kf oa kg lk ll bi translated">参考资料和资源</h1><ul class=""><li id="4bab" class="mv mw it lo b lp lq ls lt lv or lz os md ot mh nc nd ne nf bi translated"><a class="ae mi" href="https://github.com/react-spring/react-three-fiber" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="da58" class="mv mw it lo b lp ng ls nh lv ni lz nj md nk mh nc nd ne nf bi translated"><a class="ae mi" href="https://bundlephobia.com/result?p=react-three-fiber@4.0.14" rel="noopener ugc nofollow" target="_blank">捆绑恐惧症</a></li><li id="d7f1" class="mv mw it lo b lp ng ls nh lv ni lz nj md nk mh nc nd ne nf bi translated"><a class="ae mi" href="https://codesandbox.io/s/react-three-fiber-medium-86hx3" rel="noopener ugc nofollow" target="_blank"> CodeSandbox </a></li></ul></div></div>    
</body>
</html>