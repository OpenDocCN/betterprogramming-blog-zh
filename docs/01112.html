<html>
<head>
<title>The Power of GraphQL With RESTful APIs — Meet Hypnos</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具有RESTful APIs的GraphQL的威力——来见见修普诺斯</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/apollo-graphql-rest-api-hypnos-f7a7dfd3df47?source=collection_archive---------3-----------------------#2019-08-15">https://betterprogramming.pub/apollo-graphql-rest-api-hypnos-f7a7dfd3df47?source=collection_archive---------3-----------------------#2019-08-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ba74" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">桌面应用程序，用于沙盒GraphQL类调用和对RESTful API端点的响应</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7449a15bcd55fca12ead5546bff7153b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qmprXdZ-fUeOPebe4DFJZQ.png"/></div></div></figure><p id="cb14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很难在不谈论其他的情况下讨论GraphQL或者T2阿波罗T3。自2016年成立以来，Apollo已经成为<a class="ae lq" href="https://techcrunch.com/2019/06/12/apollo-raises-22m-for-its-graphql-platform/" rel="noopener ugc nofollow" target="_blank">在应用程序中利用</a> GraphQL的领先客户之一。</p><p id="0079" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">阿波罗宣称采用其技术的工程团队包括Airbnb、奥迪、美国消费者新闻与商业频道和Expedia。</p><p id="12d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">GraphQL因其速度和声明式查询而受到称赞；与REST APIs不同，GraphQL查询将客户端请求的内容准确地返回给单个端点，从而提高了互联网连接不良或设备功能较弱的客户端的性能。</p><p id="d2f7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是要实现查询语言，就需要对API进行彻底的修改，以适当地服务于GraphQL请求。为了测试查询，开发人员必须开发一个快速应用程序或编写一个GraphQL后端。</p><p id="4596" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现有的游乐场是有用的，但它们可能没有对开发者有意义的数据或错误。虽然GraphQL非常强大，但错误不是描述性的，即使是在Apollo客户端层。</p><p id="47b8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就是修普诺斯的用武之地。</p><h1 id="17d8" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">什么是修普诺斯？</strong></h1><p id="c170" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">修普诺斯是一个端点测试者，利用Apollo的link-rest包对经过认证或未经认证的RESTful APIs进行GraphQL结构的查询。</p><p id="8b10" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当进行适当的查询时，屏幕上会呈现一个响应对象，其中包含客户机指定的字段。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="3313" class="lr ls it bd lt lu mv lw lx ly mw ma mb jz mx ka md kc my kd mf kf mz kg mh mi bi translated"><strong class="ak">它是如何工作的？</strong></h1><p id="22b5" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">使用link-rest包，Apollo客户机向给定的API和路径发出获取请求。在接收到响应时，客户机解析响应以构造类似于从GraphQL端点返回的数据。</p><p id="86dc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">虽然底层的操作是通过对REST APIs的正常读取，而不是一个繁琐的JSON格式的对象，其中的字段与客户端无关，但数据是根据查询规范进行解析的。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="f124" class="lr ls it bd lt lu mv lw lx ly mw ma mb jz mx ka md kc my kd mf kf mz kg mh mi bi translated"><strong class="ak">修普诺斯如何帮忙</strong></h1><p id="4838" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">Apollo本身并不以声明方式处理错误。它确实允许开发者以他们选择的任何方式用<a class="ae lq" href="https://www.apollographql.com/docs/react/features/error-handling/" rel="noopener ugc nofollow" target="_blank"> apollo-link-error </a>包捕捉错误。</p><p id="af9b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，如果GraphQL错误没有被正确写入(例如，在前端)，则反馈可能是不清楚的。修普诺斯捕捉语法错误，并清楚地描述查询构造中的错误在哪里。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/9bdcf1f07f002df92630ec8055bb136d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Xm-WlWSx-ZS_Pwn7ebCi8w.gif"/></div></div><p class="nb nc gj gh gi nd ne bd b be z dk translated">在修普诺斯运行查询</p></figure><p id="7e1a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于GraphQL，如果一个查询被正确地构造到一个有效的端点，它将总是运行并返回信息和一个<code class="fe nf ng nh ni b">200</code>状态代码，即使声明的查询字段返回null。</p><p id="6516" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了帮助解决这个问题，修普诺斯解析响应数据来检查空值。由于REST APIs可能有意使用空值，因此仍然会显示整个响应，以及存在空值的堆栈跟踪。</p><p id="8063" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">修普诺斯团队(<a class="ae lq" href="https://github.com/dillon-garrett" rel="noopener ugc nofollow" target="_blank">狄龙·加勒特</a>、<a class="ae lq" href="https://github.com/SophieNye" rel="noopener ugc nofollow" target="_blank">索菲·奈</a>和<a class="ae lq" href="https://github.com/wrobinson91" rel="noopener ugc nofollow" target="_blank">威尔·罗宾逊</a>)对他们的第一次发布感到非常自豪。如果你对修普诺斯(v0.0.1-beta)感兴趣，请查看我们的<a class="ae lq" href="https://github.com/oslabs-beta/hypnos/" rel="noopener ugc nofollow" target="_blank"> GitHub页面</a>，并<a class="ae lq" href="https://github.com/oslabs-beta/hypnos/releases" rel="noopener ugc nofollow" target="_blank">试用我们的应用</a>。</p></div></div>    
</body>
</html>