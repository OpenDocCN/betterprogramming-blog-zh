<html>
<head>
<title>How to Write Common React Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何编写常见的React组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-write-common-react-components-53d9e3551595?source=collection_archive---------2-----------------------#2020-07-31">https://betterprogramming.pub/how-to-write-common-react-components-53d9e3551595?source=collection_archive---------2-----------------------#2020-07-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6294" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">构建项目自己的组件库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7deb5c67eceedd53cc52cf1a4b7fd2a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_BS1X3IveCnX4he2"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">菲利贝托·桑蒂兰在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="bec2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有多少次我开始一个新的React项目并对自己说，<em class="lv">我希望我有一个好的公共组件库，以我喜欢的方式和用我喜欢的东西构建？然后，我花了一天左右的时间准备好所有的样板文件并开始工作。</em></p><p id="a556" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果有办法把这个时间减半呢？有——通过构建自己的通用组件库或使用像bootstrap这样的预构建组件库。</p><p id="6c6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将组件库分为两类。</p><ol class=""><li id="f941" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">常见的文体成分</li><li id="0110" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">通用逻辑组件</li></ol><p id="81c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以找到许多可以为您处理这些事情的库，但是我总是发现自己花了大量的时间在这些库上，尽我所能让它们满足业务需求。</p><p id="5515" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从那以后，我开始采用一个新的原则，只在真正有必要的时候引入那些库。</p><p id="ed8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在大多数情况下，这完全说得通。但是在大多数情况下，采用混合方法是很重要的。我将讨论一个我用来创建我自己的公共组件库的方法，我希望它能使你在你的项目中有更多的控制和清晰度。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="4e1b" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated"><strong class="ak">常见文体成分</strong></h1><p id="d3c0" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">这些组件只包含样式信息。这意味着它们将不包含任何业务逻辑。它们由您的div、标题、跨度和其他常见元素组成。对于那些喜欢JS类型架构中的CSS的人来说，有时候，这些组件最终也不过如此。您的情感或样式组件位于一个公共位置，供您使用和重用。</p><p id="8a2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的偏好是用情感来创造这些成分。但是您也可以使用您喜欢的任何工具组合。我还使用带有常规类结构的sass来创建这些组件。</p><p id="8479" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，我用非常简单的名字命名这些组件，比如按钮、标题、表格、单元格。然后，对于文件名，添加一个styled后缀会很有用——这将帮助您区分样式组件和逻辑组件。例如:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="8f24" class="nt ms it np b gy nu nv l nw nx">Button.styled.js</span></pre><p id="272c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">这些类型的组件有哪些例子？</em></p><p id="def7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是我创建的属于这一类的一些组件的例子。</p><ul class=""><li id="0b22" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu ny mc md me bi translated">排印</li><li id="be86" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">头球</li><li id="4f37" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">表格行</li><li id="7ed0" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">表格单元格</li><li id="14d1" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">桌子</li><li id="a30c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">目录</li><li id="8f48" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">列表项目</li><li id="a3ff" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">卡片</li><li id="9243" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">小跟班</li></ul><p id="6389" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个清单还可以继续下去…</p><p id="6f5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于这种分类中的物品，需要注意的重要一点是它们通常看起来像这样。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="ffdf" class="nt ms it np b gy nu nv l nw nx">const commonStyledComponentName = ({ childeren, classNames, as, ...rest }) =&gt;{  <br/>    const Element = as || 'div';<br/>    return (&lt;Element className={classNames} {...rest}&gt;{childeren}&lt;Element&gt;)<br/>}</span></pre><p id="e8ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">显然，这些组件的构造方式可以根据您是在JS中使用CSS还是在CSS中使用CSS而有所不同。但是概念是一样的。</p><p id="83de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通用样式的组件应该只是基本的基本组件，只有样式的业务逻辑。</p><p id="a685" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我喜欢在创建这些组件时添加一些道具，包括类名(或者你可以做宽度、高度、字体等。道具)。如果我想或者需要的话，我喜欢能够改变元素的类型。我也喜欢使用React内置的儿童道具。</p><p id="dcf6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住，这些组件的关键是保持它们非常基本。你要避免在它们中有大量的逻辑。大多数时候这些组件需要有不同的变体或不同的风格，但仅此而已。</p><blockquote class="nz oa ob"><p id="4494" class="kz la lv lb b lc ld ju le lf lg jx lh oc lj lk ll od ln lo lp oe lr ls lt lu im bi translated">注意:考虑创建样式组件，使编写样式更容易。例如，我为flexbox添加了通用的样式组件。通常情况下，这可能看起来很奇怪，但对我来说，它创造了奇迹。它确实增加了一层div来包装我的内容，但这并没有困扰我，因为它非常清楚什么在使用flexbox，什么没有。</p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="3656" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">通用逻辑组件</h1><p id="32b6" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">这些组件之所以如此分类，是因为它们包含了创建我们的风格组件所需的所有逻辑。</p><p id="707c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许多人倾向于跳过这些组件作为通用组件，或者他们没有从逻辑上考虑如何设置这些组件。</p><p id="76f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我通常用容器来命名这些组件。因此，包含创建表的所有逻辑的组件可以称为TableContainer。有时这个术语容器可能会令人困惑，因为它看起来像一个文体概念。为了不混淆这一点，另一个好的命名约定是添加一个后缀<code class="fe of og oh np b">.logical</code>。比如说:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="40de" class="nt ms it np b gy nu nv l nw nx">TableContainer.logical.js</span></pre><p id="8e2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们讨论一下这些组件可能是什么。</p><p id="5f79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">这些类型的组件有哪些例子？</em></p><ul class=""><li id="d3f5" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu ny mc md me bi translated">桌子容器</li><li id="da59" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">烤面包容器</li><li id="81b2" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">补充报道</li><li id="2d93" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">导航条</li><li id="4090" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">列表</li><li id="3991" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">下拉菜单</li><li id="9dfc" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">选择按钮</li><li id="5ba6" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">情态动词</li><li id="3fae" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu ny mc md me bi translated">烤面包</li></ul><p id="328e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样的例子不胜枚举。</p><p id="4e4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">提醒一下，这些组件应该包含样式化的组件和业务登录，但是应该避免样式化它们自己。</p><p id="8be6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最喜欢的这个组件的例子是一个表格容器组件。我将在我的应用程序中处处使用TableContainer。</p><p id="ef5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个表格容器的简单例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="969f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些组件可能需要更多的思考，并且需要一个定义良好的api来使它们值得构建。但是这些组件将帮助你极大地简化你的代码，你会发现你可以在各种应用中使用它们。</p><blockquote class="nz oa ob"><p id="3a62" class="kz la lv lb b lc ld ju le lf lg jx lh oc lj lk ll od ln lo lp oe lr ls lt lu im bi translated">注意:这些组件不会替换一个完整的页面组件，但是会简化页面组件文件甚至其他组件文件的大小。尝试你能在你的应用中找到的通用逻辑组件，你会对你能找到的东西感到惊讶。</p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="6625" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">结论</h1><p id="60c9" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我希望这篇文章对你有所帮助。我发现创建这两种类型的通用组件减少了我的代码库的大小，并使我的代码库更容易管理、测试和开发。希望这对你有帮助。</p><p id="7f81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐！</p></div></div>    
</body>
</html>