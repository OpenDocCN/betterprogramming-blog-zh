<html>
<head>
<title>Exploring the Database Inspector in Android Studio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索Android Studio中的数据库检查器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-the-database-inspector-in-android-studio-de0026024895?source=collection_archive---------3-----------------------#2020-07-03">https://betterprogramming.pub/exploring-the-database-inspector-in-android-studio-de0026024895?source=collection_archive---------3-----------------------#2020-07-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7be7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Android开发者期待已久的工具来了</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/67b40bc1ace100ec5e664407edf48078.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lBy3MZ4Gr4tVX-Gl"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">丹尼斯·库默在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="e63c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论你使用的是<a class="ae ky" href="https://www.sqlite.org/index.html" rel="noopener ugc nofollow" target="_blank"> SQLite </a>还是<a class="ae ky" href="https://developer.android.com/topic/libraries/architecture/room" rel="noopener ugc nofollow" target="_blank"> Room </a>数据库，每个开发人员都需要一个工具来调试它。最近，Android Studio的团队发布了一个新版本(Canary 4.1)，具有数据库检查器功能。请记住，它只是在Canary 4.1中引入的，因此仍处于早期阶段。</p><p id="9673" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以从<a class="ae ky" href="https://developer.android.com/studio/preview" rel="noopener ugc nofollow" target="_blank">这个链接</a>安装金丝雀4.1。此外，请记住，您可以在笔记本电脑上同时运行多个版本的Android Studio(例如，用于专业开发的Android Studio稳定版本和探索数据库和布局检查器等即将推出的功能的金丝雀版本)。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="65dd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">调用数据库检查器</h1><p id="3f7c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">完成IDE设置后，下一步是打开一个具有本地数据库功能的项目。如果你没有任何带有本地DB的项目，那么使用<a class="ae ky" href="https://github.com/android/sunflower" rel="noopener ugc nofollow" target="_blank">向日葵</a> app。</p><p id="ecc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开项目后，在模拟器或设备中运行应用程序。然后打开数据库检查器，如下所示导航:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/95635eac433ec9c3c50f73840fb63b8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gam4iB5j--FCbpEIx7pr-g.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">视图-&gt;工具窗口-&gt;数据库检查器</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6c06" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">选择要调试的设备和数据库</h1><p id="64da" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">单击数据库检查器后，studio中会打开一个新窗口。首先，如果您将多个设备连接到系统，您必须选择设备。如果您的应用程序有多个数据库，那么您需要选择要调试的数据库。看一看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/371b9b6330c96cc9ce1145a5e922a75f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*79NFVbzuQ4NLd5v5Ud_4pA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据库检查器</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="300e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">在数据库检查器中执行查询</h1><p id="83d7" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这是令人兴奋的部分，通过执行查询，您可以在database inspector上看到本地DB中的数据。可以用两种方式执行它们——Dao查询和使用Run Query选项的自定义查询。</p><h2 id="caf6" class="nb md it bd me nc nd dn mi ne nf dp mm li ng nh mo lm ni nj mq lq nk nl ms nm bi translated">Dao查询</h2><p id="afb9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们实际上可以使用数据库检查器运行Dao函数并查看数据。当您调试时，这个特性很方便。当我们在调用数据库检查器后打开任何Dao类时，您将看到每个函数旁边的Run符号，以执行数据库检查器中的查询。看一看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/731ac6708353f4fe1c1576b0b4ed0d4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*BvXvKt_Ho0GlAetPV1k0HA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">执行Dao查询</p></figure><h2 id="fc9a" class="nb md it bd me nc nd dn mi ne nf dp mm li ng nh mo lm ni nj mq lq nk nl ms nm bi translated">自定义查询</h2><p id="2bce" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Android Studio的团队非常注意在数据库检查器中涵盖基本需求。其中之一是运行定制查询的能力。这有助于以多种方式调试数据库，而无需在Dao中实际编写任何东西。看一看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/b60ba9457c09558ba28aa6e3942dbd5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VfFO6nOU0WtPDdlJ9k9rpw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">执行自定义查询</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="aa7f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">更新数据</h1><p id="cf79" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你不能从检查器中更新数据，上面所有的功能都没有多大用处。因此，Android Studio团队还包括了一种从inspector本身向数据库更改或添加数据的方法。如果使用Room并通过livedata/flow观察数据，您可以在几秒钟内看到设备中的变化。</p><p id="b5c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该功能在调试时的许多情况下都很有用。假设我们有一个10个字符的植物名称，您想将长度增加到40个字符来检查UI。在这个用例中，您可以直接从检查器中更新名称并检查UI。</p><p id="7fa7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要更新数据，您只需双击字段并添加/删除数据。之后，按Enter键在数据库中更新它。看一看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/dd5ab057a0585c18312738361756d236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2g4BChUnowMCb1YBaGxExA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从检查器更新数据</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f136" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">实时更新</h1><p id="92fe" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这是数据库和最近发布的布局检查器中我最喜欢的功能之一。有了这个功能，如果数据库中有任何更改，我们可以立即在检查器中看到它们。</p><p id="73ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要首先启用此功能，我们需要在数据库检查器中选择“实时更新”<strong class="lb iu"> </strong>复选框。选中“实时更新”时，“数据库检查器”会自动显示您的应用程序对其数据库所做的任何更改。这个特性为数据库检查器带来了健壮的行为。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/e7a76bf5691d71c87adb6579a98f7b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*szx92LI1wnwOib3PLxFK7A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在数据库检查器中启用实时更新</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4e94" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="fc6b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">目前就这些。感谢阅读！希望你学到了有用的东西。</p></div></div>    
</body>
</html>