<html>
<head>
<title>Exploring the Salesforce Mobile SDK Using Android Studio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Android Studio探索Salesforce Mobile SDK</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-the-salesforce-mobile-sdk-using-android-studio-c1ece60d3171?source=collection_archive---------18-----------------------#2022-03-28">https://betterprogramming.pub/exploring-the-salesforce-mobile-sdk-using-android-studio-c1ece60d3171?source=collection_archive---------18-----------------------#2022-03-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6d67" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在本系列的第二篇文章中，让我们创建一个利用Salesforce平台和Salesforce Mobile SDK的原生Android应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1e96e5179d4427c139b6fe2f5c77ab55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6q5_WsOPnYmdjcUi5QJc8g.jpeg"/></div></div></figure><p id="66b0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">去年7月，我开始撰写一个系列文章，重点介绍如何在没有传统Salesforce客户端的情况下使用Salesforce平台。以下是该系列其他文章的链接:</p><ul class=""><li id="b522" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-without-using-salesforce-8ed8c2556926" rel="noopener">利用Spring Boot的销售力量</a></li><li id="50b5" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-svelte-93b431a15bf4" rel="noopener">利用Salesforce使用一个用简洁语言编写的客户端</a></li><li id="67d8" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-vue-js-e94dc0e19057" rel="noopener">使用Vue.js编写的客户端利用Salesforce】</a></li><li id="c9c9" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-mobile-applications-written-once-in-react-native-8f646a82774" rel="noopener">利用使用React Native编写(一次)的移动应用程序利用Salesforce】</a></li><li id="33cb" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-angular-36fe949ef69b" rel="noopener">使用Angular编写的客户端利用Salesforce】</a></li></ul><p id="0c82" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该系列的图示如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/3d4333673feb5998cf6222694a6d8bd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0OZ3hVBCkzBQhA2l79oO1w.png"/></div></div></figure><p id="4402" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上图显示了各种客户端框架如何访问Salesforce数据，而无需实际利用Salesforce生态系统提供的客户端。</p><p id="721e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最近，我开始了一个新的系列来演示<a class="ae lw" href="https://developer.salesforce.com/docs/atlas.en-us.mobile_sdk.meta/mobile_sdk/intro.htm" rel="noopener ugc nofollow" target="_blank"> Salesforce Mobile SDK </a>，它在独立的移动应用程序中利用了Salesforce平台的强大功能。</p><p id="6442" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这一新系列的图示如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi md"><img src="../Images/3a3323add30444d660bb91f01b52b27e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zrGrSxAkjxIbdXpRLEDaQg.png"/></div></div></figure><p id="09ae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">"<a class="ae lw" rel="noopener ugc nofollow" target="_blank" href="/exploring-the-salesforce-mobile-sdk-using-react-native-34f05217c1d4">使用React Native探索sales force Mobile SDK</a>"是该移动SDK系列的第一篇文章。在本文中，我将重点介绍如何使用Android Studio来生成相同的应用程序。</p><h1 id="0a6f" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">Salesforce Mobile SDK的优势</h1><p id="02bd" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">Salesforce Mobile SDK为软件工程师提供了多种优势:</p><ul class=""><li id="9321" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">允许自定义移动设备应用程序利用Salesforce特性和功能</li><li id="1147" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">完全访问Salesforce功能(无需另起炉灶)</li><li id="870f" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">可以使用本地设备的应用商店来分发应用</li><li id="d83e" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">处理来自Salesforce的推送通知</li><li id="a173" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">在离线模式下使用Salesforce数据的能力</li></ul><p id="04be" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您的应用程序环境在业务可操作性的关键方面利用Salesforce，则考虑利用Salesforce Mobile SDK。通过这样做，您可以将由Salesforce维护的数据集成到关键组件位置，从而做出强有力的业务决策。</p><h1 id="a4ac" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">使用Android Studio的好处</h1><p id="c9e2" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">如果您的客户群需要支持Android设备，并且您希望使用Android Studio进行应用程序开发，那么您会发现<code class="fe nb nc nd ne b">forcedroid</code> CLI有助于快速开始使用Salesforce功能。</p><p id="0fd0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用Android Studio的团队的主要功能包括:</p><ul class=""><li id="5263" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">使用Java或Kotlin作为基本编程语言</li><li id="f501" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">为Android设备上的特性和功能提供100%的原生支持</li><li id="e59d" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">允许有经验的Android开发人员快速利用Salesforce Mobile SDK功能</li><li id="42c7" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">特性/功能的长期路线图——以及持续支持的质量——倾向于支持Android Studio而不是React Native</li></ul><p id="c26c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们已经准备好深入研究了，让我们简单回顾一下我们的用例。</p><h1 id="663f" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">芬尼食品:一个用例示例</h1><p id="7de9" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">有一个生来就有特殊需求的儿子(芬尼)引发了一种个人愿望，那就是理解和欣赏我们日常生活中使用的产品。芬尼出生前几年，我和妻子(妮可)过着健康的生活。然而，当妮可开始深入研究构成我们日常饮食的食物成分时，我们接到了一个急需的叫醒电话。</p><p id="5471" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">快进到今天:我们的饮食包括很少的加工食品，没有面筋，低糖，和很少的乳制品。我们的蛋白质尽可能来源于草食来源，我们总是偏爱有机食品。不要让我开始谈论转基因。</p><p id="8b30" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于这个系列，我们的Finny's Foods应用程序提供了一个简单的列表，列出了我们可以接受并且Finny喜欢的食物。现在，我们将为每顿饭包含两个简单的属性:</p><ul class=""><li id="4c12" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">饭菜的名称</li><li id="44e4" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">评分(1到5，评分5是芬尼最喜欢的评分)</li></ul><p id="45e3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着时间的推移，我打算引入其他属性(如摘要、成分、方向，甚至一张照片)，但我们先走后跑吧。</p><h1 id="0bdc" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">Android Studio入门</h1><p id="ffcd" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">除了在我的MacBook Pro上安装<code class="fe nb nc nd ne b">git</code>和<code class="fe nb nc nd ne b">npm</code>之外，我还确保我的Android Studio版本是最新的。接下来，我访问了以下URL，以确保一切都按照预期进行了设置和配置:</p><p id="bc14" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae lw" href="https://trailhead.salesforce.com/en/content/learn/projects/mobilesdk_setup_dev_tools/mobilesdk_setup_android" rel="noopener ugc nofollow" target="_blank">设置您的Android开发环境</a></p><p id="87eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些步骤包括安装Android Studio、Android SDKs以及至少一个Android模拟器(AVD)和<code class="fe nb nc nd ne b">forcedroid</code> CLI。</p><p id="d60a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我在终端会话中使用以下选项执行了<code class="fe nb nc nd ne b">forcedroid</code>:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="5490" class="nj mf iq ne b gy nk nl l nm nn">forcedroid create</span><span id="bcc7" class="nj mf iq ne b gy no nl l nm nn">Enter your application type (native_kotlin or native, leave empty for native_kotlin): native<br/>Enter your application name: finnys-foods-android<br/>Enter your package name: com.gitlab.johnjvester.finnysfoods.android<br/>Enter your organization name (Acme, Inc.): JVC<br/>Enter output directory for your app (leave empty for the current directory):</span></pre><p id="3805" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">完成后，我启动Android Studio并导入新的<code class="fe nb nc nd ne b">finnys-foods-android</code>项目，如下URL所示:</p><div class="np nq gp gr nr ns"><a href="https://developer.salesforce.com/docs/atlas.en-us.noversion.mobile_sdk.meta/mobile_sdk/android_new_project.htm" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">使用Forcedroid创建Android项目</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">要创建应用程序，请在终端窗口或Windows命令提示符下使用forcedroid。forcedroid实用程序为您提供了…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">developer.salesforce.com</p></div></div></div></a></div><h1 id="585e" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">在Salesforce中创建膳食对象</h1><p id="b944" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">在我开始在Android中创建新应用程序之前，我需要在Salesforce中建立<code class="fe nb nc nd ne b">Meal</code>对象。</p><p id="584a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我已经有了一个可以使用的开发者组织。(你可以在这里新建一个<a class="ae lw" href="https://developer.salesforce.com/docs/atlas.en-us.externalidentityImplGuide.meta/externalidentityImplGuide/external_identity_create_developer_org.htm" rel="noopener ugc nofollow" target="_blank">。所以，我只是用我的电子邮件地址和密码登录了这个组织。接下来，我导航到Salesforce中的应用程序|应用程序管理器和设置透视图。</a></p><p id="fa16" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我创建了一个名为<code class="fe nb nc nd ne b">Meal</code>的新闪电应用程序:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/d3006b732d3e210c0a792e250eb884ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VSQbRCw2JVXWdMQ3Hf3DDQ.png"/></div></div></figure><p id="7ce8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在其余设置屏幕上，我选择了所有默认设置并授予对所有Salesforce用户简档的访问权限。</p><p id="e9cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我访问了Salesforce设置中的对象和字段|对象管理器菜单选项。找到新创建的餐饮项目后，我使用dropdown组件编辑该对象。</p><p id="bcc5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我从细节子菜单切换到字段和关系选项。我很快意识到我不需要为我的<code class="fe nb nc nd ne b">Meal</code>对象创建一个名称属性，因为Salesforce已经替我处理了。我只需要添加评级字段。</p><p id="6fb1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用“新建”按钮，我选择了“数字”字段类型，并填充了第二步，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/b565b27eb437e894be28281519116030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VTeRl0QWvYd-REiYNFIUgg.png"/></div></div></figure><p id="5a08" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我使用默认值并保存了新字段。现在，我可以在我的Android应用程序中使用名称和评级字段。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/136cd4f8989204fd8c66d4a4d40bc177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TCoCDVF9PYvK9TLfoy-5pg.png"/></div></div></figure><p id="4a5f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用Salesforce客户端，我填充了一些源数据以在Android Studio中开发应用程序。以下是提交值的汇总:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/2b43694cd8084fb547ec8cd261de8284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AvzApqjOeHpvhKu4xJLqjw.png"/></div></div></figure><p id="22d5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据样本数据，Finny总是更喜欢“比萨饼”而不是“鸡肉和米饭”</p><h1 id="f5d8" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">在Android Studio中添加用餐功能</h1><p id="b26c" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">配置好源对象和数据后，我使用IntelliJ IDEA应用程序第一次打开了<code class="fe nb nc nd ne b">./finnys-foods-android</code>项目。</p><p id="68de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了简单起见，我的Android应用程序的源代码将存在于<code class="fe nb nc nd ne b">./android/MainActivity.java</code>文件中。构建业务应用程序的特性开发人员应该考虑为他们的Android应用程序采用设计原则。由<a class="ae lw" href="https://guides.codepath.com/android" rel="noopener ugc nofollow" target="_blank"> CodePath </a>团队撰写的“<a class="ae lw" href="https://guides.codepath.com/android/Organizing-your-Source-Files" rel="noopener ugc nofollow" target="_blank">组织您的源文件</a>”一文提供了一些关于这个主题的优秀信息。</p><p id="9f57" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nb nc nd ne b">MainActivity.java</code>文件已经填充了足够的信息，可以连接到Salesforce并使事情变得非常容易。我首先引入了一个SOQL静态字符串来存放访问<code class="fe nb nc nd ne b">Meal__c object</code>的简单查询:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="d6b9" class="nj mf iq ne b gy nk nl l nm nn">private static final String SOQL = "SELECT Name, Rating__c FROM Meal__c ORDER BY Name ASC";</span></pre><p id="0315" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我没有按下按钮来查看应用程序中的数据，而是更新了<code class="fe nb nc nd ne b">onResume(RestClient client)</code>方法来调用<code class="fe nb nc nd ne b">sendRequest()</code>方法从Salesforce请求数据:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="48c8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我更新了<code class="fe nb nc nd ne b">sendRequest()</code>方法，不仅从Salesforce检索数据，还提供了每个项目评分的可视化表示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="acfc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了简单起见，我决定使用星号符号显示一个五星评级项目。所以会出现一个五星的物品，如下图所示:</p><p id="b50f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">披萨* * * * *</p><p id="7f44" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我在我的GitLab存储库中添加了一个问题，将星号替换为基于星的图标，就像Font Awesome提供的那些图标一样，这样当评级低于5时，就会显示空星。</p><h1 id="527e" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">介绍自定义文本视图</h1><p id="d7d1" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">我没有依赖于<code class="fe nb nc nd ne b">ListView</code>组件的默认设计，而是决定创建自己的文本视图，在包含Salesforce中的用餐列表的实时视图中显示数据。</p><p id="f4de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe nb nc nd ne b"> ./app/res/layout</code>文件夹中，我创建了一个名为<code class="fe nb nc nd ne b">custom_text_vew.xml </code>的新XML文件，其中包含以下信息:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="9dab" class="nj mf iq ne b gy nk nl l nm nn">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;TextView xmlns:android="<a class="ae lw" href="http://schemas.android.com/apk/res/android" rel="noopener ugc nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"<br/>    android:id="<a class="ae lw" href="http://twitter.com/android" rel="noopener ugc nofollow" target="_blank">@android</a>:id/text1"<br/>    android:fontFamily="sans-serif"<br/>    android:paddingTop="10dip"<br/>    android:paddingBottom="10dip"<br/>    android:paddingLeft="1dip"<br/>    android:layout_width="fill_parent"<br/>    android:layout_height="wrap_content"<br/>    android:textSize="9pt" &gt;&lt;/TextView&gt;</span></pre><p id="d5ae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我能够设置字体和位置信息来满足我的期望。</p><p id="5e18" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有了XML，我需要做的就是用下面的更新引用自定义文本视图:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="703d" class="nj mf iq ne b gy nk nl l nm nn">listAdapter = new ArrayAdapter&lt;&gt;(this, R.layout.custom_text_view, new ArrayList&lt;&gt;());</span></pre><h1 id="10f3" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">一些最后的清理和造型</h1><p id="0cf9" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">因为我想匹配我的应用程序的React本地版本，所以我对<code class="fe nb nc nd ne b">./app/res/layout/header.xml</code>文件做了如下更新:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="8d26" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我检查了<code class="fe nb nc nd ne b">./finnysfoods/android/MainActivity.java</code>文件，并删除了更新header.xml文件后所有未使用的方法。Android Studio和IntelliJ IDEA一样，非常擅长改变未使用的方法名的颜色，可以在不影响应用程序运行时功能的情况下将其删除。</p><h1 id="fa50" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">芬尼食品在行动</h1><p id="8d56" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">在Android Studio上，我使用了“运行”菜单选项，并选择了“运行应用程序”选项，这也可以映射到Shift-F10快捷键。</p><p id="1ae0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首次使用将自动重定向到Salesforce登录屏幕，在此我使用相同的电子邮件地址和密码访问我的开发人员组织。登录后，出现了Finny's Foods应用程序，包括每个项目的五星评分值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/8723220253c2341354c3e82f792c76f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*-y6XPlh16T4ZmRITbJORMw.png"/></div></figure><p id="9abe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在几分钟内，我们能够使用Android Studio和Salesforce Mobile SDK创建一个Android应用程序。</p><h1 id="42a0" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">结论</h1><p id="b764" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">在本文中，我介绍了一个定制的移动应用程序，它从Android store进行本地部署，并使用用Java和基本XML编写的源代码。在这个过程中，我们对基于Android的应用程序的结构有了基本的了解。</p><p id="865b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从2021年开始，我一直努力按照以下使命宣言生活，我觉得这可以适用于任何IT专业人士:</p><blockquote class="oi oj ok"><p id="17dc" class="kr ks ol kt b ku kv jr kw kx ky ju kz om lb lc ld on lf lg lh oo lj lk ll lm ij bi translated">“将您的时间集中在提供扩展您知识产权价值的特性/功能上。将框架、产品和服务用于其他一切。”</p><p id="7d41" class="kr ks ol kt b ku kv jr kw kx ky ju kz om lb lc ld on lf lg lh oo lj lk ll lm ij bi translated"><em class="iq">—j·维斯特</em></p></blockquote><p id="ac91" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Salesforce Mobile SDK当然坚持我的个人使命声明，这将有利于任何需要Salesforce功能作为在Android设备上运行的自定义移动应用程序的一部分的功能团队。这一开发领域的软件工程师当然应该考虑将Salesforce Mobile SDK添加为项目依赖项。</p><p id="99ad" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您希望查看本文的完整源代码，请导航到GitLab上的以下项目:</p><p id="8108" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">https://gitlab.com/johnjvester/finnys-foods-android<a class="ae lw" href="https://gitlab.com/johnjvester/finnys-foods-android" rel="noopener ugc nofollow" target="_blank"/></p><p id="936b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本系列的最后一篇文章中，我计划使用带有Xcode的Salesforce Mobile SDK为iOS设备创建一个本机应用程序。</p><p id="5895" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">祝你今天过得愉快！</p></div></div>    
</body>
</html>