# 无服务器实际上是什么意思？

> 原文：<https://betterprogramming.pub/what-does-serverless-actually-mean-c68bde4cdc0d>

## 它实际上根本不是无服务器的

![](img/7136bb0c42fda2231a0ffbb1a99eaed7.png)

泰勒·维克在 [Unsplash](https://unsplash.com/s/photos/servers?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

*无服务器*这个词确实有误导性。毫无疑问，这是个时髦词。

如果你用谷歌搜索“无服务器”，维基百科的定义其实很好:

> **无服务器计算是云提供商运行[服务器](https://en.wikipedia.org/wiki/Server_(computing))的[云计算](https://en.wikipedia.org/wiki/Cloud_computing) [执行模型](https://en.wikipedia.org/wiki/Execution_model)，动态管理机器资源的分配。定价基于应用程序消耗的实际资源量，而不是预先购买的容量单位。[【1】](https://en.wikipedia.org/wiki/Serverless_computing#cite_note-techcrunch-lambda-1)可以是[效用计算](https://en.wikipedia.org/wiki/Utility_computing)的一种形式。”—维基百科**

**这都是真的。如果你能理解这个术语的定义，你会发现无服务器实际上包括许多服务器。**

**无服务器实际上的意思是，你不用担心服务器盒子的大小(处理能力)，或者你需要多少个盒子来服务你的用户。无服务器服务的提供商根据你的工作量来决定你需要的箱子的大小和数量。**

**Cloudflare 是一家无服务器后端提供商，它提供了一张关于无服务器如何为您省钱以及如何扩展的精彩图片:**

**![](img/a2f9eb1ae2f0fd0e1f8cba2fe2dea4f5.png)**

**摘自 [Cloudfare 关于无服务器的成本/收益的精彩文章](https://www.cloudflare.com/learning/serverless/why-use-serverless/)**

**在传统系统中，当您的应用程序获得更多用户，或者您的用户做更多事情，或者任何导致您的后端做更多处理的事情时，您必须随着您获得更多需求而增加机器的数量(或者机器的能力)。**

**我们举个例子。假设你运营 Reddit。你必须有服务器来为用户提供网站服务，还有一个数据库来保存你所有的链接、评论和用户资料。**

**在传统模式中，你可以用一个盒子来服务流量。您可能有一个扩展策略，如果机器在五分钟内有 95%或更多的 CPU，则添加另一个机器来服务流量。那是上面的蓝色盒子。你将支付每箱每小时的固定价格。当你从一个盒子变成两个盒子时，你的成本就翻倍了。**

**但是如果当你扩展到两个盒子的时候，用户离开了你的网站。你的新盒子都没人用。您可以制定一个扩展策略，将规模缩减到一个机箱，但关键是，如果您有两个机箱，您需要为它们付费。**

**您可以看到这带来的开销。从技术上讲，您是在为您可能没有使用的服务器电源付费。**

**然而，理论上，使用无服务器服务，您只需为您使用的内容付费。您不需要设置扩展策略或选择您需要多少台服务器。你只需要把流量扔给提供商，并支付它的费用。你不知道提供商在用多少个盒子，你也不在乎。节省下来的钱会转给你。理论上。**

**这就是*无服务器*这个名字的由来。作为服务器能力的用户，您不必考虑在幕后工作的服务器。但是他们还在那里！**

# ****那么有什么问题呢？****

**那么为什么不是所有的东西都是无服务器的呢？似乎每个人都会赢，因为我们不会浪费服务器的时间。**

**但事情没那么简单。在幕后，无服务器提供商仍然在做与传统模式相同的事情。它不会神奇地变成完美的颗粒状。**

**无服务器提供商——意味着像 AWS Lambda、Cloudflare、Azure 和 Google Cloud 这样的服务——仍然在不断扩大和缩小，并分配机器来完成不断变化的工作。有时他们会有未使用的服务器。不管服务器是否闲置，总有人要为其付费。**

**现在，他们可能更擅长这个。他们可以拥有先进的机器学习算法，并智能地将你的工作分配到许多盒子中。盒子可以运行来自不同人的工作。因为他们的主要目的是在不浪费服务器时间的情况下经济高效地提供服务器时间，所以他们可能比你做得更有效率。但是他们，就像你管理你自己的机器一样，必须处理机器的伸缩性。**

**无服务器实际上只是将扩展工作交给了服务提供商。提供商不擅长又如何？请记住，您是在为无服务器算法和基础设施的工程买单。这意味着，对于某些工作负载，您最终可能会支付更多费用。**

**记住:这些供应商是企业。**

**重要的是要记住，如果你使用其中一个提供商，他们仍然是需要赚钱的企业。**

**他们可以在小项目上赔钱，在大项目上赚到所有的钱。**

**许多开发者后端服务提供商(谷歌地图 API 和 Firebase，仅举几个我用过的例子)采用“当你扩展时你将付费”的模式。在这种情况下，对于一些小型工作负载，成本要比配置您自己的设备便宜得多。但是，当您增加工作负载(业务增长)时，成本将远远超过您自己的设置。请记住这一点，并在必要时使用提供商的计算器。**

## **窗帘后面还有一个人**

**此外，作为一名分布式系统维护者，serverless 还有另一个让我紧张的问题:你看不到到底发生了什么。**

**当你启动你自己的机器，在上面运行你自己的软件，并对你管理的所有机器进行你自己的监控和扩展时，你就拥有了*控制权。*而对于大规模的应用，开发者和公司都想要控制权。您需要了解系统中发生了什么。**

**使用无服务器，如果您的工作负载出现问题，就很难判断出发生了什么，因为您不能只查看机器上的日志。正在发生的计算对你来说是隐藏的。**

**或者当用户开始写你的软件不工作或者很慢时，你看不出你的系统为什么不能伸缩。你能做的最好的事情就是向你的提供商申请一张票，并希望这只是一个暂时的现象。**

**这意味着调试你的系统更加困难。这不是不可能的；你还有伐木之类的。但是我认识的大多数后端维护人员都喜欢能够跳到一个有问题的机器上，看看到底发生了什么。**

**关于无服务器还有许多其他问题，我不打算讨论(供应商锁定、冷启动、安全性？)，但是如果您正在考虑将无服务器应用于您的应用程序，它们是值得考虑的。**

# **但是我们正在接近那里**

**我希望无服务器是完美的。我和许多其他人花了太多时间担心我们的系统是否会扩展。**

**记住，任何时候你可以减少系统中你需要担心的变量的数量，它就是一个更好的系统。你总是想降低复杂性。**

**但是，未来走向无服务器不一定会降低复杂性，也不一定会降低成本。与任何其他技术或架构决策一样，重要的是要看它是否适合您的项目。慢慢来，对什么适合你做一个强有力的分析。**

**它仍然使用服务器——不要被愚弄了！感谢阅读！**