<html>
<head>
<title>A Cloud Migration Questionnaire for Solution Architects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向解决方案架构师的云迁移问卷</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-cloud-migration-questionnaire-for-solution-architects-dec7ffcf063e?source=collection_archive---------0-----------------------#2021-07-16">https://betterprogramming.pub/a-cloud-migration-questionnaire-for-solution-architects-dec7ffcf063e?source=collection_archive---------0-----------------------#2021-07-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="979e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在将客户的内部工作负载迁移到AWS云之前，您必须向客户提出的问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/9d06bf948583b8e4aa7e1206c539dbef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*JKC-SWL9weyG-087z-bJgg.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">云迁移问卷。作者图片</p></figure><h1 id="d7a6" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">语境</h1><p id="9607" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">许多从自己的数据中心运营的公司开始将他们的应用程序迁移到云，这已经成为许多初创公司创建云原生应用程序的显而易见的选择。这是最重要的，因为除了云的许多其他好处之外，上市时间和成本效益也很快。</p><p id="a5e6" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">作为一名解决方案架构师，您需要提出相关的问题来从客户那里收集所需的信息。您根据客户提供的信息构建的解决方案为未来的设计解决方案和迁移奠定了基础。</p><h1 id="e7af" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">范围</h1><p id="3356" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">本文涵盖了您必须向客户提出的问题(及其背后的原因),因此在规划向云的迁移之前提出这些问题很重要。</p><p id="5deb" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我尝试了映射客户需求，以回应在迁移到AWS云时可以使用的主要AWS服务的问题。</p><h1 id="7e83" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">您必须向客户提出的问题</h1><p id="3169" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">此列表并不详尽，但足够通用，可应用于任何公共云迁移。</p><ul class=""><li id="bd1b" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated"><a class="ae mw" href="#28dc" rel="noopener ugc nofollow">为什么要迁移到云？</a></li><li id="339f" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#06f8" rel="noopener ugc nofollow">作为迁移的一部分，你能承受多少代码变更？</a></li><li id="96db" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#edbe" rel="noopener ugc nofollow">你用的是什么类型的数据库？</a></li><li id="1e54" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">您正在使用什么类型的负载平衡器？</li><li id="af23" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#69e0" rel="noopener ugc nofollow">您使用的是什么应用服务器和版本？</a></li><li id="1b7c" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#f325" rel="noopener ugc nofollow">你用的是什么操作系统？</a></li><li id="8fb3" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">你的应用是面向公众的吗？</li><li id="ea5d" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">您的应用程序是有状态的还是无状态的？</li><li id="6d62" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">你的应用程序容器化了吗？</li><li id="d959" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#63e2" rel="noopener ugc nofollow">服务器当前的资源需求是什么？</a></li><li id="979c" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">你的工作量变化如何？</li><li id="1e6d" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#0b9e" rel="noopener ugc nofollow">您的日志记录和监控要求是什么？</a></li><li id="4aeb" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#ecab" rel="noopener ugc nofollow">您当前的备份策略是什么？</a></li><li id="834d" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">你如何构建、打包和部署你的应用程序？</li><li id="5e07" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">您正在使用哪种类型的安全服务？</li><li id="2cba" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#e4fc" rel="noopener ugc nofollow">您将应用程序配置的详细信息存储在哪里？</a></li><li id="6143" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#0054" rel="noopener ugc nofollow">您如何管理您的基础设施？</a></li><li id="109e" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated"><a class="ae mw" href="#07af" rel="noopener ugc nofollow">您的RTO和RPO要求是什么？</a></li></ul><p id="5d41" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">注意:</strong>通过仔细阅读所有这些问题，您会想到许多答案和可用的云迁移解决方案。如果没有，请在进一步阅读之前集思广益，找出可能的答案，这样会很有意义，你也能把它和你的解决方案联系起来。</p><h1 id="28dc" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">为什么要迁移到云？</h1><p id="7e87" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><strong class="lo iu">可能的答案</strong></p><ul class=""><li id="63c2" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">内部部署中的延迟或性能问题。</li><li id="a8bb" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">硬件老化、许可证到期或数据中心退出等问题。</li><li id="a325" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">难以在内部建立的托管服务需求。</li><li id="deba" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">需要设置高可用性应用程序。</li></ul><p id="b791" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">推理和解答</strong></p><p id="4aa9" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">通过询问这类相关问题，你可以了解他们的确切需求，并据此提供不同的解决方案。</p><ul class=""><li id="2903" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">设计VPC并与网络人员讨论他们的网络需求。</li><li id="6db4" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">为他们的高可用性需求设计多AZ解决方案。</li><li id="7439" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">提供不同的托管服务，如社交网络、SQS、RDS等。</li><li id="17be" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">将应用程序部署到离用户更近的区域，以减少延迟。</li><li id="e7e3" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">提供现场云连接解决方案，如站点到站点VPN、AWS Direct。</li></ul><h2 id="06f8" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">作为迁移的一部分，您能承受多少代码更改？</h2><p id="aabb" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><strong class="lo iu">可能的答案</strong></p><ul class=""><li id="aac9" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">没有代码更改</li><li id="27e8" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">微小的配置更改</li><li id="19ab" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">再开发</li></ul><p id="c135" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">推理和解答</strong></p><p id="2265" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这个问题有助于我们确定迁移所涉及的工作、时间和成本。</p><p id="7c24" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我已经按照复杂性的顺序提到了不同的迁移策略。这意味着时间和成本将成比例增加，但它将提供更好的灵活性和优化机会。</p><p id="7dc2" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">每个迁移策略都与客户需求和可用于解决该问题的AWS服务相对应。</p><p id="ad2f" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">六个R作为迁移策略</strong></p><ol class=""><li id="9876" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh no mt mu mv bi translated">淘汰—取消配置不需要太多资源的传统系统。</li><li id="b8d8" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh no mt mu mv bi translated">保留—由于法律/合规性问题，您可以保留部分本地服务。</li><li id="6e74" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh no mt mu mv bi translated">主机更换(提升和移位)—无代码更改<strong class="lo iu"> </strong> —使用AWS EC2，Elastic Beanstalk</li><li id="deb7" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh no mt mu mv bi translated">回购(放弃并购买)—放弃旧服务并回购第三方服务的许可证。</li><li id="ed5a" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh no mt mu mv bi translated">Replatform (Lift、Tinker和Shift)——微小的配置更改——提供RDS、Elasticache等服务。</li><li id="f3d2" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh no mt mu mv bi translated">重构/重新构建—重新开发—使用SQS、SNS、SES、S3、Aurora、DynamoDB等开发云原生应用。</li></ol><h2 id="edbe" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您使用的是什么类型的数据库？</h2><p id="78bb" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">这个问题帮助您了解客户使用的特定数据库的特性，并将它们与云管理的服务进行比较，如RDS、Aurora for Relational DB以及Elasticache和DynamoDB for NoSQL。</p><ul class=""><li id="6a62" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">MsSQL和Oracle与RDS有一些功能奇偶校验不匹配，不允许您使用托管数据库服务。</li><li id="1979" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">如果您需要访问底层数据库主机，那么AWS托管服务将不起作用。</li></ul><p id="43ca" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">所以在这些场景中，您可以在EC2实例上安装所需的DB；否则，您可以直接使用RDS来迁移数据库工作负载。</p><p id="f5be" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">此外，您可以使用许多其他AWS服务进行数据迁移，如AWS DMS、AWS Snowball、AWS Snowmobile等。</p><h2 id="fe49" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您正在使用什么类型的负载平衡器？</h2><p id="b72d" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><strong class="lo iu">可能的答案</strong></p><ul class=""><li id="d5b1" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">硬件负载平衡器</li><li id="9f65" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">软件负载平衡器，如HaProxy、Nginx</li></ul><p id="8df0" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">推理与解答</strong></p><p id="3adc" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这有助于了解客户运行的工作负载类型以及负载平衡器的性能要求。</p><p id="ba9d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">大多数本地运行的web应用程序使用运行在L7的硬件负载平衡器，以获得更大的灵活性和丰富的功能。</p><p id="86be" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您可以针对他们的需求提供等效的AWS服务。</p><ul class=""><li id="f8a2" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">AWS ALB —应用程序负载平衡器在L7运行。最适合在应用程序级别路由流量的web应用程序。</li><li id="92df" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS NLB —网络负载平衡器在L4运行。最适合实时高性能应用。</li></ul><h2 id="69e0" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您使用的是什么应用服务器和版本？</h2><p id="65c2" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">同样，这个问题有助于了解您在内部使用的应用服务器和版本。它在云上的可用性有多兼容？</p><p id="6671" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您可以使用AWS Beanstalk来部署Java、Python、Ruby、Nodejs应用程序，但是您在本地使用的版本可能不可用。或者，可能是您使用的版本太旧了，所以Beanstalk不支持它。在决定任何事情之前，做一个适当的评估。</p><h2 id="f325" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">你用的是什么操作系统？</h2><p id="6555" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">您需要知道您的应用程序是否太旧，无法在最新的操作系统上运行。如果您已经将应用程序部署到最新的操作系统，那么它将有更多的机会在云上工作。</p><p id="f279" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">云上的大多数操作系统都包含许可成本，但是也有一些选项，您可以将现有的内部许可带到云上。</p><p id="4f39" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">AWS及其合作伙伴提供了许多免费和付费的ami来满足您的操作系统需求。</p><h2 id="f6b2" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">你的应用是面向公众的吗？</h2><p id="8ddd" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">此问题帮助您集体讨论可能需要DNS解析、缓存、延迟、身份验证和安全性的不同解决方案的答案。</p><p id="a9ee" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">如果它是一个内部应用程序，这可能不是一个大问题，因为您可以将它部署在一个私有子网中，它会自动阻止外部流量。</p><p id="151c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">了解当前如何使用DNS和CDN，以及内部使用哪些防火墙和其他安全服务来阻止恶意流量以避免重大DDOS攻击非常重要。</p><p id="8c2e" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">对于面向公众的web应用程序，总是尽量使用托管服务，因为这种情况发生的可能性很小。</p><ul class=""><li id="3627" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">Route53 <strong class="lo iu"> </strong> —为您的web应用程序提供公共DNS查询的高性能托管服务。</li><li id="a562" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">CloudFront —面向静态资源的低延迟高性能CDN网络，可降低面向公众的应用程序的整体延迟。如果您的客户跨地区分布，您可以在离客户更近的地区部署CloudFront。</li><li id="5428" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">Cognito —让您使用IAM快速轻松地将用户注册、登录和访问控制添加到您的web和移动应用程序中。它可以扩展到数百万用户，并支持所有主要身份提供商的联合身份。</li><li id="b845" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">WAF <strong class="lo iu"> </strong> — AWS web应用防火墙。可以部署在负载平衡器、CloudFront和API网关上。</li><li id="e53d" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">API网关——如果您正在将API分发给合作伙伴，并且希望使用API密钥、速率限制和使用计划进行快速测量。</li></ul><h2 id="6e29" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您的应用程序是有状态的还是无状态的？</h2><p id="e1d7" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">它带来了人们正在使用的许多反模式——比如在运行应用程序的物理机器上存储会话信息，或者在负载平衡器中启用粘性会话。</p><p id="15aa" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您可以提供RDS、DynamoDB或Elasticache来从外部存储会话。这样做将使应用程序真正无状态，这对扩展应用程序非常重要。</p><h2 id="afeb" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">你的应用是容器化的吗？</h2><blockquote class="np nq nr"><p id="d9c9" class="lm ln ns lo b lp mi ju lr ls mj jx lu nt mk lx ly nu ml mb mc nv mm mf mg mh im bi translated">“容器化的应用程序比虚拟机需要更少的资源，并且在几秒钟内启动。容器将应用程序打包到一个共享主机操作系统的小型轻量级执行环境中。容器有助于隔离在同一主机操作系统中运行的不同微服务。</p><p id="1846" class="lm ln ns lo b lp mi ju lr ls mj jx lu nt mk lx ly nu ml mb mc nv mm mf mg mh im bi translated">容器化的应用程序可以使用像Kubernetes这样的编排平台进行部署，这有助于容器管理、应用程序部署和扩展，这已经成为云应用程序部署的标准。"</p></blockquote><ul class=""><li id="d5fe" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">EC2，Elastic Beanstalk——部署非容器化的应用程序。</li><li id="7bbf" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS ECS、AWS EKS —部署容器化应用程序。</li></ul><h2 id="63e2" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">服务器当前的资源需求是什么？</h2><p id="84bc" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">您可以获得本地工作负载的当前资源需求，然后使用它来映射到云资源。</p><p id="46c3" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您可以根据应用程序的性质使用内存和CPU优化的资源，但是没有公式可以正确计算。</p><p id="800f" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您需要使用负载测试和监控性能进行多次迭代，以找出云中正确的资源需求。</p><ul class=""><li id="4a17" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">AWS应用程序发现服务—它有助于从您的本地服务器收集和呈现配置、使用和行为数据，以映射云上的容量。</li><li id="b5ec" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS CloudWatch指标—作为负载测试的一部分，使用它来监控您的应用程序指标。</li></ul><h2 id="86c2" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">你的工作量变化如何？</h2><p id="7a92" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">您需要询问客户观察到了多少流量变化，以及是否有任何特定的模式可用。</p><ul class=""><li id="abb2" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">AWS ASG —自动扩展组帮助应用程序根据工作负载和模式动态扩展/缩小。</li><li id="ce92" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">Elastic Beanstalk —自动配置ASG，而不是手动配置。</li><li id="3839" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">ECS/EKS——如果您的应用程序是使用Kubernetes进行dockerized和orchestrated的，那么您可以使用containers/pod自动伸缩特性。</li></ul><p id="ed84" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您可以配置不同的缩放行为，如简单缩放、目标和跟踪缩放以及步进缩放。</p><h2 id="0b9e" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您的日志记录和监控要求是什么？</h2><p id="7813" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">您需要了解不同类型的日志(如操作系统、数据库和应用程序日志)是如何存储在本地的。它们的保留期是多长？</p><p id="99dd" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">应用程序将指标推送到监控管道，有时从日志中创建指标并推送到监控系统。</p><p id="513a" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">可能的答案</strong></p><ul class=""><li id="6235" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">日志存储在运行应用程序的本地服务器上。</li><li id="4253" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">它们会在同一台服务器或其他备份服务器上轮换和归档。</li><li id="d129" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">然后，在配置的保留期过后，它们会被删除。</li><li id="c21b" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">指标的保留期超过一年，以获取历史数据。</li></ul><p id="c902" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">推理与解答</strong></p><p id="d6f4" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">日志提供了关于正在发生的事情的更多信息，因此对于应用程序调试、审计和跟踪问题非常有帮助。</p><p id="3fa4" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">监控是可观察性平台的一个重要方面，它提供了关于应用程序健康状况的信息，以及它是如何执行的，以便在太晚之前采取纠正措施。</p><ul class=""><li id="fbdd" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">AWS CloudWatch日志—将您的所有日志存储在CloudWatch日志中，然后您可以重定向到不同的日志记录解决方案，如ELK、Splunk或S3。</li><li id="ffb2" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS Athena —从S3加载日志并进行分析。</li><li id="3ef3" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">CloudWatch警报—基于Cloudwatch日志上的搜索标准创建警报。</li><li id="4561" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS S3 —设置S3生命周期规则，根据需求在IA层或Glacier中归档日志。</li><li id="49ac" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS CloudTrail —存储审计信息并重定向到S3。</li><li id="314e" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS X射线—在基于微服务的应用中使用它们来跟踪请求和响应。</li><li id="5e70" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">CloudWatch代理—可以对应用程序进行检测以创建自定义指标，也可以从Cloudwatch日志中创建指标并推送到Wavefront或Prometheus等监控应用程序。</li></ul><h2 id="ecab" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您当前的备份策略是什么？</h2><p id="fa01" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><strong class="lo iu">可能的答案</strong></p><ul class=""><li id="eb97" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">脚本创建数据库的备份，并将其存储在备份服务器中。</li><li id="2449" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">发生灾难时，需要从备份中手动恢复数据库。</li><li id="36bc" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">每小时、每天和每周进行备份。</li><li id="bff6" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">保留期可能因数据类型而异。</li></ul><p id="2cc8" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">推理和解答</strong></p><p id="4d7c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">备份在灾难恢复中扮演着非常重要的角色，因此您需要提前规划好备份策略，因为它会对您的客户和业务产生重大影响。</p><p id="2c64" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">应用程序不应该在磁盘上存储任何东西，它们应该是无状态的，以便为应用程序及其数据制定有效的备份策略。</p><ul class=""><li id="5c64" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">启用RDS备份的自动快照，有限保留35天。</li><li id="20a4" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">创建具有无限保留期的手动快照的脚本。</li><li id="889a" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">当应用程序设置发生变化时，创建一个常规的AMI。</li><li id="ed4f" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">使用一体化服务AWS backup解决所有与备份相关的需求。</li></ul><h2 id="ea19" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您如何构建、打包和部署您的应用程序？</h2><p id="3a0e" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">Jenkins是构建和打包应用程序以满足CI需求的标准管道。人们可能使用不同的开源或定制工具来满足他们的CI/CD需求。</p><p id="3806" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">根据应用程序的类型和应用程序部署的环境，可以使用不同的部署策略，如蓝绿色、滚动和金丝雀部署。</p><p id="7bd7" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您可以为所有CI/CD相关需求提供AWS代码管道、代码部署、代码构建、代码提交或AWS ECR。这些彼此结合得很好。如果你想使用来自Jenkins的任何AWS-native服务，有许多Jenkins插件可用。</p><h2 id="80d4" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您正在使用哪种类型的安全服务？</h2><p id="4b9a" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">您可以获得关于当前内部使用的安全服务的信息，如防火墙和其他客户第三方工具。</p><p id="05ac" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">有许多等效的AWS服务提供。</p><ul class=""><li id="e442" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">AWS警戒任务—监控和分析所有类型的日志；识别任何恶意IP地址或域。</li><li id="5331" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS配置—持续监控AWS资源配置，并对违规行为采取规定的反应措施。</li><li id="c1a6" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS Shield —针对恶意web流量的DDOS防护服务。</li><li id="93e7" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS WAF —保护负载平衡器、CloudFront、API网关后面的应用程序和API，根据IP地址、请求来源、请求头和请求体阻止访问。</li></ul><h2 id="e4fc" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您将应用程序配置详细信息存储在哪里？</h2><p id="5ea2" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">将特定于环境的配置存储在主应用程序中是一种反模式。每个环境可能有不同的秘密凭证，这些凭证应该针对应用程序的部署进行单独管理。</p><ul class=""><li id="6ef0" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">应用程序配置可以存储在一个私有的git存储库中。</li><li id="aa4c" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">AWS参数存储可用于存储配置信息或秘密凭证。</li><li id="0b23" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">如果需要轮换凭证，那么您可以使用AWS Secret Manager来存储凭证。</li></ul><h2 id="0054" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您如何管理您的基础架构？</h2><p id="ccea" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><strong class="lo iu">可能的答案</strong></p><ul class=""><li id="5858" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">自定义脚本以在内部调配虚拟机。</li><li id="3f2d" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">配置工具，如Chef、Puppet或Ansible。</li></ul><p id="59b3" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">推理与解答</strong></p><p id="3d7c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">当开发人员必须在新的服务器上设置应用程序或者在高峰期扩展应用程序时，这是一件痛苦的事情。通常，Sysadmin用于管理虚拟机或数据库配置等基础架构任务。如果开发人员能够解决他们的基础设施需求，会怎么样？那就是基础设施即代码(IaC)。</p><ul class=""><li id="22c5" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">AWS Cloudformation是提供基础设施资源的本地工具。</li><li id="11bd" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">Terraform是另一个与云无关的工具，可用于基础架构配置。</li></ul><h2 id="07af" class="nc kv it bd kw nd ne dn la nf ng dp le lv nh ni lg lz nj nk li md nl nm lk nn bi translated">您的RTO和RPO要求是什么？</h2><p id="6938" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">这个问题是最后一个，但是对于灾难恢复非常重要。</p><blockquote class="np nq nr"><p id="a0d3" class="lm ln ns lo b lp mi ju lr ls mj jx lu nt mk lx ly nu ml mb mc nv mm mf mg mh im bi translated">RTO定义了发生灾难时您可以承受的最长应用程序停机时间。如果定义的RTO是30分钟，那么对于下午3点发生的灾难，系统应该在下午3:30之前恢复</p><p id="76a4" class="lm ln ns lo b lp mi ju lr ls mj jx lu nt mk lx ly nu ml mb mc nv mm mf mg mh im bi translated">RPO定义了在发生灾难时您可以承受的数据丢失量(以时间衡量)。如果定义的RPO为10分钟，那么对于下午3点发生的灾难，在恢复后，所有数据在下午2:50之前都应该可用</p></blockquote><p id="52b1" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您可以根据与更好的RTO和RPO成比例的成本增长顺序，提供以下不同的灾难恢复解决方案。</p><ul class=""><li id="7533" class="mn mo it lo b lp mi ls mj lv mp lz mq md mr mh ms mt mu mv bi translated">备份和恢复—将备份存储在S3，并从中恢复。</li><li id="2089" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">指示灯—保持应用程序的核心组件以低容量运行。</li><li id="9ea8" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">主动-被动—将完全运行的应用程序的缩减版本作为备用。</li><li id="68c3" class="mn mo it lo b lp mx ls my lv mz lz na md nb mh ms mt mu mv bi translated">主动-主动—保持全功能应用程序在两个区域都接收流量。</li></ul><p id="3f58" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">客户可能会要求最佳的RTO和RPO解决方案，其成本各不相同，因此您应该向客户询问每种解决方案的相关成本。</p><h1 id="d459" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">结论</h1><p id="d783" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我讨论了许多重要的问题，以收集您在规划任何云迁移之前所需的信息。希望有用。</p><p id="ea48" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">感谢阅读！</p></div></div>    
</body>
</html>