<html>
<head>
<title>Introduction To k6 Browser Recorder</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">k6浏览器记录器简介</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/introduction-to-k6-browser-recorder-f7db08ad5b4c?source=collection_archive---------13-----------------------#2021-03-16">https://betterprogramming.pub/introduction-to-k6-browser-recorder-f7db08ad5b4c?source=collection_archive---------13-----------------------#2021-03-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c36f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基于用户会话生成k6脚本，而不是手工编码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0dada00cde1bb3548c7310818588d833.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JCRogzzZiYCpxDb9"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@gui_vasconcelos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">古伊列梅赛洛斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi kz"><img src="../Images/f8c366fdf5afce4da6afb4783002f5f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*354pmeFmtOOqeE-cFks40A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d3b9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如今，使用<a class="ae ky" href="https://k6.io/docs/test-authoring/recording-a-session" rel="noopener ugc nofollow" target="_blank">记录</a>来测试移动或网络应用程序上的复杂用例是一种常见的做法。记录是指从用户会话的记录中生成测试的过程。</p><p id="9c25" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">供您参考，k6提供了两种记录会话的方法:</p><ul class=""><li id="656c" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Browser Recorder extension</code> —从浏览器会话生成k6脚本。</li><li id="d18b" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated"><code class="fe mf mg mh mi b">HAR converter</code> —根据HTTP归档文件中包含的请求生成k6脚本。</li></ul><p id="b262" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在本教程中，您将学习如何通过Browser Recorder扩展基于用户会话生成一个k6测试脚本。该扩展允许您捕获您在浏览器上所做的一切，自动为您生成k6脚本，并将其链接到您的k6云帐户。</p><p id="da2d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">当你需要创建复杂的测试脚本时，这对<a class="ae ky" href="https://k6.io/docs/testing-guides/load-testing-websites" rel="noopener ugc nofollow" target="_blank">负载测试网站</a>来说很方便。你需要做的不是手工编码，而是模拟用户浏览或使用你的网站的方式。通过用户会话使用记录的另一个好处是，当你点击时，它将捕获每一个请求。这包括所有媒体文件，如图像和文档。因此，您的负载或性能测试更加准确，并且反映了实际的用例。</p><p id="eac0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们继续下一部分，开始根据您的浏览器设置扩展。</p><h1 id="04f2" class="mo mp it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">设置</h1><p id="5796" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">首先，进入主注册页面<a class="ae ky" href="https://app.k6.io/account/register" rel="noopener ugc nofollow" target="_blank">注册一个新的k6云账户</a>。它附带一个免费试用帐户，其中包括50个免费云测试。您需要激活您的帐户才能使用它。</p><p id="f582" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">注册完成后，让我们安装k6浏览器记录器扩展。在撰写本文时，k6支持以下浏览器:</p><ul class=""><li id="899e" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated"><a class="ae ky" href="https://chrome.google.com/webstore/detail/k6-browser-recorder/phjdhndljphphehjpgbmpocddnnmdbda?hl=en" rel="noopener ugc nofollow" target="_blank">铬合金</a></li><li id="8e11" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated"><a class="ae ky" href="https://addons.mozilla.org/en-US/firefox/addon/k6-browser-recorder/" rel="noopener ugc nofollow" target="_blank">火狐</a></li></ul><p id="61b6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您可以通过以下URL轻松安装<a class="ae ky" href="https://k6.io/docs/test-authoring/recording-a-session/browser-recorder" rel="noopener ugc nofollow" target="_blank"> k6浏览器记录器</a>扩展:</p><h2 id="e0df" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">铬</h2><div class="nx ny gp gr nz oa"><a href="https://chrome.google.com/webstore/detail/k6-browser-recorder/phjdhndljphphehjpgbmpocddnnmdbda?hl=en" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">k6浏览器记录器</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">直接从浏览器录制k6脚本，自动上传到您的k6.io云帐户。</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">chrome.google.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ks oa"/></div></div></a></div><p id="7d1f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">只需点击<code class="fe mf mg mh mi b">Add to Chrome</code>按钮即可安装。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/75f5ed8f63a3ee5d9b0f6f076d169676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4WfXPyxa5InjB7m0UDoPKA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="8f31" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">火狐浏览器</h2><div class="nx ny gp gr nz oa"><a href="https://addons.mozilla.org/en-US/firefox/addon/k6-browser-recorder/" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">k6浏览器记录器-获取此扩展🦊火狐浏览器(美国)</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">下载火狐k6浏览器记录器。直接从浏览器录制k6脚本，自动上传到您的…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">addons.mozilla.org</p></div></div><div class="oj l"><div class="oq l ol om on oj oo ks oa"/></div></div></a></div><p id="654d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">根据您的浏览器，您应该会看到以下用户界面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/9e0419047fad30891b5de91629acf758.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RvOTKo8v9i9i_I2CoG8O8w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="dc63" class="mo mp it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">使用扩展</h1><p id="a42c" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">一旦您安装了扩展，您应该能够在您的浏览器上看到它。如果你用的是Chrome，记得要钉住。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/eb447bf08e560f5c3731286aaf286d16.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*jQl5ilGjycEBNvoSVPxk_Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="30b3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">单击Browser Recorder扩展，您应该会看到以下弹出消息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/88cf1e19afaf97bc203eb88569499fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*T9hEAL9tpsQpVXKmyDLZfw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6c06" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">此外，k6浏览器记录器扩展具有以下功能:</p><ul class=""><li id="80d3" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Download HAR file</code> —将<code class="fe mf mg mh mi b">HTTP Archive file</code>捕获并保存在<code class="fe mf mg mh mi b">Download</code>文件夹中。</li><li id="4ccd" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Clear cache (lasts 7 days)</code> —从浏览器中删除扩展缓存。</li><li id="cfd2" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Correlate request/response data</code> —关联请求/响应以使用由先前请求/响应返回的值。这确保了更好的性能测试。仅适用于撰写本文时的Chrome扩展。</li><li id="d658" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated"><code class="fe mf mg mh mi b">View history </code> —重定向至显示录制历史的离线页面</li></ul><p id="2d12" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">下图显示了点击<code class="fe mf mg mh mi b">View history</code>时的用户界面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/18d59b33d60dc083f5a94bdec95c8cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lJ8lqmU9F6R3CoDAgCIuIg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><ul class=""><li id="62f3" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Download</code> —将捕获的<code class="fe mf mg mh mi b">HTTP Archive file</code>保存在本地的<code class="fe mf mg mh mi b">Download</code>文件夹中。</li><li id="dd93" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Open in k6.io</code> —将生成的测试脚本链接到k6 Cloud。</li></ul><h2 id="6ca6" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">开始录音</h2><p id="5132" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">接下来，点击<code class="fe mf mg mh mi b">Start Recording</code>按钮开始记录。</p><p id="2bbb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">弹出窗口将变为以下用户界面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/8677c57f65647719d8b3dfb8123c09cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*WlZEp70k6mol81xkxdsAEA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="afe9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">只需在录制时正常浏览或访问您的网站。如果你只是想测试它，只需打开<code class="fe mf mg mh mi b">google.com</code>并搜索一些东西。举个例子，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/610098f816675f3b0557607546f4da36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hCJ4IZQb0PpGbJ1rIq0EyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e59d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">点击回车键，您应该会被重定向到搜索结果页面。</p><h2 id="e496" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">结束录制</h2><p id="abc0" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">完成后，访问扩展并选择以下选项之一:</p><ul class=""><li id="5617" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Stop </code> —结束记录，将生成的测试脚本链接到k6 Cloud。</li><li id="382b" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Pause</code> —暂时暂停录像，以后可以继续。</li><li id="263a" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated"><code class="fe mf mg mh mi b">Reset</code> —删除当前活动记录，返回<code class="fe mf mg mh mi b">Start Recording</code>界面。</li></ul><p id="2386" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">点击<code class="fe mf mg mh mi b">Stop</code>按钮结束记录。它会自动在您的主浏览器中打开一个新页面到k6 Cloud。如果您尚未登录，您将被重定向到以下网页:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/ddb2cdb9e644e020e7e2ef66cb767610.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H_jxsoIkQro7OVqWBKUl2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="1fbe" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">将测试保存到k6云</h2><p id="1494" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">另一方面，如果您已经登录到k6 Cloud，您应该会看到以下用户界面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/7d3c807a3eee1054787f61169a7d64ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GRY5RBaP8LmmtmpBvfqtXg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="fb3d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您需要将脚本作为测试的一部分保存在k6云中。有两个选项可用:</p><ul class=""><li id="b83d" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">测试生成器</li><li id="3c1b" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated">脚本编辑器</li></ul><p id="5754" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，只要使用默认的<code class="fe mf mg mh mi b">Test builder</code>选项，因为我们总是可以在以后访问代码。</p><h2 id="3371" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">配置选项</h2><p id="af85" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">除此之外，您可以在保存记录的测试之前配置以下选项:</p><ul class=""><li id="ae9c" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">关联请求和响应数据:一些应用程序有需要随下一个请求一起提交的动态值。保持选中此项，让记录器为您识别和设置这些。</li><li id="5e79" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated">仅包括页面(HTML)和XHR/AJAX请求:保持选中状态将仅记录对主页面的请求，而不是该页面上的嵌入资源。当您不想下载CDN上托管的资源时，此设置很有用。如果您希望记录器保存所有请求，请取消选择此选项。</li></ul><h2 id="690d" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">第三方域过滤</h2><p id="5619" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">默认情况下，Browser Recorder会自动检测并禁用对第三方域(如分析工具、社交网络和外部小工具)的所有请求。这主要是因为以下原因:</p><ul class=""><li id="4671" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">第三方请求对您的后端性能没有影响。</li><li id="6a52" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated">第三方可能会抑制请求，扭曲你的结果。</li><li id="65f7" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated">第三方给你的测试结果数据增加了很多噪音，这使得理解结果更加困难。</li><li id="4af2" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated">对第三方的系统进行测试可能违反了TOS。</li></ul><p id="2530" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果您想将它们包含在测试中，可以在<code class="fe mf mg mh mi b">third-party domain filtering</code>下手动取消选择单个选项。</p><p id="d5bc" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">此外，您应该将您的CDN视为第三方提供商，并且不要将您的CDN资产包含在您的负载测试中。这仅仅是因为对CDN进行负载测试可能会在您这边产生额外的成本。</p><p id="40bb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后，单击保存。基于您所做的记录，将在k6 Cloud上为您创建一个测试。您将被重定向到以下显示测试详细信息的用户界面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/11bc61766ef978f30e0663d738ceaea9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sHi1vMiiuqpKWQMxfPeUog.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1d72" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在顶部，它会有一个关于你的测试有效性的备注。任何错误的配置都会被反映和显示出来。</p><h2 id="5532" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">配置负载</h2><p id="bca7" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">点击<code class="fe mf mg mh mi b">CONFIGURE</code>按钮将打开手风琴，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/7ed47f703660e245e89d610615f98c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sHsvJTDDasU-_PH-ZjZYRQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="c48c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您可以配置虚拟用户数量、测试持续时间、地理分布(仅云测试需要)、测试类型:<a class="ae ky" href="https://k6.io/docs/test-types/stress-testing" rel="noopener ugc nofollow" target="_blank">压力测试</a>、<a class="ae ky" href="https://k6.io/docs/test-types/soak-testing" rel="noopener ugc nofollow" target="_blank">浸泡测试</a>等。</p><h2 id="3c5a" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">配置阈值</h2><p id="da9e" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">接下来，<code class="fe mf mg mh mi b">Threshold</code>部分允许您设置负载测试的通过/失败标准。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/8ee1534aa5f545c2c16e674126b43d09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xos6tF6GNHV4GB5-srjrJg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1524" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果你想自动化你的测试，阈值API<a class="ae ky" href="https://k6.io/docs/using-k6/thresholds" rel="noopener ugc nofollow" target="_blank">是非常灵活和必要的。在</a><a class="ae ky" href="https://k6.io/docs/testing-guides/automated-performance-testing" rel="noopener ugc nofollow" target="_blank"> k6性能测试自动化指南</a>上查看关于这个主题的更多信息。</p><h2 id="19fb" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">从测试中获取代码</h2><p id="5b4a" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">在<code class="fe mf mg mh mi b">REQUESTS</code>块的右侧，您可以在以下选项之间切换:</p><ul class=""><li id="c179" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">建设者</li><li id="0742" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv mb mc md me bi translated">脚本</li></ul><p id="ee8d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您可以通过切换到<code class="fe mf mg mh mi b">Script</code>来轻松查看测试脚本的源代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/e2f700b207e59c204aa0e1452282a82a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zCf8lxe80uBC-tiljjzuiA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b8ae" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后，您可以复制测试脚本并在本地运行测试，或者简单地点击<code class="fe mf mg mh mi b">Run</code>按钮开始云测试。</p><h1 id="0bdd" class="mo mp it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">结论</h1><p id="3200" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">让我们回顾一下文章中所涉及的内容。</p><p id="718d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">它首先简要解释了什么是记录及其使用案例。然后，介绍了通过用户会话使用录音的好处。</p><p id="a187" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这篇文章还介绍了在Chrome或Firefox中设置和安装k6 Browser Recorder扩展。</p><p id="50bb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">之后，它解释了如何使用扩展并在您的k6云帐户上生成测试脚本。最后，您可以复制生成的k6脚本，在您的机器上运行负载测试，或者从UI触发云测试。</p><p id="a549" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">感谢你阅读这篇文章。希望在下一篇文章中再见到你！</p></div><div class="ab cl pd pe hx pf" role="separator"><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi"/></div><div class="im in io ip iq"><h1 id="6885" class="mo mp it bd mq mr pk mt mu mv pl mx my jz pm ka na kc pn kd nc kf po kg ne nf bi translated">参考</h1><ol class=""><li id="a0b9" class="lw lx it lc b ld ng lg nh lj pp ln pq lr pr lv ps mc md me bi translated"><a class="ae ky" href="https://k6.io/docs/test-authoring/recording-a-session/browser-recorder" rel="noopener ugc nofollow" target="_blank"> k6 —浏览器记录器</a></li><li id="a11a" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv ps mc md me bi translated"><a class="ae ky" href="https://k6.io/docs/test-authoring/recording-a-session" rel="noopener ugc nofollow" target="_blank"> k6 —记录会话</a></li><li id="7d57" class="lw lx it lc b ld mj lg mk lj ml ln mm lr mn lv ps mc md me bi translated"><a class="ae ky" href="https://k6.io/docs/testing-guides/load-testing-websites" rel="noopener ugc nofollow" target="_blank"> k6 —负载测试网站</a></li></ol></div><div class="ab cl pd pe hx pf" role="separator"><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi"/></div><div class="im in io ip iq"><h1 id="041a" class="mo mp it bd mq mr pk mt mu mv pl mx my jz pm ka na kc pn kd nc kf po kg ne nf bi translated">便签</h1><h2 id="7ed4" class="nl mp it bd mq nm nn dn mu no np dp my lj nq nr na ln ns nt nc lr nu nv ne nw bi translated">(致<a class="pt pu ep" href="https://medium.com/u/53814009142b?source=post_page-----f7db08ad5b4c--------------------------------" rel="noopener" target="_blank">乔·格里尔</a></h2><p id="b724" class="pw-post-body-paragraph la lb it lc b ld ng ju lf lg nh jx li lj ni ll lm ln nj lp lq lr nk lt lu lv im bi translated">很抱歉，我在编辑文章时不小心删除了你的评论。以下是我对你问题的回答:</p><blockquote class="pv pw px"><p id="0c24" class="la lb py lc b ld le ju lf lg lh jx li pz lk ll lm qa lo lp lq qb ls lt lu lv im bi translated">您可以免费使用k6浏览器记录器扩展。不要直接在k6 cloud上运行测试(免费层限制为50个测试)，只需复制测试脚本并保存在本地。</p><p id="3c86" class="la lb py lc b ld le ju lf lg lh jx li pz lk ll lm qa lo lp lq qb ls lt lu lv im bi translated">然后，您可以使用开源的K6(<a class="ae ky" href="https://github.com/loadimpact/k6" rel="noopener ugc nofollow" target="_blank">https://github.com/loadimpact/k6</a>)测试工具在本地机器上直接测试它。</p><p id="e15d" class="la lb py lc b ld le ju lf lg lh jx li pz lk ll lm qa lo lp lq qb ls lt lu lv im bi translated">它有助于为您生成一个基础脚本，而无需从头开始编写代码。在运行负载测试之前，您总是可以在代码中修改生成的脚本。</p><p id="2ae1" class="la lb py lc b ld le ju lf lg lh jx li pz lk ll lm qa lo lp lq qb ls lt lu lv im bi translated">如果你需要进一步的澄清，请告诉我。</p></blockquote></div></div>    
</body>
</html>