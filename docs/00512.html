<html>
<head>
<title>The Role of JavaScript in the Modern Web</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript在现代网络中的角色</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-role-of-javascript-in-the-modern-web-ff0f6961829a?source=collection_archive---------4-----------------------#2019-06-04">https://betterprogramming.pub/the-role-of-javascript-in-the-modern-web-ff0f6961829a?source=collection_archive---------4-----------------------#2019-06-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4780" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">JavaScript如何使网站有状态并支持动态web开发</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4f94e7545413fb44fd1d9cae5baf0e54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TZ2HKSWyVOdNW6c3Zz3RzA.png"/></div></div></figure><p id="14e2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">即使你对web开发几乎一无所知，你也可能听说过它在某种程度上与一种叫做JavaScript的编程语言有关。</p><p id="8f85" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你不需要用T2的JavaScript来制作一个网站，但是没有它，互联网将只是静态的信息页面；没有用户交互，没有动画，并且需要大量页面重载来获取新信息。</p><p id="2a7e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是因为一个网站仅仅由HTML(超文本标记语言)和CSS(层叠样式表)组成。HTML是页面上的内容——文字、按钮、图像等等。—而CSS是决定颜色和字体大小的因素。</p><p id="37fd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">是的，你没看错。一个网站是HTML、CSS、<strong class="kw iu">T5而不是 </strong> JavaScript。</p><p id="48b6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">那么JavaScript从何而来，为什么它对web开发如此重要？</p><p id="a6b6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">JavaScript用于编写控制HTML和CSS的程序。HTML和CSS本身是静态不变的——JavaScript可以让它们变得生动起来！它可以使某些内容块出现或消失，或者它可以使现有的内容块看起来完全不同——在几乎无限数量的其他功能中。</p><p id="f177" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">换句话说，JavaScript支持网站上的交互性，并给网站一种状态感。网站或web应用程序的状态决定了它的显示方式以及显示和不显示的内容。</p><p id="defa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq">状态</em>的概念是构建动态网站最重要的一个方面，所以我们将从这里开始…</p><h1 id="ea31" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">定义状态</h1><p id="dacc" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">为了介绍<strong class="kw iu">状态</strong>的概念，请允许我从一个思维实验开始…</p><p id="54cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">闭上你的眼睛，想象一个球被抛向空中，落下，然后弹跳两次。你知道它的发射角度和速度，现在你想计算它的当前高度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/662df3f47a6dae150c7f767c47db7988.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ByOVWEXUuO7UhCR6zVcm1g.gif"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">随着时间的推移，球在空中飞行的轨迹|动画制作<a class="mt mu ep" href="https://medium.com/u/4d76f5fc17a8?source=post_page-----ff0f6961829a--------------------------------" rel="noopener" target="_blank">吉姆·罗廷格</a></p></figure><p id="eb4d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一个简单的物理问题，但是您遗漏了一条重要信息——当前时间戳。不知道过了多少时间能确定高度吗？</p><p id="7a57" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不，这是不可能的。时间戳对于确定球飞行的<strong class="kw iu">状态</strong>至关重要。这个决定球的高度的时间概念叫做<strong class="kw iu">有状态。</strong></p><p id="9d59" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如时间被用来计算球沿其轨迹的高度一样，网站也有状态。这就是网站从静态到拥有与用户互动的动态内容的过程。</p><blockquote class="mv mw mx"><p id="46ab" class="ku kv lq kw b kx ky ju kz la lb jx lc my le lf lg mz li lj lk na lm ln lo lp im bi translated">用户登录了吗？</p><p id="d962" class="ku kv lq kw b kx ky ju kz la lb jx lc my le lf lg mz li lj lk na lm ln lo lp im bi translated">他们是否启用了夜间模式？</p><p id="f945" class="ku kv lq kw b kx ky ju kz la lb jx lc my le lf lg mz li lj lk na lm ln lo lp im bi translated">他们使用的是哪种布局偏好？</p></blockquote><p id="1ed6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些都是web应用程序用来更改其页面内容和外观的常见状态示例。即使是简单的设置也能彻底改变网站的外观。</p><p id="15bc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">例如，如果用户已经登录，我们将向他们显示配置文件菜单，而不是登录按钮。如果他们选择了夜间模式，背景将是暗的而不是亮的。</p><p id="7d37" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现代网站或应用程序可能有成百上千个这样的小条件，每个条件控制页面上自己的部分内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/e681908545d25563ae4898502387c383.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*msd_N-mr8J0uwxaRKYqEyg.gif"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">一个网站的状态可以极大地改变它的外观|动画由<a class="mt mu ep" href="https://medium.com/u/4d76f5fc17a8?source=post_page-----ff0f6961829a--------------------------------" rel="noopener" target="_blank">吉姆·罗丁格</a></p></figure><p id="7ae6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面的动画描述了状态如何改变页面。首先，用户注销并启用了宽布局。他们登录，启用黑暗模式，关闭宽布局，喜欢帖子。最终的结果是相同的网站有着完全不同的外观。</p><p id="d2d3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">从状态的角度考虑我们的网站是有用的，因为这使它们变得可预测。如果我们知道所有的状态属性，那么我们就知道了站点在无限数量的状态排列中的当前外观。</strong></p><p id="f639" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">花点时间看看你现在所在的媒体页面——你能在哪里看到状态的例子？作为用户交互如何改变状态的一个例子，试着为这篇文章鼓掌，并观察鼓掌图标如何改变颜色以及鼓掌总数如何增加。这是整个页面的一个小组件中状态的两个例子！</p><p id="c5f1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可能想当然地认为页面不需要重新加载来显示关于你的掌声的新信息。这就是JavaScript发挥作用的地方。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h1 id="1a51" class="lr ls it bd lt lu nj lw lx ly nk ma mb jz nl ka md kc nm kd mf kf nn kg mh mi bi translated">JavaScript的作用:管理状态和更新用户界面</h1><p id="6be9" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">在这一点上，我们已经了解到现代网站的外观是由其状态决定的，这可能会导致无限的排列。剩下的问题是:什么是管理国家本身？</p><p id="16da" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有一个程序在幕后监听你在网站上的所有动作，并相应地更新状态。这个程序是用网络的通用语言——JavaScript编写的。</p><p id="4877" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">运行在现代网站或web应用程序上的JavaScript有两个主要职责:</p><ol class=""><li id="8e39" class="no np it kw b kx ky la lb ld nq lh nr ll ns lp nt nu nv nw bi translated">保持用户界面(UI)与状态同步</li><li id="a9eb" class="no np it kw b kx nx la ny ld nz lh oa ll ob lp nt nu nv nw bi translated">执行后台工作以从服务器获取信息。</li></ol><p id="9ecf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们详细看看这些任务。</p><h2 id="83fa" class="oc ls it bd lt od oe dn lx of og dp mb ld oh oi md lh oj ok mf ll ol om mh on bi translated">1.保持用户界面与状态同步</h2><p id="c143" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">网页可能发生的最糟糕的事情之一是UI与JavaScript程序的状态或服务器上的信息不同步(稍后将详细介绍)。</p><p id="50f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">例如，想象一个网站的设置页面，它有许多用于各种设置的复选框。如果你仔细检查并选择了你所有的设置，却发现它们并没有全部保存下来，这是多么令人沮丧啊。如果UI的状态领先于JavaScript的状态，这样的事情很容易发生。</p><p id="e2fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">web开发人员有责任设计一个好的程序来防止任何不同步问题的发生。一个现代化的网站必须能够响应和处理用户的所有操作，并保持用户界面的速度。</p><h2 id="05e6" class="oc ls it bd lt od oe dn lx of og dp mb ld oh oi md lh oj ok mf ll ol om mh on bi translated">2.执行后台任务以从服务器获取信息</h2><p id="1d48" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">最后一个问题是:<em class="lq">媒体世界的其他人如何知道你为这个职位鼓掌？</em></p><p id="7414" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当你输入一个网址并收到一个网页时，你看到的是你所在网站的服务器发送给你的一份文件。您可以查看文档并与之进行交互，但是您对文档所做的任何更改只会反映在您自己的浏览器中，不会保留到服务器上的资源中。</p><p id="d00b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了更新服务器上的信息，必须向服务器发出额外的请求或消息。这都是由管理UI状态的同一个JavaScript程序促成的。通常，这些请求与UI上的交互联系在一起。例如，当您单击此页面上的“鼓掌”按钮时，可能会发生以下步骤:</p><ol class=""><li id="8e05" class="no np it kw b kx ky la lb ld nq lh nr ll ns lp nt nu nv nw bi translated">JavaScript监听鼓掌按钮上的点击。</li><li id="b739" class="no np it kw b kx nx la ny ld nz lh oa ll ob lp nt nu nv nw bi translated">单击按钮时，会向服务器发送一条消息来更新页面上的图标。</li><li id="1dd2" class="no np it kw b kx nx la ny ld nz lh oa ll ob lp nt nu nv nw bi translated">服务器用新的总鼓掌次数和你自己鼓掌的次数来响应。</li><li id="2199" class="no np it kw b kx nx la ny ld nz lh oa ll ob lp nt nu nv nw bi translated">用户界面更新了新的总鼓掌次数，并突出显示了手按钮，表明您已经亲自为帖子鼓掌。</li></ol><p id="6bee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">可能还会发生更多的事情，但是这个概述会让您对JavaScript如何与服务器交互有所了解。</p><p id="9dcc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">底线是JavaScript可以与网站的服务器交互，发送和接收信息以实时更新UI。它不需要像早期网络那样重新加载页面来获取新信息。这可能是导致现代网络的最重要的演变，在你的浏览器上运行成熟的应用程序。</strong></p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h1 id="c1fb" class="lr ls it bd lt lu nj lw lx ly nk ma mb jz nl ka md kc nm kd mf kf nn kg mh mi bi translated">包扎</h1><p id="9440" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">这篇文章是对JavaScript如何在浏览器中工作的一个非常高层次的概述。我在解释它是如何工作的时候做了一些改动，但是我相信我已经准确地表达了所有的信息。从这篇文章中得到的最重要的信息是如何看待网站的状态。这样做会让你成为一个更好的网络开发者！</p><h1 id="f101" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">脚注</h1><ol class=""><li id="824b" class="no np it kw b kx mj la mk ld oo lh op ll oq lp nt nu nv nw bi translated">是的，我意识到人们只用CSS做了一些疯狂的事情，比如<a class="ae or" href="https://github.com/kkuchta/css-only-chat" rel="noopener ugc nofollow" target="_blank">构建一个全功能的聊天应用</a>，但这不是它的预期用途。</li><li id="a549" class="no np it kw b kx nx la ny ld nz lh oa ll ob lp nt nu nv nw bi translated">现代的JavaScript框架如<a class="ae or" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>首先被用来生成HTML，但这并不能改变最终结果只是由JS控制的HMTL+CSS的事实。</li></ol></div></div>    
</body>
</html>