<html>
<head>
<title>Set Up Firebase Authentication With React and Go</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React and Go设置Firebase身份验证</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/firebase-authentication-with-react-and-go-3784f91fa760?source=collection_archive---------1-----------------------#2020-01-18">https://betterprogramming.pub/firebase-authentication-with-react-and-go-3784f91fa760?source=collection_archive---------1-----------------------#2020-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f088" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用create-react-app和Go API设置Firebase的简单教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/46fce2de4d5848f6e8d3112a3158dbf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SLc1UNPVDB-dD6En5Yf8GQ@2x.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者</p></figure><p id="0385" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我将向您展示使用create-react-app和Go API通过一个简单的SPA应用程序实现Firebase身份验证的过程。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="ca98" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">回购示例</h1><p id="3643" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">以下是完整代码库的链接，以供参考:</p><div class="my mz gp gr na nb"><a href="https://github.com/manakuro/firebase-authentication-with-react-and-go" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd iu gy z fp ng fr fs nh fu fw is bi translated">mana kuro/fire base-验证-反应-开始</h2><div class="ni l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">github.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ks nb"/></div></div></a></div></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="90cc" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">设置React应用程序</h1><p id="815d" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">首先，我们用<a class="ae np" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>创建一个SPA应用程序:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="cb88" class="nv mc it nr b gy nw nx l ny nz">npx create-react-app firebase-authentication-app --template typescript</span></pre><p id="17e6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意:如果您遇到这样的警告，请卸载create-react-app并重试。</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="bf66" class="nv mc it nr b gy nw nx l ny nz">A template was not provided. This is likely because you're using an outdated version of create-react-app.<br/>Please note that global installs of create-react-app are no longer supported.</span></pre><p id="096e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">卸载:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="4a1c" class="nv mc it nr b gy nw nx l ny nz">npm uninstall -g create-react-app</span></pre><p id="3fd8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果不起作用，只需移除<code class="fe oa ob oc nr b">/usr/local/bin/create-react-app</code>:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="6a19" class="nv mc it nr b gy nw nx l ny nz">rm -f <!-- -->/usr/local/bin/create-react-app</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="f7aa" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">创建注册页面</h1><p id="af78" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">为了快速创建注册页面，我们使用了<a class="ae np" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank">材质UI </a>。</p><p id="f431" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">安装一些依赖项:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="c367" class="nv mc it nr b gy nw nx l ny nz">yarn add @material-ui/core @material-ui/icons react-social-login-buttons</span></pre><p id="57d6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">添加<code class="fe oa ob oc nr b">src/SignUp.tsx</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="e2e3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">并在<code class="fe oa ob oc nr b">src/App.tsx</code>导入:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="3575" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，您将在<code class="fe oa ob oc nr b">http://localhost:3000</code>处看到该页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/a2f079261f36f8c6f1e3c29d444febb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XoPlOWKpCzcgw5R1eBleQw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">注册页面</p></figure><p id="9463" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这一部分中，我们允许用户用他们的电子邮件和密码以及GitHub帐户注册。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="b8b6" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated"><strong class="ak">安装燃烧底座</strong></h1><p id="fc22" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">接下来，我们将把<a class="ae np" href="https://firebase.google.com/docs/?gclid=EAIaIQobChMIsfDlvYnr5wIVCp53Ch0vVwVKEAAYASAAEgJCjfD_BwE" rel="noopener ugc nofollow" target="_blank"> Firebase </a> SDK引入到我们的应用程序中，并使其能够与Firebase认证服务器连接。</p><p id="5465" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您不熟悉Firebase，请阅读<a class="ae np" href="https://firebase.google.com/docs/projects/learn-more?hl=en" rel="noopener ugc nofollow" target="_blank">了解Firebase项目</a>并学习最佳实践。</p><h2 id="3464" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">创建一个Firebase项目</h2><p id="c8d6" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">转到<a class="ae np" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase控制台</a>并点击添加项目:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/b20284598fd3e60333ab6358f691f5cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kjXYRUURwphgYA9aCmtBFw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">添加项目</p></figure><p id="4ce6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">继续执行一些步骤并查看概述页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/6dda4c34b5125dda28d15421aebb5fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gwx2z89stkC1fXfYOyH2aw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Firebase控制台页面</p></figure><h2 id="dd50" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">向Firebase注册应用程序</h2><p id="090d" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">在Firebase控制台中，单击Web图标(&gt;):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/6848ad7c5301177cd614ccd3720410b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5zSADjW8kz_x4TDQwwaYA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">网络图标</p></figure><p id="e0ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输入应用昵称，然后单击注册应用:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/bdeefad34c98661f7b4e9ce2246a87e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dug8Fhgva0JbxkgUuLiCyA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将Firebase添加到您的web应用程序</p></figure><p id="c847" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">设置完成后，您将看到Firebase配置，稍后我们将使用它来启用Firebase SDK，因此请记下它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/0289f2056cd02168a9aa631f92d010e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FfxkIzkD4WZNnlfJuR-uDg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Firebase配置</p></figure><h2 id="b6fc" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">包括Firebase SDKs</h2><p id="8a3b" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">接下来，我们将把Firebase SDKs添加到我们的应用程序中并启用它。</p><p id="49ea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">安装<code class="fe oa ob oc nr b">firebase</code>模块:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="bee8" class="nv mc it nr b gy nw nx l ny nz">yarn add firebase</span></pre><p id="8b0d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">添加<code class="fe oa ob oc nr b">src/utils/firebase.ts</code>初始化Firebase app:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="f209" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">添加<code class="fe oa ob oc nr b">src/const/index.ts</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="03cc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在根项目中添加<code class="fe oa ob oc nr b">.env</code>,并应用我们上面得到的配置:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="51e3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您需要在create-react-app中创建以<code class="fe oa ob oc nr b">REACT_APP_</code>开头的环境变量。在<a class="ae np" href="https://create-react-app.dev/docs/adding-custom-environment-variables/" rel="noopener ugc nofollow" target="_blank">文档</a>中阅读更多细节。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="5621" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">使用电子邮件和密码进行身份验证</h1><p id="db8a" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">接下来，我们将使用电子邮件和密码实现身份验证，这是Firebase中基于密码的帐户。</p><p id="452b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要启用<code class="fe oa ob oc nr b">Email/Password</code>登录，请转到<a class="ae np" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase控制台</a>中的认证:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/105dcb67a9f1fe946e8c0f17ce709bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YrOG-MtKdcb-3joxLpRMUg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Firebase控制台中的身份验证</p></figure><p id="ee09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">转到登录方法选项卡，然后单击电子邮件/密码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/27fb74713610d37845066605d0115260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fiT_ga7pFAiNO0DDuWs1rw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">电子邮件/密码登录方式</p></figure><p id="75d6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">启用并单击保存:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/1013f1c250667b33e805e38f3e2b9f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P155e3V40GYyxo6QpMioeA.png"/></div></div></figure><p id="b071" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们已经准备好使用Firebase SDKs了，那就注册吧。</p><p id="97ec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">增加<code class="fe oa ob oc nr b">src/SignUp.tsx</code>提交处理:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="02ba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">填写电子邮件和密码(确保电子邮件格式有效，密码至少为六个字符):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/1c92230c8d5849e86069bef5c987cff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RBMBCWlX2v4dQB3vz2cOaA.png"/></div></div></figure><p id="0366" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">单击注册后，您可以看到用户已经在Firebase控制台中创建:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/7c6c352fba40d52374b2df9e6951d2aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9QyCQw7Xg18R95hAZQ30OQ.png"/></div></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="c8dc" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">通过GitHub认证</h1><p id="81c1" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">既然我们已经创建了基于密码的身份验证，接下来我们将使使用OAuth和GitHub成为可能。</p><p id="432a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将GitHub身份验证集成到我们的应用程序中的步骤如下:</p><ul class=""><li id="46a8" class="pb pc it la b lb lc le lf lh pd ll pe lp pf lt pg ph pi pj bi translated">在GitHub上注册app为开发者应用，获取OAuth 2.0客户端ID和客户端密码。</li><li id="6a05" class="pb pc it la b lb pk le pl lh pm ll pn lp po lt pg ph pi pj bi translated">在Firebase控制台中启用GitHub provider，并添加客户端ID和客户端密码。</li></ul><p id="cda6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">转到<a class="ae np" href="https://github.com/settings/profile" rel="noopener ugc nofollow" target="_blank"> GitHub设置</a>并点击开发者设置:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/ded1bcab3d50aa21db63e517184229dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HlzJ7bb0gb6og2RlpsgYkA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">开发者设置</p></figure><p id="4e6f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">转到OAuth应用程序部分，然后单击新建OAuth应用程序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/640de4fe0b7abcb6d579c994a9e7accc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sh90vSqqxm3a55wRJP_FSg.png"/></div></div></figure><p id="2d23" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您会看到注册页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/68cd4a218e7a03a6794bae3953ae9e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ox3mgGQLw-4du8wXE-WUg.png"/></div></div></figure><p id="61d4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe oa ob oc nr b">Authorization callback URL</code>应该是Firebase身份验证的回调URL，所以让我们转到Firebase控制台上的登录方法。您可以在提供商列表中找到GitHub:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/9b51e4511848341b930956db214f5af2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yiB8pCCyPnws_-ztqvrhSg.png"/></div></div></figure><p id="eb4c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">单击它并复制URL:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/3629340b22a55626e6abf64529147717.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pKdUfvCgMtRjLqbca-cRLg.png"/></div></div></figure><p id="2dc6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">返回GitHub页面并将其粘贴到授权回调URL框中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/5091e3f1b1d05d4112a34b5a5f9482af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1OptHPL-3ndhxI-zVa4jcA.png"/></div></div></figure><p id="4c70" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">成功创建后，您可以获得客户端ID和客户端密码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/d73ed7af03ec4f53b22782a3743657ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N7OU2eEqN8WFDWCOMu8ucw.png"/></div></div></figure><p id="a45c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">复制它们并回到Firebase控制台。</p><p id="d59e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">启用它并填写客户端ID和客户端密码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/7a923b1b1c6d0b0efd880469f3f6549e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u6RbvM4IyiwAOwtnWD43Xw.png"/></div></div></figure><p id="3a6f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们已经添加了GitHub作为提供者。</p><p id="a02d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，回到源代码，处理注册流程。</p><p id="0563" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe oa ob oc nr b">src/SignUp.tsx</code>添加注册GitHub的处理程序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="7070" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果用户已经登录，<code class="fe oa ob oc nr b">linkWithPopup</code>将凭证链接到一个现有帐户，以免重复用户。关于链接的更多细节可以在<a class="ae np" href="https://firebase.google.com/docs/auth/web/account-linking?authuser=0" rel="noopener ugc nofollow" target="_blank"> Firebase文档</a>中看到。</p><p id="af53" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们试一试，看看效果如何。</p><p id="a0ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">点击注册Github，你会看到弹出窗口:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/c7b3356d8a74a2b4de54a00120d74143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dgRDhvG-FN7s4Znw4_SNtQ.png"/></div></div></figure><p id="b434" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看起来效果不错。</p><p id="ff38" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">授权后，如果您已经登录，Github已被添加为Firebase控制台中的提供者:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pv"><img src="../Images/f1d6d130a9195f511761cc9809af17cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iddKDcF_5MeQ_TkkBWWlLQ.png"/></div></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="18f2" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">实现Go API</h1><p id="3db0" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">现在我们已经在前端客户端实现了基于密码和GitHub的认证流程。</p><p id="adc3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们将创建一个在数据库中注册用户的API。</p><h2 id="fb73" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">属国</h2><p id="fe4f" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">需要获取一些依赖项，所以安装它们:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="4771" class="nv mc it nr b gy nw nx l ny nz">go get github.com/labstack/echo<br/>go get github.com/jinzhu/gorm<br/>go get github.com/jinzhu/gorm/dialects/mysql<br/>go get bitbucket.org/liamstask/goose/cmd/goose</span></pre><h2 id="93b4" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">用Docker设置MySQL</h2><p id="0230" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我们使用Docker来设置MySQL8.0。</p><p id="d14c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在根项目中添加一个<code class="fe oa ob oc nr b">docker-compose.yml</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="9379" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">并运行它:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="71fc" class="nv mc it nr b gy nw nx l ny nz">docker-compose up</span></pre><h2 id="34e0" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">创建数据库</h2><p id="b66e" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">在MySQL控制台中创建一个名为<code class="fe oa ob oc nr b">firebase-authentication-app</code>的数据库:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="bd6a" class="nv mc it nr b gy nw nx l ny nz">CREATE DATABASE `<!-- -->firebase-authentication-app<!-- -->`;</span></pre><h2 id="2585" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">创建用户表</h2><p id="b3eb" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated"><a class="ae np" href="https://github.com/pressly/goose" rel="noopener ugc nofollow" target="_blank"> goose </a>是Go中的迁移工具之一，提供了通过SQL或Go函数管理数据库模式的能力。</p><p id="99ae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">添加<code class="fe oa ob oc nr b">db/dbconf.yml</code>:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="97a9" class="nv mc it nr b gy nw nx l ny nz">development:<br/>  driver: mysql<br/>  open: root:root@tcp(127.0.0.1:3306)/firebase-authentication-app</span></pre><p id="dc2f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">确保正确连接到:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="100e" class="nv mc it nr b gy nw nx l ny nz">$ goose status</span><span id="5603" class="nv mc it nr b gy pw nx l ny nz">goose: status for environment 'development'<br/>    Applied At                  Migration<br/>    =======================================</span></pre><p id="88dc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过以下命令创建用户表:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="6209" class="nv mc it nr b gy nw nx l ny nz">goose create CreateUsers sql</span></pre><p id="ee04" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您将看到在<code class="fe oa ob oc nr b">db/migrations</code>中生成的迁移文件:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="9556" class="nv mc it nr b gy nw nx l ny nz">-- +goose Up<br/>-- SQL in section 'Up' is executed when this migration is applied<br/><br/><br/>-- +goose Down<br/>-- SQL section 'Down' is executed when this migration is rolled back</span></pre><p id="5bed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将SQL添加到:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="766c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">执行SQL:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="1f00" class="nv mc it nr b gy nw nx l ny nz">goose up</span></pre><p id="6ba5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe oa ob oc nr b">uuid</code>应该是Firebase中唯一的ID。您可以在Firebase控制台上看到它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/a643bafbf404e83d12098029c19c9be7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*__5940qdRQu436_7XH3Y0Q.png"/></div></div></figure><h2 id="77e1" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">连接到MySQL</h2><p id="4676" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我们使用<a class="ae np" href="https://github.com/jinzhu/gorm" rel="noopener ugc nofollow" target="_blank"> gorm </a>来连接MySQL。</p><p id="94a5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">添加<code class="fe oa ob oc nr b">datastore/db.go</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><h2 id="1506" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">设置回显服务器</h2><p id="df85" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">添加<code class="fe oa ob oc nr b">main.go</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><h2 id="eecd" class="nv mc it bd md og oh dn mh oi oj dp ml lh ok ol mn ll om on mp lp oo op mr oq bi translated">注册用户</h2><p id="0824" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">接下来，我们将添加一个在数据库中注册用户的端点。</p><p id="8f45" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，在<code class="fe oa ob oc nr b">domain/model/user.go</code>中添加用户模型:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="4555" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">并在<code class="fe oa ob oc nr b">main.go</code>中添加一个处理程序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="e2bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们在<code class="fe oa ob oc nr b">http://localhost:8080/users</code>的Postman中测试一下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/7d9b8c2e3ca424fc7dd4ec67d42b3ce2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y0c_eTuhRgW-B0wrIy0vWQ.png"/></div></div></figure><p id="1b2a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它成功地在数据库中创建了用户并对其进行了响应。</p><p id="e84e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果用户已经注册:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pz"><img src="../Images/a55ae7554bb0db652ceebc5730919590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7fM_iLP0q8I9kwqkNPrVmw.png"/></div></div></figure><p id="9c9c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">返回“用户已经注册”。看起来效果不错。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="170d" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">限制API</h1><p id="88eb" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated"><code class="fe oa ob oc nr b">/users</code>现在可以从客户端获得任何访问。我们希望通过安全地验证传递的令牌来限制访问。Firebase为此提供了SDK。</p><p id="b37a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，创建一个使用SDK的凭证。进入Firebase控制台，打开设置&gt;<a class="ae np" href="https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk" rel="noopener ugc nofollow" target="_blank">服务账户</a>。</p><p id="2d42" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">单击生成新私钥:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/cc97b342c3590685b6f2a1e97858a914.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AQcvt8dIvGNT4os5f3hMeQ.png"/></div></div></figure><p id="fc37" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以下载私钥。</p><p id="e50c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们将创建一个用于认证的中间件。</p><p id="18de" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">添加<code class="fe oa ob oc nr b">router/middleware/auth.go</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="f153" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将服务密钥路径传递给<code class="fe oa ob oc nr b">option.WithCredentialsFile(...)</code>。</p><p id="2a8d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将<code class="fe oa ob oc nr b">echo.context</code>设置为认证后Firebase提供的<code class="fe oa ob oc nr b">token</code>数据。</p><p id="be81" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">并添加<code class="fe oa ob oc nr b">router/context/context.go</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="dcd5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">包含<code class="fe oa ob oc nr b">main.go</code>中的中间件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="a95f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在<code class="fe oa ob oc nr b">http://localhost:8080/api</code>被限制。要访问它，我们需要将令牌添加到HTTP头中。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="4963" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">连接API</h1><p id="22ba" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我们已经创建了端点，所以接下来，我们将把前端客户端连接到Go API。</p><p id="50e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Firebase认证之后，我们希望通过API在我们的数据库中注册用户数据。</p><p id="ff2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们使用axios 作为HTTP客户端:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="171e" class="nv mc it nr b gy nw nx l ny nz">yarn add axios</span></pre><p id="9d5d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">添加<code class="fe oa ob oc nr b">src/api/index.ts</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="1e55" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe oa ob oc nr b">.env</code>中增加<code class="fe oa ob oc nr b">API_URL</code>:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="063b" class="nv mc it nr b gy nw nx l ny nz">REACT_APP_API_URL=http://localhost:8080</span></pre><p id="5c24" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">和<code class="fe oa ob oc nr b">src/const/index.ts</code>:</p><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="9286" class="nv mc it nr b gy nw nx l ny nz">export const API_URL = process.env.REACT_APP_API_URL as string</span></pre><p id="2d61" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe oa ob oc nr b">src/SignUp.tsx</code>中的API:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="d40a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe oa ob oc nr b">api.setToken(idToken)</code>为Firebase访问令牌设置HTTP头，以便与我们的API进行通信。</p><p id="6415" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们来测试一下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qa"><img src="../Images/7b178f54f3a7c6a1165fb34c569f77c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAPnXdxnw6KcXgnW5Z3A3g.png"/></div></div></figure><p id="8107" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以看到用户是在控制台和数据库中创建的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qb"><img src="../Images/2654bb879a01c9dc45dbc3af79e881b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WHsBS_vfzRT0EHl1DwY08w.png"/></div></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="b55f" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">结论</h1><p id="e3e6" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">就是这样。我们用React and Go实现了一个简单的注册页面。希望这篇文章能够帮助您进行身份验证。</p><p id="59c0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以在以下网址查看最终代码库:</p><div class="my mz gp gr na nb"><a href="https://github.com/manakuro/firebase-authentication-with-react-and-go" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab fo"><div class="nd ab ne cl cj nf"><h2 class="bd iu gy z fp ng fr fs nh fu fw is bi translated">mana kuro/fire base-验证-反应-开始</h2><div class="ni l"><p class="bd b dl z fp ng fr fs nh fu fw dk translated">github.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ks nb"/></div></div></a></div></div></div>    
</body>
</html>