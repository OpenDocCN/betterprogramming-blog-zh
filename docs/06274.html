<html>
<head>
<title>Custom Tab Views in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的自定义选项卡视图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/custom-tab-views-in-swiftui-6ef06bf2db73?source=collection_archive---------6-----------------------#2020-09-16">https://betterprogramming.pub/custom-tab-views-in-swiftui-6ef06bf2db73?source=collection_archive---------6-----------------------#2020-09-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2397" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用@ViewBuilder构建自定义选项卡视图</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/8c5203e99606848aab4ec870c6a33e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*BQDRYRTus8SA83wjpLyl4A.gif"/></div></figure></div><div class="ab cl kq kr hx ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="im in io ip iq"><h1 id="36c8" class="kx ky it bd kz la lb lc ld le lf lg lh jz li ka lj kc lk kd ll kf lm kg ln lo bi translated">@ViewBuilder</h1><p id="e531" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">首先，为保存选项卡的容器创建一个结构。该结构将属于视图类型。为了将标签传递给容器，我们需要一个保存标签的参数。这个参数将是内容。它属于符合视图的内容类型。通常，标签会有图标图像，它们可能没有标题。因此，我们可以选择我们的标题。创建一个init并确保在内容参数之前有参数属性<code class="fe ml mm mn mo b"><a class="ae mp" href="http://twitter.com/ViewBuilder" rel="noopener ugc nofollow" target="_blank">@ViewBuilder</a></code>。这将允许我们为一些子视图提供一个闭包。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure></div><div class="ab cl kq kr hx ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="im in io ip iq"><h1 id="81f4" class="kx ky it bd kz la lb lc ld le lf lg lh jz li ka lj kc lk kd ll kf lm kg ln lo bi translated">内容修饰符</h1><p id="d871" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">我们将所有的标签放在一个<code class="fe ml mm mn mo b">HStack</code>中。创建一个<code class="fe ml mm mn mo b">HStack</code>，并添加我们的内容常量。通过添加<code class="fe ml mm mn mo b">GeometryReader</code>并使用其几何尺寸宽度值，调整框架以覆盖父视图的整个宽度。给<code class="fe ml mm mn mo b">HStack</code>以下修饰符:</p><ul class=""><li id="f406" class="ms mt it lr b ls mu lv mv ly mw mc mx mg my mk mz na nb nc bi translated"><code class="fe ml mm mn mo b">offset</code>:用于通过偏移<em class="nd"> x </em>在标签之间移动。</li><li id="4ffc" class="ms mt it lr b ls ne lv nf ly ng mc nh mg ni mk mz na nb nc bi translated"><code class="fe ml mm mn mo b">animation</code>:当滑动手势不够有力时，使用交互式弹簧动画使选项卡弹回原位。</li><li id="81f7" class="ms mt it lr b ls ne lv nf ly ng mc nh mg ni mk mz na nb nc bi translated"><code class="fe ml mm mn mo b">gesture</code>:使用<code class="fe ml mm mn mo b">DragGesture</code>可以在标签之间滑动。创建手势状态和索引变量。使用<code class="fe ml mm mn mo b">updating</code>和<code class="fe ml mm mn mo b">onEnded</code> <code class="fe ml mm mn mo b">DragGesture</code>修改器获取滑动位置并偏移内容。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="6850" class="pw-post-body-paragraph lp lq it lr b ls mu ju lu lv mv jx lx ly nj ma mb mc nk me mf mg nl mi mj mk im bi translated">如果你想让较弱的滑动手势工作，添加一个<code class="fe ml mm mn mo b">weakGesture</code>变量，并根据你的喜好调整它的值。然后将其添加到<code class="fe ml mm mn mo b">offset</code>常量中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure></div><div class="ab cl kq kr hx ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="im in io ip iq"><h1 id="1b1c" class="kx ky it bd kz la lb lc ld le lf lg lh jz li ka lj kc lk kd ll kf lm kg ln lo bi translated">选项卡图像和标题</h1><p id="83a7" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">将内容的<code class="fe ml mm mn mo b">HStack</code>嵌入到<code class="fe ml mm mn mo b">VStack</code>中的<code class="fe ml mm mn mo b">GeometryReader</code>中。在我们内容的<code class="fe ml mm mn mo b">HStack</code>下，为我们的标签按钮添加另一个<code class="fe ml mm mn mo b">HStack</code>。使用<code class="fe ml mm mn mo b">ForEach</code>在所有图像之间迭代，并将它们添加到按钮。检查标题是否为空，并将它们添加到<code class="fe ml mm mn mo b">VStack</code>内的同一个按钮中。使用<code class="fe ml mm mn mo b">Spacer()</code>添加按钮之间的动态间距。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure></div><div class="ab cl kq kr hx ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="im in io ip iq"><h1 id="c9e7" class="kx ky it bd kz la lb lc ld le lf lg lh jz li ka lj kc lk kd ll kf lm kg ln lo bi translated">内容视图</h1><p id="47be" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">在我们的<code class="fe ml mm mn mo b">ContentView</code>里，可以试试我们的<code class="fe ml mm mn mo b">TabsContainer</code>。创建标题和图像传递给我们的<code class="fe ml mm mn mo b">TabsContainer</code>。有一个<code class="fe ml mm mn mo b">ZStack</code>，将其内容底部对齐。使用颜色添加到<code class="fe ml mm mn mo b">ZStack</code>。这将确保我们的<code class="fe ml mm mn mo b">ZStack</code>和我们的父视图一样宽一样高。创建你的标签结构，并将它们添加到我们的容器中。对于本教程，我有四个<code class="fe ml mm mn mo b">RoundedRectangle</code>形状作为我的内容。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/558ac35aed3367f02c21571eb9de7585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/1*xzz2Z1FXak4fTq1PnTEntA.gif"/></div><p class="nn no gj gh gi np nq bd b be z dk translated">自定义选项卡</p></figure><p id="196f" class="pw-post-body-paragraph lp lq it lr b ls mu ju lu lv mv jx lx ly nj ma mb mc nk me mf mg nl mi mj mk im bi translated">全部完成！感谢阅读。</p></div></div>    
</body>
</html>