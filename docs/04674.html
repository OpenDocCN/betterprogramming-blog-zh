<html>
<head>
<title>Routing in Express.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Express.js中的路由</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/express-js-routing-1b48f459d43a?source=collection_archive---------1-----------------------#2020-04-29">https://betterprogramming.pub/express-js-routing-1b48f459d43a?source=collection_archive---------1-----------------------#2020-04-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6afb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使我们的路由更有组织，代码更简单</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/345d5dfde5320ea4b50c64f4f0c273b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lMuYV7oKvdvQ0JVQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://unsplash.com/@andjsch?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Andreas Schantl </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="b3be" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">简介:什么是路由？</h1><p id="5c85" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">路由是一种方法，指的是确定应用程序如何响应客户端对特定路径和特定HTTP请求方法(GET、POST等)的请求。</p><p id="da77" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">简单来说，routing <strong class="ma iu"> </strong>控制着每当用户导航到一个特定的URL时哪个函数被调用。在这个上下文中，URL指的是任何路径或路由。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="7a34" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">定义路由方法</h1><p id="8061" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">您可以像这样定义路由方法:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b8de" class="ne lh it na b gy nf ng l nh ni">app.METHOD(PATH,CALLBACK)</span></pre><p id="6169" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这个函数告诉服务器，“如果用户导航到<code class="fe nj nk nl na b">PATH</code>，那么执行下面的<code class="fe nj nk nl na b">CALLBACK</code>函数并执行一个HTTP <code class="fe nj nk nl na b">METHOD</code>请求。”</p><p id="40ed" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这里，代替<code class="fe nj nk nl na b">METHOD</code>最常用的动词是:</p><ul class=""><li id="f0ae" class="nm nn it ma b mb mu me mv mh no ml np mp nq mt nr ns nt nu bi translated"><code class="fe nj nk nl na b">get</code>:处理GET请求(即向指定资源请求/获取<strong class="ma iu"> </strong>数据)。</li><li id="ae2f" class="nm nn it ma b mb nv me nw mh nx ml ny mp nz mt nr ns nt nu bi translated"><code class="fe nj nk nl na b">post</code>:向服务器发送数据，创建/更新资源。</li><li id="20b5" class="nm nn it ma b mb nv me nw mh nx ml ny mp nz mt nr ns nt nu bi translated"><code class="fe nj nk nl na b">put</code>:向服务器发送数据，创建/更新资源。POST和PUT请求的区别在于，后者是等幂的。这意味着，如果多次调用PUT请求，它们不会产生额外的效果。相反，如果多次调用POST方法，程序会有副作用。因此，<strong class="ma iu"> </strong>请记住，POST请求不会被调用多次。</li><li id="5cbb" class="nm nn it ma b mb nv me nw mh nx ml ny mp nz mt nr ns nt nu bi translated"><code class="fe nj nk nl na b">delete</code>:用于删除指定的资源。</li></ul><p id="3c13" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">还有更多的HTTP方法可以使用。维基百科有一个完整的列表，列出了可以使用的内容。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="ef78" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">基本示例</h1><h2 id="c7a6" class="ne lh it bd li oa ob dn lm oc od dp lq mh oe of ls ml og oh lu mp oi oj lw ok bi translated">1.基本Hello World</h2><p id="bc86" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">作为一个基本示例，让我们定义一个HTTP <code class="fe nj nk nl na b">GET</code>方法，如果用户导航到<code class="fe nj nk nl na b">'/'</code>路径，则显示单词“Hello World ”:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="c67c" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">要运行这段代码，首先进入终端窗口并键入<code class="fe nj nk nl na b">node express-basic-hello-world</code>。然后，在另一个终端上，键入<code class="fe nj nk nl na b">curl localhost:3000</code>。</p><p id="586c" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这将是客户端窗口上的输出(使用了<code class="fe nj nk nl na b">cURL</code>):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/9987eb7fcd5d02afc875bdfac83a60a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*_KC67jtSV79R6yeLq2f_tQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">客户端终端输出</p></figure><h2 id="a19b" class="ne lh it bd li oa ob dn lm oc od dp lq mh oe of ls ml og oh lu mp oi oj lw ok bi translated">2.发布请求</h2><p id="71a6" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">您可以执行POST请求向服务器发送数据。为此:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="4133" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在这段代码中，我们将POST请求发送到不同的路径，以说明不同URL中的路由。</p><p id="55b0" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们使用<code class="fe nj nk nl na b">express.text()</code>中间件来解析来自请求体的文本数据。要了解更多关于中间件的知识，请参阅我的前一篇文章。</p><p id="076a" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">要运行代码，首先在一个终端窗口中使用<code class="fe nj nk nl na b">node</code>。</p><p id="6b9d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在第二个终端窗口中，我们将使用以下命令:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="81e4" class="ne lh it na b gy nf ng l nh ni">curl -d 'my String at root' localhost:3000/ -H 'Content-Type: text/plain'<br/>curl -d 'myString at Hussain' localhost:3000/hussain -H 'Content-Type: text/plain'</span></pre><p id="f3ba" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">输出将如预期的那样。</p><p id="74d5" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">当第一个<code class="fe nj nk nl na b">cURL</code>命令运行时:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/9bfcc3145159ea0b26264ff5f9503c18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*UgBNaWKFvzCyDz0bIW0d8A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第一条命令后的终端服务器端窗口</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/f9b0162b43ac5268e8860a012fa9374b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*7mkYqOCppzmi304XyI_j3g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第一条命令后的终端客户端窗口</p></figure><p id="be39" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">运行第二个<code class="fe nj nk nl na b">cURL</code>命令时:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/a240b151d787b69918ec16ddcf8ed32c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nZD6O5Hr0iaCYH9Wq6Da3Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第二个命令后的客户端窗口</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/b8b6a3b62cc35a4f2a4def8dea093590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*hFcSfNvNktDYHFMqz2LHRA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第二个命令后的终端窗口</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="4e35" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">模块化路由</h1><p id="900d" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">想象一下这个场景:你拥有一家出售宠物的商店，一位顾客想从你这里买兔子和猫。</p><p id="3e90" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">如果您使用上面定义的基本路由方法，代码将如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="f64f" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">请注意，我们已经多次编写了相同的路由。</p><p id="65c7" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">然而，一遍又一遍地写路线增加了冗余和错别字。此外，让我们的代码更加模块化也很有帮助，因为这是一个好的实践。</p><p id="25fe" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">作为一名程序员，你总是想让你的代码看起来更整洁。为了让上面的代码更容易阅读，我们可以使用两种方法。</p><h2 id="d0f4" class="ne lh it bd li oa ob dn lm oc od dp lq mh oe of ls ml og oh lu mp oi oj lw ok bi translated">1.使用app.route</h2><p id="5879" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这就是<code class="fe nj nk nl na b">app.route</code>的用武之地。您只需编写一次路径，就可以链接多个路由处理程序。</p><p id="8dc5" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">您可以按如下方式实现<code class="fe nj nk nl na b">app.route</code>:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="1c3c" class="ne lh it na b gy nf ng l nh ni">app.route(PATH)<br/>   .get(callback)<br/>   .post(callback)<br/>//can add more HTTP requests (.put, .delete, etc)</span></pre><p id="d691" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们现在可以重写代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="7b4f" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">代码看起来更干净，而且您只需为每个HTTP请求输入一次路由。</p><p id="0d84" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">然而，还有一个警告:参数<code class="fe nj nk nl na b">username</code>存在于所有的路由中。一遍又一遍地输入<code class="fe nj nk nl na b">username</code>仍然会鼓励打字错误和冗余。如果我们能让它更加模块化呢？</p><h2 id="a813" class="ne lh it bd li oa ob dn lm oc od dp lq mh oe of ls ml og oh lu mp oi oj lw ok bi translated">2.快递。路由器()</h2><p id="80d4" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我们可以使用<code class="fe nj nk nl na b">express.Router()</code>来创建模块化的、可安装的路由处理器。一个<code class="fe nj nk nl na b">Router</code>实例是一个完整的中间件和路由系统，这就是为什么它经常被称为“迷你应用程序”</p><p id="1932" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们只需要指定起点，而<code class="fe nj nk nl na b">Router</code>实例会为我们处理剩下的事情。</p><p id="f9ce" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">要使用<code class="fe nj nk nl na b">app.Router()</code>，我们必须创建一个单独的模块，实例化<code class="fe nj nk nl na b">app.Router</code>的一个实例，然后使用<code class="fe nj nk nl na b">module.exports</code>导出该实例。</p><p id="4e4f" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">关于使用<code class="fe nj nk nl na b">module.exports</code>的更多细节，参见<a class="ae ky" href="https://medium.com/analytics-vidhya/node-js-modules-exports-80d9b1bc2acf" rel="noopener">我之前的文章</a>。</p><p id="7ea7" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在这个例子中，我们将只处理一个包含<code class="fe nj nk nl na b">username</code>和<code class="fe nj nk nl na b">id</code>参数的简单路径。</p><p id="3619" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在<code class="fe nj nk nl na b">routerExample.js</code>中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="af39" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们用<code class="fe nj nk nl na b">router.route()</code>，类似于<code class="fe nj nk nl na b">app.route</code>。定义的模块说，“只要路径以<code class="fe nj nk nl na b">/:username/:id</code>结束，就按照定义执行下面的代码。”</p><p id="d889" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">要使用它，请使用另一个模块，<code class="fe nj nk nl na b">main.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="6a0c" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">正如评论所说，我们使用<code class="fe nj nk nl na b">app.use</code>来告诉<code class="fe nj nk nl na b">routeExample.js</code>执行具有从第一个参数开始的路径的函数。第一个参数可以称为起点。所以路径会是<code class="fe nj nk nl na b"><strong class="ma iu">starting point </strong>+ PATH defined by router</code>。</p><p id="642d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">例如，根据第6行，我们现在将处理以<code class="fe nj nk nl na b">‘/cats’</code>开始的GET和POST请求。他们将拥有路径<code class="fe nj nk nl na b">cats/:username/:id</code>。</p><p id="d074" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">像往常一样，您可以在<code class="fe nj nk nl na b">routeExample</code>模块中使用不同的路线，但您唯一需要指定的是<code class="fe nj nk nl na b">app.use</code>中的起点。</p><p id="ab29" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">要运行代码，在终端窗口中键入<code class="fe nj nk nl na b">node main</code>并相应地在另一个窗口中使用<code class="fe nj nk nl na b">cURL</code>。</p><h2 id="51c1" class="ne lh it bd li oa ob dn lm oc od dp lq mh oe of ls ml og oh lu mp oi oj lw ok bi translated">快递中的不同路线。带中间件的路由器</h2><p id="83ed" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在本例中，我们将导航到宠物店的Birds主页，并定义一个中间件函数<code class="fe nj nk nl na b">timeLog</code>，它将输出请求相应路径的时间。</p><p id="f16a" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe nj nk nl na b">birds.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="5263" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在<code class="fe nj nk nl na b">main.js</code>中:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b640" class="ne lh it na b gy nf ng l nh ni">var birds = require('./birds')<br/><br/><br/>app.use('/birds', birds) //handle /birds and /birds/about</span></pre><p id="7a07" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">使用<code class="fe nj nk nl na b">node</code>命令运行代码，然后像这样使用<code class="fe nj nk nl na b">cURL</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/30d5364915a5c26d970f6e1b70399edc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*kiKfmt2sqOFLRD1mIEIpyg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">客户端窗口的输出</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/d83e67ae2ec858244f7b909527406e21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mk_5suqPWSy00qB6y5gmdQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">服务器端窗口的输出</p></figure><p id="fed3" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">因此，在<code class="fe nj nk nl na b">express.Router</code>中可以只在特定路径中执行中间件功能。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="6bd7" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">概述</h1><h2 id="a105" class="ne lh it bd li oa ob dn lm oc od dp lq mh oe of ls ml og oh lu mp oi oj lw ok bi translated">基本路由</h2><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="ec8e" class="ne lh it na b gy nf ng l nh ni">app.METHOD(PATH,CALLBACK)</span></pre><h2 id="2556" class="ne lh it bd li oa ob dn lm oc od dp lq mh oe of ls ml og oh lu mp oi oj lw ok bi translated">使用app.route()</h2><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="0be7" class="ne lh it na b gy nf ng l nh ni">app.route(PATH)<br/>   .METHOD(CALLBACK)<br/>   .METHOD(CALLBACK)<br/>//can chain more HTTP methods by adding '.METHOD(CALLBACK)'</span></pre><h2 id="630b" class="ne lh it bd li oa ob dn lm oc od dp lq mh oe of ls ml og oh lu mp oi oj lw ok bi translated">使用快递。路由器()</h2><p id="ef4e" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated"><code class="fe nj nk nl na b">router-example.js</code></p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="3d6c" class="ne lh it na b gy nf ng l nh ni">const Router = express.Router()</span><span id="81fa" class="ne lh it na b gy ou ng l nh ni">router.METHOD(PATH ,CALLBACK)//more handlers and routes defined</span><span id="dda4" class="ne lh it na b gy ou ng l nh ni">module.exports = Router</span></pre><p id="293d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe nj nk nl na b">main.js</code></p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6697" class="ne lh it na b gy nf ng l nh ni">const routerExample = require('./router-example')<br/>app.use('/',routerExample)//handle route '/' + PATH<br/>app.use('/birds',routerExample) //handle route /birds/PATH'</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="bdc2" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">外部资源</h1><ul class=""><li id="ef67" class="nm nn it ma b mb mc me mf mh ov ml ow mp ox mt nr ns nt nu bi translated"><a class="ae ky" href="https://expressjs.com/en/guide/routing.html" rel="noopener ugc nofollow" target="_blank">快递路由</a></li><li id="224b" class="nm nn it ma b mb nv me nw mh nx ml ny mp nz mt nr ns nt nu bi translated"><a class="ae ky" href="https://expressjs.com/en/starter/basic-routing.html" rel="noopener ugc nofollow" target="_blank">快递基本路线</a></li><li id="6297" class="nm nn it ma b mb nv me nw mh nx ml ny mp nz mt nr ns nt nu bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=iM_S4RczozU" rel="noopener ugc nofollow" target="_blank">快递JS —路由器和路由— YouTube </a></li><li id="b300" class="nm nn it ma b mb nv me nw mh nx ml ny mp nz mt nr ns nt nu bi translated"><a class="ae ky" href="https://scotch.io/tutorials/learn-to-use-the-new-router-in-expressjs-4" rel="noopener ugc nofollow" target="_blank">学习使用Express.4.0中的新路由器</a></li></ul></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="508d" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">结论</h1><p id="abb0" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在<a class="ae ky" href="https://medium.com/javascript-in-plain-english/use-mongodb-with-node-js-14781ec11c0a" rel="noopener">的下一篇文章</a>中，我们将使用MongoDB通过数据库添加持久性。</p><p id="9ebc" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">今天到此为止。非常感谢你坚持到最后。祝您愉快！</p><p id="e1cb" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">呆在家里，注意安全。</p></div></div>    
</body>
</html>