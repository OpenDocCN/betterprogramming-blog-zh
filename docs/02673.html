<html>
<head>
<title>Create a Star Wars Title Crawl in HTML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个HTML格式的星球大战标题抓取</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-a-star-wars-title-crawl-in-html-c25a76fea401?source=collection_archive---------10-----------------------#2019-12-16">https://betterprogramming.pub/create-a-star-wars-title-crawl-in-html-c25a76fea401?source=collection_archive---------10-----------------------#2019-12-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2756" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">很久很久以前，在一个遥远的浏览器里</h2></div><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="kn ko l"/></div></figure><p id="a569" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">在本文中，你将学习如何用HTML创建一个星球大战风格的标题抓取，就像上面嵌入的那样。</p><p id="1893" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">源代码可在<a class="ae ll" href="https://codesandbox.io/s/star-wars-crawl-b2m8u" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><p id="350a" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">该场景由两部分组成:背景中移动的星星和文本爬行。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="4e71" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">星域背景</h1><p id="c82d" class="pw-post-body-paragraph kp kq it kr b ks ml ju ku kv mm jx kx ky mn la lb lc mo le lf lg mp li lj lk im bi translated">动态星星是在画布元素上生成的。我会在另一篇文章中解释星域的机制。</p><div class="mq mr gp gr ms mt"><a href="https://medium.com/better-programming/fun-with-html-canvas-lets-create-a-star-field-a46b0fed5002" rel="noopener follow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd iu gy z fp my fr fs mz fu fw is bi translated">HTML画布的乐趣:让我们创建一个星域</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">HTML画布上效果的分步指南</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">medium.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh ni mt"/></div></div></a></div><p id="ddab" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我们这里的星域几乎与上面讨论的相同。不同之处在于:</p><ul class=""><li id="f074" class="nj nk it kr b ks kt kv kw ky nl lc nm lg nn lk no np nq nr bi translated">将恒星的数量限制在2000颗</li><li id="816b" class="nj nk it kr b ks ns kv nt ky nu lc nv lg nw lk no np nq nr bi translated">将现场画布分辨率限制为1600x900</li><li id="5cd8" class="nj nk it kr b ks ns kv nt ky nu lc nv lg nw lk no np nq nr bi translated">减缓了恒星的运动</li></ul><p id="f57c" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">较低的恒星密度更符合《星球大战》的审美，没有必要在星域上浪费CPU周期。只是背景。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="741e" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">文本爬行</h1><p id="2518" class="pw-post-body-paragraph kp kq it kr b ks ml ju ku kv mm jx kx ky mn la lb lc mo le lf lg mp li lj lk im bi translated">让我们看看标记结构:</p><pre class="ki kj kk kl gt nx ny nz oa aw ob bi"><span id="2530" class="oc lu it ny b gy od oe l of og">&lt;div id="crawl-container" class="stretch"&gt;<br/>  &lt;div id="crawl"&gt; &lt;!-- our plane in 3d --&gt;<br/>    &lt;div id="crawl-content"&gt;<br/>      &lt;h1&gt;Episode IV&lt;/h1&gt;<br/>      &lt;h2&gt;A NEW HOPE&lt;/h2&gt;<br/>      &lt;p&gt;It is a period of civil war. <br/>      ...<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><h2 id="351e" class="oc lu it bd lv oh oi dn lz oj ok dp md ky ol om mf lc on oo mh lg op oq mj or bi translated">建设原则</h2><p id="e8ea" class="pw-post-body-paragraph kp kq it kr b ks ml ju ku kv mm jx kx ky mn la lb lc mo le lf lg mp li lj lk im bi translated">我们在<code class="fe os ot ou ny b">crawl</code> div上使用CSS 3D转换，使其成为三维空间中的一个平面。我们将把它的底边固定在屏幕的底部，使div的高度大约是屏幕的两倍，然后把它推过来，这样div的上边就“进入”了显示器。</p><p id="6adf" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">然后，我们将动画的顶部位置<code class="fe os ot ou ny b">crawl-content</code>了，所以它似乎正在远离我们。</p><p id="8991" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">作为最后的润色，我们将添加一个透明遮罩，这样文本行看起来会逐渐消失。</p><p id="acd6" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">其他一切都只是旧的CSS试图模仿标志性的文本抓取的字体和颜色。</p><h2 id="caf8" class="oc lu it bd lv oh oi dn lz oj ok dp md ky ol om mf lc on oo mh lg op oq mj or bi translated">添加视角</h2><p id="c72f" class="pw-post-body-paragraph kp kq it kr b ks ml ju ku kv mm jx kx ky mn la lb lc mo le lf lg mp li lj lk im bi translated">我们希望在我们的<code class="fe os ot ou ny b">crawl</code> div平面上有一个明显的透视图。透视倾斜的强度由<a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/CSS/perspective" rel="noopener ugc nofollow" target="_blank">透视CSS属性</a>控制。子节点受其影响，而不是节点本身，所以我们在父节点上设置:<code class="fe os ot ou ny b">crawl-container</code></p><pre class="ki kj kk kl gt nx ny nz oa aw ob bi"><span id="798a" class="oc lu it ny b gy od oe l of og">#crawl-container {<br/>  perspective: calc(100vh * 0.4);<br/>}</span></pre><p id="6430" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我正在使用<a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/CSS/length" rel="noopener ugc nofollow" target="_blank">视口高度单位</a>并将它们缩放0.4，这看起来不错。我缩小了高度值，所以当调整窗口大小时，爬行的消失点保持在相同的相对高度。</p><h2 id="d5b1" class="oc lu it bd lv oh oi dn lz oj ok dp md ky ol om mf lc on oo mh lg op oq mj or bi translated">创建3D平面</h2><p id="f513" class="pw-post-body-paragraph kp kq it kr b ks ml ju ku kv mm jx kx ky mn la lb lc mo le lf lg mp li lj lk im bi translated">让我们看看3D文本平面的样式。</p><pre class="ki kj kk kl gt nx ny nz oa aw ob bi"><span id="70af" class="oc lu it ny b gy od oe l of og">#crawl {</span><span id="2500" class="oc lu it ny b gy ov oe l of og">  color: #f5c91c;      // yellow color for all text <br/>  <br/>  position: absolute;  // fixed in place<br/>  width: 110%;         // a bit broader than screen<br/>  left: -5%;           // symmetric offset to center it in<br/>  bottom: -5%;         // bottom anchored just below screen edge<br/>  height: 200%;        // twice as high as screen<br/>  overflow: hidden;    // don't show scroll bars</span><span id="ba15" class="oc lu it ny b gy ov oe l of og">  // the 3D part  <br/> <br/>  // plane origin at center of bottom edge<br/>  transform-origin: 50% 100%; </span><span id="a28e" class="oc lu it ny b gy ov oe l of og">  // rotate around x axis by 45 degrees (pushing it over and in)<br/>  transform: rotate3d(1, 0, 0, 45deg);</span><span id="8ed9" class="oc lu it ny b gy ov oe l of og">}</span></pre><p id="487e" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我们在平面中放置的任何内容看起来都是3D转换的。很好。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="ox oy di oz bf pa"><div class="gh gi ow"><img src="../Images/1cf72955178eef838c11ac1e8122eb0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BK8cpNvuUAw3cRZobVnuYw.png"/></div></div><p class="pc pd gj gh gi pe pf bd b be z dk translated">我们实际构建的3d平面</p></figure></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="411a" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">淡出远处的线条</h1><p id="4226" class="pw-post-body-paragraph kp kq it kr b ks ml ju ku kv mm jx kx ky mn la lb lc mo le lf lg mp li lj lk im bi translated">作为一个微妙的接触，我们添加了一个<a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/CSS/mask-image" rel="noopener ugc nofollow" target="_blank">面具</a>到我们的三维平面淡出遥远的线。我们使用一个有三个点的<a class="ae ll" href="https://developer.mozilla.org/en-US/docs/Web/CSS/linear-gradient" rel="noopener ugc nofollow" target="_blank">线性渐变</a>:顶部、中部和底部。在顶部，蒙版淡出所有内容，不透明度为0%。在中间，我们有66%的不透明度，在底部，我们有100%的不透明度。</p><pre class="ki kj kk kl gt nx ny nz oa aw ob bi"><span id="192e" class="oc lu it ny b gy od oe l of og"><br/>#crawl {<br/>  mask-image: linear-gradient(<br/>    rgba(0, 0, 0, 0),<br/>    rgba(0, 0, 0, 0.66),<br/>    rgba(0, 0, 0, 1)<br/>  );<br/>}</span></pre><p id="ab8d" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">如果您还添加了带前缀的定义，这将有助于跨浏览器兼容性。一些浏览器支持它们，但是还不支持通用符号。参见<a class="ae ll" href="https://codesandbox.io/s/star-wars-crawl-b2m8u" rel="noopener ugc nofollow" target="_blank">源</a>中的示例。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="ox oy di oz bf pa"><div class="gh gi pg"><img src="../Images/bb340fa8509500bb9da1475a171ff0a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HwDGMnennUb-wTTQTo9MJQ.png"/></div></div><p class="pc pd gj gh gi pe pf bd b be z dk translated">左:不带遮罩—右:带遮罩</p></figure><h2 id="2bc3" class="oc lu it bd lv oh oi dn lz oj ok dp md ky ol om mf lc on oo mh lg op oq mj or bi translated">制作爬行动画</h2><p id="da1b" class="pw-post-body-paragraph kp kq it kr b ks ml ju ku kv mm jx kx ky mn la lb lc mo le lf lg mp li lj lk im bi translated">标题爬网内容是绝对定位的，因此可以通过操作<code class="fe os ot ou ny b">top</code>属性将其上移。</p><p id="9693" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我们已经为我们的<a class="ae ll" href="https://medium.com/better-programming/fun-with-html-canvas-lets-create-a-star-field-a46b0fed5002" rel="noopener">星空</a>设置了一个基本的动画循环。我们可以借此提升标题。一旦我们把它拉出视野，我们就翻转过来。它的要点是:</p><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="ph ko l"/></div></figure><h2 id="067d" class="oc lu it bd lv oh oi dn lz oj ok dp md ky ol om mf lc on oo mh lg op oq mj or bi translated">设置文本样式</h2><p id="9c79" class="pw-post-body-paragraph kp kq it kr b ks ml ju ku kv mm jx kx ky mn la lb lc mo le lf lg mp li lj lk im bi translated">我试图复制原标题爬行的外观。我选择了中等粗细的机器人作为原始字体的近似字体。</p><p id="f6b7" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">为了更接近原始的感觉，我添加了一些最小的字母间距。</p><p id="9094" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">最后，我将缩小屏幕宽度的字体大小。调整窗口大小时，文本会自然地以这种方式缩放。</p><pre class="ki kj kk kl gt nx ny nz oa aw ob bi"><span id="1e39" class="oc lu it ny b gy od oe l of og">#crawl-content {<br/>  font-family: "Roboto";<br/>  letter-spacing: 0.09em;<br/>  font-size: calc(100vw * 0.074);<br/>}</span></pre></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="0200" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">结果呢</h1><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="ox oy di oz bf pa"><div class="gh gi pi"><img src="../Images/a546633e79d0e4b5981a23c866166131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AkeD5mMyn99phvB07joGFg.png"/></div></div></figure><p id="1067" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">愿原力与你同在，我的朋友。</p></div></div>    
</body>
</html>