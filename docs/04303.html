<html>
<head>
<title>New Features in Create React App 3.3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Create React App 3.3中的新功能</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/new-features-of-create-react-app-3-3-649f85255e86?source=collection_archive---------1-----------------------#2020-04-04">https://betterprogramming.pub/new-features-of-create-react-app-3-3-649f85255e86?source=collection_archive---------1-----------------------#2020-04-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2fc1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Create React应用程序的新特性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/63b50018ef95ea3b543d4e961d2e90a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s7ilz_s4Gbl8rLqg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@benchaccounting?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">钳工</a>对<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">去毛刺</a>拍照。</p></figure><p id="ce28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://create-react-app.dev/" rel="noopener ugc nofollow" target="_blank"> Create React App </a>是一个命令行程序，让我们可以轻松地创建一个新的React项目，并将该项目构建成我们可以部署的工件。</p><p id="7a70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它由React团队创建，为应用程序搭建了一个支架。</p><p id="3f5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将了解Create React App 3.3中提供的很酷的新功能，包括一些ES2020功能。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="02e9" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">自定义模板</h1><p id="a72d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们可以使用自定义模板，通过Create React App 3.3创建我们的React项目。</p><p id="fd05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我们想创建一个TypeScript React应用程序，我们可以运行:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="3662" class="ne md it na b gy nf ng l nh ni">npx create-react-app foo-app --template typescript</span></pre><p id="69d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中<code class="fe nj nk nl na b">foo-app</code>是我们的应用程序项目的名称。</p><p id="91ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，它附带两个模板:</p><ul class=""><li id="ded0" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated"><code class="fe nj nk nl na b">cra-template</code></li><li id="fbe4" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated"><code class="fe nj nk nl na b">cra-template-typescript</code></li></ul><p id="43ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们不需要指定一个<code class="fe nj nk nl na b">--template</code>选项来使用第一个模板，因为它是默认的。要搜索更多模板，我们可以访问NPM的网站，通过在浏览器中键入以下内容来搜索模板:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="602f" class="ne md it na b gy nf ng l nh ni"><a class="ae ky" href="https://www.npmjs.com/search?q=cra-template-*" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/search?q=cra-template-*</a></span></pre><p id="66a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们可以在设置<code class="fe nj nk nl na b">template</code>选项时去掉<code class="fe nj nk nl na b">cra-template-</code>前缀。</p><p id="65c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以通过创建具有以下结构的文件来构建新模板:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="9bb5" class="ne md it na b gy nf ng l nh ni">my-app/<br/>  README.md (for npm)<br/>  template.json<br/>  package.json<br/>  template/<br/>    README.md (for projects created from this template)<br/>    gitignore<br/>    public/<br/>      index.html<br/>    src/<br/>      index.js (or index.tsx)</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="aa5c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">可选的链接和无效合并运算符</h1><p id="7042" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这是ES2020即将推出的一项功能。我们现在可以使用它来编写React应用程序，并使用Create React App 3.3或更高版本。</p><p id="d2ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可选的链接操作符由<code class="fe nj nk nl na b">?.</code>表示，我们可以用它来引用可能是<code class="fe nj nk nl na b">null</code>或<code class="fe nj nk nl na b">undefined</code>的嵌套属性。</p><p id="f8a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们试图访问嵌套很深的对象，这将为我们节省大量的<code class="fe nj nk nl na b">null</code>和<code class="fe nj nk nl na b">undefined</code>检查。例如，我们可以如下使用它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="c08f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们在下面的代码中使用了可选的链接运算符:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b1dd" class="ne md it na b gy nf ng l nh ni">&lt;p&gt;{this.state.msg?.bar?.baz}&lt;/p&gt;</span></pre><p id="6dda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为<code class="fe nj nk nl na b">this.state.msg</code>可能没有<code class="fe nj nk nl na b">bar</code>属性。</p><p id="c04f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，当我们点击“点击我”按钮时，我们会看到单词“foo”被打开和关闭。</p><p id="19c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">nullish合并运算符用于设置表达式的默认值。由<code class="fe nj nk nl na b">??</code>符号表示。例如，我们可以将默认值添加到上面的示例中，方法是:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="80ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们有:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="0f9d" class="ne md it na b gy nf ng l nh ni">&lt;p&gt;{this.state.msg?.bar?.baz ?? "bar"}&lt;/p&gt;</span></pre><p id="294e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果<code class="fe nj nk nl na b">this.state.msg?.bar?.baz</code>是<code class="fe nj nk nl na b">null</code>或<code class="fe nj nk nl na b">undefined</code>，它将显示<code class="fe nj nk nl na b">'bar'</code>。</p><p id="1070" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与<code class="fe nj nk nl na b">||</code>不同，因为<code class="fe nj nk nl na b">??</code>只在之前的表达式为<code class="fe nj nk nl na b">null</code>或<code class="fe nj nk nl na b">undefined</code>时返回默认值，而不是像<code class="fe nj nk nl na b">||</code>那样返回所有的假值。</p><p id="1d66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们使用TypeScript，那么TypeScript版本也必须更新才能使用这些特性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/1ffd9e8a6991e906eb699b353feb5e02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f04-szSKzxQe0icR"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@daryan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Daryan Shamkhali </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6b1f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">数字分隔符</h1><p id="3a2f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">数字分隔符也是ES2020发布的一个新功能，尽管Chrome等一些浏览器已经在其最新版本中支持它。</p><p id="f21c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用数字分隔符将数字分成块，以便人们可以轻松阅读。</p><p id="de53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以如下使用它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="7874" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们使用下划线将数字分成组，以便于阅读。我们不必把他们分成三人一组。</p><p id="020a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它也适用于十进制数。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="33e7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">无意外多行</h1><p id="9e56" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">ESLint规则没有被禁用，因为它与Prettier不兼容。</p><p id="de5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，我们仍然可以向我们的<code class="fe nj nk nl na b">.eslintrc</code>添加以下内容来重新启用它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a959" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">升级到3.3</h1><p id="9003" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要升级以创建React App 3.3并利用所有这些新功能，请运行:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="9ca1" class="ne md it na b gy nf ng l nh ni">npm install --save --save-exact react-scripts@3.3.0</span></pre><p id="fe44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们现有的React项目中使用NPM，或者如果我们使用Yarn，运行:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="7dbe" class="ne md it na b gy nf ng l nh ni">yarn add --exact react-scripts@3.3.0</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="14c1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="3b9f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Create React App 3.3是一个次要版本，但它提供了有用的新功能，使开发React应用程序变得更容易。</p><p id="4aad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在ES2020官方标准发布之前，ES2020的可选链接和无效合并运算符以及数字分隔符等功能现在都可以使用。</p></div></div>    
</body>
</html>