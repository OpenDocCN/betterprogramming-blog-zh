<html>
<head>
<title>Go Automate Your GitHub Profile README</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">去自动化你的GitHub简介自述文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/go-automate-your-github-profile-readme-d0ce2252f8aa?source=collection_archive---------19-----------------------#2020-08-05">https://betterprogramming.pub/go-automate-your-github-profile-readme-d0ce2252f8aa?source=collection_archive---------19-----------------------#2020-08-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f27b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Go和GitHub操作创建动态降价文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1c2f22ccac84245acd47c386b70d3b60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H_O3zaYIymirOkCWvWN_1g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者插图</p></figure><p id="19c8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">GitHub的新个人资料页面README特性给开发者互联网的MySpace页面带来了一些个性化的奇妙效果。尽管Markdown最适合标准的静态文本内容，但这并没有阻止有创造力的人们努力创建下一级自述文件。你可以包括gif和图片来增加一些动感和活力(它们在<a class="ae lu" href="https://github.github.com/gfm/" rel="noopener ugc nofollow" target="_blank"> GitHub Flavor Markdown </a>中有所介绍)，但我在考虑一些更有活力的东西。</p><p id="2bae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在你的GitHub个人资料的前面和中心，你的自述是一个很好的机会，让人们知道你是什么，你认为什么是重要的，并展示你工作的一些亮点。你可能想炫耀你最新的知识库、推文或博客文章。由于GitHub Actions等持续交付工具，保持更新也不一定是一件痛苦的事情。</p><p id="15a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我当前的自述每天都会更新，提供我最新博客文章的链接。下面是我如何用Go和GitHub动作创建一个自我更新的<code class="fe lv lw lx ly b">README.md</code>。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="f9ad" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">用Go读写文件</h1><p id="7d6a" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">最近写了很多Python，但是对于某些东西，我真的很喜欢用Go。你可以说它是我在just-for-T1项目中的首选语言。抱歉。我控制不了自己。</p><p id="93a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了创建我的<code class="fe lv lw lx ly b">README.md</code>，我将从一个现有的文件中获取一些静态内容，将它与一些我们将使用Go生成的新的动态内容混合在一起，然后在400度下烘烤整个东西，直到一些令人惊叹的东西出来。</p><p id="795d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是我们如何读入一个名为<code class="fe lv lw lx ly b">static.md</code>的文件，并将其放入<code class="fe lv lw lx ly b">string</code>表单中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="9a9e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您的动态内容的可能性只受到您的想象力的限制！这里，我将使用<code class="fe lv lw lx ly b"><a class="ae lu" href="https://github.com/mmcdole/gofeed" rel="noopener ugc nofollow" target="_blank">github.com/mmcdole/gofeed</a></code> <a class="ae lu" href="https://github.com/mmcdole/gofeed" rel="noopener ugc nofollow" target="_blank">包</a>从我的博客中读取RSS提要并获取最新的帖子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="b641" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了将这些位连接在一起并产生字符串，我们使用<code class="fe lv lw lx ly b"><a class="ae lu" href="https://golang.org/pkg/fmt/#Sprintf" rel="noopener ugc nofollow" target="_blank">fmt.Sprintf()</a></code>创建一个格式化的字符串。</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="9f70" class="nj mh it ly b gy nk nl l nm nn">// Whisk together static and dynamic content until stiff peaks form<br/>blog := "Read my latest blog post: **[" + rssItem.Title + "](" + rssItem.Link + ")**"<br/>data := fmt.Sprintf("%s\n%s\n", stringyContent, blog)</span></pre><p id="82ce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，为了从这个混合中创建一个新文件，我们使用<code class="fe lv lw lx ly b"><a class="ae lu" href="https://golang.org/pkg/os/#Create" rel="noopener ugc nofollow" target="_blank">os.Create()</a></code>。关于推迟 <code class="fe lv lw lx ly b"><a class="ae lu" href="https://www.joeshaw.org/dont-defer-close-on-writable-files/" rel="noopener ugc nofollow" target="_blank">file.Close()</a></code>还有更多的事情需要了解，但是我们不需要在这里深入那些细节。我们将添加<code class="fe lv lw lx ly b">file.Sync()</code>，以确保我们的自述文件被写入。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="e258" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我的自述文件库中查看完整代码<a class="ae lu" href="https://github.com/victoriadrake/victoriadrake/blob/master/update/main.go" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="f6fc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">嗯，闻起来不错吧？让我们通过一个GitHub操作让这一点在日常生活中发生。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="0cfd" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">按照行动计划运行您的围棋程序</h1><p id="bca6" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">您可以创建一个GitHub动作工作流，该工作流在推送到您的<code class="fe lv lw lx ly b">master</code>分支时以及在每日计划中由<a class="ae lu" href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows" rel="noopener ugc nofollow" target="_blank">触发</a>。下面是<code class="fe lv lw lx ly b">.github/workflows/update.yaml</code>的一部分，它定义了这一点:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="6e7f" class="nj mh it ly b gy nk nl l nm nn">on:<br/>  push:<br/>    branches:<br/>      - master<br/>  schedule:<br/>    - cron: '0 11 * * *'</span></pre><p id="1e31" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要运行重建自述文件的Go程序，我们首先需要文件的副本。我们用<code class="fe lv lw lx ly b">actions/checkout</code>来表示:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="e213" class="nj mh it ly b gy nk nl l nm nn">steps:<br/>    - name: 🍽️ Get working copy<br/>      uses: actions/checkout@master<br/>      with:<br/>        fetch-depth: 1</span></pre><p id="43a2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这一步运行我们的Go程序:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="6d21" class="nj mh it ly b gy nk nl l nm nn">- name: 🍳 Shake &amp; bake README<br/>  run: |<br/>    cd ${GITHUB_WORKSPACE}/update/<br/>    go run main.go</span></pre><p id="05bc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们将更新的文件推回我们的存储库。了解更多关于使用工作流程中的变量和秘密中的<a class="ae lu" href="https://docs.github.com/en/actions/configuring-and-managing-workflows/using-variables-and-secrets-in-a-workflow" rel="noopener ugc nofollow" target="_blank">所示变量的信息</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="fee1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我的自述文件库中查看此动作工作流程<a class="ae lu" href="https://github.com/victoriadrake/victoriadrake/blob/master/.github/workflows/update.yaml" rel="noopener ugc nofollow" target="_blank">的完整代码。</a></p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="15c4" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">前进并自动更新您的自述文件</h1><p id="28bb" class="pw-post-body-paragraph ky kz it la b lb my ju ld le mz jx lg lh na lj lk ll nb ln lo lp nc lr ls lt im bi translated">恭喜你，欢迎来到酷孩子俱乐部！您现在知道如何构建自动更新的GitHub概要文件自述文件了。你现在可以向前迈进，向你的页面添加各种各样的整洁的动态元素——只是不要使用gif，好吗？</p></div></div>    
</body>
</html>