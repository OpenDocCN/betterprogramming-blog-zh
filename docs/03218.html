<html>
<head>
<title>My Node.js, MongoDB Atlas REST API Environment Setup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">My Node.js，MongoDB Atlas REST API环境设置</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/my-node-js-mongodb-atlas-rest-api-environment-setup-71923cfbc98c?source=collection_archive---------19-----------------------#2020-01-28">https://betterprogramming.pub/my-node-js-mongodb-atlas-rest-api-environment-setup-71923cfbc98c?source=collection_archive---------19-----------------------#2020-01-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2896" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">确保您拥有成功开发节点API所需工具的初级读本</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/126b1432b04bb7b9dcef35da01f2633f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1bZ2E_UQaRLCpHsPL40nJg.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@timmossholder?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">蒂姆·莫斯霍尔德</a>在<a class="ae kz" href="https://unsplash.com/s/photos/learn?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ae84" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">目的:设置好本地开发环境后启动一个简单的Node.js应用，通过<a class="ae kz" href="https://www.getpostman.com/" rel="noopener ugc nofollow" target="_blank"> Postman </a>测试一个API，建立到<a class="ae kz" href="https://docs.atlas.mongodb.com/api/" rel="noopener ugc nofollow" target="_blank"> MongoDB Atlas </a>的数据库连接。</p><p id="82b0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这些是您将在本教程中安装的工具:</p><ul class=""><li id="b469" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">Visual Studio代码(VS代码):这当然不是创建Node.js应用程序的要求，但它是我推荐的文本编辑器。我相信它使软件开发变得更加愉快和高效。</li><li id="5194" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">Git Bash  : Git是一个非常流行的管理源代码的工具，尤其是当你在一个大型开发团队中工作的时候。VS代码允许您集成Git Bash终端，这使得将您的代码推送到Git存储库非常方便。此外，它允许您在模拟Bash环境时使用大多数标准的UNIX命令。</li><li id="5b40" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">node . js:JavaScript运行时环境。</li><li id="162d" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">npm:节点包管理器。这与Node一起使用，以便我们可以轻松地共享打包的代码模块。</li><li id="0525" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">Postman:一个API客户端工具，我们将用它来测试REST服务。</li><li id="b3fb" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">MongoDB Atlas account:一个基于云的数据库，由给你带来MongoDB的同一批人创建。</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="e0c6" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">下载VS代码</h1><p id="715c" class="pw-post-body-paragraph la lb it lc b ld nj ju lf lg nk jx li lj nl ll lm ln nm lp lq lr nn lt lu lv im bi translated">从<a class="ae kz" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com/</a>下载稳定版本。</p><p id="14a4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这是一个非常简单的下载。微软在简化这个应用程序的安装过程方面做得很好。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="2582" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">在VSCode中使用Git Bash</h1><p id="c477" class="pw-post-body-paragraph la lb it lc b ld nj ju lf lg nk jx li lj nl ll lm ln nm lp lq lr nn lt lu lv im bi translated">为你的特定操作系统从https://git-scm.com/downloads下载Git Bash。</p><p id="1607" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">当你点击Git安装程序时，我建议使用所有默认的安装设置，除非你真的知道你在做什么。</p><p id="51a2" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们现在将Git Bash作为集成终端添加到VS代码中。</p><ul class=""><li id="cdb3" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">在VS代码中打开一个新的终端(Ctrl + Shift +`)或者终端→新终端。</li><li id="28fb" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">打开命令选项板(Ctrl + Shift + P)或视图→命令选项板。</li><li id="5aa3" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">键入“终端:选择默认外壳”。</li><li id="d244" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">您应该会看到下面的选项:</li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi no"><img src="../Images/c259030f8d5b9ebca9f9727434c6cab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wXWmaNWn1U3ZE39T.png"/></div></div></figure><ul class=""><li id="e000" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">选择Git Bash。</li><li id="573d" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">在终端窗口中选择+按钮。</li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi np"><img src="../Images/7175f28d372d830828f320823bcfaaa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UXD9mvKr02mjE-ti.png"/></div></div></figure><p id="2984" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您应该会看到类似这样的内容。</p><p id="398d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">检查点<em class="nq"> : </em>输入下面的命令，确保已经正确安装了Git。</p><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="c32c" class="nw ms it ns b gy nx ny l nz oa">git --version</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/c51c736c6c50b87e02f2009e9a90b6d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/0*txu7RgE-DcoPy1jg.png"/></div></figure><p id="35ad" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">根据您安装的版本，这应该会出现。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="88fe" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">安装Node.js</h1><p id="81b4" class="pw-post-body-paragraph la lb it lc b ld nj ju lf lg nk jx li lj nl ll lm ln nm lp lq lr nn lt lu lv im bi translated">点击此链接下载:<a class="ae kz" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/en/</a>。</p><p id="41df" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我选择了“推荐给大多数用户”选项，然后使用Node.js设置中的所有默认设置。</p><p id="d483" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">检查点:<em class="nq"> </em>安装完成后，在命令行中输入:</p><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="e4b6" class="nw ms it ns b gy nx ny l nz oa">node -v &amp;&amp; npm -v</span></pre><p id="34e7" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">它应该是这样的(你的版本可能比我的更新):</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/970bb3663b07587c11a489da0f88fb0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/0*58_ipal14yd7il20.png"/></div></figure><p id="d163" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果您已经成功安装了Node和npm，请跳到下一节。</p><p id="196f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果它没有出现在你的Git Bash中，不要烦恼！重新启动计算机。如果这不起作用，请在Powershell<a class="ae kz" href="https://docs.microsoft.com/en-us/powershell/scripting/overview" rel="noopener ugc nofollow" target="_blank">或Windows命令行中键入相同的命令，您应该会看到它。</a></p><p id="4e72" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">为了使用Git Bash，您需要将它添加到您的路径中。该路径告诉您的操作系统在哪里寻找可执行文件，以响应来自用户的命令。</p><p id="5f73" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">下面是在Windows上如何做到这一点:</p><ul class=""><li id="08df" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">打开“查看高级系统设置”。</li><li id="1c40" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">单击“环境变量”。</li><li id="cb93" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">在系统变量下，选择路径，然后选择编辑按钮。</li><li id="8215" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">加上这个<code class="fe od oe of ns b">C:\Program Files\nodejs\</code>。</li><li id="a07c" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">如果上面的文件路径不正确，您可以通过在Windows命令行中键入以下命令来轻松找到它。</li></ul><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="6008" class="nw ms it ns b gy nx ny l nz oa">where node</span></pre><ul class=""><li id="48f5" class="lw lx it lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">在检索到节点目录的正确路径并将其添加到path系统变量后，选择“确定”。</li><li id="5d3e" class="lw lx it lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">重新启动计算机。</li></ul><p id="4e00" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">检查点:<em class="nq"> </em>现在，尝试在Git Bash中键入以下命令:</p><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="de29" class="nw ms it ns b gy nx ny l nz oa">node -v &amp;&amp; npm -v</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/f194823f81be0cb08e6ead1d7bc65737.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/0*xEeq6Go07zXx3H2R.png"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="af4b" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">Node.js Hello World</h1><p id="3af3" class="pw-post-body-paragraph la lb it lc b ld nj ju lf lg nk jx li lj nl ll lm ln nm lp lq lr nn lt lu lv im bi translated">在计算机上为Hello World应用程序创建一个目录。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi og"><img src="../Images/f89fa4d94179bc4e30d90a898bf34e47.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*44rC0Zqw4S20CrV6TuBQBA.png"/></div></figure><p id="a3c8" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后键入以下命令来初始化您的节点项目:</p><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="f562" class="nw ms it ns b gy nx ny l nz oa">npm init</span></pre><p id="a815" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">继续按回车键回答所有这些问题:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/fe60ee099d6e75082a8892758280e8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*PqhLnzn3M85Khd3DJUEjFg.png"/></div></figure><p id="921e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">快速创建新文件:</p><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="0799" class="nw ms it ns b gy nx ny l nz oa">touch app.js</span></pre><p id="30cc" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">将这段代码添加到新创建的<code class="fe od oe of ns b">app.js</code>文件中:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="b48e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们在这里做的是指定主机名和端口，然后创建我们自己的HTTP服务器。然后，我们发送一个请求，如果成功，我们将看到“Hello World”打印在屏幕上。</p><p id="e7b8" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">关卡:<em class="nq"> </em>导航到<code class="fe od oe of ns b">localhost:3000</code>，在那里你会看到:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/3efc045fd39bb0f30ead16e1436d583c.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*GNhsP0kUukPXHmS1ZHGVNg.png"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="86e6" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">安装邮递员</h1><p id="f482" class="pw-post-body-paragraph la lb it lc b ld nj ju lf lg nk jx li lj nl ll lm ln nm lp lq lr nn lt lu lv im bi translated">为了测试我们的API，我们需要某种类型的客户端。我们可以每次都通过命令行发送一个<code class="fe od oe of ns b">curl</code>命令，但是这变得很乏味。有一个GUI(图形用户界面)来简化这个过程是很好的。</p><p id="e61b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">但是，如果您想尝试一下，请在命令行中键入以下内容。这假设您仍然有上一步中运行的节点服务器。</p><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="17bf" class="nw ms it ns b gy nx ny l nz oa">curl localhost:3000</span></pre><p id="d0a5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你应该看看这个:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/707e6530c2dc56590ce3942793636f14.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*jP2azfNZilHlh-ml8KxJWQ.png"/></div></figure><p id="8261" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">但是随着我们项目的增长，这些<code class="fe od oe of ns b">curl</code>命令只会变得越来越复杂。所以，我们用邮递员。</p><p id="7c5c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">导航到<a class="ae kz" href="https://www.getpostman.com/downloads/" rel="noopener ugc nofollow" target="_blank">https://www.getpostman.com/downloads/</a>并为您的操作系统选择下载。</p><p id="faa1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你不需要一个帐户就可以开始。只需在“Launchpad”旁边创建一个新标签即可。</p><p id="6675" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">输入<code class="fe od oe of ns b">localhost:3000</code>，点击“发送”。</p><p id="2590" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">检查点:<em class="nq"> </em>你的邮递员接口应该是这样的:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi om"><img src="../Images/12915d41901746411fa5e2e00b813ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fiyao-iLLPD9d4wXbl6usg.png"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="3de1" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">MongoDB地图集</h1><p id="af6c" class="pw-post-body-paragraph la lb it lc b ld nj ju lf lg nk jx li lj nl ll lm ln nm lp lq lr nn lt lu lv im bi translated">本部分不需要下载，只需要创建一个帐户。不要担心，我们将保持该帐户的免费等级。</p><p id="f31b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">点击<a class="ae kz" href="https://www.mongodb.com/download-center" rel="noopener ugc nofollow" target="_blank">https://www.mongodb.com/</a>的“免费试用”按钮，并输入一些账户详情。那么我建议使用“启动集群”来保持免费。</p><p id="0585" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后你将到达这一页。根据您的位置，选择您的位置。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi on"><img src="../Images/e175e2aa1d07af511038d2e8314aeab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T94mGbCTUa68g2MJ_pmDYA.png"/></div></div></figure><p id="3287" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">确保在创建该群集时，底部显示“FREE”。现在不需要为此付费。然后，给你的新集群几分钟时间来创建。</p><p id="2321" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，我们将把我们的IP地址列入白名单。这是为了让我们可以从任何地方连接，并成功访问我们的数据。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/c9572c34bf2ea45cbaa35cccde8ab141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*CpuPIHFWw2FTVizg9O8VZA.png"/></div></figure><p id="4556" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">点击集群中的“连接”按钮。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi op"><img src="../Images/e3f215db3ac0dc46cd9ccdc0311bd9f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*Ykoaa8XuUDtkegnnJj4kFg.png"/></div></figure><p id="88e3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后选择“添加您当前的IP地址”。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/40f99d43d178ef120b57dca5c6621ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*V-0tuCWjLQST1cBntCuL5w.png"/></div></figure><p id="190b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">添加你的IP地址，也可以添加0.0.0.0从任何地方连接(我不推荐)。</p><p id="0c68" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在这里，我们可以创建我们的MongoDB用户。这将用于连接URI，所以我不建议把一个非常安全的密码。</p><p id="4474" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">好吧！现在让我们连接到我们的集群。点击“连接您的应用程序”。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi or"><img src="../Images/c7e1968396a41b08671a92ba6aa39897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*z_d38ae6fUfywhxJHekAxQ.png"/></div></figure><p id="ad2a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">复制这个，因为我们以后会用到它。我们也将用我们刚刚创建的密码替换<code class="fe od oe of ns b">&lt;password&gt;</code>。</p><p id="0903" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">回到我们的Hello World应用程序，我们将转到命令行，在那里我们将安装MongoDB驱动程序。</p><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="5548" class="nw ms it ns b gy nx ny l nz oa">npm i --save mongodb</span></pre><p id="86f8" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，请将下面的代码添加到<code class="fe od oe of ns b">app.js</code>中，这样我们就可以连接到我们的数据库。我把新增的内容用粗体显示。</p><pre class="kk kl km kn gt nr ns nt nu aw nv bi"><span id="b43b" class="nw ms it ns b gy nx ny l nz oa">const http = require("http");<br/>const hostname = "127.0.0.1";<br/>const port = 3000;<br/>const server = http.createServer((req, res) =&gt; {<br/>  res.statusCode = 200;<br/>  res.setHeader("Content-Type", "text/plain");<br/>  res.end("Hello World\n");<br/>});</span><span id="8101" class="nw ms it ns b gy os ny l nz oa"><strong class="ns iu">const MongoClient = require("mongodb").MongoClient;</strong></span><span id="301e" class="nw ms it ns b gy os ny l nz oa"><strong class="ns iu">const uri = "mongodb+srv://ryan:ryan1234@cluster0-rzvvd.mongodb.net/test?retryWrites=true&amp;w=majority";</strong></span><span id="18bb" class="nw ms it ns b gy os ny l nz oa"><strong class="ns iu">MongoClient.connect(uri, {useUnifiedTopology: true } (err, client) =&gt; {<br/>  if (err) console.log("Error occurred connecting to MongoDB...");<br/>  console.log("Connected to MongoDB!");<br/>});</strong></span><span id="a947" class="nw ms it ns b gy os ny l nz oa">server.listen(port, hostname, () =&gt; {<br/>  console.log(`Server running at <a class="ae kz" href="http://${hostname}:${port}/`);" rel="noopener ugc nofollow" target="_blank">http://${hostname}:${port}/`);</a><br/>});</span></pre><p id="2a7b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">检查点:<em class="nq"> </em>在重新启动您的节点服务器(<code class="fe od oe of ns b">node app.js</code>)时，您应该会看到下面的控制台输出。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/d92178be13323adfe071886fc2525d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*-Ke-9JFZmptOtUqjNCt6Cw.png"/></div></figure><p id="ac96" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们已经成功地建立了与数据库的连接。我们现在准备使用Node.js和MongoDB构建一个REST API！</p></div></div>    
</body>
</html>