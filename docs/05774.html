<html>
<head>
<title>The Right Way to Create Function Components in React With TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用类型脚本创建函数组件的正确方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-right-way-to-create-function-components-in-react-with-typescript-59dcf4076b92?source=collection_archive---------2-----------------------#2020-08-05">https://betterprogramming.pub/the-right-way-to-create-function-components-in-react-with-typescript-59dcf4076b92?source=collection_archive---------2-----------------------#2020-08-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b868" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">更好的组件，类型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4c4ae6c48f719c2c422ccd6aa5072b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FHH_MM0EeaMt5f4EgELHfg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">费伦茨·阿尔马西在<a class="ae ky" href="https://unsplash.com/photos/eBRTYyjwpRY" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="5ff2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，我有一个拉动请求，引发了我和队友们的简短讨论。有人注意到我使用了不同的方法为我编写的函数组件编写类型，而代码库中使用了其他方法。</p><p id="a0bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇小小的React文章中，我将向您展示正确的方法。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2ddc" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">从面向类型的角度看功能组件</h1><p id="7a06" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">一般来说，函数是编程工具，接受一些输入，对其进行处理，然后返回一些输出。功能组件基本上以相同的方式工作。它们获取属性并将其转换成UI元素。你可以在下面看到一个来自reactjs.org<a class="ae ky" href="https://reactjs.org/docs/components-and-props.html" rel="noopener ugc nofollow" target="_blank">的使用普通JavaScript的超级基本函数组件的例子。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="0041" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过用TypeScript重写这个组件，我们的目标是确保我们</p><ul class=""><li id="96ff" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">使用具有正确类型的正确属性</li><li id="4ed8" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">获取从函数返回的正确类型的值</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="9235" class="np md it bd me nq nr dn mi ns nt dp mm li nu nv mo lm nw nx mq lq ny nz ms oa bi translated">键入功能组件的常见(错误)方式</h2><p id="2c6c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我经常看到开发人员使用的一种方法是只为组件的props定义类型，而忽略返回值。看起来是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="27f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这很好，考虑到TypeScript足够智能，可以隐式识别返回类型。但是，如果您的函数组件基于某些条件返回不同的值，它可能会让您失败—更不用说它会导致各种函数组件之间的摩擦。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9ffe" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">正确的方式</h1><p id="9770" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">定义函数组件类型的正确方法是使用React自己的类型定义<code class="fe ob oc od oe b">React.FunctionComponent</code>或<code class="fe ob oc od oe b">React.FC</code>。在这种情况下，我们将上面的代码重构为下面的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="7875" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个版本使用React自己的类型定义，包括返回类型的定义和<code class="fe ob oc od oe b">props.children</code>属性。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ba03" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="babd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">代码库中的一致性非常重要。它保持代码更改的整洁，并使入职更容易。尽量保持代码约定的一致性，尽可能使用标准方法。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="de26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">— <a class="ae ky" href="https://medium.com/@ozantunca" rel="noopener">奥赞通卡</a></p><h2 id="0adf" class="np md it bd me nq nr dn mi ns nt dp mm li nu nv mo lm nw nx mq lq ny nz ms oa bi translated">订阅更多</h2><p id="fb12" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你喜欢这篇文章，并想知道类似的其他文章，<a class="ae ky" href="https://ozantunca.org/subscribe" rel="noopener ugc nofollow" target="_blank">你可以在这里订阅我</a>。我还会不时地给你发送免费的课程和电子书。我保证永远不会给你发垃圾邮件👍。</p></div></div>    
</body>
</html>