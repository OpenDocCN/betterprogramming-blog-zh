<html>
<head>
<title>Let’s Build a Fast, Slick and Customizable Rich Text Editor With Slate.js and React — Part II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用Slate.js和React构建一个快速、灵活和可定制的富文本编辑器——第二部分</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/lets-build-a-fast-slick-and-customizable-rich-text-editor-with-slate-and-react-part-ii-3d3908d89664?source=collection_archive---------1-----------------------#2018-07-20">https://betterprogramming.pub/lets-build-a-fast-slick-and-customizable-rich-text-editor-with-slate-and-react-part-ii-3d3908d89664?source=collection_archive---------1-----------------------#2018-07-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ad85" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">现在，让我们把它变漂亮</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d57cbb0f8d2656f9eb2886be24f632ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*h644BT1c3umdZT59L7kh3w.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在这篇文章的结尾，我们将会得到什么</p></figure><p id="5a5b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个关于用<a class="ae lu" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>和<a class="ae lu" href="https://www.slatejs.org/" rel="noopener ugc nofollow" target="_blank"> Slate </a>构建富文本编辑器的有趣系列。这是第一部分——如果你还没有看过的话，你会想先看看的！</p><div class="lv lw gp gr lx ly"><a href="https://medium.com/@wesharehoodies/lets-build-a-customizable-rich-text-editor-with-slate-and-react-beefd5d441f2" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">让我们用Slate和React构建一个快速、灵活和可定制的富文本编辑器</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">到底什么是富文本编辑器？</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">medium.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="42b3" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">全速前进</h1><p id="93ea" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">编辑必须看起来很敏锐。谁想看和使用一个邋遢的编辑器？让我们添加一些快速的CSS来使它看起来更加壮观。</p><p id="edd1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在传统的create-react-app中，我们在<code class="fe nr ns nt nu b">src</code>文件夹中有<code class="fe nr ns nt nu b">index.css</code>文件。<code class="fe nr ns nt nu b">index.css</code>用于为我们的应用程序应用“全局”样式。对于全局样式，我记住了适用于所有页面/文档的DOM元素。比如<code class="fe nr ns nt nu b">body</code>和<code class="fe nr ns nt nu b">html</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/c28882fb8327ee76071225cae65ba410.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2O6pyrqIeu44pksX1V_ifA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为我们的编辑器应用系统字体、背景色、填充、边距、颜色和宽度。</p></figure><p id="d4bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你对<code class="fe nr ns nt nu b">font-family</code>的恶作剧感到好奇，听好了。我们将默认使用用户计算机上安装的字体。这增加了性能提升，因为不需要下载字体。</p><p id="d541" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">更多细节请看<code class="fe nr ns nt nu b">css-tricks</code>的巧妙解释。</p><div class="lv lw gp gr lx ly"><a href="https://css-tricks.com/snippets/css/system-font-stack/" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">系统字体堆栈| CSS-技巧</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">默认为特定操作系统的系统字体可以提高性能，因为浏览器没有…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">css-tricks.com</p></div></div><div class="mh l"><div class="nw l mj mk ml mh mm ks ly"/></div></div></a></div><p id="6d39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们最终应该有更聪明的东西。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/9ec072bf05a2fe6ef500cfb5e0b18ac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UnUlq9MEU7_WuqIgs96Ipg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们新开发的应用程序</p></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="79cd" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">富文本编辑器的主要特性</h1><ul class=""><li id="8eff" class="ny nz it la b lb nm le nn lh oa ll ob lp oc lt od oe of og bi translated">图像。</li><li id="6a8a" class="ny nz it la b lb oh le oi lh oj ll ok lp ol lt od oe of og bi translated">标题。</li><li id="5cf9" class="ny nz it la b lb oh le oi lh oj ll ok lp ol lt od oe of og bi translated">代码突出显示。</li><li id="2687" class="ny nz it la b lb oh le oi lh oj ll ok lp ol lt od oe of og bi translated">嵌入式视频。</li><li id="cfd9" class="ny nz it la b lb oh le oi lh oj ll ok lp ol lt od oe of og bi translated">文本格式(对齐、项目符号列表、有序列表等。).</li><li id="b389" class="ny nz it la b lb oh le oi lh oj ll ok lp ol lt od oe of og bi translated">将文本保存到数据库中以便安全保存。</li><li id="a663" class="ny nz it la b lb oh le oi lh oj ll ok lp ol lt od oe of og bi translated">链接。</li></ul></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="e811" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">形象</h1><p id="6ed2" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">让我们从添加图像开始。</p><p id="17ba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">富文本编辑器有一个工具栏，使您的编辑更容易。看看Medium的工具栏。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/25750b64dd4a4f9962ffac707d1a70ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*95UdJGOZsTqcx7TdIM6OnQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">媒体的格式工具栏</p></figure><p id="a306" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我们点击一个选定的文本时，一个弹出的工具栏允许我们格式化我们的文本。</p><p id="7724" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先开始实现工具栏是有意义的，然后将它与适当的功能挂钩。</p><p id="c803" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们抓住一个小图书馆，它能让我们访问大量的图标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/c6a3166ffbe50f06cf1e89dd13ebfe4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVrQz5flCoSTVrGwIDv_QA.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/412161bdca16efa51911a8a6f0592037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jcmCsf1nobQhSeyExxaSFw.png"/></div></div></figure><p id="8082" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们想要使用的图标是羽毛图标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/18653a0de71f03e9bde909f6210e37c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RarhEhWdVAFnmTGm9sByw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae lu" href="https://feathericons.com/" rel="noopener ugc nofollow" target="_blank">https://feathericons.com/</a></p></figure><p id="927c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我建议创建一个组件，在一个地方保存所有的格式逻辑和样式。称之为<code class="fe nr ns nt nu b">FormatToolbar.js</code>，放在<code class="fe nr ns nt nu b">components</code>里面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/69e9b92514e21c2fcf5ce554542f18dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2jj1UkjDz6swdNbcfw0-GA.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/679889d523c720d459ecfb11f1745605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AZMAuFcURPRz2zBt6j_i1g.png"/></div></div></figure><p id="f863" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nr ns nt nu b">FormatToolbar</code>是一个无状态的组件，由于使用了<code class="fe nr ns nt nu b">props.children</code>而呈现其内容。</p><p id="4dae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">无状态组件是指不使用<code class="fe nr ns nt nu b">this.state</code>机制的组件，而是让其父组件来判断状态。</p><p id="643d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这样想吧；我们希望尽可能地分离关注点。无状态组件处理视图的呈现(<code class="fe nr ns nt nu b">divs</code>、<code class="fe nr ns nt nu b">spans</code>、<code class="fe nr ns nt nu b">images</code>)，并且只处理视图。</p><p id="d5a5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有状态容器负责其内部的<code class="fe nr ns nt nu b">state</code>，并将其作为<code class="fe nr ns nt nu b">props</code>传递给无状态组件。</p><p id="9578" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nr ns nt nu b">props.children</code>允许你在一个组件中嵌套组件。</p><p id="4fda" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你不确定<code class="fe nr ns nt nu b">props.children</code>——下面这篇文章很好地解释了React中儿童道具背后的概念。</p><div class="lv lw gp gr lx ly"><a href="https://learn.co/lessons/react-this-props-children" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">反应这个。道具。孩子们</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">了解反应这一道具儿童。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">learn.co</p></div></div><div class="mh l"><div class="os l mj mk ml mh mm ks ly"/></div></div></a></div><p id="4caf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们将把<code class="fe nr ns nt nu b">FormatToolbar.js</code>组件导入到我们的<code class="fe nr ns nt nu b">TextEditor.js</code>中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/5121ac76cdf96ed590c2507ef02f985c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CtCCLBNgZeglYnOMFoOI_Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将图标导入到TextEditor组件</p></figure><p id="e5f3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，像这样消耗我们的<code class="fe nr ns nt nu b">FormatToolbar</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/37657ea192c335ebefb7e96dc2188eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wSz2HJ7RyACaXySFR0bPnQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将工具栏组件传递给编辑器渲染函数</p></figure><p id="dae4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我还添加了一些样式，让它看起来很整洁。记住，<code class="fe nr ns nt nu b">.format-toolbar</code>是我们保存所有图标的容器组件。我们将它设置为flex，所以它们都很好地排成一行，从左边开始。</p><p id="e84c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还移除了按钮的默认边框，因为我们要采用简洁/极简的方式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/9b33f9abe6b97ed3e23d959d72370658.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BPZx5Ho3CdG1ydUno2jgsQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将样式应用到工具提示</p></figure><p id="d5c1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">术语<em class="ow">:</em><code class="fe nr ns nt nu b">toolbar</code>是整行，<code class="fe nr ns nt nu b">tooltip</code>是单个项目/集合。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/d4ec2427a0900ddc844a30846f8e52f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xCRyLqEAhpwGfeWy7tZ9IA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">屏幕上呈现的是什么</p></figure><p id="8634" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">太好了，它开始看起来像一个真正的富文本编辑器了。干得好。</p><blockquote class="oy"><p id="e62f" class="oz pa it bd pb pc pd pe pf pg ph lt dk translated">不缺少非凡的想法，缺少的是执行它们的意愿。塞斯·戈丁</p></blockquote></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="4e91" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">一个人通过挑战极限来发现极限</h1><p id="7779" class="pw-post-body-paragraph ky kz it la b lb nm ju ld le nn jx lg lh no lj lk ll np ln lo lp nq lr ls lt im bi translated">单击图标没有任何效果，因为我们没有向图标添加一个事件监听器。</p><p id="8561" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">是时候改变了。本教程的目标之一是教你如何处理问题，以及如何解决问题。解决复杂的问题非常具有挑战性。一种普遍的解决问题的方法是把问题分成小的、可解决的部分。</p><p id="6dea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">想一想——我们错过了什么？我们已经有了格式化功能、图标和样式。</p><p id="f158" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你猜对了，我们需要将图标和文本捆绑在一起。通过点击图标，我们想要格式化我们的文本。</p><p id="cc15" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们从在按钮上添加一个事件监听器开始。我们应该使用哪个事件监听器？有无数种选择，比如<code class="fe nr ns nt nu b">onClick</code>、<code class="fe nr ns nt nu b">onMouseDown</code>、<code class="fe nr ns nt nu b"><a class="ae lu" href="https://developer.mozilla.org/en-US/docs/Web/Events/touchend" rel="noopener ugc nofollow" target="_blank">touchend</a></code>等等。</p><p id="2dd2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将使用一个新的事件监听器，它是在<a class="ae lu" href="https://reactjs.org/blog/2018/05/23/react-v-16-4.html" rel="noopener ugc nofollow" target="_blank"> React版本16.4 </a>中引入的。事件监听器有一个特殊的名称— <code class="fe nr ns nt nu b">pointer event</code>。</p><p id="5800" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我写了这篇关于<code class="fe nr ns nt nu b">pointer events</code>的简介。简而言之，我们使用不同的方法，而不是为鼠标、触摸表面和笔编写事件监听器。该方法使用3合1解决方案，兼容所有设备。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/e1584c074730f73e76dedb0dd73e4825.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z9lDRlQfK7dz8LP3L72otg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">浏览器对<strong class="bd pk">指针事件</strong>的支持</p></figure><div class="lv lw gp gr lx ly"><a href="https://medium.com/@wesharehoodies/pointer-events-with-react-the-why-how-what-617a5b51dbb2" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">👆带有React的指针事件——原因、方式和内容？</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">我们来谈谈事件，更具体地说是指针事件。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">medium.com</p></div></div><div class="mh l"><div class="pl l mj mk ml mh mm ks ly"/></div></div></a></div><p id="b8e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">指针就像任何事件一样；就像这样把它系在你的纽扣上:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/4a42b72e5fc34cbd04b1aa2c88cee99e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hNK2RzbEGDeNZuWXf1V3yQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">向按钮添加指针事件</p></figure><p id="5756" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nr ns nt nu b">onPointerDown</code>和<code class="fe nr ns nt nu b">onMouseDown</code>一样被发射。</p><p id="7049" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意，我们添加了一个名为<code class="fe nr ns nt nu b">onMarkClick</code>的回调。第一个参数是事件对象，第二个参数类型是我们想要应用的格式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/1c0e4ad6cd8b1264f68c4a44a5cfa7f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AcPjT-IzI-Fzs6X2x_k_Qg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">onMarkClick方法</p></figure><p id="23a4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不要大惊小怪，评论让它显得臃肿。我们应用的唯一功能如下:</p><p id="24a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">1.取消浏览器的默认行为。</p><p id="0509" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.获取<code class="fe nr ns nt nu b">this.state.value</code> —记住这是我们传递给Slate的初始值。Slate模型有内置函数，就像<a class="ae lu" href="https://mongoosejs.com/" rel="noopener ugc nofollow" target="_blank">猫鼬</a>一样。</p><p id="78bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.用所需的格式对所选文本应用格式。</p><p id="816c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.最后，在组件上调用update来显示新做的更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/624247756a0a648620214a963705cfc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eNr3EpMVnzdkDMGOqh7bnQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击图标改变我们的文本</p></figure><p id="fe91" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们通过添加一些最后的润色来结束。我们将添加代码格式、列表和下划线功能。试着按照我们的例子完成它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/ceee67cb015e808b639473e2d617f67c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fA5bQt_aV0q_eJ9I01tZfA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">onKeyDown</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/21be415315b30964b2b36e4d4133c28c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S7uUjwH_eXx-3egYUf4sDA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">渲染标记</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/38f8480e6ffbf8910dea61ef1a489678.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_hntZmXLn9tT-pbkRCZCLg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">导入图标</p></figure><p id="c7c1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们将在<code class="fe nr ns nt nu b">render</code>中创建我们的元素。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/fd1ec4f762203feda5ebe8dc4308d81b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*INJvfvNpBTCh6PT8FXq3yQ.png"/></div></div></figure><p id="d789" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们成功了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/70a1db84f35a10d6212271d38b86232d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1O3n6aQd0yXmHI08W1sNWQ.gif"/></div></div></figure><p id="f6af" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">编辑器看起来已经像是我们每天使用的工具了。请注意在VDOM中放置和移除的元素——React会为您处理这些。</p><p id="b60e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">恭喜你坚持到了最后。如果你想让我添加更多的功能，请在评论中告诉我。</p><p id="b678" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想让你的JavaScript能力更上一层楼，我推荐阅读“<a class="ae lu" href="https://amzn.to/2LSDpG6" rel="noopener ugc nofollow" target="_blank"> <em class="ow">你不知道的JS </em> </a>”系列丛书。</p><div class="lv lw gp gr lx ly"><a href="https://github.com/wesharehoodies/slate-react-rich-text-editor/tree/part-2" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">we share hoodies/slate-react-rich-text-editor</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">让我们用Slate和React构建一个可定制的富文本编辑器</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">github.com</p></div></div><div class="mh l"><div class="pt l mj mk ml mh mm ks ly"/></div></div></a></div><p id="68ea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>