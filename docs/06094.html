<html>
<head>
<title>Telling the Story of Your Project One Commit at a Time</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一次一个承诺地讲述你的项目</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/telling-the-story-of-your-project-one-commit-at-a-time-2b8e2fc53281?source=collection_archive---------18-----------------------#2020-09-01">https://betterprogramming.pub/telling-the-story-of-your-project-one-commit-at-a-time-2b8e2fc53281?source=collection_archive---------18-----------------------#2020-09-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="562d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">您的提交消息可以讲述一个故事，也可以是垃圾。这是你的选择</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/42cabc059b2bc26b820e4b02b4b5c2e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DnvM7IR9JbApVK3O"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马克·克林在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="c7f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">提交消息是在提交代码更改之前添加的简单消息，您可以在git存储库的历史上看到它；听起来很简单，但是为什么每个人都对它们有如此强烈的感觉呢？</p><p id="f060" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">据我所知，有两种类型的提交消息:一种是信息丰富且写得很好的，另一种是“这里有一些变化…”类型的消息。</p><p id="bdf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，对许多其他人来说，拥有清晰的提交信息是我们应该追求的目标，因为它为我们项目中发生的所有变更提供了透明度。在某种程度上，这是一种简单的文档形式，甚至可以让你成为更好的开发人员。</p><p id="52d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是为什么呢？</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f2fc" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">明确和信息丰富的提交消息的重要性</h1><p id="b8fc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在继续讨论如何编写好的提交消息，甚至与您分享我的提交消息方法之前，让我解释一下为什么在您的项目历史中有清晰的提交描述是至关重要的。</p><p id="0678" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将着重从不同的角度解释提交消息的重要性:</p><h2 id="41f4" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">代码审查者</h2><p id="5d20" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我做了几年的技术领导，我的工作的一部分是从多个远程团队执行代码审查，这些团队位于10，000公里以外，相差10个小时。有时候，我到办公室发现一份很长的PR，几个开发人员几天的工作，数百行代码受到影响，每次提交都会说一些类似“修复”、“更多修复”、“此处更改”或“提交”的内容。</p><p id="91ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了这个显而易见的因素——我不打算深入探讨，为什么pr如此之大——当我尝试处理它们时，我有很多很多问题，我不能马上问，因为我的团队已经在家里睡觉了(由于时差)。所以我会坐在那里，试图了解正在发生的事情，并试图从他们的提交历史中找出变化是如何演变的，以更清楚地了解正在发生的事情。</p><p id="3114" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我前面提到的提交，这是不可能的。我没有机会。我会尽可能以最好的方式审查代码，并留下评论，让团队第二天来整理并提供澄清。效率很低。</p><p id="abae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，信不信由你，在对我们提交的方式做了一些改变之后，通过利用我将在文章中详述的系统，我们使代码审查过程的效率提高了许多倍。</p><h2 id="69e5" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">新加入者</h2><p id="0561" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">由于团队设置的性质，我们在远程团队的成员中有一些高轮换；再说一次，我不会为为什么它只是我们不得不忍受的事情的细节而烦恼。对于团队规模来说，我们的代码库相当庞大，对于一个新加入者来说相当吓人，尤其是对于那些开发经验较少的人。我们总是有人帮助他们融入团队，有人在他们的时区，但这不是一件容易的事情。</p><p id="b674" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">访问git历史可以帮助任何开发人员理解特定页面、服务、文件或方法是如何发展的，或者可以帮助理解为什么添加了某些内容，或者何时删除了某些内容。但是，在“修复”、“这里有一些文本”和“没有消息”的世界中导航可能会非常困难。</p><p id="ec18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这听起来可能不是很多，但是对于像我这样的人来说，当他们第一次开始工作的时候，打开一个项目的git历史，这很有帮助！</p><h2 id="ab5e" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">开发者</h2><p id="f395" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">是的，拥有好的提交消息可以帮你摆脱困境！有时我们会面临这样的问题，比如<em class="nl">为什么这个按钮不再在这里了</em>，或者<em class="nl">那个东西是什么时候被移除或者添加的</em>？我们经常寻找关于这方面的用户故事。但它并不总是存在，有时我们不小心删除了一些东西，或者我们添加了一些在吉拉或Azure DevOps这样的工具中很难找到的东西。然而，在代码和提交历史中查看它会非常容易。所以给自己一些时间，创造惊人的承诺！</p><p id="d191" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信在更多的场景中，提交消息会有所帮助，如果你知道的话，请在评论区告诉我。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e1ca" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">提交消息的3种不同工作流</h1><p id="0548" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在我工作多年的团队中，我发现了三种处理提交消息的方法，有趣的是，它们可以是你将团队从一个类别带到另一个类别的步骤，直到你的代码历史看起来像埃德加·艾伦·坡的小说。</p><h2 id="3d86" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">谁在乎呢。</h2><p id="7e4a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">第一步是团队不太关心，或者他们没有意识到提交消息的重要性，他们只是把他们想要的放在那里。</p><h2 id="5bbd" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">提交你想要的；当我们合并时，我们挤压提交</h2><p id="5483" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">一些团队理解提交消息的重要性。尽管如此，开发人员不想为编写好的提交消息而烦恼，所以他们提交他们想要的任何东西，但是他们在PRs上提供了描述性的注释。这些团队通常会压缩提交，这样当您看到历史记录时，您只能看到写在PRs上的清晰信息。好处是你有一个干净的提交历史；缺点是在特征分支上发生的任何提交都消失了。</p><p id="46ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个不错的方法，我非常喜欢它，它肯定比第一阶段好，但是，审查PR的人不会有明确提交信息的附加值，并且有价值的信息可能会从项目历史记录中丢失。</p><h2 id="e61b" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">每个提交消息都很重要</h2><p id="48a6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在这一点上，团队中的每个开发人员都编写了清晰且信息丰富的提交消息，这在代码审查过程中很有帮助，并且您不必压缩提交，因此您可以访问完整的项目历史。</p><p id="a6e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是这可能有点危险，因为您的历史可能会根据开发人员提交的频率而大幅增长。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b6b3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我的优秀提交消息公式</h1><h2 id="e277" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">提交消息格式</h2><p id="8a73" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">每个提交消息由一个<strong class="lb iu">头</strong>、一个<strong class="lb iu">体</strong>和一个<strong class="lb iu">尾</strong>组成。标题具有特殊的格式，包括一个<strong class="lb iu">类型</strong>、一个<strong class="lb iu">范围</strong>和一个<strong class="lb iu">主题</strong>:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="25f9" class="mz md it nn b gy nr ns l nt nu">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;<br/>&lt;BLANK LINE&gt;<br/>&lt;body&gt;<br/>&lt;BLANK LINE&gt;<br/>&lt;footer&gt;</span></pre><p id="0abd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">表头</strong>为必填项，表头的<strong class="lb iu">范围</strong>为可选项。</p><h2 id="2338" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">归还</h2><p id="1841" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果提交恢复了以前的提交，它应该以“revert:”开头，后跟恢复的提交的头。在主体中，它应该说，“它恢复提交。”，其中哈希是恢复的提交的SHA。</p><h2 id="e7f4" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">类型</h2><p id="a5f0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">必须是下列之一:</p><ul class=""><li id="4a71" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">构建:影响构建系统或外部依赖的变更(示例范围:吞咽、花椰菜、npm)</li><li id="5b23" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">ci:对CI配置文件和脚本的更改(示例范围:Circle、BrowserStack、SauceLabs)</li><li id="22a2" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">文档:仅文档更改</li><li id="92a4" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">专长:一个新功能</li><li id="1d50" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">修复:错误修复</li><li id="41d8" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">perf:提高性能的代码更改</li><li id="ca3c" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">重构:既不修复错误也不增加功能的代码更改</li><li id="49d4" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">样式:不影响代码含义的更改(空白、格式、缺少分号等。)</li><li id="0098" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">测试:添加缺失的测试或更正现有的测试</li></ul><h2 id="1827" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">范围</h2><p id="fcaa" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">该范围应该是受影响的npm软件包的名称，或者是模块或组件的名称。</p><h2 id="112d" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">科目</h2><p id="1ad1" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">主题包含对变更的简短描述:</p><ul class=""><li id="83a4" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">使用祈使句，现在时:“改变”而不是“改变”或“变化”</li><li id="4663" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">第一个字母不要大写</li><li id="98f8" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">没有点(。)在最后</li></ul><h2 id="6367" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">身体</h2><p id="6d59" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">就像在<strong class="lb iu">主语</strong>里一样，用祈使句，现在时:“变”，不要“变了”，也不要“变了”。身体应该包括改变的动机，并与以前的行为进行对比。</p><h2 id="664e" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">页脚</h2><p id="e73d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">页脚应包含有关<strong class="lb iu">重大变更</strong>的任何信息，也是引用问题的地方，该提交用<strong class="lb iu">关闭</strong>或<strong class="lb iu">引用</strong>。</p><p id="795b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">BREAKING CHANGE应该以单词BREAKING CHANGE开头:用空格或两个换行符。</p><h2 id="8a55" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">例子</h2><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="dca5" class="mz md it nn b gy nr ns l nt nu">feat(Subscriptions): Support permission-based subscriptions</span><span id="fa12" class="mz md it nn b gy oj ns l nt nu">Update the audience object to support permission-based</span><span id="2619" class="mz md it nn b gy oj ns l nt nu">References: #XXXXXX</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="748a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="10af" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Git历史是一个非常有价值的工具。然而，有时并不清楚如何区分“好的”提交消息和“坏的”提交消息。此外，我提供的解决方案可能并不适合您的团队。这是我提出的解决方案，无论我走到哪里，我都会努力实施，但目前还没有任何现成的解决方案。要灵活；重要的一点是，一段清晰的历史很重要，无论你以何种方式让它发生。</p><p id="80ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢你的阅读！</p></div></div>    
</body>
</html>