<html>
<head>
<title>To Boldly Code Like Never Before</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以前所未有的方式大胆编码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/to-boldly-code-like-never-before-a13df2e67679?source=collection_archive---------8-----------------------#2022-05-25">https://betterprogramming.pub/to-boldly-code-like-never-before-a13df2e67679?source=collection_archive---------8-----------------------#2022-05-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f7b0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我已经做了30多年的程序员，但是在我发现正确的技术之前，我从来没有能够如此快速和安全地编写代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/db27a75063809c38170a6171388ee8a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cZALdWep-3g-4HGF"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SpaceX 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的<a class="ae ky" href="https://unsplash.com/@spacex?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"/></p></figure><p id="ef3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大家都听过胶带程序员的表情。</p><p id="89b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他是一个几乎可以立刻实现任何东西的程序员。当他被要求快速交付困难的东西时，他就交付了。</p><p id="ac31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">管道胶带程序员是老板的最爱，也是同事们的心头肉</strong>。</p><p id="37ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实证明，团队中的编程类似于<a class="ae ky" href="https://blog.devgenius.io/dirty-code-and-global-warming-27f04623178d" rel="noopener ugc nofollow" target="_blank">公地悲剧</a>的原则:偷工减料在项目中引入了所有程序员都支付的<a class="ae ky" href="https://drpicox.medium.com/what-is-technical-debt-55aa366ff68a" rel="noopener">技术债务</a>，因此一些程序员可以通过减慢其他所有人的速度来提高速度。</p><p id="b083" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">做胶带程序员不适合我</strong>。</p><p id="05dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我可以快速编码，但是如果我没有安全网，当我交付时，我感觉自己是个重量级人物。编写功能代码不仅仅是添加代码，还要确保不破坏任何东西。</p><p id="641d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">举个例子，几年前，由于另一个团队的代码存在严重的性能问题，一个版本被停止了。因为我真的很擅长优化代码，所以他们把问题交给我去解决。</p><p id="9caf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是他们给了我一天时间。仅仅一天，我不得不修改几乎所有的代码，并重写一些行为。当我完成的时候，我觉得很脏。我不熟悉这个项目和它的行为，我不知道我是否破坏了什么，所以我把它交给了QA。</p><p id="f294" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一切正常。我觉得很幸运。我已经修改了很多代码，现在我仍然是头号贡献者。</p><p id="9320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我不想重复的经历。</p><p id="ce17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">程序员的工作有三个部分:解决、计划和清理。</p><p id="1b62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，开发人员计划新功能:他们需要知道为了引入新功能需要修改哪些代码。这是胶带程序员擅长的地方，而不是其他地方。</p><p id="14a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二是计划。编码者不能按原样编写新代码，所有代码就像一个生态系统，所以他们必须找到一种方法来引入它，而不破坏其他任何东西。程序员花费大量时间试图记住所有代码的复杂性。最后是干净的。</p><p id="bfcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当代码不干净时，下一个可交付成果将花费更长的时间或者有更多的bug。</p><blockquote class="lv"><p id="7491" class="lw lx it bd ly lz ma mb mc md me lu dk translated">我有一个主张:如果你使用正确的技术，你可以比管道胶带程序员走得更快，但没有任何危险。</p></blockquote><p id="2601" class="pw-post-body-paragraph kz la it lb b lc mf ju le lf mg jx lh li mh lk ll lm mi lo lp lq mj ls lt lu im bi translated"><strong class="lb iu">想象我们有一个神奇的按钮</strong>。</p><p id="3d4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个我们作为程序员可以按下的按钮，几秒钟后，我们就会知道是一切正常，还是有什么东西坏了。</p><p id="6d68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想象一下，我们必须编写一些新的代码，我们有一种直觉，但我们不确定它是否可行。有了这个神奇的按钮，我们可以不假思索地写出我们的直觉，按下按钮，并验证它是正确的。因为一切正常，所以交付。我们没有花时间去思考、考虑和计划，而是根据我们的第一个想法去行动。这很大胆。</p><p id="e10d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实证明，TDD创造了那种给我们神奇按钮的测试。TDD不是生成单元测试，而是生成开发人员测试:</p><blockquote class="lv"><p id="a9db" class="lw lx it bd ly lz ma mb mc md me lu dk translated">TestDrivenDevelopment产生DeveloperTests。一个测试用例的失败仅仅意味着开发者最近的编辑。这意味着开发人员不需要使用MockObjects将他们所有的代码分割成可测试的单元——沃德·坎宁安</p></blockquote><p id="e9ed" class="pw-post-body-paragraph kz la it lb b lc mf ju le lf mg jx lh li mh lk ll lm mi lo lp lq mj ls lt lu im bi translated">开发人员测试有很高的可信度，运行速度非常快。它们是神奇的按钮。此外，它们还有一个特殊的属性:失败会影响最后一次编辑。换句话说，编码者不必到处寻找错误，只需在他们接触的最后一段代码中寻找。沃德·坎宁安给了我们最后一条建议:</p><blockquote class="lv"><p id="a5a9" class="lw lx it bd ly lz ma mb mc md me lu dk translated">这意味着开发人员可以通过恢复最后一次编辑来避免调试。(提示:还原它！)——<a class="ae ky" href="http://wiki.c2.com/?UnitTest" rel="noopener ugc nofollow" target="_blank">沃德·坎宁安</a></p></blockquote><p id="2698" class="pw-post-body-paragraph kz la it lb b lc mf ju le lf mg jx lh li mh lk ll lm mi lo lp lq mj ls lt lu im bi translated">因此，使用TDD，开发人员可以编写代码，运行测试，如果成功，工作就完成了，如果失败，就撤销最后的编辑，尝试不同的方法。</p><p id="2eff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果它能工作，除非需要清洗，其他都不需要。开发时间从几小时缩短到了几分钟。开发人员可以凭直觉工作，甚至不用思考一次，这并不总是有效，但它更快。但如果它不起作用，他会知道，所以他们可以承担风险，因为没有风险。</p><p id="79bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果它不起作用，那么程序员不得不停止思考。</p><p id="f280" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，他们撤销最后的编辑，然后他必须做出决定。他们可以尝试不同的方法，或者采用更传统、更昂贵的解决方案。</p><p id="34de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法如此强大，以至于Kent Beck提出了TDD的替代方案:<a class="ae ky" href="https://medium.com/@kentbeck_7670/test-commit-revert-870bbd756864" rel="noopener">测试&amp; &amp;提交||回复</a> (TCR)。这个想法几乎是一样的，但是它将开发与代码库交织在一起。每次代码通过时，测试运行程序都会提交一次，但是如果失败，它会恢复到之前的提交。</p><p id="0062" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种技术鼓励开发人员大胆编码，实际上不用调试。</p><p id="ef4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不得不承认，我没有尝试过TCR，但是在使用TDD时，我通常遵循非常接近的方法。如果遵循得好，两者具有相同的性质。</p><p id="0545" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是一名开发人员，尤其是如果你正在使用TDD，你应该尝试:一旦你准备好了测试，就编写你认为会通过的第一个代码。不要三思，不要试图计划，只是写。如果它通过了，那么如果有必要的话你可以清理。如果没有，请尝试其他解决方案。这种方法非常快速、安全，并且是一种您从未尝试过的大胆的编码方式。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><p id="1d4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你的阅读。这是我关于TDD的好处系列的第二个故事，我想在其中分享和提高对这种实践的理解。开场是<a class="ae ky" href="https://drpicox.medium.com/looking-for-the-best-performant-programming-practice-21476108ec3f" rel="noopener">寻找最佳性能的编程实践</a>，接下来是<a class="ae ky" href="https://drpicox.medium.com/reducing-programmers-cognitive-overload-e14df3b73432" rel="noopener">减少程序员的认知超载</a>。</p><pre class="kj kk kl km gt mr ms mt mu aw mv bi"><span id="3dc9" class="mw mx it ms b gy my mz l na nb"><strong class="ms iu">Want to Connect?</strong></span><span id="88f2" class="mw mx it ms b gy nc mz l na nb">If you liked the article, <a class="ae ky" href="https://drpicox.medium.com/my-most-viewed-stories-95b5d96ade0e" rel="noopener">check my most successful stories on Medium</a> to read more.</span></pre></div></div>    
</body>
</html>