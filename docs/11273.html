<html>
<head>
<title>From Ruby to JavaScript — Switching Hats</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Ruby到JavaScript——换帽子</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/ruby-to-javascript-switching-hats-2fa5ec22142a?source=collection_archive---------6-----------------------#2022-03-04">https://betterprogramming.pub/ruby-to-javascript-switching-hats-2fa5ec22142a?source=collection_archive---------6-----------------------#2022-03-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="1bd8" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">进入正确的顶部空间</h2><div class=""/><div class=""><h2 id="fa2b" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">减少语法、命名约定和命名错误。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/b2c75470499175df8ae2f635f75edf59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cyZN09eEz8KK4lculHQj2Q.png"/></div></div></figure><p id="80be" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">欢迎来到我的新系列“换帽子”创建的目的是在从编写Ruby转换到编写JavaScript或相反的转换之前，作为快速阅读的桥梁。本文旨在帮助您避免在JavaScript代码中使用Ruby语法、命名约定、大小写惯例和术语，或者相反。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="239a" class="md me iq bd mf mg mh mi mj mk ml mm mn kf mo kg mp ki mq kj mr kl ms km mt mu bi translated">Ruby + JavaScript的相似之处</h1><p id="561f" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">大多数(如果不是所有)编程语言都有某种形式的整数、浮点、布尔、数组和散列。尽管一些编程语言在如何称呼散列上有所不同，但是Ruby和JavaScript似乎在这些名称上意见一致。</p><p id="d47f" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><em class="na"> (Python喜欢把哈希称为字典)</em></p><h1 id="fbb5" class="md me iq bd mf mg nb mi mj mk nc mm mn kf nd kg mp ki ne kj mr kl nf km mt mu bi translated">Ruby + JavaScript的区别</h1><p id="9b6f" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">Ruby和JavaScript以及大多数其他语言遵循相同的概念。存储信息的变量和常量封装要运行的代码块的函数，为更多语义代码引用创建对象模板的类。Wile Ruby将<em class="na">可调用的</em>代码块称为<em class="na">方法，</em> JavaScript更喜欢称它们为<em class="na">函数。下面列出并描述了ruby和JavaScript之间更多的语法差异。</em></p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="e1e8" class="md me iq bd mf mg mh mi mj mk ml mm mn kf mo kg mp ki mq kj mr kl ms km mt mu bi translated">命名规格</h1><h2 id="cefe" class="ng me iq bd mf nh ni dn mj nj nk dp mn lj nl nm mp ln nn no mr lr np nq mt iw bi translated">变量</h2><p id="5874" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">在Ruby中命名变量时，通常会使用“蛇格”。这意味着你用下划线<code class="fe nr ns nt nu b">my_example = "string"</code>分隔单词。而JavaScript使用“骆驼大小写”。也就是除了第一个单词<code class="fe nr ns nt nu b">likeThisExample = “str”</code>以外的每个单词首字母大写的做法。</p><h2 id="431e" class="ng me iq bd mf nh ni dn mj nj nk dp mn lj nl nm mp ln nn no mr lr np nq mt iw bi translated">常数</h2><p id="48d8" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">在Ruby中声明常量时，没有使用声明性的单词，所以通常的惯例是每个单词都大写，同时仍然使用<code class="fe nr ns nt nu b">snake_case</code> <code class="fe nr ns nt nu b">EXAMPLE_ONE = "string"</code>。在JavaScript中，有一个声明性单词<code class="fe nr ns nt nu b">const</code>，但是我们遵循与上面Ruby例子完全相同的大写和蛇形大写约定。</p><h2 id="2ddc" class="ng me iq bd mf nh ni dn mj nj nk dp mn lj nl nm mp ln nn no mr lr np nq mt iw bi translated">类别(对象)</h2><p id="ed77" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">在这两种情况下，类都被认为是常量，因为类就像是以后要创建和引用的对象的模板，所以我们的模板不应该改变，但属性值会改变。在这种特殊情况下，JavaScript和Ruby遵循相同的大小写和命名约定。<em class="na">驼峰式</em>，但是所有的常量也应该以大写字母开头<code class="fe nr ns nt nu b">MyClassNameExample</code>。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="2fe0" class="md me iq bd mf mg mh mi mj mk ml mm mn kf mo kg mp ki mq kj mr kl ms km mt mu bi translated">变量</h1><h2 id="8992" class="ng me iq bd mf nh ni dn mj nj nk dp mn lj nl nm mp ln nn no mr lr np nq mt iw bi translated">声明变量</h2><p id="986d" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">红宝石:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="0e0e" class="ng me iq nu b gy nz oa l ob oc">variable_name = "this is my ruby string"</span></pre><p id="10f1" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">JavaScript:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="f690" class="ng me iq nu b gy nz oa l ob oc">var variableName = "This is my Javascript string"</span></pre><p id="ccca" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">用<code class="fe nr ns nt nu b">var</code>声明一个Javascript变量并不常用，因为这样声明一个变量会创建一个“全局变量”这通常是不好的做法，通常意味着您需要重构</p><p id="8104" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">更常见的是，在最佳实践中，您会用<code class="fe nr ns nt nu b">let</code> <em class="na">声明一个Javascript变量。</em>这在当前作用域<em class="na">内创建了一个变量(如果你在一个函数内声明了一个let，它将只在那个函数内可用)。</em></p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="e55b" class="ng me iq nu b gy nz oa l ob oc">let variableName = "this is my javascript string"</span></pre><h2 id="8769" class="ng me iq bd mf nh ni dn mj nj nk dp mn lj nl nm mp ln nn no mr lr np nq mt iw bi translated">分配新值</h2><p id="fc3c" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">Ruby和JavaScript都以完全相同的方式给变量赋值，但是使用了不同的命名约定。</p><p id="e644" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">红宝石:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="afa3" class="ng me iq nu b gy nz oa l ob oc">variable_name = "this is my NEW ruby string"</span></pre><p id="69ad" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">JavaScript:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="acde" class="ng me iq nu b gy nz oa l ob oc">variableName = "this is my NEW JavaScript string"</span></pre></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="e970" class="md me iq bd mf mg mh mi mj mk ml mm mn kf mo kg mp ki mq kj mr kl ms km mt mu bi translated">方法= &gt;函数</h1><p id="a180" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">Ruby使用<em class="na">方法</em>，JavaScript使用<em class="na">函数</em>。两者的功能基本相同(双关语，lol)。</p><p id="b5b4" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">您可以在括号内传入参数，并在其作用域内调用函数/方法。</p><p id="963d" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">为了声明一个Ruby方法，我们使用了<code class="fe nr ns nt nu b">def</code>关键字</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="433c" class="ng me iq nu b gy nz oa l ob oc">def my_method_name(arguments)<br/>  #method body here<br/>end</span><span id="aaa9" class="ng me iq nu b gy od oa l ob oc"># or ------------------------</span><span id="346a" class="ng me iq nu b gy od oa l ob oc">def myMethodName(args){<br/>  #method body here<br/>}</span></pre><p id="7ff3" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">⚠️(不是最佳实践)<br/>为了声明JavaScript函数，我们声明性地使用了<code class="fe nr ns nt nu b">function</code>。</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="9102" class="ng me iq nu b gy nz oa l ob oc">function myFunctionName(args){<br/>  //Function body here<br/>}</span></pre><p id="b7f2" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">✅(best实践)</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="dd1e" class="ng me iq nu b gy nz oa l ob oc">const myFunctionName = (args) =&gt; {<br/>  //Function body here<br/>}</span></pre></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="356c" class="md me iq bd mf mg mh mi mj mk ml mm mn kf mo kg mp ki mq kj mr kl ms km mt mu bi translated">If语句If语句</h1><p id="4462" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">Ruby和JavaScript if语句的功能基本相同。语法略有不同。您将在下面的Ruby示例中看到，它不要求我们的比较语句放在括号中，而我们的JavaScript代码却需要。</p><p id="e65a" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">红宝石:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="be1d" class="ng me iq nu b gy nz oa l ob oc">if my_int &lt;= 0<br/>  # Do this<br/>elsif my_int &gt; 0<br/>  # Do this instead<br/>else<br/>  # if all else fails do this<br/>end <br/>  # don't forget your end keyword</span></pre><p id="cab0" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">JavaScript:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="8038" class="ng me iq nu b gy nz oa l ob oc">if (myInt &lt;= 0){<br/>  // Do this<br/>} else if (myInt &gt; 0){<br/>  // Do this instead<br/>} else {<br/>  // If all else fails do this<br/>}</span></pre></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="1a61" class="md me iq bd mf mg mh mi mj mk ml mm mn kf mo kg mp ki mq kj mr kl ms km mt mu bi translated">对象+类</h1><p id="59b1" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">红宝石:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="3902" class="ng me iq nu b gy nz oa l ob oc">class MyRubyClass<br/>  #Class body here<br/>end</span></pre><p id="a81f" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">(注意在Ruby类中，我们使用了声明常量的大小写。以大写字母开始，以驼色大写字母继续)</p><p id="e24c" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">JavaScript:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="9836" class="ng me iq nu b gy nz oa l ob oc">class MyJavascriptClass{<br/>  //Class body here<br/>}</span></pre><h2 id="ee31" class="ng me iq bd mf nh ni dn mj nj nk dp mn lj nl nm mp ln nn no mr lr np nq mt iw bi translated">初始值设定项= &gt;构造函数</h2><p id="a718" class="pw-post-body-paragraph la lb iq lc b ld mv ka lf lg mw kd li lj mx ll lm ln my lp lq lr mz lt lu lv ij bi translated">红宝石:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="753a" class="ng me iq nu b gy nz oa l ob oc">class MyRubyClass<br/>  @@all = []<br/>  def initialize(args)<br/>    @name = args.name<br/>    @@all.push(self)<br/>  end<strong class="nu ja"><br/></strong>end</span></pre><p id="155a" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">JavaScript:</p><pre class="kp kq kr ks gt nv nu nw nx aw ny bi"><span id="e3fb" class="ng me iq nu b gy nz oa l ob oc">class MyJavascriptClass{<br/>  constructor(args) {<br/>    this.name = args.name<br/>    MyJavascriptClass.all.push(this)<br/>  }<br/>}</span><span id="c697" class="ng me iq nu b gy od oa l ob oc">MyJavascriptClass.all = []</span></pre></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="032c" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这应该让你的大脑适应新的编码环境。无论是Ruby还是JavaScript，你的错误都会被减轻。</p><p id="f3aa" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">感谢阅读《换帽子》！</p></div></div>    
</body>
</html>