<html>
<head>
<title>What’s New in Xcode 11.4?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Xcode 11.4有什么新功能？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/whats-new-in-xcode-11-4-bd7c6f6bb0ba?source=collection_archive---------9-----------------------#2020-03-24">https://betterprogramming.pub/whats-new-in-xcode-11-4-bd7c6f6bb0ba?source=collection_archive---------9-----------------------#2020-03-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4f28" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Swift 5.2、Clang编译器11.0.3等等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7018c4834506b7357f3947eb97822bd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8AmMU_9pxjrjw56gqZyQLg.png"/></div></div></figure><p id="5295" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">苹果不断尝试，并制造出我们最喜欢的工具，为iOS/macOS/watchOS/etc开发应用程序。甚至更好。</p><p id="50fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">他们宣布了有趣的新功能，我将简要介绍一下。在我看来，它们实际上非常重要。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="8693" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">Clang编译器(11.0.3)</h1><p id="7617" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">如果您的框架使用任何第三方框架依赖项，编译器会在框架导入第三方依赖项时默认显示警告<code class="fe mu mv mw mx b">-Watimport-in-framework-header</code>。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="536a" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">排除故障</h1><ul class=""><li id="ab25" class="my mz it kw b kx mp la mq ld na lh nb ll nc lp nd ne nf ng bi translated">视图调试器显示<code class="fe mu mv mw mx b">UILayoutGuide</code>及其引用约束</li><li id="045d" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">视图调试器支持显示层。<br/> <em class="nm">编辑→显示图层</em></li><li id="09ec" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">您可以将Xcode的控制台I/O转发到终端。<br/> <em class="nm">产品→方案→编辑方案→选项页签</em></li></ul></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="d841" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">模拟器</h1><ul class=""><li id="25cf" class="my mz it kw b kx mp la mq ld na lh nb ll nc lp nd ne nf ng bi translated">通过拖放或终端为可信连接安装证书:<br/> <code class="fe mu mv mw mx b">xcrun simctl keychain booted add-root-cert my-selfsigned.cer</code></li><li id="71cf" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">更改或重置模拟器设备隐私权限。<br/> <em class="nm">例如，为位置授予权限，当app在使用时:</em> <br/> <code class="fe mu mv mw mx b">xcrun simctl privacy booted grant location com.domain.app<br/></code> <em class="nm">或为始终:<br/> </em> <code class="fe mu mv mw mx b">xcrun simctl privacy booted grant location-always com.domain.app</code> <em class="nm"> <br/>重置:</em> <br/> <code class="fe mu mv mw mx b">xcrun simctl privacy booted reset all com.domain.app</code> <br/> <em class="nm">或应用所有权限:</em> <br/> <code class="fe mu mv mw mx b">xcrun simctl privacy booted grant all com.domain.app</code></li><li id="f790" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">切换外观模式—例如，亮/暗<br/> <code class="fe mu mv mw mx b">xcrun simctl ui booted appearance dark</code></li><li id="c4a4" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">更改设备载体名称:<br/> <code class="fe mu mv mw mx b">simctl simctl status_bar booted override --operatorName 'Starlink'</code></li><li id="f09d" class="my mz it kw b kx nh la ni ld nj lh nk ll nl lp nd ne nf ng bi translated">模拟器支持后台内容获取通知和远程推送通知。此外，simctl还有用于远程推送通知的子命令<code class="fe mu mv mw mx b">push</code>。<br/>T10。<br/> <em class="nm">详细解释，查看官方文档。文末有引用。</em></li></ul></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h2 id="3e1f" class="nn ly it bd lz no np dn md nq nr dp mh ld ns nt mj lh nu nv ml ll nw nx mn ny bi translated">Swift (5.2)</h2><ul class=""><li id="abac" class="my mz it kw b kx mp la mq ld na lh nb ll nc lp nd ne nf ng bi translated">更新的编译器支持从一级函数在高阶函数中声明默认值</li></ul><pre class="kj kk kl km gt nz mx oa ob aw oc bi"><span id="5008" class="nn ly it mx b gy od oe l of og">func foo(x: Int) {<br/>  func bar(y: Int = x) { print(y) }</span><span id="d820" class="nn ly it mx b gy oh oe l of og">  bar(y: 42)<br/>  bar() // 21<br/>}</span><span id="9d38" class="nn ly it mx b gy oh oe l of og">foo(x: 21)</span></pre><ul class=""><li id="c379" class="my mz it kw b kx ky la lb ld oi lh oj ll ok lp nd ne nf ng bi translated">结构(可能的类和枚举)支持<code class="fe mu mv mw mx b">callAsFunction</code>特性。<br/>想法是像使用函数一样使用引用。很高兴知道<code class="fe mu mv mw mx b">callAsFunction</code>是不受限制的，其行为就像一个典型的函数。它支持闭包、<code class="fe mu mv mw mx b">mutating</code>关键字，可以<code class="fe mu mv mw mx b">throw</code>和<code class="fe mu mv mw mx b">rethrows</code>。并且可以声明不同的<code class="fe mu mv mw mx b">callAsFunction</code></li></ul><pre class="kj kk kl km gt nz mx oa ob aw oc bi"><span id="50df" class="nn ly it mx b gy od oe l of og">struct Escaper {<br/>  let strategy: EscapeStrategy<br/>  let archiver: Archiver</span><span id="175e" class="nn ly it mx b gy oh oe l of og">  func callAsFunction(_ value: String) -&gt; String {<br/>    archiver.exec(strategy.encode(value))<br/>  }<br/>}</span><span id="3598" class="nn ly it mx b gy oh oe l of og">let escape = Escaper(strategy: strategyA, archiver: gzipArchiver)<br/>escape('Occupy Mars 🚀')</span></pre><ul class=""><li id="64ea" class="my mz it kw b kx ky la lb ld oi lh oj ll ok lp nd ne nf ng bi translated">下标支持默认参数</li></ul><pre class="kj kk kl km gt nz mx oa ob aw oc bi"><span id="20db" class="nn ly it mx b gy od oe l of og">struct MatrixArea {<br/>  subscript(x: Int, y: Int = 0) -&gt; Int {<br/>    ...<br/>  }<br/>}</span><span id="d254" class="nn ly it mx b gy oh oe l of og">matrix[10] // 100<br/>matrix[2, 2] // 16</span></pre><ul class=""><li id="613b" class="my mz it kw b kx ky la lb ld oi lh oj ll ok lp nd ne nf ng bi translated">代码诊断的新策略——因此，更好的编译时错误解释。在此见示例<a class="ae ol" href="https://swift.org/blog/new-diagnostic-arch-overview/" rel="noopener ugc nofollow" target="_blank">。</a></li></ul></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="11ca" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">测试</h1><p id="f039" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated"><code class="fe mu mv mw mx b">XCTest</code>类支持向<code class="fe mu mv mw mx b">setUp()</code>、<code class="fe mu mv mw mx b">tearDown()</code>、<br/>、<code class="fe mu mv mw mx b">setUpWithError()</code>和<code class="fe mu mv mw mx b">tearDownWithError()</code>抛出函数。如果抛出错误，该方法将被标记为失败，但使用XCTSkip API —跳过。</p><p id="ece2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个有趣的特性是可以根据条件跳过测试代码流:</p><pre class="kj kk kl km gt nz mx oa ob aw oc bi"><span id="7caa" class="nn ly it mx b gy od oe l of og">func testLocation() throws {<br/>  try XCTSkipUnless(Permissions.locationGranted) // skip test<br/>  <br/>  ...<br/>  switch location.intersects(dimension: dimension) {<br/>    case .one: try XCTSkip() // skip test<br/>    case .two: try testJump() <br/>    case .three: try testLookingAfterCorner()</span><span id="9305" class="nn ly it mx b gy oh oe l of og">    @unknown default: fatalError()<br/>  }<br/>}</span></pre></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="6649" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">摘要</h1><p id="e64d" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">我喜欢Xcode及其相关工具的每一次更新，开发应用程序和项目变得更加容易和舒适。我希望今年会带来更多有趣的事情。</p><p id="7ae4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">更详细的信息在这里:</p><div class="om on gp gr oo op"><a href="https://developer.apple.com/documentation/xcode_release_notes/xcode_11_4_release_notes" rel="noopener  ugc nofollow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">Xcode 11.4发行说明</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">Xcode 11.4包括iOS 13.4、iPadOS 13.4、tvOS 13.4、watchOS 6.2和macOS Catalina 10.15.4的SDK。Xcode 11.4…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">developer.apple.com</p></div></div></div></a></div></div></div>    
</body>
</html>