# 重新表述 YAGNI 软件开发原则

> 原文：<https://betterprogramming.pub/rephrasing-the-yagni-software-development-principle-9f5ec1910737>

## 更好地理解为什么“你不需要它”

![](img/87959979f300d990104d703e58627878.png)

[基兰伍德](https://unsplash.com/@kieran_wood?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍照。

同时作为一个爱好者和一个创造者是一个巨大的冲突来源。许多未完成的项目被热衷于他们正在做的事情的人阻止了，他们对他们正在做的事情如此着迷和兴奋，以至于他们不断地测试，添加部分功能，设计一个大的方案，准备未来的开发，改变框架，库等等。最终，他们没有发布它，跳到了另一个副业。

为了避免这个大问题并提高效率，有几种策略。其中最时髦的是 YAGNI，代表“你不会需要它”(略有变化)。这个原则要求你删除你正在编码的所有东西，“这样当我需要它的时候，它就会在那里。”

但是我们确定这是我们想要追求的正确的焦点吗？

# 你不需要它

这一强制性原则带来了很多好处，但也为误解和错误应用留下了空间。

## 当你做对的时候

如果某件事是个坏主意，最好在它还是草稿的时候就发现。那么就不需要深究细节和打磨了。谁也看不到未来。那么你怎么能提前知道自己会需要什么东西呢？天真的答案是你不能。因此，与其好奇、假设、思考、进行概念验证等。，你应该把重点放在实际需要的东西上。

如果你添加一些东西是因为你需要兼容性，集成，或者向还不存在的东西发展，那么就不要添加。

有些事情可能会改变——尤其是由于外部原因。通过避免过早实施，可以节省时间和精力。的确，事情迟早要落实。有时没有办法预先知道他们会失败。关注一小部分连贯的和可测量的改进有助于你发布软件产品。推出一些完整的功能总比什么都没有好，因为您正忙于用一段您永远不会使用的远程专有代码来设计集成。

做好 YAGNI 的另一个好结果是避免过度工程化。“我们认为最好是抽象，添加两个接口，一个抽象类，并将静态方法拆分到三个 utils 类，以防我们明天添加另一个实现。”如果你从来没有添加呢？这就是你如何过度复杂化，分裂，并使你的代码冗长，难以维护。将这种实现推迟到以后需要的时候。

## 当你做错的时候

假设你肯定需要那个软件。例如，如果您已经计划推出一些其他功能。那你该怎么办？一些集成、改编或一些通用共享代码肯定是需要的。从这个角度来看，这样的代码是有必要的，所以当你看到 YAGNI 时，你会感到非常困惑。

在其他情况下，最重要的是代码质量。减少科技债务总是一个微妙的话题，但对 YAGNI 的误解可能会导致认为它是额外的好东西。不对。复制粘贴和缺乏抽象代码将导致代码库的复杂维护。它们寄生着像腐烂食物一样的虫子。

当一个高年级学生在想象你将要开发的另一个软件时，放下 YAGNI 可能会产生有趣的后果。在一个简单的场景中，你出丑了。更糟糕的是，你冒犯了那个人，这给你的工作蒙上了阴影。错误是双重的:你不应该如此直接，另一个人应该接受批评和投诉。

那么你能做什么呢？

# 改写 YAGNI

以我个人的经验，当采用 YAGNI 方法时，我总是发现一个很大的改进…但总是没有明确地引用它。你不需要一个时髦的词，只需要概念。

“我们为什么需要这个？如果我们不需要它，我们现在就不要编码它。”

这个简单的句子尽可能的简单，并且很有意义。这要微妙得多(没有“我对你”的紧张)。它也更接近 XP 联合创始人罗恩*杰弗里斯*的[最初想法](https://ronjeffries.com/xprog/articles/practices/pracnotneed/)。它传达了一个非常接近 YAGNI 的信息:我们的团队必须在必要的时候做必要的事情，并且只专注于此。但就 YAGNI 而言，它有一种更容易让人接受的形状和外观。虽然 YAGNI 是命令式的，没有提供上下文，但这句话提供了一个更详细、更感性的视角。这是一个效率问题:你决定需要什么。专注就好。否则，推迟。

这仍然可以防止像 YAGNI 那样，在你不知道自己真正想要什么的时候过早实施。它允许你专注于此时此地。它还有助于你思考这样一个事实，有时你可能在不知道你到底需要什么的情况下设计和实现一个特性。设计一些你必须完全想象的东西是很愚蠢的，因为你不知道你需要什么。

# 外卖

在软件开发中，至少有一种东西比被窃听的坏软件更糟糕:不完整的软件。在 Git 的托管服务领域，有很多项目从未见过一个用户，也永远不会见到。其中，一些没有被发布，因为他们从来没有达到一个连贯和足够的功能集是可用的。

YAGNI 是对设计软件时最常用也是最危险的介绍之一的回答:“……当然，我们将需要……”标志着一条不归路。

运用常识和权衡。有些东西可能需要，有些可能不需要。如果你想变得有效，减少无用代码的数量，那就依赖于你的需求。如果某些东西是实现最终意图所必需的，那么你应该编码它。否则，就暂时忽略它，在你真正需要它的时候再去处理它。

最后，如果想法的所有权不是你的，要比大声喊“YAGNI”更微妙。