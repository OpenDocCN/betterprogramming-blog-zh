<html>
<head>
<title>Live vs Studio Performances: Exploring Opeth’s Discography Using YouTube Comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现场与工作室表演:使用YouTube评论探索Opeth的唱片目录</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploration-sentiment-analysis-and-classification-of-opeths-discography-de61961bfcbf?source=collection_archive---------3-----------------------#2022-10-12">https://betterprogramming.pub/exploration-sentiment-analysis-and-classification-of-opeths-discography-de61961bfcbf?source=collection_archive---------3-----------------------#2022-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0617" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">人们更喜欢现场录音还是录音室录音？执行探索、情感分析和分类</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f2e4d0a83f192a490c6d854e0e8d26ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T6-4fZoXmlkI0jzsbjixkw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯·阿蒙和T2【雨果·卡萨诺瓦在<a class="ae ky" href="https://unsplash.com/s/photos/metal-music?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的照片</p></figure><p id="e9b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最喜欢的三件事是编程、机器学习和音乐。所以，这是我前几天想到的另一个使用这些东西的项目。我想回答的问题很简单:</p><p id="d448" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">"人们更喜欢艺术家的现场录音还是录音室录音？"</p><p id="b6cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以很自然地，我转向机器学习来尝试回答这个问题。在本文中，我将使用NLP和数据科学技术来尝试确定人们是否喜欢我最喜欢的乐队之一:Opeth的所有歌曲的现场录音或录音室录音。</p><p id="778b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除此之外，我将提供可视化来显示各种指标，以显示在Opeth 27年的跟踪记录过程中情绪是如何变化的。就他们的发展而言，Opeth是一支非常整洁的乐队，因为他们的声音自1995年发行的第一张专辑“兰花”和2019年发行的最新专辑“在Cauda Venenum”以来发生了变化。他们在过去几张专辑中声音的变化在歌迷中引发了争论。</p><p id="93b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个项目的另一个目标是通过YouTube数据生成一个可以区分现场表演和演播室表演的分类器。我想建立一个小应用程序，你可以提供一个YouTube视频的URL，然后算法会告诉用户视频是对应于演播室还是现场表演。我用Streamlit做了一个应用程序，你可以在这里用<a class="ae ky" href="https://victormurcia-liv-live-vs-studio-classifier-streamlit-app-6we98r.streamlitapp.com/" rel="noopener ugc nofollow" target="_blank">玩</a>。</p><p id="9227" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一个朋友给你发来一首他们想让你听的歌曲的YouTube链接，但你真的不喜欢歌曲的现场版本，那么拥有这种能力会很有帮助。除此之外，由于一些奇怪的原因，链接的URL预览不起作用，你真的不想冒险点击一个链接，然后让自己经历现场表演会给你带来的失望。</p><p id="4623" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">听着，我要完全坦白。我做这个项目是因为我觉得这样做很酷。如果你能想到一个更好的、更有商业价值的应用，请务必告诉我！</p><p id="37f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生成这个分类器的第一次尝试将在这里显示，我用一个评论数据库训练了一组18个不同的分类器(高斯NB、多项式NB、伯努利NB、逻辑回归、SGD、感知器、Ridge、SVC、线性SVC、NuSVC、决策树、MLP、KNeighbors、AdaBoost、Bagging、GradientBoosting和Random Forest ),我使用一些自定义编程例程以及它们的API从YouTube提取评论数据库。如果你只是想要结果，这个分类器的准确率目前是82.2%。</p><p id="81ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个正在进行的项目，但我想我会分享它，以防你们中的一些人愿意与我合作，并就你认为哪些方面值得探索展开对话。很快，我可能会将这篇文章分成与项目的每个部分相对应的多篇文章，以便更容易理解。</p><p id="0a88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还将使用我在本文中使用的一些方法来探索更多的乐队/艺术家，并继续扩大我的数据集。<em class="lv">让我知道你想让我探索哪个艺术家/乐队！</em></p><p id="837e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，对于那些喜欢在一个地方拥有你需要的所有资源的人(像我一样)，我将把它作为一篇长篇文章发布。这个项目中使用的所有代码和资源都可以在GitHub资源库中找到，这个资源库位于<a class="ae ky" href="https://github.com/victormurcia/Live-vs-Studio-Classifier-From-YouTube-Comments" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="d3e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章有点长，所以这里有一个可点击的目录，可以帮助你找到你最感兴趣的部分:</p><ul class=""><li id="ca9c" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><a class="ae ky" href="#6ac8" rel="noopener ugc nofollow">第1部分:获取数据</a></li><li id="bec4" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="#d0a9" rel="noopener ugc nofollow">第2部分:预处理YouTube评论</a></li><li id="517b" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="#d669" rel="noopener ugc nofollow">第3部分:YouTube评论的探索性数据分析</a></li><li id="829c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="#de55" rel="noopener ugc nofollow">第四部分:YouTube评论的情感分析</a></li><li id="7e8a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="#2842" rel="noopener ugc nofollow">第五部分:训练分类器</a></li><li id="ee63" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="#5cc8" rel="noopener ugc nofollow">第6部分:部署模型</a></li><li id="4626" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="#fbd7" rel="noopener ugc nofollow">第7部分:结论</a></li></ul><p id="9705" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">说完了，我们开始吧！</p><h1 id="6ac8" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">步骤1:获取数据</h1><p id="b520" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">任何数据科学项目的第一步(在你建立了你试图回答的问题之后)是弄清楚你需要什么数据以及你将如何获得这些数据。在这种情况下，我决定使用YouTube评论这个信息宝库。在这些评论中，人们很容易表达他们对视频中呈现的东西的欣赏、冷漠、厌恶以及介于两者之间的一切。</p><p id="d06a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于Opeth的每一首歌，我都是手动找到评论最多的YouTube视频对应一个录音棚录音和一个现场录音。我最终得到了191个不同网址的列表，因为Opeth在YouTube上的一些最新专辑已经关闭了评论，这使得它们对我想要进行的分析有些无用。</p><p id="c155" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(To Opeth:如果出于某种原因你偶然发现了这篇文章，请允许人们对你的视频进行评论，以便我的研究更容易些:)。这仍然代表了90%以上的Opeth的椎间盘。</p><p id="7d3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">收集这个URL列表总共花了大约两个小时。制作一个从Opeth的YouTube频道下载所有与录音室/现场录音相对应的歌曲的例程会相对容易，但他们的一些视频已经关闭了评论。所以，我不得不求助于人工提取。</p><p id="4f82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">YouTube API允许进行搜索查询，但是每个查询包含100个请求，每天最多10，000个请求。我做了手动提取网址，试图避免这一限制。<strong class="lb iu"> <em class="lv"> </em> </strong> <em class="lv">如果你有解决这个问题的建议，我很想听听，因为我想建立一个由不同流派的艺术家组成的大得多的数据库！</em></p><p id="566e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将这些URL与视频名称、歌曲名称、专辑、发行年份、曲目编号以及URL对应的是现场演出还是录音室演出放在一个电子表格中。我将电子表格保存为. csv文件，然后将它加载到熊猫数据框架中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/ca14d2ff0e7d4cf0725ed1146bb8f2ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*illpAmOowCX8bGN0-rtFew.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">包含YouTube视频的Excel电子表格的前40个条目的屏幕截图，将为这些视频下载评论和元数据。该电子表格将用于制作熊猫数据帧，该数据帧随后将与接下来提取的评论和视频元数据合并。图片作者。</p></figure><p id="1b3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我已经加载了数据帧，我将开始构建获取评论和其他视频信息的例程。我首先使用我的<code class="fe ni nj nk nl b">api_key</code>初始化YouTube API:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="9c06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我需要从URL获取视频ID，我可以通过以下函数轻松完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="513d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我将提取以下内容:</p><ul class=""><li id="bd7a" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">评论</li><li id="c2e4" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">评论作者</li><li id="3255" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">评论ID</li><li id="ef30" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">评论中的喜欢</li><li id="3cc2" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">视图数量</li><li id="12ca" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">喜欢</li><li id="d8d7" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">视频的收藏和评论</li></ul><p id="c665" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有这些将在查询时使用下面的函数收集:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="417e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我将使用下面的函数将查询结果保存到一个. csv文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="0460" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我可以把这三个例程放到一个包装函数中。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="e01b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我可以使用我的熊猫数据帧中的URL循环运行这个函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="4441" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行上面的例程将生成一个. csv文件，其中包含我收集的每个URL的信息。提取注释并生成。所有191个视频的csv文件需要大约两分钟，因此该例程以每个视频大约一秒的速度处理一个视频。当然，这里有差异，因为评论越多的视频处理时间越长，但总的来说…还不错！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/d078c17caf1a9532fa673503a9018569.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p2HWH1pnGe3KgOzqMxP6dg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。从例程生成的csv文件。作者图片</p></figure><p id="7c50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我可以把这些都拿走。csv文件，并将它们与我之前创建的初始数据帧合并成一个数据帧。数据帧产生这样的结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/b21ba6a812cee819f0c8f3fe82750570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1_ATTVJp-6IuxHztVvDJAg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">包含所有从Opeth YouTube视频下载的评论的Dataframe。作者图片</p></figure><p id="8a14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个数据帧包含了所有处理过的URL的结果，总共有35，572条评论可供我用于这个项目，这是一个相当不错的开始！我可以尝试使用我的相同程序通过额外的YouTube视频以及通过其他流媒体/讨论网站(如Reddit或Twitter)收集更多数据，但我会将这些纳入未来的项目中。</p><p id="907f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始看看我在做什么吧！</p><h1 id="d0a9" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">步骤2:为分析准备数据(预处理)</h1><p id="ee2f" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">现在我已经下载了数据集，可以开始为NLP做准备了。在进行任何文本分析项目时，我通常遵循的一般步骤顺序是标记化、标注、词条化和去噪。</p><h2 id="f774" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">处理多种语言和非字母数字的东西</h2><p id="fc9d" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">YouTube上的评论是世界各地的人用多种语言发表的。因此，我想尽我所能来处理这些语言。首先，我首先想确定评论是用哪种语言写的。</p><p id="013f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可以通过'<a class="ae ky" href="https://pypi.org/project/langdetect/" rel="noopener ugc nofollow" target="_blank"> langdetect </a>'和'<a class="ae ky" href="https://pypi.org/project/iso-639/" rel="noopener ugc nofollow" target="_blank"> iso639 </a>'包的组合轻松完成。<code class="fe ni nj nk nl b">langdetect</code>包可以通过生成语言概率列表并选择具有最高值的语言来快速确定字符串中存在的语言。只要你有一根足够长的绳子，它就能很好地工作。否则，结果可能是错误的。</p><p id="ff9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我尝试在我的项目中使用Google translate API，但是我遇到了各种各样的问题和bug，据我所知这些问题和bug还没有得到解决。不管怎样，我继续写了下面的函数，返回语言ISO-639代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="8b6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我还编写了以下函数，使用以下函数将ISO-639代码转换为完整语言:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="8f2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我可以将这些函数与pandas的<code class="fe ni nj nk nl b">.apply</code>方法结合使用，为我的数据帧中的每个注释生成一个iso639列和一个language列:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="3a9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了试图确定评论是用哪种语言写的之外，我认为用同一种语言写所有的评论有助于简化事情。因此，我开始尝试这样做。我尝试了一些不同的包，比如<code class="fe ni nj nk nl b">TextBlob</code>和<code class="fe ni nj nk nl b">googletrans</code>。然而，它们一直存在一些问题，使我无法充分利用它们。</p><p id="3d5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我确实找到了<a class="ae ky" href="https://pypi.org/project/deep-translator/" rel="noopener ugc nofollow" target="_blank">深度翻译</a>包，它能让我翻译评论，还能自动检测语言。完成注释翻译的例程如下所示(注意:处理我的数据集中所有35，572条注释花费了大约15分钟):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="2202" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想提一下，深度翻译API也允许语言检测，效果相当好。然而，他们将免费用户限制在每天1000个请求，不幸的是，这对我的项目来说太低了。不管怎样，现在我有了一个不错的翻译评论专栏，可以进一步处理！</p><h2 id="5065" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">将数据符号化</h2><p id="3487" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">标记化是将文本分解成更小的单元(称为标记)的过程，这些单元可以更容易地赋予它们意义。您想要考虑的令牌有多小取决于您以及您的特定数据和应用程序。</p><p id="3192" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个项目的第一次迭代，我决定使用单词标记化。似乎有理由期待某些关键词在与现场录音相对应的视频评论中更为普遍。</p><p id="a9a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个项目的未来迭代可能会实现n元语法或句子标记化的使用。</p><p id="13de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了标记注释，我做了以下工作:</p><ol class=""><li id="517c" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu oc mc md me bi translated">确保注释列被视为字符串</li><li id="7f0d" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu oc mc md me bi translated">将缩写拆分成单独的单词(例如，不能拆分成不能),因为分词器会将不能这样的单词拆分成can和t。</li></ol><p id="71ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对涉足或从事任何种类的NLP工作感兴趣，我推荐你去看看<code class="fe ni nj nk nl b"><a class="ae ky" href="https://pypi.org/project/contractions/" rel="noopener ugc nofollow" target="_blank">contractions</a></code> <a class="ae ky" href="https://pypi.org/project/contractions/" rel="noopener ugc nofollow" target="_blank">库</a>。它非常有用，可以节省你很多时间！有了这些之后，我开始使用NLTK包中的<code class="fe ni nj nk nl b">word_tokenize</code>标记注释。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/9b2fb08cc6c878955e47199fc9ec9052.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_51cKYsSwPFfIjfXtkQv6A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">YouTube评论的符号化过程示例。作者图片</p></figure><p id="f65f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成此任务的代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="88e7" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">标记标记化的注释</h2><p id="45ff" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">既然我已经标记了注释，我可以开始标记它们了。标记过程实质上是将标记中的每个元素与词性(即动词、名词、形容词等)配对。)这样我们就可以开始给课文中的每个单词指定含义。换句话说，标记过程允许对语料库中的单词进行分类。</p><p id="f328" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过NLTK中的<code class="fe ni nj nk nl b">pos_tag</code> <strong class="lb iu"> <em class="lv"> </em> </strong>函数，标记单词非常容易。标记的结果如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/15ce737c2f71e06c77d8a04e255c85d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dMNFU9U_HzrlBF2AyI2UGw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">标记化YouTube评论的标记流程示例。作者图片</p></figure><p id="6338" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过下面的代码可以很容易地完成标记:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="da85" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">符号化评论的词汇化</h2><p id="f03f" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">整洁！我们正在取得进展。现在，我将开始通过词汇化来规范化文本。词汇化是单词被追溯到其规范形式的过程。例如，单词“ran”和“running”来源于单词“run”在这个例子中，<code class="fe ni nj nk nl b">run</code>被称为词位，因此词位化过程会将<code class="fe ni nj nk nl b">ran</code>和<code class="fe ni nj nk nl b">running</code>的任何实例转换为<code class="fe ni nj nk nl b">run</code>。</p><p id="f0d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该过程的结果如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/8e5b434024dc3711cbdba4ab0f65017a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8jBx9P2sdjKNMLyUmyAUog.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">标记化YouTube评论的词汇化过程示例。作者图片</p></figure><p id="51d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成词汇化的代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="1f49" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">去除词条注释中的噪声</h2><p id="2422" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">最后一个预处理步骤是对文本数据进行去噪。通过去噪，我的意思是从我们的数据中删除没有意义的单词和/或元素。一些可能被认为是干扰的文本元素是标点符号和停用词(即，像“the”或“of”这样的词)。什么被认为是停用词或干扰取决于您正在处理的数据和您试图提取的信息。</p><p id="5288" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于YouTube上的评论有多种语言，我决定使用NLTK内置的停用词来使用一组多语言停用词。NLTK有30种语言的停用词。使用下面的简单代码可以很容易地生成这个多语种停用词列表:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="22b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我确实翻译了我的评论，所以它们应该已经是英文了。因此，我应该真的只需要对应于英语的停用词。不过，我稍后会为未翻译的评论运行多语言停用词例程，只是为了好玩。</p><p id="4dec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的多语言停用词表包含10，436个单词。纯英语的停用词表由179个单词组成。除了从我的数据中删除这些停用词，我还从评论中删除了数字、各种标点符号和非字母数字字符。</p><p id="d033" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">去噪过程的结果如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/d47d92bddf26a1bc6554be7b08d89541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YAKcjh3y6_Eb5WPZr8bHog.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">YouTube评论的去噪过程示例。作者图片</p></figure><p id="ea1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成去噪的代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="d0a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多语言例程完全相同，只是您要用我之前提供的代码定义<code class="fe ni nj nk nl b">stop_words</code>条目。</p><p id="eaec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太棒了。现在我们准备开始探索我们的数据！</p><h1 id="d669" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">步骤3:探索数据(EDA)</h1><p id="f4af" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">好吧，让我们来看看评论是怎么说的！在这一节中，我将提供一些可视化的展示，比如数据集中评论中出现最频繁的词，以及各种视频指标的显示。这些指标包括不同级别(如专辑、歌曲)的浏览量、点赞数、评论数和每个评论的字数。</p><h2 id="5b12" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">字频率</h2><p id="4647" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我先从一个简单的词频图开始，分别是录音棚和现场录音的前100个词。我还应该注意到，我发现去噪评论的频率分析确定在我的数据集的评论中存在21，932个不同的单词。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/12c67f72af7d79867549ee4d20677823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ONdHxBmKEdup9C919lAnA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube现场和录音室录制视频中的前100个单词。作者图片</p></figure><p id="42e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">酷！因此，有几件事可以立即引起注意，那就是在录音室和现场录音中，<code class="fe ni nj nk nl b">opeth</code>和<code class="fe ni nj nk nl b">song</code>分别是出现频率最高和第二高的词。这表明这些词可能对我使用评论来区分现场版和录音室版的目标没有用。</p><p id="5f24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如果分类器表现不好，我会考虑将它们从去噪的评论中移除。我还注意到“live”这个词是现场录音中出现频率第四高的词。</p><p id="6afc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“Live”出现在录音室录音的前100个单词中，但它位于第39位。单词<code class="fe ni nj nk nl b">album</code>是录音室录音中出现频率第三高的单词。它也出现在现场录音中，但它发生在第13位。<code class="fe ni nj nk nl b">performance</code>这个词在现场录音中出现在第16位，但在录音室录音中根本没有出现在前100个词中。因此，我认为这个词是我模型中的一个关键区别/属性。</p><p id="de6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你感兴趣的话，我会列出下面100个最热门单词的放大版本:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/6e1fc706a008da4ec965e657108e327d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kUG3ccZaXJ2HX4GHMRzTsg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube现场和录音室录制视频中的前25个单词。作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/3b4231e4599d21e082f3a50f95ed76b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SaVaeBephY-BXuLNeWCp7A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube现场和录音室录制视频中的前25-50个单词。作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/bce981a37c0fddecbbd98c2964a7d004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FbA2SErBtvO43CtwCfq17g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube现场和录音室录制视频中的前50-75个单词。作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/a8d06618fdca0ca3a75aba8655c5bce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gwqh1i5IhfL0h1QDkVSciA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube现场和录音室录制视频中的前75-100个单词。作者图片</p></figure><h2 id="c401" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">基于专辑和发行年份的视频指标</h2><p id="d53c" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">接下来，我想了解每张专辑和每首歌曲在专辑发行年份的表现。我将使用三个不同的指标来衡量我从YouTube API中提取的视频性能，还有一个是我自己制作的。这些指标是视频中的浏览量、点赞数、评论数和每条评论的字数。为了获得每个评论的字数，我使用了下面一行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="2d1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将首先显示从每个相册中获得的每个指标的合计值。</p><p id="c8c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想提醒你的是，这个项目的视频是根据评论的数量来选择的，而不是根据它们的浏览量。Opeth的官方YouTube帐户有一些关闭了评论的视频，我的主要兴趣是试图根据YouTube评论来确定视频是否对应于现场或演播室表演。</p><p id="5fdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个潜在的解决方案是将这些视频的浏览量和点赞数添加到总计数中。你怎么想呢?</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/955e9ed9fb69a333a8f826cfb5de5c76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*07DOOhBD6at1ApIoecxzTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth所有专辑的总浏览量、点赞数、评论数和每条评论的字数。相册按最新到最旧的顺序显示。专辑发行年份绘制在右边的y轴上。图片作者。</p></figure><p id="b329" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">酷！从这四张图中可以看出很多东西。从这张图表中，我们可以看到专辑“女巫”(2016)和“幽灵幻想”(2005)中的视频是浏览量和点赞数最多的两个专辑。</p><p id="47e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想指出的是，我们还可以看到“遗产”专辑中的视频比其他任何专辑都有更多的总评论。除此之外，“遗产”也是评论中出现次数最多的词。这很有意思，因为《遗产》是Opeth的声音开始向一个全新的方向转变的专辑。</p><p id="6b02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在《遗产》之前，欧佩斯的大多数专辑都以“沉重”为特征。《遗产》标志着欧佩斯的音乐可以开始被归类为更“进步摇滚”而不是“进步金属”</p><p id="1a8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他们声音的这种巨大转变在歌迷中引发了强烈的两极分化。一个有趣的问题是:<em class="lv">“遗产前/后视频评论中表达的观点是否有重大转变？”</em></p><p id="db92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，人们在遗产发布后的评论中似乎表达了更多/更少的积极/消极情绪<strong class="lb iu"> <em class="lv"> </em> </strong>？</p><p id="cc64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是Opeth的粉丝，也许可以通过回答下面的投票来帮助我的研究:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om nn l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最喜欢的Opeth专辑。作者进行的投票。</p></figure><p id="4aa7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，下面的图表显示了根据我之前讨论的指标排名的前30首歌曲:</p><ul class=""><li id="b82c" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">根据总浏览量，《女巫》，《向你告别》和《毁灭之鬼》是排名前三的歌曲。</li><li id="1348" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">根据总喜欢度，《毁灭之鬼》、《女巫》和《向你告别》依次是最受欢迎的三首歌曲。</li><li id="c646" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">根据评论总数，“女巫”，“毁灭之鬼”和“恶魔果园”是排名前三的歌曲。</li></ul><p id="ea24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说,《女巫》和《毁灭之鬼》似乎是最受欢迎的欧佩斯歌曲。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/b13f5400e97e3c7dbdf097fb1ed4f809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YQt8yyT7xvg3FodoJILpXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">基于总浏览量、总点赞数、总评论数和评论中词数的前30首最佳运营歌曲。图片作者。</p></figure><p id="896f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个评论的平均字数看起来确实有点奇怪。</p><p id="9055" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“Continuum”无论如何都不是一首糟糕的歌，但我对每条评论近200字的评论长度中值表示怀疑。这是怎么回事？我查看了我的数据集并过滤了数据帧，这样只有包含歌曲名“Continuum”的结果才会被包括在内。</p><p id="3b80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我发现那个视频只有一条评论！此外，评论的内容只是这首歌的歌词。我需要一种更好的方法来表示这一指标，所以我查看了视频中评论数量的分布，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/55c68ea681e49ff393be69f57a836448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*Cd0AXvpGmFMRGWailrQNXQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube视频中评论数量的概率分布。白色痕迹是KDE。图片作者。</p></figure><p id="7e0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从这个图中，我可以看到评论数的第一个“集群”(对应于其中评论量最低的视频)发生在100个评论处。因此，我重新处理了“评论字数”指标的中位数，这样只有包含至少100条评论的视频中的评论才会被包括在内。其结果如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/d88aa07e50ac40040278e1880eb5f359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L9bQTWePR7OvFVG8I6XlHQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">基于总浏览量、总点赞数、总评论数和评论中词数的前30首最佳运营歌曲。删除评论少于100条的视频后确定的评论中的单词。图片作者。</p></figure><p id="826a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哦，这太有趣了！每条评论中词数最高的五首歌曲来自最近的三张Opeth专辑。正如我前面提到的，“遗产”是这张专辑标志着Opeth的声音的一个重大转变，它在歌迷中引发了热烈的讨论和分歧。</p><p id="e525" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我个人非常喜欢《遗产》。我想知道评论中字数的增加是否与积极/消极情绪有关？我很快就会知道了！</p><p id="e172" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在继续下一件事之前，我将提供一些我注意到的关于这个数据集的有趣事实:</p><ul class=""><li id="6f74" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">评论以46种不同的语言发表。英语是最常见的语言，其次是西班牙语和德语。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/59b49507ebf3beadf519f4cab02df39c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OA_l-Wc65lJ0kwIpK-7m2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube视频中评论与语言的对数。图片作者。</p></figure><ul class=""><li id="52c5" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">最长的评论有1328个单词。大多数评论只有九个字。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/90aa6139d39592bc313dfeb356e1d7e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7sAjL9TG6qHrmC6PPdN3vA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube视频中每个评论的字数分布。图片作者。</p></figure><ul class=""><li id="9af2" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">最多产的评论者在所有视频中发表了81条独特的评论</li><li id="1eaa" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">观看次数最少的视频是歌曲“Continuum ”,有355次观看</li><li id="c2bc" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">点赞数最低的视频是《连续体》和《人间乐事花园》，各有六个点赞。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/77f19f5838034f01a7232f25b26864c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QuawTqtsUy1yEQJb8j-55g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Opeth YouTube视频中的评论数、浏览量和每条评论的字数散点图。图片作者。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/926f87ef35f1ebfcca28f5b90e51c1fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*14PYd7Ak-RF3AALwP2ZzGA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Opeth YouTube视频中，浏览量和点赞数是评论数的函数。图片作者。</p></figure><ul class=""><li id="44f4" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">“悲伤”这个词在这些评论中出现了100次(这是粉丝群中的一个迷因/笑话)。这是所有评论中第367个出现频率最高的词。我很惊讶它没有更经常出现！</li></ul><h2 id="d90d" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">现场评论与工作室评论的分布</h2><p id="f17b" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我想检查的下一件事是我的数据集有多少评论对应于现场录音或录音室录音。下图显示我的数据集高度不平衡！78%的评论是在录音室录制的，而22%是在现场录制的。</p><p id="4bea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，我将处理一个不平衡的分类问题，这在现实世界的数据中很常见。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/b40f8d47234f235c9a947c8a9f6b309e.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*t7H6s-snZeT2TF5boj2HPA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">该饼图显示了对现场录制和录音室录制的Opeth歌曲的YouTube视频的评论分布情况。图片作者。</p></figure><p id="453b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我有很多种方法来处理不平衡的数据。这些方法包括:</p><ul class=""><li id="af7c" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">过采样实时评论</li><li id="8476" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">欠采样工作室评论</li><li id="73bf" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">添加类别权重</li><li id="3588" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">使用交叉验证</li><li id="61bd" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">使用集合模型</li></ul><p id="c3d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我开始训练/构建分类器，我将尝试其中的一些方法。</p><h1 id="de55" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">步骤4:对评论进行情感分析</h1><p id="6f40" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我现在对自己的数据有了相当充分的了解。现在我准备对评论进行情感分析了！</p><h2 id="738b" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">VADER</h2><p id="ab18" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">首先，我将运用VADER词典来判断一个评论是积极的、消极的还是中性的。这可以通过下面的代码来完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="1cf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此过程的结果如下所示，其中显示了数据集中所有评论的正面、负面和中性分数的分布。从这些图表中，我们可以看到，VADER分析确定，大多数评论在情感方面是中性的。</p><ul class=""><li id="0915" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">大部分评论都是0分或1分的正数。其余意见大致呈正态分布。</li><li id="95b1" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">大部分评论都是0分或1分的负分。其余意见大致呈右偏分布。</li><li id="a565" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">大部分评论的中性分是0或1。其余意见大致呈正态分布。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/206ecb4a86aed1d8e5547c060a78c421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FwydnBFJeiuijIqIYwNbmw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自VADER对Opeth YouTube评论的情感分析的正面、负面和中性分数。图片作者。</p></figure><p id="abe0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">复合VADER得分如下所示。复合分数表示通过将正分数、负分数和中性分数相加而获得的分数。正值表示评论在情感上是积极的，而负值表示评论在情感上是消极的。很容易看出，大多数评论的复合得分为0。剩下的评论形成了两个很好的集群，集中在-0.5和+0.6左右。这表明在评论中传达的情绪之间有一个相当平均的分裂。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/38ac37268818d3c502201e23f1b7d0b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yN0HQzMtu8DaaskfdUFZIQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">复合VADER评分对Opeth YouTube的评论。图片作者。</p></figure><p id="7c79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这一点上，我认为这将是有用的/适当的标准化VADER评分的基础上的意见，因为工作室表演似乎获得更多的意见比现场表演。我还会根据喜欢、评论和每个评论的字数来标准化这些分数。</p><p id="9445" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我之前提到的，绝大多数评论(超过90%)的综合得分大约为0。因此，我将x轴刻度设置为0.00001及以上，因为包含它们会使剩余的结果更难看到。通过观看次数、喜欢和评论数量标准化的VADER复合得分表明，现场表演总体上比录音棚录音有更多正面得分的评论。这可能表明了Opeth一贯的高质量现场表演。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/fd5e440c06ded36277b16992a44f0165.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OltW70GlwMpUfOnCjupR1Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">通过原始视频观看计数标准化的VADER分数。x轴已设置为从0.00001开始，表示正面、负面和中性得分，以帮助强调较小的特征。y轴读数设置在0–1.2%之间，有助于突出特征。图片作者。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/ec4d337798cb17b42bb9bd4213d2a9b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MbGhKpb4UGhfpivSpgQf7A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">VADER得分通过视频中的评论数标准化。x轴已设置为从0.00001开始，表示正面、负面和中性得分，以帮助强调较小的特征。y轴读数设置在0–3%之间，有助于突出特征。图片作者。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/c032f30572f3f4b96866223c9234bdc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v4v5OE2IUBFMbQJMOcup-w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">VADER分数根据视频中的点赞数进行标准化。x轴已设置为从0.00001开始，表示正面、负面和中性得分，以帮助强调较小的特征。y轴读数设置在0–3%之间，有助于突出特征。图片作者。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/2155ad1af0ba3b63d31ecb35ddc4d0e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sHpdtIlKthNbBJbBVel1Zw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">VADER分数由视频中的原始点赞数归一化。x轴已设置为从0.00001开始，表示正面、负面和中性得分，以帮助强调较小的特征。y轴读数设置在0–10%之间，有助于突出特征。图片作者。</p></figure><p id="13c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我检查了是否有任何有趣的相关性，但我没有发现任何值得注意的东西，比如情绪与评论长度、观点或喜欢有关。从下面显示的相关矩阵来看，需要注意的唯一两件事是:</p><ul class=""><li id="f940" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">浏览量和点赞数彼此正相关</li><li id="bc72" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">评论数量也与视频的浏览量和点赞数呈正相关</li></ul><p id="49c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些都是人们容易预料到的事情。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/051444a39fdecbb9c401e56ccb85e639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*033LRjR1CjzOilU9J-w54w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">VADER分数和视频指标的相关矩阵。颜色越亮表示正相关性越高。颜色越深表示负相关性越高。图片作者。</p></figure><p id="818a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看《遗产》上映前后的情绪有没有什么有趣的趋势。下图显示了《遗产》发布前后，与歌曲相对应的Opeth视频的正负复合得分分布有几件事需要注意:</p><ul class=""><li id="c550" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">遗产后视频的评论是遗产前视频的2倍。</li><li id="973b" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">在两种情况下(遗产前和遗产后),正面评价多于负面评价</li><li id="de0a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">负面评论通常得分约为-0.6，而正面评论得分约为+0.6</li><li id="e4b9" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">现场表演相对于演播室表演的评论比例大大降低了后遗产</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/3a3c81376074b220b371a3b1c7e05062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dzRdg_8A87rscb1kaR-r_g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">YouTube评论“遗产”前后发布的Opeth视频的VADER分析综合得分。图片作者。</p></figure><p id="9a63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过下面的小提琴图来看看VADER复合得分作为专辑/发行年份的函数。该图显示，所有专辑的平均复合得分约为0.0。除此之外，我们可以从图的宽度中看到，评论具有中性情绪得分或正面情绪得分的可能性更高。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/2ca7e9b7d8ea4875a96adf6e6204591f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oQzT7hYzTaO_kJqV6kXO2Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Violinplot展示了基于YouTube评论的Opeth视频的VADER复合乐谱的传播和分布，作为专辑发行年份的函数。图片作者。</p></figure><p id="7f15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在下面的小提琴图中仔细看看复合乐谱的组成部分。通过视觉检查，基于相应的正分数和负分数的图的宽度，看起来遗产包含许多积极的感觉和许多消极的感觉。这可能表明了这张专辑在歌迷基础上的两极分化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/0dbbc19c09d032d2e334a1d4a2d62872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_DS4Xm2otk0HLAruNKvhQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Violinplot展示了基于YouTube评论的Opeth视频的VADER正面和负面得分的传播和分布，作为专辑发行年份的函数。图片作者。</p></figure><p id="14b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一种可视化这种趋势的方式是通过下面的散点图，可以看到，情绪得分不会随着时间的推移而发生很大变化。然而，我们可以看到，VADER的平均正面分数(蓝点)总是比VADER的平均负面分数(橙色)高(大约2倍)。换句话说，这表明人们倾向于对Opeth的音乐持积极态度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/edd7295c891ecdf701e996a0927c2742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1yv2c6FjPDh5ybIwCq42bw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作为时间函数的平均VADER分数散点图。蓝色圆圈代表正分数，橙色代表负分数，紫色代表复合分数。图片作者。</p></figure><p id="4121" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，关于这个我还可以做更多的分析，但是我会继续深入下去，永远不会结束。因此，目前，我将继续进行下一部分的分析。</p><h2 id="7993" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">表演的类型会影响人们对它的感受吗？</h2><p id="97b6" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我原本想回答的问题是:</p><p id="e51c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">"对于一首歌，人们更喜欢现场表演还是录音室表演？"</p><p id="9ca8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我可以通过VADER分析计算出的情感分数来评估偏好。我也有每个评论归类为现场或工作室。是时候建立一些列联表，做一些假设检验了！这个实验的零假设(H0)是:</p><p id="c01a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">H0:人们不喜欢/不喜欢现场演出，就像不喜欢/不喜欢录音室演出一样</p><p id="025e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个实验的列联表可以通过pandas中的crosstab函数使用下面的代码来制作:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="e023" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，“情绪”将是我计算的情绪得分之一。这就产生了一个频率表，我可以用它来进行卡方检验，最终得到我决定检验的每个变量的p值。结果总结在下表中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/8723cdcfb2bf734c23b07999b9a1a810.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*QtB1st38N-jlNTyOw942nA.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">VADER分数的假设检验。图片作者。</p></figure><p id="69e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">p值按升序排序。p值允许我们确定是否可以拒绝零假设。我会考虑这样的结果，拥有一个p值&lt; 0.001 as being statistically significant. The first thing that we can see is that the neutral and compound scores determined through normalization via views, comments, and likes have p-values of 0.</p><p id="d4a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">However, as a reminder, the VADER neutral scores mean that there is no positive or negative sentiment associated with a given piece of text. In a similar vein, the compound scores were shown to have scores mostly of 0 (i.e., indifference). In other words, neutral and compound scores in this situation could be thought of as representations of the null hypothesis.</p><p id="7109" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">The sheer magnitude of comments with neutral scores and compound scores of 0 would suggest that people don’t seem to have a preference towards Opeth’s live vs studio performances. To rephrase, the null hypothesis is confirmed (for Opeth’s studio/live performances at least).</p><p id="38c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Let’s check the other sentiments. The positive and negative sentiment scores normalized by views, likes, and number of comments all have p-values below the 0.001 threshold. It may be tempting to claim that the normalized positive scores have a smaller p-value than the normalized negative scores and thus conclude that people have a preference for one type of performance over the other.</p><p id="ed30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">However, both normalized sentiment scores are way smaller than the threshold value and could be considered to be identical for all intents and purposes. Therefore, the VADER sentiment analysis paired with the Chi-Squared analysis would lead me to conclude that people have no preference for live or studio performances.</p><h2 id="cacf" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">NRC lexicon</h2><p id="1f51" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">The <a class="ae ky" href="https://saifmohammad.com/WebPages/NRC-Emotion-Lexicon.htm" rel="noopener ugc nofollow" target="_blank">的NRC词典</a>可以对一段文本中的情绪进行更详细的分析。NRC词典中的10种情绪是快乐、积极、愤怒、厌恶、消极、期待、惊讶、信任、恐惧和惊讶。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="de9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这也可以通过下面的代码以更简洁的方式完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="852c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我将通过下面的关联矩阵检查是否有任何有趣的交互。我注意到的一些事情如下:</p><ul class=""><li id="7a0a" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">评论中的字数与快乐和积极的感觉有中度到高度的相关性</li><li id="20a3" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">快乐与积极和信任有中度到高度的相关性</li><li id="ebfa" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">预期与信任有中度到高度的相关性</li><li id="4028" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">悲伤与消极、愤怒、厌恶和恐惧有中度到高度的相关性</li><li id="c712" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">消极与悲伤、愤怒、厌恶和恐惧有中度到高度的相关性</li><li id="3384" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">愤怒与期待、消极、厌恶和恐惧有中度到高度的相关性</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/7858df94f46360a29336cd2c25917625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zP6Bk1c24jD7U0qRWjh9_A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">美国国家研究委员会对Opeth YouTube评论的情绪分析结果的相关矩阵。图片作者。</p></figure><p id="d6fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看这些情绪的分布，以及他们是如何在现场和工作室表演方面分裂的！结果可以在下面的直方图中看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/c7b1e088eb53035f7d2c8771c066ccad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*snv5TZeOg9cHDyppWZFwrQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">NRC情绪得分的分布源自现场和演播室表演的Opeth视频的YouTube评论。图片作者。</p></figure><p id="02fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，我可以看到情绪得分的值大多在0到10之间。显然有一些异常值，所以我将在缩小的范围内再次显示该图，以便更容易地看到大多数数据发生了什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/1e3c0748ebfc4d77b4920959e1facc47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jOQ35Vpup48V6aW34AFMzQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">NRC情绪得分的分布源自现场和演播室表演的Opeth视频的YouTube评论。情绪分数以最大值10来绘制，以帮助可视化。图片作者。</p></figure><p id="026f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好多了。从这些图表中，我们可以看到以下内容:</p><ul class=""><li id="853e" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">负0分的评论比正0分的多。这支持了之前的VADER调查结果(即，对Opeth视频的总体评价更积极)。</li><li id="983b" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">近50%的评论欢乐分为0。</li><li id="c852" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">近六成评论悲伤度为0。</li><li id="cbcf" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">超过60%的评论有0分的惊喜。</li><li id="37c8" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">超过50%的评论的预期得分为0。</li><li id="8ddb" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">超过50%的评论信任度为0。</li><li id="b379" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">近六成评论恐惧分为0。</li><li id="2120" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">近60%的评论的愤怒分数为0。</li><li id="9c6a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">超过50%的评论厌恶度为0。</li><li id="9945" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">所有情绪的第二个最常出现的分数是1。</li></ul><p id="bc44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些结果似乎与我早先从VADER获得的结果一致。也就是说，“对于Opeth乐队来说，似乎没有明显的现场或录音室演出偏好。”<em class="lv">你同意这个结果吗？在评论里告诉我:)</em></p><p id="7360" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好了，现在，我准备好进入项目的建模部分了:)</p><h1 id="2842" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">步骤5:训练和测试分类器模型</h1><p id="6fcf" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">现在我对我的数据有了更多的了解，我将尝试制作一个分类器，它能够根据所述视频上留下的评论，准确区分与现场表演和演播室表演相对应的YouTube视频。为了准备用于培训和后续验证的数据，我采取了以下步骤:</p><h2 id="e073" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">a)将数据划分为现场和演播室评论</h2><p id="02f1" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我的数据集混合了来自现场和录音室表演的评论。我将把数据分成两个数据帧，分别包含现场表演和录音室表演的评论。这可以通过下面的代码来完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="d5a3" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">b)将每个单词与真值配对，将每个评论与标签配对</h2><p id="b0a0" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">为了适应这个模型，我需要将每个评论中的每个单词与一个真值配对。然后，我可以将每一个真实的评论与“现场”或“工作室”标签配对。这可以通过以下代码行来完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><h2 id="c5a4" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">c)生成组合数据集</h2><p id="4c82" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">不错！现在，我已经为“Live”和“Studio”数据集添加了漂亮的注释和标签。现在，我可以通过下面的代码将它们组合在一起，打乱它们，并将这个组合的数据集分成训练集和测试集:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="60f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我尝试了几种不同的劈叉。我从标准的80/20开始，调整这个比例，直到我发现一个持续良好的准确性。</p><h2 id="ca48" class="nq ml it bd mm nr ns dn mq nt nu dp mu li nv nw mw lm nx ny my lq nz oa na ob bi translated">d)训练高斯朴素贝叶斯并测量性能</h2><p id="9c1b" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">太棒了。现在，我可以训练模型，看看它的表现如何！这可以通过下面的代码来完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="8437" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该模型的准确率为82.2%。还不错！我想提到的是，我实现了一个简单的k-fold交叉验证(使用k = 10)来测试模型的稳定性，发现该模型的平均准确率为81.6%。下面列出了10个最能提供信息的特性。“摄像机”、“表演”和“阵容”这三个词是区分现场录音和录音室录音的三大特征。非常酷！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/4882e30d36e292709606f9fe19307759.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*01gRX4IEQ2H2VrUWzrs-zg.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">高斯朴素贝叶斯分类器的性能和10个最有信息的特征。图片作者。</p></figure><p id="d6b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我尝试了17种其他的分类器，但是朴素贝叶斯分类器的表现比所有使用准确度作为度量的分类器都要好。这些其他模型的精度结果如下所示。这些模型的性能介于65.4%和82.2%之间。性能最低的模型是线性感知器，性能最好的模型是高斯朴素贝叶斯。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/7e338bde6c557bdd174976fa24713f77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXraQ7FbHICm326mtz7TTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">各种分类器在基于YouTube评论识别视频是实况还是演播室中的性能。模型按降序排序。图片作者。</p></figure><p id="7ed0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我暂时对自己做的高斯朴素贝叶斯分类器模型的性能很满意。我还可以做很多事情来改进它，使它更健壮，提高它的分类精度。除此之外，我还可以对其他模型进行参数调整，看看能否让它们表现得更好。</p><p id="8d01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还想建立和训练一个神经网络，看看我是否能提高性能。然而，我将把我想到的改进留到这个项目的未来迭代、合作中，或者看看你们中是否有人有兴趣尝试一下这个问题！因此，我将继续部署它。</p><h1 id="5cc8" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">步骤6:保存和部署模型</h1><p id="a02f" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">既然我已经训练了一个运行良好的模型(或者至少在给定我的标准和自己强加的时间限制的情况下足够好)，我准备通过一个基于web的应用程序部署它以供一般使用。为此，我将利用Streamlit来构建应用程序并托管它。你可以在这里找到app <a class="ae ky" href="https://victormurcia-liv-live-vs-studio-classifier-streamlit-app-6we98r.streamlitapp.com/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="0bd9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该应用程序将按如下方式工作:</p><ol class=""><li id="cbf7" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu oc mc md me bi translated">用户将输入对应于一首歌曲的YouTube URL</li><li id="7eff" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu oc mc md me bi translated">将生成一个包含URL注释的数据帧</li><li id="c841" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu oc mc md me bi translated">评论将经过预处理(去除不需要的字符、翻译成英语、标记化、词条化和最终去噪)。</li><li id="8824" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu oc mc md me bi translated">去噪后的评论将作为输入输入到分类器中</li><li id="ac87" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu oc mc md me bi translated">分类器将返回视频是对应于现场表演还是演播室表演</li></ol><p id="cdd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是这款应用的几张截图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi gj"><img src="../Images/2a2a33a756a55fe050bc71af7b66afbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qxHGP2qQUQYaW7Hz3PcbCA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用YouTube评论进行视频表演类型分类的Streamlit app截图。作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/b51f4af500248b7144135a4fbd0cfb45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u217uzajI8ChphwE3fr_4w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用YouTube评论进行视频表演类型分类的Streamlit app截图。作者图片</p></figure><p id="0447" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，分类器仍然需要工作！对于除了Opeth以外的艺术家来说效果不太好。我需要让更多的艺术家进入我的数据集，以提高其可靠性。不过，这将是我长期以来一直在做的事情。如果您想帮助扩展数据库、改进模型或只是分享想法，请联系我:)</p><h1 id="fbd7" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">第七步:结论</h1><p id="147d" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">以下是迄今为止我在这个项目中所有工作的主要收获:</p><ul class=""><li id="5c59" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">评论对欧佩思的音乐普遍持肯定态度</li><li id="ce21" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">VADER情感分析结合卡方分析表明，人们对现场或录音室表演没有偏好。</li><li id="8c80" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">NRC词汇情感分析的结果似乎支持上述观点</li><li id="c800" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">高斯朴素贝叶斯分类器使用YouTube评论将视频分类为来自现场或演播室表演的准确率为82.2%</li><li id="c28c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">模型已作为webapp部署在<a class="ae ky" href="https://victormurcia-liv-live-vs-studio-classifier-streamlit-app-6we98r.streamlitapp.com/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>中</li></ul><p id="2889" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有其他的东西，我会添加到这个项目中。例如，我正在为歌曲中的抒情主题开发一个情感分析和分类系统。看看一首歌的歌词中表达的情感与人们通过评论同一首歌的表演来表达自己的方式有何相似/不同，这将是一件有趣的事情。</p><p id="e767" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还在通过spotipy模块为艺术家们收集Spotify的数据。我还将开始一系列类似的分析，就像我在这里展示的对跨越多种流派的各种艺术家的分析，以增加我的数据集的大小。</p><p id="1b7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望增加的数据集，加上后续在训练和优化分类器方面的努力，将导致比我已经获得的性能更好的性能。</p><p id="bdd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你做到了这一步，感谢你的阅读！</p><pre class="kj kk kl km gt pi nl pj pk aw pl bi"><span id="d376" class="nq ml it nl b gy pm pn l po pp"><strong class="nl iu">Want to Connect?</strong></span><span id="a698" class="nq ml it nl b gy pq pn l po pp">Consider following me on <a class="ae ky" href="https://twitter.com/vmmr_anisotropy" rel="noopener ugc nofollow" target="_blank">Twitter</a> or adding me on <a class="ae ky" href="https://www.linkedin.com/in/vmmr5596/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a> if you liked my work. I’ll be posting projects like this a bit more regularly.</span></pre><p id="5e91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你从中有所收获！</p><p id="eb61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你愿意支持我的编码工作，请考虑通过我的推荐链接加入Medium:【https://victormurcia-53351.medium.com/membership T2】</p></div></div>    
</body>
</html>