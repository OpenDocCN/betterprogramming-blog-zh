<html>
<head>
<title>Storage Options on AWS: Instance Store, Elastic Block Storage, and Elastic File System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS上的存储选项:实例存储、弹性块存储和弹性文件系统</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/storage-options-on-aws-instance-store-elastic-block-storage-and-elastic-file-system-27f9aff570b6?source=collection_archive---------12-----------------------#2022-04-13">https://betterprogramming.pub/storage-options-on-aws-instance-store-elastic-block-storage-and-elastic-file-system-27f9aff570b6?source=collection_archive---------12-----------------------#2022-04-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7f64" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于云中存储变体的所有知识</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f3714561861ed6c3d792915d74ef7766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tW8noDpJpTzKAq3B7WTtnA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.pexels.com/photo/person-using-forklift-1267338/" rel="noopener ugc nofollow" target="_blank">被提升的照片</a></p></figure><p id="aead" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如今，AWS提供200多种不同的服务，而且这个数字每年都在增加。尽管新功能令人兴奋，但跟踪新闻变得越来越难。</p><p id="d1ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，有些服务是AWS的核心。EC2和S3等基本服务正被多个企业广泛使用。每个数字解决方案的基本需求是存储数据。数据管理是软件工程的支柱之一。收集的信息必须被分配到某个地方，以便以后访问。如果我们访问任何一个网站，你都会发现那里有大量的文本文件、图片和视频。所有这些数据都必须存储在某个地方。随着基于云的解决方案变得流行，我们需要了解AWS上与数据相关的组件的功能。</p><h1 id="e779" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">实例存储</h1><p id="5d52" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当我们想到正在运行的服务器时，首先想到的存储类型是内部连接的驱动器。它必须是快速和高性能的。这就是EC2实例提供的选项之一。因此，这种类型的存储称为“实例存储”。它是一种存储类型，与正在运行的EC2实例进行物理连接，并作为它的一部分。</p><p id="e9c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实例存储确实是其他存储类型中性能最好的。然而，随之而来的是，它也带来了严重的局限性。</p><p id="0e1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，可以想象，存储只在EC2实例的生命周期内是活动的。一旦EC2实例停止、终止或失败，驱动器上的数据将永远丢失。因为它是EC2实例的一部分，我们不能保证它的一部分仍然存在，而另一部分被返回到资源池。除此之外，它不能连接到另一个EC2实例，也不能在升级时重新连接到正在运行的EC2实例。</p><p id="45c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其次，这种存储的大小仅限于10 GB。在现代应用程序和云解决方案的世界中，这并不多。实例存储可以用作根卷，但这将占用最大可用大小10 GB的额外内存。</p><p id="8f10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实例存储的最佳应用是什么？它最适合于临时存储频繁访问的信息。例如，缓存数据是实例存储的理想情况。但是对于持久化数据，我们需要考虑AWS上另一种可用的存储类型。</p><h1 id="6b38" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">弹性块存储</h1><p id="79c6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">AWS上的下一个存储选项是弹性块存储或EBS。这是实例存储的替代方案。正是数据块存储提供了可扩展性和高性能。</p><p id="d597" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与实例存储的主要区别在于它是可附加的。存储具有独立于EC2的生命周期。当EC2实例终止时，EBS将被分离。存储在卷上的所有数据都将保留，我们可以将它附加到另一个EC2实例。可以将这种类型的存储看作是可以连接到任何EC2实例的网络驱动器。</p><p id="15b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在引擎盖下，EBS由SSD或HDD支持。基于此，EBS提供了不同用途的卷类型。目前有四种可用的卷类型:</p><ul class=""><li id="9eff" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">基于通用固态硬盘，结合最佳性价比；</li><li id="acc3" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">基于IO优化的固态硬盘，性能最高；</li><li id="b336" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">基于低成本硬盘，吞吐量更高；</li><li id="8288" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">最便宜的冷硬盘驱动器，性能最低。</li></ul><p id="b50e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">带有HDD卷类型的EBS不能用作根卷。那些适合存储档案和不经常访问的信息。然而，为了获得良好的解决方案性能，建议使用基于SSD的卷类型。要选择适合您需求的产品，请考虑所需的吞吐量和您愿意花费的预算。通常性能越好的越贵。</p><p id="f1bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">EBS的主要限制是我们只能将一个卷附加到一个EC2实例。AWS最近开始为IO优化的卷类型提供多附加选项。它们能够提供最佳性能，并能够处理多个连接的EC2实例之间的高吞吐量。这个特性也有一些限制，所以如果您真的需要一个与多个EC2实例连接的功能良好的存储驱动器，可以考虑弹性文件系统。</p><h1 id="fe80" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">弹性文件系统</h1><p id="33e6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">AWS弹性文件系统(EFS)是一个无服务器文件系统。它像EBS一样充当网络驱动器，主要区别是:它允许来自EC2实例、Docker容器、Lambda函数和本地系统的多个连接。</p><p id="7d25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，这项服务的主要特点是一个成熟的Linux文件系统。它有通常的文件结构和目录。因此，最好的使用情形是当我们有一个有效管理内容的应用程序时。例如，当我们有大量的视频、图片或任何其他媒体文件时，我们希望将它们提供给许多客户。由于有多个EC2实例访问存储，因此拥有一个高吞吐量的存储系统变得至关重要。EFS服务完全满足需求。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/9e1b48a701da2a2630492141b7498ad5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mV1MLYYSW7XfZ5lD4eITfA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">EFS连接到多个EC2实例</p></figure><p id="c43b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一项完全托管的服务，我们不需要担心维护和修补系统。它还具有高耐用性、多级安全性和数据保护。EFS可以自动扩展和缩小，这意味着我们永远不会用完存储。</p><p id="7ef9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于EFS提供了良好的吞吐量、性能和可伸缩性，因此与EBS相比，它的成本较高。文件系统的不同存储类别和吞吐量模式会对计费产生影响。例如，针对不经常访问的存储类别价格较低。根据需求，我们可以决定吞吐量模型:</p><ul class=""><li id="0558" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">预留-预留并提前支付；</li><li id="23dc" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">爆发-获得有限的最高性能，以满足不断增长的需求。</li></ul><p id="74a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过正确的估计和计算，优化EFS的成本和性能是可能的。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="fddd" class="lv lw it bd lx ly no ma mb mc np me mf jz nq ka mh kc nr kd mj kf ns kg ml mm bi translated">结论</h1><p id="632c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">亚马逊有多种存储数据的选择。他们每个人都有自己的目的。在本文中，我对它们中的三个做了概述:实例存储、弹性块存储和弹性文件系统。何时使用它们中的每一个？</p><ul class=""><li id="0d6e" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">实例存储具有出色的性能，非常适合存储一些临时数据。但是当EC2实例终止时，实例存储上的所有信息都会被销毁。</li><li id="641b" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">弹性块存储(EBS)是一种可拆卸的网络磁盘。它可以同时连接到单个EC2实例。以后可以将它重新连接到另一个EC2实例，其中的数据将会保留。</li><li id="ecc0" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">弹性文件系统(EFS)是一个可挂载的网络磁盘。它可以同时连接到多个EC2实例或Lambda函数。它是在高负载系统上处理大量媒体文件的理想选择。</li></ul><p id="dd3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一篇文章中，我们将发现AWS上其他可用的存储选项以及何时使用它们。敬请期待！</p></div></div>    
</body>
</html>