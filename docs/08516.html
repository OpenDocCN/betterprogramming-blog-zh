<html>
<head>
<title>6 Ways To Set Default Values in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中设置默认值的6种方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/6-ways-to-set-default-values-in-javascript-b6869fa65cdb?source=collection_archive---------3-----------------------#2021-05-10">https://betterprogramming.pub/6-ways-to-set-default-values-in-javascript-b6869fa65cdb?source=collection_archive---------3-----------------------#2021-05-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9933" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">OR运算符、空运算符、函数默认值等等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/31559635fbe469fc255382858c50c02d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5JhALOLxRFGGSEKy"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">迈克尔·泽兹奇在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="eede" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为变量或参数设置默认值是我们可能遇到的常见场景。在本文中，您将找到六个不同的选项来实现这一点。</p><p id="86df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="dbfe" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.OR (||)运算符</h1><p id="9b2f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">OR ( <code class="fe mz na nb nc b">||</code>)运算符可用于决定默认值。</p><p id="d14d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当第一个操作数为true时，OR ( <code class="fe mz na nb nc b">||</code>)返回第一个操作数，不计算第二个操作数。当第一个操作数为falsy时，它返回第二个操作数。</p><p id="27ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您已经注意到的，OR ( <code class="fe mz na nb nc b">||</code>)不一定返回<code class="fe mz na nb nc b">true</code>或<code class="fe mz na nb nc b">false</code>，但是它会根据具体情况返回第一个或第二个操作数。第二个操作数将是我们的默认值。</p><p id="9f0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们应该记住什么是虚假和真实的价值观。JavaScript将<code class="fe mz na nb nc b">false</code>、<code class="fe mz na nb nc b">null</code>、<code class="fe mz na nb nc b">undefined</code>、<code class="fe mz na nb nc b">0</code>、<code class="fe mz na nb nc b">''</code>和<code class="fe mz na nb nc b">NaN </code>视为falsy值。所有其他的价值观都是真理。</p><p id="d2a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是基于另一个变量设置变量的示例。如果<code class="fe mz na nb nc b">lastStatus</code>为假，则<code class="fe mz na nb nc b">status</code>变量被设置为<code class="fe mz na nb nc b">'Pending'</code>。否则，它采用<code class="fe mz na nb nc b">lastStatus</code>变量的值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="c5aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当<code class="fe mz na nb nc b">lastStatus</code>的当前值是空字符串时，也会发生同样的情况。新的<code class="fe mz na nb nc b">status</code>获得默认值。空字符串是falsy。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="7917" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一个例子中，第一个操作数<code class="fe mz na nb nc b">lastStatus</code>是true，所以<code class="fe mz na nb nc b">||</code>操作符返回<code class="fe mz na nb nc b">lastStatus</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="58d2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.OR赋值(||=)运算符</h1><p id="c0c9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">仅当左操作数为falsy时，逻辑OR赋值(<code class="fe mz na nb nc b">||=</code>)运算符才会分配新值。</p><p id="4b83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个在变量hold<code class="fe mz na nb nc b">undefined</code>上使用<code class="fe mz na nb nc b">||=</code>的例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ce0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是一个为包含空字符串的变量赋值的例子。空字符串是falsy。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="8af8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">'Done'</code>字符串是真值。对保存该值的变量使用<code class="fe mz na nb nc b">||=</code>没有任何效果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2f10" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><em class="nf"> 3。零化合并算子</em>(？？)</h1><p id="4b81" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">nullish合并运算符(<code class="fe mz na nb nc b">??</code>)可用于设置默认值。</p><p id="b9b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当第一个操作数不为空时，空合并运算符(<code class="fe mz na nb nc b">??</code>)返回第一个操作数。否则，它返回第二个。</p><p id="2e76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一个例子中，第一个操作数是nullish，所以新的<code class="fe mz na nb nc b">status</code>被设置为默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="047a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">空字符串是一个falsy值，但不是nullish。在下一种情况下，新的状态变量被设置为空字符串。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="8e84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是另一个例子，变量<code class="fe mz na nb nc b">lastStatus</code>存储一个字符串值。不使用默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fc04" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.无效赋值运算符(？？=)</h1><p id="aef0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">逻辑空值赋值(<code class="fe mz na nb nc b">??=</code>)运算符仅在当前值为空值时才赋值。</p><p id="41b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">undefined</code>是一个空值，所以在下一个例子中，<code class="fe mz na nb nc b">status</code>变量被设置为默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="74b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">空字符串不是nullish。执行逻辑空赋值没有任何效果。在下面的例子中，<code class="fe mz na nb nc b">status</code>变量保持设置为空字符串。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="e5f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样的事情发生在下一个例子中。<code class="fe mz na nb nc b">status</code>变量保持设置为<code class="fe mz na nb nc b">'Done'</code>状态字符串。nullish赋值运算符不应用默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f793" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.函数默认值</h1><p id="845a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果没有值或<code class="fe mz na nb nc b">undefined</code>被传递，默认函数参数允许命名参数用默认值初始化。</p><p id="3f07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个接受默认值的函数的例子。</p><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="3678" class="nk md it nc b gy nl nm l nn no">function getStatus(status = 'Pending'){<br/>  return status;<br/>}</span></pre><p id="3667" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不带参数调用函数或使用<code class="fe mz na nb nc b">undefined</code>作为参数会使函数使用默认值。</p><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="2757" class="nk md it nc b gy nl nm l nn no">getStatus(); //Pending<br/>getStatus(undefined); //Pending</span></pre><p id="80dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">null</code>和<code class="fe mz na nb nc b">undefined</code>是不同的值。当使用<code class="fe mz na nb nc b">null</code>作为参数调用时，该函数不使用默认值。</p><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="3603" class="nk md it nc b gy nl nm l nn no">getStatus(null); //null</span></pre><p id="8a0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样的事情发生在下面的例子中。默认值不适用。</p><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="51bd" class="nk md it nc b gy nl nm l nn no">getStatus(0);      //0<br/>getStatus('');     //''<br/>getStatus('Done'); //'Done'</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c512" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">6.用默认值析构赋值</h1><p id="5403" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">析构赋值运算符接受默认值，</p><p id="559c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果属性不存在或其值被设置为<code class="fe mz na nb nc b">undefined</code>，则析构赋值中的默认值有效。</p><p id="86c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑下一个例子。分配的对象中缺少<code class="fe mz na nb nc b">name</code>属性。在这种情况下，<code class="fe mz na nb nc b">name</code>变量得到默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="2dca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当指定属性的值不是<code class="fe mz na nb nc b">undefined</code>时，如空字符串，则不应用默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="fd90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一个例子中，<code class="fe mz na nb nc b">name</code>属性有一个字符串值。不使用默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="680a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将析构赋值的默认值与函数参数的默认值结合起来。下面是我们如何确保当输入对象参数丢失或者<code class="fe mz na nb nc b">name</code>属性丢失或者<code class="fe mz na nb nc b">undefined</code>时<code class="fe mz na nb nc b">name</code>属性有一个默认值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5561" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">关键注意事项</h1><p id="9d5d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">可以使用OR( <code class="fe mz na nb nc b">||</code>)、OR赋值(<code class="fe mz na nb nc b">||=</code>)、无效合并(<code class="fe mz na nb nc b">??</code>)或无效赋值(<code class="fe mz na nb nc b">??=</code>)运算符来设置默认值。</p><p id="0dff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">函数允许默认值。仅当提供的参数缺失或设置为<code class="fe mz na nb nc b">undefined</code>时，才应用默认值。</p><p id="81cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">析构赋值允许默认值。仅当指定属性缺失或设置为<code class="fe mz na nb nc b">undefined</code>时，才应用默认值。</p><p id="a320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当提供的值为falsy时,<code class="fe mz na nb nc b">||</code>运算符应用默认值。</p><p id="b9e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当提供的值为nullish时,<code class="fe mz na nb nc b">??</code>操作符应用默认值。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="776f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我以前的文章中，你可能会学到更多关于空值和未定义值的知识。</p><p id="627a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div></div>    
</body>
</html>