<html>
<head>
<title>The Right Usage of Aliases in Webpack and TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webpack和TypeScript中别名的正确使用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-right-usage-of-aliases-in-webpack-typescript-4418327f47fa?source=collection_archive---------2-----------------------#2020-04-05">https://betterprogramming.pub/the-right-usage-of-aliases-in-webpack-typescript-4418327f47fa?source=collection_archive---------2-----------------------#2020-04-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="935f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在项目中使用绝对路径，而不是相对路径</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3adfc7df7c8d59eac8774d11bcb994da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1hiqMZbSxL_w-FBL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@rxspawn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Florian Olivo </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="4a07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你好，世界！</p><p id="e4b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天我想和你分享一些技巧来改进你的项目，使它更容易维护。我说的是化名。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="825a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">说明</h1><p id="2ba7" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你从未听说过别名，你会发现这一节很有用。</p><p id="342c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据字典的解释，别名是一个人为了特定目的而取的名字。我们可以给项目中的文件甚至文件夹起别名。通常，更多信息可在文档中找到。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="dce6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Webpack中的别名</h1><p id="1305" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">假设我们有这样一个文件夹结构:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/20a6a5e9679ba7809a9060af14b2e3c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*hnY7D3H_q8cbwYRVD_8ciA.png"/></div></figure><p id="1836" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从上面的结构中我们可以看到，如果我们需要来自<code class="fe na nb nc nd b">getUserId.ts</code>文件的内容，正如我们从上面的结构中可以看到的。</p><p id="3aca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于<code class="fe na nb nc nd b">index.ts</code>,它看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/66b192bb094f30cf79d087cb4e3d622a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-kvBX23tzYMtg4YZoGABIg.png"/></div></div></figure><p id="bb8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于<code class="fe na nb nc nd b">user.ts</code>看起来是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/ce9be03f804f7ccd0edc8884151dcd03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UZtFULV-VQm_I_jWwSIhOw.png"/></div></div></figure><p id="fe89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，这没什么大不了的——我们可以在我们的<code class="fe na nb nc nd b">webpack.config.js</code>中用webpack别名解决它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="ccad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，由于我们使用TypeScript，我们必须将它复制到我们的<code class="fe na nb nc nd b">tsconfig.json</code>(使用<code class="fe na nb nc nd b">src</code>文件夹作为<code class="fe na nb nc nd b">baseUrl</code>):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="aeeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们试一试。</p><p id="d381" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于<code class="fe na nb nc nd b">index.ts</code>和<code class="fe na nb nc nd b">user.ts</code>，现在看起来是一样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/a30f2471ae8164c4345d97045372b38b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*drM1OEI1Dytvbja2sYXU5A.png"/></div></figure><p id="028a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还不错！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="912c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来我们已经解决了这个问题，但是一旦我们得到另一个常用的文件或文件夹，我们必须重复所有这些操作。假设我们有一个新文件夹<code class="fe na nb nc nd b">common</code>，里面有<code class="fe na nb nc nd b">connector.ts</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/6eb9158c2efb27332e746b6b7bf9ec5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*NDgEt55p-ir_pSWy1yLkqQ.png"/></div></figure><p id="32d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，<code class="fe na nb nc nd b">webpack.config.js</code>:</p><p id="ae19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://gist.github.com/BetterProgramming/e2ce4e6c873b88a8dea2625e45006955.js" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/better programming/e 2 ce 4 E6 c 873 b 88 A8 DEA 2625 e 45006955 . js</a></p><p id="2910" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe na nb nc nd b">tsconfig.json</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="291a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我同意你的观点…它看起来并没有使维护变得更容易。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="664a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">通用别名</h1><p id="6f23" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">一些解决方案会导致新的问题。希望我们知道如何处理它们。让我们更新我们的配置，我们将创建一个通用别名，而不是为每种情况使用别名。</p><p id="d691" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe na nb nc nd b">webpack.config.js</code>中:</p><pre class="kj kk kl km gt nk nd nl nm aw nn bi"><span id="d8d7" class="no md it nd b gy np nq l nr ns">//...<br/>alias: {<br/>  <!-- -->'@': path.resolve(__dirname, 'src'),<br/>}<br/>//...</span></pre><p id="2cf6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe na nb nc nd b">tsconfig.json</code>中:</p><pre class="kj kk kl km gt nk nd nl nm aw nn bi"><span id="31e3" class="no md it nd b gy np nq l nr ns">//...<br/>"baseUrl": "src",<br/>"paths": { <br/>  "@/*": ["*"]<br/>}<br/>//...</span></pre><p id="ebe7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以这样更新我们的文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/1501bc61ae64372f9760618c658fb05b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZZakaQ18qlV0kuQTfiowCA.png"/></div></div></figure><p id="3887" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止做得很好！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f046" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">重构</h1><p id="442d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这一切似乎都很好，看起来很好，除了一件事。因为我们不得不在<code class="fe na nb nc nd b">webpack.config.ts</code>和<code class="fe na nb nc nd b">tsconfig.json</code>中复制我们的别名，这违反了DRY原则。同样，我们有一个解决方案！</p><p id="6bfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要一个额外的包裹:</p><pre class="kj kk kl km gt nk nd nl nm aw nn bi"><span id="c156" class="no md it nd b gy np nq l nr ns">npm i tsconfig-paths-webpack-plugin -D</span></pre><p id="b6bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将有助于我们建立一个关于我们化名的单一的真实来源。</p><p id="09b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe na nb nc nd b">webpack.config.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="b512" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">仅此而已，最终代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">网络包.配置. js</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">tsconfig.json</p></figure><p id="5923" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我们正在进行的工作(来自<code class="fe na nb nc nd b">user.ts</code>文件):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/937d5118aa5a226b4681adc61f48f583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*KSl7rkM4VOoY95hkVUTl7g.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9a45" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">摘要</h1><p id="dfd8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">从我的角度来看，这种方法将有助于您编写更干净的代码。此外，这将有助于维护项目。例如，将文件从当前目录移动到另一个目录会导致较少的问题，因为每个文件都使用绝对路径而不是相对路径。最后但同样重要的是，它在开发过程中帮助你。</p><p id="4c21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇文章对你有帮助，下次再见！</p></div></div>    
</body>
</html>