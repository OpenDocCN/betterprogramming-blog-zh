<html>
<head>
<title>Go Commands and Env Vars Every Developer Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个开发人员都应该知道的Go命令和Env变量</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/go-commands-and-env-vars-every-developer-should-know-549feaddc755?source=collection_archive---------4-----------------------#2022-11-01">https://betterprogramming.pub/go-commands-and-env-vars-every-developer-should-know-549feaddc755?source=collection_archive---------4-----------------------#2022-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c549" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">GOPATH、GOPRIVATE等等</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f05be7f786e3337d2ee791341eb368b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D-u1yIuY_a0NwYtUAqqkLg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">亚历克斯·安德鲁斯在<a class="ae kv" href="https://www.pexels.com/photo/dslr-camera-flat-lay-821652/" rel="noopener ugc nofollow" target="_blank">像素</a>上拍摄的照片</p></figure><p id="fb5b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你是一名围棋开发人员，你很可能曾经和这些看起来神秘的术语斗争过——比如<code class="fe ls lt lu lv b">GOPATH</code>、<code class="fe ls lt lu lv b">GOPRIVATE</code>、<code class="fe ls lt lu lv b">Go111module</code>等等。</p><p id="fd1a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很多时候，你不需要关心它们是什么。但是有时，您可能会遇到严重阻碍您开发的错误。</p><p id="7b87" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我将省去你的痛苦，向你展示你所需要的基础知识。</p><p id="977c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们开始吧！</p><p id="1d50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注</strong>:以下细节仅适用于Go1.15及以上版本。</p><h1 id="c397" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">戈鲁特</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/420e5d2f0e886b2be72166c10de9355f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dafL_YfE0mBdXLcTqtvi9w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">GOROOT存储Go SDK</p></figure><p id="03cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GOROOT是存储Go SDK的地方。</p><p id="cf90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它存储了默认的Go编译器、Go可执行命令和Go库。</p><p id="3fd9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除非您计划使用不同的Go版本，否则不需要修改这个变量。</p><p id="5808" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导入库时，Go首先在<code class="fe ls lt lu lv b">GOROOT</code>中搜索文件。如果文件不存在，那么它会退回到<code class="fe ls lt lu lv b">GOPATH</code>。</p><h1 id="7198" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">GOPATH</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/531eaec9bcba8d139a1f667960501fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zp6CoBO8sSnoa9vDGDIfHA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">GOPATH包含三个子目录</p></figure><p id="76a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">GOPATH </code>包含三个目录:<code class="fe ls lt lu lv b">pkg</code>、<code class="fe ls lt lu lv b">src</code>和<code class="fe ls lt lu lv b">bin</code>。</p><h2 id="70bc" class="mp lx iq bd ly mq mr dn mc ms mt dp mg lf mu mv mi lj mw mx mk ln my mz mm na bi translated"><strong class="ak"> $GOPATH/pkg </strong></h2><ul class=""><li id="34e4" class="nb nc iq ky b kz nd lc ne lf nf lj ng ln nh lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">$GOPATH/pkg/mod</code>是<code class="fe ls lt lu lv b">GOMODCACHE</code>的默认位置。</li><li id="c717" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">因此，<code class="fe ls lt lu lv b">$GOPATH/pkg/mod</code>存储并缓存通过<code class="fe ls lt lu lv b">go get</code>或<code class="fe ls lt lu lv b">go install</code>下载的依赖关系。</li></ul><h2 id="9af5" class="mp lx iq bd ly mq mr dn mc ms mt dp mg lf mu mv mi lj mw mx mk ln my mz mm na bi translated"><strong class="ak"> $GOPATH/bin </strong></h2><ul class=""><li id="e853" class="nb nc iq ky b kz nd lc ne lf nf lj ng ln nh lr ni nj nk nl bi translated">bin dir存储通过<code class="fe ls lt lu lv b">go install</code>安装的可执行命令。</li><li id="d812" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">这些命令包括第三方命令和您的源文件命令。</li><li id="b570" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">Go默认命令如<code class="fe ls lt lu lv b">gofmt</code>存储在<code class="fe ls lt lu lv b">GOROOT/bin</code>目录中。</li></ul><h2 id="cbba" class="mp lx iq bd ly mq mr dn mc ms mt dp mg lf mu mv mi lj mw mx mk ln my mz mm na bi translated"><strong class="ak"> $GOPATH/src </strong></h2><ul class=""><li id="d466" class="nb nc iq ky b kz nd lc ne lf nf lj ng ln nh lr ni nj nk nl bi translated">在引入Go模块之前，src目录存储Go源文件。</li><li id="d32f" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">自从围棋模块出现以来，它就变得不那么重要了。</li></ul><h1 id="f5e5" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">Go模块</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/c7766f98eb705aba6034bcc52d7c9893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*83EhqFI70MBdsc9jctB0hw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">叶卡捷琳娜·贝林斯卡娅在<a class="ae kv" href="https://www.pexels.com/photo/carton-box-on-yellow-lines-of-an-asphalt-road-4744757/" rel="noopener ugc nofollow" target="_blank">像素</a>上拍摄的照片</p></figure><p id="818e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在引入Go模块之前，Go项目和依赖项需要存储在<code class="fe ls lt lu lv b">$GOPATH/src/</code>目录下。</p><p id="ed9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">没有版本管理。src目录下的项目共享同一个稳定版本下的库，master分支。</p><p id="484d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">引入Go模块后，以下内容发生了变化:</p><ul class=""><li id="daf8" class="nb nc iq ky b kz la lc ld lf ns lj nt ln nu lr ni nj nk nl bi translated">开发者可以在<code class="fe ls lt lu lv b">$GOPATH/src/</code>目录之外创建项目。</li><li id="8189" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">每个项目，也就是模块，都是一个文件和软件包的集合，它们应该一起发布。</li><li id="d001" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">每个模块都包含一个<code class="fe ls lt lu lv b">go.mod</code>文件，该文件定义了所需的依赖项和版本。</li><li id="bf91" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">在构建期间，从各自的存储库中下载依赖项。</li></ul><h1 id="791b" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">Go.mod</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/a4ddcdf28d72dd6c1cba4f13d2b7e89d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kS15D0bSnDF2miNhmbOv5Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Go.mod包含模块路径和模块依赖关系</p></figure><p id="b9fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">go.mod</code>文件驻留在每个go模块中。</p><p id="c1e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">go.mod</code>文件执行以下操作:</p><ul class=""><li id="494d" class="nb nc iq ky b kz la lc ld lf ns lj nt ln nu lr ni nj nk nl bi translated">定义模块的路径—在同一个go模块下导入包/文件时使用的路径。</li><li id="a3f4" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">定义成功构建模块所需的依赖项和版本。</li></ul><h1 id="9437" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">Go.sum</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/872e0ca36a73e3cb9fa78950869f74d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Tf6_CbrEiK7orKOSZ27hg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Go.sum包含校验和列表</p></figure><p id="5d0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当远程服务器构建一个模块时，它从各自的VCS中获取并下载<code class="fe ls lt lu lv b">go.mod</code>文件中指定的依赖项。</p><p id="931c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这不可避免地导致几个问题:</p><ul class=""><li id="1ad0" class="nb nc iq ky b kz la lc ld lf ns lj nt ln nu lr ni nj nk nl bi translated">如果有人恶意篡改指定版本的库会怎么样？</li><li id="b095" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">我们如何确保远程服务器将包含准确内容的库作为我们的本地副本？</li></ul><p id="bf3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是<code class="fe ls lt lu lv b">go.sum</code>发挥作用的地方。</p><ul class=""><li id="f405" class="nb nc iq ky b kz la lc ld lf ns lj nt ln nu lr ni nj nk nl bi translated">它是<code class="fe ls lt lu lv b">go.mod</code>中列出的所有直接和间接依赖项的校验和。</li><li id="9e45" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">它验证并确保依赖关系的本地下载副本与远程副本相似。</li></ul><h1 id="bd04" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">保持适度整洁</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/82c58b956907a39788f96646cf5cd93a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJ-EFAupY-UIcnk8VV8Fcw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Go mod tidy确保go.mod得到更新</p></figure><p id="7c90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">go.mod tidy</code>确保<code class="fe ls lt lu lv b">go.mod</code>被更新。</p><p id="5b24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您运行<code class="fe ls lt lu lv b">go mod tidy</code>时，它执行以下操作:</p><ul class=""><li id="1c62" class="nb nc iq ky b kz la lc ld lf ns lj nt ln nu lr ni nj nk nl bi translated">下载所需的依赖项并更新<code class="fe ls lt lu lv b">go.mod</code>。</li><li id="36f0" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">从<code class="fe ls lt lu lv b">go.mod</code>中删除不必要的依赖项。(注意:它不会从本地缓存中删除库，也就是<code class="fe ls lt lu lv b">$GOPATH/pkg/mod</code>)</li></ul><h1 id="2948" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">清除-modcache</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/3411ee15153bffef9a09dbf89f3751be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xY9JNkhFWjM_7ZfMx__gTQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://www.pexels.com/@yankrukov/" rel="noopener ugc nofollow" target="_blank"> Yan Krukov </a>在<a class="ae kv" href="https://www.pexels.com/photo/charming-child-sweeping-concrete-pavement-with-broomstick-4458033/" rel="noopener ugc nofollow" target="_blank">像素</a>上拍摄</p></figure><p id="623c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你执行<code class="fe ls lt lu lv b">go get</code>或<code class="fe ls lt lu lv b">go mod tidy</code>时，Go下载依赖项并缓存在<code class="fe ls lt lu lv b">GOMODCACHE</code>中，默认为<code class="fe ls lt lu lv b">$GOPATH/pkg/mod/</code>。</p><p id="0f2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时候，你可能希望删除所有下载的软件包，这就是<code class="fe ls lt lu lv b">go clean -modcache</code>所做的。</p><p id="f0f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它会删除<code class="fe ls lt lu lv b">GOMODCACHE</code>目录中所有下载的包。</p><h1 id="09a5" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">Go mod供应商</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/a231e84e86262965cc0175ade56f8c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4EDuvea9Vc7t3bKKzbFv-w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Go mod vendor在当前模块中创建一个供应商目录</p></figure><p id="30a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当在远程服务器中构建模块时，服务器获取并下载在<code class="fe ls lt lu lv b">go.mod</code>文件中指定的依赖项。</p><p id="02b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果出现网络问题或者远程VCS中的某个依赖项被删除，将会导致构建失败。</p><p id="bb6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了确保确定性的构建，<code class="fe ls lt lu lv b">go mod vendor</code>在Go模块中创建一个文件夹，并将依赖项的源文件存储在该目录中。</p><p id="9140" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">供应商目录将与您的代码更改一起提交。</p><p id="b70d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这允许</p><ul class=""><li id="c088" class="nb nc iq ky b kz la lc ld lf ns lj nt ln nu lr ni nj nk nl bi translated">确定性和一致性的构建。</li><li id="6e78" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">对依赖关系的更改可以很容易地被看到和检查。</li></ul><p id="eae9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，它会占用额外的空间，增加克隆一个存储库的时间，导致CI/CD更长。</p><h1 id="b3c5" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">GOPROXY</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/661c8462a93599305be0e064582248d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6hQ5ofpQf90c7Ze_VF8m-Q.png"/></div></div></figure><p id="e032" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ls lt lu lv b">GOPROXY</code>出现之前，依赖项是直接从远程VCS下载的。</p><p id="542e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这导致了两个基本问题—安全性和可用性。</p><ul class=""><li id="05e3" class="nb nc iq ky b kz la lc ld lf ns lj nt ln nu lr ni nj nk nl bi translated">远程VCS中的依赖项可以随时删除。</li><li id="5cc7" class="nb nc iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated">远程VCS中的依赖关系可能被篡改和破坏。</li></ul><p id="08df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">GOPROXY</code>是一个集中的存储库，托管和缓存公开可用的第三方模块。</p><p id="05fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Go不是从远程VCSs获取，而是将每个下载请求重定向到一个公共的<code class="fe ls lt lu lv b">GOPROXY</code>并根据公共的Go校验和数据库验证下载的模块。</p><p id="0729" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">GOPROXY</code>默认为</p><pre class="kg kh ki kj gt oa lv ob oc aw od bi"><span id="8755" class="mp lx iq lv b gy oe of l og oh">GOPROXY="https://proxy.golang.org,direct"</span></pre><p id="a53f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果在<code class="fe ls lt lu lv b">GOPROXY</code>中找不到所请求的模块，在<code class="fe ls lt lu lv b">GOPROXY</code>中添加一个<code class="fe ls lt lu lv b">direct</code>允许返回到VCSs。</p><h1 id="de22" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">GOPRIVATE</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/3e5a356e09f27a40f862564755635a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C7UChnn_M-9pE19YWYqc9g.png"/></div></div></figure><p id="75f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">GOPROXY</code>适用于公共模块。然而，这给我们留下了另一个问题。</p><p id="36c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果请求的依赖关系来自私人回购，例如，您的公司回购，会发生什么？</p><p id="4ef6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是<code class="fe ls lt lu lv b">GOPRIVATE</code>来救援的地方。例如，它控制Go命令认为哪些模块是私有的</p><pre class="kg kh ki kj gt oa lv ob oc aw od bi"><span id="78c1" class="mp lx iq lv b gy oe of l og oh">GOPRIVATE=*github.com/org_name</span></pre><p id="ea94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Go将匹配此模式的任何路径视为私有路径，因此不会使用代理和全局校验和数据库。</p><h1 id="6c85" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">go 111模块</h1><p id="48e4" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf oj lh li lj ok ll lm ln ol lp lq lr ij bi translated"><code class="fe ls lt lu lv b">GO111module</code>代表模块感知模式。</p><p id="d4b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当Go第一次发布时，在Go1.11中引入Go模块之前，没有包管理器。</p><p id="6625" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在此期间，源文件存储在<code class="fe ls lt lu lv b">$GOPATH/src</code>下，而<code class="fe ls lt lu lv b">go get</code>将获取依赖项并将其存储在<code class="fe ls lt lu lv b">$GOPATH/src</code>中。</p><p id="4d79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简而言之，我们存储、下载和导入依赖关系的方式在模块时代之前和之后是不同的。</p><p id="a06d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">GO111module=on</code> forces遵循Go模块的方式，而<code class="fe ls lt lu lv b">GO111module=off</code> forces遵循GOPATH的方式。</p><p id="2cdf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为Go模块现在是事实上的实践，<code class="fe ls lt lu lv b">GO111module=on</code>是默认行为。</p><h1 id="8dc6" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">关闭</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/56edf3ccbbc2660d807debe92ea1bd96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YhT0YKoWXHK9uWsODqlbsA.jpeg"/></div></div></figure><p id="3c2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于Go命令和env变量的细节还有更多的内容要介绍。</p><p id="c1cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的开发工作流程中，您几乎每天都会碰到提到的那些。</p><p id="2a19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这能对你有所帮助，下次再见！</p></div></div>    
</body>
</html>