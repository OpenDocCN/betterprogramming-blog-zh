<html>
<head>
<title>Make Swift Playgrounds More Playful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让Swift游乐场更好玩</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/making-swift-playgrounds-more-playful-6fd6d9f5ba54?source=collection_archive---------6-----------------------#2019-09-22">https://betterprogramming.pub/making-swift-playgrounds-more-playful-6fd6d9f5ba54?source=collection_archive---------6-----------------------#2019-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="226e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">自动化您的开发工作流程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6dfe3f523dd9730cf9ccbb1cd5160eee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LwBMgVzYkJ87-JBXjUcnlw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@henniestander?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">亨尼斯坦德</a>在<a class="ae ky" href="https://unsplash.com/s/photos/play?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="14da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Swift Playgrounds使得尝试新的框架变得非常简单，但是到达一切都已经设置好的地步可能会非常尴尬。</p><p id="0148" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用<a class="ae ky" href="https://cocoapods.org/" rel="noopener ugc nofollow" target="_blank"> CocoaPods </a>来管理依赖项，您首先必须启动一个新的Xcode项目，执行<code class="fe lv lw lx ly b">pod init</code>，创建一个包含所有需要的依赖项的新的<code class="fe lv lw lx ly b">Podfile</code>，执行<code class="fe lv lw lx ly b">pod install</code>，等待，打开生成的工作区，创建一个新的游乐场，并将该游乐场拖到工作区中。Uff！</p><p id="339d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想找到一种方法来自动完成这个设置过程，于是我找到了nef。这是一个命令行工具，具有多种特性，其中之一是创建已经集成了CocoaPods的操场。</p><p id="9839" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以像这样通过<a class="ae ky" href="https://brew.sh" rel="noopener ugc nofollow" target="_blank">自制软件</a>安装它:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="6094" class="md me it ly b gy mf mg l mh mi">brew tap bow-swift/nef<br/>brew install nef</span></pre><p id="5ae3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装后，您可以使用它的Playground子命令。通过传递项目的名称和Podfile的路径，nef将做上面列出的所有事情，在集成了所有依赖项的工作区内建立一个新的运动场。</p><p id="1b01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这几乎正是我要找的，但不像我希望的那样方便。</p><p id="e7aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我围绕nef编写了一个小的Python脚本来自动生成初始Podfile，使用所需的参数执行nef，并打开创建的工作区。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">play.py创建有趣的游乐场</p></figure><p id="d649" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看这个脚本做了什么:</p><p id="e591" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">#1</code> —首先我们需要导入一些库:</p><ul class=""><li id="5b3b" class="ml mm it lb b lc ld lf lg li mn lm mo lq mp lu mq mr ms mt bi translated"><code class="fe lv lw lx ly b">argparse</code>用于处理通过命令行传递给脚本的参数。</li><li id="b0bd" class="ml mm it lb b lc mu lf mv li mw lm mx lq my lu mq mr ms mt bi translated"><code class="fe lv lw lx ly b">os</code>执行需要的命令。</li><li id="35e3" class="ml mm it lb b lc mu lf mv li mw lm mx lq my lu mq mr ms mt bi translated"><code class="fe lv lw lx ly b">tempfile</code>创建初始临时Podfile。</li></ul><p id="18e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">#2</code> —下一步是设置用于处理参数的解析器。该脚本应该可以通过以下方式执行:</p><p id="138c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">python play.py name --list dependency1 dependency2 ...</code></p><p id="df1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们需要两个参数，项目的名称，以及一个pod名称列表。第一个只是一个位置参数，第二个将所有的名字作为字符串存储在一个名为<code class="fe lv lw lx ly b">dependencies</code>的列表中。</p><p id="8b88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">给定依赖关系，我们可以将它们嵌入到Podfile中。我们只是循环遍历所需pod的名称，并将它们列在Podfile中。</p><p id="a6d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">#4</code> —现在我们可以创建一个临时文件，并将之前生成的Podfile内容写入其中。该文件将在下一步传递给nef。</p><p id="a418" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">#5</code> —至此，nef的一切都已准备就绪。我们可以调用命令并传递工作区的名称和初始的Podfile。</p><p id="0f88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">#6</code> —最后，我们用<code class="fe lv lw lx ly b">xed</code>命令打开新的工作区。</p><p id="c3c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里您可以看到运行中的脚本:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/e9b01e436866454a73b56bfec02ec112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*U16Gz75ZAuvWRVvRjPahqA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用play.py创建带有pod <a class="ae ky" href="https://github.com/AliSoftware/Dip" rel="noopener ugc nofollow" target="_blank"> Dip </a>的新操场的示例。</p></figure><p id="bbc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！有了这个脚本，用操场挖掘新框架就变得非常简单了。希望你觉得有趣，有帮助！</p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="9ec7" class="nh me it bd ni nj nk nl nm nn no np nq jz nr ka ns kc nt kd nu kf nv kg nw nx bi translated">资源</h1><div class="ny nz gp gr oa ob"><a href="https://nef.bow-swift.io/docs/" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">船形容器</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">简称娜芙蒂蒂，母亲安赫塞娜蒙，是一个命令行工具，以方便创建文件的形式…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">nef.bow-swift.io</p></div></div></div></a></div><div class="ny nz gp gr oa ob"><a href="https://brew.sh" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">公司自产自用</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">macOS(或Linux)缺失的软件包管理器。</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">brew.sh</p></div></div><div class="ok l"><div class="ol l om on oo ok op ks ob"/></div></div></a></div></div></div>    
</body>
</html>