<html>
<head>
<title>How To Evenly Space Views in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中均匀分布视图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-evenly-space-views-in-swiftui-260965280368?source=collection_archive---------9-----------------------#2021-04-02">https://betterprogramming.pub/how-to-evenly-space-views-in-swiftui-260965280368?source=collection_archive---------9-----------------------#2021-04-02</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="7f88" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">4种不同的视图定位方式</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/27319ac25652a4f1dcc808be5924aa31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mLvimI8LZ7yIkYqi"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@lastnameeaster?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> La-Rel Easter </a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="709f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">前几天，我在一个UIKit项目上停滞了几个月之后，又回到了SwiftUI开发中。奇怪的是，我花了一段时间来构建最基本的原型:在我的图像过滤SwiftUI应用程序中均匀地间隔两张图像。</p><p id="13bd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我试着在我的<code class="fe lw lx ly lz b">HStack</code>中的两个<code class="fe lw lx ly lz b">Images</code>上设置<code class="fe lw lx ly lz b">resizable()</code>和<code class="fe lw lx ly lz b">aspectRatio()</code>修改器，但是没有成功。事实上，由于实际的图像资产如此之大，其中一个实际上占满了整个屏幕。当然，你可以对宽度和高度进行硬编码，但是这并不适用于所有的屏幕尺寸和方向。</p><p id="8a8d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在我已经掌握了SwiftUI，我很高兴分享一些不同的技术来在SwiftUI中分隔您的视图。让我们开始吧。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="13ac" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">使用垫片、堆叠间距和对齐方式</h1><p id="1892" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">顾名思义，<code class="fe lw lx ly lz b">Spacers</code>占据可利用的空间。它们填充空间的方式取决于它们是被包裹在<code class="fe lw lx ly lz b">HStack</code>还是<code class="fe lw lx ly lz b">VStack</code>中。</p><p id="01e8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这里有一个简单的例子:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="6b31" class="ni mi iu lz b gz nj nk l nl nm">VStack {<br/>Image(systemName: "shield.fill")<br/>Spacer()<br/>}</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nn"><img src="../Images/023342a1c49b1c8b10c12bf63e247245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uXPFw-1oePiWfu7SHwGWbg.gif"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者截屏。</p></figure><p id="c16c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如您所见，<code class="fe lw lx ly lz b">Spacer</code>垂直占据了可用空间。第一个<code class="fe lw lx ly lz b">Spacer</code>将<code class="fe lw lx ly lz b">Image</code>推到屏幕顶部。为了使所有视图的间距相等，在它们之间添加一个<code class="fe lw lx ly lz b">Spacer()</code>。</p><p id="dcce" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们还可以在<code class="fe lw lx ly lz b">Stacks</code>内增加间距，并以某种方式对齐视图。更好的是，我们可以结合使用<code class="fe lw lx ly lz b">Stack</code>间距和<code class="fe lw lx ly lz b">Spacers</code>来为视图的排列带来更多的灵活性。</p><p id="4852" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">例如，在下面的代码中，我们使用了一个<code class="fe lw lx ly lz b">Spacer</code>将<code class="fe lw lx ly lz b">HStack</code>向屏幕左侧对齐。另外，我们还使用了<code class="fe lw lx ly lz b">Stack</code>间距和对齐来安排SwiftUI <code class="fe lw lx ly lz b">Text</code>:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nn"><img src="../Images/6928ad7e66bcc46106185d5200672075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*M3D54uRKhEN2YrsacqSFzg.gif"/></div></div></figure><p id="8663" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，如果我们在两个<code class="fe lw lx ly lz b">Text</code>视图之间放置另一个<code class="fe lw lx ly lz b">Spacer()</code>会发生什么？它会占据整个屏幕空间还是仅仅占据<code class="fe lw lx ly lz b">HStack</code>的可用高度？</p><p id="0e02" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">回答:由于我们没有指定<code class="fe lw lx ly lz b">HStack</code>的高度，它实际上会占据整个屏幕空间。为了确保<code class="fe lw lx ly lz b">VStack</code>不会占用超过<code class="fe lw lx ly lz b">HStack</code>的空间，我们可以设置一个固定的<code class="fe lw lx ly lz b">frame</code>高度。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="d817" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">使用形状</h1><p id="25d1" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">虽然我们已经看到SwiftUI中的<code class="fe lw lx ly lz b">Texts</code>和<code class="fe lw lx ly lz b">Images</code>只占据了内容空间，但另一方面，<code class="fe lw lx ly lz b">Shapes</code>却扩展到覆盖尽可能多的空间。</p><p id="d883" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">因此，为了填充堆栈的可用空间，或者为了平均分配我们的视图，我们可以将它们放在一个<code class="fe lw lx ly lz b">Shape</code>视图中。</p><p id="cd23" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这里有一个例子:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nn"><img src="../Images/be884e081bae1f0707fac028fc471144.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ScATTsxSYWF7ugi78Dh2xQ.gif"/></div></div></figure><p id="e18c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">形状是平等填充空间的好方法。您也可以使用它们快速创建自定义的类似单元格的视图。</p><p id="6bd3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">除了使用<code class="fe lw lx ly lz b">overlay</code>视图修改器来放置子视图，您还可以使用<code class="fe lw lx ly lz b">ZStack</code>。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="939e" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">使用帧修改器</h1><p id="116e" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">通常，我们希望创建等宽或等高的视图。在这种情况下，使用将<code class="fe lw lx ly lz b">maxWidth</code>或<code class="fe lw lx ly lz b">maxHeight</code>设置为<code class="fe lw lx ly lz b">.infinity</code>的帧修改器通常是强制宽度和高度成为最大可用空间的首选方式。</p><p id="e647" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这里有一个<code class="fe lw lx ly lz b">frame</code>布局修改器的例子:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/b590c0692926cf784d5cf55e89b132ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3KaX1qoSNrDIwtOboTvxSQ.gif"/></div></div></figure><p id="7143" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">注意:在<code class="fe lw lx ly lz b">frame</code>之前设置<code class="fe lw lx ly lz b">background</code>修饰符会导致<code class="fe lw lx ly lz b">VStack</code>仍然有一些空间。这是因为<code class="fe lw lx ly lz b">background</code>修改器应用于框架的视图，而不是整个堆栈。因此，正确排序视图修改器是至关重要的。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="915b" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">使用网格</h1><p id="b2f6" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">虽然以上三种方法足以以任何方式分隔视图，但通常当有太多视图需要排列时，使用<code class="fe lw lx ly lz b">Spacer</code>或框架修饰符会导致一些样板代码。</p><p id="063d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">谢天谢地，在这种情况下，我们可以利用SwiftUI的<code class="fe lw lx ly lz b">LazyVGrid</code>和<code class="fe lw lx ly lz b">LazyHGrid</code>，它们是在iOS 14 中引入的<a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/swiftui-grids-in-ios-14-49df6aa28541">。</a></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj np"><img src="../Images/f7a7ca0304fabbf47809d33be875b637.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0OXvZrVP3sX6Ak5DtxFemg.gif"/></div></div></figure><p id="2e9d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在上面的代码中，由于我们创建了水平网格项，每个包装在SwiftUI <code class="fe lw lx ly lz b">Group</code>中的<code class="fe lw lx ly lz b">Texts</code>具有相同的宽度。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="523a" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">结论</h1><p id="bbed" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">在本文中，我们看到了管理视图之间空间的四种不同方式。在构建视图时，均匀分布视图是一个相当常见的需求。现在你知道什么时候使用这些技术。</p><p id="0dc9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这一次到此为止。感谢阅读。</p></div></div>    
</body>
</html>