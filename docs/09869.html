<html>
<head>
<title>Java, Jupyter, and Plotly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java、Jupyter和Plotly</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/java-jupyter-plotly-e1bbaa7f2be8?source=collection_archive---------2-----------------------#2021-10-23">https://betterprogramming.pub/java-jupyter-plotly-e1bbaa7f2be8?source=collection_archive---------2-----------------------#2021-10-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f3f4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Java包装器为运行Java内核的Google Colab笔记本(Jupyter)创建可视化</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7b598ab273c65bf486b40afc23e4557c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DgQBrLL6H9hLM4qivJAwtQ.png"/></div></div></figure><h1 id="91ea" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">介绍</h1><p id="401c" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae mi" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter </a>和<a class="ae mi" href="https://github.com/plotly" rel="noopener ugc nofollow" target="_blank"> Plotly </a>不是你通常会联想到Java的两个包…</p><p id="d9f7" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">许多最流行的绘图库不是用Java编写的，这也不是什么秘密。不过，这并不妨碍我们利用现有的工具，比如Plotly，而且为用其他语言编写的代码构建包装器并不是有些人会认为的<em class="mo">失礼行为</em>。</p><p id="0a39" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated"><a class="ae mi" href="https://jtablesaw.github.io/tablesaw/" rel="noopener ugc nofollow" target="_blank"> Tablesaw </a>为Java开发人员提供了一个这样的解决方案:</p><blockquote class="mp mq mr"><p id="9ea6" class="lm ln mo lo b lp mj ju lr ls mk jx lu ms ml lx ly mt mm mb mc mu mn mf mg mh im bi translated">在0.2.0版本中,[Tablesaw]引入了一个新的绘图框架，它提供了一个围绕着<a class="ae mi" href="https://github.com/plotly" rel="noopener ugc nofollow" target="_blank"> Plot.ly </a>开源JavaScript可视化库的Java包装器。</p><p id="b141" class="lm ln mo lo b lp mj ju lr ls mk jx lu ms ml lx ly mt mm mb mc mu mn mf mg mh im bi translated">Plot.ly基于非凡的<a class="ae mi" href="https://d3js.org/" rel="noopener ugc nofollow" target="_blank"> D3(数据驱动文档)</a>框架，无疑是任何语言中最好的开源可视化软件包之一。Plot.ly非常优秀，它已经广泛应用于Python和R等JavaScript之外的语言中，这些语言已经有了可靠的可视化选项。</p></blockquote><h2 id="4453" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">先决条件</h2><p id="6942" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">至于Jupyter笔记本和Java，我在以前的文章中已经详细介绍过这个主题:</p><ul class=""><li id="ba78" class="nh ni it lo b lp mj ls mk lv nj lz nk md nl mh nm nn no np bi translated"><a class="ae mi" href="https://medium.com/@gmsharpe/jupyter-java-and-google-colab-7a2f7fb08808" rel="noopener"> Java、Jupyter和Google Colab </a></li><li id="9a44" class="nh ni it lo b lp nq ls nr lv ns lz nt md nu mh nm nn no np bi translated"><a class="ae mi" href="https://medium.com/@gmsharpe/getting-started-with-tablesaw-and-google-colab-65ef0cbe280c" rel="noopener">开始使用Tablesaw和Google Colab </a></li></ul><p id="3c08" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated"><a class="ae mi" href="https://github.com/SpencerPark" rel="noopener ugc nofollow" target="_blank">斯潘塞公园</a>，IJava 的开发者，另外<a class="ae mi" href="https://github.com/SpencerPark/IJava/issues/49" rel="noopener ugc nofollow" target="_blank">为我们设计了一种方式</a>在Jupyter笔记本上显示我们的Tablesaw图。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><p id="6937" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">注意:如果你不熟悉如何同时使用Java和Google Colab，上面列出的两篇文章可以帮助你入门。对于本文，我将假设您有一个配置了Java内核的 <code class="fe oc od oe of b"><em class="mo">.ipynb</em></code> <em class="mo">模板，在您的Google Colab主机上安装了内核，并连接到托管的运行时。</em></p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h2 id="1e93" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">入门指南</h2><p id="41eb" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">安装Java内核后，我们可以使用Maven和<a class="ae mi" href="https://github.com/SpencerPark/IJava/blob/master/docs/magics.md" rel="noopener ugc nofollow" target="_blank"> IJava的Magics </a>加载依赖项。让我们从加载<code class="fe oc od oe of b">tablesaw-core</code>和<code class="fe oc od oe of b">tablesaw-jsplot</code>开始。在代码块中执行以下内容。</p><pre class="kj kk kl km gt og of oh bn oi oj bi"><span id="ba08" class="ok kv it of b be ol om l on oo">%%loadFromPOM<br/>&lt;dependency&gt;<br/>    &lt;groupId&gt;tech.tablesaw&lt;/groupId&gt;<br/>    &lt;artifactId&gt;tablesaw-core&lt;/artifactId&gt;<br/>    &lt;version&gt;0.41.0&lt;/version&gt;<br/>&lt;/dependency&gt;<br/>&lt;dependency&gt;<br/>    &lt;groupId&gt;tech.tablesaw&lt;/groupId&gt;<br/>    &lt;artifactId&gt;tablesaw-jsplot&lt;/artifactId&gt;<br/>    &lt;version&gt;0.41.0&lt;/version&gt;<br/>&lt;/dependency&gt;</span></pre><p id="263c" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">接下来，我们将导入前进所需的许多包:</p><pre class="kj kk kl km gt og of oh bn oi oj bi"><span id="15eb" class="ok kv it of b be ol om l on oo">import tech.tablesaw.api.*;<br/>import tech.tablesaw.columns.*;<br/>import tech.tablesaw.plotly.*;<br/>import tech.tablesaw.plotly.api.*;<br/>import tech.tablesaw.plotly.components.*;<br/>import tech.tablesaw.plotly.traces.*;</span></pre><p id="29aa" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">现在，在我们开始可视化<em class="mo">绝技之前，</em>我们需要将Tablesaw的JsPlot库连接到我们的Jupyter环境。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="fb72" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">我可能最终会尝试剖析上述内容，并在本文的下一篇文章中对其进行分解。但是现在，我们将继续讨论情节本身。</p><h1 id="7d3e" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">绘图示例</h1><p id="cd3e" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">从这一点开始，绘图相当简单。下面，我从<a class="ae mi" href="https://github.com/jtablesaw/tablesaw/tree/master/jsplot/src/test/java/tech/tablesaw/examples" rel="noopener ugc nofollow" target="_blank"> Tablesaw的收藏</a>中的一个例子开始。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div><p class="or os gj gh gi ot ou bd b be z dk translated">使用%Magic导入Apache Commons FileUtils，下载' test_wines.csv' &amp;作为表导入</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/8c410b74de43ca6be07542be95093d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PkVkswmotGxmewrZW5GOmg.png"/></div></div></figure><h2 id="bdbc" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">简单的气泡图</h2><p id="52b1" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">首先，我们将使用Tablesaw 提供的<a class="ae mi" href="https://github.com/jtablesaw/tablesaw/blob/master/jsplot/src/test/java/tech/tablesaw/examples/" rel="noopener ugc nofollow" target="_blank">示例之一。在Google Colab笔记本的代码块中执行以下内容。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div><p class="or os gj gh gi ot ou bd b be z dk translated">查询葡萄酒，其中“葡萄酒类型”=香槟和起泡酒&amp;“地区”=加利福尼亚</p></figure><p id="c8bc" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">出现的气泡图是一个相对较小的图，具有最小的光斑。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/f7a4cef538b510c53e43f374cfb51cd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*esp8gLQNYfo8yQ-qrozBBw.png"/></div></div></figure><h2 id="ee67" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">自定义布局</h2><p id="e195" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我们可以更进一步，配置图的<code class="fe oc od oe of b">Layout</code>，而不是使用<code class="fe oc od oe of b">BubblePlot.create(...)</code>提供的缺省值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="7772" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">在这里，我们既使用了<code class="fe oc od oe of b">Layout</code>类，也使用了一个替代的构造函数来修改:</p><ul class=""><li id="76be" class="nh ni it lo b lp mj ls mk lv nj lz nk md nl mh nm nn no np bi translated">渲染图的高度和宽度，</li><li id="aad1" class="nh ni it lo b lp nq ls nr lv ns lz nt md nu mh nm nn no np bi translated">字体系列、颜色和大小。</li><li id="4305" class="nh ni it lo b lp nq ls nr lv ns lz nt md nu mh nm nn no np bi translated">气泡的颜色和不透明度</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/ea110b1368f1f8c09145356f1cef2c91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-T7lnmL6K8w_bxskugM1xA.png"/></div></div></figure><h1 id="6e43" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">结论</h1><p id="6771" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">这旨在快速介绍如何使用Jupyter，Java &amp; Tablesaw的Plotly实现。在<a class="ae mi" href="https://github.com/jtablesaw/tablesaw/tree/master/jsplot/src/test/java/tech/tablesaw/examples" rel="noopener ugc nofollow" target="_blank"> Tablesaw的GitHub库</a>中还有几个例子。</p><p id="0406" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">我很乐意听到任何探索如何在笔记本环境中使用Java的人的反馈(Jupyter，<a class="ae mi" href="https://zeppelin.apache.org/" rel="noopener ugc nofollow" target="_blank"> Zeppelin </a>等)。)和命令行(<a class="ae mi" href="https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm" rel="noopener ugc nofollow" target="_blank"> JShell </a>)上使用Tablesaw等工具进行数据处理和可视化。给我发消息，特别是如果你已经在Medium上发表了任何材料，我很乐意在将来相关的时候链接到你的内容。</p></div></div>    
</body>
</html>