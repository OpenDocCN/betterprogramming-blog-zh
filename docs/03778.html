<html>
<head>
<title>Data Engineering 101: From Batch Processing to Streaming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据工程101:从批处理到流</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/data-engineering-101-from-batch-processing-to-streaming-54f8c0da66fb?source=collection_archive---------1-----------------------#2020-03-04">https://betterprogramming.pub/data-engineering-101-from-batch-processing-to-streaming-54f8c0da66fb?source=collection_archive---------1-----------------------#2020-03-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fdd5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据是如何到达数据科学家和机器学习工程师手中的？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fe6954155bdf2e7d4c5c5d34f2394b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UgOWntX-T9m1U7gKJgh_0w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com/s/photos/engineer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@scienceinhd?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">科学高清</a>拍摄的照片</p></figure><p id="2169" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与软件工程不同，数据工程方面的大学课程并不多。也没有一大堆教导这种做法的新兵训练营。</p><p id="75b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这导致最佳实践经常在工作中学习，以及跨团队和公司使用的技术的聚宝盆。</p><p id="ccb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，数据工程师的定义是什么？</p><p id="fa5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尤其是随着这一角色逐渐脱离其在数据库管理和BI中的根基，它确实已经发生了变化，并且比以前有了更高的期望。数据工程师过去只需要了解基本的数据仓库、ETL和数据可视化就可以了。</p><p id="99d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，近年来，对理解分布式计算、DevOps、数据操作和实现机器学习模型的需求挑战了这一概念。</p><p id="d1cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实上，在许多方面，许多高级DEs通常更擅长软件或DS工作。必须从头开始创建与API、流数据服务等交互的系统和框架。</p><p id="622e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">仅仅拼凑管道不再是基线。</p><p id="96ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是所有需要的技能可能是压倒性的，特别是对于一个新的毕业生或传统的数据工程师。</p><p id="8550" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你想进入数据工程领域，但是不知道从哪里开始。这就是这一系列帖子和视频的内容。</p><p id="c34b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，这篇文章将向你介绍数据工程师的词汇以及我们所依赖的一些工具。所有这些都将导致开发数据仓库和数据管道。</p><p id="7964" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，我们开始吧。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e512" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">数据工程词汇</strong></h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/872fe57bd047ba684943d8a5c519b9b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hxl1OresGDTV9aCMfrBnhA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@brett_jordan?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">布雷特·乔丹</a>在<a class="ae ky" href="https://unsplash.com/s/photos/words?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="06c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们列出一些对DEs很重要的词汇。</p><p id="5eed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将在这里概述一些基础知识，因为如果你刚刚走出学校，你经常会听到很多词汇，只是点点头，而没有完全理解这些可能是什么。</p><h2 id="bbbe" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">数据仓库</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/765374c6ecd137ef4d9ad449f9873212.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*EtwttCsiPLjYVXBzTRPjhA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://www.wisdomjobs.com/e-university/data-warehousing-tutorial-237/star-schemas-2620.html" rel="noopener ugc nofollow" target="_blank">https://www . wisdom jobs . com/e-university/data-warehousing-tutorial-237/star-schemas-2620 . html</a></p></figure><p id="9535" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据仓库是数据分析师和BI专业人员可以访问所有数据的中心位置。有很多关于数据仓库、数据集市、<a class="ae ky" href="https://www.zentut.com/data-warehouse/kimball-and-inmon-data-warehouse-architectures/" rel="noopener ugc nofollow" target="_blank"> Kimball vs Inmon </a>以及所有这些意味着什么的争论。</p><p id="fd22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">归根结底，数据仓库通常是一组非规范化的数据，这些数据通常来自单个应用程序数据库或多个应用程序数据库，用于内部回答业务问题。</p><p id="cd67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它不同于应用数据库，因为数据仓库是为处理分析性查询而设计的，而不是事务性查询。</p><p id="066c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，数据仓库通常还包含多个应用程序数据库。这是数据仓库能够提供的价值之一。将来自多个系统的数据整合在一起。</p><p id="40e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，在当今时代，许多数据系统，如<a class="ae ky" href="https://cloud.google.com/bigquery" rel="noopener ugc nofollow" target="_blank"> BigQuery </a>、<a class="ae ky" href="https://aws.amazon.com/redshift/" rel="noopener ugc nofollow" target="_blank">红移</a>和<a class="ae ky" href="https://www.snowflake.com/" rel="noopener ugc nofollow" target="_blank">雪花</a>都是专门为管理数据仓库式查询而开发的。这意味着查询需要运行大量的分析、求和以及聚合，并且通常不以事务为中心。</p><p id="dbae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但除此之外。它们是为了易于理解而设计的。一个好的数据仓库应该是分析师容易理解的，这样他们就可以把他们的数据可视化工具连接到它上面。</p><p id="f8e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最终目标通常是创建某种自助分析系统。这意味着不应该有过于复杂的数据模型，应该有一套工程和业务团队都同意的定义良好的业务逻辑…理论上。</p><p id="2a7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是让我们继续讨论数据管道。</p><h2 id="8645" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">数据管道和ETL</h2><p id="22b1" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">你经常会听到数据工程师使用数据管道这个术语。这通常也可以用术语<em class="nn"> ETL </em>来代替。这两者之间有一些细微差别。但总的来说，两者引用了相似的概念。</p><p id="8cae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ETL指的是<em class="nn">提取、转换和加载</em>(有时它实际上可以是一个ELT)，但是我们将避免把事情复杂化。</p><p id="9fc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ETL和数据管道是自动化的工作流，它们将数据从A点带到B点，并在此过程中转换数据，以提高数据的分析能力。</p><p id="f0d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您从应用程序数据库中提取数据时，通常会将其放入某种形式的CSV或JSON提取中。这些摘录可以来自抓取应用程序数据库表、从API提取数据、抓取日志等。</p><p id="e8e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在提取阶段，数据通常仍然局限于当前时间的数据库快照或所有历史数据。同样，即使在这里也有许多细微差别会改变ETL的设计。例如，是否允许修改、删除、复制数据等等。</p><p id="7910" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样设置应用程序数据库有一个很好的理由，因为它有利于保持网站的快速响应，但限制了分析师可以获得的洞察力。</p><p id="6ed6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着用户更新简档和编辑各种信息，状态可能会随着时间而改变。</p><p id="6efa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，ETL也将有助于以一种跟踪随时间变化的方式插入数据。通常，这种形式的跟踪变更管理被称为<em class="nn">缓慢变化的维度</em>。</p><p id="6556" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦数据被转换，它将被加载到数据仓库中。</p><h2 id="3934" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">熟练的技艺</h2><p id="ca22" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">DAG代表<em class="nn">有向无环图</em>。</p><p id="0358" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ETL只是DAG这个非常复杂的难题的一部分。在转换数据时，通常会有特定的步骤顺序。但是你怎么告诉你的系统呢？ETL如何知道运行哪个部分以及何时运行？</p><p id="d48c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是狗发挥作用的地方。</p><p id="255d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dag一直存在于数据工程世界中。很长一段时间以来，它们都是通过CRON、一些定制的元数据库以及Bash、Python和<a class="ae ky" href="https://docs.microsoft.com/en-us/powershell/scripting/overview" rel="noopener ugc nofollow" target="_blank"> PowerShell </a>脚本的组合来管理的。</p><p id="7202" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是非常混乱和耗时的。</p><p id="a48f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，有许多现代工具和库可以帮助管理您的ETL管道。这些包括<a class="ae ky" href="https://airflow.apache.org/" rel="noopener ugc nofollow" target="_blank">气流</a>、<a class="ae ky" href="https://github.com/spotify/luigi" rel="noopener ugc nofollow" target="_blank">路易吉</a>、<a class="ae ky" href="https://petl.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> petl </a>和<a class="ae ky" href="http://dagster.io/" rel="noopener ugc nofollow" target="_blank"> Dagster </a>(对于初学者)。有几十个甚至几百个工具和库专注于这个主题。</p><p id="c49a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">个人认为，我们非常依赖气流，因为它拥有庞大的用户群。但是有很多很棒的库，随着您对数据领域越来越熟悉，您可能会使用其中的一些。</p><h2 id="d528" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">事实表</h2><p id="1d94" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">现在，ETL将数据加载到哪些表中呢？为什么他们有这么奇怪的前缀？</p><p id="6ba6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您开始在数据仓库中工作时，您会看到前缀“<code class="fe no np nq nr b">fact_</code>”或“<code class="fe no np nq nr b">f_</code>”附加到一个表中。</p><p id="0c07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此前缀引用您将在此表中找到的数据类型。特别是，事实通常是实际的事务类型数据。这些可能是电子商务网站上的订单、健康索赔总额等。</p><p id="dfe9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一般来说，事实会有某种可聚合的值，比如购买的商品总数或总销售额，以及所谓的<code class="fe no np nq nr b">dim_</code>表键，比如<code class="fe no np nq nr b">store_id</code>、<code class="fe no np nq nr b">product_type_id</code>等等。</p><p id="8833" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事实通常可以被看作是一个中央表。</p><p id="d9b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在下图中，您会看到事实表位于所有内容的中心。同样，这是因为事实代表了你正在分析和报告的核心思想。这可能是交易、用户、电子邮件打开等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/964141313bbc55a812bb86501489db89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rh1r0KIK6-egV4E5_lLEaw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://www.sqlshack.com/sql-server-business-intelligence-features-sql-server-data-tools-business-intelligence/" rel="noopener ugc nofollow" target="_blank">https://www . SQL shack . com/SQL-server-business-intelligence-features-SQL-server-data-tools-business-intelligence/</a></p></figure><h2 id="539b" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">维度表</h2><p id="d9d7" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">数据仓库中有许多不同类型的表。然而，事实表和维度表可能是最常见的。</p><p id="7587" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">维度表是更具描述性的数据。想一想当你在分析数据的时候，你经常想按店铺、地区、网站、办公室经理等进行分组。</p><p id="5f30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，也许你想数一数你的公司拥有的每栋大楼里有多少员工。建筑物的描述性信息在维度表中，而关于连接到该建筑物的雇员的实际事实在事实表中。</p><p id="d89f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，看上面的图片，维度表位于事实表的周围。</p><p id="f885" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它将帮助你描述和组织你的事实数据。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3270" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">接下来我们要谈什么？</h1><p id="dc57" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">这是我们希望的关于数据工程的几篇文章中的第一篇。我们希望继续这个系列，深入研究数据管道开发、度量、数据仓库设计等。</p><p id="9ed7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们希望这对您有所帮助，我们将继续关注这些话题。如果您有任何问题，或者希望在本主题的特定部分获得帮助，请告诉我们。</p><p id="fa67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢了。</p></div></div>    
</body>
</html>