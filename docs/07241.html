<html>
<head>
<title>The 6 Swift Extensions I Use in Every iOS Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在每个iOS项目中使用的6个Swift扩展</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-6-swift-extensions-i-use-in-every-ios-project-51f5cdac9b61?source=collection_archive---------3-----------------------#2020-12-22">https://betterprogramming.pub/the-6-swift-extensions-i-use-in-every-ios-project-51f5cdac9b61?source=collection_archive---------3-----------------------#2020-12-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="786b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">看看我以前的候补队员</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/16ec16cdb37c8297b1bc19fe9fa3a5cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*arVLW-bIzKDbHN2n"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@goran_ivos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Goran Ivos </a>拍摄的照片。</p></figure><p id="17a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当我开始一个新的iOS Swift项目时，我做的第一件事就是导入我的实用程序和扩展文件。它们帮助我提高编程效率。让我们来看看我最喜欢和最重要的六个扩展。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="43d7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.在UIView下投影</h1><p id="c9e4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当实现现代设计时，通常需要在<code class="fe mz na nb nc b">UIView</code>下投下阴影。我不用为每个视图编写多行代码，而是使用一个扩展:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ecf6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，每个项目可能需要对阴影样式做一些小的改变，但是可以在一个中心位置进行改变。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/f263c0c3517b5ac64bf157fc25e72a7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7iaQUAvwl0_G--fJ3wTK0Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">以编程方式删除UIView阴影的示例。</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0490" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.从任何地方呈现ViewController</h1><p id="3c08" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当处理应用程序时，经常需要动态地改变<code class="fe mz na nb nc b">ViewController</code>流。您可以使用对<code class="fe mz na nb nc b">UIViewController</code>的扩展，而不是编写函数和选择模态表示风格。如果你不想每次都打开设置作为模态，你可以声明一次，从任何地方使用<code class="fe mz na nb nc b">viewController.openSettings()</code>功能！一行代码就完成了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/a998044eb6f57e645a141d436e7b6245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WUwfE6by0hCMZXa8jJY4g.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="88fd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.简化本地化</h1><p id="e201" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Swift中的程序本地化可能非常难看，尤其是当您试图将多个单词连接成一个句子时:</p><pre class="kj kk kl km gt nh nc ni nj aw nk bi"><span id="d184" class="nl md it nc b gy nm nn l no np">let string = NSLocalizedString("Hello", comment: "") + " " + NSLocalizedString("World", comment: "")</span></pre><p id="a574" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是为什么我使用我的<code class="fe mz na nb nc b">String</code>扩展来简化这个过程:</p><pre class="kj kk kl km gt nh nc ni nj aw nk bi"><span id="4137" class="nl md it nc b gy nm nn l no np">let string = "Hello".localized + " " + "World".localized</span></pre><p id="edd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">扩展非常简单，如下所示:</p><pre class="kj kk kl km gt nh nc ni nj aw nk bi"><span id="4dea" class="nl md it nc b gy nm nn l no np">extension String {<br/>    var localized: String {<br/>        return NSLocalizedString(self, comment: "")<br/>    }<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3b66" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.用3行代码编写带有延迟的异步代码块</h1><p id="95cf" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">编写异步函数和队列可能很难看。让我分享一个扩展，用不到三行代码简化运行带有延迟完成处理程序的异步后台任务:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="a644" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这使得编写具有延迟的两部分异步代码块就像下面这样简单:</p><pre class="kj kk kl km gt nh nc ni nj aw nk bi"><span id="74ba" class="nl md it nc b gy nm nn l no np">DispatchQueue.background(delay: 1.0, background: {<br/>    print("First")<br/>}, completion: {<br/>    print("Run async after 1 second")<br/>})</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5eb9" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.震撼视野</h1><p id="4d9f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当使用用户输入验证时，您经常希望通过摇动视图给出不正确的用户输入反馈。让我们为这个shake行为创建一个扩展，这样我们就再也不用编写另一个shake代码块了:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="c401" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这么简单！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3e9d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">6.将Double舍入到字符串形式的特定位数</h1><p id="5a52" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">另一个经常需要的扩展是将<code class="fe mz na nb nc b">Double</code>或<code class="fe mz na nb nc b">Float</code>舍入到特定的位数。通常，我必须计算并呈现一个值，所以我需要它作为一个格式化的<code class="fe mz na nb nc b">String</code>(例如1.42432四舍五入为1.42)。然而，在返回四舍五入的双精度数时，1.40432四舍五入到两位将不会返回1.40而是1.4。让我们来看看这个扩展，以获得一个格式优美的<code class="fe mz na nb nc b">String</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="73f5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="f1d4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我希望你在未来的努力中使用扩展的力量。如果你有任何你正在使用的很棒的扩展并且想要分享，请在下面的评论中分享它们！</p></div></div>    
</body>
</html>