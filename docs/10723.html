<html>
<head>
<title>Mastering Blockchain Development: Deploying Smart Contract using Hardhat-Node and Typescript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握区块链开发:使用Hardhat-Node和Typescript部署智能合约</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/mastering-blockchain-development-deploying-smart-contract-using-hardhat-node-and-typescript-9383bcdad6ee?source=collection_archive---------18-----------------------#2022-01-24">https://betterprogramming.pub/mastering-blockchain-development-deploying-smart-contract-using-hardhat-node-and-typescript-9383bcdad6ee?source=collection_archive---------18-----------------------#2022-01-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dc2f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">掌握web 3第3部分—部署我们的智能合同</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bbcf6bd1636f8d0b95a3518c71a397a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pKWPqFl4TI4MGze1zmqt2A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自@stories的免费图片</p></figure><p id="6d40" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一旦您像我们在<a class="ae lr" href="https://aindrajaya.medium.com/mastering-blockchain-development-hardhat-implementation-on-testing-smart-contract-with-typescript-3048b4a36052" rel="noopener">第2部分</a>中所做的那样测试了您的智能合约，并在<a class="ae lr" href="https://aindrajaya.medium.com/mastering-blockchain-development-first-step-to-implement-ethereum-hardhat-and-typescript-74807c691129" rel="noopener">第1部分</a>中制作了您的第一个智能合约，您就可以将它部署到以太坊网络中。</p><p id="948f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">或者你也可以使用复制以太坊主节点的Hardhat节点到你的个人电脑上，然后你也可以将你的智能合约部署到Rinkeby，Goerli，Ropsten，还有Kovan等以太坊测试网中。</p><p id="edb8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是在第3部分教程中，我们将尝试使用Hardhat Node在本地网络上部署智能合约。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b7d7" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">部署流程</h1><p id="08bf" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">我们必须创建一个新文件来处理我们的部署过程，您可以使用任何您喜欢的名称。但它必须以<code class="fe mw mx my mz b">.ts</code>结尾，因为我们使用typescript。我们将这些部署文件放在哪里？首先，您必须创建一个名为<code class="fe mw mx my mz b">scripts</code>的文件夹，然后您可以将您的部署文件放在这个文件夹中。</p><p id="013d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是命令行:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="1186" class="ne ma iq mz b gy nf ng l nh ni">//Go to root folder of your project<br/>$ mkdir scripts &amp;&amp; cd scripts</span><span id="9009" class="ne ma iq mz b gy nj ng l nh ni">$ touch deploy-my-contract.ts</span></pre><p id="4475" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">之后，您可以在该文件中编写一些代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="6937" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在您编写了处理部署过程的代码之后。我们可以测试一下。但是在运行部署脚本之前，您还必须运行Hardhat节点实例，它将为我们本地计算机上的测试和部署目的提供一堆以太坊地址(就像Truffle的Ganache一样，如果您知道的话)。</p><p id="b647" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是命令行:</p><ol class=""><li id="9f4a" class="nm nn iq kx b ky kz lb lc le no li np lm nq lq nr ns nt nu bi translated">首先，您应该打开一个新的终端并编写以下命令:</li></ol><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="d20c" class="ne ma iq mz b gy nf ng l nh ni">$ npx hardhat node</span></pre><p id="a20b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">2.第二步，您可以在默认终端中测试并编写命令:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="da38" class="ne ma iq mz b gy nf ng l nh ni">$ npx hardhat run scripts/deploy-contract.ts --network localhost</span></pre><blockquote class="nv nw nx"><p id="38b1" class="kv kw ny kx b ky kz jr la lb lc ju ld nz lf lg lh oa lj lk ll ob ln lo lp lq ij bi translated">注意:<br/> <code class="fe mw mx my mz b">—-network, </code>它将选择您将用来部署您的合同的网络，在<code class="fe mw mx my mz b">--network</code>命令之后，它可以是Rinkeby、Mainnet或localhost。<br/> <code class="fe mw mx my mz b">localhost,</code>这意味着您将在本地网络上部署您的合同，或者脚本将告诉您在哪里运行(使用hardhat节点实例)</p></blockquote></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="ac1e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">试验结果</h1><p id="d34c" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">这是我们测试的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/db10af50462e1c2c05ebe141a3f8176e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bKgB-2dnv1HxSDjjwXHCsA.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0d9e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/3d025a2ee500b0d0200013b2c6bf430e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*_O9_ExI6Y0hhq1Agu7M6Cg.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Web 2和Web 3的区别</p></figure><p id="f613" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们所做的是尝试一个简单的例子，通过使用以太坊的副本来进行dApp开发。当我们尝试实现web3.0而不是web2.0时，会发生一些不同的过程</p><p id="f890" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有一个<a class="ae lr" href="https://techterms.com/definition/rpc" rel="noopener ugc nofollow" target="_blank"> RPC </a>(远程过程调用)请求，当我们调用我们的<code class="fe mw mx my mz b">hello()</code>函数并显示在我们的终端控制台上时发生。但是我们还需要与我们的Web浏览器通信，所以在第4部分的下一个教程中，我将使用提供服务的工具来将我们的hello dApp与浏览器集成，我们将配置元掩码，还将使用typescript配置Webpack，并向我们的浏览器显示<code class="fe mw mx my mz b">Hello, World from web3</code>。</p><p id="5d7d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">少了什么？还有一些问题需要解决，比如关于<code class="fe mw mx my mz b">pure</code>的解释，还有我们智能合同文件中的<code class="fe mw mx my mz b">memory</code>。这个问题可以在本系列文章之后讨论。谢谢大家！</p></div></div>    
</body>
</html>