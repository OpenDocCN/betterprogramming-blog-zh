<html>
<head>
<title>Two SwiftUI Debugging Helpers You Can Start Using Right Away</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">两个SwiftUI调试助手，您可以立即开始使用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/two-swiftui-debugging-helpers-you-can-start-using-right-away-26d25630c0cf?source=collection_archive---------8-----------------------#2021-09-28">https://betterprogramming.pub/two-swiftui-debugging-helpers-you-can-start-using-right-away-26d25630c0cf?source=collection_archive---------8-----------------------#2021-09-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2091" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">打印更改和自定义调试修饰符</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0ac0fb583440824dae78ebd4eb66ffe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ogNUg1KbGDWry3Fkk-lgg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Nubelson Fernandes在<a class="ae ky" href="https://unsplash.com/photos/gTs2w7bu3Qo" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的图片</p></figure><h1 id="70e4" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">SwiftUI内部API方法——“Self。_printChanges()"</h1><p id="bf33" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">SwiftUI提供了一个非凡的、仅用于调试的方法，我们可以用它来区分是什么更改使视图重新加载了自己。这个策略显然是为了调查。当你看到一个视图正在重新激活它的身体属性，但你不知道为什么的时候，这是非常有用的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">打印更改</p></figure><p id="fe91" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">从上面的代码中可以注意到一些事情:</p><ul class=""><li id="f8d0" class="mu mv it lt b lu mp lx mq ma mw me mx mi my mm mz na nb nc bi translated">因为<code class="fe nd ne nf ng b">_printChanges()</code>是一个静态方法，所以需要<code class="fe nd ne nf ng b">Self</code>。</li><li id="2fc7" class="mu mv it lt b lu nh lx ni ma nj me nk mi nl mm mz na nb nc bi translated"><code class="fe nd ne nf ng b">Self._printChanges()</code> —应该叫体内属性。这意味着您必须在普通视图代码中添加一个显式的return关键字。</li><li id="9a53" class="mu mv it lt b lu nh lx ni ma nj me nk mi nl mm mz na nb nc bi translated">默认情况下，所有视图都有<code class="fe nd ne nf ng b">_printChanges()</code></li><li id="e9e7" class="mu mv it lt b lu nh lx ni ma nj me nk mi nl mm mz na nb nc bi translated">以下划线(<code class="fe nd ne nf ng b">_</code>)开头的函数和属性是私有API的一部分，因此您不会看到任何相关文档。</li></ul><p id="465e" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">从上面的例子中，当你开始点击按钮时，你会在控制台中看到一些东西。这意味着某个特定的属性发生了变化。这意味着SwiftUI正在呈现视图，因为属性更改与UI有关。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/a020b963f24ce2e14274f7346b1f748d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NIlYyj4231eAEP35-HsWSg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">控制台输出</p></figure><p id="08e8" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">当你在一个应用上工作时，你将使用不同的属性包装器，这将导致视图多次渲染，如果你使用<code class="fe nd ne nf ng b">Self._printChanges()</code>你将看到多个视图被打印出来，但不要担心，按照苹果的说法，它们相当轻，这会影响你的应用性能。</p><h2 id="5e3a" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">重要的</h2><p id="828b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当属性发生变化时，如果几何体需要重新评估，SwiftUI将只呈现您的视图。<br/>如果您在视图中使用的任何状态变量未用于您的UI，您将不会察觉到为该视图打印的任何更改，SwiftUI也不会呈现该属性。</p><p id="a68e" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">当使用<code class="fe nd ne nf ng b">print()</code>打印一个<code class="fe nd ne nf ng b">State </code>属性时，SwiftUI将重新呈现您的视图，因此避免使用<code class="fe nd ne nf ng b">print</code>而开始使用<code class="fe nd ne nf ng b">_printChanges()</code></p><p id="8f7e" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated"><em class="nz">请记住，你的应用必须在iOS 15上才能使用这个API。</em></p><h1 id="f766" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">使用彩色背景</h1><p id="4f85" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当你在一个屏幕上处理不同的UI组件时，有时会非常混乱，你不知道每个组件在堆栈中占了多少空间。</p><p id="1a83" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">确定这一点的一种方法是选择元素，您可以看到该元素在评论中有所体现，但这并不总是那么容易，我们无法经常查看它。</p><p id="0e98" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">我通过在我的视图上使用“只调试背景色”修改器解决了这个问题，这样我就可以看到视图上的颜色并适当地改变它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">仅调试背景色</p></figure><p id="bb9f" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">你这样使用它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure></div><div class="ab cl oa ob hx oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="im in io ip iq"><p id="7b53" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">我希望这能帮助你解决一些问题。如果你在这里有什么调试的想法，请告诉我。此外，如果您对学习SwiftUI中的技巧和诀窍感兴趣，请查看这篇<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/swiftui-tips-and-tricks-57b3d2f027d2">文章</a>。谢谢你，祝你好运。</p></div></div>    
</body>
</html>