<html>
<head>
<title>What is the Observer Design Pattern?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是观察者设计模式？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/observer-pattern-in-php-2ba240f89fb2?source=collection_archive---------7-----------------------#2019-09-12">https://betterprogramming.pub/observer-pattern-in-php-2ba240f89fb2?source=collection_archive---------7-----------------------#2019-09-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/2ef35dcd356bfcfe4bb19dc9af17b1d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*pwvd3H-6p8TAOZqWs_ou0g.jpeg"/></div></figure><div class=""/><div class=""><h2 id="332f" class="pw-subtitle-paragraph jx iz ja bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">观察器使得组件之间的通信更加容易</h2></div><p id="e590" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">观察器使组件之间的通信更容易，并减少了它们之间严格耦合的必要性(使它们彼此紧密相连)。客户端不需要知道谁会回复发送的通知，也不需要知道他们会如何回复。此外，每个通知可以触发不同独立成分的多个反应。</p><p id="6547" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">PHP提供了一个现成的、方便的接口来支持在SPL内部实现Observer。</p><p id="6373" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">例如，我们将创建一个简单的通信工具来向员工发送消息。客户是一个人力资源部门，可能会雇用新员工，解雇一些人，或者发送公司范围的信息。该模式由四个元素组成:</p><p id="cbd7" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">1.Subject ( <code class="fe ll lm ln lo b">SplSubject</code>):定义一个接口，用于观察者<br/> 2的交流和管理。Observer ( <code class="fe ll lm ln lo b">SplObserver</code>):为订阅事件<br/> 3的客户端定义一个接口。具体Subject(<code class="fe ll lm ln lo b">Communicator</code>):Subject<br/>4的具体实现。具体观察者(<code class="fe ll lm ln lo b">Employee</code>):观察者的具体实现</p><p id="f975" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">让我们从流程的大脑开始:我们的沟通者。我们可以添加或删除将收到非常重要的消息通知的用户。</p><figure class="lp lq lr ls gt iv"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="7303" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">在这种情况下，使用<code class="fe ll lm ln lo b">SplObjectStorage</code>很方便，因为它会自动防止添加重复项。如果您不想使用它，可以使用数组实现类似的行为。</p><p id="23b2" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">应用程序的另一个重要部分是将接收消息的员工。</p><figure class="lp lq lr ls gt iv"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="67a5" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">最后一部分是整个流程的委托人:人力资源部门。在开始时，可以添加所有的雇员，如果有任何变化，我们可以在以后添加或删除他们中的一些人。</p><figure class="lp lq lr ls gt iv"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="3849" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">现在，我们可以前所未有地愉快地雇佣和解雇新员工。</p><figure class="lp lq lr ls gt iv"><div class="bz fp l di"><div class="lt lu l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a808" class="mc md ja bd me mf mg mh mi mj mk ml mm kg mn kh mo kj mp kk mq km mr kn ms mt bi translated">结论</h1><p id="63af" class="pw-post-body-paragraph kp kq ja kr b ks mu kb ku kv mv ke kx ky mw la lb lc mx le lf lg my li lj lk im bi translated">观察者是一种非常有用和流行的模式。它真的可以让你的代码更好，更具扩展性。</p><p id="884d" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">在现实生活场景中，可能有许多不同类型的事件，这些事件有许多不同的独立订阅者。</p><p id="8194" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">完整的源代码和其他一些模式可以在这里找到:</p><div class="is it gp gr iu mz"><a href="https://github.com/jkapuscik2/design-patterns-php" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd jb gy z fp ne fr fs nf fu fw iz bi translated">jkapuscik 2/设计-模式-php</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">这个项目是一组在现实世界中使用不同设计模式的简单例子。每个人都有一个…</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">github.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn iw mz"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="b46e" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">如果您想了解一些更有用的设计模式，您可以在以下文章中找到它们:</p><ul class=""><li id="45b2" class="no np ja kr b ks kt kv kw ky nq lc nr lg ns lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/getting-started-with-design-patterns-in-php-4d451ccdfb71" rel="noopener">工厂方法</a></li><li id="09f8" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/creational-design-patterns-in-php-db365d3245ce" rel="noopener">创作模式</a></li><li id="340f" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/iterator-pattern-in-php-b7624f6bdbcf" rel="noopener">迭代器</a></li><li id="3ef9" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/state-strategy-design-patterns-by-example-f57ebd7b6211" rel="noopener">状态&amp;策略</a></li><li id="c69a" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/template-method-pattern-in-php-6116fd7e8ccc?source=friends_link&amp;sk=ac4c483446bd5a5323c09a662bd54116" rel="noopener">模板法</a></li><li id="cfd1" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/swlh/flyweight-design-pattern-in-php-edcda0486fb0?source=friends_link&amp;sk=a0fa3083d5afd7e41af8a4f7a1df05f1" rel="noopener">轻量级</a></li><li id="6d90" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/better-programming/proxy-design-pattern-and-how-to-use-it-acd0f11e5330" rel="noopener">代理</a></li><li id="b4d3" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/better-programming/decorator-c04fae63dfff" rel="noopener">装潢师</a></li><li id="c532" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/better-programming/dependency-injection-8f09a93ec995" rel="noopener">依赖注入</a></li><li id="1f9c" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/swlh/composite-908878748d0e" rel="noopener">复合</a></li><li id="75dd" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/swlh/building-cloud-storage-application-with-adapter-design-pattern-8b0105a1bda7" rel="noopener">适配器</a></li><li id="dca5" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/better-programming/what-is-facade-design-pattern-67cb09ce35d4" rel="noopener">立面</a></li><li id="c691" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/better-programming/what-is-bridge-design-pattern-89bfa581fbd3" rel="noopener">桥</a></li><li id="ad4a" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/what-is-chain-of-responsibility-design-pattern-ff4d22abd124" rel="noopener">责任链</a></li><li id="f6f7" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/what-is-visitor-design-pattern-8451fb75876" rel="noopener">访客</a></li><li id="661d" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/what-is-cqrs-command-design-pattern-5d400fd9f93a" rel="noopener">命令</a></li><li id="27c7" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/what-is-null-object-design-pattern-f3b4d3d28636" rel="noopener">空对象</a></li><li id="eda9" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/what-is-the-fluent-interface-design-pattern-2797645b2a2e" rel="noopener">流畅的界面</a></li><li id="932e" class="no np ja kr b ks ny kv nz ky oa lc ob lg oc lk nt nu nv nw bi translated"><a class="ae nx" href="https://medium.com/@j.kapuscik2/what-is-the-specification-design-pattern-4051dd9e71c3" rel="noopener">规格</a></li></ul></div></div>    
</body>
</html>