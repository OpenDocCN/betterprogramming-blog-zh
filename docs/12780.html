<html>
<head>
<title>10 Things You Might Not Know About YAML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于YAML你可能不知道的10件事</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/10-things-you-might-not-know-about-yaml-b0589da547c?source=collection_archive---------1-----------------------#2022-07-01">https://betterprogramming.pub/10-things-you-might-not-know-about-yaml-b0589da547c?source=collection_archive---------1-----------------------#2022-07-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="084e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用YAML的真正力量</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6cae2b00ecbee0fe2b02fbb5891a81bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xdN6PZkkPpT06jKkV1fB5Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="2bb3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">YAML声称这是一个人性化的数据序列化标准。“人性化”，没有一个用过YAML的人说。</p><p id="2d95" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个空间错位，一切都破碎了。</p><p id="11d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于1.2版。主要目标是使YAML符合JSON作为官方子集。作为JSON的超集，YAML增加了什么？在这篇文章中，我将探索一些你可能不知道的关于YAML的事情。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="f2a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们开始之前，让我们快速介绍一下YAML。YAML将列表排序为序列。这些序列是由冒号分隔的破折号和无序的键值对创建的。这些键值对被称为映射。映射中的每个键都必须是唯一的。定义键、值和序列项的文本称为标量值，它们是零个或多个可打印的Unicode字符。清楚了这一点，让我们开始我们的YAML十大你可能不知道的事情之旅。</p><h1 id="29a0" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">第一</h1><p id="9e45" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">YAML是JSON的超集，这意味着任何有效的JSON都是有效的YAML。左边是一个JSON文档，右边是该内容的规范形式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/986683511f10d0b21490c23696bcb3e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cbMI8okn9gounXxB2YXb2A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由1.2版YAML解析器解析的JSON文档</p></figure><p id="2bfd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您使用的YAML解析器支持1.2版，您可以将所有YAML文件转换成JSON，一切都将继续工作。但在此之前，请阅读本文的其余部分。你可能会发现为什么你想和YAML在一起。</p><h1 id="5e35" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">第二点</h1><p id="83cc" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">YAML支持评论意见。注释可以以井号(#)开始，直到行尾。这在CI/CD管道这样的大型文档中非常方便。添加注释不会以任何方式改变输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7f98e4cfad0717a8b5dc49ba997be0b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q_EMIJRxeef-MhEy9TuOrA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">YAML支持评论意见</p></figure><h1 id="bd45" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">第三点</h1><p id="0377" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">YAML支持锚和别名。这样可以避免重复相同的值。锚点是一个&amp;符号(<code class="fe mt mu mv mw b">&amp;</code>)，后面是一个标签，后面是一个空格和您想要重用的值。当您想要使用该值时，请键入星号(<code class="fe mt mu mv mw b">*</code>)和标签。处理YAML时，所有别名都将替换为实际值。这允许您在一个地方更改值，并让更改传播到整个文档。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0c15f40b9b46303a9a52f821efdb9dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mv4VgKAxdinMSJiJw-PXUA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">锚和别名的使用</p></figure><h1 id="e360" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">第四个</h1><p id="1218" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">可以使用竖线指示的文字样式来保留或折叠新行(<code class="fe mt mu mv mw b">|</code>)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/22d676b2dc3f6bd47031cf8ecdd53892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w7hgpxETJQVYOsb8jVahkA.png"/></div></div></figure><p id="47fb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">或者用大于号(<code class="fe mt mu mv mw b">&gt;</code>)表示的折叠样式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1463a8c2d1cc541696cd2846340084a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TgMZof4XF3DT_MTQUYbyoQ.png"/></div></div></figure><p id="a815" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用折叠样式时，每个换行符都被折叠成一个空格，除非它以一个空行或更缩进的行结束。添加减号(<code class="fe mt mu mv mw b">-</code>)或加号(<code class="fe mt mu mv mw b">+</code>)控制是否保留尾随的新行。</p><div class="kj kk kl km gt ab cb"><figure class="mx kn my mz na nb nc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/fb90306f378b8338a41d4e2b165a9abb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ShjutlSSp3hYWSag-IIsyg.png"/></div></figure><figure class="mx kn my mz na nb nc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/5e16123850be9e919013740bb57a7933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*5Jx3248hNtP5LwzVvKm1Xg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk nd di ne nf translated">使用减号(<code class="fe mt mu mv mw b">-</code>)和加号(+)以折叠方式保留尾随的新行</p></figure></div><p id="a307" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用文字样式时，每个换行符都会保留。但是，后面的新行可以用减号(<code class="fe mt mu mv mw b">-</code>)或加号(<code class="fe mt mu mv mw b">+</code>)来控制。</p><div class="kj kk kl km gt ab cb"><figure class="mx kn my mz na nb nc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/0985e908da135f683ad772a8bd751cd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*wABXr95ziZ_mqmvE6Pesxg.png"/></div></figure><figure class="mx kn my mz na nb nc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/6ac4894cdcf42f4ec7b6411aca41bec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*0oBZHkeggZZeKuiu5eE4rA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk nd di ne nf translated">使用减号(-)和加号(+)保留文字样式的尾随新行</p></figure></div><p id="7e34" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，您可以添加一个块指示器来通知解析器预期的缩进。任何额外的空格都将添加到值的前面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/07e5699ac359563aa376f1465f3a43cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s3ideInun0ygnUQXW4WW5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">闭塞指示器</p></figure><h1 id="a229" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">第五个</h1><p id="bd6d" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">值可以写成普通(不带引号)、双引号或单引号。如果值的第一个字符可能会导致歧义，则引用值会很有帮助。使用双引号时，反斜杠和双引号必须用反斜杠转义。使用单引号时，不需要对反斜杠和双引号进行转义。然而，要获得单引号，您必须使用两个。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c50e69477146b89c874d51a665f75b21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y2O1cyf2edHvBncjbczaaw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">转义字符</p></figure><h1 id="2319" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">第六个</h1><p id="03b9" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">您可以使用文件顶部的指令来识别YAML版本。例如，您可以用<code class="fe mt mu mv mw b">%YAML 1.2</code>作为文档的开头，表示该文档支持YAML规范的1.2版本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5bcf62d0c1f157213f6bf5025ff7c182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1u6DJrV0PSxtUDY36TZjJw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用版本指令</p></figure><h1 id="9e11" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">第七个</h1><p id="04aa" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">您可以使用双感叹号后跟类型来将类型分配给值。例如，我可以将我的年龄从默认的整数改为浮点数。所以，我可以报告我48岁半。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/172f9fc004c939e6b6fadc6a4b037c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Boa55qaM7kNCKkm92ZviJg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">双爆炸的使用</p></figure><h1 id="1297" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">前锋</h1><p id="d9ba" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">YAML支持两种创作风格:块和流。Block使用缩进来表示结构，这是我们大多数人看到YAML被使用的方式。YAML的流风格可以被认为是JSON的自然扩展，它使用双引号、单引号、方括号、花括号和逗号来表示结构。</p><p id="f5d7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Flow定义了写为方括号内逗号分隔列表的序列和使用花括号的映射。谈到空间，流动风格要宽容得多。您可以在同一文档中混合使用块样式和流样式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6ac75e33a1d2e381f3780f6046441edb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EsfXQjuJ_8f0pI_80rR9nw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">块和流样式的使用</p></figure><h1 id="339e" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">第九个</h1><p id="d41b" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">您可以使用问号来表示键-值对中的键。当键为空或者第一个字符是一个字符(如破折号或方括号)时，如果没有引号，将会导致歧义，这将非常有用。使用问号还允许键跨越多行。使用问号时，冒号必须在单独一行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b9621302de49cbc2ecf8322085d725d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YXzwyh98C0pzwzn4VXorcg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用？表示键名</p></figure><h1 id="4ca3" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">唐宁街１０号</h1><p id="104c" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">制表符不能用于缩进；它们必须转换成空格。我一直以为空格数是固定的。只要平行元素具有相同的左对齐，并且分层嵌套元素进一步缩进，空格的数量就不重要。从第一个非空行检测块标量的缩进级别。</p><div class="kj kk kl km gt ab cb"><figure class="mx kn my mz na nb nc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/58b83eff36540147667e9a8a1b4592bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*enpoGSKpbIuuzAws9V0lCQ.png"/></div></figure><figure class="mx kn my mz na nb nc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/df5806f1611f955bffa43e5c8581a367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*MkrCdk5-lH52Z-46nKrkfw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk nd di ne nf translated">YAML不支持制表符</p></figure></div><p id="2af9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我为这篇文章做研究之前，我总是对YAML感到沮丧，我想知道它为什么会存在。现在我明白了，它给JSON增加了很多很酷的特性，我可以在什么时候使用它做出更明智的决定。</p><h1 id="e030" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">信用</h1><p id="a979" class="pw-post-body-paragraph ky kz it la b lb mo ju ld le mp jx lg lh mq lj lk ll mr ln lo lp ms lr ls lt im bi translated">编辑:切尔西·布朗</p></div></div>    
</body>
</html>