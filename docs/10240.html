<html>
<head>
<title>7 Ways To Code Rock Paper Scissors in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript编写石头剪刀布的7种方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/7-ways-to-code-rock-paper-scissors-in-javascript-4189a5e7e535?source=collection_archive---------0-----------------------#2021-12-16">https://betterprogramming.pub/7-ways-to-code-rock-paper-scissors-in-javascript-4189a5e7e535?source=collection_archive---------0-----------------------#2021-12-16</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="57c7" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">因为即使是一个简单的问题也能教会很多东西</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/8fad5e5ab1a6c98d43d03f900f1d4c37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QVnxBKKBDvaoQPlW"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@marcus_wallis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马库斯·沃利斯</a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="24f5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">今天的谜题是<a class="ae kz" href="https://github.com/devadvent/puzzle-14" rel="noopener ugc nofollow" target="_blank"> Dev降临节日历的第14号🎅</a>，是精灵版的石头剪刀布。虽然它是基于一个简单的游戏，但创建一个数字版本提出了一些有趣的问题。这是一个可以用不同方法解决的经典问题。有趣的是理解如何简化代码，使其可读，最重要的是创建一个可以随意扩展的版本。</p><h1 id="e0b9" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">谜题:土-火-雪游戏🌍🔥❄️又名石头剪刀布💎📜✂️</h1><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mo"><img src="../Images/8b8960baf7b2b0985bc2aade894b37a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*msN-fH-9Gew-KV5E22t03A.jpeg"/></div></div></figure><p id="5fe6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">今天我有所不同。首先，我展示了我为竞赛提交的解决方案，然后我将报告我对我发现的各种备选方案的笔记。</p><p id="766d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们从代码开始:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="fb4a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">处理这个问题的方式似乎有点奇怪。我决定不使用经典的<code class="fe mr ms mt mu b">if...then...else</code>方法。我也不喜欢处理<code class="fe mr ms mt mu b">switch</code>变体:网上有上千个这种类型的教程。然而，我确实发现了一个充满技巧的旧的stackoverflow线程。</p><p id="b3fc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是一个有趣的建议，也是一个创造性解决方案的好例子。如果我们遵守游戏规则，我们会发现:</p><ul class=""><li id="7e01" class="mv mw iu lc b ld le lg lh lj mx ln my lr mz lv na nb nc nd bi translated"><em class="ne">土</em>熄灭<em class="ne">火</em> ( <em class="ne">石头</em>敲打<em class="ne">剪刀</em>)</li><li id="fe3e" class="mv mw iu lc b ld nf lg ng lj nh ln ni lr nj lv na nb nc nd bi translated"><em class="ne">雪</em>盖<em class="ne">土</em> ( <em class="ne">纸</em>捶<em class="ne">石</em>)</li><li id="514e" class="mv mw iu lc b ld nf lg ng lj nh ln ni lr nj lv na nb nc nd bi translated"><em class="ne">火</em>融<em class="ne">雪</em> ( <em class="ne">剪刀</em>击败<em class="ne">纸</em>)</li></ul><p id="1e3b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我们把它们排成一行，我们会注意到一件有趣的事情:</p><pre class="kk kl km kn gu nk mu nl nm aw nn bi"><span id="165e" class="no lx iu mu b gz np nq l nr ns">Earth, Snow, Fire<br/>Rock, Paper, Scissors</span></pre><p id="e812" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们以雪为例:雪打败了在他之前的元素，又被跟随他的元素打败。</p><p id="741e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我试着用一幅画来解释我自己，并玩了一个类似的游戏，但有更多的选择:石头-斯波克-布-蜥蜴-剪刀</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nt"><img src="../Images/136ac10c0905c939a472bae4a245dec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sA0m_cYr3KsVpFdvOR4ecg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="1aa5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我将符号按顺序排列，为每个符号创建一个不同的数组。主符号在中间，击败所有在它之前的符号。相反，所有的符号都打败了他。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="0b6a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">由于游戏的构建方式，数组元素的顺序总是相同的。这意味着一个构造良好的数组足以处理所有的规则。</p><p id="a20e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我可以用类似下面这个的函数来表达这个概念:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="e3d4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这个功能不是我的包，是由<a class="ae kz" href="https://stackoverflow.com/users/1081569/paulo-almeida" rel="noopener ugc nofollow" target="_blank">保罗·阿尔梅达</a>设计的。他的想法是使用一个数的模来进一步推广代码。我也推荐阅读几年前的这篇文章:<a class="ae kz" href="https://torstencurdt.com/tech/posts/modulo-of-negative-numbers/" rel="noopener ugc nofollow" target="_blank">负数的模</a>。</p><h1 id="b69b" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">用<code class="fe mr ms mt mu b">if()</code>编码石头剪刀</h1><p id="dadb" class="pw-post-body-paragraph la lb iu lc b ld nu jv lf lg nv jy li lj nw ll lm ln nx lp lq lr ny lt lu lv in bi translated">这种推理并不是解决问题的唯一方法。指南和视频通常建议先简单后复杂。例如，Ania Kubów制作的这个很长但做得很好的视频展示了3个经典解决方案</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz mq l"/></div></figure><p id="1ca3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">第一个解决方案，根据谜题的具体情况重新编写，大概是这样的:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="f370" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我认为有可能更进一步，使代码更简单。我发现避免使用条件的代码可读性更强。即使只是从视觉的角度来看，我也更喜欢简化代码，将代码分割成更小的部分。</p><h1 id="5bf1" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">带<code class="fe mr ms mt mu b">ifVal()</code>的密码石头剪刀</h1><p id="cbe9" class="pw-post-body-paragraph la lb iu lc b ld nu jv lf lg nv jy li lj nw ll lm ln nx lp lq lr ny lt lu lv in bi translated">每个问题都可以分解成更小的部分。每一个重复的步骤都可以变成一个函数。该代码重复报告类似于以下内容的代码:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="5a8d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我可以把这个比特变成一个函数:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="aaa7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这样，我可以用更短、更易读的代码来管理所有石头剪刀布选项:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><h1 id="1266" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">用<code class="fe mr ms mt mu b">switch()</code>编码石头剪刀</h1><p id="f3b7" class="pw-post-body-paragraph la lb iu lc b ld nu jv lf lg nv jy li lj nw ll lm ln nx lp lq lr ny lt lu lv in bi translated">Ania Kubów提出的另一种方法是使用<code class="fe mr ms mt mu b">switch</code>。这使得代码比之前的<code class="fe mr ms mt mu b">if</code>序列更具可读性。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><h1 id="eba0" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">带<code class="fe mr ms mt mu b">match()</code>的密码石头剪刀</h1><p id="fa6b" class="pw-post-body-paragraph la lb iu lc b ld nu jv lf lg nv jy li lj nw ll lm ln nx lp lq lr ny lt lu lv in bi translated">我也可以改变这个例子。为此，我采纳了Hajime Yamasaki Vukelic的建议:</p><div class="oa ob gq gs oc od"><a href="https://codeburst.io/alternative-to-javascripts-switch-statement-with-a-functional-twist-3f572787ba1c" rel="noopener follow" target="_blank"><div class="oe ab fp"><div class="of ab og cl cj oh"><h2 class="bd iv gz z fq oi fs ft oj fv fx it bi translated">对JavaScript的switch语句进行了功能上的修改</h2><div class="ok l"><h3 class="bd b gz z fq oi fs ft oj fv fx dk translated">通过8行简单的代码，我们得到了一个强大的、看起来很奇怪的switch语句的替代品，它包含了所有的…</h3></div><div class="ol l"><p class="bd b dl z fq oi fs ft oj fv fx dk translated">codeburst.io</p></div></div><div class="om l"><div class="on l oo op oq om or kt od"/></div></div></a></div><p id="b47e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我创建了<code class="fe mr ms mt mu b">match()</code>函数:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="e27b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然后我用它来管理规则和解决难题:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><h1 id="defe" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">向裁判教授石头剪刀布的规则</h1><p id="f6a8" class="pw-post-body-paragraph la lb iu lc b ld nu jv lf lg nv jy li lj nw ll lm ln nx lp lq lr ny lt lu lv in bi translated">到目前为止，我已经从一系列预定义和已知的规则开始着手解决这个问题。解决经典游戏功能就够了。但是我可以通过添加随意扩展规则的能力来让事情变得更有趣。</p><p id="9196" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当然，第一个解决方案可以很容易地通过用规则修改数组来扩展。但是我想尝试一种不同的方法。我可以创建一个学习游戏规则的对象(在JavaScript中一切都是对象，甚至是函数),并有能力决定哪个玩家赢得了游戏。换句话说，我想为石头剪刀布创建一个简单的AI裁判。</p><p id="c1e4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我创建了<code class="fe mr ms mt mu b">referee()</code>函数:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="43cd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">该功能应该能够学习规则并按需应用它:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="9271" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我如何向裁判解释规则？嗯，有例子。例如，我可以说<code class="fe mr ms mt mu b">learn</code>函数包含两个参数:第一个是获胜的符号，第二个是失败的符号。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="76c8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">显然，裁判必须有记忆力来保持他所学到的东西:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="9166" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe mr ms mt mu b">learn()</code>法允许你教裁判规则。对于基本游戏，我得到:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="116f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这个物体作为裁判的记忆。我可以用它和<code class="fe mr ms mt mu b">judge()</code>一起计算出两种符号组合中谁赢了:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="87cb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我把所有的碎片连接起来，我会得到一个可以用于所有游戏的函数，类似于石头剪子布:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="2ade" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">例如，我可以用以下方法解决这个难题:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="021e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">或者经典版，比如:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><h1 id="a6b4" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">使用JavaScript类实现石头剪刀布</h1><p id="934c" class="pw-post-body-paragraph la lb iu lc b ld nu jv lf lg nv jy li lj nw ll lm ln nx lp lq lr ny lt lu lv in bi translated">显然，下一步是将函数转换成JavaScript类。概念大致相同，只是稍微改变了代码的语法:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="70c3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我可以在我的解决方案中以类似的方式使用<code class="fe mr ms mt mu b">Referee()</code>类:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mp mq l"/></div></figure><p id="e84d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">嗯，就是这样。如我开头所说，用JavaScript做石头剪子布是一个简单的问题。嗯，就是这样。如我开头所说，使用JavaScript for Sasso Carta Forbice是一个简单的问题。然而，它对于学习更多关于JavaScript的许多方面是有用的。</p><p id="cdc8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl os ot hy ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="in io ip iq ir"><p id="9ef0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> <em class="ne">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae kz" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="lc iv"> <em class="ne">中邮箱列表</em> </strong> </a></p><div class="oa ob gq gs oc od"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="oe ab fp"><div class="of ab og cl cj oh"><h2 class="bd iv gz z fq oi fs ft oj fv fx it bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="ok l"><h3 class="bd b gz z fq oi fs ft oj fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="ol l"><p class="bd b dl z fq oi fs ft oj fv fx dk translated">el3um4s.medium.com</p></div></div><div class="om l"><div class="oz l oo op oq om or kt od"/></div></div></a></div></div><div class="ab cl os ot hy ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="in io ip iq ir"><p id="9366" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="ne">原载于</em><a class="ae kz" href="https://blog.stranianelli.com/7-ways-to-code-rock-paper-scissors-in-javascript/" rel="noopener ugc nofollow" target="_blank"><em class="ne">https://blog.stranianelli.com</em></a></p></div></div>    
</body>
</html>