<html>
<head>
<title>Improve Your Workflow With UIKit and Swift Live Previews</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用UIKit和Swift实时预览改进您的工作流程</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/improving-your-workflow-with-uikit-swift-previews-97ad5cdde742?source=collection_archive---------6-----------------------#2019-11-13">https://betterprogramming.pub/improving-your-workflow-with-uikit-swift-previews-97ad5cdde742?source=collection_archive---------6-----------------------#2019-11-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bf79" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">结合Playgrounds、UIKit和SwiftUI实现惊人的快速开发</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f0f9e9de09c039fed2d2274eda731db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vkP5f_K1n3Klrq-zeJDvMw.png"/></div></div></figure><p id="3484" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在构建UI的时候，我经常和其他很多iOS devs一样，陷入修改一些代码的怪圈，按<strong class="kt ir"> </strong> Cmd + R，等待…</p><p id="43b0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">等待中…</p><p id="6b06" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">应用程序启动…</p><p id="28f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">“呃…需要更多的左侧填充。”</p><p id="c0b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后我回到代码中，将前导锚常量从12改为16，接着是<strong class="kt ir"> </strong> Cmd + R，然后再等待一段时间。</p><p id="9aa0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">无论是哪种情况，对我来说都是低效的，但是我们都已经习惯了:编译和运行，只是为了看到基本的UI变化。</p><p id="8fdb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后苹果宣布<a class="ae ln" href="https://developer.apple.com/xcode/swiftui/" rel="noopener ugc nofollow" target="_blank"> SwiftUI </a>和<a class="ae ln" href="https://gist.github.com/mattt/ff6b58af8576c798485b449269d43607" rel="noopener ugc nofollow" target="_blank"> Swift预览</a>，这改变了游戏。在实施SwiftUI等新技术的同时与客户合作可能会很困难。尽管SwiftUI令人惊叹，但它并没有生产级稳定性的最长历史，而且说服客户使用这样的新框架有时可能是一项艰巨的任务。</p><p id="6792" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是作为一名自由职业者，我可以使用UIKit ，同时仍然拥有快速预览的优势。这有助于提高我的效率，同时也给了我实时UI渲染的满足感。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="3f92" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated"><strong class="ak">视图控制器</strong></h1><p id="4b3b" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">让我们从视图控制器开始:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="83a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后我们需要给文件提供一个<code class="fe mu mv mw mx b">PreviewProvider</code> <strong class="kt ir">。这将告诉Xcode我们想要看到一个预览。</strong></p><p id="286b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们的<code class="fe mu mv mw mx b">PreviewProvider</code>将由<strong class="kt ir"> </strong> <code class="fe mu mv mw mx b">VCPreview</code>来代表。</p><p id="f337" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了避免Xcode对我们发火，我们需要在预览中添加一个视图。我们可以用<code class="fe mu mv mw mx b">SwiftUI</code>添加一些文字。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="d3ae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，您应该会在右侧看到一个预览。如果没有，请继续选择。“编辑器”-&gt;“画布”(Alt + Command + Enter)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/3d0421cca7096110009723a106489449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kjEc1qq2z47qXcQVr4uOJg.png"/></div></div></figure><p id="f2de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">列表中的下一步是使用<strong class="kt ir"> </strong> <code class="fe mu mv mw mx b">UIViewControllerRepresentable</code>为预览提供一个表示我们的视图控制器的视图。在我们的<strong class="kt ir"> </strong> <code class="fe mu mv mw mx b">VCPreview</code>里面加上下面的<code class="fe mu mv mw mx b">struct</code>:</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="295e" class="nd lw iq mx b gy ne nf l ng nh">struct VCContainerView: UIViewControllerRepresentable {</span><span id="ca86" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><p id="5b36" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Xcode会告诉你:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/49ad2d2807f03aaaaf0d629ffdf4346f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i1442mipDootS6n69eNilQ.png"/></div></div></figure><p id="48d1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Xcode希望您为<code class="fe mu mv mw mx b">UIViewControllerType;</code>提供一个<code class="fe mu mv mw mx b">typealias</code>，在我们的例子中，它只是<code class="fe mu mv mw mx b">UIViewController</code>。</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="76d4" class="nd lw iq mx b gy ne nf l ng nh">struct VCContainerView: UIViewControllerRepresentable {</span><span id="a54e" class="nd lw iq mx b gy ni nf l ng nh">typealias UIViewControllerType = UIViewController</span><span id="c53e" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><p id="6de0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">继续并选择“修复”这将添加方法<code class="fe mu mv mw mx b">makeUIViewController</code>和<code class="fe mu mv mw mx b">updateUIViewController</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/d6f06658f1c3c611401747f7b67eaae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BwmTOY22tQV2jU9XJ7Bq4A.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/6c3881abdb6095239f0100437afd7abb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yTiB-sqvAnCcZk9AoZLjjQ.png"/></div></div></figure><p id="1637" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的<code class="fe mu mv mw mx b">makeUIViewController</code> <strong class="kt ir"> </strong>方法中，应该有一个<code class="fe mu mv mw mx b">UIViewController</code>的返回类型，这就是我们设置的<code class="fe mu mv mw mx b">typealias</code>的类型。简单地返回我们的视图控制器的名称，在我们的例子中是<code class="fe mu mv mw mx b">ViewController()</code>，并删除<code class="fe mu mv mw mx b">updateUIController</code>方法中的占位符:</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="a212" class="nd lw iq mx b gy ne nf l ng nh">func makeUIViewController(context: UIViewControllerRepresentableContext&lt;VCPreview.VCContainerView&gt;) -&gt; UIViewController {</span><span id="3318" class="nd lw iq mx b gy ni nf l ng nh">return ViewController()</span><span id="b83e" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><p id="fe20" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，还记得我们添加的那段文字吗，“你好，灵媒？”</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/9823828fda258b8afa5287a1966e93ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ft0joXN_LV5ZjRb6cGyXkw.png"/></div></div></figure><p id="5d75" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们把它去掉，换上我们的<code class="fe mu mv mw mx b">VCContainerView</code>。</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="5361" class="nd lw iq mx b gy ne nf l ng nh">static var previews: some View {</span><span id="e558" class="nd lw iq mx b gy ni nf l ng nh">VCContainerView()</span><span id="362d" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><p id="8268" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就是这样！现在，我们对视图控制器所做的任何UI更改都将反映在预览中。让我们从背景色开始:</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="6815" class="nd lw iq mx b gy ne nf l ng nh">class ViewController: UIViewController {</span><span id="c3cf" class="nd lw iq mx b gy ni nf l ng nh">override func viewDidLoad() {</span><span id="087b" class="nd lw iq mx b gy ni nf l ng nh">super.viewDidLoad()</span><span id="e44b" class="nd lw iq mx b gy ni nf l ng nh">view.backgroundColor = .blue</span><span id="5a0b" class="nd lw iq mx b gy ni nf l ng nh">// Do any additional setup after loading the view.</span><span id="f0b8" class="nd lw iq mx b gy ni nf l ng nh">}</span><span id="5600" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn mt l"/></div></figure><p id="6a62" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">默认情况下，预览会考虑安全区域，所以要扩展您的<code class="fe mu mv mw mx b">ViewController</code>预览，我们只需告诉<code class="fe mu mv mw mx b">VCContainerView</code>忽略预览的安全区域:</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="78af" class="nd lw iq mx b gy ne nf l ng nh">static var previews: some View {</span><span id="7ed5" class="nd lw iq mx b gy ni nf l ng nh">VCContainerView().edgesIgnoringSafeArea(.all)</span><span id="7488" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><p id="686d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这就是了。我们可以像往常一样使用UIKit在视图控制器上工作，我们的更改将反映在预览中。</p><p id="a29c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果试听暂停，请按“继续/再试一次”</p><p id="e3c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是最终的代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="c842" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">小预告:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn mt l"/></div></figure><p id="80a6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">像往常一样使用UIKit，现在预览中反映了更改。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="f7b7" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">带有子类视图的预览</h1><p id="bf10" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">如果你像我一样，你子类化你的视图和单元。我们可以使用<code class="fe mu mv mw mx b">UIViewRepresentable</code>以同样的方式查看预览。</p><h2 id="2a8b" class="nd lw iq bd lx no np dn mb nq nr dp mf la ns nt mh le nu nv mj li nw nx ml ny bi translated">1.创建视图</h2><p id="50ac" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">我们可以为任何UIView创建实时预览。在我们的例子中，我们将使用一个<code class="fe mu mv mw mx b">UITableViewCell</code>。</p><p id="20cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们从表格视图单元格开始。我们就叫它<code class="fe mu mv mw mx b">CustomTableViewCell</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/5110dfe4358a4754bfd9f1a00120acb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dohs0ZWiH3OOkBQFJZDkzw.png"/></div></div></figure><p id="52fa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们重写初始化器:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h2 id="2db2" class="nd lw iq bd lx no np dn mb nq nr dp mf la ns nt mh le nu nv mj li nw nx ml ny bi translated">2.预览提供者</h2><p id="93ef" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">现在让我们导入SwiftUI，并在我们的<code class="fe mu mv mw mx b">CustomTableViewCell</code>下创建我们的<code class="fe mu mv mw mx b">PreviewProvider</code>。我们就叫它<code class="fe mu mv mw mx b">CustomCellPreview</code>。</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="dd42" class="nd lw iq mx b gy ne nf l ng nh">struct CustomCellPreview: PreviewProvider {</span><span id="6cb8" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><p id="9e4e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们添加一个文本视图。</p><p id="ed38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您应该会再次在右侧看到预览:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/ee7eff0127ea9902949e24cf28d66ee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxVobXQGX9j2KDbxDjDB3w.png"/></div></div></figure><h2 id="de42" class="nd lw iq bd lx no np dn mb nq nr dp mf la ns nt mh le nu nv mj li nw nx ml ny bi translated">3.uiviewerepresentable</h2><p id="df5c" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">现在，使用<code class="fe mu mv mw mx b">UIViewRepresentable</code>，我们可以得到一个<code class="fe mu mv mw mx b">UITableViewCell</code>的预览。姑且称之为<code class="fe mu mv mw mx b">CellPreviewContainer</code>:</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="0844" class="nd lw iq mx b gy ne nf l ng nh">struct CustomCellPreview: PreviewProvider {</span><span id="f1f5" class="nd lw iq mx b gy ni nf l ng nh">static var previews: some View {</span><span id="b697" class="nd lw iq mx b gy ni nf l ng nh">Text(“HEY MEDIUM”)</span><span id="3045" class="nd lw iq mx b gy ni nf l ng nh">}</span><span id="c3ca" class="nd lw iq mx b gy ni nf l ng nh">struct CellPreviewContainer: UIViewRepresentable {</span><span id="5107" class="nd lw iq mx b gy ni nf l ng nh">}</span><span id="ddc2" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><h2 id="d806" class="nd lw iq bd lx no np dn mb nq nr dp mf la ns nt mh le nu nv mj li nw nx ml ny bi translated">4.Typealias</h2><p id="9deb" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">Xcode现在希望我们为<code class="fe mu mv mw mx b">UIViewType</code>提供一个<code class="fe mu mv mw mx b">typealias</code>。</p><p id="70b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为我们只想预览我们的单元格，所以这次我们的<code class="fe mu mv mw mx b">typealias</code>将是类型<code class="fe mu mv mw mx b">UITableViewCell</code>。</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="d1bb" class="nd lw iq mx b gy ne nf l ng nh">struct CellPreviewContainer: UIViewRepresentable {</span><span id="5f45" class="nd lw iq mx b gy ni nf l ng nh">typealias UIViewType = UITableViewCell</span><span id="c74a" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><h2 id="0f08" class="nd lw iq bd lx no np dn mb nq nr dp mf la ns nt mh le nu nv mj li nw nx ml ny bi translated">5.makeUIView</h2><p id="62d9" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">选择修复:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/427b27557ec6cff8109073d4ea43652d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*thUMqKms5jvHfLsGV8ahrw.png"/></div></div></figure><p id="e4ff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这影响了我们的方法<code class="fe mu mv mw mx b">makeUIView</code>和<code class="fe mu mv mw mx b">updateUIView</code>，使得我们的返回类型为<code class="fe mu mv mw mx b">UITableViewCell</code>的<code class="fe mu mv mw mx b">makeUIView</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/c872aff0a8552bc5755ef1f71a5a9f5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPhfgggjfnlxxsdymjPEYQ.png"/></div></div></figure><p id="ae5f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe mu mv mw mx b">makeUIView</code>中，让我们返回单元格的名称(<code class="fe mu mv mw mx b">CustomTableViewCell</code>)并删除<code class="fe mu mv mw mx b">updateUIView</code>中的占位符:</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="3b64" class="nd lw iq mx b gy ne nf l ng nh">struct CellPreviewContainer: UIViewRepresentable {</span><span id="a02f" class="nd lw iq mx b gy ni nf l ng nh">func makeUIView(context: UIViewRepresentableContext&lt;CustomCellPreview.CellPreviewContainer&gt;) -&gt; UITableViewCell {</span><span id="98a6" class="nd lw iq mx b gy ni nf l ng nh">return CustomTableViewCell()</span><span id="409a" class="nd lw iq mx b gy ni nf l ng nh">}</span><span id="4831" class="nd lw iq mx b gy ni nf l ng nh">func updateUIView(<strong class="mx ir">_</strong> uiView: UITableViewCell, context: UIViewRepresentableContext&lt;CustomCellPreview.CellPreviewContainer&gt;) {</span><span id="3ed5" class="nd lw iq mx b gy ni nf l ng nh">}</span><span id="1ee0" class="nd lw iq mx b gy ni nf l ng nh">typealias UIViewType = UITableViewCell</span><span id="e6bd" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><h2 id="9f2a" class="nd lw iq bd lx no np dn mb nq nr dp mf la ns nt mh le nu nv mj li nw nx ml ny bi translated">6.将视图添加到预览</h2><p id="85ed" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">让我们删除“Hello Medium”文本，并替换为我们的<code class="fe mu mv mw mx b">CellPreviewContainer()</code>，更改如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/e9333c9cedb9c8e31bdaaffd3db1369f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sD4XL6P48zhhqBxbF7lmgA.png"/></div></div></figure><p id="bf4b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对此:</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="1a84" class="nd lw iq mx b gy ne nf l ng nh">static var previews: some View {</span><span id="7ee2" class="nd lw iq mx b gy ni nf l ng nh">CellPreviewContainer()</span><span id="bbe7" class="nd lw iq mx b gy ni nf l ng nh">}</span></pre><h2 id="da84" class="nd lw iq bd lx no np dn mb nq nr dp mf la ns nt mh le nu nv mj li nw nx ml ny bi translated"><strong class="ak"> 7。给视图一个框架</strong></h2><p id="c62e" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">让我们给我们的<code class="fe mu mv mw mx b">CellPreviewContainer</code>一个框架和对齐，否则它会占据整个预览屏幕。</p><pre class="kg kh ki kj gt mz mx na nb aw nc bi"><span id="c15b" class="nd lw iq mx b gy ne nf l ng nh">static var previews: some View {</span><span id="1af1" class="nd lw iq mx b gy ni nf l ng nh">CellPreviewContainer().frame(width: UIScreen.main.bounds.width, height: 50, alignment: .center)</span><span id="4e1d" class="nd lw iq mx b gy ni nf l ng nh">}<br/></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/a573c0c131ae95ca459f56326804337a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*45K6ZuGQXtyRyfqoaLGVbg.png"/></div></div></figure><h2 id="4c9d" class="nd lw iq bd lx no np dn mb nq nr dp mf la ns nt mh le nu nv mj li nw nx ml ny bi translated">8.瞧</h2><p id="1a33" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">像往常一样用<code class="fe mu mv mw mx b">UIKit</code>构建您的单元格，并在预览中观察您的更改生效。</p><p id="9624" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们从改变初始化程序中的背景颜色开始:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/c5b2f01e0c6bca7be51fcf0979f8f4f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ILUg6SWcIVkOuedzzOs2og.png"/></div></div></figure><p id="afd1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">只需一点点设置，您就可以使用UIKit极大地改善您的工作流程！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="og mt l"/></div></figure><p id="f45d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是该项目的源代码。</p></div></div>    
</body>
</html>