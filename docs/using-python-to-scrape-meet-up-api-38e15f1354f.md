# 使用 Python 抓取相遇 API

> 原文：<https://betterprogramming.pub/using-python-to-scrape-meet-up-api-38e15f1354f>

## 如何开始收集 Meet-up 和 Eventbrite APIs 来创建一个事件聚合站点

![](img/da2644afe713a2bb5a0d0daae8a95375.png)

杰伊·温宁顿在 [Unsplash](https://unsplash.com/search/photos/web-development?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

我们最近给[发布了一些你可以接手的项目](https://medium.com/better-programming/10-great-programming-projects-to-improve-your-resume-and-learn-to-program-74b14d3e9e16)的想法，添加到你的简历中，帮助你学习更多编程知识。

其中一个项目涉及抓取 Meet-up 和 Eventbrite APIs 来创建一个事件聚合站点。

这是一个伟大的项目，它提供了接受几个概念的机会。您可以使用这个想法来制作一个警报系统——用户输入他们的 API 键来跟踪他们感兴趣的本地事件。你可以开发一个网站，通过跟踪一段时间内的指标来预测哪些现场表演会变得非常受欢迎。

老实说，API 提供了相当多的数据，甚至给了你会员的名字(如果会员通过认证，可能还会给你发邮件)。这很有趣——您可以使用这些数据作为自己网站的基础！

# 开始

要开始这个项目，请分解构建后端所需的基本部分。您很可能需要:

*   API“刮刀”
*   数据库接口
*   操作数据库
*   数据仓库(可选)
*   ORM

首先，你需要开发一个 scraper 类。这个类应该与您正在进行的特定 API 调用无关。这样，您可以避免为每个调用创建特定的类或脚本。此外，当 API 发生变化时，您不必花费太多时间来检查每个脚本以更新每个变量。

相反，您只需要浏览并更新配置。

也就是说，我们不建议马上尝试开发一个完全抽象的类。试图从一开始就构建一个没有硬编码变量的完美抽象的类是很困难的。如果出现任何问题或不工作，那么由于抽象层的存在，调试会更加困难。

我们将从尝试开发有效的部件开始。

您需要做出的第一个决定是 scraper 将把数据放在哪里。我们正在创建一个文件夹结构，其中每天都有自己的文件夹。

您可以使用服务器上的通用文件夹、S3 或类似的原始文件结构。这些提供了轻松存储我们存储在 JSON 文件中的原始数据的能力。其他数据存储方法，如 csv 和 tsv，被描述数据的格式化方式抛弃了。

让我们看一看基本脚本。思考如何更好地配置和重构代码库，以便更好地开发。

## 视频演示

一个直接的地方是 API 键。当你测试的时候，很容易硬编码你自己的 API 密匙。但是如果您的最终目标是允许多个用户访问这些数据，那么您将希望设置他们的 API 键。

您想要更新的下一部分是对您正在拉取的数据的硬编码引用。这种硬编码限制了代码只能处理一个 API 调用。这方面的一个例子是我们如何提取不同的端点，并从返回的内容中引用您想要提取的字段。

对于这个例子，我们只是转储 JSON 中的所有内容。也许您想要非常挑剔—在这种情况下，您可能想要配置将哪些列附加到每个字段。

例如:

这允许您创建一个不知道您将使用哪个 API 事件的 scraper。它将设置放在代码之外，这样更容易维护。

例如，如果 Meet-up 更改了 API 端点或列名，会发生什么情况？你可以直接修改配置文件，而不必进入 10 个不同的代码文件。

下一个阶段是创建一个数据库和 ETL 来加载和存储所有数据，以及一个自动将 JSON 文件中的数据解析到操作风格数据库中的系统。这个数据库可以用来帮助跟踪您可能感兴趣的事件。此外，创建数据仓库有助于跟踪指标。

也许你对人们回复活动的速度感兴趣，或者对活动销售一空的速度感兴趣。

在此基础上，您可以分析哪些类型的描述或组会很快用完槽。

就个人而言，你可以进行很多有趣的分析。

在接下来的几周和几个月里，我们将继续开发这个项目。这包括建立一个数据库，也许做一些分析，等等！

我们希望你喜欢这篇文章！