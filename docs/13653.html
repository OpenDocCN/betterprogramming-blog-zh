<html>
<head>
<title>How to Turn a div Into an Accessible Button in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中将div变成可访问的按钮</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-turn-a-div-into-an-accessible-button-in-react-fbf236283d6d?source=collection_archive---------7-----------------------#2022-09-14">https://betterprogramming.pub/how-to-turn-a-div-into-an-accessible-button-in-react-fbf236283d6d?source=collection_archive---------7-----------------------#2022-09-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b3a8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建辅助按钮</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6840cc2bb41f338eadc7a377bdbe7053.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BLQAKsgR35ymw0qB"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@campaign_creators?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">活动创建者</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="e0bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在React中，通过向不是<code class="fe ls lt lu lv b">&lt;button&gt;</code>的元素添加<code class="fe ls lt lu lv b">onClick</code>事件来制作按钮是很常见的。</p><p id="11c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建按钮时偷工减料会损害用户体验，尤其是在可访问性方面。使用键盘、屏幕阅读器或其他辅助技术的用户可能无法与该按钮进行交互。</p><p id="3554" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文将分解非语义按钮产生的问题，并一步一步地解释如何创建一个功能性和可访问的按钮。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">不是可访问的按钮</p></figure><h1 id="3613" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">是什么让按钮变得容易操作？</h1><p id="5fc0" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">可访问按钮具有焦点，可以通过空格键和回车键激活。此外，该按钮具有<code class="fe ls lt lu lv b">'button'</code>的作用，并且具有可访问的名称。</p><p id="62b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">示例中的按钮可能看起来像按钮，但它是不可访问的。屏幕阅读器不会将元素识别为按钮，因此屏幕阅读器不会将元素作为按钮呈现给用户。用键盘浏览网页的人将不能与该元素交互。只有用鼠标浏览网页的人才能激活这个按钮。</p><h1 id="5d83" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">把<code class="fe ls lt lu lv b">div</code>变成按钮的最好方法</h1><p id="17e3" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">理想情况下，你可以通过交换<code class="fe ls lt lu lv b">&lt;div&gt;</code>和<code class="fe ls lt lu lv b">&lt;button&gt;</code>来实现这个按钮。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="b48d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">开箱即用，更新的按钮是键盘可访问的，有一个可见的焦点状态，并可以由屏幕阅读器宣布。</p><h1 id="da65" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">如何移除默认按钮样式</h1><p id="2120" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated"><code class="fe ls lt lu lv b">&lt;button&gt;</code>元素包含默认样式，所以这个按钮看起来与第一个例子中的按钮有点不同。我们可以从按钮中删除一些默认样式。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="67d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我不建议从按钮样式中删除<code class="fe ls lt lu lv b">outline</code>属性。</p><p id="8836" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">属性为按钮提供可见的焦点状态。<a class="ae kv" href="https://www.w3.org/TR/WCAG21/#focus-visible" rel="noopener ugc nofollow" target="_blank"> WCAG成功标准2.4.7 </a>规定交互元素必须有一个可见的焦点指示器。焦点状态突出显示交互元素。它帮助用键盘浏览页面的人找到他们在页面上的位置。</p><p id="9878" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以依赖浏览器获得默认的焦点轮廓，也可以自行设计。如果您自己设计，为了使样式符合<a class="ae kv" href="https://www.w3.org/TR/WCAG21/#non-text-contrast" rel="noopener ugc nofollow" target="_blank"> WCAG成功标准1.4.11 </a>，请确保元素的焦点轮廓与背景颜色的对比度至少为3:1。</p><h1 id="f8d8" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">为什么用div代替按钮？</h1><p id="7325" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">同样，我建议尽可能使用HTML <code class="fe ls lt lu lv b">&lt;button&gt;</code>元素，不要创建自己的按钮。然而，有时由于约束，您不得不用一个<code class="fe ls lt lu lv b">&lt;div&gt;</code>或另一个非按钮元素来凑合。例如，如果您使用的应用程序使用的UI库不使用语义按钮元素作为按钮，您可能需要向该元素添加属性，以便可以访问它。</p><h1 id="61e6" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">如何将div转换成可访问的按钮？</h1><h2 id="355b" class="mv lz iq bd ma mw mx dn me my mz dp mi lf na nb mk lj nc nd mm ln ne nf mo ng bi translated">1.添加角色='button '</h2><p id="dfc6" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">有必要添加<code class="fe ls lt lu lv b">role='button'</code>，以便辅助技术可以将元素作为按钮呈现给用户。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">角色为“button”的不可访问按钮</p></figure><p id="2cb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/button_role" rel="noopener ugc nofollow" target="_blank">按钮角色</a>允许屏幕阅读器将元素识别为按钮，但是该角色并没有赋予元素按钮功能。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/d9179b81d83ebbc4a0238fa91ccbca16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6mxGXeI2UX5Kms_j4TK_xA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">VoiceOver显示带有role =“button”的元素列表</p></figure><p id="3e7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按钮是一种交互式HTML元素，用户可以用鼠标、手指、键盘、语音命令或其他辅助技术来触发它。对于按钮角色，元素现在被屏幕阅读器识别为按钮；但是，它不能通过键盘访问。</p><h2 id="2f6f" class="mv lz iq bd ma mw mx dn me my mz dp mi lf na nb mk lj nc nd mm ln ne nf mo ng bi translated">2.添加tabIndex='0 '</h2><p id="d937" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex" rel="noopener ugc nofollow" target="_blank"> Tabindex </a>使一个元素可通过键盘聚焦。通过添加<code class="fe ls lt lu lv b">tabIndex='0'</code>，按钮可通过键盘操作。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">tabIndex =“0”的不可访问按钮</p></figure><p id="d052" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，该按钮具有焦点状态，但是键盘不能激活该按钮。键盘事件处理程序必须添加到元素中。</p><h2 id="3a7a" class="mv lz iq bd ma mw mx dn me my mz dp mi lf na nb mk lj nc nd mm ln ne nf mo ng bi translated">3.添加键盘事件处理程序</h2><p id="f1c5" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">因为Enter和Space键预计会触发可访问按钮的<code class="fe ls lt lu lv b">onClick</code>事件，所以我们需要添加一个功能，即点击任意一个键都会触发按钮。我们可以通过向按钮添加事件<code class="fe ls lt lu lv b">onKeyDown</code>来做到这一点。当按下任何键时，但在浏览器处理该键之前，触发<code class="fe ls lt lu lv b">onKeyDown</code>事件。由于空格键默认触发页面滚动，我们需要使用<code class="fe ls lt lu lv b">onKeyDown</code>函数中的<code class="fe ls lt lu lv b">preventDefault</code>方法。<code class="fe ls lt lu lv b">preventDefault</code>方法取消被触发的键，这是可能的，因为<code class="fe ls lt lu lv b">onKeyDown</code>事件在浏览器处理被触发的键之前被触发。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">易操作的按钮</p></figure><h2 id="8a52" class="mv lz iq bd ma mw mx dn me my mz dp mi lf na nb mk lj nc nd mm ln ne nf mo ng bi translated">4.禁用状态</h2><p id="8bff" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">当按钮的操作不可用时，您可能想要禁用它，这样用户就不能与它交互。当<code class="fe ls lt lu lv b">&lt;button&gt;</code>元素具有属性<code class="fe ls lt lu lv b">disabled=true</code>时，<code class="fe ls lt lu lv b">&lt;button&gt;</code>在键盘上是不可聚焦的，并且被不透明度覆盖。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="9d43" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重要的是要注意到<a class="ae kv" href="https://www.smashingmagazine.com/2021/08/frustrating-design-patterns-disabled-buttons/#the-downsides-of-disabled-buttons" rel="noopener ugc nofollow" target="_blank">禁用的按钮有缺点</a>，例如不通知用户为什么按钮被禁用，并且键盘不可聚焦。但是，有些情况下包含一个禁用按钮也可以，比如防止用户意外提交表单两次。</p><p id="21ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我们已经变成可访问按钮的<code class="fe ls lt lu lv b">&lt;div&gt;</code>,在视觉上，它可以通过样式设置为禁用状态。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="dc02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">添加<code class="fe ls lt lu lv b">pointer-events: none;</code>使按钮不可点击。但是，该按钮仍然具有焦点状态。为了使键盘不可聚焦，需要将<code class="fe ls lt lu lv b">tabIndex</code>从0改为-1。最后，我们需要添加属性<code class="fe ls lt lu lv b">aria-disabled='true'</code>，以便屏幕阅读器向用户显示按钮被禁用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lw lx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">禁用按钮</p></figure><p id="33eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些步骤使元素的禁用状态类似于<code class="fe ls lt lu lv b">&lt;button&gt;</code>元素的<code class="fe ls lt lu lv b">disabled</code>状态。然而，有一些方法可以让<a class="ae kv" href="https://css-tricks.com/making-disabled-buttons-more-inclusive/" rel="noopener ugc nofollow" target="_blank">被禁用的按钮更具包容性</a>，比如让按钮成为可聚焦的，并显示帮助文本解释为什么按钮被禁用。</p><h1 id="5c46" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">结论</h1><p id="6f07" class="pw-post-body-paragraph kw kx iq ky b kz mq jr lb lc mr ju le lf ms lh li lj mt ll lm ln mu lp lq lr ij bi translated">创建可访问的按钮可以确保所有用户都可以与按钮进行交互，而不管他们的能力如何。重要的是，该按钮可以用键盘激活，并且辅助技术可以将该元素识别为按钮。</p><p id="ef46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望，在读完这篇文章后，你能检查一下你网站上的按钮是否是可访问的。如果它们缺少属性，如屏幕阅读器无法识别或需要可见的焦点状态，请确保进行适当的更改，以便可以访问它们。当你使你的网站可访问时，它改善了每个人的用户体验。</p><h1 id="0e39" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">资源</h1><ul class=""><li id="66f7" class="ni nj iq ky b kz mq lc mr lf nk lj nl ln nm lr nn no np nq bi translated"><a class="ae kv" href="https://www.w3.org/WAI/ARIA/apg/patterns/button/" rel="noopener ugc nofollow" target="_blank"> ARIA创作实践指南:按钮</a></li><li id="99d2" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://www.w3.org/TR/WCAG21/#focus-visible" rel="noopener ugc nofollow" target="_blank"> WCAG成功准则2.4.7重点可见2.4.7 </a></li><li id="ddc8" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://www.w3.org/TR/WCAG21/#non-text-contrast" rel="noopener ugc nofollow" target="_blank"> WCAG成功准则1.4.11非文本对比</a></li><li id="8ed6" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/button_role" rel="noopener ugc nofollow" target="_blank">ARIA上的MDN文档:按钮角色</a></li><li id="ab76" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button" rel="noopener ugc nofollow" target="_blank">关于&lt;按钮&gt;的MDN文档:按钮元素</a></li><li id="a7d5" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://www.yanandcoffee.com/2020/08/10/button-vs-div/" rel="noopener ugc nofollow" target="_blank">按钮与分区的可访问性</a></li><li id="08fd" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://www.smashingmagazine.com/2021/08/frustrating-design-patterns-disabled-buttons/" rel="noopener ugc nofollow" target="_blank">令人沮丧的设计模式:禁用的按钮</a></li><li id="ec1e" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://css-tricks.com/making-disabled-buttons-more-inclusive/" rel="noopener ugc nofollow" target="_blank">使禁用的按钮更具包容性</a></li><li id="6671" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://www.smashingmagazine.com/2009/11/designing-css-buttons-techniques-and-resources/" rel="noopener ugc nofollow" target="_blank">设计CSS按钮:技术和资源</a></li><li id="a578" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><a class="ae kv" href="https://uxplanet.org/7-basic-rules-for-button-design-63dcdf5676b4" rel="noopener ugc nofollow" target="_blank"> 7按钮设计的基本规则</a></li></ul></div></div>    
</body>
</html>