<html>
<head>
<title>Build SwiftUI Games Using SpriteKit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SpriteKit构建SwiftUI游戏</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-swiftui-games-using-spritekit-deb069535765?source=collection_archive---------4-----------------------#2021-06-16">https://betterprogramming.pub/build-swiftui-games-using-spritekit-deb069535765?source=collection_archive---------4-----------------------#2021-06-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="88c8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">SwiftUI、SpriteKit和缺失触摸手势</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7ef573fbe1b151b6cacea50471e843fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MtcPmyTQDRh_XmcS"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">迈克尔·泽兹奇在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="c2c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://developer.apple.com/spritekit/" rel="noopener ugc nofollow" target="_blank"> SpriteKit </a>到现在已经差不多十年了，在2013年的WWDC问世，在2014年、2016年、2017年、2019年被修订，甚至在2020年的WWDC也被提及。</p><p id="38e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是苹果创造2D游戏的框架。这很容易使用，也是一个非常好的方法来教年轻的程序员他们的手艺。搜索所有你喜欢的关于如何实现它的文档。你会发现大多数文章要么关注基础知识(如<a class="lv lw ep" href="https://medium.com/u/72b89c11cbe0?source=post_page-----deb069535765--------------------------------" rel="noopener" target="_blank"> Felicity Johnson </a>在本文中所做的<a class="ae ky" href="https://medium.com/@felicity.johnson.mail/spritekit-basics-bc5c44a7f013" rel="noopener">)要么全力以赴(例如</a><a class="lv lw ep" href="https://medium.com/u/f463ee1c1651?source=post_page-----deb069535765--------------------------------" rel="noopener" target="_blank"> Dylan Shine </a>整理了<a class="ae ky" href="https://medium.com/@dylanshine/building-my-first-ios-game-with-sprite-kit-d618a0848fac" rel="noopener">一份关于构建游戏的超级令人印象深刻的指南</a>)。</p><p id="599d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它们都是很棒的文章，我也想做一个游戏，但是我想从Artturi Jalli的角度来看这个问题。这不是一个游戏，但说明了如何使用SpriteKit和SwiftUI。</p><p id="ea09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们回到2019年，当时苹果无意中透露，你现在可以在SwiftUI界面中添加一个<code class="fe lx ly lz ma b">SKScene</code>。你可以用这些不朽的诗句:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="3cfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本代码中提到的<code class="fe lx ly lz ma b">GameScene</code>由以下代码制作:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="148b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信这段代码片段来自苹果的一篇新闻稿，记录了新的功能。它显示了一个黑色的方块，你可以在上面通过触摸来生成精灵。当你触摸的时候，它们会掉到地上。这是一种游戏，但是等等。再读一遍这段。</p><p id="6533" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有印象吗？不久前，我写了一篇关于使用拖拽来模拟SwiftUI军械库中一个丢失的手势的文章— <code class="fe lx ly lz ma b">touch</code>。</p><div class="md me gp gr mf mg"><a rel="noopener  ugc nofollow" target="_blank" href="/drag-swipe-and-touch-gestures-in-swiftui-fa5364090745"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">SwiftUI中的拖动、滑动和触摸手势</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">看看SwiftUI 2.0中的一些新手势</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">better编程. pub</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu ks mg"/></div></div></a></div><p id="3390" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它工作得很好——你得到一个各种各样的<code class="fe lx ly lz ma b">touch</code>,你只需要移动你的手指就可以让它注册。这没问题，但我们可以用不同的方式来做。我很想说<em class="mv">更好</em>，但是有一个警告我稍后会提到。</p><p id="1064" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在SwiftUI中使用SpriteKit，您就有了真正的<code class="fe lx ly lz ma b">touch</code>手势。让我们探索一下如何使用SpriteKit在SwiftUI上实现<code class="fe lx ly lz ma b">touch</code>。我们将通过构建一个简单的游戏来实现这一点。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="2ef9" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">编码器</h1><p id="27f3" class="pw-post-body-paragraph kz la it lb b lc nv ju le lf nw jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">我想在我的第一台计算器上实现一个游戏。这是《太空入侵者》的早期版本。它的工作方式是，你有一个简单的显示器，上面会出现数字，当它们出现时，你需要按下所说的数字，让它消失。它是这样工作的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/23036a5564950def1018de41d04b9b0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/1*F_wNL1H_mrZDFEpzITsJ2A.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">通过SpriteKit在SwiftUI中使用触摸的简单游戏</p></figure><p id="40c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">九个盒子都是<code class="fe lx ly lz ma b">SceneKit</code>的实例，其中有<code class="fe lx ly lz ma b">SKLabelNode</code>。使用SwiftUI中的<code class="fe lx ly lz ma b">LazyHGrid</code>对盒子进行布局。在每个<code class="fe lx ly lz ma b">SceneKit</code>对象中，我正在观察屏幕上是否出现了<code class="fe lx ly lz ma b">touch</code>事件。</p><p id="262c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当发生触摸时，它会将我的<code class="fe lx ly lz ma b">SpriteView</code>上的背景更改为红色。当触摸结束时，它返回黑色。白色圆圈是在SwiftUI中绘制在SpriteKit视图的顶部。</p><p id="0908" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当你按下“重置”，游戏开始，棋盘顶部的数字慢慢变大。你的任务是找到键盘上的数字，按下它们，让它们消失。</p><p id="952f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你设法让所有的数字消失，那么字符串变大所需的时间将减少一半，你必须以两倍的速度完成这项工作。如果数字达到十位数，游戏就结束了。</p><p id="1829" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您需要显示一个计时器以及正在使用的延迟。这样做，你就可以挑战你的朋友，看谁能在最短的时间内坚持最久。因为这是简单的版本，你可以按任何顺序在键盘上敲击数字。硬版本应该限制你先打最左边的数字。额外学分的第二个任务。</p><p id="cb96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在看到这里并不容易，但是要理解正在发生的事情。尽管乍一看我们好像在使用<code class="fe lx ly lz ma b">tap</code>，但我们并没有。我们用的是<code class="fe lx ly lz ma b">touch</code>。</p><p id="e79c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lx ly lz ma b">SceneKit</code>，我们实际上可以用SwiftUI构建实现<code class="fe lx ly lz ma b">touch</code>手势，尽管我想提一个警告。我在按钮上画的圆圈实际上会挡住<code class="fe lx ly lz ma b">touch</code>手势。在这个例子中，我可以摆脱它，但是如果你认为你可以使用这个技术，你需要记住这一点。</p><p id="951f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是动画GIF/游戏的代码供您更新:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="ffde" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">结论</h1><p id="e9f5" class="pw-post-body-paragraph kz la it lb b lc nv ju le lf nw jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">这让我想到了这篇文章的结尾。我希望你喜欢读它，就像我喜欢写它一样。在Medium上关注我，获取更多关于Swift编码的文章，或者查阅我的一些其他文章。</p><div class="md me gp gr mf mg"><a href="https://marklucking.medium.com" rel="noopener follow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">马克·卢金-中号</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">用户是全球商业模式的命脉，事实上，当……</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">marklucking.medium.com</p></div></div><div class="mp l"><div class="ob l mr ms mt mp mu ks mg"/></div></div></a></div></div></div>    
</body>
</html>