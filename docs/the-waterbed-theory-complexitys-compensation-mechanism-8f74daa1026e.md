# 水床理论——复杂性的迂回补偿机制

> 原文：<https://betterprogramming.pub/the-waterbed-theory-complexitys-compensation-mechanism-8f74daa1026e>

## 保持软件工程特性平衡的技巧

![](img/1d26a7d0739eab4e2e2d1805c59580e8.png)

莱纳斯·尼隆德在 [Unsplash](https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

你听说过水床理论吗？我想你们都熟悉[水床](https://en.wikipedia.org/wiki/Waterbed)。水床可能很有趣，但主要问题(至少对于便宜的型号来说)是它们的稳定性。

如果你坐在它的一边，另一边会光荣地站起来补偿。然后，你可能会试图平衡这一部分，却只能眼睁睁地看着其他部分取而代之。这使得平衡几乎不可能实现，除非你完全静止不动。这不太方便，这可能是水床过时的原因。

我不是来讨论水床的，尽管它们可能很有趣。我希望我们用这种坎坷的经历来类比生活中的其他领域，就我们而言——软件工程。

好的软件工程都是关于管理复杂性的。你不希望你的代码太复杂；否则，几乎不可能维持下去。你不希望你的应用程序太复杂；否则，你的用户将无法享受它们。当你是它的生产者时，复杂性是好的，但当你是消费者时，事情往往会大不相同。这就是为什么初级工程师可能会陶醉于他们对问题的复杂解决方案，而高级工程师会考虑其后果——不可维护的代码。

![](img/4d2643d8544758f9cd41911ae5f14387.png)

[布雷特·乔丹](https://unsplash.com/@brett_jordan?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

只有一个问题。管理软件的复杂性不是一件容易的事情。[最初的水床理论](http://wiki.c2.com/?WaterbedTheory)讨论的正是这个问题。当您试图降低应用程序的复杂性时，它往往只是从一个地方“转移”到另一个地方。让我用两个现实生活中的例子来说明这个问题，这两个例子给了我惨痛的教训。它们将帮助您理解我们在构建软件解决方案时隐含的权衡。

# “一体化”SaaS 应用程序

一个更常见的非预期复杂性的例子是一体化的 SaaS 应用程序。一方面，它为客户提供一站式服务，只需一个应用程序就能满足他们的所有需求。另一方面，没有人能真正使用它而不花费数千美元在“学院课程”上，这些课程由 SaaS 应用程序的公司忠实地提供。对于 SaaS 公司来说，这是一个相当不错的商业模式，但它并没有真正为客户提供良好的体验。

它提出的解决方案引入了复杂性的变化，而不是真正的降低。是的，你不必使用 2-3 个不同的应用程序来满足你的要求，但你的一体化应用程序需要如此陡峭的学习曲线，这实际上是不可用的。请不要误解我的意思，我并不是说每一个功能丰富的 SaaS 应用程序都面临这种困境，但从我的个人经验来看，这是一个非常普遍的问题，仍然会给我的团队使用这样的应用程序带来挑战。

# 面向非技术用户的应用

这是我亲自参与的另一个有趣的用例。我们希望构建一个健壮的数据管道，对于开发人员来说非常容易维护，甚至更容易使用，因为它是为非技术用户设计的。为了做到这一点，我们决定构建一个低代码的解决方案，重在配置。

我们的假设是，拥有极其通用的代码将使非技术用户能够轻松地自行配置新的营销活动。不再需要等待开发团队(也就是我们)来帮助他们。双赢的局面，至少我们是这么认为的。为了实现这一点，我们需要最终将后端连接到一些简洁的 UI 上。随着时间的推移，我们找不到这样做的资源。此外，感觉即使我们真的构建了一个 UI，对于非技术用户来说仍然很难使用它，因为管道变得比我们预期的更复杂。

我们认为这还不算太糟。该项目的一个原因是提高我们团队的速度，所以如果我们是主要的消费者，这是很好的。事实上，支持新营销活动的流程已经大大改进。大多数新事件需要一个简单的配置设置，这是很好的。然而，我们发现越来越多的事件需要进行重要的修改，而简单的通用代码更容易做到这一点。

这种配置一方面降低了复杂性——通过配置设置通用事件，另一方面却增加了复杂性——支持重要事件。此外，琐碎事件与非琐碎事件的比率没有我们想象的那么有利，所以它进一步降低了前面提到的好处。

# 我们如何避免水床项目？

老实说，你不能总是预测一个项目是否会是一个“水床”项目。很难预料复杂性的降低会如何导致系统其他部分的复杂性增加。正如我们在数据管道项目中所经历的，我们预期的琐碎事件与非琐碎事件的比率相差很大。在实施解决方案之前，这种数据很难获得。

我发现最有用的是从小处着手，专注于简单。一个简单可行的解决方案通常比一个提供更多功能的复杂解决方案更好，因为这些功能更难维护和使用。当你想增加更多的复杂性时，总是要考虑权衡，以及你是否真的要降低整个项目的复杂性。

通常，你只是将复杂性从系统的一部分转移到另一部分。专注于需要一次性复杂性投资的解决方案，一旦完成就能获得简单性红利。

此外，尝试寻找有类似项目实施经验的人。他们通常能够引导你远离“水床”解决方案。

# 底线

水床理论，就像它的物理对应物一样，是一个非常有趣的理论。它的主要论点是，许多项目并没有真正解决问题，它们只是将复杂性从一个地方转移到另一个地方。我们的目标是真正解决问题，或者至少从整体上降低复杂性。

要做到这一点，我们需要意识到我们的解决方案的[二阶](https://personalmba.com/second-order-effects/)效应，并关注简单性。保持简单不一定总能产生完美的解决方案，但这是降低复杂性的可靠方法，这增加了产生有用解决方案的机会。