<html>
<head>
<title>How To Clone or Copy a List in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中克隆或复制列表</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-clone-or-copy-a-list-in-python-9c3e15c92bf0?source=collection_archive---------6-----------------------#2019-10-23">https://betterprogramming.pub/how-to-clone-or-copy-a-list-in-python-9c3e15c92bf0?source=collection_archive---------6-----------------------#2019-10-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="60c1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python中有多种复制/克隆列表的选项</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d4c1837ff3c852d12b4beb1698ee4099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O5xH1XNmeaDPzfRWt18HYA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">凯莉·西克玛在<a class="ae ky" href="https://unsplash.com/s/photos/list?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="77a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用列表与原始数据类型有点不同，因为将新变量设置为与现有变量相等将创建一个引用，而不是一个独立的副本。</p><p id="e9a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面将说明这一点:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7a21" class="ma mb it lw b gy mc md l me mf">a = 4<br/>b = a<br/>a = 5<br/>print(a,b) # 5,4</span><span id="170d" class="ma mb it lw b gy mg md l me mf">a = [1,2]<br/>b = a<br/>a.append(3)<br/>print(a,b) # [1,2,3] [1,2,3]</span></pre><p id="b546" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，当追加到列表<em class="mh"> a </em>时，我们的新列表<em class="mh"> b </em>也受到了影响。所以回到我们最初的问题:我们如何克隆或复制一个列表？</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="8c75" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">定义新列表</h1><p id="f2f7" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">一个简单的方法是使用<code class="fe nl nm nn lw b">list()</code>函数来定义一个新的列表。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5d0b" class="ma mb it lw b gy mc md l me mf">a = [1,2]<br/>b = list(a)<br/>a.append(3)<br/>print(a,b) # [1,2,3] [1,2]</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="5de9" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">切片符号</h1><p id="8529" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">Python的切片符号是一种返回列表中指定部分的机制。通过省略start(冒号前)和end(冒号后)索引，将返回完整的列表，并随后将其赋给新变量。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0852" class="ma mb it lw b gy mc md l me mf">a = [1,2]<br/>b = a[:]<br/>a.append(3)<br/>print(a,b) # [1,2,3] [1,2]</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="cfc4" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">。copy()方法</h1><p id="a250" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">使用<code class="fe nl nm nn lw b">.copy()</code>方法导入<code class="fe nl nm nn lw b">copy</code>库将执行浅层复制，行为类似于前面提到的方法。</p><p id="b3f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该方法也内置于列表数据类型中。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="fa35" class="ma mb it lw b gy mc md l me mf">import copy</span><span id="63f0" class="ma mb it lw b gy mg md l me mf">a = [1,2]<br/>b = copy.copy(a)<br/>a.append(3)<br/>print(a,b) # [1,2,3] [1,2]</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="1479" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">。deepcopy()方法</h1><p id="ed70" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">同样是从<code class="fe nl nm nn lw b">copy</code>库中，<code class="fe nl nm nn lw b">deepcopy()</code>方法可预测地执行深度复制，为每个列表项创建新元素。</p><p id="7d74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与浅层拷贝不同，因为每个元素都是重新创建的，而不是共享的。</p><p id="b44c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了说明这一点，让我们创建一个包含在列表中的对象，并对其进行更改。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="cea1" class="ma mb it lw b gy mc md l me mf">import copy</span><span id="66ae" class="ma mb it lw b gy mg md l me mf">class Test():<br/>   def __init__(self,n):<br/>      self.n = n<br/>   def __repr__(self):<br/>      return str(self.n)</span><span id="f6dd" class="ma mb it lw b gy mg md l me mf">obj = Test(5)</span><span id="de1c" class="ma mb it lw b gy mg md l me mf">a = [1,2,obj]<br/>b = copy.copy(a)<br/>c = copy.deepcopy(a)</span><span id="b7c9" class="ma mb it lw b gy mg md l me mf">obj.n = 3</span><span id="7ba0" class="ma mb it lw b gy mg md l me mf">print(a,b,c)<br/># [1,2,3] [1,2,3] [1,2,5]</span></pre></div></div>    
</body>
</html>