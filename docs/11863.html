<html>
<head>
<title>How To Render HTML Pages With Gin For Golang</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Gin为Golang渲染HTML页面</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-render-html-pages-with-gin-for-golang-9cb9c8d7e7b6?source=collection_archive---------1-----------------------#2022-04-22">https://betterprogramming.pub/how-to-render-html-pages-with-gin-for-golang-9cb9c8d7e7b6?source=collection_archive---------1-----------------------#2022-04-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d7f1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这个简单的例子展示了如何使用流行的web框架Gin for the Go Language (Golang)来呈现HTML模板页面</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d6c406a5389ed7a6b2c14ffd886fd321.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XVfyulcx4EV5by8B"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Bjarne Vijfvinkel 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="b868" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Gin是Golang最流行的web框架之一。我以前写过关于如何使用基本的Golang模板包渲染HTML页面的文章。用Gin呈现HTML模板甚至更容易。</p><p id="ccf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使工作流程更加顺畅，尝试新的想法并进行调试，我还决定使用Codegangsta开发的名为Gin的自动重载工具。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6857" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装轧棉机</h1><p id="b062" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">安装<a class="ae ky" href="https://github.com/gin-gonic/gin" rel="noopener ugc nofollow" target="_blank"> Gin HTTP web框架</a>很简单，就像大多数(如果不是全部)Golang包一样:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="0863" class="ne md it na b gy nf ng l nh ni">go get -u github.com/gin-gonic/gin</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="225d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">杜松子酒代码</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="96e4" class="ne md it bd me nl nm dn mi nn no dp mm li np nq mo lm nr ns mq lq nt nu ms nv bi translated">进口货</h2><p id="c9ff" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在第4–7行，我们导入了一些包:</p><ul class=""><li id="2388" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated">Gin HTTP web框架的包。</li><li id="5b67" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">用于导入<code class="fe ok ol om na b">FuncMap()</code>函数的Golang <code class="fe ok ol om na b">html/template</code>基础包。在模板中使用函数时，这是必需的。</li><li id="2265" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">与杜松子酒一起使用的Golang <code class="fe ok ol om na b">net/http</code>底座包装。</li><li id="4d4e" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><code class="fe ok ol om na b">FuncMap</code>中<code class="fe ok ol om na b">upper</code>功能的<code class="fe ok ol om na b">strings</code>基础包。</li></ul><h2 id="c558" class="ne md it bd me nl nm dn mi nn no dp mm li np nq mo lm nr ns mq lq nt nu ms nv bi translated">main()函数</h2><p id="0a23" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在第11行，我们创建了一个名为<code class="fe ok ol om na b">router</code>的默认Gin路由器。除了基本功能之外，默认的Gin路由器还使用日志和恢复中间件。</p><p id="4445" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第12–14行，<code class="fe ok ol om na b">SetFuncMap()</code>用于创建模板中使用的函数映射。这里我们只是添加了一个简单的模板函数<code class="fe ok ol om na b">upper</code>，它使用<code class="fe ok ol om na b">strings.ToUpper()</code>函数将字符串中的所有字符设置为大写。</p><p id="10d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第15行，我们让Gin路由器知道我们已经在<code class="fe ok ol om na b">./assets</code>目录中保存了一些静态资产。Gin可以以这种方式访问任何静态资产。</p><p id="b5cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个例子，我在那个目录中放了一个布尔玛CSS库的最小化版本。通过使用<code class="fe ok ol om na b">Static()</code>函数，HTML模板现在可以访问这个库了。</p><p id="1d3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在这里阅读布尔玛CSS库的文档。</p><p id="1676" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第16行，所有满足模式<code class="fe ok ol om na b">template/*.html</code>的模板都由<code class="fe ok ol om na b">LoadHTMLGlob()</code>函数加载。这种模式意味着模板文件应该有<code class="fe ok ol om na b">.html</code>扩展名，并位于<code class="fe ok ol om na b">/template</code>目录中。</p><p id="66e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第18–22行，我们告诉Gin路由器在URL路径<code class="fe ok ol om na b">/</code>接受一个HTTP <code class="fe ok ol om na b">GET</code>方法请求。当收到一个请求时，Gin发送一个HTTP <code class="fe ok ol om na b">OK</code>状态消息，并使用在<code class="fe ok ol om na b">gin.H{}</code>括号中提供的数据呈现<code class="fe ok ol om na b">index.html</code>模板。在这种情况下，数据只包含一个键/值对，这个键叫做<code class="fe ok ol om na b">content</code>。</p><p id="ae0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第24–28行，与上面类似，我们告诉Gin路由器在<code class="fe ok ol om na b">/about</code>路径接受HTTP <code class="fe ok ol om na b">GET</code>方法请求。这次呈现的是<code class="fe ok ol om na b">about.html</code>模板。</p><p id="34af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第29行，我们告诉Gin在<code class="fe ok ol om na b">localhost</code>端口<code class="fe ok ol om na b">8080</code>运行web服务器。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1130" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">模板和目录结构</h1><p id="33e5" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">下面您可以找到本例中使用的四个模板。这些都需要放在各自的文件中。文件名出现在每段代码之前。</p><p id="5e82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">模板的语法与<code class="fe ok ol om na b">html/template</code>基础包相同。你可以在这里阅读更多关于模板<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-use-templates-in-golang-46194c677c7d">的语法。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="06fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以在下面找到该项目的目录结构:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/8b2049a8318a7548a7e6b4f5eaa8fc42.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/1*Ghi41DVJeWvjcyhg2vteGQ.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="311e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">自动重装轧花机</h1><p id="7389" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如前所述，我在开发时使用了<a class="ae ky" href="https://github.com/codegangsta/gin" rel="noopener ugc nofollow" target="_blank"> codegangsta/gin </a>工具来自动重新加载gin。这使得在浏览器中检查代码的结果更加容易。我们可以做到这一点，而不必在更改代码时停止当前的可执行文件并重新构建和运行它。</p><p id="c6a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是Github页面上对该实用程序的描述:</p><blockquote class="oo op oq"><p id="e5e4" class="kz la or lb b lc ld ju le lf lg jx lh os lj lk ll ot ln lo lp ou lr ls lt lu im bi translated"><code class="fe ok ol om na b">gin</code>是一个简单的命令行工具，用于实时重载Go web应用程序。只需在您的应用程序目录中运行<code class="fe ok ol om na b">gin</code>，您的web应用程序将由<code class="fe ok ol om na b">gin</code>作为代理。<code class="fe ok ol om na b">gin</code>当检测到变化时，会自动重新编译你的代码。下次收到HTTP请求时，您的应用将会重新启动。</p></blockquote><h2 id="0800" class="ne md it bd me nl nm dn mi nn no dp mm li np nq mo lm nr ns mq lq nt nu ms nv bi translated">安装codegangsta/gin</h2><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="e23c" class="ne md it na b gy nf ng l nh ni">go get github.com/codegangsta/gin</span></pre><h2 id="4644" class="ne md it bd me nl nm dn mi nn no dp mm li np nq mo lm nr ns mq lq nt nu ms nv bi translated">运行codegangsta/gin</h2><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="1569" class="ne md it na b gy nf ng l nh ni">gin -i --appPort 8080 --port 3000 run main.go</span></pre><p id="8b7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码将在命令行中运行。它假设您正在<code class="fe ok ol om na b">localhost</code>端口<code class="fe ok ol om na b">8080</code>上运行您的Go web应用程序，并且您将使用端口<code class="fe ok ol om na b">3000</code>作为Gin自动重新加载代理。</p><h2 id="35e9" class="ne md it bd me nl nm dn mi nn no dp mm li np nq mo lm nr ns mq lq nt nu ms nv bi translated">关于运行代码的说明</h2><p id="3c33" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在从命令行运行代码之前，您可能需要运行以下内容:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="48d1" class="ne md it na b gy nf ng l nh ni">go mod init<br/>go mod tidy</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9c5e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">在网络浏览器中检查结果</h1><p id="ae19" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在浏览器的URL字段中键入以下内容，以检查代码的结果:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f0dd" class="ne md it na b gy nf ng l nh ni">localhost:3000/</span></pre><p id="4020" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">…对于索引页和…</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="fd02" class="ne md it na b gy nf ng l nh ni">localhost:3000/about</span></pre><p id="7e2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用于“关于”页面。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="730a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">参考</h1><p id="5062" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><a class="ae ky" href="https://hoohoo.top/blog/20210530112304-golang-tutorial-introduction-gin-html-template-and-how-integration-with-bootstrap/" rel="noopener ugc nofollow" target="_blank">“Golang教程:介绍Gin HTML模板以及如何与Bootstrap集成”，作者Adam Ou-Yang </a></p><p id="b091" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/gin-gonic/gin" rel="noopener ugc nofollow" target="_blank">Gin-Gonic的Gin Web框架</a></p><p id="4a69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/codegangsta/gin" rel="noopener ugc nofollow" target="_blank">codegangsta/gin:Go web服务器的实时重载实用程序</a></p><div class="ov ow gp gr ox oy"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-generate-html-with-golang-templates-5fad0d91252"><div class="oz ab fo"><div class="pa ab pb cl cj pc"><h2 class="bd iu gy z fp pd fr fs pe fu fw is bi translated">如何用Golang模板生成HTML</h2><div class="pf l"><h3 class="bd b gy z fp pd fr fs pe fu fw dk translated">如何使用Go模板生成HTML页面的示例</h3></div><div class="pg l"><p class="bd b dl z fp pd fr fs pe fu fw dk translated">better编程. pub</p></div></div><div class="ph l"><div class="pi l pj pk pl ph pm ks oy"/></div></div></a></div></div></div>    
</body>
</html>