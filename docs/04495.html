<html>
<head>
<title>Proper Font Scaling Matters to Your Users</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">适当的字体缩放对你的用户很重要</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/proper-font-scaling-matters-to-your-users-515b1b878606?source=collection_archive---------7-----------------------#2020-04-16">https://betterprogramming.pub/proper-font-scaling-matters-to-your-users-515b1b878606?source=collection_archive---------7-----------------------#2020-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e777" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何在不破坏布局的情况下将字体缩放应用到iOS应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fc2bda462f04a584f71104f6821dd5f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mp5mzKUItVAQVqESLf-qCw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@centelm?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克莱门特·法利泽</a>在<a class="ae kv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="fd57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大多数读到这篇文章的开发者都有很好的眼力。但是很有可能，并不是所有的用户都这么幸运。</p><p id="865d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">近视、(部分)色盲或其他障碍可能会影响一个人对你的应用程序的看法，或者更重要的是:如果一个人能够浏览你的应用程序。</p><p id="7340" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">设计师可能更喜欢极简设计，包括小而漂亮的字体和浅色调色板。通常，为元素分配的字体大小和空间是经过深思熟虑的选择，以确保界面看起来美观和平衡。</p><p id="59c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，你的应用程序的可读性很可能会受到这些设计选择的影响:看起来漂亮的东西可能并不是最好的。话说回来，这真的重要吗？你更愿意拥有一个漂亮的应用程序还是一个可用的应用程序？</p><p id="8dbd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一方面，我是那些喜欢将文本大小设置为最小的人之一，我希望我使用的应用程序能够坚持这一选择。</p><p id="ef48" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不符合我偏好的应用程序感觉格格不入，使用它们可能会变成一件令人讨厌的事情，而不是一种乐趣。</p><p id="b95e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在实践中，我建议如下:设计你的应用程序，使其在默认的内容大小比例下看起来很棒，然后遵循用户的偏好，相应地调整你的UI。</p><p id="4afb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，苹果让你很容易帮助你的用户。有许多API可以帮助你帮助他人。首先，您应该考虑记住以下几个方面:</p><ul class=""><li id="9fd1" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">文本:字体大小和文本粗细应该符合用户的喜好。</li><li id="82d9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">颜色:确保颜色之间有足够的对比度，如果用户启用了此设置，最好增加对比度。</li><li id="a00b" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">可访问性属性:组件应该设置诸如<code class="fe mg mh mi mj b">accessibilityLabel</code>和<code class="fe mg mh mi mj b">accessibilityValue</code>的属性。这有助于<code class="fe mg mh mi mj b">VoiceOver</code>读出关于元素的有用信息。</li></ul><p id="1bcf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将重点关注文本缩放和布局，因为这是一个非常好的起点，并且很容易在您的应用程序中实现。</p><p id="3f8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要了解苹果是如何做到这一点的，看看iOS中提供的任何默认应用程序，如时钟应用程序:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/075b66498148243e4cff9b53652d56ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O3DS7ih2wDr-9Q-k1fFDxA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">改变设备的内容大小会影响界面的外观。您可以查看文章底部，了解如何在您的设备上更改文本大小的提示。</p></figure><p id="b9ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有几件有趣的事情需要指出。</p><h2 id="849d" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">按钮不可缩放</h2><p id="2ca6" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">这适用于标签栏和导航栏中的按钮。这也是您将在自己的应用程序中创建的<code class="fe mg mh mi mj b">UIButton</code>实例的默认行为。</p><p id="a126" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，当在“设置”中启用“粗体文本”时，它们将变为粗体。<br/>这种行为似乎有些违反直觉，可以通过改变<code class="fe mg mh mi mj b">titleLabel</code>属性来改变。</p><h2 id="4fd5" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">时间标签会改变位置</h2><p id="5225" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">当字体变得太大时，应用程序会改变布局，以确保标签不会被剪掉而变得无用。</p><h2 id="4026" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">并非所有标签都具有同等的伸缩性</h2><p id="b6bb" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">请注意，城市名称的变化没有它上面的时区标签变化大。</p><p id="bbf1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，时间标签根本不会改变它的大小。背后的原因很简单:这些标签已经很大了，放大太多实际上会降低可读性。</p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h1 id="171f" class="nq mm iq bd mn nr ns nt mq nu nv nw mt jw nx jx mw jz ny ka mz kc nz kd nc oa bi translated">将此应用于代码</h1><p id="9a42" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">有一组API可以帮助您在自己的应用程序中实现相同的行为。我们以时钟app为例，试着模仿一下。就布局而言，单元的设置可以像这样简单:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/e0bb7f0b8f608f8fbd6a522c9d856d44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*IuDi5EwbzOlk78YW2_lCcQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">三个UILabels和两个UIStackViews来设置单元。请注意，左侧的标签具有文本样式集。</p></figure><h2 id="2bbd" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">自动缩放字体</h2><p id="4602" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated"><code class="fe mg mh mi mj b">UIFont</code>有一个很好的API来指定你需要什么样的字体。使用<code class="fe mg mh mi mj b">TextStyle</code>，您可以向系统请求一种理解当前界面特征的字体:</p><pre class="kg kh ki kj gt od mj oe of aw og bi"><span id="ebde" class="ml mm iq mj b gy oh oi l oj ok">UIFont.preferredFont(forTextStyle: .caption1)</span></pre><p id="b7f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这非常方便，给定的字体非常适合正在使用的设备，如果需要可以自动缩放。下一步是告诉组件遵循大小变化:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="5c51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以在故事板中实现这一点:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/4b535b8d5bced42e49647c5ae5a9e733.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*4Qjle10bRQsSYiduvPQ5Rg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从故事板中选取文本样式，请确保同时选择“自动调整字体”。</p></figure><p id="db02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在真正的乐趣开始了。一旦字体适当缩放，你可能会发现不是所有的文本都适合你分配给它的空间。一个好的开始是让更多的标签多行。但是如果你想改变布局呢？</p><h2 id="a5ba" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">当字体大小改变时改变布局</h2><p id="4e47" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">构成设备配置的许多元素被定义为特征。这些特征被放在一个<code class="fe mg mh mi mj b"><a class="ae kv" href="https://developer.apple.com/documentation/uikit/uitraitcollection" rel="noopener ugc nofollow" target="_blank">UITraitCollection</a></code>里。<code class="fe mg mh mi mj b">UIView</code>和<code class="fe mg mh mi mj b">UIViewController</code>的两个子类都有一个检查其性状信息的属性。</p><p id="571c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里可以找到很多信息，但是在我们的例子中，我们想要检查文本大小类别:</p><pre class="kg kh ki kj gt od mj oe of aw og bi"><span id="58d2" class="ml mm iq mj b gy oh oi l oj ok">// Get this property from any UIView or UIViewController:<br/>traitCollection.preferredContentSizeCategory</span></pre><p id="9bd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设您将标签放在了<code class="fe mg mh mi mj b">UIStackView</code>中，这将允许您根据内容大小类别快速更改轴:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="00a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果在应用程序运行时字体大小发生变化，您还会希望界面进行更新。<code class="fe mg mh mi mj b">UIView</code>和<code class="fe mg mh mi mj b">UIViewController</code>还有一个功能你可以<code class="fe mg mh mi mj b">UIoverride</code>监听变化:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="4856" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样！您可以使用“环境覆盖”按钮从调试器中直接测试它:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/5eed2866794e776ce74a1d0daaa7cd68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*g1bhAwnXU3a35SBjUS6Ktw.gif"/></div></figure></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h1 id="1497" class="nq mm iq bd mn nr ns nt mq nu nv nw mt jw nx jx mw jz ny ka mz kc nz kd nc oa bi translated">额外提示</h1><h2 id="9e71" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">在设备上切换文本大小</h2><p id="71c2" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">也可以直接从设备上的控制中心切换文本大小。在<em class="oc">设置</em>下，进入<em class="oc">控制中心</em>，然后<em class="oc">自定义控件</em>，包含<em class="oc">文本样式</em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/0d0cdc84f059f5627612fa8287c42cea.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/1*c6-jFrNXxgXRosy0hCV-xw.gif"/></div></figure><h2 id="c43e" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">超大文本尺寸</h2><p id="c505" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">默认情况下，不启用超大文本大小。要测试它们，您可以在<em class="oc">设置</em>、<em class="oc">辅助功能</em>、<em class="oc">显示&amp;文本大小</em>、<em class="oc">大文本</em>下启用这些。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/efffdb9f4d85ae2907cf359b53dde655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HPvI5SfqIKL9caWS0Fyrfg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">如何为辅助功能启用更大的文本尺寸</p></figure></div></div>    
</body>
</html>