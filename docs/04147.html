<html>
<head>
<title>Hello, Kotlin!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你好，科特林！</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/hello-kotlin-cab7c9e4c02d?source=collection_archive---------17-----------------------#2020-03-25">https://betterprogramming.pub/hello-kotlin-cab7c9e4c02d?source=collection_archive---------17-----------------------#2020-03-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b623" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">构建一个移动应用程序或编写第一行代码。下面是对Kotlin的简短介绍，以及为什么它应该是你学习的下一门语言</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/546bf99f26e9126872e3efaa625a7252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k_CHynI9Gk_CNWhe"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@ricaros?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Danial RiCaRoS </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="dc3a" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">科特林长什么样？</h1><p id="40e7" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">让我给你介绍几行Kotlin代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="394c" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">看起来像是Python和JavaScript与Java类型的混合，对吗？</p><p id="d631" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">上面的介绍性代码有几个突出的特性，并将Kotlin与Java和Python等其他语言进行了比较。如果要测试并运行示例代码，请选择以下一项或两项:</p><ol class=""><li id="b596" class="my mz iq lx b ly mt mb mu me na mi nb mm nc mq nd ne nf ng bi translated">下载<a class="ae kv" href="https://www.jetbrains.com/idea/download/" rel="noopener ugc nofollow" target="_blank"> IntelliJ IDEA </a>并跟随<a class="ae kv" href="https://kotlinlang.org/docs/tutorials/getting-started.html" rel="noopener ugc nofollow" target="_blank">这篇简短的教程</a>。它将指导您如何在IDE中创建新项目，并向您展示如何创建和运行Kotlin文件。</li><li id="24de" class="my mz iq lx b ly nh mb ni me nj mi nk mm nl mq nd ne nf ng bi translated">如果你对你的操作系统命令行很熟悉，那么<a class="ae kv" href="https://kotlinlang.org/docs/tutorials/command-line.html" rel="noopener ugc nofollow" target="_blank">下载Kotlin命令行编译器</a>。</li></ol><p id="f0f0" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">让我们开始吧。</p><h2 id="70f0" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">1.用关键字<code class="fe ny nz oa ob b">fun</code>定义函数</h2><p id="3726" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">开始编写Kotlin函数既快速又简单。关键字<code class="fe ny nz oa ob b">fun</code>开始函数定义。我们的函数名为<code class="fe ny nz oa ob b">main</code>，它有一个名为<code class="fe ny nz oa ob b">args</code> <em class="oc">的参数。</em><code class="fe ny nz oa ob b">args</code><em class="oc"/>的数据类型是<code class="fe ny nz oa ob b">Array&lt;String&gt;</code> <em class="oc">，</em>这是一个由字符串组成的数组<a class="ae kv" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/" rel="noopener ugc nofollow" target="_blank">如果使用JVM运行你的代码</a>就是Java数组<em class="oc">。</em>如果您不期望任何命令行输入，则不需要<code class="fe ny nz oa ob b">args</code>参数。</p><p id="aefa" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">当你编译并运行一个Kotlin文件时，解释器会寻找<code class="fe ny nz oa ob b">main()</code>函数<strong class="lx ir"> </strong>作为程序的入口点。</p><h2 id="2d9c" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">2.关键字<code class="fe ny nz oa ob b">var</code>和<code class="fe ny nz oa ob b">val</code>用于定义变量</h2><p id="348d" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">如果使用<code class="fe ny nz oa ob b">val</code>关键字声明一个变量，那么这个变量的值以后就不能修改了。它是一个只读的局部变量。</p><pre class="kg kh ki kj gt od ob oe of aw og bi"><span id="e838" class="nm le iq ob b gy oh oi l oj ok">val x = 1      // Kotlin will infer the Int type <br/>val y: Int = 2 // declare and assign a variable<br/>val z: Int     // must specify data type if not assigning value<br/>z = 3          // assign value at a later point in program</span></pre><p id="070e" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">如果需要重新分配变量值，使用<code class="fe ny nz oa ob b">var</code>关键字:</p><pre class="kg kh ki kj gt od ob oe of aw og bi"><span id="5cce" class="nm le iq ob b gy oh oi l oj ok">var sum = 0    // Kotlin will infer the Int type<br/>sum += 5</span></pre><h2 id="d88b" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">3.变量可以为空</h2><p id="b72e" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">您可以允许变量保存<code class="fe ny nz oa ob b">null</code>值，但是在定义变量时必须明确指定可空类型。</p><p id="2e2a" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">在类型声明后添加符号<code class="fe ny nz oa ob b">?</code>告诉Kotlin变量可以为空。</p><p id="2d93" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">下面是一个在逻辑中使用可空类型来安全执行操作的函数示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="eb59" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">参数的<code class="fe ny nz oa ob b">Double?</code>数据类型表明函数的输入可以是一个<code class="fe ny nz oa ob b">Double</code>值或<code class="fe ny nz oa ob b">null</code>。我们首先验证<code class="fe ny nz oa ob b">args1</code>和<code class="fe ny nz oa ob b">args2</code>都不为空，然后执行运算。函数的返回类型也是<code class="fe ny nz oa ob b">Double?</code>(在函数头的最后一个冒号后声明)，这意味着函数可能返回一个<code class="fe ny nz oa ob b">Double</code>值或一个<code class="fe ny nz oa ob b">null</code>值。我们返回一个<code class="fe ny nz oa ob b">null</code>值来表示<code class="fe ny nz oa ob b">args1</code>或<code class="fe ny nz oa ob b">args 2</code>不是一个数字。</p><h2 id="c941" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">4.使用$符号可以快速简单地打印数值</h2><p id="375a" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">Kotlin print语句在内部调用Java打印方法<code class="fe ny nz oa ob b">System.out.print</code>并打印到标准输出。</p><p id="ddff" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">以下几个场景展示了如何使用<code class="fe ny nz oa ob b">$</code>符号打印变量值和函数值:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="5d37" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">第5行展示了如何进行函数调用并立即打印其返回值。</p><p id="bc15" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">在Java中，相同的print语句如下所示:</p><pre class="kg kh ki kj gt od ob oe of aw og bi"><span id="82ac" class="nm le iq ob b gy oh oi l oj ok">System.out.println("The product of " + a + " and " + b + " is " + (product(a, b)))</span></pre><p id="c2a5" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">程序员不得不做大量的手工字符串连接。</p><p id="5bc9" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">Kotlin的print语句在语法上与Python相似。它们简洁易读，输入速度快，并且很容易打印任何数据类型的变量。</p><h2 id="0208" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">5.Kotlin可以访问所有Java虚拟机(JVM)库</h2><p id="503a" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">可以访问数组、散列表、列表等类。使Kotlin能够利用Java强大的数据结构。Kotlin文档说Kotlin是用Java <a class="ae kv" href="https://kotlinlang.org/docs/reference/java-interop.html" rel="noopener ugc nofollow" target="_blank">互操作性</a>设计的。</p><p id="4bcd" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">只需在Kotlin文件的顶部导入Java Util包:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="3c1b" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">使用<code class="fe ny nz oa ob b">ArrayList</code>方法与在Java中使用它们几乎是一样的。唯一的区别是<code class="fe ny nz oa ob b">size()</code>方法变成了Kotlin中的一个属性。因此，我们用<code class="fe ny nz oa ob b">items.size</code>代替了Java中的<code class="fe ny nz oa ob b">items.size()</code>。</p><p id="4b51" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">现在，让我们看看Kotlin是如何引用Java类并访问它们的方法的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="47e6" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">上面的类在结构上代表了一个典型的Java类。它包含单个属性和一个<code class="fe ny nz oa ob b">getter</code>和<code class="fe ny nz oa ob b">setter</code>方法，其他Java类包含用于操作和计算的附加方法。</p><p id="6a6b" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">您可以在Kotlin文件中使用Dog类，而不使用import语句(只要Java文件和Kotlin文件在同一个文件夹中):</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="0599" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated"><code class="fe ny nz oa ob b">Getter</code>和<code class="fe ny nz oa ob b">setter</code>函数在Kotlin中被表示为属性。这意味着Java类中以<code class="fe ny nz oa ob b">get</code>或<code class="fe ny nz oa ob b">set</code>开头的方法可以通过引用属性名在Kotlin中使用。当我们将“德国牧羊犬”赋给<code class="fe ny nz oa ob b">dog.breed</code>时，我们正在调用Java <code class="fe ny nz oa ob b">setBreed()</code>方法。当我们打印<code class="fe ny nz oa ob b">dog.breed</code>的值时，我们正在调用<code class="fe ny nz oa ob b">getBreed()</code>方法。</p><p id="6262" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">下面是Java中相同操作的样子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="0e7d" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">当构造一个新对象并调用它的方法时，Kotlin语法比Java更简洁，看起来也更干净。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="3a2a" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">我在哪里用过Kotlin？</h1><p id="a374" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">我第一次接触Kotlin是在我的Android移动应用程序开发课上。学习曲线很低，因为我非常熟悉Java，互操作性使得从Java到Kotlin的过渡非常容易管理。很快，我发现自己编写了更少的样板代码，维护了易于阅读的文件，并使用可空类型来保护我的应用程序免受可能的错误。我在不牺牲代码质量的情况下开发得更快。</p><p id="3da5" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">上完课，我了解到很多大应用(Pinterest、Square、Lyft、Trello、<a class="ae kv" href="https://www.youtube.com/watch?v=ao9QvtpszOU&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank"> Zomato </a>等等)都把自己的app代码库转换成了Kotlin。结果是大幅减少了代码行，提高了程序员的性能，并在编译时检测到了应用程序中的错误。</p><p id="b7a7" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">几个月后，在我的编译器课程中，我们被要求选择一种语言来编写编译器。我和我的搭档选择了科特林。其他大部分同学选择了Python。我们觉得使用Python有很多好处。我们能够快速编写<a class="ae kv" href="https://kotlinlang.org/docs/reference/data-classes.html" rel="noopener ugc nofollow" target="_blank">数据类</a>(在Java中，单行数据类声明需要50行或更多行)。我们的对象和变量可以有数据类型，这使得我们的数千行代码更可读，并且我们允许我们的许多对象可以为空。Kotlin允许我们使用函数式设计，编写许多小方法来构建我们的编译器。最重要的是，我们利用了大家熟悉的Java类，比如ArrayList和HashMap。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="5a89" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">结论</h1><p id="32e8" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">Kotlin被证明在语法上比Java简单，但比Python复杂一点。Kotlin是一种类型化语言，这是Python的一大优势(当然，这取决于您正在从事的项目)。Kotlin中提供的安全检查，如检查可空性或验证对象的数据类型，有助于编写更安全的代码，更不容易出现运行时错误。最后，它是一种熟悉的语言，学习难度很低，因为它的许多组件都可以在Java、JavaScript和Python中找到。</p><p id="09c1" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">概括一下:</p><ul class=""><li id="4b0d" class="my mz iq lx b ly mt mb mu me na mi nb mm nc mq ol ne nf ng bi translated">简明代码</li><li id="a373" class="my mz iq lx b ly nh mb ni me nj mi nk mm nl mq ol ne nf ng bi translated">可读语法</li><li id="efb7" class="my mz iq lx b ly nh mb ni me nj mi nk mm nl mq ol ne nf ng bi translated">易于检查和维护</li><li id="2a44" class="my mz iq lx b ly nh mb ni me nj mi nk mm nl mq ol ne nf ng bi translated">运行时错误不再令人头疼</li><li id="aeb5" class="my mz iq lx b ly nh mb ni me nj mi nk mm nl mq ol ne nf ng bi translated">Java友好的</li></ul><p id="7c02" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me mv mg mh mi mw mk ml mm mx mo mp mq ij bi translated">我希望这能让你写出你的第一行Kotlin代码！如果你已经在使用Kotlin，我希望听到更多关于你的经历。</p></div></div>    
</body>
</html>