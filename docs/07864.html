<html>
<head>
<title>Understanding the Monolithic Style in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript中的整体风格</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understanding-the-monolithic-style-in-javascript-f86f78b21536?source=collection_archive---------10-----------------------#2021-02-26">https://betterprogramming.pub/understanding-the-monolithic-style-in-javascript-f86f78b21536?source=collection_archive---------10-----------------------#2021-02-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="93ee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用一个动手的词频代码例子</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/901007915bed6e3f80f6c2856f6105fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9nfGatYq4jWuiMkh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Julian Hochgesang 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="430e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是关于使用不同编程风格用JavaScript编写程序的系列文章的第一篇。我这个系列的灵感来自《编程风格的T4练习》这本书，这本书是计算机科学家Cristina Videira Lopes于2014年写的。这本书研究了如何使用Python编程语言，以33种不同的编程风格编写一个特定的计算机程序——一个计算文本的术语频率的程序。</p><p id="37a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本系列的目标是使用JavaScript研究这些编程风格。</p><p id="d49e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该学习这些不同的编程风格有几个原因。首先，有许多您可能不熟悉的风格，但是它们可以帮助您解决一个您可能认为用您已经熟悉的编程风格无法解决的问题。</p><p id="5d5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个原因是让你意识到这些不同的编程风格。如果你在学校学过计算机编程，你可能只接触到其中的几种风格。然而，你可以学习其他的编程风格，这些风格可能会给你一个新的视角来看待你每天都在努力解决的编程问题。</p><p id="38ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，学习新的编程风格本身就是一项有趣的练习。大多数程序员喜欢编程过程，并且应该渴望学习这些编程风格，纯粹是为了享受编程的乐趣。</p><p id="700d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从考察第一种编程风格开始:<em class="lv"> monolithi </em> c。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2a97" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">整体式编程风格</h1><p id="9ce7" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated"><a class="ae ky" href="https://www.merriam-webster.com/dictionary/monolithic" rel="noopener ugc nofollow" target="_blank">单词monolithic的一个定义</a>是“铸造成一个整体”整体式程序风格是指没有函数定义或模块定义来将程序分成更小的部分。</p><p id="ac46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要用单片风格编程，你必须回到20世纪60年代末和70年代初。主要的编程语言是COBOL和Fortran。这些语言只有很少的函数库，而且许多语言不允许你定义自己的函数。</p><p id="6672" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">程序是以严格的自顶向下的方式编写的，不能被细分成模块或过程，因为编程语言不支持这些特性。当时的许多语言甚至没有结构化循环(<code class="fe na nb nc nd b">while</code>或<code class="fe na nb nc nd b">for</code>)，所以你能使用的只有<code class="fe na nb nc nd b">goto</code>语句和行标签，它们通常是数字。</p><p id="70f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您以前从未见过这样的程序，那么现在停下来在互联网上搜索一些旧的Fortran程序是值得的。Wikibooks有一些早期Fortran代码的好例子<a class="ae ky" href="https://en.wikibooks.org/wiki/Fortran/Fortran_examples#FORTRAN_II,_IV,_and_77_compilers" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="47b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些语言缺乏允许程序员通过定义过程、模块和函数，并使用它们作为更复杂的计算机程序的不太复杂的构件，在他们的程序中创建抽象层的能力。正如你所知道的，能够将长程序分解成更小的部分使得它们更容易编写、理解和调试。</p><p id="f4c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如Lopes在她关于整体风格的章节中所指出的，即使现代语言都有抽象工具，许多程序员仍然最终写出了长长的、完整的程序代码——有时是无意的，有时是有意的。很多时候，程序员会写一大段代码，一旦理解并解决了基本问题，就将其重构为更小的代码块。</p><p id="b91f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过对整体编程风格的介绍，让我们看看如何使用这种风格编写一个JavaScript程序来计算文本中单词的频率。对于文本，我去了古腾堡计划，选择了乔纳森·斯威夫特的<em class="lv">一个谦虚的建议</em>。</p><p id="4231" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我用Mozilla的Spidermonkey版本的JavaScript编写了这个程序。我喜欢在桌面编程中使用这个版本，因为它具有简单的输入/输出功能，并且没有Node.js复杂。如果Node.js是您首选的JavaScript环境，这个程序应该也能在node . js中运行。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="874d" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">JMWF (JavaScript Monolith词频)程序</h1><p id="344e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">程序是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="42c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是文本中最常出现的十个单词的输出:</p><pre class="kj kk kl km gt ng nd nh ni aw nj bi"><span id="ae6b" class="nk me it nd b gy nl nm l nn no">children 18<br/>kingdom 15<br/>thousand 15<br/>country 11<br/>own 10<br/>child 10<br/>hundred 8<br/>parents 7<br/>little 7<br/>shillings 7</span></pre><p id="504f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我比洛佩斯更努力地尝试使用整体风格。我本来可以使用一个<code class="fe na nb nc nd b">map</code>数据结构来存储单词和它们的频率，但是我使用了并行数组——一个存储单词，一个存储单词频率。</p><p id="a8bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我只在使用正则表达式清理包含停用词的文件时向诱惑屈服过一次。说到停用词，如果你不熟悉的话，一个<a class="ae ky" href="https://en.wikipedia.org/wiki/Stop_word" rel="noopener ugc nofollow" target="_blank">停用词</a>是一个从文本中过滤出来的词，因为它在结果中很常见或者不需要或不想要。</p><p id="3926" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我本来可以使用内置数组函数来确定单词是否已经在词频列表中，但是我写了一个循环在数组中查找单词。我还写了自己的bubble <code class="fe na nb nc nd b">sort</code>而不是使用库函数<code class="fe na nb nc nd b">sort</code>。</p><p id="94a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，在一个真实的程序中，如果我不想用单一的风格编写，我不会做这些事情。但是因为我试图尽可能地保持整体性，所以我决定放弃任何内置函数(除了正则表达式的一次使用),这将使我的程序不那么整体。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="280a" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="432c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">正如Lopes在她的书中指出的，现代程序员试图避免编写单一代码。然而，当你第一次开始编写程序时，编写完整的代码是很容易的——特别是如果你在做很多规划之前就开始编码的话。但是在一轮整体编码之后，大多数程序员会回去将他们的代码重构为模块、过程和函数。但是，有时候，单一代码没有被重构，这使得包含它的程序更难阅读、理解和调试。</p><p id="1446" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我喜欢向我的编程学生展示单体代码的例子——尤其是早期Basic和Fortran等较老语言中的例子，这两种语言都是我在20世纪70年代中期上大学时的第一种编程语言——只是为了让他们感受到我在尝试调试和重写旧的意大利面条式代码时遇到的头痛。</p><p id="d195" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的下一篇文章中，我将以不同的风格编写这个程序:T2烹饪书风格。</p><p id="b760" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。如果你有任何意见或建议，请在评论区留言。</p></div></div>    
</body>
</html>