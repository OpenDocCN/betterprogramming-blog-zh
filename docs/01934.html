<html>
<head>
<title>A Year With Nuxt.js — A Genuine Review of the Framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nuxt.js一年——对框架的真正回顾</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-year-with-nuxt-js-geninue-review-of-a-framework-2564ab230495?source=collection_archive---------3-----------------------#2019-10-24">https://betterprogramming.pub/a-year-with-nuxt-js-geninue-review-of-a-framework-2564ab230495?source=collection_archive---------3-----------------------#2019-10-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e6fb1c06956fe28d855576fc6e732ac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_kXKT5I8XGNMEnB4CXk8rw.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@alexandre_godreau?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">亚历山大·戈德罗</a>在<a class="ae kf" href="https://unsplash.com/s/photos/mountain-home?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="e8f9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一年多来，我每天都在用<a class="ae kf" href="https://nuxtjs.org/" rel="noopener ugc nofollow" target="_blank"> Nuxt.js </a>工作。</p><p id="e0a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇综述中，我将尝试总结使用这个框架的所有起起落落。希望这篇文章可以说服您在新项目中尝试Nuxt，同时注意一些注意事项。</p><h2 id="c967" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">TL；速度三角形定位法(dead reckoning)</h2><ul class=""><li id="5579" class="lx ly it ki b kj lz kn ma kr mb kv mc kz md ld me mf mg mh bi translated">我每天在Nuxt工作已经有一年了</li><li id="d575" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">Nuxt对于生产来说非常方便和神奇</li><li id="16db" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">Nuxt是可扩展的，有很多特性，并且是由一个巨大的有才华的社区驱动的</li><li id="4c14" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">Nuxt确实有一些警告，对此我已经建立了一些变通办法</li></ul><h2 id="3ddb" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">利益</h2><ul class=""><li id="6435" class="lx ly it ki b kj lz kn ma kr mb kv mc kz md ld me mf mg mh bi translated">表演的</li><li id="416d" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">结构</li><li id="6219" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">社区</li><li id="d343" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">文档(测试指南、部署指南)</li><li id="9fc7" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">模块(i18n、网站地图、SVG、Apollo、Axios、PWA、Sentry、GA、GTM)</li></ul><h2 id="feb0" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">警告</h2><ul class=""><li id="8a1d" class="lx ly it ki b kj lz kn ma kr mb kv mc kz md ld me mf mg mh bi translated">共享状态问题(节点问题)</li><li id="a70a" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">和Heroku (i18n多域，网站地图)</li><li id="dbac" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><code class="fe mn mo mp mq b">this</code>到处都是</li><li id="bc2a" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">微弱的<code class="fe mn mo mp mq b">rx.js</code>支持</li></ul><p id="7fbf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我开始之前有一句话:我不知道它是否有意图，但我只是喜欢Nuxt的标志是一座山——就像你在一堵可靠的墙后面。</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/b97a208774daf9c6faa2ef3497915de8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*LcWoQHUzkP4FbMUffHJolw.png"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">Nuxt山脉标志</p></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="5ba2" class="nd lf it bd lg ne nf ng lj nh ni nj lm nk nl nm lp nn no np ls nq nr ns lv nt bi translated">项目</h1><p id="4d97" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">首先，我想简单介绍一下这个项目。</p><p id="115a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一年前，2018年10月，我的朋友<a class="nx ny ep" href="https://medium.com/u/4b902866d8d0?source=post_page-----2564ab230495--------------------------------" rel="noopener" target="_blank"> rami alsalman </a>(机器学习博士)找到我，分享了如今使用求职网站的痛苦(即你在尝试寻找后端工程师PHP的软件，你得到了一个offers列表，有Python，C#，ASP.net等等)。</p><p id="4d5a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总而言之，相关性有时很差——对必需的编程技能和软技能的认识本身就是一个问题。</p><p id="49d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的想法是利用机器学习算法建立一个搜索系统，该系统可以识别任何职位描述文本、任何搜索文本和申请人的简历，因此我们可以直接显示与简历最匹配的职位。</p><p id="7d62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是我们如何想出<a class="ae kf" href="https://clusterjobs.de" rel="noopener ugc nofollow" target="_blank"> clusterjobs.de </a>这个主意的。我负责web应用程序，并成为这家初创公司的首席技术官，<a class="nx ny ep" href="https://medium.com/u/4b902866d8d0?source=post_page-----2564ab230495--------------------------------" rel="noopener" target="_blank">拉米·阿尔萨尔曼</a>成为首席执行官和机器学习搜索引擎工程师。</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nz"><img src="../Images/33b1d115c5cca270388d336fef74cadc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oik4NAbATtqXJ_GDA6dSVg.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">通过简历和技能识别进行搜索</p></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="0791" class="nd lf it bd lg ne nf ng lj nh ni nj lm nk nl nm lp nn no np ls nq nr ns lv nt bi translated">为什么是Nuxt？</h1><p id="df72" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">首先，我想用一个长期的框架来启动一个项目，帮助我们快速启动，并能够扩展到未来。</p><p id="65bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个要点是有SSR，因为我们希望有可持续的SEO作为主要的流量渠道。将PHP放在SSR的后端会导致复制所有的模板和加倍的工作，这是我们无法承受的，因为开发团队只有我一个人。</p><p id="0ff0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我开始研究JavaScript SSR解决方案，Nuxt似乎是明显的赢家。有2.0.0主要版本和良好的文档，我们决定在新项目上冒险使用新技术。所以我们把Nuxt作为集群作业的框架。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="4f30" class="nd lf it bd lg ne nf ng lj nh ni nj lm nk nl nm lp nn no np ls nq nr ns lv nt bi translated">使用Nuxt的部署和CD</h1><p id="79a7" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">为了节省一些手动部署的时间，我花了几天时间建立了一个适当的GitLab管道来将应用程序部署到Heroku。</p><p id="987e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关于如何部署到Heroku，<a class="ae kf" href="https://nuxtjs.org/faq/heroku-deployment/" rel="noopener ugc nofollow" target="_blank"> Nuxt文档</a>是一个很好的资源。这里有一篇关于如何在GitLab管道中的Heroku 上部署Vue的文章。将它们组合在一起——砰！这是我目前所拥有的:</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="oa ob l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">在Heroku上部署Nuxt的GitLab管道配置</p></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="a61d" class="nd lf it bd lg ne nf ng lj nh ni nj lm nk nl nm lp nn no np ls nq nr ns lv nt bi translated">一年的发展</h1><p id="8b7a" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">环境完成后，大约需要2-3个月来准备MVP并投入使用。经过无数次的迭代和改进，我依然不后悔选择Nuxt。</p><p id="d3b3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么为什么说它好呢？我想起了我经历过的最美好的时刻，它们是:</p><h2 id="65ee" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">表演</h2><p id="d697" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">这是表演。即使它是一个完整的JS框架，需要将所有的库文件交付给客户端，但它仍然尽力以最不有害的方式来做这件事。</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oc"><img src="../Images/f5a79ad801d912c3ebc5bc88ca4a4286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OErGFmvqApP7xDDZ1vPhmw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">Lighthouse on slow 4G，Macbook Pro速度降低4倍</p></figure><p id="6b3a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在最近的2.10更新中，我发现webpack配置已经被更新，所以在开发过程中只有更新的块被重建，这真的加快了开发速度。</p><p id="6424" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，用于生产的webpack是可扩展的，您可以自己使用它或使用默认配置，这本身就具有很高的性能。</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="oa ob l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">我的webpack构建配置。这是这方面的文件。</p></figure><h2 id="b80e" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">结构化</h2><p id="d8c9" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">好处是，作为开发人员，我不需要考虑将这个或那个放在哪里。Nuxt附带了一个应用程序的框架，拥有构建一个复杂的web应用程序所需的一切:页面、组件、资产、静态、中间件、插件等等。</p><p id="50c8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">唯一让我恼火的是，Nuxt鼓励你使用<code class="fe mn mo mp mq b"><em class="od">~/component/blah-blah</em></code>类的东西来导入整个应用程序。<br/>打心底喜欢的JetBrains IDE，认不出那些路径。</p><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/56745564e6626c0f5fb56cc732730217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZjz0gG0HKpBfwLve-z2kQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">网络风暴未能识别路径</p></figure><p id="4e7a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">解决这个问题的方法很简单:</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="oa ob l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">把这个文件放在你的Nuxt应用的根文件夹中，让你的导入路径起作用</p></figure><figure class="ms mt mu mv gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/c0b6015783cf0a61db665d8fb1b24b1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5RGbIxjNCQEVQq0hNp8IpA.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">网络风暴现在成功地识别了路径</p></figure><h2 id="f282" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">社区</h2><p id="beb4" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">这个社区欣欣向荣。非常感谢<a class="nx ny ep" href="https://medium.com/u/15ad6870b9ad?source=post_page-----2564ab230495--------------------------------" rel="noopener" target="_blank">塞巴斯蒂安·肖邦</a>，他创造了Nuxt本身，并一直驾驶它直到现在。另一个巨大的感谢是由于核心团队和它的所有贡献者为这样一个惊人的产品。</p><p id="1499" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你尝试过Nuxt，你可能知道这些资源，但是我还是把它们放在这里:</p><ul class=""><li id="4f50" class="lx ly it ki b kj kk kn ko kr og kv oh kz oi ld me mf mg mh bi translated">全新更新的Nuxt网站,提供指南、文档和您可能感兴趣的一切</li><li id="2a86" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae kf" href="https://cmty.app/nuxt" rel="noopener ugc nofollow" target="_blank">这是开源社区的一个令人惊叹的平台</a>:关于Nuxt和<code class="fe mn mo mp mq b">nuxt-community</code>模块的所有问题、疑问等等</li></ul><h2 id="8e7b" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">模块</h2><p id="faac" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">这才是让你爱上Nuxt的原因，真的。</p><p id="df23" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">来自这样一个伟大的社区，Nuxt已经重新调整了Vue模块，新模块，和一切模块。在Nuxt中发现了一些没有覆盖的用例？写一个模块，让它Nuxt-社区开源！下面是我在生产中使用的模块列表:</p><ul class=""><li id="7e60" class="lx ly it ki b kj kk kn ko kr og kv oh kz oi ld me mf mg mh bi translated"><a class="ae kf" href="https://github.com/nuxt-community/nuxt-i18n" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> i18n </strong> </a> <br/>国际化，每种语言都有多个域，开箱即用。好像很棒吧？语言和独立的域名对于SEO来说是至关重要的，可以大大提高你在Google搜索结果列表中的地位。在这里，你只需要添加模块，将其与你的用户界面集成，就是这样。</li><li id="f287" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae kf" href="https://github.com/nuxt-community/sitemap-module" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> sitemap </strong> </a> <br/>每个prod网站都需要的超级重要的东西。这个模块将根据你的路线生成一个网站地图。您还可以使用Axios请求您的API，并获得所有动态路由(或任何您想要的东西)。</li><li id="c5c1" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae kf" href="https://github.com/nuxt-community/svg-module" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu">svg</strong></a>T5】在整个应用程序中使用SVG，但是从自动生成的精灵中加载</li><li id="4e96" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae kf" href="https://github.com/nuxt-community/apollo-module" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">阿波罗</strong> </a> <br/> GraphQL牛逼</li><li id="5116" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae kf" href="https://github.com/nuxt-community/pwa-module" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> pwa </strong> </a> <br/> PWA是我们的未来——如果你还没做，那就试试调查这个话题吧！<a class="ae kf" href="https://medium.com/samsung-internet-dev/introducing-progressive-web-apps-to-samsung-galaxy-store-47ecd317725b" rel="noopener">三星开始在Galaxy store展示PWA应用</a>。</li><li id="0870" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae kf" href="https://github.com/nuxt-community/sentry-module" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">哨兵</strong> </a> <br/>通过这项将为您记录所有生产错误的出色服务，了解您的用户的痛苦</li><li id="bb7f" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated"><a class="ae kf" href="https://github.com/nuxt-community/analytics-module" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> GA </strong> </a>，<a class="ae kf" href="https://github.com/nuxt-community/modules/tree/master/packages/google-tag-manager" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> GTM </strong> </a> <br/>追踪你app性能的必备邪恶</li></ul></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="21b2" class="nd lf it bd lg ne nf ng lj nh ni nj lm nk nl nm lp nn no np ls nq nr ns lv nt bi translated">警告</h1><p id="1756" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">当然，在我与Nuxt合作的这一年里，出现了一些问题。<br/>现在，我将试着给出每一个问题的背景，并帮助你将来避免它们:</p><h2 id="9c42" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">Nuxt中多个请求的共享状态</h2><p id="b900" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">这和Node.js的工作方式有关。如果你有一个全局变量，它将在一个并发请求中被覆盖。在这个<a class="ae kf" href="https://stackoverflow.com/questions/48550284/how-to-keep-multiple-requests-separate-in-nodejs-expressjs" rel="noopener ugc nofollow" target="_blank">堆栈溢出问题</a>中给出了一些见解。</p><p id="e247" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我遇到的问题与我的报价列表页面(搜索结果)上的<code class="fe mn mo mp mq b">fetch</code>功能有关。</p><p id="d2a8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我做了一个行动号召，就像:</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="oa ob l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">在服务器端进行搜索</p></figure><p id="b35a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样做是为了在服务器端填充商店，并在客户端使用相同的产品。</p><p id="e60f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是当它在一个动作中完成时，比如action -&gt; commit -&gt; store，那么由于某种原因，数据是混合的。</p><p id="9a40" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我承认，我没有调查真正的原因——可能是Vuex商店的某个全局对象或类似的东西，但问题是当我让我的应用程序为第一个请求运行时，每个下一个请求都有它的状态。因此，你可能最终会登陆<a class="ae kf" href="https://en.clusterjobs.de/search/fullstack developer" rel="noopener ugc nofollow" target="_blank">“全栈开发者”招聘页面</a>，并获得机器学习工程师的结果。</p><p id="b9f8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">解决方法是:</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="oa ob l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">直接从fetch函数提交</p></figure><p id="5244" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以动作-&gt;返回获取-&gt;提交-&gt;状态。该操作应该返回一个用正确数据解析的承诺，您可以在fetch函数中使用它。</p><p id="7ecc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此后，<code class="fe mn mo mp mq b">commit</code>调用可能会接近<code class="fe mn mo mp mq b">fetch</code>的末尾，页面会有正确的数据，但一般问题可能仍然存在。</p><h2 id="b253" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">Heroku和is-https</h2><p id="f389" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">我使用Cloudflare for DNS和Heroku作为服务器托管应用程序。将域名指向Heroku是通过CNAME完成的，这给我带来了一些问题。</p><p id="33ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Nuxt (sitemap，i18n)的几个模块使用is-https库在服务器端识别请求的类型。对Cloudflare的请求是HTTPS，但代理可能不是。我在这方面得到了CMTY的一些建议。<br/> <br/>启用<code class="fe mn mo mp mq b">x-forwarded-proto</code>应该有帮助，不过我还没试过。</p><h2 id="408b" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">到处都是这个</h2><p id="7262" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">我个人喜欢用JS编写函数代码。用Nuxt是可以的，但是所有的模块都让你用<code class="fe mn mo mp mq b">this</code>。</p><p id="63ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">想在Vuex商店或组件中找到当前的语言环境吗？<code class="fe mn mo mp mq b">this.app.i18n.locale</code>切换区域设置和获取所有区域设置列表也是如此。</p><p id="a088" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">想在Vuex中换页？<code class="fe mn mo mp mq b">this.router.push</code></p><p id="4af0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我可以接受这一点，但是将这些对象作为函数内部的参数也可以有利于更好的代码分离。</p><h2 id="d26d" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">Rx.js</h2><p id="ee42" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">我喜欢RX，尤其喜欢将它应用到状态管理用例中。RX可以集成到Vue中——如果我们谈论DOM事件的话，也可以集成到Nuxt中。有<a class="ae kf" href="https://github.com/vuejs/vue-rx" rel="noopener ugc nofollow" target="_blank">这个包</a>。<br/> <br/>要将其集成到Nuxt应用中，只需创建一个插件，如下所示:</p><figure class="ms mt mu mv gt ju"><div class="bz fp l di"><div class="oa ob l"/></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">将这个文件放入plugins文件夹，并将插件添加到nuxt.config.js中</p></figure><p id="db01" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">也有几次尝试将其集成到Vuex中，但到目前为止，回购已被否决。最近没看到任何关于这个的文章。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="7320" class="nd lf it bd lg ne nf ng lj nh ni nj lm nk nl nm lp nn no np ls nq nr ns lv nt bi translated">摘要</h1><p id="ca2d" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr nu kt ku kv nv kx ky kz nw lb lc ld im bi translated">总而言之，我爱Nuxt。我甚至为我的同事们准备了一个研讨会，并做了几次，以传播知识并鼓励他们尝试。</p><p id="381d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我认为这是一个非常成熟和发达的工具，可以满足任何需求。从简单的静态登录页面和个人网站到复杂的网络应用和电子商务平台，你都可以使用它。</p><p id="b095" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我遇到了一些问题，这些问题是可以解决的，但我也经历了许多美好的时刻，一切都变得如此简单，而且运行得棒极了。我真的相信这个框架，并且深深地感谢那些创建了它并且还在维护它的人们。</p></div></div>    
</body>
</html>