<html>
<head>
<title>Prevent Objects From Being Changed in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">防止对象在JavaScript中被更改</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/javascript-prevent-objects-from-being-changed-d1ca82f02975?source=collection_archive---------11-----------------------#2020-01-06">https://betterprogramming.pub/javascript-prevent-objects-from-being-changed-d1ca82f02975?source=collection_archive---------11-----------------------#2020-01-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9c5d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">冻结、密封、防拉伸、isFrozen、isSealed、isExtendable和const的不变性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/33025288b23cb0ced1df49a9635b5f00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pFAlxIqMJkWN0Bx4"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@marksolarski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马克·索拉斯基</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="3951" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript (ES6)中，有多种方法可以通过使对象不可变来保证对象的安全。这减少了副作用和不可预测的行为。但是什么是什么？有四个选项可用，我将在下面的一些简单示例中向您展示。</p><p id="2007" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">注意:这也适用于TypeScript。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4e15" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">限制对象</h1><h2 id="4d98" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">1 — <code class="fe nh ni nj nk b">const</code></h2><p id="deaa" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">防止对象被更改的最常见也是最广为人知的方法是使用<code class="fe nh ni nj nk b">const</code>关键字。与<code class="fe nh ni nj nk b">let</code>和<code class="fe nh ni nj nk b">var</code>不同，你<strong class="lb iu">不能将对象</strong>分配给其他东西，但是你仍然可以改变每个属性的值，删除一个属性，或者创建一个属性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h2 id="4c12" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">2—预防拉伸</h2><p id="fae4" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">更严格一点，我们使用<code class="fe nh ni nj nk b">Object</code>方法。第一个防止改变对象属性的对象方法叫做<code class="fe nh ni nj nk b">preventExtentions</code>。这将<strong class="lb iu">阻止向对象添加新属性</strong>，但仍允许更新和删除现有属性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h2 id="e86c" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">3 —密封</h2><p id="c2f1" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">接下来的方法是<code class="fe nh ni nj nk b">seal</code>。这将<strong class="lb iu">防止向对象添加新属性和从对象中删除现有属性</strong>，但是仍然允许更新现有属性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h2 id="8158" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">4 —冻结</h2><p id="8ff2" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">而最后一个叫做<code class="fe nh ni nj nk b">freeze</code>。这将<strong class="lb iu">阻止对对象做任何</strong>改变。使用<code class="fe nh ni nj nk b">freeze</code>你可以确定它没有在你的代码中被修改。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="105f" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">感谢您的阅读！我的<a class="ae ky" href="https://github.com/jeroenouw/" rel="noopener ugc nofollow" target="_blank"> Github </a>或者<a class="ae ky" href="https://twitter.com/jeroenouw" rel="noopener ugc nofollow" target="_blank"> Twitter </a>。如果你觉得这篇文章有用，请鼓掌，并考虑阅读我的其他文章:</h2><div class="ns nt gp gr nu nv"><a href="https://medium.com/@jeroenouw/ecmascript-vs-typescript-private-fields-640ae37aa162" rel="noopener follow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">EcmaScript与TypeScript —私有字段</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">TypeScript的private关键字和EcmaScript/JavaScript的#字符有什么区别</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj ks nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://levelup.gitconnected.com/typescript-nullish-coalescing-operator-always-have-a-fallback-value-c24e2be6fe5e" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">TypeScript Nullish合并运算符:始终有一个回退值</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">没有null且未用Nullish合并运算符定义的回退值</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oe l"><div class="ok l og oh oi oe oj ks nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="https://levelup.gitconnected.com/upgrade-to-angular-9-within-10-minutes-671c6fd6174b" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">10分钟内升级到Angular 9</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">现在轻松地将您现有的项目更新到Angular的新版本</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oe l"><div class="ol l og oh oi oe oj ks nv"/></div></div></a></div></div></div>    
</body>
</html>