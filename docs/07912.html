<html>
<head>
<title>This Is Stack Overflow’s Most Downvoted Swift Question</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这是Stack Overflow投票最多的Swift问题</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/this-is-stack-overflows-most-downvoted-swift-question-a300826bd776?source=collection_archive---------3-----------------------#2021-03-04">https://betterprogramming.pub/this-is-stack-overflows-most-downvoted-swift-question-a300826bd776?source=collection_archive---------3-----------------------#2021-03-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b0bf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">公平不公平？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5aae8f2b55da210ff9daa5dad2d7c175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lnpAMYK0wm4ZwriW.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/photos/J59wWPn09BE" rel="noopener ugc nofollow" target="_blank">卡莱布·塔普</a>在<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="d8d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本周，有一个特别的问题引起了我对堆栈溢出的注意。这是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/00674715801bf6644db74c1748ed7231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eb3fPc8qNkd5DxXb.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图。</p></figure><p id="673d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这恰好有一个- <em class="lv"> 34 </em>的范围，使得它成为目前栈溢出中关于Swift投票最多的问题。</p><p id="bbaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们一起探索到底发生了什么！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="6f6c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">这个问题</h1><p id="8bd7" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">该问题有一个评论，它代表了“标准的、记录良好的Swift语法|”这很可能是真的。然而，值得看看这个问题和这里问的是什么。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="c265" class="nf me it nb b gy ng nh l ni nj">struct Physics {<br/>    static let smallCoin : UInt32 = 0x1 &lt;&lt; 1<br/>    static let smallCoin2 : UInt32 = 0x1 &lt;&lt; 2<br/>    static let ground : UInt32 = 0x1 &lt;&lt; 3<br/>}</span></pre><p id="7ccd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用了struct(它是一个值类型)和<code class="fe nk nl nm nb b">static</code>，这意味着属性与声明它们的类型相关联，而不是与实例相关联。在这种情况下，有三个属性，它们都是表示不同值的无符号整数。</p><p id="7804" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建这个结构的一个实例，然后读出属性，这是很有用的，这可以用Swift来完成。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="9dbe" class="nf me it nb b gy ng nh l ni nj">print (Physics.smallCoin) // 2<br/>print (Physics.smallCoin2) // 4<br/>print (Physics.ground) // 8</span></pre><p id="3b68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们可以说，每个属性都是一个值，它是通过使用Swift的高级运算符<a class="ae ky" href="https://docs.swift.org/swift-book/LanguageGuide/AdvancedOperators.html" rel="noopener ugc nofollow" target="_blank">的一个位移而得到的。</a></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d461" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">回答问题所需的知识</h1><h2 id="4e4c" class="nf me it bd mf nn no dn mj np nq dp mn li nr ns mp lm nt nu mr lq nv nw mt nx bi translated">为什么？</h2><p id="515c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">看起来这个问题可能来自于物理模拟需要一些常数。整数可能代表吸引力(或类似的东西)或世界上的一组项目，这很好。</p><p id="71be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就引出了问题的第一部分。</p><h2 id="b480" class="nf me it bd mf nn no dn mj np nq dp mn li nr ns mp lm nt nu mr lq nv nw mt nx bi translated">静态let</h2><p id="9f8d" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">有几个原因可以让你使用属性的<code class="fe nk nl nm nb b">static let</code>:</p><ul class=""><li id="182f" class="ny nz it lb b lc ld lf lg li oa lm ob lq oc lu od oe of og bi translated">对常数和类似的配置使用静态属性。</li><li id="3943" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">对昂贵的对象使用静态属性，这样只需为该类型创建一次实例，而不必为每个实例创建一次。</li><li id="cb10" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">一个<a class="ae ky" href="https://stevenpcurtis.medium.com/the-factory-pattern-using-swift-b534ae9f983f" rel="noopener">工厂</a>可以使用静态方法创建复杂的对象。</li></ul><p id="6290" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将集中讨论第一个问题。</p><p id="ee70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个问题是关于一个结构的，这个结构可以很好地表示类似常量的东西。我在我的许多项目中都使用了这种方法，尽管我通常使用enum，而不是下面这种格式的建议结构:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="0141" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解struct和enum之间的区别，请看一下本文。</p><p id="a52c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就导致了这样一种情况，我们将<code class="fe nk nl nm nb b">smallCoin</code>、<code class="fe nk nl nm nb b">smallCoin2</code>和<code class="fe nk nl nm nb b">ground</code>的值表示为<code class="fe nk nl nm nb b">struct</code>中的<code class="fe nk nl nm nb b">static let</code>。</p><h2 id="c531" class="nf me it bd mf nn no dn mj np nq dp mn li nr ns mp lm nt nu mr lq nv nw mt nx bi translated">UInt32 = 0x1 &lt;&lt; 3</h2><p id="3d92" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">The type given here is <a class="ae ky" href="https://medium.com/@stevenpcurtis.sc/int-uint8-or-uint16-swift-im-confused-bbb19f28e4ad" rel="noopener"> UInt32 </a>，这意味着该值是一个无符号的<a class="ae ky" href="https://stevenpcurtis.medium.com/what-is-an-integer-1a26cdd18d68" rel="noopener">整数</a>。然后，根据我们所指的属性，该值被给定为<code class="fe nk nl nm nb b">0x1 &lt;&lt; 1</code>、<code class="fe nk nl nm nb b">0x1 &lt;&lt; 2</code>或<code class="fe nk nl nm nb b">0x1 &lt;&lt; 3</code>。</p><p id="3b86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要理解这一点，我们需要认识到<code class="fe nk nl nm nb b">0x1</code>是<a class="ae ky" href="https://medium.com/@stevenpcurtis.sc/hexadecimal-in-programming-691ffe32f707" rel="noopener">十六进制</a>，代表<em class="lv"> 1 </em>的十进制值。从那里，我们使用<a class="ae ky" href="https://docs.swift.org/swift-book/LanguageGuide/AdvancedOperators.html" rel="noopener ugc nofollow" target="_blank">位移运算符</a>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/f5ed4408c446852b2350a565f30404d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*D_4mCVo6S-XqGGlk.png"/></div></figure><p id="c1d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由<em class="lv"> 1 </em>进行的<em class="lv"> 1 </em>位移位的初始值产生值<em class="lv"> 2 </em>。<em class="lv"> 1 </em>的初始值通过<em class="lv"> 2 </em>的位移位产生值<em class="lv"> 4 </em>。<em class="lv"> 1 </em>的初始值通过<em class="lv"> 3 </em>的位移产生值<em class="lv"> 8 </em>。</p><p id="43c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们为什么需要像这样对单个值进行比特移位还不完全清楚。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d74f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">成本</h1><p id="98d5" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">提出这个问题的人从来没有问过另一个问题，或者在堆栈溢出时自己回答过一个问题。这可能意味着此人不再在Swift中编码，或者可能根本不再编码。</p><p id="32d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">公平的问题在这里可能是有限的，因为反对票的人力成本和这样一个负分可能给人的感觉。这真的不好。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="290c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="ebb5" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">堆栈溢出可能是一个很难提问的地方，而且要想出一个紧迫的问题需要的所有行为方式可能很棘手。</p><p id="1397" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想要这篇文章的视频版本，请到YouTube上查看。</p><p id="d389" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div></div>    
</body>
</html>