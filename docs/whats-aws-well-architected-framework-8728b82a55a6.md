# 什么是 AWS 架构良好的框架？

> 原文：<https://betterprogramming.pub/whats-aws-well-architected-framework-8728b82a55a6>

## 如何平衡你的软件架构？

![](img/6b4a8c6e7bdfb1130ea80eceb60c38e5.png)

Christophe Hautier 在 [Unsplash](https://unsplash.com/s/photos/balance?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

软件架构是一组已经做出的重要决策。设计一个好的、长寿命的、你乐意使用的软件是一项复杂而艰巨的任务。非常非常难。当周围的事物在变化和破碎时，我们必须做出艰难的取舍。如何确保我们的系统是经过深思熟虑和精心设计的？有什么指导方针可以帮助你吗？这就是 AWS 架构良好的框架发挥作用的地方。让我们简要探讨一下这个框架的一些要点。

> 免责声明！AWS 架构良好的框架专注于 AWS 云(这并不奇怪)。尽管如此，我相信它的思考和决策方式在 AWS 之外，甚至在云之外，都是非常有用的

AWS 架构良好的框架是 AWS 工程师多年经验的结晶，被全球众多公司所应用。从别人的错误和经历中学习总是比从自己的错误和经历中学习要好。

AWS 油井架构框架有六个相互关联的支柱。了解它们的存在对于做出明智的决定至关重要。每一个支柱都描述了系统的一个重要方面。根据每个项目的功能需求和驱动因素，我们需要在它们之间做出明智的权衡。

应该应用一些一般原则:

*   使用你真正需要的资源。有多种工具可以根据当前需求增加或减少您的容量。无需保留闲置资源。只为你需要的东西付费
*   做出数据驱动的决策。您可以并且应该收集数据，这些数据将允许您评估您的架构的性能并帮助改进它
*   自动化一切。自动化使得适应和测试你的架构变得更加容易。
*   让您的架构不断发展。一个软件系统永远不会结束，只会发布。我们应该总是适应和迭代改进，以响应变化的需求和要求
*   练习你设计的。我们必须知道我们设计的流程在真实环境中是如何工作的。尤其是如果这些是为了应对突发事件而设计的

# 卓越运营

系统实现商业目标不仅仅取决于优秀的软件。这主要取决于使用它的人。组织中的团队了解他们的角色以及他们给客户带来的价值是至关重要的。他们需要有一个共同的目标，知道自己的责任和责任范围。对我们正在做的事情和为什么做的事情的清晰理解在所有层面上都是至关重要的。

我们必须意识到可能发生的风险，并准备好应对它们。不仅在理论上，而且我们还需要确保这些程序在实践中确实有效。我们必须知道每个过程由谁负责。用测试环境来练习，比在生产烧起来的半夜第一次做要好得多。为失败做准备将使我们的系统更加可靠。

我们必须知道我们系统的正常和异常状态。没有大量的遥测数据是做不到的。如果没有它，我们很容易对我们系统的行为感到惊讶，而那时已经太晚了。做出数据驱动的决策对于成功的组织至关重要。

软件的每次部署都有潜在的失败风险。一次部署的变更越多，风险就越大。更新应该是频繁的、小的和可逆的。我们应该总是从我们的错误中吸取教训，并改进我们的技术和组织流程，以在将来最大限度地减少这种情况。

> 样题:你如何确定你的优先事项是什么？

# 安全性

有些事情很容易被忽视，直到为时已晚。缺乏适当的安全模式已经让许多公司陷入困境。幸运的是，有一些做法可以帮助我们避免这样的命运。

AWS 从我们肩上卸下了一些安全负担。AWS 共同责任模型定义了客户和云提供商的安全责任范围。总之，AWS 确保所提供服务的基础设施是安全的，但我们需要照顾其余的。

任何人都不应该得到他们不需要的东西。这是最小特权原则的基本思想，是任何安全系统的基础。当特权授予过于宽松时，很容易适得其反。默认情况下，应该拒绝对系统任何部分的特权，只有在给定角色需要时才显式允许。身份应该依赖于单一的、集中的提供者。这使得它们更容易管理和探索。

静态和传输中的数据都应该加密。AWS 提供了许多工具来使它变得相对简单。对于许多服务，只需选择一个复选框即可。安全预防措施的级别应取决于我们存储的数据的分类。当然，猫的图像和信用卡数据会被区别对待。

原木应该被当作一等公民对待。没有适当级别的可追溯性，我们将无法检测系统中的任何异常行为或安全漏洞。我们还应该准备一些流程，以减轻潜在安全问题的影响范围。应该练习事件响应，以使其更加可靠和及时。

> 示例问题:如何管理人和机器的身份？

![](img/203a0d68a42409608ce694269a81f52f.png)

*AWS 共享责任模式。来源:*安全支柱，AWS 架构良好的框架，2022 年

# 成本优化

这一切都是为了得到最好的背部爆炸。我们实现这一目标的唯一途径是了解我们为什么要花钱。这一支柱不是关于不惜一切代价最小化支出，而是为满足我们的功能需求所需的工具获得最佳定价。

AWS 服务(以及其他云提供商)的定价可能相当复杂，并且一项服务有多种配置。我们还需要为系统工作负载的不同方面付费。我们必须充分了解我们将如何为给定的服务收费，并为我们的使用模式选择最佳的定价选项。

有很多关于 AWS 巨额账单的恐怖故事，在月底吓到了不知情的用户。如果我们没有监控我们的成本，这将很容易让人感到惊讶。特别是，如果我们不完全理解所用服务的定价模型。每个云提供商都提供各种工具来监控成本。预算和设置通知可以省去我们很多麻烦。

浪费是反人类的罪行。我们绝不允许自己为不需要的东西买单，并积极跟踪此类情况。从事系统工作的团队应该始终意识到他们所使用的每个组件的成本。他们还应该积极努力优化它们。

通过使用托管服务，一些通用工作负载可以且大部分时间应该委托给云提供商。这将使我们专注于使我们的业务成功的核心领域。让其他人来做与基础设施和管理相关的繁重工作。

AWS 的变化速度非常快。添加新服务、更新现有服务以及更改价格。我们需要适应并充分利用这些变化。跟上新的工具和变化并不是一件容易的工作，但是确实可以得到回报，使我们的系统更有效(并且更酷)。

> 示例问题:如何监控使用情况和成本？

# 可靠性

没有人喜欢不可靠且不断崩溃的系统。我们需要始终确保我们的系统有足够的资源来执行。它需要自动扩展以满足预期需求。我们必须了解每个 AWS 服务对某个客户或地区都有一些限制和配额。其中一些是灵活的，可以根据需要进行更改。我们需要积极地监控资源使用情况，并检查我们是否即将达到这样的限制。

每个系统都会在某个时间点崩溃。我们必须为失败做好计划，并有适当的反应程序。我们应该有剧本来描述在这种情况下如何行动。此外，对事故的响应最好是自动化的。这将使反应更快、更可靠。我们应该确保事故的爆炸半径尽可能小，并且我们的业务不会受到影响。如果系统的一个组件出现故障，应该不会对其他组件产生影响。

有两种人:备份的人，和从未丢失过所有数据的人。如果我们的数据有任何价值，备份总是至关重要的。此外，我们必须确保备份和恢复过程在实践中有效。不幸的是，这一点经常被忽视，很少被测试。当备份没有按预期工作时，可能会有悲惨的后果。

> 示例问题:如何在分布式系统中设计交互以防止故障？

# 性能效率

有四种核心资源类型:计算、存储、数据库和网络。他们中的每一个都有许多不同的云服务可用，并且每一个都有许多配置。为这项工作选择合适的选项是一项非常困难的任务。在没有充分了解我们的需求之前，我们肯定做不到。性能预期将取决于具体的工作负载，通常会有很大不同，例如面向客户的网站和后台报告工具。此外，云环境在不断发展，选择合适的工具必须是一个持续的过程。我们需要经常重新评估我们的选择，并利用最新的产品。

有许多非常复杂的挑战可以转移给云提供商。这不仅与基础设施有关，还与使用托管服务有关。我们越能专注于使我们的业务与众不同的核心领域，就越好。AWS 在托管服务的优化上投入了大量精力。因此，这些很可能比我们自己管理的任何类似的自托管解决方案更具性能。

我们的系统应该受到严密监控，以确保它按预期运行。如果检测到任何异常行为，监控会向我们发出警报，并验证我们软件的性能。监控的规则应该适合我们的需要，并经常重新评估。

> 示例问题:您如何监控您的资源以确保它们发挥作用？

# 可持续性

这是 2021 年新增的最新支柱。这无疑是一个信号，表明人们对我们行为的后果有多重要的看法发生了变化。我们做出的每个决定都会对环境产生影响。我们应该明白它会有多大。充分利用我们已经拥有的资源，而不是购买额外的资源，可能是减少碳足迹的一个例子。我们还可以使用 spot 实例来重用已经被其他客户保留的实例的计算能力。

一些 AWS 地区使用可再生能源。在选择我们计划使用的区域时，这是值得考虑的。即使是许多用户和公司的一个小小的改变也会产生巨大的影响。

> 示例问题:您如何选择区域来支持您的可持续发展目标？

除了通用框架之外，AWS 还提供了架构良好的透镜。这些指导方针与架构良好的框架一起使用，应该有助于为特定的技术或行业充分利用云。

还有一个免费的工具可以帮助您评估您的架构，并使结果更加有形。AWS 架构良好的工具是一个你可以记录和回顾框架和镜头的每个问题的答案的地方。它可以很容易地与我们系统的架构一起共享和发展。

AWS 架构良好的框架不会提供直接的解决方案，但是可以帮助做出更好的、经过深思熟虑的架构决策。任何系统都有多种设计方式。这个框架是评估不同选项和探索市场最佳实践的一个很好的工具。

# 资源

[](https://aws.amazon.com/architecture/well-architected/) [## AWS 架构完善——构建安全、高效的云应用

### 使用架构最佳实践来学习、衡量和构建 AWS 良好的架构有助于云架构师构建安全的…

aws.amazon.com](https://aws.amazon.com/architecture/well-architected/) [](https://aws.amazon.com/well-architected-tool/?whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc) [## AWS 架构良好的工具——Amazon Web Services

### 审查您的架构并采用最佳实践 AWS 架构良好的工具旨在帮助您审查…

aws.amazon.com](https://aws.amazon.com/well-architected-tool/?whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc)