<html>
<head>
<title>Build Your First Local Server and Web App With Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Node.js构建第一个本地服务器和Web应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-your-first-local-server-and-web-app-with-node-js-5a5d9e00aff0?source=collection_archive---------1-----------------------#2018-11-03">https://betterprogramming.pub/build-your-first-local-server-and-web-app-with-node-js-5a5d9e00aff0?source=collection_archive---------1-----------------------#2018-11-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e2cb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何设置本地服务器并开始使用Node.js运行您的应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5bdd5a049690d9226772cf6135854cf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FqXs1OjMjURTGBAXD_kQ9w.png"/></div></div></figure><p id="c909" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这个简短的教程中，您将学习如何使用Node.js设置本地服务器。最后，您将能够在自己的虚拟服务器上运行基本的应用程序版本。</p><p id="4ecf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们开始吧！🚀</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="2b31" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">你为什么需要一个网络服务器，它到底是什么？</h1><p id="3494" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">虚拟web服务器使用服务器软件在您自己的计算机上运行。如果你是一个有抱负的开发人员，你肯定想建立一个，因为它允许你测试你已经建立的任何web应用程序的特性。</p><p id="6690" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">想象一下，上传你的网站或应用程序，让全世界看到，而不用在线测试。没有任何方法可以确定它对其他用户是否有效。听起来很糟糕，对吧？因此，在线访问您的网站时，最好经常检查您创建的功能是如何工作的。</p><h1 id="9ca4" class="lx ly it bd lz ma mu mc md me mv mg mh jz mw ka mj kc mx kd ml kf my kg mn mo bi translated">安装Node.js</h1><p id="201d" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">首先，我们需要安装<a class="ae mz" href="https://hackernoon.com/tagged/nodejs" rel="noopener ugc nofollow" target="_blank"> Node.js </a>，这是<a class="ae mz" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>(👉英文:Node会帮你执行JavaScript代码)。</p><p id="6b55" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">许多开发人员在谈到Node时都会兴奋不已。在Node之前，只有像Google Chrome这样的网络浏览器有JavaScript引擎，可以读取和显示用JavaScript编写的代码。对于Chrome来说，这个解释器叫做<em class="na"> V8 </em>。Node如此受欢迎的特性是它允许JavaScript基本上在所有机器上运行——这意味着浏览器不再是JavaScript执行的限制。</p><p id="f8b7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">可以肯定地说，在为所有类型的web应用程序构建简单的服务器时，Node是最佳选择。所以还是装吧。让我们来看看两种方法，一种是快速安装方法，另一种是一开始有点复杂，但后来更方便的方法。</p><h2 id="0101" class="nb ly it bd lz nc nd dn md ne nf dp mh ld ng nh mj lh ni nj ml ll nk nl mn nm bi translated">(1)快速安装Node.js的方法</h2><ol class=""><li id="76aa" class="nn no it kw b kx mp la mq ld np lh nq ll nr lp ns nt nu nv bi translated">进入Node.js 的<a class="ae mz" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">官方页面，下载你操作系统的安装包。使用LTS版本，而不是当前版本。</a></li><li id="4873" class="nn no it kw b kx nw la nx ld ny lh nz ll oa lp ns nt nu nv bi translated">下载完成后，像在Mac或PC上安装任何其他应用程序一样安装软件包</li><li id="99ed" class="nn no it kw b kx nw la nx ld ny lh nz ll oa lp ns nt nu nv bi translated">接下来，您可以进入您选择的终端程序。如果你没有安装iTerm2或Hyper之类的终端应用，只需打开每台Mac上预装的终端。如果您是Windows用户，请在此处查看<a class="ae mz" href="http://how to use Terminal on Windows and don't go crazy" rel="noopener ugc nofollow" target="_blank"/>。</li><li id="fc01" class="nn no it kw b kx nw la nx ld ny lh nz ll oa lp ns nt nu nv bi translated">您可以在您的终端中键入以下命令，看看是否所有东西都安装正确:<code class="fe ob oc od oe b">$ node -v</code>。如果工作正常，您现在应该会看到一个节点版本号。另外，检查<code class="fe ob oc od oe b">npm</code>是否安装了<code class="fe ob oc od oe b">$ npm -v</code>和<em class="na">。</em> <code class="fe ob oc od oe b">Npm</code>是Node安装时自带的节点包管理器。我们将在接下来的步骤中使用它来安装Express并启动我们的虚拟服务器。</li></ol><h2 id="4111" class="nb ly it bd lz nc nd dn md ne nf dp mh ld ng nh mj lh ni nj ml ll nk nl mn nm bi translated">(2)更好的安装Node.js的方法</h2><p id="9626" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">比起上述方式，我更喜欢用<a class="ae mz" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank"> Homebrew </a>，这是一个macOS的包管理器。它允许你通过终端超快地安装缺失的应用程序。Windows用户必须使用另一个包管理器，如<a class="ae mz" href="https://scoop.sh/" rel="noopener ugc nofollow" target="_blank"> Scoop </a>来代替。它们非常相似，出于演示目的，我将向您展示如何通过自制软件安装Node。</p><ol class=""><li id="a72b" class="nn no it kw b kx ky la lb ld of lh og ll oh lp ns nt nu nv bi translated">同样，\转到终端并粘贴以下提示(不带$-符号)。如果你想知道:它只是检查家酿的GitHub库，并从那里安装应用程序。<br/> <code class="fe ob oc od oe b">$ /usr/bin/ruby -e “$(curl -fsSL <a class="ae mz" href="https://raw.githubusercontent.com/Homebrew/install/master/install" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/Homebrew/install/master/install</a>)</code></li><li id="90d7" class="nn no it kw b kx nw la nx ld ny lh nz ll oa lp ns nt nu nv bi translated">如果家酿安装正确，我们现在将准备安装节点与这个简单的命令:<code class="fe ob oc od oe b">$ brew install node</code></li><li id="a043" class="nn no it kw b kx nw la nx ld ny lh nz ll oa lp ns nt nu nv bi translated">您可以通过输入:<code class="fe ob oc od oe b">$ node -v</code>和<code class="fe ob oc od oe b">$ npm -v</code>来检查一切是否正常(这应该会给出您安装的节点的版本号)。</li></ol><p id="31b2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是为什么要通过像Homebrew这样的包管理器来安装Node呢？有几个原因说明这是一个好主意:</p><ul class=""><li id="9426" class="nn no it kw b kx ky la lb ld of lh og ll oh lp oi nt nu nv bi translated">如果您正在使用节点的安装管理器，您可能会遇到访问问题，需要您使用名为<code class="fe ob oc od oe b">$ sudo</code>的命令在系统中进行更改。</li><li id="c89a" class="nn no it kw b kx nw la nx ld ny lh nz ll oa lp oi nt nu nv bi translated">此外，如果你想卸载没有节点，这将是非常混乱的，因为你需要跟踪所有的文件被创建。</li><li id="213d" class="nn no it kw b kx nw la nx ld ny lh nz ll oa lp oi nt nu nv bi translated">最后，当使用自制软件时，保持你的节点版本最新也容易得多。</li></ul></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="8b96" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">设置您的第一个应用程序</h1><p id="8148" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">你还和我在一起，对吗？太好了，让我们最后继续构建一个实际的web应用程序和本地服务器吧！</p><p id="09c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了方便起见，我们可以使用<code class="fe ob oc od oe b">express-generator</code>，它是一个很棒的命令行工具，可以为我们创建一个应用程序框架。否则，您将需要编写更高级的代码，如设置服务器实例、配置视图引擎等。虽然知道这一点很好，但是没有必要在网络服务器上运行你的第一个应用程序。</p><p id="165a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe ob oc od oe b">Express-generator</code>直截了当。只需将下面的命令黑进你的终端:<code class="fe ob oc od oe b">$ npm install express-generator -g</code>。通过<code class="fe ob oc od oe b">-g</code>，我们可以在全球范围内安装Express，这意味着您可以从任何目录访问该软件包。</p><p id="88b6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">仍然在终端上，你现在可以通过输入<code class="fe ob oc od oe b">$ express -v ejs -c sass myapp</code>用<code class="fe ob oc od oe b">express-generator</code>创建一个新的应用。在本例中，<code class="fe ob oc od oe b">myapp</code>将是您的项目名称。你猜怎么着？您刚刚构建了您的第一个应用程序！要访问我们刚刚创建的<code class="fe ob oc od oe b">myapp</code>目录，您可以键入<code class="fe ob oc od oe b">$ cd myapp</code>。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="a83d" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">欣赏你刚刚创建的应用程序</h1><p id="0c96" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">看一看您刚刚创建的<code class="fe ob oc od oe b">myapp</code>项目。要在代码编辑器中查看您的文件，只需在终端上的<code class="fe ob oc od oe b">myapp</code>文件夹中使用下面这一行:<code class="fe ob oc od oe b">$ code .</code>。</p><p id="8d17" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当然，要做到这一点，您必须安装像Visual Studio Code或Atom这样的代码编辑器。</p><p id="10ee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当打开编辑器时，您可以看到项目和所有文件，这些文件都是使用Express generator自动为您创建的。在<code class="fe ob oc od oe b">index.ejs</code>中，你可以在那里编辑和构建你复杂的网络应用。现在，让我们保持原样，继续构建我们的服务器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/79121c269e286ce5975e4d19a49814a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GG_zoOBOiXd5SNhe5UjM8A.png"/></div></div><p class="ok ol gj gh gi om on bd b be z dk translated">在代码编辑器中设置快速生成器</p></figure><p id="6ecc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们快到了。</p><p id="bda1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后一件事:我们必须安装各种额外的第三方包(在<code class="fe ob oc od oe b">package.json</code>文件中作为依赖项列出)。这些通常是Express运行服务器所需要的。好消息是这将非常容易，因为你可以通过<code class="fe ob oc od oe b">npm</code>一次安装所有这些。打开您的终端并使用以下提示:</p><p id="9c29" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe ob oc od oe b">$ npm install</code>。您可以通过再次进入代码编辑器来检查安装是否成功。你会看到一个名为<code class="fe ob oc od oe b">node_modules</code>的新文件夹，就像我上面的例子一样(提示:如果你上传到GitHub，请排除这个)。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="145b" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">在虚拟Web服务器上启动您的应用程序</h1><p id="5860" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">最后，让我们在web服务器上运行我们的应用程序。前面的步骤已经完成了大部分必要的工作！两个简单的步骤，你就到了:</p><ol class=""><li id="d545" class="nn no it kw b kx ky la lb ld of lh og ll oh lp ns nt nu nv bi translated">在终端中，提示该命令:<code class="fe ob oc od oe b">$ npm start</code>。这将启动一个虚拟服务器。</li><li id="7fa7" class="nn no it kw b kx nw la nx ld ny lh nz ll oa lp ns nt nu nv bi translated">转到互联网浏览器的地址栏，键入<code class="fe ob oc od oe b">localhost:3000</code>。Localhost和<em class="na">一样是顶级域名(TLD)。com </em>或<em class="na">。org </em>。然而，它是为文档和测试目的而保留的。用<code class="fe ob oc od oe b"><em class="na">:3000</em></code> <em class="na"> </em>调用默认端口来访问新建的服务器。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/6468ec21880ad505f271c305d4b4db58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZD1pwq1GG5hbDsbA26IDhA.png"/></div></div><p class="ok ol gj gh gi om on bd b be z dk translated">Express应用程序运行后，本地服务器上会出现欢迎屏幕</p></figure></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="f758" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">从这里去哪里</h1><p id="2411" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">恭喜你。您已经创建了自己的第一个应用程序，并在自己的服务器上运行。从这里开始，您可以开始构建您的自定义应用程序。应用程序框架已经设置好，允许您在<code class="fe ob oc od oe b">index.ejs</code>内构建自己的站点。如果你想建立比简单网站更高级的东西，你应该考虑使用partials。这意味着你可以用你的<code class="fe ob oc od oe b">index.ejs</code>引用的组件来构建你的应用。为了方便起见，我们已经安装了视图引擎EJS，它将帮助您在组件中构建应用程序的特定部分。</p><p id="12f3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢您的阅读。我真的希望这篇教程对你有所帮助。</p></div></div>    
</body>
</html>