<html>
<head>
<title>Get Started With Watch Connectivity With SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI手表连接入门</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/get-started-with-watch-connectivity-with-swiftui-51722324b6f6?source=collection_archive---------1-----------------------#2020-10-22">https://betterprogramming.pub/get-started-with-watch-connectivity-with-swiftui-51722324b6f6?source=collection_archive---------1-----------------------#2020-10-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1017" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用一个简单的示例应用程序说明连接性</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c17880fa830e94eab07de99491a146ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xt88TmmBW3j_uJ3qn5Mm6w.png"/></div></div></figure><p id="489a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://developer.apple.com/documentation/watchconnectivity" rel="noopener ugc nofollow" target="_blank"> Watch Connectivity </a>是一个框架，它实现了iOS应用程序与其配对的watchOS应用程序之间的双向通信。有几种方法可以将数据从iPhone传输到watchOS(或从watch OS传输回来)，包括CloudKit。根据我的经验，手表连接在某些情况下更稳定，因为:</p><ul class=""><li id="791f" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">它不依赖于网络连接</li><li id="9195" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">如果用户的iCloud存储空间已满，则没有任何问题</li><li id="312d" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">它对数据传输模式和时间有更多的控制</li></ul><p id="d708" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有关于手表连接和样本项目的教程，包括一个来自苹果公司的教程。这是一个很好的例子，但是对于初学者来说有点难以理解。</p><p id="3c54" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我写这篇文章是为了提供一个教程，使用最少的代码和SwiftUI的用户界面开始手表连接。</p><p id="7ab7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过完成本教程，您将创建一个应用程序，该应用程序:</p><ul class=""><li id="2226" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">在watchOS和iPhone之间建立连接</li><li id="5ad6" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">指示watchOS是否可以接收来自iPhone的信息</li><li id="1ee2" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">可以从iPhone向watchOS发送简单的信息</li></ul><p id="5dcf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以一步一步地阅读这个指南，或者<a class="ae ln" href="https://github.com/Basistiy/ConnectivitySwiftUI.git" rel="noopener ugc nofollow" target="_blank">下载</a>完整的应用程序，自己弄清楚它是如何工作的。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="e15a" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">入门指南</h1><p id="0a32" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">首先，让我们用Watch App项目创建一个新的iOS应用程序。选择SwiftUI作为用户界面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/2a1045fbbb2e1d59ffb3d76f4b669f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Bdzmir-9zUyG8V5LZ-2AQ.png"/></div></div></figure><p id="1b48" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">创建新的Swift文件。在这个文件中，我们将创建一个视图模型，它还将管理我们与watchOS的连接。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/4a893550ff89ec4e5c5c5c1521cf983e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kT5QdXB67wb-bP-t6wfn-g.png"/></div></div></figure><p id="d594" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">将手表连接框架导入文件。</p><p id="ed5a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">模型类必须符合两个协议:<code class="fe ni nj nk nl b">NSObject</code>和<code class="fe ni nj nk nl b">WCSessionDelegate</code>。为了符合<code class="fe ni nj nk nl b">WCSessionDelegate</code>，该类必须实现三个方法:</p><pre class="kg kh ki kj gt nm nl nn no aw np bi"><span id="0333" class="nq mk iq nl b gy nr ns l nt nu">func session(_ session: WCSession, activationDidCompleteWith activationState: WCSessionActivationState, error: Error?)</span><span id="c70a" class="nq mk iq nl b gy nv ns l nt nu">func sessionDidBecomeInactive(_ session: WCSession)</span><span id="0dba" class="nq mk iq nl b gy nv ns l nt nu">func sessionDidDeactivate(_ session: WCSession)</span></pre><p id="e4a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些方法暂时先放一放。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="d057" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">苹果建议你应该尽快启动watchOS和iPhone之间的连接会话，因为你可能想要在应用视图加载之前执行一些操作。但是为了简单起见，我们将从<code class="fe ni nj nk nl b">ContentView</code>开始会话。</p><p id="090d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe ni nj nk nl b">ContentView</code>中从<code class="fe ni nj nk nl b">ViewModelPhone</code>类创建一个新对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="92fc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ni nj nk nl b">WCSession</code>有几个属性，指示手表应用程序是否已安装，或者手表此时是否可达。我们将使用这些属性来确保手表和iPhone之间的连接已经建立。</p><p id="2889" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe ni nj nk nl b">ContentView</code>中的<code class="fe ni nj nk nl b">VStack</code>内创建一个<code class="fe ni nj nk nl b">TextField</code>和一个<code class="fe ni nj nk nl b">Button</code>。</p><p id="f3e0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">按钮动作将触发一段代码来检查<code class="fe ni nj nk nl b">WCSession</code>的<code class="fe ni nj nk nl b">.isReachable </code>属性并更新<code class="fe ni nj nk nl b">TextField</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="0cd3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们必须编写一些代码来实现手表端的连接。</p><p id="892d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe ni nj nk nl b">WatchKit Extension</code>文件夹中，创建一个名为<code class="fe ni nj nk nl b">ViewModelWatch</code>的新Swift文件。确保文件在目标中启用了<code class="fe ni nj nk nl b">WatchKit Extension</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/7ad9412a4fcd317da1e01c11de1326bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4RrcGCAGXHZ4XPhoj2E-aw.png"/></div></div></figure><p id="6ae0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在文件内部，创建一个符合<code class="fe ni nj nk nl b">NSObject</code>的名为<code class="fe ni nj nk nl b">WCSessionDelegate</code>的类。它类似于iPhone的类。但是对于手表，不需要实现<code class="fe ni nj nk nl b">sessionDidBecomeInactive</code>和<code class="fe ni nj nk nl b">sessionDidDeactivate</code>方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="b73b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，在<code class="fe ni nj nk nl b">WatchKitExtension</code>的<code class="fe ni nj nk nl b">ContentView</code>内部创建一个<code class="fe ni nj nk nl b">ViewModelWatch</code>类的对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="1c9c" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">测试您的应用</h1><p id="02f1" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">是时候测试应用程序是否如预期的那样在模拟器上运行了。</p><ol class=""><li id="c5d8" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm nz lu lv lw bi translated">将手机模拟器与手表配对。从Xcode中运行和停止按钮附近的下拉菜单中点击<code class="fe ni nj nk nl b">Add Additional Simulators</code>。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/b9bbb00256f0b839951f0b7a32421cf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*osWaMSIH0mQWtXZNKJUX5Q.png"/></div></div></figure><p id="8afe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">单击iPhone模拟器，然后按加号按钮。然后，选择您想要配对的手表模拟器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/f48cc8da7937839a17d756b46bf9a719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wJdV5CcYlqOd5BnjmbzwRg.png"/></div></div></figure><p id="7fb7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.启动iPhone应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/5f50dc84f32155fff75c021a895fee7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pZcytilGYh3JByBSOXh9Lw.png"/></div></div></figure><p id="5278" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">3.启动手表应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/8847dcb985302cb2bc9122ddf20cd312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_fUJzyjfVWA2pECxWMkWHQ.png"/></div></div></figure><p id="b70d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">4.按下更新按钮。如果一切正常，标签<code class="fe ni nj nk nl b">Reachable</code>附近的<code class="fe ni nj nk nl b">No</code>将变为<code class="fe ni nj nk nl b">Yes</code>。如果没有出现这种情况，请尝试停止并再次运行iPhone应用程序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/896ceed45f8f3dfbb146eb92f1977f2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*26Ta_mjmRpUjzpujEo2ajg.png"/></div></div></figure><p id="b4e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此外，当您检查<code class="fe ni nj nk nl b">Reachable</code>属性时，请确保手表应用程序正在前台运行。你可以将手表应用放在后台进行实验:</p><ol class=""><li id="414e" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm nz lu lv lw bi translated">按手表模拟器上的数字按钮(主页按钮)。</li><li id="8692" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm nz lu lv lw bi translated">此时如果您按下更新按钮，<code class="fe ni nj nk nl b">Yes</code>将变为<code class="fe ni nj nk nl b">Reachable</code>标签附近的<code class="fe ni nj nk nl b">No</code>。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/8bbe3d3672906e9371a252bf37c40549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tAfVLAdaWHg5aUfjUM_XaQ.png"/></div></div></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="49e3" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">使应用程序能够在iOS和watchOS之间发送简单的信息</h1><p id="3cf1" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">在iOS应用程序的<code class="fe ni nj nk nl b">ContentView</code>中，创建一个文本字段和一个按钮:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="7bb2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">按下按钮将触发动作<code class="fe ni nj nk nl b">self.model.session.sendMessage([“message” : self.messageText], replyHandler: nil) { (error) in print(error.localizedDescription) }</code>。</p><p id="891b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，这里我们使用session对象的<code class="fe ni nj nk nl b">sendMessage</code>方法，该方法接受一个字典<code class="fe ni nj nk nl b">[String : Any]</code>，该字典带有一个作为键的字符串(在我们的例子中是<code class="fe ni nj nk nl b">“message”</code>)和一个属性列表数据类型(在我们的例子中是来自<code class="fe ni nj nk nl b">TextField</code>的字符串)的值<a class="ae ln" href="https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/PropertyList.html" rel="noopener ugc nofollow" target="_blank">。此方法在几种情况下会引发错误。最常见的有:</a></p><ul class=""><li id="fb31" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">您试图发送一个不是属性列表数据类型的值</li><li id="0037" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">当手表无法<a class="ae ln" href="https://developer.apple.com/documentation/watchconnectivity/wcsession/1615687-sendmessage" rel="noopener ugc nofollow" target="_blank">到达</a>时，你尝试从iPhone向watchOS发送信息</li></ul><p id="f0ba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们需要创建一个负责接收和解码消息的方法。</p><ol class=""><li id="59d6" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm nz lu lv lw bi translated">使<code class="fe ni nj nk nl b">ViewModelWatch</code>类符合<code class="fe ni nj nk nl b">ObservableObject</code>协议。</li><li id="4506" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm nz lu lv lw bi translated">用<code class="fe ni nj nk nl b">Published</code>属性创建新的空字符串<code class="fe ni nj nk nl b">messageText</code>。我们将使用这个字符串在监视屏幕上显示消息内容。</li><li id="01b7" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm nz lu lv lw bi translated">创建<code class="fe ni nj nk nl b">session(_ session: WCSession, didReceiveMessage message: [String : Any])</code>方法。此方法由接收消息触发。</li><li id="bfd4" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm nz lu lv lw bi translated">在这个方法中，设置<code class="fe ni nj nk nl b">messageText</code>的值等于接收到的消息的值。您需要在<code class="fe ni nj nk nl b">DispatchQueue.main.async</code>上完成，因为<code class="fe ni nj nk nl b">messageText</code>有一个<code class="fe ni nj nk nl b">Published</code>属性；否则，在执行过程中会出现错误。</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="831b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">5.更新手表侧的<code class="fe ni nj nk nl b">ContentView</code>，以便显示<code class="fe ni nj nk nl b">messageText</code>字符串，而不是<code class="fe ni nj nk nl b">“Hello world”</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="bc94" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就是这样。现在运行应用程序，确保你的信息从你的iPhone传到你的手表上。</p><ol class=""><li id="859f" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm nz lu lv lw bi translated">启动你的iPhone和手表模拟器。</li><li id="8c7d" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm nz lu lv lw bi translated">在iPhone上的<code class="fe ni nj nk nl b">TextField</code>中键入您的消息，然后点击发送消息按钮。</li><li id="e5af" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm nz lu lv lw bi translated">手表屏幕现在应该显示您的消息。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/c9d30575d4dd322d8b7d978a15145ca9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfHrKzE4tX3e9yov3BebdQ.png"/></div></div></figure></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h1 id="8b73" class="mj mk iq bd ml mm mn mo mp mq mr ms mt jw mu jx mv jz mw ka mx kc my kd mz na bi translated">结论</h1><p id="3ce6" class="pw-post-body-paragraph kr ks iq kt b ku nb jr kw kx nc ju kz la nd lc ld le ne lg lh li nf lk ll lm ij bi translated">我希望这个例子对你来说一切顺利。现在，您已经准备好向示例代码中添加更多的特性，以满足您的项目需求。</p><p id="8a91" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过手表连接会话发送和接收数据有几种<a class="ae ln" href="https://developer.apple.com/documentation/watchconnectivity/wcsession" rel="noopener ugc nofollow" target="_blank">方法</a>:</p><pre class="kg kh ki kj gt nm nl nn no aw np bi"><span id="df38" class="nq mk iq nl b gy nr ns l nt nu"><a class="ae ln" href="https://developer.apple.com/documentation/watchconnectivity/wcsession/1615687-sendmessage" rel="noopener ugc nofollow" target="_blank">sendMessage(_:replyHandler:errorHandler:)</a></span><span id="5c99" class="nq mk iq nl b gy nv ns l nt nu"><a class="ae ln" href="https://developer.apple.com/documentation/watchconnectivity/wcsession/1615617-sendmessagedata" rel="noopener ugc nofollow" target="_blank">sendMessageData(_:replyHandler:errorHandler:)</a></span><span id="c6d2" class="nq mk iq nl b gy nv ns l nt nu"><a class="ae ln" href="https://developer.apple.com/documentation/watchconnectivity/wcsession/1615671-transferuserinfo" rel="noopener ugc nofollow" target="_blank">transferUserInfo(_:)</a></span><span id="68d3" class="nq mk iq nl b gy nv ns l nt nu"><a class="ae ln" href="https://developer.apple.com/documentation/watchconnectivity/wcsession/1615667-transferfile" rel="noopener ugc nofollow" target="_blank">transferFile(_:metadata:)</a></span><span id="74c4" class="nq mk iq nl b gy nv ns l nt nu"><a class="ae ln" href="https://developer.apple.com/documentation/watchconnectivity/wcsession/1615639-transfercurrentcomplicationuseri" rel="noopener ugc nofollow" target="_blank">transferCurrentComplicationUserInfo(_:)</a></span></pre><p id="a0c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以选择一个适合您的项目。你可以在这个<a class="ae ln" href="https://developer.apple.com/videos/play/wwdc2015/713/" rel="noopener ugc nofollow" target="_blank">视频</a>中了解更多关于他们之间的区别。</p><p id="6ca9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读。我希望这有所帮助。</p></div></div>    
</body>
</html>