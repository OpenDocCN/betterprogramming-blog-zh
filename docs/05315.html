<html>
<head>
<title>Build an Interactive CLI Using TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript构建交互式CLI</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-an-interactive-cli-using-typescript-54d2b7d7250e?source=collection_archive---------7-----------------------#2020-06-29">https://betterprogramming.pub/build-an-interactive-cli-using-typescript-54d2b7d7250e?source=collection_archive---------7-----------------------#2020-06-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="41d8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">使用TypeScript、OCLIF和Inquirer快速构建交互式CLI</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/78779cc007872d732207bb589d6c509e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eGleDft8gWeu-n1FcLOSpw.jpeg"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">由<a class="ae kw" href="https://unsplash.com/@patkrupa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">帕特·克鲁帕</a>在<a class="ae kw" href="/s/photos/terminal?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="38f5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在本文中，我们将使用Typescript和一个名为OCLIF的框架构建一个CLI。我们将使它具有交互性，以便第一次使用时非常容易掌握和使用。</p><blockquote class="lt lu lv"><p id="f7a0" class="kx ky lw kz b la lb jr lc ld le ju lf lx lh li lj ly ll lm ln lz lp lq lr ls ij bi translated">本文最初发布在我的博客这里:<a class="ae kw" href="https://www.christiandimas.com/build-interactive-cli-using-typescript/" rel="noopener ugc nofollow" target="_blank">https://www . christiandimas . com/build-interactive-CLI-using-typescript/</a></p></blockquote></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="7093" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">入门指南</h1><p id="d55e" class="pw-post-body-paragraph kx ky iq kz b la mz jr lc ld na ju lf lg nb li lj lk nc lm ln lo nd lq lr ls ij bi translated">我们的核心功能需要两个NPM库。第一个叫做<code class="fe ne nf ng nh b">OCLIF</code>，代表Open CLI Framework。这个库为我们提供了构建CLI的完整工作流程。我们需要的另一个库叫做<code class="fe ne nf ng nh b">Inquirer</code> <strong class="kz ir">，</strong>这将帮助我们使CLI具有交互性和用户友好性。</p><p id="4473" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">用OCLIF创建新项目有两种方法。<br/>第一种是全局安装，然后运行如下命令:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="2680" class="nm mi iq nh b gy nn no l np nq">yarn global add oclif <br/>oclif multi pizza-cli</span></pre><p id="970a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">另一种方法是简单地使用<code class="fe ne nf ng nh b">npx</code>，就像这样:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="1f38" class="nm mi iq nh b gy nn no l np nq">npx oclif multi<strong class="nh ir"> </strong>pizza-cli</span></pre><blockquote class="lt lu lv"><p id="85c2" class="kx ky lw kz b la lb jr lc ld le ju lf lx lh li lj ly ll lm ln lz lp lq lr ls ij bi translated">我们正在创建一个<code class="fe ne nf ng nh b">multi</code>命令CLI，其中CLI可以有多个命令。OCLIF还支持创建单个命令CLI。类似于<code class="fe ne nf ng nh b">ls</code>命令，它只有一个功能</p></blockquote><p id="14dd" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这个命令会给我们一些问题，这些问题会影响项目脚手架的布局</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nr"><img src="../Images/d06ac777197d9a16a8116a06d83b7f50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K2Wh8PbVTe89juEmaPJ7XA.png"/></div></div></figure><p id="331f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">大多数问题都是不言自明的，并且会添加到您的<code class="fe ne nf ng nh b">package.json</code>文件中。你应该注意两个问题:</p><ul class=""><li id="50d3" class="ns nt iq kz b la lb ld le lg nu lk nv lo nw ls nx ny nz oa bi translated"><strong class="kz ir"> NPM包名称:</strong>这将在您向NPM发布CLI时使用。</li><li id="0ecf" class="ns nt iq kz b la ob ld oc lg od lk oe lo of ls nx ny nz oa bi translated"><strong class="kz ir">命令行界面将导出的命令绑定名称:</strong>这是您在终端上键入的命令，以使用该命令行界面，如<code class="fe ne nf ng nh b">npm</code>、<code class="fe ne nf ng nh b">ls</code>等。</li></ul><p id="7fa8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在搭建过程完成之后，移动到项目目录并在代码编辑器中打开它(在本文中我将使用VSCode):</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="ce97" class="nm mi iq nh b gy nn no l np nq">cd pizza-cli<br/>code .</span></pre></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="7d25" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">项目结构</h1><p id="fa6b" class="pw-post-body-paragraph kx ky iq kz b la mz jr lc ld na ju lf lg nb li lj lk nc lm ln lo nd lq lr ls ij bi translated">项目结构将如下所示:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi og"><img src="../Images/187dde7f50bbe38f13bbcb5211e2912a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*C8JOVbl550sLkLnLLclzXA.png"/></div></figure><p id="c4c9" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如您所见，在命令文件夹中已经有了一个名为<code class="fe ne nf ng nh b">hello.ts</code>的文件。这个文件是我们唯一需要的一个<code class="fe ne nf ng nh b">hello</code>命令。</p><p id="0c3f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们来试试吧！回到您的终端，键入以下内容:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="1a23" class="nm mi iq nh b gy nn no l np nq">./bin/run hello     # This will call the hello subcommand</span></pre><p id="b5e1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">您也可以运行:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="b4ef" class="nm mi iq nh b gy nn no l np nq">./bin/run --version   # This will show the cli version<br/>./bin/run --help      # This will show a generated help for the CLI</span></pre><p id="c790" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">酷！您刚刚创建了您的第一个CLI！</p><p id="03d5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，让我们看看<code class="fe ne nf ng nh b">hello.ts</code>文件中有什么:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="861b" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">您的<code class="fe ne nf ng nh b">hello.ts</code>文件将类似于上面的代码片段。让我们来看看几件有趣的事情:</p><ol class=""><li id="b09a" class="ns nt iq kz b la lb ld le lg nu lk nv lo nw ls oj ny nz oa bi translated"><strong class="kz ir">描述和示例:</strong>这将在您运行<code class="fe ne nf ng nh b">help</code>子命令时出现，用于为使用它的用户提供更多信息。</li><li id="7198" class="ns nt iq kz b la ob ld oc lg od lk oe lo of ls oj ny nz oa bi translated"><strong class="kz ir">标志:</strong>这是为子命令定义所有可用标志的地方。这将在代码中被解析为JSON。</li><li id="5b4d" class="ns nt iq kz b la ob ld oc lg od lk oe lo of ls oj ny nz oa bi translated">这是你定义所有可用参数的地方。这里需要注意的一点是参数的顺序很重要，因为它会影响CLI的使用方式。</li><li id="8da0" class="ns nt iq kz b la ob ld oc lg od lk oe lo of ls oj ny nz oa bi translated"><strong class="kz ir">运行方法:</strong><code class="fe ne nf ng nh b">run()</code>方法是在调用CLI时执行的方法。这个方法没有参数，但是我们可以通过使用<code class="fe ne nf ng nh b">this.parse()</code>方法得到所有的参数和标志，正如你在第23行看到的。</li></ol><p id="474e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在我们已经理解了文件的内容。我们稍微修改一下，让它符合我们的需求。</p><p id="5168" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">首先，让我们将文件名从<code class="fe ne nf ng nh b">hello.ts</code>改为<code class="fe ne nf ng nh b">create.ts</code>，将类名从<code class="fe ne nf ng nh b">Hello</code>改为<code class="fe ne nf ng nh b">Create</code>。这样就会把子命令从<code class="fe ne nf ng nh b">hello</code>变成<code class="fe ne nf ng nh b">create</code>，我们可以这样称呼它:<code class="fe ne nf ng nh b">./bin/run create</code>。</p><p id="0d82" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在让我们修改描述和示例，如下所示:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="0285" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">接下来，我们添加更多的标志和参数。它应该是这样的:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="d72e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">最后一步是更新<code class="fe ne nf ng nh b">run()</code>方法，这样我们就可以看到参数和标志的样子。更新后的<code class="fe ne nf ng nh b">run()</code>方法应该如下所示:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="70c8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">更新所有内容后，整个文件应该如下所示:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="9ad0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，当您回到终端时，您可以像这样调用命令:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="339e" class="nm mi iq nh b gy nn no l np nq">./bin/run create 2 -t=pepperoni -c=thin -x</span></pre><p id="16cf" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">或者，如果您喜欢更详细的方式，您也可以这样做:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="710e" class="nm mi iq nh b gy nn no l np nq">./bin/run create 2 --toppings=pepperoni --crust=thin --extraSauce</span></pre><p id="8783" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">您将看到我们传入的所有标志和参数都被格式化为一个很好的JSON对象，很容易使用。</p><p id="1b9c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在我们已经实现了所有的核心功能，是时候让它更具交互性了</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="bd3e" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">让它互动</h1><p id="6794" class="pw-post-body-paragraph kx ky iq kz b la mz jr lc ld na ju lf lg nb li lj lk nc lm ln lo nd lq lr ls ij bi translated">为了使CLI更具交互性和用户友好性，我们需要一个名为<code class="fe ne nf ng nh b">Inquirer</code>的额外NPM包。您可以这样安装它:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="efff" class="nm mi iq nh b gy nn no l np nq">yarn add inquirer<br/>yarn add -D <a class="ae kw" href="http://twitter.com/types/inquirer" rel="noopener ugc nofollow" target="_blank">@types/inquirer</a></span></pre><p id="8ec3" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">安装完成后，让我们修改run方法，如下所示:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="903f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在第一行，我们从<code class="fe ne nf ng nh b">inquirer</code>导入了<code class="fe ne nf ng nh b">prompt()</code>方法，然后在<code class="fe ne nf ng nh b">run()</code>方法中，我们调用了<code class="fe ne nf ng nh b">prompt()</code>方法，而不是使用<code class="fe ne nf ng nh b">this.parse</code>来获取所有传入的参数和标志。</p><p id="eb98" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><code class="fe ne nf ng nh b">prompt()</code>方法接受用户在运行CLI子命令时被问到的一系列问题。最基本的问题包含一个<code class="fe ne nf ng nh b">type</code>和<code class="fe ne nf ng nh b">message</code>键，有关问题中可以使用的完整选项，请点击<a class="ae kw" href="https://github.com/SBoudrias/Inquirer.js/#questions" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="0aed" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在一切都设置好了，现在您可以像这样执行CLI:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="578a" class="nm mi iq nh b gy nn no l np nq">./bin/run create</span></pre><p id="7542" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">执行CLI时，它不会添加所有参数和标志，而是以交互方式要求您提供所需的数据。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nr"><img src="../Images/1c875355eaadb7f9d5f092e14c876518.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9XceDHbELy2n_zTg79ojw.png"/></div></div></figure><p id="4f81" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">恭喜你！您刚刚构建了您的第一个超级用户友好的交互式CLI！</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="40a6" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated"><strong class="ak">进一步改进</strong></h1><p id="3804" class="pw-post-body-paragraph kx ky iq kz b la mz jr lc ld na ju lf lg nb li lj lk nc lm ln lo nd lq lr ls ij bi translated">在本文的这一部分，我想讨论一些改进，在我看来，这些改进将使CLI变得更好。</p><h2 id="e795" class="nm mi iq bd mj ok ol dn mn om on dp mr lg oo op mt lk oq or mv lo os ot mx ou bi translated"><strong class="ak">使交互提示可选</strong></h2><p id="7f27" class="pw-post-body-paragraph kx ky iq kz b la mz jr lc ld na ju lf lg nb li lj lk nc lm ln lo nd lq lr ls ij bi translated">这听起来可能有点奇怪。当可选提示符比通常的CLI有更好的用户体验时，我为什么要让它可选呢？</p><p id="2646" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我的观点是，对于已经熟悉CLI的高级用户来说，只需添加他们需要的所有参数和标志，而不是通过交互式提示，这样实际上会更快。</p><p id="bdc3" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为此，我们需要稍微修改一下<code class="fe ne nf ng nh b">run()</code>方法，使它看起来像这样:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="a5b5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我将提示过程转移到一个新方法中，在run方法中，我们检查参数和标志。如果存在，我们就使用它，如果不存在，我们就运行提示过程。</p><p id="acf4" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">通过这种实现，用户现在有两种使用CLI的方式。</p><p id="502b" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">添加颜色和加载条</strong></p><p id="e19e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我想做的下一个改进是让CLI看起来更好用。首先，通过给<code class="fe ne nf ng nh b">this.log</code>方法添加颜色，所以它不仅仅是白色。其次，通过在进程运行时显示一个加载栏来提供更好的用户体验。</p><p id="82a0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为此，我们需要安装两个包。我们需要<code class="fe ne nf ng nh b">chalk</code>，为<code class="fe ne nf ng nh b">this.log</code>添加颜色，我们需要<code class="fe ne nf ng nh b">cli-progress</code>显示一个加载栏。我们这样安装它:</p><pre class="kh ki kj kk gt ni nh nj nk aw nl bi"><span id="bd45" class="nm mi iq nh b gy nn no l np nq">yarn add cli-progress chalk<br/>yarn add -D @types/cli-progress @types/chalk</span></pre><p id="e4e1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">安装完这些包后，让我们再次更新我们的代码:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="a727" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">首先，我介绍一个叫做<code class="fe ne nf ng nh b">makePizza()</code>的新方法。这只是为了模拟一个进程的运行。在这个方法中，我调用了一个<code class="fe ne nf ng nh b">sleep()</code>方法。这只是一个简单的帮助方法，以确保该过程不会完成得太快。</p><p id="15f9" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">然后使用<code class="fe ne nf ng nh b">chalk</code>包给我们的日志添加颜色其实很简单，我们只需要导入我们需要的颜色方法。在这种情况下，我们使用黄色、绿色和青色。然后我们可以用这个方法来包装文本。就这么简单，我们得到一个彩色的日志！</p><p id="c333" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">接下来我们要做的是添加装载栏。首先，我们从<code class="fe ne nf ng nh b">cli-progress</code>导入<code class="fe ne nf ng nh b">SingleBar</code>和<code class="fe ne nf ng nh b">Presets</code>。然后，在第20行，我们初始化加载栏并给它一个定制的格式。在第24行我们调用了<code class="fe ne nf ng nh b">progressBar.start(length, startFrom)</code>方法，这用于设置加载条长度和起始值。</p><p id="1988" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">为了模拟一个流程，我们对每个比萨饼进行循环，以制作一个浇头，将loading bar值增加1。现在所有这些都设置好了，我们的CLI如下所示:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ov"><img src="../Images/611b0ac2f3de7e7b946beaf56df03f59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aHdKAXd0nmesW-nm3Eg45Q.gif"/></div></div></figure><p id="09ac" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">相当酷！</p><p id="5d84" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">要了解更多我们用过的东西，请访问下面的链接。感谢您读到这里，下一篇文章再见！</p><h1 id="f914" class="mh mi iq bd mj mk ow mm mn mo ox mq mr jw oy jx mt jz oz ka mv kc pa kd mx my bi translated">资源:</h1><ul class=""><li id="a046" class="ns nt iq kz b la mz ld na lg pb lk pc lo pd ls nx ny nz oa bi translated">奥克里夫:<a class="ae kw" href="https://oclif.io" rel="noopener ugc nofollow" target="_blank">https://oclif.io/</a></li><li id="9fba" class="ns nt iq kz b la ob ld oc lg od lk oe lo of ls nx ny nz oa bi translated">询问者:<a class="ae kw" href="https://github.com/SBoudrias/Inquirer.js/" rel="noopener ugc nofollow" target="_blank">https://github.com/SBoudrias/Inquirer.js/</a></li><li id="9ca4" class="ns nt iq kz b la ob ld oc lg od lk oe lo of ls nx ny nz oa bi translated">粉笔:<a class="ae kw" href="https://github.com/chalk/chalk" rel="noopener ugc nofollow" target="_blank">https://github.com/chalk/chalk</a></li><li id="a1eb" class="ns nt iq kz b la ob ld oc lg od lk oe lo of ls nx ny nz oa bi translated">CLI-进展:<a class="ae kw" href="https://github.com/AndiDittrich/Node.CLI-Progress" rel="noopener ugc nofollow" target="_blank">https://github.com/AndiDittrich/Node.CLI-Progress</a></li><li id="d86f" class="ns nt iq kz b la ob ld oc lg od lk oe lo of ls nx ny nz oa bi translated">项目回购:<a class="ae kw" href="https://github.com/kenanchristian/pizza-cli" rel="noopener ugc nofollow" target="_blank">https://github.com/kenanchristian/pizza-cli</a></li></ul></div></div>    
</body>
</html>