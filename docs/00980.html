<html>
<head>
<title>Hitchhiker’s Guide to Developing Ontology Smart Contracts in SmartX (Python)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用SmartX (Python)开发本体智能契约的搭便车指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/hitchhikers-guide-to-developing-ontology-smart-contracts-in-smartx-python-6a152fe8aad7?source=collection_archive---------7-----------------------#2019-08-02">https://betterprogramming.pub/hitchhikers-guide-to-developing-ontology-smart-contracts-in-smartx-python-6a152fe8aad7?source=collection_archive---------7-----------------------#2019-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0925" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">本体链和SmartX及其智能契约开发环境的介绍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b1c3195e2e3572dfd61628543624f426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WLl_AbvVzE59MLzYynp9ng.png"/></div></div></figure></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="f14e" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated"><strong class="ak">简介</strong></h1><p id="b950" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">欢迎光临！我们很高兴你对使用<a class="ae mp" href="https://ontio.github.io" rel="noopener ugc nofollow" target="_blank">本体</a>开发智能合约感兴趣。本指南旨在为本体链和<a class="ae mp" href="https://ontio.github.io/documentation/SmartX_Tutorial_en.html" rel="noopener ugc nofollow" target="_blank"> SmartX </a>及其智能合约开发环境提供最佳的入门体验。</p><p id="750c" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">如果出现以下情况，它将特别有用:</p><ul class=""><li id="e006" class="mv mw it lv b lw mq lz mr mc mx mg my mk mz mo na nb nc nd bi translated">您对使用典型的数据结构和算法进行编程有着深刻的理解和丰富的经验。</li><li id="0b75" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated">你能流利地使用<a class="ae mp" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>或者在用<a class="ae mp" href="https://stackoverflow.com/" rel="noopener ugc nofollow" target="_blank">堆栈溢出</a>填补空白时足够舒适地使用Python。</li><li id="315c" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated">您知道区块链的一些基本高级应用(公共数据存储、事务处理)。</li></ul><p id="ae31" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">如果你想跳过牵手，只想自己把事情搞清楚，随便你！</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="168a" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">开源资源</h1><p id="c70b" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">我们有一个大型的在线开源资源集合，涵盖了智能合约和使用本体的分散式应用程序(DApp)开发的所有知识，使用的语言不是Python(如<a class="ae mp" href="https://docs.microsoft.com/en-us/dotnet/csharp/" rel="noopener ugc nofollow" target="_blank"> C# </a>、JavaScript和Java)。</p><p id="fa1a" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">以下是一些入门指南:</p><ul class=""><li id="f46c" class="mv mw it lv b lw mq lz mr mc mx mg my mk mz mo na nb nc nd bi translated"><a class="ae mp" href="https://ontio.github.io/documentation/SmartX_Tutorial_en.html" rel="noopener ugc nofollow" target="_blank">SmartX、智能合同开发、部署和调用简介</a></li><li id="eb67" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated"><a class="ae mp" href="https://apidoc.ont.io/smartcontract/?python#introduction" rel="noopener ugc nofollow" target="_blank">本体Python智能合约API </a></li><li id="1032" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated"><a class="ae mp" href="https://github.com/punicasuite/tutorials/tree/master/smart-contracts-docs-cn" rel="noopener ugc nofollow" target="_blank">本体Python智能合约API教程</a></li><li id="bc53" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated"><a class="ae mp" href="https://drive.google.com/open?id=1Uk3-n_pttija8J5lcrBCNbUEZkGpZaQQ" rel="noopener ugc nofollow" target="_blank">谷歌文档</a></li><li id="c83d" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated"><a class="ae mp" href="https://github.com/ONT-Avocados/python-template" rel="noopener ugc nofollow" target="_blank">本体Python智能合约演示</a></li><li id="2522" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated"><a class="ae mp" href="https://github.com/ontio" rel="noopener ugc nofollow" target="_blank">整个本体GitHub知识库</a></li><li id="2a30" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated"><a class="ae mp" href="https://developer.ont.io/" rel="noopener ugc nofollow" target="_blank">本体开发者中心</a></li></ul><p id="6bf5" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">对于那些决定留下来的人来说，如果你在遵循这个指南的过程中出现任何困惑，上面提供的资源仍然有用。</p><p id="ba97" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">至此，让我们继续学习教程的内容。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="951b" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">1.开始使用SmartX</h1><p id="6a57" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">为了获得最简单的初始设置体验，您的大多数智能合约都将在SmartX中完成。SmartX是一个一站式的web浏览器IDE，用于编译、部署和调用智能合同。</p><p id="f23f" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">您可以在<code class="fe nj nk nl nm b"><a class="ae mp" href="https://smartx.ont.io/" rel="noopener ugc nofollow" target="_blank">https://smartx.ont.io</a></code>访问SmartX，登录页面应该如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/b968ec2ade449e9434df34a980145074.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tte4YNEXK1X-Dq0MefW1Xw.png"/></div></div></figure><p id="e773" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">如果你没有本体钱包文件或者你不知道那是什么，不要担心。您可以点击“第三方帐户登录”下方的符号，使用您的GitHub帐户登录。如果您没有GitHub帐户，请创建一个。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="fa3e" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated"><strong class="ak"> 2。氰基钱包</strong></h1><p id="60b0" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">等等！在我们进入智能合约开发的细节之前，您需要安装<a class="ae mp" href="https://chrome.google.com/webstore/detail/cyano-wallet/dkdedlpgdmmkkfjabffeganieamfklkm?hl=en" rel="noopener ugc nofollow" target="_blank">氰基钱包</a>。</p><p id="9d57" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">氰基钱包是一个web扩展钱包，它包含本体的两个令牌(ONT和ONG)，以及您决定按照本体的OEP4令牌协议创建的任何令牌。</p><p id="c965" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">你可以在这里安装Chrome的氰基钱包:</p><ul class=""><li id="1149" class="mv mw it lv b lw mq lz mr mc mx mg my mk mz mo na nb nc nd bi translated"><a class="ae mp" href="https://chrome.google.com/webstore/detail/cyano-wallet/dkdedlpgdmmkkfjabffeganieamfklkm?hl=en" rel="noopener ugc nofollow" target="_blank">https://chrome . Google . com/web store/detail/cyano-wallet/dkdedlpgdmmkkfjabbffeganiaemfklkm？hl=en </a></li></ul><p id="eeee" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">一旦安装，氰基钱包可以从所有其他Chrome扩展的位置访问。</p><p id="be92" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">它会要求你创建一个账户，并记住一个助记短语和一个私钥——确保将这些记录在一个安全的地方。</p><p id="fee9" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">一旦你过了这个阶段，氰基钱包应该看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/18ffb8ec023dfcdbc86edc448c8d8c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*qYtVNuxwu4lbN4WhVHT-3w.png"/></div></figure><p id="acc2" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">虽然您的许多智能合约将依赖于氰基钱包来处理进出钱包地址的令牌传输，但氰基钱包对于持有ONG是最重要的，它是充当智能合约部署和调用的“Gas”的本体令牌。</p><p id="e18c" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">对于那些不熟悉Gas的人来说，它基本上是一种交易费，当开发人员将智能合同部署到本体区块链时，或者当用户调用已部署的智能合同的功能时，就会支付这笔费用。</p><p id="7769" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">对于以太坊来说，费用是ETH的一小部分；对于本体而言，费乃ONG。</p><p id="208b" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">所以在这一点上，你可能会想:“我怎么才能得到ONG呢？如果我一开始只是尝试开发基于本体的智能合约，我会投资购买ONG吗？”</p><p id="82dc" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这些都是可以立即解决的有效问题。</p><p id="f0d1" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">首先，在你的氰基钱包设置中，你可以在第一个下拉菜单中选择“TestNet ”,在第二个下拉菜单中选择任意节点地址。</p><p id="b9a4" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">然后，在<code class="fe nj nk nl nm b"><a class="ae mp" href="https://developer.ont.io/" rel="noopener ugc nofollow" target="_blank">https://developer.ont.io/</a></code>上，你可以通过滚动到主页的底部找到TestNet ONT和ONG的应用程序。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="1f87" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">3.开发您的智能合同</h1><p id="c8c9" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">一旦你通过你的GitHub帐户登录，创建你的第一个项目并选择你的编程语言(如果你正在阅读本教程，可能是Python)。</p><p id="1f4c" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">现在，您的第一个智能合同项目已经打开并准备好进行开发，是时候开始了！</p><p id="63c6" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">或者你会这么想。然而，在你真正开始开发你的智能合同之前，有一些重要的预防措施你需要知道。</p><p id="215c" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">因为智能契约是用Python编程的，所以很自然地认为Python的所有典型规则在这里都适用。然而，事实并非如此，以下是您需要了解的内容:</p><h2 id="8628" class="np lc it bd ld nq nr dn lh ns nt dp ll mc nu nv ln mg nw nx lp mk ny nz lr oa bi translated"><strong class="ak">无外部模块</strong></h2><p id="fa2c" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">在SmartX中开发时，Import语句将限于特定于本体的库，我们将在后面介绍。</p><p id="01bd" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">至于使您的Python体验高效的所有其他模块——您必须自己找到实现它们的方法。</p><h2 id="48ef" class="np lc it bd ld nq nr dn lh ns nt dp ll mc nu nv ln mg nw nx lp mk ny nz lr oa bi translated"><strong class="ak">没有抽象数据类型</strong></h2><p id="76e3" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">对于那些习惯于面向对象编程(OOP)的人来说，在您的智能契约开发之旅中，另一个大的适应等待着您——SmartX只允许您使用基本类型、列表和映射。</p><p id="ba96" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">实际上，您编写的函数必须存储通常在构造函数中处理的数据。</p><p id="f568" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这种存储将发生在本体区块链上，使用从某些本体库中导入的函数。</p><h2 id="25b6" class="np lc it bd ld nq nr dn lh ns nt dp ll mc nu nv ln mg nw nx lp mk ny nz lr oa bi translated"><strong class="ak">限量处理</strong></h2><p id="212a" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">SmartX不处理浮点数，因此很难处理负数。</p><p id="0837" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">幸运的是，这些问题有解决方法。浮点数可以用数字乘以10的幂来表示，这取决于您想要多少个小数位。</p><p id="5b2a" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">例如，如果您想要表示精确到百分之一位的浮点数，请将您感兴趣的数字乘以100。</p><p id="48bf" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">至于负数，将您的“零”设置为一个大的正数，并根据这个“零”修改您的代码来解释正数和负数，这是一个直接的解决方法。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="6335" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">4.发展你的智能合同(这次是真的)</h1><p id="a6cd" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">现在，记住以上所有内容，你终于可以开始开发你的第一份智能合同了。</p><p id="89bc" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">如前所述，有一些特定于本体的库可以导入到SmartX中。作为一名智能合约开发者，掌握这些库并理解它们如何与本体区块链交互并完成你的目标是非常重要的。</p><p id="219b" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">向您介绍该文档的相关资源，以及利用这些库的智能合约示例，都列在本教程的顶部。</p><p id="5001" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">接下来，需要注意的是，您的智能合约必须遵循非常具体的格式。</p><p id="f80a" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">为了让您的契约正确地编译并与SmartX交互，您必须在项目的顶部包含您的导入语句(就像任何普通的Python脚本一样)。</p><p id="916a" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这是顶部的<code class="fe nj nk nl nm b">main</code>方法，它调用你在程序后面定义的所有函数，这些函数在开始时必须遵循<code class="fe nj nk nl nm b">main</code>方法。</p><p id="3600" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">例如，如果您要以这种格式实现一个经典的“Hello World”项目，它将如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/93b3580623c0c2cc84905085d2f00713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*3kfu_2PM92rIlglGZUgHVw.png"/></div></figure><p id="e288" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">注意main方法是如何包含一个<code class="fe nj nk nl nm b">if</code>语句来检查调用的操作是否与契约中后来定义的函数的名称相匹配，并将参数设置为函数的输入。</p><p id="4d49" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">main方法需要为您在smart contract中定义的每个函数包含这种格式，以便SmartX可以在部署后调用您的函数。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="4806" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated"><strong class="ak"> 5。部署您的智能合同</strong></h1><p id="7781" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">您的智能合约与您以前编写的任何其他代码的最大区别之一是，您必须在测试您的功能之前“部署”它。</p><p id="8892" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">部署您的智能合约实际上是将它发送到区块链，以便您与区块链交互的功能(例如，在存储或事务方面)能够工作。</p><p id="7e1b" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">导航到SmartX的“Deploy”选项卡并填写描述智能合同信息的必填字段后，您可以选择部署合同的选项。</p><p id="5d83" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">如果安装正确，氰基钱包应该弹出如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/1b4056458568e59ffd8765e928336332.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*cHjBfZ4YOWuwAs1XpcZ0Eg.png"/></div></figure><p id="20f1" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">请注意,“气体价格”和“气体限制”都是您可以编辑的字段，通常，您需要更改的唯一字段是“气体限制”,并且只有在您的部署失败并且控制台记录了气体限制低于所需值的通知时才需要更改:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/3b08df2e88c8c35dbc7b168ec3bfaaa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fsfwu8Fn91D8JNvxjS3M5Q.png"/></div></div></figure><p id="3224" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">通常，这只是意味着您需要再次部署您的合同，并将气体限制设置为该数字。</p><p id="8b19" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">即使你不需要改变“汽油价格”字段，你仍然需要关注它的值，确保你的氰基钱包账户有足够的ONG来支付成本。</p><p id="8593" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">重要的是要认识到，长期智能合同比短期合同有更高的天然气价格和天然气限制。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="6783" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated"><strong class="ak"> 6。调用智能合同的功能</strong></h1><p id="9c3f" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">这是令人兴奋的部分——您终于可以收获自己的劳动成果，并运行您在智能合同中编码的功能。</p><p id="73be" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">导航到SmartX的“运行”选项卡后，您可以从下拉菜单中选择想要运行的功能。如果您将函数包含在<code class="fe nj nk nl nm b">main</code>方法中，并且按照前面的描述正确格式化，那么您的函数将只出现在下拉菜单中。</p><p id="f041" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">考虑到这一点，如果函数只作为不需要在智能契约之外调用的“助手”方法，您可以有意地将它们排除在<code class="fe nj nk nl nm b">main</code>方法之外。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/8b5efcea7c3c34732808655dc6a82d55.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*tqSyEXWVphCZsrQQ9-kMnA.png"/></div></figure><p id="6023" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">但是，如果您希望检查函数正在处理的值，您仍然可以通过选择“运行”选项左侧的“预运行”选项，使用return语句来查看该值。</p><p id="6785" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这将在不与区块链交互的情况下运行您的函数，并记录函数的return语句要显示的值。</p><p id="f1c8" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这可能是确保您的智能合约功能或发现需要修复的错误的有效方法。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="198e" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated"><strong class="ak"> 7。调试您的智能合约</strong></h1><p id="512b" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">错误是任何编程体验中不可避免的一部分，智能合约也是如此。</p><p id="4f34" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">最初，不熟悉的开发环境可能有点吓人，一些错误消息可能看起来有点神秘，但是我们可以一起克服它:</p><p id="4ceb" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated"><code class="fe nj nk nl nm b"><strong class="lv iu">Notify, Notify, Notify</strong></code></p><p id="887f" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这与其说是一种事后修复，不如说是一种过程中的解决方案。</p><p id="922f" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">SmartX支持一个名为<code class="fe nj nk nl nm b">Notify</code>的功能，它可以公开打印到区块链，并且可以立即在您的控制台上看到，如下所示。</p><p id="360f" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">在开发智能契约时，一个好的实践是在每个重要的代码块后包含一个带有可识别方法的<code class="fe nj nk nl nm b">Notify</code>。</p><p id="42f9" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这是一种常见的调试技术，甚至在链外程序中也是如此——每个人都曾在某个时候使用print语句来指出他们的代码到底哪里出错了。</p><p id="6e24" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">下面是一个使用“运行”选项后<code class="fe nj nk nl nm b">Notify</code>返回控制台的例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/871523b2d156f063a89eac8ae911af1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYqcuPLgvfedhPAuTI6NoA.png"/></div></div></figure><p id="2731" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">当您的<code class="fe nj nk nl nm b">Notify</code>语句的内容返回到控制台时，它将是十六进制字符串的形式，因此请确保导航到SmartX的“Tool”选项卡，找到一个合适的字符串转换工具来解码该语句。</p><p id="d4e1" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">另一件需要注意的事情是，在SmartX中，您可能需要使用“调试运行”来查看<code class="fe nj nk nl nm b">Notify</code>语句。</p><p id="df0a" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">通常，当你对有bug的代码使用“Run”时，一旦检测到bug，它就会被取消，而不是在问题出现之前记录<code class="fe nj nk nl nm b">Notify</code>。</p><p id="d60d" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这可能会令人沮丧，因为它没有给出太多关于您的代码可能在哪里出现问题的信息，但是如果出现问题，“Debug Run”选项是一个有用的替代选项。</p><h2 id="e526" class="np lc it bd ld nq nr dn lh ns nt dp ll mc nu nv ln mg nw nx lp mk ny nz lr oa bi translated"><strong class="ak">勇于冒险</strong></h2><p id="ef0e" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">有时，您的函数会成功运行，它的事务散列被记录在控制台中作为证据，但它不会做您期望它做的事情。</p><p id="317f" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">你已经尝试了所有的方法，并且即将放弃成为一名优秀的智能合同开发者的梦想。</p><p id="f706" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">不要放弃！</p><p id="aa74" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">您可以将函数调用的事务哈希复制并粘贴到<a class="ae mp" href="https://explorer.ont.io/" rel="noopener ugc nofollow" target="_blank">本体区块链浏览器</a>中，选择MainNet或TestNet(取决于您将智能合约部署到哪个)后，您可以看到您的智能合约事件的详细信息。</p><p id="c327" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">所有函数调用和智能合约部署都会产生类似的事务哈希，为了您的利益，可以在资源管理器中对它们进行跟踪。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="7ff8" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated"><strong class="ak"> 6。结论</strong></h1><p id="ff15" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">恭喜你。你已经一路走到了最后，希望在这个过程中学到了一两件关于开发智能合同的事情。</p><p id="1f66" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">在将来如何选择实现智能契约方面，您有很大的灵活性，而本体公共链是这方面的一个很好的起点。</p><p id="fecb" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">对于那些对构建DApps感兴趣的人来说，Ontology提供了许多开源资源，可以帮助您开始将智能合约转变为面向消费者的产品:</p><ul class=""><li id="d938" class="mv mw it lv b lw mq lz mr mc mx mg my mk mz mo na nb nc nd bi translated"><a class="ae mp" href="https://github.com/ontio/ontology-dapi" rel="noopener ugc nofollow" target="_blank">本体dAPI Github知识库</a></li><li id="73f9" class="mv mw it lv b lw ne lz nf mc ng mg nh mk ni mo na nb nc nd bi translated"><a class="ae mp" href="http://punica.ont.io/" rel="noopener ugc nofollow" target="_blank"> Punica，本体DApp开发框架</a></li></ul><p id="2916" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">就这样，祝你好运！</p></div></div>    
</body>
</html>