<html>
<head>
<title>Implement the Adapter Design Pattern in Swift 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Swift 5中实施适配器设计模式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/implement-the-adapter-design-pattern-in-swift-165ac22bc868?source=collection_archive---------18-----------------------#2020-03-10">https://betterprogramming.pub/implement-the-adapter-design-pattern-in-swift-165ac22bc868?source=collection_archive---------18-----------------------#2020-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="209e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让不兼容的接口协同工作</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c8fe18c6ea2b6b6542f03d3375f45176.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eXBIgsToX6Kdy8O7"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@matthaeus123?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> matthaeus </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="25b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我们将通过在Xcode操场上快速实现适配器设计模式来了解它。</p><p id="478b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">Adapter</code>模式允许我们使不兼容的界面适应我们应用程序的现有功能。</p><p id="d4f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们的示例项目。我们有一个用户可以购买运动鞋的应用程序，我们希望集成一个从亚马逊获取运动鞋的第三方服务。我们的问题是，我们的应用程序使用厘米来测量运动鞋的尺寸，但第三方服务以英国鞋码格式返回尺寸。我们将通过使用<code class="fe lv lw lx ly b">Adapter</code>设计模式来解决这个问题。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="3431" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">我们开始吧</h1><p id="f4a3" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">看看我们应用程序的现有功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="17fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用<code class="fe lv lw lx ly b">SneakerProviderService</code>协议来指定我们想要如何检索运动鞋。</p><p id="7c86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们导入的第三方服务如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="a810" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到每双运动鞋都有一个属性<code class="fe lv lw lx ly b">ukSize</code>，但是我们想在我们的应用程序中使用厘米。</p><p id="0133" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以让我们为<code class="fe lv lw lx ly b">ThirdPartySneakerProvider</code>定义<code class="fe lv lw lx ly b">Adapter</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="889c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们定义了<code class="fe lv lw lx ly b">SneakerProviderAdapter</code>类并符合<code class="fe lv lw lx ly b">SneakerProviderService</code>协议。我们有一个类型为<code class="fe lv lw lx ly b">ThirdPartySneakerProvider</code>的私有属性。</p><p id="1383" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，<code class="fe lv lw lx ly b">getSneakers()</code>方法返回一个<code class="fe lv lw lx ly b">Sneaker</code>数组，但是<code class="fe lv lw lx ly b">ThirdPartySneakerProvider</code>返回一个<code class="fe lv lw lx ly b">ThirdPartySneaker</code>数组，所以我们必须在幕后执行一个转换。</p><p id="f6b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">convertFromUKtoCentimeters</code>方法为我们提供了一种将英国尺寸转换成厘米的方法。所以我们在<code class="fe lv lw lx ly b">.map</code>函数中使用这个方法来返回一个<code class="fe lv lw lx ly b">Sneaker</code>的数组。</p><p id="d51a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们可以在我们的应用程序中使用这个适配器:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="55c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果正是我们所需要的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/6ee43bca2aa07a1e479c7acff62b0d20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6BCKTLY9tOtqshrQn7dZFw.png"/></div></div></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="ef4d" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">包扎</h1><p id="5106" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">对其他设计模式感兴趣？请随意查看我的其他相关作品:</p><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/implement-the-builder-design-pattern-in-swift-5-ff5bc6f2fc3d" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">在Swift 5中实施构建器设计模式</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">创建和使用自定义URLRequests和URLSessionDataTasks</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/implement-the-strategy-design-pattern-in-swift-5d9c3f221277" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">在Swift中实施战略设计模式</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">只需一行代码就可以在领域和核心数据之间切换</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/this-is-how-you-implement-mvc-architecture-in-2020-b39d65b4212f" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">新MVC:单一责任原则和委托</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">苹果的模型视图控制器，终于做对了</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="nz l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/implement-a-model-view-presenter-architecture-in-swift-5-dfa21bbb8e0b" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">在Swift 5中实施模型-视图-演示者架构</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">使用领域数据库作为业务逻辑层</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="oa l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/reactive-mvvm-and-the-coordinator-pattern-done-right-88248baf8ca5" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">反应式MVVM和协调模式做对了</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">使用Swift 5、RxSwift和RxDataSources</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="ob l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/how-to-implement-viper-architecture-in-your-ios-app-rest-api-and-kingfisher-f494a0891c43" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">如何使用Swift 5在您的iOS应用中实现VIPER架构</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">使用方便的Xcode模板和参考报告</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="oc l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/better-programming/implement-a-service-oriented-architecture-in-swift-5-fc70b8117616" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">在Swift 5中实施面向服务的架构</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">为什么只用MVC/MVVM/蝰蛇还不够</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="od l nu nv nw ns nx ks nj"/></div></div></a></div><p id="753f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>