<html>
<head>
<title>How To Create a Structural Directive Similar to ngIf in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular中创建一个类似ngIf的结构指令</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-a-structural-directive-similar-to-ngif-in-angular-4709bac8044b?source=collection_archive---------3-----------------------#2019-09-27">https://betterprogramming.pub/creating-a-structural-directive-similar-to-ngif-in-angular-4709bac8044b?source=collection_archive---------3-----------------------#2019-09-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a660" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">什么是结构指令？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4ffeccf59c44a291d0957e0820f46c0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9F7Pa3uUrqzY0cI4qXfxBA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@callumlwale?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卡勒姆·威尔</a>在<a class="ae kv" href="https://unsplash.com/s/photos/shapes?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="1e10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结构指令负责HTML布局。它们通常通过添加、删除或操作元素来改变DOM的结构。</p><p id="0c93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结构化指令以一个<code class="fe ls lt lu lv b">*</code>字符为前缀。当angular看到一个<code class="fe ls lt lu lv b">*</code>前缀指令时，它将把<code class="fe ls lt lu lv b">*ngIf</code>属性翻译成一个<code class="fe ls lt lu lv b">&lt;ng-template&gt;</code> <strong class="ky ir"> </strong>元素，环绕在主机元素周围，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/03c760659cdad1444e3cd5a2b3384ccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*FbF3AjMWgSWWMTnw9xMekw.png"/></div></figure><p id="bb48" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一个ngIf指令的副本，我们在这里检查指令的输入是否存在(这里我不检查类型，所以如果值是<code class="fe ls lt lu lv b">0</code>，那么它将不会显示)。如果存在，那么使用<code class="fe ls lt lu lv b">viewContainerRef </code>我们创建一个<code class="fe ls lt lu lv b">EmbeddedView</code>，在<code class="fe ls lt lu lv b">ng-template</code>中传递模板。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lx"><img src="../Images/feffc68a50c207cedbf1c8d21ac88067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BFV-jB4z6DFt_Ztr3vSVYQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">app.if.directive.ts</p></figure><p id="8755" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里我们在组件中定义了一个<code class="fe ls lt lu lv b">title</code>属性:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/c030f9dd6dbe0b638b671b72a5cb72c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*pKxus8wDXnxAgmr6OCH07g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">应用程序组件</p></figure><p id="3a46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们将标题作为输入传递给<code class="fe ls lt lu lv b">app.component.html</code>中的<code class="fe ls lt lu lv b">appIf</code> <strong class="ky ir"> </strong>指令<strong class="ky ir"> </strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/a9e9fa0180badb1175a4efc77ce8cc8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*0TR-sZ55SLwu2gR24oh9KQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">app.component.html</p></figure><p id="bbcf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们在<code class="fe ls lt lu lv b">app.module.ts</code>中声明该指令。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/7f99c66a55ea37e52eb1a72e780c8fa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*G0FZ0YpD_tQ7M_0jPYn1lQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">应用程序模块</p></figure><p id="a652" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">浏览器中显示的输出如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/e854cbbf6b03318db4277fc59a380d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*mJh5s3zKgD4_XY8peolj8w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">浏览器中的输出</p></figure></div></div>    
</body>
</html>