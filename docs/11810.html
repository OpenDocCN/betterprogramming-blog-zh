<html>
<head>
<title>How To Build a Data Catalog in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python构建数据目录</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-a-data-catalog-in-python-eec6f4dd4d48?source=collection_archive---------6-----------------------#2022-04-19">https://betterprogramming.pub/how-to-build-a-data-catalog-in-python-eec6f4dd4d48?source=collection_archive---------6-----------------------#2022-04-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ed5e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让团队能够提出有意义的问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/913ab44f349de24759efbc843ef97052.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a0zsPvco8jLzkCV1Hoyq9Q.png"/></div></div></figure><p id="a2d7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尽管我们想认为我们作为数据团队是最高效的，因为我们为组织提供数据，但不幸的是，事实并非如此。许多利益相关者浪费时间试图弄清楚我们有什么数据，谁拥有数据源，以及如何访问数据集。这通常会导致一天中对各种数据人员的随机pings使我们的工作比改进我们的流程更具反应性，以便为我们的用户和利益相关者提供更好的数据。</p><p id="8c9b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当公司变得更大，数据团队增长甚至分成多个小组时，这个问题只会加剧。现在你有多个团队，拥有不同的数据资源，却无处确认真相的来源。</p><p id="2218" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文中，我想谈谈什么是数据目录，以及它如何解决查找谁拥有什么数据源的问题。</p><p id="1ddc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是<a class="ae lq" href="https://github.com/sdf94/dbt-example" rel="noopener ugc nofollow" target="_blank">代码</a>。随着我对dbt的了解越来越多，我打算对这个回购协议进行修改，所以如果网站看起来不一样，这可能就是原因。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="ba2e" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">什么是数据目录？</strong></h1><p id="ad31" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">数据目录是一种组织和跟踪已收集并存储在数据库中的数据的方法。这些信息可用于各种目的，例如确保数据的准确性、确定在哪里可以找到数据，甚至帮助确定数据中哪里有差异。</p><p id="b8a4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">数据目录通常包含关于数据集的元数据，例如数据集的创建时间、处理方式以及随着时间的推移对其内容所做的任何更改。元数据还可以包括有关数据源、数据集来源以及处理方式的详细信息。</p><p id="17b7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个设计良好的目录将使人们更容易找到他们需要的信息来回答他们的问题或解决他们的问题。它还为人们提供了一种更简单的方式来导航和查找可能感兴趣的其他内容。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="1c21" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><em class="mv">dbt是什么？</em></h1><p id="2e4f" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">dbt(数据构建工具)是用于数据转换作业的工具。用户可以在他们喜欢的文本编辑器中编写dbt代码，并运行dbt命令。代码被编译成原始SQL，并根据配置的数据仓库执行。</p><p id="d994" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是我的另一篇文章，更深入地探讨了dbt的功能。</p><div class="mw mx gp gr my mz"><a href="https://pub.towardsai.net/one-tool-to-rule-them-all-2083371c1618" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd iu gy z fp ne fr fs nf fu fw is bi translated">DBT——统治他们的唯一工具</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">数据构建工具(DBT)为您提供更好的数据质量。</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">pub.towardsai.net</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn ks mz"/></div></div></a></div><h2 id="c0da" class="no lz it bd ma np nq dn me nr ns dp mi ld nt nu mk lh nv nw mm ll nx ny mo nz bi translated"><strong class="ak">文件夹结构</strong></h2><p id="28fb" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">dbt init初始化分析、<code class="fe oa ob oc od b">data</code>、<code class="fe oa ob oc od b">macros</code>、<code class="fe oa ob oc od b">models</code>、<code class="fe oa ob oc od b">snapshots</code>和<code class="fe oa ob oc od b">tests</code>文件夹和<code class="fe oa ob oc od b">dbt_project.yml</code>文件。</p><p id="0057" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这个项目中，我目前只使用模型，所以你现在可以忽略其他文件夹。</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="e11e" class="no lz it od b gy oi oj l ok ol">|--dbt-example<br/>|--|--dbt_home<br/>|--|--|-- analyses<br/>|--|--|-- data<br/>|--|--|-- macros<br/>|--|--|-- models<br/>|--|--|-- snapshots<br/>|--|--|-- tests<br/>|--|-- dbt_project.yml<br/>|--|-- packages.yml</span></pre><p id="dace" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">查看<code class="fe oa ob oc od b">dbt_project.yml</code>文件时，确保配置文件与<code class="fe oa ob oc od b">~/.dbt/profile.yml</code>中的配置文件名相匹配。</p><h2 id="7dd3" class="no lz it bd ma np nq dn me nr ns dp mi ld nt nu mk lh nv nw mm ll nx ny mo nz bi translated">设置数据目录所需的模型</h2><p id="b230" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">首先，我们需要为目录设置模型。这些模型代表了我们源中的表。我们需要在<code class="fe oa ob oc od b">profile.yml</code>文件中定义我们的数据库。</p><p id="c878" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里是我用过的<code class="fe oa ob oc od b">profile.yml</code>。</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="ee8a" class="no lz it od b gy oi oj l ok ol">config:<br/>    use_colors: True<br/>    send_anonymous_usage_stats: False</span><span id="43b2" class="no lz it od b gy om oj l ok ol">dvdrental:<br/>  target: dev<br/>  outputs:<br/>    dev:<br/>      type: postgres<br/>      host: localhost<br/>      user: postgres<br/>      password: "your awesome password"<br/>      port: 5432<br/>      dbname: dvdrental<br/>      schema: public<br/>      threads: 4</span></pre><p id="e72a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您有大量的数据库，那么您可以将user、password、hosts等设置为环境变量，作为dbt实现的jinja模板的一部分。</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="5d8c" class="no lz it od b gy oi oj l ok ol">profile:<br/>  target: prod<br/>  outputs:<br/>    prod:<br/>      type: postgres<br/>      host: 127.0.0.1<br/>      user: "{{ env_var('DBT_USER') }}"<br/>      password: "{{ env_var('DBT_PASSWORD') }}"<br/>      ....</span></pre><p id="1a8d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们有了profile.yml，我们可以设置<code class="fe oa ob oc od b">dbt-codegen</code>来产生所有的源和模型。</p><p id="2a1c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe oa ob oc od b">dbt-codegen </code> —使用<code class="fe oa ob oc od b">dbt-codegen</code>，您能够生成所有的源，包括模式和数据库，以及模型或表格。</p><p id="8247" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，让我们专注于制作源。这是我的:</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="cc4a" class="no lz it od b gy oi oj l ok ol">dbt run-operation generate_source --args '{"schema_name": "public", "database_name": "dvdrental"}'</span><span id="df62" class="no lz it od b gy om oj l ok ol">01:57:51  Running with dbt=1.0.4<br/>01:57:51  [WARNING]: Configuration paths exist in your dbt_project.yml file which do not apply to any resources.<br/>There are 1 unused configuration paths:<br/>- models.dbt-home.example</span><span id="d82e" class="no lz it od b gy om oj l ok ol">01:57:52  version: 2</span><span id="d47a" class="no lz it od b gy om oj l ok ol">sources:<br/>  - name: public<br/>    tables:<br/>      - name: actor<br/>      - name: actor_info<br/>      - name: address<br/>      - name: category<br/>      - name: city<br/>      - name: country<br/>      - name: customer<br/>      - name: customer_list<br/>      - name: film<br/>      - name: film_actor<br/>      - name: film_category<br/>      - name: film_list<br/>      - name: inventory<br/>      - name: language<br/>      - name: nicer_but_slower_film_list<br/>      - name: payment<br/>      - name: rental<br/>      - name: sales_by_film_category<br/>      - name: sales_by_store<br/>      - name: staff<br/>      - name: staff_list<br/>      - name: store</span></pre><p id="d381" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">删除版本2之前的所有内容，这样您就可以得到:</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="a41b" class="no lz it od b gy oi oj l ok ol">version: 2</span><span id="dfee" class="no lz it od b gy om oj l ok ol">sources:<br/>  - name: public<br/>    tables:<br/>      - name: actor<br/>      - name: actor_info<br/>      - name: address<br/>      - name: category<br/>      - name: city<br/>      - name: country<br/>      - name: customer<br/>      - name: customer_list<br/>      - name: film<br/>      - name: film_actor<br/>      - name: film_category<br/>      - name: film_list<br/>      - name: inventory<br/>      - name: language<br/>      - name: nicer_but_slower_film_list<br/>      - name: payment<br/>      - name: rental<br/>      - name: sales_by_film_category<br/>      - name: sales_by_store<br/>      - name: staff<br/>      - name: staff_list<br/>      - name: store</span></pre><p id="15dd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我删除了除了我想要关注的三个表之外的所有内容，使命名更加清晰，这将成为<code class="fe oa ob oc od b">dvdrental_sources.yml</code>。</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="adaa" class="no lz it od b gy oi oj l ok ol">version: 2</span><span id="d624" class="no lz it od b gy om oj l ok ol">sources:<br/>  - name: dvdrental<br/>    schema: public<br/>    tables:<br/>      - name: actor<br/>        meta:<br/>          contains_pii: true<br/>      - name: film<br/>      - name: film_actor</span></pre><p id="31d1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，让我们专注于生产模型。注意:在继续之前，如果需要的话，请确保调整列、描述和测试。这是我用过的。</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="81eb" class="no lz it od b gy oi oj l ok ol">dbt run-operation generate_base_model --args '{"source_name": "dvdrental", "table_name": "actor"}' </span><span id="7b83" class="no lz it od b gy om oj l ok ol">02:04:03  Running with dbt=1.0.4<br/>02:04:03  [WARNING]: Configuration paths exist in your dbt_project.yml file which do not apply to any resources.<br/>There are 1 unused configuration paths:<br/>- models.dbt-home.example</span><span id="2449" class="no lz it od b gy om oj l ok ol">02:04:03  <br/>with source as (</span><span id="d8c5" class="no lz it od b gy om oj l ok ol">select * from {{ source('dvdrental', 'actor') }}</span><span id="6b39" class="no lz it od b gy om oj l ok ol">),</span><span id="6173" class="no lz it od b gy om oj l ok ol">renamed as (</span><span id="aa1b" class="no lz it od b gy om oj l ok ol">select<br/>        actor_id,<br/>        first_name,<br/>        last_name,<br/>        last_update</span><span id="131c" class="no lz it od b gy om oj l ok ol">from source</span><span id="98aa" class="no lz it od b gy om oj l ok ol">)</span><span id="9509" class="no lz it od b gy om oj l ok ol">select * from renamed</span></pre><p id="a545" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用和<code class="fe oa ob oc od b">source</code>去掉<em class="on">之前的所有内容，这样你就得到</em></p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="3594" class="no lz it od b gy oi oj l ok ol">with source as (</span><span id="8539" class="no lz it od b gy om oj l ok ol">select * from {{ source('dvdrental', 'actor') }}</span><span id="e916" class="no lz it od b gy om oj l ok ol">),</span><span id="fc68" class="no lz it od b gy om oj l ok ol">renamed as (</span><span id="3326" class="no lz it od b gy om oj l ok ol">select<br/>        actor_id,<br/>        first_name,<br/>        last_name,<br/>        last_update</span><span id="a3f7" class="no lz it od b gy om oj l ok ol">from source</span><span id="7d09" class="no lz it od b gy om oj l ok ol">)</span><span id="0d53" class="no lz it od b gy om oj l ok ol">select * from renamed</span></pre><p id="06c9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后一步是生成模型YAML文件:</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="a141" class="no lz it od b gy oi oj l ok ol">dbt run-operation generate_model_yaml --args '{"model_name": "actor"}'</span></pre><p id="1bc3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要返回:</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="060f" class="no lz it od b gy oi oj l ok ol">02:10:07  Running with dbt=1.0.4<br/>02:10:07  [WARNING]: Configuration paths exist in your dbt_project.yml file which do not apply to any resources.<br/>There are 1 unused configuration paths:<br/>- models.dbt-home.example</span><span id="423b" class="no lz it od b gy om oj l ok ol">02:10:07  version: 2</span><span id="e78f" class="no lz it od b gy om oj l ok ol">models:<br/>  - name: actor<br/>    description: ""<br/>    columns:<br/>      - name: actor_id<br/>        description: ""</span><span id="cb3a" class="no lz it od b gy om oj l ok ol">- name: first_name<br/>        description: ""</span><span id="3597" class="no lz it od b gy om oj l ok ol">- name: last_name<br/>        description: ""</span><span id="376d" class="no lz it od b gy om oj l ok ol">- name: last_update<br/>        description: ""</span></pre><p id="8cc3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">删除版本2之前的所有内容，这样您就可以得到:</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="d72c" class="no lz it od b gy oi oj l ok ol">version: 2</span><span id="ed14" class="no lz it od b gy om oj l ok ol">models:<br/>  - name: actor<br/>    description: ""<br/>    columns:<br/>      - name: actor_id<br/>        description: ""</span><span id="0226" class="no lz it od b gy om oj l ok ol">- name: first_name<br/>        description: ""</span><span id="a624" class="no lz it od b gy om oj l ok ol">- name: last_name<br/>        description: ""</span><span id="28ad" class="no lz it od b gy om oj l ok ol">- name: last_update<br/>        description: ""</span></pre><p id="23f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">根据需要对这些文件进行必要的调整，包括表描述、表元数据、列名、列数据类型和列测试。</p><h2 id="886f" class="no lz it bd ma np nq dn me nr ns dp mi ld nt nu mk lh nv nw mm ll nx ny mo nz bi translated">项目的数据目录设置</h2><p id="e27c" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在这个实例中，我们已经设置了创建文档或目录所需的所有SQL和YAML文件。在<code class="fe oa ob oc od b">dbt</code>文件夹中(在我们的例子中是<code class="fe oa ob oc od b">dbt-example</code>，运行以下命令:</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="9492" class="no lz it od b gy oi oj l ok ol">dbt docs generate</span></pre><p id="315f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将提供服务于文档网站所需的必要工件或信息。</p><p id="3f5e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你现在逃跑，</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="e1dd" class="no lz it od b gy oi oj l ok ol">dbt docs serve</span></pre><p id="5f98" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该命令将提供一个专门用于本地/开发的本地网站，并将根据需要调整YAML和SQL文件。完成更改后，请确保再次运行这些命令。这将更新更改。</p><p id="d3c5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如dbt所建议的，制作这个网站的最佳方式取决于你如何使用它。在这里可以找到一些存放文档的常用方法<a class="ae lq" href="https://docs.getdbt.com/docs/building-a-dbt-project/documentation" rel="noopener ugc nofollow" target="_blank">:</a></p><ol class=""><li id="dc3e" class="oo op it kw b kx ky la lb ld oq lh or ll os lp ot ou ov ow bi translated"><a class="ae lq" href="https://docs.getdbt.com/docs/dbt-cloud/using-dbt-cloud/cloud-generating-documentation" rel="noopener ugc nofollow" target="_blank"> dbt云</a></li><li id="4257" class="oo op it kw b kx ox la oy ld oz lh pa ll pb lp ot ou ov ow bi translated"><a class="ae lq" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html" rel="noopener ugc nofollow" target="_blank">S3上的主机</a>(可选<a class="ae lq" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html#example-bucket-policies-use-case-3" rel="noopener ugc nofollow" target="_blank">带IP访问限制</a>)</li><li id="8132" class="oo op it kw b kx ox la oy ld oz lh pa ll pb lp ot ou ov ow bi translated"><a class="ae lq" href="https://discourse.getdbt.com/t/publishing-dbt-docs-to-netlify/121" rel="noopener ugc nofollow" target="_blank">在网络上发布</a></li><li id="da47" class="oo op it kw b kx ox la oy ld oz lh pa ll pb lp ot ou ov ow bi translated">启动像Apache/Nginx这样的web服务器</li></ol><p id="7e36" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">只有S3是特定于AWS的，而其他人是云不可知的，或者不必担心基础设施(<code class="fe oa ob oc od b">dbt</code>云)。</p><h2 id="75ed" class="no lz it bd ma np nq dn me nr ns dp mi ld nt nu mk lh nv nw mm ll nx ny mo nz bi translated">dbt实验室的示例网站</h2><p id="8b69" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">除了我网站的代码，你也可以看看dbt实验室的例子。项目网站代码此处<a class="ae lq" href="https://github.com/dbt-labs/attribution-playbook" rel="noopener ugc nofollow" target="_blank">此处</a>，发布网站此处<a class="ae lq" href="https://www.getdbt.com/attribution-playbook/#!/overview" rel="noopener ugc nofollow" target="_blank">此处</a>。从代码中可以看出，文件夹结构是这样设置的:</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="722e" class="no lz it od b gy oi oj l ok ol">|- <a class="ae lq" href="https://github.com/dbt-labs/attribution-playbook/tree/master/analysis" rel="noopener ugc nofollow" target="_blank">analysis</a><br/>|- <a class="ae lq" href="https://github.com/dbt-labs/attribution-playbook/tree/master/data" rel="noopener ugc nofollow" target="_blank">data</a><br/>|- <a class="ae lq" href="https://github.com/dbt-labs/attribution-playbook/tree/master/models" rel="noopener ugc nofollow" target="_blank">models</a><br/>`- dbt_project.yml</span></pre><p id="e574" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">设置的第一步是克隆回购。然后，运行这些命令。</p><pre class="kj kk kl km gt oe od of og aw oh bi"><span id="7d0b" class="no lz it od b gy oi oj l ok ol">dbt docs generate<br/>dbt docs serve</span></pre><p id="190d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将给你一个示例网站的副本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/b100edb9a4ae92257dc6938b5af43c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9qqJyFLkkarW8Cvy1cbRA.png"/></div></div><p class="pd pe gj gh gi pf pg bd b be z dk translated"><a class="ae lq" href="https://www.getdbt.com/attribution-playbook/#!/overview" rel="noopener ugc nofollow" target="_blank">示例网站</a>作者截图</p></figure><p id="812e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在资源细节中，你会看到元数据，可以通过<code class="fe oa ob oc od b">manifest.json</code>和<code class="fe oa ob oc od b">catalog.json</code>文件找到。</p><h2 id="6564" class="no lz it bd ma np nq dn me nr ns dp mi ld nt nu mk lh nv nw mm ll nx ny mo nz bi translated"><strong class="ak">多个项目和团队的数据目录</strong></h2><p id="4ff9" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">没有为多个项目创建数据目录的特定方法。以下是我们的选择:</p><ol class=""><li id="6002" class="oo op it kw b kx ky la lb ld oq lh or ll os lp ot ou ov ow bi translated">一个存储库</li><li id="f93b" class="oo op it kw b kx ox la oy ld oz lh pa ll pb lp ot ou ov ow bi translated">带有一个共享存储库的独立团队存储库</li><li id="c4fc" class="oo op it kw b kx ox la oy ld oz lh pa ll pb lp ot ou ov ow bi translated">完全独立的存储库</li><li id="1d82" class="oo op it kw b kx ox la oy ld oz lh pa ll pb lp ot ou ov ow bi translated">独立的团队资源库+一个文档资源库</li></ol><p id="1dcf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要了解这些选项的优缺点，请看这篇<a class="ae lq" href="https://discourse.getdbt.com/t/how-to-configure-your-dbt-repository-one-or-many/2121" rel="noopener ugc nofollow" target="_blank">文章</a>。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="558c" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">结论</h1><p id="4d66" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在本文中，我提供了为您的数据团队的项目创建数据目录的步骤。我使用了<code class="fe oa ob oc od b">dbt</code>核心版本，并提供了我自己的基础设施，但是你也可以在不需要管理基础设施的情况下额外付费实现<code class="fe oa ob oc od b">dbt</code>云<em class="on">。</em></p><p id="4b72" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过提供这个数据目录网站，您现在已经为公司提供了最好的数据工具，一个供员工查找和了解在哪里可以找到他们工作所需的数据的集中场所。</p></div></div>    
</body>
</html>