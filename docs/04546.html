<html>
<head>
<title>Is Your Array Really an Array?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你的数组真的是数组吗？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/is-your-array-really-an-array-c6a93788df5d?source=collection_archive---------24-----------------------#2020-04-20">https://betterprogramming.pub/is-your-array-really-an-array-c6a93788df5d?source=collection_archive---------24-----------------------#2020-04-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8e60" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在JavaScript中不是这样</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c83ce6614c908f8f5de445797eefc2e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S-naL09ennsCUZEu"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Pierre Bamin 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="305e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，你怎么知道一个数组是数组？JavaScript卑微的创造者为我们提供了<code class="fe lv lw lx ly b">typeof</code>操作符。<code class="fe lv lw lx ly b">typeof</code>用于知道正在讨论的变量的类型。用于数组的<code class="fe lv lw lx ly b">typeof</code>返回<code class="fe lv lw lx ly b">Object</code>而不是<code class="fe lv lw lx ly b">Array</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/30bbd1797ebb28bf13fd5af0d8af80dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wvt0srPbxdb-N8qkHLTQ6g.png"/></div></div></figure><p id="08f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们得到这个结果是因为数组在JavaScript中并不是真正的数组。JavaScript中的数组是对象。但是我们也提供了一个解决方案:<code class="fe lv lw lx ly b">Array.isArray()</code>。为我们提供了一种简单的方法来检查一个变量是否真的是一个数组。如果变量是数组，它返回一个布尔值<code class="fe lv lw lx ly b">true</code>，否则返回<code class="fe lv lw lx ly b">false</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ma"><img src="../Images/6eebdd1ee87235c00ba08a258d0e2239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*78uX9Tn5RNdjJODkYYHgwQ.png"/></div></div></figure><p id="c053" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果有人是JavaScript新手，他们可能会认为<code class="fe lv lw lx ly b">typeof</code>为数组返回<code class="fe lv lw lx ly b">object</code>不是什么大问题。然而，当与<code class="fe lv lw lx ly b">typeof</code>一起使用时，多个实体返回<code class="fe lv lw lx ly b">object</code>。JS就是这么构建的。普通对象将返回一个对象类型，这可能是混淆的来源。</p><p id="261b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此类检查还有另一种方法，称为<code class="fe lv lw lx ly b">instanceof</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mb"><img src="../Images/afa228e291b5d4134f7cc25f3da39e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZagOWqMir-zZPSDL7fIXKw.png"/></div></div></figure></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="e477" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">问题</strong></h1><p id="f306" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">当我们处理作用域，特别是多个上下文时，<code class="fe lv lw lx ly b">instanceof</code>的问题就出现了。例如，考虑框架。</p><p id="7d68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">框架在其自己的执行上下文中有不同的范围。如果您在位于框架上下文中的数组上尝试<code class="fe lv lw lx ly b">instanceof</code>，它将返回<code class="fe lv lw lx ly b">false</code>，这是不正确的。这是一个令人困惑的高级概念，不是每个人都知道。要理解它，你必须知道JavaScript中的执行上下文。那是改天的话题。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="df1f" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">结论</h1><p id="e38a" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">上面的方法有它们自己的问题，这就是为什么数组应该总是使用<code class="fe lv lw lx ly b">Array.isArray()</code>而不是<code class="fe lv lw lx ly b">instanceof</code>或<code class="fe lv lw lx ly b">typeof</code>进行类型检查的原因。</p><p id="f213" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div></div>    
</body>
</html>