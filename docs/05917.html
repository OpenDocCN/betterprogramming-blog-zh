<html>
<head>
<title>How to Set Up Next.js With Tailwind CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Tailwind CSS设置Next.js</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-set-up-next-js-with-tailwind-css-b93ccd2d4164?source=collection_archive---------0-----------------------#2020-08-18">https://betterprogramming.pub/how-to-set-up-next-js-with-tailwind-css-b93ccd2d4164?source=collection_archive---------0-----------------------#2020-08-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2a0c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在React项目中使用Tailwind CSS和Next.js</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/eb35c045c41d6b3412070ee9148e5d89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hKO9Vw8lYZtL949V"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@mahkeo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Khamkéo Vilaysing </a>拍摄的照片。</p></figure><p id="097d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">更新:顺风社CSS 2.0已经发布。请按照这个新指南使用最新版本的Tailwind与最新版本的next . js:</em><a class="ae ky" href="https://medium.com/better-programming/how-to-set-up-tailwind-css-v2-0-with-next-js-10-4a82c8f8caaa" rel="noopener"><em class="lv">https://medium . com/better-programming/how-to-set-up-Tailwind-CSS-v2-0-with-next-js-10-4a 82 c8 F8 caaa</em></a></p><p id="e880" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在开始一个新的React项目，你可能想要考虑<a class="ae ky" href="https://nextjs.org" rel="noopener ugc nofollow" target="_blank"> Next.js </a>和<a class="ae ky" href="https://tailwindcss.com" rel="noopener ugc nofollow" target="_blank"> Tailwind CSS </a>。在本文中，我们将解释为什么这是一个很好的选择，并带您完成使用这些技术建立一个新项目的过程。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a74b" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">为什么是Next.js？</h1><p id="3939" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当您使用React启动一个新项目时，有许多重要的细节需要考虑。你的代码必须使用像webpack这样的捆绑器捆绑，并使用像Babel这样的编译器转换。<a class="ae ky" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank"> Create React App </a>可能是一个很好的工具，可以帮你处理这个问题，并给你一个巨大的开端，但是代码分割、性能预渲染以及SEO或服务器端渲染呢？</p><p id="0118" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要构建一个完整的React应用程序，你需要的不仅仅是CRA提供给你的。您可以通过使用Next.js为自己节省一些时间，这是一个React框架，为上述所有问题提供了一个解决方案。如果你想了解更多关于CRA vs. Next.js的信息，请查看<a class="ae ky" href="https://codeburst.io/stack-choices-create-react-app-vs-next-js-f0f3c4db7083" rel="noopener" target="_blank">Stack choices:Create React App vs next . js</a>。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a398" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">为什么要用顺风CSS？</h1><p id="da0b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated"><a class="ae ky" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Tailwind CSS </a>是一个CSS框架，但它不同于大多数其他框架，如Bootstrap、Material或Ant Design。这是一个实用优先的框架，这意味着它不关注预先设计的组件，如按钮、卡片和警告。它提供了低级的工具类，让你不用离开你的HTML就可以构建完全定制的设计。</p><p id="f573" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管学习所有的实用程序类需要一些时间，但是一旦你开始使用它，你几乎不需要再写任何CSS了。它可以极大地提高您的工作效率，并且在设计HTML元素时不需要切换文件，这是一种福气。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8044" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">我们开始吧</h1><p id="b2e5" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如果您还没有使用Next.js设置项目，首先打开您的终端并运行项目文件夹中的<code class="fe na nb nc nd b">yarn create next-app</code>。</p><p id="4965" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将收到以下消息提示:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="1d1c" class="ni me it nd b gy nj nk l nl nm">What is your project named?</span></pre><p id="fb0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">填写一个名字，然后按回车键。下一条消息是:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="6466" class="ni me it nd b gy nj nk l nl nm">Pick a template</span></pre><p id="6585" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选取“默认启动应用程序”,等待您的项目准备就绪。然后，键入<code class="fe na nb nc nd b">cd &lt;your-project-name&gt;</code>以确保您在可以运行<code class="fe na nb nc nd b">yarn dev</code>来启动开发服务器的目录中。现在，您应该已经启动并运行了新的Next.js项目。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="dc01" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">添加顺风CSS</h1><p id="dbd0" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">首先使用npm或yarn将Tailwind CSS库添加到您的开发依赖项中:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="836e" class="ni me it nd b gy nj nk l nl nm">yarn add tailwindcss -D</span></pre><p id="9222" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们需要将一个<code class="fe na nb nc nd b">tailwind.config.js</code>文件添加到我们的应用程序的根目录中。使用以下命令进行设置:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="f6c2" class="ni me it nd b gy nj nk l nl nm">npx tailwind init</span></pre><p id="0a9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在您的项目中应该有一个包含以下内容的<code class="fe na nb nc nd b">tailwind.config.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2984" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">添加后置CSS</h1><p id="e439" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">接下来，我们需要配置<a class="ae ky" href="https://postcss.org/" rel="noopener ugc nofollow" target="_blank"> PostCSS </a>，一个用JavaScript转换CSS的工具，因为Tailwind CSS是一个PostCSS插件。让我们创建一个<code class="fe na nb nc nd b">postcss.config.js</code>并添加以下内容，这样Next.js将加载已定义的插件。</p><p id="2f3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在项目的根目录下，运行:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="9e38" class="ni me it nd b gy nj nk l nl nm">touch postcss.config.js</span></pre><p id="b12e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后将以下内容添加到该文件中:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="9db5" class="ni me it nd b gy nj nk l nl nm">module.exports = {<br/>  plugins: ['tailwindcss'],<br/>}</span></pre><p id="a1f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了TailwindCSS之外，我们还应该添加<a class="ae ky" href="https://github.com/csstools/postcss-preset-env" rel="noopener ugc nofollow" target="_blank"> PostCSS Preset Env </a>模块，它将现代CSS转换成大多数浏览器都能理解的东西:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="e2d4" class="ni me it nd b gy nj nk l nl nm">yarn add postcss-preset-env -D</span></pre><p id="0168" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们更新我们的<code class="fe na nb nc nd b">postcss.config.js</code>,以包含这个模块:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="9ccc" class="ni me it nd b gy nj nk l nl nm">module.exports = {<br/>  plugins: ['tailwindcss', 'postcss-preset-env'],<br/>}</span></pre><p id="d3d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们创建一个<code class="fe na nb nc nd b">styles</code>文件夹，并从CSS文件中导入Tailwind CSS:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="236d" class="ni me it nd b gy nj nk l nl nm">mkdir styles touch styles/tailwind.css</span></pre><p id="79bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">内部<code class="fe na nb nc nd b">tailwind.css</code>:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="33c2" class="ni me it nd b gy nj nk l nl nm">@tailwind base;<br/>@tailwind components;<br/>@tailwind utilities;</span></pre><p id="5160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要将全局CSS添加到Next.js应用程序中，我们需要覆盖默认的<code class="fe na nb nc nd b">App</code>组件。Next.js使用<code class="fe na nb nc nd b">App</code>组件来初始化页面，如果我们需要控制页面初始化，我们需要创建一个名为<code class="fe na nb nc nd b">pages/_app.js</code>的文件:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="36fb" class="ni me it nd b gy nj nk l nl nm">touch pages/_app.js</span></pre><p id="366e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在导入我们创建的样式表:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="da6f" class="ni me it nd b gy nj nk l nl nm">import '../styles/tailwind.css';</span><span id="c873" class="ni me it nd b gy np nk l nl nm">export default function MyApp({ Component, pageProps }) {<br/>  return &lt;Component {...pageProps} /&gt;;<br/>}</span></pre><p id="cd5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">酷，现在我们准备给我们的主页添加一些CSS魔法。转到<code class="fe na nb nc nd b">/pages/index.js</code>(或者<code class="fe na nb nc nd b">/pages/index.tsx</code>，如果你使用TypeScript的话)用Tailwind CSS类添加一些元素。例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="12b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行<code class="fe na nb nc nd b">yarn dev</code>在浏览器中的<code class="fe na nb nc nd b"><a class="ae ky" href="https://localhost:4202/settings/departments" rel="noopener ugc nofollow" target="_blank">http://localhost:3000</a></code>上查看您的应用。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="996b" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">采购</h1><p id="d4c2" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Tailwind CSS的一个问题是文件太大，但是我们可以使用<a class="ae ky" href="https://github.com/FullHuman/purgecss" rel="noopener ugc nofollow" target="_blank"> PurgeCSS </a>来解决这个问题。PurgeCSS通过扫描HTML并删除任何不使用的类来减小文件大小。我们只希望在产品中这样做，因为如果我们正在开发，我们希望能够在不运行构建过程的情况下使用任何Tailwind CSS类。为此，我们首先将PurgeCSS模块作为开发依赖项安装在我们的项目中:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="fb50" class="ni me it nd b gy nj nk l nl nm">yarn add @fullhuman/postcss-purgecss -D</span></pre><p id="93fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后用下面的代码更新您的<code class="fe na nb nc nd b">postcss.config.js</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="8fac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出口顺序很重要。首先，我们告诉PostCSS加载Tailwind CSS。然后，我们清除未使用的CSS(仅在生产中)。最后，我们让PostCSS预设Env插件完成它的工作，使剩余的CSS兼容所有浏览器。</p><p id="ab99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们检查位于<code class="fe na nb nc nd b">pages/</code>或<code class="fe na nb nc nd b">components/</code>文件夹中的<code class="fe na nb nc nd b">.js, .jsx, .ts or .tsx</code>文件中的所有代码。如果你计划在其他文件夹中添加HTML，比如<code class="fe na nb nc nd b">containers/</code>或者其他什么，确保你把那个文件夹添加到这个配置文件中。</p><p id="644c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，建议只将PurgeCSS应用于Tailwind CSS的实用程序类，而不要应用于<a class="ae ky" href="https://tailwindcss.com/docs/adding-base-styles" rel="noopener ugc nofollow" target="_blank">基本样式</a>或<a class="ae ky" href="https://tailwindcss.com/docs/extracting-components#extracting-css-components-with-apply" rel="noopener ugc nofollow" target="_blank">组件类</a>。这将确保您在使用Next.js时不会意外清除重要的基本样式。最简单的方法是使用PurgeCSS的<a class="ae ky" href="https://github.com/FullHuman/purgecss-docs/blob/master/whitelisting.md" rel="noopener ugc nofollow" target="_blank">白名单</a>特性来禁用非实用类的PurgeCSS。将此添加到您的<code class="fe na nb nc nd b">tailwind.css</code>文件中:</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="310b" class="ni me it nd b gy nj nk l nl nm">/* purgecss start ignore */<br/>@tailwind  base;<br/>@tailwind  components;<br/>/* purgecss end ignore */</span><span id="0c34" class="ni me it nd b gy np nk l nl nm">@tailwind  utilities;</span></pre><p id="b8a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">酷，现在我们已经准备好使用Next.js和Tailwind CSS了，不用担心包的大小了！</p><p id="26b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！感谢阅读。我希望它有帮助。</p></div></div>    
</body>
</html>