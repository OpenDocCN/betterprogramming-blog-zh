<html>
<head>
<title>How to Create an Animated Heartbeat Shape With SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用SwiftUI创建动画心跳形状</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-an-animated-heartbeat-shape-with-swiftui-a8c543cf31d2?source=collection_archive---------4-----------------------#2020-11-20">https://betterprogramming.pub/how-to-create-an-animated-heartbeat-shape-with-swiftui-a8c543cf31d2?source=collection_archive---------4-----------------------#2020-11-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="72eb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用“路径”和“形状”修改器绘制心跳形状并制作动画</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1b382c6de1dfafa19381906257eb5b1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Fb6Flc5rF2fbdXKXULStA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">动画心跳形状与SwiftUI。作者照片。</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="f4d1" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">动画心跳(1)</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/ef45367e5add4a4295d1088defa72ba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/1*PhCjB6U2oU9QpHA0CNQcjw.gif"/></div></figure><h2 id="fd3e" class="ly lg it bd lh lz ma dn ll mb mc dp lp md me mf lr mg mh mi lt mj mk ml lv mm bi translated">心跳形状</h2><p id="70ac" class="pw-post-body-paragraph mn mo it mp b mq mr ju ms mt mu jx mv md mw mx my mg mz na nb mj nc nd ne nf im bi translated">创建单个心跳形状相对容易。决定你心跳的方向。从一条线开始，然后在你想要的心跳形状附近画第二条线。接下来，你需要添加两行不同的y值来创建节拍。最后，再添加两条线——一条回到矩形的中间，第二条线到达矩形/屏幕的末端。</p><p id="7fe2" class="pw-post-body-paragraph mn mo it mp b mq nh ju ms mt ni jx mv md nj mx my mg nk na nb mj nl nd ne nf im bi translated">在下面的例子中，您将看到我们如何利用矩形的<code class="fe nm nn no np b">midX</code>、<code class="fe nm nn no np b">midY</code>、<code class="fe nm nn no np b">maxX</code>和<code class="fe nm nn no np b">maxY</code>值来获得心跳形状:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h2 id="1011" class="ly lg it bd lh lz ma dn ll mb mc dp lp md me mf lr mg mh mi lt mj mk ml lv mm bi translated">心跳视图</h2><p id="1806" class="pw-post-body-paragraph mn mo it mp b mq mr ju ms mt mu jx mv md mw mx my mg mz na nb mj nc nd ne nf im bi translated">创建一个新的结构视图，并将我们在上面创建的两个心跳形状堆叠在一个<code class="fe nm nn no np b">ZStack</code>中。向第二个形状添加<code class="fe nm nn no np b">trim</code>修改器，并向其传递两个值为<code class="fe nm nn no np b">0</code>的状态变量。<code class="fe nm nn no np b">trim</code>修改器将用于制作第二次心跳的动画。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h2 id="082e" class="ly lg it bd lh lz ma dn ll mb mc dp lp md me mf lr mg mh mi lt mj mk ml lv mm bi translated">动画</h2><p id="3fe6" class="pw-post-body-paragraph mn mo it mp b mq mr ju ms mt mu jx mv md mw mx my mg mz na nb mj nc nd ne nf im bi translated">给<code class="fe nm nn no np b">ZStack</code>添加一个高度为<code class="fe nm nn no np b">300</code>的帧修改器和你喜欢的动画类型的动画。现在，在<code class="fe nm nn no np b">body</code>变量之前定义一个计时器，然后将<code class="fe nm nn no np b">onReceive</code>修饰符添加到<code class="fe nm nn no np b">ZStack</code>。在<code class="fe nm nn no np b">onReceive</code>修改器中，检查<code class="fe nm nn no np b">trim</code>值，并根据你想要的动画风格在<code class="fe nm nn no np b">0</code>和<code class="fe nm nn no np b">1</code>之间改变它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="a285" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">动画心跳(2)</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/0499bd6963f2317bb92de45bc95bd89c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/1*PemKMZ0bXbqAyZPusFU9WA.gif"/></div></figure><h2 id="4550" class="ly lg it bd lh lz ma dn ll mb mc dp lp md me mf lr mg mh mi lt mj mk ml lv mm bi translated">心形心跳</h2><p id="d984" class="pw-post-body-paragraph mn mo it mp b mq mr ju ms mt mu jx mv md mw mx my mg mz na nb mj nc nd ne nf im bi translated">为了创建心形，我们需要确定位置，然后添加两条曲线。我们的第一条曲线将从<code class="fe nm nn no np b">x</code>轴上靠近矩形中间的位置开始，其<code class="fe nm nn no np b">y</code>值为-10。第二条曲线从最后一条曲线结束的地方开始，并以<code class="fe nm nn no np b">y</code> =矩形的中点回到屏幕的中间。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h2 id="df53" class="ly lg it bd lh lz ma dn ll mb mc dp lp md me mf lr mg mh mi lt mj mk ml lv mm bi translated">心跳视图</h2><p id="d267" class="pw-post-body-paragraph mn mo it mp b mq mr ju ms mt mu jx mv md mw mx my mg mz na nb mj nc nd ne nf im bi translated">对于我们在上面创建的同一个心跳视图，进行以下更改:</p><ul class=""><li id="a096" class="ns nt it mp b mq nh mt ni md nu mg nv mj nw nf nx ny nz oa bi translated"><code class="fe nm nn no np b">Heartbeat shape</code>到<code class="fe nm nn no np b">HeartShapeHeartbeat</code>。</li><li id="b0f5" class="ns nt it mp b mq ob mt oc md od mg oe mj of nf nx ny nz oa bi translated">从<code class="fe nm nn no np b">8</code>到<code class="fe nm nn no np b">6</code>的笔画线宽。</li><li id="89e1" class="ns nt it mp b mq ob mt oc md od mg oe mj of nf nx ny nz oa bi translated">从<code class="fe nm nn no np b">300</code>到<code class="fe nm nn no np b">120</code>的框架高度。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="507d" class="pw-post-body-paragraph mn mo it mp b mq nh ju ms mt ni jx mv md nj mx my mg nk na nb mj nl nd ne nf im bi translated">最后，将<code class="fe nm nn no np b">HeartbeatView</code>添加到<code class="fe nm nn no np b">ContentView</code>中，并运行应用程序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="1797" class="pw-post-body-paragraph mn mo it mp b mq nh ju ms mt ni jx mv md nj mx my mg nk na nb mj nl nd ne nf im bi translated">全部完成！感谢阅读。</p></div></div>    
</body>
</html>