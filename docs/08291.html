<html>
<head>
<title>Kotlin Tutorial for Java Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向Java开发人员的Kotlin教程</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/kotlin-tutorial-for-java-developers-4f60d40637b1?source=collection_archive---------5-----------------------#2021-04-14">https://betterprogramming.pub/kotlin-tutorial-for-java-developers-4f60d40637b1?source=collection_archive---------5-----------------------#2021-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="420f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Android开发人员进行语言转换所需要知道的一切</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1ccd4be5c3d8c094104cfeba02e79902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jDqhZjP5AmGfntns3tRFGg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者</p></figure><p id="4a98" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kotlin是一种新兴的编程语言，旨在解决Java的缺陷，并与现代世界的适应性需求更加紧密地联系在一起。虽然Kotlin曾经是一种小众语言，但它正在迅速发展，许多公司都从Java转向了Kotlin。</p><p id="2e5a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，谷歌在2017年就宣布正式支持Kotlin，而不是Java，作为Android开发的主要语言。</p><p id="8378" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在越来越多的公司在寻找Kotlin开发者。今天，我们将通过强调每个基本Kotlin概念的差异和语法来帮助您过渡到这种新语言。</p><p id="7e3b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">下面是我们今天要讲的内容:</strong></p><ul class=""><li id="8396" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">科特林vs. Java</li><li id="98b1" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">科特林的《你好，世界》</li><li id="1182" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">Kotlin变量和数据类型</li><li id="259a" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">科特林条件句和循环</li><li id="d5c1" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">科特林收藏</li><li id="1320" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">科特林函数</li><li id="72c2" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">用Kotlin进行函数式编程</li><li id="c77b" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">下一步跟科特林学什么</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="73b4" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">科特林vs. Java</h1><p id="c75f" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin是一种开源的静态类型编程语言，由Jetbrains开发，以创建IntelliJ IDEA IDE而闻名。Kotlin的目标是成为一种更易用、更简洁的语言，适用于任何类型的项目。</p><p id="9ec9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kotlin主要用于Android应用程序开发或使用React之类的框架进行前端开发。</p><p id="9d36" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kotlin是独一无二的，因为它完全可以与Java代码互操作，这意味着您可以使用现有的Java库或框架。Kotlin代码可以转换成JavaScript或Java字节码，用于Java虚拟机(JVM)或Android开发。</p><p id="1d06" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现代公司对Kotlin的多功能性特别感兴趣，因为开发人员可以对公司需要的任何项目使用同一种语言。</p><p id="b20e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随着敏捷开发变得越来越流行，像谷歌、亚马逊、网飞、优步这样的公司已经开始雇佣Kotlin开发人员。事实上，在GitHub的年度报告中，它被列为2020年增长第四快的语言，报告了更多Kotlin开发者的实现。</p><h2 id="8633" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">静态打字</h2><p id="43c7" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">像Java一样，变量只能被赋予与其类型相匹配的值。这使您可以在执行前轻松捕捉编译器发现的错误。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="8670" class="nn mr it oa b gy oe of l og oh">var m : Int = 12</span><span id="abd5" class="nn mr it oa b gy oi of l og oh">m = 10          // ok</span><span id="d705" class="nn mr it oa b gy oi of l og oh">m = "twelve" // error!</span><span id="00dc" class="nn mr it oa b gy oi of l og oh">m = 10.0        // error!</span></pre><h2 id="9028" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">非局部跳跃</h2><p id="00f1" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin允许你在任何地方退出一个函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="87c0" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">集合过滤</h2><p id="2445" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin允许您在集合中搜索任何符合传递标准的数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="df41" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated"><strong class="ak">扩展功能</strong></h2><p id="d84b" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">扩展函数允许您扩展现有组件，而无需在其中编写方法，从而使代码更加简洁。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="5c50" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">高阶函数</h2><p id="77d7" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin函数被视为一级函数，这意味着它们可以从其他函数传递或返回。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="e863" class="nn mr it oa b gy oe of l og oh">people.filter { person -&gt; person.headCount == 1 }</span></pre><h2 id="d5fe" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">惰性装载</h2><p id="0d85" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin通过只加载它立即需要的资源来减少加载时间。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2f8d" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">Kotlin和Java的主要区别</h1><h2 id="eb2a" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">科特林</h2><ul class=""><li id="75dd" class="lv lw it la b lb ni le nj lh ol ll om lp on lt ma mb mc md bi translated">允许从Kotlin跨平台传输到Android、JVM等等。</li><li id="ceed" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">为函数式编程和面向对象编程从头开始构建。</li><li id="9c21" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">为简洁而设计。</li><li id="23b7" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">内置智能强制转换和隐式强制转换。</li><li id="2f96" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">无法分配<code class="fe oo op oq oa b">null</code>值以确保空值安全。</li><li id="274c" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">对协程、扩展函数和数据类等现代特性的现成支持。</li></ul><h2 id="f71b" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">Java 语言(一种计算机语言，尤用于创建网站)</h2><ul class=""><li id="a4a8" class="lv lw it la b lb ni le nj lh ol ll om lp on lt ma mb mc md bi translated">不跨平台，不能传输。</li><li id="9d2e" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">为面向对象编程而构建，功能支持极其有限。</li><li id="8208" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">专为特异性而设计。</li><li id="aff4" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">严格的显式类型规则。</li><li id="7de1" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">允许空值，但抛出<code class="fe oo op oq oa b">nullPointerException</code>，这必须通过异常处理来捕捉。</li><li id="7be6" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">通过复杂的变通方法对现代功能的有限支持。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="a422" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">科特林的《你好，世界》</h1><p id="e376" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">让我们看看Java和Kotlin中的一个<code class="fe oo op oq oa b">Hello World</code>程序，看看它们的区别。</p><p id="efb1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以使用Kotlin插件在任何Java IDE中编写Kotlin，甚至可以直接在命令行中编写。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="3277" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">显然，Kotlin更简洁，只使用了两行代码。这是因为Kotlin允许函数存在于类之外，这意味着我们不必声明一个<code class="fe oo op oq oa b">HelloWorld</code>类。</p><ul class=""><li id="baeb" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">在Kotlin代码的第1行上，我们定义了<code class="fe oo op oq oa b">main</code>方法。和Java一样，每个程序都需要一个<code class="fe oo op oq oa b">main</code>函数。Kotlin版本1.3+从<code class="fe oo op oq oa b">main</code>中移除了输入和输出，以使语法更简单，视觉上更清晰。</li><li id="7ded" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">在<strong class="la iu">第2行</strong>上，我们使用内置的<code class="fe oo op oq oa b">println()</code>函数打印字符串<code class="fe oo op oq oa b">Hello, World!</code>。这与Java的打印功能工作方式相同，但不需要从外部<code class="fe oo op oq oa b">System</code>类中提取。</li><li id="915e" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">在第2行的结尾，注意没有分号来标记该行的结尾。Kotlin逐行检测语句的结尾，不需要分号。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2dca" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">Kotlin变量和数据类型</h1><p id="9e04" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">您可以使用<code class="fe oo op oq oa b">var</code>或<code class="fe oo op oq oa b">val</code>关键字来定义Kotlin变量。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="066c" class="nn mr it oa b gy oe of l og oh">var &lt;variableName&gt; = &lt;value&gt; //mutable</span><span id="086f" class="nn mr it oa b gy oi of l og oh">val &lt;variableName&gt; = &lt;value&gt; //read-only</span><span id="aec6" class="nn mr it oa b gy oi of l og oh">val &lt;variableName&gt;: &lt;dataType&gt; = &lt;value&gt; // explicit type casting</span></pre><p id="cd44" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kotlin中的变量与Java中的变量非常相似，除了:</p><ul class=""><li id="5760" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">Kotlin为函数式编程提供了不可变(只读)的数据类型。</li><li id="6292" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">Kotlin允许智能类型，有时也称为隐式类型，它自动检测变量的数据类型，而无需显式标记。</li><li id="e8bd" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">默认情况下，Kotlin不允许将<code class="fe oo op oq oa b">null</code>值赋给变量或返回值。使用Java，您可以赋值<code class="fe oo op oq oa b">null</code>，但是如果您试图访问那个值，它将抛出一个<code class="fe oo op oq oa b">nullPointerException</code>。</li></ul><p id="29ef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看这些差异在实践中是怎样的。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7cf1" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">只读变量与可变变量</h1><p id="60e9" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin中的变量可以是只读的或者可变的。只读变量的值在最初赋值后就不能更改了。在使用函数式编程时，只读变量对于减少副作用特别有帮助。</p><p id="c1e1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可变变量就像Java中的大多数变量一样，可以在初始化后更改。</p><h2 id="feff" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">只读初始化</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="27fa" class="nn mr it oa b gy oe of l og oh">val number = 17</span><span id="bee5" class="nn mr it oa b gy oi of l og oh">println("number = $number")</span><span id="fcb1" class="nn mr it oa b gy oi of l og oh">number = 42  // Not allowed, throws an exception</span></pre><h2 id="3d6f" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">可变初始化</h2><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="9616" class="nn mr it oa b gy oe of l og oh">var number = 17</span><span id="a028" class="nn mr it oa b gy oi of l og oh">println("number = $number")</span><span id="5f76" class="nn mr it oa b gy oi of l og oh">number = 42  // var can be reassigned</span><span id="c464" class="nn mr it oa b gy oi of l og oh">println("number = $number")</span></pre><p id="1823" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最佳实践是尽可能使用只读的<code class="fe oo op oq oa b">val</code>变量，并且只在你特别需要的时候使用可变的<code class="fe oo op oq oa b">var</code>。这使程序的整体复杂性最小化，并且更容易理解它们的数据流。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="96d7" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">Kotlin数据类型</h1><p id="11be" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">与Java不同，Kotlin没有原始数据类型。以下所有类型在运行时都是对象，但在Java字节码中会转换成相应的Java原语类型。</p><h2 id="2694" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">整数类型</h2><p id="efce" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin包括所有标准整数类型。下面是显式强制转换的只读整数的示例，这些整数被初始化为其最大可能值。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="179a" class="nn mr it oa b gy oe of l og oh">val byte: Byte = 127</span><span id="36d3" class="nn mr it oa b gy oi of l og oh">val short: Short = 32767</span><span id="f5c4" class="nn mr it oa b gy oi of l og oh">val int: Int = 2147483647</span><span id="b8de" class="nn mr it oa b gy oi of l og oh">val long: Long = 9223372036854775807</span></pre><h2 id="94a4" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">浮点数</h2><p id="28c8" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin支持标准的十进制和指数表示法。<code class="fe oo op oq oa b">Float</code>和<code class="fe oo op oq oa b">Double</code>的行为相同，但是<code class="fe oo op oq oa b">Double</code>比<code class="fe oo op oq oa b">Float</code>能容纳更多的数字。Kotlin将任何浮点数智能转换为<code class="fe oo op oq oa b">Double</code>，这意味着您必须在参数末尾包含<code class="fe oo op oq oa b">f</code>，以将变量设置为<code class="fe oo op oq oa b">Float</code>。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="9206" class="nn mr it oa b gy oe of l og oh">val float: Float = 3.4028235e38f</span><span id="8ed2" class="nn mr it oa b gy oi of l og oh">val double: Double = 1.7976931348623157e308</span></pre><h2 id="1aa1" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">文本类型</h2><p id="4f2e" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin支持类似Java的<code class="fe oo op oq oa b">Char</code>和<code class="fe oo op oq oa b">String</code>类型来表示文本。用单引号表示单个字符(如<code class="fe oo op oq oa b">'c'</code>)，用双引号表示字符串(如<code class="fe oo op oq oa b">"this string"</code>)。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="7cb0" class="nn mr it oa b gy oe of l og oh">val character: Char = '#'</span><span id="05ae" class="nn mr it oa b gy oi of l og oh">val text: String = "Learning about Kotlin's data types"</span></pre><p id="7b79" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与Java不同，Kotlin允许您使用三组双引号轻松创建多行字符串。Java只为多行字符串提供了<code class="fe oo op oq oa b">concat</code>和<code class="fe oo op oq oa b">line.separator</code>，不够简洁，需要特殊实现。</p><h2 id="71ce" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">布尔型</h2><p id="4635" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin的布尔类型在功能上与Java的完全相同。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="dcbe" class="nn mr it oa b gy oe of l og oh">val yes: Boolean = true</span><span id="9731" class="nn mr it oa b gy oi of l og oh">val no: Boolean = false</span></pre><p id="4271" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意:您可以使用<code class="fe oo op oq oa b">as</code>关键字将一种类型转换成另一种类型。</p><h2 id="fafb" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">类型推理</h2><p id="a5f1" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">类型推断是编译器的一项功能，当编译器可以为您推断类型时，它允许您忽略代码中的类型。这有时也被称为<em class="or">智能打字</em>或<em class="or">隐式打字</em>。</p><p id="e9d1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果一个变量可以被声明为两种不同大小的类型，它将选择默认值:<code class="fe oo op oq oa b">Double</code>表示浮点数，<code class="fe oo op oq oa b">Int</code>表示整数。</p><p id="b6e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要隐式声明非默认类型，可以在值的末尾添加类型键，如下面的类型<code class="fe oo op oq oa b">Long</code>的<code class="fe oo op oq oa b">L</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="de1d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kotlin的类型推理系统非常健壮，允许文字、对象和复杂结构的隐式类型化，如lambda表达式。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="3e08" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">科特林条件句和循环</h1><p id="8736" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin包括两个条件语句<code class="fe oo op oq oa b">if</code>和<code class="fe oo op oq oa b">when</code>，以及两个循环<code class="fe oo op oq oa b">for</code>和<code class="fe oo op oq oa b">while</code>。</p><p id="3bc0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有的条件都是用以下方式定义的:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="428a" class="nn mr it oa b gy oe of l og oh">&lt;conditional&gt; (&lt;desiredCondition&gt;) &lt;code&gt;</span><span id="fb22" class="nn mr it oa b gy oi of l og oh">&lt;conditional&gt; (&lt;desiredCondition&gt;) { &lt;codeBlock&gt;</span><span id="b6af" class="nn mr it oa b gy oi of l og oh">}</span></pre><h2 id="5be5" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">如果语句</h2><p id="4436" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin的<code class="fe oo op oq oa b">if</code>语句就像Java一样，它包含一个代码块，如果列出的条件变为<code class="fe oo op oq oa b">true</code>，它就会执行。您还可以添加一个在跳过<code class="fe oo op oq oa b">if</code>语句时执行的<code class="fe oo op oq oa b">else</code>语句。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="0d50" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">When语句</h2><p id="c3f2" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin还有一个与C的<code class="fe oo op oq oa b">switch</code>语句类似的<code class="fe oo op oq oa b">when</code>语句。<code class="fe oo op oq oa b">when</code>语句创建多个检查分支，每个分支评估一个特定的条件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="0610" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe oo op oq oa b">when</code>既可以做表达式，也可以做陈述句。如果用作表达式，第一个匹配分支的值将成为整个表达式的值。如果用作语句，则忽略各个分支的值。</p><p id="4239" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以把<code class="fe oo op oq oa b">when</code>想象成多个<code class="fe oo op oq oa b">if-else</code>语句组合成一种更简洁的格式。</p><h2 id="c7a2" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">For循环</h2><p id="897e" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin <code class="fe oo op oq oa b">for</code>循环的工作方式类似于C <code class="fe oo op oq oa b">for each</code>循环，而不是Java的<code class="fe oo op oq oa b">for</code>循环。它接受一个集合，就像一个数组，并对集合中的每个元素完成相同的操作。</p><p id="53af" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">1 <code class="fe oo op oq oa b">for</code>循环的语法是:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="20ee" class="nn mr it oa b gy oe of l og oh">for (item in collection) print(item)</span><span id="2b23" class="nn mr it oa b gy oi of l og oh">for (i in 1..3) {</span><span id="e092" class="nn mr it oa b gy oi of l og oh">    println(i)</span><span id="78fb" class="nn mr it oa b gy oi of l og oh">}</span></pre><h2 id="6ddb" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">While循环</h2><p id="38fe" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">只要满足列出的条件，循环就会重复执行代码体。和Java一样，有两种类型的<code class="fe oo op oq oa b">while</code>循环。标准的<code class="fe oo op oq oa b">while</code>循环在代码执行前检查条件，而<code class="fe oo op oq oa b">do-while</code>循环在代码执行后检查。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="811f" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">科特林收藏</h1><p id="7c92" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin包括三个基本集合:列表、集合和数组。像Java一样，它们都作为一个框架以不同的方式存储数据。集合像任何其他值一样被赋给变量。</p><p id="b94b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以使用Kotlin中唯一的构造函数来创建所有集合。所有构造函数都使用相同的命名约定<code class="fe oo op oq oa b">&lt;collection&gt;Of(&lt;value1, value2, …&gt;)</code>。比如可以用<code class="fe oo op oq oa b">listOf(1, 2)</code>做两个整数的列表。</p><h2 id="92d0" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">目录</h2><p id="13d5" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">列表是一种索引的线性数据结构，类似于Java数组。索引从<code class="fe oo op oq oa b">0</code>开始，一直到<code class="fe oo op oq oa b">(list.size - 1)</code>。与数组不同，列表是动态的，可以调整大小以容纳添加或删除的元素。列表可以包含任意数量的重复元素。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="8ce7" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">设置</h2><p id="7a98" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">集合是一种无序的线性数据结构，不能包含重复的元素。集合没有索引。如果两个集合都包含所有相同的唯一元素，则认为这两个集合相等。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="5f5b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">尽管上述集合在初始化时以相反的顺序出现，但它们是相等的。</p><h2 id="9754" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">排列</h2><p id="13b8" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">该数组不是Kotlin中的本机数据类型。它以<code class="fe oo op oq oa b">Array</code>级为代表。这些数组的行为与Java数组相同:都包含可变值，但大小是固定的。</p><p id="37b0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以使用函数<code class="fe oo op oq oa b">arrayOf(&lt;element1, element2, …&gt;)</code>创建一个数组。</p><p id="8a09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="b96c" class="nn mr it oa b gy oe of l og oh">val priorities = arrayOf("HIGH", "MEDIUM", "LOW")</span><span id="6826" class="nn mr it oa b gy oi of l og oh">println(priorities[1])</span><span id="35b1" class="nn mr it oa b gy oi of l og oh">priorities[1] = "NORMAL"</span><span id="d1e0" class="nn mr it oa b gy oi of l og oh">println(priorities[1])</span><span id="a4d7" class="nn mr it oa b gy oi of l og oh">println(priorities.size)</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7711" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">科特林函数</h1><p id="f490" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin中的函数要求您定义函数的名称、输入和输出。所有的函数定义都以关键字<code class="fe oo op oq oa b">fun</code>开始，并包含一个调用函数时执行的代码块。与Java不同，您不需要将方法定义为<code class="fe oo op oq oa b">static</code>，因为Kotlin与OOP的联系不那么紧密。</p><p id="fa53" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是科特林函数语法的一个例子:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="a6f7" class="nn mr it oa b gy oe of l og oh">fun &lt;variableName&gt;(&lt;inputName&gt;: &lt;inputType&gt;): &lt;returnType&gt;</span><span id="8929" class="nn mr it oa b gy oi of l og oh">fun fibonacci(index: Int): Long</span></pre><p id="f34e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意:为了模仿Java的<code class="fe oo op oq oa b">void</code>返回类型的行为，您可以将返回类型设置为<code class="fe oo op oq oa b">Nothing</code>。</p><p id="af23" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kotlin和Java最大的区别之一是，在Kotlin中，函数可以存在于类之外。另一方面，Java被严格地绑定到面向对象的编程上，要求一切都在类定义中。</p><p id="a363" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">包级函数(任何特定类之外的函数)用于保存对程序中任何对象都同样有用的任务。例如，一个将千克转换为磅以及将磅转换为千克的<code class="fe oo op oq oa b">convert</code>函数将是一个很好的包级函数，因为程序中的任何类都可能需要转换度量。</p><p id="5e94" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kotlin还允许高阶函数，这意味着函数可以像其他值一样被传递或返回。这对函数式编程设计是非常宝贵的。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d7d9" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">扩展功能</h1><p id="9e31" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin采用了带有扩展函数的标准OOP公式，这允许您扩展现有类的功能，而无需继承它们。当试图使用不能修改但可以扩展的第三方库的功能时，扩展函数很有用。与继承不同，您可以扩展一个类，而无需对它进行完全访问。</p><p id="8893" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，您可以向外部API添加额外的行为，这将有助于它与您的解决方案更紧密地集成。</p><p id="501d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要声明一个扩展函数，我们需要在它的名字前面加上一个接收者类型，即被扩展的类型。下面给<code class="fe oo op oq oa b">MutableList</code>增加一个<code class="fe oo op oq oa b">swap</code>功能:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="3100" class="nn mr it oa b gy oe of l og oh">fun MutableList &lt; Int &gt; .swap(index1: Int, index2: Int) {</span><span id="dc7d" class="nn mr it oa b gy oi of l og oh">val tmp = this[index1]</span><span id="fb51" class="nn mr it oa b gy oi of l og oh">this[index1] = this[index2]</span><span id="5bbc" class="nn mr it oa b gy oi of l og oh">this[index2] = tmp</span><span id="b2a9" class="nn mr it oa b gy oi of l og oh">}</span></pre><p id="e400" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意:<code class="fe oo op oq oa b">this</code>关键字用于引用扩展类型的值和方法。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7db4" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">用Kotlin进行函数式编程</h1><p id="2af3" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">Kotlin和Java最显著的区别在于，Kotlin是为函数式编程量身定制的，而不仅仅是面向对象编程。Java中的函数式编程是有限的。虽然您可以在Java中模仿许多函数行为，但大多数开发人员都认为这在现实世界中并不适用。</p><p id="aaa7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Kotlin是一种全功能的函数式语言，具有高阶函数、lambda表达式、运算符重载、惰性求值、运算符重载等等。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="69ad" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">下一步跟科特林学什么</h1><p id="ae4f" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">恭喜你迈出了与科特林的第一步！这种新兴的语言对于现代开发人员来说是完美的，对于现有的Java开发人员来说也很容易掌握。</p><p id="bade" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，您可以转到中级主题，例如:</p><ul class=""><li id="3f05" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">可空类型</li><li id="a161" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">作为表达式的条件</li><li id="49c7" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">地图收藏</li><li id="1ea6" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">速记函数符号</li><li id="af43" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">操作员功能</li></ul><p id="3d32" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="or">快乐学习！</em></p></div></div>    
</body>
</html>