<html>
<head>
<title>How to Preview Photos in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中预览照片</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-preview-photos-in-swiftui-6c3a04d40bda?source=collection_archive---------7-----------------------#2020-10-14">https://betterprogramming.pub/how-to-preview-photos-in-swiftui-6c3a04d40bda?source=collection_archive---------7-----------------------#2020-10-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1a81" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从照片网格缩放照片并制作动画</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/969d3b7dca396fcf90986b3c3fd876f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*691ptiwtllTQVMGSZvgRLg.gif"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">在SwiftUI中预览图像。作者的动画。</p></figure></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="398d" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">简单图像网格</h1><p id="d285" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">我们将使用2D阵列来创建网格。在一个<code class="fe mp mq mr ms b">VStack</code>中，添加一个接受2D数组的<code class="fe mp mq mr ms b">ForEach</code>循环。对于2D数组中的每个图像数组，添加第二个循环(从0到小于3)。检查索引是否超出范围，然后添加<code class="fe mp mq mr ms b">Image</code>视图。当指数超出范围时，添加一个空的<code class="fe mp mq mr ms b">Rectangle()</code>。如果你不想使用<code class="fe mp mq mr ms b">Rectangle()</code>，那么你可以使用前导对齐，重新将网格居中。</p><p id="ea71" class="pw-post-body-paragraph lt lu it lv b lw mt ju ly lz mu jx mb mc mv me mf mg mw mi mj mk mx mm mn mo im bi translated">向<code class="fe mp mq mr ms b">Image</code>视图添加<code class="fe mp mq mr ms b">aspectRatio()</code>修改器，并将其内容模式设置为<code class="fe mp mq mr ms b">fill</code>。使用可调整大小修改器可以更改图像的框架，然后添加框架修改器来调整图像的大小。</p><p id="4e2f" class="pw-post-body-paragraph lt lu it lv b lw mt ju ly lz mu jx mb mc mv me mf mg mw mi mj mk mx mm mn mo im bi translated">要制作正方形图像，请确保宽度和高度值相同。最后，使用<code class="fe mp mq mr ms b">.clipped()</code>修改器剪辑图像:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="3c70" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">图像预览</h1><p id="c860" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">创建一个带有<code class="fe mp mq mr ms b">binding image</code>字符串变量的自定义图像视图。确保使用阴影使图像突出。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="6fc1" class="pw-post-body-paragraph lt lu it lv b lw mt ju ly lz mu jx mb mc mv me mf mg mw mi mj mk mx mm mn mo im bi translated">回到我们的<code class="fe mp mq mr ms b">ContentView</code>。声明两个新变量:</p><ul class=""><li id="7a03" class="na nb it lv b lw mt lz mu mc nc mg nd mk ne mo nf ng nh ni bi translated"><code class="fe mp mq mr ms b">isDetectingLongPress</code>:手势状态变量。用于检测长按手势和控制图像预览。</li><li id="e32d" class="na nb it lv b lw nj lz nk mc nl mg nm mk nn mo nf ng nh ni bi translated"><code class="fe mp mq mr ms b">img</code>:状态变量，用于将要预览的图像传递给我们上面创建的<code class="fe mp mq mr ms b">ImagePreview</code>。</li></ul><p id="9429" class="pw-post-body-paragraph lt lu it lv b lw mt ju ly lz mu jx mb mc mv me mf mg mw mi mj mk mx mm mn mo im bi translated">将上面的网格代码嵌入到一个<code class="fe mp mq mr ms b">ZStack</code>中。在网格下，将我们在上面创建的<code class="fe mp mq mr ms b">ImagePreview</code>添加到检查长按是否发生的<code class="fe mp mq mr ms b">if</code>语句中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="d19b" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">长按手势</h1><p id="fdcb" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">向网格内的<code class="fe mp mq mr ms b">Image</code>视图添加一个手势修改器，并传递给它一个最小持续时间为60的<code class="fe mp mq mr ms b">LongPressGesture()</code>。如果用户没有结束长按手势，持续时间决定了<code class="fe mp mq mr ms b">ImagePreview</code>将持续多长时间。在<code class="fe mp mq mr ms b">updating()</code>修改器中，为事务添加一个spring动画。在<code class="fe mp mq mr ms b">onChanged()</code>修改器中，将传递给<code class="fe mp mq mr ms b">ImagePreview</code>的图像字符串分配给被按下的图像:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="67b8" class="pw-post-body-paragraph lt lu it lv b lw mt ju ly lz mu jx mb mc mv me mf mg mw mi mj mk mx mm mn mo im bi translated">最后，将<code class="fe mp mq mr ms b">.blur()</code>修改器添加到<code class="fe mp mq mr ms b">VStack</code>中。当检测到长按时，在0和5之间改变其半径值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/f6db8fefd7b621b1283b4ca1c2777d48.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/1*vkHAE9mToG_1r6KPEO16Fw.gif"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">在SwiftUI中预览图像。作者的动画。</p></figure><p id="bda9" class="pw-post-body-paragraph lt lu it lv b lw mt ju ly lz mu jx mb mc mv me mf mg mw mi mj mk mx mm mn mo im bi translated">全部完成！感谢阅读。</p></div></div>    
</body>
</html>