<html>
<head>
<title>Exploring Vercel Analytics Using Next.js 10 and GTMetrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Next.js 10和GTMetrix探索Vercel分析</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-vercel-analytics-using-next-js-10-and-gtmetrix-f70a8e1bb7f7?source=collection_archive---------9-----------------------#2020-11-06">https://betterprogramming.pub/exploring-vercel-analytics-using-next-js-10-and-gtmetrix-f70a8e1bb7f7?source=collection_archive---------9-----------------------#2020-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="62a3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用GTMetrix向您的新Vercel Analytics设置添加一些数据点，并浏览结果概述</h2></div><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/07c474fa8b658253d3878cbff533deec.png" data-original-src="https://miro.medium.com/v2/0*kXUXUbkN1hKPXEpk"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated"><em class="ku">图片来源:</em> <a class="ae kv" href="https://unsplash.com/@nci" rel="noopener ugc nofollow" target="_blank"> <em class="ku">国家癌症研究所</em> </a></p></figure><p id="de3f" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">Vercel在他们最近的Next.js会议上宣布了他们新的<a class="ae kv" href="https://nextjs.org/analytics" rel="noopener ugc nofollow" target="_blank">分析功能</a>，好消息是——现在可以现场试用了！</p><p id="402a" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">在我最近的<a class="ae kv" href="https://blog.dennisokeeffe.com/blog/2020-11-05-deploying-with-vercel-cli/" rel="noopener ugc nofollow" target="_blank">文章</a>中，我向Vercel部署了一个简单的Next.js 10应用程序。现在是时候测试一些新特性了！</p><p id="fb12" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">在这篇文章中，我们将介绍如何在Vercel托管的Next.js 10项目上启用Vercel Analytics，然后使用<a class="ae kv" href="https://gtmetrix.com/" rel="noopener ugc nofollow" target="_blank"> GTMetrix </a>来帮助发送来自全球各地的一些请求(针对各种速度使用节流)，我们的分析可以收集这些请求(在任何其他潜在的站点访问之上)。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="ca92" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">Vercel Analytics的“什么”</h1><p id="074e" class="pw-post-body-paragraph kw kx it ky b kz mr ju lb lc ms jx le lf mt lh li lj mu ll lm ln mv lp lq lr im bi translated">了解提供什么的一个好方法是通读Vercel的<a class="ae kv" href="https://vercel.com/docs/analytics/overview#hosted-on-vercel" rel="noopener ugc nofollow" target="_blank">分析概述</a>。</p><p id="1b21" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">它涵盖了定价、每层能得到什么、支持哪些框架(Next.js 10+，Gatsby 2+)等内容。它还概述了你得到的每一个指标，以及为什么这些指标在现代web开发中如此重要。</p><p id="c591" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">虽然我不会涵盖上述概述中的内容，但我将探索一些被摄取和计算的数据点。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="3142" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">启用Vercel分析</h1><p id="1cb1" class="pw-post-body-paragraph kw kx it ky b kz mr ju lb lc ms jx le lf mt lh li lj mu ll lm ln mv lp lq lr im bi translated">这假设您当前在Vercel上有一个Next.js 10项目。如果你没有，但想要一个，跟随我最近的帖子上传一个基本的网站。</p><p id="98fd" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">一旦完成，前往您的<a class="ae kv" href="https://vercel.com/dashboard" rel="noopener ugc nofollow" target="_blank"> Vercel仪表板</a>并选择您想要启用分析的项目。我直接从我以前的博客文章中选择了这个项目。</p><p id="9844" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">一旦进入项目页面，从顶行选择“分析”，你会看到一个“启用分析”按钮。如果您在免费层，请不要担心——概述告诉我们，在爱好层，您有资格保留一天，每天最多100个数据点，100%的采样率。</p><p id="2c72" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated"><em class="mw">注意:在爱好计划中，只能对单个Vercel项目启用分析。教程结束后，您可以随意禁用它。</em></p><p id="95a2" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">在“分析”选项卡上，您将看到以下模式:</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/507fd8e6bd94b8348432247440896517.png" data-original-src="https://miro.medium.com/v2/0*GeEoGSBBjFVDKOlP"/></div></figure><p id="ca86" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">选择“Enable”，Vercel将提示您使用启用了分析的构建进行重新部署。完成后，Vercel会友好地告诉您它正在等待数据:</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/23b25bf1c4133372ebe1180cf79aefea.png" data-original-src="https://miro.medium.com/v2/0*2dOcUhwaHC-wWiKW"/></div></figure></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="c0af" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">玩弄GTMetrix</h1><p id="4ed6" class="pw-post-body-paragraph kw kx it ky b kz mr ju lb lc ms jx le lf mt lh li lj mu ll lm ln mv lp lq lr im bi translated"><a class="ae kv" href="https://gtmetrix.com" rel="noopener ugc nofollow" target="_blank"> GTMetrix </a>这样描述自己:</p><blockquote class="mx my mz"><p id="e02a" class="kw kx mw ky b kz la ju lb lc ld jx le na lg lh li nb lk ll lm nc lo lp lq lr im bi translated">“GTmetrix是一款免费工具，可分析您页面的速度性能”</p></blockquote><p id="f80d" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">GTMetrix非常酷的一点是，您可以使用该网站从不同的位置、在不同的浏览器上、以不同的速度模拟(想想高速宽带、2g等)发出请求。).</p><p id="a4ad" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">这对于对照你自己的网站来测试你自己是很棒的，但是这也是开始为Vercel创建一些数据点以向我们报告的好方法！</p><p id="ea0f" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated"><em class="mw">注意:从GTMetrix和Vercel Analytics返回的指标测量不同的东西。查看更多有关Vercel概述资源的链接，了解Vercel测量的内容及其重要性。</em></p><p id="8a45" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">我在GTMetrix上创建了一个帐户。在主页顶部，你可以简单地复制并粘贴你的Vercel应用程序网站的URL，然后开始修改设置。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/08eb81a42597a6a3794df558f88802f8.png" data-original-src="https://miro.medium.com/v2/0*CquSOISuoPtUaOc2"/></div></figure><p id="da69" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">我修改了设置，用不同的位置和设置对应用程序进行了多次手动调用——你可以在下面看到一些调整后的结果:</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/5c52cafe35a0ee7e8327f204679e9f81.png" data-original-src="https://miro.medium.com/v2/0*BFaHw0DUEij_7OI2"/></div></figure><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/463e36150513e823237779701c012961.png" data-original-src="https://miro.medium.com/v2/0*XsIcjBum7xUqwxsj"/></div></figure><p id="fdc1" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">在进行了几次这样的拜访后，我决定今晚到此为止，玩等待游戏。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="8871" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">查看分析</h1><p id="1bc4" class="pw-post-body-paragraph kw kx it ky b kz mr ju lb lc ms jx le lf mt lh li lj mu ll lm ln mv lp lq lr im bi translated">早上回到我的Vercel仪表板，我们有一些数据点可以看到:</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/b6a8d97cea50da9c385437afd80200ac.png" data-original-src="https://miro.medium.com/v2/0*-ZGsmX3TKb8HyI8S"/></div></figure><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/45b35adedbb88a3be4f08ae44378503a.png" data-original-src="https://miro.medium.com/v2/0*VnH47Bs4MyY1JsU6"/></div></figure><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/af024363fb1776cc15e157fe2a7a561f.png" data-original-src="https://miro.medium.com/v2/0*f0YGoRf5q9mAv8A9"/></div></figure><p id="6b63" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">太神奇了！我们起飞了！</p><p id="a953" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">虽然我会让官方概述解释每个指标指的是什么，但我会通过引用一篇来自<a class="ae kv" href="https://www.datadoghq.com/blog/set-and-monitor-slas/" rel="noopener ugc nofollow" target="_blank"> DataDog博客帖子</a>(转而引用<a class="ae kv" href="https://landing.google.com/sre/books/" rel="noopener ugc nofollow" target="_blank">站点可靠性工程</a>)的精彩摘录来解释我上面分享的截图:</p><blockquote class="mx my mz"><p id="c8b2" class="kw kx mw ky b kz la ju lb lc ld jx le na lg lh li nb lk ll lm nc lo lp lq lr im bi translated"><em class="it">“使用百分位数作为指标，可以让您考虑分布的形状及其不同的属性:高阶百分位数，如第99或99.9个百分位数，向您显示可能的最坏情况值，而使用第50个百分位数(也称为中位数)则强调典型情况”</em></p></blockquote><p id="15ab" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">我将从DataDog帖子中复制图像地址，因此希望该地址能够经受住时间的考验，让您清楚地了解这意味着什么:</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/bdd29be68206155722b6e73dedb86682.png" data-original-src="https://miro.medium.com/v2/0*7m6IubsWiYPMLqoY"/></div></figure><p id="b251" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">在上图中，你可以看到p99处理的是最差的异常值，而p50则更好地展示了你的典型用户。</p><p id="ea61" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">这同样适用于您在我的仪表盘上看到的分析。p75指标将显示该用户可能的最坏情况，p90和p95也是如此。</p><p id="3dbd" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">过滤掉这些百分位数的能力，即使是在爱好层，对于从真实世界的用户那里获得度量和洞察力也是非常有价值的！这将使你能够根据你的人口统计数据，做出你应该或不应该关注的最佳决定。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><p id="00d6" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">本文介绍了如何使用Next.js 10项目来设置Vercel Analytics，然后通过页面速度服务来模拟一些真实世界的指标，最后从较高的层面上了解了返回的数据。</p><p id="4fb8" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">Vercel(前Zeit)多年来一直在开发badass工具和服务，他们的平台是一流的。</p><p id="9eab" class="pw-post-body-paragraph kw kx it ky b kz la ju lb lc ld jx le lf lg lh li lj lk ll lm ln lo lp lq lr im bi translated">在我深入研究Vercel和Next.js 10在后续文章中提供的一些新选项时，请务必回来查看。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="4073" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">资源和进一步阅读</h1><ul class=""><li id="b294" class="nd ne it ky b kz mr lc ms lf nf lj ng ln nh lr ni nj nk nl bi translated"><a class="ae kv" href="https://nextjs.org/analytics" rel="noopener ugc nofollow" target="_blank"> Vercel Analytics </a></li><li id="bd27" class="nd ne it ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><a class="ae kv" href="https://vercel.com/docs/analytics/overview#hosted-on-vercel" rel="noopener ugc nofollow" target="_blank">Vercel上托管的分析概述</a></li><li id="1398" class="nd ne it ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><a class="ae kv" href="https://www.datadoghq.com/blog/set-and-monitor-slas/" rel="noopener ugc nofollow" target="_blank"> DataDog Post包括百分位数的定义</a></li><li id="c520" class="nd ne it ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><a class="ae kv" href="https://blog.dennisokeeffe.com/blog/2020-11-05-deploying-with-vercel-cli/" rel="noopener ugc nofollow" target="_blank">使用Vercel CLI部署Next.js 10和Vercel GitHub集成</a> <a class="ae kv" href="https://gtmetrix.com" rel="noopener ugc nofollow" target="_blank"> GTMetrix </a></li><li id="8469" class="nd ne it ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><a class="ae kv" href="https://landing.google.com/sre/books/" rel="noopener ugc nofollow" target="_blank">现场可靠性工程书</a></li></ul></div></div>    
</body>
</html>