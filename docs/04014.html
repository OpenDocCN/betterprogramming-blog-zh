<html>
<head>
<title>Do You Know That dict.keys() Is a Dynamic View Object?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你知道dict.keys()是一个动态视图对象吗？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/do-you-know-that-dict-keys-is-a-dynamic-view-object-52fef41b4256?source=collection_archive---------14-----------------------#2020-03-18">https://betterprogramming.pub/do-you-know-that-dict-keys-is-a-dynamic-view-object-52fef41b4256?source=collection_archive---------14-----------------------#2020-03-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="633d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">dict.values()和dict.items()也是如此。了解它们是什么</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/33f56ae9daea99c01b11f2d9a6afa66e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xKwa-hrSUAo_AIePxy6-TQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@priscilladupreez?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">普里西拉·杜·普里兹</a>在<a class="ae ky" href="https://unsplash.com/s/photos/learn?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="48e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的Python项目中，几乎到处都使用字典，尤其是内置的<code class="fe lv lw lx ly b">dict</code>数据类型。</p><p id="a175" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一种基本的数据结构，它通过实现一个允许高效插入、删除和查找的哈希表，将其元素存储为键值对。一些常见的用法如下所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">字典的基本用法</p></figure></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="2055" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">keys()、values()和items()方法</h1><p id="efd9" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">迭代是我们对一个<code class="fe lv lw lx ly b">dict</code>和其他可迭代对象做的标准工作。从<code class="fe lv lw lx ly b">dict</code>生成可迭代的三种最常见的方法是使用内置函数<code class="fe lv lw lx ly b">keys()</code>、<code class="fe lv lw lx ly b">values()</code>和<code class="fe lv lw lx ly b">items()</code>。</p><ul class=""><li id="53ea" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated"><code class="fe lv lw lx ly b">keys()</code>方法返回一个类似集合的<code class="fe lv lw lx ly b">dict_keys</code>类型的视图对象，它由调用<code class="fe lv lw lx ly b">dict</code>的所有键组成，这些键应该是惟一的并且是可散列的。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Dictionary keys()方法</p></figure><ul class=""><li id="76c4" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated"><code class="fe lv lw lx ly b">values()</code>方法返回一个<code class="fe lv lw lx ly b">dict_values</code>类型的视图对象，它由调用<code class="fe lv lw lx ly b">dict</code>的所有值组成。该视图对象可以有重复的值，因为<code class="fe lv lw lx ly b">dict</code>的值不必是唯一的。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">字典值()方法</p></figure><ul class=""><li id="58d7" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated"><code class="fe lv lw lx ly b">items()</code>方法返回一个<code class="fe lv lw lx ly b">dict_items</code>类型的视图对象，它由<code class="fe lv lw lx ly b">calling</code>字典的所有键值对组成。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Dictionary items()方法</p></figure><p id="85a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有这些方法都可以用来迭代一个<code class="fe lv lw lx ly b">dict</code>。让我们在下面的例子中看看它们各自在迭代中的用法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用<code class="fe lv lw lx ly b">keys()</code>、值()和项目()进行迭代</p></figure></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="1a1b" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">视图对象</h1><p id="aa71" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">具有一些数据库知识的人可能对视图的概念很熟悉，维基百科对视图的定义如下。</p><blockquote class="no np nq"><p id="94bc" class="kz la nr lb b lc ld ju le lf lg jx lh ns lj lk ll nt ln lo lp nu lr ls lt lu im bi translated">“在数据库中，<strong class="lb iu">视图</strong>是对数据进行<em class="it">存储</em>查询的结果集，数据库用户可以对其进行查询，就像在持久数据库集合对象中一样。<br/> … <br/>作为一个结果集，它是一个虚拟表，当请求访问那个视图时，从数据库中的数据动态计算或整理而来。应用于相关<em class="it">基础表</em>中数据的更改将反映在视图后续调用中显示的数据中。</p></blockquote><p id="8cc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">keys()</code>、<code class="fe lv lw lx ly b">values()</code>和<code class="fe lv lw lx ly b">items()</code>方法获得的字典视图对象类似于数据库中的视图。</p><p id="b2ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的例子中，你可以看到我们使用<code class="fe lv lw lx ly b">keys()</code>方法创建了一个名为<code class="fe lv lw lx ly b">letters_keys</code>的视图对象。</p><p id="b95f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在通过插入另一个键-值对来更新dict之后，我们可以看到视图<code class="fe lv lw lx ly b">letter_keys</code>同时得到更新。这个视图是相同的对象，并且始终具有相同的内存地址。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">字典视图对象</p></figure><p id="6ab6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了在迭代中使用这些视图对象以及它们的动态更新特性之外，如上所示，还有三点需要注意。</p><ol class=""><li id="7e33" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nv nl nm nn bi translated">这些视图对象不能被索引。虽然它们看起来像列表或集合，但它们不支持索引。所以，当你这样做的时候，如果你看到相关的错误，不要感到惊讶。</li><li id="3ae0" class="nf ng it lb b lc nw lf nx li ny lm nz lq oa lu nv nl nm nn bi translated">成员测试可用于所有这三种视图对象类型，即<code class="fe lv lw lx ly b">dict_keys</code>、<code class="fe lv lw lx ly b">dict_values</code>和<code class="fe lv lw lx ly b">dict_items</code>。因此，我们可以方便地检查<code class="fe lv lw lx ly b">dict</code>是否有特定的键、值或键值对。</li><li id="98c1" class="nf ng it lb b lc nw lf nx li ny lm nz lq oa lu nv nl nm nn bi translated"><code class="fe lv lw lx ly b">dict_keys</code>类型支持一些类似集合的操作。这是因为<code class="fe lv lw lx ly b">dict</code>中的键是唯一且可散列的，这类似于集合中的项目是唯一且可散列的。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">字典视图对象的附加特征</p></figure></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="a69c" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">外卖食品</h1><p id="a351" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">在本文中，我们了解到从<code class="fe lv lw lx ly b">dict</code>的<code class="fe lv lw lx ly b">keys()</code>、<code class="fe lv lw lx ly b">values()</code>和<code class="fe lv lw lx ly b">items()</code>方法返回的值是字典视图对象。以下是一些关键要点。</p><ul class=""><li id="a38d" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated">它们是可迭代的，因此可用于迭代。</li><li id="808b" class="nf ng it lb b lc nw lf nx li ny lm nz lq oa lu nk nl nm nn bi translated">它们是动态的，会随着字典的更新而更新。</li><li id="9efe" class="nf ng it lb b lc nw lf nx li ny lm nz lq oa lu nk nl nm nn bi translated">我们不能使用索引来检索视图对象的特定项目。</li><li id="85af" class="nf ng it lb b lc nw lf nx li ny lm nz lq oa lu nk nl nm nn bi translated">视图对象支持成员测试。</li></ul><p id="3c91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>