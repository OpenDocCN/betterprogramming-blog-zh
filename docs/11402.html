<html>
<head>
<title>Tips for Using IntelliJ Efficiently — Debugging Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">高效使用IntelliJ的技巧——像专家一样调试</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/intellij-idea-debugging-like-a-pro-d1169545a0a7?source=collection_archive---------6-----------------------#2022-03-16">https://betterprogramming.pub/intellij-idea-debugging-like-a-pro-d1169545a0a7?source=collection_archive---------6-----------------------#2022-03-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f624" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我每天学习和使用的技巧和诀窍</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/73e6582673dacda00e6c3df17617bcb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4RaR_rAqRBplTlmB"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@douglasamarelo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">道格拉斯·洛佩斯</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="5c35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你会惊讶地发现，仍然有很多人在代码中使用print语句进行调试，这些语句可能可以完成工作，但是当你需要调试更复杂的东西或者如果你的目标是更高效的时候，这些语句就不够用了。</p><p id="a89c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通常，这与经验或知识水平无关，而是与投入精力和时间探索所选IDE的特性有关。所以，我将分享一些你可能错过的很酷的技巧，它们可能最终会为你节省很多时间，而时间就是金钱(无论是你的还是你公司的)。</p><p id="5e21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">行断点..旋转着</p><p id="57db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我不会告诉你，你可以通过点击那一行左边的栏来添加一个行断点，这让你大吃一惊。每个在任何IDE中调试过东西的人都知道这一点</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/ee75ea8842c29d74356c5268dade45ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*c1SKRYvzBQki1G6n4V7J-A.png"/></div></figure><p id="2e14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我会专注于更有趣的事情</p><h2 id="30df" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">有条件中断</h2><p id="7786" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">右键单击一个已经放置好的断点会打开一个带有几个选项的弹出窗口。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/ca290e3d5a58d7260031d055dc438f7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*pV0Jt1JQFMlEXo7GC67yFg.png"/></div></figure><p id="7376" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我最常用的一个部分是<code class="fe ms mt mu mv b"><strong class="ky ir">Condition</strong></code>部分，在这里你可以使用变量i <em class="mw">在第</em>行的范围内放置一个计算为布尔的表达式，只有当条件为<em class="mw">真</em>时调试器才会中断。</p><h2 id="5a38" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">仅挂起单线程</h2><p id="e14c" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">默认情况下，在弹出窗口中您会看到选择了<code class="fe ms mt mu mv b"><strong class="ky ir">All</strong></code>单选按钮。然而，如果您选择<code class="fe ms mt mu mv b"><strong class="ky ir">Thread</strong></code>方法，那么您只能暂停执行断点所在代码行的线程。</p><p id="850c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您有线程时，这通常是有用的，如果线程被挂起，可能会抛出异常并死亡，就像从Kafka消费或超时查询数据库的线程一样。只有一个线程停止可能有助于您在检查可能有问题的代码时保持应用程序正常运行。</p><h2 id="8bc1" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">打印调试语句…用类固醇</h2><p id="fff9" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">还记得我说过印刷报表不好吗？嗯，我是说你放进代码里的那些。它们并不理想，因为每次你需要编辑或添加照片时，你都需要重启应用程序，更糟糕的是，你可能会不小心提交这些照片，要么暴露敏感信息，要么在日志中引发大量垃圾邮件。</p><p id="41b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，另一种选择是…..一连串急速的击鼓..使用IntelliJ提供的选项打印。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/eee8841dedac56f2448065952c9c0910.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*4Yt6_vH_dUnRNYzW7P7WTg.png"/></div></figure><p id="0973" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在默认弹出菜单中，默认选择<strong class="ky ir">暂停</strong>复选框。如果您取消选择它，窗口将扩大显示更多的选项。其中之一是<strong class="ky ir"> Evaluate and log </strong>，这意味着每次调试器正常挂起(不管是正常断点，还是有条件的，挂起一个或所有线程)时，它都会打印文本框中语句的结果。它可以是字符串，也可以是使用范围内变量的任何内容。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/11aaae718ae3176b5d08e56183529208.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DcEkHNudjO5YhijxkOsjIA.png"/></div></div></figure><h1 id="3cbb" class="mz lu iq bd lv na nb nc ly nd ne nf mb jw ng jx me jz nh ka mh kc ni kd mk nj bi translated">异常断点</h1><p id="5e51" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">但是，有时您无法精确定位导致问题的确切线路。例如，在多线程应用程序中，异常正在被吞噬，并在其他地方作为副作用出现，或者由于缺乏适当的日志记录，您不确定异常是从哪里抛出的，或者您只需要更一般地处理问题。在这些情况下，您可以添加断点异常。</p><p id="fed8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你点击Ctrl + Shift + F8 | Cmd + Shift +F8，你会看到这个窗口列出了所有当前添加的断点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/d19106be153a8813f5954941d4462ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V9FBxQYfR7UQC3ZBcnM1vw.png"/></div></div></figure><p id="2d83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，您可以为当前项目的语言或特定的异常类添加一个<code class="fe ms mt mu mv b"><strong class="ky ir">Any Exception</strong></code>断点。</p><p id="c5b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请记住，有时像Spring这样的框架在启动时可能会有内部异常，所以用这种异常启动您的应用程序并在您不感兴趣的地方挂起会有点烦人。</p><p id="88fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，正如您在右侧面板中看到的，这些断点也遵循相同的规则，并提供与行断点相同的选项。</p><h1 id="ac4c" class="mz lu iq bd lv na nb nc ly nd ne nf mb jw ng jx me jz nh ka mh kc ni kd mk nj bi translated">调试器窗格</h1><p id="4269" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">一旦执行被暂停，我想指出<code class="fe ms mt mu mv b"><strong class="ky ir">Debugger</strong></code>窗格中的一些东西。</p><h2 id="db33" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">变量</h2><p id="0700" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">这是人们最熟悉的选项卡——除了悬停在范围内的变量上，您还可以在<code class="fe ms mt mu mv b">variables</code>窗格中查看它们当时的值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/939227b23dbff498ca77722487bbb012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uzUI_tsS8M4n6GnsqQh2TQ.png"/></div></div></figure><h2 id="a7fc" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">框架</h2><p id="e403" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">稍微不太熟悉的选项卡是<code class="fe ms mt mu mv b">frames</code>选项卡。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/29404006af7114a69e0bb659fe1d5c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RKLI0_Hwg13k4T0LS5a3JQ.png"/></div></div></figure><p id="5451" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有趣的一点是，你不仅可以看到stacktrace(应用程序到这行代码的路径),而且你实际上可以<strong class="ky ir">回到过去。</strong>你可以点击单个的帧，并在代码运行时查看该范围内变量的值。这在跟踪意外值时非常有用。</p><h2 id="da43" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">线</h2><p id="83c4" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">这里的最后一个标签是<code class="fe ms mt mu mv b">Threads</code>标签。它提供了一种方法来检查所有其他线程在那个时刻的位置(如果它们也被挂起的话)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/eb8b2725a068e46f0341e367d7a960eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*myo3_ggH1UANRlZXQSOjew.png"/></div></div></figure><h1 id="cd58" class="mz lu iq bd lv na nb nc ly nd ne nf mb jw ng jx me jz nh ka mh kc ni kd mk nj bi translated">压型</h1><p id="cf28" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">不幸的是，有时一个断点是不够的，您需要使用一些更严肃的工具。这些大多是用于检测内存泄漏和高CPU使用率的工具。IntelliJ中的分析器提供了许多以前我们需要外部工具才能实现的功能。</p><p id="a2a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以通过“视图”菜单|工具窗口|Profiler打开<code class="fe ms mt mu mv b">Profiler</code>窗格，或者它可能已经出现在左|底|右角的某个位置。如果有一个Java进程正在运行，它就会出现在那里。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/3fb88319e69824d7fb392b722897b5c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2MZMPS-QCkQCyRTAIrfD6w.png"/></div></div></figure><p id="b00e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有趣的部分隐藏在上下文菜单中。</p><h2 id="bbc0" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">CPU和内存实时图表</h2><p id="08db" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">这将向您显示应用程序运行时内存和CPU使用情况的时间线图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/dbea570bc817ed84d7807e61f092b068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WLdycox4javkTPK_XBfJ4w.png"/></div></div></figure><p id="b57a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想衡量应用程序在资源使用方面的情况，或者检测其中任何一个方面的任何异常峰值或下降，这将非常有用。</p><h2 id="ee5f" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">捕获内存快照</h2><p id="af43" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">记忆快照是对实时图表的进一步补充或补充。您可以看到实际的对象和原语填满了内存，这可能有助于您识别泄漏来自哪里。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/84b3f3a3f34530bb0575f62e40d8b3a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eorjkVg9yz2ZRHwvlC6hIA.png"/></div></div></figure><p id="7a51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">老实说，另外两个选项我用得很少，但我会很快提到</p><h2 id="17cb" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">附加探查器</h2><p id="143b" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">附加一个分析器或运行带有分析器的应用程序会给你很多信息，比如分析器运行时执行的所有方法的列表、发生的所有事件(如GC、内存分配等)等等。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/335d41a4ed7eb98e700d1d4308369a79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J540hmjJ8H2ErL0JU5OTXg.png"/></div></div></figure><h2 id="82e9" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">获取线程转储</h2><p id="b4c7" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">这将打印应用程序中所有线程的stacktrace。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/62e8883fbf9d4c730349bf14a7336269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EQZ6cxHGCyxsWvvvzGnZug.png"/></div></div></figure><p id="93c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望你能在这里找到一些你每天都会用到的新东西。IntelliJ为你做了很多，所以不要害怕点击。</p><p id="39d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想了解更多关于如何节省时间和避免错误的知识，可以看看我之前的文章——《高效重构的10个IntelliJ捷径》。</p></div></div>    
</body>
</html>