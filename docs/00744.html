<html>
<head>
<title>Creating a Fake Nintendo Switch Controller to Level Up My Character in World of Final Fantasy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创造一个假的任天堂Switch控制器来提升我在最终幻想世界中的角色</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-a-fake-nintendo-switch-controller-to-level-up-my-character-in-world-of-final-fantasy-b50adc269a1e?source=collection_archive---------2-----------------------#2019-07-09">https://betterprogramming.pub/creating-a-fake-nintendo-switch-controller-to-level-up-my-character-in-world-of-final-fantasy-b50adc269a1e?source=collection_archive---------2-----------------------#2019-07-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="234a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用一个Arduino板插入到开关USB-C端口来研磨和提升我的角色从60级到90级</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f7bfe0c9c766a177d8afe6a9b6afb4cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*663O2oWbtFsyh-3eKsQ4xw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">最终幻想千里马的世界——任天堂Switch</p></figure><p id="530f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在过去的几周里，我一直在玩《最终幻想世界》,玩得非常开心！三天前我赢了比赛。现在，我正试图得到一个好的结局，这似乎需要一点点的打磨。</p><p id="0c16" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我找到了一个指南，它建议重复一场特定的战斗，以有效地从一场简单而短暂的战斗中获得经验。但是看起来我可能要花几天时间才能完成！我想我需要磨出20-30级来最大化我在几场难以置信的困难战斗中的属性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lr"><img src="../Images/b8f390a8caab8f8ac77b76c3457afa87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8wz2k_lrzSHU5HjEfVPbBA.jpeg"/></div></div></figure><p id="2102" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它包括找到忘记名字的女孩并完成调查花园的任务。我手动完成大概需要三到四分钟，还有一大堆烦人的按键序列，比如选择正确的法术完成战斗，跳过动画场景，保存，等待等等。</p><p id="faeb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">很快就变得很烦人。比我想象的要烦人得多，而且我在其他游戏中也不陌生。加号按钮和场景跳转并不是Switch Pro控制器上常见的按键序列。</p><p id="37bd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以，我开始四处调查。我发现一些项目涉及拆除一个工作的专业控制器，但让我们尽量避免焊接一点。最后，我找到了一个用C写的例子，最初是用来创建Splatoon 2 banners的。是的，那些令人难以置信的花哨横幅是用软件创作的，而不是煞费苦心的艺术品。</p><p id="72a2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是一个Arduino Teensy的例子。我不得不做更多的研究，但幸运的是，设置工具链来编译一个普通的Arduino Uno不成问题——这是我已经有的东西。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lt"><img src="../Images/92dbf62fd80951df2669fa91107b4385.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0dYUFvEe-ObLGtCW.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Arduino Uno Genuino (R3)</p></figure><div class="lu lv gp gr lw lx"><a href="https://github.com/shinyquagsire23/Switch-Fightstick" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">shinyquagsire 23/Switch-fight stick</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">任天堂Switch的概念验证LUFA项目。假装是一个只打印Splatoon 2的HORI Pokken垫…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">github.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml kp lx"/></div></div></a></div><p id="8b82" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我又找了一会儿，找到了另一把叉子来对比:</p><div class="lu lv gp gr lw lx"><a href="https://medium.com/@bertrandom/automating-zelda-3b37127e24c8" rel="noopener follow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">自动化塞尔达</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">《塞尔达传说:荒野之息》是一款我真的很不擅长的惊艳游戏。我读到过平均数量的…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">medium.com</p></div></div><div class="mg l"><div class="mm l mi mj mk mg ml kp lx"/></div></div></a></div><div class="lu lv gp gr lw lx"><a href="https://github.com/bertrandom/snowball-thrower" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">伯特伦多姆/扔雪球者</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">《塞尔达传说:野性的呼吸》中保证打击的自动化雪球投掷…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">github.com</p></div></div><div class="mg l"><div class="mn l mi mj mk mg ml kp lx"/></div></div></a></div><p id="4ce1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个版本已经成功修改为在《塞尔达:野性的呼吸》中扔雪球。看起来很有希望！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="a631" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我也喜欢上面作者对原剧本的一些改进。首先，Teensy的使用很好，所以我订购了一个。我认为这将是很好的创造一个可重用的版本，看起来更像一个拇指驱动器，而不是一堆乱七八糟的电线。</p><p id="065e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第二，作者稍微清理了一下代码，使得创建一个无限循环中的程序性按键序列变得更加容易(为了编写一个像这样的小东西)。以前的版本针对做其他事情进行了优化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/30f668b63fb5b4ad5c4f319a96fed430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Vlj5KXIKoVLJjgpb.jpg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Teensy是Uno的缩小版，所以我可以创建一个看起来更像u盘的东西。</p></figure><h2 id="1f8d" class="mr ms iq bd mt mu mv dn mw mx my dp mz le na nb nc li nd ne nf lm ng nh ni nj bi translated">把所有的放在一起</h2><p id="ad59" class="pw-post-body-paragraph kv kw iq kx b ky nk jr la lb nl ju ld le nm lg lh li nn lk ll lm no lo lp lq ij bi translated">我要做的第一件事是在我的Uno上运行概念验证。这需要刷新Arduino引导加载程序，并使用DFU程序员来加载编译后的程序(相对于一个草图文件)。</p><div class="lu lv gp gr lw lx"><a href="https://www.arduino.cc/en/Hacking/DFUProgramming8U2" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">Arduino — DFUProgramming8U2</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">Arduino板上的ATmega16U2芯片在计算机的USB端口和主处理器的…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">www.arduino.cc</p></div></div><div class="mg l"><div class="np l mi mj mk mg ml kp lx"/></div></div></a></div><p id="c96a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">此外，在OSX卡塔利娜(Mac)，32位可执行文件正在被否决。这意味着也要更新我的AVR工具链:</p><div class="lu lv gp gr lw lx"><a href="https://github.com/osx-cross/homebrew-avr" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">osx-cross/homebrew-avr</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">自制AVR工具链。在GitHub上创建一个帐户，为osx-cross/homebrew-avr开发做贡献。</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">github.com</p></div></div><div class="mg l"><div class="nq l mi mj mk mg ml kp lx"/></div></div></a></div><p id="6467" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">幸运的是，自从上个月Catalina开发者发布以来，围绕这些项目的社区已经做出了这些调整。</p><h2 id="955f" class="mr ms iq bd mt mu mv dn mw mx my dp mz le na nb nc li nd ne nf lm ng nh ni nj bi translated">添加更多按钮</h2><p id="61b9" class="pw-post-body-paragraph kv kw iq kx b ky nk jr la lb nl ju ld le nm lg lh li nn lk ll lm no lo lp lq ij bi translated">接下来，我发现有几个按钮没有被之前的项目使用。于是，我在<code class="fe nr ns nt nu b">Joystick.c</code>中增加了对<em class="ls">加</em>、<em class="ls">减</em>、<em class="ls"> L </em>、<em class="ls"> R </em>、<em class="ls"> X </em>和<em class="ls"> Y </em>按钮的支持。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/f95dd07e71f9a68e2ebb7d4634a47d98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iBudqBTmwOtRf3MJJ5T2Vg.png"/></div></div></figure><h2 id="095a" class="mr ms iq bd mt mu mv dn mw mx my dp mz le na nb nc li nd ne nf lm ng nh ni nj bi translated">为Atmega32修改(Arduino Uno R3)</h2><p id="0367" class="pw-post-body-paragraph kv kw iq kx b ky nk jr la lb nl ju ld le nm lg lh li nn lk ll lm no lo lp lq ij bi translated">接下来，我为我的Arduino修改了<code class="fe nr ns nt nu b">Makefile </code>，运行<code class="fe nr ns nt nu b">make</code>，交叉手指，闪烁Arduino，并为我的第一次测试插上电源。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/206ac620468600d13668244d0a528629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kkylLWWUD6P9EGUyCrWjQQ.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/3bf2fb33079b28c7547ffd54439390b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SmdxtV2jssMidisPFSE2mw.png"/></div></div></figure><h2 id="78e8" class="mr ms iq bd mt mu mv dn mw mx my dp mz le na nb nc li nd ne nf lm ng nh ni nj bi translated">初次成功！</h2><p id="d486" class="pw-post-body-paragraph kv kw iq kx b ky nk jr la lb nl ju ld le nm lg lh li nn lk ll lm no lo lp lq ij bi translated">控制器被识别为输入设备，角色开始疯狂地移动。此时，我还没有尝试修改前面的脚本操作。</p><h2 id="5ffd" class="mr ms iq bd mt mu mv dn mw mx my dp mz le na nb nc li nd ne nf lm ng nh ni nj bi translated">创建脚本</h2><p id="81b4" class="pw-post-body-paragraph kv kw iq kx b ky nk jr la lb nl ju ld le nm lg lh li nn lk ll lm no lo lp lq ij bi translated">现在，对于花了几个小时调整的部分。</p><p id="26c1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">真的没有任何有用的方法来捕捉输入序列和时间，所以我开始添加按钮按下序列。通过反复试验和极大的耐心，我最终完成了一个脚本的工作版本，几乎无限地循环了整个事件序列。</p><p id="0686" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下系列视频可以帮助解释这一过程。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="e680" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">战斗的时间安排变得复杂了。事实证明，有几种策略并不是100%的时候都有效。</p><p id="004c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最明显的一个就是使用物理攻击。然而，这只导致了大约50%的胜率。</p><p id="5c02" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最快的情况是对所有目标施放雷霆咒，直到他们晕倒。</p><p id="cb4a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，这里有一个小问题:哪个角色最终会被首先选择似乎是随机的，并且他们的能力处于不同的顺序。因此，根据哪个角色先被激活，最终会使用不同的咒语序列。</p><p id="3bc8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以，我最终决定为每个角色选择第一个咒语。对于Lann来说，这是一个非常强的雷咒。但对雷恩来说，这是一个火咒语。最强的敌人实际上很难抵抗，但它仍然能在45秒的战斗后很快击倒所有三个敌人(使用R触发器启用快进)。</p><h2 id="c5ce" class="mr ms iq bd mt mu mv dn mw mx my dp mz le na nb nc li nd ne nf lm ng nh ni nj bi translated">决赛成绩</h2><p id="a5a4" class="pw-post-body-paragraph kv kw iq kx b ky nk jr la lb nl ju ld le nm lg lh li nn lk ll lm no lo lp lq ij bi translated">现在是压轴戏！下面是最终的循环脚本:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">正在运行的最终循环脚本。</p></figure><p id="8108" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">完成一场战斗大约需要三分钟，结果是82，401经验值，一些物品和3057吉尔。</p><p id="9a2c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你想知道为什么每次战斗后你都会看到一个暂停，这是有原因的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/f9c062cba19cd4aeea1d8cea64fffad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vWoFBmzDNdDDSOhUTI_RyQ.png"/></div></div></figure><p id="c223" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在一个特定的场景中，所有的敌人都对雷恩进行了猛烈的攻击，雷恩没能保护她，导致她很快倒下，战斗拖长了一点，以一种近乎失败的状态。我用秒表记录了几场战斗的时间，并调整了时间，给了我们一个安全的窗口，总是能取得胜利，即使只是勉强获胜。这应该随着我等级的提高而提高。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/420fd2feeb36eafd66dd3e26cfc81f8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o5ybLtbRcpLh2FAYNDretA.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/7b01087dc2021efd03ce36a495aa753c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E9_fgWud9j7sfqljUAjs-A.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/f86cde291173443ee73c0dab0fc6cfcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfQMtWVbYmkPLB4_39P02w.png"/></div></div></figure><h2 id="bdd2" class="mr ms iq bd mt mu mv dn mw mx my dp mz le na nb nc li nd ne nf lm ng nh ni nj bi translated">源代码(GitHub)</h2><div class="lu lv gp gr lw lx"><a href="https://github.com/kidGodzilla/snowball-thrower" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">小鬼哥斯拉/扔雪球者</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">在GitHub上创建一个帐户，为kid Godzilla/雪球投掷器的开发做出贡献。</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">github.com</p></div></div><div class="mg l"><div class="nz l mi mj mk mg ml kp lx"/></div></div></a></div><p id="c3da" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">大概就是这样。感谢阅读！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/9c460f0fa6cd8f1f367714eada18be1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C6wdUeDIgHrGeA3_7DgMig.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae ob" href="https://www.meetingroom365.com/" rel="noopener ugc nofollow" target="_blank">Meetingroom365.com</a>|<a class="ae ob" href="https://twitter.com/kidgdzilla" rel="noopener ugc nofollow" target="_blank">@ kidgdzilla</a>(推特)|<a class="ae ob" href="https://indiehackers.com/futhey" rel="noopener ugc nofollow" target="_blank">@ futhey</a>(indie hackers)|<a class="ae ob" href="https://github.com/kidgodzilla" rel="noopener ugc nofollow" target="_blank">@ kidgozilla</a>(GitHub)</p></figure></div></div>    
</body>
</html>