<html>
<head>
<title>A High-Level Overview of Load Balancing Algorithms</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">负载平衡算法的高级概述</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-high-level-overview-of-load-balancing-algorithms-8c7d3368276?source=collection_archive---------8-----------------------#2020-10-26">https://betterprogramming.pub/a-high-level-overview-of-load-balancing-algorithms-8c7d3368276?source=collection_archive---------8-----------------------#2020-10-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4417" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">哪一种适合您的部署需求？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4065e698f9a942288e75b81987104f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5Q1kzxdcs6WZv19y"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">马丁·桑切斯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="870a" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">介绍</h1><p id="718a" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated"><em class="mr">负载平衡</em>是将网络负载平均分配到几台服务器上的过程。它有助于在高峰交通时段通过帮助均匀分布工作来扩展需求。服务器可以位于云中、数据中心或内部。它可以是物理服务器，也可以是虚拟服务器。负载平衡器(LB)的一些主要功能是:</p><ul class=""><li id="4791" class="ms mt iq lx b ly mu mb mv me mw mi mx mm my mq mz na nb nc bi translated">高效路由数据</li><li id="37b1" class="ms mt iq lx b ly nd mb ne me nf mi ng mm nh mq mz na nb nc bi translated">防止服务器过载</li><li id="af02" class="ms mt iq lx b ly nd mb ne me nf mi ng mm nh mq mz na nb nc bi translated">对服务器执行运行状况检查</li><li id="ad76" class="ms mt iq lx b ly nd mb ne me nf mi ng mm nh mq mz na nb nc bi translated">面对大流量时调配新的服务器实例</li></ul></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="5123" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">负载平衡算法的类型</h1><p id="96b3" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">在七层OSI模型中，负载平衡发生在第4层(传输层)到第7层(应用层)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/f67430733f5e423b158d124b0fe5f09f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9uYwKDdWjmPVEPiKzSE0A.png"/></div></div></figure><p id="459f" class="pw-post-body-paragraph lv lw iq lx b ly mu jr ma mb mv ju md me nj mg mh mi nk mk ml mm nl mo mp mq ij bi translated">不同类型的LB算法在基于流量分布的方式(即，是网络层流量还是应用层流量)来分布网络流量方面是有效的。</p><ul class=""><li id="4beb" class="ms mt iq lx b ly mu mb mv me mw mi mx mm my mq mz na nb nc bi translated">网络层流量由LB根据TCP端口、IP地址等进行路由。</li><li id="b208" class="ms mt iq lx b ly nd mb ne me nf mi ng mm nh mq mz na nb nc bi translated">应用层流量基于各种附加属性(如HTTP报头、SSL)进行路由，它甚至向LBs提供内容交换功能。</li></ul></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="1f1c" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">网络层算法</h1><h2 id="624b" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">1.循环算法</h2><p id="a7da" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">流量负载被分配给第一个可用的服务器，然后该服务器被下推到队列中。如果服务器是相同的，并且没有持久连接，这个算法可以证明是有效的。有两种主要类型的循环算法:</p><ul class=""><li id="418c" class="ms mt iq lx b ly mu mb mv me mw mi mx mm my mq mz na nb nc bi translated"><strong class="lx ir">加权循环法:</strong>如果服务器的容量不同，那么可以使用这种算法来分配负载。可以将一些权重或效率参数分配给池中的所有服务器，并基于此以类似的循环方式分配负载。</li><li id="223d" class="ms mt iq lx b ly nd mb ne me nf mi ng mm nh mq mz na nb nc bi translated"><strong class="lx ir">动态循环法:</strong>分配给服务器以标识其容量的权重也可以在运行时计算。动态循环有助于根据运行时权重向服务器发送请求。</li></ul><h2 id="2421" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">2.最小连接算法</h2><p id="f796" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">该算法计算特定时间内每台服务器的活动连接数，并将传入流量定向到连接最少的服务器。这在需要持久连接的场景中非常有用。</p><h2 id="6010" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">3.加权最小连接算法</h2><p id="ab40" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">这类似于上面的最少连接数算法，但是除了到服务器的活动连接数之外，它还考虑了服务器的容量。</p><h2 id="f0ce" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">4.最短响应时间算法</h2><p id="af61" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">这也类似于最少连接算法，但是它也考虑了服务器的响应时间。请求被发送到响应时间最短的服务器。</p><h2 id="ef30" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">5.哈希算法</h2><p id="3b11" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">不同的请求参数用于确定请求将被发送到哪里。基于此的不同类型的算法有:</p><ul class=""><li id="6381" class="ms mt iq lx b ly mu mb mv me mw mi mx mm my mq mz na nb nc bi translated"><strong class="lx ir">源/目的地IP散列:</strong>源和目的地IP地址被散列在一起，以确定将服务于该请求的服务器。在断开连接的情况下，相同的请求可以在重试时被重定向到相同的服务器。</li><li id="8351" class="ms mt iq lx b ly nd mb ne me nf mi ng mm nh mq mz na nb nc bi translated"><strong class="lx ir"> URL散列:</strong>请求URL用于执行散列，这种方法通过避免在许多缓存中存储相同的请求对象来帮助减少服务器缓存的重复。</li></ul><h2 id="dc3f" class="nm le iq bd lf nn no dn lj np nq dp ln me nr ns lp mi nt nu lr mm nv nw lt nx bi translated">6.杂项算法</h2><p id="9297" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">还有一些其他算法，如下所示:</p><ul class=""><li id="940b" class="ms mt iq lx b ly mu mb mv me mw mi mx mm my mq mz na nb nc bi translated"><strong class="lx ir">最小带宽算法:</strong>负载均衡器选择过去14分钟内消耗带宽最少的服务器。</li><li id="891c" class="ms mt iq lx b ly nd mb ne me nf mi ng mm nh mq mz na nb nc bi translated"><strong class="lx ir">最少数据包算法:</strong>与上面类似，负载均衡器选择传输最少数据包的服务器来重定向流量。</li><li id="5514" class="ms mt iq lx b ly nd mb ne me nf mi ng mm nh mq mz na nb nc bi translated"><strong class="lx ir">定制负载算法:</strong>负载平衡器根据服务器上的当前负载来选择服务器，这可以由内存、处理单元使用、响应时间、请求数量等来确定。</li></ul></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="b555" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">应用层算法</h1><p id="7837" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">在这一层，可以根据请求的内容分配流量；因此，伦敦商学院可以做出更加明智的决策。还可以跟踪服务器响应，因为它是从服务器一直传过来的，这有助于更有效地确定服务器负载。</p><p id="6f3b" class="pw-post-body-paragraph lv lw iq lx b ly mu jr ma mb mv ju md me nj mg mh mi nk mk ml mm nl mo mp mq ij bi translated">在这一层使用的最重要的算法之一是<strong class="lx ir">最少挂起请求算法</strong>。该算法将挂起的HTTP(s)请求的流量定向到最可用的服务器。该算法有助于通过监控服务器负载来调整突然出现的请求高峰。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="fd24" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">结论</h1><p id="2ba8" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">这些是一些已知的负载平衡算法，在选择最理想的算法时，需要考虑许多因素，例如，高流量或突然的峰值。算法的良好选择有助于维护任何应用程序的可靠性和性能。因此，在设计大规模分布式系统时，很好地理解这些将会很有帮助。</p></div></div>    
</body>
</html>