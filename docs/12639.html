<html>
<head>
<title>Developers; Use a Version Manager</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开发者；使用版本管理器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/developers-use-a-version-manager-ecb36fde91c7?source=collection_archive---------5-----------------------#2022-06-18">https://betterprogramming.pub/developers-use-a-version-manager-ecb36fde91c7?source=collection_archive---------5-----------------------#2022-06-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4df9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你只在你的笔记本电脑上安装一个全球版本并用于每个项目的想法是荒谬的</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5e7f0a4254afebcb2ddd6a7cf5ea2349.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_JOLOwXOBd5SB-fr2iCo_Q.jpeg"/></div></div></figure><p id="cd31" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我遇到的任何编程语言的一个挑战是成功管理多个版本的能力。你只在你的笔记本电脑上安装一个全球版本，并将其用于每个项目的想法是荒谬的。</p><p id="6ef9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你以前经历过这种情况吗:</p><ul class=""><li id="c0a3" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">决定用一种新的语言开始一个新的项目来“学习”</li><li id="fc6a" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">让所述项目工作</li><li id="b03f" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">与it断开连接2-3个月</li><li id="3a14" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">重新参与这个项目，并意识到事情已经过时了</li><li id="3ce3" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">"升级"</li><li id="9229" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">花半天时间让你的笔记本电脑重新正常工作，这样你就可以构建项目了</li></ul><p id="3c11" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以通过以下方法避免这一切:A)永远不要在系统范围内安装开发工具和/或语言B)找到一个合适的版本管理器，使更新几个命令<em class="ln">和</em>回到“旧”版本一样容易。</p><p id="7e38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="ln">【本文的剩余部分关注Linux &amp; Mac环境，虽然总体概念仍然适用，但战术指导不适用。] </em></p><h1 id="a75b" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">不要在系统范围内安装开发工具和/或语言。</h1><p id="c8db" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">如果你依赖于在你的开发机器上系统范围的工具安装，你已经犯了一个大罪。你可能现在或甚至在不久的将来不会被迫赎罪，但在某个时候，它会咬你一口，你会损失半天时间来把蛋头装回去——我向你保证。</p><p id="230c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这样做的原因是，安装到系统范围位置的这些工具的“打包”发行版与<em class="ln">其他、</em>打包的系统范围的实用程序绑定在一起。一旦进行了系统升级，事情往往会变得很糟糕，所有的本地缓存、工具，甚至可能还有配置都需要修复。</p><p id="3de0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">依赖系统级实用程序带来的另一个挑战是，它们经常需要与系统级路径(即主目录之外的位置)进行交互。这需要两种不良行为中的一种；使用特权执行(sudo)运行这些实用程序，或者在系统范围的路径上更新权限。</p><p id="8593" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">解决这些问题很简单；将您所依赖的语言及其工具安装到您的主目录(或其他用户专用的路径)中。</p><h1 id="d1a1" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">版本管理器</h1><p id="7283" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">“版本管理器”是一个简单的概念；<em class="ln">我想使用语言X、与之相关的库、与之相关的工具，并且我想将所有这些东西都绑定到一个特定的版本上。</em></p><p id="ee9b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通常，“版本管理器”允许将所有这些东西安装到用户拥有的本地目录中(通常在您的主目录中)，该目录通过某种符号链接系统被引用。</p><p id="653e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过版本管理器，我可以安装同一种语言的许多版本，使用一个命令来切换哪个版本是活动的，并自动为每个版本提供所有工具和库的独立副本。</p><p id="1f15" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，因为我们正在讨论开发人员工具，很可能已经很明显存在大量不同的版本管理器。从历史上看，我偏爱‘env’类型的；rbenv、pyenv、goenv等。然而，最近，我变成了一个使用多种语言的单一经理。</p><h1 id="7b46" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">一个工具来统治他们？</h1><p id="3c35" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated"><code class="fe na nb nc nd b">asdf</code>的吸引力很简单，所有语言都有一个版本管理器。我可以使用一个通用的工作流，而不是为每个生态系统使用不同的版本管理器，它们具有相似的功能，但命令或语义不同。</p><p id="da73" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我知道你在想什么，因为我也是一个怀疑论者；“它不可能拥有我需要的所有语言，并且做得很好。”</p><p id="d3fb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">看，“插件”(也就是支持的东西)的列表很广泛:<a class="ae mz" href="https://github.com/asdf-vm/asdf-plugins." rel="noopener ugc nofollow" target="_blank">https://github.com/asdf-vm/asdf-plugins.</a></p><p id="a3f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那张单子上有一大堆东西，我不知道它到底是干什么用的，所以我认为它相当完整！</p><p id="9b87" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">设置asdf非常简单:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="2c00" class="ni md iq nd b gy nj nk l nl nm">brew install asdf</span></pre><p id="6143" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">更新个人资料(添加):</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="33ff" class="ni md iq nd b gy nj nk l nl nm">. $HOME/.asdf/asdf.sh</span></pre><p id="3959" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">看，简单吗？</p><h1 id="9863" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">快速示例，设置节点</h1><p id="d53c" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated"><code class="fe na nb nc nd b">asdf</code>工具有“插件”的概念。插件在工具提供的更广泛的框架内完成了繁重的工作。这意味着所有的命令和与<code class="fe na nb nc nd b">asdf</code>的交互都是一样的，不管语言是什么；插件相应地翻译成它自己的生态系统。</p><p id="26cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要设置节点，我们需要安装相应的插件。首先，安装插件:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="3995" class="ni md iq nd b gy nj nk l nl nm">asdf plugin add nodejs <a class="ae mz" href="https://github.com/asdf-vm/asdf-nodejs.git```" rel="noopener ugc nofollow" target="_blank">https://github.com/asdf-vm/asdf-nodejs.git</a></span></pre><p id="c43b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，安装一个版本(我们将使用最新版本，但是您可以获得您可以使用<code class="fe na nb nc nd b">asdf list all nodejs</code>安装的版本列表):</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="bf9c" class="ni md iq nd b gy nj nk l nl nm">asdf install nodejs latest</span></pre><p id="a861" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们需要设置应该是“默认”的节点版本:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="08e7" class="ni md iq nd b gy nj nk l nl nm">asdf global nodejs latest</span></pre><p id="390e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着每当我们使用Node(或npm)时，我们将获得刚刚安装的最新版本。</p><p id="3a8a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以通过运行以下命令来验证这种行为:</p><pre class="kg kh ki kj gt ne nd nf ng aw nh bi"><span id="216f" class="ni md iq nd b gy nj nk l nl nm">node -version</span></pre><p id="c302" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">能够设置Node的默认版本显然很重要，尤其是对于那些通过<code class="fe na nb nc nd b">npm -g</code>安装并希望日常使用的工具。</p><p id="3758" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是大多数版本管理器提供的另一个功能是设置版本，专门用于一个项目。工作流如下所示(Node中的示例也适用于您使用<code class="fe na nb nc nd b">asdf</code>管理的其他语言):</p><ul class=""><li id="7b9e" class="lo lp iq kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">安装所需的语言版本(<code class="fe na nb nc nd b">asdf install nodejs &lt;version&gt;</code>)</li><li id="3da4" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">导航到需要此版本的项目的根目录</li><li id="1e76" class="lo lp iq kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">运行<code class="fe na nb nc nd b">asdf local nodejs &lt;version&gt;</code></li></ul><p id="d2ba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用<code class="fe na nb nc nd b">asdf local</code>命令，将一个特殊文件写入项目的根目录，通知<code class="fe na nb nc nd b">asdf</code>托管语言动态使用哪个版本。</p><p id="d628" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这意味着如果您正在开发许多节点项目(在本例中)都使用不同的版本，您可以在项目之间无缝切换，并且知道<code class="fe na nb nc nd b">asdf</code>管理的项目将<em class="ln">自动</em>使用正确的版本！</p><h1 id="bfd5" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">结论</h1><p id="0ede" class="pw-post-body-paragraph kr ks iq kt b ku mu jr kw kx mv ju kz la mw lc ld le mx lg lh li my lk ll lm ij bi translated">所以总结一下，使用你开发语言的版本管理器。这不仅可以在操作系统必须执行升级时保护您免受重大问题的影响，还可以让您同时使用多个版本。</p><p id="f87f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用像<code class="fe na nb nc nd b">asdf</code>这样的工具，您可以拥有一个允许您管理多种语言版本的工具，以简化您机器的工具。</p></div></div>    
</body>
</html>