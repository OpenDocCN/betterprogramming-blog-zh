<html>
<head>
<title>Build Your Personal Blog With Next.js and Strapi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Next.js和Strapi建立你的个人博客</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-your-personal-blog-with-next-js-and-strapi-e092bf11d3db?source=collection_archive---------4-----------------------#2021-03-16">https://betterprogramming.pub/build-your-personal-blog-with-next-js-and-strapi-e092bf11d3db?source=collection_archive---------4-----------------------#2021-03-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="727c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">CMS与前端集成指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e089c28a85fd0d5ae08750ca210da216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q61BN98M2VnIksxm"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@goumbik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卢卡斯·布拉塞克</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="fc91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将了解以下内容:</p><ul class=""><li id="8ed3" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">内容管理系统的目的</li><li id="8a49" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何使用<a class="ae ky" href="https://strapi.io/" rel="noopener ugc nofollow" target="_blank"> Strapi </a></li><li id="c14a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结合<a class="ae ky" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>和Strapi构建一个静态网站</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7222" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">介绍</h1><p id="7b47" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">假设您正在使用Next.js框架构建一个博客。要添加博客文章，您需要执行以下操作:</p><ul class=""><li id="0c52" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">导航到项目中的<code class="fe nn no np nq b">/pages/article</code>文件夹。</li><li id="4739" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在那里，您必须创建一个名为<code class="fe nn no np nq b">1.js</code>的文件，这样如果用户前往<code class="fe nn no np nq b">/article/1</code>路线，Next.js就可以呈现您的第一篇博文。</li><li id="681f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">稍后，要添加更多的博客文章，您需要创建<code class="fe nn no np nq b">2.js</code>、<code class="fe nn no np nq b">3.js</code>，等等。</li></ul><p id="14a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这种解决方案是可行的，但是请注意，随着时间的推移，它会变得更加乏味、耗时和重复。要添加更多内容，您需要手动创建一个新文件。有没有办法让这个过程变得更简单？</p><p id="7d71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是CMS(内容管理系统)的用武之地。通过这个软件，你可以毫无困难地编辑你网站的内容。你需要筛选代码来对你的网站进行简单编辑的日子已经一去不复返了。通过CMS，你只需点击几下就可以修改或上传博客文章。</p><p id="a2bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CMS的一个著名例子是Strapi。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/fb87dc2262401d736a3a69c4e1cf9699.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0XS0BFylcnEImiE0na1urA.png"/></div></div></figure><p id="410d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CMS的一个关键优势是它允许作者在没有任何代码或麻烦的情况下写博客。事实证明，这对博客作者来说是一个很有吸引力的选择，因为这让他们的工作变得更容易。</p><p id="7123" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，如果你想让你的博客更容易管理，CMS真的能帮上忙。</p><p id="b56b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然我们已经介绍了基础知识，那就让我们开始吧！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="be28" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">CMS</h1><h2 id="1f6f" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">设置</h2><p id="de93" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">要设置Strapi，请运行以下终端命令:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/29061d8537972d2a7045ef94174f657a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rlfaDJvjmrG1ODj0YYRBnA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">初始化Strapi的命令</p></figure><p id="7db4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，运行以下命令来配置CMS:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/167870fc959ac9a6fa73ac3ba6c29e1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n1HoLODON-5SPTa3JS1giQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">配置CMS的命令</p></figure><p id="92b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是您终端中的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/bafc79663c5fd0e5b3a2b1bc5e81fa38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EZ_oDEUU8WrtEZek879LfQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">终端中的输出</p></figure><p id="dba7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，Strapi请求我们配置我们的项目。为此，导航至<code class="fe nn no np nq b">localhost:1337/admin</code>页面。在那里，创建您的凭证来设置您的CMS。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/f2b365b7370f621cd406f465d9aba6c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*0JRU-yysdJyLwKNwD_o7GA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在此创建您的凭据。</p></figure><p id="fd23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建凭据后，您将看到以下页面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/0ee44dfdcc2ff0a6827951d665536972.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*elRPwKKd51jT_lJ4K2rTAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">仪表板页面</p></figure><p id="ff10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在完成了第一阶段。在下一步中，我们将学习内容类型插件。</p><h2 id="26cb" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">内容类型生成器</h2><p id="f2e1" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">根据<a class="ae ky" href="https://strapi.io/documentation/user-docs/latest/content-types-builder/introduction-to-content-types-builder.html" rel="noopener ugc nofollow" target="_blank"> Strapi文档</a>，它是CMS最重要的插件之一。在这里，您将能够创建集合和单个类型。我们将在本文的后面了解这些。</p><p id="a5ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在侧面板中，单击插件类别下的“内容类型生成器”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/ac44af3db6faf12656c7de0cde2f5579.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vft2G1n1uNGNstynfn8bgA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“内容类型生成器”</p></figure><p id="dbbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将首先构建一个简单的集合类型。为此，请单击“创建新的集合类型”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/1a7a91ae53707bf884e564619725cee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HQ_DawQF5ogAKlsj_rKEvg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“创建新的收藏类型”</p></figure><p id="d9e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在对话框中，将“显示名称”字段设置为“文章”，然后单击“继续”继续:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/e1038766afb61ecab6d44080cd1fe0d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4syK8AiLpHoACwcC19Y4qg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在“显示名称”字段下填写“文章”。</p></figure><p id="7bd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，Strapi会提示您向新创建的集合类型添加字段。创建一个名为“标题”的字段，然后单击“完成”继续:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/cf6d8b56698de24ce5b0aec2769035a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iEZOCGQVUC0kGBl4b0YbEw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建一个新字段。</p></figure><p id="95cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在点击“添加另一个字段”，然后点击“富文本”将此命名为“身体”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/09e510fe906a607c963bddfd5b6718c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*wkAYzkVwLSqNvY1wO_SSwA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">添加富文本字段。</p></figure><p id="980e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们来分解这个过程。这是我们到目前为止所做的:</p><ul class=""><li id="11cf" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">创建了名为“Article”的集合类型</li><li id="1d21" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">告诉Strapi我们的文章将有两个字段。</li><li id="b3b9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第一个字段是“标题”，属于文本类型。</li><li id="aead" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第二个字段是“Body”，属于富文本类型。</li></ul><p id="6c1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着我们可以创建一个文章集合，稍后由Next.js呈现。</p><p id="f48c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们需要做的就是保存我们的更改。点击右上角的“保存”按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/9b2aa42c4c5e1f995904e3bec0485715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j8PPi527lu7uh2knTSa3mw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“保存”</p></figure><p id="4e2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们的过程成功，那么您应该会在面板中的集合类型类别下看到“Articles”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/7dc01bd17f54ca9e6af0c54958f34f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*CH1yDiBnc9-0fpdbakeTAw.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们成功了！</p></figure><p id="b3b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，我们成功了！我们最终实现了一个“文章”集合。</p><p id="5fb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在需要创建一个单一类型。点击侧面板上的“创建新的单一类型”按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/44f1cb354c369843b63f8e9c2e08f45d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*h4-Yrt3c8jblUk3P2XjhHA.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建单一类型。</p></figure><p id="1325" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，将这种类型命名为“关于我”，并为其分配一个名为“Body”的文本字段:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/b6ccddd76be25aee5f5345deecb38bd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4uYeS13nky2p4W3dSALPaQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">给我们的单个类型一个文本字段。</p></figure><p id="76b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，单击“保存”以完成您的更改。“关于我”单一类型现在应该出现在侧面板中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/7c63bbbd3d4f1d59be161c99b7331902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*YpMsnOyT0t78JNL2I0aThA.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们成功了！</p></figure><p id="d2f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，这就是我们所做的:</p><ul class=""><li id="5b88" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">告诉Strapi我们需要一个名为“关于我”的单一类型。</li><li id="cbb4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">这种类型只有一个名为“Body”的文本字段</li></ul><p id="7595" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单来说，单一类型是指不属于集合的内容(例如，餐馆菜单、关于我的页面或页脚)。</p><p id="553b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们用Strapi写第一篇文章。</p><h2 id="b736" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">写文章</h2><p id="60a4" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在侧面板中，点击“文章”接下来，点击“添加新文章”按钮。这将允许您向“文章”集合添加新项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/da76e03b97c9221f590c70680a0f2b1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uLcYlVHU8zfK3ZRCgpbTYg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创作文章。</p></figure><p id="a68d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在您将看到一个页面，允许您为集合创建一个条目。让我们创建一些数据。富文本字段接受降价代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/531abf324327b04ac0ec118f416cb534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0kGTGSEVzY6kA8xQ5PUFjg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建条目。</p></figure><p id="a1e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这些字段中输入一些数据后，点击“保存”Strapi保存您的条目后，单击“发布”按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/696883ab434f360010e242f8f99e0fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gXWJdzoDQlsCD2Nm35w5g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">发表你的文章。</p></figure><p id="9333" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将为您提供以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/a5168fb3d218c94c1394eef598d885b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MbSWL--cs1_yMC9-QDp9ZQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">文章现已发表。</p></figure><p id="ad2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你！我们发表了第一篇博文。</p><p id="dd4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在已经完成了这一部分。现在，让我们将数据输入到“关于我”单一类型中。</p><h2 id="3dd1" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">“关于我”页面</h2><p id="e707" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在侧面板中，单击“关于我”，并在文本字段中输入一些文本。完成此步骤后，单击“保存”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/aa3ba832b4fdca5d8bb656800adf44d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A3gthfipMMxYpbHk24C13w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">写一篇关于我的文章。</p></figure><p id="e83f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，发表你的参赛作品。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/20b52a182a2b0e8af1ccb10821055d28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xeXgxWTRq9ZadPWAA5K-Iw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">发布条目。</p></figure><p id="18e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完了。我们现在将通过GET请求提取这些数据。</p><h2 id="91c1" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">获取数据</h2><p id="9247" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">既然我们已经写好了博客文章，我们需要执行一个简单的获取请求，这样我们就可以在前端显示它们。现在，让我们通过命令行执行一个<code class="fe nn no np nq b">GET</code>请求，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/5939608167817aa1e33621a6f5f518df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YgNPv742mFRVOEuMsYE2pw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">通过命令行获取文章。</p></figure><p id="3c53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/d7555f3e5b8ff5b90f4dca9fbc0962e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zwh7IqaCYhnCLtOJEb35tQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">错误！</p></figure><p id="0765" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们收到的不是我们的博客帖子列表，而是一个403错误。为了解决这个问题，我们需要在Strapi的安全设置中更改公共访问。</p><p id="86a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，单击侧面板中的“设置”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/c95919ade7abe9fbd141ff27450f23f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*IwFVj9BHrfpiOHtPyGlvEg.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“设置”</p></figure><p id="5d78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在点击“用户和权限插件”部分下的“角色”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/0a999850a177cae7b3b8f8e7fd3bc980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*jP9709OLYuutMMW0ii61Bg.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“角色”</p></figure><p id="f8a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，点击“角色”部分下的“公共”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/50e75d33a42f9a786f87ed2f14389c1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*Igq1aAQZHmN2V4zMu3pXjQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“公共”</p></figure><p id="f275" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，向下滚动到“权限”部分。在“应用程序”下拉菜单下，检查以下选项:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/f9468b16c6e85f67593477b12393e069.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*UjFGw0SHV-TJoTftqyUfaA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检查以下选项。</p></figure><p id="1cd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在已经告诉Strapi，以下信息应该公开:</p><ul class=""><li id="687c" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">“关于我”单式的内容(即<code class="fe nn no np nq b">find</code>动作)。</li><li id="ea09" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">“文章”集合中的内容和项目数。换句话说，<code class="fe nn no np nq b">count</code>、<code class="fe nn no np nq b">findone</code>和<code class="fe nn no np nq b">find</code>动作是公共的。</li></ul><p id="9db1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来测试一下。运行以下终端命令来获取文章列表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/3a676dc7c42e3942e6499ed0d46bfa2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ENy8JRFEvvCmWSO8C-VpUQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">获取文章。</p></figure><p id="f069" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/ee900870d4cdbfcf1ef1f58dec4efa23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxuMlZiq2ZzIqdHZYVf57Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">结果</p></figure><p id="92ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们的“Articles”集合中有一系列项目。</p><p id="d545" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，运行命令以获取“关于我”单一类型中的内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/42e0778a788b0dca3069f04b880d30a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*47cFcILLwvEC70c3S8o9hQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从“关于我”中获取数据</p></figure><p id="1b11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/70309810c1558082e816cc74686a8150.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gt_qzMYV4dS9bgX1GSpwgw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令的结果</p></figure><p id="b0c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！一切正常。</p><p id="2d33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在已经完成了这一部分。在下一节中，我们将使用Next.js开发一个前端来在网页上显示我们的文章。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="dd25" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">Next.js前端</h1><h2 id="7cf0" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">设置</h2><p id="8b86" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">要初始化Next.js项目，请运行以下终端命令:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/ee908654d1a8b36fb67fdf9a1785805f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbGfYH5UU2-01vNgq_PgUA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">初始化我们的Next.js存储库。</p></figure><p id="2d7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的项目中，导航到<code class="fe nn no np nq b">/pages/index.js</code>文件并找到下面这段代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/4b3fd5e5632908803523d7d221dc8e1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u9RjrPV9NjEOcs1kqg0c0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在/pages/index.js中查找的代码</p></figure><p id="5a90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">删除父<code class="fe nn no np nq b">div</code>标签之间的代码。最后，<code class="fe nn no np nq b">/pages/index.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><ul class=""><li id="8f2e" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第7行:设置主页的标题。</li></ul><p id="42d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/38e9ce71f27b7d874260f53055baad2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*N6bHLcHc77riATn3WIWhbQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="2efa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，我们现在将设置我们的配置变量。</p><h2 id="90e3" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">配置变量</h2><p id="78d9" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">现在，我们需要一个名为<code class="fe nn no np nq b">url</code>的变量。这将指向我们的Strapi CMS的位置。在开发过程中，Strapi的URL将是<code class="fe nn no np nq b">http://localhost:1337/</code>。</p><p id="05f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在你的项目文件夹的根目录下，创建一个名为<code class="fe nn no np nq b">config</code>的文件夹。在<code class="fe nn no np nq b">/config</code>中，创建一个名为<code class="fe nn no np nq b">next.config.js</code>的文件。</p><p id="f270" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe nn no np nq b">/config/next.config.js</code>中，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><ul class=""><li id="f606" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:<code class="fe nn no np nq b">production</code>布尔值将告诉我们是否处于生产环境中。</li><li id="8946" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第3行:如果我们在生产中，那么<code class="fe nn no np nq b">url</code>变量应该是您部署的Strapi实例的URL。否则应该指向<code class="fe nn no np nq b">https://localhost:1337/</code>。</li></ul><p id="419b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一步中，我们将安装这个项目所需的包。</p><h2 id="4850" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">安装所需的库</h2><p id="cffe" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们将只安装一个软件包:</p><ul class=""><li id="e52b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">react-markdown:由于我们的博客文章将用markdown编写，这个包将呈现Markdown代码并用HTML替换它。</li></ul><p id="d821" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行以下终端命令:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/5c8c66ffc4860d2fd36fc848e2176757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gufj20ljnnqNW28uD07G5g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安装软件包。</p></figure><p id="4c09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们在网页上显示我们的博客文章列表。</p><h2 id="7afe" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">显示数据</h2><p id="fb43" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在<code class="fe nn no np nq b">/pages/index.js</code>中，首先导入我们之前创建的<code class="fe nn no np nq b">url</code>配置变量，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/baa29fdaae3f7f545162ab2019e81a6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rBfu-ac09SzCmIe0OPUEEw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要写入/pages/index.js的代码</p></figure><p id="c711" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，在文件末尾添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><ul class=""><li id="1bb3" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:<code class="fe nn no np nq b">getStaticProps</code>方法告诉Next.js应用静态端生成从我们的CMS获取数据。</li><li id="190b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第2-3行:获取文章列表，然后将这些数据转换成JSON。</li><li id="1ba3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第6行:将这个列表导出为道具。</li><li id="7db1" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第9行:<code class="fe nn no np nq b">revalidate</code>属性告诉Next.js重新生成页面需要等待多长时间。在这里，我们希望每秒后执行一次再生。</li></ul><p id="41a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二步，在<code class="fe nn no np nq b">/pages/index.js</code>中找到以下代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/ed29cc375a6b0dd5ab5af412fec394fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1TSPxt_i2edJHPkGOpfG5Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在/pages/index.js中查找的代码</p></figure><p id="5e03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像这样改变它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/ab9e6daa0e63a6fd0110c05ba843242c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*07Sbqd2jxBd6RVulKG-2dA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在/pages/index.js中替换的代码</p></figure><p id="e89b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这条线允许我们在<code class="fe nn no np nq b">Home</code>组件中引入<code class="fe nn no np nq b">list</code>支柱。</p><p id="a14a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在找到<code class="fe nn no np nq b">/pages/index.js</code>中的<code class="fe nn no np nq b">return</code>块:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/2deee78b4029d49393d863a884a62400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lGo33NJZ13Dtm97HKGrrWA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在/pages/index.js中查找的代码</p></figure><p id="abb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后像这样替换它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><ul class=""><li id="d84e" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第8行:使用<code class="fe nn no np nq b">map</code>方法获取<code class="fe nn no np nq b">list</code>数组中的所有项目。</li><li id="f1ca" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第10行:当点击时，每一项都会指向<code class="fe nn no np nq b">/article/$id</code> URL，其中<code class="fe nn no np nq b">$id</code>是数组中该项的ID。此外，该步骤实现了动态路由。</li><li id="4cc0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第11行:只显示项目的<code class="fe nn no np nq b">Title</code>字段。</li></ul><p id="f6c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/a45bfe43c7fd1509afa87caa36104edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*Nl1Yua2sUR70NKbNU_laQA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="1d04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！我们的代码有效。让我们通过添加另一篇博文来进一步测试它。为此，返回到Strapi管理面板，向您的“文章”集合添加另一个条目:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/6d533622a8000313a5665dcb8fc1d4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A3vfhgp8p11ZGPltTk7pMA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Strapi中添加另一篇博客文章。</p></figure><p id="8297" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">发布后，刷新页面。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/30d7dd41cecbb1f375cf211dfe3a7def.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*LoV34zuh66c1GW0k4uPz4g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="edf1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。如您所见，我们现在可以生成新的博客文章，而无需进一步编码。</p><p id="5d09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，<code class="fe nn no np nq b">/pages/index.js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><h2 id="c5e7" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">查看文章</h2><p id="cb18" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">以前，我们实现了动态路由。点击时，每一项都会将我们重定向到<code class="fe nn no np nq b">/article/$id</code>页面。留给我们的就是处理这个URL。</p><p id="6b37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您的<code class="fe nn no np nq b">/pages</code>目录中，创建一个名为<code class="fe nn no np nq b">article</code>的文件夹。在<code class="fe nn no np nq b">/pages/article</code>文件夹中，创建一个名为<code class="fe nn no np nq b">[id].js</code>的文件。</p><p id="4d94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe nn no np nq b">/pages/article/[id].js</code>中，编写以下代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/2c6fe274c27b1894f484dea20f1da894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rLwuDOQ60Dcn8QhchIL_EA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要写入/pages/article/[id]的代码。射流研究…</p></figure><p id="10c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/d03508caca3d0445e7011b9bfbf80c9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*PiDGgvj5CDwGVOBK4g5Ksw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="1d6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们从博客文章中提取内容，然后显示它们。</p><p id="7935" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe nn no np nq b">/pages/article/[id].js</code>中，首先导入<code class="fe nn no np nq b">url</code>配置变量和<code class="fe nn no np nq b">ReactMarkdown</code>包，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/b89508993ecd37b192bfd1d13f3b4c14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QecDpsoOSWtHRHnaNmdNeQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要写入/pages/article/[id]的代码。射流研究…</p></figure><p id="289e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在文件末尾编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><ul class=""><li id="df1a" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:使用静态端生成来获取数据。<code class="fe nn no np nq b">context</code>变量将帮助我们提取URL中的参数。</li><li id="7e08" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第2-3行:根据当前URL获取文章数据。例如，如果用户在<code class="fe nn no np nq b">/article/3</code>处，则使用<code class="fe nn no np nq b">3</code>的<code class="fe nn no np nq b">id</code>对商品执行提取请求。</li><li id="c8c9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第6行:返回文章数据作为道具。</li><li id="dd67" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第7行:告诉Next.js每秒执行<a class="ae ky" href="https://nextjs.org/docs/basic-features/data-fetching#incremental-static-regeneration" rel="noopener ugc nofollow" target="_blank">增量站点再生</a>。</li><li id="a534" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第9行:使用<code class="fe nn no np nq b">getStaticPaths</code>静态生成路径。</li><li id="29e2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第13行:将每个项目的所有<code class="fe nn no np nq b">id</code>字段保存在一个单独的数组中。</li><li id="0e9c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第17行:返回Next.js需要生成的所有路径的列表。<code class="fe nn no np nq b">fallback</code>属性告诉Next.js，如果用户转到未生成的路径，则显示404错误。</li></ul><p id="0aab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经导出了相关的文章数据，我们需要显示它们。在<code class="fe nn no np nq b">/pages/article/[id].js</code>中，找到下面这段代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/66dffb3037395cbcea57480240148cce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-JId9kujGWSIYXhnqR6GmA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在/pages/article/[id]中查找的代码。射流研究…</p></figure><p id="f077" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用下面这段代码替换它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/e7be8a1fa4f19a19527a2620d84c179d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b7hWjn8BEQfXUzyn3Lld_w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要写入/pages/article/[id]的代码。射流研究…</p></figure><p id="420b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，找到您的<code class="fe nn no np nq b">return</code>块:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/2cf13e20713dc0c97226f6ede170da06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CNxErNfqGae1meGxOJfcCg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要在/pages/article/[id]中查找的代码。射流研究…</p></figure><p id="ff47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在像这样替换它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/76e2b66e7f1db89b0e1f1a2e4c995670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Omk7OFgFhIWCkvFzkJ-NZA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要写的代码/pages/article/[id]。射流研究…</p></figure><ul class=""><li id="c576" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第3行:在header元素中显示标题。</li><li id="03e8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第4行:显示带有<code class="fe nn no np nq b">ReactMarkdown</code>组件的主体。这将呈现Markdown代码并将其转换为HTML。</li></ul><p id="29ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/323c2c3ed766217140e36fb4671d7bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*VckGDAGJL0kfA6pnmIK19w.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="88fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们的代码是成功的！我们的文章内容正在打印出来，一切都按预期进行。</p><p id="79bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最终，<code class="fe nn no np nq b">/pages/article/[id].js</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><p id="1c7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一步，我们将展示我们的“关于我”页面。</p><h2 id="4214" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">“关于我”页面</h2><p id="ef7e" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">这个过程简单明了。在您的<code class="fe nn no np nq b">/pages</code>目录中，创建一个名为<code class="fe nn no np nq b">about.js</code>的文件。</p><p id="3afd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe nn no np nq b">/pages/about.js</code>文件中，编写下面这段代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf pg l"/></div></figure><ul class=""><li id="5b5b" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">第1行:导入指向Strapi CMS实例位置的<code class="fe nn no np nq b">url</code>配置变量。</li><li id="b4b6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第2行:创建一个功能性的React组件。我们也带来了<code class="fe nn no np nq b">data</code>道具。</li><li id="8f21" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第8行:显示<code class="fe nn no np nq b">data</code>对象的<code class="fe nn no np nq b">Body</code>字段。</li><li id="6774" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">第13-21行:使用静态端生成获取相关数据。稍后，将这些数据导出为道具。</li></ul><p id="dab3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在转到<code class="fe nn no np nq b">localhost:3000/about</code>。这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/cde6b0ef39bdbb3235531b517cc8f348.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*PWbRtxYSFEdA_St4x4IiwA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="820c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。我们成功了。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="c6de" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">更多资源和代码</h1><h2 id="76ea" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">GitHub知识库</h2><p id="cd16" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated"><a class="ae ky" href="https://github.com/HussainArif12/next-strapi-learn" rel="noopener ugc nofollow" target="_blank">这是这个项目</a>的Github库。</p><h2 id="457c" class="ns mr it bd ms nt nu dn mw nv nw dp na li nx ny nc lm nz oa ne lq ob oc ng od bi translated">进一步阅读</h2><ul class=""><li id="b432" class="lv lw it lb b lc ni lf nj li pn lm po lq pp lu ma mb mc md bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/routing-and-data-fetching-in-next-js-aa3c7f3e2481">next . js中的路由和数据提取</a></li><li id="e229" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=6FnwAbd2SDY" rel="noopener ugc nofollow" target="_blank"> Strapi.js速成班—旅行媒体</a></li><li id="0087" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=WrmndNpWSJw" rel="noopener ugc nofollow" target="_blank">用Strapi和Next.js构建一个Fullstack应用</a></li><li id="d3bf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://blog.logrocket.com/introduction-to-data-fetching-with-next-js-and-strapi-cms/" rel="noopener ugc nofollow" target="_blank">使用Next.js和Strapi CMS获取数据</a></li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="0e89" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="7f21" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">使用像Strapi这样的CMS让博主们的生活变得更加轻松——主要是因为它节省了作者挖掘代码对他们的博客进行简单编辑的时间。此外，CMS与令人惊叹的前端技术(如Next.js)相结合，是在短时间内建立和运行您的博客的完美方式。</p><p id="44f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢你坚持到最后！</p><p id="a355" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">previous:<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/routing-and-data-fetching-in-next-js-aa3c7f3e2481">next . js中的路由和数据提取</a></p></div></div>    
</body>
</html>