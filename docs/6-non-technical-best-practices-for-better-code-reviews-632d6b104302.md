# 更好的代码评审的 6 个非技术性最佳实践

> 原文：<https://betterprogramming.pub/6-non-technical-best-practices-for-better-code-reviews-632d6b104302>

## 一个让你的代码评审更加顺畅的小事情列表

![](img/250038f92a39f199b3c09d1319842631.png)

詹尼斯·布兰特在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

代码审查是最好的软件开发实践之一。它提供了许多好处，比如发现 bug，提高质量，以及在整个团队中共享知识。

然而，执行代码审查并不简单。作为一名评审者，你需要站在作者的立场上，理解上下文、事物的工作方式、引入变化的目的，然后遵循技术解决方案。

你可能需要比作者做更多的事情，比如发现错误，寻找替代解决方案，并进行比较。想出解决方案是一回事；寻找更多和比较是另一回事。

代码审查的困难不仅限于技术原因。代码评审包括多人之间的交流，强调批判性思维的需要。

大多数人在应对批评时都做得不好。因此，代码审查成为一个滑坡。一条评论既可以毁掉也可以照亮作者的一天。在本文中，我想列出六个技巧，帮助作者和评审者建立愉快的代码评审体验。

# 1.使用表情符号

代码评审通常是一个异步的文本交流过程。但是交流的某些方面，比如情绪和意图，在写作的时候往往会丢失。为了应对这种情况，我们在日常生活中使用表情符号，比如聊天或发推特。那么为什么不把它们用于代码审查呢？

这是我们团队使用的表情符号。圣诞树(🎄)意味着所请求的更改是主观的和可选的，比如个人对变量名的偏好。更多圣诞树(🎄🎄)说评论比较主观，作者可以省略他们。当我们想更多地了解变化而不是询问时，我们使用 owl:“🦉你为什么在这里使用这个库？”我们尖叫(😱)当我们注意到愚蠢的错误，比如错别字。我们拍手(👏)为了我们喜欢的改变。最后，当我们完成评估时，我们会庆祝🍻。

我们还使用特别的表情符号以更好的方式传达我们的意图:

*   “我认为这条线是不正确的。你确定有用吗？”
*   我认为这条线不对。🤔你确定它有效吗？

想弄清楚第一条评论里的情绪不容易。作者可以将其解释为粗鲁的*或*提问，这会使他/她处于防御地位。但是您想从作者那里得到的是调查和证明注释行的功能性。第二条评论通过在同一个句子中添加表情符号，建立了一个奇怪的意图。

# 2.谦虚地评论

提交代码变更供评审可能会有压力，因为其他人会检查作者的工作并对其进行评论。开发人员倾向于拥有他们编写的代码，这可能会导致反馈被认为是针对个人的，从而导致压力。有一个简单的方法可以避免这种情况:用谦逊的态度来评论。下面是同一行输入的两种变体:

**评论 1** :“这太丑了！为什么在这里使用抽象类？没必要用。你应该用一个接口来代替。

**评论 2** :“我们在这里使用抽象类有什么特别的原因吗？在这里使用一个接口可能会更好，因为没有任何默认的实现，它也没有从任何其他类扩展。”

你能找出使第二个评论更好的不同之处吗？让我们来看看:

## **作为一个团队承担变革的责任**

第一个注释使用了一个 *you 语句。*但是第二个注释使用了一个 *we 语句，*强调团队中的每个人都拥有代码并对变更负责，即使其中一个成员编写了代码。

## **关注代码，而不是作者**

第一个评论指责作者的改变，这使他们处于防御地位。对于提高代码质量来说，这不是一个好的开始。

第二条评论没有针对个人。它指出有一个抽象类，这是反馈的主要焦点。它还提供了选择接口的技术参数，这有助于保持关于代码的对话。

## **不要急于下结论**

第一条评论立刻表明接口比抽象类更好。另一方面，第二条评论并没有直接做出判断。相反，它要求作者比较这两种选择。谁知道呢，也许他们有正当的理由来证明这一点。

总的来说，第一条评论破坏了沟通，把评估过程变成了一次不愉快的经历。相比之下，第二条评论是开放合作。

# 3.复习欣赏

每个人都喜欢对优秀工作的一点赞赏，开发人员也不例外。欣赏美丽、干净的代码是一个有经验的评审者手中的一个不可思议的工具。因为有了欣赏，代码评审不再是单向的，只有批评的反馈。

认可提高了作者的士气，减少了压力，并激励作者处理需要修改代码的输入。将来提交变更集进行审查时，作者会感到更舒服。

# 4.将相似的评论组合在一起

对于类似的错误多次发评论是没有帮助的。这很令人沮丧，而且会降低复习工具的速度。每个评论还会导致自动向作者和其他订阅者发送电子邮件，这可能很快就会令人不安。

相反，你可以将它们合并在一个注释中，例如:“对象中的错别字(多处)”

# 5.当面讨论分歧

当在代码评审期间出现似乎需要更长时间才能解决的分歧时，最好的行动是与作者面对面地讨论这个问题。亲自解决问题可以让评论者和作者避免不必要的争吵，这种争吵会造成压力并占用时间。

如果你和作者意见相左，邀请你团队的技术负责人参加面对面的会议。

# 6.接受你没有写出最好的代码

我们软件开发人员对我们所做的工作感到非常自豪。我们热爱并拥有自己编写的代码。我们也希望其他人喜欢我们的代码。

但是这不应该阻止你对批评持开放的态度。您的方法可能不是完成任务的最佳方法，或者可能存在缺陷。代码评审的全部目标是使代码——从而使产品——变得更好。这是球队最重要的目标。

所以完全没必要把反馈当成个人意见。最好的代码是每个团队成员在同一水平上贡献、理解和拥有的代码。

# 结论

感谢阅读！我希望这些有助于帮助你在下一次代码审查中取得成功。