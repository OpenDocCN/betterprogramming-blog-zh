<html>
<head>
<title>How I Built a Hotel Platform With Unity3D and AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何使用Unity3D和AWS构建酒店平台</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-i-built-a-hotel-platform-with-unity3d-and-aws-22bd3c315d81?source=collection_archive---------4-----------------------#2022-04-03">https://betterprogramming.pub/how-i-built-a-hotel-platform-with-unity3d-and-aws-22bd3c315d81?source=collection_archive---------4-----------------------#2022-04-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6614" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Amazon Web Services构建一个完整的可扩展云架构</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3ae3c394b0ae803f1063d77e5ae43877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OQoHSRSAY-kFDFVgIvqZTw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">插图由<a class="ae kv" href="https://www.instagram.com/niimde/" rel="noopener ugc nofollow" target="_blank"> Gianca Chavest </a>绘制</p></figure><p id="ed7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几年前(疫情时报成立之前)，我的一个客户非常兴奋地打电话给我，他有一个大项目，需要我的服务。他告诉我:“亚历克斯，我想为拉美市场做一个合适的ipad”。等等，什么？</p><p id="c51b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您曾在豪华酒店或度假村旅行和休息，您应该在酒店房间使用多功能pad或平板电脑。该设备主要允许可视化关于酒店、电话号码、菜单、价格和事件的信息，并且有时允许与客房服务或接待处通信。这类产品的一个很好的例子就是<a class="ae kv" href="https://www.suitepad.de/en/" rel="noopener ugc nofollow" target="_blank"> SuitePad </a>。</p><p id="ddb5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我终于做到了！以下是最终应用的概述:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="bd1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将解释如何使用<strong class="ky ir"> Unity3D </strong>的可视界面和<strong class="ky ir"> Amazon Web Services </strong> (AWS)的服务器端架构来构建这种平台。本文将关注如何配置服务并在它们之间建立通信。出于保密考虑，我将只展示平台主要功能的代码片段。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lu"><img src="../Images/d4c19ebe4e36a986ffebdec52ec7fc38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1pjlkio-bN-2Of_8yLKz0A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Android平板电脑上运行的最终应用的垂直版本</p></figure><h1 id="976b" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">要求</h1><p id="02f0" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">我的客户声称他已经买了一些Android平板电脑，他需要我来搭建平台。第一次交付非常简单:它只会从服务器加载酒店信息，并在pad上显示出来。没有与客房服务的沟通，也没有其他功能。</p><p id="98f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的客户对第一次交货有很多要求:</p><ul class=""><li id="a675" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated">该应用程序应该是一个“白标”应用程序:它可以适应任何酒店。因此，标志，应用程序的颜色，文本，媒体等。应该从云中加载。</li><li id="992d" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">该应用程序应该有一个登录机制，用户名和密码。每个酒店房间的用户名应该是唯一的。</li><li id="2373" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">该应用程序应该是多语言和多种货币。</li><li id="ddf1" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">该应用程序应该可以在Android和iOS设备上运行，并考虑横向和纵向格式。</li><li id="9461" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">该应用程序应该下载所有可用的媒体(图像，文本等。)用户登录后。</li><li id="c272" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">服务器应该处理大量的客户端连接。</li></ul><h1 id="92a5" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">软件体系结构</h1><p id="b3c6" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">我们开始吧。</p><p id="b8cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于客户端，我们需要建立一个可以在Android和iOS上运行的应用程序。我选择使用Unity3D，因为它提供的灵活性(Unity应用程序可以在桌面、iOS、Android、WebGL、tvOS、PS4和PS5上运行)以及我对该平台的一般了解。</p><p id="c1ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于服务器端，我们需要一个建立在云平台上的可扩展架构。我选择与亚马逊网络服务(AWS)合作，主要是因为它的可伸缩服务的可靠性和我的经验。</p><p id="4a6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是我们平台的总体架构:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/740beef8daec8ec3406785f24474e525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Vec4Hv9lc_lL5T2QxQ1YQ.png"/></div></div></figure><p id="df8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意</strong>:我不会实现<a class="ae kv" href="https://docs.aws.amazon.com/sdk-for-net/v3/developer-guide/welcome.html" rel="noopener ugc nofollow" target="_blank">AWS SDK</a>；我更喜欢保持客户端和服务器端的独立性。</p><h1 id="0e25" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">服务器端实现</h1><h2 id="7c5d" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">认知</h2><p id="aa02" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">我们使用的第一个亚马逊服务是Cognito。Cognito就像一个存储用户、用户属性和密码的保险箱。它通过用户名和密码提供安全的用户认证。</p><p id="e3b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">用户池</strong>:首先我们创建一个用户池，禁用用户名auth和自注册。请注意，用户池ID将自动生成。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/400b9147d293c547a49c7894f5772f0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zwwIbUgFy7vZNsbvhUXSRg.png"/></div></div></figure><p id="1a38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir"> App </strong>:在用户池创建过程中，会创建一个用户池App。我们选择用户密码认证作为唯一允许的认证流，并且我们创建了两个定制属性:<code class="fe nu nv nw nx b">hotel_name</code>和<code class="fe nu nv nw nx b">room_number</code>。请注意，应用程序客户端ID将自动生成。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/d4c89ebab8f39c8e26cf3211d9990d1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RJtHb5B_MY3Cm__JAfIMrA.png"/></div></div></figure><p id="33a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">用户</strong>:我们在用户池中手动创建用户。用户名字段是惟一的，所以我将其设置为酒店名称和房间号的组合。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/b9fe06937bc3261444e868440524fffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rLpGBPzL64Y0GMacHCeA7Q.png"/></div></div></figure><h2 id="5cd2" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">无线电数据系统</h2><p id="04bf" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">RDS代表关系数据库服务。在关系数据库中，我们将存储我们需要的所有事务信息。</p><p id="2444" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">数据库创建</strong>:首先，我们创建一个公共访问的MySQL数据库，并设置凭证(数据库名称、用户名和密码):</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/baaa1e7c0536ec5676592db100ea5529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZYg3zTXfLqp3pmr3d1MYYQ.png"/></div></div></figure><p id="f1b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">安全规则</strong>:现在我们需要访问数据库来构建表格，并用数据填充它们。我选择用桌面MySQL客户端来做:<a class="ae kv" href="http://sequelpro.com/" rel="noopener ugc nofollow" target="_blank"> Sequel Pro </a>。因此，我们需要允许数据库的外部连接:我们进入数据库的安全组，并更改入站规则以允许所有连接。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/2c6010226d679dc8d3b3fffa17008bb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1f1i2rZGiZYFDa1M6DVTrg.png"/></div></div></figure><p id="01fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以使用在数据库创建过程中设置的凭据从MySQL客户端连接到我们的数据库:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/0b9a4f2060432f482c6db5dc013003f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j9I1agoBMt4VXmDaX5sQYg.png"/></div></div></figure><h2 id="e1c0" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">DynamoDB</h2><p id="1b0a" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">DynamoDB是AWS的非关系数据库服务。我们将在其中存储所有的非交易信息，如标题，描述，图片网址等。</p><p id="0ca5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">表创建</strong>:我们创建一个DynamoDB表。我们的数据将被酒店分段，所以我们选择这个参数作为表的<strong class="ky ir">分区键</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/dec829ed1abeafe3ead56b931fcd6d3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3hzo2EOPo7EcdlKxZVc4Og.png"/></div></div></figure><p id="370e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">条目创建</strong>:我们创建了一个包含JSON数据的新条目。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/708ccb33b5c91ece1775c7ad9d478447.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCOCdmjdfFTGEC0_c9v5xw.png"/></div></div></figure><h2 id="5f39" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">S3</h2><p id="84b6" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">S3是静态内容的可扩展存储服务，我们用它来存储将在平板电脑上显示的图片。</p><p id="2ae3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">存储桶</strong>:我们创建了一个新的存储桶，又名存储库。因为我们不存储敏感媒体(酒店、菜单、房间等的图片)。可以在网上找到)，我们将bucket及其内容设置为“public”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/ff6e78c78fb49084e2bf408502fd42ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ad_DZaVuDmBUg2uv2bgUOQ.png"/></div></div></figure><p id="f33f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">存储桶策略</strong>:我们编辑存储桶策略，只允许存储桶内容被读取。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="50ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意</strong>:在上面的例子中，我们库的最终URL是:<a class="ae kv" href="https://hotelmotelbucket.s3.amazonaws.com/" rel="noopener ugc nofollow" target="_blank">https://hotelmotelbucket.s3.amazonaws.com/</a></p><h2 id="29a5" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">希腊字母的第11个</h2><p id="2c4f" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">Lambda是一个很棒的无服务器服务，允许运行代码让Amazon为你管理服务器资源。</p><p id="080a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir"> GetData函数</strong>:这个Lambda函数将允许获取存储在DynamoDB中的酒店数据。首先，我们从头开始创建一个新函数，运行在Lambda提供的最新版本的Python上(目前是3.9)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/0e6088fa11361dfc6e66466b3180fa4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rx5ynCEwvH4f_Maq4KQryA.png"/></div></div></figure><p id="6d07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="a536" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意事项</strong>:</p><ul class=""><li id="935b" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated">多亏了我们使用的授权器，所有的用户信息都可以在事件变量中得到。我们可以获得我们在用户池应用程序中定义的自定义属性<code class="fe nu nv nw nx b">hotel_name</code>的值。在我们的例子中，这个值应该是“lotus”。</li><li id="80c1" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们使用Python的AWS SDK<a class="ae kv" href="https://boto3.readthedocs.io" rel="noopener ugc nofollow" target="_blank">boto 3</a>来调用其他AWS服务，在本例中是DynamoDB。我们使用<code class="fe nu nv nw nx b"><a class="ae kv" href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/dynamodb.html#DynamoDB.Table.get_item" rel="noopener ugc nofollow" target="_blank">get_item</a></code>函数从带有关键字“lotus”的表“HotelMotel”中检索数据。</li><li id="2540" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">Python原生JSON库<a class="ae kv" href="https://docs.python.org/3/library/json.html#implementation-limitations" rel="noopener ugc nofollow" target="_blank">不支持小数类型</a>，所以我们创建了一个<code class="fe nu nv nw nx b">DecimalEncoder</code>类来将小数转换为浮点数。</li><li id="9f78" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们使用try/except子句来处理潜在的错误。</li></ul><p id="83f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认情况下，Lambda函数没有读写DynamoDB表的权限，所以不要忘记给我们刚刚创建的Lambda函数附加<code class="fe nu nv nw nx b">AmazonDynamoDBReadOnlyAccess</code>权限。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/a8bd3f622fb95f22bcf15c6047a3a6ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yhrQFB1B8kOD63HXoHP3Og.png"/></div></div></figure><p id="3959" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir"> OnLogged函数</strong>:这个Lambda函数将允许在我们的关系数据库中保存一个新的用户登录。当用户成功登录时，Cognito将直接调用该函数作为触发器。</p><p id="96e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用于在关系数据库中保存登录历史的表格如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/e41be93aa0a3c997968815b6b097a22d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wwpIww9sVBCNn2F_3iiaUQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用<a class="ae kv" href="https://dbdiagram.io/" rel="noopener ugc nofollow" target="_blank"> DBDiagram </a>工具设计的login_history表</p></figure><p id="7983" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了编写关系数据库，我们需要首先连接到<a class="ae kv" href="https://pymysql.readthedocs.io/" rel="noopener ugc nofollow" target="_blank"> PyMySQL </a>库。问题:PyMySQL不是原生的Lambda库，所以我们必须创建一个新的层，并将PyMySQL导入其中。该层可重复用于其他功能。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/c72b5b57d2a3bc59b8b1213ed8975d53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V9nt0ctgTc6TZeWFdGf7fA.png"/></div></div></figure><p id="4382" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注</strong>:PyMySQL的干净版本可以在<a class="ae kv" href="https://pypi.org/project/PyMySQL/#files" rel="noopener ugc nofollow" target="_blank"> PyPI </a>上找到。</p><p id="0890" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以添加刚刚为我们的功能创建的层:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/1a8a2af0a382d5d5cc85c38c7b536f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h742Z0ZlEsJB8xfUIkwumA.png"/></div></div></figure><p id="9d31" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是它的功能:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="313e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意事项:</p><ul class=""><li id="0ff0" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated">正如AWS <a class="ae kv" href="https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-post-authentication.html" rel="noopener ugc nofollow" target="_blank">文档</a>中所描述的，事件对象包含用户的信息，比如用户名。</li><li id="cb6c" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们返回文档中描述的整个事件对象。</li></ul><p id="ac4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在回到科宁托。我们在用户池中创建了一个新的身份验证后触发器，并为我们刚刚创建的lambda函数赋值:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/20d8dd0969b566f9531185233515957c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-XWg0lhXL8w80AVyXDt_qw.png"/></div></div></figure><h2 id="d4c8" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">API网关</h2><p id="0dc6" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">API网关服务允许为我们的应用程序创建一个安全的入口点，并将其连接到我们正在使用的其他AWS服务，在本例中是Lambda。</p><p id="cd5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir"> API </strong>:我们创建了一个新的REST API</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/a7abd7af94e038336273e5614a3c415f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_UaLjCb_gXF495DXq5PIw.png"/></div></div></figure><p id="205c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">授权者</strong>:我们创建一个新的授权者，只允许属于用户池的用户调用我们将要创建的API资源。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/00b1810ea817a9541f56bbcc36c04d57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_iKmXEBsnBOmcdjoAJ2hWg.png"/></div></div></figure><p id="ab84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">资源</strong>:我们创建一个新的资源。资源名称将是入口点的最终URL的后缀。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/d793bff222544d733eaae05348f04343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y6ULbS3FhrBwkuFGKRDfcQ.png"/></div></div></figure><p id="e239" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">方法</strong>:我们需要指定如何调用资源，创建一个新方法。我们创建一个集成了Lambda的POST方法，并选择我们之前编写的Python函数。请注意，应该激活Lambda代理集成，以允许从Unity客户端发送参数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/eee7694d43e413f690ad060d36a20424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r9T3tkvkqxgf5kWTEeCCKw.png"/></div></div></figure><p id="21eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们刚刚创建的方法中，我们选择了授权人:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/37eb5ae7691f9a38f1fe7af26aa5d233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kP4Nz3at43M-hpjAhJfjPA.png"/></div></div></figure><p id="54f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">➡️ <strong class="ky ir">部署</strong>:我们的API已经准备好了，我们只需要部署它。我们创建一个新的阶段，例如，“prod”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/2b6d2c27c155129e2e4a099a562dfad5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CviSSrTIrRKxzLT_-26g2Q.png"/></div></div></figure><p id="c40a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的API已经部署好了，可以使用了！请注意，出现的URL将由我们的Unity客户端调用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/a0c1fbab1952e3a1fdd0742b12ddf058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SNA3hb7CBuuqyOxPKYrL_Q.png"/></div></div></figure><p id="a991" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们用<a class="ae kv" href="https://www.postman.com" rel="noopener ugc nofollow" target="_blank"> Postman </a>试试我们API的get data函数:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/404b4e0c40e3f9f734ebcdc6ca70c06c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yGmYxswKG07BCPUgtjJAmA.png"/></div></div></figure><p id="ecbd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它非常有效🙌</p><h1 id="2a9a" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">UX/用户界面设计</h1><p id="12ec" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">由于我不是设计师，我想知道如何才能交付一个设计良好的产品，考虑用户体验、颜色组合、正确的字体大小等等。对于第一次交付，我选择使用响应式HTML模板:Lotus Hotel模板。</p><p id="e0be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">嗯，我没有使用HTML代码，我只是将移动模板设计复制到Unity UI组件(画布、按钮、图像等)中。)</p><div class="kg kh ki kj gt ab cb"><figure class="or kk os ot ou ov ow paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/92e33fb2e962aab34ddf71b460b5d8d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*b-liC4r7k79-KPt4vGwGDg.png"/></div></figure><figure class="or kk ox ot ou ov ow paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/1a0e29f12b682d58bb6f334333b6a72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*rTdAmYbxWc2BYIYsrCpWkQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk oy di oz pa translated">Lotus模板// HotelMotel应用程序概述</p></figure></div><p id="b73f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该模板提供了大量的图像和图标。通过添加像<a class="ae kv" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>这样的免费图片库网站的图片，我可以有一个很棒的演示应用程序。</p><h1 id="37d7" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">Unity3D客户端</h1><h2 id="63a0" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">登录Cognito</h2><p id="7c20" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">为了登录到Cognito，我们将通过<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequest.html" rel="noopener ugc nofollow" target="_blank"> UnityWebRequest </a>类执行一个post请求。因为我们正在处理JSON数据，所以我们使用<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/JsonUtility.html" rel="noopener ugc nofollow" target="_blank"> JsonUtility </a>类的<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/JsonUtility.ToJson.html" rel="noopener ugc nofollow" target="_blank"> ToJson </a>函数来字符串化我们的登录参数。同样，我们使用<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/JsonUtility.FromJson.html" rel="noopener ugc nofollow" target="_blank"> FromJson </a>函数来解析响应数据。</p><p id="89fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们按照<a class="ae kv" href="https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_InitiateAuth.html" rel="noopener ugc nofollow" target="_blank"> Cognito文档</a>中描述的结构创建数据类，并使用<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Serializable.html" rel="noopener ugc nofollow" target="_blank"> Serializable </a>属性来处理JsonUtility需求:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="3091" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们使用用户参数(用户名和密码)调用Cognito服务进行登录:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="e4a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意事项</strong>:</p><ul class=""><li id="fe57" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated"><code class="fe nu nv nw nx b">UnityWebRequest</code>类在<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Coroutine.html" rel="noopener ugc nofollow" target="_blank">协程</a>内工作。</li><li id="9db9" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated"><code class="fe nu nv nw nx b"><strong class="ky ir">ClientId</strong></code>参数是由Cognito生成的App客户端ID。</li><li id="0020" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">如果您选择了另一个地区来创建您的用户池，登录URL可能会有所不同(<strong class="ky ir"> us-east-1 </strong>)。</li><li id="e8aa" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">UnityWebRequest的<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequest.Post.html" rel="noopener ugc nofollow" target="_blank"> Post </a>函数<strong class="ky ir">不</strong>支持JSON字符串，而是使用一种奇怪的HTML字符串加密。一个解决方法是用一个字节数组和一个<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequest.Put.html" rel="noopener ugc nofollow" target="_blank"> Put </a>请求做一个奇怪的把戏。如果你有更好的解决方案，请在评论区告诉我。</li><li id="aa05" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">请求需要<strong class="ky ir">内容类型</strong>和<strong class="ky ir"> X-Amz-Target </strong>头才能正常工作。</li><li id="6ce6" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们将使用Cognito返回的<code class="fe nu nv nw nx b">IdToken</code>值作为GetData函数中的授权参数。</li></ul><h2 id="e4ad" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">获取酒店数据</h2><p id="13ed" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">由于我们已经成功登录到Cognito，我们现在可以获得需要在屏幕上显示的酒店数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="4625" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意事项</strong>:</p><ul class=""><li id="81cd" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated">我们使用在API Gateway中部署的入口点的URL。</li><li id="6bac" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们发送从Cognito收到的IdToken作为请求头。</li></ul><h2 id="4fad" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">从S3加载图像</h2><p id="86cd" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">我们已经登录，并获得了需要在pad上显示的数据。我们现在可以从我们在S3 ( <code class="fe nu nv nw nx b">hotelmotelbucket</code>)上创建的存储库中下载媒体。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="5db3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意事项</strong>:</p><ul class=""><li id="5dca" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated">我们正在使用UI组件，所以我们使用<a class="ae kv" href="https://docs.unity3d.com/2018.3/Documentation/ScriptReference/UI.Image.html" rel="noopener ugc nofollow" target="_blank"> UI Image </a>类来显示图片。</li><li id="1f99" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们使用来自<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequestTexture.html" rel="noopener ugc nofollow" target="_blank"> UnityWebRequestTexture </a>类的<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequestTexture.GetTexture.html" rel="noopener ugc nofollow" target="_blank"> GetTexture </a>函数从存储库中下载图片。</li><li id="2ede" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">UnityWebRequestTexture类在协程中工作。</li><li id="bd74" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们用<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Networking.DownloadHandlerTexture.html" rel="noopener ugc nofollow" target="_blank"> DownloadHandlerTexture </a>类对传入的数据进行转换，以获得一个<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Texture2D.html" rel="noopener ugc nofollow" target="_blank"> Texture2D </a>对象。</li><li id="1fe9" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们用纹理的维度动态地创建UI图像精灵。</li></ul><h2 id="2be0" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">任务排队和出队</h2><p id="9784" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">Unity3D应用程序在用户登录并下载可用媒体(房间、食物等的图片)后获得酒店的全部数据。)从存储库中。问题如下:有很多媒体，运行应用程序的设备无法处理数百个同时下载的图像。</p><p id="6cde" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">解决方法是创建一个队列机制，使用C# <a class="ae kv" href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.queue-1.enqueue" rel="noopener ugc nofollow" target="_blank">入队</a>和<a class="ae kv" href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.queue-1.dequeue" rel="noopener ugc nofollow" target="_blank">出列</a>方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="036e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意事项</strong>:</p><ul class=""><li id="fe06" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated">我们创建的队列是一个协程队列:我们将之前创建的<code class="fe nu nv nw nx b">GetPicture</code>函数入队和出队。</li><li id="ea09" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">当协程出队时，执行相关的<code class="fe nu nv nw nx b">GetPicture</code>函数。</li></ul><h2 id="9bf2" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">水平和垂直格式支持</h2><p id="98ed" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">我们正在使用响应式UI元素，但是水平和垂直格式差别太大，不能被认为是同一设计的一部分，所以我们创建了两个不同的画布，每种格式一个。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/5a8be4ae2cb3f2b50c16509732fcc750.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*UC2baVApviL8ZXXspka8GA.png"/></div></figure><p id="72da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/Screen.html" rel="noopener ugc nofollow" target="_blank">屏幕</a>类来显示适当的画布:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><h2 id="d7f6" class="nh lw iq bd lx ni nj dn mb nk nl dp mf lf nm nn mh lj no np mj ln nq nr ml ns bi translated">奖励:时钟系统</h2><p id="4fce" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">该应用程序包含一个用文本对象制作的时钟，代码如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od lt l"/></div></figure><p id="5a4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意事项</strong>:</p><ul class=""><li id="1b4e" class="ms mt iq ky b kz la lc ld lf mu lj mv ln mw lr mx my mz na bi translated">我们使用<a class="ae kv" href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.InvokeRepeating.html" rel="noopener ugc nofollow" target="_blank">调用</a>函数每分钟更新一次时钟，并且每半秒钟响一次指针。</li><li id="e8bd" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">我们使用<a class="ae kv" href="https://docs.microsoft.com/en-us/dotnet/api/system.datetime" rel="noopener ugc nofollow" target="_blank"> DateTime </a>类的Now函数来检索设备的实际时间。</li><li id="17f1" class="ms mt iq ky b kz nb lc nc lf nd lj ne ln nf lr mx my mz na bi translated">每个数字都被单独管理，以便对其进行更好的控制。</li></ul><h1 id="ebba" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">结束语</h1><p id="18d6" class="pw-post-body-paragraph kw kx iq ky b kz mn jr lb lc mo ju le lf mp lh li lj mq ll lm ln mr lp lq lr ij bi translated">本文向您展示了如何使用Amazon Web Services构建一个完整的可扩展云架构，如何让这些服务进行交互，以及Unity3D应用程序如何与这些云服务进行通信。</p><p id="0dff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文的每一段代码都是用Unity 2020.3.17和Visual Studio Community 2019测试过的。我用来运行Unity应用程序的移动设备是一台装有Android 11的Galaxy Tab A7 Lite。</p><p id="6135" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文中显示的所有id和令牌都是假的或过期的，如果您试图使用它们，您将无法建立任何连接。</p><p id="4a25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">特别感谢<a class="ae kv" href="https://www.instagram.com/niimde/" rel="noopener ugc nofollow" target="_blank"> Gianca Chavest </a>设计了这些精彩的插图。</p></div></div>    
</body>
</html>