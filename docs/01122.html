<html>
<head>
<title>Create Snapshots of AWS EC2 Volumes Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python创建AWS EC2卷的快照</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/snapshots-of-aws-ec2-volumes-using-python-a7d31252ef19?source=collection_archive---------5-----------------------#2019-08-16">https://betterprogramming.pub/snapshots-of-aws-ec2-volumes-using-python-a7d31252ef19?source=collection_archive---------5-----------------------#2019-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d6f2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">学习使用Python的boto3库创建和删除亚马逊EBS快照</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kj"><img src="../Images/308de04ad3d5ceab75cda664e5b5cd0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*o00ERI4Uj4z1_b4uGmVOuQ.jpeg"/></div></figure><p id="2977" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">数据是任何软件应用程序最重要的方面之一。因此备份数据成为应用程序开发过程中必不可少的任务之一。</p><p id="fcdf" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为我们存储的数据创建快照是备份数据的一个很好的策略。</p><p id="6ba8" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这是我们要关注的。我们将要讨论的主题是:</p><ol class=""><li id="b085" class="ln lo it kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">什么是快照，为什么要创建快照？</li><li id="182d" class="ln lo it kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">使用<a class="ae mb" href="http://python.org" rel="noopener ugc nofollow" target="_blank"> Python </a>在<a class="ae mb" href="https://aws.amazon.com/ebs/" rel="noopener ugc nofollow" target="_blank">亚马逊EBS </a>中创建快照</li><li id="b2b4" class="ln lo it kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">快照的删除</li></ol><p id="7194" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">让我们一个一个地看一下:</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="845d" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">什么是快照，为什么要创建快照？</strong></h1><p id="f1ac" class="pw-post-body-paragraph kr ks it kt b ku nb ju kw kx nc jx kz la nd lc ld le ne lg lh li nf lk ll lm im bi translated">Amazon的EBS(弹性块存储)是一个块存储服务，设计用于EC2。它提供了通过拍摄时间点快照将EBS卷上的数据备份到AWS S3的服务。</p><p id="ddc1" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">简而言之，在我们的数据库中发现的重要数据是通过根据需要在适当的时间间隔创建快照来备份的。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="ad80" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">使用Python在Amazon EBS中创建快照</strong></h1><p id="9745" class="pw-post-body-paragraph kr ks it kt b ku nb ju kw kx nc jx kz la nd lc ld le ne lg lh li nf lk ll lm im bi translated">为了创建快照，我们将使用AWS Python库boto3。</p><p id="dcc3" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">假设我们有三个数据库托管在三个不同的EC2实例中，每个都有根卷和数据卷。我们想要创建数据卷的快照，因此让我们创建以下字典:</p><pre class="kk kl km kn gt ng nh ni nj aw nk bi"><span id="703e" class="nl mk it nh b gy nm nn l no np">volumes_dict = {<br/>                  'database-1' : 'volume-id-1',<br/>                  'database-2' : 'volume-id-2',<br/>                  'database-3' : 'volume-id-3',<br/>               }</span></pre><p id="5bd5" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">可以在EC2仪表板的EBS部分的AWS控制台中找到卷id。</p><p id="6d7e" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在，让我们编写几行代码来创建快照:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="c256" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">删除快照</strong></h1><p id="a722" class="pw-post-body-paragraph kr ks it kt b ku nb ju kw kx nc jx kz la nd lc ld le ne lg lh li nf lk ll lm im bi translated">创建快照的频率可能因删除而异，因此在删除时，对于给定的卷ID，可能会出现多个快照。我们可以根据需要删除。</p><p id="1794" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这里，我们将删除每个卷ID的所有快照。你也可以根据自己的需求修改代码，避免删除其中的一些。</p><p id="1a3a" class="pw-post-body-paragraph kr ks it kt b ku kv ju kw kx ky jx kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">让我们看看如何删除快照:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="3979" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">结束了</h1><p id="5bf2" class="pw-post-body-paragraph kr ks it kt b ku nb ju kw kx nc jx kz la nd lc ld le ne lg lh li nf lk ll lm im bi translated">我们已到达文章的结尾。希望你学到了一些东西。欢迎评论和反馈。</p></div></div>    
</body>
</html>