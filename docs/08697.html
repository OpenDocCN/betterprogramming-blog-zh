<html>
<head>
<title>An iOS Developer’s Wishlist for WWDC 2021</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS开发者对WWDC 2021的愿望清单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/wwdc2021-wishlist-swiftui-ios15-predictions-dde2d8d45587?source=collection_archive---------8-----------------------#2021-06-01">https://betterprogramming.pub/wwdc2021-wishlist-swiftui-ios15-predictions-dde2d8d45587?source=collection_archive---------8-----------------------#2021-06-01</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="32f0" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">以下是我预测苹果公司在不久的将来会推出的产品</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/d8724a2f18d679135461b3b94364784d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tKPGJvrt_8TjzHaJMnUslQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://developer.apple.com/wwdc21/" rel="noopener ugc nofollow" target="_blank">信号源</a></p></figure><p id="9a50" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">距离WWDC 2021还有不到一周的时间，又到了一年中的这个时候。</p><p id="6a7d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">和往常一样，活动开始前充满了愿望清单和预测——无论是来自开发人员社区还是权衡他们最喜欢的iOS、iPadOS和macOS功能的技术专家。</p><p id="13ee" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">虽然会议主要集中在开发上，但这次有传言说Macbook Pro也在会谈中。</p><p id="455e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">无论如何，作为一名iOS开发者，我对未来几周我们将收到的开发者工具的增强和新的框架更新感到兴奋。</p><p id="5b3d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">因此，继续一年一度的传统，我写下了一份愿望清单，希望并期待在6月7日开始的在线WWDC21活动期间看到这些东西。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="2bad" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">组合:公开所有UI控件发布者</h1><p id="3aed" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">在WWDC 2019期间，苹果的第一方声明式反应编程框架Combine与SwiftUI一起首次亮相。然而令我们沮丧的是，接下来的一年几乎没有提到它。</p><p id="282f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">目前，该框架只为一些API公开了它的发布者——比如Foundation的<code class="fe na nb nc nd b">URLSession</code>、<code class="fe na nb nc nd b">Timer</code>和<code class="fe na nb nc nd b">NotificationCenter</code>。但是<code class="fe na nb nc nd b">UIButton</code>触摸事件和其他此类控件的发布者仍然缺失。</p><p id="666c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在安静的WWDC 2020联合收割机之后，我预计今年会有很多渐进的变化。对于大多数(如果不是全部的话)<code class="fe na nb nc nd b">UIControl</code>事件来说，拥有内置的发布者将会很棒。</p><p id="a045" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我很乐意看到像Core Location、Core Bluetooth、MapKit和PencilKit这样的框架组合发布者。</p><p id="9b7b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">鉴于Swift 5.5中即将推出的async/await功能，看看苹果会对其Combine框架做些什么会很有趣。考虑到Combine框架在SwiftUI中的作用，如果苹果公司反对Combine框架，那将是令人震惊的。我估计他们会找到将async/await与他们的反应式框架集成的方法。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="f76a" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">PencilKit:让画布更加个性化</h1><p id="4d37" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">苹果的绘图框架PencilKit也在WWDC 2019发布。与Combine不同，它有一些不错的更新。首先，框架暴露了笔画点，使得绘制路径更容易。</p><p id="e324" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">今年，我希望框架能展示更多的功能，比如允许保存，以及将画布的一部分编辑成图像。在UIImage上保存标记现在是可行的，但是需要大量的样板文件。我希望苹果能把过程抽象一点。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="a875" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated"><strong class="ak">核心ML，创建ML，和愿景:加速无代码革命，给我们更多的助手功能</strong></h1><p id="d9d6" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">Create ML是苹果公司使用内置分类器训练机器学习模型的拖放界面。去年，我们引入了新类型的分类器，如动作分类和风格转移。</p><p id="714c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这一次，我希望Create ML至少能够提供时间序列预测模型训练功能。这将是一个很高兴看到甘模型培训支持。</p><p id="8602" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">另一方面，Core ML去年没有功能更新。新的<code class="fe na nb nc nd b">init</code>方法、加密、通过CloudKit的模型部署和一些新的层添加是宣布的主要变化。我希望这个框架今年也能得到细微的改进。也许如果苹果公开他们自己的核心ML助手函数，它会变得很棒。</p><p id="01fa" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Vision framework为我们带来了大量新功能:轮廓检测、手和身体姿势估计、光流、轨迹检测等等。</p><p id="85f9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">鉴于计算机视觉的无限可能性，很难预测苹果今年会为我们准备什么。最低限度，我会期待更多的实用功能，如显示边界框容易。也许引入一个内置的图像分割视觉请求并不是一个坏主意。</p><p id="7f4d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我希望RealityKit得到一个不错的升级。回放API可能会引入在预先录制的视图中添加虚拟对象的功能——就像今年的Android 12一样。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="065e" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated"><strong class="ak"> SwiftUI:更多视图、更好的性能和生产就绪</strong></h1><p id="0e5e" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">SwiftUI将在WWDC 2021进入第三次迭代。去年，我们获得了一系列新的更新——从懒惰堆栈到新的网格视图、地图工具包、链接、用苹果按钮登录等等。</p><h2 id="dfe5" class="ne me iu bd mf nf ng dn mj nh ni dp mn lj nj nk mp ln nl nm mr lr nn no mt np bi translated">WidgetKit:更多的可定制性</h2><p id="0768" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">最突出的是WidgetKit，这是一个仅在SwiftUI中创建主屏幕窗口小部件的框架。</p><p id="fb1d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我认为WidgetKit框架应该给开发人员更多的可定制性——可能是多选交互性、一些动画和新的属性包装器。</p><h2 id="7585" class="ne me iu bd mf nf ng dn mj nh ni dp mn lj nj nk mp ln nl nm mr lr nn no mt np bi translated">带上丢失的控件</h2><p id="7a9a" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">通常，一个iOS应用程序支持两到三个以前的SDK。鉴于这将是SwiftUI 3.0，我希望更多的功能与UIKit对等。</p><p id="fe97" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">从一开始就缺少拉至刷新。尽管尽了最大努力，这些变通办法还是让我们想要更多。希望苹果包括一个内置的刷新控件。</p><p id="3586" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">同样，我期待SwiftUI的第一个搜索栏。这对于增加SwiftUI列表的可定制性至关重要。</p><p id="991f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对于<code class="fe na nb nc nd b">WKWebView</code>、共享表和图像拾取器的SwiftUI实现也是非常需要的。</p><p id="32b1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我也希望在当前的SwiftUI视图中看到更多的灵活性。例如，将徽章带到<code class="fe na nb nc nd b">TabViews</code>，在<code class="fe na nb nc nd b">Lists</code>上滑动动作，以及一个工作中的多页修改器。</p><p id="7394" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最重要的是，我们已经了解了UIKit收藏视图中的组合布局。因此，SwiftUI的一个成熟的集合视图应该是有希望的。</p><h2 id="4121" class="ne me iu bd mf nf ng dn mj nh ni dp mn lj nj nk mp ln nl nm mr lr nn no mt np bi translated">解决致命弱点</h2><p id="8d22" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">由于SwiftUI还在早期，bug是意料之中的。无论如何，<code class="fe na nb nc nd b">NavigationLink</code>可能是SwiftUI中最弱的组件。</p><p id="2562" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一开始，当目的视图在创建过程中被加载时，我们会感到困惑。虽然我们有懒惰的观点来拯救我们，但当推动或弹出观点时，仍然不会使我们的生活变得容易。<code class="fe na nb nc nd b">NavigationLink</code>同样<a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/3-crucial-things-to-know-about-navigationlink-in-swiftui-cb15d791a55">与<code class="fe na nb nc nd b">ContextMenu</code>或<code class="fe na nb nc nd b">Toolbar</code>的</a>也不像人们所期望的那样——留下了太多有待改进的地方。</p><p id="7e93" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我不介意苹果公司今年重新推出整个路由概念，扔掉<code class="fe na nb nc nd b">NavigationLink</code>变得更好。</p><p id="70b9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">同样，SwiftUI的<code class="fe na nb nc nd b">Map</code>视图也落后于其UIKit版本数英里。例如，在地图上添加注释的<code class="fe na nb nc nd b">onTapGesture</code>修改器<a class="ae kz" href="https://developer.apple.com/forums/thread/659748" rel="noopener ugc nofollow" target="_blank">不工作</a>。</p><p id="32ab" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果苹果也能修复SwiftUI <code class="fe na nb nc nd b">Form</code>，我会很高兴。目前，当一个<code class="fe na nb nc nd b">TextEditor</code>被包围时，它不起作用。</p><p id="ede1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">成为第一响应者的SwiftUI <code class="fe na nb nc nd b">TextField</code>，就像UIKit一样，会受到很多人的喜爱。</p><h2 id="c6f8" class="ne me iu bd mf nf ng dn mj nh ni dp mn lj nj nk mp ln nl nm mr lr nn no mt np bi translated"><strong class="ak">提高视图的可重用性</strong></h2><p id="0fbe" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">目前，将SwiftUI视图添加到UIKit视图并不容易。在<code class="fe na nb nc nd b">UICollectionViewCell</code>中设置SwiftUI视图时，你可能会使用<code class="fe na nb nc nd b">UIViewRepresentable</code>，如这里的<a class="ae kz" href="https://stackoverflow.com/questions/57394518/how-to-set-a-swiftui-view-as-a-cell-to-a-collectionview" rel="noopener ugc nofollow" target="_blank">所示</a>。希望苹果收紧互操作性。</p><p id="e7f7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对iOS和macOS的单一SwiftUI代码库的期望也不会太高。Swift 5.5引入了<a class="ae kz" href="https://github.com/apple/swift-evolution/blob/main/proposals/0308-postfix-if-config-expressions.md" rel="noopener ugc nofollow" target="_blank">后缀成员表达式</a>，让我们可以编写操作系统条件修饰符，同时允许重用。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="b0a6" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">一些可能会让我们吃惊的公告</h1><p id="dfdc" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">苹果因领先开发者社区一步而闻名。他们总有一些锦囊妙计。</p><p id="6fc4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果他们把窗帘拉上<code class="fe na nb nc nd b">UITableView</code>，我不会感到惊讶——自从他们去年在<code class="fe na nb nc nd b">UICollectionView</code>中演示了如何配置<code class="fe na nb nc nd b">TableView</code>后，我就更加惊讶了。然而，对于许多开发人员来说，这可能是一个突破性的变化。</p><p id="7e56" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">隐私在WWDC总是备受关注，今年我们可能会看到一键撤销所有应用的许可——比如Android 12。</p><p id="7c6f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在增强现实方面，苹果眼镜将于明年上市。面向开发人员的混合现实耳机工具包可能有助于获得对RealityKit开发的兴趣，并增加采用率。</p><p id="eafd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后但同样重要的是:一个用于iPadOS的Xcode！这可能不再是一个遥不可及的梦想，因为最新的iPad Pro使用了与Mac系列相同的M1芯片。虽然实际上，我期待Xcode Lite在今年晚些时候推出。如果是真的，这无疑将是2021年WWDC奥运会的最佳成果。</p><p id="230d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">暂时就这样了。感谢阅读。</p></div></div>    
</body>
</html>