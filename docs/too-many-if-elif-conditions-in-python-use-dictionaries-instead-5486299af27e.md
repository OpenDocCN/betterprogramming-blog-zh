# Python 中 If-Elif 条件太多？请改用字典

> 原文：<https://betterprogramming.pub/too-many-if-elif-conditions-in-python-use-dictionaries-instead-5486299af27e>

## Python 字典清理代码的一种非常规方式

![](img/e8861ccd02041096269f32359b200316.png)

卡尔·牛顿在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片。

今天，我想分享一个快速但有用的技巧，我从未在关于 Python 字典的文章中看到过。我经常使用它。

如果你已经熟悉 Python 字典，你可以直接跳到第二部分(尽管评论从来都不是坏事)。

# 1.Python 词典

字典是一组无序的术语和定义。在 Python 中，我们用花括号来定义它们。下面是字典的一个例子:

```
me_dict = {
    "name": "Tommaso",
    "medium_handle": "tdep",
    "github_handle": "heytdep"
}
```

如您所见，有一个标识符或键(例如`"name”`)和一个定义或值(例如`"Tommaso”`)。它们的行为就像数据库返回给定键的值。

*注意:虽然字典最初看起来与 JSON 格式相似，但是记住这两者是完全不同的。JSON 是一种数据格式(字符串)，而字典是一种数据结构。*

在上面的代码示例中，如果我想为我的`name`获取*值*，我会做如下操作:

```
>>> me_dict.get("name")
'Tommaso'
```

或者如果我想得到我的`medium_handle`，我会这样做:

```
>>> me_dict.get("medium_handle")
'tdep'
```

请注意，您可以使用方括号(`[]`)来访问字典中的数据:

```
>>> me_dict["medium_handle"]
'tdep'
```

然而，更好的做法是使用`get()`方法，因为它可以处理键错误:

# 2.字典>(许多)if 语句

听我说完:你是否曾经遇到过有很多`if`陈述的情况？

嗯，我有。我从中学到了一些东西。

假设您有一个问题需要解决:给定用户输入，如果该输入匹配某个值，则执行一些代码。考虑到有许多输入情况。

下面是一些程序员最初会想到的(除了代码中有十个或更多的语句，而不是四种情况):

诸如此类。嗯，那是个相当糟糕的主意。这不仅消耗内存(尽管使用了`elif`语句来“阻止”)，而且在代码可读性方面也很差。

这就是 Python 字典派上用场的地方:它们存储*引用，*意味着它们也可以存储对函数的引用。

这将完成工作:

它确实看起来更长，但是当处理大量案例时，它写起来更快，更好看，并且更节省内存。

如你所见，在`colors_dict`字典中，我们为每个术语引用了一个特定的函数。记住不要包括圆括号。你实际上并不想调用这个函数，而是想引用它。

然后，使用用户输入来引用其中一个函数，我们用用户输入作为`color`参数来调用它。

忘了说上面的代码挺没用的，但是应该能帮你抓住重点。

运行它:

```
>? blue
blue 1
```

# 结论

就是这样！一个简单而快速的技巧，你现在就可以开始使用，去除代码中许多嘈杂的`if`语句。