# 编码，快与慢:开发人员和过度自信的心理

> 原文：<https://betterprogramming.pub/coding-fast-and-slow-developers-and-the-psychology-of-overconfidence-433388e7aec0>

## 当开发人员进行评估时，他们脑子里在想些什么，为什么这么难解决

![](img/911add8a296d5e31edfbb54a997c4a4e.png)

[来源](https://unsplash.com/photos/v97v3xW8Q8A)

这篇文章关注的是当开发人员进行评估时，他们脑子里在想什么，为什么这个问题如此难以解决，以及我个人是如何想出如何生活和编写软件(为非常快乐的企业主)的，尽管我的评估仍然非常不可靠。

但首先，一个故事。

正是 *<插入的时间段，才不会让我显得>* 老得离谱，我还是一个年轻的开发者。在大学里，我的编码练习得了 a。作为一名初级开发人员，我以超出任何人预期的速度编写代码来解决任何人指定给我的问题。我可以学习一门新语言，并在一个周末内变得富有成效(或者，我是这么认为的)。

因此，在事情的自然发展过程中，我开始运行我自己的项目。客户经理大致解释了客户需要什么，我们讨论了一下，我说，“那应该是大约 3 周的工作。”“听起来不错，”他说。所以我开始编码。

你认为这个项目需要多长时间？四周？也许五年？

嗯，实际上:三个*月*。

我对那段时间有着清晰的记忆——我的自我形象一直被包装成“一个优秀的程序员”,而在这一点上，我是非常失败的。我失眠了。我有过短暂的惊恐发作。它就是会。不是。结束。我记得和那个客户经理聊过，心里一个坑，一遍又一遍的解释我还是没有什么东西可以展示。

在其中一个黑暗时期，我决心再也不犯那样的错误。

不幸的是，在我的职业生涯中，我学到了一些很难的东西:我总是*错得那么离谱。*

事实上，我学到了更好的东西:我们都错了。

最近，我读了丹尼尔·卡内曼的[思考，快与慢](http://www.amazon.com/Thinking-Fast-Slow-Daniel-Kahneman/dp/0374275637)，这是一个关于心理学对人类认知的了解，关于它不可思议的优势和它的(出乎意料的可预测的)失败的庞大调查。

我最喜欢的部分是关于过度自信。让我们这么说吧，这和开发人员做评估的方式有一些联系。

# 为什么你不擅长做评估，第一部分:写软件=开始时学一些你不知道的东西

我相信，我们如此不擅长做评估，确实有两个原因。第一种是不可简化的:编写软件需要计算出非常精确的细节，以至于你可以告诉计算机如何去做。问题是，在你不完全理解的部分，往往隐藏着一些问题，这些问题会爆发，让你彻底崩溃。

这是真正不可减少的。如果你确实“完全理解”了某件事，你已经有了一个库或现有的软件来做那件事，而你并没有写任何东西。否则，就有不确定性，它经常会爆发…而这些爆发可能需要一天到一年的时间，甚至超过宇宙的热寂才能解决。

这些破坏可能以各种形式出现，也许一个关键的第三方服务被证明是不可靠的…所以你需要写一个完整的重试/失败跟踪层..或者数据库可能不理解一些关键的字符集编码…所以您必须从头开始重新构建所有的模式..或者，真正的经典:当你向客户展示软件时，他们并不完全想要他们要求的东西，他们想要的只是一点点不同。

当你第一次遇到这些困难时，你会想“我们应该在规范阶段更加小心”。但这最终以失败告终，非常糟糕。为什么？核心原因是，正如你从上面的例子中可以看到的，如果你要写一个详细到可以捕捉到那些问题的规范，你就像是在*写软件*，而且真的没有办法绕过这一点(如果你在读这篇文章的时候，想把这一点扔掉，我必须告诉你——真的，真的，真的没有办法绕过这一点。全规格是一个糟糕的经济主意。下面我将列出更好的经济选择)

但是有趣的是:**每一个在现实世界中工作了几个月以上的程序员都会遇到我上面描述的问题。**

然而……我们继续做出这些极其糟糕的估计。

更糟糕的是，我们相信自己的估计。我仍然相信我自己的话。

所以，等等，我是不是在暗示所有的开发人员都在某种程度上成为相同的、可预测的思维错误的牺牲品？

是的，那正是我所建议的。

# 为什么你不擅长做评估，第二部分:过度自信

卡尼曼详细讨论了“专家”做出预测的问题。在各种各样令人震惊的情况下，这些预测被证明是完全无用的。具体来说，在很多很多情况下，以下三点是正确的:

1-“专家”对未来事件的预测完全不可靠，基本上毫无意义

有疑问的专家对他们预测的准确性非常有信心

3-绝对没有什么能够削弱专家们的信心

最后一点确实值得注意:即使专家试图诚实地面对他们自己过去失败的证据，即使他们深刻理解人类认知的这一缺陷……他们仍然会对自己预测的准确性深感自信。

卡尼曼在讲述了一个关于他自己在这方面的失败的惊人故事后解释道:

“你对未来判断的信心不会因为你刚刚读到的内容而减弱，即使你相信每一个字。”

有趣的是，在*有*种情况下，专家的预测非常准确——下面我将解释如何利用这些情况来破解你自己的开发过程。但在此之前，我想先介绍一下有缺陷的过度自信是如何运作的一些细节，这样你也许能在自己身上发现它。

# 出错的感觉:系统 I 和 II，以及 3 周 3 个月的问题

在《T4》的《思考的快慢》一书中，卡尼曼解释了大量的心理学知识，它们是支配我们思想的两个“系统”之间的相互作用:系统一和系统二。我过于简短的总结是“系统 I 进行快速的、启发式的、模式匹配的思考，系统 II 进行仔细的、理性的、分析性的思考。”

而且，关键的是，好像进化设计了整个事情，关键目标是*让系统 II 不必做太多的事情*。从进化的角度来看，这很有意义——系统 II 非常慢，而且非常昂贵，它应该只在非常非常罕见的情况下部署。但是你看到了问题，毫无疑问:没有*思考*，你的头脑怎么知道*什么时候调用系统 II* ？从这个角度来看，心理学的许多不同的“认知偏见”作为一个残酷的现实世界问题的优雅工程解决方案是有意义的:如何实时分配注意力。

为了了解系统 I 和系统 II 之间的相互作用是如何导致非常糟糕但却是真实可信的估计，我将把话筒交给我的朋友 [Edmund Jorgensen](http://blog.hut8labs.com/author/edmund-jorgensen.html) 。他在一封电子邮件中这样描述我:

> 当我问自己“这个项目需要多长时间”的时候，我不知道，但想有一个想法，并翻译这个问题。变成什么？我怀疑这是类似于“我有多有信心我能做好这件事”这样的问题，这被转化为一个时间估计，带有一些相当个人化的乘数(例如，当 Bob 的信心水平为 X 时，他总是说 3 周；当 Suzy 的置信度为 X 时，她总是说 5 周)。

如果你逐渐意识到你有两个“大”时间估计，请举手？对我来说，是“3 周”和“3 个月”。前者的意思是“这看起来很复杂，但我基本上认为我知道如何去做”，后者的意思是“哇，这很难，我不知道涉及到什么，但我打赌我能弄明白。”

又名，我认为埃德蒙是完全正确的。

(对于那些在家玩的人来说:我的“3 周”项目似乎需要 5-15 周，我的“3 个月”项目通常需要 1-3 年，如果有人愿意继续付钱给我的话)。

# 好吧，所以我们不要太自信了！

在这一点上，你可能会想:“好吧，我知道丹要去哪里了:我们必须以某种方式处理这些评估挑战，使用系统 II 而不是系统 I。这样，我们仔细的分析头脑将产生更好的评估。”

恭喜你，你刚刚发明了瀑布。

这基本上是“在我们开始编码之前的完整规范”方法的承诺:不允许团队做出直觉的估计，强迫每个人仔细地使用他们的分析头脑，并提出一个详细的规范，将估计分成更小的部分。

但这完全失败了。一直都是。

这里真正的麻烦是两个估计误差来源之间的相互作用:人类对过度自信的偏见，*和*任何真正的软件项目中包含的固有的不确定性。这种不确定性非常严重，即使是谨慎、理性的 System II 也无法做出准确的预测。

幸运的是，有一种方法既能发挥你自身认知的优势，又能处理现实世界的强烈可变性。

首先，如何发挥你的智力优势。

# 当专家是正确的，如何利用这一点

卡尼曼和其他研究人员*已经能够识别专家判断不完全糟糕的情况。正如他所说:*

“要知道你是否能相信一个特定的直觉判断，你应该问两个问题:做出判断的环境是否足够规则，能够根据现有证据进行预测？对诊断专家来说，答案是肯定的；对选股专家来说，答案是否定的。专业人士有足够的机会学习线索和规律吗？”

一个“足够的机会”意味着大量的*预测练习，以及一个学习预测准确性的紧密反馈回路。*

现在，6-18 个月的软件项目在所有这些标准上都悲惨地失败了。正如我在上面所讨论的，环境根本就不是“规则的”。此外，专家们不知道如何将大量预测和快速反馈结合起来。如果某件事需要一年或更长时间，反馈循环太长了，无法训练你的直觉(另外，你需要大量的实例)。

然而，在软件开发中有一种形式的评估，即*是否符合该清单——0-12 小时的任务，然后立即执行。在这种规模下，事情会有所不同:*

*   尽管仍然有很多可变性(下面会有更多)，但是“你的环境中的规律性”还是有一些真正的希望的。两个四小时的任务比两个六个月的项目有更多的共同点。
*   在几年的时间里，你可以预期做出数百个这样的估计。
*   你会很快得到关于你准确性的反馈

我参加过的速度最高的团队进行周冲刺，基本上把所有事情都分解成 0、2、4 或 8 小时(对 8 小时的项目总是有一些怀疑——比如，我们会很努力地把它们分解成更小的块)。我们很快地、有点随意地估算了一下——我们甚至没有使用[计划扑克](http://en.wikipedia.org/wiki/Planning_poker)风格的形式主义。

在这一点上，你利用了系统 I 的优势——它有机会接受训练，它看到了大量的例子，并且有一些有意义的模式可以收集。而且，由于 sprint 很短，您可以很快得到关于评估质量的反馈。

# 等等，等等，等等，我们来做一千个 4 小时的估计吧！

我怎么能既声称你*能*做出这些微观尺度的估计，却不知何故不能把它们汇总成 6-18 个月的估计呢？误差不会平均吗？

基本上，虽然我认为这种规模的估计通常是正确的，但当他们错的时候，他们错的程度是没有限度的。用数学术语来说，我怀疑实际时间遵循幂律分布。而且，幂律分布因没有稳定的均值和无限的方差而著名。坦白地说，这正是那些大瀑布项目评估给我的感觉。

你可能会想:你预计要花 4 个小时的事情怎么可能实际上要花一两个月呢？

这种情况*一直都在发生*:你在某件事情上迈出了最后一步，却发现了一些可怕的阻碍，这完全改变了范围。例如，在最近的一次启动中，为了从我们的系统中消除单点故障，我们在我们编写的 IMAP 服务器前放置了一个负载平衡器。我们的目标是，当一台服务器死机时，负载平衡器会平稳地故障转移到另一台机器，客户不会受到任何影响。

这似乎是一个 4 小时左右的任务。

但是当我们实际去做的时候，我们意识到/记得 IMAP 服务器，不像所有的 HTTP 服务器，我们已经习惯了*维护连接状态*。因此，如果我们希望能够透明地故障转移到另一台服务器，我们必须以某种方式在两台服务器上保持这种状态，或者在 IMAP 服务器前面编写某种状态感知代理负载平衡器。

对我们来说，这就像是一个 3 个月的项目。

还有另一个原因，短距离冲刺是所有这些中绝对关键的一部分:它们对糟糕透顶的估计的成本进行了严格的限制。

# 我们都完蛋了吗？

那我们该怎么办？就接受我们所有的项目都注定要失败？因为我们总是不能兑现我们的承诺，所以我们会毒害其他企业的关系？

关键在于，你首先要承认，做出准确的长期估计从根本上来说是不可能的。一旦你做到了这一点，你就可以应对一个挑战，尽管这个挑战极其困难，但也是可以应对的:即使你不能做出有意义的长期评估，你如何让你的开发团队产生大量的价值？

要了解我个人是如何努力应对这一挑战的，请看我的下一篇文章:“[你没有最后期限！没有评估、规范或其他谎言的软件开发](/no-deadlines-for-you-software-development-without-estimates-specs-or-other-lies-289fd88b9655)。