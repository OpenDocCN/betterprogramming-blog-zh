<html>
<head>
<title>Automatically Execute Bash Commands on Save in VS Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在VS代码中自动执行Bash命令</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/automatically-execute-bash-commands-on-save-in-vs-code-7a3100449f63?source=collection_archive---------2-----------------------#2020-07-22">https://betterprogramming.pub/automatically-execute-bash-commands-on-save-in-vs-code-7a3100449f63?source=collection_archive---------2-----------------------#2020-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="df12" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">“如果每次保存文件时，我都可以针对不同类型的文件自动运行特定的终端命令，那会怎么样？”</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f8b37c595aba45282fa44bc73b819506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PQY2yE91-paBUeU9UJ2-6A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://freepik.com" rel="noopener ugc nofollow" target="_blank"> Freepik </a>上的<a class="ae ky" href="https://www.freepik.com/free-vector/marketing-automation-2020-isometric-banner-seo_6993863.htm#query=automatic%20process&amp;position=7" rel="noopener ugc nofollow" target="_blank"> upklyak </a>拍摄的照片。</p></figure><p id="f5ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近厌倦了写HTML代码。也许我只是觉得它太罗嗦，太重复，或者我只是太懒了。不管怎样，我开始寻找一个HTML预处理器，我将在我所有的项目中一致使用。我过去在Codepen上用过几个，像HAML和斯利姆，但是我爱上了<a class="ae ky" href="https://github.com/pugjs/pug" rel="noopener ugc nofollow" target="_blank">哈巴狗</a>，并决定在我的项目中使用它。</p><p id="ed34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过，问题是:pug没有一个文件监视器扩展，可以像SASS/SCSS提供的无数扩展那样，在VS代码中保存时自动将Pug文件编译成HTML。</p><p id="3266" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我使用<a class="ae ky" href="https://ejs.co" rel="noopener ugc nofollow" target="_blank"> EJS </a>创建一个邮件模板，用于在用<a class="ae ky" href="https://nestjs.com/" rel="noopener ugc nofollow" target="_blank"> NestJS </a>构建的API上发送电子邮件时，我也遇到了类似的问题。我无法轻松测试我的EJS模板。我必须安装<a class="ae ky" href="https://www.npmjs.com/package/ejs-cli" rel="noopener ugc nofollow" target="_blank"> ejs-cli npm包</a>，并在每次保存代码时运行该命令。对于一个厌倦了简单地编写普通HTML代码的人来说，你可以想象每次我不得不运行命令来编译以便测试我的更改时，我有多么沮丧——这种情况发生了很多次。</p><p id="437f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在考虑解决方案时，我有一个想法:“如果我可以在每次保存文件时自动为不同类型的文件运行特定的终端命令，会怎么样？我再也不需要文件监视器扩展了。”在搜索了几秒钟在保存时运行终端命令的自动方法后，我偶然发现了emeraldwalk的<a class="ae ky" href="https://marketplace.visualstudio.com/items?itemName=emeraldwalk.RunOnSave" rel="noopener ugc nofollow" target="_blank">Run on Save</a>VS Code extension。在本文中，我将带您通过设置这个扩展来解决这些问题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/108dc7e0f7f2deb8a20959008a77e9f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2myXstDMLvwhfdvnNEJUPQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">通过绿宝石行走运行<strong class="bd lx">保存</strong>扩展</p></figure></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="d63c" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">转到VS代码上的settings.json文件</h1><p id="0c20" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">如果你还不知道怎么做，你可以进入文件&gt;偏好设置&gt;设置或者按Ctrl +(如果你用的是Mac，按Cmd +)。然后单击左侧菜单中的Extensions选项卡，查找保存时运行的扩展，并在settings.json中单击Edit。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/71866b86b2fc91ac55b7feee31b6360c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pPhVJxVOx9YwWS6l_CMlEw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在保存设置页面上运行。</p></figure></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="6299" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">设置要运行的命令</h1><p id="0877" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">在<code class="fe nd ne nf ng b">settings.json</code>文件中，有一个包含命令的对象，每当保存一个文件时，扩展就会自动运行这些命令。最好的部分是通过使用正则表达式，你可以设置它来匹配特定的文件扩展名。为了解决我前面提到的帕格和EJS问题，我们将编辑<code class="fe nd ne nf ng b">settings.json</code>文件，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="853e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这些设置，您的文件应该会在您保存时顺利地自动编译。</p><p id="45a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了像这样的简单命令之外，扩展还提供了一些很酷的变量，用于生成更细粒度的命令，比如涉及文件名、包含目录等的命令。这些变量的完整列表可以在VS代码中的扩展登陆页面上找到，或者如果你懒得查看的话，可以在下面的链接中找到。</p><div class="nj nk gp gr nl nm"><a href="https://marketplace.visualstudio.com/items?itemName=emeraldwalk.RunOnSave#:~:text=Run%20On%20Save%20for%20Visual,don%27t%20trigger%20the%20commands." rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd iu gy z fp nr fr fs ns fu fw is bi translated">在保存时运行- Visual Studio市场</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">此扩展允许配置每当文件保存在vscode中时运行的命令。注意:命令只能运行…</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">marketplace.visualstudio.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa ks nm"/></div></div></a></div></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="ea4c" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">结论</h1><p id="7820" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li mz lk ll lm na lo lp lq nb ls lt lu im bi translated">找到使工作尽可能自动化并使我们的代码编辑器更有趣的方法是很重要的。在保存时发出这种命令的可能性是无穷无尽的，从这里介绍的小编译到保存时自动部署和推送到远程存储库。它是无限的。</p><p id="caf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇文章对你有所帮助。</p></div></div>    
</body>
</html>