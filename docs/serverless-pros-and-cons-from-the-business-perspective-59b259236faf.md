# 无服务器:从商业角度看利弊

> 原文：<https://betterprogramming.pub/serverless-pros-and-cons-from-the-business-perspective-59b259236faf>

## 了解无服务器方法的优势和劣势，为您的技术体系做出正确的决策

![](img/418e2d77e660d6ea13e72bfc28407d20.png)

[李中清](https://unsplash.com/@picsbyjameslee?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍照

对于许多人来说，无服务器是一个充满激情的话题，自从它的概念提出以来，已经有了很大的发展。它最初是一种摆脱服务器的方法，不是在技术方面(显然)，而是在管理方面。

其背后的想法是让开发人员和一般 it 人员专注于创建代码并将其部署在某种托管基础架构中。通常的反对意见是反对基于容器的平台。使用托管的 Kubernetes 服务，如 EKS 或 AKS，您仍然需要对运行您的负载的工人负责。您不需要担心管理组件。但是同样，您需要处理和管理基础设施的某些部分。

这种方法也被整合到其他系统中，如 iPaaS 和纯 SaaS 的低代码或无代码产品。我们引入了功能即服务的概念，使这种方法与众不同。所以，第一个问题是:部署在无服务器提供商上的功能和可以在 iPaaS 上使用的应用之间的主要区别是什么？

这取决于你想分析的视角。

我将跳过关于扩展到零的能力、预热技术等技术细节，而专注于用户角度。主要区别在于这些服务将如何根据您的使用情况向您收费。

iPaaS 或类似的 SaaS 产品将根据应用实例或类似的东西向您收费。但是，无服务器/功能即服务平台的成本取决于您对该功能的使用情况。这意味着它们会根据你的函数收到的请求数量来收费。

这改变了游戏规则。它提供了优化操作和弹性方法的最准确的实施。在这种情况下，很明显，你将只为使用你的平台付费。经济状况非常好。看看今天的 AWS Lambda 产品:

> AWS Lambda 免费使用层包括每月 100 万个免费请求和每月 400，000 GB 秒的计算时间。

之后，在第一个一百万次请求后，他们将向您收取 0.20 美元的额外一百万次请求费用。

阅读上面的句子，你可能会想，“太好了。我将把一切都移植到这种方法上！”

没那么快。这种架构风格并不适用于您可能拥有的所有服务。虽然经济性很好，但是这些服务有局限性和反模式，这意味着您应该避免这种选择。

首先，让我们从大多数云提供商为这些类型的服务定义的限制开始:

*   **执行时间:**这通常由您的云提供商限制为最大执行秒数。这是公平的。如果你要按请求收费，而你可以使用提供商的资源在一个需要 10 个小时才能完成的请求中完成所有工作，这对提供商来说可能*不*公平！
*   **记忆资源:**同样有限，原因相同。
*   **接口有效负载:**一些提供者还限制了作为一个函数的一部分可以接收或发送的有效负载——这是在为工作负载定义架构风格时需要考虑的因素。

一会儿，我们将看看反模式，或者什么时候应该避免使用这种架构和方法

但是首先，快速介绍一下这在技术层面上是如何工作的。这种解决方案非常经济，因为您的函数不处理任何请求的时间不会加载到它们的系统中。因此，它根本没有使用任何资源(只是很小的一部分存储，但这是很荒谬的)，也没有为云提供商产生任何成本。但这也意味着，当有人需要执行你的功能时，系统需要恢复它，启动它并处理请求。这通常被称为“预热时间”，其持续时间取决于您使用的技术。

*   **低延迟服务和具有关键响应时间的服务**:如果您的服务需要低延迟或者响应时间必须很快，这种方法可能不适合您，因为需要预热时间。是的，有解决这个问题的变通办法，但是它们需要对服务的虚拟请求来保持它的加载，并且它们产生了额外的成本。
*   **批处理或调度流程:**这是针对云原生世界的无状态 API。如果您有一个可能需要时间的批处理过程，可能是因为它被安排在晚上或周末，那么运行这种工作负载可能不是最好的主意。
*   **大规模服务:**如果你按请求付费，评估你的服务将收到的请求数量以确保这些数量仍然在你这边是很重要的。如果您的服务每秒有数百万个请求，这可能不是您 IT 预算的最佳方法。

最后，无服务器/功能即服务之所以如此伟大，是因为它的简单性和经济性。同时，它也不是解决您所有工作负载的灵丹妙药。

您需要将其与其他架构方法和基于容器的平台，或者 iPaaS 和 SaaS 产品进行平衡，以保持您的工具箱充满选项，从而为您公司的每种工作负载模式找到最佳解决方案。