<html>
<head>
<title>Scala Almost Succeeded</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Scala几乎成功了</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/scala-almost-succeeded-c3b1028b02c5?source=collection_archive---------0-----------------------#2019-08-25">https://betterprogramming.pub/scala-almost-succeeded-c3b1028b02c5?source=collection_archive---------0-----------------------#2019-08-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f36d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">而且仍然有可能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/951cd84a541a66596ee0a91632662adb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PoAEJzWmCTm05sN-"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Sherise拍摄的照片。开<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">退溅</a>。</p></figure><p id="2f43" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.scala-lang.org/" rel="noopener ugc nofollow" target="_blank"> Scala </a>是一种学术语言。它引起了业界的关注，因为它承诺在Java停滞不前的时候为多核计算机提供更好的可扩展性。</p><p id="aba3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，在2015年左右，Scala因为通用集群计算框架Spark而经历了高速增长。</p><p id="f6e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所谓“成功”，我们指的是行业中使用Scala的开发人员的数量。如果Redmonk的评级和招聘广告的频率可以作为参考，Scala已经进入了稳定期。也就是说，Scala已经设法进入了几乎所有的JVM系统——即使系统中只有一部分是用Scala编写的库或框架。</p><p id="b4f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这篇文章提供了一个观点，关于为什么Scala早期的成功可能会走到尽头，以及我认为Scala社区需要做些什么来回到成长阶段。</p><p id="e18c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">免责声明:这不是对任何个人的攻击。如果你觉得我对你这个人有负面评价，请联系我，我会尽力让你放心。</em></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="e3f9" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">棘手问题</h1><p id="ad2c" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">Scala开发人员总是抱怨编译时间、工具质量，以及哪些语言特性太复杂而不能包含在他们的代码库中。</p><p id="00cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">准确地说，开发人员抱怨缓慢的<em class="ls">构建</em>时间，这是从冷构建一个项目所需的时间。这还包括启动时间和解析/下载依赖关系。</p><p id="9ef2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对工具的抱怨可以是任何事情，从构建工具的复杂性到IDE中缺乏对高级语言特性的支持，再到发布项目的困难。</p><p id="563c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让大多数Scala开发人员害怕的事情——也是引起最激烈争论的事情——是不成形的泛型编程库的使用。我对此负有部分责任，因为我曾经举办过一场Scala交换研讨会来支持它的使用。我后悔了。请原谅我！</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="ef16" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">编译时间</h1><p id="b691" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">2019年，我们看到了Lightbend在编译性能上的良好进步:Scala 2.13编译器是迄今为止最快的Scala编译器，专有的GraalVM技术可以让它更快。</p><p id="da57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">值得称赞的是，在商业客户的帮助下，Lightbend在微观优化上加倍努力。这是一个值得称赞的成就，因为Lightbend主要关心他们自己的产品，Scala团队非常小(只有四个全职开发人员)，他们还负责sbt的维护。</p><p id="2f42" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于任何需要更快编译的人来说，triplequote的Hydra 已经满足了你的需求。</p><p id="850b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Twitter正在用RSC(合理的Scala编译器)重写编译器，而Kentucky Mule是由一名前Scala编译器团队成员提出的，所以还有更多选择可以采用。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="8184" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">工具作业</h1><p id="3ee0" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">EPFL的学者们花了很长时间才承认编译时间和工具是个问题。<a class="ae kv" href="https://scala.epfl.ch/" rel="noopener ugc nofollow" target="_blank"> Scala中心</a>成立于2016年，旨在“协调和开发开源库和工具，造福所有Scala用户。”</p><p id="fd86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我是早期的支持者，但当他们花了前三年的时间在宠物项目和vapourware上，如Scaladex、孢子、Scastie、Scala Native和Dotty，而不是解决迫在眉睫的问题时，我失去了信心。</p><p id="6484" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2019年，我们看到Scala Center交付了更多相关的项目:他们正在编写更快的构建工具、重构工具和IntelliJ的替代品。</p><p id="5e5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不幸的是，他们缺乏工业工程经验，这表现在他们决定发明新的解决方案，而不是对生产中使用的现有工具做出贡献。例如，我们可以批评bloop，指出除非在sbt中看到好处，否则没有人会受益。我们可以通过注意到10%的Scala用户(大约2018年)正在使用ENSIME来批评Metals的创造，他们拒绝了数百名志愿者的贡献。</p><p id="d4fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这遵循了重新发明的传统，可以追溯到Scastie(重新发明Scalafiddle)和Scala Native(与Graal竞争)。如果Scala社区想要更好的工具，那么他们必须让Scala中心负起责任:他们的建立是为了“协调和开发”——而不是忽略现有的东西和开发新的东西。</p><p id="44ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我也可以说，如果社区想要更好的工具，那么他们就必须建造它，但是我不认为这对贡献他们时间的志愿者是公平的。这是一份全职工作，任何人都不应该为此牺牲家庭时间。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="fd15" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">复杂性</h1><p id="434c" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">2018年，Jon Pretty发布了白玉兰宏库。团队正在用简单的Magnolia替代程序替换他们最复杂的不成形的“类型类派生”代码，这可以快100倍地编译。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="b2be" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">好看吗？</h1><p id="5a84" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">看看每个人对主要问题的反应，Scala的情况很好！</p><p id="82a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Scala Center和Lightbend正在交付价值，社区正在加紧弥补生态系统中的差距。那么为什么Scala会陷入停滞状态呢？这一切是不是太少了，太晚了？</p><p id="e85c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我认为问题是多方面的:</p><ol class=""><li id="2f9d" class="mx my iq ky b kz la lc ld lf mz lj na ln nb lr nc nd ne nf bi translated">T4很难雇佣到有经验的Scala开发者。</li><li id="dc08" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nc nd ne nf bi translated">Scala在浪费时间，而Java已经赶上来了。</li><li id="24e9" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nc nd ne nf bi translated">Scala 3和奥斯本效应。</li></ol></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="b564" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">很难雇佣Scala开发人员</h1><p id="add9" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">高速增长阶段的一个后果是，绝大多数Scala开发人员都是相对初学者。这本身可以通过良好的培训来解决。但是Scala固有的复杂性意味着一个培训课程通常不足以让开发人员掌握所有的语言特性、运行时环境和支离破碎的生态系统。</p><p id="96fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Scala的卖点之一是它与Java库兼容。这是一把双刃剑，因为虽然它有助于Java开发人员过渡到Scala，但它让不懂Java的人更难学习Scala。人们必须了解JVM才能使用大部分运行时工具(分析器、调试器、优化等)。).</p><p id="5bea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Scala的许多不同风格意味着雇佣或培训“Scala”人员是不够的。Play、Typelevel、Scalaz都是非常不同的技术栈，在利基中创造利基。根深蒂固的政治已经导致这两大阵营渐行渐远。他们必须团结起来，而不是争斗。不幸的是，2019年我们看到了相反的情况:Lightbend和Scala Center主动将项目和个人排除在社区之外，因为他们贡献了“错误”的堆栈。</p><p id="e367" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">政治是如此肮脏，以至于Scala编译器团队的几个成员最近参与了一个著名贡献者的“无平台化”,他的主题演讲被从Scala Days(更新:和Scala eXchange)中删除，所有会议组织者都受到了压力。更新:一名前Lightbend高管呼吁抵制与该贡献者合作的招聘人员。</p><p id="dcf5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后是Typelevel。在我看来，它们是Scala社区发生的最糟糕的事情。他们是一个人数不多但很有发言权的少数群体，他们认为自己在道德上是优越的，代表着函数式编程社区。但是没有人选他们，很多人对此很不高兴。</p><p id="2548" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这出戏本身就让人们远离了Scala。对于贡献者来说，这也是一个巨大的阻碍，以免他们被视为选择了一方，或者更糟糕的是，发现自己无法就业。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="3fd9" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">Java已经赶上来了</h1><p id="b942" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">Java现在对并发和函数式编程有了更好的支持。有人提议在语言中加入模式匹配。</p><p id="c3ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">占全球智能手机80%的安卓运行的是精简版的Java。Scala有意放弃对Android的支持，这意味着任何以世界上最大的应用商店为目标的开发者都必须寻找替代语言。许多人回到了Java，而其他人则作为“更好的Java”迁移到了Kotlin。</p><p id="64df" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我不知道Scala是否有计划再次支持Android，但排除世界上最大的市场似乎是一个错误。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="6cc9" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">奥斯本效应</h1><p id="2b94" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">奥斯本效应是一个神话，奥斯本计算机公司在20世纪80年代倒闭了，因为他们发布了个人电脑的第三版，而第二版还在商店里。虽然是个神话，但效果非常真实。Scala 3作为一个学术研究项目已经有近五年的时间了，代号为“Dotty ”,预计将在未来几年内推出。到那时，你所知道的Scala将会退役。那么，既然可以等到Scala 3，并且在那之前用Python凑合，为什么还要投资Scala 2呢？</p><p id="9802" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Scala 3的变化如此巨大，以至于所有Scala开发人员都需要重新培训，所有代码库都需要进行迁移。个人联系人告诉我，他们的迁移评估范围从小型项目的“一个周末”到中型项目的一个月(10万行代码)到大型项目的数年努力(数百万行代码)。这是假设自由软件生态系统已经被移植，这依赖于许多志愿者为共同的事业动员起来。</p><p id="0793" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">过去几年中所有的编译器和工具改进都将被抛弃。他们针对的是Scala 2编译器。甚至不清楚ide和文本编辑器是否准备好了(支持<em class="ls">重要空格</em>和新语法结构的努力不能被夸大，而且太低级了，LSP无法解决)。</p><p id="3c57" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Scala 3编译器比Scala 2编译器慢，并且不能构建核心生态系统库。作为一名社区志愿者贡献者，你需要重写你所有的项目，有些项目可能无法重写。空闲时间的缺乏会在生态系统中留下缺口。</p><p id="209f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于维护遗留代码库的人来说，Scala 3是一场噩梦。如果您无法承担将代码库重写到Scala 3的风险，该怎么办？很抱歉，但你将不得不继续使用Scala 2，并支付额外费用来自己维护编译器和生态系统，你进入招聘池的机会将显著减少，因此你需要支付另一笔额外费用来吸引和留住人才。</p><p id="5599" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我知道很多Scala开发人员和项目经理非常关心Scala 3的发展方向。不幸的是，官方的回应是加倍温和:负面谈论Scala是违反行为准则的(行为准则最初是为了抑制性别歧视的社区语气，但后来被用作政治武器)。因此，任何关于Scala 3的担忧都会遭到强烈反对，你将面临禁止在公共场合提出担忧的威胁。</p><p id="1b89" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Scala社区中最热情的支持者试图羞辱和驳斥任何对Scala 3表示担忧的人，称他们为“有毒的巨魔”或“FUD”但这是真正的担忧，不应被忽视。辩论不应该被压制，个人不应该因为质疑估计数而被解雇或禁止。</p><p id="cd24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">能做些什么？我相信Scala社区需要大声地说出来，告诉Scala的学者和管理者改变Scala 3的名字。将其命名为“Dotty”，这是一种有自己改进过程的新语言。把Scala改进过程(SIP)的控制权交给业界，让我们通过共识来做事。</p><p id="ef17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最初支持Scala 3的顶级生态系统贡献者已经恳求缩小范围，因为他们担心Python 3或Perl 6的重复。跟随他们的领导。</p><blockquote class="nl"><p id="3b5a" class="nm nn iq bd no np nq nr ns nt nu lr dk translated">“我看到一些激进的、大规模突破性的变革正在被提出，并在反对负面共识的情况下被推进。”—《快速解析》和《菊石》的作者</p></blockquote></div></div>    
</body>
</html>