<html>
<head>
<title>Meet "quakeanalysis” — A Python Library for Finding the Nearest Earthquake Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">认识一下“地震分析”——一个用于查找最近地震数据的Python库</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/python-library-for-finding-nearest-earthquake-8c96f97c9ddb?source=collection_archive---------6-----------------------#2022-06-18">https://betterprogramming.pub/python-library-for-finding-nearest-earthquake-8c96f97c9ddb?source=collection_archive---------6-----------------------#2022-06-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ee90" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">看看我的第一个Python库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/046bfe8207e4a2626e26eea770a20a07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zIa4b3-rqTgBBDwx2gL5Gw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">pix abax:<a class="ae ky" href="https://pixabay.com/photos/earthquake-seismograph-seismic-wave-3167693/" rel="noopener ugc nofollow" target="_blank">https://pix abay . com/photos/地震-地震仪-地震波-3167693/ </a></p></figure><p id="a248" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您是否对分析地震数据感兴趣，并且需要以Pandas dataframe格式快速访问这些数据？你可能会发现这个图书馆很有帮助。</p><p id="5ccc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用地名或邮政编码提取最近的地震数据和距离计算。</p><p id="379e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">公里距离的计算是由哈弗森距离公式驱动的，你可以在这个<a class="ae ky" href="https://towardsdatascience.com/heres-how-to-calculate-distance-between-2-geolocations-in-python-93ecab5bbba4" rel="noopener" target="_blank">链接</a>上了解到。</p><p id="8dbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个库由Python库<code class="fe lv lw lx ly b"><a class="ae ky" href="https://pypi.org/project/geopy/" rel="noopener ugc nofollow" target="_blank">geopy</a></code>提供支持，并以<code class="fe lv lw lx ly b"><a class="ae ky" href="https://pypi.org/project/pandas/" rel="noopener ugc nofollow" target="_blank">pandas</a></code> dataframe格式返回数据。</p><p id="7e73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您安装此库时，它将导入以下内容:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="60fe" class="md me it ly b gy mf mg l mh mi">import json <br/>import requests<br/>from urllib.request import urlopen<br/>import pandas as pd<br/>import numpy as np<br/>import datetime<br/>from geopy.geocoders import Nominatim<br/>from datetime import timedelta<br/>from datetime import datetime</span></pre><p id="08d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我第一次创建Python库，我设计它是为了让Python程序员，尤其是初级和中级Python程序员更容易获得来自USGS地震危险项目的公开数据。</p><h1 id="fa99" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated"><strong class="ak">仅用于原型项目</strong></h1><p id="a739" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">该项目没有得到美国地质勘探局地震灾害项目的认可。该库仅用于原型制作。</p><p id="3da0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个库的工作来说，它依赖于美国地质调查局地震灾害项目保持他们的API URLs以相同的格式检索数据。</p><p id="637a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他们目前检索JSON格式数据的API URL格式是<a class="ae ky" href="https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&amp;starttime=2022-05-05&amp;endtime=2022-05-09" rel="noopener ugc nofollow" target="_blank">这个</a>。</p><h1 id="16bf" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">Pip安装地震分析</h1><p id="a40e" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">使用这个Python库返回离你最近的地震的数据帧列表。您将需要pip安装<code class="fe lv lw lx ly b">quakeanalysis</code>。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="efd2" class="md me it ly b gy mf mg l mh mi">pip install quakeanalysis</span></pre><p id="bbff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个python库访问来自美国地质调查局地震灾害项目的地震数据。</p><p id="f5d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个Python库访问的数据也可以直接从他们的<a class="ae ky" href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/geojson.php" rel="noopener ugc nofollow" target="_blank">网站</a>以JSON格式获得。</p><p id="d882" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最新的数据通常是昨天(在编写本报告时)的数据。</p><h1 id="db23" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">导入地震分析</h1><p id="9f62" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">一旦您完成了pip安装并将<code class="fe lv lw lx ly b">quakeanalysis</code>导入到您的Python项目中，您就可以开始了</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="7365" class="md me it ly b gy mf mg l mh mi">import quakeanalysis</span></pre><h1 id="08df" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">需要一份距离纽约不到2000英里的近期地震列表吗？</h1><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="cf75" class="md me it ly b gy mf mg l mh mi">quakeanalysis.earthquake_less_than(‘New York’,2000)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/91f271e948a87a24c350a1ee0f2e3674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1PkeWd1T-yA1FMYJECIt3Q.png"/></div></div></figure><h1 id="2db1" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">找到离地震最近的地名</h1><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="a58d" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu">#enter a place name to get place of nearest earthquake </strong><br/>quakeanalysis.earthquake_place(‘New York’)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/9484990417c60683153a44ab02214bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2DX7n912w4Gf_IotDUn5zw.png"/></div></div></figure><h1 id="ea24" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">找到最近地震的经度</h1><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="8334" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu"><br/>#enter a place name to get longitude of nearest earthquake </strong><br/>quakeanalysis.earthquake_longitude(‘New York’)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/852e2c91fac9e1710b420302f16f26f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nzthzlif_8swnl30Pnbv7g.png"/></div></div></figure><h1 id="eb3d" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">找到最近地震的纬度</h1><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="1676" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu">#enter a place name to get latitude of nearest earthquake </strong><br/>quakeanalysis.earthquake_latitude(‘New York’)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/9c059ad40efd73b6e11098ae83cc3bd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mbMiq_tSndRUy7pNdIRMZQ.png"/></div></div></figure><h1 id="571c" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">找到最近地震的震级</h1><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="a2ca" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu">#get the magnitude of nearest earthquake</strong> <br/>quakeanalysis.earthquake_magnitude(‘New York’)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/523b6c5702a11e4a50eff757ed0bb8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vF1PUfqTWx45j_x_KAj3IQ.png"/></div></div></figure><h1 id="6773" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">获取最近所有地震的数据列表以及它们到地震发生地点的距离</h1><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="5576" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu">#To get dataframe list of all recent earthquakes and their distance from place </strong><br/>quakeanalysis.earthquake_df(‘New York’)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/6ed4e9a5a60ecc5747157422f86b72ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cNKa6vK0HZ2enD04_mhZrw.png"/></div></div></figure></div></div>    
</body>
</html>