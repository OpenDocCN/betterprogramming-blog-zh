<html>
<head>
<title>How to Build an App Clip on iOS 14</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在iOS 14上建立应用程序剪辑</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-an-app-clip-on-ios-14-a5045fd68eb4?source=collection_archive---------6-----------------------#2020-10-01">https://betterprogramming.pub/how-to-build-an-app-clip-on-ios-14-a5045fd68eb4?source=collection_archive---------6-----------------------#2020-10-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a2e1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">实现应用程序剪辑所需的一切</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/daeb07b1f09a2c5c6d6f1c12350bce76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ubiima0YGHuM93ok4D03Ew.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@thombradley?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">托姆·布拉德利</a>在<a class="ae kv" href="https://unsplash.com/s/photos/ios-14?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="8f6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在2020年WWDC大会上，苹果推出了App Clips——这是iOS开发者向新用户介绍其应用的一种轻量级方式。列出的是我需要的一切，让我的应用程序剪辑离开地面，我希望它也能帮助你。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4a3e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">开始前你应该知道的事情</h1><ul class=""><li id="b39f" class="mr ms iq ky b kz mt lc mu lf mv lj mw ln mx lr my mz na nb bi translated">仅在iOS 14及更新版本上可用</li><li id="fb0b" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">需要使用<a class="ae kv" href="https://developer.apple.com/xcode/" rel="noopener ugc nofollow" target="_blank"> Xcode 12 </a>或更新版本</li><li id="31f8" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">需要搭配完整的应用程序</li><li id="3282" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">只有当用户没有安装完整的应用程序时才会执行</li><li id="5e08" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">在应用精简后，一个大小限制为10MB的独立二进制文件的一部分<br/>(只能包括小型SDK)</li><li id="7456" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">不会出现在主屏幕上，但可能会根据用户活动在“最近添加的”文件夹中保留一小段时间</li><li id="957a" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">一些框架在应用程序剪辑中不起作用。它们可能不会导致编译时错误，但可能在运行时提供有限的功能或不提供功能</li><li id="d564" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">由于资源和隐私问题，应用程序剪辑无法使用<code class="fe nh ni nj nk b">URLSession</code>执行后台联网等后台活动</li><li id="1f93" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">用户可以通过六种方式调用应用程序剪辑:NFC标签、应用程序剪辑代码或二维码、Safari应用程序横幅、信息中的链接、地图中的位置卡以及应用程序库中最近添加的文件夹</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="22ca" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">创建应用程序剪辑目标</h1><p id="5538" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">选择要嵌入应用程序剪辑的目标，并打开一个新的应用程序剪辑目标(“文件”&gt;“新建”&gt;“目标”&gt;“应用程序剪辑”)。您可以选择将<a class="ae kv" href="https://developer.apple.com/xcode/swiftui/" rel="noopener ugc nofollow" target="_blank"> SwiftUI </a>或故事板用于界面，并将SwiftUI或<a class="ae kv" href="https://getuikit.com/" rel="noopener ugc nofollow" target="_blank"> UIKit </a>的应用代理用于应用剪辑的生命周期。确保选择了正确的项目和应用程序，然后单击create。</p><p id="9371" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">提示</strong>:如果你有一个大型复杂的主应用程序，现在是开始将SwiftUI引入你的代码库的好时机。由于应用程序剪辑将存在于一个单独的二进制文件中，并且需要一个简化的流程，因此这是一个探索SwiftUI所提供的功能的绝佳机会。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="86b1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">添加关联的域</h1><p id="e520" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">当调用一个应用程序片段时，操作系统需要知道将调用URL传递给哪个应用程序。为使该流程正常工作，主应用程序和应用程序剪辑目标都需要包含与<em class="no">相关联的域权限。</em>这样，操作系统会将调用URL传递给主应用程序(如果有),或者传递给应用程序剪辑(如果用户没有安装完整的应用程序)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/c64b5cf8e5dd639f18d46860bdb93bae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*3SYYVNaUd5Txaa_wb4PGCw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">项目设置中的关联域功能</p></figure><p id="1048" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个启动应用程序剪辑的URL都应该以前缀<code class="fe nh ni nj nk b">appclips</code>(即<code class="fe nh ni nj nk b">appclips:example.com</code>)列在关联的域功能中。这些也应该列在主应用程序的关联域功能中。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7dd1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">配置苹果应用程序站点关联文件</h1><p id="2f72" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">您需要创建或修改相关的域文件。如果你没有，创建一个名为<code class="fe nh ni nj nk b">apple-app-site-association</code>(没有扩展名)的文件。<br/>使用JSON语法，创建一个带有<code class="fe nh ni nj nk b">appclips</code>键的对象，该对象包含另一个带有<code class="fe nh ni nj nk b">apps</code>键的对象。<code class="fe nh ni nj nk b">apps</code>的值应该是应用程序剪辑的应用程序标识符<code class="fe nh ni nj nk b">["&lt;Application Identifier Prefix&gt;.&lt;Bundle ID&gt;"]</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="2215" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您创建了一个关联文件，您将需要使用“https”(即<code class="fe nh ni nj nk b">https://&lt;domain&gt;/.well-known/apple-app-site-association</code>)将其托管在<code class="fe nh ni nj nk b">.well-known</code>目录中。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="ad25" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">关于实现功能的说明</h1><p id="a8dd" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">如果您要将应用程序剪辑添加到现有应用程序中，您将受益于模块化代码库。如果你现在花时间重构，当你实现下一个目标时，你将会节省时间。</p><p id="57cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">需要时使用主动编译条件(相当于Objc预处理器标志)。您可能需要引入包含您不能或不想在应用程序剪辑中使用的代码的文件。针对应用程序剪辑目标进行编译时，可以跳过标记的代码部分。活动编译条件位于“生成设置”下。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/f813fc24852a5c4650e2b34c7b5b61d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lb8H6mcRHu0Jc5m2_maHAQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">生成设置中的活动编译条件</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8609" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">处理应用程序剪辑中的调用</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基于场景的应用剪辑调用处理</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基于SwiftUI的应用程序剪辑调用处理</p></figure><p id="66f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据您使用的是UIKit还是SwiftUI应用生命周期，在<code class="fe nh ni nj nk b">scene(_:continue:)</code>或<code class="fe nh ni nj nk b">.onContinueUserActivity(_:perform</code>中实现应用剪辑调用处理。无论哪种情况，您都需要提取<code class="fe nh ni nj nk b">webpageURL</code>并使用查询项来配置应用程序剪辑。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2d08" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">测试</h1><p id="1f30" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">您可以在模拟器或物理设备上运行App Clip目标，但是您需要提供一个调用URL作为环境变量。</p><p id="3acf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要访问环境变量，请从方案下拉列表中选择应用程序剪辑目标，然后单击编辑方案。选择“运行操作和参数”选项卡。在名为环境变量的标题下，编辑<code class="fe nh ni nj nk b">_XCAppClipURL</code>的值。如果不存在，将其作为一个键添加，并将其值作为调用URL(即<code class="fe nh ni nj nk b">https://example.com</code>)。确保复选框处于选中状态。用Xcode运行App Clip时，不会看到App Clip卡片。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/b3e8d16411b81d0bcce073b4f9f9d879.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lei0FkJRMdwDZW6xNYBhQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在方案设置中调用URL环境变量</p></figure><p id="e85a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">提示</strong>:您可以给这个调用URL(即<code class="fe nh ni nj nk b">https://example.com/order?q0=123</code>)添加查询参数。如果你打算使用App Clip代码，请记住它们最多只能编码128位数据。保持URL简短的一些技巧:使用一个或两个字符的查询字符串参数名称(即<code class="fe nh ni nj nk b">q0=</code>与<code class="fe nh ni nj nk b">location=</code>)，使用整数值而不是字符串值(即<code class="fe nh ni nj nk b">q0=123</code>与<code class="fe nh ni nj nk b">location=Boston</code>)，如果适用，使用短子域(即<code class="fe nh ni nj nk b">https://appclip.example.com</code>与<code class="fe nh ni nj nk b">https://alongersubdomain.example.com</code>)。</p><h2 id="66c8" class="nu ma iq bd mb nv nw dn mf nx ny dp mj lf nz oa ml lj ob oc mn ln od oe mp of bi translated">TestFlight软件</h2><p id="47c8" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">如果你想让非开发者测试应用程序剪辑，你可以通过使用<a class="ae kv" href="https://developer.apple.com/testflight/" rel="noopener ugc nofollow" target="_blank"> TestFlight </a>来实现。您需要做的第一件事是上传构建(归档主应用程序，验证并分发到App Store Connect)。构建完成后，访问App Store Connect中的应用程序，并选择TestFlight选项卡。如果您单击build，您将被带到一个新的页面，在这里您可以配置测试细节。在这个页面上，你可以描述测试人员应该测试什么，App Clip调用URL，以及测试人员应该是谁。对于内部测试人员来说，这个版本应该可以在他们设备上的TestFlight应用程序中立即获得。对于外部测试人员来说，您需要在构建对他们可用之前提交构建供审查。</p><h2 id="4e90" class="nu ma iq bd mb nv nw dn mf nx ny dp mj lf nz oa ml lj ob oc mn ln od oe mp of bi translated">删除应用程序剪辑</h2><p id="9a29" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">如果您需要从设备中删除应用程序剪辑，您可以导航至“设置”&gt;“应用程序剪辑”(它应该列在“开发者设置”下)。在应用程序剪辑中，您可以从设备中移除所有或单个应用程序剪辑。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/14901fec9143d2e89bd0cef83aab4085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pP20hZyliuARL7pUgjgXcw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">设置中的应用程序剪辑</p></figure><h2 id="959f" class="nu ma iq bd mb nv nw dn mf nx ny dp mj lf nz oa ml lj ob oc mn ln od oe mp of bi translated">应用程序剪辑卡</h2><p id="aaf0" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">要测试App Clip卡，您需要在物理设备上创建本地体验。这在测试QR码或NFC标签调用时尤其有用。在物理设备上安装应用程序剪辑后，导航到本地体验(设置&gt;开发者&gt;本地体验)。您需要提供URL和捆绑包ID，并为应用程序剪辑卡配置标题、副标题、动作和照片。创建或扫描NFC标签或QR码，它将调用您指定的应用程序剪辑的本地体验(该应用程序剪辑需要是临时的、开发或试飞版本)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/8cc1796a4e634979868a20d33965ce9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GBL8ucV3yjP58NoaWLqrtA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">iPhone设置中本地应用程序剪辑体验的配置</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="6702" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">链接到主应用程序</h1><p id="404e" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">为了链接到主应用程序，苹果建议使用带有应用程序剪辑配置的SKOverlay(<code class="fe nh ni nj nk b">SKOverlay.AppClipConfiguration(position:)</code>)。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3c69" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">指向主应用程序的调用</h1><p id="a1f5" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">如果用户安装了主应用程序，当他们尝试调用应用程序剪辑时，会被定向到主应用程序。您将希望确保用户获得他们期望的体验。在生命周期方法中，为了继续用户活动，您将希望像在应用程序剪辑中一样提取<code class="fe nh ni nj nk b">webpageURL</code>。然后使用查询参数中的信息来设置主应用程序，以处理用户的预期操作。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="336c" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">与主应用程序共享数据</h1><p id="1b38" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">当用户从应用程序剪辑移动到主应用程序时，您可能想要存储他们已经输入或下载的信息，以创建无缝体验。</p><p id="6575" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，您需要向应用程序剪辑和主应用程序目标添加应用程序组功能。在该功能中，将同一个组添加到两个目标，并确保选中该复选框。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/3284d2fdd0596d3ff61eb1c1a1499f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ibi6rCrNCiC-IDTw1_c1rg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">添加新的共享容器以将数据从应用程序剪辑传递到主应用程序</p></figure><p id="160e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要在应用程序剪辑目标中保存数据，首先需要获取共享容器(应用程序和应用程序剪辑之间的共享文件夹)的路径，如果适用，添加新路径，并将数据存储在该路径中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="b415" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后在主应用程序中，您将读取容器的内容，并使用该信息来配置主应用程序。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="c96a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">检查二进制文件的大小</h1><p id="d1ba" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">一个App Clip二进制文件细化后大小只能是10MB。</p><p id="47ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要检查二进制文件的大小:</p><ol class=""><li id="4f4c" class="mr ms iq ky b kz la lc ld lf oi lj oj ln ok lr ol mz na nb bi translated">档案馆</li><li id="b417" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr ol mz na nb bi translated">导出应用程序剪辑(除App Store Connect之外的任何内容)</li><li id="a9be" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr ol mz na nb bi translated">开发分发选项--&gt;“所有兼容设备变体”</li><li id="6e9b" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr ol mz na nb bi translated">签名并导出</li><li id="12a1" class="mr ms iq ky b kz nc lc nd lf ne lj nf ln ng lr ol mz na nb bi translated">打开“App Thinning Size Report.txt ”,查找类似以下内容的行</li></ol><pre class="kg kh ki kj gt om nk on oo aw op bi"><span id="0bec" class="nu ma iq nk b gy oq or l os ot">App size: &lt;size&gt; compressed, &lt;size&gt; uncompressed</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="6b96" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">设置应用商店</h1><p id="5c52" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">你已经完成了你的App Clip实现，并准备提交给Apple与全世界分享——恭喜你！</p><p id="4183" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在App Store Connect中，有一个应用程序剪辑部分，您需要在其中提供标题图像、副标题和动作。当从Safari或“信息”中调用体验时，此元数据会出现在应用程序剪辑卡上。您只能在上传带有应用程序片段的构件后编辑此部分。</p><p id="8c7a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您进一步向下滚动页面，您将需要添加应用程序剪辑URL，以便应用程序审核者可以测试应用程序剪辑。如果您使用查询参数，请确保至少包含两个用于测试的URL。</p><h2 id="0833" class="nu ma iq bd mb nv nw dn mf nx ny dp mj lf nz oa ml lj ob oc mn ln od oe mp of bi translated">高级体验</h2><p id="106c" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">在应用程序剪辑部分下面是一个编辑高级体验的按钮。如果您计划支持除Safari或Messages之外的调用，您将需要配置高级体验。</p><p id="518d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你点击“编辑高级体验”,它会根据你提供的调用URL，带你回答一些关于你希望应用程序剪辑的外观的问题。根据您是否将体验与地点相关联，您将在下面的下拉列表中看到不同的操作。对于与地点相关的应用程序剪辑，您需要为您想要支持的每个物理位置提供独特的体验。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/70418e7e8b0dc3489d2d8123b8c5dd85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-TrpO4ieaT5cHKQyCg_rSg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">配置高级体验</p></figure><p id="ad59" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要在“地图”中查看您的集成，您需要等待应用程序获得批准并发布。您应该会在“方向”左侧的按钮中看到您的操作和应用程序名称。如果用户的设备上没有应用程序剪辑，他们将看到应用程序剪辑卡；否则，该操作会将他们直接带到应用程序剪辑。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/298b4d7f74a4b2af19498a965fd5e4de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HVHsCkOpTpKd5Pd9OECy-Q.jpeg"/></div></div></figure><p id="d03e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您推出分阶段版本，那么在您开始推出时，所有用户都可以使用该应用程序剪辑。</p><p id="4eab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读，并祝您在实施过程中好运！</p></div></div>    
</body>
</html>