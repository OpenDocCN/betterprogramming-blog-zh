<html>
<head>
<title>Removing Occurrences of Elements From a List After Their Nth Occurrence</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从列表中删除第n次出现的元素</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/remove-list-occurrences-c3b8124d5fd9?source=collection_archive---------25-----------------------#2020-03-03">https://betterprogramming.pub/remove-list-occurrences-c3b8124d5fd9?source=collection_archive---------25-----------------------#2020-03-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6e9a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个经典的算法面试问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/15ba33be53bae6843001c1bfccf65880.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0y4IyYn49_J_MFqy2xlmQg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@wdongxv?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">东旭 王</a> on <a class="ae ky" href="https://unsplash.com/s/photos/pattern?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></p></figure><p id="b5f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">被困在付费墙后面？点击</em> <a class="ae ky" href="https://medium.com/better-programming/remove-list-occurrences-c3b8124d5fd9?source=friends_link&amp;sk=668225178ebef405d8d5d9a5ce803225" rel="noopener"> <em class="lv">此处</em> </a> <em class="lv">阅读全文和我的朋友链接。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="3728" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是解决这个经典算法面试问题的方法(感谢<a class="ae ky" href="https://www.linkedin.com/in/adwait-kumar-singh-b5321512a/" rel="noopener ugc nofollow" target="_blank"> Adwait </a>改进了我之前的方法):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/7800678563c4d69e4abfad23a59695b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIMSMb466X9_qP-7KvuWxg.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="1630" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">继续编码！</h1><p id="9d93" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">首先，我们导入必要的库:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="7ff8" class="ng mf it nc b gy nh ni l nj nk">import random<br/>import numpy as np<br/>from collections import Counter</span></pre><p id="80f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们生成一个从1到9的任意整数的随机列表，任意指定大小:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/d9ce15a6ec20102ff50157638da6c66b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-zRoJNjMB5f-WwJmuVd8w.png"/></div></div></figure><p id="f81a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">获取列表中所有元素的频率:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/5e96afa14bb88ed1d30dd4e284fbd059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UQ_lPlporyn_HbOdHP-P2g.png"/></div></div></figure><p id="ab24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据我们的问题陈述，对于n=3，输出应该是<br/>【4，9，2，7，1，6，6，7，1，1，7，3，6，3，5，9，9】。一个元素在第三次出现后的所有出现都应该被删除。在我们的例子中，只有7和6符合条件，因为它们的频率大于3。</p><p id="b23b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建一个空列表来存储输出，并创建一个空字典来存储元素频率:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="7d9e" class="ng mf it nc b gy nh ni l nj nk">op = []<br/>freq = {}</span></pre><p id="76c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们创建一个循环来遍历列表中的元素。如果该项已经存在于<code class="fe nm nn no nc b">freq</code>的关键字中，我们将它的频率增加<code class="fe nm nn no nc b">1</code>，否则我们将它添加到<code class="fe nm nn no nc b">freq</code>中，频率为<code class="fe nm nn no nc b">1</code>:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="9f34" class="ng mf it nc b gy nh ni l nj nk">for item in ip:<br/>    if item in freq:<br/>        freq[item] += 1<br/>    else:<br/>        freq[item] = 1</span></pre><p id="6ae9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们必须检查该项的频率是否小于或等于阈值。如果是，我们把它附加到输出列表<code class="fe nm nn no nc b">op</code>，否则我们跳过它。对于第一次出现的项目，我们可以直接将其附加到<code class="fe nm nn no nc b">op</code>上，而不进行任何检查:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="2cb7" class="ng mf it nc b gy nh ni l nj nk">for item in ip:<br/>    if item in freq:<br/>        freq[item] += 1<br/>        if freq[item] &lt;= n:<br/>            op.append(item)<br/>    else:<br/>        freq[item] = 1<br/>        op.append(item)</span></pre><p id="7d5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将它包装在一个整洁的小函数中，该函数将接受列表和阈值:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="178e" class="ng mf it nc b gy nh ni l nj nk">def remove_nth(ip, n):<br/>    op = []<br/>    freq = {}<br/>    for item in ip:<br/>        if item in freq:<br/>            freq[item] += 1<br/>            if freq[item] &lt;= n:<br/>                op.append(item)<br/>        else:<br/>            freq[item] = 1<br/>            op.append(item)<br/>    return op</span></pre><p id="d128" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以调用这个函数，传递列表和阈值，并获得一个删除了额外出现次数的新列表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/bb6c06f771a1de03b63017560a72c5f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gZLND_m6nQIVUEr5fZ40mA.png"/></div></div></figure><p id="c606" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，第三个匹配项之后的所有匹配项都已从列表中删除。要验证:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/9f9b85583aa4724189bb8c74d112ea6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLWaPHkaok2maJ9a3vwPtQ.png"/></div></div></figure><p id="2734" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到7和6的频率现在分别从5和4下降到3。其他元素的频率没有受到影响。</p><p id="7e50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，<code class="fe nm nn no nc b">max(Counter(op).values())</code>验证没有元素在修改后的列表中出现超过三次。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/9e23b068568ada32a075e71bbfb074de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qoA16u3UXHsFKAobxRuAwA.png"/></div></div></figure><p id="8036" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">调用阈值为1的相同函数将给出列表中的所有唯一元素:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/4776fb575e87f7b794aade175771b7b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AFzk3y66es_El9QeJKcwA.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="75e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Medium仍然不支持向印度以外的作者支付费用。如果你喜欢我的内容，你可以给我买杯咖啡:)</p><div class="ns nt gp gr nu nv"><a href="https://www.buymeacoffee.com/siddhantsadangi" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">Siddhant Sadangi正在Streamlit上创建python网络应用程序</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">嘿👋我刚刚在这里创建了一个页面。你现在可以给我买杯咖啡了！</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">www.buymeacoffee.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj ks nv"/></div></div></a></div></div></div>    
</body>
</html>