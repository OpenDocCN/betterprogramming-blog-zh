<html>
<head>
<title>Adding Shapes and Colors to Your SwiftUI Painting App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向SwiftUI绘画应用程序添加形状和颜色</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/adding-shapes-and-colors-to-your-swiftui-painting-app-751dbb6fdce3?source=collection_archive---------5-----------------------#2021-10-20">https://betterprogramming.pub/adding-shapes-and-colors-to-your-swiftui-painting-app-751dbb6fdce3?source=collection_archive---------5-----------------------#2021-10-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a263" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">继续我们构建iOS画图应用的旅程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f5cf03892fc2ac8075878f512c3333c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6CXar65rvd62BfCunDPn-w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@traxing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">苏拉娅·欧文</a>在<a class="ae ky" href="https://unsplash.com/s/photos/shapes?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="34c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信你已经阅读了这个简短系列的第一部分，我希望开发一个简单的绘画应用程序。如果你还没有，那么你应该先停下来读一读。</p><div class="lv lw gp gr lx ly"><a rel="noopener  ugc nofollow" target="_blank" href="/build-a-painting-app-in-ios-15-with-swiftui-bb757a925f6a"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">用SwiftUI在iOS 15中搭建绘画App</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">使用新的画布视图构建一个简单的绘画应用程序</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">better编程. pub</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="af83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">bon——感谢回来——和我一起继续在iOS 15下开发绘画应用程序。这是我在哪里的最新消息。</p><h2 id="c7f7" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">案情摘要</h2><p id="5e15" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">在这篇文章中，我做了以下修改。在本文中，我计划将三个数组的数据结构合并成一个结构。我计划更新画布绘图，以便它创建一个多边形。我计划引入一些基本的控件，这样我们可以给我们的形状本身和/或我用来画它的线条上色。我计划添加控件来管理多边形的角度和边数。最后——anNice to have附录——将增加根据标尺或彼此排列形状的功能。</p><h2 id="d669" class="mn mo it bd mp mq mr dn ms mt mu dp mv li mw mx my lm mz na nb lq nc nd ne nf bi translated">编码</h2><p id="4a57" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">首先，我需要修改数据结构，使它不是数组的集合，而是具有属性集合的单一结构。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="2f4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，这里有很多东西需要考虑——我添加了unused属性来修复以前版本中的一个错误，在以前的版本中，您在数组中创建了空的形状。我从版本一得到的<code class="fe nn no np nq b">Cord</code>、<code class="fe nn no np nq b">Size</code>和<code class="fe nn no np nq b">Selected</code>。<code class="fe nn no np nq b">Sides</code>是指多边形的边数，角度是指开始绘图的时间(所有形状都是由圆构成的)。最后，线和固体是控制填充/线条颜色的变量。</p><p id="92b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我想看看如何将控制形状的代码从标准的椭圆/正方形更改为多边形。可以指定边数的多边形(已经添加到结构中)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="aac7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个变化看起来比实际更复杂。我简单地添加了模板代码，用更少的点画了一个圆——所以默认是三个点——最终结果是它默认画了一个三角形。</p><p id="21bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我想研究建立一种方法来指定物体的颜色。所以用新的多边形和颜色选择控件替换了调试界面。在它里面，我添加了两个iOS 15风格的切换按钮和一个颜色形状。长按，它将形状+线条颜色设置为盒子的颜色。只需轻轻一点，它就会移动到下一种颜色。双击，它会回到以前的颜色。如果你不想给形状本身上色，你可以关闭这个开关。线也是一样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="f832" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，因为我添加了为我们的多边形设置特定角度和边数的功能，所以我添加了一些控件，以便用户可以管理所述变量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="2898" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，这是paint应用程序的第二版<code class="fe nn no np nq b">ContentView</code>。除了简单地更新对新数据结构的引用之外，这里与以前发布的版本几乎没有什么变化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="680d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，我们的应用程序的第二个版本如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/2300b4e6d6fe339f74e60216665b589e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bK-rfCBlKZ4jFtw61YRcOg.gif"/></div></div></figure><p id="25db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信你同意，它正在成形--。自己尝试一下代码。你会注意到有几个需要注意的特征——例如，选择多个形状，然后尝试给它上色。它不会像你预期的那样工作。</p><p id="99ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，好吧——这是一项正在进行的工作——下次见。感谢阅读。</p></div></div>    
</body>
</html>