<html>
<head>
<title>Mutation Testing With Pitest To Improve Unit Tests Quality</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Pitest进行变异测试以提高单元测试质量</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/mutation-testing-with-pitest-to-improve-unit-tests-quality-885e7c844d88?source=collection_archive---------10-----------------------#2022-12-05">https://betterprogramming.pub/mutation-testing-with-pitest-to-improve-unit-tests-quality-885e7c844d88?source=collection_archive---------10-----------------------#2022-12-05</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="0306" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">好的测试应该失败:用Pitest确保有意义的测试</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/994ad5d6226422b0428b014964cb8047.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VwgZxRQ9whra2F8M"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@olidale?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">奥利·戴尔</a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="13f0" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">标准测试覆盖的问题是</h2><p id="64b8" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">编写单元测试是开发过程的重要部分。我们经常使用报告工具，例如<a class="ae kz" href="https://www.eclemma.org/jacoco/" rel="noopener ugc nofollow" target="_blank"> Jacoco </a>来检查测试覆盖率。如果我们看到所有的线都是绿色的，我们很高兴我们覆盖了一切。</p><p id="390e" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">但是，不需要任何有意义的测试就可以实现全线覆盖。例如，我可以编写没有任何断言或验证的测试。有时，即使我们涵盖了所有情况，它们也可能不够详尽。</p><h2 id="dd80" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">如何提高考试质量？</h2><p id="55d6" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated"><a class="ae kz" href="https://en.wikipedia.org/wiki/Mutation_testing" rel="noopener ugc nofollow" target="_blank">突变测试</a>是一种检查每段代码是否经过有意义测试的技术。它以各种方式修改内存中的代码，以产生不同的结果。然后证明测试是否会失败。好的测试应该会失败。如果突变体(代码修改)被杀死，我们认为测试成功。</p><p id="8fab" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">下图说明了线覆盖和突变覆盖的不同之处:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mu"><img src="../Images/22de0edf2aeb3e15f7c1ba8dc34e85ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_h5nxzGHc6iHwtcN4VQgdg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">PIT报告覆盖范围示例</p></figure><p id="78a9" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">在本文中，我将用易懂的例子介绍Java的<a class="ae kz" href="https://pitest.org/" rel="noopener ugc nofollow" target="_blank"> Pitest </a> (PIT)突变测试框架。您将了解它的好处，并学习如何将其集成到您的项目中。</p><p id="9530" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">我们开始吧！</p><h1 id="495f" class="mv lb iu bd lc mw mx my lf mz na nb li ka nc kb lm kd nd ke lq kg ne kh lu nf bi translated">Pitest演示</h1><p id="d835" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">我创建了一个简单的Java项目来演示PIT的用法。完整的代码位于我的GitHub repo中，链接在本文末尾的参考资料部分。</p><h2 id="2a25" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">项目相关性</h2><p id="bfb5" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">这是一个基于Maven的项目。将Pitest插件添加到<code class="fe ng nh ni nj b">pom.xml</code>文件:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="81c0" class="no lb iu nj b be np nq l nr ns">&lt;plugin&gt;<br/>    &lt;groupId&gt;org.pitest&lt;/groupId&gt;<br/>    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;<br/>    &lt;version&gt;1.9.9&lt;/version&gt;<br/>&lt;/plugin&gt;</span></pre><p id="9344" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><em class="nt">注意，Pitest也可以与其他构建工具一起工作，比如Gradle。</em></p><p id="eab1" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">我们使用JUnit作为测试框架:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="d8a3" class="no lb iu nj b be np nq l nr ns">&lt;dependency&gt;<br/>    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;<br/>    &lt;artifactId&gt;junit&lt;/artifactId&gt;<br/>    &lt;version&gt;5.8.2&lt;/version&gt;<br/>    &lt;scope&gt;test&lt;/scope&gt;<br/>&lt;/dependency&gt;</span></pre><p id="9180" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">注意，PIT需要知道使用哪个测试框架。这就是为什么我们必须为插件提供<code class="fe ng nh ni nj b">pitest-junit5-plugin</code>依赖:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="0cbe" class="no lb iu nj b be np nq l nr ns">&lt;plugin&gt;<br/>    &lt;groupId&gt;org.pitest&lt;/groupId&gt;<br/>    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;<br/>    &lt;version&gt;1.9.9&lt;/version&gt;<br/>    &lt;dependencies&gt;<br/>        &lt;dependency&gt;<br/>            &lt;groupId&gt;org.pitest&lt;/groupId&gt;<br/>            &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;<br/>            &lt;version&gt;1.1.0&lt;/version&gt;<br/>        &lt;/dependency&gt;<br/>    &lt;/dependencies&gt;<br/>&lt;/plugin&gt;</span></pre><h2 id="6d70" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">标准覆盖率报告</h2><p id="cd12" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">首先，看一个简单的例子来理解行覆盖和突变覆盖之间的区别。</p><p id="afba" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">考虑以下代码:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="e986" class="no lb iu nj b be np nq l nr ns">    public static boolean isIsogram(String input) {<br/>        String[] splitString = input.split("");<br/>        Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(splitString));<br/>        return input.length() == set.size();<br/>    }</span></pre><p id="9b8a" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">等值图是没有重复字母的单词。这段代码检查给定的字符串是否是等值图。</p><p id="e8c4" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">让我们创建一个单元测试:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="43be" class="no lb iu nj b be np nq l nr ns">@Test<br/>void generateNumberFromRange_shouldReturnTrue() {<br/>    var result = PitestDemo.isIsogram("chair");<br/>    System.out.println(result);<br/>}</span></pre><p id="a802" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">请注意，我有意跳过断言部分，向您展示覆盖率将是绿色的。我运行了一个Jacoco报告，看到了以下结果:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nu"><img src="../Images/8ed94d16b6f4e922ec2e8c91e868f2c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SFp-tDso9-Vox9nYoW7oZQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">整个Jacoco报告</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nv"><img src="../Images/4c300e3b7ac07c13e293b7adac5686b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kk-FUyYHSZ2G3u9feIgDLg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Jacoco方法线覆盖</p></figure><p id="86b3" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">根据工具显示，我们已经覆盖了所有线路。不是这样的。</p><p id="0c21" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">让我们添加一些断言来创建一个更有效的测试:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="0e33" class="no lb iu nj b be np nq l nr ns">@Test<br/>void generateNumberFromRange_shouldReturnTrue() {<br/>    var result = PitestDemo.isIsogram("chair");<br/>    Assertions.assertTrue(result);<br/>}<br/></span></pre><p id="fa21" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">看起来好多了，对吧？但是，PIT报告显示了这些结果:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nw"><img src="../Images/ff54f06c16af94b229fc032324f7ee57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2B7hp8apon79MUuQeJPXzw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">PIT总体报告</p></figure><p id="3cd8" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">在下一节中，您将看到如何配置PIT并生成报告。</p><h2 id="5548" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">包含Pitest的覆盖率报告</h2><p id="e48e" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">插件的基本配置如下所示:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="7eb0" class="no lb iu nj b be np nq l nr ns"> &lt;configuration&gt;<br/>     &lt;targetClasses&gt;<br/>       &lt;param&gt;com.mutation.demo.util.*&lt;/param&gt;<br/>     &lt;/targetClasses&gt;<br/>     &lt;targetTests&gt;<br/>       &lt;param&gt;com.mutation.demo.util.*&lt;/param&gt;<br/>     &lt;/targetTests&gt;     <br/>&lt;/configuration&gt;</span></pre><ul class=""><li id="391b" class="nx ny iu ly b lz mp mc mq lj nz ln oa lr ob mo oc od oe of bi translated">属性告诉PIT在哪里注入突变。</li><li id="ed54" class="nx ny iu ly b lz og mc oh lj oi ln oj lr ok mo oc od oe of bi translated"><code class="fe ng nh ni nj b">targetTests</code>定义了运行哪些单元测试。</li></ul><p id="e2dd" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">PIT提供了丰富的属性定义选择。为了便于理解，您可以配置以下内容:</p><ul class=""><li id="0f51" class="nx ny iu ly b lz mp mc mq lj nz ln oa lr ob mo oc od oe of bi translated">哪些类或包超出了范围(当您想排除第三方代码时很方便)</li><li id="1729" class="nx ny iu ly b lz og mc oh lj oi ln oj lr ok mo oc od oe of bi translated">使用哪种变异(例如，否定布尔语句、删除void方法调用、返回空值等等。)</li><li id="0983" class="nx ny iu ly b lz og mc oh lj oi ln oj lr ok mo oc od oe of bi translated">每类突变的数量</li><li id="de75" class="nx ny iu ly b lz og mc oh lj oi ln oj lr ok mo oc od oe of bi translated">报告设置</li></ul><p id="d018" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">查看<a class="ae kz" href="https://pitest.org/quickstart/maven/" rel="noopener ugc nofollow" target="_blank">文档</a>了解更多信息。</p><p id="9886" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">PIT自动生成报告，类似于Jacoco。我们可以看到我们的测试表现如何。</p><p id="c5f0" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">执行以下maven命令来运行测试:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="676a" class="no lb iu nj b be np nq l nr ns">mvn test pitest:mutationCoverage</span></pre><p id="bda5" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">您应该会在项目的目标目录下看到一个名为<code class="fe ng nh ni nj b">pit-reports</code>的新文件夹:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/81b4cd92bc16b8404df0420195d8cf20.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*EA4VH17899pYBLT-24Lt_A.png"/></div></figure><p id="4dd4" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">在浏览器中打开<code class="fe ng nh ni nj b">index.html</code>文件。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj om"><img src="../Images/23dfe820492f2946d594c40772a05e14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p1UYARDRxJyvD_b7cfbJDg.png"/></div></div></figure><p id="d7de" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">现在你可以看到PIT显示的结果与Jacoco略有不同。一些突变体存活了下来，这表明我们的测试需要改进。您可以在“突变”部分查看创建了哪种突变。这些是默认的变异函数。如果你想禁用一些或者添加新的，在插件中配置<code class="fe ng nh ni nj b">&lt;mutators&gt;</code>属性。这里是所有可能变异的列表。</p><p id="5259" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">让我们编写额外的测试来覆盖缺失的案例。</p><p id="42dc" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">根据报告，当方法返回false时，我们不检查结果。</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="e9a0" class="no lb iu nj b be np nq l nr ns">@Test<br/>void generateNumberFromRange_shouldReturnFalse() {<br/>    var result = PitestDemo.isIsogram("look");<br/>    Assertions.assertFalse(result);<br/>}</span></pre><p id="7a8b" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">重新运行测试:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj on"><img src="../Images/0a50d9319df03a6ce24b207ebfc45ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HQgaWBZBgfI1Cuf9LIL7Aw.png"/></div></div></figure><p id="2f65" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">这次我们涵盖了所有案例！</p><p id="2377" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">让我们考虑另一个例子:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="99ea" class="no lb iu nj b be np nq l nr ns">public static boolean isWithinRange(int number) {<br/>    return number &lt;= 100 &amp;&amp; number &gt;= 10;<br/>}</span></pre><p id="7b6f" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">此方法检查提供的数字是否在10和100之间。</p><p id="33f8" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">以下是JUnit测试:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="7745" class="no lb iu nj b be np nq l nr ns">@ParameterizedTest<br/>@ValueSource(ints = {15, 100})<br/>void isWithinRange_shouldReturnTrue(int input) {<br/>    var result = PitestDemo.isWithinRange(input);<br/>    Assertions.assertTrue(result);<br/>}<br/><br/>@ParameterizedTest<br/>@ValueSource(ints = {105, -150})<br/>void isWithinRange_shouldReturnFalse(int input) {<br/>    var result = PitestDemo.isWithinRange(input);<br/>    Assertions.assertFalse(result);<br/>}</span></pre><p id="e43a" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">这一次，我们使用<code class="fe ng nh ni nj b">@ParameterizedTest</code>和<code class="fe ng nh ni nj b">@ValueSource</code> <a class="ae kz" href="https://junit.org/junit5/" rel="noopener ugc nofollow" target="_blank"> Jupiter </a>注释测试各种输入。</p><p id="386c" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">这是标准报告:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oo"><img src="../Images/47edc16220545447e1f69d1729503dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*evvtGb_n-e2a4qqawFt3Xg.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">方法行覆盖率的Jacoco报告</p></figure><p id="e850" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">维修站报告如下所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj op"><img src="../Images/79857c60a53ecbc9934ba30e62e032bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RNcgXy2mtEUnp1DO-MaJ3w.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">总体维修站报告</p></figure><p id="ef9e" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">详细的测试案例报告:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oq"><img src="../Images/fb1d447e64f163896bd4ba035fe0f174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qUHl0ZLq62z7mzskd1HANw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">详细的方法覆盖报告</p></figure><p id="f111" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">差不多好了。我们没有包括覆盖下限的测试，下限是10。让我们将值添加到值列表中:</p><pre class="kk kl km kn gu nk nj nl bn nm nn bi"><span id="4acc" class="no lb iu nj b be np nq l nr ns">@ParameterizedTest<br/>@ValueSource(ints = {10, 15, 100})<br/>void isWithinRange_shouldReturnTrue(int input) {<br/>    var result = PitestDemo.isWithinRange(input);<br/>    Assertions.assertTrue(result);<br/>}</span></pre><p id="970d" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">PIT结果:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj or"><img src="../Images/70951ad500828d7bdabb9adfa16fa635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RF251wyBFa8I3nYdnEv-rg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">涵盖所有维修站的整体报告</p></figure><p id="af8e" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">太好了，现在一切都准备好了！</p><h1 id="af66" class="mv lb iu bd lc mw mx my lf mz na nb li ka nc kb lm kd nd ke lq kg ne kh lu nf bi translated">结论</h1><p id="7609" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">本教程教你如何使用Pitest插件进行突变测试。这对你的单元测试的质量是有益的。</p><p id="c922" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">正如你所看到的，这个插件是高度可配置的。我鼓励您查看所有选项的文档，以充分利用它。</p><p id="0781" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">请注意，突变测试的执行可能是耗时且昂贵的。应该谨慎使用。理想情况下，当我们修改或添加新类时。</p><p id="23b4" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">我希望你能从这篇文章中学到一些新的东西。如果您对关于测试的主题感兴趣，您可能会喜欢我的类似文章:</p><div class="os ot gq gs ou ov"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-test-databases-easily-in-a-spring-boot-application-5ccdfbc6309f"><div class="ow ab fp"><div class="ox ab oy cl cj oz"><h2 class="bd iv gz z fq pa fs ft pb fv fx it bi translated">如何在Spring Boot应用程序中轻松测试数据库</h2><div class="pc l"><h3 class="bd b gz z fq pa fs ft pb fv fx dk translated">嵌入式数据库和Testcontainers库的测试技术</h3></div><div class="pd l"><p class="bd b dl z fq pa fs ft pb fv fx dk translated">better编程. pub</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj kt ov"/></div></div></a></div><div class="os ot gq gs ou ov"><a rel="noopener  ugc nofollow" target="_blank" href="/archunit-test-software-architecture-easily-a874c54bda1e"><div class="ow ab fp"><div class="ox ab oy cl cj oz"><h2 class="bd iv gz z fq pa fs ft pb fv fx it bi translated">ArchUnit:轻松测试软件架构</h2><div class="pc l"><h3 class="bd b gz z fq pa fs ft pb fv fx dk translated">如何使用ArchUnit验证Java项目中的架构约束</h3></div><div class="pd l"><p class="bd b dl z fq pa fs ft pb fv fx dk translated">better编程. pub</p></div></div><div class="pe l"><div class="pk l pg ph pi pe pj kt ov"/></div></div></a></div><p id="a9e6" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">感谢您的阅读，下次再见！</p></div><div class="ab cl pl pm hy pn" role="separator"><span class="po bw bk pp pq pr"/><span class="po bw bk pp pq pr"/><span class="po bw bk pp pq"/></div><div class="in io ip iq ir"><h1 id="e0c0" class="mv lb iu bd lc mw ps my lf mz pt nb li ka pu kb lm kd pv ke lq kg pw kh lu nf bi translated">参考</h1><ul class=""><li id="399d" class="nx ny iu ly b lz ma mc md lj px ln py lr pz mo oc od oe of bi translated"><a class="ae kz" href="https://github.com/kirshiyin89/mutation-testing-demo" rel="noopener ugc nofollow" target="_blank">我的GitHub回购</a></li><li id="fff7" class="nx ny iu ly b lz og mc oh lj oi ln oj lr ok mo oc od oe of bi translated"><a class="ae kz" href="https://pitest.org/quickstart/" rel="noopener ugc nofollow" target="_blank">官方Pitest用户指南</a></li></ul></div></div>    
</body>
</html>