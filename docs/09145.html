<html>
<head>
<title>How To Create Animations With Lottie-React-Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Lottie-React-Native创建动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-animations-with-lottie-react-native-788a87cf8d94?source=collection_archive---------4-----------------------#2021-07-20">https://betterprogramming.pub/how-to-create-animations-with-lottie-react-native-788a87cf8d94?source=collection_archive---------4-----------------------#2021-07-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f14c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在React本地应用中显示漂亮的动画</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6b4380f1cc44f7ac7b314eb50cd69632.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8rZxRiIgaXxbacFr"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@seefromthesky?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ishan @seefromthesky </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄。</p></figure><p id="132a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，你已经建立了一个惊人的动画使用后的效果，你想炫耀给世界。一种方法是将它用作应用程序中的闪屏或加载组件。但是有一个小问题:Adobe不允许你这样做。</p><p id="8365" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是洛蒂反应原生型的用武之地。这个库允许你在你的<a class="ae ky" href="https://reactnative.dev/" rel="noopener ugc nofollow" target="_blank"> React Native </a>应用中渲染你的动画。最精彩的部分？它只需要很少的代码就可以帮助您启动并运行。</p><p id="5ef7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，您将学习如何将lottie-react-native库集成到您的项目中。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/07d5141bfe011514d816150744fc8426.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*U2K_lsczeyWDG9FKy2clXg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">本文的结果</p></figure><p id="27c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然说了它的优点，那就开始吧！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="1cbd" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">入门指南</h1><h2 id="0190" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">项目初始化</h2><p id="799c" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">在本文中，我们将在我们的项目中使用Expo。要初始化React本机应用程序，请运行以下终端命令:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="0b2d" class="mv me it nn b gy nr ns l nt nu">expo init lottie-tutorial</span></pre><h2 id="f097" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">依赖项的安装</h2><p id="cc72" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">我们需要以下模块:</p><ul class=""><li id="780a" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">创造我们的动画。</li><li id="d34c" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated"><code class="fe oe of og nn b">lottie-ios</code> —对等依赖，帮助在iOS上渲染图形。</li></ul><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="7550" class="mv me it nn b gy nr ns l nt nu">npm install lottie-react-native lottie-ios@3.18</span></pre><p id="077d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，我们会得到我们需要的资产。</p><h2 id="844b" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">资产文件</h2><p id="5e83" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">您可以通过使用<a class="ae ky" href="https://exchange.adobe.com/creativecloud.details.12557.bodymovin.html" rel="noopener ugc nofollow" target="_blank"> Bodymovin </a>插件导出动画来使用自己的动画。但是对于本指南，我们将使用<a class="ae ky" href="https://lottiefiles.com/" rel="noopener ugc nofollow" target="_blank">洛蒂文件</a>目录。它包括大量的免费动画，您可以将它们导入到您的项目中。现在，我们将使用<a class="ae ky" href="https://lottiefiles.com/67313-lava-preloader" rel="noopener ugc nofollow" target="_blank">熔岩预加载器</a>和<a class="ae ky" href="https://lottiefiles.com/67255-switch-toggle" rel="noopener ugc nofollow" target="_blank">开关切换</a>动画。</p><p id="118d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要获得这些资产，请下载JSON格式的所需文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/aa60bc5bb0a31be54f2f7fd5cf14b455.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/1*RDKjWYUxyJM8v11bvd39IA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">下载为“洛蒂JSON”</p></figure><p id="762c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，将这些JSON文件拖到您的<code class="fe oe of og nn b">assets</code>文件夹中。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="3d2f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">洛蒂:基本用法</h1><p id="455b" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">在本节中，您将学习这项技术的基础知识。</p><h2 id="b032" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">简单动画</h2><p id="3f9a" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">创建一个名为<code class="fe oe of og nn b">SimpleAnimation.js</code>的文件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><ul class=""><li id="2364" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">第9行:<code class="fe oe of og nn b">LottieView</code>组件将呈现动画。</li><li id="8999" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第10行:<code class="fe oe of og nn b">source</code> prop告诉Lottie我们需要渲染的资产的位置。</li><li id="f741" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第18-19行:我们的动画将会有一个<code class="fe oe of og nn b">height</code>和<code class="fe oe of og nn b">100</code>单位的<code class="fe oe of og nn b">width</code>。</li></ul><p id="1a81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">剩下的工作就是在屏幕上显示这个组件。为此，在<code class="fe oe of og nn b">App.js</code>中编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="6a66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是我们代码的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi op"><img src="../Images/2ac1bd98e3131a8ce542bbf62377c7f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*JznJpWBb0pOBqsMomhr2iQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="62fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该对象没有动画，因为我们没有指定它运行。我们可以通过<code class="fe oe of og nn b">autoPlay</code>道具让它像这样玩:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="c893" class="mv me it nn b gy nr ns l nt nu">&lt;LottieView<br/>  source={require("./assets/67313-lava-preloader.json")}<br/>  autoPlay<br/>/* further code.. */</span></pre><p id="41da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/eaa0f67a58d95e8485e403d6cfdc8806.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/1*gXctcrtsrBnlAJNeKiOlwQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="a8bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那非常容易！</p><h2 id="3410" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">加载程序动画</h2><p id="e33a" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">在本节中，我们将使用<a class="ae ky" href="https://sampleapis.com/api-list/coffee" rel="noopener ugc nofollow" target="_blank"> Coffee API </a>在屏幕上呈现数据。加载数据时，React Native将渲染动画。</p><p id="1836" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为<code class="fe oe of og nn b">LoadingAnimation.js</code>的文件。这里，从编写以下代码开始:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><ul class=""><li id="e6f3" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">第4-8行:从API获取数据，并将其存储在<code class="fe oe of og nn b">data</code>钩子中。</li><li id="b56a" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第14-18行:<code class="fe oe of og nn b">Item</code>组件将负责呈现列表中的每一项。</li></ul><p id="8511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，将以下代码添加到同一个文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><ul class=""><li id="4f90" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">第3行:检查数据是否已经加载(数据的值不是<code class="fe oe of og nn b">null</code>)。</li><li id="d573" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第4-8行:使用<code class="fe oe of og nn b">FlatList</code>元素呈现<code class="fe oe of og nn b">data</code>数组。如果你想了解更多关于使用<code class="fe oe of og nn b">FlatList</code>的知识，<a class="or os ep" href="https://medium.com/u/1ec17560bf99?source=post_page-----788a87cf8d94--------------------------------" rel="noopener" target="_blank">斯潘塞·卡利</a> <a class="ae ky" href="https://medium.com/react-native-development/how-to-use-the-flatlist-component-react-native-basics-92c482816fe6" rel="noopener">已经写了一篇关于它的文章</a>。</li><li id="6efa" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第10-15行:否则，如果数据正在加载，显示我们的加载动画。</li></ul><p id="9a15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/b954bd76126c488ee81cb964c7aa62d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/1*B67dwKnI26ZOFQKBnh35Lw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="3712" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！我们的代码有效。在下一节中，您将学习如何控制动画的其他属性。</p><h2 id="b816" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">控制速度</h2><p id="d65d" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">要改变速度，使用<code class="fe oe of og nn b">speed</code>支柱。</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="d18d" class="mv me it nn b gy nr ns l nt nu">&lt;LottieView<br/>  speed={3}<br/>//further code..</span></pre><p id="9bd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将使动画速度提高三倍。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/75eaffa793ce40a2fa69459b550fe19e.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/1*-o3qk2a4wUJH5H1TK5GPkg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="47e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过设置负值来反转它，如下所示:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="b260" class="mv me it nn b gy nr ns l nt nu">&lt;LottieView<br/>  speed={-1}<br/>//further code..</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/e1f3da15ed5615020e9cc603ee715495.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/1*n5GqngAD5hiPGs_gH0aJDA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="6b2b" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">动画结束时的处理</h2><p id="a51f" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">洛蒂包括一个叫做<code class="fe oe of og nn b">onAnimationFinish</code>的道具。在这里，您可以编写一个回调函数，在动画结束时运行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><ul class=""><li id="9902" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">第11行:当动画结束时，调用<code class="fe oe of og nn b">handleFinish</code>方法。这将把<code class="fe oe of og nn b">finish</code>吊钩设置为<code class="fe oe of og nn b">true</code>。</li><li id="2eb4" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第13行:将<code class="fe oe of og nn b">loop</code>道具设置到<code class="fe oe of og nn b">false</code>。这将告诉Lottie只运行动画一次。</li><li id="ccee" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第16行:使用条件渲染来表示动画已经完成。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/25f3a2ff51e1163ebe31a1f0dc831462.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/1*-LEDSysweosLFDBOBupg4w.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4cb7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">与动画互动</h1><p id="e44e" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">在本节中，您将了解Lottie的命令式API。这允许对资产进行更精细的控制。</p><h2 id="b7f2" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">播放和暂停</h2><p id="9c63" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">在这里，我们将告诉洛蒂运行图形，如果用户已经按下它们。否则，如果用户抬起手指，动画将会暂停。</p><p id="21c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为<code class="fe oe of og nn b">InteractiveAnimation.js</code>的文件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="9c2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们仔细分析这段代码。</p><ul class=""><li id="b9c7" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">第7行:创建一个<code class="fe oe of og nn b">useRef</code>实例。我们将用它来指挥我们的动画。要了解更多关于<code class="fe oe of og nn b">useRef</code>钩子的知识，请查看这篇由<a class="or os ep" href="https://medium.com/u/85c2933da91c?source=post_page-----788a87cf8d94--------------------------------" rel="noopener" target="_blank">颜后君·加西亚·加西亚</a>撰写的文章。</li><li id="0cf5" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第11行:呈现一个<code class="fe oe of og nn b">Pressable</code>组件。这将检测用户的交互。</li><li id="c5a7" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第12-15行:如果用户的手指在屏幕上(<code class="fe oe of og nn b">onPressIn</code>)，恢复动画。</li><li id="8da3" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第16-19行:如果用户举起了手指(<code class="fe oe of og nn b">onPressOut</code>)，暂停动画。</li><li id="dd9e" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第22行:链接我们的<code class="fe oe of og nn b">animation</code>钩子和这个<code class="fe oe of og nn b">LottieView</code>实例。</li></ul><p id="8dd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是代码的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/f7aa23319043ee0f0973d1f70460fcc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*fP07KGugC9vlHlfEZ2T4eQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="e561" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">开关</h2><p id="bc90" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">这里，我们将使用开关动画在“开”和“关”状态之间切换。</p><p id="8e6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在继续之前，请看一下文件。注意，图形在<code class="fe oe of og nn b">Frame 27</code>处转到“开”的位置，在<code class="fe oe of og nn b">Frame 51</code>处回到“关”的位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/a407ab32550b3499ad5889e9a004275a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8PGVyHkVR5t4BKAS6iozEw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">看框架</p></figure><p id="7bf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的计划是根据状态在这些帧之间切换。</p><p id="5da3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为<code class="fe oe of og nn b">SwitchAnimation.js</code>的文件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><ul class=""><li id="1065" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">第6行:创建<code class="fe oe of og nn b">animation</code>钩子来访问动画操作函数。</li><li id="1208" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第10行:如果<code class="fe oe of og nn b">on</code>状态为假，播放动画直到<code class="fe oe of og nn b">Frame 27</code>。这将把开关设置为“关”</li><li id="bbbf" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated">第12行:否则，播放从<code class="fe oe of og nn b">Frame 27</code>到<code class="fe oe of og nn b">Frame 51</code>的动画。这将把开关状态翻转到“开”</li></ul><p id="4275" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><ul class=""><li id="c469" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">第3行:点击时，反转<code class="fe oe of og nn b">on</code>钩子的值。</li></ul><p id="7970" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/60df54393fe5ca62a355d688b9dfa168.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/1*Hyt_oOOtDRz1TzfSf9bETQ.gif"/></div></figure><p id="611a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完事了。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="3147" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">额外资源</h1><p id="25f3" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated"><a class="ae ky" href="https://github.com/HussainArif12/lottie-tutorial" rel="noopener ugc nofollow" target="_blank">GitHub上的代码</a>。</p><ul class=""><li id="c6c2" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated"><a class="ae ky" href="https://medium.muz.li/a-guide-to-lottie-framework-5-steps-to-create-an-animation-6ccc446d7b13" rel="noopener ugc nofollow" target="_blank">洛蒂框架指南</a>作者<a class="or os ep" href="https://medium.com/u/7e26e5ac328a?source=post_page-----788a87cf8d94--------------------------------" rel="noopener" target="_blank">谢尔盖·格拉德基</a></li><li id="f6b4" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=FySemYmSPHg" rel="noopener ugc nofollow" target="_blank">喜欢React Native School与洛蒂的动画</a></li><li id="78ae" class="nv nw it lb b lc oh lf oi li oj lm ok lq ol lu oa ob oc od bi translated"><a class="ae ky" href="https://www.youtube.com/watch?v=LIoRZZ_va_o" rel="noopener ugc nofollow" target="_blank">Andrew boni facio在5分钟内对洛蒂做出反应</a></li></ul></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="da1b" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="691f" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">如果你正在寻找一个使用起来毫不费力的动画库，那么Lottie非常适合你的应用程序。最令人印象深刻的是，你不需要通过代码来重建你的动画，从而让你专注于项目中更关键的部分。</p><p id="c182" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢您的阅读！</p></div></div>    
</body>
</html>