<html>
<head>
<title>Code Your Own ASCII Art With SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用SwiftUI编写您自己的ASCII艺术代码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/code-your-own-ascii-art-with-swiftui-bf76bb8cfe83?source=collection_archive---------6-----------------------#2022-10-06">https://betterprogramming.pub/code-your-own-ascii-art-with-swiftui-bf76bb8cfe83?source=collection_archive---------6-----------------------#2022-10-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="49c4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">看看创建ASCII艺术的代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/90251d888a1dd1609ce805770c3ba88b.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*8VX_ISJIaPHH7KmzZrGRww.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">ASCII艺术的维基百科示例</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/ef59696a6690db5d2e7e627a936c0b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*C-GC7MtCsDW4SFiEJiwX7g.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">你真正的ASCII艺术</p></figure><p id="4228" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在计算的早期，它们肯定不支持我们今天所知道的图形，因为内存太贵了。在贝尔工作的艺术家Kenneth Charles Knowlton决定尝试通过使用ASCII字符创建图片来弥补这一差距。这是他最著名的作品之一。</p><p id="ebe4" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">和我一起阅读这篇文章，看看在SwiftUI下创建自己的ASCII艺术作品所需的代码。</p><h1 id="6df2" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">密码</h1><p id="ae1f" class="pw-post-body-paragraph kv kw it kx b ky mk ju la lb ml jx ld le mm lg lh li mn lk ll lm mo lo lp lq im bi translated">这份简报非常清楚。我需要读入一幅图像，把它分解成像素，然后用不同的字符重建它。我通过参考我写的这篇关于图像的<a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/handling-core-image-filter-processing-with-concurrency-in-swift-a016396c3a07">文章</a>开始了这段旅程，这篇文章使用其中的模板代码来获取图像数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mq l"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">读入图像像素数据的模板代码</p></figure><p id="2c83" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这里的关键部分是代表图像中点值的32位无符号整数的像素数组；每个字节由4 x 8位的块组成，其中最高的8位是alpha值，其余24位是颜色——蓝色、绿色和红色。</p><p id="c2f4" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我现在需要做的就是给这个方法一个图像，把它分解成像素值，然后用SwiftUI打印出来。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mr"><img src="../Images/e7e784c80c2d8d6ca2dbd00d531bb899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*z_c0KR69nBDdeRUmEs3iMQ.gif"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图0至图4为矩形</p></figure><p id="edb8" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这是通过使用以下代码完成的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="f730" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">它查看box数组中的值，box数组本身是我从图像中提取的像素数组的可迭代副本。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="684e" class="nb lt it mx b gy nc nd l ne nf">struct Boxes {<br/>  var id = UUID()<br/>  var box: UInt32!<br/>}</span><span id="b266" class="nb lt it mx b gy ng nd l ne nf">@State var boxes:[Boxes] = []</span></pre><p id="60da" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">一个更纯形式的SwiftUI版本的ASCII艺术，这里使用了单倍行距的字体。看起来有点像在填色书上加入数字。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mr"><img src="../Images/d6d11373a0e0bd17b6b5309462d7c1d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cp6FK-nrb1GG8nC-h_myBw.gif"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图0到图4使用字符来表示像素值</p></figure><p id="0f37" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">该图像背后的代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="0be3" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">最后，这是你使用SwiftUI形状得到的结果。就是我开始写这篇文章时用的那个。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/1be052e55f07c7dfb44717bf17d23972.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/format:webp/1*fAW9T9aHm_91jYD0XtiNHQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作为ASCII艺术的自画像</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/1804f897f87a20cb5e5153678d066361.png" data-original-src="https://miro.medium.com/v2/resize:fit:72/format:webp/1*zsh6Ry_SfRV_MR5SHxohyQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">我用的原图</p></figure><p id="853f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">注意</strong>:我使用了我在这篇<a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/16-useful-extensions-for-swiftui-88aae6ff8909">论文中提到的kern扩展</a>来生成这篇文章的标题图像:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="b5dd" class="nb lt it mx b gy nc nd l ne nf">extension Text {<br/>  init(_ string: String, configure: ((inout AttributedString) -&gt; Void)) {<br/>  var attributedString = AttributedString(string) /// create an `AttributedString`<br/>  configure(&amp;attributedString)<br/>  self.init(attributedString)<br/>}<br/>}</span></pre><p id="7f1f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">所有这些都让我想到了这个短片的结尾。希望你能像我写这篇文章一样喜欢阅读它。你可以在这个<a class="ae lr" href="https://gist.github.com/wizard1066/52d12c1da2e0e289eb82b1d9982fc437" rel="noopener ugc nofollow" target="_blank">链接</a>上找到填充代码。</p></div></div>    
</body>
</html>