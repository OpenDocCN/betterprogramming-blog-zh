<html>
<head>
<title>A SwiftUI List: ForEach</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI列表:ForEach</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-swiftui-list-foreach-or-whats-wrong-with-these-buttons-52c50ba60922?source=collection_archive---------15-----------------------#2019-10-21">https://betterprogramming.pub/a-swiftui-list-foreach-or-whats-wrong-with-these-buttons-52c50ba60922?source=collection_archive---------15-----------------------#2019-10-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f382" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">组合ScrollView和ForEach以改变您的布局</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a6c3729ba0e3e35f99b6440777c90e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P48jIdYKLXof-NxTz_jLMA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片来自<a class="ae kv" href="https://pixabay.com/photos/office-keyboard-job-work-381228/" rel="noopener ugc nofollow" target="_blank"> pixabay </a></p></figure><p id="7a2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">多少次我们问我们的设计师，“桌子上有什么？”好吧，时代变了——这是SwiftUI。坚持住。没什么不同。有了SwiftUI，我们只需问，“列表上有什么？”</p><p id="1529" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">什么都没变，是吗？猛冲向前，像是没人能阻止清单被执行，进度很快就掉进坑里。</p><p id="07aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是个陷阱！那鸿更像是，有人忘记了什么。</p><p id="3d68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大门在前方打开，一场冒险开始了。我们渴望知道SwiftUI的<a class="ae kv" href="https://developer.apple.com/documentation/swiftui/list" rel="noopener ugc nofollow" target="_blank">列表</a>给开发者带来了什么问题。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="c2bf" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">把它推到边缘</h1><p id="f488" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">至少我们按了一个按钮。结果可能会引起一些不安。</p><p id="5894" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从链接的文档中可以看出，SwiftUI列表可以这样创建:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">带伪代码的SwiftUI列表</p></figure><p id="08d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于项目(例如，表示为一个结构)必须符合<a class="ae kv" href="https://developer.apple.com/documentation/swift/identifiable" rel="noopener ugc nofollow" target="_blank">可识别</a>协议——并且下面的演示需要这些项目——这样的结构应该被给出为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="b63b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">引发正在讨论的问题的途径很短。查看包含两个按钮的列表:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">SwiftUI列表示例</p></figure><p id="44f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Xcode中的预览显示了我们闪亮的列表:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi my"><img src="../Images/61b7ad13bfad74c24031d2c329254199.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*jQ-95kA3vYPgZajxUr0Rwg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">居中列表</p></figure><p id="5f30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有人可能会问，这有什么大惊小怪的。运行并按下第一行上部的<em class="mz"> </em>按钮<em class="mz"> </em>，调试输出是一个令人惊讶的两行代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="f8a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果一个SwiftUI <a class="ae kv" href="https://developer.apple.com/documentation/swiftui/button" rel="noopener ugc nofollow" target="_blank">按钮</a>放在一个列表中，它似乎覆盖了整个行区域。尽量用绝对宽度和高度框住；尽管如此，你还是会有同样的行为。</p><p id="79ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这完全取决于具体的要求，但ForEach可能是一个真正的朋友，会来帮助我们——并可能防止大量的脏话。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="08a4" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">七封甜蜜的信——给每个人</h1><p id="4107" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在寻找替代方案的过程中，<a class="ae kv" href="https://developer.apple.com/documentation/swiftui/foreach" rel="noopener ugc nofollow" target="_blank"> ForEach </a> ⁴结构出现了，并伸出了援助之手。随着一个封闭的<a class="ae kv" href="https://developer.apple.com/documentation/swiftui/scrollview" rel="noopener ugc nofollow" target="_blank">滚动视图</a> ⁵，发现显示，一个列表可能被手工制作如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="c56c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Xcode友好地呈现结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/11c918e4aaf3d438260386a871141b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*NO_8t1uhasIJnSXlq6_71g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">内部有ForEach的居中ScrollView</p></figure><p id="0d73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并排，结果看起来很不一样。一切都很普通，但是按钮呈现在蓝色的前景色中，并且可以单独点击——正如调试输出所证实的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/4eca4dfa205332927cb68c9bd05d11ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HdjXY8Ar1E2uymaYaOPSSQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">仔细观察:左边是ForEach，右边是List的ScrollView</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5df3" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">可能性</h1><p id="aae5" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">许多用例可能被一个ForEach结构覆盖，被一个ScrollView包围:以垂直或水平排列显示一些相似布局的视图就像用ScrollView和ForEach的组合替换List一样简单。在这两种实现中，要排列的数据必须符合可识别的协议。</p><p id="0b23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些行可以按照我们的设计师的要求来设计。整洁！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="eb11" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">脚注参考文献</h1><ol class=""><li id="8454" class="nc nd iq ky b kz mr lc ms lf ne lj nf ln ng lr nh ni nj nk bi translated"><a class="ae kv" href="https://developer.apple.com/documentation/swiftui/list" rel="noopener ugc nofollow" target="_blank">https://developer.apple.com/documentation/swiftui/list</a></li><li id="9d33" class="nc nd iq ky b kz nl lc nm lf nn lj no ln np lr nh ni nj nk bi translated"><a class="ae kv" href="https://developer.apple.com/documentation/swift/identifiable" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/documentation/swift/identified</a></li><li id="99fb" class="nc nd iq ky b kz nl lc nm lf nn lj no ln np lr nh ni nj nk bi translated">【https://developer.apple.com/documentation/swiftui/button T4】</li><li id="95ff" class="nc nd iq ky b kz nl lc nm lf nn lj no ln np lr nh ni nj nk bi translated"><a class="ae kv" href="https://developer.apple.com/documentation/swiftui/foreach" rel="noopener ugc nofollow" target="_blank">https://developer.apple.com/documentation/swiftui/foreach</a></li><li id="e058" class="nc nd iq ky b kz nl lc nm lf nn lj no ln np lr nh ni nj nk bi translated"><a class="ae kv" href="https://developer.apple.com/documentation/swiftui/scrollview" rel="noopener ugc nofollow" target="_blank">https://developer . apple . com/documentation/swift ui/scroll view</a></li></ol></div></div>    
</body>
</html>