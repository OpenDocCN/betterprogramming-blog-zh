<html>
<head>
<title>The New Material Buttons in Flutter Version 1.22</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter版本1.22中的新材质按钮</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/discover-flutter-new-material-buttons-in-flutter-version-1-22-39b8f1887d8?source=collection_archive---------5-----------------------#2020-10-13">https://betterprogramming.pub/discover-flutter-new-material-buttons-in-flutter-version-1-22-39b8f1887d8?source=collection_archive---------5-----------------------#2020-10-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="0e40" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">发现颤动—第7周</h2><div class=""/><div class=""><h2 id="0f3c" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">你的Flutter应用程序中更好的按钮</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/bf870245cf49e4bd6d71689f0c66f81d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nZzXEwKpXHOS2OpG"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Andreas Chu 在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="a756" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">随着新版Flutter (1.22)的公布，新的按钮已经到来。虽然旧的仍然没有被弃用，但是新的好处肯定会导致人们去替换它们。</p><p id="88fc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在开发应用程序时，将所有按钮调整为相同的外观可能很耗时。这基本上涉及到定制按钮和使用它们。</p><p id="7d03" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但是到了1.22版本，就不再是这样了。现在，您可以轻松地设置主题，该主题将全局应用于所选类型的所有按钮。</p><p id="8574" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面，您可以看到一个表格，显示哪些按钮及其主题替换了现有的按钮和主题:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi me"><img src="../Images/422736987966b96e7c8c972379f2b05a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_wxOKiobV_oUr8a4QnCoA.png"/></div></div></figure><p id="f51f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">通过一个简单的例子，我们将看到如何轻松地为某种类型的按钮设置主题。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="fe42" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">1.使用TextButton代替FlatButton</h1><p id="c3d2" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">由于应用于整个应用程序的主题是在<code class="fe nj nk nl nm b">MaterialApp</code>小部件的<code class="fe nj nk nl nm b">theme</code>属性中设置的，所以按钮主题也是如此。</p><p id="e898" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">通常，我们将<code class="fe nj nk nl nm b">ThemeData</code>传递给<code class="fe nj nk nl nm b">theme</code>属性。在1.22版本中，<code class="fe nj nk nl nm b">ThemeData</code>现在有了新的属性，其中之一就是与前述按钮<code class="fe nj nk nl nm b">textButtonTheme</code>相关的<code class="fe nj nk nl nm b">theme</code>属性。</p><p id="5112" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">它接受在主<code class="fe nj nk nl nm b">style</code>属性中完成整个设置的<code class="fe nj nk nl nm b">TextButtonThemeData</code>。通过这个例子，我们将根据按钮本身的状态来完成主要颜色和颜色的设置。</p><h2 id="6dfb" class="nn mn it bd mo no np dn ms nq nr dp mw lr ns nt my lv nu nv na lz nw nx nc iz bi translated">使用主题覆盖主要颜色属性—文本颜色</h2><p id="131a" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">为相应的主题(<code class="fe nj nk nl nm b">TextButtonThemeData</code>)创建一个新的<code class="fe nj nk nl nm b">ButtonStyle</code>，并将按钮样式传递给它的<code class="fe nj nk nl nm b">style</code>属性:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ny"><img src="../Images/b617b0f09fa942692359e2771488789c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3MI4ooXEbEwMFhut9z4Fnw.png"/></div></div></figure><p id="4b9b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这样，我们将有效地全局覆盖<code class="fe nj nk nl nm b">TextButton</code>的文本颜色:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/5dd7b0af85adaa1371ad98cb5cf72331.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*wMgOKLyJRuwdWbwfS_e-JQ.png"/></div></figure><p id="a98c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe nj nk nl nm b">ButtonStyle</code>类包含了所有的公共属性。它是大多数按钮共有属性的简单容器。</p><h2 id="9383" class="nn mn it bd mo no np dn ms nq nr dp mw lr ns nt my lv nu nv na lz nw nx nc iz bi translated">根据按钮的状态使用主题来覆盖按钮的外观</h2><p id="7b62" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">假设只想改变具体状态的背景颜色。要仅在按钮被按下时覆盖按钮的背景颜色，在<code class="fe nj nk nl nm b">MaterialStateProperty</code>的帮助下创建一个<code class="fe nj nk nl nm b">ButtonStyle</code>，它将映射所选按钮状态的背景颜色:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/977009b7640eb3826bcd98c8e333ec49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qhbp09em5X9FawW6oqVuiw.png"/></div></div></figure><p id="f731" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所选规则将全局应用于所有<code class="fe nj nk nl nm b">TextButtons</code>:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/d5dd166b7373d49c774d08ea8ea35268.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Bccb8kkMfaG3ONJ8zsBGGA.gif"/></div></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="360d" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">2.使用ElevatedButton而不是RaisedButton</h1><p id="e43a" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated"><code class="fe nj nk nl nm b">TextButton</code>提供的功能也适用于<code class="fe nj nk nl nm b">ElevatedButton</code>，它是<code class="fe nj nk nl nm b">Raised</code>按钮的替代品(仅在适用于该按钮类型的属性中)。</p><h2 id="6b19" class="nn mn it bd mo no np dn ms nq nr dp mw lr ns nt my lv nu nv na lz nw nx nc iz bi translated">使用主题全局更改形状</h2><p id="2d93" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">类似地，我们需要为相应的主题<code class="fe nj nk nl nm b">ElevatedButtonThemeData</code>创建一个新的<code class="fe nj nk nl nm b">ButtonStyle</code>:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/36cb4483e08d424a176e758c97cca226.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MXa0zi9oPBnRERb12TrCCQ.png"/></div></div></figure><p id="5240" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">通过以这种方式创建按钮的形状，这种类型的按钮的外观将被整体改变:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi od"><img src="../Images/484a42b7ade3a1d840986a91bb73d47b.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*MgRip_iXrKEI2BTyjQYYZg.png"/></div></figure><h2 id="9976" class="nn mn it bd mo no np dn ms nq nr dp mw lr ns nt my lv nu nv na lz nw nx nc iz bi translated"><strong class="ak">使用</strong>按钮样式改变单个按钮的外观</h2><p id="a779" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">除了全局改变按钮样式，你也可以单独改变，因为<code class="fe nj nk nl nm b">TextButton</code>和<code class="fe nj nk nl nm b">ElevatedButton</code>都有<code class="fe nj nk nl nm b">style</code>属性。</p><p id="ad8f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为选择的按钮类型创建<code class="fe nj nk nl nm b">ButtonStyle</code>属性(在我们的例子中，为<code class="fe nj nk nl nm b">ElevatedButton</code>):</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oe"><img src="../Images/1802add32dc7d857228320f9ff8cdd60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_9Xg_kAPPGfP17OqIR9UQ.png"/></div></div></figure><p id="f61e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">将创建的样式转发到要应用该样式的按钮:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi of"><img src="../Images/e5146efed75f0a9ad860f194d763c444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T6BoFt7qLR_fj7qVt6m91g.png"/></div></div></figure><p id="8222" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在我们可以看到个性化定制的结果:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi og"><img src="../Images/164dfc28c56090d3d0516c3d5f3a50c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*7tlwhupJc5fBaIxYkxnGIQ.png"/></div></figure><p id="9fc6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这些按钮更加灵活，也更容易通过构造函数参数或主题进行配置。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="27e0" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">结论</h1><p id="0099" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">如果你是涵盖各种颤振主题的简短有趣文章的粉丝，并且你想养成在接下来的23周内和我一起学习颤振的习惯，你可以每周二阅读我的文章。</p><p id="7be8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你对这篇文章有任何问题或意见，欢迎在下面回复。</p><p id="54e3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于那些想加入我们的颤振之旅的人，可以在下面找到前几周的链接:</p><ul class=""><li id="8321" class="oh oi it lk b ll lm lo lp lr oj lv ok lz ol md om on oo op bi translated"><a class="ae lh" href="https://medium.com/the-innovation/discover-flutter-roadmap-for-learning-flutter-why-textalign-property-does-not-work-aa055a469025" rel="noopener">第一周</a> —学习颤振的路线图</li><li id="5208" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated"><a class="ae lh" href="https://medium.com/@jelenajjovanoski/discover-flutter-how-to-create-sliders-how-to-create-cool-text-designs-8adb0e1feea3" rel="noopener">第2周</a> —如何创建简介滑块</li><li id="6433" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated"><a class="ae lh" href="https://medium.com/@jelenajjovanoski/discover-flutter-how-to-easily-generate-routes-how-to-flatten-deeply-nested-widget-trees-9c66dae99a73" rel="noopener">第三周</a> —如何轻松生成路线</li><li id="f889" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated"><a class="ae lh" href="https://medium.com/datadriveninvestor/discover-flutter-great-packages-for-pdf-viewing-tagging-flush-bar-26066e3c0d3b" rel="noopener">第4周</a> —某些颤振包的建议</li><li id="3ae0" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated"><a class="ae lh" href="https://medium.com/@jelenajjovanoski/discover-flutter-bottom-navigation-bar-generate-hex-color-code-easily-d6d949dd860b" rel="noopener">第5周</a> —底部导航栏</li><li id="0395" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated"><a class="ae lh" href="https://medium.com/@jelenajjovanoski/discover-flutter-the-holy-trinity-of-every-animation-circular-reveal-animation-example-ea1b89904a5d" rel="noopener">第六周</a>——每个动画的神圣三位一体</li></ul><p id="3934" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下周见。不要打破记录！</p></div></div>    
</body>
</html>