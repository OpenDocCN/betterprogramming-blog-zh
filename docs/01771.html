<html>
<head>
<title>Flask, MySQL, and AWS: A Complicated Love Triangle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flask、MySQL和AWS:一个复杂的三角恋</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/flask-mysql-and-aws-a-complicated-love-triangle-8ea5588e40ac?source=collection_archive---------3-----------------------#2019-10-12">https://betterprogramming.pub/flask-mysql-and-aws-a-complicated-love-triangle-8ea5588e40ac?source=collection_archive---------3-----------------------#2019-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="887c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将Flask应用程序连接到AWS MySQL数据库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/aa49b6eb8d7ad2a36a0aa04d274eae49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q5aAOjbxkKwh_dyt_ZJcBQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@arhmi?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Miha Arh </a>在<a class="ae ky" href="https://unsplash.com/s/photos/love-triangle?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="8fcf" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">介绍</h1><p id="06e0" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我最近花了很多时间使用<a class="ae ky" href="https://palletsprojects.com/p/flask/" rel="noopener ugc nofollow" target="_blank"> Flask </a>构建简单的web门户，SQL后端运行在Amazon Web Services上(<a class="ae ky" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS </a>)。原因是AWS提供了一个非常慷慨的免费层，我的大多数应用程序都是短期和小型的。</p><p id="d51b" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这样做了很多次后，我觉得写一篇简短的帖子，详细说明如何使用Python中的Flask设置一个应用程序，启动一个AWS MySQL数据库，并将两者连接起来，会很有用。</p><p id="aeed" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这篇文章假设你对Flask有一些初级的经验，但是我会一步一步的教你。我们不会讨论为一个网站创建页面；创建HTML表单，CSS和所有其他前端web开发风格的工作。</p><p id="8a0d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这个教程可以被认为是你网站后端的一个练习。教程本身是模仿Miguel Grinberg的伟大教程，他是Flask-Migrate包的作者。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="7576" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">烧瓶应用</h1><p id="0d67" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我将创建一个名为<code class="fe mz na nb nc b">flask_backed_with_aws</code>的基本Flask应用程序。应用程序的文件夹结构如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="c21c" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">从这里我们可以看到，我们只有四个脚本(和一个环境文件)，我可以用文字来描述:</p><ul class=""><li id="faff" class="nf ng it ma b mb mu me mv mh nh ml ni mp nj mt nk nl nm nn bi translated"><code class="fe mz na nb nc b">flask_backend_with_aws.py</code>:启动你的Flask应用程序，这是你将要设置的<code class="fe mz na nb nc b">FLASK_APP</code>变量。</li><li id="d1de" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated"><code class="fe mz na nb nc b">config.py</code>:配置Flask应用程序的参数，特别是数据库的位置。</li><li id="73fc" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated"><code class="fe mz na nb nc b">.env</code>:保存<code class="fe mz na nb nc b">config.py</code>调用的环境变量。</li><li id="bfa2" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated"><code class="fe mz na nb nc b">__init__.py</code>:启动Flask应用程序时运行。这将创建名为<code class="fe mz na nb nc b">create_app</code>的函数，它将初始化我们的数据库和迁移报告。</li><li id="1e8b" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated"><code class="fe mz na nb nc b">models.py</code>:创建您的数据库模式。在这个名为<code class="fe mz na nb nc b">testDB</code>的文件中只创建了一个表。</li></ul><p id="5d57" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">让我们快速浏览一下如何在Python虚拟环境中创建这个应用程序。要逐步执行这段代码，Python必须可以从命令行调用，并且必须有<code class="fe mz na nb nc b"><a class="ae ky" href="https://docs.python.org/3/library/venv.html" rel="noopener ugc nofollow" target="_blank">venv</a></code>包。</p><p id="f7ad" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">您需要为您的项目创建一个目录，然后从该目录中启动虚拟环境。命令行(或shell命令)的任何代码都将在灰色框中突出显示:</p><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="024b" class="nx lh it nc b gy ny nz l oa ob"># ~ Make directory and launch virtual environment ~ #                       mkdir flask_backend_with_aws                       <br/>python3 venv venv                                               </span><span id="fb40" class="nx lh it nc b gy oc nz l oa ob"># ~ Launch virtual environment (on Windows) ~ #                       venv\Scripts\activate</span></pre><p id="7fad" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">对应用程序结构最重要的两个文件是<code class="fe mz na nb nc b">config.py</code>和<code class="fe mz na nb nc b">__init__.py</code>。我们先来关注一下<code class="fe mz na nb nc b">__init__py</code>。</p><p id="39b5" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们将使用<a class="ae ky" href="https://www.sqlalchemy.org/" rel="noopener ugc nofollow" target="_blank"> SQLAlchemy </a>和Migrate，两者都来自Flask特定的模块。</p><p id="27c5" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这两个模块的好处在于，它们允许我们在Flask应用程序中轻松地创建数据库，而且我们在脚本中对数据库所做的任何更改都可以轻松地推送到数据库所在的位置。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="0b59" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们可以在上面的代码中看到，我们正在从<code class="fe mz na nb nc b">config.Config</code>中提取一些配置。这是Flask中的一个很好的方法，它允许我们在Flask知道要找到的一个单独的文件中指定配置。</p><p id="cbae" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们在这里关心的具体配置将是数据库的统一资源标识符(URI)或地址。我们可以为测试数据库和生产数据库指定不同的地址。下面，我有我的<code class="fe mz na nb nc b">config.py</code>，我在这里做的唯一特别的事情是使用<code class="fe mz na nb nc b">dotenv</code>包从我的<code class="fe mz na nb nc b">.env</code>文件加载环境变量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="8407" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们只需要再创建一个脚本，它是为这个数据库创建我们想要的表的脚本。</p><p id="c78f" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这个练习不是关于SQL的，所以我要做的表相对简单。注意，为了创建一个<code class="fe mz na nb nc b">testDB</code>，我们扩展了<code class="fe mz na nb nc b">db.Model</code>类。</p><p id="d835" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这是Flask的另一个很好的特性，它已经有了一个预建的table类，每个表都简单地扩展了这个类。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="feb0" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们最后编写一个脚本来启动我们的应用程序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="b03a" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">要启动我们的应用程序，在命令行中，您必须将<code class="fe mz na nb nc b">FLASK_APP</code>变量设置为启动我们的应用程序的文件，然后调用<code class="fe mz na nb nc b">flask run</code>。</p><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="f1cb" class="nx lh it nc b gy ny nz l oa ob"># ~ Set flask application location ~ #<br/>set FLASK_APP=flask_backend_with_aws</span><span id="6d82" class="nx lh it nc b gy oc nz l oa ob"># ~ Launch flask ~ #<br/>flask run</span></pre><p id="cb25" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">您的Flask应用程序现在应该正在运行。要创建数据库，然后将任何更改迁移到数据库，您必须运行三个命令。</p><p id="e4cb" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这些命令类似于Git命令，用于暂存、提交和推送对存储库的更改:</p><ul class=""><li id="67fe" class="nf ng it ma b mb mu me mv mh nh ml ni mp nj mt nk nl nm nn bi translated"><code class="fe mz na nb nc b">flask db init</code>:创建一个Python脚本，用于对<code class="fe mz na nb nc b">models.py</code>中的数据库进行所有更改。</li><li id="71fe" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated"><code class="fe mz na nb nc b">flask db migrate</code>:创建迁移脚本。</li><li id="297a" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated"><code class="fe mz na nb nc b">flask db upgrade</code>:执行迁移脚本升级数据库模式。</li></ul><p id="cb63" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">您可以看到这三个调用在起作用:</p><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="307f" class="nx lh it nc b gy ny nz l oa ob"># ~ Initialize database changes ~ #<br/>flask db init</span><span id="dbc3" class="nx lh it nc b gy oc nz l oa ob"># ~ Migrate db changes ~ #<br/>flask db migrate -m "testDB table"</span><span id="36fe" class="nx lh it nc b gy oc nz l oa ob"># ~ Upgrade changes ~ #<br/>flask db upgrade</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="21fb" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">向数据库添加数据</h1><p id="03e8" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我们已经成功地在您的计算机上创建了一个本地可用的数据库，我们可以使用任何能够与您的本地<a class="ae ky" href="https://www.sqlite.org/" rel="noopener ugc nofollow" target="_blank"> SQLite </a>数据库对话的程序来访问该数据库。</p><p id="5685" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">下面我有一个示例脚本来添加，然后删除，然后添加，然后读入数据到一个<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas </a> dataframe。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="17f6" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">引入AWS</h1><p id="04e6" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">最后一部分是关于简单地创建我们的数据库。该部分的好处在于，一旦我们在AWS <em class="od">上正确地</em>设置了MySQL数据库，那么我们所要做的就是更改环境文件中的“URI ”,我们基本上就完成了。</p><p id="f0ba" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">事实证明，虽然AWS令人惊叹，但在设置数据库时，您应该知道一些问题。正如我之前所说，我将建立一个MySQL数据库。</p><p id="4713" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">鉴于我是一名学生，没有钱，我将在这个练习中使用AWS免费层。整个过程可以在我的GitHub中的一系列截图中找到。不过，我可以总结一下你需要遵循的确切流程。</p><p id="0aef" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">你首先需要登录你的AWS控制台，导航到亚马逊的关系数据库系统服务(简称RDS)。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="6f84" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">在数据库创建期间</h1><p id="a891" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">要创建数据库，您需要确保完成以下两件事:</p><ul class=""><li id="c414" class="nf ng it ma b mb mu me mv mh nh ml ni mp nj mt nk nl nm nn bi translated">创建一个“初始数据库名”——这不同于“数据库实例标识符”。</li><li id="788d" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated">公开您的数据库—这在“连接”选项卡中。</li><li id="e7e0" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated">创建主密码。</li></ul><p id="b222" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我对我的设置进行了如下设置:</p><ul class=""><li id="35fd" class="nf ng it ma b mb mu me mv mh nh ml ni mp nj mt nk nl nm nn bi translated">主用户名= admin </li><li id="806c" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated">主密码= flaskexample。</li><li id="770e" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated">数据库实例标识符= flaskexampledatabase2。</li><li id="87e1" class="nf ng it ma b mb no me np mh nq ml nr mp ns mt nk nl nm nn bi translated">初始数据库名= testFlask。</li></ul><p id="8c0e" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">一旦创建了数据库，这些操作就无法撤消。如果做不到这两点，就必须重新创建数据库。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="e2e4" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">数据库创建后</h1><h2 id="29ff" class="nx lh it bd li oe of dn lm og oh dp lq mh oi oj ls ml ok ol lu mp om on lw oo bi translated">设置安全组</h2><p id="7abf" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">一旦创建了数据库，您需要更改您的安全组设置，以允许您的机器(或服务器)与AWS上的数据库进行对话。</p><p id="4a55" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这仅仅意味着改变<code class="fe mz na nb nc b">inbound</code>和<code class="fe mz na nb nc b">outbound</code>规则，要么包含您的IP (AWS有一个选项)，要么包含所有IP流量。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="1195" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">在Flask Python代码中设置URI变量</h1><p id="bde4" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">一旦创建了数据库并正确更改了安全组设置，您所要做的就是为数据库设置正确的位置。要设置您的URI变量，它将采用以下形式:</p><pre class="kj kk kl km gt nt nc nu nv aw nw bi"><span id="8803" class="nx lh it nc b gy ny nz l oa ob">mysql+pymysql://MasterUsername:MasterPassword@URL/databaseName</span></pre><p id="51be" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">关于上面要注意的一些事情，<code class="fe mz na nb nc b">MasterUsername</code>可能不是你用来登录AWS的用户名。通常情况下，<code class="fe mz na nb nc b">MasterUsername</code>=‘admin’。</p><p id="ca32" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">接下来要知道的是<code class="fe mz na nb nc b">MasterPassword</code>要么是在<em class="od">创建数据库</em>期间随机生成的，要么是在创建数据库时设置的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="ccf7" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">一旦这些都设置好了，您现在就可以运行<code class="fe mz na nb nc b">flask db init</code>，进行迁移，并再次更新。</p><p id="41a2" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">请注意，您还必须更改Flask迁移目录的位置。现在这个数据库存在于AWS上！要访问它，我可以使用与上面类似的MySQL脚本。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="1d9f" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">与AWS上的数据进行连接和交互</h1><p id="0f1a" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">下面是一个使用<code class="fe mz na nb nc b">pymysql</code>与AWS数据库交互的简短脚本。正如您从上面看到的，我们使用了来自<code class="fe mz na nb nc b">DATABASE_URL</code>变量的所有信息，外加端口号。</p><p id="2f20" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">一旦这些都设置好了，您现在就可以运行<code class="fe mz na nb nc b">flask db init</code>，进行迁移，并再次升级。现在这个数据库存在于AWS上！要访问它，我可以使用上面类似的MySQL脚本。</p><p id="10fe" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这个新脚本使用<code class="fe mz na nb nc b">pymysql</code>，一个Python库来与MySQL数据库交互。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="d74e" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">结论</h1><p id="6941" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这种将应用程序从数据库中分离出来的框架并不新颖，因为这是大多数现代web应用程序架构的运行方式。</p><p id="fb06" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">话虽如此，学习如何为个人和定制的过程这样做是一个很少网络开发经验的人有点难。</p><p id="2e77" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">希望这能为将来尝试类似方法的人提供一个蓝图。</p></div></div>    
</body>
</html>