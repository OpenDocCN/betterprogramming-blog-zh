# 固执己见的反应:使用状态协同定位

> 原文：<https://betterprogramming.pub/opinionated-react-use-state-co-location-8123b904a971>

## 为什么你应该把你的状态放在尽可能靠近它被使用的地方

![](img/dc2dd8e43741bfd2ac11d963f7745776.png)

[乔丹马德里](https://unsplash.com/@jordanmadrid?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍照。

# 介绍

我已经和 React 合作了四年多。在这段时间里，我形成了一些我认为应用程序应该是什么样子的观点。这是这类固执己见的文章系列的第 4 部分。

# 为什么

状态位置有助于降低应用程序的复杂性。在某些情况下，它实际上可以提高性能。

# 你所在的州是什么意思？

简单地说，这意味着把你的状态尽可能地放在它被使用的地方。除非绝对必要，否则应该避免全局状态。

# 一个例子

这里有一些我在职业生涯中遇到过几次的代码。我会避免这样做:

我发现这段代码过于复杂，难以理解。值得注意的是，这样做的性能会很差，因为每次输入值改变时，我们都要重新渲染整个状态树。

# 使用协同定位来简化代码

我会这样写:

我总是从状态协同定位开始，然后在需要时提升状态。保持简单！

# 问与答(Question and Answer)

在每一篇文章里，我都会回答一个我在 Twitter 上收到的问题。这是本周的问题:

我认为*全球化*的事情很少。大多数状态应该在它被使用的地方共存。这里有一些我认为是全球性的事情:

*   当前用户
*   语言设置
*   一个主题

除了这三个，我不确定还有什么需要全球化。

# 包扎

这是我正在撰写的系列文章的第四部分。如果你喜欢这个，请在下面评论。你还想让我报道什么？一如既往，我欢迎反馈和建议。

感谢阅读。