<html>
<head>
<title>Understand Your Release Manager, Learn the Basics of CI/CD in GitHub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解您的发布管理器，学习GitHub中CI/CD的基础知识</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understand-your-release-manager-learn-the-basics-of-ci-cd-in-github-652b3fe7e0e0?source=collection_archive---------8-----------------------#2022-10-10">https://betterprogramming.pub/understand-your-release-manager-learn-the-basics-of-ci-cd-in-github-652b3fe7e0e0?source=collection_archive---------8-----------------------#2022-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="09ec" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">GitHub CI/CD平台的一些基本概念</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/20d568fae17e4951fb3533903df1508e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9eQQkBBnaXnfpDzB"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬西·敏</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="eae4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">听说过GitHub Actions吗？也许你没有，但我肯定你听说过DevOps，CI/CD，以及最近流行的一大堆其他词汇。在本文中，我想揭开GitHub持续集成和持续交付平台的神秘面纱。我知道浏览文档并试图理解它可能会令人生畏。</p><p id="8731" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望到最后，你会对这个平台的工作原理有所了解，而且<em class="ls"> </em>你不必在日常会议中假装你理解你的发布经理。</p><p id="9a8b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我用一些技术术语分散你的注意力之前，让我们试着用一个类比来理解我们在谈论什么。我们可以将GitHub Actions定义为一个装满积木的工具箱，使我们能够组装一个小型工厂，其中一些机器人将为我们执行一些操作。</p><blockquote class="lt lu lv"><p id="7c0b" class="kw kx ls ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">我宁愿构建一次我的工厂，而不是为每个新的拉取请求手动检查相同的动作列表！</p></blockquote><p id="9cd0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，…我们的小机器人有多熟练？看你的了！您可以让他们做一些简单的任务，如检查代码的格式、部署最新的特性或标记您的拉请求。但是为了让他们知道该做什么，他们需要一个脚本或者一些说明。</p><p id="5cdb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该脚本的主要构件如下:</p><ul class=""><li id="7d64" class="lz ma iq ky b kz la lc ld lf mb lj mc ln md lr me mf mg mh bi translated">事件——它是指将触发存储库中流程的活动。例如，当有人创建一个pull请求或将一个commit推送到一个存储库时，一个活动可以源自GitHub。</li><li id="ba57" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">工作流—工作流是运行一个或多个作业的可配置流程。你可以在你的知识库中找到YAML文件格式的文件。</li><li id="ea86" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">作业—作业是工作流中的一组步骤。一个工作流中可以有多个作业。</li><li id="0e38" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">步骤—它们是在作业中执行的单个任务。例如，向您的拉取请求添加标签，或者验证某些文件是否包含在您的拉取请求中。每个步骤要么是将要执行的shell脚本，要么是将要运行的操作。</li><li id="5991" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">行动——或者我喜欢称之为预建的机器人。动作只是GitHub Actions平台的一个定制应用程序，它执行一个复杂但经常重复的任务。你可以在GitHub的<a class="ae kv" href="https://github.com/marketplace?type=actions" rel="noopener ugc nofollow" target="_blank">市场</a>找到它们。</li><li id="1e69" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">运行者—运行者是运行您的工作流的服务器。这些运行程序中的每一个都可以一次运行一个任务。</li><li id="0796" class="lz ma iq ky b kz mi lc mj lf mk lj ml ln mm lr me mf mg mh bi translated">数据容器——在运行工作流时，您可能需要存储数据，为此您有缓存、工件或变量。</li></ul><h2 id="3517" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">话够了，给我看几张图！</h2><p id="72a6" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">我听到了。这需要消化很多信息。看看下面的模式，我试图展示我们的脚本是什么样子的。这里没有判断。这是我从姐姐那里借来的旧iPad的最好版本了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/d13856be5a3d153f3473515dbda79f16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Txtom2j7ikEDuDy2ajzIfg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">GitHub的GitHub动作流程</p></figure><p id="372a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，我们的机器人正在等待某个事件，一旦有人创建一个拉请求，机器人将开始检查任何符合相应标准的工作流。在浏览了工作流列表后，我们的bot将找到一个应该在每次创建新的拉请求时触发的工作流。然后，这个流将被放入一个队列中，一旦一个跑步者空闲，它将开始跑步。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/564cc461df45d1b5c4d1aa3f7c895fde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2qRxNUh6SGXUXaVaRbRp8w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">代表GitHub中工作流的YAML文件的结构。</p></figure><p id="5c42" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你还在吗？还在好奇我们如何将它转化成实际的工作脚本吗？看一下上面的图片，它显示了我们之前谈论的工作流的结构。它首先说明触发工作流的事件类型(也可以手动触发)，然后包括要运行的作业，以及完成这些作业所需的每个步骤。</p><h2 id="85ec" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">脚本实际上是什么样子的？—工作流的一个简单示例</h2><p id="4250" class="pw-post-body-paragraph kw kx iq ky b kz ng jr lb lc nh ju le lf ni lh li lj nj ll lm ln nk lp lq lr ij bi translated">在这里，您可以找到一个简单工作流的示例:</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="39e7" class="mn mo iq no b gy ns nt l nu nv">name: basic-example<br/>on:<br/>  pull_request:</span><span id="0a40" class="mn mo iq no b gy nw nt l nu nv">jobs:</span><span id="407e" class="mn mo iq no b gy nw nt l nu nv">first-job:<br/>    runs-on: ubuntu-18.04<br/>    steps:<br/>      - name: Checkout<br/>        uses: actions/checkout@v2<br/>      - name: Show Text<br/>        uses: echo Hello World!</span></pre><p id="1445" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该脚本显示了一个名为<code class="fe nx ny nz no b">basic-example</code>的工作流，它在任何与拉请求相关的新事件中触发。它包含一个名为<code class="fe nx ny nz no b">first-job</code>的作业，运行在一个装有Ubuntu的容器上，由两个步骤组成。</p><p id="cdbb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一步只是在<code class="fe nx ny nz no b">$GITHUB_WORKSPACE</code>下检查您的存储库，并使您的脚本能够运行经过认证的git命令。第二步更简单。它在终端打印一条“Hello World”消息。正如您所看到的，创建一个工作流并不像它看起来那么复杂！</p><p id="e1ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这篇文章能帮助你更好地理解GitHub动作是什么。你现在可以在喝咖啡的时候吹嘘你的DevOps知识了！</p><p id="9114" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想进一步了解这个话题，你可以在<a class="ae kv" href="https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions#:~:text=GitHub%20Actions%20is%20a%20continuous,merged%20pull%20requests%20to%20production." rel="noopener ugc nofollow" target="_blank"> GitHub的官方网站</a>上找到更多信息。</p></div></div>    
</body>
</html>