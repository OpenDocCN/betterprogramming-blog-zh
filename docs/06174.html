<html>
<head>
<title>Understanding SwiftUI Modifiers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解SwiftUI修饰符</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understanding-swiftui-modifiers-83ebfbc3f94?source=collection_archive---------12-----------------------#2020-09-07">https://betterprogramming.pub/understanding-swiftui-modifiers-83ebfbc3f94?source=collection_archive---------12-----------------------#2020-09-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="31a9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">以及为什么修改器的顺序很重要</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bfcf2e7a776583915e1224cff3769896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bTlXGq0LztqSQaPf"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔纳斯·李在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="6d4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">苹果开发领域正在进行一场重大的范式转变。多年来，我们习惯了UIKit和AppKit的命令式编程风格。尽管第三方用不同的风格做了很多尝试，但UI框架的这种命令式风格保持不变，而且大多数开发人员都喜欢它。</p><p id="e4e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当苹果在2019年推出SwiftUI时，未来看起来截然不同。现在都是宣示性的了。不是每个人都从一开始就准备好了，但对于那些投身SwiftUI的人来说，这是一个有趣的旅程，尽管偶尔会令人沮丧。随着SwiftUI在2020年得到的<a class="ae ky" href="https://www.hackingwithswift.com/articles/221/whats-new-in-swiftui-for-ios-14" rel="noopener ugc nofollow" target="_blank">改进</a>，更多的开发人员将开始他们的声明式UI框架之旅。</p><p id="8f75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们尝试探索SwiftUI最重要的部分之一的工作方式:修饰符<strong class="lb iu">。</strong></p><p id="c951" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个<code class="fe lv lw lx ly b">View</code>可以有任意数量的修饰符。可以将它们添加到视图中，就像链接多个函数调用一样。每个修改器返回一个<code class="fe lv lw lx ly b">View</code>，后续修改器将对其进行操作。因此，在使用修饰符时，添加它们的顺序非常重要。让我们看一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/a1123ba73a6eb8b27bebfeac4b37fa19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*2z1m_rQ9QJw9wmdA87tpNg.png"/></div></figure><p id="e9bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从上面的代码和预览中你可以看到，<code class="fe lv lw lx ly b">cornerRadius</code>被应用到内部矩形，整个视图被旋转，因为<code class="fe lv lw lx ly b">rotationEffect</code>修改器是最后一个。现在让我们改变修改器的顺序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/10ca5481d8a8e9917d4c1b332b7f7a63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*-BtANvQ0wVzO4hbLFIMrHA.png"/></div></figure><p id="4288" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在互换了<code class="fe lv lw lx ly b">rotationEffect</code>和<code class="fe lv lw lx ly b">cornerRadius</code>的位置。您可以在结果视图中观察到差异。现在，内部矩形被旋转，外部矩形被圆角化。</p><p id="f8f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这两个例子中，我们不止一次应用了<code class="fe lv lw lx ly b">background</code>和<code class="fe lv lw lx ly b">padding</code>修改器。每一次，他们都会修改视图。现在让我们探索另一组修饰符。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi md"><img src="../Images/2eae08a040b51ff80aa489a78207f7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ge0ozO6LXdJG0Rsqhj-KTQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">你能告诉我们这些修饰语和我们上面看到的有什么不同吗？</p></figure><p id="518c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在某些情况下，当您应用同一个修改器两次时，SwiftUI只采用第一个修改器。上例中的<code class="fe lv lw lx ly b">foregroundColor</code>修饰符清楚地说明了这一点。这种行为与普通函数(以及大多数SwiftUI修饰符)的行为完全相反。</p><p id="ce61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我对这种行为的理解是，当一个修改器在一个视图上不能有一个以上的效果时(例如，任何视图只能有一种前景色)，应用最接近视图的那个。</p><p id="f0f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我找不到任何文档来说明为什么会出现这种情况，以及哪些修饰符会有这样的行为，但是我通过使用SwiftUI一年多来已经有了这样的理解。</p><p id="addb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果Xcode在不止一次添加这种多余的修饰符时给我们提供一个警告，那该有多好？为了实现这一点，除了现有的Swift和Objective-C编译器之外，Xcode还需要一个SwiftUI编译器。</p><p id="e84f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，当我们构建使用SwiftUI修饰符的应用程序时，我们肯定可以实现这些。当我第一次想到<a class="ae ky" href="https://medium.com/swlh/re-imagining-sf-symbols-into-xcode-c2ebf92550d9" rel="noopener">解决我在使用SF符号</a>时遇到的问题时，我设想了一个比SF符号Mac应用程序和Xcode的组合工作流更好的工具。</p><p id="7737" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://apps.apple.com/app/id1525226399?platform=ipad" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Swimbols </strong> </a>让你立即添加修改器，编辑或重新排序修改器以适应你的需要，并在应用修改器后只需点击一下就可以切换符号。所有的实时预览，你可以复制代码，当你完成了。</p><p id="1fa0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当不止一次添加修改器没有意义时，Swimbols不会在列表中显示它们。你可以添加我们在文章前面讨论过的其他类型的修饰语。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi me"><img src="../Images/781895e6fe9e41f7f2f1fdfebb4ad105.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zX2p_oKLIq1vNi4Wbox0lA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">轻松添加修改器并直观地重新排序。</p></figure><p id="d4bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以摆弄<a class="ae ky" href="https://apps.apple.com/app/id1525226399?platform=ipad" rel="noopener ugc nofollow" target="_blank">泳镜</a>并直观地重新排列修改器，看看它们如何立即影响视图。</p><p id="8486" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着SwiftUI的改进，很好地理解基本构建块是有好处的。我希望现在已经清楚了修饰符的顺序是如何影响视图的，以及为什么一些修饰符被多次使用是没有意义的。</p><p id="b1bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐！</p></div></div>    
</body>
</html>