<html>
<head>
<title>Let’s Draw 7 Flags in NumPy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们在数字里画7面旗子</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/lets-draw-5-flags-in-numpy-ef2953697ef4?source=collection_archive---------13-----------------------#2021-03-09">https://betterprogramming.pub/lets-draw-5-flags-in-numpy-ef2953697ef4?source=collection_archive---------13-----------------------#2021-03-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d482" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一次掌握一个字节的高级索引</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/19b7952c57abd3896fe6142ce71887e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M3N3bHu6ADkHbgKD1sg2MQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.flickr.com/photos/pennstatelive/16216912657" rel="noopener ugc nofollow" target="_blank">宾夕法尼亚州立大学</a>在<a class="ae ky" href="https://www.flickr.com/" rel="noopener ugc nofollow" target="_blank"> Flickr </a>上拍摄。</p></figure><p id="d41a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">处理图像是掌握多维数组的最佳方式，而<a class="ae ky" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> NumPy </a>非常擅长处理它们，在某些情况下，它可以单独取代整个图像处理库！</p><p id="9c29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过本教程，您将了解到:</p><ul class=""><li id="b18f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">如何用2D布尔蒙版索引RGB图像。</li><li id="84c9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">3D广播的工作原理。</li><li id="7397" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何搜索和替换图像中的特定颜色。</li><li id="1a0b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何将色彩映射表应用于灰度图像。</li><li id="e4f5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何使用meshgrids选择各种形状的区域？</li><li id="baef" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何使用超级采样进行抗锯齿？</li><li id="4ad4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何用亚像素网格移位优化超级采样？</li><li id="f613" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">还有更多。</li></ul><p id="c87d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从非常简单的东西开始——只有两种颜色的旗帜:白色和红色。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7bb1" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">1.基础知识</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/de70564af0cace653713e91903e7ad45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yfXIXCGlqVmfH2RzUAdozQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片鸣谢:<a class="ae ky" href="https://pixabay.com/photos/flag-poland-sky-blue-parachute-1639008/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>。</p></figure><p id="6c20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了了解图像内部的情况，让我们从尽可能小的维度开始:两个像素高，四个像素宽，每个像素都有常见的红色、绿色和蓝色分量。这使它成为一个2x4x3阵列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/3f0d86f89f25e38634ee50bc06ff3049.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vd3JXBI0O4occyYHV8FC_Q.png"/></div></div></figure><p id="7ed4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用两个索引来访问数组比较方便:<code class="fe nk nl nm nn b">a[y, x]</code>而不是<code class="fe nk nl nm nn b">a[y, x, color]</code>。这样，我们就可以在读写模式下获得像素的完整RGB三色组:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/ca588cb38a58a1a6ad205ced60eb99ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4HQyg5rQVIJbyFQt1ENSMw.png"/></div></div></figure><p id="ad0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，<code class="fe nk nl nm nn b">[1, 0, 0]</code>表示红色(这是<em class="np"> R </em>的最大强度，但<em class="np"> G </em>和<em class="np"> B </em>没有强度)，而<code class="fe nk nl nm nn b">[0, 0, 0]</code>表示黑色(=三个led都不亮)。</p><p id="6324" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以:<br/>–用切片索引数组来选择一个<em class="np">矩形</em>区域或者</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/ff6e3144ebc69ab340aa385554c92009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vEh3eEGXG_kG3JKEFwPXrQ.png"/></div></div></figure><p id="0eee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">–使用布尔索引选择一个任意<em class="np">形状的区域。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/d504ea5542cb189ed05814153c7cd95c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BSvzwHz6mKaipi8QGjX3Cw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为了看起来像一面旗帜，图像的大小从原来的1:2调整到了合适的5:8。</p></figure><p id="c139" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，这两种类型的索引做着同样的工作，但是正如你所看到的，布尔索引更加强大。但是没有人以这种明确的形式使用布尔索引。通常当你写逻辑操作符的时候，它是在幕后发生的。例如，您可以使用<code class="fe nk nl nm nn b">np.<a class="ae ky" href="https://numpy.org/doc/stable/reference/generated/numpy.indices.html" rel="noopener ugc nofollow" target="_blank">indices</a></code>生成坐标网格，并使用它们来描述您想要处理的区域:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/7132dec85af0109d0ae04e9c01979eb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kb7xnCv4PPpvqfCD4Oksrw.png"/></div></div></figure><p id="b21e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，此代码生成与上面相同的标志:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/6ae1295ebf7f73a6ebcfdda1b86379de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ODnftW9QoEBns0DOh_Z20w.png"/></div></div></figure><p id="a3c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个产生了一个不太出名的意大利城市的旗帜:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/78cc4ebda4f1b4a52cf1082bae749652.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ecViZ7YXh-D-YBEkRNkOA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Bari" rel="noopener ugc nofollow" target="_blank"> … </a>的标志</p></figure><p id="b7bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们尝试一些更复杂的东西。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="9b0c" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">2.彩色地图</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/743fb49a4f6b7416f01320a6102cd08e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jr4glOSKmpGWKw5m8lDMhA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片鸣谢:<a class="ae ky" href="https://pixabay.com/photos/italy-rome-vittoriano-italian-flag-516005/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>。</p></figure><p id="b07a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，这一次，而不是与彩色图像本身的3D阵列工作，让我们创建一个灰度蒙版的2D阵列，然后应用颜色。</p><p id="eded" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在前面的例子中，我们使用了范围<em class="np"> 0的浮点数..1 </em>用于颜色。<br/>但是计算机屏幕只能显示每种颜色成分的256种强度，所以我们可以通过使用范围为<em class="np"> 0的整数将数组缩小八倍..255 </em>(浮点<code class="fe nk nl nm nn b">np.float64</code>需要八个字节，无符号整数<code class="fe nk nl nm nn b">np.uint8</code>只有一个字节长)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/2144cc8f72de20c6d3be74ba2c42b77f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s8pL5xZPQ_4fkMV5NHrv7w.png"/></div></div></figure><p id="4434" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建这样一个遮罩的另一种方法是注意到由<code class="fe nk nl nm nn b">np.<a class="ae ky" href="https://numpy.org/doc/stable/reference/generated/numpy.indices.html" rel="noopener ugc nofollow" target="_blank">indices</a></code>产生的一个数组非常接近我们所需要的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/7a510ebfa57fb461515dceaef2a24e96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b8gbsDcdxaNRS9ch1R0jBA.png"/></div></div></figure><p id="9f8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用这个遮罩，我们可以绘制任何带有垂直条纹的三色:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/c6d7c341af1787da7cb83250d71336b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HClSkglW2h6om_R5nzu6IQ.png"/></div></div></figure><p id="502d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是这种蒙版有趣的地方在于我们可以用它和色图一起给灰度图像着色，就像</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/45cfb871b8bc67538eb38aa8ed93dffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BYIvM12s_yo1WFlsrLuKRw.png"/></div></div></figure><p id="43af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使颜色看起来更真实，使用紧凑的十六进制颜色符号很方便(例如，<code class="fe nk nl nm nn b">#cf2734</code>是深红色:<em class="np"> 0xCF = 207 </em>是红色的量，<em class="np"> 0x27=39 </em>是绿色的量，<em class="np"> 0x34=52 </em>是蓝色的量)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/8d0f3d3f4490271e68ecfbc537a60fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yCXUMWxkCvdmlbBf8-GGxw.png"/></div></div></figure><p id="4f05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，我们可以生成一组具有相同结构的标志:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/e7d8db5b2d65e1599d002a3d3944de2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MOreVgBtbdBeMjr2SsMtvA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Flag_of_Italy" rel="noopener ugc nofollow" target="_blank"> … </a>、<a class="ae ky" href="https://en.wikipedia.org/wiki/Flag_of_France" rel="noopener ugc nofollow" target="_blank"> … </a>和<a class="ae ky" href="https://en.wikipedia.org/wiki/Flag_of_Romania" rel="noopener ugc nofollow" target="_blank"> … </a>的旗帜</p></figure><p id="8fd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建布尔蒙版的另一种方法是在图像上选择某种颜色(或颜色范围)。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ca6e" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">3.替换颜色</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/584d00dd571312e8c6751cc3e6959260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ld-c1zX05xoGEGsVGRn7w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://pixabay.com/photos/christianity-church-golden-domes-1168119/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="2b76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们只需要替换某一种颜色，而不是重新映射图像的所有颜色。</p><p id="fc6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建复杂数组最直接的方法是通过如上所示的索引。但是numpy有专门的功能，有时比索引更方便。</p><p id="f41c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中一种方法是使用<code class="fe nk nl nm nn b">repeat</code>函数，它按照请求的方向复制数组。我们首先准备阵列:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/5897895aff15ad3b71a2861b96d7cb09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*co1krWA2sgVswQUXtmUwIQ.png"/></div></div></figure><p id="cd91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后沿着一个维度接着另一个维度重复:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/b34803eb5426fcbc63959792410ea980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9HdL-e7JQNU0f-UEvharyg.png"/></div></div></figure><p id="3d12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一种更简单的方法是分别构建条纹，然后用<code class="fe nk nl nm nn b">vstack</code>将它们堆积在一起:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/4595536fbad7e682dd1a70671c81e311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O5RvclLmiTHCJkGBLVHPUQ.png"/></div></div></figure><p id="bdc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们将一个矩阵乘以一个向量时，根据<a class="ae ky" href="https://towardsdatascience.com/broadcasting-in-numpy-58856f926d73?sk=d3f8527b160fba2ad87e201369279e52" rel="noopener" target="_blank">广播</a>的规则，该向量被“应用”到最后一个维度:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/9b2fd2c13c0d61e5922904b1f7d0fae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xjjyDQrsfEI7FWEZIW7gfA.png"/></div></div></figure><p id="848b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe nk nl nm nn b"><a class="ae ky" href="https://numpy.org/doc/stable/reference/generated/numpy.broadcast_to.html" rel="noopener ugc nofollow" target="_blank">np.broadcast_to</a></code>功能可以写得更短:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="a546" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者考虑到<code class="fe nk nl nm nn b">full</code>功能也知道广播，甚至更简单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="1c1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在假设我们只需要替换图像中的一种颜色(例如从蓝色到绿色)。</p><p id="e3f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">写<code class="fe nk nl nm nn b">flag[flag==(0, 0, 255)] = (0, 255, 0)</code>很有诱惑力，但不幸的是它不起作用。Numpy只是不知道应该沿着哪个维度来比较这个向量。这里的情况类似于Numpy处理比较的方式:实用性方面被牺牲给了普遍性。在Numpy中，你不能用<code class="fe nk nl nm nn b">a == b</code>来比较两个向量(或矩阵)。原因如下。</p><p id="0d68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在执行比较之前，NumPy广播数组大小以使它们相互匹配(这很好)<em class="np">和</em>忘记了它们的原始形状(这在实践中很不方便)。</p><p id="103c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你比较一个向量和一个标量时，有两个选择是有意义的:你可以用<code class="fe nk nl nm nn b">np.any</code>检查标量是否出现在向量中，或者用<code class="fe nk nl nm nn b">np.all</code>检查向量是否完全由标量的值组成:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/b36cb486eaf5f21a6916bae0acf3f2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rxxve-ZLu5qlSGby_1lIKA.png"/></div></div></figure><p id="9771" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是当涉及到向量对向量的比较时</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/6e252fabf669a04cbd21dffb6c207940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pq6CWtIxDZS_ex5AHduwpg.png"/></div></div></figure><p id="e1cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你极不可能喜欢“任何”风格的比较。除非广播已经完成，否则最好是隐式假设<code class="fe nk nl nm nn b">np.all</code>，但不幸的是NumPy没有这样做:它知道自己忘记了操作数的原始形状，并认为<em class="np">“也许你正在比较一个向量和一个标量，所以这又是你的两个选择”</em>。</p><p id="45b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">矩阵和向量之间的比较也会发生同样的事情:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/e34d815985560d1acc5bb39d13002cce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Bgex3jmrqtE87SKLNDlqw.png"/></div></div></figure><p id="5c43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦NumPy将向量广播到矩阵中，它就会“忘记”向量的原始形状，用户有责任“提醒”Numpy正在进行哪个维度的比较。</p><p id="65b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以在图像中匹配颜色的正确方法是</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/da15889ba255c1f0629b32f1e494a4b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J_OrM52zZP0TKg4--A3erw.png"/></div></div></figure><p id="0ce3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">颜色被广播到图像的形状，比较生成一个大小为<code class="fe nk nl nm nn b">(6,9,3)</code>和<code class="fe nk nl nm nn b">np.all</code>的布尔数组，提醒“numpy”我们正在沿着“颜色”维度进行比较，从而将形状简化为<code class="fe nk nl nm nn b">(6,9).</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/9bc064dd97879c4080095f36354a9e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gKnybZBOWnhRx9BeneTFlg.png"/></div></div></figure><p id="49e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者用精确的颜色</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/e83a1070ef05db4cb2172f6b96948b83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2YXALAendcsOsMzQACHB2g.png"/></div></div></figure><p id="01c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，布尔索引并不是绝对必要的。演示它如何处理低维数组非常方便。</p><p id="d95f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在对于布尔掩码不可或缺的标志。</p><h1 id="4e79" class="mq mr it bd ms mt on mv mw mx oo mz na jz op ka nc kc oq kd ne kf or kg ng nh bi translated">4.循环移位</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/bfc6ce4b3f5cd48099c93bc51c93030a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyOjkEXWe7ilbDo-Ycv0VQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://pxhere.com/en/photo/595599" rel="noopener ugc nofollow" target="_blank">pxhere.com</a></p></figure><p id="fd8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">画像照片中这样的旗帜的一个优雅的方法是先填充一个矩形，然后向两个方向滚动。它是这样工作的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/bcd02014211aa07b3ec288656c265710.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5b93FL5ptaKqLpTsAM4gUw.png"/></div></div></figure><p id="43b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有了一个灰度蒙版，我们用它来建立几个标志:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/2debd10387a3231c1a42bc4e74f49245.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ywb4VgCyYpMuWQC_1Y97g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Flag_of_Iceland" rel="noopener ugc nofollow" target="_blank"> … </a>、<a class="ae ky" href="https://en.wikipedia.org/wiki/Flag_of_Norway" rel="noopener ugc nofollow" target="_blank"> … </a>、<a class="ae ky" href="https://en.wikipedia.org/wiki/Flag_of_the_Faroe_Islands" rel="noopener ugc nofollow" target="_blank"> … </a>和<a class="ae ky" href="https://en.wikipedia.org/wiki/Flag_of_Åland" rel="noopener ugc nofollow" target="_blank"> … </a>的标志(鼠标悬停查看答案)</p></figure><p id="840a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nk nl nm nn b">np.indices</code>方法在这里也适用:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/4cc2711f2c80b1a9e528a5e90a66017f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9q7NGXE1WqIPi8v8MPvtxA.png"/></div></div></figure><p id="4115" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们将坐标中心转移到旗帜的对称中心，然后使用逻辑操作符来填充这些区域。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="fd26" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">5.通过超级采样抗锯齿</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/811ae3b465537a8b407858d1eae4fb50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hl32sil2tevmtcr53Uk6-Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://www.flickr.com/photos/bonguri/44181272630/" rel="noopener ugc nofollow" target="_blank"> flickr </a></p></figure><p id="ee3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由<code class="fe nk nl nm nn b">np.indices</code>产生的坐标使我们能够使用极坐标这样的便利来访问数组元素。</p><p id="31aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从中心的一个圆圈开始，它自己形成了一面旗帜。</p><div class="kj kk kl km gt ab cb"><figure class="ox kn oy oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/8e0bb6babdb13b2a76ccc21b55a5f26b.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*rCzpLcNaFCabU4lBn_beAw.png"/></div></figure><figure class="ox kn pd oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/46948099292defc294e4d64cbaa08b95.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*mpD9IRCASTsGXCX8i7o8Hw.png"/></div></figure><figure class="ox kn pe oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/471a9edefecc441f978926eff743e7aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*W3-aZHcJ3EtP3JkH2UFszQ.png"/></div></figure></div><p id="c143" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，它看起来像一个来自《我的世界》的角色。让我们使边缘不那么粗糙。这种粗糙来自于这样一个事实，即我们要么以要么全有要么全无的方式绘画:如果像素的中心恰好在圆内，则像素接收100%的颜色，否则接收0%的颜色。为了有一个漂亮光滑的边缘，我们需要分配一个与圆圈覆盖的像素面积成比例的颜色:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/aab86cd72c502756fdb715b313f36588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wrjQ0NdDS7Z8ru51KFiFdw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(左)粗糙图像，(右)抗锯齿图像</p></figure><p id="8444" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">钙化该积分最简单的方法(称为<a class="ae ky" href="https://en.wikipedia.org/wiki/Supersampling" rel="noopener ugc nofollow" target="_blank"> SSAA </a>或超级采样反走样)是矩形法:用双倍分辨率(图像上的蓝点)构建粗糙图像，然后对结果进行下采样。这实际上相当于将每个像素分成子像素网格，并将其颜色值设置为与子像素集的数量成比例。</p><div class="kj kk kl km gt ab cb"><figure class="ox kn pg oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/ac89e9f41cd967209483813c81779b0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*d_GixFRXyVstxlzU1gpY4g.png"/></div></figure><figure class="ox kn ph oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/d7b0caea1d8e820188d935c1cd5aea89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*RisIRqHUy5SWeRzoeWJ32g.png"/></div></figure></div><p id="0b9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一步是进一步增加图像尺寸，使边缘看起来更清晰，并使用红色的“官方”色调:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/37aa8c9b5c2a9a731f287a93e5688bcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jjpy_5NoJa3R624xjG6ZrA.png"/></div></div></figure><p id="ad41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe nk nl nm nn b">interpolation=’bilinear'</code>参数，<code class="fe nk nl nm nn b">imshow</code>负责在屏幕上显示图像时的下采样。但是，如果您需要将其保存到文件中，您应该显式地对其进行缩减像素采样，以避免出现不规则的边缘:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/82efbe25988f3ebf7c8ec65a5000d4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lh259-lTjsQITCd5vh9gEQ.png"/></div></div></figure><p id="bac4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们处理斜线。</p><h1 id="87dc" class="mq mr it bd ms mt on mv mw mx oo mz na jz op ka nc kc oq kd ne kf or kg ng nh bi translated">6.通过网格移动进行超级采样</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/ab25945e69ae414e9d965d13735fb5f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CZQD0vMMwrZFerdiYZZ5ag.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:<a class="ae ky" href="https://commons.wikimedia.org/wiki/File:Flag_of_Seychelles.jpg" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><p id="12ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上一节中抗锯齿方法的一个问题是，它需要一个四倍于结果图像的临时图像。通过利用网格的力量，它可以被削减到与最终图像相同的大小。</p><p id="3528" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">绘制此旗帜的想法与第2节中的三色旗相同，但这次我们将整数除法应用于角度坐标:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/14c5758c4762f075e57f52b67277ab82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G-lBwyv6yueCwUIIzIICDQ.png"/></div></div></figure><p id="35d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们把代码包装成一个函数，把水平拉伸移到里面。现在，在具有子像素偏移的网格上计算该函数4次，在数学上等同于在2倍精细的网格上计算一次。计算完四个邻居的值后，我们取它们在当前像素的平均值，就像在<code class="fe nk nl nm nn b">downsample</code>函数中一样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/0dd0dd8be437bf55c2b65316fba64dce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1yQztTPbi4vUM2ilqjGwbQ.png"/></div></div></figure><p id="bf94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在是看起来非常棘手的事情。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="9dda" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">7.极坐标</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/e35174982c1e25a6bd3115ba1daccdc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EuuGMpoh6QAE__P9ngbIEA.png"/></div></div></figure><p id="b381" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们既需要半径，也需要角度，这包括一个极坐标系统。径向分量是微不足道的:<code class="fe nk nl nm nn b">r = np.sqrt(y**2+x**2)</code>至于极角，通常，你可以从等式<code class="fe nk nl nm nn b">tg(phi) = y / x</code>中得到。但是不使用<code class="fe nk nl nm nn b">arctan</code>，使用<code class="fe nk nl nm nn b">arctan2(y, x)</code>更方便，它是<code class="fe nk nl nm nn b">arctan(y/x)</code>的被零除安全和象限感知版本:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/4b5063090ad2a197414999e3bcba8ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KNxK35sCgy-Evx2aFN1h8A.png"/></div></div></figure><p id="0ca1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将坐标系的中心移动到图像的中心:</p><div class="kj kk kl km gt ab cb"><figure class="ox kn pn oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/899cee298df299347ffceae91c36f97c.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*uf1hI1hz5r0uFAs0Y2uQuw.png"/></div></figure><figure class="ox kn po oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/dcda3ce7c4ba510878c8e54de57ccece.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*q9BBkGPySjxY9t-jP93Jyg.png"/></div></figure><figure class="ox kn pp oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/9d8c9a225b7561ea2ef07554cf6fe8c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*nt2mUCIQD9isVR0jJCMdfQ.png"/></div></figure></div><p id="a2f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">显示2D数组时，<code class="fe nk nl nm nn b">imshow</code>自动将其值投影到灰度，使数组的最小值映射到黑色，最大值映射到白色，中间的所有值线性映射到灰色阴影。</p><p id="5bff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一步是从角度取任意一个周期函数(整数除法比较容易计算机计算，但cos比较容易掌握):</p><div class="kj kk kl km gt ab cb"><figure class="ox kn pq oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/863abb42a4a9ad8589728ee4daa2e02a.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*_A7SWgfw7tONo5vpyFURWQ.png"/></div></figure><figure class="ox kn pr oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/603b7da23f9ed1e1f04b9a8c948d63fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*ONHp_1MSnokY8dINslLR7A.png"/></div></figure></div><p id="e69c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的<code class="fe nk nl nm nn b">autumn</code>颜色图是matplotlib内置的渐变。它只不过是从红色(最小数组值)到黄色(最大值)的线性渐变。让我们应用这个面具，并在中心添加两个圆圈:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/cbfb5bac41edc9abf1f5b26606c0c4b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZWkCVztPzAgtcT3AZrbS8w.png"/></div></div></figure><p id="7f41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">综上所述，有两种方法可以生成国旗的png图像:</p><div class="kj kk kl km gt ab cb"><figure class="ox kn pt oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/84c649a0253e6c1e7e48798ff3ae4ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*oxeY8Izonav0TuV36qIVRA.png"/></div></figure><figure class="ox kn pu oz pa pb pc paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/786571ee7a13ad642b736a27e2eb946b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*kWlovunX2jTQawKUQOv28A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk pv di pw px translated">通过下采样(左)或子像素网格移动(右)进行抗锯齿</p></figure></div><p id="e535" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，如果您只需要将它显示在屏幕上:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/adfa9561dd6349f7dd94436477beabc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NVjmxAvUUUTKFnyzizNxcA.png"/></div></div></figure><p id="40d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="np">这面旗帜的比例被略微简化，以使代码易于掌握。</em></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="9595" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你猜到所有的国家了吗？为了自我检查，这里是他们的第一个字母，没有特定的顺序:I，S，NM，P，R，I，j。</p><p id="30ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以试着自己画一面捷克国旗:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pz"><img src="../Images/fabfe53ef343c555366b22f7ab996644.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vV-DN5e_3bYQSlC-Slnrsw.png"/></div></div></figure><p id="5e9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选择上面的标志是因为它们允许解释numpy索引的概念。在python中绘制更复杂的形状，使用像<a class="ae ky" href="https://pillow.readthedocs.io/en/stable/reference/ImageDraw.html" rel="noopener ugc nofollow" target="_blank"> Pillow </a> (PIL)或<a class="ae ky" href="https://docs.opencv.org/master/dc/da5/tutorial_py_drawing_functions.html" rel="noopener ugc nofollow" target="_blank"> OpenCV </a>这样的专用库更容易。查看CodeGolf上一些棘手的旗帜，了解其用法示例:<a class="ae ky" href="https://codegolf.stackexchange.com/questions/40052/draw-the-south-korean-flag" rel="noopener ugc nofollow" target="_blank">韩国</a>，<a class="ae ky" href="https://codegolf.stackexchange.com/questions/85141/draw-the-national-flag-of-iceland" rel="noopener ugc nofollow" target="_blank">冰岛</a>，<a class="ae ky" href="https://codegolf.stackexchange.com/questions/18664/lets-draw-the-flag-of-nepal" rel="noopener ugc nofollow" target="_blank">尼泊尔</a>。</p><p id="1345" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>