# 5 个 Python 字符串技巧来编写更快、更简洁、更 Python 化的代码

> 原文：<https://betterprogramming.pub/5-python-string-tricks-to-write-faster-more-concise-and-more-pythonic-code-82d333e0186f>

## 通过用更少的行编写代码来节省时间

![](img/0384f1c968c2434a96c93f574cc3e79e.png)

[和 hika Soreng](https://unsplash.com/@dhika88?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片。

Python 类似英语的语法使得阅读、写作和学习变得容易。难怪今天它在开发人员和数据科学家中如此受欢迎。

然而，尽管 Python 提供了简洁明了的语法，开发人员却经常忽略它强大的特性。在这样做的时候，他们倾向于比平时写更多的代码行。

字符串是编程中最常用的数据类型。现在，如果您是 Python 老手或刚刚起步的开发人员，您可能听说过一些流行的速记技术，比如使用析构语法交换元素或使用`[:-1]`反转字符串。

还有许多其他整洁的小字符串技巧，可以用来编写更干净、更快、更好的代码。

在接下来的几节中，我们将介绍一些 Python 字符串技巧，您现在就可以开始使用。

# 使用 f 字符串的千位分隔符

通常，我们会遇到需要以特定格式可读的数字。格式通常是货币值。例如，您的输入需要显示为美元值。

我们可以使用强大的 Python `f` -strings，用一行代码以逗号分隔的格式打印出来，如下所示:

```
>>> a = 1000000
>>> print(f'{my_var:,}')1,000,000
```

# 快速将字符串转换成 Python 列表

接下来，你有一串字符串，希望把它们都放在一个 Python 列表中。旧的、无聊的、乏味的方法是:

```
my_list = ['A', 'B', 'C'] 
```

我们可以将元素放在`list()`中，而不是像上面那样手动将每个元素添加到列表中:

```
my_list = list('ABC')
```

现在，`list()`对于字符串的琐碎用例很有用。为了有更多的定制自由，你可以使用`split()`方法将字符串转换成列表。

例如，在下面的例子中，我们有一个带有空格的字符串。使用`list()`构造函数实际上会将每个字符解析为一个单独的列表元素。因此，使用`split()`代替，并放置一个分隔符:

# 在字符串插值中使用命名参数以提高可读性

`format`方法对于字符串插值来说非常有效。`f`——弦乐更胜一筹。但是很多时候，您会遇到参数名不可读的情况。这可能导致理解格式化字符串中实际发生了什么的问题，尤其是当有许多变量时。

幸运的是，我们可以使用字典键显式命名字符串中变量的占位符。这里有一个例子:

```
x = {'language': 'Python', 'feature': 'match statement'}
>>> print('{language} {feature} is amazing.'.format(**x))Python match statement is amazing.
```

您也可以对插值字符串使用`%`格式。

# 使用列表理解从字符串中去除模式

现在，你可能已经知道有一些从字符串中去除字符的简单方法。`strip()`方法用于快速去除字符串中的空白，而`lstrip()`和`rstrip()`分别用于去除前导空格和尾随空格。

您甚至可以删除`strip`方法中的某些子字符串，或者使用`replace()`方法来做同样的事情。

但是使用上面的方法，你只能做这么多来去除某些模式。

如果您希望在字符串中只保留字母数字或数字字符，该怎么办？

谢天谢地，我们有`join`方法和列表理解供我们使用。

在下面的例子中，我们只保留了字符串中的数字字符，并删除了其余的字符:

```
>>> x = "BTC is $48000.12"
>>> x = ''.join([c for c in x if c in '1234567890.'])
>>> x'48000.12'
```

# 仅获取字符串的第一个拆分

当我们希望根据某种定界符分解一个字符串时,`split()`方法非常有用。但是如果我们只需要第一次出现的分裂呢？

幸运的是，我们的最后一个技巧使用了`partition`方法，它确实做到了这一点，并返回一组字符串。

如果你只想从网站中提取一个子域名，这是很有用的。我们开始吧:

```
>>> x = "mail.google.com"
>>> x.partition(".")
('mail', '.', 'google.com')
>>> x.partition(".")[0]
'mail'
```

# 结论

在本文中，我们看到了一些有趣的技术，它们可以帮助您编写干净、简洁，更重要的是更短的代码，从而节省时间。你可以做更多的字符串操作。例如，`capitalize()`方法将字符串中的第一个字符大写，而`title()`将字符串中每个单词的首字母大写。

这一次到此为止。感谢阅读。