# 加速开发的 7 个 Shell 快捷方式

> 原文：<https://betterprogramming.pub/7-shell-shortcuts-to-speed-up-development-439943247eea>

## 必须走快点，必须走快点

![](img/9eac090054a6aa841cc71423b634e362.png)

照片由 [ThisisEngineering RAEng](https://unsplash.com/@thisisengineering?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 在 [Unsplash](https://unsplash.com/s/photos/software?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄

随着优雅的全服务 ide 的出现，现在开发人员的命令行交互越来越少。当您可以从一个漂亮的 UI 安装一个包或管理文件时，为什么您还需要一个过时的 shell 技巧库呢？如果您曾经遇到过一个无法用花哨的 IDE 解决的问题，那么您就会理解为什么拥有这些工具是至关重要的。

在本文中，我们将发现一些简单却非常有效的 shell 快捷方式和命令。使用这些提示，您可以快速排除错误，更快地运行命令，并以最小的努力执行搜索。

# 1.反向历史搜索

这是利用 shell 历史来运行以前运行过的命令的最快方法之一。如果您很难记起数百甚至数千个条目之前运行的命令(您并不孤单)，简单地滚动历史不是一种有效的方式。

这就是`reverse-i-search`的用武之地。使用这个工具，您可以快速搜索 shell 历史中的内容，然后快速执行它们。您将不必在浏览历史记录或复制粘贴任何命令时遇到麻烦。

假设我很久以前运行了下面的命令:

```
echo "foobar"
```

现在过了一会儿，我不太记得我用了什么词了。如果我想利用`reverse-i-search`，我可以按下`Ctrl + R`，然后进入搜索提示，输入`foobar`:

```
(reverse-i-search)`foobar': echo "foobar"
```

当您开始在搜索栏中键入内容时，它会自动填充结果。当您想要的结果出现时，您只需按 enter 键，命令就会运行。容易，快速，简单。

# 2.执行历史中的特定命令

这是一种稍微不同的利用 shell 历史的方式。当您运行普通的`history`命令时，您会得到一个已经运行的命令列表。旁边是身份证号。这些对应于每个命令的执行顺序:

```
1  pwd
2  cd ...
3  history 3
```

使用这些 ID 号，您可以重新运行历史中列出的任何命令。你只需要在数字前加上一个感叹号，就像这样:

```
!1
```

运行该命令时，您将执行 ID 号为`1`的历史记录中存储的任何命令。在这种情况下，它将是`pwd`命令。

这是一种非常方便的方式来回顾历史，并执行任何想要重新运行的命令。通过在 shell 脚本中使用它，您也可以变得非常聪明。

# 3.再次运行最后一个命令

这很简单，但看起来很有用。如果您想重新运行刚刚执行的最后一个命令，只需输入:

```
!!
```

看起来点击向上箭头然后按回车键会更容易，而且在大多数情况下都是这样。但是，您可能希望运行一个新的代码片段，并在下一个代码片段中包含上一个命令的输出。您可以在括号内调用`!!`并嵌套命令来做其他有趣的事情:

```
echo "foobar"echo -e "the last command was $(!!)"
```

使用这种方法，您可以绝对确定您引用的是最后执行的命令。不再需要重新打字或复制粘贴。

# 4.移动到长命令的开头或结尾

当你不得不写一个非常疯狂的一行程序时，在它的开头或结尾进行编辑是一件非常痛苦的事情。幸运的是，有一个快速的方法可以做到这一点。

如果您想移动到命令的开头，您可以按:

```
Ctrl + a
```

如果您想移动到末尾，您可以按:

```
Ctrl + e
```

这两种方法都可以让你不必按住箭头键，永远等待在一行中来回移动。

# 5.从光标位置删除字符

如果您仍在使用那条长长的一行命令，删除其中的一小部分可能会很麻烦。如果您需要删除行中间某个点之前或之后的所有内容，这一点尤其正确。

对于这个问题，也有一个 shell 快捷方式。

如果您想删除光标当前位置之前的所有内容，您可以按:

```
Ctrl + u
```

同样，如果您想删除光标后的所有内容，您可以按:

```
Ctrl + k
```

现在，您不必长时间按住退格键来更改冗长的命令。

# 6.检查命令

有时候命令并不总是看起来那样。您在控制台中键入要执行的内容可以在后台由许多不同的进程或配置来操作。

例如，您可以为常用命令添加 shell 别名，以便将您喜欢的参数附加到它们后面。这方面的一个例子可能是向`ls`追加一些额外的参数，如下所示:

```
alias ls='ls -lah'
```

在这种情况下，当您键入`ls`并执行它时，您可能认为您只是在运行`ls`，但实际上您是在用隐藏的参数运行它。

如果您对某个特定的命令有所怀疑，您可以使用名副其实的`command`实用程序快速检查它:

```
command -V ls
ls is aliased to 'ls -lah'
```

当您使用`-V`标志运行`command`时，您可以看到真正被执行的是什么。通过这个例子，`command`告诉我们，我们实际上正在运行`ls -lah`，而不仅仅是`ls`。

# 7.无限循环运行一些命令

最后一个是经典的一句俏皮话。这个代码片段将允许您在一个循环中运行一组命令，其间有短暂的延迟。如果您需要持续监控某个进程或在发生某些事情时发送一些警报，这将非常有用。

让我们使用一个简单的例子，它将运行一个循环，打印当前日期，然后休眠一秒钟:

```
while true; do echo "$(date)"; sleep 1; done
```

这一行用分号分隔，表示要执行多个命令或功能:

*   第一个命令是`while true`，它将启动我们的无限循环。
*   下一个命令是`do echo "$(date)"`，它告诉 shell 在循环中运行这个命令，并将日期打印到控制台。
*   最后，我们`sleep`一秒钟，然后用`done`结束循环。
*   由于循环以`true`的条件开始，它将永远继续下去，直到你退出循环或点击`Ctrl + c`。

在这个循环中，您可以将 echo 命令替换为您想要继续运行的任何命令。这可能是跟踪文件、检查文件是否存在，甚至是做一些简单的算术计算。最棒的是，您甚至不需要离开外壳就可以做任何事情。

感谢阅读！查看以下更多文章:

*   [*5 你应该使用的云 API 开发工具*](https://medium.com/geekculture/5-cloud-api-development-tools-you-should-use-a3f89d8a6076)
*   [*如何使用 Python 轮询套接字*](/how-to-poll-sockets-using-python-3e1af3b047)