<html>
<head>
<title>Learn Angular Basics by Building a Simple App Using Angular Material</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过使用角度材料构建一个简单的应用程序来学习角度基础知识</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/learn-angular-basics-by-building-a-simple-app-using-angular-material-9bbc19aa33cf?source=collection_archive---------7-----------------------#2020-09-29">https://betterprogramming.pub/learn-angular-basics-by-building-a-simple-app-using-angular-material-9bbc19aa33cf?source=collection_archive---------7-----------------------#2020-09-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6928" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">奖励:包括使用角度反应形态的一瞥</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e36b226549f1bdd29258c37c5e5222ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tcDGNYdCnGgD7HGk"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰斯·贝利在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b968" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备好今天建造一些非常棒的东西了吗？我也是！</p><p id="e4f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我目前是一名Angular开发人员，为我公司的员工开发工具来完成他们的工作，并希望他们喜欢这样做。我在今年五月初才开始在Angular开发，但我喜欢前端工作，并且非常渴望有机会专业地学习这项新技能。</p><p id="6403" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我积极地相信学习任何东西的唯一方法就是开始工作——尝试新事物并开始积累经验和知识是从初学者到摇滚明星的唯一方法。</p><blockquote class="lv"><p id="69f1" class="lw lx it bd ly lz ma mb mc md me lu dk translated">“学习是一个主动的过程。我们通过做来学习...只有使用过的知识才会留在你的脑海里。”</p><p id="4e6c" class="lw lx it bd ly lz ma mb mc md me lu dk translated">——戴尔·卡内基</p></blockquote></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="5bd0" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">我们在学什么？</h1><p id="c112" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">我们将构建一个习惯跟踪应用程序的基本版本，它将列出当前的习惯记录，允许您管理它们，并添加新的记录。本教程是一个逐步演练。我们将一次添加一个UI和后端组件，这样您可以很容易地看到各个部分组合在一起。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/9f124880a1cfc9ae04a4bd95038e57f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*Od_fXuq2We5Z606lCincug.png"/></div></figure><ul class=""><li id="e610" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">你将从头开始设置一个<strong class="lb iu"> Angular应用</strong>——没有启动文件，我们将看到香肠是如何制作的。</li><li id="7210" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">我们将<strong class="lb iu">安装Angular Material </strong>并使用它的一些组件来制作一些漂亮的UI。</li><li id="e3e0" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">UI的模板包括一些<strong class="lb iu">角度结构指令</strong>来显示和隐藏基于组件状态的东西。</li><li id="6405" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">您将实现一个简单的<strong class="lb iu">反应式表单</strong>来接收输入数据。</li></ul><p id="9d20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程结束时，您将拥有一个管理习惯列表的应用程序，可以添加、编辑和删除这些习惯。我们直接开始吧，好吗？</p><p id="a598" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">TL；DR:在<a class="ae ky" href="https://stackblitz.com/edit/habit-tracker-basic?file=src%2Fapp%2Fapp.component.html" rel="noopener ugc nofollow" target="_blank"> StackBlitz </a>上找到演示应用。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="ab48" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">基本设置</h1><p id="32c0" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">如果你以前从未在你的机器上创建过Angular应用程序，确保你已经安装了<a class="ae ky" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>和<a class="ae ky" href="https://angular.io/guide/setup-local" rel="noopener ugc nofollow" target="_blank"> Angular CLI </a>。</p><p id="e663" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开你选择的终端。在本教程中，我将使用<a class="ae ky" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> VSCode </a>的内置终端。</p><p id="e8ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">导航到要创建应用程序的目录，然后输入以下命令:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/b2e4220e103c24a947e047eae152eca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oS98JM15ZFFl7erfCN6Zsg.png"/></div></div></figure><p id="3eff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">系统会提示您回答几个问题:</p><ol class=""><li id="ff21" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu nz nq nr ns bi translated">您想要添加角度路由吗？—键入<em class="oa"> y </em>并按回车键确认。</li><li id="6353" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu nz nq nr ns bi translated">您想使用哪种样式表格式？—使用箭头键选择一个选项。我喜欢用SCSS。</li></ol><p id="263b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦所有这些包都生成了，你就可以开始设置角度材质了。使用这些命令跳到新应用程序的目录，然后将角度材质添加到项目中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/16577d833f5069861e22186c52aef96f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DxsqGX4Gpr2SRMDgm8uZ3w.png"/></div></div></figure><p id="6172" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您需要对提示做出回应:</p><ol class=""><li id="0a8e" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu nz nq nr ns bi translated">选择深紫色/琥珀色预设主题</li><li id="a4f7" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu nz nq nr ns bi translated">设置全局角度材料排版样式？—键入<em class="oa"> y </em>并按回车键确认。</li><li id="5daf" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu nz nq nr ns bi translated">为有角度的材质设置浏览器动画？—键入<em class="oa"> y </em>并按回车键确认</li></ol><p id="f183" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦完成，输入“ng serve”就可以看到Angular为您生成的所有代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/0eb9e0f59fcd77001180fa9fdf66f077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9jSmvxAD9gyLYUpGfs2IWw.png"/></div></div></figure><p id="26f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">唷。好吧，让我们开始写代码，好吗？</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="341d" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">创建用户界面元素</h1><p id="1fde" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">首先，让我们使用一些有棱角的材质组件来轻松创建一个非常漂亮的UI。</p><h2 id="992a" class="oc mn it bd mo od oe dn ms of og dp mw li oh oi my lm oj ok na lq ol om nc on bi translated">工具栏</h2><p id="5332" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">在<code class="fe oo op oq or b">app.component.html</code>中，删除所有生成的代码并添加以下内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="3f7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为我们使用有角度的材料来创建<code class="fe oo op oq or b">mat-toolbar</code>和<code class="fe oo op oq or b">mat-icon</code>元素，你还需要添加到你的<code class="fe oo op oq or b">app.module.ts</code>文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="aa28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:为了保持简洁，我将省略一些导入以保持我的GitHub gists更短。你可以在教程的最后找到完整的代码。</p><p id="2f53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，把这个加到<code class="fe oo op oq or b">app.component.scss</code>里，这样我的眼睛就不会流泪了:</p><pre class="kj kk kl km gt ou or ov ow aw ox bi"><span id="2f23" class="oc mn it or b gy oy oz l pa pb">.toolbar h1 {<br/>    padding-left: 5px;<br/>}</span></pre><p id="f9e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后转到<code class="fe oo op oq or b">styles.scss</code>并将<code class="fe oo op oq or b">background-color: #f5f0fe;</code>添加到<code class="fe oo op oq or b">body</code>元素的样式中。</p><p id="4c32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保存一切，并检查我们的酷工具栏。</p><p id="6a41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你还没有看到工作，你可能需要停止应用程序(通过在终端键入CTRL+C)并再次运行<code class="fe oo op oq or b">ng serve</code>。有时对<code class="fe oo op oq or b">app.module.ts</code>的更改可能需要重启。</p><h2 id="d119" class="oc mn it bd mo od oe dn ms of og dp mw li oh oi my lm oj ok na lq ol om nc on bi translated">使用有角度的材料图标</h2><p id="89da" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">关于角状材料的一个很棒的事情是你可以免费得到所有的图标功能。在我们继续之前，我想说明几件事:</p><ul class=""><li id="07ef" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">标签之间的文本是你想看到的图标的名称。</li><li id="63f1" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">要找到您可以使用的其他图标，请访问<a class="ae ky" href="https://material.io/resources/icons/?style=baseline" rel="noopener ugc nofollow" target="_blank">材料设计图标</a>页面。</li><li id="54ae" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">默认情况下，元素中的图标将继承其父元素的字体颜色。您可以通过添加颜色属性来使用您的主题颜色之一。例如，<code class="fe oo op oq or b">&lt;mat-icon color="primary"&gt;</code>将使图标颜色成为你的主题的主要颜色。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/d1ade99bff59a8422e1e0281bc2d8dfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*C9Snmph9p6xU-IN3K19oiA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">s</p></figure><p id="d40c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，现在来点更有趣的怎么样？</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="9ec6" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">创建列表</h1><p id="2c93" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">现在，我们实际上要进入一点TypeScript，这样我们可以为我们的模板设置一些要显示的数据。本教程不涉及任何本地持久性主题，所以我们现在只建立一个虚拟列表。</p><p id="26ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要一个模型来描述一个习惯对我们的应用意味着什么。在app文件夹中，新建一个名为<code class="fe oo op oq or b">models</code>的文件夹。在该文件夹中，添加一个名为<code class="fe oo op oq or b">habit.ts</code>的新文件。将以下内容添加到文件中:</p><pre class="kj kk kl km gt ou or ov ow aw ox bi"><span id="16c0" class="oc mn it or b gy oy oz l pa pb">export class Habit {<br/>    name: string;<br/>    frequency: string;<br/>    description: string;<br/>}</span></pre><p id="7c6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到<code class="fe oo op oq or b">app.component.ts</code>，使用我们的新类型添加一个数组属性:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="6e3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一定要导入我们的<code class="fe oo op oq or b">Habit</code>型。</p><p id="bfa4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe oo op oq or b">app.component.html</code>，在我们的工具栏下，放这个HTML:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="1e08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于模板中的这些新的角形材料组件，我们现在将缺少一些导入。将MatCardModule导入您的<code class="fe oo op oq or b">app.module.ts</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="337f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe oo op oq or b">app.component.scss</code>中，放入以下类:</p><pre class="kj kk kl km gt ou or ov ow aw ox bi"><span id="c15b" class="oc mn it or b gy oy oz l pa pb">.all-habits {<br/>    text-align: center;<br/>}</span><span id="7c2d" class="oc mn it or b gy pd oz l pa pb">.all-habits h1 {<br/>    margin-top: 1em;<br/>}</span><span id="1ad6" class="oc mn it or b gy pd oz l pa pb">.all-habits mat-card {<br/>    width: 80%;<br/>    margin: 1em auto;<br/>    text-align: left;<br/>}</span><span id="43e4" class="oc mn it or b gy pd oz l pa pb">.habit-icon {<br/>    vertical-align: middle;<br/>    padding-bottom: 3px;<br/>    font-weight: 600;<br/>}</span><span id="60d2" class="oc mn it or b gy pd oz l pa pb">.detail-label {<br/>    font-weight: 500;<br/>}</span><span id="45d7" class="oc mn it or b gy pd oz l pa pb">.detail-options {<br/>    position: absolute;<br/>    top: 14px;<br/>    right: 10px;<br/>}</span><span id="019b" class="oc mn it or b gy pd oz l pa pb">.detail-options mat-icon {<br/>    padding-right: 5px;<br/>}</span><span id="56f0" class="oc mn it or b gy pd oz l pa pb">button:hover, .detail-options {<br/>    cursor: pointer;<br/>}</span></pre><p id="aeca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像这样，Angular和Angular Material给了我们一大堆免费的组件、样式和行为，让这个应用程序开箱后非常清晰。</p><ul class=""><li id="b7a7" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">注意结构指令<code class="fe oo op oq or b">*ngFor</code>在我们设置的习惯数组上循环。</li><li id="20a2" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">我们还引入了<code class="fe oo op oq or b">mat-card</code>元素。它提供了一些简便的方法来分割卡片内容，这样我们就可以保持有序。在文档中查看<code class="fe oo op oq or b">mat-card</code> <a class="ae ky" href="https://material.angular.io/components/card/overview" rel="noopener ugc nofollow" target="_blank">的更多子组件。</a></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/eb2184673df0937cb4383358a8fc6e99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*W-nx-uz37Vtha2j9tUhRnQ.png"/></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="1742" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">表单用户界面</h1><p id="376b" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">为了更接近我们能够操作习惯列表的目标，我们需要一个添加和编辑新条目的表单。</p><p id="dcf3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们把表单的HTML代码片段放在工具栏之间，但是在我们所有习惯的现有代码之上(确保它在带有<code class="fe oo op oq or b">class="all-habits”</code>的div之外和之上):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="749e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要修复我们从表单和按钮元素获得的红色曲线，请确保将MatButtonModule、MatInputModule和MatSelectModule导入到您的应用程序模块中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="cc93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将把这些人添加到<code class="fe oo op oq or b">app.component.scss</code>中，让它更有风格一些:</p><pre class="kj kk kl km gt ou or ov ow aw ox bi"><span id="ab7c" class="oc mn it or b gy oy oz l pa pb">.add-form-container {<br/>    padding: 4em;<br/>    text-align: center;<br/>    max-width: 400px;<br/>    margin: auto;<br/>}</span><span id="66b0" class="oc mn it or b gy pd oz l pa pb">.add-form-container mat-card-title {<br/>    margin: 1em !important;<br/>}</span><span id="aefe" class="oc mn it or b gy pd oz l pa pb">.add-form-container button {<br/>    margin-top: 10px !important;<br/>}</span><span id="2233" class="oc mn it or b gy pd oz l pa pb">mat-card-content {<br/>    margin-bottom: 0;<br/>}</span><span id="d73d" class="oc mn it or b gy pd oz l pa pb">form {<br/>    padding-top: 1em;<br/>}</span><span id="f8e4" class="oc mn it or b gy pd oz l pa pb">mat-form-field {<br/>    width: 90%;<br/>}</span><span id="c4bb" class="oc mn it or b gy pd oz l pa pb">button {<br/>    width: 80%;<br/>    max-width: 300px;<br/>    margin-bottom: 1em;<br/>}</span><span id="95f7" class="oc mn it or b gy pd oz l pa pb">button:hover, .detail-options {<br/>    cursor: pointer;<br/>}</span></pre><p id="1ba5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一个表格！让我们对这个片段做一些笔记:</p><ul class=""><li id="4a69" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated"><code class="fe oo op oq or b">mat-form-field</code>为占位符、标签和样式提供了许多很棒的选项。查看文档中的更多信息<a class="ae ky" href="https://material.angular.io/components/form-field/overview" rel="noopener ugc nofollow" target="_blank">。</a></li><li id="7b14" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">不是将角度材质输入命名为元素，而是将它们作为指令或属性添加到普通的HTML输入中——正如我们在上面的代码中看到的<code class="fe oo op oq or b">textarea</code>:<code class="fe oo op oq or b">&lt;textarea matInput&gt;</code>。在文档中找到更多关于角度材料输入<a class="ae ky" href="https://material.angular.io/components/input/overview" rel="noopener ugc nofollow" target="_blank">的信息。</a></li><li id="4905" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">按钮也是这样工作的。有不同的按钮样式可以作为属性添加到<code class="fe oo op oq or b">&lt;button&gt;</code>元素中。在这种情况下，我们使用的是<code class="fe oo op oq or b">mat-raised-button</code>指令——如果你不喜欢阴影效果，试试<code class="fe oo op oq or b">mat-flat-button</code>。按钮也可以接受<code class="fe oo op oq or b">color </code>属性，在这里你可以使用你的角度材质<code class="fe oo op oq or b">primary</code>、<code class="fe oo op oq or b">accent</code>和<code class="fe oo op oq or b">warn</code>颜色类。查看文档中的许多按钮选项和样式<a class="ae ky" href="https://material.angular.io/components/button/overview" rel="noopener ugc nofollow" target="_blank">。</a></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/145f1fc485d0371b51519141a4739e9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*GCiSR_sYl-CpYF48pnFaWQ.png"/></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="5e28" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">添加一些有意义的UX</h1><p id="7d06" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">现在，我们的表单正在把习惯列表往下推，所以我们看不到它。当我们添加一个新习惯的时候，我们真的需要看这个列表吗？我想我们没有。</p><p id="92ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们进入TypeScript并添加一个变量，这样我们就可以知道我们是否处于添加模式，并在默认情况下将其设置为false:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="50f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，不要总是显示我们的表单，让我们添加一个添加新习惯按钮，当我们单击它时，它将切换到视图中。更新<code class="fe oo op oq or b">all-habits</code>部分以包含一个按钮:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="b814" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，这个按钮上有一个click事件。当点击它时，它将切换我们的<code class="fe oo op oq or b">adding</code>变量，允许我们在添加和非添加模式之间切换。为了利用这一点，让事情按照我们想要的方式发展，让我们使用<code class="fe oo op oq or b">*ngIf</code>结构指令来隐藏所有习惯列表，并在<code class="fe oo op oq or b">adding</code>为<code class="fe oo op oq or b">true</code>时显示添加表单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="6d7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保存后，您应该看到您的表单现在只在您单击按钮时出现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/05f372f0c7af3c3460cb3070d9503f89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*bp5q1QOQZHcSM2T2iEcoYA.png"/></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="37d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧！现在我们已经将所有的UI元素排列好了，是时候让这个应用程序更加动态，让这些按钮都做它们应该做的事情了。坚持不懈；我知道这是一个漫长的过程，但我们就快到了。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="762b" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">添加核心功能</h1><h2 id="00bd" class="oc mn it bd mo od oe dn ms of og dp mw li oh oi my lm oj ok na lq ol om nc on bi translated">挂上反应式</h2><p id="6cc8" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">现在是有趣的部分。是时候在我们的Typescript中加入一个反应式表单了，这样我们就可以操作习惯列表中的数据了。</p><p id="6ef3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe oo op oq or b">app.component.ts</code>中，添加以下代码来设置表单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="a258" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里需要注意的是:</p><ul class=""><li id="faad" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">别忘了从<code class="fe oo op oq or b">@angular/core</code>导入<code class="fe oo op oq or b">FormGroup </code>和<code class="fe oo op oq or b">FormControl</code>。</li><li id="a673" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><code class="fe oo op oq or b">FormGroup</code>类型为我们提供了一种在一个地方管理表单上多个输入的方法。</li><li id="af81" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">用空字符串填充我们的<code class="fe oo op oq or b">FormControls</code>意味着当表单初始化时，相应输入的值将为空。当我们进行编辑时，我们将学习如何用一个值来初始化它们。</li><li id="e578" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">在文档中学习更多关于反应式<a class="ae ky" href="https://angular.io/guide/reactive-forms" rel="noopener ugc nofollow" target="_blank">的知识。</a></li><li id="6c06" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">另外，请注意<code class="fe oo op oq or b">onSubmit()</code>方法。我们能够访问<code class="fe oo op oq or b">FormGroup</code>的值，并将它转换成我们的<code class="fe oo op oq or b">Habit</code>模型，这样我们就可以获得良好的智能感知和类型检查。</li></ul><p id="afc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们需要将我们的TypeScript表单附加到HTML模板上。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="9eb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了让HTML识别<code class="fe oo op oq or b">[formGroup]</code>绑定，您需要更新您的<code class="fe oo op oq or b">app.module.ts</code>导入，以包含<code class="fe oo op oq or b">FormModule</code>和<code class="fe oo op oq or b">ReactiveFormsModule</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="8f46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们不仅有一个有效的反应形式，而且我们还可以在我们的清单上增加新的习惯。</p><p id="3606" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">添加后需要特别注意的事项:</p><ul class=""><li id="8582" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">要求您将<code class="fe oo op oq or b">[formGroup]</code>绑定到<code class="fe oo op oq or b">form</code>元素上。</li><li id="16d2" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><code class="fe oo op oq or b">(ngSubmit)</code>正在监听类型为<code class="fe oo op oq or b">submit</code>的按钮上的任何点击事件，因此不需要在保存按钮上添加单独的点击事件。</li><li id="6e35" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">您在<code class="fe oo op oq or b">formControlName</code>属性中输入的名称必须与您在TypeScript中定义的控件名称完全一致。</li></ul><h2 id="2310" class="oc mn it bd mo od oe dn ms of og dp mw li oh oi my lm oj ok na lq ol om nc on bi translated">创建编辑现有条目的功能</h2><p id="df0e" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">我们目前可以添加新的习惯，但我们需要连接我们的小铅笔图标按钮，以便它打开一个编辑表单并更新列表中选择的条目。先给<code class="fe oo op oq or b">app.component.ts</code>添加编辑方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="7a3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于这些新增内容的快速注释:</p><ul class=""><li id="fa15" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">注意<code class="fe oo op oq or b">setEditForm()</code>方法中<code class="fe oo op oq or b">patchValue()</code>的使用。这允许我们一次直接设置整个表单组的值。</li><li id="ced7" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">注意我们传递给同一方法的参数——这些参数将在我们的HTML添加中发挥作用。<code class="fe oo op oq or b">index</code>参数将是我们传入的习惯的索引，以便我们可以在现有数组中找到它来替换它。</li><li id="9c69" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">在Geeksfor Geeks了解更多关于<code class="fe oo op oq or b">.splice()</code> <a class="ae ky" href="https://www.geeksforgeeks.org/typescript-array-splice-method/" rel="noopener ugc nofollow" target="_blank">的信息。</a></li><li id="6a3d" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">最后，注意我们新的<code class="fe oo op oq or b">editing</code>标志也在提交中被设置，这样我们就知道在保存时切换回主列表。</li></ul><p id="9872" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在来看模板:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="5069" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">什么变了？</p><ul class=""><li id="2f3c" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">我们使用相同的表单来编辑我们的列表，就像我们添加列表一样，所以我们添加了<code class="fe oo op oq or b">editing</code>标志到我们的<code class="fe oo op oq or b">*ngIf</code>检查中。</li><li id="fcca" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">如果你看看<code class="fe oo op oq or b">*ngFor</code>的变化，你会看到我们从Angular得到的一个简洁的特性。我们能够通过定义一个变量来获取我们所选择的元素的索引，以保持数字正确。然后，我们将该变量传递给我们的<code class="fe oo op oq or b">setEditForm()</code>函数，这样表单就知道要编辑哪个习惯。</li><li id="5b28" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">最后，我们添加了编辑功能，作为铅笔图标按钮上的点击事件。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ph ot l"/></div></figure><p id="5cae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不错！现在开始删东西吧。</p><h2 id="3d39" class="oc mn it bd mo od oe dn ms of og dp mw li oh oi my lm oj ok na lq ol om nc on bi translated">添加删除方法</h2><p id="207c" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">在您的类型脚本中，添加一个<code class="fe oo op oq or b">onDelete()</code>方法。它还会从我们的<code class="fe oo op oq or b">*ngFor</code>中获取索引，就像<code class="fe oo op oq or b">setEditForm()</code>所做的那样。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="6485" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后向模板中的删除图标添加一个单击事件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="c882" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以删除。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pi ot l"/></div></figure><h2 id="ffef" class="oc mn it bd mo od oe dn ms of og dp mw li oh oi my lm oj ok na lq ol om nc on bi translated">完成取消按钮并修复一个错误</h2><p id="c054" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">好了，我们到了最后阶段:这是最后一组片段。</p><p id="434d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还有两件事要做:让取消按钮工作，同时修复一个小错误。您可能已经注意到，如果您编辑了一个习惯，然后直接创建了一个新习惯，那么表单会填充上一次编辑条目的数据。这是为什么呢？</p><p id="fb35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当我们保存新条目时，我们没有清除表单上的字段，所以数据只是挂在那里。让我们创建一个解决方案，在保存或取消时清除它，并挂上那个按钮。</p><p id="58cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe oo op oq or b">app.component.ts</code>中，我们将添加一个<code class="fe oo op oq or b">exitForm()</code>方法，并在<code class="fe oo op oq or b">onSubmit()</code>函数中使用它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="b7e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的表单组包含一个<code class="fe oo op oq or b">reset()</code>函数，该函数会将我们的输入重置为未触动的状态，并清空字段中的任何值。</p><p id="0b90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，用一个<code class="fe oo op oq or b">exitForm()</code> click事件连接添加表单中的取消按钮:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="68b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这样，伙计们，就是这样！</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="5f82" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">我们都完成了什么？</h1><p id="21a2" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">哇——谢谢你陪我度过了这一切！让我们把东西包起来。</p><ul class=""><li id="dbee" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">我们学习了如何使用角度结构指令来管理何时基于状态显示给定内容，以及动态显示项目列表的成员。</li><li id="405b" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">我们使用反应式表单来管理来自TypeScript的表单字段和值，而不是在HTML模板中。</li><li id="3128" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">我们使用Angular Material组件轻松地创建了一个好看的UI，而无需我们自己做太多与样式相关的工作。</li></ul><p id="e709" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你怎么想呢?你准备好成为一名棱角分明的开发者了吗？如果你在教程中发现问题，请告诉我。请一定要抓住这一点，坚持下去:要么增加功能，要么另辟蹊径。这就是你如何获得最大收益的方法。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h2 id="c87e" class="oc mn it bd mo od oe dn ms of og dp mw li oh oi my lm oj ok na lq ol om nc on bi translated">资源摘要</h2><ul class=""><li id="7eed" class="nk nl it lb b lc ne lf nf li pj lm pk lq pl lu np nq nr ns bi translated"><a class="ae ky" href="https://stackblitz.com/edit/habit-tracker-basic?file=src%2Fapp%2Fapp.component.html" rel="noopener ugc nofollow" target="_blank"> StackBlitz应用程序演示</a></li><li id="4307" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><a class="ae ky" href="https://material.angular.io/components/categories" rel="noopener ugc nofollow" target="_blank">角材组件文档</a></li><li id="2ecc" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><a class="ae ky" href="https://material.io/resources/icons/?style=baseline" rel="noopener ugc nofollow" target="_blank">材质设计图标</a></li><li id="486e" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><a class="ae ky" href="https://angular.io/tutorial" rel="noopener ugc nofollow" target="_blank">英雄角之旅</a>——如果你正在寻找更多的基本动作！</li></ul></div></div>    
</body>
</html>