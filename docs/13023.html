<html>
<head>
<title>10 Threats to an Open API Ecosystem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开放API生态系统面临的10大威胁</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/10-threats-to-an-open-api-ecosystem-2d8ba0a01818?source=collection_archive---------18-----------------------#2022-07-19">https://betterprogramming.pub/10-threats-to-an-open-api-ecosystem-2d8ba0a01818?source=collection_archive---------18-----------------------#2022-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6acd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">担心对您的开放API生态系统的威胁？准备好以下值得注意的技巧和最佳实践列表</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0eef98e125701f1332cb4b42c04677a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tfVU8b-TWAoYWnxG"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@flyd2069?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">飞:D </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="d52f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管全球经济形势严峻，但API经济仍在持续增长。对于大多数行业来说，API促进了几乎所有应用程序或服务的即时交易，加快了商品和服务的流动。最近来自F5 的一份<a class="ae ky" href="https://www.f5.com/pdf/reports/f5-office-of-the-cto-report-continuous-api-sprawl.pdf" rel="noopener ugc nofollow" target="_blank">报告这样描述API的扩散:“如果数据是新的石油，那么API将成为新的塑料。”</a></p><p id="e5b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开放API(或公共API)提供了许多机会和竞争优势。公司可以利用开放API重塑他们的供应和交付链。企业可以利用大量的开发人才库和不断增长的软件资源库。此外，公司可以在以后将商业开发的API作为开放API发布。通过这样做，他们可以吸引新客户，增加品牌忠诚度，并提高他们的市场形象。</p><p id="abc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，开放API也伴随着固有的风险和挑战，企业必须在开始这一旅程之前解决这些问题。</p><p id="38e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将为IT工程师、领导团队成员和网络安全专业人员简要介绍开放API生态系统面临的十大威胁。我们还将介绍Gravitee，这是一个现代化的API管理平台，提供了必要的工具和技术来应对API开发、部署和维护的挑战。</p><h1 id="603a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">API经济:机遇与威胁</h1><p id="7807" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">开放API提供了许多机会，包括改善与供应商、服务提供商和客户的连接和协作。最终，这有助于改善客户体验。通过API端点连接的微服务使企业能够利用适合用途的技术，将他们从繁琐的单一系统中解放出来，从而提高生产力。所有这些都大大降低了应用程序开发、部署和维护的成本。</p><p id="fb9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，从本质上讲，开放API也会吸引个人和有组织网络罪犯的注意。由于API是事务性的，因此它们也容易受到个人、财务和其他敏感信息的意外或恶意泄露。未受保护的端点或未经验证的客户端请求可能会使API遭受DDoS、SQL注入或勒索软件等攻击。这些会严重影响开放API的开发者和消费者。</p><p id="f511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参与开放API生态系统需要精心准备，首先要识别威胁。</p><h1 id="a75e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">对开放API(或任何API)的10种威胁</h1><p id="6a28" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">网络安全部门已经投入大量资源对API攻击媒介进行识别、分类和分级。基于这项研究，我们编制了一份清单，列出了开放API面临的十大威胁。</p><h2 id="3001" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">1.对象级入侵</h2><p id="46c8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">API依赖于经常处理对象id的端点。这些对象可以是任何资源，如文件、数据库表或端口。糟糕的应用程序设计可能会利用随客户端请求发送的对象ID。</p><p id="86ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了防止这种情况，API的代码必须在每次获取对象的数据或对其进行任何操作时执行对象级授权检查。此类检查确保发出请求的用户或应用程序具有执行此类功能的最低权限。最佳实践的传统实现使用最小特权的<a class="ae ky" href="https://www.cisa.gov/uscert/bsi/articles/knowledge/principles/least-privilege" rel="noopener ugc nofollow" target="_blank">原则</a>和基于角色的<a class="ae ky" href="https://www.techtarget.com/searchsecurity/definition/role-based-access-control-RBAC" rel="noopener ugc nofollow" target="_blank">访问控制</a>来进行这些检查。</p><h2 id="b9f5" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">2.用户认证漏洞</h2><p id="cd8c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">恶意行为者利用具有不可靠用户认证的API来欺骗合法用户，获得对系统不同部分的未授权访问，并发起进一步的攻击。</p><p id="c310" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用健壮的身份验证机制来保护API端点对于防范这种威胁至关重要。用户身份验证通过要求客户端提供有效的凭证(如用户名/密码组合或API访问密钥)来保护API。</p><h2 id="7556" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">3.粗心的数据暴露</h2><p id="5694" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">糟糕的编码实践通常会暴露代码中的对象属性、数据或其他敏感信息。在将结果返回给用户之前，客户端应用程序必须过滤掉这些信息。然而，这样的数据(例如，其他API的密钥、凭证或个人信息)可能会保留在代码中，并且当API代码托管在公共存储库上时，会无意中被广泛使用。</p><h2 id="f636" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">4.分布式拒绝服务(DDoS)</h2><p id="5155" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果没有对请求访问速率的限制，API端点容易受到分布式拒绝服务(DDoS)攻击。这种攻击涉及恶意玩家从多个来源(通常是受损系统)向API端点发起大量请求，淹没端点并使其离线。流行的开放API可能是这种攻击的常见目标。</p><p id="5fbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">速率限制将给定时间内的客户端请求数量限制在特定的最大值。在此期间收到的任何其他客户端请求都将被拒绝。通常，API网关执行这种限速任务。</p><h2 id="2a62" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">5.授权黑客</h2><p id="b95f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">复杂的对象和功能访问控制策略有时可以有多个层次结构、组、角色和权限。这种复杂的安全机制很难使用，也很难维护。开发人员或管理员有时可能会为用户或应用程序分配更高的权限来规避这个问题。这通常会导致入侵者利用更高的特权，攻击个人帐户或完全绕过访问控制中的漏洞。</p><h2 id="4c11" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">6.批量分配弱点</h2><p id="b10b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这种威胁也称为自动绑定或对象注入漏洞。现代应用程序框架鼓励开发人员使用自动将客户端请求输入值链接到代码变量和其他内部对象的功能，以简化和加速开发。利用这种框架副作用，攻击者可以改变或覆盖开发人员永远不会公开的关键对象的属性。</p><h2 id="2438" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">7.安全错误配置缺陷</h2><p id="42dc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">安全错误配置的示例包括不安全的默认设置、不充分或未跟踪的配置更改、不安全的存储、错误配置的HTTP头、许可跨源资源共享(CORS)以及包含敏感信息的详细错误消息。部署和配置支持开放API运行的基础设施资源需要非常注意安全性。</p><h2 id="5212" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">8.代码注入漏洞</h2><p id="b04c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">代码注入涉及恶意玩家利用不良输入验证在API请求中嵌入SQL或其他命令。当API代码不能很好地防范此类攻击时，这些命令可能会暴露敏感数据，执行数据修改或删除，或者便于进一步渗透。</p><h2 id="b97c" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">9.资产管理不善</h2><p id="af2d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">由于API比传统的web应用程序公开更多的端点，维护不良的文档、接口描述、版本或资产列表可能会导致忽略重要的攻击面并保持不安全。</p><h2 id="3d62" class="ms lw it bd lx mt mu dn mb mv mw dp mf li mx my mh lm mz na mj lq nb nc ml nd bi translated">10.记录和监控不足</h2><p id="27d5" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">不充分的日志记录和监控导致关键的安全事件没有被报告，主动警告没有被发送。此外，缺失或有缺陷的事件响应流程会让攻击者有机可乘，继续他们的活动而不被发现。许多违规研究表明，监控不力会导致违规行为被忽视200多天。</p><h1 id="1144" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">应对开放API威胁</h1><p id="8590" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">为了解决上面讨论的威胁和漏洞，有必要在API的设计和开发阶段采用安全性最佳实践。以下是一些需要考虑的基本安全控制措施:</p><ul class=""><li id="5d96" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">监控软件供应链和分析软件组合可以识别易受攻击的组件，例如不安全的第三方库。</li><li id="775b" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">静态应用程序安全测试(SAST)审查应用程序代码，并可以识别漏洞。</li><li id="82d8" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">动态应用程序安全测试(DAST)在应用程序运行时模拟对应用程序代码的攻击，从而发现可能的弱点。</li><li id="ef8d" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">安全事故和事件管理(SIEM)解决方案可以扫描应用程序日志，以发现可能的违规、可疑活动、趋势或异常情况。</li><li id="3303" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">当检测到安全异常或威胁时，安全协调、自动化和响应(SOAR)解决方案会根据操作手册执行补救步骤。</li><li id="4270" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">健壮的认证机制允许验证API用户。类似地，强授权机制使用户只能执行被允许执行的特定操作。</li><li id="2bcb" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">使用对称密钥加密数据，并使用SSL/TLS证书保护API端点，确保数据在静态和传输过程中受到保护。</li><li id="ee28" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">经过测试的强大灾难恢复计划可确保API得到快速修复并恢复在线，即使它已经受损。</li></ul><p id="aca7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，API网关还可以通过向其背后托管的API提供服务发现、路由、负载平衡、高可用性和可观察性服务，极大地增强API的安全性和稳定性。它允许您轻松地使用SSL/TLS保护所有通信通道，实施速率限制以防止DDoS攻击，并限制客户端请求有效负载和API响应大小。API网关也可以与web应用程序防火墙(WAF)一起使用，以增加一层安全性。</p><h1 id="e8de" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="a160" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">正如我们所见，公司可以通过使用开放API构建强大的应用程序来参与API经济。然而，开放API并非没有威胁。我们简要介绍了十种安全威胁以及应对这些威胁的措施。API网关可以促进这些措施，并提供高级管理功能。</p><p id="00b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.gravitee.io/" rel="noopener ugc nofollow" target="_blank"> Gravitee平台</a>提供了一套强大的应用程序，用于完整的API生命周期管理——包括API设计、部署、访问管理、网关服务、可观察性和发布。</p><p id="28d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Gravitee的工具可以生成带有策略和访问计划的文档化API，创建自动化警报方法，处理访问管理需求，并为身份验证流提供动态建模。最棒的是，<a class="ae ky" href="https://www.gravitee.io/platform/cockpit" rel="noopener ugc nofollow" target="_blank">gravite驾驶舱</a>可以集中管理所有API环境，从沙盒到生产。</p><p id="2f81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解更多关于Gravitee的信息，<a class="ae ky" href="https://www.gravitee.io/demo?hsLang=en" rel="noopener ugc nofollow" target="_blank">预订一个演示</a>。</p></div></div>    
</body>
</html>