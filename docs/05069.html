<html>
<head>
<title>How to Detect Light and Dark Modes in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中检测明暗模式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-detect-light-and-dark-modes-in-swiftui-eef21ba4d11d?source=collection_archive---------7-----------------------#2020-06-04">https://betterprogramming.pub/how-to-detect-light-and-dark-modes-in-swiftui-eef21ba4d11d?source=collection_archive---------7-----------------------#2020-06-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7256" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在iOS 13中检测用户何时从亮模式变为暗模式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/769b8c70df1db1351709d2f08327e9d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VpW4opKktcDspayEMEFXjQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">项目截图——iPhone亮暗模式示例</p></figure><p id="1782" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以用一个名为<code class="fe lu lv lw lx b">ColorScheme</code>的环境键来检测iOS 13中从亮到暗模式的变化(反之亦然)。</p><p id="c92f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe lu lv lw lx b">ColorScheme</code>列举明暗模式的设置选项。使用此值调整应用程序中的颜色，甚至更改一些其他变量。例如，我修改了一个文本来反映当前的iPhone模式(“亮模式”或“暗模式”)</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><p id="021f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，你需要为你的浅色和深色创建常量变量。您可以将它们添加到内容视图中，为它们创建扩展或结构，或者在结构和类之外添加颜色。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="5030" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，您可以将<code class="fe lu lv lw lx b">ColorScheme</code>变量添加到内容视图中，并使用它根据您的喜好调整视图。</p><pre class="kj kk kl km gt mh lx mi mj aw mk bi"><span id="f0b0" class="ml mm it lx b gy mn mo l mp mq">@Environment(\.colorScheme) <strong class="lx iu">var</strong> colorScheme</span></pre><p id="9914" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以更改形状或视图背景颜色，如下面的代码所示:</p><pre class="kj kk kl km gt mh lx mi mj aw mk bi"><span id="6307" class="ml mm it lx b gy mn mo l mp mq">.background(colorScheme == .light ? bgColorLight: bgColorDark)</span></pre><p id="c4e6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您还可以更改其他变量，如下文所示:</p><pre class="kj kk kl km gt mh lx mi mj aw mk bi"><span id="5971" class="ml mm it lx b gy mn mo l mp mq">Text(colorScheme == .light ? "Light Mode" : "Dark Mode")</span></pre></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/bc9137ba795a6522836c094758b50163.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*slbbuXp97PQUJ3L8U-Qzaw.gif"/></div></figure><p id="a626" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以使用以下代码片段获得与左上图类似的结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div></figure><p id="e5c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">完整的项目代码，<a class="ae ms" href="https://github.com/SarahAlsharif/LightAndDarkModeUsingSwiftUI" rel="noopener ugc nofollow" target="_blank">点击这里</a>。</p></div></div>    
</body>
</html>