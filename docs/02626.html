<html>
<head>
<title>Build Your First Ionic Vue App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建您的第一款Ionic Vue应用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-your-first-ionic-vue-app-56db5bb1b7d5?source=collection_archive---------6-----------------------#2019-12-13">https://betterprogramming.pub/build-your-first-ionic-vue-app-56db5bb1b7d5?source=collection_archive---------6-----------------------#2019-12-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f04b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Ionic框架中的beta Vue.js web组件，并使用Capacitor将它们部署到模拟器中</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e4a607d20a551084e537ac78f7cdf373.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J__ZwisWNQJsrj-2gKEzzg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">vue . j</p></figure><h1 id="b116" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">概观</h1><p id="bbd1" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这是一个复制React在Ionic框架文档中描述的示例应用程序的文档，但是在这种情况下，我们将使用<a class="ae mm" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue js </a>。您可以通过查看<a class="ae mm" href="https://ionicframework.com/docs/react/your-first-app" rel="noopener ugc nofollow" target="_blank">构建您的第一个Ionic React应用程序——概述文档</a>来了解ionic web组件正在做什么的具体细节，该文档的详细程度不在此处讨论。</p><p id="40a0" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated"><a class="ae mm" href="https://github.com/ionic-team/ionic/tree/master/vue" rel="noopener ugc nofollow" target="_blank"> @ionic/vue </a>将core-Ionic体验与为vue开发人员量身定制的工具和API相结合。它目前处于测试阶段。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="37ac" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">使用Ionic CLI创建项目</h1><p id="2a1d" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">因为此时您不能使用ionic-cli来创建您的应用程序，所以我们将添加您需要的额外的ionic库和依赖项来运行您的项目。</p><p id="84f2" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">让我们来看看最新版本的Ionic:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="1fc1" class="nj kz it nf b gy nk nl l nm nn">npm install -g ionic@latest</span></pre><p id="e5eb" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">使用<code class="fe no np nq nf b">vue-cli</code>调用基础应用<code class="fe no np nq nf b">my-app</code>，并选择默认设置:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="a120" class="nj kz it nf b gy nk nl l nm nn">vue create my-app</span></pre><p id="16e1" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">现在，添加所有特定的离子库。请注意版本的具体使用。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="fc21" class="nj kz it nf b gy nk nl l nm nn">yarn add @ionic/vue@0.0.9 <br/>yarn add @ionic/core <br/>yarn add vue-router</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="74f9" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">查看Vue应用程序结构</h1><h2 id="5f3d" class="nj kz it bd la nr ns dn le nt nu dp li lz nv nw lk md nx ny lm mh nz oa lo ob bi translated">从<code class="fe no np nq nf b">main.js</code>开始</h2><p id="66c2" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">如果你打开<code class="fe no np nq nf b">main.js</code>，你会看到以下内容。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="3e34" class="nj kz it nf b gy nk nl l nm nn">import Vue from 'vue'<br/>import App from './App.vue'<br/><br/>Vue.config.productionTip = false<br/><br/>new Vue({<br/>  render: h =&gt; h(App),<br/>}).$mount('#app')</span></pre><p id="0da9" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">我们需要在这里添加一些离子代码。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="1029" class="nj kz it nf b gy nk nl l nm nn">import Vue from 'vue'<br/>import App from './App.vue'<br/><br/>import Ionic from "@ionic/vue"<br/>import "@ionic/core/css/core.css"<br/>import "@ionic/core/css/ionic.bundle.css"<br/><br/><br/>Vue.config.productionTip = false;<br/>Vue.use(Ionic);<br/><br/>new Vue({<br/>  render: h =&gt; h(App),<br/>}).$mount('#app')</span></pre><p id="c04c" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">我们需要为离子组件添加额外的样式。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="515d" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">让我们开始路由工作</h1><p id="9ace" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">关于vue-router的更多信息可在此处获得:<a class="ae mm" href="https://router.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue Router文档</a>。</p><p id="4626" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">让我们接下来移动到<code class="fe no np nq nf b">App.vue</code>并清理它，以包括支持离子路由器所需的基础知识。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="5522" class="nj kz it nf b gy nk nl l nm nn">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;ion-app&gt;<br/>      &lt;ion-vue-router /&gt;<br/>    &lt;/ion-app&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>export default {<br/>  name: "app"<br/>};<br/>&lt;/script&gt;<br/><br/>&lt;style&gt;<br/>&lt;/style&gt;</span></pre><p id="f71f" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">现在，我们需要返回到<code class="fe no np nq nf b">main.js</code>并添加默认路由，它将指向<code class="fe no np nq nf b">HomePage.vue</code>组件。</p><p id="8c49" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">让我们添加导入来支持定制的<a class="ae mm" href="https://github.com/ionic-team/ionic/tree/master/vue" rel="noopener ugc nofollow" target="_blank"> ionic-vue-router </a>。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="382a" class="nj kz it nf b gy nk nl l nm nn">// router<br/>import { IonicVueRouter } from "@ionic/vue";<br/>Vue.use(IonicVueRouter);</span></pre><p id="93c8" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">现在，让我们添加指向我们主页的基本路由；请注意Ionic的自定义Vue路由器的使用。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="d5fb" class="nj kz it nf b gy nk nl l nm nn">const router = new IonicVueRouter({<br/>  routes: [<br/>    { path: "/", redirect: "/home" },<br/>    {<br/>      path: "/home",<br/>      name: "home",<br/>      component: () =&gt;<br/>        import(/* webpackChunkName: "home" */ <br/>                        "@/components/HomePage"),<br/>    }<br/>  ]<br/>});</span></pre><p id="96cf" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">首先，我们声明默认路由应该重定向到归属路由:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="ce07" class="nj kz it nf b gy nk nl l nm nn">{ path: "/", redirect: "/home" },</span></pre><p id="ee69" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">然后，我们指定home route并延迟加载<code class="fe no np nq nf b">HomePage</code>组件。</p><p id="33d0" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">(参见VueJS文档中的“<a class="ae mm" href="https://router.vuejs.org/guide/advanced/lazy-loading.html" rel="noopener ugc nofollow" target="_blank">惰性装载路线</a>”。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="d94f" class="nj kz it nf b gy nk nl l nm nn">{<br/>   path: "/home",<br/>   name: "home",<br/>   component: () =&gt;<br/>     import(/* webpackChunkName: "home" */ "@/components/HomePage"),<br/>}</span></pre><p id="67bf" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">既然我们已经初始化了<code class="fe no np nq nf b">router</code>对象，我们需要让它可以被应用程序中的所有Vue组件访问。为此，我们需要在初始化时将路由器作为Vue对象的一个属性来传递。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="a86b" class="nj kz it nf b gy nk nl l nm nn">new Vue({<br/>  router,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="6f5f" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">我们的第一个离子页面</h1><p id="eca9" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在这个页面上，<code class="fe no np nq nf b">HomePage.vue</code>组件是<a class="ae mm" href="https://ionicframework.com/docs/react/your-first-app#a-component-with-style" rel="noopener ugc nofollow" target="_blank"> Ionic文档</a>中描述的页面的<code class="fe no np nq nf b">vue</code>版本</p><p id="d4ea" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">请注意，在<code class="fe no np nq nf b">vue</code>中，我们没有使用驼峰式大小写——而是使用连字符。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="0cf7" class="nj kz it nf b gy nk nl l nm nn">&lt;template&gt;<br/>  &lt;ion-page&gt;<br/>    &lt;ion-header&gt;<br/>      &lt;ion-toolbar color="primary"&gt;<br/>        &lt;ion-title&gt;Home&lt;/ion-title&gt;<br/>      &lt;/ion-toolbar&gt;<br/>    &lt;/ion-header&gt;<br/>    &lt;ion-content padding&gt;<br/>      &lt;ion-list&gt;<br/>        &lt;ion-item&gt;<br/>          &lt;ion-checkbox slot="start"&gt;&lt;/ion-checkbox&gt;<br/>          &lt;ion-label&gt;<br/>            &lt;h1&gt;Create Idea&lt;/h1&gt;<br/>            &lt;ion-note&gt;Run Idea by Brandy&lt;/ion-note&gt;<br/>          &lt;/ion-label&gt;<br/>          &lt;ion-badge color="success" slot="end"&gt;5 Days&lt;/ion-badge&gt;<br/>        &lt;/ion-item&gt;<br/>      &lt;/ion-list&gt;<br/>      &lt;ion-fab vertical="bottom" horizontal="end" slot="fixed"&gt;<br/>        &lt;ion-fab-button &gt;<br/>          &lt;ion-icon name="add" /&gt;<br/>        &lt;/ion-fab-button&gt;<br/>      &lt;/ion-fab&gt;<br/>    &lt;/ion-content&gt;<br/>  &lt;/ion-page&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>import { add } from "ionicons/icons";<br/>import { addIcons } from "ionicons";<br/>addIcons({<br/>  "ios-add": add.ios,<br/>  "md-add": add.md<br/>});<br/>export default {<br/>  name: "HomePage",<br/>  props: {<br/>    msg: String<br/>  }<br/>};<br/>&lt;/script&gt;<br/><br/>&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>&lt;/style&gt;</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="3050" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">添加图标</h1><p id="40d5" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">您会注意到这里的代码处理图标的方式与ReactJS版本中的略有不同。</p><p id="b406" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">1.从<code class="fe no np nq nf b">ionicons</code>导入您想要单独使用的图标。<br/> 2。使用<code class="fe no np nq nf b">addIcons</code>加载它们。</p><p id="7485" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">在下面的例子中，我们使用<code class="fe no np nq nf b">add</code>图标来渲染<code class="fe no np nq nf b">ion-fab-button</code>组件。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="4b5a" class="nj kz it nf b gy nk nl l nm nn">import { add } from "ionicons/icons";<br/>import { addIcons } from "ionicons";<br/>addIcons({<br/>  "ios-add": add.ios,<br/>  "md-add": add.md<br/>});</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/3630d6165163234aed7f26e7897492f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vEphbrih34ebRKNg.png"/></div></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="a775" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">使用路由器</h1><p id="387c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">如果你注意到了，我们在页面上有一个按钮，当用户点击它时，我们希望页面导航到下一页。我们可以通过让<a class="ae mm" href="https://router.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> vue-router </a>响应按钮上的点击事件来处理这个问题。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="ed27" class="nj kz it nf b gy nk nl l nm nn">&lt;ion-fab vertical="bottom" horizontal="end" slot="fixed"&gt;<br/>  &lt;ion-fab-button @click="$router.push({ name: 'new-item' })"&gt;<br/>    &lt;ion-icon name="add" /&gt;<br/>  &lt;/ion-fab-button&gt;<br/>&lt;/ion-fab&gt;</span></pre><p id="2bad" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">因为我们在<code class="fe no np nq nf b">main.js</code>中将路由器添加到了<code class="fe no np nq nf b">Vue</code>实例中，所以我们可以使用<code class="fe no np nq nf b">$router</code>在我们的组件中访问它。</p><p id="e6bd" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">当用户点击按钮时，我们告诉路由器路由到名为<code class="fe no np nq nf b">new-item</code>的新路径，我们将在<code class="fe no np nq nf b">main.js</code>中将其定义为命名路由。我们回到<code class="fe no np nq nf b">main.js</code>添加路线。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="e791" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">添加新路线</h1><h2 id="3036" class="nj kz it bd la nr ns dn le nt nu dp li lz nv nw lk md nx ny lm mh nz oa lo ob bi translated">将路由添加到路由器对象</h2><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="1987" class="nj kz it nf b gy nk nl l nm nn">{<br/>  path: "/new-item",<br/>  name: "new-item",<br/>  component: () =&gt;<br/>    import(/* webpackChunkName: "new-item" */    <br/>                      "@/components/NewItemPage"),<br/>}</span></pre><h2 id="2f8d" class="nj kz it bd la nr ns dn le nt nu dp li lz nv nw lk md nx ny lm mh nz oa lo ob bi translated">添加与路线相关联的页面</h2><p id="9ad7" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">新页面将遵循与其他页面相同的标题和工具栏内容结构，但我们需要找出新的后退按钮功能。</p><p id="2bda" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">让我们创建一个名为<code class="fe no np nq nf b">NewItemPage.vue</code>的新组件，并将其添加到<code class="fe no np nq nf b">components</code>路径中。将以下代码添加到文件中:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="86e0" class="nj kz it nf b gy nk nl l nm nn">&lt;template&gt;<br/>  &lt;ion-page&gt;<br/>    &lt;ion-header&gt;<br/>      &lt;ion-toolbar color="primary"&gt;<br/>        &lt;ion-buttons slot="start"&gt;<br/>          &lt;ion-back-button default-href="/"&gt;&lt;/ion-back-button&gt;<br/>        &lt;/ion-buttons&gt;<br/>        &lt;ion-title&gt;New Item&lt;/ion-title&gt;<br/>      &lt;/ion-toolbar&gt;<br/>    &lt;/ion-header&gt;<br/>    &lt;ion-content padding&gt;&lt;/ion-content&gt;<br/>  &lt;/ion-page&gt;<br/>&lt;/template&gt;<br/><br/>&lt;script&gt;<br/>export default {<br/>  name: "NewItemPage",<br/>};<br/>&lt;/script&gt;<br/><br/>&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>&lt;/style&gt;</span></pre><p id="20aa" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">根据我们目前所见，这个页面非常简单——除了我们需要添加后退按钮。幸运的是，爱奥尼亚有这方面的东西。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="59c4" class="nj kz it nf b gy nk nl l nm nn">&lt;ion-buttons slot="start"&gt;<br/>  &lt;ion-back-button default-href="/"&gt;&lt;/ion-back-button&gt;<br/>&lt;/ion-buttons&gt;</span></pre><p id="0833" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这段代码将把按钮放在标题中，并处理适当的导航，不需要任何额外的代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/c9aa4db9dc65c32c5657999223248d7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/0*_SwjfIwUTwHtFRZb.png"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="b6ae" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">构建原生应用</h1><p id="32eb" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">以下概述来自<a class="ae mm" href="http://We now have the basics of an Ionic React app down, including some UI components and navigation. The great thing about Ionic's components is that they work anywhere, including iOS, Android, and PWAs. To deploy to mobile, desktop, and beyond, we use Ionic's cross-platform app runtime Capacitor. It provides a consistent, web-focused set of APIs that enable an app to stay as close to web-standards as possible while accessing rich native device features on platforms that support them." rel="noopener ugc nofollow" target="_blank">官方离子文档</a>:</p><blockquote class="oe of og"><p id="2312" class="lq lr oh ls b lt mn ju lv lw mo jx ly oi mp mb mc oj mq mf mg ok mr mj mk ml im bi translated">“我们现在已经有了Ionic React应用的基础，包括一些UI组件和导航。Ionic的组件的伟大之处在于它们可以在任何地方工作，包括iOS、Android和PWAs。为了部署到移动、桌面和其他平台，我们使用Ionic的跨平台应用运行时电容器。它提供了一组一致的、以网络为中心的API，使应用程序尽可能接近网络标准，同时在支持它们的平台上访问丰富的原生设备功能。”</p></blockquote></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="f2cf" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">安装电容器</h1><p id="ece3" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">有关更多详细信息，请遵循此处提供的<a class="ae mm" href="https://capacitor.ionicframework.com/docs/getting-started/" rel="noopener ugc nofollow" target="_blank">说明。</a></p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="f7ff" class="nj kz it nf b gy nk nl l nm nn">npm install --save @capacitor/core @capacitor/cli</span></pre><p id="5a96" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">对于VueJS，web资产目录是<code class="fe no np nq nf b">build</code>。您可以在初始化应用程序时进行设置</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="70db" class="nj kz it nf b gy nk nl l nm nn">npx cap init --web-dir=dist</span></pre><p id="f4f6" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">否则，更新文件<code class="fe no np nq nf b">capacitor.config.json</code>中的web-assets目录，以包含下面的<code class="fe no np nq nf b">"webDir": "dist"</code>。</p><p id="345e" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">然后，系统会提示您回答一些关于您的应用程序的问题，例如:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="1750" class="nj kz it nf b gy nk nl l nm nn">npx cap init --web-dir=build<br/>? App name myAppCap <br/>? App Package ID (in Java package format, no dashes) com.aks.mycapapp <br/>✔ Initializing Capacitor project in /Users/aaronksaunders/dev/projects/vuejs/my-app in 23.41ms </span><span id="be8a" class="nj kz it nf b gy ol nl l nm nn">🎉 Your Capacitor project is ready to go! 🎉 </span><span id="a32f" class="nj kz it nf b gy ol nl l nm nn">Add platforms using "npx cap add": <br/>   npx cap add android <br/>   npx cap add ios npx <br/>   cap add electron </span><span id="50ec" class="nj kz it nf b gy ol nl l nm nn">Follow the Developer Workflow guide to get building: <a class="ae mm" href="https://capacitor.ionicframework.com/docs/basics/workflow" rel="noopener ugc nofollow" target="_blank">https://capacitor.ionicframework.com/docs/basics/workflow</a></span></pre><p id="9d98" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">现在，您需要为生产构建应用程序，以便它可以被捆绑起来进行部署。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="2751" class="nj kz it nf b gy nk nl l nm nn">yarn run build</span></pre><p id="7043" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">此时我遇到了版本问题，需要运行下面的命令来更新<code class="fe no np nq nf b">core-js</code>库:<code class="fe no np nq nf b">npm install --save core-js</code>。</p><p id="15d1" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">然后，通过运行适当的命令添加您的平台。</p><ul class=""><li id="908c" class="om on it ls b lt mn lw mo lz oo md op mh oq ml or os ot ou bi translated">现在，您可以运行<code class="fe no np nq nf b">npx cap add ios</code>来添加iOS</li><li id="4999" class="om on it ls b lt ov lw ow lz ox md oy mh oz ml or os ot ou bi translated">现在，您可以运行<code class="fe no np nq nf b">npx cap add android</code>来添加Android</li></ul><p id="05d4" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">然后启动应用程序。</p><ul class=""><li id="fce9" class="om on it ls b lt mn lw mo lz oo md op mh oq ml or os ot ou bi translated">现在，您可以运行<code class="fe no np nq nf b">npx cap open ios</code>来启动Xcode</li><li id="3e5a" class="om on it ls b lt ov lw ow lz ox md oy mh oz ml or os ot ou bi translated">现在，你可以运行<code class="fe no np nq nf b">npx cap open android</code>来启动Android Studio</li></ul><h2 id="d2c2" class="nj kz it bd la nr ns dn le nt nu dp li lz nv nw lk md nx ny lm mh nz oa lo ob bi translated">修复标题问题的步骤，以解决新款iPhones上的安全区域/凹槽</h2><p id="b099" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">对项目的<code class="fe no np nq nf b">public</code>目录中的<code class="fe no np nq nf b">index.html</code>文件进行如下更改:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="0521" class="nj kz it nf b gy nk nl l nm nn">&lt;meta name="viewport" <br/>  content="width=device-width, initial-scale=1, shrink-to-fit=no ,    <br/>            viewport-fit=cover" <br/>/&gt;</span></pre><p id="fbcd" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">最后，在<code class="fe no np nq nf b">App.vue</code>文件中需要一些CSS。</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="cf78" class="nj kz it nf b gy nk nl l nm nn">&lt;style&gt;<br/>    ion-navbar.toolbar.toolbar-ios.statusbar-padding,<br/>    ion-navbar.toolbar-ios ion-title.title-ios,<br/>    ion-toolbar.toolbar.toolbar-ios.statusbar-padding,<br/>    ion-toolbar.toolbar-ios ion-title.title-ios {<br/>      padding-top: constant(safe-area-inset-top);<br/>      padding-top: env(safe-area-inset-top);<br/>    }<br/>&lt;/style&gt;</span></pre><p id="478c" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">要推送应用程序更新，您可以运行以下命令:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="b58e" class="nj kz it nf b gy nk nl l nm nn">yarn run build; npx cap sync</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="41b3" class="ky kz it bd la lb mz ld le lf na lh li jz nb ka lk kc nc kd lm kf nd kg lo lp bi translated">项目源代码</h1><p id="6214" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><a class="ae mm" href="https://github.com/aaronksaunders/my-first-ionic-app-vue" rel="noopener ugc nofollow" target="_blank">打造你的第一款Ionic Vue应用</a></p></div></div>    
</body>
</html>