<html>
<head>
<title>How To Use Material UI to Bring Material Design to React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何利用材质UI让材质设计产生反应</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-material-ui-to-bring-material-design-to-react-a327c875ab86?source=collection_archive---------4-----------------------#2019-08-15">https://betterprogramming.pub/how-to-use-material-ui-to-bring-material-design-to-react-a327c875ab86?source=collection_archive---------4-----------------------#2019-08-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e1b4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用React、材质UI和<a class="ae ki" href="https://dog.ceo/dog-api/documentation/" rel="noopener ugc nofollow" target="_blank">狗API </a>创建应用程序</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/c04cdad61d790ce7353a0f79306cf5a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bbGSypCPuFoVzncKdcElfg.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">照片由<a class="ae ki" href="https://unsplash.com/@ipet_photo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> ipet photo </a>在<a class="ae ki" href="https://unsplash.com/search/photos/dog?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="9b07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ki" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank">材质UI </a>是React最流行的<a class="ae ki" href="https://material.io/design/" rel="noopener ugc nofollow" target="_blank">材质设计</a>库之一。它有基本的材质设计UI元素，如输入、卡片、网格、表格、导航、工具栏、下拉菜单、字体等。这是<a class="ae ki" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank">完整列表</a>。</p><p id="4283" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它以<a class="ae ki" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank">节点</a>包的形式提供。要安装它，运行<code class="fe lv lw lx ly b">npm i @material-ui/core</code>。然后，您可以在需要时将它们导入到组件文件中。</p><p id="5310" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将制作一个带有React和Material UI的应用程序，它使用了<a class="ae ki" href="https://dog.ceo/dog-api/documentation/" rel="noopener ugc nofollow" target="_blank"> Dog API </a>。</p><p id="0662" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要创建一个新的React应用程序，使用React开发人员制作的<code class="fe lv lw lx ly b">create-react-app</code>代码生成器。这里有<a class="ae ki" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank">自述文件</a>和<a class="ae ki" href="https://facebook.github.io/create-react-app/" rel="noopener ugc nofollow" target="_blank">完整文档</a>。</p><p id="e9bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要创建应用程序，运行<code class="fe lv lw lx ly b">npx create-react-app</code>并按照说明操作，你将获得一个新的应用程序。然后，你就可以准备安装<a class="ae ki" href="https://reacttraining.com/react-router/" rel="noopener ugc nofollow" target="_blank"> React路由器</a>了。要安装它，运行<code class="fe lv lw lx ly b">npm i react-router-dom</code>。</p><p id="50f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，运行<code class="fe lv lw lx ly b">npm i @material-ui/core axios</code>安装@material-ui/core和<a class="ae ki" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank"> Axios </a>。材质UI为我们的应用程序提供了材质设计外观，Axios是一个HTTP客户端，可用于客户端应用程序。</p><p id="f9b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">index.js</code>中，我们有:</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="9acc" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu">import</strong> React <strong class="ly iu">from</strong> 'react';<br/><strong class="ly iu">import</strong> ReactDOM <strong class="ly iu">from</strong> 'react-dom';<br/><strong class="ly iu">import</strong> './index.css';<br/><strong class="ly iu">import</strong> App <strong class="ly iu">from</strong> './App';<br/><strong class="ly iu">import</strong> * <strong class="ly iu">as</strong> serviceWorker <strong class="ly iu">from</strong> './serviceWorker';<br/><strong class="ly iu">import</strong> { breedsReducer, imagesReducer } <strong class="ly iu">from</strong> './reducers';<br/><strong class="ly iu">import</strong> { Provider } <strong class="ly iu">from</strong> 'react-redux'<br/><strong class="ly iu">import</strong> { createStore } <strong class="ly iu">from</strong> 'redux'<br/><strong class="ly iu">import</strong> { combineReducers } <strong class="ly iu">from</strong> 'redux'<br/><strong class="ly iu">const</strong> dogApp = combineReducers({<br/>  breeds: breedsReducer,<br/>  images: imagesReducer<br/>})</span><span id="646c" class="md me it ly b gy mj mg l mh mi"><strong class="ly iu">const</strong> store = createStore(dogApp);<br/>ReactDOM.render(<br/>  &lt;Provider store={store}&gt;<br/>    &lt;App /&gt;<br/>  &lt;/Provider&gt;<br/>, document.getElementById('root')<br/>);<br/>serviceWorker.unregister();</span></pre><p id="901d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的文件是reducers映射到状态的地方。通过调用<code class="fe lv lw lx ly b">combineReducers</code>函数，创建了商店，然后将商店传递给应用程序，在应用程序中,<code class="fe lv lw lx ly b">mapStateToProps</code>将状态作为<code class="fe lv lw lx ly b">props</code>提供给组件。</p><p id="9383" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">mapDispatchToProps</code>允许你通过props中的一个函数在你的组件中设置状态，如下图所示。</p><p id="2f8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们添加reducers来将状态存储在一个集中可用的位置。我们的应用程序的状态在这里设置。</p><p id="ee8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们制作一个叫做<code class="fe lv lw lx ly b">reducer.js</code>的文件:</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="e06d" class="md me it ly b gy mf mg l mh mi">import { SET_BREEDS, SET_IMAGES } from './actions';</span><span id="5750" class="md me it ly b gy mj mg l mh mi">function breedsReducer(state = {}, action) {<br/>    switch (action.type) {<br/>        case SET_BREEDS:<br/>            state = JSON.parse(JSON.stringify(action.payload));<br/>            return state;<br/>        default:<br/>            return state<br/>    }<br/>}</span><span id="e05b" class="md me it ly b gy mj mg l mh mi">function imagesReducer(state = [], action) {<br/>    switch (action.type) {<br/>        case SET_IMAGES:<br/>            state = JSON.parse(JSON.stringify(action.payload));<br/>            return state;<br/>        default:<br/>            return state<br/>    }<br/>}</span><span id="f49d" class="md me it ly b gy mj mg l mh mi">export { breedsReducer, imagesReducer };ima</span></pre><p id="27a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">actions.js</code>中，我们为我们的<a class="ae ki" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>动作添加了这些常量:</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="629b" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu">const</strong> SET_BREEDS = 'SET_BREEDS';<br/><strong class="ly iu">const</strong> SET_IMAGES = 'SET_IMAGES';<br/><strong class="ly iu">export</strong> { SET_BREEDS, SET_IMAGES };</span></pre><p id="427b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">actionCreators.js</code>中，我们添加:</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="3520" class="md me it ly b gy mf mg l mh mi">import { SET_BREEDS, SET_IMAGES } from './actions';</span><span id="461b" class="md me it ly b gy mj mg l mh mi">const setBreeds = (breeds) =&gt; {<br/>    return {<br/>        type: SET_BREEDS,<br/>        payload: breeds<br/>    }<br/>};</span><span id="7fae" class="md me it ly b gy mj mg l mh mi">const setImages = (images) =&gt; {<br/>    return {<br/>        type: SET_IMAGES,<br/>        payload: images<br/>    }<br/>};</span><span id="5ea5" class="md me it ly b gy mj mg l mh mi">export { setBreeds, setImages };</span></pre><p id="20a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">app.js</code>中，我们将默认代码改为:</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="8eff" class="md me it ly b gy mf mg l mh mi">import React, { useState, useEffect } from "react";<br/>import './App.css';<br/>import { setBreeds } from './actionCreators';<br/>import { connect } from 'react-redux';<br/>import { Router, Route, Link } from "react-router-dom";<br/>import HomePage from './HomePage';<br/>import BreedsPage from './BreedsPage';<br/>import SubBreedsPage from './SubBreedsPage';<br/>import AppBar from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/AppBar';<br/>import Toolbar from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Toolbar';<br/>import Typography from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Typography';<br/>import Button from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button';<br/>import IconButton from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/IconButton';<br/>import Drawer from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Drawer';<br/>import List from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/List';<br/>import ListItem from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/ListItem';<br/>import ListItemText from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/ListItemText';<br/>import { makeStyles } from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles';<br/>import { createBrowserHistory as createHistory } from 'history'<br/>const history = createHistory();<br/>const axios = require('axios');</span><span id="e026" class="md me it ly b gy mj mg l mh mi">const useStyles = makeStyles(theme =&gt; ({<br/>  root: {<br/>    flexGrow: 1,<br/>  },<br/>  menuButton: {<br/>    marginRight: theme.spacing(2),<br/>  },<br/>  title: {<br/>    flexGrow: 1,<br/>  },<br/>}));</span><span id="dd20" class="md me it ly b gy mj mg l mh mi">function App({ setBreeds }) {<br/>  const classes = useStyles();<br/>  const [initialized, setInitialized] = useState(false);<br/>  const [state, setState] = useState({<br/>    openDrawer: false<br/>  });</span><span id="5fdb" class="md me it ly b gy mj mg l mh mi">  const titles = {<br/>    '/': 'Dog App',<br/>    '/breeds': 'Get Images By Breed - Dog App',<br/>    '/subbreeds': 'Get Images By Breed or Sub-Breed - Dog App'<br/>  }</span><span id="67e8" class="md me it ly b gy mj mg l mh mi">  history.listen((location, action) =&gt; {    <br/>    document.title = titles[location.pathname];<br/>    setState({ openDrawer: false });<br/>  });</span><span id="e107" class="md me it ly b gy mj mg l mh mi">  const toggleDrawer = (open) =&gt; event =&gt; {<br/>    if (event.type === 'keydown' &amp;&amp; (event.key === 'Tab' || event.key === 'Shift')) {<br/>      return;<br/>    }<br/>    setState({ openDrawer: open });<br/>  };</span><span id="6e6c" class="md me it ly b gy mj mg l mh mi">  const links = {<br/>    'Home': '/',<br/>    'Breeds': '/breeds',<br/>    'Sub-Breeds': '/subbreeds',<br/>  }</span><span id="1f0f" class="md me it ly b gy mj mg l mh mi">  const getBreeds = () =&gt; {<br/>    setInitialized(true);<br/>    axios.get('<a class="ae ki" href="https://dog.ceo/api/breeds/list/all'" rel="noopener ugc nofollow" target="_blank">https://dog.ceo/api/breeds/list/all'</a>)<br/>      .then((response) =&gt; {<br/>        setBreeds(response.data.message);<br/>      })<br/>      .catch((error) =&gt; {<br/>        console.log(error);<br/>      })<br/>      .finally(() =&gt; {</span><span id="b4e1" class="md me it ly b gy mj mg l mh mi">      });<br/>  }</span><span id="2a71" class="md me it ly b gy mj mg l mh mi">  useEffect(() =&gt; {<br/>    if (!initialized) {<br/>      getBreeds();<br/>    }<br/>  });</span><span id="d258" class="md me it ly b gy mj mg l mh mi">  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;Router history={history}&gt;<br/>        &lt;Drawer anchor="left" open={state.openDrawer} onClose={toggleDrawer(false)}&gt;<br/>          &lt;List&gt;<br/>            &lt;ListItem button&gt;<br/>              &lt;h2&gt;&lt;b&gt;Dog App&lt;/b&gt;&lt;/h2&gt;<br/>            &lt;/ListItem&gt;<br/>            {Object.keys(links).map((text) =&gt; (<br/>              &lt;ListItem button key={text}&gt;<br/>                &lt;Link to={links[text]}&gt;<br/>                  &lt;ListItemText primary={text} /&gt;<br/>                &lt;/Link&gt;<br/>              &lt;/ListItem&gt;<br/>            ))}<br/>          &lt;/List&gt;<br/>        &lt;/Drawer&gt;<br/>        &lt;AppBar position="static"&gt;<br/>          &lt;Toolbar&gt;<br/>            &lt;IconButton edge="start" className={classes.menuButton} color="inherit" aria-label="Menu" onClick={toggleDrawer(true)}&gt;<br/>              &lt;i className="material-icons"&gt;menu&lt;/i&gt;<br/>            &lt;/IconButton&gt;<br/>            &lt;Typography variant="h6" className={classes.title}&gt;<br/>              Dog App<br/>            &lt;/Typography&gt;<br/>          &lt;/Toolbar&gt;<br/>        &lt;/AppBar&gt;</span><span id="7a72" class="md me it ly b gy mj mg l mh mi">      &lt;Route path="/" exact component={HomePage} /&gt;<br/>        &lt;Route path="/breeds/" component={BreedsPage} /&gt;<br/>        &lt;Route path="/subbreeds/" component={SubBreedsPage} /&gt;<br/>      &lt;/Router&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="d3bb" class="md me it ly b gy mj mg l mh mi">  const mapStateToProps = (state) =&gt; ({<br/>    breeds: state.breeds<br/>  })</span><span id="2696" class="md me it ly b gy mj mg l mh mi">  const mapDispatchToProps = (dispatch) =&gt; ({<br/>    setBreeds: breeds =&gt; dispatch(setBreeds(breeds))<br/>  })</span><span id="82f5" class="md me it ly b gy mj mg l mh mi">export default connect(<br/>  mapStateToProps,<br/>  mapDispatchToProps<br/>)(App);</span></pre><p id="b50d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，在上面的代码中，我们将所有需要的小部件导入到组件文件中，然后将它包含在<code class="fe lv lw lx ly b">return</code>语句中。</p><p id="5457" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于样式，我们导入<code class="fe lv lw lx ly b">makeStyles</code>函数并在其中放置一个对象。我们通过提供类似CSS的属性和值来设计它的样式。</p><p id="00ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">顶级键是类。它们将在调用导入的<code class="fe lv lw lx ly b">useStyles()</code>时创建。那么，我们可以参考<code class="fe lv lw lx ly b">classes.className</code>来使用。</p><p id="4b40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，<code class="fe lv lw lx ly b">classes.menuButton</code>将用于将<code class="fe lv lw lx ly b">menuButton</code>类应用到上面的按钮。</p><p id="d6e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码有钩子。</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="5c98" class="md me it ly b gy mf mg l mh mi"><strong class="ly iu">const</strong> [initialized, setInitialized] = useState(<strong class="ly iu">false</strong>);<br/><strong class="ly iu">const</strong> [state, setState] = useState({<br/>  openDrawer: <strong class="ly iu">false<br/></strong>});</span></pre><p id="ee50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些函数相当于基于类的组件中的<code class="fe lv lw lx ly b">setState</code>函数。</p><p id="10fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数组中的第一个元素(<code class="fe lv lw lx ly b">initialized</code>)相当于<code class="fe lv lw lx ly b">this.state.initialized</code>，<code class="fe lv lw lx ly b">setInitialized</code>相当于调用基于类的组件中的<code class="fe lv lw lx ly b">this.setState({initialized: initializedValue});</code>的函数。</p><p id="8593" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">钩子只适用于基于函数的组件。这样做的好处是，只需编写较少的代码就可以达到设置状态的相同效果。</p><p id="32f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还要注意，我们在上面的组件中有这个:</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="24e1" class="md me it ly b gy mf mg l mh mi">useEffect(() =&gt; {<br/>  <strong class="ly iu">if</strong> (!initialized) {<br/>    getBreeds();<br/>  }<br/>});</span></pre><p id="4495" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为我们不像基于类的组件那样有<code class="fe lv lw lx ly b">componentDidMount</code>，我们必须检查组件是否加载了我们自己的标志。</p><p id="874b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">getBreeds</code>函数一旦运行成功就将<code class="fe lv lw lx ly b">initialized</code>标志设置为<code class="fe lv lw lx ly b">true</code>，这样<code class="fe lv lw lx ly b">getBreeds</code>函数就不会永远重复运行。<code class="fe lv lw lx ly b">useEffect</code>是一个在每次渲染时都会运行的函数，所以注意不要把必要的代码放在里面。</p><p id="5aa2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意上面文件末尾的<code class="fe lv lw lx ly b">connect</code>函数。这是状态连接到组件的地方。<code class="fe lv lw lx ly b">setBreeds</code>是一个函数，返回一个带有动作类型和有效载荷的普通对象。</p><p id="0c51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这允许减速器根据<code class="fe lv lw lx ly b">type</code>字段设置状态，在本例中为<code class="fe lv lw lx ly b">SET_BREEDS</code>或<code class="fe lv lw lx ly b">SET_IMAGES</code>。状态将被设置、返回，并且新状态将通过<code class="fe lv lw lx ly b">props.breeds</code>用于<code class="fe lv lw lx ly b">breeds</code>。</p><p id="74a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">&lt;Route path=”/breeds/” component={BreedsPage} /&gt;</code>是定义路线的地方。肯定在<code class="fe lv lw lx ly b">&lt;Router history={history}&gt;&lt;/Router&gt;</code>里面。</p><p id="8dff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们应用程序的路由部分。有了这个，我们输入<code class="fe lv lw lx ly b">http://localhost: 3000/breeds</code>就可以去页面了。</p><p id="a148" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当路线改变时，该块设置标题并隐藏左侧的应用抽屉:</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="983b" class="md me it ly b gy mf mg l mh mi">history.listen((location, action) =&gt; {<br/>   document.title = titles[location.pathname];<br/>   setState({ openDrawer: <strong class="ly iu">false</strong> });<br/>});</span></pre><p id="6847" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在为我们的应用程序创建页面，这些页面将使用React Router进行路由。首先，我们创建一个显示品种的页面，我们称之为<code class="fe lv lw lx ly b">BreedPage.js</code>。</p><p id="3bfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码将如下所示:</p><pre class="kk kl km kn gt lz ly ma mb aw mc bi"><span id="326f" class="md me it ly b gy mf mg l mh mi">import React from 'react';<br/>import './BreedsPage.css';<br/>import { setImages } from './actionCreators';<br/>import { connect } from 'react-redux';<br/>import InputLabel from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/InputLabel';<br/>import MenuItem from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/MenuItem';<br/>import FormControl from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/FormControl';<br/>import Select from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Select';<br/>import { makeStyles } from '<a class="ae ki" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/styles';<br/>import ImagesBox from './ImagesBox';<br/>const axios = require('axios');</span><span id="c608" class="md me it ly b gy mj mg l mh mi">const useStyles = makeStyles(theme =&gt; ({<br/>    formControl: {<br/>        margin: theme.spacing(1),<br/>        width: '90vw',<br/>    },</span><span id="14a4" class="md me it ly b gy mj mg l mh mi">}));</span><span id="e4fd" class="md me it ly b gy mj mg l mh mi">function BreedsPage({ breeds, setImages }) {<br/>    const classes = useStyles();<br/>    const [state, setState] = React.useState({<br/>        breed: '',<br/>    });<br/>    const [initialized, setInitialized] = React.useState(false);</span><span id="e921" class="md me it ly b gy mj mg l mh mi">    const handleChange = name =&gt; event =&gt; {<br/>        setState({<br/>            ...state,<br/>            [name]: event.target.value,<br/>        });</span><span id="cedb" class="md me it ly b gy mj mg l mh mi">    if (name == 'breed') {<br/>            getImagesByBreed(event.target.value);<br/>        }<br/>    };</span><span id="97df" class="md me it ly b gy mj mg l mh mi">    const getImagesByBreed = (breed) =&gt; {<br/>        axios.get(`<a class="ae ki" href="https://dog.ceo/api/breed/${breed}/images`" rel="noopener ugc nofollow" target="_blank">https://dog.ceo/api/breed/${breed}/images`</a>)<br/>            .then((response) =&gt; {<br/>                setImages(response.data.message);<br/>            })<br/>            .catch((error) =&gt; {<br/>                console.log(error);<br/>            })<br/>            .finally(() =&gt; {</span><span id="7165" class="md me it ly b gy mj mg l mh mi">});<br/>    }</span><span id="8036" class="md me it ly b gy mj mg l mh mi">    React.useEffect(() =&gt; {<br/>        if (!initialized) {<br/>            setInitialized(true);<br/>            setImages([]);<br/>        }<br/>    });</span><span id="a67e" class="md me it ly b gy mj mg l mh mi">    return (<br/>        &lt;div className="App"&gt;<br/>            &lt;h1&gt;Get Images By Breed&lt;/h1&gt;<br/>            &lt;form&gt;<br/>                &lt;FormControl className={classes.formControl}&gt;<br/>                    &lt;InputLabel&gt;Breed&lt;/InputLabel&gt;<br/>                    &lt;Select<br/>                        value={state.breed}<br/>                        onChange={handleChange('breed')}<br/>                    &gt;<br/>                        {Object.keys(breeds || {}).map(b =&gt;<br/>                            &lt;MenuItem value={b} key={b}&gt;<br/>                                {b}<br/>                            &lt;/MenuItem&gt;<br/>                        )}<br/>                    &lt;/Select&gt;<br/>                &lt;/FormControl&gt;<br/>                &lt;ImagesBox&gt;&lt;/ImagesBox&gt;<br/>            &lt;/form&gt;<br/>        &lt;/div&gt;<br/>    );</span><span id="44a4" class="md me it ly b gy mj mg l mh mi">}</span><span id="b61b" class="md me it ly b gy mj mg l mh mi">const mapStateToProps = state =&gt; {<br/>    return {<br/>        breeds: state.breeds,<br/>        images: state.images<br/>    }<br/>}</span><span id="b82b" class="md me it ly b gy mj mg l mh mi">const mapDispatchToProps = dispatch =&gt; ({<br/>    setImages: images =&gt; dispatch(setImages(images))<br/>})</span><span id="740a" class="md me it ly b gy mj mg l mh mi">export default connect(<br/>    mapStateToProps,<br/>    mapDispatchToProps<br/>)(BreedsPage);</span></pre><p id="3727" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，当您转到<code class="fe lv lw lx ly b"><a class="ae ki" href="http://localhost/" rel="noopener ugc nofollow" target="_blank">http://localhost:</a>3000/breeds</code>时，您会看到下面的屏幕:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mk"><img src="../Images/602ad3f60173f722f7062f88e9738573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQbMgEHAkp2H4B6neL98eg.png"/></div></div></figure></div></div>    
</body>
</html>