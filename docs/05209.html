<html>
<head>
<title>How to Use React Components in Rails 6</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Rails 6中使用React组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-react-components-in-rails-6-7ef460894be?source=collection_archive---------4-----------------------#2020-06-20">https://betterprogramming.pub/how-to-use-react-components-in-rails-6-7ef460894be?source=collection_archive---------4-----------------------#2020-06-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0a5b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">构建混合React/Rails web应用程序的简单方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4ed930418e561048d80955bb6684a186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*92TqvaqWbTI-VVYb"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@wallendorff?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">路德维希·沃伦多夫</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="9372" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然网上有很多关于在Rails中设置react的文章(我推荐使用webpacker和<a class="ae ky" href="https://github.com/reactjs/react-rails" rel="noopener ugc nofollow" target="_blank"> react_rails </a>)，但我想更深入地探索一些可以用React做的伟大事情。</p><p id="c74a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧。</p><p id="2d72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你还没有为开发设置Ruby on Rails，看看这个教程<a class="ae ky" href="https://catalinionescu.dev/how-to-install-ruby-on-rails-on-macos-catalina" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="aa14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将假设您已经安装了webpacker和react_rails。在您的包条目文件中，您将需要启用React组件的渲染:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/76aaa100a6b5a22605862a4f4096bb0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A8RlBod4H6PBMtAHYj1hvA.png"/></div></div></figure><p id="25b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lw lx ly lz b">app/javascript</code>文件夹下，我为React组件做了一个单独的文件夹。下面是我使用的文件结构图:</p><pre class="kj kk kl km gt ma lz mb mc aw md bi"><span id="7aa3" class="me mf it lz b gy mg mh l mi mj">.</span><span id="8489" class="me mf it lz b gy mk mh l mi mj">├── app</span><span id="5ac7" class="me mf it lz b gy mk mh l mi mj">│   ├─── controllers</span><span id="9148" class="me mf it lz b gy mk mh l mi mj">│   └─── javascript</span><span id="ce41" class="me mf it lz b gy mk mh l mi mj">│       ├── packs</span><span id="65b6" class="me mf it lz b gy mk mh l mi mj">│           └─── application.js</span><span id="8221" class="me mf it lz b gy mk mh l mi mj">│       └── react</span><span id="5e01" class="me mf it lz b gy mk mh l mi mj">│           └─── SeriesDetails</span><span id="ef99" class="me mf it lz b gy mk mh l mi mj">│               └─── index.js</span></pre><p id="3bda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Rails方面，react_rails附带了一个用于呈现组件的视图助手。下面的屏幕截图是使用以下命令生成的:</p><pre class="kj kk kl km gt ma lz mb mc aw md bi"><span id="5948" class="me mf it lz b gy mg mh l mi mj">= react_component 'SeriesDetails/index', { series: SeriesSerializer.new(@series).as_json }</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ml"><img src="../Images/aa04408465b8596c1bd04918c0010b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VKGNr2M3kbiu4-k17LIxQ.png"/></div></div></figure><p id="9bbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来分解一下:</p><ul class=""><li id="1a95" class="mm mn it lb b lc ld lf lg li mo lm mp lq mq lu mr ms mt mu bi translated"><code class="fe lw lx ly lz b">react_component</code>视图助手有三个参数:组件名(记住，在<code class="fe lw lx ly lz b">application.js</code>中，我们在<code class="fe lw lx ly lz b">/react</code>中定义了组件的上下文)，要传递给组件的属性(这就是为什么散列值必须是字符串)，第三个参数是包装器的HTML选项。</li><li id="37c0" class="mm mn it lb b lc mv lf mw li mx lm my lq mz lu mr ms mt mu bi translated">我们使用<a class="ae ky" href="https://github.com/rails-api/active_model_serializers" rel="noopener ugc nofollow" target="_blank">activemodelserializer</a>来定义如何将series对象序列化为JSON对象。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/b771d35220ad40535100b3ba320da7b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g02CEcUApbqwILkc40Kz7w.png"/></div></div></figure><p id="063b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nb">有兴趣知道这个文件顶部的评论是什么吗？这是Rails中的注释宝石。</em> <a class="ae ky" href="https://medium.com/the-side-hustler/how-to-use-the-annotate-gem-c44bfec97d03" rel="noopener"> <em class="nb">查看</em> </a> <em class="nb">。</em></p><p id="2dcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们直接进入组件。序列化的序列将作为参数传递给这个组件，所以我们不需要反序列化JSON对象。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/a71047274ae5a6861bedecaf6b7a99e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QKiCVg7Poe8dElYht-9NvQ.png"/></div></div></figure><p id="dea6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为简洁起见，省略了样式。让我们来分解一下:</p><ul class=""><li id="01a9" class="mm mn it lb b lc ld lf lg li mo lm mp lq mq lu mr ms mt mu bi translated">我们使用Material-UI中的基本卡片组件。</li><li id="7a9a" class="mm mn it lb b lc mv lf mw li mx lm my lq mz lu mr ms mt mu bi translated"><code class="fe lw lx ly lz b">SeriesStatus</code>组件使用Material-UI 中的<a class="ae ky" href="https://material-ui.com/components/chips/" rel="noopener ugc nofollow" target="_blank">芯片组件。</a></li><li id="cdea" class="mm mn it lb b lc mv lf mw li mx lm my lq mz lu mr ms mt mu bi translated"><code class="fe lw lx ly lz b">EpisodeCard</code>组件使用简单卡组件。</li></ul></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="da8c" class="nk mf it bd nl nm nn no np nq nr ns nt jz nu ka nv kc nw kd nx kf ny kg nz oa bi translated">结论</h1><p id="3b23" class="pw-post-body-paragraph kz la it lb b lc ob ju le lf oc jx lh li od lk ll lm oe lo lp lq of ls lt lu im bi translated">我们已经介绍了在Rails中设置React组件的基础知识。如果你想要更高级的用例，看看这篇文章<a class="ae ky" href="https://medium.com/the-side-hustler/how-to-use-react-components-in-active-admin-184ff63b378d" rel="noopener">。</a></p><p id="df18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天到此为止。感谢阅读。如果您有任何建议，请随时联系我们。</p></div></div>    
</body>
</html>