<html>
<head>
<title>Kotlin Multiplatform: A Game Changer on the Horizon?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kotlin多平台:游戏规则的改变者？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/kotlin-multiplatform-a-game-changer-on-the-horizon-4cae10bb62a2?source=collection_archive---------4-----------------------#2022-03-14">https://betterprogramming.pub/kotlin-multiplatform-a-game-changer-on-the-horizon-4cae10bb62a2?source=collection_archive---------4-----------------------#2022-03-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="3b46" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">一种编程语言来管理它们</h2><div class=""/><div class=""><h2 id="757f" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">对抗颤振的比赛已经开始</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/cb9aa5219c89ec74374094eb5d3df978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YBaTjhpYLemL-Eis"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">斯特凡诺·法拉帝在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="e472" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Kotlin Multiplatform是JetBrains开发的相对较新的SDK，旨在革新编程世界。</p><p id="137e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">有了Kotlin多平台，今天有可能为后端、web、iOS和Android共享一个代码库。甚至支持watchOS和桌面应用。基本思想是重用代码和开发资源，为不同平台编写代码。</p><p id="fd12" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">想象一下，只雇佣Kotlin开发人员来满足项目中的任何编程需求。或者想象一下，一个开发人员只需要学习一种编程语言就可以成为一名全栈开发人员。</p><p id="a7e4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">听起来好得难以置信？如果这已经是今天的现实了呢？</p><h1 id="4eb9" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">灵活性是关键</h1><p id="cbdb" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">让我们先来看看Kotlin多平台SDK的兼容目标平台的令人印象深刻的列表。</p><p id="6a1d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">想象一下，只需更改一行代码，就能为所有这些平台提供更新。这种方式可以节省的时间和金钱值得我们深入了解当前支持的平台:</p><ul class=""><li id="7bca" class="my mz iq lh b li lj ll lm lo na ls nb lw nc ma nd ne nf ng bi translated">JVM (Java虚拟机):将Kotlin编译成Java字节码。这是默认目标，例如，用于后端编程。像Spring Boot和Ktor这样流行的服务器框架可以无缝地在Kotlin中使用。</li><li id="78c1" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">JavaScript:允许将Kotlin代码编译成面向NodeJS或在浏览器中运行的JavaScript代码。Kotlin使用的浏览器默认框架是React。</li><li id="fcd7" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">android:代码将被编译成Android平台的Java字节码。写app和库都支持。</li><li id="e566" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">Android NDK:允许的架构是ARM32/64和X86/64。</li><li id="49a6" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">iOS:编译成支持ARM32 (iPhone 5及更早版本)、ARM64 (iPhone 5S及更新版本)以及iOS模拟器(X64和ARM64)的原生iOS代码。</li><li id="3a13" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">watchOS:这里和iOS一样。代码被编译成ARM32 (Apple Watch Series 3和更早版本)、ARM64 (Apple Watch Series 4和更新版本)的本机代码，当然还有32位和64位版本的watchOS，包括watchOS模拟器。</li><li id="1445" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">tvOS:kot Lin代码被编译成针对ARM64 (Apple TV第4代及更新版本)的原生tvOS应用程序代码。</li><li id="1f3f" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">OSX:支持ARM64和X64架构。</li><li id="bc3d" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">Linux:基于Linux的系统的目标架构包括ARM64(例如Raspberry Pi)、ARM32、MIPS、little-endian MIPS (mipsel)和X64。</li><li id="62e6" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">Windows: Kotlin多平台支持64位和32位Windows桌面应用程序。</li><li id="dff5" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">WebAssembly:对WebAssembly的早期支持使Kotlin走在了许多其他交叉编译SDK和框架的前面。Kotlin多平台目前支持32位内存模型的WebAssembly。</li></ul><p id="4742" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这个庞大的平台目录使Kotlin Multiplatform成为潜在的游戏改变者，不仅对于未来的开发项目，而且对于需要转移到更现代的编码设置中的遗留项目。</p><h1 id="afdf" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">神奇之处在于可重用性</h1><p id="0277" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">尽管Kotlin多平台的目标目录令人印象深刻，但真正的挑战在于使这个目录易于开发人员访问。</p><p id="2a2f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当您的目标是一个以上的平台时，以实现最大的可重用性的方式组织项目代码并为开发人员维护一个概览可能会变得具有挑战性。科特林团队用一种简单的方法来解决这个问题。</p><p id="6d46" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Kotlin多平台项目遵循整体原则，将所有内容放在一个地方。最终的单存储库项目包含每个目标平台的子模块和一个共享的“超级模块”,该模块包含所有可以在所有其他模块中重用的Kotlin代码。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nm"><img src="../Images/6e10b5c4087fe427de946087703e3b36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L2Ox9gN40VVpS4i_IFvjLQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">科特林多平台示例架构——作者<a class="ae le" href="https://kotlinlang.org/docs/multiplatform-share-on-platforms.html#share-code-on-similar-platforms" rel="noopener ugc nofollow" target="_blank">Kotlinlang.org</a></p></figure><p id="ce91" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，dto、公共接口或服务等公共代码可以放入<code class="fe nn no np nq b">commonMain</code>模块，然后由后端和iOS应用程序代码重用。</p><p id="d27e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">子模块可以再次充当父模块。如果您计划共享类，例如，只共享桌面应用程序的类，而不共享Java或web模块的类，这将非常有用。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/1f94dd523e5d691865af595d17bf4a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ZXSfGbkGIOaiYWaoGqV5w.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">子模块充当父模块的科特林多平台示例架构——作者<a class="ae le" href="https://kotlinlang.org/docs/multiplatform-share-on-platforms.html#share-code-on-similar-platforms" rel="noopener ugc nofollow" target="_blank">Kotlinlang.org</a></p></figure><p id="a538" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Kotlin多平台SDK中一个特别强大的特性是<code class="fe nn no np nq b">expect</code>和<code class="fe nn no np nq b">actual</code>关键字。这两个关键字允许程序员在一个模块中定义一个预期的函数或类，然后在另一个模块中编写该函数或类的实际实现。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ca"><img src="../Images/d97669914e4f6a4977ba1cb05c586fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ldFS7VTwdlgdUXpcYjyzZQ.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">预期的和实际的函数和类如何在模块边界上协同工作——作者<a class="ae le" href="https://kotlinlang.org/docs/multiplatform-connect-to-apis.html" rel="noopener ugc nofollow" target="_blank">Kotlinlang.org</a></p></figure><p id="bddb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这对于在Android和iOS中编写您希望从通用应用程序代码中调用的原生函数非常有用。预期功能的实际实现将能够访问本地库和本地OS功能。</p><p id="3ee8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">可能性几乎是无穷无尽的。</p><h1 id="0fea" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">科特林能打败颤振吗？</h1><p id="ef6a" class="pw-post-body-paragraph lf lg iq lh b li mt ka lk ll mu kd ln lo mv lq lr ls mw lu lv lw mx ly lz ma ij bi translated">一个已经在互联网上被问了很多的问题是，Kotlin是否能够在标准多平台框架/SDK的竞赛中战胜其当前最大的对手Flutter。</p><p id="dd6a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果您打算从头开始创建一个新项目，那么尝试Kotlin多平台可能是最好的方法，也可以看看什么最适合您的需求。创建一个原型，看看什么更适合你的项目。</p><p id="154c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当然，这也是你拥有的发展资源和在就业市场上有什么技能的问题。</p><p id="66e0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">由于这两种技术本质上是不同的，Flutter是一个框架，Kotlin是一个SDK，只有时间才能告诉我们哪种技术将赢得这场比赛。关于这两种技术的一个有趣的事实是，在撰写本文时，它们都得到Google的支持。</p><blockquote class="ns"><p id="65b2" class="nt nu iq bd nv nw nx ny nz oa ob ma dk translated">为什么今天不试试Kotlin多平台呢？</p></blockquote><h1 id="10e6" class="mb mc iq bd md me mf mg mh mi mj mk ml kf oc kg mn ki od kj mp kl oe km mr ms bi translated">来源和延伸阅读</h1><ul class=""><li id="24ef" class="my mz iq lh b li mt ll mu lo of ls og lw oh ma nd ne nf ng bi translated">科特林:<a class="ae le" href="https://kotlinlang.org/" rel="noopener ugc nofollow" target="_blank">https://kotlinlang.org</a></li><li id="7fdf" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">科特林多平台:【https://kotlinlang.org/docs/multiplatform.html】T2</li><li id="2eb2" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">Kotlin目标平台:<a class="ae le" href="https://kotlinlang.org/docs/multiplatform-dsl-reference.html#targets" rel="noopener ugc nofollow" target="_blank">https://kot linlang . org/docs/multi platform-DSL-reference . html # targets</a></li><li id="a525" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">flutter:<a class="ae le" href="https://flutter.dev/" rel="noopener ugc nofollow" target="_blank">https://flutter . dev</a></li><li id="82a5" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">https://spring.io/projects/spring-boot Spring Boot<a class="ae le" href="https://spring.io/projects/spring-boot" rel="noopener ugc nofollow" target="_blank"/></li><li id="e411" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">ktor:<a class="ae le" href="https://ktor.io/" rel="noopener ugc nofollow" target="_blank">https://ktor.io/</a></li><li id="e352" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">Kotlin多平台项目的一个很好的例子，后端使用Spring Boot，前端使用React:<a class="ae le" href="https://github.com/OlegDokuka/collaborative-todo-list" rel="noopener ugc nofollow" target="_blank">https://github.com/OlegDokuka/collaborative-todo-list</a></li><li id="4a0c" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated">Kotlin多平台网站还提供了如何与现有团队一起解决这项新技术的指南:<a class="ae le" href="https://kotlinlang.org/docs/multiplatform-mobile-introduce-your-team.html#prepare-for-questions" rel="noopener ugc nofollow" target="_blank">https://kot linlang . org/docs/multi platform-mobile-introduce-your-team . html # prepare-for-questions</a></li><li id="70d1" class="my mz iq lh b li nh ll ni lo nj ls nk lw nl ma nd ne nf ng bi translated"><a class="ae le" href="https://instabug.com/blog/flutter-vs-kotlin-mutliplatform-guide/" rel="noopener ugc nofollow" target="_blank">https://insta bug . com/blog/flutter-vs-kot Lin-mutliplatform-guide/</a></li></ul></div></div>    
</body>
</html>