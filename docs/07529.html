<html>
<head>
<title>7 Swift Extensions Every iOS Developer Should Use</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个iOS开发者都应该使用的7个Swift扩展</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/7-swift-extensions-every-ios-developer-should-use-834a1254074c?source=collection_archive---------7-----------------------#2021-01-25">https://betterprogramming.pub/7-swift-extensions-every-ios-developer-should-use-834a1254074c?source=collection_archive---------7-----------------------#2021-01-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bcb7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如果你喜欢扩展，这是给你的。如果没有，我会改变你的想法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fa365e03bd2fb02d3aede2cc108e9c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xdbH3XPwvZ0RZJKT"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@polaromagnet?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> PolaroMagnet </a>拍摄</p></figure><h1 id="5593" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">为什么我们需要扩展？</h1><p id="c91a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您需要扩展，因为它们可以节省您一次又一次重复创建相同内容的时间。你不觉得有时候一遍又一遍地打字很累吗？</p><p id="ce6d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在我看来，使用扩展几乎相当于同时努力工作和聪明工作。稍微理解一下，你就会喜欢使用扩展。</p><p id="e740" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">扩展就像项目中的一个模块组件，可以从一个项目移动到另一个项目。所以，如果这能让你的生活更轻松，为什么不使用它们呢？</p><p id="56be" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我已经开发了多个应用程序，我将与你分享一些在我的大部分项目中使用的扩展。我希望它对你的帮助和对我的帮助一样多。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="b3ef" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">设置XIB视图</h1><p id="143c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果您总是在创建XIB，这将特别有用。将以下代码插入到您的扩展中，只需编写一行代码，您就完成了XIB的实例化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="a263" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">例子</h1><p id="8007" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您将创建一个新的XIB视图和一个Swift类。姑且称之为<code class="fe ng nh ni nj b">HeaderView</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="2271" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">给你。您刚刚避免了键入大约50行代码。我肯定是夸大其词了。但实际上，每次你需要实例化你的视图时。你现在可以使用<code class="fe ng nh ni nj b">xibSetup()</code></p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="d1ea" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">刀尖圆弧半径</h1><p id="400e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你现在看到的大部分设计，要么是圆角，要么是阴影，要么是边框线，甚至是圆角。</p><p id="464d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这些设计无处不在，但你必须承认它美化了你的应用程序，用户喜欢这些设计。代码如下:</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="dcd3" class="no la it nj b gy np nq l nr ns">extension UIView {<br/>    func addCornerRadius(_ radius: CGFloat = 4) {<br/>        layer.cornerRadius = radius<br/>        layer.masksToBounds = true<br/>    }<br/>}</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="a934" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">例子</h1><p id="62e5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">拐角半径的默认值始终是4，但是如果您需要4以外的值，您可以插入任何数字。在下面的例子中，您将使用16。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/55eb753ff79c6dbfe3c3cbc9ecfcfe76.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*0hgN-ng_Ha-Xy42-XBZL8g.png"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="d70c" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">边界线</h1><p id="4c1f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这段代码将添加一条宽度可调的边框线。您可以选择想要的边框颜色类型。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="f603" class="no la it nj b gy np nq l nr ns">extension UIView {<br/>	func addBorderLine(width: CGFloat = 1, color: UIColor) {<br/>        layer.borderWidth = width<br/>        layer.borderColor = color.cgColor<br/>    }<br/>}</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="3d95" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">例子</h1><p id="d178" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">和往常一样，宽度的默认值是1.0，但是你可以随意使用这个数字。这里我将宽度设置为2.0。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="374a" class="no la it nj b gy np nq l nr ns">parentView.addBorderLine(width: 2.0, color: .green)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/a297348d47c6b3dc7e5bc0889c68b5ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*f3mblU8cysrvQM3k0A4wZQ.png"/></div></figure><p id="50a5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你甚至可以先用<code class="fe ng nh ni nj b">addCornerRadius</code>，然后再用<code class="fe ng nh ni nj b">addBorderLine</code>。这是<code class="fe ng nh ni nj b">combination</code>效应的结果。如此美丽。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="f926" class="no la it nj b gy np nq l nr ns">parentView.addCornerRadius(16)<br/>parentView.addBorderLine(width: 2.0, color: .green)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/659794cc49972397f70395e265ae252a.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*-SNvc1OHWwOkYxgEdZG7gA.png"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="117e" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">轮次</h1><p id="ee68" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了使视图完全呈圆形，宽度和高度需要相互匹配。</p><p id="2f7d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果没有，你可能会看到一些胶囊形状或怪异的形状。代码如下:</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="0a3d" class="no la it nj b gy np nq l nr ns">extension UIView {<br/>    func makeRounded() {<br/>        layer.masksToBounds = false<br/>        layer.cornerRadius = self.frame.height / 2<br/>        clipsToBounds = true<br/>    }<br/>}</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="1990" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">例子</h1><p id="b102" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这一行代码将使一个圆形。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="38f4" class="no la it nj b gy np nq l nr ns">parentView.makeRounded()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/c902c28583c9227ae5f2c7bee3518f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*IoJBwSQmUWKhfbcY0L0Djg.png"/></div></div></figure><p id="dcfd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这就是我的意思，当你看到一个胶囊形状。在这里，宽度和高度是不等价的。</p><p id="cd40" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">另一个例子，你可以看到一个完美的圆形，因为宽度和高度都分别是100。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/adb16f37507f12b9efae0657f8a83ebf.png" data-original-src="https://miro.medium.com/v2/resize:fit:358/format:webp/1*IainQYCHaO2hJ7VDX6X-AQ.png"/></div></figure><h1 id="0147" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">阴影</h1><p id="5c9a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这可能是应用程序中最常用的设计，但一定要谨慎使用，因为这会影响应用程序的性能。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="6b3e" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">例子</h1><p id="476a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你可能明白为什么它最常被使用，因为它肯定会改变应用的外观。这让这个应用程序更有吸引力。设计师喜欢这样，但他们不知道我们要经历什么才能让这个作品成功。</p><p id="9d98" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请记住:您必须调整<code class="fe ng nh ni nj b">shadowOffset</code>、<code class="fe ng nh ni nj b">shadowOpacity</code>、<code class="fe ng nh ni nj b">shadowRadius</code>和<code class="fe ng nh ni nj b">shadowColor</code>以符合设计师的标准。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="5127" class="no la it nj b gy np nq l nr ns">parentView.addShadow()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/e7bd7aa5583fd595be82c2e124e577c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*MfEgwkJ2W27lifYbiADn9Q.png"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="6df9" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">颜色</h1><p id="d62c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">有时，你在Xcode上找不到你需要的颜色类型，因为你的设计师有一个他们随机选择的十六进制代码列表。下面的代码将对此有所帮助。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="785e" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">例子</h1><p id="46b9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以添加十六进制代码来获得您需要的颜色。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="9441" class="no la it nj b gy np nq l nr ns">parentView.backgroundColor = UIColor.init(hexFromString: "#7dbf0d")</span></pre><p id="e665" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果颜色列表继续增长，将很难保持。您可以看到，我静态地创建了一个变量，我只需要用下面的代码来访问颜色。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="f756" class="no la it nj b gy np nq l nr ns">parentView.backgroundColor = UIColor.peaGreen</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/1db609add1715bdbdc7caf7b5b8d1b32.png" data-original-src="https://miro.medium.com/v2/resize:fit:366/format:webp/1*E5B8ID8VR681XE7Sfnduew.png"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="150d" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">日期</h1><p id="2dfc" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果你的应用程序处理日期，你可能需要处理许多不同格式的日期。但是，您怎么知道哪种日期格式符合您的标准呢？</p><p id="f117" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我使用这个网站<a class="ae ky" href="https://nsdateformatter.com/" rel="noopener ugc nofollow" target="_blank">https://nsdateformatter.com</a>来帮助我理解我需要的格式。</p><p id="4336" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">通过下面的代码，您将得到一个<code class="fe ng nh ni nj b">String</code>类型，而不是<code class="fe ng nh ni nj b">Date</code>类型，您可以像在标签上一样广泛使用它。</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="1b1a" class="no la it nj b gy np nq l nr ns">extension Date {<br/>    func getCurrentDate(_ format: String = "dd/MM/yyyy HH:mm:ss") -&gt; String {<br/>        let dateFormatter = DateFormatter()<br/>        dateFormatter.dateFormat = format<br/>        dateFormatter.timeZone = .current<br/>        return dateFormatter.string(from: Date())<br/>    }<br/>}</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="bee0" class="kz la it bd lb lc mz le lf lg na li lj jz nb ka ll kc nc kd ln kf nd kg lp lq bi translated">例子</h1><p id="b8b4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您可以使用下面的代码创建<code class="fe ng nh ni nj b">Label</code>并实例化<code class="fe ng nh ni nj b">Date</code>来利用扩展:</p><pre class="kj kk kl km gt nk nj nl nm aw nn bi"><span id="727c" class="no la it nj b gy np nq l nr ns">dateLabel.text = Date().getCurrentDate()</span></pre><p id="1d15" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">该结果采用以下格式:<code class="fe ng nh ni nj b">dd/MM/yyyy HH:mm:ss</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/c734c9fdcd202f43ea13ca628d341bfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:352/format:webp/1*27ATyvTxNmJ9oGyb-VQRyw.png"/></div></figure><p id="0f95" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果您需要其他东西，您可以更改格式。接下来，您将看到<code class="fe ng nh ni nj b">dd-MM-yyyy</code>的一个例子。一定要记住，这封信是按照它的标准写的，否则你会得到别的东西。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/2db280d55d82fbc3886e3e4b25a5c31d.png" data-original-src="https://miro.medium.com/v2/resize:fit:232/format:webp/1*n-T32_juhkolWlxUX-Wp2w.png"/></div></figure><p id="770a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在此之前，我希望这将提高您构建应用程序的效率。至少对我来说是这样。</p><p id="165e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">谢谢你的阅读。</p></div></div>    
</body>
</html>