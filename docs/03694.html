<html>
<head>
<title>Hide Data in Images — Encrypted Steganography With Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">隐藏图像中的数据—使用Flutter加密隐写术</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/hide-data-in-images-encrypted-steganography-with-flutter-43b76ed5241f?source=collection_archive---------6-----------------------#2020-02-27">https://betterprogramming.pub/hide-data-in-images-encrypted-steganography-with-flutter-43b76ed5241f?source=collection_archive---------6-----------------------#2020-02-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f5f6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">下一步:我加密我的信息，并假装它们是公开的</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2d6ee4284a003e7f047f14f701e8f67c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e47iHRTsk4CVoqlsF3tLAQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@tinaflour?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Kristina Flour </a>在<a class="ae ky" href="https://unsplash.com/s/photos/secret?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="f870" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">隐写术是在其他类型的媒体(如图像、视频或文件)中隐藏消息(如文本、原始字节或图像)的做法。例如，在图像中隐藏一段文本。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8515" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">隐写术有助于减少解密尝试和审查</h1><p id="595d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">随着社交媒体越来越深入我们的日常交流，隐私问题引起了人们的关注。常见的做法是加密消息，但加密的消息很容易被识别。尽管SHA-256加密几乎不可能被破解，但通过社会工程学，密码仍然可能被破解。此外，信息服务容易受到审查。</p><p id="7a1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更好的方法是用隐写术隐藏加密的信息。如果没有消息，或者至少看起来没有消息，就不会有任何攻击/阻止的尝试。</p><p id="909b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用Flutter一步步实现加密隐写。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="de0e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">这个想法是秘密地将字节编码到图像中</h1><p id="460b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们知道，图像是由像素组成的，每个像素通常由三个八位整数组成。</p><p id="a274" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了将信息隐藏到像素中，我们必须至少改变一位。</p><p id="ddc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使其不明显，我们选择修改最低有效位，保留像素值的主要部分。</p><p id="30ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果一个像素的值是173(二进制形式是<code class="fe mz na nb nc b">0b10101101</code>)，而我们想要隐藏在这个像素中的位是<code class="fe mz na nb nc b">0b0</code>，我们只需用<code class="fe mz na nb nc b">0b0</code>替换最低有效位。这就产生了一个新的像素值<code class="fe mz na nb nc b">0b10101100</code>，它的十进制值是172(与原始值173相差不远)。</p><p id="f9df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用这种方法，带有信息的图像对于人眼来说是不可区分的(或者如果原始图像很复杂，对于机器来说是不可区分的)。</p><p id="a2b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开始之前，让我们先来先睹为快完成的应用程序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1ee4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">步骤1:初始化应用程序</h1><p id="9d02" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">用命令<code class="fe mz na nb nc b">flutter create awesome_encrypted_steganography_app</code>初始化一个Flutter应用程序很简单。应用程序初始化后，我们可以将以下内容作为依赖项添加到<code class="fe mz na nb nc b">pubspec.yml</code>中:</p><pre class="kj kk kl km gt nf nc ng nh aw ni bi"><span id="aafa" class="nj md it nc b gy nk nl l nm nn">image_picker: ^0.6.3+1              # Used to upload images<br/>image_gallery_saver: ^1.2.2         # Used to output images<br/>esys_flutter_share: ^1.0.2          # Used to share images<br/>image:                              # Used for image manipulation<br/>permission_handler: ^4.2.0+hotfix.3 # Used to handle permissions<br/>encrypt: ^4.0.0                     # Used to do AES encryption<br/>provider: ^4.0.4                    # Used to provide services</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4d63" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">步骤2:画出屏幕草图</h1><p id="40b8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">总而言之，我们需要五个屏幕来构建一个端到端的加密隐写应用程序:</p><ul class=""><li id="fa2b" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated">一个主屏幕，用户可以选择将消息编码到图像中，或者从图像中解码消息。</li><li id="4a86" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">一个支持编码流的屏幕，用户可以在其中上传图像并输入消息和加密令牌。</li><li id="ee18" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">输出编码图像并让用户下载/共享结果的屏幕。</li><li id="6bfa" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">一个支持解码流程的屏幕，用户可以上传图像并输入解密令牌。</li><li id="3fb4" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">显示解码和解密消息的屏幕。</li></ul><p id="eda0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:由于UI不是本文的重点，如果感兴趣，请查看<a class="ae ky" href="https://github.com/tianhaoz95/photochat" rel="noopener ugc nofollow" target="_blank">库</a>了解实现细节。</p><p id="8555" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们跳到完整的用户界面，了解一下这个应用程序是如何工作的。</p><h2 id="a758" class="nj md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">从消息到图像的流程</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/48dffa62981e02a85d157aef9236f3f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zexjO2aoTQyOSBpXysYAQg.png"/></div></div></figure><h2 id="f53b" class="nj md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">图像到消息的流程</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/8ac8e119f7b816f9880dde6bf5cbbc95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VS6fI5mX4Xhfx9tuzuBZkg.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="00ea" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">步骤3:将消息加密并编码成图像</h1><p id="9e03" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">下图显示了简化的实现:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/398fd10ea2a0b39aecfef75762d4ec50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b4WW0hLh0JBM6Jxk4OWxYA.png"/></div></div></figure><h2 id="4e96" class="nj md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">加密邮件</h2><p id="c459" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这里，我们将使用AES进行对称加密，因为接收方需要解密原始消息(SHA256哈希不可恢复):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op ne l"/></div></figure><h2 id="5106" class="nj md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">将加密的消息转换为比特</h2><p id="eabf" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">然后，我们需要通过右移和屏蔽最后一位八次，将<code class="fe mz na nb nc b">String</code>消息转换为位:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op ne l"/></div></figure><h2 id="1a5e" class="nj md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">将每一位编码成一个像素</h2><p id="677b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如上所述，我们将通过替换每个像素值的最低有效位来将位编码到图像中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="36d6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">步骤4:从图像中恢复消息</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/8a0de6a698858ae881ab8d5e26600cb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L57sCFRGeHKR09-QK3jjgA.png"/></div></div></figure><h2 id="e62f" class="nj md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">从图像像素中恢复比特</h2><p id="1e6a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为了从像素中提取位，我们需要屏蔽每个像素的最低有效位:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op ne l"/></div></figure><h2 id="86fa" class="nj md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">从bits中恢复加密消息</h2><p id="7975" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要从位组装字节，我们可以简单地将八位连接在一起:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op ne l"/></div></figure><h2 id="f8af" class="nj md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">解密消息</h2><p id="67af" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">加密/解密对称加密的代码也是标准和对称的，因此解密代码看起来与加密代码非常相似:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e5c3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">第五步:喝杯咖啡</h1><p id="205a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">万岁！现在，您已经从头开始学习了如何实现加密隐写术应用程序。祝黑客快乐，让我们保护我们的隐私！</p></div></div>    
</body>
</html>