<html>
<head>
<title>How to Create and Load Custom Modules Dynamically in Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Node.js中动态创建和加载定制模块</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-and-load-custom-modules-dynamically-in-node-js-9f1174a39341?source=collection_archive---------2-----------------------#2020-06-04">https://betterprogramming.pub/how-to-create-and-load-custom-modules-dynamically-in-node-js-9f1174a39341?source=collection_archive---------2-----------------------#2020-06-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0c56" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用glob搜索并加载所有的模块</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/93a85712faa4caa5164f5dd1320272b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q4C3LGm0jGTaDtoSco5d1w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@pankajpatel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Pankaj Patel </a>在<a class="ae ky" href="https://unsplash.com/@pankajpatel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d769" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过阅读这篇文章，你将学会创建你自己的定制模块并在<code class="fe lv lw lx ly b">Node.js</code>中一次性加载它们。在本教程中，我将使用<a class="ae ky" href="https://github.com/isaacs/node-glob" rel="noopener ugc nofollow" target="_blank"> node-glob </a>，它是<code class="fe lv lw lx ly b">JavaScript</code>中的一个glob实现。它使用<code class="fe lv lw lx ly b">minimatch</code>库进行匹配。本文分为五个部分:</p><ol class=""><li id="ae9b" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">设置</li><li id="c090" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">自定义模块</li><li id="3f05" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">Node.js服务器</li><li id="ff95" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">用Glob动态加载</li><li id="b878" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">结论</li></ol><p id="29dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们继续下一部分，开始安装必要的模块。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="7345" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">1.设置</h1><p id="1247" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">确保您的系统中安装了<code class="fe lv lw lx ly b">npm</code>。你安装<code class="fe lv lw lx ly b">Node.js</code>的时候就应该有了。如果您对此不确定，请使用以下代码进行检查。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="c6bd" class="nv mv it ly b gy nw nx l ny nz">npm --version</span></pre><p id="279f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备就绪后，通过运行以下命令安装<code class="fe lv lw lx ly b">glob</code>。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="0cc3" class="nv mv it ly b gy nw nx l ny nz">npm install glob</span></pre><p id="6ba0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你在一个新的目录下安装，它会自动为你创建一个名为<code class="fe lv lw lx ly b">node_modules</code>的新文件夹。您可以在其中找到以下文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/2a7b214bc571ebb3a7095b206a9ea3a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*5slwMjSWLZPVyTFa1pVeKw.png"/></div></figure><p id="c5fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们继续下一节，开始编写Javascript代码。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="0104" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">2.自定义模块</h1><p id="5ece" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">自定义模块只是另一个Javascript文件，它导出并公开其功能以供另一个文件调用。在根目录下创建一个名为<code class="fe lv lw lx ly b">modules</code>的新文件夹。然后，以<code class="fe lv lw lx ly b">date.js</code>的名称创建一个新文件。</p><p id="a7be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">date.js</code>内添加以下代码。当你调用这个函数时，它将返回一个内置的<code class="fe lv lw lx ly b">Date</code>对象。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="a1aa" class="nv mv it ly b gy nw nx l ny nz">exports.myDateTime = function () {<br/>  return Date();<br/>};</span></pre><p id="bff9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在同一个目录中，创建另一个名为<code class="fe lv lw lx ly b">math.js</code>的<code class="fe lv lw lx ly b">Javascript</code>文件。与第一个模块不同，我们将在其中实现一些功能。</p><p id="a202" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从返回两个输入变量之和的函数开始。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="8d46" class="nv mv it ly b gy nw nx l ny nz">exports.addition = function (a, b) {<br/>  return a + b;<br/>};</span></pre><p id="255b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，继续添加减法逻辑:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="bfc3" class="nv mv it ly b gy nw nx l ny nz">exports.subtraction = function (a, b) {<br/>  return a - b;<br/>};</span></pre><p id="afc1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下面的乘法代码结束:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="49d9" class="nv mv it ly b gy nw nx l ny nz">exports.multiplication = function (a, b) {<br/>  return a * b;<br/>};</span></pre><p id="ce8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b"> modules</code>文件夹中应该有以下文件。基于您自己的用例，可以随意添加更多的定制模块。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/fdeaaa681eceea84c379672c7f39dbeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/format:webp/1*XKwy6PbycbnNFVgc3NfqKQ.png"/></div></figure><p id="9470" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到根目录，我们将实现<code class="fe lv lw lx ly b">Node.js</code>服务器。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="94a9" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">3.Node.js服务器</h1><p id="44ad" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">确保您位于根目录中，并且有以下文件夹:</p><ul class=""><li id="f080" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu oc mf mg mh bi translated">模块</li><li id="e023" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu oc mf mg mh bi translated">节点_模块</li><li id="f53f" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu oc mf mg mh bi translated">package_lock.json(与node_modules一起自动创建)</li></ul><p id="16ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为<code class="fe lv lw lx ly b">index.js</code>的新文件。我们将使用这个文件作为应用程序的基本Node.js服务器。添加以下代码来加载<code class="fe lv lw lx ly b">http</code>模块。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="9b2e" class="nv mv it ly b gy nw nx l ny nz">var http = require('http');</span></pre><p id="dca3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续在文件中追加以下代码:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="f15b" class="nv mv it ly b gy nw nx l ny nz">http.createServer(function (req, res) {<br/>  res.writeHead(200, {'Content-Type': 'text/html;'});<br/>  res.write("Hello world!");<br/>  res.end();<br/>}).listen(8080);</span></pre><p id="9d26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保存它并在终端中运行以下命令:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="85bb" class="nv mv it ly b gy nw nx l ny nz">npm index.js</span></pre><p id="bcd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开浏览器，转到以下URL:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="f2c1" class="nv mv it ly b gy nw nx l ny nz">localhost:8080/</span></pre><p id="e9ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该在浏览器上看到<code class="fe lv lw lx ly b">Hello world!</code>。</p><p id="f270" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们尝试手动加载定制模块。在<code class="fe lv lw lx ly b">http</code>导入的正下方添加以下代码。它将加载我们之前定义的两个模块。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="c09a" class="nv mv it ly b gy nw nx l ny nz">var date = require("./modules/date.js");<br/>var math = require("./modules/math.js");</span></pre><p id="6d78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过引用模块来调用函数，如下所示:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="7a84" class="nv mv it ly b gy nw nx l ny nz">date.myDateTime();</span></pre><p id="5df3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于带参数的函数，语法如下:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="1806" class="nv mv it ly b gy nw nx l ny nz">math.addition(4, 5);</span></pre><p id="208f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将<code class="fe lv lw lx ly b">createServer</code>函数修改为以下代码:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="8ab8" class="nv mv it ly b gy nw nx l ny nz">http.createServer(function (req, res) {<br/>  res.writeHead(200, {'Content-Type': 'text/html;'});<br/>  res.write("Hello world!");<br/>  res.write("&lt;br&gt;");<br/>  res.write(date.myDateTime());<br/>  res.write("&lt;br&gt;");<br/>  res.write(math.addition(2, 5).toString());<br/>  res.end();<br/>}).listen(8080);</span></pre><p id="638f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重新运行服务器并刷新浏览器中的URL。您应该会看到以下输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/7fee7197257fd41307367392f2d45d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HXQvt5jp_NiOMPo9H_fpTQ.png"/></div></div></figure><p id="341a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在下面的要点中找到手动加载定制模块的完整代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="70cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一节中，我们将使用<code class="fe lv lw lx ly b">glob</code>模块来动态加载它们。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="37f1" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">4.用Glob动态加载</h1><p id="ab9f" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">手动加载每个模块可能会很累，因为每次添加新模块时都需要添加一行额外的代码。一个好的替代方法是利用<code class="fe lv lw lx ly b">glob</code>模块搜索一个目录中的所有<code class="fe lv lw lx ly b">js</code>文件并自动加载它们。结果将存储在一个<code class="fe lv lw lx ly b">JavaScript</code>对象中，使用模块名可以很容易地引用该对象。</p><p id="712f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用以下代码替换<code class="fe lv lw lx ly b">date</code>和<code class="fe lv lw lx ly b">math</code>导入语句:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="63ad" class="nv mv it ly b gy nw nx l ny nz">var glob = require( 'glob' );</span></pre><p id="233e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个名为<code class="fe lv lw lx ly b">module_dict</code>的新JavaScript对象:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="1c13" class="nv mv it ly b gy nw nx l ny nz">var module_dict = {};</span></pre><p id="a26b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将搜索<code class="fe lv lw lx ly b">module</code>文件夹并获取所有文件的路径，以扩展名<code class="fe lv lw lx ly b">js</code>结尾。您可以通过添加一个<code class="fe lv lw lx ly b">console.log</code>语句来测试它，打印出所有<code class="fe lv lw lx ly b">js</code>文件的路径。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="28ad" class="nv mv it ly b gy nw nx l ny nz">glob.sync( './modules/*.js' ).forEach( function( file ) {<br/>  console.log(file);<br/>});</span></pre><p id="f2a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该在终端看到以下输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/2ee45f95d07af202c7b3d85e68b0655a.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/1*Pjd-2FypzZJqZSLrfm4yTw.png"/></div></figure><p id="b8fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一步是提取文件名，而不提取文件夹名和扩展名。我将保持它的简单，并使用<code class="fe lv lw lx ly b">split</code>函数提取它。请注意，如果您更改了项目的结构，此代码将不起作用。根据您的用例对其进行相应的修改。</p><p id="6cdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用以下代码替换<code class="fe lv lw lx ly b">console.log</code>语句:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="bede" class="nv mv it ly b gy nw nx l ny nz">let dash = file.split("/");<br/>  if(dash.length == 3) {<br/>   let dot = dash[2].split(".");<br/>    if(dot.length == 2) {<br/>      let key = dot[0];<br/>      //reserve for assignment<br/>    }<br/>  }</span></pre><p id="daa0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用下面的代码替换保留注释，该代码加载模块并将其作为属性添加到对象中。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="b6e1" class="nv mv it ly b gy nw nx l ny nz">module_dict[key] = require(file);</span></pre><p id="ee52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，您可以使用以下语法轻松调用该模块:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="3272" class="nv mv it ly b gy nw nx l ny nz">module_dict["math"].addition(8, 10);</span></pre><p id="d0b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">密钥与您放在modules文件夹中的文件的名称相关联。当您添加一个新模块时，您可以简单地引用它，而不需要导入它。</p><p id="b0c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，一个主要的缺点是您可能输入了错误的键名称，并且将显示以下错误:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="7728" class="nv mv it ly b gy nw nx l ny nz">Cannot read property 'key' of undefined</span></pre><p id="2a83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在通过<code class="fe lv lw lx ly b">hasOwnProperty</code>函数调用函数之前进行属性检查:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="e066" class="nv mv it ly b gy nw nx l ny nz">if(module_dict.hasOwnProperty("date")) {<br/>  //implementation here<br/>}</span></pre><p id="900c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">动态加载的完整代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="1c3d" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">5.结论</h1><p id="7584" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">让我们回顾一下今天所学的内容。</p><p id="96a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始通过<code class="fe lv lw lx ly b">npm</code>安装<code class="fe lv lw lx ly b">glob</code>模块。</p><p id="b9b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，我们继续创建我们自己的定制模块，<code class="fe lv lw lx ly b">date</code>和<code class="fe lv lw lx ly b">math</code>。<code class="fe lv lw lx ly b">date</code>模块有一个返回表示当前日期/时间的Date对象的函数，而<code class="fe lv lw lx ly b">math</code>模块包含一些代数函数。</p><p id="2889" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建了一个简单的<code class="fe lv lw lx ly b">Node.js</code>服务器，并成功地手动加载了我们的定制模块。</p><p id="8cd9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们尝试使用<code class="fe lv lw lx ly b">glob</code>模块动态加载模块。然后，该模块被存储在一个JavaScript对象中，可以使用文件名来引用该对象。</p><p id="d722" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读，希望下一篇能再见到你！</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="086c" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">参考</h1><ol class=""><li id="2c7f" class="lz ma it lb b lc nm lf nn li oh lm oi lq oj lu me mf mg mh bi translated"><a class="ae ky" href="https://github.com/isaacs/node-glob" rel="noopener ugc nofollow" target="_blank">Javascript Github中的Glob实现</a></li></ol></div></div>    
</body>
</html>