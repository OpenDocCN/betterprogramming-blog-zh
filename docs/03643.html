<html>
<head>
<title>The JavaScript Ternary Operator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript三元运算符</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-javascript-ternary-operator-1589238d929b?source=collection_archive---------17-----------------------#2020-02-24">https://betterprogramming.pub/the-javascript-ternary-operator-1589238d929b?source=collection_archive---------17-----------------------#2020-02-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e99b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">它的作用以及为什么您应该停止使用它</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7006aba919f0771c046780fbe01be07d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P42tiKgpbKkhW07gjeWS6Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔恩·泰森在<a class="ae ky" href="https://unsplash.com/s/photos/question-mark?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="df6a" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">JavaScript运算符</h1><p id="5205" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">JavaScript有几种不同类型的操作符。这些包括比较、算术、逻辑等等。</p><p id="2f25" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这些运算符可以进一步定义为一元或二元。随着我们对三进制的理解，现在让我们来分析一下这两个术语之间的区别。</p><h2 id="aebb" class="mz lh it bd li na nb dn lm nc nd dp lq mh ne nf ls ml ng nh lu mp ni nj lw nk bi translated">一元的</h2><p id="57dd" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">一元运算符只接受一个操作数，位于运算符之前或之后:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="f64f" class="mz lh it nm b gy nq nr l ns nt"><em class="nu">operator</em> <em class="nu">operand || operand</em> <em class="nu">operator</em></span><span id="d7c4" class="mz lh it nm b gy nv nr l ns nt">for example:</span><span id="2414" class="mz lh it nm b gy nv nr l ns nt">x++ || ++x</span></pre><h2 id="a134" class="mz lh it bd li na nb dn lm nc nd dp lq mh ne nf ls ml ng nh lu mp ni nj lw nk bi translated">二进制的</h2><p id="2532" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">二元运算符需要两个操作数，最常见的例子是基本的加法、减法、乘法和除法:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="e800" class="mz lh it nm b gy nq nr l ns nt"><em class="nu">operand operator</em> <em class="nu">operand</em></span><span id="a311" class="mz lh it nm b gy nv nr l ns nt">x + y; || x - y; || x * y; || x / y;</span></pre><p id="26b1" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">关系运算符、按位运算符、等式运算符和逻辑运算符也是二元的:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="9f04" class="mz lh it nm b gy nq nr l ns nt"><em class="nu">operand operator</em> <em class="nu">operand</em></span><span id="9113" class="mz lh it nm b gy nv nr l ns nt">a few examples (non-exhaustive):</span><span id="8b56" class="mz lh it nm b gy nv nr l ns nt">x &lt; y; <em class="nu">// the less-than relational operator</em><br/>x &lt;&lt; y; <em class="nu">// the left shift bitwise operator</em><br/>x || y; <em class="nu">// binary logical operator</em><br/>x == y; <em class="nu">// the equals operator</em></span></pre><p id="b01e" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这就把我们带到了三元组。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="9453" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">三元运算符</h1><blockquote class="nw nx ny"><p id="ccee" class="ly lz nu ma b mb mu ju md me mv jx mg nz mw mj mk oa mx mn mo ob my mr ms mt im bi translated">“条件(三元)运算符是唯一一个接受三个操作数的JavaScript运算符:条件后跟一个问号(<code class="fe oc od oe nm b">?</code>)，如果条件为<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Glossary/truthy" rel="noopener ugc nofollow" target="_blank">真值</a>则执行一个表达式，后跟一个冒号(<code class="fe oc od oe nm b">:</code>)，最后，如果条件为<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Glossary/falsy" rel="noopener ugc nofollow" target="_blank">假值</a>则执行一个表达式。— MDN</p></blockquote><p id="b329" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">语法如下所示:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="2751" class="mz lh it nm b gy nq nr l ns nt"><em class="nu">condition</em> ? <em class="nu">value1</em> : <em class="nu">value2</em></span></pre><p id="b819" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">如果<code class="fe oc od oe nm b">condition</code>评估为真，三元运算符将具有<code class="fe oc od oe nm b">value1</code>的值。如果<code class="fe oc od oe nm b">condition</code>评估为假(或falsy)，则它的值为<code class="fe oc od oe nm b">value2</code>。</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="55cc" class="mz lh it nm b gy nq nr l ns nt">let bouncerReply = (age &gt;= 21) ? 'Access allowed' : 'Access denied';</span></pre><p id="d2d6" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">您还可以链接条件运算符:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="6ad2" class="mz lh it nm b gy nq nr l ns nt">let message = (tempCelsius &gt; 95) ? 'Too hot!' :<br/>  (tempCelsius &lt; 95) ? 'Too cold!' :<br/>  (tempCelsius === 95) ? 'Just right!' :<br/>  'This isn't porridge!';</span></pre><ol class=""><li id="c27b" class="of og it ma b mb mu me mv mh oh ml oi mp oj mt ok ol om on bi translated">第一个问号检查条件<code class="fe oc od oe nm b">tempCelsius &gt; 95</code>。</li><li id="9102" class="of og it ma b mb oo me op mh oq ml or mp os mt ok ol om on bi translated">如果<code class="fe oc od oe nm b">true</code>，返回<code class="fe oc od oe nm b">'Too hot!'</code>。如果不是，检查条件<code class="fe oc od oe nm b">tempCelsius &lt; 95</code>。</li><li id="0552" class="of og it ma b mb oo me op mh oq ml or mp os mt ok ol om on bi translated">如果<code class="fe oc od oe nm b">true</code>，返回<code class="fe oc od oe nm b">'Too cold!'</code>。如果不是，检查<code class="fe oc od oe nm b">tempCelsius === 95</code>。</li><li id="22b8" class="of og it ma b mb oo me op mh oq ml or mp os mt ok ol om on bi translated">如果那是<code class="fe oc od oe nm b">true</code> —它返回<code class="fe oc od oe nm b">'Just right!'</code>。否则，它继续执行最后一个冒号<code class="fe oc od oe nm b">:</code>后的表达式，返回<code class="fe oc od oe nm b">'This isn't porridge!'</code>。</li></ol></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="1ea3" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">该不该用？</h1><p id="2d8f" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">事实上，我觉得有必要对上述三元表达式序列进行解释，这给出了我对这个问题的答案。下面是上面的代码使用<code class="fe oc od oe nm b">if..else</code>后的样子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ot ou l"/></div></figure><p id="bf5e" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">就个人而言，我建议默认使用<code class="fe oc od oe nm b">if..else</code>语句，而不是使用三元/条件操作符。只是我自己的看法。</p><p id="68b9" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">链接或嵌套ternaries使他们被吹捧为微不足道的缩小。当然，<code class="fe oc od oe nm b">if..else</code>的例子要长几行代码，但是它的可读性也更好。把缩小留给缩小者。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="0c51" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">有什么区别？</h1><p id="0eaa" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">三元运算符不仅仅是对<code class="fe oc od oe nm b">if..else</code>结构的替换。</p><p id="e40a" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">区别在于三元运算符是一个<em class="nu">表达式</em>，而<code class="fe oc od oe nm b">if..else</code>构造是一个<em class="nu">语句</em>。表达式返回值，而语句不返回值。</p><p id="3d44" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">归根结底，三元运算符的使用是一种语法上的好处，正如我在其他地方写的<a class="ae ky" href="https://medium.com/better-programming/what-is-the-best-way-to-convert-a-string-to-a-number-in-javascript-67052a1706c6" rel="noopener"/>一样，更少的代码并不总是等于更简洁的代码。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="a85d" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">摘要</h1><p id="348b" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">完全公开，我确实在自己的代码中使用了三元运算符。几乎每个实例都是单行变量赋值或简单的条件语句。亲爱的读者，一旦一种情况需要嵌套或链式ternaries，我就转向<code class="fe oc od oe nm b">if..else</code>，这也是我推荐给你的。</p><p id="4c67" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我认为在编写代码时，可读性应该总是优先考虑的。bug通常源于对以前编写的代码的误解。你未来的自己会感谢你，任何使用你代码的开发人员也会感谢你。</p><p id="f189" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">尤其是当代码长度或性能的差异可以忽略不计时。</p><p id="ec61" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>