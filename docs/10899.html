<html>
<head>
<title>Hands-on With Web Accessibility Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实际操作网页可访问性测试</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/web-accessibility-testing-with-robotframework-and-axe-163bfab6dadc?source=collection_archive---------10-----------------------#2022-02-02">https://betterprogramming.pub/web-accessibility-testing-with-robotframework-and-axe-163bfab6dadc?source=collection_archive---------10-----------------------#2022-02-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d55f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用机器人框架和斧头</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/23b383915e11d9f788229a685e6d4c65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NTWyk61ZVJ5Wdxv5"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="ce0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">围绕易访问性测试的关注正在迅速增长。在本文中，我将对可访问性测试做一个简短的解释，并演示如何使用<code class="fe ls lt lu lv b">robotframework</code>在常规测试管道中执行可访问性测试。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="0718" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">什么是易访问性测试？</h1><p id="021c" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">一般而言，无障碍是一个用来描述产品、设备、服务、设施或环境适合为残疾人服务的程度的术语。</p><p id="68e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该系统的无障碍程度越高，越多的残疾人可以从中受益。</p><p id="f8b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一种看待可访问性的方式是，与非残疾人相比，残疾人享受产品的程度。</p><p id="dfac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">网页可访问性更具体地用于网站以及网站的可访问性。</p><p id="4d16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.w3.org/TR/WCAG21/" rel="noopener ugc nofollow" target="_blank">网页内容可访问性指南(WCAG) </a>是公认的W3C网页可访问性标准，它列出了几个重要的可访问性指南。本文档中提到的主要原则是:</p><ol class=""><li id="cb7a" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated">可感知——信息和用户界面组件必须以用户可以感知的方式呈现给用户。</li><li id="7233" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">可操作—用户界面组件和导航必须是可操作的。</li><li id="16d4" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">可理解—信息和用户界面的操作必须是可理解的。</li><li id="612a" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">健壮—内容必须足够健壮，能够被各种各样的用户代理(包括辅助技术)可靠地解释。</li></ol><p id="9227" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">网络无障碍针对几类残疾，如视力残疾、运动残疾、听力障碍、认知或智力残疾以及癫痫等神经障碍。</p><h1 id="de89" class="md me iq bd mf mg no mi mj mk np mm mn jw nq jx mp jz nr ka mr kc ns kd mt mu bi translated">为什么我应该在网页可访问性上投入时间？</h1><p id="f8ff" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">有3个主要原因:</p><ol class=""><li id="9091" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated">这样做是对的！我知道，这听起来很老套，自以为是，沾沾自喜，但我相信这是真的。让我们的产品变得更容易接近，会让世界变得更美好，在大多数情况下，这并不需要付出太多努力。</li><li id="4fe9" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">有利可图。根据世界卫生组织的统计，全世界有超过10亿人患有某种形式的残疾，这几乎是全世界人口的13%。疾病预防控制中心估计，美国每四个成年人中就有一个患有某种残疾。不管真实数字是多少，我们谈论的是一个非常大的人群。确保我们的应用对他们具有包容性，可以立即扩大我们的潜在客户群。</li><li id="ae2a" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">法律处罚。我真的不希望这是理由，但事实就是如此。在世界各地的许多州，都有关于网页可访问性的法律规定。不遵守网页可访问性法规可能会导致诉讼和罚款。</li></ol><h1 id="1a11" class="md me iq bd mf mg no mi mj mk np mm mn jw nq jx mp jz nr ka mr kc ns kd mt mu bi translated">但是…怎么做？</h1><h2 id="cd59" class="nt me iq bd mf nu nv dn mj nw nx dp mn lf ny nz mp lj oa ob mr ln oc od mt oe bi translated">介绍aXe</h2><p id="1c1a" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/dequelabs/axe-core" rel="noopener ugc nofollow" target="_blank"> Axe </a>是由dequelabs开发和维护的开源项目。<br/>它使用WCAG提供的规则创建一个<a class="ae kv" href="https://en.wikipedia.org/wiki/Lint_(software)" rel="noopener ugc nofollow" target="_blank"> linter </a>，该linter运行在网站页面上，并为可访问性问题提供“提示”。</p><p id="2f87" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Axe有许多针对不同语言的实现，其中之一是aXe selenium python ，它将aXe和selenium结合起来，形成了一个完全自动化的解决方案。</p><p id="c276" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最重要的是，<code class="fe ls lt lu lv b"><a class="ae kv" href="https://github.com/adiralashiva8/robotframework-axelibrary" rel="noopener ugc nofollow" target="_blank">robotframework-axelibrary</a></code>已经被开发来集成<code class="fe ls lt lu lv b">aXe</code> selenium python和<code class="fe ls lt lu lv b">robotframework</code>。</p><h2 id="60e6" class="nt me iq bd mf nu nv dn mj nw nx dp mn lf ny nz mp lj oa ob mr ln oc od mt oe bi translated">机器人框架简介</h2><p id="46d0" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我在<a class="ae kv" href="https://eldadu1985.medium.com/extend-robotframework-using-the-robotframework-python-lib-core-bf73e09160d3" rel="noopener">之前的一篇文章</a>里讲过<code class="fe ls lt lu lv b">robotframework</code>。<code class="fe ls lt lu lv b">Robotframework</code>是一个基于python的开源软件验收测试框架。</p><p id="e1e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">凭借其关键字驱动的方法和表格语法，它可以用于快速生成验收测试，并在测试代码和最终报告上提供了很好的可读性。</p><p id="cbce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它提供了一个reach生态系统，其中包含许多可轻松用于多种测试目标的工具，从web测试到API测试，再到数据库、移动设备或物联网。</p><h2 id="33e1" class="nt me iq bd mf nu nv dn mj nw nx dp mn lf ny nz mp lj oa ob mr ln oc od mt oe bi translated">机器人框架简介-axel library</h2><p id="665a" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated"><code class="fe ls lt lu lv b">aXe</code>库允许我们从我们的<code class="fe ls lt lu lv b">robotframework</code>测试套件中用selenium运行<code class="fe ls lt lu lv b">aXe</code>。</p><p id="06d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将产生一个可供我们阅读的可访问性报告，或者拒绝导致可访问性冲突的代码更改的断言。</p><p id="cf03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要安装依赖项:</p><pre class="kg kh ki kj gt of lv og oh aw oi bi"><span id="a60a" class="nt me iq lv b gy oj ok l ol om">pip install robotframework==4.1.3 selenium==4.1.0 robotframework-seleniumlibrary==6.0.0 robotframework-axelibrary==0.1.5</span></pre><p id="9788" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以为我们的网站编写一个简单的可访问性测试:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="f0a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个测试中，我们使用selenium导航到我们的演示站点的登录页面，然后我们执行aXe来检测可访问性问题，这将生成一个包含所有发现的可访问性问题的JSON文件，然后我们使用JSON文件将可读格式记录到我们的测试结果中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/7bfc32d165b2766981688924a900c0fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4mOhNd2VTjw2h3VLj2PWlg.png"/></div></div></figure><p id="9940" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们在报告中看到的，我们有几个违反可访问性规则的地方，在这个例子中，元素和背景之间的对比度太低(推荐4.47而不是4.5)，我们可以点击附件中的链接，在这里阅读有关这个违反<a class="ae kv" href="https://dequeuniversity.com/rules/axe/3.1/color-contrast?application=axeAPI" rel="noopener ugc nofollow" target="_blank">的更多信息。</a></p><p id="4cc5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还可以为断言添加另一行，例如，断言发现的可访问性冲突不超过1个:</p><pre class="kg kh ki kj gt of lv og oh aw oi bi"><span id="18d2" class="nt me iq lv b gy oj ok l ol om">Should Be True    ${results.violations} &lt; 1</span></pre><p id="4e16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，当这个限制被突破时，我们的自动化管道将会失败。</p><h1 id="799e" class="md me iq bd mf mg no mi mj mk np mm mn jw nq jx mp jz nr ka mr kc ns kd mt mu bi translated">结论</h1><p id="2de5" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">可访问性成为测试的一个重要主题，自动化过程可以帮助您提前发现可访问性问题。</p><p id="5ffb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，英国政府能够通过自动化流程跟踪30–40%的可访问性问题— ( <a class="ae kv" href="https://accessibility.blog.gov.uk/2017/02/24/what-we-found-when-we-tested-tools-on-the-worlds-least-accessible-webpage/" rel="noopener ugc nofollow" target="_blank">供进一步阅读</a>)</p><p id="83c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将可访问性测试添加到您的管道中不仅可以帮助您的企业避免诉讼和处罚，还可以帮助让世界变得更美好。</p></div></div>    
</body>
</html>