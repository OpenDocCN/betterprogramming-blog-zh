<html>
<head>
<title>Build a Simple Video Player Using Cloudinary and Gatsby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Cloudinary和Gatsby构建一个简单的视频播放器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-simple-video-player-using-cloudinary-and-gatsby-eaf2659be086?source=collection_archive---------9-----------------------#2019-10-09">https://betterprogramming.pub/build-a-simple-video-player-using-cloudinary-and-gatsby-eaf2659be086?source=collection_archive---------9-----------------------#2019-10-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="68c9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">优化视频交付，同时保持出色的性能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0c3bc89ddaba7f130115551cbe7d0076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYTCPgq7yrE5lHgM_x-qvQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/s/photos/right-arrow?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@jannerboy62?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">尼克·费因斯</a>拍摄</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="e553" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">介绍</h1><p id="782d" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">视频总是比文本更好地传达信息，因此，在web和应用程序中，视频作为交流和娱乐的媒介，其重要性怎么强调都不为过。有一个高性能的视频播放器在我们的应用程序和网站上加载和播放视频是必不可少的。</p><p id="4dd4" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在本帖中，我们将使用<a class="ae ky" href="https://cloudinary.com/" rel="noopener ugc nofollow" target="_blank"> Cloudinary </a>和<a class="ae ky" href="https://www.gatsbyjs.org/" rel="noopener ugc nofollow" target="_blank"> Gatsby.js </a>构建一个视频播放器。这种视频播放器将从云提供商那里获取优化的视频，并在保持出色性能的同时以最佳方式交付它们。它还将解决与网络视频相关的各种问题。</p><p id="fd81" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这些问题从交付方法到优化和质量流程，性能也是一个需要考虑的重要因素。用来实现所有这些的传统方法在大范围内被证明是低效的，并且难以维护，因此使用Cloudinary和Gatsby来构建一个伟大的视频播放器。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="84b3" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">泰勒:博士</h1><p id="2cbc" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在本帖中，我们将:</p><ul class=""><li id="41fb" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">使用Gatsby CLI在本地设置一个Gatsby站点</li><li id="587e" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">为Gatsby站点创建一致的布局</li><li id="be79" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">创建一个Cloudinary帐户来上传、操作和获取视频</li><li id="beee" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">构建视频播放器组件</li><li id="58d4" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">构建索引页以显示视频播放器</li><li id="22fe" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">在浏览器中显示视频播放器</li></ul></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="4835" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">应用:Cloudinary视频播放器</h1><p id="0391" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这篇文章的主要目标是构建一个云视频播放器。根据<a class="ae ky" href="https://cloudinary.com/documentation/cloudinary_video_player" rel="noopener ugc nofollow" target="_blank">云文档</a>，</p><blockquote class="nn no np"><p id="fb34" class="ly lz nq ma b mb mu ju md me mv jx mg nr mw mj mk ns mx mn mo nt my mr ms mt im bi translated">“Cloudinary视频播放器是一款基于JavaScript的HTML5视频播放器，捆绑了许多有价值的定制和集成功能，可用于货币化和分析。该播放器完全适用于任何设备或屏幕尺寸，并与Cloudinary的视频传输和处理解决方案相集成。”</p></blockquote><p id="2264" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">根据官方文档，有各种方法可以创建一个云视频播放器。它可以使用iframe或通过使用普通的JavaScript嵌入到页面中。然而，由于没有像Gatsby使用React那样使用ReactJS实现视频播放器的指南，可用的方法是使用<iframe>将视频播放器嵌入页面。</iframe></p><p id="2518" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在接下来的章节中会有更多的介绍。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="695e" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">云雾缭绕</h1><p id="ed75" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">Cloudinary是一家SaaS(软件即服务)技术公司，提供基于云的图像和视频管理解决方案。它使用户能够为网站和应用程序上传、存储、管理、操作和交付图像和视频。</p><p id="e010" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">如今，超过450，000名web和移动应用程序开发人员使用Cloudinary。Cloudinary允许用户通过一组丰富的API上传任何规模和格式的任何媒体。它还可以安全地存储大量图像和视频，以交互方式管理媒体库，并即时转换图像和视频以适应任何屏幕设备。</p><p id="5c21" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">Cloudinary的另一个很酷的地方是，它可以用来给图像和视频添加效果。它还利用一个优质的全球内容交付网络，确保优化的视频和图像在任何位置都能快速交付。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="fd04" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">为什么是盖茨比？</h1><p id="18a3" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">Gatsby是一个使用ReactJS构建的静态站点生成器。它提供了构建高性能、安全且价格合理的可部署站点的能力。它还允许使用React组件轻松构建速度惊人的现代静态站点。</p><p id="9ac1" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在这部作品中，Gatsby和Cloudinary的出色之处将被结合起来，以创建一个视频播放器，该播放器可以加载和播放优化的视频，并可以使用Cloudinary适应不同的屏幕大小，这一切都是由Gatsby在一个快速网站上提供的。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="e50d" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">使用Gatsby CLI在本地设置Gatsby站点</h1><h2 id="8d55" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">安装所需的软件包</h2><p id="33f2" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">要为这个Gatsby项目设置我们的开发环境，需要Node和它的包管理器NPM。通过启动命令行界面并使用以下命令检查这两个工具的当前版本，验证它们是否安装在您的计算机上:</p><p id="6f3b" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe og oh oi oj b">node -v &amp;&amp; npm -v</code></p><p id="e1a2" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">否则，<a class="ae ky" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">安装节点</a>。</p><h2 id="9bf1" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">使用Gatsby CLI</h2><p id="82b5" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">Gatsby CLI工具允许您快速创建新的Gatsby支持的站点，并运行命令来开发Gatsby站点。这是一个已发布的npm包。</p><p id="8e01" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">应该通过运行以下命令来全局安装Gatsby CLI:</p><p id="0e1c" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe og oh oi oj b">npm install -g gatsby-cli</code></p><p id="4529" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">要查看可用命令，请运行:</p><p id="6386" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe og oh oi oj b">gatsby --help</code></p><h2 id="212e" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">创建盖茨比网站</h2><p id="d6a6" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">安装的Gatsby CLI工具将用于创建Gatsby站点。使用该工具，可以下载<em class="nq"> starters </em>(带有一些默认配置的部分构建的站点)来尽快进入Gatsby站点的轨道。这里使用的Hello World starter是一个具有Gatsby站点所需的基本要素的starter。这里创建的文件夹名为gatsby-cloudinary-player。如果你愿意，你可以改变。打开您的终端并运行:</p><p id="6368" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe og oh oi oj b">gatsby new gatsby-cloudinary-player <a class="ae ky" href="https://github.com/gatsbyjs/gatsby-starter-hello-world" rel="noopener ugc nofollow" target="_blank">https://github.com/gatsbyjs/gatsby-starter-hello-world</a></code></p><p id="be1d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">该工具下载所需的文件并运行npm install来安装依赖项。速度可能会有所不同，这取决于您的互联网连接。</p><p id="3401" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">成功完成后，将目录切换到创建的文件夹，运行以下命令安装<a class="ae ky" href="https://bulma.io/" rel="noopener ugc nofollow" target="_blank">布尔玛</a>:</p><p id="36b2" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe og oh oi oj b">cd gatsby-cloudinary-player &amp;&amp; cd npm i --save bulma</code></p><p id="e469" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">布尔玛是一个轻量级的CSS样式框架。</p><p id="f865" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">安装布尔玛后，通过运行以下命令启动开发服务器:</p><p id="14de" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe og oh oi oj b">gatsby develop</code></p><p id="c4ac" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">一旦开发服务器开始运行，在您的浏览器中打开一个新的选项卡，并导航到<a class="ae ky" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000 </a></p><p id="dd7b" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">页面看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/c8ad2e39e1ec31d1fb183279c8dc9bfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NfcH2BDsSWuftbi-.JPG"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">盖茨比你好世界入门主页</p></figure><h2 id="5bbf" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">创建布局组件</h2><p id="871a" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">布局组件负责整个网站页面的一致外观。</p><p id="ac42" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在Gatsby-cloud inary-player<strong class="ma iu"/>文件夹中，继续打开src文件夹，创建一个名为components的新文件夹。</p><p id="47cd" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在components文件夹中创建一个名为Layout.js的新文件。打开它并导入所需的依赖项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="55ff" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">注意缩小的布尔玛CSS文件和Layout.css文件是如何导入的。</p><p id="27d9" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">创建并导出布局组件，该组件可以将其他组件作为子组件{props.children}，子组件具有:</p><pre class="kj kk kl km gt on oj oo op aw oq bi"><span id="651c" class="nu lh it oj b gy or os l ot ou">const Layout = props =&gt; {</span><span id="fbb2" class="nu lh it oj b gy ov os l ot ou">return (</span><span id="71da" class="nu lh it oj b gy ov os l ot ou">&lt;div&gt;</span><span id="16bc" class="nu lh it oj b gy ov os l ot ou">    &lt;div <em class="nq">className</em>="has-text-centered"</span><span id="edc1" class="nu lh it oj b gy ov os l ot ou"><em class="nq">    style</em>={{marginTop: "2rem",marginBottom: "2rem"}}</span><span id="cb40" class="nu lh it oj b gy ov os l ot ou">    &gt;</span><span id="cc75" class="nu lh it oj b gy ov os l ot ou">       &lt;h1 <em class="nq">className</em>="title is-3"&gt;Simple Gatsby Cloudinary Video     Player&lt;/h1&gt;</span><span id="d476" class="nu lh it oj b gy ov os l ot ou">   &lt;/div&gt;</span><span id="90fe" class="nu lh it oj b gy ov os l ot ou">   &lt;div <em class="nq">className</em>="columns is-centered"&gt;</span><span id="7613" class="nu lh it oj b gy ov os l ot ou">     &lt;div <em class="nq">className</em>="column video-column is-8-widescreen is-10-desktop is-11-tablet"&gt;</span><span id="7f39" class="nu lh it oj b gy ov os l ot ou">       &lt;div <em class="nq">className</em>="image"&gt;</span><span id="3a6a" class="nu lh it oj b gy ov os l ot ou">         {props.children}</span><span id="3dc5" class="nu lh it oj b gy ov os l ot ou">       &lt;/div&gt;</span><span id="b72e" class="nu lh it oj b gy ov os l ot ou">      &lt;br /&gt;</span><span id="c49d" class="nu lh it oj b gy ov os l ot ou">      &lt;div <em class="nq">className</em>="box"&gt;</span><span id="2852" class="nu lh it oj b gy ov os l ot ou">         &lt;div <em class="nq">style</em>={{ fontSize: "1.5em", fontWeight: "500"}}&gt;A  sample video<br/>      &lt;/div&gt;</span><span id="6d30" class="nu lh it oj b gy ov os l ot ou">     &lt;br /&gt;</span><span id="56c9" class="nu lh it oj b gy ov os l ot ou">     &lt;article <em class="nq">className</em>="media"&gt;</span><span id="3e2d" class="nu lh it oj b gy ov os l ot ou">       &lt;div <em class="nq">className</em>="media-left"&gt;</span><span id="2fd1" class="nu lh it oj b gy ov os l ot ou">         &lt;figure <em class="nq">className</em>="image is-64x64"&gt;</span><span id="34f8" class="nu lh it oj b gy ov os l ot ou">           &lt;img <em class="nq">src</em>="http://placehold.it/128x128" <em class="nq">alt</em>="Image" /&gt;</span><span id="b861" class="nu lh it oj b gy ov os l ot ou">        &lt;/figure&gt;</span><span id="1501" class="nu lh it oj b gy ov os l ot ou">      &lt;/div&gt;</span><span id="3040" class="nu lh it oj b gy ov os l ot ou">      &lt;div <em class="nq">className</em>="media-content"&gt;</span><span id="1a36" class="nu lh it oj b gy ov os l ot ou">         &lt;div <em class="nq">className</em>="content"&gt;</span><span id="2469" class="nu lh it oj b gy ov os l ot ou">           &lt;div <em class="nq">className</em>="columns"&gt;</span><span id="66a9" class="nu lh it oj b gy ov os l ot ou">              &lt;div <em class="nq">className</em>="column is-6"&gt;</span><span id="85e0" class="nu lh it oj b gy ov os l ot ou">                &lt;p&gt;</span><span id="35b9" class="nu lh it oj b gy ov os l ot ou">                  &lt;strong&gt;JOHN DOE&lt;/strong&gt;</span><span id="463c" class="nu lh it oj b gy ov os l ot ou">                  &lt;br /&gt;</span><span id="3e50" class="nu lh it oj b gy ov os l ot ou">                  &lt;a <em class="nq">href</em>="#" <em class="nq">className</em>="button is-primary"&gt;Subscribe&lt;/a&gt;</span><span id="75d0" class="nu lh it oj b gy ov os l ot ou">               &lt;/p&gt;<br/>       &lt;/div&gt;</span><span id="ca5b" class="nu lh it oj b gy ov os l ot ou">     &lt;div <em class="nq">className</em>="column is-6"&gt;</span><span id="6e24" class="nu lh it oj b gy ov os l ot ou">        &lt;nav <em class="nq">className</em>="nav"&gt;</span><span id="0d22" class="nu lh it oj b gy ov os l ot ou">           &lt;div <em class="nq">className</em>="container"&gt;</span><span id="b4d7" class="nu lh it oj b gy ov os l ot ou">             &lt;div <em class="nq">className</em>="nav-right"&gt;</span><span id="b691" class="nu lh it oj b gy ov os l ot ou">                &lt;a <em class="nq">className</em>="nav-item is-tab is-active"&gt;</span><span id="db76" class="nu lh it oj b gy ov os l ot ou">                  &lt;span <em class="nq">className</em>="title is-4"&gt;124,304 views&lt;/span&gt;</span><span id="79dc" class="nu lh it oj b gy ov os l ot ou">                &lt;/a&gt;</span><span id="3751" class="nu lh it oj b gy ov os l ot ou">            &lt;/div&gt;</span><span id="5bb6" class="nu lh it oj b gy ov os l ot ou">         &lt;/div&gt;</span><span id="6064" class="nu lh it oj b gy ov os l ot ou">      &lt;/nav&gt;</span><span id="af2f" class="nu lh it oj b gy ov os l ot ou">   &lt;/div&gt;</span><span id="171f" class="nu lh it oj b gy ov os l ot ou"> &lt;/div&gt;</span><span id="d375" class="nu lh it oj b gy ov os l ot ou">&lt;/div&gt;</span><span id="b7d9" class="nu lh it oj b gy ov os l ot ou">&lt;/div&gt;</span><span id="8b69" class="nu lh it oj b gy ov os l ot ou">&lt;/article&gt;</span><span id="e57a" class="nu lh it oj b gy ov os l ot ou">&lt;/div&gt;</span><span id="c35b" class="nu lh it oj b gy ov os l ot ou">&lt;/div&gt;</span><span id="ea21" class="nu lh it oj b gy ov os l ot ou">&lt;/div&gt;</span><span id="68e7" class="nu lh it oj b gy ov os l ot ou">&lt;/div&gt;</span><span id="6f1f" class="nu lh it oj b gy ov os l ot ou">)</span><span id="ff1e" class="nu lh it oj b gy ov os l ot ou">}</span><span id="dd67" class="nu lh it oj b gy ov os l ot ou">export default Layout;</span></pre><p id="a781" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">下面是Layout.css文件，其中包括对布局组件的媒体查询:</p><pre class="kj kk kl km gt on oj oo op aw oq bi"><span id="4a60" class="nu lh it oj b gy or os l ot ou"><em class="nq">/* Media Queries */</em></span><span id="4083" class="nu lh it oj b gy ov os l ot ou">@media only screen and (max-width: 1200px) {</span><span id="35ac" class="nu lh it oj b gy ov os l ot ou">   .video-column {</span><span id="ac7e" class="nu lh it oj b gy ov os l ot ou">      margin-left: 3.5%;</span><span id="0066" class="nu lh it oj b gy ov os l ot ou">   }</span><span id="d19e" class="nu lh it oj b gy ov os l ot ou">}</span><span id="80c7" class="nu lh it oj b gy ov os l ot ou">@media only screen and (max-width: 500px) {</span><span id="4c95" class="nu lh it oj b gy ov os l ot ou">   .video-column {</span><span id="0861" class="nu lh it oj b gy ov os l ot ou">      margin-left: 5.5%;</span><span id="17ef" class="nu lh it oj b gy ov os l ot ou">    }</span><span id="cb34" class="nu lh it oj b gy ov os l ot ou">}</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="23d0" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">云视频托管</h1><h2 id="14cc" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">云二进制帐户创建</h2><p id="0307" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">要托管需要视频播放器播放的视频，Cloudinary帐户是必不可少的。要创建一个，登录<a class="ae ky" href="https://www.cloudinary.com" rel="noopener ugc nofollow" target="_blank">https://www.cloudinary.com</a>并遵循以下步骤:</p><ul class=""><li id="b201" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">点击<strong class="ma iu">报名</strong>按钮。</li><li id="3ea6" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">用适当的信息填写字段。</li><li id="9702" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">将云名称编辑为首选名称，并勾选验证码框进行验证。</li><li id="69a5" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">点击<strong class="ma iu">创建账户</strong>按钮提交注册表单。</li><li id="45eb" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">弹出一个欢迎模式。选择适当的字段并继续。</li></ul><h2 id="0dc9" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">上传视频</h2><p id="5dcc" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">上传文件有多种选择，在这里是视频。您可以从本地计算机拖放文件或浏览到视频文件本身。其他选项包括URL地址、社交媒体链接、Dropbox地址和谷歌图片地址。</p><ul class=""><li id="3883" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">在仪表板中，选择<strong class="ma iu">媒体库</strong>选项卡。</li><li id="3662" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">选择<strong class="ma iu">上传媒体</strong>选项。</li><li id="c871" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">选择<strong class="ma iu">高级</strong>选项，输入视频公共id的唯一名称。公共id是视频的唯一标识符。</li><li id="174c" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">选择一个方便的视频上传选项:在这种情况下，拖放选项用于获取视频，因为它在本地可用。</li></ul><p id="b886" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">完成最后一步后，视频会自动上传到Cloudinary服务器。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="9a84" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">云二进制视频播放器组件</h1><p id="9075" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">根据Cloudinary视频播放器官方文档，使用视频播放器最简单快捷的方法就是使用<iframe>将其嵌入。</iframe></p><h2 id="0b4f" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">获取<iframe>代码</iframe></h2><p id="cb06" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">要获得iframe代码，请前往https://studio.cloudinary.com的<a class="ae ky" href="https://studio.cloudinary.com" rel="noopener ugc nofollow" target="_blank"/>。视频播放器有多种定制选项，例如自动播放、循环、字幕、视频播放器响应、主题和字体。它还包括视频播放器控件，如音量、全屏、前进和后退控件、视频格式和传送类型。</p><p id="a758" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">按照以下步骤获取<iframe>代码:</iframe></p><ul class=""><li id="6a6f" class="mz na it ma b mb mu me mv mh nb ml nc mp nd mt ne nf ng nh bi translated">选择<strong class="ma iu"> My Cloudinary Video </strong>作为视频源选项，因为视频将从您创建的帐户中获取。</li><li id="4937" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">输入您的<strong class="ma iu">云名</strong>和您上传的视频<strong class="ma iu">公共ID </strong>，点击<strong class="ma iu">应用</strong>。</li><li id="8e93" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">点击<strong class="ma iu">定制</strong>选项卡，勾选<strong class="ma iu">响应</strong>作为视频播放器尺寸选项。</li><li id="1d14" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">根据您的喜好将主题选项更改为<strong class="ma iu">亮</strong>或<strong class="ma iu">暗</strong>。</li><li id="8ac1" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">前往<strong class="ma iu">高级</strong>部分，勾选首选视频播放器功能。</li><li id="d21a" class="mz na it ma b mb ni me nj mh nk ml nl mp nm mt ne nf ng nh bi translated">选择<strong class="ma iu">自适应</strong>作为视频传送类型选项。</li></ul><p id="58a6" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">复制生成的<iframe>代码，暂时保存在某个地方。这将用于创建视频播放器组件。</iframe></p><h2 id="7000" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">构建视频播放器组件</h2><p id="8a2e" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">要构建视频播放器组件，请在src/components文件夹中创建VideoPlayer.js。这个组件将包含复制的<iframe>嵌入代码来显示视频播放器。</iframe></p><p id="a2b0" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">首先，使用以下命令导入所需的依赖项和VideoPlayer.css文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="5613" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">然后使用以下内容创建并导出视频播放器组件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="4f06" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">注意<iframe>参数:cloud_name和public_id。cloud_name是用户在开立Cloudinary帐户时选择的名称。这是评估用户在Cloudinary上上传的视频所需要的，而public_id参数是用户上传的选择播放的视频的唯一名称。</iframe></p><p id="5c4e" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">以下是视频播放器组件的VideoPlayer.css文件:</p><pre class="kj kk kl km gt on oj oo op aw oq bi"><span id="5e9f" class="nu lh it oj b gy or os l ot ou">iframe {</span><span id="1d4b" class="nu lh it oj b gy ov os l ot ou">  width: 100%;</span><span id="d4e6" class="nu lh it oj b gy ov os l ot ou">  height: 580px;</span><span id="52f4" class="nu lh it oj b gy ov os l ot ou">}</span><span id="f374" class="nu lh it oj b gy ov os l ot ou"><em class="nq">/* Media Queries */</em></span><span id="9354" class="nu lh it oj b gy ov os l ot ou">@media only screen and (max-width: 1200px) {</span><span id="cb59" class="nu lh it oj b gy ov os l ot ou">  iframe {</span><span id="9d40" class="nu lh it oj b gy ov os l ot ou">    height: 500px;</span><span id="99a8" class="nu lh it oj b gy ov os l ot ou">  }</span><span id="f3d7" class="nu lh it oj b gy ov os l ot ou">}</span><span id="6811" class="nu lh it oj b gy ov os l ot ou">@media only screen and (max-width: 1024px) {</span><span id="6110" class="nu lh it oj b gy ov os l ot ou">  iframe {</span><span id="e6c9" class="nu lh it oj b gy ov os l ot ou">    height: 480px;</span><span id="e58c" class="nu lh it oj b gy ov os l ot ou">  }</span><span id="557f" class="nu lh it oj b gy ov os l ot ou">}</span><span id="88d8" class="nu lh it oj b gy ov os l ot ou">@media only screen and (max-width: 768px) {</span><span id="b3b4" class="nu lh it oj b gy ov os l ot ou">  iframe {</span><span id="56f9" class="nu lh it oj b gy ov os l ot ou">    height: 350px;</span><span id="317c" class="nu lh it oj b gy ov os l ot ou">  }</span><span id="009d" class="nu lh it oj b gy ov os l ot ou">}</span><span id="ff34" class="nu lh it oj b gy ov os l ot ou">@media only screen and (max-width: 500px) {</span><span id="8428" class="nu lh it oj b gy ov os l ot ou">  iframe {</span><span id="65c3" class="nu lh it oj b gy ov os l ot ou">    height: 250px;</span><span id="5bac" class="nu lh it oj b gy ov os l ot ou">  }</span><span id="c02c" class="nu lh it oj b gy ov os l ot ou">}</span><span id="a324" class="nu lh it oj b gy ov os l ot ou">@media only screen and (max-width: 380px) {</span><span id="cfe3" class="nu lh it oj b gy ov os l ot ou">  iframe {</span><span id="e8bd" class="nu lh it oj b gy ov os l ot ou">    width: 100%;</span><span id="1cfd" class="nu lh it oj b gy ov os l ot ou">    height: 230px;</span><span id="ce50" class="nu lh it oj b gy ov os l ot ou">  }</span><span id="26cd" class="nu lh it oj b gy ov os l ot ou">}</span></pre><h2 id="982b" class="nu lh it bd li nv nw dn lm nx ny dp lq mh nz oa ls ml ob oc lu mp od oe lw of bi translated">构建索引页以显示视频播放器</h2><p id="4b58" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">因为这是一个Gatsby项目，所以需要src/pages文件夹来显示布局<strong class="ma iu"> </strong>和视频播放器组件。pages文件夹中有一个默认的<strong class="ma iu"> </strong> index.js文件。它将被修改以显示布局<strong class="ma iu"> </strong>和视频播放器组件。</p><p id="7e2a" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">打开<strong class="ma iu"> </strong> index.js文件，擦除它，用</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="a106" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">layout组件处理页面的布局和设计，而VideoPlayer组件负责视频播放器。</p><p id="9236" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">使用以下内容创建并导出IndexPage <strong class="ma iu"> </strong>组件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="c82e" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">打开浏览器，在索引页上查看完整的视频播放器。</p><p id="4272" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">页面看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/5351ff7c1a0db592f75f1db33065e44a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GaxqccFGzhB8tarWqhDMWg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">主页上显示的视频播放器</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="bec0" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">结论</h1><p id="2dc7" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在这篇文章中，我们看到了Cloudinary的概述，它的视频特性，操作，定制和集成到网页中。</p><p id="c3fc" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我们还使用Cloudinary和Gatsby构建了一个视频播放器。使用Gatsby是因为它使构建静态站点变得容易。使用Gatsby的另一个重要原因是它可以创建快速站点，因为它使得开发慢速站点变得非常困难。</p><p id="85ab" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">你可以查看这个项目的代码或者在<a class="ae ky" href="https://github.com/ihollarmide/gatsby-cloudinary-player" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上投稿。您还可以查看<a class="ae ky" href="https://competent-bardeen-003fcf.netlify.com/" rel="noopener ugc nofollow" target="_blank">托管的网页</a>。</p></div></div>    
</body>
</html>