<html>
<head>
<title>Does Self-Documenting Code Actually Exist?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自文档化代码真的存在吗？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/does-self-documenting-code-actually-exist-8824b22e9a0f?source=collection_archive---------0-----------------------#2022-03-23">https://betterprogramming.pub/does-self-documenting-code-actually-exist-8824b22e9a0f?source=collection_archive---------0-----------------------#2022-03-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f451" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">满足VS代码Docstring框架生成器和AI文档编写器扩展，以简化您的文档处理过程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9a0b79f233ab0a3a1ca44c613bef0cfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pEjPS-SNr1rW5inNJj2sFA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@markuswinkler" rel="noopener ugc nofollow" target="_blank">马库斯·温克勒</a>在<a class="ae kv" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="4239" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当谈到代码库中的文档时，似乎有两种思想流派:你要么相信代码应该被文档化，要么讨厌文档并拒绝编写docstring。</p><p id="5ac7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，许多教授要求他们的学生为每个函数写文档——如果一个学生忘记把他们的代码和文档放在一起，就要扣分。</p><p id="b76b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一方面，许多人反对内联文档，因为它很快就会过时，人们认为代码应该是自文档化的。</p><p id="8a26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据维基百科的说法，自文档化代码“遵循命名惯例，使得在没有特定知识的情况下使用系统”。众所周知，任何优秀的程序员都应该给他们的变量起一个有意义的名字，这样他们就能描述变量的实际功能。</p><p id="82b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，你应该期望你团队的其他成员有多少先验知识呢？阅读你的代码的人应该能流利地使用你的语言吗？你是如何平衡可读性和简洁性的？</p><h1 id="6013" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">平衡可读性和简洁性</h1><p id="5a0f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在JavaScript中，函数中的return语句有三种不同的编写方式:</p><p id="f91f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">1.</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="6e5b" class="mu lt iq mq b gy mv mw l mx my">...<br/>if (fruit != null) {<br/>  return fruit;<br/>} else {<br/>  return “apple”;<br/>}</span></pre><p id="3185" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">2.</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="de42" class="mu lt iq mq b gy mv mw l mx my">...<br/>  return fruit != null ? fruit : "apple";</span></pre><p id="9f7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">3.</p><pre class="kg kh ki kj gt mp mq mr ms aw mt bi"><span id="5d61" class="mu lt iq mq b gy mv mw l mx my">...<br/>  return fruit ?? “apple”;</span></pre><p id="434a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一条语句在技术上最具可读性——尤其是对于第一次学习JavaScript的初级开发人员。但是，您可以看到认为第一个代码片段是检查变量<code class="fe mz na nb mq b">fruit</code>是否为空并在为空时返回<code class="fe mz na nb mq b">"apple"</code>的最佳方式是多么的愚蠢。一段代码是否被认为是可读的/自文档化的是如此主观，没有正确的答案。</p><p id="0060" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，随着代码变得越来越复杂，对于没有任何代码库知识的人来说，第一眼就能理解发生了什么的门槛也越来越高。事实上，程序员可以非常有思想，使用最佳实践，并有意命名他们的变量，但对许多人来说，这仍然不被认为是“自文档化”的。</p><p id="4cd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，您可以将实现knn算法的函数公开命名为knn，而以前从未听说过该算法的人仍然不知道该函数在做什么。</p><p id="491f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当编写代码时，有许多因素需要考虑，包括可读性、简洁性、模块性等等。您应该采用所有相关的最佳实践来生成自文档化的代码，但是仅仅因为术语的主观性质，将代码库明确地标记为“自文档化”是非常困难的。</p><p id="ed3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是文档是如何发挥作用的呢？</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><p id="79b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">反对文档的一个主要理由是它很快就会过时。如果有人修改了代码而没有想到要修改docstring，编译器仍然会编译出不正确的文档。许多人还认为，文档应该只解释<em class="nj">为什么</em>，而不是<em class="nj">什么</em>。</p><p id="7eb8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，支持文档化的理由是，不管你有什么样的先验知识，它都降低了快速、轻松理解代码的门槛。如果你的所有函数都有文档记录，那么阅读所有函数的简单英语描述客观上比阅读代码和试图理解语法中的逻辑更容易。</p><p id="54b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，几乎所有的编程语言都为函数、类和变量文档定义了格式。例如，当我学习Java时，我会经常参考Oracle Javadoc，它展示了Java standard的字符串和数组类的文档。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/e674663a179cb5f74afd13ad5c0242b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kndgZC3PTcHibxMfj5aviw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">关于字符串类的<a class="ae kv" href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html" rel="noopener ugc nofollow" target="_blank"> Oracle的Javadoc </a>截图</p></figure><p id="115f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，文档是有用的，因为如果它不存在，我首先就不知道哪些函数存在。除了文档风格之外，编程语言通常还有一个收集所有文档并生成易于搜索的页面的软件。如果您提供API即服务，并且您的客户想知道如何使用您的软件，这是很有帮助的。在这些情况下，文档是有帮助的，因为没有它，其他人不会知道某些功能的存在，并且它最终促进了可发现性。</p><p id="f9cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了将文档编译成页面的软件之外，还有帮助编写代码的工具。例如，VS代码有一个自动填充参数并为标准文档格式创建结构的特性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/21ae7f1d5150c2b3e4772e8031d6b3f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*N66vSjE9GxEzAAX_G3sebA.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">VS代码文档框架生成</p></figure><p id="494d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更进一步来说，<a class="ae kv" href="https://marketplace.visualstudio.com/items?itemName=mintlify.document" rel="noopener ugc nofollow" target="_blank">用于Python、JavaScript、TypeScript、C、C++、PHP、Java和C# </a>扩展的AI文档编写器完整地写出了整个文档字符串，包括函数和参数描述。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/e3b61559ca9b3dd6edf3a861ef3fcedb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Yg-jtpGOj--ni0ZpwnFeaw.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://marketplace.visualstudio.com/items?itemName=mintlify.document" rel="noopener ugc nofollow" target="_blank"> AI文档编写器的演示</a></p></figure><p id="bbb9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了像VS Code Docstring Skeleton Generator和AI Doc Writer Extension这样的新工具，编写代码文档所需的激活能量现在低得多——不用花30秒编写代码文档，你可以花5秒生成文档。</p><p id="0f16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于代码文档的讨论是多方面的。除了文档之外，还有许多因素影响代码质量。随着新技术的出现，编写代码变得更加容易，让文档保持最新变得困难的观点也逐渐消失。</p><p id="90a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终，对于自文档化代码是否真的存在，我没有答案，但是我主张所有程序员都应该牢记最佳实践，并且要让其他人容易理解。</p></div></div>    
</body>
</html>