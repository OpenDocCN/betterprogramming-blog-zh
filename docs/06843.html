<html>
<head>
<title>The Easiest Way to Use a Serverless Database With Your React and React Native Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React和React本机应用程序使用无服务器数据库的最简单方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-easiest-way-to-use-a-serverless-database-with-your-react-and-react-native-apps-ec2633b46f92?source=collection_archive---------11-----------------------#2020-11-10">https://betterprogramming.pub/the-easiest-way-to-use-a-serverless-database-with-your-react-and-react-native-apps-ec2633b46f92?source=collection_archive---------11-----------------------#2020-11-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7071" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">看看Easybase，以及如何在您的项目中使用它</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c743d6d33a2b0cc33473fb6dbf407514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eMBvOrx5eYDf-YGe"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@goshua13?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">约书亚·阿拉贡</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="f8a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">无服务器<em class="ls"> </em>数据库如今非常流行。这在很大程度上是由于这种无处不在的前端框架的新浪潮，包括Vue、Angular、React等等。这些模块允许开发新手将他们的想法转化为现实世界的生产应用程序。其中一个重要的方面是能够在多种平台上启动应用程序。</p><p id="00a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些无服务器技术堆栈允许工程师在其开发工作流程中保持敏捷。今天我们将研究<a class="ae kv" href="https://easybase.io" rel="noopener ugc nofollow" target="_blank"> Easybase的</a> React库，它在React应用中创建一个有状态的可编辑数组数据库。这个库在React和React Native上都工作得很好。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="eeb5" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">创建有状态且可编辑的数组数据库的步骤</h1><h2 id="e48e" class="ms mb iq bd mc mt mu dn mg mv mw dp mk lf mx my mm lj mz na mo ln nb nc mq nd bi translated">1.创建新的React集成</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/77f2ded78bd2151b611452710d87fc87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aBtPVGdCqW_zeOlBFREMpg.gif"/></div></div></figure><p id="ab49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">登录到您的Easybase帐户，转到Query选项卡，并创建一个REACT集成。如果您没有Easybase帐户，补充计划将涵盖许多使用案例。您可以使用表格的上传数据对话框通过JSON或CSV上传数据。</p><h2 id="34ef" class="ms mb iq bd mc mt mu dn mg mv mw dp mk lf mx my mm lj mz na mo ln nb nc mq nd bi translated">2.安装npm库</h2><p id="8008" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">唯一的额外依赖是easybase-react npm模块。要安装它，导航到React项目并执行<code class="fe nk nl nm nn b">npm install easybase-react</code>。包很小<a class="ae kv" href="https://bundlephobia.com/result?p=easybase-react@1.2.4" rel="noopener ugc nofollow" target="_blank"> (33.9kbs缩小)</a>。<a class="ae kv" href="https://github.com/easybase/easybase-react" rel="noopener ugc nofollow" target="_blank">阅读此处的文档。</a></p><h2 id="4c7d" class="ms mb iq bd mc mt mu dn mg mv mw dp mk lf mx my mm lj mz na mo ln nb nc mq nd bi translated">3.将ebconfig.json复制到项目的根目录中</h2><p id="708b" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">导航到抽屉的React令牌部分并下载您的令牌。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/710f93ab235636ac9f6c346219ef2211.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*5kfYy6YiZbDsKHIVke93zA.png"/></div></figure><p id="8447" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下载文件并将其复制到与您的1文件相同的目录中。</p><p id="a830" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>在集成抽屉中，确保您已经启用了您的集成的读写权限。在本地主机服务器上测试应用程序时，也要启用testing参数。在启动您的应用程序之前，将访问数据库和您保存的查询的IP和web地址放在允许列表中。</p><h2 id="8e21" class="ms mb iq bd mc mt mu dn mg mv mw dp mk lf mx my mm lj mz na mo ln nb nc mq nd bi translated">4.将您的应用程序包装在EasybaseProvider组件中</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="ba66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nk nl nm nn b">EasybaseProvider</code>为您的所有子组件提供了<code class="fe nk nl nm nn b">useEasybase()</code>钩子的功能，它包含了所有用于与您的数据交互的有状态函数。对于熟悉React钩子和提供者模式的人来说，这应该是一个熟悉的工作流。</p><h2 id="eff7" class="ms mb iq bd mc mt mu dn mg mv mw dp mk lf mx my mm lj mz na mo ln nb nc mq nd bi translated">5.使用Frame()映射React组件</h2><p id="54bd" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在容器组件中，我们需要将我们的<code class="fe nk nl nm nn b">Frame()</code>映射到反应组件。这些组件可以包括在改变时直接改变<code class="fe nk nl nm nn b">Frame()</code>或<code class="fe nk nl nm nn b">Frame(index)</code>的控制。当一个项目被更改时，调用<code class="fe nk nl nm nn b">sync()</code> <strong class="ky ir"> </strong>将您的更改同步到数据库并重新呈现您的元素。如果需要，您可以等待<code class="fe nk nl nm nn b">sync()</code>函数，但这不是必需的，因为如果<code class="fe nk nl nm nn b">Frame</code>发生变化，<code class="fe nk nl nm nn b">EasybaseProvider</code>组件将重新呈现其子组件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="0304" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们的元素第一次安装在<code class="fe nk nl nm nn b">useEffect()</code>中时，我们将<code class="fe nk nl nm nn b">Frame</code>的大小设置为<code class="fe nk nl nm nn b">length </code> 10。这是将从您的云数据库收集的对象的长度约束。结合使用<code class="fe nk nl nm nn b">offset</code>参数，您可以在React应用程序中实现分页。</p><p id="2dea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在return语句中，我们将<code class="fe nk nl nm nn b">Frame()</code> <strong class="ky ir"> </strong>元素<strong class="ky ir"> </strong>映射到一个名为<code class="fe nk nl nm nn b">Card</code>的自定义React组件。请记住，<code class="fe nk nl nm nn b">Frame()</code>返回一个对象数组，而<code class="fe nk nl nm nn b">Frame(index)</code>将返回该索引处的一个单独的对象。在更改了数组中的任何项目后，调用<code class="fe nk nl nm nn b">sync()</code>会将您的更改推送到云中，并从不同的源中下载任何更改。这些项可以直接编辑，也可以通过向数组中传递一个索引来编辑。</p><p id="c176" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当用户直接操作数组中的对象时，就应该调用<code class="fe nk nl nm nn b">onChange()</code>回调。更改将与相应的索引、列名和新值一起传递给该函数。最后，我们调用<code class="fe nk nl nm nn b">sync()</code>将更改推送到我们的数据库。在您的本地副本和远程引用之间的数组规范化之后，如果两者之间有差异，将执行<code class="fe nk nl nm nn b">useFrameEffect()</code>。</p><p id="e38b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>如果<code class="fe nk nl nm nn b">sync()</code>观察到您的本地副本中的任何更改或者远程发生的更改，<code class="fe nk nl nm nn b">Frame()</code>将被设置为标准化数组，然后运行<code class="fe nk nl nm nn b">useFrameEffect()</code>来警告元素<code class="fe nk nl nm nn b">Frame</code>已经更改。</p><p id="e51c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">easybase-react的<code class="fe nk nl nm nn b">Frame()</code>对于react组件的声明性非常友好。EasybaseProvider框架的生命周期操作如下:</p><pre class="kg kh ki kj gt nr nn ns nt aw nu bi"><span id="5358" class="ms mb iq nn b gy nv nw l nx ny">Frame Is Synchronized <strong class="nn ir">-&gt;</strong><br/>useFrameEffect() runs <strong class="nn ir">-&gt;</strong><br/>Edit Frame() <strong class="nn ir">-&gt;</strong><br/>Call sync() <strong class="nn ir">-&gt;</strong><br/>Frame Is Synchronized <strong class="nn ir">-&gt;</strong><br/>useFrameEffect() runs</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="d68d" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">结论</h1><p id="886f" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">easybase-react库允许您通过与云数据库同步的有状态、可编辑的数组来访问您的数据。将这个库包含在现有的React和React原生项目中非常容易。<code class="fe nk nl nm nn b">useFrameEffect</code>回调以一种很好地适应React组件挂钩并遵循React约定的方式集成了数据库。</p><p id="755a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">阅读更多:<a class="ae kv" href="https://easybase.io/react/" rel="noopener ugc nofollow" target="_blank"> Easybase + React演练</a>，<a class="ae kv" href="https://www.infoworld.com/article/3406501/what-is-serverless-serverless-computing-explained.html" rel="noopener ugc nofollow" target="_blank">无服务器技术</a>。</p><p id="db4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/easybase/easybase-react" rel="noopener ugc nofollow" target="_blank">阅读此处的文档</a>。</p><blockquote class="nz"><p id="727a" class="oa ob iq bd oc od oe of og oh oi lr dk translated">“你建了，他们就来了。”</p></blockquote></div></div>    
</body>
</html>