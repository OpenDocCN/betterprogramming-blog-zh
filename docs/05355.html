<html>
<head>
<title>Automatically Scan Your Slack Workspaces for Confidential Information</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动扫描您的空闲工作区中的机密信息</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/scan-your-slack-workspaces-for-confidential-information-automatically-2a7b07dc2701?source=collection_archive---------17-----------------------#2020-07-01">https://betterprogramming.pub/scan-your-slack-workspaces-for-confidential-information-automatically-2a7b07dc2701?source=collection_archive---------17-----------------------#2020-07-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8c0f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在没有代码的情况下监视您的松弛工作区中的敏感信息</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/421285334eaeaa6050b6a5243306e895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g6E2iXp1uzS-4qImwj_EvQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">潘卡杰·帕特尔在<a class="ae kv" href="https://unsplash.com/s/photos/slack?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="bf2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们都使用工具来协作。正确的基于文本的远程对话工具可以提高团队的工作效率。Slack是团队协作中最常用的文本和音频/视频通话工具之一。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="cec1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">问题陈述</h1><p id="7b92" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">当一个团队或一个组织的许多成员使用Slack进行内部对话时，你不希望任何人泄露机密信息，无论是关于你的组织还是他们的个人生活。随着整个工作空间转向远程工作，筛选信息泄漏的松散渠道和可能有害的内容变得至关重要。敏感数据可能包括API密钥、私钥、恶意文件、出生日期等等。手动跟踪日志并删除所有恶意内容是不可能的。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8814" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">解决方案(守夜人)</h1><p id="c436" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">你需要一些东西来持续关注你松弛的工作空间。Slack Watchman <strong class="ky ir"> </strong>使用Slack提供的API来搜索你的Slack工作区中暴露的潜在敏感数据。</p><p id="aa82" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是详细的解释:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">懒得看书？</p></figure><h2 id="69b0" class="my ma iq bd mb mz na dn mf nb nc dp mj lf nd ne ml lj nf ng mn ln nh ni mp nj bi translated">Slack Watchman使用Slack API来查询您的工作区:</h2><ul class=""><li id="a9f2" class="nk nl iq ky b kz mr lc ms lf nm lj nn ln no lr np nq nr ns bi translated">外部共享通道。</li><li id="c140" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">潜在的密码泄露。</li><li id="a668" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">AWS键。</li><li id="fc93" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">GCP群岛。</li><li id="2baf" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">谷歌API键。</li><li id="42ac" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">松弛API键和webhooks。</li><li id="61a0" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">Twitter API键。</li><li id="3a07" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">脸书API密钥。</li><li id="99f5" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">私钥。</li><li id="7a64" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">秘密钥匙。</li><li id="9a2f" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">Paypal布伦特里代币。</li><li id="c728" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">银行卡详情。</li><li id="62f0" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">证书文件。</li><li id="4f9c" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">潜在的有趣/恶意文件(。docm，。xlsm，。zip等。).</li><li id="a47a" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">护照号码。</li><li id="010e" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">出生日期。</li><li id="b531" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">Paypal布伦特里代币。</li><li id="62e5" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">银行卡详情。</li></ul><p id="9307" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">查询是完全动态的，你可以要求你的私人守夜人只寻找你认为可疑的东西，其余的将被忽略。所以，你有能力对最重要的事情保持警惕。</p><p id="e56d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Slack Watchman还可以输出您的工作区的所有频道、用户和管理员的列表，以便您可以在您的Slack工作区中审计任何不速之客。</p><p id="4cb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以运行Slack Watchman来查找回溯到以下时间的结果:</p><ul class=""><li id="85cb" class="nk nl iq ky b kz la lc ld lf ny lj nz ln oa lr np nq nr ns bi translated">24小时</li><li id="48ad" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">7天</li><li id="8f7e" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">30天</li><li id="d3bf" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">空前的</li></ul><p id="0cdd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最好的方法是在安装时执行全时间扫描，然后每24小时或7天扫描一次。</p><p id="fcf3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果存储在CSV文件中，您可以查看并对其采取措施。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d60b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">使用和安装</h1><p id="d31d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">要安装和运行Slack Watchman，你必须有一个Slack API OAuth访问令牌，这个令牌可以通过创建一个新的Slack应用程序，直接到<a class="ae kv" href="https://api.slack.com/apps" rel="noopener ugc nofollow" target="_blank">https://api.slack.com/apps</a>来轻松获得</p><p id="9fa6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的Slack应用程序中添加以下<strong class="ky ir">用户令牌范围</strong>:</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="8d1b" class="my ma iq oc b gy og oh l oi oj"><em class="ok">channels:read<br/>files:read<br/>groups:read<br/>im:read<br/>links:read<br/>mpim:read<br/>remote_files:read<br/>search:read<br/>team:read<br/>users:read<br/>users:read.email</em></span></pre><h2 id="097c" class="my ma iq bd mb mz na dn mf nb nc dp mj lf nd ne ml lj nf ng mn ln nh ni mp nj bi translated">提供令牌</h2><p id="3d9a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在您的<code class="fe ol om on oc b">HOME</code>目录中创建一个名为<code class="fe ol om on oc b">slack_watchman.conf</code>的文件，并以以下格式提及您的Slack令牌:</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="4596" class="my ma iq oc b gy og oh l oi oj">[auth]<br/>slack_token = xoxp-xxxxxxxxxx-...</span></pre><p id="4bff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者，您可以将您的slack令牌保存在名为<code class="fe ol om on oc b">SLACK_WATCHMAN_TOKEN</code>的环境变量中。Slack Watchman将首先尝试从环境变量中获取令牌，然后从<code class="fe ol om on oc b">slack_watchman.conf</code>文件中获取令牌。如果它未能获得Slack令牌，它将在控制台中给出一个错误，指出Watchman无法找到令牌。</p><h2 id="5e7b" class="my ma iq bd mb mz na dn mf nb nc dp mj lf nd ne ml lj nf ng mn ln nh ni mp nj bi translated">通过pip安装</h2><p id="bd5b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在<a class="ae kv" href="https://github.com/PaperMtn/slack-watchman/releases" rel="noopener ugc nofollow" target="_blank">https://github.com/PaperMtn/slack-watchman/releases</a>上也有源代码，但是推荐通过pip安装，这很简单:</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="76df" class="my ma iq oc b gy og oh l oi oj">pip install slack-watchman</span></pre><p id="197c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过运行以下命令，运行Slack Watchman来查找<code class="fe ol om on oc b">everything</code>和<code class="fe ol om on oc b">all-time</code>数据:</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="c468" class="my ma iq oc b gy og oh l oi oj">slack-watchman --timeframe a --all</span></pre><p id="2d94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Slack Watchman将在全球范围内安装，它可以结合不同的参数进行更精细的搜索。</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="c032" class="my ma iq oc b gy og oh l oi oj">usage: slack-watchman [-h] --timeframe {d,w,m,a} [--version] [--all]<br/>                      [--users] [--channels] [--pii] [--financial]<br/>                      [--tokens] [--files] [--custom CUSTOM]<br/><br/>Monitoring your Slack workspaces for sensitive information<br/><br/><strong class="oc ir">optional arguments:</strong><br/> -h, --help            show this help message and exit<br/> --version             show program's version number and exit<br/> --all                 Find everything<br/> --users               Find all users, including admins<br/> --channels            Find all channels, including external shared<br/>                       channels<br/> --pii                 Find personal data: Passwords, DOB, passport<br/>                       details<br/> --financial           Find financial data: Card details, PayPal<br/>                       Braintree tokens<br/> --tokens              Find tokens: Private keys, AWS, GCP, Google<br/>                       API, Slack, Slack webhooks, Facebook,<br/>                       Twitter, GitHub<br/> --files               Find files: Certificates, interesting<br/>                       / malicious files<br/> --custom CUSTOM       Search for user defined custom search<br/>                       queries. Provide path to .txt file containing<br/>                       one search per line<br/><strong class="oc ir">required arguments:</strong><br/> --timeframe {d,w,m,a} How far back to search: d = 24 hours w = 7<br/>                       days, m = 30 days, a = all time</span></pre><p id="d881" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面的命令将查找AWS密钥、GCP密钥、令牌等。过去30天:</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="20be" class="my ma iq oc b gy og oh l oi oj">slack-watchman --timeframe m --tokens</span></pre><p id="79cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您甚至可以输入自己的查询来搜索工作区中提到的敏感数据(例如机密项目名称)。</p><p id="024f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe ol om on oc b">--custom</code>命令行选项传递一个. txt文件，每行一个搜索查询。所有包含自定义查询的帖子都将被返回。通用术语可能会在很长时间内返回大量结果。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="f91a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">开发商的信用</h1><p id="68fd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这个令人敬畏的开源工具是由来自英国的非常聪明的网络安全专家Andrew Byford构建的。对他表示感谢，并开始回购以备将来更新:<a class="ae kv" href="https://github.com/PaperMtn/slack-watchman" rel="noopener ugc nofollow" target="_blank">https://github.com/PaperMtn/slack-watchman</a></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="ed61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着远程工作成为一种常态，我们需要一个集中的环境供开发人员工作。我们需要一个能减少设置一切的痛苦的环境。看看Github的Github代码空间特性——它刚刚改变了编程游戏:</p><div class="oo op gp gr oq or"><a href="https://medium.com/better-programming/github-codespaces-code-anywhere-anytime-in-any-language-using-github-9f27c7a6b4a1" rel="noopener follow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd ir gy z fp ow fr fs ox fu fw ip bi translated">GitHub Codespaces:任何地方、任何语言的代码，全部来自您的浏览器</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">GitHub刚刚改变了编程游戏</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">medium.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf kp or"/></div></div></a></div></div></div>    
</body>
</html>