<html>
<head>
<title>Top 7 Dart Tips and Tricks for Cleaner Flutter Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更干净的Flutter应用程序的7大镖技巧和窍门</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/top-7-dart-tips-and-tricks-for-cleaner-flutter-apps-562664a15826?source=collection_archive---------4-----------------------#2021-02-11">https://betterprogramming.pub/top-7-dart-tips-and-tricks-for-cleaner-flutter-apps-562664a15826?source=collection_archive---------4-----------------------#2021-02-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="adfa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用inspect小部件、同步和异步生成器</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/086f453451d01e5b97dd9e9904b488af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UkUGENyS23H0pweg_EdyNg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@marjorylucabaxter?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Lucie hoová</a>在<a class="ae ky" href="https://unsplash.com/s/photos/dart?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="6ca6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.educative.io/blog/dart-2-language-features" rel="noopener ugc nofollow" target="_blank"> Dart </a>是一种客户端优化编程语言，用于快速构建移动、桌面和服务器应用。Dart由Google开发，用于他们的跨平台Flutter框架。使用Flutter和Dart，您可以构建具有流畅UI和原生感觉的应用程序。</p><p id="51de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我们提供我们的七大镖提示，将帮助您改善您的应用程序开发。您可以使用这些技巧来编写简洁的代码，并充分利用Dart提供的许多特性。</p><p id="4e33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">提示和技巧一览:</strong></p><ol class=""><li id="f864" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">使用匿名函数作为参数</li><li id="3902" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用<code class="fe mj mk ml mm b">call</code>方法使类像函数一样可调用</li><li id="d509" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用<code class="fe mj mk ml mm b">.entries</code>遍历地图</li><li id="f447" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何使用getters和setters</li><li id="321f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用<code class="fe mj mk ml mm b">Set</code>收集独特的物品</li><li id="e6c2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用inspect小部件</li><li id="22d3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用同步和异步生成器</li></ol></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="b4ea" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">1.使用匿名函数作为参数</h1><p id="2678" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在Dart语言中，函数可以作为参数传递给其他函数。Dart提供了不需要名字的匿名函数，可以直接使用。</p><p id="ea65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是Dart中匿名函数的一个例子。这里，我们将一个匿名立方体函数传递给一个内置方法<code class="fe mj mk ml mm b">forEach</code>。我们试图获得列表中每一项的立方体。</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="f0df" class="nv mv it mm b gy nw nx l ny nz">main() {<br/>  var list = [1,2,3];<br/>  list.forEach((item) {<br/>   print(item*item*item);<br/>  });<br/>}</span></pre><p id="c4b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mj mk ml mm b">sayHello</code>被传递给<code class="fe mj mk ml mm b">intro</code>函数，该函数接受函数参数。在第6行，<code class="fe mj mk ml mm b">String Function(String)</code>是一个函数类型，它从给定的字符串参数中返回一个字符串。我们使用的匿名函数具有相同的签名，因此它作为参数传递。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="ba7b" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">2.使用call方法使类像函数一样可调用</h1><p id="0cc7" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">使用Dart，您可以创建一个可调用的类，该类允许该类实例作为一个函数被调用。我们用<code class="fe mj mk ml mm b">call()</code>方法来做这件事。请参见下面的语法。</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="2d1d" class="nv mv it mm b gy nw nx l ny nz">class class_name {<br/>  ... // class <br/>  <br/>  return_type call ( parameters ) {<br/>    ... // call the function content<br/>  }<br/>  <br/>}</span></pre><p id="3561" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过一个例子来看看这一点。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="2675" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong> Dart不支持多个可调用方法。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="ce78" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">3.使用条目遍历地图</h1><p id="0f4d" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在Dart中，您可以使用<code class="fe mj mk ml mm b">entries</code>以空安全的方式遍历地图。假设我们有一张地图，可以追踪不同产品的消费金额。通常，我们会用<code class="fe mj mk ml mm b">!</code>操作符遍历这个地图。</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="474a" class="nv mv it mm b gy nw nx l ny nz">for (var key in moneySpent.keys) {<br/>  final value = moneySpent[key]!;<br/>  print('$key: $value');<br/>}</span></pre><p id="2cf7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用一个循环来改进这段代码，使它更加空安全。当我们用<code class="fe mj mk ml mm b">entries</code>变量迭代时，我们可以以空安全的方式访问我们的键值对。</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="d237" class="nv mv it mm b gy nw nx l ny nz">for (var entry in moneySpent.entries) {<br/>  // do something with keys and values<br/>  print('${entry.key}: ${entry.value}');<br/>}</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="bf79" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">4.如何使用Getters和Setters</h1><p id="c3fb" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">Getters和setters是提供对对象属性的读写访问的特殊方法。Getters和setters的调用类似于实例变量:一个点操作符(<code class="fe mj mk ml mm b">.</code>)后面简单地跟着函数名。</p><p id="f8c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Getters是用于检索对象属性值的函数。我们使用<code class="fe mj mk ml mm b">get</code>关键字。</p><p id="cc63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的例子中，我们在第13行创建了一个getter函数，它将返回当前实例的名称值。在第21行，我们调用getter函数，输出应该显示<code class="fe mj mk ml mm b">Sarah</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="3b10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Setters是用来写对象属性值的函数。我们使用<code class="fe mj mk ml mm b">set</code>关键字。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="08b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从第9行到第15行，我们创建了一个setter函数来设置<code class="fe mj mk ml mm b">age</code>的值。我们也给它一个条件，使我们不能输入一个负的年龄。在第23行，我们使用<code class="fe mj mk ml mm b">personAge</code> setter函数为<code class="fe mj mk ml mm b">firstPerson</code>设置年龄值。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="43a8" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">5.使用集合来收集独特的项目</h1><p id="5317" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">列表是Dart中最常见的集合类型之一，但是列表可以包含重复的项目。有时，我们只想要唯一值的集合。这就是<code class="fe mj mk ml mm b">Set</code>有用的地方。</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="2c21" class="nv mv it mm b gy nw nx l ny nz">final countriesSet = {</span><span id="8971" class="nv mv it mm b gy oc nx l ny nz">'USA',</span><span id="6910" class="nv mv it mm b gy oc nx l ny nz">'India',</span><span id="c048" class="nv mv it mm b gy oc nx l ny nz">'Iceland',</span><span id="1450" class="nv mv it mm b gy oc nx l ny nz">'USA',</span><span id="1e35" class="nv mv it mm b gy oc nx l ny nz">};</span></pre><p id="1859" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一个<code class="fe mj mk ml mm b">Set</code>中，两个元素不能相等，所以上面的代码会给出一个警告，并且不会被编译。如果我们使用<code class="fe mj mk ml mm b">const set</code>，情况也是如此。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="6fe4" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">6.使用Inspect小部件</h1><p id="d242" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在web开发中，通常使用Inspect元素，它会告诉您应用于HTML标记的所有属性。Dart提供了一个类似的功能，称为Inspect小部件，可以使使用Flutter开发应用程序更加容易。Flutter Widget检查器可用于定位屏幕上的任何Widget，并查看应用于它的属性。</p><p id="87be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查器还可以帮助您可视化颤动的部件树，以了解布局或识别布局问题。</p><p id="93fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用它，请按照下列步骤操作:</p><ul class=""><li id="31eb" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu od mb mc md bi translated">点击“颤动检查器”</li><li id="fc75" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu od mb mc md bi translated">点击“启用选择部件模式”</li><li id="65c2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu od mb mc md bi translated">选择屏幕上的一个小部件以获取更多信息</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/fe97fd9c741cf492d750540a623e7830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8HtnC_I_iMewckScC92stA.png"/></div></div></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="b6cf" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">7.使用同步和异步生成器</h1><p id="4158" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在Dart中，生成器使得生成一系列值成为可能。有两种发生器功能:</p><ul class=""><li id="58f7" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu od mb mc md bi translated"><strong class="lb iu">同步生成器:</strong>返回一个可迭代对象</li><li id="6033" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu od mb mc md bi translated"><strong class="lb iu">异步生成器:</strong>返回一个流对象</li></ul><p id="2147" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，同步生成器返回一组可以顺序访问的值。我们通过将函数体标记为<code class="fe mj mk ml mm b">sync*</code>来做到这一点。然后，我们对这些值使用yield语句。</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="957a" class="nv mv it mm b gy nw nx l ny nz">Iterable&lt;int&gt; count(int n) sync* {<br/>  for (var i = 1; i &lt;= n; i++) {<br/>    yield i;<br/>  }<br/>}</span></pre><p id="5bc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，异步生成器返回一个流对象。流使得接收一系列事件成为可能。我们通过将函数体标记为<code class="fe mj mk ml mm b">async*</code>来做到这一点。然后，我们对这些值使用yield语句。</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="a0a1" class="nv mv it mm b gy nw nx l ny nz">Stream&lt;int&gt; countStream(int n) async* {<br/>  for (var i = 1; i &lt;= n; i++) {<br/>    yield i;<br/>  }<br/>}</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="2b07" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">你学习的下一步</h1><p id="7396" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">我们希望这些提示能够帮助您充分利用Dart及其提供的所有功能。Flutter和Dart是构建感觉自然流畅的应用程序的强大组合。接下来要研究的其他高级Dart工具有:</p><ul class=""><li id="03a0" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu od mb mc md bi translated">嵌套的<code class="fe mj mk ml mm b">if</code>语句的扩展运算符</li><li id="d5a7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu od mb mc md bi translated">命名构造函数和初始化列表</li><li id="579f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu od mb mc md bi translated">Dart库</li><li id="02be" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu od mb mc md bi translated">枚举类型</li></ul><p id="b390" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">快乐学习！</p></div></div>    
</body>
</html>