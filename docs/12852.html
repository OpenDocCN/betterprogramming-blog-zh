<html>
<head>
<title>Jetpack Compose Theming: Shapes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack合成主题:形状</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/jetpack-compose-theming-shapes-3f3cc8df7e5c?source=collection_archive---------15-----------------------#2022-07-06">https://betterprogramming.pub/jetpack-compose-theming-shapes-3f3cc8df7e5c?source=collection_archive---------15-----------------------#2022-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="75ae" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我们心脏的形状</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bf8f6090bac0100a1c5ce40580ca8846.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*09wGuMXfZg4kMALEksOkAw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Robert Euro Djojoseputro 在<a class="ae kv" href="https://unsplash.com/s/photos/shapes-and-patterns?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="62b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我将解释材料主题的形状。</p><h2 id="a1d5" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">实现和默认值</h2><p id="2e03" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">根据组件的大小，材质主题提供了3种默认形状。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="c490" class="ls lt iq mr b gy mv mw l mx my">class Shapes(<br/>    <em class="mz">/**<br/>     * Shape used by small components like [Button] or [Snackbar]. Components like<br/>     * [FloatingActionButton], [ExtendedFloatingActionButton] use this shape, but override<br/>     * the corner size to be 50%. [TextField] uses this shape with overriding the bottom corners<br/>     * to zero.<br/>     */<br/>    </em><strong class="mr ir">val small: CornerBasedShape = <em class="mz">RoundedCornerShape</em>(4.<em class="mz">dp</em>),</strong><br/>    <em class="mz">/**<br/>     * Shape used by medium components like [Card] or [AlertDialog].<br/>     */<br/>    </em><strong class="mr ir">val medium: CornerBasedShape = <em class="mz">RoundedCornerShape</em>(4.<em class="mz">dp</em>),</strong><br/>    <em class="mz">/**<br/>     * Shape used by large components like [ModalDrawer] or [ModalBottomSheetLayout].<br/>     */<br/>    </em><strong class="mr ir">val large: CornerBasedShape = <em class="mz">RoundedCornerShape</em>(0.<em class="mz">dp</em>)</strong><br/>)</span></pre><p id="6931" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果组件很小(按钮)，默认形状为<code class="fe na nb nc mr b">Shapes.small</code>，如果是中型(卡片)，形状为<code class="fe na nb nc mr b">Shapes.medium</code>，对于最大的组件(底板)，形状为<code class="fe na nb nc mr b">Shapes.large</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/0bfe29fd8a074e532579d0cdb547884b.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*mxIToHXI8iV0BH4znbf6sA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">不同组件的默认形状</p></figure><p id="1c79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们在代码中看到的，<code class="fe na nb nc mr b">small</code>和<code class="fe na nb nc mr b">medium</code>形状用<code class="fe na nb nc mr b">4.dp</code>大小圆整，<code class="fe na nb nc mr b">large</code>形状用<code class="fe na nb nc mr b">0.dp</code>圆整——意思是直的。</p><h2 id="fdab" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">用户化</h2><p id="ec7d" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">当然，我们可以定制形状！我们需要做的是，创建我们自己的形状，并将它们传递给应用程序的主题。</p><p id="003b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要使用<code class="fe na nb nc mr b">CornerBasedShape</code>的形状。有一些通用的我们可以使用，如<code class="fe na nb nc mr b">RoundedCornerShape</code> <em class="mz"> </em>或<em class="mz"> </em> <code class="fe na nb nc mr b">CutCornerShape</code>。让我们试试不同圆形尺寸的RoundedCorner。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="9dc6" class="ls lt iq mr b gy mv mw l mx my">val shapes = Shapes(<br/>    small = <em class="mz">RoundedCornerShape</em>(24.<em class="mz">dp</em>),<br/>    medium = <em class="mz">RoundedCornerShape</em>(16.<em class="mz">dp</em>),<br/>    large = <em class="mz">RoundedCornerShape</em>(8.<em class="mz">dp</em>)<br/>)<br/><br/>MaterialTheme(<br/>    colors = colors, <em class="mz">// Covered already<br/>    </em>typography = typography, <em class="mz">// Covered already<br/>    </em>shapes = <strong class="mr ir">shapes</strong>,<br/>    content = content<br/>)</span></pre><p id="b35a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了便于比较，我将对所有组件使用<code class="fe na nb nc mr b">Card</code>并覆盖形状。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="3376" class="ls lt iq mr b gy mv mw l mx my">Card(<strong class="mr ir">shape = MaterialTheme.shapes.small</strong>) <strong class="mr ir">{<br/>    </strong>Text(<br/>        text = "Small",<br/>        modifier = Modifier.<em class="mz">padding</em>(16.<em class="mz">dp</em>)<br/>    )<br/><strong class="mr ir">}</strong></span></pre><p id="4b08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看它是什么样子的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/f5615574e6d5ac3bcfb5ab66d9ee5cdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qmge6HQrn6WKd1vXDI5ivQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">不同形状的卡片</p></figure><p id="17f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还可以使用更多定制的预制转角形状:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="74cf" class="ls lt iq mr b gy mv mw l mx my">val cutCorner = <em class="mz">CutCornerShape</em>(8.dp)<br/>val straigtCorner = <em class="mz">RoundedCornerShape</em>(0)<br/>val circle = <em class="mz">CircleShape</em></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/3146d18b3237b8e0dba122a6c3513ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ojNr3W12zhbvkd53tnJ8ew.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">预制形状</p></figure><h2 id="cdec" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">绝对角落</h2><p id="cea0" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">当我搜索预制形状时，我遇到了前缀为<code class="fe na nb nc mr b"><em class="mz">absolute</em></code>的相同预制形状。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="53bb" class="ls lt iq mr b gy mv mw l mx my">AbsoluteRoundedCornerShape()<br/>AbsoluteCutCornerShape()</span></pre><p id="d79b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们实现它们，我们看到它们和非绝对的是一样的。有什么区别？让我们检查一下文档:</p><blockquote class="ng nh ni"><p id="68e5" class="kw kx mz ky b kz la jr lb lc ld ju le nj lg lh li nk lk ll lm nl lo lp lq lr ij bi translated">描述带有切角的矩形的形状。角尺寸代表切割长度，即切割直角三角形的两条边的尺寸。<br/>该形状不会自动反映LayoutDirection中的角尺寸。Rtl，对该形状的布局方向感知版本使用CutCornerShape。</p></blockquote><p id="290d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好了，我们来比较一个不同布局方向的原始和绝对形状。我创建了两个切角的形状(原始的和绝对的),它们只在末端切割，开始是直的，这样我们可以根据布局方向观察镜像。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="af78" class="ls lt iq mr b gy mv mw l mx my">val cutCorner = <em class="mz">CutCornerShape</em>(0.<em class="mz">dp</em>, 8.dp, 8.dp, 0.<em class="mz">dp</em>)<br/>val absCutCorner = <em class="mz">AbsoluteCutCornerShape</em>(0.<em class="mz">dp</em>, 8.dp, 8.dp, 0.<em class="mz">dp</em>)</span></pre><p id="1ee0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">布局方向为:LTR</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/d57d8811c80c3976989102059ad9d09c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l7eJOiE0Gv-CwzdoGPTOSw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">LTR方向</p></figure><p id="1257" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">布局方向是:RTL</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/54de3493bff41be5b66d58e7a3e831b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VJ2B1St76FGD70cNwQ-cVw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">RTL方向</p></figure><p id="2dbf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们所观察到的，原始形状会调整布局方向，并将切角方向从右向左更改，但是绝对形状保持不变。</p><h2 id="4a57" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">我们自己定制的形状:DiamondCornerShape</h2><p id="1017" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">由于材料主题是关于品牌的应用程序，我们也可以创建自己的自定义形状。</p><p id="6a2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我创建了一个类，从<code class="fe na nb nc mr b">CornerBasedShape</code>派生并覆盖了两个方法:<code class="fe na nb nc mr b">copy()</code>和<code class="fe na nb nc mr b">createOutline()</code>。</p><ul class=""><li id="c0e5" class="no np iq ky b kz la lc ld lf nq lj nr ln ns lr nt nu nv nw bi translated"><code class="fe na nb nc mr b">copy()</code> - &gt;创建当前类的新实例</li><li id="10f2" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr nt nu nv nw bi translated"><code class="fe na nb nc mr b">createOutline()</code> - &gt;根据参数创建轮廓。有很多方法可以做。我们可以提供一些预制的轮廓，如<code class="fe na nb nc mr b">Outline.Rectangle</code>、<code class="fe na nb nc mr b">Outline.Rounded</code>或者我们可以创建自己的路径并提供一个<code class="fe na nb nc mr b">Outline.Generic</code></li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="e8a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我想创建一个菱形，因此我使用路径和它的方法。<code class="fe na nb nc mr b">createOutline</code>提供了我们需要的所有形状和边距的大小，所以我们需要做的基本上是根据x-y轴绘制线条。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/1bdec40b27c4cc7149ed448dbcfb60ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bOuFWCK9FwgmNGdqUgF2Yw.png"/></div></div></figure><p id="3475" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有的点代表一个坐标。<code class="fe na nb nc mr b">line(x,y)</code>方法从我们开始的点画线。<code class="fe na nb nc mr b">move(x,y)</code>方法移动起点到给定坐标。同样，一个白色的方框宽度(或高度)表示切割尺寸值，我们将该值作为切割尺寸参数提供给Diamond类。</p><p id="7446" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你沿着给定坐标的线走，我们会得到这个形状。(我建议使用方形纸来遵循协调——是的，老派)</p><p id="77fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，创建一个新变量<code class="fe na nb nc mr b">DiamondCornerShape</code>并用作组件的形状。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="c116" class="ls lt iq mr b gy mv mw l mx my">Card(<br/>    <strong class="mr ir">shape = <em class="mz">DiamondCornerShape</em>(cutSize = 10.dp)</strong>,<br/>    elevation = 10.<em class="mz">dp<br/></em>) <strong class="mr ir">{<br/>    </strong>Text(<br/>        text = text,<br/>        modifier = Modifier.<em class="mz">padding</em>(16.<em class="mz">dp</em>)<br/>    )<br/><strong class="mr ir">}</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/e5297d9894fabbddf617514202f82400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*clwloCyoMgf-gH8rkBwjdA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">不同切割尺寸的菱形</p></figure><p id="11c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请随意在您自己的项目中使用它！请注意，我没有根据布局方向修改它——即使它在我们的例子中是多余的。</p><p id="6432" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我的Jetpack撰写主题系列的结束。我希望你喜欢阅读！</p><p id="1a6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我以前的系列文章:</p><ul class=""><li id="bd1f" class="no np iq ky b kz la lc ld lf nq lj nr ln ns lr nt nu nv nw bi translated">colors:<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/jetpack-compose-theming-colors-1cf86754d5b9">https://better programming . pub/jetpack-compose-theming-colors-1 cf 86754 d5b 9</a></li><li id="0332" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr nt nu nv nw bi translated">排版I:<a class="ae kv" href="https://medium.com/@gozde.kaval/jetpack-compose-theming-typography-part-i-ac1796020ab" rel="noopener">https://medium . com/@ gozde . kaval/jetpack-compose-theming-排版-part-i-ac1796020ab </a></li><li id="cc54" class="no np iq ky b kz nx lc ny lf nz lj oa ln ob lr nt nu nv nw bi translated">排版二:<a class="ae kv" href="https://medium.com/@gozde.kaval/jetpack-compose-theming-typography-part-ii-cb9527e8f110" rel="noopener">https://medium . com/@ gozde . kaval/jetpack-compose-theming-排版-part-ii-cb9527e8f110 </a></li></ul></div></div>    
</body>
</html>