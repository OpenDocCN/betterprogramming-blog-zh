<html>
<head>
<title>How To Define Function Parameters As Positional, Keyword, or Both in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中将函数参数定义为位置参数、关键字参数或两者都定义</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-define-function-parameters-as-positional-keyword-or-both-in-python-8753ca2ac5ca?source=collection_archive---------10-----------------------#2019-11-12">https://betterprogramming.pub/how-to-define-function-parameters-as-positional-keyword-or-both-in-python-8753ca2ac5ca?source=collection_archive---------10-----------------------#2019-11-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b341" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">开始在函数定义中使用新的/和*符号</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4f46e8629fdf293ba0a07a9c827418b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Kb1XcyAinllJ1Is5tCbmw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@austindistel?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Austin Distel </a>在<a class="ae ky" href="https://unsplash.com/s/photos/keyword?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="0f86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从Python 3.8开始，现在可以将函数参数定义为仅位置参数、仅关键字参数或可选关键字参数。</p><p id="b0c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们讨论一下什么是函数，函数参数的类型，最后，如何将参数定义为位置参数、关键字参数或两者兼有。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3366" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">什么是功能？</h1><p id="58ee" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">简而言之，函数是定义好的可以重复调用的语句序列——称为<em class="mz">函数调用。</em></p><p id="fb0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">把函数的定义想象成一个黑盒，意味着函数中发生的事情留在函数中。这个规则的例外是指定的输入(称为参数)和指定的输出(称为返回)。</p><p id="32d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用函数创建一系列语句，这些语句在受控环境中完成较小的任务，并受益于性能更好且更易于维护的代码。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5eb4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">函数参数的类型</h1><p id="69d2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">定义自定义函数时，保存传入值的变量称为参数。</p><p id="efeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">传统上，参数列表的顺序非常关键，因为参数和实参的顺序是一对一匹配的。这些被称为<em class="mz">位置参数。</em></p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="a47c" class="nf md it nb b gy ng nh l ni nj">def myFunction(a,b,c):<br/>   print(a,b,c)</span><span id="1915" class="nf md it nb b gy nk nh l ni nj">myFunction(1,2,3) # 1,2,3</span></pre><p id="ad71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Python中，函数参数也可以指定为<em class="mz">关键字参数</em>。在这种情况下，调用函数时会包含参数名，从而显式声明哪个值位于何处。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d192" class="nf md it nb b gy ng nh l ni nj">def myFunction(a,b,c):<br/>   print(a,b,c)</span><span id="a07a" class="nf md it nb b gy nk nh l ni nj">myFunction(b=2,c=3,a=1) 1,2,3</span></pre><p id="f1af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，可以为参数定义默认值，从而使其成为可选的。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e664" class="nf md it nb b gy ng nh l ni nj">def myFunction(a,b,c=None):<br/>   print(a,b,c)</span><span id="a463" class="nf md it nb b gy nk nh l ni nj">myFunction(1,2,3) # 1,2,3<br/>myFunction(1,2)   # 1,2,None</span></pre><p id="517f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当函数中的某些参数是可选的，并且您只想指定参数的子集时，使用关键字参数很有帮助。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="c3a3" class="nf md it nb b gy ng nh l ni nj">def myFunction(a,b,c=None,d=None):<br/>   print(a,b,c,d)</span><span id="c4d1" class="nf md it nb b gy nk nh l ni nj">myFunction(1,2,d=4) # 1,2,None,4<br/># no need to pass a value for c</span></pre><p id="5fd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，虽然参数默认为位置参数，但一旦参数作为关键字传递，调用中其后的所有参数都需要是关键字。</p><p id="09bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不能在positional和keyword之间来回跳转。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="b50f" class="nf md it nb b gy ng nh l ni nj">def myFunction(a,b,c):<br/>   print(a,b,c)</span><span id="3c95" class="nf md it nb b gy nk nh l ni nj">myFunction(1,b=2,3) # will cause an error<br/># SyntaxError: positional argument follows keyword argument</span></pre><p id="fdfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种灵活性确实会带来后果和问题。给定我们之前的代码片段，如果我们更改函数内部参数的名称，将该参数作为关键字引用的调用将会中断。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d157" class="nf md it nb b gy ng nh l ni nj">def myFunction(x,y,z):<br/>   print(a,b,c)</span><span id="ff1a" class="nf md it nb b gy nk nh l ni nj">myFunction(1,2,3)       # still works with new definition<br/>myFunction(c=3,b=2,a=1) # this is no longer valid</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="361b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">如何将参数定义为位置参数、关键字参数或两者都定义</h1><p id="9411" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">从Python 3.8开始，现在可以显式地将参数定义为仅位置参数、关键字可选参数或仅关键字参数。</p><p id="8315" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe nl nm nn nb b">/</code>和<code class="fe nl nm nn nb b">*</code>符号，参数将基于它们相对于符号的位置而具有前述属性。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e9e0" class="nf md it nb b gy ng nh l ni nj">positional only / keyword optional * keyword only</span></pre><p id="22c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过修改我们的原始函数，我们可以看到这一点。我们将只设置<code class="fe nl nm nn nb b">a</code>为位置关键字，<code class="fe nl nm nn nb b">b</code>为可选关键字，而<code class="fe nl nm nn nb b">c</code>为唯一关键字。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d395" class="nf md it nb b gy ng nh l ni nj">def myFunction(a,/,b,*,c):<br/>   print(a,b,c)</span><span id="caf1" class="nf md it nb b gy nk nh l ni nj">myFunction(1,2,3) <br/># TypeError: myFunction() takes 2 positional arguments but 3 were given</span><span id="cb13" class="nf md it nb b gy nk nh l ni nj">myFunction(a=1,b=2,c=3) <br/># TypeError: myFunction() got some positional-only arguments passed as keyword arguments: 'a'</span><span id="30f0" class="nf md it nb b gy nk nh l ni nj"># valid function calls<br/>myFunction(1,2,c=3)<br/>myFunction(1,b=2,c=3)</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f285" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="bd23" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如何使用仅位置参数、可选关键字参数和仅关键字参数？</p><p id="1d96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据<a class="ae ky" href="https://www.python.org/dev/peps/pep-0570/" rel="noopener ugc nofollow" target="_blank"> PEP 570 </a>，仅使用位置参数允许通过<code class="fe nl nm nn nb b">**kwargs</code>使用与参数同名的参数。你怎么想呢?</p></div></div>    
</body>
</html>