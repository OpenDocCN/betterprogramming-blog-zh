<html>
<head>
<title>Fre$h — The Next Gen Framework for Web Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">fre $ h——Web开发人员的下一代框架</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/fre-h-the-next-gen-framework-for-web-developers-794d3f1a54a6?source=collection_archive---------9-----------------------#2022-07-06">https://betterprogramming.pub/fre-h-the-next-gen-framework-for-web-developers-794d3f1a54a6?source=collection_archive---------9-----------------------#2022-07-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4464" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">它向浏览器发送0 JavaScript</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/9fa86de7254ee55a1fff3eccf8a71781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*jJ3BrDNkoBV1DEnhElVeyg.gif"/></div></figure><p id="7df7" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在一个每个人都吹嘘构建时间更短的世界里，一个新的更自由的框架实现了零构建步骤。</p><p id="1b60" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">"天啊，又一个JavaScript框架？"—但是听我说完。不过，这个很酷。就是<a class="ae lm" href="https://fresh.deno.dev/" rel="noopener ugc nofollow" target="_blank"> Fre$h </a>，连logo都滴。</p><p id="d6a3" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果这还不足以说服您，也许“孤岛架构”和一流的类型脚本用法可以。</p><h1 id="fade" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">什么是Fre$h？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/02ea20848191c37c96e401ecf47cce41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*WIj7PcoFwAlxKwwc5kK0ew.png"/></div></figure><p id="1ac4" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">它是一个基于SSR(服务器端渲染)的全栈框架。</p><p id="15fa" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">您可以将其与Ruby on Rails进行比较。转折:你用TypeScript写你的应用程序。这是可能的，因为Fre$h是建立在<a class="ae lm" href="https://deno.land/" rel="noopener ugc nofollow" target="_blank"> Deno </a>之上的。</p><h2 id="7735" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">什么是德诺？</h2><p id="8019" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">Deno是“基于V8 JavaScript引擎和Rust编程语言的JavaScript、TypeScript和WebAssembly的运行时。Deno是由<strong class="ks iu">瑞安·达尔</strong>共同创造的，他也创造了Node。js。”— <a class="ae lm" href="https://www.google.com/search?q=wo+created+deno&amp;rlz=1C5CHFA_enDE911DE911&amp;oq=wo+created+deno&amp;aqs=chrome..69i57j0i13j0i10i22i30l3j0i22i30l2j0i22i30i457j0i15i22i30j0i390.1905j0j7&amp;sourceid=chrome&amp;ie=UTF-8" rel="noopener ugc nofollow" target="_blank">来源</a></p><h2 id="45a5" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">为什么创造了德诺？</h2><p id="9063" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">“Deno是专门为修复Dahl认为的Node的关键弱点而创建的<strong class="ks iu">。”</strong> — <a class="ae lm" href="https://thenewstack.io/how-node-js-is-addressing-the-challenge-of-ryan-dahls-deno/" rel="noopener ugc nofollow" target="_blank">来源</a></p><p id="2d31" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这种设置允许您零构建步骤和类型脚本作为支持的语言。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="ae35" class="ln lo it bd lp lq ne ls lt lu nf lw lx jz ng ka lz kc nh kd mb kf ni kg md me bi translated">岛屿建筑</h1><p id="717d" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">减少通过交互“孤岛”发布的JavaScript数量。</p><p id="0781" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这些岛是基于组件的，并且建议页面的有组织的视图。整个视图通过静态和动态的岛结合在一起。</p><p id="5e8f" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">静态部分是纯HTML，不需要“水合”。动态区域结合了HTML和呈现后选择的脚本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nj"><img src="../Images/f7acc0a1d06d85d64b3694e7aa33cc0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1_bz6cSGDR0hmMWi.png"/></div></div><p class="no np gj gh gi nq nr bd b be z dk translated">SSR渐进式水合作用与岛屿建筑的比较— <a class="ae lm" href="https://res.cloudinary.com/ddxwdqwkr/image/upload/v1633284886/patterns.dev/theislandsarch--avuxy9rrkk8.png" rel="noopener ugc nofollow" target="_blank">图片来源</a></p></figure><p id="7143" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><em class="ns">框架</em><a class="ae lm" href="https://astro.build/" rel="noopener ugc nofollow" target="_blank"><em class="ns">Astro</em></a><em class="ns">和</em><a class="ae lm" href="https://markojs.com/" rel="noopener ugc nofollow" target="_blank"><em class="ns">Marko</em></a><em class="ns">也采用了岛式架构。</em></p><p id="2c76" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">综上所述，Island Architecture用普通的HTML创建了你的网站的静态部分。启用快速加载web应用程序。当需要交互性时，特定的组件只需要注入JavaScript。</p><p id="4638" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">但是有些事情会变得棘手:身份验证和有状态路由。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="f987" class="ln lo it bd lp lq ne ls lt lu nf lw lx jz ng ka lz kc nh kd mb kf ni kg md me bi translated">Fre$h的基本概念</h1><h2 id="79b9" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">架构目标:</h2><p id="04ac" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">通过应用以下原则，可以轻松构建快速、可伸缩且可靠的应用程序:</p><ul class=""><li id="c601" class="nt nu it ks b kt ku kw kx kz nv ld nw lh nx ll ny nz oa ob bi translated">将页面加载时间降至最低</li><li id="dc67" class="nt nu it ks b kt oc kw od kz oe ld of lh og ll ny nz oa ob bi translated">最小化客户端工作量。</li><li id="3ce4" class="nt nu it ks b kt oc kw od kz oe ld of lh og ll ny nz oa ob bi translated">产生具有小爆炸半径的误差。</li></ul><h2 id="2a87" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated"><strong class="ak">路线:</strong></h2><p id="861d" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">路由描述了如何处理给定路径的请求。</p><p id="0495" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">路线有两个主要部分:一个路由可以有一个或两个，但不能都没有。</p><ol class=""><li id="c5d3" class="nt nu it ks b kt ku kw kx kz nv ld nw lh nx ll oh nz oa ob bi translated">Handler —为特定路由的每个请求调用。</li><li id="e469" class="nt nu it ks b kt oc kw od kz oe ld of lh og ll oh nz oa ob bi translated">组件—获得SSR的页面的模板。</li></ol><h2 id="542d" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">互动岛:</h2><p id="d5a3" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">孤岛允许Fre$h中的客户端交互。</p><p id="e525" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">孤岛是孤立的<a class="ae lm" href="https://preactjs.com/" rel="noopener ugc nofollow" target="_blank">预动作</a>组件。与其他组件相比，它们呈现在客户端。</p><p id="e01e" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">孤岛是通过在Fre$h项目的<code class="fe oi oj ok ol b">islands/</code>文件夹中创建一个文件来定义的。</p><h2 id="62da" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">静态文件:</h2><p id="e2a7" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">静态资产被放在项目根目录下的一个<code class="fe oi oj ok ol b">static/</code>目录中。这些资产在网络服务器的根目录下提供服务。</p><h2 id="5d2a" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">路由中间件:</h2><p id="fe47" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">中间件会拦截任何想要的请求。</p><p id="ce36" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">然后，您可以在路由处理程序之前或之后执行自定义逻辑。因此，它允许您修改或检查请求和响应。需要拦截器的常见操作有日志记录、身份验证和性能监控。</p><h2 id="6aaa" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">错误页面:</h2><p id="d787" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">Fre$h允许你定制默认的错误页面。</p><p id="3149" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">例如，通过在<code class="fe oi oj ok ol b">routes/</code>文件夹中创建一个<code class="fe oi oj ok ol b">_404.tsx</code>文件来定制404页面。</p><h2 id="c91e" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">路由:</h2><p id="bcf8" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">Fre$h根据URL路径路由请求。</p><p id="138e" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">通常，任何路由都会指定它们被调用的路径。通过使用文件名来完成。Routes还可以定义一个定制的<a class="ae lm" href="https://developer.mozilla.org/en-US/docs/Web/API/URL_Pattern_API" rel="noopener ugc nofollow" target="_blank"> URL模式</a>来匹配更高级的用例。</p><p id="de3c" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><em class="ns">这种基于文件的路由已经在Next.js中实现了</em></p><h2 id="5756" class="mg lo it bd lp mh mi dn lt mj mk dp lx kz ml mm lz ld mn mo mb lh mp mq md mr bi translated">数据提取:</h2><p id="a10a" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">异步处理函数用于服务器端数据获取。</p><p id="abc8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">使用处理函数调用呈现函数，将要呈现的数据作为参数。将它返回给客户机以检索作为呈现组件的数据。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><p id="dc28" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><a class="ae lm" href="https://arnoldcodeacademy.ck.page/code-smells-cheat-sheet" rel="noopener ugc nofollow" target="_blank"> <strong class="ks iu"> <em class="ns">用我的“所有代码的味道就像一条线”——备忘单，很容易记住每个代码的味道。</em> </strong> </a></p><h1 id="a694" class="ln lo it bd lp lq lr ls lt lu lv lw lx jz ly ka lz kc ma kd mb kf mc kg md me bi translated">抢先一步</h1><p id="d006" class="pw-post-body-paragraph kq kr it ks b kt ms ju kv kw mt jx ky kz mu lb lc ld mv lf lg lh mw lj lk ll im bi translated">要开始您的第一个示例项目，请打开他们的<a class="ae lm" href="https://fresh.deno.dev/#getting-started" rel="noopener ugc nofollow" target="_blank">入门</a>并投入其中🚀</p><p id="fe39" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">更像个读者？首先阅读他们的<a class="ae lm" href="https://fresh.deno.dev/docs/introduction" rel="noopener ugc nofollow" target="_blank">文档</a>📖</p></div></div>    
</body>
</html>