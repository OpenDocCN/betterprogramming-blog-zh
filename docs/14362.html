<html>
<head>
<title>ChatGPT Does SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ChatGPT做SwiftUI</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/chatgpt-vs-swiftui-febc24c6d8a?source=collection_archive---------0-----------------------#2022-12-04">https://betterprogramming.pub/chatgpt-vs-swiftui-febc24c6d8a?source=collection_archive---------0-----------------------#2022-12-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ff75" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我并不担心，但是…</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6945b06c59eb81047943af6eb30a9b96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*voqFrEj_3APXp2lwWIKpmg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安德烈·德·森蒂斯峰在<a class="ae ky" href="https://unsplash.com/s/photos/AI-programmer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0a50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ChatGPT是OpenAI的一个演示项目，可以讨论很多话题。包括编程。</p><p id="b3f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来测试一下，好吗？</p><h1 id="f2f3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">ChatGPT对话</h1><p id="2689" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">从这一点开始，接下来的一切就是我的输入提示，然后是ChatCGP的响应，以及完整的示例代码。</p><blockquote class="ms mt mu"><p id="be95" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">嘿，ChatGPT，你能做一个SwiftUI输入表单，包含姓名、地址、城市、州和邮政编码字段吗？</p></blockquote><p id="1233" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然可以！下面是SwiftUI中一个简单的表单示例，其中包含姓名、地址、城市、州和邮政编码字段:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="889a" class="ne lw it na b be nf ng l nh ni">import SwiftUI<br/><br/>struct EntryForm: View {<br/>    @State private var name: String = ""<br/>    @State private var address: String = ""<br/>    @State private var city: String = ""<br/>    @State private var state: String = ""<br/>    @State private var zipCode: String = ""<br/><br/>    var body: some View {<br/>        Form {<br/>            TextField("Name", text: $name)<br/>            TextField("Address", text: $address)<br/>            TextField("City", text: $city)<br/>            TextField("State", text: $state)<br/>            TextField("Zip code", text: $zipCode)<br/>        }<br/>    }<br/>}</span></pre><p id="2ed8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，<code class="fe nj nk nl na b">EntryForm</code>结构符合<code class="fe nj nk nl na b">View</code>协议，并定义了一个返回<code class="fe nj nk nl na b">Form</code>视图的<code class="fe nj nk nl na b">body</code>属性。<code class="fe nj nk nl na b">Form</code>视图包含每个表单字段的<code class="fe nj nk nl na b">TextField</code>视图，<code class="fe nj nk nl na b">@State</code>属性包装器用于管理每个字段的状态。</p><blockquote class="ms mt mu"><p id="429b" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">能否将字段移动到视图模型中？</p></blockquote><p id="ebe6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，为了更好地管理表单的状态和逻辑，您可以将表单字段移动到单独的视图模型中。下面是一个可能的例子:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="e798" class="ne lw it na b be nf ng l nh ni">import SwiftUI<br/><br/>struct EntryForm: View {<br/>    @ObservedObject var viewModel: EntryFormViewModel<br/><br/>    var body: some View {<br/>        Form {<br/>            TextField("Name", text: $viewModel.name)<br/>            TextField("Address", text: $viewModel.address)<br/>            TextField("City", text: $viewModel.city)<br/>            TextField("State", text: $viewModel.state)<br/>            TextField("Zip code", text: $viewModel.zipCode)<br/>        }<br/>    }<br/>}<br/><br/>class EntryFormViewModel: ObservableObject {<br/>    @Published var name: String = ""<br/>    @Published var address: String = ""<br/>    @Published var city: String = ""<br/>    @Published var state: String = ""<br/>    @Published var zipCode: String = ""<br/>}</span></pre><p id="bcbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，<code class="fe nj nk nl na b">EntryForm</code>结构有一个引用<code class="fe nj nk nl na b">EntryFormViewModel</code>类实例的<code class="fe nj nk nl na b">@ObservedObject</code>属性。这允许<code class="fe nj nk nl na b">EntryForm</code>视图使用<code class="fe nj nk nl na b">$</code>前缀绑定到视图模型的属性，就像在前面的例子中使用<code class="fe nj nk nl na b">@State</code>属性一样。</p><p id="285a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">EntryFormViewModel</code>类为每个表单字段定义了<code class="fe nj nk nl na b">@Published</code>属性，当这些属性的值改变时，视图可以得到通知。这允许视图在用户更改表单字段时自动更新。</p><p id="3fc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法有助于将视图逻辑和状态管理与视图本身分开，使代码更容易理解和维护。</p><blockquote class="ms mt mu"><p id="0392" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">如果我需要验证所有字段都不为空，该怎么办？</p></blockquote><p id="5ea8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您需要验证表单中没有一个字段是空的，那么您可以向<code class="fe nj nk nl na b">EntryFormViewModel</code>类添加一个方法来检查表单字段的值，并返回一个<code class="fe nj nk nl na b">Bool</code>来指示表单是否有效。下面是一个可能的例子:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="d81f" class="ne lw it na b be nf ng l nh ni">class EntryFormViewModel: ObservableObject {<br/>    @Published var name: String = ""<br/>    @Published var address: String = ""<br/>    @Published var city: String = ""<br/>    @Published var state: String = ""<br/>    @Published var zipCode: String = ""<br/><br/>    var isValid: Bool {<br/>        return !name.isEmpty &amp;&amp; !address.isEmpty &amp;&amp; !city.isEmpty &amp;&amp; !state.isEmpty &amp;&amp; !zipCode.isEmpty<br/>    }<br/>}</span></pre><p id="9155" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，<code class="fe nj nk nl na b">isValid</code>属性使用每个表单字段的<code class="fe nj nk nl na b">isEmpty</code>属性来确定表单是否有效。如果所有字段都不为空，<code class="fe nj nk nl na b">isValid</code>属性将返回<code class="fe nj nk nl na b">true</code>，否则将返回<code class="fe nj nk nl na b">false</code>。</p><p id="cda4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，您可以在视图中使用该属性来启用或禁用提交按钮，或者在表单无效时显示错误消息。</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="3455" class="ne lw it na b be nf ng l nh ni">struct EntryForm: View {<br/>    @ObservedObject var viewModel: EntryFormViewModel<br/><br/>    var body: some View {<br/>        Form {<br/>            TextField("Name", text: $viewModel.name)<br/>            TextField("Address", text: $viewModel.address)<br/>            TextField("City", text: $viewModel.city)<br/>            TextField("State", text: $viewModel.state)<br/>            TextField("Zip code", text: $viewModel.zipCode)<br/><br/>            if !viewModel.isValid {<br/>                Text("All fields are required")<br/>                    .foregroundColor(.red)<br/>            }<br/>        }<br/>    }<br/>}</span></pre><p id="e147" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，<code class="fe nj nk nl na b">EntryForm</code>视图检查<code class="fe nj nk nl na b">isValid</code>属性的值，如果表单无效，它使用<code class="fe nj nk nl na b">Text</code>视图显示一条错误消息。这允许用户知道为了使表单有效，需要填写哪些字段。</p><blockquote class="ms mt mu"><p id="3732" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">我们可以在表单中添加一个保存按钮吗？</p></blockquote><p id="7623" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，您可以通过使用<code class="fe nj nk nl na b">EntryForm</code>结构中的<code class="fe nj nk nl na b">Button</code>视图向表单添加一个保存按钮。下面是一个可能的例子:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="1540" class="ne lw it na b be nf ng l nh ni">struct EntryForm: View {<br/>    @ObservedObject var viewModel: EntryFormViewModel<br/><br/>    var body: some View {<br/>        Form {<br/>            TextField("Name", text: $viewModel.name)<br/>            TextField("Address", text: $viewModel.address)<br/>            TextField("City", text: $viewModel.city)<br/>            TextField("State", text: $viewModel.state)<br/>            TextField("Zip code", text: $viewModel.zipCode)<br/><br/>            if !viewModel.isValid {<br/>                Text("All fields are required")<br/>                    .foregroundColor(.red)<br/>            }<br/><br/>            Button(action: {<br/>                // Save the form data here<br/>            }) {<br/>                Text("Save")<br/>            }<br/>            .disabled(!viewModel.isValid)<br/>        }<br/>    }<br/>}</span></pre><p id="be5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，<code class="fe nj nk nl na b">EntryForm</code>视图包括一个<code class="fe nj nk nl na b">Button</code>视图，该视图带有一个动作闭包，当点击按钮时会调用这个动作闭包。该闭包可用于将表单数据保存到数据库或其他存储位置。</p><p id="002f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">Button</code>视图还有一个<code class="fe nj nk nl na b">disabled</code>修饰符，如果<code class="fe nj nk nl na b">EntryFormViewModel</code>的<code class="fe nj nk nl na b">isValid</code>属性是<code class="fe nj nk nl na b">false</code>，这个修饰符将禁用按钮。这确保了在用户保存数据之前表单必须正确填写。</p><blockquote class="ms mt mu"><p id="fb16" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">你能根据表单信息创建一个用户结构吗？</p></blockquote><p id="adbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然可以！下面是一个可以用来表示表单数据的<code class="fe nj nk nl na b">User</code>结构的例子:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="4e1e" class="ne lw it na b be nf ng l nh ni">struct User {<br/>    var name: String<br/>    var address: String<br/>    var city: String<br/>    var state: String<br/>    var zipCode: String<br/>}</span></pre><p id="4d44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个<code class="fe nj nk nl na b">User</code>结构定义了每个表单字段的属性，比如<code class="fe nj nk nl na b">name</code>、<code class="fe nj nk nl na b">address</code>、<code class="fe nj nk nl na b">city</code>、<code class="fe nj nk nl na b">state</code>和<code class="fe nj nk nl na b">zipCode</code>。这些属性可用于存储用户在表单中输入的值。</p><p id="2b4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个例子，说明如何使用表单中的值创建一个<code class="fe nj nk nl na b">User</code>结构的实例:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="b4a3" class="ne lw it na b be nf ng l nh ni">let user = User(<br/>    name: viewModel.name,<br/>    address: viewModel.address,<br/>    city: viewModel.city,<br/>    state: viewModel.state,<br/>    zipCode: viewModel.zipCode<br/>)</span></pre><p id="260f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，<code class="fe nj nk nl na b">user</code>常量是用来自<code class="fe nj nk nl na b">EntryFormViewModel</code>实例的值初始化的。然后，您可以使用这个<code class="fe nj nk nl na b">User</code>实例将数据保存到数据库或其他存储位置，或者将数据传递给应用程序的另一部分，以供进一步处理。</p><blockquote class="ms mt mu"><p id="4133" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">我如何从结构中填充视图模型上的字段？</p></blockquote><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="ea39" class="ne lw it na b be nf ng l nh ni">class EntryFormViewModel: ObservableObject {<br/>    @Published var name: String = ""<br/>    @Published var address: String = ""<br/>    @Published var city: String = ""<br/>    @Published var state: String = ""<br/>    @Published var zipCode: String = ""<br/><br/>    var isValid: Bool {<br/>        return !name.isEmpty &amp;&amp; !address.isEmpty &amp;&amp; !city.isEmpty &amp;&amp; !state.isEmpty &amp;&amp; !zipCode.isEmpty<br/>    }<br/><br/>    func populate(with user: User) {<br/>        name = user.name<br/>        address = user.address<br/>        city = user.city<br/>        state = user.state<br/>        zipCode = user.zipCode<br/>    }<br/>}</span></pre><p id="014a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是如何使用该方法填充表单字段的示例:</p><pre class="kj kk kl km gt mz na nb bn nc nd bi"><span id="b6e7" class="ne lw it na b be nf ng l nh ni">let user = User(<br/>    name: "John Doe",<br/>    address: "123 Main St",<br/>    city: "Anytown",<br/>    state: "CA",<br/>    zipCode: "12345"<br/>)<br/><br/>viewModel.populate(with: user)</span></pre><p id="1be9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，<code class="fe nj nk nl na b">user</code>常量用一些样本数据初始化，然后在<code class="fe nj nk nl na b">viewModel</code>实例上调用<code class="fe nj nk nl na b">populate(with:)</code>方法，将<code class="fe nj nk nl na b">user</code>实例作为参数传入。这将设置视图模型的属性值以匹配<code class="fe nj nk nl na b">User</code>实例的值，这将依次用来自<code class="fe nj nk nl na b">User</code>实例的数据填充表单字段。</p><p id="5dd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mv">结束会话</em></p><p id="16c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总耗时:2分钟。为这篇文章复制文本并设置格式花费的时间比这长。</p><h2 id="1cba" class="nm lw it bd lx nn no dn mb np nq dp mf li nr ns mh lm nt nu mj lq nv nw ml nx bi translated">完成块</h2><p id="5290" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">几年前，我参加了西海岸电脑展，记得第一次看到苹果丽萨和施乐之星。</p><p id="8c31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我看着这些屏幕时，我感觉到小手指在我的背上爬来爬去，我记得当时想，“就是它了。从现在开始就是这样了。”</p><p id="c0ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那些早期的所见即所得系统从未真正进入大众市场，但从那时起，两者的影响改变了世界。</p><p id="5449" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我从ChatGPT那里得到了同样的感觉。</p><p id="1580" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">世界正在改变。</p><p id="8e45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">又来了。</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><p id="7d65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续:<a class="ae ky" href="https://michaellong.medium.com/another-chatgpt-swiftui-session-67359737033a" rel="noopener">另一个ChatGPT SwiftUI会话</a></p></div></div>    
</body>
</html>