<html>
<head>
<title>JavaScript: Normal, Anonymous, and IIFE Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript:普通函数、匿名函数和生活函数</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/javascript-normal-anonymous-and-iife-functions-11505360e4d1?source=collection_archive---------0-----------------------#2019-03-20">https://betterprogramming.pub/javascript-normal-anonymous-and-iife-functions-11505360e4d1?source=collection_archive---------0-----------------------#2019-03-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cec8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为什么函数有用，它们有什么作用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/98980bf1f4ddb22ff5f90300b97cbbaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ERA5Hj34lNGmNZX63TnyAQ.png"/></div></div></figure><p id="3213" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">九天的全职JavaScript。来自<a class="ae lq" href="https://www.ruby-lang.org/en/" rel="noopener ugc nofollow" target="_blank"> Ruby </a>，我完全忘记了如何在JavaScript中定义一个函数(我以前确实有过一些经验，都被遗忘了)。</p><p id="a2d8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">幸运的是，一些概念和Ruby是一样的，Ruby是我在六周前学的语言。我深情地回忆起那些日子。简单。灵活性。句法微风！</p><p id="45f1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我只能拿JavaScript和Ruby比，我只懂Ruby。从Ruby过渡到Javascript起初是一个令人沮丧的过程(尽管比什么都不学编程语言要容易得多)。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="f7ba" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">功能</h1><p id="82e1" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">请允许我描述一下函数为什么有用以及它们的作用。</p><p id="a63e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">打个比方:你在一家超级繁忙的餐馆工作。超级忙。他们只供应千层面。你的工作是用微波炉加热每一片千层面一分钟。</p><p id="b552" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你一小时要做59片。输入1，然后0，再0，然后开始会消耗太多时间。你的老板Guido Salami开始生气了，因为你在过去的一个小时里只生产了58片。</p><p id="7041" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后你注意到微波炉上的一个按钮，它显示<em class="mv">一分钟</em> <strong class="kw iu">。由于你正在做一项远低于你认知能力的工作，你推断这个按钮被预先设定为一分钟，按下后就会启动。</strong></p><p id="64c7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以，现在你要做的就是放入一个冷切片，关上门，按一分钟。第二个小时你做了60片千层面，你的创新给Guido留下了深刻印象，他给你加薪升职，你拒绝了，成为了一名JavaScript开发人员。</p><p id="421e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就是函数的作用。它为您执行重复的数据任务，因此您不必在每次需要时都键入行为。</p><p id="d50f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">多么有趣的类比。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="2ce8" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">基础和正常/声明的函数</h1><p id="15ae" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">学习JavaScript时，我注意到的第一件事是编写函数时的一些通用规则。首先，你必须让JavaScript知道它是一个函数。</p><p id="b76a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是你怎么做的。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="1d33" class="nb lz it mx b gy nc nd l ne nf">function</span></pre><p id="0190" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好，我给你一个函数的真实例子。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="b545" class="nb lz it mx b gy nc nd l ne nf">function realExample(){</span><span id="3cb3" class="nb lz it mx b gy ng nd l ne nf">}</span></pre><p id="00e3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">函数名为<code class="fe nh ni nj mx b">camelCase</code>。在定义这种类型的函数时，花括号是必要的，它是函数的主体，是你操作数据的地方。</p><p id="244e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当您的<code class="fe nh ni nj mx b">index.js</code>页面加载时，它保存这些函数供以后使用(不立即执行)。</p><h2 id="f333" class="nb lz it bd ma nk nl dn me nm nn dp mi ld no np mk lh nq nr mm ll ns nt mo nu bi translated">使命感；责任感</h2><p id="7f2e" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">如何不调用函数？</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="e1ad" class="nb lz it mx b gy nc nd l ne nf">realExample</span><span id="0926" class="nb lz it mx b gy ng nd l ne nf"><em class="mv">=&gt; ƒ realExample(){<br/>}<br/>this merely returns what your function is.</em></span></pre><p id="2749" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如何调用函数？</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="2fd1" class="nb lz it mx b gy nc nd l ne nf">realExample()<br/> <em class="mv">runs the function</em></span></pre><p id="bffc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">调用这种类型的函数时，括号是必需的。</p><p id="c606" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好了回到我们的<code class="fe nh ni nj mx b">realExample</code> <em class="mv"> </em>用函数体来运行<em class="mv">。</em></p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="2f88" class="nb lz it mx b gy nc nd l ne nf">function realExample(){<br/>   21+21<br/>}</span></pre><p id="bfc8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从逻辑上讲，你会假设当我调用<code class="fe nh ni nj mx b">realExample()</code> <em class="mv">，</em> 42将是返回值。让我们来测试一下。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="7bbb" class="nb lz it mx b gy nc nd l ne nf">function realExample(){<br/>    21+21<br/>} =&gt; <em class="mv">undefined</em></span><span id="3aff" class="nb lz it mx b gy ng nd l ne nf">realExample()<br/>=&gt; <em class="mv">undefined</em></span></pre><p id="37d0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">啊哦。发生了什么，我们如何解决？第一件事。函数值必须显式返回！</p><p id="95bb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如何在函数中显式返回值？</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="bb8a" class="nb lz it mx b gy nc nd l ne nf">function realExample(){<br/>    <strong class="mx iu">return</strong> 21+21<br/>}<br/>=&gt; 42<br/><em class="mv">There you go. The answer to life, universe, and everything.</em></span></pre><p id="c49a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们通过添加参数来增加这个函数的复杂性。我们把它们放在括号里。</p><p id="0264" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">示例:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="fad4" class="nb lz it mx b gy nc nd l ne nf">function realExample(num1, num2){<br/>    return num1+num2<br/>}</span></pre><p id="5690" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是函数的功能真正变得有用和动态的地方。示例:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="4eeb" class="nb lz it mx b gy nc nd l ne nf">realExample(21,21)<br/>=&gt; 42<br/><em class="mv">The meaning of everything.</em></span></pre><p id="4457" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，无论何时你想把两个东西加在一起，你都可以使用函数。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="aada" class="nb lz it mx b gy nc nd l ne nf">realExample("forty","-two")<br/>=&gt; "forty-two"<br/><em class="mv">Universe.</em></span></pre><p id="63e5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">酷毙了。下一个。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="81ec" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">匿名函数</strong></h1><p id="6cea" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">匿名函数是匿名的函数。它没有名字。然而，它可以存储在一个变量中，并以基本相同的方式运行。</p><p id="a20c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">示例:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="a4de" class="nb lz it mx b gy nc nd l ne nf">let universe = function (num1, num2){<br/>return num1+num2<br/>}</span><span id="1942" class="nb lz it mx b gy ng nd l ne nf"><em class="mv">Notice the lack of function name, we've saved it to a variable. This is what makes it anonymous.</em></span></pre><h2 id="4cbb" class="nb lz it bd ma nk nl dn me nm nn dp mi ld no np mk lh nq nr mm ll ns nt mo nu bi translated"><strong class="ak">调用匿名函数</strong></h2><p id="5712" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">这与调用常规函数非常相似，但是你调用变量名，因为没有函数名。如果你愿意，你可以把它保存到一个不同的变量中。</p><p id="0b31" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">示例:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="ddbe" class="nb lz it mx b gy nc nd l ne nf">let universe = function (num1, num2){<br/>    return num1+num2<br/>}</span><span id="0877" class="nb lz it mx b gy ng nd l ne nf">universe(21,21)<br/>=&gt; 42</span><span id="28ad" class="nb lz it mx b gy ng nd l ne nf">let everything = universe(21,21)</span><span id="47f1" class="nb lz it mx b gy ng nd l ne nf">everything<br/>=&gt; 42</span><span id="d35b" class="nb lz it mx b gy ng nd l ne nf">let nothing = universe(0,0)</span><span id="9028" class="nb lz it mx b gy ng nd l ne nf">nothing<br/>=&gt; 0</span></pre></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="abc5" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">IIFE(立即调用的函数表达式)</h1><p id="c30b" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">这是一个多汁的。它用来节省空间，让你的代码看起来更整洁。编码是关于效率和清晰的。</p><p id="4ce8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当你有一堆函数需要在页面加载时立即调用时，使用IIFE来节省空间并使你的代码更具可读性。</p><p id="2cc6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们再来看看正常的方式。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="ce03" class="nb lz it mx b gy nc nd l ne nf">function realExample(){<br/> return 21+21<br/>}</span><span id="4ae6" class="nb lz it mx b gy ng nd l ne nf">universe()<br/>=&gt; 42</span></pre><p id="c931" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">相当于生活。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="ec53" class="nb lz it mx b gy nc nd l ne nf">(function(){<br/>   return 21+21<br/>})()<br/>=&gt; 42</span></pre><p id="2d45" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">值会立即返回。这是正在发生的事情的概述。</p><p id="4777" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你在括号里写一个未命名的函数，然后在后面加一组括号，来调用它。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="6b27" class="nb lz it mx b gy nc nd l ne nf"><em class="mv">start with empty parenthesis</em><br/>1. (); <br/><em class="mv">write unnamed function inside those parenthesis<br/>2.(function(){<br/>   return 21+21<br/>});<br/>call function by adding a set of parenthesis at the end.<br/>3. (function(){<br/>   return 21+21<br/>})(); =&gt; 42</em></span></pre><p id="1c09" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，您可以传入参数来增加复杂性和动态性。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="fcbf" class="nb lz it mx b gy nc nd l ne nf">(function(num1,num2){<br/>    return num1+num2<br/>})(21,21); =&gt; 42</span></pre><p id="2b4d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如我所说的，如果你想要一个函数在页面加载时触发，使用IIFE。</p><p id="3c02" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">试试这个。将以下内容复制并粘贴到您的控制台中(左键单击页面上的任意位置，单击控制台选项卡，粘贴代码，然后按enter键)。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="e50a" class="nb lz it mx b gy nc nd l ne nf">(function() {<br/>        alert('You Wrote an IIFE!!!')<br/>    })();</span></pre><p id="951b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">希望你能收到这个提醒。</p><p id="17fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，你可以看到我写这篇文章的时候，我想到了这个比喻，什么即兴创作！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/49dbbf3c859af1c00e450a34837b5434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dtCbJcV_ZVQFGYK6A4tsWA.png"/></div></div></figure><p id="f190" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">写生活有几种语法方法，我喜欢先简化，然后再扩展。</p><p id="6e8b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意那些语法错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/6c8b20abf3b96cde71f1177eea28f5cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*WbGlpe7gwD0565pkHfMeTw.png"/></div><p class="nx ny gj gh gi nz oa bd b be z dk translated">我发誓是插入语。</p></figure><p id="12aa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尽情享受吧！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="73f6" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">资源</strong></h1><ul class=""><li id="39c5" class="ob oc it kw b kx mq la mr ld od lh oe ll of lp og oh oi oj bi translated"><a class="ae lq" href="https://www.w3schools.com/js/js_function_definition.asp" rel="noopener ugc nofollow" target="_blank"> W3schools </a></li><li id="0407" class="ob oc it kw b kx ok la ol ld om lh on ll oo lp og oh oi oj bi translated"><a class="ae lq" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions" rel="noopener ugc nofollow" target="_blank"> MDN功能</a></li></ul></div></div>    
</body>
</html>