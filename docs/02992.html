<html>
<head>
<title>Write SwiftUI Entirely on an iPad Using Swift Playgrounds</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Swift Playgrounds完全在iPad上编写SwiftUI</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/write-swiftui-entirely-on-an-ipad-using-swift-playgrounds-f48364e50c9a?source=collection_archive---------1-----------------------#2020-01-14">https://betterprogramming.pub/write-swiftui-entirely-on-an-ipad-using-swift-playgrounds-f48364e50c9a?source=collection_archive---------1-----------------------#2020-01-14</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="0f54" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">你不需要打开Xcode，甚至不需要拥有一台Mac，就可以开始使用苹果新的声明式设计框架。编写和测试同时进行！</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/d77c2f193e26fd3f8e0c27081c4e566f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rW4Zy6sy6Ip_qhb8DWx8QA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">亨利·阿斯克罗夫特在<a class="ae kz" href="https://unsplash.com/s/photos/ipad-with-keyboard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="dce6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下是本教程的基本内容:</p><p id="cd7c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当Swift在2014年首次出现时，它被设计成一种简单的第一编程语言。不需要用分号来结束每一行，条件语句不需要放在括号内，也不需要用分隔符来结束switch语句的每一种情况。这使得孩子们更容易编写他们的第一个代码，而不需要经常寻找丢失的标点符号。当苹果在2016年发布<a class="ae kz" href="https://www.apple.com/ca/swift/playgrounds/" rel="noopener ugc nofollow" target="_blank"> Swift Playgrounds </a> iPad应用程序时，这种语言变得更加容易理解，使得在教室或家里学习基础知识变得更加容易，即使没有电脑也是如此。</p><p id="5622" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">直到2019年6月，为Swift应用程序设计用户界面的唯一方法是使用storyboards，这是一种将数据存储在复杂的XML文件中的拖放界面。当苹果宣布SwiftUI时，这一切都改变了，swift ui是一种用于设计可以即时预览的用户界面的声明式语言。Swift Playgrounds iPad应用程序最近增加了对SwiftUI的支持，以及提供新方法来处理异步事件的Combine框架。</p><p id="d0fe" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们看看SwiftUI现在允许我们在iPad上做什么，我们以前从来没有做过。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="40af" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">入门指南</h1><p id="72b0" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">如果你的手机上还没有，请<a class="ae kz" href="https://apps.apple.com/gb/app/swift-playgrounds/id908519492" rel="noopener ugc nofollow" target="_blank">下载免费的Swift Playgrounds应用</a>。</p><p id="9677" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当你打开Swift Playgrounds时，你会直接进入新的Playground页面。如果您以前打开过该应用程序，您将在此处看到您以前的游乐场文件。如果没有，屏幕将大部分是空的。无论哪种方式，在屏幕的底部都有一个标题为“其他游乐场”的面板。点击面板右端的蓝色“查看全部”按钮，面板将会展开，显示苹果提供的Swift教程。向下滚动到起点行，点击蓝色的“查看全部”按钮。</p><p id="f8de" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在你应该可以看到苹果提供的所有示例项目，尽管在我写这篇文章的时候还没有SwiftUI的例子。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj na"><img src="../Images/01815c40038afa91d7dbf826e75751a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nZzHSP6PYSZEw-CBwhIN7A.jpeg"/></div></div></figure><p id="8419" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">作为本教程的起点，您有两个选择。Blank将创建一个新的<code class="fe nb nc nd ne b">.playgroundbook</code>文件，可以在iPad上的Swift Playgrounds中打开，但不能在Mac上通过Xcode打开。如果你可以独立使用iPad，这可能是适合你的格式。如果你可以看到自己转移到Xcode，这就是所谓的Xcode Playground的出发点。这使用Xcode使用的相同的<code class="fe nb nc nd ne b">.playground</code>文件类型，让您能够在两台设备上编辑相同的文件。</p><p id="40cf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">默认情况下，Swift Playgrounds似乎会将其文档存储在iCloud中，因此很容易理解如何从任何一台设备上访问相同的文件，而不必每次都通过电子邮件或隔空投送发送给自己。该应用程序的新操场页面左上角有一个蓝色的位置按钮，允许你使用文件应用程序浏览，允许你访问其他云提供商，如Dropbox、Google Drive和Microsoft OneDrive。</p><p id="66e4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">同样，如果你只想在iPad上的安全沙盒中学习SwiftUI，这对你来说就没那么重要了。</p><p id="86b9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">没有预览窗口也可以在操场上写SwiftUI。要做到这一点，您只需导入SwiftUI并创建一个符合视图协议的结构，并带有返回“some View”的必需主体变量。Playgrounds有一些代码完成功能，可以通过自动修复常见错误来帮助您纠正SwiftUI。但是Xcode中SwiftUI的真正强大之处在于能够看到你正在创建的东西的实时预览，所以我们还需要两行代码才能在iPad上实现。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nf ng l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">通过导入PlaygroundSupport并设置实时视图，开始预览SwiftUI</p></figure><p id="9f2e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">导入<code class="fe nb nc nd ne b">PlaygroundSupport</code>可以让你访问<code class="fe nb nc nd ne b"><a class="ae kz" href="https://developer.apple.com/documentation/playgroundsupport/playgroundpage" rel="noopener ugc nofollow" target="_blank">PlaygroundPage</a></code>，它允许你配置你的iPad编码环境。在任何给定时间，只有一个Playground页面是活动的，所以这个静态实例可以通过<code class="fe nb nc nd ne b">PlaygroundPage.current</code>访问。这使我们能够将在iPad上持续运行的实时视图设置为我们上面创建的<code class="fe nb nc nd ne b">ContentView</code>。</p><p id="97c6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在你应该可以按下“运行我的代码”按钮，看到应用程序变成了一个分割视图。左边是SwiftUI代码，右边应该是实时视图，中间用粗体字显示“iPad上的SwiftUI”。现在您已经准备好构建您的用户界面，它将利用SwiftUI附带的许多控件。</p><p id="4bcc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">首先，我们需要使用<code class="fe nb nc nd ne b">State</code>变量，它基本上将数据本地存储在SwiftUI结构中，并在它们的值改变时重新绘制<code class="fe nb nc nd ne b">View</code>。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nf ng l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">将这些内容添加到ContentView结构括号内，但在声明body属性之前</p></figure><p id="35bf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">将这些添加到<code class="fe nb nc nd ne b">ContentView</code>结构括号内，但在声明body属性之前。这就是我们存储所有控件状态所需的全部内容。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="7892" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">控制器</h1><ul class=""><li id="057a" class="nh ni iu lc b ld mv lg mw lj nj ln nk lr nl lv nm nn no np bi translated">改变是否显示<code class="fe nb nc nd ne b">Text</code>的<code class="fe nb nc nd ne b">Toggle</code></li><li id="9629" class="nh ni iu lc b ld nq lg nr lj ns ln nt lr nu lv nm nn no np bi translated">一个<code class="fe nb nc nd ne b">Button</code>,每次点击它都会在红色和蓝色之间交替出现</li><li id="319a" class="nh ni iu lc b ld nq lg nr lj ns ln nt lr nu lv nm nn no np bi translated">增加显示数字的<code class="fe nb nc nd ne b">Stepper</code></li><li id="31a9" class="nh ni iu lc b ld nq lg nr lj ns ln nt lr nu lv nm nn no np bi translated">一个<code class="fe nb nc nd ne b">TextField</code>，显示你在下面的<code class="fe nb nc nd ne b">Text</code>中写的内容</li><li id="9eda" class="nh ni iu lc b ld nq lg nr lj ns ln nt lr nu lv nm nn no np bi translated">在下面的<code class="fe nb nc nd ne b">Text</code>中显示其值的<code class="fe nb nc nd ne b">Slider</code></li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nf ng l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">您可以按任何顺序添加它们，但是它们必须在主VStack的括号内</p></figure><p id="7f89" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以按任何顺序添加它们，但是它们必须在主VStack的括号内。这是因为body属性必须是一个单独的<code class="fe nb nc nd ne b">View</code>，所以不能只列出一堆控件。VStack通过允许你在里面安排多达10个<code class="fe nb nc nd ne b">Views</code>来使这个不同，同时仍然满足body属性的一个<code class="fe nb nc nd ne b">View</code>的要求。控件位于您最初编写的<code class="fe nb nc nd ne b">Text</code>下方是有意义的，因为这是标题，但这不是必需的。</p><p id="848e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">每次添加控件并且没有错误时，实时视图都会成功地自我更新。您应该能够试用它们，并检查它们是否如您所愿。您可能会注意到拆分视图中间有一个手柄。你可以拖动它来改变屏幕的两个部分的大小，就像你在分割视图中同时处理iPad上的两个应用程序一样。</p><p id="8fc4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当你把实时视图变得足够大时，它会突然变成全屏，这对于预览更复杂的界面可能会很有用。您会在屏幕左侧的中间看到一个箭头，您可以轻按它来返回拆分视图。类似地，向右滑动拆分视图手柄可以全屏显示代码，这可能会使您在用实时视图测试代码之前更容易专注于编写和调试代码。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj na"><img src="../Images/aa6bd87567d7262ebb1c23797f2aa472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ra6-nIkollTJ6qOl6e500w.jpeg"/></div></div></figure></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="fc69" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">后续步骤</h1><p id="5f5d" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">了解更多信息的一个很好的起点是用Swift的 <a class="ae kz" href="https://www.hackingwithswift.com/quick-start/swiftui" rel="noopener ugc nofollow" target="_blank"> wiftUI by Example </a>进行<a class="ae kz" href="https://www.hackingwithswift.com/quick-start/swiftui" rel="noopener ugc nofollow" target="_blank">黑客攻击。这些教程总是最新的，并且容易跟随。你可能偶尔会遇到iPad应用程序的错误，因为SwiftUI支持只是刚刚添加。根据我的经验，iPad上的实时视图实际上似乎比Xcode的预览画布刷新更快，可能是因为它不能用于检查和配置<code class="fe nb nc nd ne b">Views</code>。换句话说，iPad可以显示SwiftUI，但你不能像在Xcode中一样，点击一个元素，然后得到一个可以修改的属性下拉窗口。</a></p></div></div>    
</body>
</html>