<html>
<head>
<title>git add -p Is a Gamechanger in File Management</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">git add -p是文件管理的一个改变者</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/git-add-p-is-a-gamechanger-in-file-management-e4c879e89ab?source=collection_archive---------3-----------------------#2019-12-30">https://betterprogramming.pub/git-add-p-is-a-gamechanger-in-file-management-e4c879e89ab?source=collection_archive---------3-----------------------#2019-12-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b1d5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个经常被忽略的git提交工具</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0db9568dfde2aa5e9fb3c42cdca1bd2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oA8nzXZzhJHxA4HK"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">git add -p让我们对提交采取一种微观的方法。<a class="ae ky" href="https://unsplash.com/@yassine_khalfalli?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">亚辛·哈尔法利</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="a323" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Git管理是你第一次开始编码时学习的东西之一，一旦你熟悉了基础知识并建立了你的GitHub账户，你就会觉得这是理所当然的。</p><p id="78d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一件很容易习惯的事情，如果不是在你的工作过程中，甚至不需要考虑太多。</p><p id="69d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果Git是我们作为软件开发人员首先要学习的东西之一，难道我们不应该试着在此基础上进行构建吗？</p><p id="0347" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我最近一直试图了解更多的东西，尤其是在一次网络活动中进行了一次启发性的谈话之后。</p><p id="1f78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近和一个已经在软件工程领域工作了一段时间的人聊了聊，碰巧和一群刚进入这个领域的人在一起，包括我自己。</p><p id="747f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们向这个家伙请教，最终，他提出了开发人员，不管是新的还是有经验的，没有真正关注他们的g it提交是多么令人讨厌。</p><p id="1d65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他解释说，在这方面的懒散使得跟踪文档的变化变得很困难，这尤其困难，因为他的团队规模并不小。</p><p id="f249" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着，当一个bug出现时，追踪到它的根源会花费更长的时间，更不用说在bug成为问题之前找到一个有效的版本了。</p><p id="32e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他说了类似这样的话:“如果我采访某人，他们真的知道<code class="fe lv lw lx ly b">git add -p</code>是什么，我会印象深刻。”</p><p id="e7bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自然，这激起了几个人的兴趣。我们询问这到底是怎么回事，因为我们大多数人只是在项目上<code class="fe lv lw lx ly b">git add -A</code>(你可以想象，这导致了一些指责)。</p><p id="b709" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他解释说<code class="fe lv lw lx ly b">git add -p</code>一次加载你修改的代码片段。当您运行这个命令时，会显示您所做的“大量”工作，显示您添加或删除的代码。</p><p id="bd25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你已经做了很多，但有一段时间没有提交，这是非常有用的，它让你想起你到底做了什么，并在开始之前给你最后一次机会。</p><p id="e6bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你浏览数据块时，你也可以看到你正在浏览的不同文件。这再次让你保持对你所做的工作和你在哪里做的工作的认知。</p><p id="714e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它还会产生更强烈的承诺信息，促使对你的工作进行更具体的描述，而不是平淡或模糊的陈述。</p><p id="e077" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在每一大块结束时，系统会提示您执行以下操作之一(直接取自<code class="fe lv lw lx ly b">git add -p</code>的帮助部分):</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="900a" class="md me it ly b gy mf mg l mh mi">y — stage this hunk</span><span id="1518" class="md me it ly b gy mj mg l mh mi">n — do not stage this hunk</span><span id="d12e" class="md me it ly b gy mj mg l mh mi">q — quit; do not stage this hunk or any of the remaining ones</span><span id="ff9d" class="md me it ly b gy mj mg l mh mi">a — stage this hunk and all later hunks in the file</span><span id="ee4e" class="md me it ly b gy mj mg l mh mi">d — do not stage this hunk or any of the later hunks in the file</span><span id="d037" class="md me it ly b gy mj mg l mh mi">g — select a hunk to go to</span><span id="5efd" class="md me it ly b gy mj mg l mh mi">/ — search for a hunk matching the given regex</span><span id="a612" class="md me it ly b gy mj mg l mh mi">j — leave this hunk undecided, see next undecided hunk</span><span id="ff37" class="md me it ly b gy mj mg l mh mi">J — leave this hunk undecided, see next hunk</span><span id="7661" class="md me it ly b gy mj mg l mh mi">e — manually edit the current hunk</span><span id="505e" class="md me it ly b gy mj mg l mh mi">? — print help</span></pre><ul class=""><li id="b25f" class="mk ml it lb b lc ld lf lg li mm lm mn lq mo lu mp mq mr ms bi translated">前两个选项，<code class="fe lv lw lx ly b">y </code>和<code class="fe lv lw lx ly b">n</code>，是相当不言自明的——你要么选择把那个大块头送上舞台，要么不送。</li><li id="bdd8" class="mk ml it lb b lc mt lf mu li mv lm mw lq mx lu mp mq mr ms bi translated">第三个选项是<code class="fe lv lw lx ly b">q</code>，它中止了这个过程，如果您意识到还不想开始转移或者意识到了一个关键错误，那么这个选项会很有用。</li><li id="2793" class="mk ml it lb b lc mt lf mu li mv lm mw lq mx lu mp mq mr ms bi translated">第四个选项是<code class="fe lv lw lx ly b">a</code>，当你知道当前文件中后面的部分不需要仔细检查时，可以使用这个选项。这对于某些事情很有用，比如对代码进行小的润色，比如删除空格。</li><li id="ddcc" class="mk ml it lb b lc mt lf mu li mv lm mw lq mx lu mp mq mr ms bi translated">第五个选项<code class="fe lv lw lx ly b">d</code>，与此相反。它类似于第三个选项，因为您选择不暂存当前块，而是只放弃暂存特定文件中的任何其他块。它也不会完全中止这个过程。</li><li id="8972" class="mk ml it lb b lc mt lf mu li mv lm mw lq mx lu mp mq mr ms bi translated">第六个选项<code class="fe lv lw lx ly b">g</code>，允许您转到文件中的某个块。当被激活时，它将按编号列出文件中存在的其他块。输入相应的数字会让你看到那个帅哥的评论。(如果文件中只存在一个块，这将不会作为一个选项出现。)</li><li id="214c" class="mk ml it lb b lc mt lf mu li mv lm mw lq mx lu mp mq mr ms bi translated">第七个选项<code class="fe lv lw lx ly b"><strong class="lb iu">/</strong></code>，允许你输入一个正则表达式(正则表达式的缩写，如果你不熟悉的话，你可以在这里阅读更多关于<a class="ae ky" href="https://medium.com/better-programming/the-joy-of-regular-expressions-part-1-what-is-regex-539dc581e282" rel="noopener">的内容)来搜索给定文件中的几大块。</a></li></ul><p id="03d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你记得你做过的某件事，但不是很详细，这可能很有用。想象你在做前端工作，在某个地方用特定的类名写了一个<code class="fe lv lw lx ly b">&lt;div&gt;</code>。</p><p id="fef3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你记住了这个名字，你就大大缩小了你需要搜索的对象的范围。</p><ul class=""><li id="1355" class="mk ml it lb b lc ld lf lg li mm lm mn lq mo lu mp mq mr ms bi translated">第八和第九个选项，<code class="fe lv lw lx ly b">j </code>和<code class="fe lv lw lx ly b">J</code> <strong class="lb iu">，</strong>是类似的，你可以选择留下一个尚未决定的大帅哥。它们的区别仅仅在于你接下来会看到什么，是下一个普通的大块头还是下一个未定的大块头。</li></ul><p id="7c02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你不确定自己是否想在那个时候上演什么时，把一个大块头标为未决定是很有用的。例如，一个模块的试运行可能取决于其他模块的审查和试运行。</p><ul class=""><li id="2b16" class="mk ml it lb b lc ld lf lg li mm lm mn lq mo lu mp mq mr ms bi translated">第十个选项<code class="fe lv lw lx ly b">e</code>，打开您的默认文本编辑器，并允许您直接修改大块内容。当你发现一个问题或者想立即快速解决时，这是一个很好的选择。</li><li id="58d8" class="mk ml it lb b lc mt lf mu li mv lm mw lq mx lu mp mq mr ms bi translated">最后一个选项只是打开如上所示的帮助窗口。</li></ul></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="5731" class="nf me it bd ng nh ni nj nk nl nm nn no jz np ka nq kc nr kd ns kf nt kg nu nv bi translated">结论</h1><p id="35db" class="pw-post-body-paragraph kz la it lb b lc nw ju le lf nx jx lh li ny lk ll lm nz lo lp lq oa ls lt lu im bi translated">通过将你在最新版本的作品中所做的改动分门别类，你可以更加留意那些改动。您可以回顾您在每个部分具体做了什么，并决定这些部分是否准备就绪。</p><p id="b0ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种文件管理的“风水”方法也可以导致更频繁的提交，用更清晰的消息描述其中的工作。</p><p id="d910" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当涉及到细致的工作时，使用<code class="fe lv lw lx ly b">git add -p</code>是一个更好的方法，而不是盲目地将你所有的工作一次送到舞台上。尝试在下一次提交时使用它，看看有什么不同。</p><p id="c290" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一如既往，玩得开心，开心编码！</p></div></div>    
</body>
</html>