<html>
<head>
<title>The Power of Using UIKit With Xcode 11 Preview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">配合Xcode 11预览版使用UIKit的强大功能</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-beauty-of-using-uikit-with-xcode-11-preview-6f01b3ea9c06?source=collection_archive---------10-----------------------#2019-11-19">https://betterprogramming.pub/the-beauty-of-using-uikit-with-xcode-11-preview-6f01b3ea9c06?source=collection_archive---------10-----------------------#2019-11-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8d20" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">发展更多、更快</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c9ba1772a7e2e84df838ba7e151599a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_2KY26ja661grKwH-ke_9A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae kv" href="https://unsplash.com/s/photos/preview?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="74bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在WWDC 2019大会期间宣布的<a class="ae kv" href="https://developer.apple.com/xcode/swiftui/" rel="noopener ugc nofollow" target="_blank"> SwiftUI </a>和Xcode 11在iOS开发领域带来了一个巨大的里程碑。</p><p id="52e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这非常令人兴奋，当我写这篇文章时，我更加兴奋，因为这一发展使我的iOS开发变得非常容易和快速。我将向你展示如何在Xcode 11和<a class="ae kv" href="https://getuikit.com/" rel="noopener ugc nofollow" target="_blank"> UIkit </a>中使用预览画布，让我们开始吧。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7d37" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">创建新的Xcode项目</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/8ac79985cde8001f0c9756c8f5d0a3a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-VosKjHWFTjKSVBRwV_hwQ.png"/></div></div></figure><p id="7c7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建新项目时，确保在用户界面部分选择SwiftUI。创建新项目后，您的项目应该如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/1da7ef069a4608a8673b9a06109c867e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hCx39dBraRhlXL_tr1W5UA.png"/></div></div></figure><p id="6ae8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是默认的SwiftUI项目预览。在您的右侧是默认的实时预览查看器，它会在您处理用户界面代码时更新UI。</p><p id="1599" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是，我们希望在我们通用的遗留UIkit框架中使用这种美。首先，我们需要确保我们将要添加的<code class="fe mt mu mv mw b">ViewControllers</code>将在预览画布中预览。</p><p id="4cb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们添加我们将在UIkit框架项目中使用的视图控制器，添加一个新的<a class="ae kv" href="https://developer.apple.com/swift/" rel="noopener ugc nofollow" target="_blank"> Swift </a>文件，并按照您想要的方式命名它。我的，我已经把它命名为<code class="fe mt mu mv mw b">HomeViewController.swift</code>，你可以把你的命名为你想要的，编辑如下。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/ad9b6472cf6c030027c46b7ac513643a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zGTOJRSq02oOuip6fpX4_g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HomeController.swift</p></figure><p id="4342" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我们都熟悉的通用视图控制器文件结构，对吧！</p><p id="b757" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，现在我们需要让我们刚刚创建的视图控制器在我们运行项目时作为主视图加载。目前，如果您将代码运行到模拟器或设备中，它将加载默认的SwiftUI代码。</p><p id="3363" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将简要解释当您运行SwiftUI代码时，它是如何运行其初始视图的。让我们看看<code class="fe mt mu mv mw b">ContentView.swift</code>，这是显示当前预览的代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/570f97b7a79fca480d47bb1689d7be06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VCE3s9V-MgQhrVtWnfgrOQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">内容视图. swift</p></figure><p id="daf6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mt mu mv mw b">ContentView_Previews</code>结构负责加载<code class="fe mt mu mv mw b">ContentView</code>结构中的内容。然后，在运行应用程序时，<code class="fe mt mu mv mw b">SceneDelegate.swift</code>文件开始发挥作用。让我们打开看看。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/63a0560f1cfda6a889335069c81e1759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1bJXIpKb1ti2f7q12nHMMQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">SceneDelegate.swift</p></figure><p id="c647" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">场景函数提供了加载初始视图所需的所有魔法。</p><p id="34bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mt mu mv mw b">ContentView</code>被初始化，然后添加到窗口的根视图中。所以，我们现在需要做的是预览我们的<code class="fe mt mu mv mw b">HomeViewController</code>，并在<code class="fe mt mu mv mw b">SceneDelegate.swift</code>文件中修改你的场景函数，如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/496bb0bd594e41b579f6d17834b3c5c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X0nrpU_tYG3Q2xZG9WISJg.png"/></div></div></figure><p id="61cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，我们现在已经让我们的<code class="fe mt mu mv mw b">HomeViewController.swift</code>成为主要玩家了。我们就快到了，去你的<code class="fe mt mu mv mw b">HomeViewController</code>添加下面的代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/e4c04e8514a302e3f12484bbe4f2ae26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ivyZL37pzWRxheavHqOsw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HomeViewController.swift</p></figure><p id="c9ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">添加以下代码后，您应该可以在预览中看到您的<code class="fe mt mu mv mw b">HomeViewController</code>。刷新:CMD + option + P，你的UI应该如下图所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/13af49e3ecc464e6ed75296525784ca5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q_Lw6xNvhVaWDa_U1SYUFA.png"/></div></div></figure><p id="f5d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">干得好，您已经成功地在实时预览画布中加载了视图控制器。现在，您可以在使用UIkit框架方法的同时进入SwiftUI快速用户界面开发世界。</p><p id="5cd1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了测试它，让我们添加一个控件，看看效果如何。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/0debc7acd4b092d35599926bb62b6b0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aJ0xjv10UGegBormIYdKEA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HomeViewController.swift</p></figure><p id="755c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">添加上面的代码后，刷新预览画布。您应该会看到<code class="fe mt mu mv mw b">UITextField</code>很好地显示了一个占位符。尝试编辑您的编辑文本占位符。你应该看到你的预览实时响应。</p><p id="1c81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我认为，现在，您可以看到如何通过编程使用UIKit框架和用户界面开发来改进您的工作流。</p><p id="d5a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">非常感谢您花时间阅读并坚持到底。如果你发现自己迷路了，我已经在Git上添加了源代码，链接在下面。</p><div class="ne nf gp gr ng nh"><a href="https://github.com/AfroCyberGuy/SwfitUIKitPreview" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab fo"><div class="nj ab nk cl cj nl"><h2 class="bd ir gy z fp nm fr fs nn fu fw ip bi translated">AfroCyberGuy/SwfitUIKitPreview</h2><div class="no l"><h3 class="bd b gy z fp nm fr fs nn fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="np l"><p class="bd b dl z fp nm fr fs nn fu fw dk translated">github.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv kp nh"/></div></div></a></div></div></div>    
</body>
</html>