<html>
<head>
<title>The AWS Spaceship</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS宇宙飞船</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-aws-spaceship-7e386dab4f4f?source=collection_archive---------3-----------------------#2019-07-05">https://betterprogramming.pub/the-aws-spaceship-7e386dab4f4f?source=collection_archive---------3-----------------------#2019-07-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="23ec" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让您的开发团队以光速前进</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d78800056ab9e85cec64608b238f37bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ci3xrklWQNzePDw5xcrTVA.png"/></div></div></figure><p id="2f2f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在技术领域，没有什么比在正确的时间、正确的地点拥有正确的工具更重要了——尤其是当你在一个敏捷团队中工作的时候。敏捷的核心是拥有快速实现目标的方法，同时保持足够的灵活性以适应不断变化的需求。正是因为我们公司需要保持这些敏捷能力，所以我们选择与AWS合作。通过这样做，我们成功地大幅降低了运营成本。</p><p id="d6aa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文中，我们将解释我们使用的<a class="ae lq" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS服务</a>，并强调它们的一些主要优势。</p><h2 id="2be2" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/eks/" rel="noopener ugc nofollow" target="_blank"> EKS </a>(弹性库伯内特服务)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/6eea589edf6a7f279561a263f4656e0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*hx-AVaZuvZFz_892yikk6w.png"/></div></figure><p id="eee7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们从任何现代分布式系统的面包和黄油开始——<a class="ae lq" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank">Kubernetes</a>。</p><p id="4429" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因为EKS构建在EC2实例之上，所以AWS可以提供主节点和所有基础设施。您只需要担心服务的定义。</p><p id="53b5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们当前的设置中，每个舞台环境都有不同的名称空间。唯一改变的两件事是变量/秘密和运行的实例数量。这样，我们就有了一个非常类似于生产的开发环境。不用说，这是必不可少的，这样您就可以调试并找到困扰您这么多的闪避错误。</p><p id="6ab0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用Kubernetes的另一个有力论据是它对基础设施的声明性方法。你声明它应该运行的服务，它会尽最大努力运行它。如果由于某种原因服务停止，Kubernetes将启动一个新的实例来实现声明的状态。</p><p id="b11e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是你可能会问，“所以EKS将帮助我部署和维护我的服务，但是不同的服务之间将如何相互沟通呢？”</p><h2 id="4470" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/kinesis/" rel="noopener ugc nofollow" target="_blank">驱动力</a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/5235e5db82fa63f629eccd10b3e41b3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/1*XbDKw3CbRvt9PKxPfYlHTg.png"/></div></figure><p id="7b31" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有了这个服务，您可以将所有消息从一个实例传输到另一个实例，并让解耦的服务很好地交互。</p><p id="b236" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当客户端请求不总是命中同一个实例时，或者当处理不在一个实例中进行并且需要来自其他微服务的额外计算时，这一点很重要。</p><p id="5d7c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">AWS为服务通信提供的另一个选项是SNS和扇出<a class="ae lq" href="https://aws.amazon.com/sqs/" rel="noopener ugc nofollow" target="_blank"> SQS </a>(简单队列服务)订阅。你可以在这里阅读更多关于如何设置<a class="ae lq" href="https://aws.amazon.com/getting-started/tutorials/send-fanout-event-notifications/" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><p id="e7b2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最简单的例子就是让一个服务处理数据，另一个服务对数据进行归档。对于SQS，这是不可能的，如果没有订阅SQS的Kinesis流。</p><p id="43f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，Kinesis与DynamoDB和Lambda函数深度集成，这是接下来的两个主题。</p><h2 id="6039" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/dynamodb/" rel="noopener ugc nofollow" target="_blank"> DynamoDB </a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/db0f2c33940d5dae8bc480f549b94ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*v0YrMeMbkqzTDjTIGmUxIg.png"/></div></figure><p id="8478" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是NoSQL文档库持久性的最佳AWS解决方案。除了存储JSON对象的能力之外，它还为您提供了创建索引和通过索引进行搜索的可能性，这使得读取非常具有操作性。如果在扩展应用程序时，某个索引开始被大量使用，那么可以在表配置中扩展分配给它的资源。</p><p id="bfba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们的例子中，我们用代表我们的解决方案的核心概念的领域实体来分隔一切。</p><p id="64ba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">蛋糕上的樱桃是，DynamoDB也可以通过管道连接到Kinesis，我想你可以看到我们要去哪里。这种事件架构非常适合无服务器。见鬼。无服务器正是为这种情况开发的。</p><h2 id="f860" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank">λ功能</a>(无服务器)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/0018ea398238b9b3c69ceaa614b10740.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*QkbmMIoJ315FNCTQiryjrQ.png"/></div></figure><p id="707d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">发展世界的另一个热门话题。Lambda函数因为开发和部署非常简单，最近受到了很多人的喜爱。</p><p id="1c1d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们的基础设施中，我们将其作为辅助工具。它观察来自我们在EKS和DynamoDB中的应用程序的Kinesis流，并以非常特定的方式对这些事件做出反应。</p><p id="5b38" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">举个例子，你如何让你的团队知道一个大客户开始使用你的应用程序</p><p id="d428" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="mm"> -应用程序在DynamoDB上保存了一个新的客户端条目<br/> - DynamoDB将此事件通过管道传输到Kinesis流<br/> - Kinesis流触发Lambda函数，该函数正在监视此类事件<br/> - Lambda函数向营销渠道发送一条友好的</em><a class="ae lq" href="https://slack.com" rel="noopener ugc nofollow" target="_blank"><em class="mm">Slack</em></a><em class="mm">消息，告知我们有了一个新的酷客户端:)</em></p><p id="cfee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一个例子是弹性搜索指数的更新。</p><p id="474f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">假设您使用ES对存储在DynamoDB表中的实体进行基于文本的搜索。</p><p id="b85c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="mm"> -一条新记录被添加到您的实体表<br/> - DynamoDB将这个创建的事件传输到Kinesis流<br/> -一个lambda函数监听这个流，并将信息保存到Elasticsearch索引中，使其可以用简单的文本术语进行查询。</em></p><p id="0111" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如您所见，这与主应用程序完全分离。它提供即时价值，并提高对正在发生的事情的可见性。</p><h2 id="204a" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/elasticsearch-service/" rel="noopener ugc nofollow" target="_blank">弹性搜索</a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/d43776f549e96ed36011633a2cb6cefa.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*RamHGYDO_eOECskynn-dVw.png"/></div></figure><p id="9812" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">说到这里，Elasticsearch是您分析生产日志并获得关于应用程序健康状况的精确信息的最佳方式之一。而且，你猜怎么着——亚马逊提供Elasticsearch作为服务，因为它是建立在EC2之上的，你可以扩展它以满足你的需求。</p><p id="7609" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不幸的是，这是迄今为止唯一一个与Kinesis无关的作品。所以为了填充ES，我们在Kubernetes节点中使用F <a class="ae lq" href="https://www.fluentd.org/" rel="noopener ugc nofollow" target="_blank"> luentd </a>。这使容器的输出正常化，并推送到es。</p><p id="92ea" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">仅依赖于ES数据的Lambda函数需要用cron事件来触发，例如每五分钟一次。</p><p id="77b4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">除了断言系统的健康状况之外，您还可以使用不同的索引(类似于传统数据库中的表)来存储数据和使用度量。结合开箱即用的UI和分析工具<a class="ae lq" href="https://www.elastic.co/products/kibana" rel="noopener ugc nofollow" target="_blank"> Kibana </a>，您可以获得关于用户如何使用产品的重要信息。</p><h2 id="a0b2" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/step-functions/" rel="noopener ugc nofollow" target="_blank">步进功能</a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/de8fda36722d911134c3cfb8e29f4192.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*EutWIP3iZ8F-bwZjdwAPYw.png"/></div></figure><p id="d1b7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是我们如何管理分阶段的执行流程呢？</p><p id="4ee8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">阶跃函数。这是一个强大的工具，用于触发基于时间的执行，并具有阻止操作的任意机制。</p><p id="c45b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">假设我们想给用户发送一条消息，提醒他们完成教程，但是用户可以在没有我们输入的情况下自己开始教程。所以，我们需要一种方法来取消这个提醒的执行。阶跃函数正是允许这一点。您控制执行流，如果执行不再相关，您可以取消它。</p><h2 id="9094" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/elasticache/" rel="noopener ugc nofollow" target="_blank">弹性缓存</a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/3341b5a77931f73b9f434786ccc58495.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*5kH6LWajUC5OO5vERNPCvQ.png"/></div></figure><p id="7550" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Step函数很棒，但是我们需要将执行的引用保存在某个地方，以便应用程序可以在以后决定是否应该取消执行。亚马逊也为你提供了这方面的服务。</p><p id="c46e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于任何临时的事情(但不仅仅是临时的)，您可以使用这个可伸缩的服务，它提供了在<a class="ae lq" href="https://redis.io" rel="noopener ugc nofollow" target="_blank"> Redis </a>和<a class="ae lq" href="https://memcached.org/" rel="noopener ugc nofollow" target="_blank"> Memcached </a>之间的选择。</p><p id="4386" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们喜欢使用Redis，AWS会根据您的需要提供尽可能多的HA实例。它们之间有几个主要区别——Redis的高级数据结构和Memcache的对象大小限制(超过1mb)。</p><p id="db19" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">选择适合您使用情形的产品。你也可以把它们结合起来！</p><h2 id="792d" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/cloudwatch/" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">云手表</strong> </a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/829280045f854c985eacc2fa283e9167.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*V-AXCnOhl-7sQJsfC0wUsw.png"/></div></figure><p id="de76" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您正在使用我们上面提到的任何服务，您将生成被推送到CloudWatch并聚合到其中的日志。有了它，可以设置警报和通知，因此您的团队不会丢失基础架构中的状态更改。</p><h2 id="9c11" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/iam/" rel="noopener ugc nofollow" target="_blank"> IAM </a>(身份访问管理员)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/368685329d4282974053754e8bacdd38.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*F7NYgFZjJKQcOsqdZxYiIg.png"/></div></figure><p id="4d28" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是运行在AWS上的每个服务或访问任何类型信息的用户的核心。IAM定义了服务运行的每个规则。<br/>例如，lambda函数可以由事件触发并执行某些动作。为了响应一个事件，你不需要一个特定的规则，但是为了执行动作，你需要声明这个lambda函数可以访问这个服务或者资源。</p><p id="c0e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用户也是一样。如果您定义特定用户组没有删除S3文件的权限，他们将无法执行此操作。</p><p id="fe3f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当您配置这些配置文件和安全组时，您可以尽可能广泛地定义它们。但是，当我们谈论生产环境时，权限范围越细越好。这是因为它对谁被允许执行什么提供了更好的控制。</p><h2 id="d98b" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/vpc/" rel="noopener ugc nofollow" target="_blank"> VPC </a>(虚拟私有云)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/e02d013acd5e3632ee7e7802fbc504f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*-jgxxEtKSSWmUgMUn4w-GA.png"/></div></figure><p id="27c9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还是说安全性，一件事是确保服务或用户有正确的权限来完成所需的工作。另一个是减少整个基础设施的表面，同时也减少安全响应团队需要处理的范围。记住，你的系统越是开放地连接到互联网，它就越容易受到攻击。</p><p id="cca3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就是AWS实现私有虚拟云的原因，在私有虚拟云中，您可以为面向外部和内部的EC2实例定义粒度配置。</p><h2 id="0423" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/elasticloadbalancing/" rel="noopener ugc nofollow" target="_blank"> ELB </a>(弹性负载平衡器)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/12ce6f809d7deff84d3e240de76725bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*hE4VcSRlukcYoGkh_TEkXA.png"/></div></figure><p id="8a7c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">ELB是AWS的一个标准实现，用于提供多实例可伸缩的应用程序环境。有了这个工具，您将能够接收对一个IP的请求，并将负载分散到多个实例，这样就可以轻松地进行扩展。</p><h2 id="8f6d" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/ecr/" rel="noopener ugc nofollow" target="_blank"> ECR </a>(弹性容器注册)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/fe3473707722349a08ee71c4a7324233.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*RiDnKBxiSqh--yI0tuV6zg.png"/></div></figure><p id="4df6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您要部署一个现代应用程序，我们正在讨论容器映像部署。自2014年以来，该行业陷入了一场革命。新技术的出现充分利用了容器技术所能带来的优势。</p><p id="0ba9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是要部署容器，您需要一个存储位置。ECR正是提供了这一点。跟推新形象一样简单。而且，在Kubernetes中，您可以声明一个部署来使用这个特定的映像。因为有了IAM，您的Kubernetes集群无需任何额外的配置就可以获取映像。</p><h2 id="e0f7" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/s3/" rel="noopener ugc nofollow" target="_blank"> S3 </a>(简单存储系统)</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/e228b23b30a4ee61994a2b46456291ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*OD66DQKKKS1cxb7ld0wysg.png"/></div></figure><p id="e29e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当您需要部署或存储除容器图像之外的其他工件时，Amazon已经为您提供了S3。简单易用，定义一个有权限的桶就可以了。你可以从任何地方访问它——无论是否在互联网上——并且你可以上传新文件到它上面。</p><p id="aaac" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">没有太多要说的。它简单、快速、可扩展，并且成本几乎为零。</p><h2 id="3b6f" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/cloudfront/" rel="noopener ugc nofollow" target="_blank">亚马逊云锋</a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/1de9f562d82027d772e54d4e13cc5c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*GwSV2Gpj3-pmAd4y1ebE4w.png"/></div></figure><p id="453d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由于我们在讨论S3的静态文件分发，通常与之结合使用的服务是AWS的<a class="ae lq" href="https://en.wikipedia.org/wiki/Content_delivery_network" rel="noopener ugc nofollow" target="_blank"> CDN </a>(内容交付网络)解决方案。这利用了AWS建立的全球网络，并在你的用户群附近缓存你的内容，降低了存储在S3上的工件的整体下载时间。更不用说现成的DDoS缓解和其他方便的功能，如缓存失效，如果你需要尽快推出更新。</p><h2 id="f3ae" class="lr ls it bd lt lu lv dn lw lx ly dp lz ld ma mb mc lh md me mf ll mg mh mi mj bi translated"><a class="ae lq" href="https://aws.amazon.com/certificate-manager/" rel="noopener ugc nofollow" target="_blank"> AWS证书管理器</a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/0f6689735f332da43b51fc04ffcf4d03.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*pFgHuhi6jSg1JccD3ZHNkA.png"/></div></figure><p id="d785" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您是在https ( <strong class="kw iu">，这是您绝对应该做的</strong>)下提供服务，那么您只需要信任提供和供应您的SSL/TLS证书的服务。除了遵循所有安全标准和最佳实践之外，使用AWS解决方案的一大优势是证书的自动更新。这意味着它不需要你的任何输入，如果它是亚马逊发布的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/fd574279e919bfa7549e57dbf791e528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DUj7wMCjYTguk4mv-Zu9Ag.png"/></div></div></figure><p id="d5a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">总而言之，我们推荐AWS不仅作为一个构建工具，而且作为一个可靠的、可伸缩的现代应用程序的基础。</p><p id="855d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你有一家重视尖端技术和交付速度的初创公司，订阅<a class="ae lq" href="https://aws.amazon.com/activate/" rel="noopener ugc nofollow" target="_blank"> AWS Activate </a>计划以获得亚马逊高级支持、轻松扩大规模的积分，并成为创新公司团队的一员。</p></div></div>    
</body>
</html>