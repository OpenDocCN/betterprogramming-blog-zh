<html>
<head>
<title>What Are Python Lambda Functions, Anyway?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python Lambda函数到底是什么？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/become-a-python-programmer-what-are-lambda-functions-1de065686edf?source=collection_archive---------3-----------------------#2022-06-11">https://betterprogramming.pub/become-a-python-programmer-what-are-lambda-functions-1de065686edf?source=collection_archive---------3-----------------------#2022-06-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e738" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过使用lambda函数，学习像专家一样编写Python</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f56a91beb3b6be59b52c004a0a02bf75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2BX-26frDSAV78Rk"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安内特·lūsiņa在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="00bc" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">学习Python需要时间</h1><p id="51fb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">从<em class="mn">菜鸟</em>到<em class="mn">蟒蛇</em>的旅途可能需要一段时间，因人而异。大多数人开始学习Python时都是先复习数字、布尔和字符串的基本数据结构，然后再学习复杂的数据结构，比如列表和字典。从那里，您学习循环和if/else控制逻辑，并最终学习通过函数编写可重用的代码。</p><p id="1604" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">一旦你开始探索函数，你将会遇到lambda函数，它起初看起来很吓人。类似于列表理解，lambda函数允许你编写简洁的代码。通常需要几行代码作为定义函数的事情可以用lambda函数在一行代码中完成！</p><h1 id="8188" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">查看Python函数</h1><p id="fab2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">典型的Python函数只是一组独立的指令，用于执行特定的任务。掌握和理解它们很重要，因为它们允许我们通过将代码分成更小的、可重用的块来保持代码的组织性。如果我们正在编写一个大的程序，利用函数也可以使代码更容易阅读和调试。</p><p id="3a0e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">在Python中，我们使用<strong class="lt iu"> <em class="mn"> def </em> </strong>关键字定义一个函数，然后给这个函数起一个名字，以及任何影响函数体执行的必要参数。通常情况下，<strong class="lt iu"> <em class="mn"> return </em> </strong>关键字用于终止函数，并将所需的输出返回给调用该函数的对象。下面是一个函数示例:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="0b0f" class="my la it mu b gy mz na l nb nc">#python example function<br/>def my_function(string):<br/>     return print(string) </span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/6601d6153fe661674a0c10b8191cfdf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/1*bu5dSRfv-hgFN1AudDV_jQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">测试我的功能</p></figure><p id="901c" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">示例<code class="fe ne nf ng mu b">my_function</code> <strong class="lt iu"> </strong>将一个<em class="mn">字符串</em>作为参数，并将该字符串打印为返回的输出。</p><h1 id="79b1" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">什么是λ函数？</strong></h1><p id="e2b2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了让您的Python技能更上一层楼，您需要掌握普通函数和lambda函数。Lambda函数非常有助于使代码更短更简洁，这是Pythonista的方法！我们将看几个简单的例子来回顾语法，然后看一些lambda函数的实际用例，这会让你看起来像个专家。</p><p id="f744" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">正如我们在前面的例子中看到的，普通函数是用<code class="fe ne nf ng mu b">def</code>定义的，并给了一个名字。λ函数是使用<code class="fe ne nf ng mu b">lambda</code> <strong class="lt iu"> <em class="mn"> </em> </strong>关键字定义的，并且是<strong class="lt iu">未命名的</strong>。它们是没有在任何名称空间中定义的匿名函数，并且只供一次使用。</p><p id="861d" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">当我第一次学习lambda函数时，似乎有点难以理解。由于lambda函数可以接受任意数量的参数，但只能有一个表达式，所以语法可能会令人困惑。这里有几个简单的例子:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="ab8e" class="my la it mu b gy mz na l nb nc">#lambda syntax<br/>#lambda &lt;arguments&gt; : &lt;return expression&gt;</span><span id="e86f" class="my la it mu b gy nh na l nb nc">#simple example<br/>lambda_example = lambda x: x + x</span><span id="ac2c" class="my la it mu b gy nh na l nb nc">#multiple arguments example<br/>multiple_arguments = lambda x, y, z: (x + y) * z</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/65646786504a2fc4dd181ef21565e564.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*6oHcu0mMznb9ql0clTwWdQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">测试lambda函数示例</p></figure><p id="f102" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">请注意，多个参数由逗号分隔。调用函数时，调用者提供参数。返回表达式在冒号(:)后定义。有一个返回表达式，但返回表达式可以是简单的，也可以是复杂的。它甚至可以是另一个函数，这使得lambda函数成为Python编程工具箱中的一个强大工具。</p><h1 id="2cc7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">使用Lambda函数</h1><p id="ae52" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们看看如何使用lambda以Pythonic的方式编写函数。下面我们有一个函数来检查单词“two”的字符串列表它根据单词是否在字符串中返回字符串列表以及True或False:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="cfe5" class="my la it mu b gy mz na l nb nc">sentences = ['Sentence one.', 'Sentence two.', 'Sentence three.']</span><span id="f511" class="my la it mu b gy nh na l nb nc">def contains_two(text):<br/>    answers = []<br/>    for s in txt:<br/>        if 'two' in s:<br/>            answers.append(True)<br/>        else:<br/>            answers.append(False)<br/>    return zip(answers, text)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/e61f6ff780e8080dd1e4a7d1d0a0c3f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*PqktBQaNupFhkcEIrdy1iA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">测试包含两个功能</p></figure><p id="ba50" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">我们可以使用Python的<a class="ae ky" href="https://www.geeksforgeeks.org/python-map-function/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> map() </strong> </a>函数和lambda函数简洁地重写这个函数，而不是定义一个函数并使用for循环遍历列表。</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="c1ab" class="my la it mu b gy mz na l nb nc">contains_two_lambda = map(lambda x: (True, x) if 'two' in x else (False, x), sentences)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/1f5efc7a80ef5fc6a21c995f204e4fc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*AeHcQgYejtAQJUiC2Ld8fw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">测试包含_two_lambda函数</p></figure><p id="29df" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><code class="fe ne nf ng mu b"><strong class="lt iu">map()</strong></code>函数以一个函数和一个序列作为参数，在给定的序列上运行函数。我们传递给map()的函数是一个lambda函数，允许我们只用一行代码就可以执行我们定义的函数所做的事情！</p><p id="290f" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">Lambda函数与map()、<a class="ae ky" href="https://realpython.com/python-reduce-function/" rel="noopener ugc nofollow" target="_blank"> reduce() </a>和filter()等函数配合得很好，这三个内置的Python函数都将函数作为参数。Lambda函数在数据管理中也很受欢迎，因为它们可以很好地处理pandas <code class="fe ne nf ng mu b">dataframes</code>。它们可以使对列和行应用逻辑操作成为简洁的一行程序。</p><h1 id="4809" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">对熊猫数据帧使用Lambda函数</h1><p id="307e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">作为一名分析师，我发现自己一直在使用<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank">熊猫数据框架</a>。由于DataFames是一种流行的数据结构，让我们看看在<code class="fe ne nf ng mu b">dataframes</code>中使用lambda函数来转换数据是多么容易。让我们用一些模拟数据创建一个简单的熊猫数据框架:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="0dac" class="my la it mu b gy mz na l nb nc">#import dependencies<br/>import pandas as pd</span><span id="949d" class="my la it mu b gy nh na l nb nc">#create dataframe<br/>df = pd.DataFrame({<br/>  'Occupation': ['Data Tech','Sales','Analyst','Engineer'],<br/>  'Name': ['John Smith', 'Jodie Whales', 'Eric Kleppen', 'Richard Heart'],<br/>  'Salary': [50000, 75000, 80000, 100000],<br/>  'YearsAtCompany': [2, 3, 1, 3],</span><span id="0981" class="my la it mu b gy nh na l nb nc">})</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/abe28bcf7af76eddf490e01a52ca750f.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*Jwfdvm6LnzYIMC9rv9rHlg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">示例数据帧</p></figure><p id="5b81" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">接下来，让我们使用lambda函数创建一个名为<code class="fe ne nf ng mu b">newSalary</code>的新列。如果我根据列<code class="fe ne nf ng mu b">YearsAtCompany</code>给出加薪，并且想知道一个人的新工资是多少，我可以使用<code class="fe ne nf ng mu b"><a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.apply.html" rel="noopener ugc nofollow" target="_blank">apply()</a></code>函数，类似于我们在前面的例子中使用<code class="fe ne nf ng mu b">map()</code>的方式:</p><pre class="kj kk kl km gt mt mu mv mw aw mx bi"><span id="6c62" class="my la it mu b gy mz na l nb nc">df['newSalary'] = <br/>df['Salary'].apply(lambda x: x * (1 + df['YearsAtCompany']/10))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/f11c9b590586a132fc4b3f43cdc5afd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*ZjWGND8E4N4RbGef-O-IsA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">验证新销售列</p></figure><p id="9c70" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">请注意，<code class="fe ne nf ng mu b">apply()</code>函数将lambda函数作为参数，并将该函数应用于<code class="fe ne nf ng mu b">Salary</code> <strong class="lt iu"> </strong>列中的每一行。lambda函数中的表达式使用YearsAtCompany来确定加薪的大小。</p><h1 id="5943" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">包扎</h1><p id="be29" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">像专业人士一样编写Python需要练习，所以如果你对lambda函数这样的新概念感到害怕，不要担心。语法看起来很奇怪，但是lambda函数允许您编写简洁的一次性函数，非常适合应用逻辑运算。</p><p id="b282" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">虽然它们只能执行一个表达式，但是表达式可以是复杂的，甚至可以包含另一个函数。Lambda函数可以很好地处理一系列数据，甚至像熊猫数据帧这样的数据结构。</p><h1 id="e49e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">谢谢大家！</h1><ul class=""><li id="298f" class="nn no it lt b lu lv lx ly ma np me nq mi nr mm ns nt nu nv bi translated"><em class="mn">如果你喜欢这个，</em> <a class="ae ky" href="https://medium.com/@erickleppen" rel="noopener"> <em class="mn">在Medium上关注我</em> </a> <em class="mn">了解更多</em></li><li id="d1b8" class="nn no it lt b lu nw lx nx ma ny me nz mi oa mm ns nt nu nv bi translated"><a class="ae ky" href="https://erickleppen.medium.com/membership" rel="noopener"> <em class="mn">通过订阅</em> </a>获得对我的内容的完全访问和帮助支持</li><li id="72b1" class="nn no it lt b lu nw lx nx ma ny me nz mi oa mm ns nt nu nv bi translated"><em class="mn">我们来连线上</em><a class="ae ky" href="https://www.linkedin.com/in/erickleppen01/" rel="noopener ugc nofollow" target="_blank"><em class="mn">LinkedIn</em></a></li><li id="7ed3" class="nn no it lt b lu nw lx nx ma ny me nz mi oa mm ns nt nu nv bi translated"><em class="mn">用Python分析数据？查看我的</em> <a class="ae ky" href="https://pythondashboards.com/" rel="noopener ugc nofollow" target="_blank"> <em class="mn">网站</em> </a></li></ul><p id="07d1" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><a class="ae ky" href="http://pythondashboards.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> —埃里克·克莱本</strong> </a></p></div></div>    
</body>
</html>