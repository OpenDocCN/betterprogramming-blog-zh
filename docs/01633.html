<html>
<head>
<title>Subjects, Replay Subjects, Behavior Subjects, and Async Subjects in RxJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RxJS中的主题、重放主题、行为主题和异步主题</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/subjects-replay-subjects-behavior-subjects-async-subjects-in-rxjs-476eb41e0faf?source=collection_archive---------17-----------------------#2019-09-30">https://betterprogramming.pub/subjects-replay-subjects-behavior-subjects-async-subjects-in-rxjs-476eb41e0faf?source=collection_archive---------17-----------------------#2019-09-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/24925313e4a058956ac53a259f3696a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yX6_D9YE0RbtXV2ZItRrMQ.png"/></div></div></figure><p id="744f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">主体是RxJS中的一种特殊类型的类，它既可以表现为可观察的，也可以表现为观察者。主题对于多播很有用。</p><h2 id="b48d" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">每一个主体都是可观察的</h2><p id="1ec9" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">给定一个主题，您可以<code class="fe lu lv lw lx b">subscribe</code>到它，这将提供一个观察器，它将开始正常接收值。</p><p id="562c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从观察者的角度来看，它无法判断可观察到的执行是来自普通的单播可观察对象还是主体。</p><h2 id="4b10" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated"><strong class="ak">每个主体都是观察者</strong></h2><p id="cb97" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">它是一个具有方法<code class="fe lu lv lw lx b">next(v)</code>、<code class="fe lu lv lw lx b">error(e)</code>和<code class="fe lu lv lw lx b">complete()</code>的对象。</p><p id="514d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">根据<a class="ae ly" href="http://reactivex.io" rel="noopener ugc nofollow" target="_blank"> RxJS文件</a>:</p><blockquote class="lz ma mb"><p id="ec8a" class="jy jz mc ka b kb kc kd ke kf kg kh ki md kk kl km me ko kp kq mf ks kt ku kv ij bi translated">要向主题提供新的值，只需调用<code class="fe lu lv lw lx b">next(theValue)</code>，它将被多播给注册收听主题的观察者。</p></blockquote><p id="d14d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很少有专门类型的主题，如行为主题、异步主题和重放主题。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="3503" class="mn kx iq bd ky mo mp mq lb mr ms mt le mu mv mw lh mx my mz lk na nb nc ln nd bi translated"><strong class="ak">创建和使用主题</strong></h1><p id="2825" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">只需使用subject类就可以创建一个主题。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/a8ee2dea7c315a2b8a06835c98303c39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*kgpku6J1LLb1-GsczqlyXA.png"/></div></figure><p id="0067" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">可以为同一个主题创建多个订阅。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/2696c3aecfc68fa2a386eac99d937d74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wS9beOUIgAM4sPpwvQSf6Q.png"/></div></div></figure><p id="b8f7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">可以使用<code class="fe lu lv lw lx b"> next()</code>方法将数据推送到对象。数据将被传输到主题订阅列表中的所有订阅者。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/fc68ccb2566161bf7d9cf020e2455e7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bdcsjRmEcZGvvCf4CXMWyg.png"/></div></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="e8d6" class="mn kx iq bd ky mo mp mq lb mr ms mt le mu mv mw lh mx my mz lk na nb nc ln nd bi translated"><strong class="ak">重播科目</strong></h1><p id="1644" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">与Subjects的情况一样，订阅者只能在订阅后获得发出的数据。重放主题来帮忙并获得以前发出的数据(即，在订阅之前)。</p><p id="f817" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">重播主题有一个缓冲区，它将以前发出的项目发送给新订阅。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/b36b882418e75383c1843515aab6fe38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W18-v5zIEtt8Mz67AWoQnQ.png"/></div></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="27a5" class="mn kx iq bd ky mo mp mq lb mr ms mt le mu mv mw lh mx my mz lk na nb nc ln nd bi translated">行为主体</h1><p id="5f62" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">行为主题类似于重放主题，但将只重新发出最后一个发出的值，或者如果以前没有发出任何值，则重新发出默认值:</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/dd664167eedcc35c2f5e443b0d84c8b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gd7cAMap6fJAsctda8U5mQ.png"/></div></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="50cf" class="mn kx iq bd ky mo mp mq lb mr ms mt le mu mv mw lh mx my mz lk na nb nc ln nd bi translated">异步主题</h1><p id="0f4a" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">这是一个变体，其中只有可观察执行的最后一个值被发送给它的观察者，并且只有当执行完成时。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/241fe2744b22c1f8f88c1c600e2a76bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bIz_mUNjKDMbhmurB-ScVw.png"/></div></div></figure></div></div>    
</body>
</html>