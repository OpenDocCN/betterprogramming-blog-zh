<html>
<head>
<title>How to Add a Context Menu to a View in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中向视图添加上下文菜单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-add-a-context-menu-to-a-view-in-swiftui-36a91189fc9d?source=collection_archive---------8-----------------------#2020-03-28">https://betterprogramming.pub/how-to-add-a-context-menu-to-a-view-in-swiftui-36a91189fc9d?source=collection_archive---------8-----------------------#2020-03-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2243" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">向用户展示他们可以在你的应用中执行的其他操作</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8edd2c8c17219a55ba100a154c8f2999.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tRrXJ1KaKJuJ5wvL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@sunrisephotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">日出照片</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="0c4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回购示例可以在我的<a class="ae ky" href="https://github.com/maeganjwilson/context-menu-example" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3bd2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">什么是上下文菜单？</h1><p id="6aaa" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">上下文菜单是可以触发动作的按钮的集合。通常，在iOS/iPadOS中长按屏幕上的某个项目，或者在macOS中右键单击，都会触发上下文菜单。它可用于按钮或项目的后续操作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/ab546c4964cf67d988dc48541747ab93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*zZ5baLRvN4VP5urC36o4Rw.png"/></div></figure><p id="ca02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上图是我的iOS应用<a class="ae ky" href="https://ihogapp.com/" rel="noopener ugc nofollow" target="_blank"> iHog </a>中上下文菜单的一个例子。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8a41" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">如何添加上下文菜单？</h1><p id="d70b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为了添加一个上下文菜单，我们将使用<code class="fe na nb nc nd b">contextMenu()</code>修饰符并传递它<code class="fe na nb nc nd b">Button()s</code>来显示。</p><p id="8f98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个基本的SwiftUI视图，其文本视图的字体颜色设置为红色:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="c4f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我把字体颜色变成了一个变量，这样我们就可以用上下文菜单来改变它。</p><p id="724e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要向<code class="fe na nb nc nd b">Text()</code>添加上下文菜单，添加修饰符<code class="fe na nb nc nd b">contextMenu()</code>，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="17e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将产生错误<code class="fe na nb nc nd b">Type of expression is ambiguous without more context</code>，因为<code class="fe na nb nc nd b">ContextMenu</code>内没有按钮。让我们添加一个按钮来改变字体颜色:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="682f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过添加这两个按钮，我们现在可以长按文本并改变颜色，如下面的GIF所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/173d2fae7faf2d671ac00ff4c52e3288.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/1*JRivYmhozbkpBBnDmHhf8w.gif"/></div></figure><p id="9cb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第一张图中，菜单包含图标。这些可以通过在文本和图像周围加上一个<code class="fe na nb nc nd b">HStack</code>来添加到<code class="fe na nb nc nd b">Button()</code>中。现在，让我们这样做:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/a733f4504c8aea0b0ca44cb71cb65a3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*_DPwHcRyQSm3iQXnKSovTg.png"/></div></figure><p id="cbfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">苹果在你的应用程序中提供带有SF符号的图标。</p><p id="a74a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是在SwiftUI中制作上下文菜单的方法！感谢阅读。有问题就留言评论吧！</p></div></div>    
</body>
</html>