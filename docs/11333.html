<html>
<head>
<title>Improving Swift Code Readability With SwiftLint</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftLint提高Swift代码的可读性</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/improving-swift-code-readability-with-swiftlint-a3459e968c4b?source=collection_archive---------8-----------------------#2022-03-09">https://betterprogramming.pub/improving-swift-code-readability-with-swiftlint-a3459e968c4b?source=collection_archive---------8-----------------------#2022-03-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c0b5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用SwiftLint轻松实施Swift代码样式规则</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3289ddd53d7600544ea6e379d76c25a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZtJXX-arSH7Oayr9"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@centelm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Clément Falize </a>拍摄的照片</p></figure><p id="235e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们应该在<a class="ae ky" href="https://docs.swift.org/swift-book/LanguageGuide/Closures.html" rel="noopener ugc nofollow" target="_blank">闭包</a>中使用速记参数名吗？还是应该在<a class="ae ky" href="https://docs.swift.org/swift-book/LanguageGuide/Closures.html" rel="noopener ugc nofollow" target="_blank">闭包</a>声明中声明参数列表？</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="dc21" class="ma mb it lw b gy mc md l me mf">let evenNumbers = [0, 1, 2, 3, 4, 5, 6].filter { $0 % 2 == 0 }</span></pre><p id="eb67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="29e3" class="ma mb it lw b gy mc md l me mf">let evenNumbers = [0, 1, 2, 3, 4, 5, 6].filter { number in<br/>    number % 2 == 0<br/>}</span></pre><p id="94e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像这样的讨论在从事共同项目的iOS开发人员中很常见。用不同的风格编写代码会造成混乱，使代码更难阅读。开发人员通常会遵循并坚持一套代码风格指南，以试图保持一致的代码风格。Raywenderlich的swift代码风格指南是最受欢迎的指南之一。</p><p id="8eab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，可以有许多规则。当审查彼此的代码时，很难记住所有这些规则。那么，有没有更好的方法来检查和警告没有被遵循的指导方针呢？是的，当然有！</p><p id="3130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>是一款swift代码风格分析工具，帮助您标记代码中的风格错误。它可以通过将构建标记为失败或在不遵循样式时显示警告来帮助您实施这些样式。</p><p id="0363" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我将向您展示如何设置<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>，配置它并在Xcode构建过程中使用它。</p><p id="fc73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想你已经对开发iOS应用程序和Swift相当熟悉了。</p><p id="3286" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mg">在撰写本文时，我使用了Swift 5.5.2和Xcode 13.2.1。</em></p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h1 id="b1bd" class="mo mb it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">入门指南</h1><p id="419a" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在本节中，我们将从安装<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>开始。然后我们将对它进行配置，告诉它要检查哪些规则。接下来，我们将配置Xcode在构建阶段运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>。最后，我们将学习如何禁用代码片段甚至整个文件的规则。</p><p id="90fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是步骤:</p><ol class=""><li id="3e75" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">安装<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank">雨燕</a></li><li id="7506" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">配置<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a></li><li id="484f" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">在Xcode构建过程中运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a></li><li id="e0dd" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">禁用一段代码和整个文件的规则</li></ol><h2 id="55c3" class="ma mb it bd mp ny nz dn mt oa ob dp mx li oc od mz lm oe of nb lq og oh nd oi bi translated">1.安装<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank">雨燕</a></h2><p id="7b8e" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">安装<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>有多种方式。然而，在本教程中，我们将使用<a class="ae ky" href="https://brew.sh" rel="noopener ugc nofollow" target="_blank">自制软件</a>来安装<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>。</p><p id="fe79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://brew.sh" rel="noopener ugc nofollow" target="_blank">家酿</a>是一个软件包管理系统。对于macOS来说，它是一个非常受欢迎的工具。如果您还没有安装它，那么继续这样做。遵循<a class="ae ky" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">家酿</a>在其网站<a class="ae ky" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank"> brew.sh </a>上的安装说明。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/7b115244b0d2147de374eaabe44085d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YDOQkYH5JEi9CxdZ5fMYaw.png"/></div></div></figure><p id="b408" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦<a class="ae ky" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">自制软件</a>安装完毕，让我们安装<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>。在终端中运行以下命令:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f836" class="ma mb it lw b gy mc md l me mf">brew install swiftlint</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/9e2f452d0d643e18f7bf94332ec970cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gSKs4GayOKpepP7YHF13yQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SwiftLint在终端的安装</p></figure><p id="028d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您现在可以在终端中运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> swiftlint </a>。在项目的根目录下，运行以下命令:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f00e" class="ma mb it lw b gy mc md l me mf">swiftlint</span></pre><p id="b400" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在我的一个<a class="ae ky" href="https://github.com/anuragajwani/SaladMaker" rel="noopener ugc nofollow" target="_blank">教程项目</a>中运行了<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> swiftlint </a>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/ad392deb5f09aff3b625d6b002e4a8ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jXCpOMnqWt4PP2xxw845jA.png"/></div></div></figure><p id="c02e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>正在应用<a class="ae ky" href="https://github.com/raywenderlich/swift-style-guide/blob/master/com.raywenderlich.swiftlint.yml" rel="noopener ugc nofollow" target="_blank"> Raywenderlich的Swift风格指南</a>。但是如果我们想禁用某些规则呢？或者启用未启用的规则？或者甚至从头开始我们的风格指南？</p><h2 id="7b2e" class="ma mb it bd mp ny nz dn mt oa ob dp mx li oc od mz lm oe of nb lq og oh nd oi bi translated">2.配置<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a></h2><p id="0df5" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">为了<a class="ae ky" href="https://github.com/realm/SwiftLint#configuration" rel="noopener ugc nofollow" target="_blank">配置swiftlint </a>，我们必须在项目的根目录下创建一个配置文件。该文件必须命名为<code class="fe om on oo lw b">.swiftlint.yml</code>。<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>有一套基于<a class="ae ky" href="https://github.com/raywenderlich/swift-style-guide#using-swiftlint" rel="noopener ugc nofollow" target="_blank"> RayWenderlich的swift风格指南</a>的默认规则。但是我们可以:</p><ul class=""><li id="8e34" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu op nq nr ns bi translated">禁用规则</li><li id="6318" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu op nq nr ns bi translated">选择加入非默认规则</li><li id="fa0a" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu op nq nr ns bi translated">仅指定要启用的规则(忽略所有默认规则)</li></ul><p id="76c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何实现它们的例子。</p><p id="481e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对<a class="ae ky" href="https://github.com/realm/SwiftLint#configuration" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">禁用规则</strong> </a>将以下内容添加到您的<code class="fe om on oo lw b">.swiftlint.yml</code>:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="5518" class="ma mb it lw b gy mc md l me mf">disabled_rules:<br/>- void_return<br/>- trailing_whitespace<br/>- line_length</span></pre><p id="70c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再次运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>现在不会返回关于<a class="ae ky" href="https://github.com/anuragajwani/SaladMaker" rel="noopener ugc nofollow" target="_blank"> SaladMaker项目</a>的错误:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/952c839b9cf58ccf341955eeeffdae47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7EYouC358fGCENffPOCk8g.png"/></div></div></figure><p id="b893" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些规则在<a class="ae ky" href="https://github.com/raywenderlich/swift-style-guide" rel="noopener ugc nofollow" target="_blank"> Raywenderlich Swift风格指南</a>中没有规定，但是<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>可以检查其他规则。例如，默认情况下<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>不会执行隐式退货规则:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8e8b" class="ma mb it lw b gy mc md l me mf">// Explicit return<br/>var id: String { return UUID().uuidString }<br/>// Implicit return<br/>var id: String { UUID().uuidString }</span></pre><p id="377d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">向<a class="ae ky" href="https://github.com/realm/SwiftLint#configuration" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">规则</strong> </a>中加入以下内容:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a028" class="ma mb it lw b gy mc md l me mf">opt_in_rules:<br/>- implicit_return</span></pre><p id="f38f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>将执行隐式退货规则。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/82eb19a21ba7c8e1c6262857d5fa8403.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sG1PnLLIsGQH7zuYTmOI7A.png"/></div></div></figure><p id="33f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，你可以完全忽略Raywenderlich的Swift风格指南，从头开始创造你自己的风格。</p><p id="dcce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了<a class="ae ky" href="https://github.com/realm/SwiftLint#configuration" rel="noopener ugc nofollow" target="_blank">创建您自己的规则</a>删除<code class="fe om on oo lw b">.swiftlint.yml</code>的内容，并替换为以下内容:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9d7d" class="ma mb it lw b gy mc md l me mf">only_rules:<br/>- implicit_return</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/0a8102dbed22982455a8c017c98e57a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NI64DZrId0_cPCTw1wK49g.png"/></div></div></figure><p id="922a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再次运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>将在本例中产生与之前相同的效果，但是现在<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>将不会执行默认设置，只有<strong class="lb iu">会根据我们的配置文件应用<code class="fe om on oo lw b">implicit_return</code>。</strong></p><p id="64c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想了解更多关于<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>规则以及它们是否被强制执行的信息，请运行以下命令:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8bf6" class="ma mb it lw b gy mc md l me mf">swiftlint rules</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/4bbc4ef7f5959d396ddfb1cd8250ec4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-zTxplMrYhtWlFaNf3XQig.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">swiftlint规则命令</p></figure><h2 id="0f06" class="ma mb it bd mp ny nz dn mt oa ob dp mx li oc od mz lm oe of nb lq og oh nd oi bi translated">3.在Xcode构建过程中运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a></h2><p id="1367" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">直到本教程的这一点，我们一直在通过终端运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>。开发人员必须记住运行<code class="fe om on oo lw b">swiftlint</code>命令。开发人员可能会忘记运行该命令，从而提交代码违反规则的拉请求/合并请求。</p><p id="a30a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了防止这种情况，我们可以运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> swiftlint </a>作为<a class="ae ky" href="https://github.com/realm/SwiftLint#xcode" rel="noopener ugc nofollow" target="_blank"> Xcodebuild过程</a>的一部分，从而在开发过程中通知开发人员违规情况。</p><p id="bd8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在Xcode编译过程中运行<code class="fe om on oo lw b">swiftlint</code>。打开您的项目，导航到您的项目设置，然后选择您的应用目标，最后选择构建阶段选项卡(项目设置&gt;应用目标&gt;构建阶段)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/588739fc003be1a4281b0a610ea7ff58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LdWFCdz7wMHR_79nu3Fcmg.png"/></div></div></figure><p id="6570" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击“+”按钮，然后选择“新运行脚本阶段”。将运行脚本阶段命名为“Run SwiftLint ”,并粘贴以下代码:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="891d" class="ma mb it lw b gy mc md l me mf">export PATH="$PATH:/opt/homebrew/bin"<br/><br/>if which swiftlint &gt;/dev/null; then<br/>  swiftlint<br/>else<br/>  echo "warning: SwiftLint not installed, download from https://github.com/realm/SwiftLint"<br/>fi</span></pre><p id="bb24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，将“运行SwiftLint”阶段移到“编译源代码”阶段之后。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/d58b98d310697f4af31bafc757426fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gV29Xx37sPXvO5T-FWy1UQ.png"/></div></div></figure><p id="13ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来从菜单中选择<em class="mg">产品</em> &gt; <em class="mg">构建。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/623821937376e20841dafe62f51109a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*Jl3SU7CEyIrErUU9atrybw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/952f906bd926a9709b684f6a89bf9032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k-97stjc24aeMq4xrq9PEA.png"/></div></div></figure><p id="1a04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Xcode会警告开发者任何违反Xcode的行为。</p><h2 id="79e0" class="ma mb it bd mp ny nz dn mt oa ob dp mx li oc od mz lm oe of nb lq og oh nd oi bi translated">4.禁用一段代码和整个文件的规则</h2><p id="6b86" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在某些情况下，我们可能希望在某些行、代码段(即函数)或文件中禁用林挺。对于所有这些场景，我们可以通过在相关代码前添加注释来禁用林挺，如下所示:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="aa03" class="ma mb it lw b gy mc md l me mf">// swiftlint:disable implicit_return</span></pre><p id="e44a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将禁用该行后面的<code class="fe om on oo lw b">implicit_return</code>规则，直到添加注释重新启用它，或者直到文件结束。要重新启用该规则，我们可以添加以下内容:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="92ea" class="ma mb it lw b gy mc md l me mf">// swiftlint:enable implicit_return</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/bd61d1b2c3cef74f55530c80eb7c67ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w5WnIOH-9cypVZLogRWsvQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SwiftLint不再警告隐式返回</p></figure><p id="9403" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以通过在<code class="fe om on oo lw b">.swiftlint.yml</code>文件中包含以下内容来忽略来自林挺的整个文件:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="df46" class="ma mb it lw b gy mc md l me mf">excluded:<br/>- SaladMaker/SaladPreppingView.swift</span></pre><p id="5eff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:排除整个文件或目录会使它们不受所有林挺规则的约束。如果你想禁用某些规则，我建议你使用禁用评论的方法。</p></div><div class="ab cl mh mi hx mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="im in io ip iq"><h1 id="d11b" class="mo mb it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">摘要</h1><p id="d562" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在这篇文章中，我们了解到:</p><ul class=""><li id="8004" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu op nq nr ns bi translated">为什么你应该lint你的代码</li><li id="46e3" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu op nq nr ns bi translated">如何设置<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a></li><li id="d8c8" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu op nq nr ns bi translated">如何配置<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a></li><li id="0f34" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu op nq nr ns bi translated">在Xcode中运行<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a></li><li id="95d3" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu op nq nr ns bi translated">如何在我们需要从规则中豁免某些代码的情况下禁用规则</li></ul><h1 id="145d" class="mo mb it bd mp mq ox ms mt mu oy mw mx jz oz ka mz kc pa kd nb kf pb kg nd ne bi translated">最后的想法</h1><p id="c5e9" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">一致的代码样式对于可读性非常重要。然而，在涉及多个开发人员的项目中，维护一致的代码成为一个挑战。在这篇文章中，我介绍了如何在本地使用<a class="ae ky" href="https://github.com/realm/SwiftLint" rel="noopener ugc nofollow" target="_blank"> SwiftLint </a>来解决这个问题。也就是在开发过程中通知开发者违规。然而，没有什么能阻止开发人员提交代码。</p><p id="6b98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，检查为拉请求或合并请求提交的所有代码是否有任何违规是很重要的。您可以通过在提交代码时自动构建和测试来做到这一点。自动检查提交的代码的实践被称为持续集成。我将在以后的文章中介绍iOS的持续集成。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="6588" class="ma mb it lw b gy mc md l me mf"><strong class="lw iu">Want to Connect?</strong></span><span id="5031" class="ma mb it lw b gy pc md l me mf">For more on iOS development follow me on <a class="ae ky" href="https://twitter.com/anuragajwani?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">Twitter</a>.</span></pre></div></div>    
</body>
</html>