<html>
<head>
<title>TIL: You Can Access A User’s Camera with Just HTML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TIL:你可以用HTML访问用户的摄像头</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/til-the-html-capture-attribute-is-rad-901d1cd50b28?source=collection_archive---------8-----------------------#2022-08-25">https://betterprogramming.pub/til-the-html-capture-attribute-is-rad-901d1cd50b28?source=collection_archive---------8-----------------------#2022-08-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/149ddfab03f1aa76c04659c0e32028cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pw2LqM_vYu-MotfxZNW4lw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><div class=""/><p id="5c15" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">前几天我偶然发现了一个从未听说过的很酷的HTML属性:<code class="fe ld le lf lg b"><a class="ae lh" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/capture" rel="noopener ugc nofollow" target="_blank">capture</a></code>。所以我决定制作一个视频和博客。</p><p id="2f6b" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你喜欢，这里有一种视频格式:</p><figure class="li lj lk ll gt iv"><div class="bz fp l di"><div class="lm ln l"/></div></figure><p id="7240" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">您可以将<code class="fe ld le lf lg b">capture</code>属性放在文件类型的输入上，您可以给它一个值“<code class="fe ld le lf lg b">user</code>或“<code class="fe ld le lf lg b">environment</code>”。</p><p id="eb8f" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">关于capture属性的有趣之处在于，用户可以通过移动设备访问您的网站。如果他们与输入交互，而不是打开默认的文件拾取器，它实际上会打开他们的一个摄像头。它可能是前置摄像头，也可能是后置摄像头，具体取决于值。</p><p id="6cb6" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果您将该值设置为“<code class="fe ld le lf lg b">user</code>，它将使用面向用户或前置摄像头和/或麦克风。如果您将它设置为“<code class="fe ld le lf lg b">environment</code>”，它将使用面向外或面向后的摄像头和/或麦克风。</p><p id="5004" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">为了亲自测试，我创建了一个<code class="fe ld le lf lg b">index.html</code>文件，如下所示:</p><figure class="li lj lk ll gt iv"><div class="bz fp l di"><div class="lo ln l"/></div></figure><p id="cd68" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">HTML中唯一相关的部分是两个输入。它们都有一个捕获属性，都有一个接受属性。一个设置为用任何类型的视频捕捉“<code class="fe ld le lf lg b">environment</code>”。另一个设置为用任何类型的图像捕捉“<code class="fe ld le lf lg b">user</code>”。</p><p id="6d4e" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">在桌面上，capture属性不会做任何有趣的事情。当我点击输入时，它会打开文件选择器。</p><p id="1eed" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">但是有趣的部分来了…</p><p id="75d4" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果我在手机上调出该页面并点击第一个输入，我的相机会以视频录制模式打开。当我点击第二个输入时，我的手机会在图像捕捉模式下打开相机(由于某种原因，我的手机无法区分前置或后置相机)。</p><p id="1fe5" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">当您拍摄照片或视频时，该文件被发送到HTML输入。</p><p id="c478" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">多酷啊。！</p><p id="97be" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在，每当我们谈论新的web APIs或功能时，我们都必须讨论兼容性，如果我们看看caniuse.com上的<a class="ae lh" href="https://caniuse.com/html-media-capture" rel="noopener ugc nofollow" target="_blank">支持，它看起来并不太好…</a></p><figure class="li lj lk ll gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lp"><img src="../Images/3674f2f16663e29ae591a876f07828cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5ySnEKTRxOaZUeLK.png"/></div></div></figure><p id="c86f" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">但这是有意义的，因为所有这些不受支持的浏览器都是桌面浏览器，没有前置或后置摄像头。所以只有打开文件选择器才有意义。</p><p id="da74" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">但是支持的浏览器都是手机浏览器。因此，该功能已经准备就绪。</p><p id="2f42" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">另一件很酷的事情是，即使用户使用不支持的浏览器访问您的应用程序，它也会退回到默认的文件选择器UI。</p><p id="988f" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">渐进增强FTW！！！</p><p id="5c31" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这就是HTML的捕获属性。如果你知道你的移动用户在上传的时候会拍照、录像或者录音，这是一个很酷的增加用户体验的方法。</p><pre class="li lj lk ll gt lq lg lr ls aw lt bi"><span id="b6cc" class="lu lv ji lg b gy lw lx l ly lz"><strong class="lg jj">Want to Connect?</strong></span><span id="1469" class="lu lv ji lg b gy ma lx l ly lz">Thank you so much for reading. If you liked this article, please share it. It’s one of the best ways to support me. </span><span id="132a" class="lu lv ji lg b gy ma lx l ly lz">You can also <a class="ae lh" href="https://austingil.com/newsletter/" rel="noopener ugc nofollow" target="_blank">sign up for my newsletter</a> or <a class="ae lh" href="https://twitter.com/heyAustinGil" rel="noopener ugc nofollow" target="_blank">follow me on Twitter</a> if you want to know when new articles are published.</span></pre></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><p id="5481" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><em class="mi">原载于</em><a class="ae lh" href="https://austingil.com/html-capture-attribute/" rel="noopener ugc nofollow" target="_blank"><em class="mi">【austingil.com】</em></a><em class="mi">。</em></p></div></div>    
</body>
</html>