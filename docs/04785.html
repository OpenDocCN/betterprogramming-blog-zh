<html>
<head>
<title>What Are Smart Contracts Used For?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">智能合约有什么用途？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/what-are-smart-contracts-used-for-2583af2c62bc?source=collection_archive---------8-----------------------#2020-05-08">https://betterprogramming.pub/what-are-smart-contracts-used-for-2583af2c62bc?source=collection_archive---------8-----------------------#2020-05-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fcb7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">智能合约如何用于创建令牌</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a16d94ee9fc1bbd26b13ad87192e6468.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ytUyaB0Ya2dobDGdpqetmQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/users/WorldSpectrum-7691421/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3424629" rel="noopener ugc nofollow" target="_blank">世界光谱</a>来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3424629" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="2297" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">先决条件:通过</em> <a class="ae ky" href="https://medium.com/better-programming/get-started-with-your-first-smart-contract-de2b54261d65" rel="noopener"> <em class="lv">入门你的第一个智能合约</em> </a> <em class="lv">，解释其背后的基本概念，以及如何编写一个简单的ETH钱包合约。</em></p><p id="6a10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然我们知道智能合约可以持有、发送和接收ETH，它们还能做什么呢？</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8987" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">智能合约的意义是什么？</h1><p id="83af" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">智能合约的第一个主要用例在2017年以令牌的形式出现。事实上，当时流通的前100枚硬币中有许多是以太坊区块链的代币。例如，创和币安硬币都是建立在以太坊上的代币，然后才发展出他们自己的区块链。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="5b03" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">你如何制作一个代币？</h1><p id="b7c4" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">令牌在智能合约中定义。部署后，令牌智能合约会跟踪拥有令牌的每个地址以及数量。它还提供了让地址将属于它们的令牌转移到其他地址的功能。</p><p id="43a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">智能合约中持有每个人拥有的代币数量，<em class="lv">而不是</em>底层区块链本身，与ETH </strong>形成对比。因此，要找出一个地址有多少个令牌，我们需要查询智能契约。<em class="lv">这是我们需要认识到的区别</em>。</p><p id="9bb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们查询一个地址有多少ETH时，我们会查询区块链。</p><p id="e1ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们查询一个地址有多少个令牌时，我们查询该令牌的智能契约。</p><p id="2a64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，要知道一个钱包有多少ETH和令牌，它需要知道在区块链上部署令牌智能合约的所有地址。</p><h2 id="3221" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">示例令牌代码</h2><p id="d20e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">假设我们要部署一个令牌，给它一个名称、一个符号，确定它有多少个小数位，以及总供应量。我们希望持有者能够将其令牌转移到其他地址，因此我们需要一个转移函数。我们还希望能够查询任何地址有多少令牌。</p><p id="34bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是那份合同的样子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><ul class=""><li id="9886" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated">第12行的构造函数获取参数并设置硬币。</li><li id="8b19" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">在构造期间，第17行将所有令牌发送给契约的部署者(构造者的<code class="fe oc od oe of b">msg.sender</code>)。</li><li id="c1a2" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">在第20行使用<code class="fe oc od oe of b">balanceOf()</code>返回给定地址拥有多少令牌。</li><li id="2f99" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated"><code class="fe oc od oe of b">transfer()</code>函数首先检查两个地址是否有效，然后检查函数的调用者是否有足够的令牌来传输。然后，它通过减少发送方拥有的金额并增加接收方拥有的金额，在第29行和第30行上执行转账。</li></ul><h2 id="c38f" class="na me it bd mf nb nc dn mj nd ne dp mn li nf ng mp lm nh ni mr lq nj nk mt nl bi translated">钱包代码</h2><p id="972c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在上一篇文章中，我们编写了一个智能契约，它可以持有、接收和转移ETH。<strong class="lb iu">它不能传输令牌</strong>，因为正如我们前面提到的，必须知道令牌智能合约的地址才能这样做。</p><p id="41ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码显示了上一篇文章中的<strong class="lb iu">原始</strong> <code class="fe oc od oe of b">MyWallet</code>契约。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">MyWallet.sol</p></figure><p id="ef40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们添加能够转移新令牌的功能。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">MyWallet.sol版本2</p></figure><ul class=""><li id="27b9" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated">第8行显示了一个名为<code class="fe oc od oe of b">tokenAddress</code>的新状态变量，它是我们在创建钱包时在构造函数中设置的。</li><li id="865b" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">我们还在第3行导入了<code class="fe oc od oe of b">MyToken</code>契约的规范。</li><li id="4e3d" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">第24行显示了一个名为<code class="fe oc od oe of b">sendToken()</code>的新函数，它使用导入的<code class="fe oc od oe of b">MyToken</code>规范来加载<code class="fe oc od oe of b">tokenAddress</code>并调用<code class="fe oc od oe of b">transfer()</code>函数。</li></ul><p id="ac4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的钱包现在可以容纳、接收和发送ETH和我们的令牌！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="bb01" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">ERC20标准</h1><p id="fa69" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">为了确保所有以太坊钱包能够容纳尽可能多的代币，代币必须遵守一个编码标准。这称为ERC20，它概述了兼容ERC20的钱包必须支持的令牌的功能和变量的最低要求。</p><p id="9b72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的令牌现在并不符合这一点，但是请浏览一下<a class="ae ky" href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md" rel="noopener ugc nofollow" target="_blank"> ERC20规范</a>，看看您是否可以扩展我们的代码以符合它。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="e57e" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">类比</h1><p id="db1c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如果以太坊区块链是一个人的身体，以太就是血液。每笔交易都要花费ETH(以天然气的形式，本质上是ETH的一小部分)。用同样的比喻，ERC20代币就像衣服。它们从根本上依赖于身体和血的存在，但它们本身代表着不同的东西。</p><p id="223b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用于从一个地址到另一个地址传输ETH的机制不同于用于传输ERC20令牌的机制，因为令牌不是主体的固有部分。它们是在区块链运行的智能合约。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4339" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">进一步阅读</h1><p id="c64c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如果你对区块链开发感兴趣，我会写一些教程、演练、提示以及如何开始和建立投资组合的技巧。</p></div></div>    
</body>
</html>