<html>
<head>
<title>Create an Analytical Website From Scratch Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python从头开始创建分析网站</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-an-analytical-website-from-scratch-in-python-2e034c015ee9?source=collection_archive---------3-----------------------#2022-04-15">https://betterprogramming.pub/create-an-analytical-website-from-scratch-in-python-2e034c015ee9?source=collection_archive---------3-----------------------#2022-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5cc4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Flask网站模板，包括博客、dash应用程序和Jupyter笔记本的位置</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7515862a5bdc820b94bba8f13ed60b24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LQhXr_VP_JwI4RUoTyuC-g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者网站截图</p></figure><p id="66f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我想创建自己的网站，这样我就可以创建博客，展示我的仪表盘，还可以运行jupyter笔记本。</p><p id="f6ea" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我找到了如何创建Dash应用程序本身，但是我找不到一个能描述所有这三者的程序。这就是我今天打算提供的。</p><p id="4822" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">这里的模板代码是</em><a class="ae lv" href="https://github.com/sdf94/flask-dash-blog" rel="noopener ugc nofollow" target="_blank"><em class="lu"/></a><em class="lu">，用这个模板，我建立了我的</em> <a class="ae lv" href="http://example.dutchengineer.org" rel="noopener ugc nofollow" target="_blank"> <em class="lu">网站</em> </a> <em class="lu">。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4b5c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">介绍</h1><p id="1017" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">我最初设计的这个网站是用Dash写的，只是下面显示的仪表盘。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/9ec0495b89f37488782bf948c4af6718.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sw2ylV7VpzdpaN4GuELarA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者网站截图</p></figure><p id="09be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些仪表板是使用Dash和Plotly创建的。</p><p id="c6fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不幸的是，当我意识到我无法呈现markdown博客帖子时，我不得不想出另一种方法来创建网站。</p><p id="55da" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我不得不开始谷歌搜索，找到一个例子来渲染markdown，并利用Dash的仪表板，我找不到一个。</p><p id="4d89" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">相反，我找到的是詹姆斯·哈丁的一篇精彩的文章(<a class="ae lv" href="https://www.jamesharding.ca/posts/simple-static-markdown-blog-in-flask/" rel="noopener ugc nofollow" target="_blank">链接</a>),我用它来建立主网站，并添加了一些技巧来使仪表板与网站对齐。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2930" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">文件夹结构</h1><p id="a6be" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">所有这些代码和设置都在<a class="ae lv" href="https://github.com/sdf94/flask-dash-blog" rel="noopener ugc nofollow" target="_blank">这里</a>提供。基本结构是这样的:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="d6e3" class="ng me it nc b gy nh ni l nj nk">.<br/>|-- virtualenv/<br/>|-- main/<br/>|   |-- content<br/>|   |   |-- posts<br/>|   |   |   `-- about_website.md<br/>|   |-- dash<br/>|   |-- data<br/>|   |-- static<br/>|   |-- templates<br/>|   |-- __init__.py<br/>|-- app.py<br/>|-- Dockerfile<br/>|-- .pylintrc<br/>`-- requirements.txt</span></pre><p id="0409" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<code class="fe nl nm nn nc b">__init__.py</code>中，建立flask服务器，并注册平面页面和仪表板组件。</p><p id="2f02" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">网站分为静态文件和HTML文件。网站上显示的图像或CSS和javascript文件位于静态文件夹中，而HTML文件将位于模板文件夹中。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8e7d" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">注册flask应用程序</h1><p id="c0db" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">应用程序将从<code class="fe nl nm nn nc b">app.py</code>中调用，它调用位于<code class="fe nl nm nn nc b">__init__.py</code>文件中的<code class="fe nl nm nn nc b">create_app()</code>函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="ca53" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个功能中，我做的第一件事是设置服务器，并确定静态文件在哪里给出了我的网站的独特特征。</p><p id="d0f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意:如果没有添加<code class="fe nl nm nn nc b">static_url_path</code>作为参数，Flask服务器可能不知道在哪里寻找CSS和js文件。如果您在调用这些文件时遇到404，这可能是您的问题。</p><p id="cbef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Flask服务器注册之后，我现在可以添加dash组件和Flatpages markdown页面了。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="ab43" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">添加仪表板</h1><p id="405a" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">在<code class="fe nl nm nn nc b">__init__.py</code>中，功能<code class="fe nl nm nn nc b">register_dashapps</code>如下所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="02fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">常规破折号和这个函数的一个主要区别是额外的flask上下文。仪表板现在可以通过烧瓶<code class="fe nl nm nn nc b">app_context()</code>运行。想知道为什么增加这个额外步骤的细节吗？这里是<a class="ae lv" href="https://flask.palletsprojects.com/en/1.1.x/appcontext/" rel="noopener ugc nofollow" target="_blank">链接</a>。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2c5c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">添加博客</h1><p id="b341" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">大多数博客文章在关系数据库中维护它们的内容，这是存储文章内容的一般方法。</p><p id="c3b0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同时，我的博客文章简单而“平淡”,并且来自源代码中的文件。Flatpages是为这种用例完美设计的，它可以快速地将渲染器添加到flask应用程序的配置中，将markdown翻译或代码转换为HTML。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="36a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，我们必须注册指向帖子的网站路径。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="1ece" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">詹姆斯·哈丁已经彻底解释了博客代码的其余部分。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="ee4a" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">添加Jupyter笔记本</h1><p id="ab8f" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">最后一步是添加jupyter笔记本。</p><p id="cfa4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们可以在<code class="fe nl nm nn nc b">__init__.py</code>文件中添加重定向之前，我们需要确保Jupyter笔记本可以从网站访问。我用了nbviewer，让我可以免费托管这个Jupyter笔记本。然后可以在重定向(&lt; URL &gt;)中使用这个URL，如下例所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="2ab0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我希望这篇文章对将Flask、Dash和Jupyter Notebook结合成一个漂亮的网站有所启发。如果你有任何问题让我知道。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="22db" class="ng me it nc b gy nh ni l nj nk"><strong class="nc iu">Want to Connect?</strong></span><span id="d2ea" class="ng me it nc b gy nq ni l nj nk">Updated from the original blog post at <a class="ae lv" href="https://dutchengineer.org/posts/about-website/" rel="noopener ugc nofollow" target="_blank">https://dutchengineer.org</a>.</span></pre></div></div>    
</body>
</html>