<html>
<head>
<title>Working With Regular Expressions (RegEx) in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在JavaScript中使用正则表达式(RegEx)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/working-with-regular-expressions-regex-in-javascript-6c7dd951574a?source=collection_archive---------5-----------------------#2019-07-26">https://betterprogramming.pub/working-with-regular-expressions-regex-in-javascript-6c7dd951574a?source=collection_archive---------5-----------------------#2019-07-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="636f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用正则表达式匹配部分字符串</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3274d9f6b7d978799723d874cd36427b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m3wegA5h10b8aM5U64xtSA.png"/></div></div></figure><p id="b2c7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在编程语言中，正则表达式用于匹配字符串的各个部分。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="158d" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">正则表达式入门</h1><p id="2f60" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">比方说，如果你想在字符串<code class="fe mu mv mw mx b">“God helps those who help themselves”</code>中找到单词<code class="fe mu mv mw mx b">"help"</code>，你可以使用下面的正则表达式(RegEx): <code class="fe mu mv mw mx b">/help/</code>。</p><p id="f70f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">JavaScript使用<code class="fe mu mv mw mx b">.test()</code>方法，该方法获取正则表达式并将其应用于一个字符串(放在括号内)。它<code class="fe mu mv mw mx b">returns</code>或者<code class="fe mu mv mw mx b">true</code>或者<code class="fe mu mv mw mx b">false</code>，取决于图案是否匹配。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="270b" class="nc ly it mx b gy nd ne l nf ng">let str1 = "God helps those who help themselves";<br/>let str2 = "You can't expect everyone to like you";<br/>let testRegex = /help/;<br/>testRegex.test(str1); //returns true<br/>testRegex.test(str2); //returns false</span></pre><p id="402c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的例子中，我们使用文字正则表达式<code class="fe mu mv mw mx b">/help/</code>在变量<code class="fe mu mv mw mx b">str1</code>和<code class="fe mu mv mw mx b">str2</code>中搜索单词<em class="nh"> help </em>。</p><p id="7b15" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一个文字正则表达式的例子是<code class="fe mu mv mw mx b">/expect/</code>，它将从字符串中匹配单词<em class="nh">期望</em>。</p><p id="6ecc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以使用or操作符寻找多个模式:<code class="fe mu mv mw mx b">|</code>。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="edfa" class="nc ly it mx b gy nd ne l nf ng">Example: if you wanted to match “hi”, “hello”, or “hola”, the RegEx would be: <!-- -->/hi|hello|hola/<!-- -->.</span></pre></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="7bb9" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated"><strong class="ak">匹配方法</strong></h1><p id="a357" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">JavaScript中还有一个方法:<code class="fe mu mv mw mx b">.match()</code>。它应用于字符串，并以正则表达式作为参数。<code class="fe mu mv mw mx b">.match()</code>方法返回一个包含匹配正则表达式的数组。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="7cfd" class="nc ly it mx b gy nd ne l nf ng">Example: <!-- -->“Quick brown fox”.match(\brown\)<!-- -->; <!-- -->\\returns<!-- --> <!-- -->[“brown”]</span></pre></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="b331" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated"><strong class="ak">标志</strong></h1><p id="49fc" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">我们可以使用<code class="fe mu mv mw mx b">-i</code>标志在匹配时忽略字母大小写。</p><p id="0979" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">“hello”和“Hello”都将匹配正则表达式<code class="fe mu mv mw mx b">/hello/i</code>。</p><p id="d018" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们想要提取一个字符串中一个单词的每一个匹配，我们使用<code class="fe mu mv mw mx b">-g (global)</code>标志。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="cce6" class="nc ly it mx b gy nd ne l nf ng">Example: <!-- -->“hello, hello, hello”.match(\hello\g)<!-- -->; <!-- -->//returns<!-- --> <!-- -->[“hello”,”hello”,”hello”]</span></pre><p id="798b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们还可以一起使用<code class="fe mu mv mw mx b">-i</code>和<code class="fe mu mv mw mx b">-g</code>标志来查找一个单词的所有出现，并忽略大小写。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="3ddd" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">百搭牌</h1><p id="d7f8" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">通配符(<code class="fe mu mv mw mx b">.</code>)匹配任何东西。</p><p id="f7ac" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通配符<code class="fe mu mv mw mx b">.</code>(又名<code class="fe mu mv mw mx b">dot</code>或<code class="fe mu mv mw mx b">period</code>)将匹配任何一个字符。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="6020" class="nc ly it mx b gy nd ne l nf ng">Example: if you want to match “huh”,”hut”,”hum”,”hug”, we can use the RegEx <!-- -->/hu./</span></pre></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="a2e1" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated"><strong class="ak">人物类</strong></h1><p id="573c" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">字符类允许您定义一组想要匹配的字符，方法是将它们放在方括号(<code class="fe mu mv mw mx b">[</code>和<code class="fe mu mv mw mx b">]</code>)内。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="f949" class="nc ly it mx b gy nd ne l nf ng">Example: <!-- -->“bag, big, bug, bog”.match(b[aiu]g)<!-- -->; <!-- -->//returns<!-- --> <!-- -->[“bag”, “big”, “bug”, “bog”]<!-- -->.</span></pre><p id="f65d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了匹配一系列字符，比如小写字母a到e，您可以使用<code class="fe mu mv mw mx b">[a-e]</code>。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="841b" class="nc ly it mx b gy nd ne l nf ng">Example: <!-- -->“cat, bat, mat”.match(/[a-e]at/)<!-- -->; <!-- -->//returns<!-- --> <!-- -->[“cat”, “bat”, null]</span></pre><p id="b3c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您也可以创建一组不想匹配的字符。</p><p id="7541" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这些类型的字符集被称为<em class="nh">无效字符集</em>。要创建一个求反的字符集，您需要在左括号后和不想匹配的字符前放置一个脱字符(<code class="fe mu mv mw mx b">^</code>)。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="7591" class="nc ly it mx b gy nd ne l nf ng">Example: <!-- -->/[^aeiou]/gi<!-- --> matches all the non-vowel characters.</span></pre><p id="4bce" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意，在字符集之外，脱字符(<code class="fe mu mv mw mx b">^</code>)用于搜索字符串开头的模式。</p><p id="0b8f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，您可以使用正则表达式末尾的美元符号字符<code class="fe mu mv mw mx b">$</code>来搜索字符串的结尾。</p><p id="2dee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了匹配一个字符至少出现一次，我们可以使用<code class="fe mu mv mw mx b">+</code>，为了匹配出现零次或多次的字符，我们使用<code class="fe mu mv mw mx b">*</code>。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="0ee4" class="nc ly it mx b gy nd ne l nf ng">Example: <!-- -->‘gooooooooooal!’.match(/go*/)<!-- -->; <!-- -->//returns<!-- --> <!-- -->[“goooooooooo”]</span></pre></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="f401" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated"><strong class="ak">贪懒搭配</strong></h1><p id="d842" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">在正则表达式中，贪婪匹配查找字符串中符合正则表达式模式的最长部分，并将其作为匹配返回。</p><p id="514b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一种方法叫做<em class="nh">惰性匹配</em>，它寻找字符串中满足正则表达式模式的最小可能部分。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="8901" class="nc ly it mx b gy nd ne l nf ng">Example-1: "titanic".match(\t[a-z]*i\) returns \\ ["titani"]<br/>Example-2: "titanic".match(/t[a-z]*?i/) <br/>returns \\ ["ti"] <strong class="mx iu">here we have used ? to specify lazy match.</strong></span></pre></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="b3e4" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated"><strong class="ak">特殊字符(\w，\W，\s，\d，\D) </strong></h1><ul class=""><li id="6670" class="ni nj it kw b kx mp la mq ld nk lh nl ll nm lp nn no np nq bi translated">为了匹配JavaScript中的所有数字和字母，我们使用了相当于RegEx <code class="fe mu mv mw mx b">\[A-za-z0–9_]\</code>的<code class="fe mu mv mw mx b"> \w</code>。</li><li id="fb75" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">为了跳过所有的数字和字母，我们使用<code class="fe mu mv mw mx b">\W</code>。</li><li id="8928" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">为了只匹配数字，我们使用<code class="fe mu mv mw mx b">\d</code>。</li><li id="b553" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">为了不匹配数字，我们使用<code class="fe mu mv mw mx b">\D</code>。</li><li id="e096" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated"><code class="fe mu mv mw mx b">\s</code>是匹配空格的正则表达式。</li><li id="cd34" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated"><code class="fe mu mv mw mx b">\S</code>是一个转义空格的正则表达式。</li></ul></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="9377" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated"><strong class="ak">范围</strong></h1><p id="4096" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">为了匹配出现在某个范围内的字母，我们使用<code class="fe mu mv mw mx b">{}</code>。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="6b6d" class="nc ly it mx b gy nd ne l nf ng">Example: "aaaaapple".test(\a{3,5}\); //returns true. 3 and 5 are the minimum and maximum number of times a should be present in the string.</span></pre><p id="ce3f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就这样了，伙计们。我希望你觉得这很有趣。给我你的反馈！感谢阅读。</p></div></div>    
</body>
</html>