<html>
<head>
<title>Understanding Your Cloud Cost Data for Better Decision Making</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解您的云成本数据，以便做出更好的决策</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understanding-your-cloud-cost-data-for-better-decision-making-f6925ec05e3d?source=collection_archive---------6-----------------------#2022-12-21">https://betterprogramming.pub/understanding-your-cloud-cost-data-for-better-decision-making-f6925ec05e3d?source=collection_archive---------6-----------------------#2022-12-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="60bb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你不能优化你不能测量的东西</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9d3d5062f6337d98e17c125237884650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cageouN1Dz-O_0oM"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="563f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着我们走出疫情，迎接未来一年左右的潜在衰退，我们面临着许多业务挑战。许多公司在几个方面关注效率，其中之一是成本。除了成本之外，关键是要明白，优化任何东西都需要首先深入了解你想让什么变得更有效率。这与FinOps 的<a class="ae kv" href="https://www.finops.org/framework/phases/" rel="noopener ugc nofollow" target="_blank">生命周期相一致，这是一种在我们试图充分利用云计算时出现的实践。</a></p><p id="fa54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.finops.org/introduction/what-is-finops/" rel="noopener ugc nofollow" target="_blank"> FinOps Foundation </a>将FinOps定义为<em class="ls">“一种不断发展的云财务管理规则和文化实践，通过帮助工程、财务、技术和业务团队协作制定数据驱动的支出决策，使组织能够获得最大的商业价值。”</em></p><p id="9753" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简而言之，我们正在谈论云成本管理或云经济。在大多数情况下，技术、采购和财务团队不得不(或旨在)以最佳方式计划购买硬件来增强其数字产品和服务的日子是漫长的。云计算行业打破了这一局面，因为我们进入了一个时代，在这个时代，点击一个按钮和按秒付费的模式可以在眨眼之间提供基础设施。</p><p id="4e3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，一个问题是，在云中敏捷而有效地管理成本所需的成熟度很难达到。当您迭代地、增量地走这条路时，有多个文化和技术挑战需要解决。其中之一是数据可见性和问责制。</p><h1 id="907c" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated"><strong class="ak">数据可见性和可访问性</strong></h1><p id="f317" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">毫无疑问，你不能优化你看不到的东西。因此，我想我可以用几个步骤展示我将如何解决在特定团队中的登陆问题，以获得云金融前景的第一印象。</p><p id="62ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，一些免责声明。我们在这里试图实现的是确定按另一个方面(例如，按服务)分解的云成本，并获得总体支出的第一印象。我在这个例子中使用AWS，但是它的相同或类似版本可以在其他云中实现。</p><p id="156b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，通过云供应商自己提供的一些开箱即用的解决方案或服务，您也有多种方式来实现同样的目标。不管任何技术解决方案如何，与拥有基础设施的人，如平台团队、FinOps团队等密切合作总是一个好的方法。</p><p id="33fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您处于某种成熟的状态，并且可以访问运行您的资源的云帐户，您应该检查您的供应商的cost explorer解决方案(或任何其他可供您使用的解决方案),并在您交付新功能时将它放在手边。他们很擅长告诉你你的支出是多少，并允许你从多个方面进行筛选。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/d0ed4a19687e6b081e13dbb6aab85dab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WbVBSPqFglrE_yMn"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">按例程类型显示EC2成本的AWS成本浏览器</p></figure><p id="c249" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些受管工具不仅能很好地向您展示您当前的支出，还能为您的基础架构提供可行的建议。<a class="ae kv" href="https://aws.amazon.com/compute-optimizer/" rel="noopener ugc nofollow" target="_blank"> AWS计算优化器</a>、<a class="ae kv" href="https://docs.aws.amazon.com/cost-management/latest/userguide/ce-rightsizing.html" rel="noopener ugc nofollow" target="_blank"> AWS合理调整建议</a>等等，都是云供应商服务的好例子，它们有效地提供了这些见解，并确切地告诉您如何做才能省钱。</p><p id="0d95" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些也适用于购买特定的计算产品，即云供应商可以基于历史数据分析其服务的利用率，以建议您可以购买多少<a class="ae kv" href="https://www.incredibuild.com/blog/whats-the-difference-between-on-demand-reserved-and-spot-instances" rel="noopener ugc nofollow" target="_blank">承诺和抢先使用</a>。这些大大降低了您的云支出，因为您的费用要低得多。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mr"><img src="../Images/f5f398681e1c40bef8308e2450b87b23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c6u88y6kNceZbPght9ZKmA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">针对过度调配的EC2实例的AWS计算优化器建议</p></figure><h2 id="89f1" class="ms lu iq bd lv mt mu dn lz mv mw dp md lf mx my mf lj mz na mh ln nb nc mj nd bi translated"><strong class="ak">定制的技术方案</strong></h2><p id="2d3a" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">假设我们想要一个更适合我们需求的解决方案，我们仍然有几种方法来实现它。在这种特殊情况下，我描述的解决方案涉及AWS S3和AWS QuickSight上托管的<a class="ae kv" href="https://docs.aws.amazon.com/cur/latest/userguide/what-is-cur.html" rel="noopener ugc nofollow" target="_blank">成本和使用报告</a> (CUR)数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/76247fbf39133e4b142d2fdf83541e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rmL15HdM8gZsE2Ct"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用AWS S3和AWS QuickSight的简单成本智能解决方案</p></figure><p id="4272" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，您必须确保您<a class="ae kv" href="https://docs.aws.amazon.com/cur/latest/userguide/cur-create.html" rel="noopener ugc nofollow" target="_blank">启用并创建了AWS的成本和使用报告</a>特性。当你这样做的时候，你可以选择在S3存放数据的格式。在这种情况下，我选择了AWS QuickSight。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/be9032f4943478b86e3c24538a0d38f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nIXdu4lGePNIhr4a"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建AWS S3 CUR报告</p></figure><p id="eb3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成这个过程后，您将在指定的S3存储桶中获得CUR数据(可能需要一两天才能交付)。接下来是启动AWS QuickSight来可视化和分析这些数据。</p><p id="16e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://docs.aws.amazon.com/quicksight/index.html" rel="noopener ugc nofollow" target="_blank"> AWS QuickSight </a>是一款商业智能工具，可以对您的数据进行快速和专门的分析，这非常符合我们的目的。设置它的过程非常简单。首先，您需要打开服务并确保它可以访问其他相关的AWS服务。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/127dd86e44d9eba9e56d92ac29b28865.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oIpBANwNpYYwzTkU"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">为AWS QuickSight启用权限</p></figure><p id="3b7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我的例子中，我已经设置好让QuickSight访问S3和雅典娜。接下来，您将根据托管在S3上的数据创建一个新数据集。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/e599d9eef5103f8fcb038ba35d78ceab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ptCq0edn3JjxPGqL"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在AWS QuickSight中创建数据源/数据集</p></figure><p id="6237" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您将为CUR数据所在的S3时段输入数据源名称和URI。一旦创建了数据集，它就可以随时用于创建分析和仪表板。下面是一个分析的例子，我按服务对<a class="ae kv" href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/con-bill-blended-rates.html" rel="noopener ugc nofollow" target="_blank">混合成本</a>进行了分解。您可以添加多个这样的仪表板，以便以后作为仪表板发布。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/fa51688d22d06cc5aae189235be73420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*v2I8ChBwgPBc3s5V"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">显示混合成本/服务名称细分的简单数据分析</p></figure><p id="69eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是迈向成本智能的第一步，最终更先进的解决方案可能会像<a class="ae kv" href="https://aws.amazon.com/blogs/aws-cloud-financial-management/a-detailed-overview-of-the-cost-intelligence-dashboard/" rel="noopener ugc nofollow" target="_blank">这样</a>。</p><p id="000f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>请注意，在使用AWS QuickSight进行锻炼时，您需要<a class="ae kv" href="https://docs.aws.amazon.com/quicksight/latest/user/managing-spice-capacity.html" rel="noopener ugc nofollow" target="_blank">相应地管理您的香料量</a>。</p><h1 id="8727" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated"><strong class="ak">结论</strong></h1><p id="00a5" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">云成本管理是在全球不确定性和IT基础设施财务优化的背景下出现的一门学科。有几个工具可以用来解释这个问题。其中一些是现成的，问题是在创建和维护数字产品时要将它们结合起来。另一方面，云供应商提供了一套丰富的工具，可以进一步分析和调查您的云使用数据。</p><p id="25ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终，和往常一样，这项技术可以投入使用了。更重要的是，在现代数字业务的任何团队拓扑和级别中，都应该鼓励问责文化的改变。我认为，这就是挑战所在。</p></div></div>    
</body>
</html>