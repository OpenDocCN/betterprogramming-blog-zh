<html>
<head>
<title>How to Change the Color of an Image With CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用CSS改变图像的颜色</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-change-the-color-of-an-image-with-css-83664f6527ac?source=collection_archive---------0-----------------------#2020-11-23">https://betterprogramming.pub/how-to-change-the-color-of-an-image-with-css-83664f6527ac?source=collection_archive---------0-----------------------#2020-11-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="068b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">仅仅因为你得到了某种颜色的图像并不意味着它必须保持这种颜色</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1affc8ae25a74f927598d28f35463bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2G6Z6fGB5iE1Y5IkKNRoKg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@alexkixa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Alexandre Debiève </a>在<a class="ae ky" href="https://unsplash.com/s/photos/ladybug?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的原始照片(无BW)。</p></figure><p id="6ee3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您从产品团队收到了一张特定的图片，该图片旨在充当按钮的图标。按钮有白色背景，黑色边框，黑色文本，图像本身更暗。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/330f29753079443d96edf442fd4affcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:382/format:webp/1*4qmyBGKYbQ5UsDZIeQgx4Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">初始元素状态</p></figure><p id="f87c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此元素的CSS如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="f6af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户<em class="ly">将</em>悬停在按钮上时，期望的行为是背景颜色变成黑色，字体变成白色，图像也是白色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/24f5d5eae8021a21c6bc7908bf7e89e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/format:webp/1*kFSdMPxl6R0vX0dVvvQaLw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">悬停元素状态</p></figure><p id="4bd7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户将鼠标悬停在按钮上时，<code class="fe ma mb mc md b">background-color</code>、<code class="fe ma mb mc md b">color</code>和<code class="fe ma mb mc md b">border</code>的变化非常简单。您可以在样式表中的<code class="fe ma mb mc md b">:hover</code>选择器下声明这些更新的样式:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="7a13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些样式考虑了大部分的变化，但是它们没有考虑图像颜色的变化。我们如何应对预期的变化？</p><p id="345e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果产品团队也提供了图像的白色版本，你可以简单地将图像的<code class="fe ma mb mc md b">src</code>切换到悬停状态。这可以使用JavaScript来完成。您可以使用一个<code class="fe ma mb mc md b">onmouseover</code>函数将图像的<code class="fe ma mb mc md b">src</code>设置为<code class="fe ma mb mc md b">white.png</code>，然后使用一个<code class="fe ma mb mc md b">onmouseleave</code>函数将图像的<code class="fe ma mb mc md b">src</code>设置为<code class="fe ma mb mc md b">black.png</code>。</p><p id="7b98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是可行的，但是我们实际上可以用纯CSS来完成这个任务。然而，这需要包含另一个元素来包装图像。有了图像的包装器，你可以根据你是否停留在它上面来分配属性<code class="fe ma mb mc md b">background-image</code>或者<code class="fe ma mb mc md b">black.png</code>或者<code class="fe ma mb mc md b">white.png</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="7fad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多关于如何使用CSS在悬停时改变图像的<code class="fe ma mb mc md b">src </code>,参见<a class="ae ky" href="https://stackoverflow.com/questions/18032220/css-change-image-src-on-imghover" rel="noopener ugc nofollow" target="_blank">堆栈溢出时的线程</a>。</p><p id="f531" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这个解决方案确实有效，但是你仍然需要添加更多的HTML <em class="ly">和</em>只有当你足够幸运地得到第二个资产时它才有效。如果你只想使用CSS，没有额外的标记，<em class="ly">和</em>你不想必须依赖产品团队的另一项资产呢？能做到吗？是的。是的，可以。</p><p id="93a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe ma mb mc md b">filter</code> CSS属性，很容易获取我们现有的图像并改变它的颜色以适应我们当前的需要。我们只需要使用全灰度和全反转。见下文:</p><pre class="kj kk kl km gt me md mf mg aw mh bi"><span id="3d75" class="mi mj it md b gy mk ml l mm mn">.myButton:hover img{<br/>   -webkit-filter: grayscale(1) invert(1);<br/>   filter: grayscale(1) invert(1);<br/>}</span></pre></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="e1e1" class="mv mj it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">灰度等级</h1><p id="7fe2" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated"><code class="fe ma mb mc md b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/grayscale()" rel="noopener ugc nofollow" target="_blank">grayscale</a></code>是一个CSS函数，将提供的图像转换为灰度，<code class="fe ma mb mc md b">0</code>为原始(无灰度变化)<code class="fe ma mb mc md b">1</code>为完全灰度(使其看起来更黑白)。但是，为黑色图像提供灰度不会使其看起来是白色的。深色更接近黑色，浅色更接近白色。所以给一幅黑色图像分配一个<code class="fe ma mb mc md b">1</code>的灰度几乎是多余的(我们一会儿会讲到)。这就把我们带到了<code class="fe ma mb mc md b">filter</code>的下一个CSS函数。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="dae5" class="mv mj it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">转化的</h1><p id="2dea" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated"><code class="fe ma mb mc md b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/invert()" rel="noopener ugc nofollow" target="_blank">invert</a></code>是一个CSS函数，将提供的图像中的颜色样本反转，<code class="fe ma mb mc md b">0</code>为原始，<code class="fe ma mb mc md b">1</code>为相反。与<code class="fe ma mb mc md b">grayscale</code>结合使用，我们可以确保图像尽可能暗，然后反转最终比例，使其尽可能亮(在这种情况下，白色)。</p><p id="6a10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们当前的情况下，您实际上可以只使用<code class="fe ma mb mc md b">invert</code>而不被发现:</p><pre class="kj kk kl km gt me md mf mg aw mh bi"><span id="2550" class="mi mj it md b gy mk ml l mm mn">.myButton:hover img{<br/>   -webkit-filter: invert(1);<br/>   filter: invert(1);<br/>}</span></pre><p id="32ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于我们的原始资产是黑色的，我们不需要使用<code class="fe ma mb mc md b">grayscale</code>来使图像变暗(如前所述，这有点多余)。灰度可能更有意义的情况是当您有一个对比图像或至少一个不全是黑/白的图像时。</p><p id="e85a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面提供的<a class="ae ky" href="https://codesandbox.io/s/wandering-wildflower-x46ug?file=/index.html" rel="noopener ugc nofollow" target="_blank">代码沙箱</a>中，你可以看到<code class="fe ma mb mc md b">grayscale</code>和<code class="fe ma mb mc md b">invert</code>是如何操作一个多了一点色彩(或者我敢说，天赋)的图像的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr lx l"/></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><p id="d9d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在此  <em class="ly">将你的免费中级会员升级为付费会员，每月只需5美元，你就可以获得数以千计作家的无限量无广告故事。这是一个附属链接，你的会员资格的一部分帮助我为我创造的内容获得奖励。谢谢大家！</em></p><h1 id="9b2f" class="mv mj it bd mw mx ns mz na nb nt nd ne jz nu ka ng kc nv kd ni kf nw kg nk nl bi translated">参考</h1><div class="nx ny gp gr nz oa"><a href="https://stackoverflow.com/questions/18032220/css-change-image-src-on-imghover" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">CSS:更改img上的图像src:hover</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">问我需要在悬停时更改源URL。我试过了，但不起作用:HTML CSS #my-img:hover { content…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">stackoverflow.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo ks oa"/></div></div></a></div><div class="nx ny gp gr nz oa"><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/grayscale%28%29" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">灰度()</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">灰度()CSS函数将输入图像转换为灰度。其结果是一个过滤函数。</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">developer.mozilla.org</p></div></div><div class="oj l"><div class="op l ol om on oj oo ks oa"/></div></div></a></div><div class="nx ny gp gr nz oa"><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/invert%28%29" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd iu gy z fp of fr fs og fu fw is bi translated">反转()</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">函数的作用是:反转输入图像中的颜色样本。其结果是一个过滤函数。</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">developer.mozilla.org</p></div></div><div class="oj l"><div class="oq l ol om on oj oo ks oa"/></div></div></a></div></div></div>    
</body>
</html>