<html>
<head>
<title>The Destructuring Assignment in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的析构赋值</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/great-javascript-shorthand-destructuring-assignment-500dcd22311e?source=collection_archive---------23-----------------------#2020-03-30">https://betterprogramming.pub/great-javascript-shorthand-destructuring-assignment-500dcd22311e?source=collection_archive---------23-----------------------#2020-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2aed" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">干净代码的语法快捷方式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/11f8ca9326050e48a860fe755d89fe29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AsqguwIasHefnaEh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@clemono2?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Clem Onojeghuo </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="9f4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript是前端开发的主要语言。后端开发也用了很多。</p><p id="d7b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在过去的几年里，这种语言变得更好了。</p><p id="3961" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将研究JavaScript的一个更好的特性，即析构赋值语法。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ab53" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">数组的析构语法</h1><p id="acdd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">析构语法用于将对象和数组条目分配给它们自己的变量。</p><p id="04d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以编写以下代码，将数组条目分配给各个变量:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="96b2" class="ne md it na b gy nf ng l nh ni">const [a, b] = [1, 2];</span></pre><p id="9226" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，析构赋值语法将条目分配给位于相同位置的变量。</p><p id="56eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，<code class="fe nj nk nl na b">a</code>为1，<code class="fe nj nk nl na b">b</code>为2。</p><p id="b949" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们不需要把它们都赋给变量，所以我们可以这样写:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6b80" class="ne md it na b gy nf ng l nh ni">const [a] = [1, 2];</span></pre><p id="8293" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么<code class="fe nj nk nl na b">a</code>就是1。</p><p id="8c25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，我们可以把没有被赋值的变量赋给数组。</p><p id="e3f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以写:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="708b" class="ne md it na b gy nf ng l nh ni">const [a, ...b] = [1, 2, 3];</span></pre><p id="cdbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这三个点表示我们正在将没有分配给变量的数组条目分配给一个数组。</p><p id="0741" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，<code class="fe nj nk nl na b">a</code>为1，<code class="fe nj nk nl na b">b</code>为<code class="fe nj nk nl na b">[2, 3]</code>。</p><p id="54fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以为析构赋值的变量设置一个默认值。例如，我们可以写:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="8a69" class="ne md it na b gy nf ng l nh ni">const [a, b, c = 3] = [1, 2];</span></pre><p id="350e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么<code class="fe nj nk nl na b">c</code>就是3因为我们没有给它赋任何东西，所以给它赋了默认值3。</p><p id="848d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嵌套值也可以。例如，我们可以写:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b8ca" class="ne md it na b gy nf ng l nh ni">const [{<br/>  foo<br/>}, b] = [{<br/>  foo: 1<br/>}, 2];</span></pre><p id="592a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后JavaScript解释器将匹配对象的形状和数组中的位置，并相应地执行析构赋值。</p><p id="1d79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，右边的<code class="fe nj nk nl na b">foo</code>的值被赋给左边的<code class="fe nj nk nl na b">foo</code>，我们得到<code class="fe nj nk nl na b">foo</code>为1。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="aa4c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">对象的析构语法</h1><p id="98ee" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们可以在对象上使用析构语法，将属性值赋给与相应属性名同名的变量。</p><p id="15ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以写:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="546f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么<code class="fe nj nk nl na b">a</code>是1，而<code class="fe nj nk nl na b">b</code>是2，因为<code class="fe nj nk nl na b">a</code>在左边，而<code class="fe nj nk nl na b">a</code>是1，所以JavaScript解释器匹配属性名和变量名，并根据该名称进行赋值。</p><p id="5934" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对属性<code class="fe nj nk nl na b">b</code>进行同样的操作。</p><p id="c26e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以将它设置为不同的变量名。为此，我们写道:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="87ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们通过将右边的属性<code class="fe nj nk nl na b">b</code>与左边的属性<code class="fe nj nk nl na b">b</code>匹配，将2分配给<code class="fe nj nk nl na b">c</code>。</p><p id="e94f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像数组析构语法一样，我们可以给左边的变量赋一个默认值。</p><p id="d435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以写:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="674a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后<code class="fe nj nk nl na b">c</code>被设置为3。当对象中没有<code class="fe nj nk nl na b">c</code>属性时。因此，在上面的代码中，<code class="fe nj nk nl na b">c</code>将是3。</p><p id="3bb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">析构赋值也适用于嵌套值。例如，我们可以写:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="c215" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该示例将把<code class="fe nj nk nl na b">b</code>设置为3，因为JavaScript解释器匹配左边和右边的对象结构，然后把左边的<code class="fe nj nk nl na b">b</code>设置为3。</p><p id="f3e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有分配给变量的值可以分配给另一个对象，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="9f36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">rest</code>将具有:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6e22" class="ne md it na b gy nf ng l nh ni">{b: 2, c: 3}</span></pre><p id="88bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为我们使用了<code class="fe nj nk nl na b">...</code>操作符。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8244" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">交换变量</h1><p id="f60e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">析构语法的一个重要应用是交换变量值。</p><p id="ebd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我们有:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="5c66" class="ne md it na b gy nf ng l nh ni">let a = 1,<br/>  b = 2;<br/>[a, b] = [b, a];</span></pre><p id="4f1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么在应用析构语法之后,<code class="fe nj nk nl na b">a</code>是2，而<code class="fe nj nk nl na b">b</code>是1。</p><p id="5bd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这大大减轻了我们大脑的负担，因为我们不需要临时的占位符变量或者加减数值来交换数值。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2917" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">For…of循环</h1><p id="6c8c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><code class="fe nj nk nl na b">for...of</code>循环使用析构语法。</p><p id="baef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以写:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="f606" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们得到:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="cd49" class="ne md it na b gy nf ng l nh ni">Jane Smith<br/>Don Smith</span></pre><p id="d495" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从<code class="fe nj nk nl na b">console.log</code>输出。从被迭代的对象中提取内容非常方便。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="62df" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="fd2d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们可以使用JavaScript析构语法将属性值和对象条目赋给变量。</p><p id="c0b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它适用于嵌套对象。我们可以用<code class="fe nj nk nl na b">...</code>操作符给数组分配额外的条目。</p><p id="1b83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">for...of</code>循环也使用析构语法。</p><p id="bcf5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要编写干净的代码，我们应该现在就使用它。</p></div></div>    
</body>
</html>