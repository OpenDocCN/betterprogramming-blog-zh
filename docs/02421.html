<html>
<head>
<title>How To List Every File in a Directory in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python列出目录中的每个文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-list-every-file-in-a-directory-in-python-bd431baeb679?source=collection_archive---------3-----------------------#2019-11-29">https://betterprogramming.pub/how-to-list-every-file-in-a-directory-in-python-bd431baeb679?source=collection_archive---------3-----------------------#2019-11-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f2f5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用“os”库和filter()函数</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/e2cbfdd3795cb05563dcc6e3b3dcbccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*Q7igfGX1NDIJXBhqcijV_g.jpeg"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">照片由<a class="ae ku" href="https://unsplash.com/@goran_ivos" rel="noopener ugc nofollow" target="_blank"> Goran Ivos </a>在<a class="ae ku" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="540c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">遍历本地文件存储是一项方便的技能。在本地系统中工作，<code class="fe lr ls lt lu b">os</code>库将是你的朋友。在<code class="fe lr ls lt lu b">os</code>中有多种策略可以用来检索目录中的所有文件。</p><p id="449a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在本教程中，我们将使用<code class="fe lr ls lt lu b">listdir()</code>函数并操纵结果只返回文件。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5592" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">导入起始库</h1><p id="1c0a" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">首先，我们需要来自<code class="fe lr ls lt lu b">os</code>库中的三个方法。</p><ul class=""><li id="63ad" class="mz na it kx b ky kz lb lc le nb li nc lm nd lq ne nf ng nh bi translated"><strong class="kx iu"> listdir </strong>:检索目录的内容——包括目录和文件。</li><li id="9e98" class="mz na it kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated"><strong class="kx iu">连接</strong>:将两个组件组合成一条路径。</li><li id="5df4" class="mz na it kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated"><strong class="kx iu"> isfile </strong>:如果给定的路径成分是文件，则返回true。</li></ul><pre class="kj kk kl km gt nn lu no np aw nq bi"><span id="fe05" class="nr md it lu b gy ns nt l nu nv">from os import listdir<br/>from os.path import join, isfile</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bf98" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">检索目录的内容</h1><p id="aee4" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">导入必要的方法后，就该设置目录的路径并检索其内容了。</p><pre class="kj kk kl km gt nn lu no np aw nq bi"><span id="a353" class="nr md it lu b gy ns nt l nu nv">from os import listdir<br/>from os.path import join, isfile</span><span id="33a6" class="nr md it lu b gy nw nt l nu nv">directory_path = "/some/path"<br/>contents = listdir(directory_path)</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2bce" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">过滤掉目录</h1><p id="0a99" class="pw-post-body-paragraph kv kw it kx b ky mu ju la lb mv jx ld le mw lg lh li mx lk ll lm my lo lp lq im bi translated">现在我们已经拥有了目录的所有内容，是时候过滤掉目录了——只留下文件。</p><pre class="kj kk kl km gt nn lu no np aw nq bi"><span id="d3c9" class="nr md it lu b gy ns nt l nu nv">from os import listdir<br/>from os.path import join, isfile</span><span id="5999" class="nr md it lu b gy nw nt l nu nv">directory_path = "/some/path"<br/>contents = listdir(directory_path)</span><span id="9b86" class="nr md it lu b gy nw nt l nu nv">files = filter(lambda f: isfile(join(directory_path,f)),contents)</span></pre><p id="b3ef" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><code class="fe lr ls lt lu b">filter()</code>函数有两个参数:一个确定项目是否包含的函数，以及要过滤的序列。我们使用一个λ表达式来确定连接的路径和目录内容是否是一个文件。重要的是要记住<code class="fe lr ls lt lu b">filter()</code>将返回一个过滤器对象，因此您应该将<code class="fe lr ls lt lu b">files</code>转换成一个列表以便打印内容。</p><pre class="kj kk kl km gt nn lu no np aw nq bi"><span id="efad" class="nr md it lu b gy ns nt l nu nv">from os import listdir<br/>from os.path import join, isfile</span><span id="c416" class="nr md it lu b gy nw nt l nu nv">directory_path = "/Users/jhsu/Desktop"</span><span id="62c4" class="nr md it lu b gy nw nt l nu nv">contents = listdir(directory_path)</span><span id="c3c3" class="nr md it lu b gy nw nt l nu nv">files = filter(lambda f: isfile(join(directory_path,f)),contents)</span><span id="dc0b" class="nr md it lu b gy nw nt l nu nv">print(files) # &lt;filter object at 0x10a5203a0&gt;<br/>print(list(files)) # [list of files]</span></pre></div></div>    
</body>
</html>