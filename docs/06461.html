<html>
<head>
<title>Software Released Early and Often Is Better</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">软件越早发布越好</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/software-release-early-release-often-is-really-good-b4acb017e79?source=collection_archive---------1-----------------------#2020-10-04">https://betterprogramming.pub/software-release-early-release-often-is-really-good-b4acb017e79?source=collection_archive---------1-----------------------#2020-10-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1a2c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">频繁发布软件如何让每个人受益</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bd66a166dc95771d7de2815b9cf09ad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LJqdk4YntxIwuXZz"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">沙哈达特·拉赫曼在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="86db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个<strong class="lb iu"> </strong>十年前<strong class="lb iu"> </strong>我在做一个软件产品，它每年有两个主要的发布。今天，我从事每周发布一次的软件工作。</p><p id="c624" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从六个月的发布周期切换到一周的发布周期确实让我感到紧张，怀疑一切是否会土崩瓦解。体验了一段时间，就是这么好！原因如下。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="eefa" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.每个版本发布的代码都更少</h1><p id="0050" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">与六个月一次的变化不同，每周发布会减少变化的数量。这通常会产生更稳定的软件。</p><p id="e98b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，测试也变得更简单，因为发布版的代码变更已经大大减少了。没有太多的新特性需要同时测试。</p><p id="b9af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mz">注意:如果我们有一些未完成的功能，这些更改将在开关后关闭。它经常与完全发布的软件一起进行内部测试。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="74c0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.开发人员对将代码合并到Master更加谨慎</h1><p id="f565" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">与六个月的发布周期不同，每个开发人员没有几个月的时间来内部测试他们合并到主分支中的代码。用户将在一周内获得任何被合并的内容。</p><p id="4568" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这些，主分支通常是非常稳定的，并且几乎总是生产就绪。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="55b1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.更快地发现实际问题</h1><p id="dca9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">真正的软件测试不是在发布之前，而是在发布之后。并不是说我们希望我们的用户成为我们的测试者，但实际上，有些bug会被遗漏。但是考虑到本文中的前两点，引入bug的可能性就降低了。</p><p id="8537" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果用户发现了一个bug，我们可以更快地识别出根本原因。考虑到不同版本之间的代码变化要小得多，通过查看bug是何时被触发的，我们可以更快地找到根本原因。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a70d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.不再需要服务补丁或修补程序更改</h1><p id="00b6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">回到六个月发布周期的日子里，我们必须为一些功能的增量更新执行服务补丁，以解决已识别的中等风险错误和一些需要的增量产品更新。有时对于严重的错误，我们需要引入一个修补程序。</p><p id="1451" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分支控制是复杂的，因为将有一个主分支、服务补丁分支，有时还有一个修补分支。管理变更也变得复杂，因为我们需要确保service-patch分支上的所有变更都被热修复并合并到主服务器中。</p><p id="d46c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，主分支已经为生产做好了准备，发布修补程序就像执行另一个每周发布一样。也可以发布其他改动，因为它们很稳定，数量也很少。</p><p id="9b6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果不太严重，我们可以等到下周。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bbb2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.产品几乎随时都会被运出</h1><p id="b2dc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当我们处于六个月的发布节奏时，产品团队非常担心错过最后期限。一旦我们越过了代码冻结时间线，就完了。产品必须再等六个月。激烈的争论和争取延期的斗争总是发生。</p><p id="4da6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了每周发布的节奏，产品计划变得更加灵活。如果错过了这一周，在下一周释放，也不会损失太多的机会成本。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cb4f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">6.用户可以更快地体验最新最棒的产品</h1><p id="80fd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">从用户的角度来看，他们也可以体验最新最棒的软件版本。他们最多比公司能提供的少一个。</p><p id="9b50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果发布的特性很糟糕，用户的反应会更快。更快的反馈周期允许开发人员在必要时控制他们的产品规划方向，以确保满足客户的偏好。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ebe4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">7.放生只是常规操作，并不是特殊活动</h1><p id="8cfa" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">另一个非常重要的方面是每周发布一次，而不是每六个月发布一次，这变成了例行公事。这很好，因为当它成为一个常规操作时，出错的几率会大大降低。</p><p id="a65a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">释放操作应该如此规范和可预测，以至于不会发生意外。</p><p id="dcf5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">唯一的缺点是没有更多的重大庆祝活动或蛋糕，因为它是一个常见的活动。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="25c2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">如何降低定期发布的风险</h1><p id="88d8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">尽管如此，也有一些风险和障碍需要解决。下面是几个。</p><h2 id="e787" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">尽可能自动化发布过程</h2><p id="aa04" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">首先，如果发布过程是单调乏味的，并且需要长时间的复杂操作，那么定期地执行它将会使开发人员士气低落。</p><p id="39a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，人们需要减少手动流程，并尽可能实现自动化。最多，它应该只是两个开发人员结对工作，不超过30分钟——如果没有整个发布完全自动化的话。</p><h2 id="5eff" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">不完整特征的局部特征切换</h2><p id="8635" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">据了解，一些功能开发工作不太可能在一周内完成。所以在实践中，在代码被合并到主分支之前，所有这样的开发都应该使用特性切换来默认关闭。</p><p id="9caa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦在主分支上完全测试了这个特性并且运行良好，那么这个切换就可以默认打开或者完全移除。</p><h2 id="ac24" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">远程切换功能</h2><p id="319e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">对于一个超级复杂的功能，我们不太相信它在发布后会运行良好。尽管我们知道我们可以在接下来的一周发布补丁，但有时对于关键问题来说已经太晚了。更快的方法是通过远程方式立即关闭该功能。</p><p id="6e02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这样的特征，本地特征切换应该由远程切换来控制。</p><h2 id="b152" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">分阶段推出该版本</h2><p id="968a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">正如我们所知，软件在发布之前不会经过全面测试，风险缓解方法是从很小的百分比(取决于您的用户群有多大)开始，缓慢地分阶段发布软件。</p><p id="fb41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在每个阶段发布之后，通过检查软件的崩溃和错误响应，继续监控发布的软件的稳定性。如果检测到任何问题，部署将立即停止。我们可以发布一个新版本，或者等待下周发布新版本，这取决于问题的严重性和已经推出的百分比。</p><h2 id="61df" class="na md it bd me nb nc dn mi nd ne dp mm li nf ng mo lm nh ni mq lq nj nk ms nl bi translated">本周早些时候发布</h2><p id="d60c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">因为我们正在监控阶段发布，所以最好在本周早些时候发布。这是为了确保开发人员在接下来的几天里仍然有空，同时阶段发布继续进行。如果出现任何问题，我们会派人监控并尽快解决问题。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="120d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="124f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们目前是每周一次的节奏，但是已经有一些是每天或立即发布的节奏(例如web开发)。</p><p id="8e86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你养成了定期释放的习惯，你就不太可能回到一个更长的释放周期。</p><p id="9188" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">唯一不变的是变化。软件是变化的。这种变化必须快速而有规律。</p></div></div>    
</body>
</html>