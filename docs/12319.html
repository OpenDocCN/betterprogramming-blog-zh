<html>
<head>
<title>AWS Pricing Calculator in 10 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10分钟内完成AWS定价计算器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/aws-pricing-calculator-in-10-minutes-9e3e46f40f82?source=collection_archive---------6-----------------------#2022-05-27">https://betterprogramming.pub/aws-pricing-calculator-in-10-minutes-9e3e46f40f82?source=collection_archive---------6-----------------------#2022-05-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5590" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">估算您的云成本</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e1119226392549e1c660e657e4c6b294.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rXUtbzOgZoM6yoP6"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@jpvalery?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Jp Valery </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="c49d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我将应用程序迁移到AWS云，它的成本是多少？这是一个负担得起的解决方案吗？我会节省一些钱吗，还是会更贵？如果你心中有这样的问题，或者想知道AWS会花你多少钱，请停止疑惑。相反，拿一杯咖啡，舒服地坐着。</p><p id="f846" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在接下来的10分钟里，我将向您解释如何估算AWS的成本。这不是黑魔法或凝视水晶。这只是亚马逊提供的一个名为“AWS定价计算器”的伟大工具的用法。使用它，您可以高精度地预测您的成本。当然，你越了解你的应用和你的用户流量，预测就越准确。</p><p id="cf6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你的app是绿地app，难度会大一点，但也不是不可能。你只需要做一些假设。但是不要再说了。让我们看一个例子。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="3531" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于本教程，我们假设我们正在开发NodeJS应用程序。我们需要一个中等规模的EC2实例、RDS (Postgres)数据库和一些lambda函数来处理我们的流量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mc"><img src="../Images/ac1470b0b8bc08ae7e1c0a4421303b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dnwde7IG-7XROtLxnE9j7g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">预计应用程序中使用的AWS服务</p></figure><p id="131b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要开始计算，请转到计算器页面:</p><div class="md me gp gr mf mg"><a href="https://calculator.aws/#/" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab fo"><div class="mi ab mj cl cj mk"><h2 class="bd iu gy z fp ml fr fs mm fu fw is bi translated">AWS定价计算器</h2><div class="mn l"><h3 class="bd b gy z fp ml fr fs mm fu fw dk translated">AWS定价计算器允许您探索AWS服务，并为您在AWS上的使用案例创建成本估算。</h3></div><div class="mo l"><p class="bd b dl z fp ml fr fs mm fu fw dk translated">计算器. aws</p></div></div></div></a></div><p id="61e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并点击<code class="fe mp mq mr ms b">Create estimate</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/df677b30404c9e3994136b39e1343c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BDotl1l6Gl7buDL6PxCY_g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器页面</p></figure><p id="e37e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">页面顶部有一个搜索栏，用于过滤所需的服务。让我们在第一张卡上输入<code class="fe mp mq mr ms b">EC2</code>并点击<code class="fe mp mq mr ms b">configure</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/fe15c5b76264afafcfd0b5d310614a8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQBZIU1ME5C-heNoAMu_lg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器—服务挑选</p></figure><p id="ab59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在“配置Amazon EC2”页面的顶部，您必须选择所需的地区——价格可能会因地区而异。选择离您的最终用户最近的地区，以避免不必要的延迟。在我的例子中，我将选择伦敦地区，并选择下面的<code class="fe mp mq mr ms b">quick estimate</code>选项。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/e3ff32cda61cfecbe120f53bdf1be44a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vaNQsdgNHf13cLOWg4R3AQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器— EC2快速评估</p></figure><p id="b1c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一节包含关于EC2实例本身的信息。您必须设置CPU的数量、内存量、选择操作系统、数量(您需要多少个实例)和利用率(您的应用程序在一个月内运行的时间百分比)。所以基于我提供的数据，AWS向我提出了<code class="fe mp mq mr ms b">t4large instance</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/f08d90280c1fd961dad105e9aafad041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uuCoeJLjdTrHXYMVkc2EHQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器EC2实例类型</p></figure><p id="78ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，一切顺利。让我们转到最后两个部分。在那里，你必须设定定价模式。根据您的需求，您可以选择“按需”选项(最贵的选项，但您没有任何合同的AWS)，或者您可以选择一些储蓄选项(您将预付至少一年，但您将获得折扣)。</p><p id="f6ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，对于EC2，您必须选择硬盘的类型和大小。对我来说，有一个20GB的通用SSD就够了。我将把我的数据保存在Postgres数据库中，但是我将使用RDS服务。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/a2551d25e829998450fb87b10927c030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZflxpByLaeYcVTp8NVvg_w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器—定价策略</p></figure><p id="9cda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在页面的最底部，您可以看到EC2实例的总成本估计。点击，<code class="fe mp mq mr ms b">add to my estimate</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/2054cb82aa58a03252307d8058725a02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8RKIRScGXKKnk5RM7LfytA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器—添加到我的评估中</p></figure><p id="49c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击“添加到我的估价”按钮后，您将看到“摘要”页面。这里的成本分为前期费用、月度费用和年度费用。还有一个估计服务的列表。但是目前，我只添加了一个。所以，我们再补充几个。为此，点击页面右上角的<code class="fe mp mq mr ms b">add service</code>按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/3e727bf8d75b4826c50f67af8b8e2622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LXZfKRwv9WV1PINqQNGHTQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器—摘要页面</p></figure><p id="8849" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将被重定向到提货服务页面。这一次，我们将添加Postgres数据库估计。搜索短语<code class="fe mp mq mr ms b">RDS for PostgreSQL</code>，点击<code class="fe mp mq mr ms b">configure</code>。类似于EC2实例，我将选择<code class="fe mp mq mr ms b">t4g.large</code>实例类型。我将保留默认的100%月利用率设置、部署到多AZ设置以及按需定价模式设置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/df2db0f1a5693acdcdc11ec0e3ca5c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6vsu-BZFQ2t2QQGrUhY3JQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器postgres实例类型</p></figure><p id="a35c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我每月需要100 GB的存储，通用SSD选项就足够了。因此，我对PostgreSQL的最终计算如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/daf2598afe70ff6ce869043e80ed4486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XWDiQ5Jcc1Nc1g3yl54KUQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器— postgres估算</p></figure><p id="a7e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再次单击“添加至估价”按钮，然后在“我的估价页面”上，单击“添加服务”按钮。直到现在，事情都很简单。现在我们将估计lambda的使用，这有点复杂，但不用担心。我们会面对的。您可以从页面顶部的两个选项中选择:<code class="fe mp mq mr ms b">Lambda Function — Include Free Tier</code>和<code class="fe mp mq mr ms b">Lambda Function — Without Free Tier</code>。</p><p id="6f37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我强烈建议你选择<code class="fe mp mq mr ms b">Lambda Function — Without Free Tier</code>。最好是看看价格预测的最坏情况。如果我们高估了我们的成本？别担心。如果我们低估了。除此之外，如果你在一个大的组织中工作，并且评估一个新的项目，你的另一个项目达到自由层限制的可能性很高。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/640a82b93db5bf9445288e17e6312263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qDhcIqRMLrrgeJaCQnsaLw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器—不带自由层的lambda函数</p></figure><p id="d11a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的，但是回到我们的估计…如果你正在开发一个有很多o lambdas的无服务器应用，老实说我没有好的信息给你。因为对于lambda成本估算，你必须提供每月的请求数。是的，你没听错。你必须知道会有多少次调用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="06f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在无服务器API中，最有可能是猜测，而不是估计。但就我而言，我知道请求的具体数量。我只使用lambda函数来生成一些报告。部署了三辆lambdas每小时、每天都会调用一次。所以，这个月我会有<code class="fe mp mq mr ms b">3 * 24 * 31</code> lambdas调用。每月调用<code class="fe mp mq mr ms b">2232</code>次。</p><p id="e9af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您必须提供lambda函数的平均持续时间(以毫秒为单位)——另一个难以判断的参数。调用时间肯定会有所不同，但是您至少应该知道时间是以毫秒、秒、分钟还是小时为单位。</p><p id="0b6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的兰姆达斯做一个小工作。从头到尾，大概是600ms左右。我必须填写的最后一个参数是分配的内存量。我只需要512兆的内存。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/3b4974bc9f226e8d97083f43088017c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f7c-gxQ8UXdJSjaJhqq-Yg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器— lambda设置</p></figure><p id="687f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那我就把剩下的设置留空。我不需要配置并发，也没有任何lambda@edge。当我们滚动到底部，我们将看到总的估计。在我的情况下，它只是0.01美元。是的，0.01美元。基本都是免费的:)看使用情况，Lambdas可能就这么便宜。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/e12f7eb693e8aed6d327235644309bb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YVag81tnyqq4h9Fzdgl23w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS定价计算器— lambda函数摘要</p></figure><p id="3468" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在文章的开始，我告诉你，我们估计的应用程序将利用三个AWS服务:EC2，RDS PostgreSQL和AWS Lambda。就这样，对吗？我们做了一个完整的计算。但是，其实不一定。</p><p id="f1d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有两件事会影响你最终的账单，而且不是一眼就能看出来的。第一，app的用户会如何与之交流？当然，通过互联网。我们难道不需要某种NAT网关吗？是的，我们需要它，不幸的是，这是一个付费的解决方案。接下来，我们的应用程序是否会产生一些日志？是的，确实如此。所以，我们很有可能会使用云手表。同样，这是我们之前没有想到的另一项指控。</p><p id="509d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了不使本教程变得不必要的长，我将在这里停止。现在是你做作业的时间了。你能对这两种服务进行评估吗？很简单，你能做到。你必须重复我们之前做的。进入<code class="fe mp mq mr ms b">Select service</code>页面，搜索<code class="fe mp mq mr ms b">Amazon Virtual Private Cloud (VPC)</code>设置NAT估计，搜索<code class="fe mp mq mr ms b">Amazon CloudWatch</code>获取日志。</p><p id="f6d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我没有告诉你如何估算这些服务的原因是亚马逊为我们提供了200多种服务。记住如何评估所有这些是不可行的。你必须能够处理新的服务。</p><p id="6af6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程的目标是让你熟悉AWS的定价计算器。我敢肯定，读完这篇文章后，你会知道该怎么做。</p><p id="f81e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">祝评估愉快，下次再见！</p></div></div>    
</body>
</html>