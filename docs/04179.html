<html>
<head>
<title>How to Add Custom Fonts in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中添加自定义字体</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/custom-fonts-in-swiftui-d529de69131d?source=collection_archive---------5-----------------------#2020-03-28">https://betterprogramming.pub/custom-fonts-in-swiftui-d529de69131d?source=collection_archive---------5-----------------------#2020-03-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6b9a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让你的iOS开发更漂亮</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/19d86dfb1a6f15e2dbe3ca0762a53289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oaP3G0fdyVBPZ-8aghediQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">亚历山大·安德鲁斯在<a class="ae kv" href="https://unsplash.com/s/photos/font?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="3dbc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你在读这篇文章，你在这里有两个原因:</p><ol class=""><li id="c070" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">你的设计者给了你一个使用自定义字体的设计，你不知道如何使用它们，因为你本质上是一个后端开发人员，不关心字符之间的间距是否使它更可读，或者</li><li id="23e0" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">您是一名开发人员，意识到您需要使用自定义字体将您的UI提升到一个新的水平，但是您不知道从哪里开始。</li></ol><p id="f67a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是我进来的地方！</p><p id="c9cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我有过后端工程的经历，所以我了解这两方面的情况。我已经经历了尝试和错误，使学习如何使用自定义字体尽可能容易。</p><p id="9416" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，让我们开始创建自定义字体应用程序，这样您就可以立即将其发布到您的CI/CD中！</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="1b4d" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">获取字体</h1><p id="746b" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在向应用程序添加自定义字体之前，我们需要。ttf(或者。otf，但是我将使用。本文其余部分的ttf扩展名)<strong class="ky ir"> </strong>该字体附带的文件。</p><p id="9157" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要找字体，我推荐去<a class="ae kv" href="https://fonts.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌字体</a>按样式数量过滤(假设你有字体的选择。如果你的设计师已经给了你字体，直接跳到下载字体系列)。</p><p id="81f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你想拥有多种风格的原因是……好吧，我会让<a class="ae kv" href="https://material.io/design/typography/understanding-typography.html" rel="noopener ugc nofollow" target="_blank">材料设计</a>的专业人士来给你解释。</p><p id="8408" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦选择了字体，只需点击屏幕右上角的<em class="nk">下载系列</em>。就这样，你的应用程序有了新的字体！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/dc6c08b633d315e281ac2004b057aeaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68o-dSgyp3UjcvL5CSzTDQ.png"/></div></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="18f1" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">导入字体系列</h1><p id="831f" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">下载字体系列后，您需要打开Xcode项目并创建一个名为<code class="fe nm nn no np b">fonts</code>的新文件夹。</p><p id="76c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我更喜欢在<code class="fe nm nn no np b">Fonts</code> <em class="nk"> </em>文件夹中为我使用的每种字体创建一个文件夹，但这取决于你，取决于你是否想在下一次scrum会议上被你的经理批评。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/985ac218f7e194c56dae965f04a1f191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*JfTIiU-MVgLI-wjFtx51BA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">包含字体名称子目录的字体文件夹</p></figure><p id="d683" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦这样做了，你想把你刚刚下载的所有文件拖到<code class="fe nm nn no np b">fonts</code>文件夹(或字体名称的文件夹)。</p><p id="6eb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保当对话框弹出时，您选择<em class="nk">在需要时复制文件</em>。这将把文件复制到应用程序包中，并确保您没有使用指向本地机器上的文件的文件指针。</p><p id="37e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们想打开右边的工具栏，点击文件标志，并确保为我们的应用程序选择了字体的目标成员。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/908454ccf1dbf1b17194eb238b67efab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R7kmBWujrXIvxPSw6QF2hA.png"/></div></div></figure><p id="cc58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导入文件后，我们需要将自定义字体的名称添加到<code class="fe nm nn no np b">Info.plist</code>中。<strong class="ky ir"> </strong>为此，我们转到<code class="fe nm nn no np b">info.plist</code>文件并创建一个新的键-值对，其中键是应用程序提供的<em class="nk">字体。</em></p><p id="dc2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该值将是一个字符串数组，其中每个字符串将是我们带入应用程序的一个<code class="fe nm nn no np b">.ttf</code> <strong class="ky ir"> </strong>文件的名称。为了确保我们的应用程序可以使用字体系列中的所有字体，我们需要将每个<code class="fe nm nn no np b">.ttf</code> <strong class="ky ir"> </strong>文件的名称添加到数组中！</p><p id="59e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终结果看起来会像这样:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/85f4d7e37e67710827a1f26d400ca43e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BnpHe5zvVIpD46NWhyNAJg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">plist中应用程序键值提供的字体</p></figure><p id="616f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">唷，那花了很长时间，不是吗？也许将来我会写一个Python脚本来为我们处理这个问题。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="86a4" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">获取字体名称</h1><p id="5e81" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">要在应用程序中使用自定义字体，我们需要做的最后一件事是获取字体的名称。</p><p id="242b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与普遍的看法相反，字体的名称是<em class="nk">而不是</em> <strong class="ky ir"> </strong>文件的名称。</p><p id="4e60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">比如上面这张照片，文件名是<code class="fe nm nn no np b">Montserrat100.ttf</code>，但实际字体名称是<code class="fe nm nn no np b">Montserrat-Light</code>。要获得这些字体名称，使用我提供的函数，并在应用程序的根视图中的一个<code class="fe nm nn no np b">onAppear</code> <em class="nk"> </em>生命周期方法中调用它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt nu l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">字体名称生成器</p></figure><p id="10a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你完成了这些，运行你的应用程序。在终端中，包中的所有字体名称都将被打印出来。</p><p id="2ed3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们只需要我们导入的字体的名称，所以滚动直到找到它们，并将字符串数组复制并粘贴到记事本中以备后用。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="fa15" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">字体管理器</h1><p id="dff8" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">现在我们有了自定义字体的名称，我们可以在我们的文本视图中使用它们了！</p><p id="db34" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很好，但是让我们更专业一点，不要只是在每次需要的时候把名字复制粘贴到自定义字体修改器中。这种方法在大型项目中会导致大量错误，因此尽早建立良好的SWE实践非常重要。</p><p id="5d83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了处理字体名称的管理，我创建了一个名为<code class="fe nm nn no np b">FontNameManager</code>的结构。这个结构的工作就是简单地管理应用程序中使用的字体名称。</p><p id="714b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我们使用的每一种字体，我们在那个<code class="fe nm nn no np b">FontNameManager</code>结构中创建另一个结构，并放置静态名称常量，这样我们就可以使用它们的值，而无需在应用程序中创建该结构的实例。</p><p id="7bb8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你<code class="fe nm nn no np b">FontNameManger</code>看起来会像这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt nu l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">FontNameManger用于在整个应用程序中保持命名的一致性</p></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="2505" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">在我们的应用程序中使用自定义字体</h1><p id="a3cb" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">现在我们有了字体的名称和控制字体名称使用的<code class="fe nm nn no np b">FontNameManager</code>，我们现在可以在应用程序中使用字样了！</p><p id="7b87" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要做到这一点，我们所要做的就是使用SwiftUI提供的<code class="fe nm nn no np b">Font</code>结构的自定义字体初始化器。这个初始化器将接受两个参数:名称和大小。</p><p id="2d37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于名称，您将使用我们刚刚创建的<code class="fe nm nn no np b">FontManager</code>中的一个字体名称。对于尺寸，您将使用您/您的设计师提出的尺寸(例如<a class="ae kv" href="https://www.sketch.com/" rel="noopener ugc nofollow" target="_blank">草图</a>、<a class="ae kv" href="https://www.adobe.com/products/xd.html" rel="noopener ugc nofollow" target="_blank"> Adobe XD </a>中的pt尺寸等)。</p><h2 id="120f" class="nv mo iq bd mp nw nx dn mt ny nz dp mx lf oa ob mz lj oc od nb ln oe of nd og bi translated">使用自定义字体的示例</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="2b45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如前所述，创建一个名为<code class="fe nm nn no np b">FontManager</code>的结构来管理应用程序中的自定义字体是一个很好的实践。</p><p id="8b7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，如果所有的标题都是Montserrat-SemiBold，大小为28，那么在一个<code class="fe nm nn no np b">FontManager</code>结构中有一个静态变量来定义这个自定义字体是有意义的。</p><p id="a8db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将把它作为一个练习留给你去做，但是我保证如果你把抽象用在你的优势上，它将使调试变得容易得多！</p><p id="d1f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">众所周知，最糟糕的事情莫过于一个项目中充斥着随机的硬编码字符串和整数。请<em class="nk"/>帮助你的窥视者，只是抽象那些值。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="fe38" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">谢谢你</h1><p id="ffa9" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">感谢你花时间阅读这篇文章。</p></div></div>    
</body>
</html>