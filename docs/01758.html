<html>
<head>
<title>How to Remove Null/None Values From a Dictionary in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中从字典中移除空值/无值</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-remove-null-none-values-from-a-dictionary-in-python-1bedf1aab5e4?source=collection_archive---------5-----------------------#2019-10-11">https://betterprogramming.pub/how-to-remove-null-none-values-from-a-dictionary-in-python-1bedf1aab5e4?source=collection_archive---------5-----------------------#2019-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="deb5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">给定一个Python字典，移除任何值为None的术语</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/143f7d29be3b171c60d08ac68924ee43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M6pqRvGrTR-0UJWNezmJ_A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">奥利弗·黑尔在<a class="ae ky" href="https://unsplash.com/s/photos/clean?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="b5a0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">挑战</h1><p id="7efb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">给定一个Python字典，移除任何值为<code class="fe mn mo mp mq b">None</code>的术语</p><p id="5779" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">该函数应该支持嵌套字典，当一个术语的值是另一个字典时，就会出现这种情况。</p><h1 id="02ed" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">解决办法</h1><p id="7d8b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了清理提供的字典，将检查每个键值对。如果值的数据类型是一个<code class="fe mn mo mp mq b">dict</code>，那么函数应该被递归调用。否则，只要值不等于<code class="fe mn mo mp mq b">None</code>，那么它将被添加到干净的字典中，在迭代整个字典后返回。</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="e37f" class="na la it mq b gy nb nc l nd ne">def cleanNullTerms(d):<br/>   clean = {}</span><span id="893f" class="na la it mq b gy nf nc l nd ne">   for k, v in d.items():<br/>      if isinstance(v, dict):<br/>         nested = cleanNullTerms(v)<br/>         if len(nested.keys()) &gt; 0:<br/>            clean[k] = nested<br/>      elif v is not None:<br/>         clean[k] = v</span><span id="bae7" class="na la it mq b gy nf nc l nd ne">   return clean</span></pre><p id="b23d" class="pw-post-body-paragraph lr ls it lt b lu mr ju lw lx ms jx lz ma mt mc md me mu mg mh mi mv mk ml mm im bi translated">为了测试我们的函数，我们将使用包含顶层和嵌套字典中的<code class="fe mn mo mp mq b">None</code>值的样本数据。</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="5b26" class="na la it mq b gy nb nc l nd ne">data = {<br/>   "first_name": "Jonathan",<br/>   "middle_name": None,<br/>   "last_name": "Hsu",<br/>   "family": {<br/>      "mother": "Mary",<br/>      "father": "Peter",<br/>      "brother": "Charles",<br/>      "sister": None<br/>   }<br/>}</span><span id="0d56" class="na la it mq b gy nf nc l nd ne">print(cleanNullTerms(data))<br/>"""<br/>{<br/>  'first_name': 'Jonathan',<br/>  'last_name': 'Hsu',<br/>  'family': {<br/>    'mother': 'Mary',<br/>    'father': 'Peter',<br/>    'brother': 'Charles'<br/>  }<br/>}<br/>"""</span></pre><h1 id="53be" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">二等奖；荣誉奖；H奖</h1><p id="b570" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果不考虑嵌套字典，那么使用字典理解的一行函数就足够了。该函数将执行浅层清理，这意味着嵌套数据结构中的<code class="fe mn mo mp mq b">None</code>值不会被删除。</p><pre class="kj kk kl km gt mw mq mx my aw mz bi"><span id="00d6" class="na la it mq b gy nb nc l nd ne">def cleanNullTerms(d):<br/>   return {<br/>      k:v<br/>      for k, v in d.items()<br/>      if v is not None<br/>   }</span></pre></div></div>    
</body>
</html>