<html>
<head>
<title>Build a Bot for Your 3D-Tic Tac Toe Game in SceneKit Under SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI下的SceneKit中为你的3D井字游戏构建一个机器人</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-bot-for-your-3d-tic-tac-toe-game-in-scenekit-under-swiftui-6c5d22d5aaa7?source=collection_archive---------1-----------------------#2022-08-06">https://betterprogramming.pub/build-a-bot-for-your-3d-tic-tac-toe-game-in-scenekit-under-swiftui-6c5d22d5aaa7?source=collection_archive---------1-----------------------#2022-08-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6c3c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">和电脑玩量子游戏</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/045301bf20ded4c11e170d07a5fd8eeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NtPVGJnDYwv8ewAh4p6ftg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">和电脑玩量子游戏</p></figure><p id="0474" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">描述如何创建一个3D井字游戏的论文的延续。</p><h1 id="59ea" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">确认</h1><p id="3ed2" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">从我离开的地方开始，我需要验证我有所有的获胜线。我在hit-winning方法中添加了一些内容，向我展示了我可以在每个标记的方块中找到的所有可能的线条。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a72e5fdb6a4453a138d58d6377e20a70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*edbrP5gZ7DCg8iJ_oHXZNQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在4x4x4的底座上，可以看到一条缺失的获奖线</p></figure><p id="d2f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我继续玩游戏时，我纠正了缺失的环节。维基百科告诉我我应该有74个；我考了64；如果您下载并试用代码，请与我和其他人分享缺失的链接。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="2285" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的代码将<code class="fe mu mv mw mx b">debugX</code>命名为subscription，我将选择一个节点时发现的获胜行的副本发送给这个例程。我给另一个玩家用了不同颜色的线。新手柄背后的代码变得越来越复杂。</p><p id="a693" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Bon，当我到处玩的时候，很明显，角节点是最有价值的，其次是边——当我考虑构建一个自动化代理时，我会考虑这些信息。看着节点改变方向，很明显镜像角落移动看起来是最好的防守策略之一。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e3a0bc3bb0b9bdc81fe6886cce287f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PUm50oUMNnHEuSry8Am9IQ.gif"/></div></div></figure><p id="861c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">两个节点都有权利的任何线路实际上都是失败的原因；蓝色和橙色节点所在的中心对角线上有一个已注册的节点，这就是我们手头的例子——你可以在这里看到非常暗的黄色线条。</p><p id="fb1b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这张GIF动画中，你可以看到蓝色玩家至少选择了一个静止节点的线上的浅蓝色节点。浅红色节点是橙色玩家至少选择了一个节点的线。黄色/绿色的节点实际上是“丢失”的节点，红色和蓝色都不能赢得游戏选择。白色节点位于“自由”线上，红色和蓝色都还没有要求。</p><p id="5e62" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我尝试了一些不同的想法，但最终确定了一个结构，它将每行中使用的节点数存储在三个数组中。第一个是包含在该行中的节点，第二个是使用的节点，第三个是仍待选择的节点——我称之为自由节点。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="f7dc" class="nc lw it mx b gy nd ne l nf ng">struct MetaMatrix {<br/>  var redCount: Int = 0<br/>  var blueCount: Int = 0<br/>  var line:[SIMD3&lt;Int&gt;?]<br/>  var used:[SIMD3&lt;Int&gt;?]<br/>  var free:[SIMD3&lt;Int&gt;?]<br/>}</span><span id="9234" class="nc lw it mx b gy nh ne l nf ng">private var shared:[Int:MetaMatrix] = [:]</span></pre><h2 id="292c" class="nc lw it bd lx ni nj dn mb nk nl dp mf lh nm nn mh ll no np mj lp nq nr ml ns bi translated">下一步</h2><p id="4c60" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">然后，我开始采用一个简单的防御策略，使用概述的结构。机器人用它来判断你应该选择哪一行。</p><p id="0130" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它看起来很有希望，尽管当我玩游戏时，很明显我需要更多。我需要机器人也能赢。最后，我只用了四条规则，按照显示的顺序进行。</p><ul class=""><li id="2764" class="nt nu it la b lb lc le lf lh nv ll nw lp nx lt ny nz oa ob bi translated">如果蓝玩家[你]连续三次，阻挡他们。</li><li id="74cd" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated">如果红色玩家[bot]连续三个，则结束游戏！</li><li id="1286" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated">如果红色玩家[bot]已经开始了一条线，那么继续，直到你被封锁或者获胜！</li><li id="b75e" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated">如果规则1-3不可执行，随机选择一个空闲节点；最好是还没拍过的:)</li></ul><p id="410e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">老实说，规则2和3有点太简单了；你玩游戏就知道了。在一个理想的世界里，你需要一些更复杂的东西。代码中类似这样的规则。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="f189" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个视频展示了一个完整的游戏。我在这里玩了十几个或者更多的乐趣；尽管说实话，您需要做一些更正式的测试，但是可能的排列数量是很大的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh mt l"/></div></figure><p id="f35c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">蓝色最终赢了——我比机器人聪明吗——不确定；也许代码还不是很完美。</p><p id="2c40" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有这些把我带到了这篇短文的结尾，这是一个只有600多行代码的好游戏。Y</p><p id="0cf2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以从GitHub库下载工作代码——这里非常欢迎你为机器人提出一些更好的规则。</p><p id="5682" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有这些让我想到这篇短文的结尾。我希望你喜欢读它，就像我喜欢写它一样。</p></div></div>    
</body>
</html>