<html>
<head>
<title>Let Me Help You Organize Your Best Secret Santa Ever (with Python)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我来帮你组织你有史以来最好的秘密圣诞老人(用Python)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/let-me-help-you-organize-your-best-secret-santa-ever-c0fef5e61ba2?source=collection_archive---------7-----------------------#2022-01-15">https://betterprogramming.pub/let-me-help-you-organize-your-best-secret-santa-ever-c0fef5e61ba2?source=collection_archive---------7-----------------------#2022-01-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0e77" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">停止从帽子里取出纸片，开始结合图论和电子邮件自动化</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8807a79bdd1ece082078396ba241799c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k4dn5lfgAjoS61IJ"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基拉·奥德·海德在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="7529" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于那些不太熟悉神秘圣诞老人概念的人，让我们先快速回顾一下。当圣诞节来临的时候，一群朋友中的每一个人都被随机地、匿名地分配给另一个人，他们必须向这个人提供一份小礼物。这有助于减少礼物的总量，同时保持良好的氛围。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0f68" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">你为什么不用一个写有每个人名字的碗或帽子呢？</h1><p id="7d80" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这种传统方法很有趣，而且避免了使用任何数字资源。然而，匿名并不能完全保证，也没有办法控制其结果。</p><p id="402a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们假设我们一个接一个地挑选文件，而不是一次全部，这样会更难处理。</p><ol class=""><li id="1411" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">既然你不能给自己提供一份礼物，你需要继续挑选一张新的纸，直到你找到另一个人。如果你抽到了自己的名字，那就意味着会给你礼物的人就在还没有挑选礼物的人当中。这可能是个很大的线索。</li><li id="480f" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">如果轮到你选，最后一张纸上有你的名字，会发生什么？答案很简单。你需要把所有的文件放回去，从头开始。</li><li id="86d8" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">理想情况下，当在两个家庭之间组织一个共同的秘密圣诞老人时，你希望人们被分配给另一个家庭的某个人。不幸的是，所有的任务都是可能的，因为不可能添加限制，你可能最终会给你的妈妈提供一份礼物，而不是你心爱的堂兄弟之一，你每年只能在圣诞节见一次。</li><li id="abad" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">这最后一句话更棘手，与图形有关。因为秘密圣诞老人的目标是混合每个人，如果最终的任务是一个连通图，也就是说，如果没有独立的小团体出现，那就更好了。下图中，E，F，G与A，B，C，d是孤立的，最坏的情况发生在两个人互赠礼物的时候……再说一遍，随机帽子不处理那个。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/ee92197a9ca3a1de7d356b417e0b46a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*MXq8hxtS6okf1VjLiPeZFQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图解</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7638" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">你为什么不像其他人一样用网上的秘密圣诞老人呢？</h1><p id="118f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我不得不承认，使用网上的秘密圣诞老人生成器比使用随机的帽子更有效。但是，我希望以下几点能说服你继续阅读这篇文章。</p><ol class=""><li id="05b4" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">正如你在上一部分可能已经注意到的，我不喜欢非最优的秘密圣诞老人任务。仅仅因为一场糟糕的平局就浪费了一次团队建设的机会，真是太可惜了。一些，但不是全部，网站提供定义人与人之间的排斥。当一个组中的关系不同时，这是最有用的特性。但是礼物分配的连通图很少被提及。有些网站可能会偷偷摸摸地做，但我宁愿不冒任何风险，自己控制结果。</li><li id="a5c9" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">谁会喜欢打开一个充满广告的秘密圣诞老人网页呢？</li><li id="3199" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">不管怎样，谁愿意与有问题的网站分享个人数据呢？</li><li id="c963" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">作为一名工程师，这是一个与你的朋友和家人分享你的技术技能的有趣机会。</li></ol></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/e975218081c2bccd85621fe837685c8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3ApCVwn1Q5u8ffb_"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">卡尔·海尔达尔在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b653" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们深入研究代码。</p><p id="4365" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将关注三个部分:</p><ol class=""><li id="347f" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">定义一种格式来传递参与者的姓名和电子邮件地址以及排除规则。</li><li id="5505" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">为此活动创建一个特定的Gmail帐户，并自动发送电子邮件。</li><li id="129c" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">计算可能的连接图，找出人与人之间的连接路径。</li></ol></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="437e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">解析参与者的数据</h1><p id="2cdd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">神秘圣诞老人参与者的定义是:</p><ul class=""><li id="b601" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nm nc nd ne bi translated">电子邮件地址</li><li id="de34" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nm nc nd ne bi translated">一个名字</li><li id="6285" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nm nc nd ne bi translated">姓氏(仅在需要消除多余名字的歧义时指定)</li><li id="7a99" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nm nc nd ne bi translated">排除名单，即他/她不应向其送礼的人的姓名</li></ul><p id="96e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果要应用的限制太多，那么除了传递禁止赋值列表之外，传递可能的赋值列表可能会很方便。空的包含列表意味着包含所有人，这是默认情况。</p><p id="8f73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，可能的名称是包含列表中的名称，而不是排除列表中的名称。</p><p id="cb7b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">JSON格式似乎特别适合传递这种数据。</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="2811" class="ns ma iq no b gy nt nu l nv nw">{<br/>    "players": [<br/>        {<br/>            "email": "aaaa@gmail.com",<br/>            "first_name": "A",<br/>            "family_name": "",<br/>            "include": ["B","C"],<br/>            "exclude": []<br/>        },<br/>        {<br/>            "email": "bbbb@gmail.com",<br/>            "first_name": "B",<br/>            "family_name": "",<br/>            "include": [],<br/>            "exclude": ["A"]<br/>        },<br/>        {<br/>            "email": "cccc@gmail.com",<br/>            "first_name": "C",<br/>            "family_name": "",<br/>            "include": ["D"],<br/>            "exclude": []<br/>        },<br/>        {<br/>            "email": "dddd@gmail.com",<br/>            "first_name": "D",<br/>            "family_name": "",<br/>            "include": [],<br/>            "exclude": []<br/>        }<br/>    ]<br/>}</span></pre><p id="a886" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，上面的JSON生成了下面的连接图，其中有向箭头表示赠送礼物的行为。双头箭头表示关系是对等的，而单头箭头表示其中一方不能给另一方送礼物。</p><p id="9e1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，两个人之间没有箭头表示两个人之间没有礼物。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/30344938632630839a1f15fcb03484d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*PnoigON3cLeY3FrACHmS0A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图解</p></figure><p id="9277" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面的Python代码利用了<code class="fe nx ny nz no b"><a class="ae kv" href="https://docs.python.org/3/library/dataclasses.html" rel="noopener ugc nofollow" target="_blank">dataclasses</a></code>库来简化Python/JSON数据结构转换。类<code class="fe nx ny nz no b">ListOfPlayerInfo</code>表示一个普通旧数据<code class="fe nx ny nz no b">PlayerInfo</code>的列表，包含描述一个秘密圣诞老人玩家所需的所有信息。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="83ac" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">自动发送电子邮件</h1><p id="9be1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">每位参与者都会收到一封定制的电子邮件，告诉他/她应该向谁赠送礼物。这些邮件的唯一区别在于涉及的两个人的名字。</p><p id="5922" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们可以编写一个模板<code class="fe nx ny nz no b">TXT</code>文件，包含邮件对象和它的主体，带有两个占位符<code class="fe nx ny nz no b">{src}</code>和<code class="fe nx ny nz no b">{dst}</code>，它们将在发送邮件时被替换。(<code class="fe nx ny nz no b">src</code>和<code class="fe nx ny nz no b">dst</code>分别代表出发地和目的地)</p><pre class="kg kh ki kj gt nn no np nq aw nr bi"><span id="d599" class="ns ma iq no b gy nt nu l nv nw">[Secret Santa] My mail object<br/>Hi {src}!<br/>You have to offer a gift to {dst}.<br/>Merry Christmas</span></pre><p id="13a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面的Python类使用<code class="fe nx ny nz no b"><a class="ae kv" href="https://docs.python.org/3/library/smtplib.html" rel="noopener ugc nofollow" target="_blank">smtlib</a></code>定义SMTP客户端会话并发送邮件，而<code class="fe nx ny nz no b"><a class="ae kv" href="https://docs.python.org/3/library/email.html" rel="noopener ugc nofollow" target="_blank">email</a></code>处理邮件格式。如前所述,<code class="fe nx ny nz no b">ListOfPlayerInfo</code>结构提供了姓名和电子邮件地址。</p><p id="e58d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">方法<code class="fe nx ny nz no b">EmailSender::send_mails</code>也将<code class="fe nx ny nz no b">links</code>作为输入，输入是整数元组的列表。每个元组对应于一封必须发送的邮件。它的第一个元素是提供礼物的人在<code class="fe nx ny nz no b">ListOfPlayerInfo</code>中的索引，而它的第二个元素是接受礼物的人的索引。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="2a2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于电子邮件自动化需要打开对不太安全的应用程序的访问，我建议不要使用你的个人地址，并创建一个特定的Gmail帐户，供你以后重复使用。如下图截图所示，你需要进入谷歌账户设置的安全部分来开启这个选项。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/365d9c52e70c3d8d1d2fa24ce9037a92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AmHOGxsvANrJ5_FzVGqSXg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者截图</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1f7a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">为秘密圣诞老人问题找到一个最优的连通解</h1><p id="324d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">最有趣的部分来了。</p><p id="41aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要在组内建立一个可能任务的图表，然后找到一条通过每个人的连接路径。</p><h2 id="2c7d" class="ns ma iq bd mb od oe dn mf of og dp mj lf oh oi ml lj oj ok mn ln ol om mp on bi translated">可能分配的图表</h2><p id="4c38" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">因为我们已经有了一个数据结构<code class="fe nx ny nz no b">ListOfPlayerInfo</code>来存储每一个有价值的信息，玩家可以通过他们在这个列表中的索引来引用。这样，我们最终只能处理图表中的索引。</p><p id="4f07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在下面的代码中，一个玩家X可以被分配给另一个玩家Y (X→Y ),如果他们满足以下条件:</p><ul class=""><li id="b602" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nm nc nd ne bi translated">他们有不同的名字，即他们是不同的人。请记住，指定姓氏可以消除多余名字的歧义。</li><li id="f368" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nm nc nd ne bi translated">要么包含列表为空，要么玩家Y属于玩家x的包含列表。</li><li id="e284" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nm nc nd ne bi translated">玩家Y不属于玩家X的排除列表</li></ul><p id="acca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，结果是一个列表，该列表包含每个玩家可以被分配到的可能玩家索引的列表。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h2 id="5fbe" class="ns ma iq bd mb od oe dn mf of og dp mj lf oh oi ml lj oj ok mn ln ol om mp on bi translated"><strong class="ak">通过发现确定性分配来细化可能性图表</strong></h2><p id="8661" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">看看这个可能性列表，我们可以很容易地检查某人是否事先知道他/她将向谁赠送礼物。事实上，当可能性列表包含单个索引时，我们可以将该接收者从其他参与者的可能性中移除。</p><p id="5bd9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只要还有只有一个可能收件人的新人，下面的代码就会重复。</p><p id="6d5f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，我们也可以寻找只有一个可能送礼物人的人，但这需要同时维持一组相反的可能性。让我们坚持这种简单的提炼，因为它更多的是为了它的美。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h2 id="1acc" class="ns ma iq bd mb od oe dn mf of og dp mj lf oh oi ml lj oj ok mn ln ol om mp on bi translated">找到一条最佳连通路径</h2><p id="be70" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">之前看到的图形ABCD的一个正确答案看起来如下图:A→B→C→D .它经过每个玩家，同时尊重可能的赋值。</p><p id="4050" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">a向B提供礼物，B向C提供礼物，C向D提供礼物，D最终向a提供礼物。由于在<code class="fe nx ny nz no b">ListOfPlayerInfo</code>中玩家是通过他们的索引来引用的，所以我们正在寻找一种索引闭合链形式的解决方案。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/c34a6697908e510196fc549f4c44d186.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*wkKEKIPbS7TMaIrkAyh48w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图解</p></figure><p id="c7f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">包含和排除列表使这项工作变得稍微困难一些，但是<a class="ae kv" href="https://en.wikipedia.org/wiki/Backtracking" rel="noopener ugc nofollow" target="_blank">回溯</a>在这类问题上工作得很好。下面的代码实现了回溯解决方案。</p><p id="fb6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">ID链是利用玩家的可能性逐渐建立起来的。如果链条自己循环，我们就完了。如果没有可能的分配，我们回溯并改变我们最后选择的名字。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="725e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">把所有的部分放在一起</h1><p id="c93a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">下面的代码调用前面描述的所有类和方法，并通过命令行使用<code class="fe nx ny nz no b"><a class="ae kv" href="https://google.github.io/python-fire/guide/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">fire</strong></a></code>库使其可运行。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="123b" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="b11c" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我希望你喜欢阅读这篇文章！</p><p id="48c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">出于可读性的原因，我跳过了本文中的模板生成器(<code class="fe nx ny nz no b">players_json</code>、<code class="fe nx ny nz no b">mail_txt</code>)、模拟版本(没有电子邮件)和健全性检查。</p><p id="328f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以从下面的链接访问我的Github上的完整项目。</p><div class="oo op gp gr oq or"><a href="https://github.com/ThomasParistech/secret_santa" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd ir gy z fp ow fr fs ox fu fw ip bi translated">GitHub-ThomasParistech/secret _ Santa</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">github.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf kp or"/></div></div></a></div></div></div>    
</body>
</html>