<html>
<head>
<title>Use Reference Fields to Manually Order Content With Contentful and Gatsby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用引用字段手动订购Contentful和Gatsby的内容</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/use-reference-fields-to-manually-order-content-with-contentful-and-gatsby-e5808861d875?source=collection_archive---------7-----------------------#2020-05-22">https://betterprogramming.pub/use-reference-fields-to-manually-order-content-with-contentful-and-gatsby-e5808861d875?source=collection_archive---------7-----------------------#2020-05-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fc5d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">以最简单的方式订购条目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d44a637400438965079bada921be4c2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P4mwFln0CtiyUNcY"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@steve_j?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯蒂夫·约翰森</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="f8df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近开始尝试用<a class="ae ky" href="https://www.contentful.com/" rel="noopener ugc nofollow" target="_blank"> Contentful </a>作为一个基于盖茨比的网站的无头CMS。到目前为止，我对这种组合的强大印象深刻。我试图解决的需求之一是手动重新排序条目的能力，因为顺序可能需要随时更新。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9792" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">手动点餐的肮脏方式</h1><p id="4eef" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">最初，我选择在内容模型中使用一个<code class="fe mz na nb nc b">integer</code>字段来帮助手动排序。当时，这是我能想到的唯一可行的办法。按照我的要求将每个条目按升序编辑后，我就可以在GraphQL查询中按这个字段进行排序了:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="a6fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您可能想象的那样，为了重新排序条目，我需要逐个更新它们，以确保order字段是正确的。我想继续探索Contentful提供了什么。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="8791" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">使用引用字段</h2><p id="4289" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我很想知道其他人是如何处理这个问题的，但我最终发现，通过使用一个包含许多引用的引用字段，您可以创建一个条目列表，只需拖动它们就可以重新排序。</p><p id="2847" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我使用引用字段的方式是创建一个名为<code class="fe mz na nb nc b">page order</code>的新内容模型，它有两个字段:<code class="fe mz na nb nc b">name</code>和<code class="fe mz na nb nc b">order</code>。<code class="fe mz na nb nc b">order</code>字段利用了内置的引用特性，允许您选择现有条目并重新排序。</p><p id="0160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多亏了GraphQL和片段的工作方式，以期望的顺序查询条目现在变得很简单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="c015" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">结论</h2><p id="69da" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我的知识还是相当有限的，因为我才刚刚开始尝试。如果您有任何提示和最佳实践，请告诉我。如果你和我一样是第一次接触Contentful，我希望你会发现这很有用。</p></div></div>    
</body>
</html>