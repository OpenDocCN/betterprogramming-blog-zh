<html>
<head>
<title>How to Conditionally Render React Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何有条件地呈现React组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/conditional-rendering-in-react-components-bea51e34f3a1?source=collection_archive---------9-----------------------#2020-03-04">https://betterprogramming.pub/conditional-rendering-in-react-components-bea51e34f3a1?source=collection_archive---------9-----------------------#2020-03-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4d21" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">仅在以下情况下显示此组件…</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3327086724b77ecc0864c5ab0739276d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PIkR2RTZT3JlP3YD_8by3g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">弗朗切斯科·德·托马索在<a class="ae ky" href="https://unsplash.com/s/photos/render?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b698" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>是一个用于创建前端视图的库。它有一个庞大的图书馆生态系统与之合作。此外，我们可以用它来增强现有的应用程序。</p><p id="6f61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将研究如何有条件地呈现项目。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="29b6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">条件渲染</h1><p id="cde5" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们可以通过使用常规的<code class="fe mz na nb nc b">if</code>或<code class="fe mz na nb nc b">switch</code>语句有条件地呈现React组件中的项目，或者我们可以对有两种情况的条件语句使用三元运算符。</p><p id="29a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以使用三元运算符，如下所示:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="eede" class="nh md it nc b gy ni nj l nk nl">class App extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = { on: false };<br/>  }</span><span id="3d7a" class="nh md it nc b gy nm nj l nk nl">  handleClick(e) {<br/>    e.preventDefault();<br/>    this.setState({<br/>      on: !this.state.on<br/>    });<br/>  }</span><span id="7730" class="nh md it nc b gy nm nj l nk nl">  render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;button onClick={this.handleClick.bind(this)}&gt;Toggle&lt;/button&gt;<br/>        &lt;p&gt;{this.state.on ? "ON" : "OFF"}&lt;/p&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="de61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们有一个按钮元素，它附带了<code class="fe mz na nb nc b">handleClick</code> click-handler方法。</p><p id="a41a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们有了<code class="fe mz na nb nc b">p</code>元素，其中有三进制表达式来显示<code class="fe mz na nb nc b">ON</code>或<code class="fe mz na nb nc b">OFF</code>，这取决于<code class="fe mz na nb nc b">this.state.on</code>的值。如果是<code class="fe mz na nb nc b">true</code>，我们得到<code class="fe mz na nb nc b">ON</code>。否则，我们得到<code class="fe mz na nb nc b">OFF</code>。</p><p id="da6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以将三元表达式重写为一个<code class="fe mz na nb nc b">if</code>语句，如下所示:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="aeed" class="nh md it nc b gy ni nj l nk nl">class App extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = { on: false };<br/>  }</span><span id="65e8" class="nh md it nc b gy nm nj l nk nl">  handleClick(e) {<br/>    e.preventDefault();<br/>    this.setState({<br/>      on: !this.state.on<br/>    });<br/>  }</span><span id="ddeb" class="nh md it nc b gy nm nj l nk nl">  render() {<br/>    let status;<br/>    if (this.state.on) {<br/>      status = &lt;p&gt;ON&lt;/p&gt;;<br/>    } else {<br/>      status = &lt;p&gt;OFF&lt;/p&gt;;<br/>    }<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;button onClick=  {this.handleClick.bind(this)}&gt;Toggle&lt;/button&gt;<br/>        {status}<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="3bae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所见，JSX和普通的JavaScript代码可以无缝地结合在一起。</p><p id="803c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使用一个<code class="fe mz na nb nc b">switch</code>语句，我们可以这样写:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="99b2" class="nh md it nc b gy ni nj l nk nl">class App extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = { on: false };<br/>  }</span><span id="9c08" class="nh md it nc b gy nm nj l nk nl">  handleClick(e) {<br/>    e.preventDefault();<br/>    this.setState({<br/>      on: !this.state.on<br/>    });<br/>  }</span><span id="b277" class="nh md it nc b gy nm nj l nk nl">  render() {<br/>    let status;<br/>    switch (this.state.on) {<br/>      case true:<br/>        status = &lt;p&gt;ON&lt;/p&gt;;<br/>        break;<br/>      case false:<br/>        status = &lt;p&gt;OFF&lt;/p&gt;;<br/>        break;<br/>      default:<br/>        status = null;<br/>        break;<br/>    }<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;button onClick={this.handleClick.bind(this)}&gt;Toggle&lt;/button&gt;<br/>        {status}<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="1a5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这三个例子都做了同样的事情。当我们点击按钮时，<code class="fe mz na nb nc b">ON</code>和<code class="fe mz na nb nc b">OFF</code>文本将会切换，因为我们调用了<code class="fe mz na nb nc b">this.setState</code>并将<code class="fe mz na nb nc b">on</code>设置为<code class="fe mz na nb nc b">this.state.on</code>的相反值。</p><p id="db38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们得到了切换效应。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="89cc" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用逻辑&amp;运算符的内嵌If</h1><p id="bf9d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果我们只有一个<code class="fe mz na nb nc b">if</code>块，我们可以将条件表达式与一个<code class="fe mz na nb nc b">&amp;&amp;</code>组合，然后我们要添加的表达式如下:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="6cb6" class="nh md it nc b gy ni nj l nk nl">class App extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = { val: 0 };<br/>  }</span><span id="4a60" class="nh md it nc b gy nm nj l nk nl">  handleClick(e) {<br/>    e.preventDefault();<br/>    this.setState({<br/>      val: Math.random()<br/>    });<br/>  }</span><span id="18ac" class="nh md it nc b gy nm nj l nk nl">  render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;button onClick={this.handleClick.bind(this)}&gt;Click Me&lt;/button&gt;<br/>        &lt;p&gt;{this.state.val &gt; 0.5 &amp;&amp; "You win"}&lt;/p&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="159a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的<code class="fe mz na nb nc b">render</code>方法中，我们有以下元素:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="ab88" class="nh md it nc b gy ni nj l nk nl">&lt;p&gt;{this.state.val &gt; 0.5 &amp;&amp; "You win"}&lt;/p&gt;</span></pre><p id="b3ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只有当<code class="fe mz na nb nc b">this.state.val</code>大于<code class="fe mz na nb nc b">0.5</code>时，我们才会显示<code class="fe mz na nb nc b">You win</code>。</p><p id="95c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它之所以有效，是因为如果条件<code class="fe mz na nb nc b">this.state.val &gt; 0.5</code>为<code class="fe mz na nb nc b">true</code>，React将继续运行<code class="fe mz na nb nc b">&amp;&amp;</code>之后的代码，即<code class="fe mz na nb nc b">You win</code>。</p><p id="85da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与以下内容相同:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="6e44" class="nh md it nc b gy ni nj l nk nl">render() {<br/>  let status;<br/>  if (this.state.val &gt; 0.5) {<br/>    status = "You win";<br/>  }<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;button onClick={this.handleClick.bind(this)}&gt;Click Me&lt;/button&gt;<br/>      &lt;p&gt;{status}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="c246" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，第一个例子要短得多。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="984c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">阻止组件呈现</h1><p id="5ad2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果我们想阻止一个元素渲染，我们可以把它设置为<code class="fe mz na nb nc b">null</code>或者<code class="fe mz na nb nc b">undefined</code>。</p><p id="5656" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在上面的例子中，我们有:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="f321" class="nh md it nc b gy ni nj l nk nl">let status;<br/>if (this.state.val &gt; 0.5) {<br/>  status = "You win";<br/>}</span></pre><p id="70aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着<code class="fe mz na nb nc b">status</code>最初被设置为<code class="fe mz na nb nc b">undefined</code>。</p><p id="64f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只有当<code class="fe mz na nb nc b">this.state.val</code>大于<code class="fe mz na nb nc b">0.5</code>时，我们才设置<code class="fe mz na nb nc b">status</code>到<code class="fe mz na nb nc b">You win</code>。</p><p id="2e7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，这意味着<code class="fe mz na nb nc b">status</code>有时是<code class="fe mz na nb nc b">undefined</code>，它不会显示任何内容，或者是<code class="fe mz na nb nc b">You win</code>，它会显示<code class="fe mz na nb nc b">You win</code>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="33b4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="4ae1" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们可以用多种方式有条件地显示项目。首先，我们可以使用<code class="fe mz na nb nc b">if</code>语句。</p><p id="0124" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们有很多案例要检查，我们也可以使用<code class="fe mz na nb nc b">switch</code>语句。</p><p id="87c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想要显示某个东西是否为<code class="fe mz na nb nc b"> true</code>而另一个东西不是，我们可以使用三元表达式。</p><p id="ae51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们只想显示的东西是<code class="fe mz na nb nc b">true</code>，我们可以加入条件表达式和代码来显示带有<code class="fe mz na nb nc b">&amp;&amp;</code>的东西。</p><p id="1f15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了防止某些东西出现，我们可以将它设置为<code class="fe mz na nb nc b">null</code>或<code class="fe mz na nb nc b">undefined</code>。</p></div></div>    
</body>
</html>