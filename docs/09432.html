<html>
<head>
<title>Showcase Your Medium Articles With JavaScript, CSS, and RSS Feeds</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JavaScript、CSS和RSS提要展示你的中型文章</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/showcase-your-articles-with-javascript-css-and-rss-feeds-92553d80aa1a?source=collection_archive---------9-----------------------#2021-08-24">https://betterprogramming.pub/showcase-your-articles-with-javascript-css-and-rss-feeds-92553d80aa1a?source=collection_archive---------9-----------------------#2021-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4879" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为任何网站创建一个你最近工作的作品集</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/708b39527912234946e98bd18fbeed34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*udDKViU52oELPUHnAbqJeA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由freepik.com的<a class="ae ky" href="https://www.freepik.com/pch-vector" rel="noopener ugc nofollow" target="_blank"> pch-vector </a>拍摄</p></figure><p id="6122" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最近一个下雨的早晨，我发现了<a class="ae ky" href="https://help.medium.com/hc/en-us/articles/214874118-Using-RSS-feeds-of-profiles-publications-and-topics" rel="noopener"> Medium的RSS Feeds API </a>，从那以后我一直在尝试一场风暴。</p><p id="1ad8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在过去的几天里，我一直在创建各种各样的CodePens，这些CodePens允许我通过标签筛选文章，通过主题搜索，或者挖掘特定出版物的文章列表。</p><p id="bcaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还寻找了一些如何使用Feeds API的其他示例，在我漫游的过程中，我偶然看到了这篇由<a class="ae ky" href="https://medium.com/@KonradDaWo" rel="noopener"> KonradDaWo </a>撰写的<a class="ae ky" href="https://medium.com/@KonradDaWo/how-to-display-medium-posts-on-a-website-with-plain-vanilla-js-basic-api-usage-example-865507848c2" rel="noopener">文章</a>，它解释了如何使用Fetch API来获取作者的feed并创建一个最近文章的图库。我发现这是一个令人信服的用例，因为它允许作者在一个单独的网站上保存一个当前媒体作品的临时组合，而不必经常手动更新它。</p><p id="2a2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文重点介绍我用Konrad的code pen<a class="ae ky" href="https://codepen.io/Konrad29/pen/ZoQRoz" rel="noopener ugc nofollow" target="_blank">做的一个fork。虽然它仍然使用他的提取逻辑，但在几个关键方面有所不同:</a></p><ul class=""><li id="8984" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">它使用CSS网格样式缩略图</li><li id="8034" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">它使每个图像的大小相同</li><li id="7291" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">它允许你按作者搜索</li><li id="64db" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">它使用<code class="fe mj mk ml mm b">createElement</code>而不是模板文字来组装DOM元素</li></ul><p id="2cbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我的<a class="ae ky" href="https://codepen.io/nevkatz/pen/KKqKXmY?editors=1111" rel="noopener ugc nofollow" target="_blank">代码笔</a>供你试用，由于提要的限制，它最多只能写十篇文章。虽然它以我的用户名(nevkatz)开始，但你可以在Medium上键入任何用户名，它应该会拉入该作者最近文章的图库。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="3202" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何使用CSS和JavaScript创建这个作品集。下面的标记将作为我们内容的外壳。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">HTML外壳。</p></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="41dc" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">CSS</h1><p id="525b" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">让我们为图库构建CSS，首先添加一个设置字体和对齐方式的<code class="fe mj mk ml mm b">body</code>样式。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="79d3" class="ny my it mm b gy nz oa l ob oc">body {<br/>  font-family: Calibri;<br/>  text-align: center;<br/>}</span></pre><p id="183d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们添加一个样式的字体颜色时，画廊加载。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="ed5b" class="ny my it mm b gy nz oa l ob oc">body.loading {<br/>  color: grey;<br/>}</span></pre><p id="a9b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，让我们为<code class="fe mj mk ml mm b">&lt;span&gt;</code>元素添加一个样式，我们将使用它来保存文章日期。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="3c7e" class="ny my it mm b gy nz oa l ob oc"><br/>span {<br/>  color: grey;<br/>  font-style: italic; <br/>}</span></pre><h2 id="7942" class="ny my it bd mz od oe dn nd of og dp nh li oh oi nj lm oj ok nl lq ol om nn on bi translated">图库样式</h2><p id="ecf2" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">接下来，让我们使用<code class="fe mj mk ml mm b">display: grid</code>作为<code class="fe mj mk ml mm b">results</code>部分，并为相对较宽的屏幕宽度创建一个三列网格。请注意，我将它居中，并给它一个固定的宽度。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="9356" class="ny my it mm b gy nz oa l ob oc">#results {<br/>  display: grid;<br/>  grid-template-columns: repeat(3,300px);<br/>  grid-column-gap: 10px;<br/>  grid-row-gap: 16px;<br/>  margin: 20px auto;<br/>  width: 920px;<br/>}</span></pre><p id="6007" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将带有类别<code class="fe mj mk ml mm b">image</code>的链接设计成缩略图。我们将使用JavaScript动态设置<code class="fe mj mk ml mm b">background-image</code>属性。这有助于保持所有图像的尺寸不变。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="0ada" class="ny my it mm b gy nz oa l ob oc">#results a.image {<br/>  width: 300px;<br/>  display: block;<br/>  height: 200px;<br/>  border: 1px solid #ccc;<br/>  background-position: center;<br/>  background-repeat: no-repeat;<br/>  background-size: cover;<br/>}</span></pre><h2 id="b224" class="ny my it bd mz od oe dn nd of og dp nh li oh oi nj lm oj ok nl lq ol om nn on bi translated">回应型风格</h2><p id="a031" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">让我们使用媒体查询将网格列布局更改为两列。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="466d" class="ny my it mm b gy nz oa l ob oc"><a class="ae ky" href="http://twitter.com/media" rel="noopener ugc nofollow" target="_blank">@media</a> screen and (max-width:1000px) {<br/>  #results {<br/>    grid-template-columns: repeat(2,300px);<br/>    width: 620px<br/>  }<br/>}</span></pre><p id="fe21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于第二个媒体问题，我们只需要一个专栏。为了实现这一点，我们将为<code class="fe mj mk ml mm b">results</code>容器用<code class="fe mj mk ml mm b">display: block</code>覆盖<code class="fe mj mk ml mm b">display:grid</code>。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="7521" class="ny my it mm b gy nz oa l ob oc"><a class="ae ky" href="http://twitter.com/media" rel="noopener ugc nofollow" target="_blank">@media</a> screen and (max-width: 800px) {<br/>  #results {<br/>    display: block;<br/>    width: 300px;<br/>  }<br/>  #results section {<br/>    margin-bottom: 20px;<br/>  }<br/>  #results a.image {<br/>    width: 300px;<br/>    max-width: 100%;<br/>  }<br/>}</span></pre><p id="a2cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CSS完成了！这是完整的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作品集画廊的完整CSS。</p></figure><p id="6ee6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的布局代表了一旦我们完成JavaScript，CSS将把我们的图库变成什么样子。列数取决于屏幕宽度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/4f4b3830c94da6cf4f56db2246276433.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IEC_kzRVCbxlV5zstVL2mQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">描述投资组合布局的屏幕截图。</p></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="66e4" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">JavaScript</h1><p id="7bbc" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">现在，让我们添加一些交互性来完成以下任务:</p><ul class=""><li id="9b4f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">填充图库</li><li id="92f2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">允许您通过单击“提交”来更改图库的内容</li><li id="1a13" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">获取RSS提要并将其转换成JSON</li><li id="75c2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">将数据呈现为DOM中的图库内容</li></ul><h2 id="36bd" class="ny my it bd mz od oe dn nd of og dp nh li oh oi nj lm oj ok nl lq ol om nn on bi translated">启动功能</h2><p id="0645" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">首先，让我们编写一个启动程序的<code class="fe mj mk ml mm b">init</code>函数。它将首先调用一个<code class="fe mj mk ml mm b">fetchArticles</code>函数，并将我的用户名作为参数传入。然后它会抓取<code class="fe mj mk ml mm b">submit</code>按钮，并向其添加一个<code class="fe mj mk ml mm b">click</code>监听器。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">init函数。</p></figure><p id="15a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，当点击<code class="fe mj mk ml mm b">submit</code>按钮时，我们将<code class="fe mj mk ml mm b">body</code>元素的<code class="fe mj mk ml mm b">className</code>设置为<code class="fe mj mk ml mm b">loading</code>。这是为了让用户知道程序正忙。</p><h2 id="d7f3" class="ny my it bd mz od oe dn nd of og dp nh li oh oi nj lm oj ok nl lq ol om nn on bi translated">取物品</h2><p id="304f" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">现在让我们编写<code class="fe mj mk ml mm b">fetchArticles</code>函数，它获取RSS数据。它有一个参数，<code class="fe mj mk ml mm b">text</code>，应该是传入的用户名。注意<code class="fe mj mk ml mm b">text</code>默认为空字符串。让我们从获取标题和文章显示区域的引用开始。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="eb13" class="ny my it mm b gy nz oa l ob oc">function fetchArticles(text = '') {<br/>    let h2 = document.querySelector('#portfolio-title');<br/>    let results = document.querySelector('#results');<br/>}</span></pre><p id="aa6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们设置一下<code class="fe mj mk ml mm b">rss_url</code>，如果<code class="fe mj mk ml mm b">text</code>有字符就加上作者的用户名。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="6ae1" class="ny my it mm b gy nz oa l ob oc">function fetchArticles(text = '') {</span><span id="4f4b" class="ny my it mm b gy op oa l ob oc">   let h2 = document.querySelector('#portfolio-title');<br/>   let results = document.querySelector('#results');</span><span id="88d3" class="ny my it mm b gy op oa l ob oc"><strong class="mm iu">   let rss_url = 'https://medium.com/feed/';                             <br/>   if (text.length &gt; 0) {                              <br/>      rss_url += `/@${text}`;                           <br/>   }</strong><br/>}</span></pre><p id="78cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们使用<code class="fe mj mk ml mm b">api.rss2json.com</code>服务来构建URL。注意，我们在最后添加了<code class="fe mj mk ml mm b">rss_url</code>作为查询字符串的值。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="c0a9" class="ny my it mm b gy nz oa l ob oc">fetch(`https://api.rss2json.com/v1/api.json?rss_url=${rss_url}`)</span></pre><p id="6d23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们获取XML数据并将其转换成JSON。注意，表示异步操作的<code class="fe mj mk ml mm b">then</code>被使用了两次。第二个<code class="fe mj mk ml mm b">then</code>之后，我们要么有一些数据，要么没有。一旦我们到达这里，我就从<code class="fe mj mk ml mm b">body</code>中删除<code class="fe mj mk ml mm b">loading</code>类。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“获取外壳</p></figure><p id="0703" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，在第二次异步<code class="fe mj mk ml mm b">then</code>调用之后，我们现在有了一个新变量——<code class="fe mj mk ml mm b">data</code>——它包含了我们需要的所有JSON。</p><p id="d402" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个名为<code class="fe mj mk ml mm b">res</code>的变量，它的<code class="fe mj mk ml mm b">items</code>在<code class="fe mj mk ml mm b">data</code>中。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="767d" class="ny my it mm b gy nz oa l ob oc">const res = data.items;</span></pre><p id="fbbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果<code class="fe mj mk ml mm b">res</code>不存在，则没有数据返回，所以让我们离开这里。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="a0ac" class="ny my it mm b gy nz oa l ob oc">if (!res) {<br/>     results.innerHTML = `Please enter a valid author username.`;<br/>     return;<br/>}</span></pre><p id="9531" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果<code class="fe mj mk ml mm b">res</code>确实存在，我们将抓取所有实际发布的项目。每个帖子应该至少有一个类别，所以我们可以过滤。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="e028" class="ny my it mm b gy nz oa l ob oc">const posts = res.filter(item =&gt; item.categories.length &gt; 0);</span></pre><p id="e24e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果没有<code class="fe mj mk ml mm b">posts</code>，让我们打印一条“没有结果”的消息，然后离开这里。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="ee23" class="ny my it mm b gy nz oa l ob oc">if (posts.length == 0) {<br/>      results.textContent = h2.textContent = 'No results.';<br/>      return;<br/>}</span></pre><p id="05d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们确实有一些<code class="fe mj mk ml mm b">posts</code>，让我们从第一个帖子中抓取<code class="fe mj mk ml mm b">author</code>并更改标题。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="fdbb" class="ny my it mm b gy nz oa l ob oc">let author = posts[0].author;                                   h2.innerHTML = `${author}'s Portfolio`;                                                           </span></pre><p id="db05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们创建一个名为<code class="fe mj mk ml mm b">output</code>的文档片段。对于<code class="fe mj mk ml mm b">posts</code>中的每一项，我们将通过调用<code class="fe mj mk ml mm b">renderItem</code>在DOM中呈现它。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="2ab3" class="ny my it mm b gy nz oa l ob oc">let output = document.createDocumentFragment();                                                           posts.forEach((item) =&gt; {                                          <br/>    output = <strong class="mm iu">renderItem(item, output);  </strong>                                 });  <br/>                                                        </span></pre><p id="05bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们清空<code class="fe mj mk ml mm b">#results</code>区域并添加新的<code class="fe mj mk ml mm b">output</code>元素。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="22e8" class="ny my it mm b gy nz oa l ob oc">let results document.querySelector('#results')                                   results.innerHTML = '';                                   results.appendChild(output);</span></pre><p id="2f9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是我的<code class="fe mj mk ml mm b">fetchArticles</code>的完整代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">fetchArticles函数。</p></figure><h2 id="48c6" class="ny my it bd mz od oe dn nd of og dp nh li oh oi nj lm oj ok nl lq ol om nn on bi translated">呈现每个项目</h2><p id="d072" class="pw-post-body-paragraph kz la it lb b lc np ju le lf nq jx lh li nr lk ll lm ns lo lp lq nt ls lt lu im bi translated">现在让我们编写<code class="fe mj mk ml mm b">renderItem</code>函数，它创建一个图库条目。这需要两个参数:</p><ul class=""><li id="8f99" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe mj mk ml mm b">item</code>，一个JavaScript对象</li><li id="995f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><code class="fe mj mk ml mm b">output</code>，我们正在添加项目的文档片段</li></ul><p id="2adf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是函数外壳。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="dc47" class="ny my it mm b gy nz oa l ob oc">function renderItem(item, output) {</span><span id="74a4" class="ny my it mm b gy op oa l ob oc">}</span></pre><p id="66bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个函数中，让我们抓住<code class="fe mj mk ml mm b">url</code>，它将在多个地方使用。注意，我使用了<code class="fe mj mk ml mm b">split</code>来删除查询字符串。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="33d7" class="ny my it mm b gy nz oa l ob oc">let url = item.link.split('?')[0];</span></pre><p id="10fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备好<code class="fe mj mk ml mm b">url</code>之后，让我们构建我们的DOM元素。我们将从包含所有内容的<code class="fe mj mk ml mm b">section</code>元素和包含我们图像的链接开始。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="10ac" class="ny my it mm b gy nz oa l ob oc">let section = document.createElement('section');                           let a_img = document.createElement('a');</span></pre><p id="77d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们根据<code class="fe mj mk ml mm b">item</code>的<code class="fe mj mk ml mm b">thumbnail</code>属性设置元素的<code class="fe mj mk ml mm b">backgroundImage</code>。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="60f2" class="ny my it mm b gy nz oa l ob oc">a_img.style.backgroundImage = "url('" + item.thumbnail + "')";</span></pre><p id="3ebb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们继续设置图片链接的其余属性。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="bdd5" class="ny my it mm b gy nz oa l ob oc">a_img.href = url; <br/>a_img.className = 'image';                                                    a_img.target = '_blank';                           section.appendChild(a_img);</span></pre><p id="7a24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们创建另一个名为<code class="fe mj mk ml mm b">blurb</code>的元素。这将保存链接的标题和日期。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="c1ae" class="ny my it mm b gy nz oa l ob oc">let blurb = document.createElement('div');</span></pre><p id="6c53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们为这个链接标题创建一个元素，设置它的属性，并把它附加到<code class="fe mj mk ml mm b">blurb</code>。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="5d67" class="ny my it mm b gy nz oa l ob oc">let a_txt = document.createElement('a');                           a_txt.href = url;                           <br/>a_txt.textContent = item.title;                           a_txt.target = '_blank';                           blurb.appendChild(a_txt);</span></pre><p id="b79b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建保存日期的<code class="fe mj mk ml mm b">&lt;span&gt;</code>元素。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="372f" class="ny my it mm b gy nz oa l ob oc">let span = document.createElement('span');</span></pre><p id="c843" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来我们来抓<code class="fe mj mk ml mm b">item.pubDate</code>，它有下面这个大致的样子。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="46e3" class="ny my it mm b gy nz oa l ob oc">"2021-08-05 03:57:29"</span></pre><p id="a161" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只想要粗体的日期，所以我们将这个字符串用空格字符<code class="fe mj mk ml mm b">split</code>，把它变成一个数组。然后，我们可以在索引<code class="fe mj mk ml mm b">0</code>处获取日期部分。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="dc0a" class="ny my it mm b gy nz oa l ob oc">let date = item.pubDate.split(' ')[0];</span></pre><p id="bca1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们将日期添加到<code class="fe mj mk ml mm b">&lt;span&gt;</code>元素的<code class="fe mj mk ml mm b">innerHTML</code>中，并在一个不可破坏的空间中进行更好的测量。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="1628" class="ny my it mm b gy nz oa l ob oc">pan.innerHTML = `&amp;nbsp;(${date})`;</span></pre><p id="7962" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在有很多附加工作要做:</p><ul class=""><li id="6fbb" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">我们将<code class="fe mj mk ml mm b">span</code>附加到<code class="fe mj mk ml mm b">blurb</code>上，</li><li id="ed82" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">将<code class="fe mj mk ml mm b">blurb</code>附加到<code class="fe mj mk ml mm b">section</code>上，</li><li id="4e38" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">并将<code class="fe mj mk ml mm b">section</code>附加到<code class="fe mj mk ml mm b">output</code>上。</li></ul><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="b2af" class="ny my it mm b gy nz oa l ob oc">blurb.appendChild(span);                           section.appendChild(blurb);                           output.appendChild(section);</span></pre><p id="06b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们返回文档片段，这样它就可以继续用<code class="fe mj mk ml mm b">forEach</code>循环中剩余的任何帖子填充。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="2ccc" class="ny my it mm b gy nz oa l ob oc">return output;</span></pre><p id="d03b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是整个<code class="fe mj mk ml mm b">renderItem</code>功能。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">renderItem函数。</p></figure><p id="4403" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们在最后添加一个对<code class="fe mj mk ml mm b">init()</code>的调用，代码应该会运行。</p><pre class="kj kk kl km gt nu mm nv nw aw nx bi"><span id="516e" class="ny my it mm b gy nz oa l ob oc">init();</span></pre><p id="1c79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是CodePen再次供参考。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">完成的代码笔</p></figure><p id="6a11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你已经完成了这个项目，恭喜你！你现在有一个灵活的组合画廊，你应该能够整合到一系列的网站。虽然它只引入了少量的帖子，但它应该保持定期更新，只需要很少的维护，甚至不需要维护。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="727c" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">建议的后续步骤</h1><ul class=""><li id="1bd9" class="lv lw it lb b lc np lf nq li oq lm or lq os lu ma mb mc md bi translated">尝试分叉CodePen或将其下载为zip文件，以便您可以调整它来满足您的需求。</li><li id="1f3b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">我的风格很简单，所以试着为你自己的调色板添加CSS。随意尝试<a class="ae ky" href="https://www.canva.com/colors/color-palette-generator/" rel="noopener ugc nofollow" target="_blank"> Canva调色板生成器</a>获取灵感。</li><li id="4699" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">尝试调整<code class="fe mj mk ml mm b">grid-template-columns</code>,以便获得不同的列数。</li><li id="5afb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">尝试移动优先的方法，其中窄宽度是默认的，媒体查询是针对更宽的宽度。</li><li id="fb78" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如果您想在自己的投资组合中使用这个，请随意移除输入框并硬编码您的用户名。</li><li id="a88a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">尝试将代码添加到您自己网站的某个地方。</li></ul><p id="db8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢这个教程。感谢阅读！</p></div></div>    
</body>
</html>