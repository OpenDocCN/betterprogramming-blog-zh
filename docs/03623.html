<html>
<head>
<title>Docker Containers vs. Virtual Machines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker容器与虚拟机</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/docker-containers-vs-virtual-machines-838022906016?source=collection_archive---------3-----------------------#2020-02-23">https://betterprogramming.pub/docker-containers-vs-virtual-machines-838022906016?source=collection_archive---------3-----------------------#2020-02-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f4d9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">有什么区别？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/da737772ff56424874bc8e22939f5aa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BeIp57c05KC8eqD5at96ZQ.jpeg"/></div></div></figure><p id="5ef7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我曾经认为Docker容器是轻量级的、精简的虚拟机。这种比较是有意义的，因为至少在Docker的最初营销中，它总是被与虚拟机相比较——例如，“Docker启动所需的时间比VM少”，等等。</p><p id="ee54" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">但是docker容器<em class="lq">不是</em>虚拟机。</strong></p><p id="1431" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们并排比较一下Docker容器和虚拟机。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="8e43" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">虚拟机</strong></h1><p id="7622" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">虚拟机(VM)是物理硬件的抽象，它将一台服务器变成多台服务器。虚拟机管理程序允许多个虚拟机在一台机器上运行。每个虚拟机都包含操作系统、应用程序以及必要的二进制文件和库的完整副本，占用数十GB的空间。虚拟机启动也可能很慢。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/936c3fd9e162db78ac64caf4adc9293c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oF6QqYRhWPw9HF20CUqhMw.png"/></div></div><p class="mw mx gj gh gi my mz bd b be z dk translated"><a class="ae na" href="http://devkube.blogspot.com" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nb">追随devkube.blogsopt.com</strong></a></p></figure><h2 id="5bf6" class="nc lz it bd ma nd ne dn me nf ng dp mi ld nh ni mk lh nj nk mm ll nl nm mo nn bi translated"><strong class="ak">虚拟机架构</strong></h2><p id="a499" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">让我们假设有许多层。当这些层连接在一起时，它们就形成了一个虚拟机。</p><p id="67a7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">虚拟机基础架构的底层大部分是虚拟机的硬件。</p><p id="4a02" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该硬件层主要是运行虚拟机所需的硬件池。它主要由Ram组成，可以是SSD(通常是SSD)，甚至是低性能的HDD、CPU等。</p><p id="4b97" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这一层之上，运行着一个主机操作系统——通常是Linux，有时是Windows。在此之上，还有一层称为管理程序层<strong class="kw iu">。</strong>有两种类型的管理程序层。一种运行在硬件层，主要用于数据中心，另一种运行在操作系统之上，用于VMware或VirtualBox等程序。</p><p id="09e7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这个虚拟机管理程序层之上，运行着来宾操作系统块。<strong class="kw iu"> </strong>假设您想要完全隔离地运行三种不同类型的应用程序，您需要启动三台独立的虚拟机。虚拟机管理程序直接控制这三个虚拟机。</p><p id="63bb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是现在想象一下，三台虚拟机都有各自的操作系统——Linux或windows。目前，假设他们有Linux操作系统，那么每个操作系统大约是700mb。我们必须启动三台虚拟机，这将占用我们操作系统上大约2.1GB的存储空间。最重要的是，每个来宾操作系统都需要自己的一组bin/库——Python依赖项、节点模块等——来为运行应用奠定基础。</p><p id="40ab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，最后，我们在此之上有我们的应用程序层，它通常是您构建的应用程序的源代码。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h2 id="c895" class="nc lz it bd ma nd ne dn me nf ng dp mi ld nh ni mk lh nj nk mm ll nl nm mo nn bi translated"><strong class="ak">什么是容器？</strong></h2><p id="a8b9" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">容器是应用程序层的抽象，它将代码和依赖项打包在一起。多个容器可以在同一台机器上运行，并与其他容器共享它们的操作系统内核，每个容器在用户空间中作为独立的进程运行。容器比虚拟机占用更少的空间(容器映像的大小通常为数十兆字节)，可以处理更多的应用程序，并且需要更少的虚拟机和操作系统。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/c9e8d18adfe0ab03ec5c98667086b2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dyHQi6Q_XdUkRZ99an68Kw.png"/></div></div><p class="mw mx gj gh gi my mz bd b be z dk translated"><a class="ae na" href="http://devkube.blogspot.com" rel="noopener ugc nofollow" target="_blank"> <strong class="bd nb">追随devkube.blogspot.com</strong></a></p></figure><h2 id="0d8d" class="nc lz it bd ma nd ne dn me nf ng dp mi ld nh ni mk lh nj nk mm ll nl nm mo nn bi translated"><strong class="ak"> Docker集装箱架构</strong></h2><p id="4932" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">Docker并不神奇——它需要一些基础硬件来运行。因此，第一层(硬件层)是虚拟机层基础架构所共有的。</p><p id="1f81" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这之上，有一个主机操作系统。它可以是任何能够运行Docker的操作系统。Docker支持所有主要的Linux发行版，并且有多种方法可以在Windows机器和MAC上运行Docker。</p><p id="fb32" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在是第三层。这里有些有趣的东西。Docker守护程序取代了这一层，它是虚拟机架构中的管理程序层。它是一个在后台运行的服务，负责运行Docker容器。</p><p id="d675" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后Bin/library驻留在应用程序的容器中，并且有应用程序的源代码。Docker守护进程管理容器的所有这些层。</p><p id="fe31" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，我们消除了对客户操作系统的需求，并节省了客户操作系统占用的内存量。在运行这些虚拟机时，我们还节省了机器上的负载。</p><p id="2ce9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这里，每个应用程序都是相互隔离的，因为它们被托管在不同的容器中，但仍然在相同的主机操作系统上。</p></div></div>    
</body>
</html>