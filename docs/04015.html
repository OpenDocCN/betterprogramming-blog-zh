<html>
<head>
<title>Android’s Best SQLite Debugging Tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android最好的SQLite调试工具</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/android-best-sqlite-debugging-tools-a9a8da07568f?source=collection_archive---------15-----------------------#2020-03-18">https://betterprogramming.pub/android-best-sqlite-debugging-tools-a9a8da07568f?source=collection_archive---------15-----------------------#2020-03-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8672" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">检查应用程序数据库、查询和结构的简单方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b3d4745668bcd28b4b7052c56f018c5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T4hvCvB7NBrT3NZU"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@zanilic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">赞</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="61f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在使用SQLite数据库开发应用程序的初始阶段，很难检查它们并检查查询。一段时间后，<a class="ae ky" href="https://sqlitebrowser.org/" rel="noopener ugc nofollow" target="_blank"> SQLite browser </a>成为唯一一个我们可以检查与应用程序数据库相关的一切的工具，但这有点难。我们需要导出。db文件，然后在SQLite浏览器的帮助下打开它，以检查表中的数据和查询执行情况。现在，我们有一些简单的工具可以非常容易地检查应用程序数据库。那么为什么要等呢？让我们探索几个使调试数据库变得容易的选项。</p><p id="a327" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将详细讨论SQL Scout &amp; AppSpector的Stetho和特性。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e476" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">斯特索</strong></h1><p id="7a32" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你没有看过我之前关于Stetho 的文章，请查看一下，以便于理解。Stetho是脸书的一个简单的库，用它我们可以很容易地调试本地存储和网络调用。主要问题是，“我们如何使用Stetho调试SQLite数据库？”</p><p id="3320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用Stetho进行集成非常容易，只需遵循三个步骤，这有利于检查本地存储和网络层。</p><h2 id="549a" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">步骤1:在build.gradle中添加依赖项</h2><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="5ef4" class="mz md it nm b gy nq nr l ns nt">implementation 'com.facebook.<strong class="nm iu">stetho:stetho</strong>:1.5.1'</span><span id="6977" class="mz md it nm b gy nu nr l ns nt">// We can also use one of the network helpers to inspect network <br/>// requests<br/>implementation 'com.facebook.stetho:stetho-<strong class="nm iu">okhttp3</strong>:1.5.1'                          <strong class="nm iu">OR<br/></strong>implementation 'com.facebook.stetho:stetho-<strong class="nm iu">urlconnection</strong>:1.5.1'</span></pre><h2 id="7e00" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">步骤2:用一行代码在应用程序类中初始化它</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><h2 id="8280" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">步骤3:启用网络检查</h2><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="02ac" class="mz md it nm b gy nq nr l ns nt"><strong class="nm iu">OkHttpClient</strong>.Builder()<br/> .<strong class="nm iu">addNetworkInterceptor</strong>(<strong class="nm iu">StethoInterceptor</strong>())<br/> .build()</span></pre><p id="017d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以这里的工作完成了。只需运行应用程序，我们就可以轻松地在Chrome浏览器中检查输出。</p><p id="2918" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开你的Chrome浏览器，在地址栏输入<code class="fe nx ny nz nm b">chrome://inspect</code>，按下回车键，然后你就能看到你的设备连接了，如下图所示。点击<em class="oa">检查</em>看魔术！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/d9888bd09110d146b17ecd5746f41d1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tJPKZXrW2qq43GLZIkgsgw.png"/></div></div></figure><p id="456b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击设备下方的“inspect”按钮后，将弹出一个新窗口，如果我们选择顶部的“network”选项卡，我们可以在其中看到网络火灾。</p><h2 id="8c5a" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">使用Stetho进行数据库检查</h2><p id="3206" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当您单击inspect并打开弹出窗口时，选择顶部的Resources。现在，您将在左侧看到一些选项，您可以从中选择Web SQL，这是一个下拉列表，您可以在其中看到所有应用程序数据库。当你点击任何一个表时，它会显示出包含所有数据的结构。就这么简单，对吧？不需要像我们用SQLite浏览器那样导出和导入东西。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/e7a8a0a00aea3a81f1f1272640d325a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6uzCKUhZ0K_SIRRsvJJQsw.png"/></div></div></figure><p id="591e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们甚至可以执行查询来检查结果。点击。db文件，您会在右边看到一个编辑器。您可以根据需要编写查询来检查结果。下面是一些带有结果的示例查询。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/5c00086fb2ce53668a5a29e510bc56ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G6TykQUGbRIqoesFlj6t0w.png"/></div></div></figure><p id="2464" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不需要直接在studio里写复杂或者硬的查询，调试很久，最后发现是查询出错了而不是其他部分。最佳实践是在如上所示的提示符下验证查询，然后将它们复制到任何需要它们的地方，而不是盲目地编写查询并在调试时感到沮丧。如果你想探索更多，请查看<a class="ae ky" href="http://facebook.github.io/stetho/" rel="noopener ugc nofollow" target="_blank"> Stetho </a>。现在让我们转到SQL Scout。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b210" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak"> SQL侦察兵</strong></h1><p id="9fed" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">SQLScout是Android Studio和IntelliJ IDEA的插件，为管理和调试SQLite和房间管理的数据库提供了强大的专用支持。</p><h2 id="7ab5" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">第一步</strong>:安装插件</h2><p id="c3ab" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这是一个插件，我们可以通过以下步骤将其安装在Android Studio中:</p><ol class=""><li id="7ae0" class="od oe it lb b lc ld lf lg li of lm og lq oh lu oi oj ok ol bi translated">打开“设置”(在Windows和Linux上)或“首选项”(在Mac上)对话框。</li><li id="a0fb" class="od oe it lb b lc om lf on li oo lm op lq oq lu oi oj ok ol bi translated">从左侧列表中选择“插件”。</li><li id="cb75" class="od oe it lb b lc om lf on li oo lm op lq oq lu oi oj ok ol bi translated">搜索SQLScout，然后点击安装按钮。</li><li id="0a4a" class="od oe it lb b lc om lf on li oo lm op lq oq lu oi oj ok ol bi translated">重启工作室。</li></ol><h2 id="19f9" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">第二步:</strong>连接Android数据库</h2><p id="853f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">完成第一步后，您会在右侧看到一个SQLite Explorer选项。当你点击它时，会有一个弹出窗口，其中有一个探索数据库的选项。当您单击加号(+)图标时，它会显示以多种方式从设备或本地存储导入数据库的选项。了解如何使用<a class="ae ky" href="http://www.idescout.com/wiki/index.php/Main/ConnectToAndroidDbs" rel="noopener ugc nofollow" target="_blank">连接到Android数据库</a>的每个选项。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/ab49eb2223c674f7a0382a08bcdee309.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rAgMJXqSVFWoPuww3P4V4Q.png"/></div></div></figure><h2 id="669e" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">步骤3:要在SQLScout中探索的特性</h2><ol class=""><li id="052b" class="od oe it lb b lc mu lf mv li os lm ot lq ou lu oi oj ok ol bi translated"><strong class="lb iu"> SQLite Explorer: </strong>连接Android应用程序或文件系统中的SQLite数据库，浏览模式的元素，查找表和列的用法，快速打开内存中的SQL编辑器，查看和编辑表数据。<a class="ae ky" href="http://www.idescout.com/wiki/index.php/Main/SQLiteExplorer" rel="noopener ugc nofollow" target="_blank">了解更多</a>。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/7fa532493fd34cd7499413183c689231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HhLpwDT2abNBU8Aeqd1LQw.png"/></div></div></figure><p id="938f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2。SQL编辑器:</strong>这个强大的编辑器提供了一整套IDE需要的特性:语法高亮、代码完成、导航到模式和别名定义等等。<a class="ae ky" href="http://www.idescout.com/wiki/index.php/Main/SQLEditor" rel="noopener ugc nofollow" target="_blank">了解更多</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/395f9457a0b0c2c26ea57928562e48ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x4TfftfaKLiW7WbfeN_raw.png"/></div></div></figure><p id="d229" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 3。数据控制台:</strong>数据控制台可以显示查询结果，编辑表格数据，并将其内容导出为不同格式，如Excel！<a class="ae ky" href="http://www.idescout.com/wiki/index.php/Main/DataConsole" rel="noopener ugc nofollow" target="_blank">了解更多</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/29a2e21c2bda54d1672730bd6b8285e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2HMcx0YDOKUWHaWfcmJjtA.png"/></div></div></figure><p id="39ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 4。数据库图表:</strong>轻松地为数据库生成图表，以帮助表格、列和关系的可视化。<a class="ae ky" href="http://www.idescout.com/wiki/index.php/Main/DatabaseDiagram" rel="noopener ugc nofollow" target="_blank">了解更多</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/c1813c7b0fe72cae45e4f63592b6555e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*osfPG5k0cL0VNG-A1uoXuw.png"/></div></div></figure><p id="774c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些是SQLScout的主要亮点。它可能还有其他一些特性，所以请浏览完整的<a class="ae ky" href="http://www.idescout.com/wiki/index.php/Main/HomePage" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9980" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">应用程序</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/580cb5148c0bfaa58bbb2b65d02f9b32.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*1MTytjw47QWxG8ExjUoExQ.png"/></div></figure><p id="06eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AppSpector是一个多功能的iOS和Android应用远程调试平台。对于从个人开发者到大公司的任何工程力量来说，这都是一个很好的解决方案。它有许多功能:我们可以检查网络请求，查看应用程序日志，CoreData浏览器，SQLite浏览器，跟踪和模拟设备位置，NSNotificationCenter日志。</p><h2 id="4cd9" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">关键特征</h2><ul class=""><li id="b799" class="od oe it lb b lc mu lf mv li os lm ot lq ou lu pa oj ok ol bi translated"><strong class="lb iu">远程访问</strong></li><li id="93ed" class="od oe it lb b lc om lf on li oo lm op lq oq lu pa oj ok ol bi translated"><strong class="lb iu">可定制</strong> <br/>您选择想要收集的数据。</li><li id="74c8" class="od oe it lb b lc om lf on li oo lm op lq oq lu pa oj ok ol bi translated"><strong class="lb iu">易于使用</strong> <br/>您只需几行代码和我们网站上的一个账户就可以开始使用。</li><li id="4c8f" class="od oe it lb b lc om lf on li oo lm op lq oq lu pa oj ok ol bi translated">跨平台 <br/> AppSpector为iOS和Android用户提供了类似的体验。</li><li id="43e7" class="od oe it lb b lc om lf on li oo lm op lq oq lu pa oj ok ol bi translated"><strong class="lb iu">实时</strong> <br/>一旦你的应用发生任何变化，你都会在我们的网络界面上看到。</li><li id="8ff9" class="od oe it lb b lc om lf on li oo lm op lq oq lu pa oj ok ol bi translated">除了您选择的人之外，我们绝不会与任何人分享您的数据。</li></ul><h2 id="06d1" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">它是如何工作的</h2><p id="47d8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">与Stetho类似，AppSpector由两个基本部分组成:</p><p id="9856" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 1。app spector SDK</strong><br/>iOS和Android均可使用。它是一个可以添加到项目中的依赖项。添加后，它允许您实时收集有关应用状态的信息。在<a class="ae ky" href="https://docs.appspector.com/docs/ios-sdk" rel="noopener ugc nofollow" target="_blank"> iOS SDK </a>和<a class="ae ky" href="https://docs.appspector.com/docs/android-sdk" rel="noopener ugc nofollow" target="_blank"> Android SDK </a> <strong class="lb iu"> </strong>部分有详细描述，可以自行探索。</p><p id="d7d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2。AppSpector web界面</strong> <br/>只要您启动一个集成了AppSpector SDK的应用，这些信息就会在我们的<a class="ae ky" href="https://app.appspector.com/" rel="noopener ugc nofollow" target="_blank">网站</a>上提供。每个会话都是完全安全的，除了您和您的组织成员之外，任何人都不能访问其数据。</p><p id="9ae9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多探索，请浏览<a class="ae ky" href="https://docs.appspector.com/docs/appspector-in-a-nutshell" rel="noopener ugc nofollow" target="_blank">文档</a>。它有14天的试用期，并为小开发者提供免费计划。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="409f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请让我知道你的建议和意见。</p><p id="0489" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>