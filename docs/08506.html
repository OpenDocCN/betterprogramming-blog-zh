<html>
<head>
<title>Build Beautiful Page Transitions in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在角度上构建漂亮的页面过渡</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-beautiful-page-transitions-in-angular-28e40fa7e3bf?source=collection_archive---------3-----------------------#2021-05-07">https://betterprogramming.pub/build-beautiful-page-transitions-in-angular-28e40fa7e3bf?source=collection_archive---------3-----------------------#2021-05-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="56da" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">滚动时的视差、淡入淡出和幻灯片过渡</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/faabf71538c5a1cbc32814478d8e9324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1KvkHFBkNFN6bt8jQNMY4A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@matthiasmullie" rel="noopener ugc nofollow" target="_blank">马蒂亚斯·穆利</a>在<a class="ae ky" href="https://unsplash.com/photos/OiO0tfESWls" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="cbf6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当今世界，仅仅有一个网站是不够的。此外，网站应该有一个干净的用户界面和直观的。最重要的是，应该有一个互动的元素。</p><p id="90d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">交互性让用户更长时间地粘在你的网站上。因此，它增加了将用户转化为客户的机会。此外，更长的互动时间会导致更低的跳出率，从而在搜索引擎上获得更高的排名。</p><p id="3dcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户在你的网站上滚动时，最常见和最基本的交互形式之一就发生了。如果用户不停地滚动你的长静态页面，岂不是相当无聊？在本教程中，我们将看看三个基本的动画可以发生在滚动。视差、淡入淡出和幻灯片动画是最常用的动画。让我们看看如何实现这些动画。</p><p id="673f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们继续下一步之前，以下是最终结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/ec70a4431814488267779c5725235b98.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*Ywqe-PW3A-V8B5mvJmlpVg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">视差(<a class="ae ky" href="https://animations-demo-ffcb4.web.app/parallax" rel="noopener ugc nofollow" target="_blank">查看演示</a>)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/f8d373f8c3a348e1c47f10dad61b7564.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*cZYvFm4F9EZXCyfpv1Rnwg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">淡化(<a class="ae ky" href="https://animations-demo-ffcb4.web.app/fade" rel="noopener ugc nofollow" target="_blank">查看演示</a>)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/c0b71c09a87bccd528b655952e94d688.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*-thdCqzqVWw9o0oTk-lN0g.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">幻灯片(<a class="ae ky" href="https://animations-demo-ffcb4.web.app/slide" rel="noopener ugc nofollow" target="_blank">观看演示</a>)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="01c7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">项目设置</h1><h2 id="a3fb" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">先决条件</h2><p id="276b" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">我们将使用Angular 11来创建我们的项目。VS代码将作为一个IDE使用。</p><p id="3134" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了实现动画，我们将使用精彩的<a class="ae ky" href="https://greensock.com/gsap/" rel="noopener ugc nofollow" target="_blank">绿袜子动画平台(gsap) </a>。这是最好的JavaScript动画库之一。</p><h2 id="948f" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">创建项目</h2><p id="6fde" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">通过执行下面的命令创建一个角度项目。<em class="nm">注意:确保在询问时启用路由。</em></p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="b6de" class="mv me it no b gy ns nt l nu nv">ng new animations --style css<br/>code animations</span></pre><p id="4ac6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将创建一个名为<em class="nm">动画</em>的新项目，样式格式为CSS。其次，它将在VS代码中打开项目。接下来，让我们安装gsap。在VS代码终端中，执行以下命令:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="2384" class="mv me it no b gy ns nt l nu nv">npm install --save gsap @types/gsap</span></pre><p id="12d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将通过<code class="fe nw nx ny no b">@types/gsap</code>安装gsap库和打字文件。</p><p id="ca06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，让我们创建三个组件。执行以下命令:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="0908" class="mv me it no b gy ns nt l nu nv">ng g c parallax<br/>ng g c fade<br/>ng g c slide</span></pre><h2 id="d8ed" class="mv me it bd mf mw mx dn mj my mz dp mn li na nb mp lm nc nd mr lq ne nf mt ng bi translated">设置路线</h2><p id="d0db" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">让我们创建三条独立的路线:<code class="fe nw nx ny no b">/parallax</code>、<code class="fe nw nx ny no b">/fade</code>和<code class="fe nw nx ny no b">/scroll</code>。打开你的<code class="fe nw nx ny no b">app-routing.module.ts</code> <em class="nm"> </em>，添加路线如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="5ad1" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">视差动画</h1><p id="0547" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">既然我们现在已经建立了项目，让我们从视差动画开始。</p><p id="e8f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在创建页面动画时，通常使用节。因此，打开您的<code class="fe nw nx ny no b">parallax.component.html</code>文件并粘贴下面的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="f80e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们给这些部分添加一些样式。因为我们将在所有三个组件中使用节，所以我们将向公共的<code class="fe nw nx ny no b"> styles.css</code> <em class="nm"> </em>文件添加样式。打开你的<code class="fe nw nx ny no b">styles.css</code> <em class="nm"> </em>文件，粘贴下面的CSS:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="09bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面，我们使截面的高度和宽度等于视口的高度和宽度。其次，我们将内容对齐到部分的中心。最后，我们正在设置文本显示的字体样式。</p><p id="2e19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于<code class="fe nw nx ny no b">parallax.component.html</code>中使用的<code class="fe nw nx ny no b">bg</code>类是针对视差的，我们将在<code class="fe nw nx ny no b">parallax.component.css</code> <em class="nm">中定义它的属性。</em>打开文件并粘贴下面CSS:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="d5da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了设置视差动画，我们需要添加一些TypeScript代码。因此，打开您的<code class="fe nw nx ny no b">parallax.component.ts</code> <em class="nm"> </em>文件，并将下面的代码添加到您的<code class="fe nw nx ny no b">ngOnInit</code>函数中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="ca77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经为解释添加了行内注释。如果你需要任何澄清，请在评论中告诉我。</p><p id="3f30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，将下面的导入添加到ts文件的顶部，这样就不会出现任何编译时错误:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="6044" class="mv me it no b gy ns nt l nu nv">import { gsap } from 'gsap';<br/>import { ScrollTrigger } from 'gsap/all';</span></pre><p id="1fa6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！你现在可以访问<a class="ae ky" href="http://localhost:4200/parallax" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/parallax</a>来看看精美的动画。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="6821" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">淡化动画</h1><p id="3590" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">对于渐变动画，打开<code class="fe nw nx ny no b">fade.component.html</code>文件并粘贴以下HTML代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="ba9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe nw nx ny no b">fade.component.css</code>中，粘贴下面的CSS:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="6ea8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将一次只显示一个部分。因此，我们隐藏了除第一部分以外的所有部分。此外，因为我们没有随着滚动移动这些部分，所以它的位置被标记为固定的。</p><p id="429a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们添加动画代码，使滚动的其他部分可见。打开<code class="fe nw nx ny no b">fade.component.ts</code>文件并粘贴以下内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="b284" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我添加了行内注释，使代码不言自明。对于任何澄清，请在下面评论。</p><p id="9ff6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">访问<a class="ae ky" href="http://localhost:4200/parallax" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/fade</a>查看滚动时平滑淡入淡出的动画。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a0c7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">幻灯片动画</h1><p id="d97d" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">这是最容易理解和实现的。打开你的<code class="fe nw nx ny no b">slide.component.html</code> <em class="nm"> </em>文件，粘贴下面的代码。它类似于<code class="fe nw nx ny no b">fade.component.html</code>，除了类从第一部分中被删除。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="c1f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不需要添加CSS。接下来，打开<code class="fe nw nx ny no b">slide.component.ts</code>文件并添加下面的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="3509" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，为了更好地理解代码，我添加了内联注释。如有任何疑问，请在下面评论。</p><p id="bdc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">打开<a class="ae ky" href="http://localhost:4200/slide" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/slide</a>在你滚动的时候可以看到一个迷人的幻灯片动画。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="06b7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="384a" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">动画在让用户留在你的网站上增加了很多价值。和所有事情一样，合理使用动画。不要用笨重的图片和古怪的动画来搞乱网站。保持简单&amp;保持微妙(KIS和KIS)。</p><p id="3336" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我们看到了如何为页面部分添加简单的视差、淡入淡出和幻灯片动画。你有什么好的动画或者知道什么有很棒的动画的网站吗？</p><p id="9d9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，非常感谢<a class="ae ky" href="https://picsum.photos/" rel="noopener ugc nofollow" target="_blank"> Lorem Picsum </a>提供了这么棒的照片。</p><p id="42ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nm">注:在GitHub </em>  <em class="nm">上可以找到整个项目</em> <a class="ae ky" href="https://github.com/shenanigan/animations-demo" rel="noopener ugc nofollow" target="_blank"> <em class="nm">。</em></a></p></div></div>    
</body>
</html>