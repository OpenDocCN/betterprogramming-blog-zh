<html>
<head>
<title>Adding a Minimalistic ReactJS UI to Your Kubernetes Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向您的Kubernetes应用程序添加一个极简的ReactJS UI</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/adding-a-minimalistic-reactjs-ui-to-your-kubernetes-application-d4e1859d312b?source=collection_archive---------14-----------------------#2022-04-05">https://betterprogramming.pub/adding-a-minimalistic-reactjs-ui-to-your-kubernetes-application-d4e1859d312b?source=collection_archive---------14-----------------------#2022-04-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="847d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ReactJS遇到Go</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/87c2cddea61a723800759599b60b3444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-VTOSIA5qH5riL3d"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@lautaroandreani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">劳塔罗·安德烈亚尼</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="fb3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以创建许多很酷的服务器应用程序，使用client-go与Kubernetes进行交互。有时我们想让我们的应用程序在视觉上吸引人，这样我们就可以轻松地执行功能，而不需要通过curl、postman等发送请求。</p><p id="d9ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇博文中，我将介绍如何向Kubernetes应用程序添加Web UI。我将在<a class="ae kv" href="https://gitlab.com/k2511/secreto-server" rel="noopener ugc nofollow" target="_blank"> Secreto-Server </a>的基础上构建，这可以在我之前的博客文章<a class="ae kv" href="https://awkwardferny.medium.com/build-test-and-automate-a-kubernetes-interfacing-application-in-go-da71e4d5aaef" rel="noopener">中看到，在Go </a>中构建、测试和自动化一个Kubernetes接口应用程序。建议您在继续之前阅读该博客。</p><p id="2c35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将讨论<a class="ae kv" href="https://gitlab.com/k2511/secreto-client" rel="noopener ugc nofollow" target="_blank"> Secreto-Client </a>，它允许通过web UI提供以下功能:</p><ul class=""><li id="a748" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">创造一个Kubernetes的秘密</li><li id="fa5a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">查看所有Kubernetes的秘密</li><li id="eae9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">描述一个库本内特的秘密</li><li id="057a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">删除Kubernetes的秘密</li></ul><p id="64ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些操作可以通过以下方式执行:</p><h2 id="8b76" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">创造一个秘密</h2><p id="e773" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">通过点击✚按钮，我们可以看到一个对话框弹出一个表格，用于输入数据，以创建一个秘密。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/744fe47aba77c18076e962178fcb0704.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*ZTq3Ez5uT6ipksz4cMFRVw.png"/></div></figure><h2 id="1b24" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">查看所有秘密</h2><p id="155a" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">应用程序一运行，所有的秘密就显示在卡片上。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/fa7b98099df53acecca0bf190184b0ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*yfNsdB1QsfPvmM_eEmBEBw.png"/></div></figure><h2 id="8529" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">描述一个秘密</h2><p id="241a" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">点击按钮可以更详细地描述一个秘密。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/d451e14ce0361dc98d6a870e7ef6deb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*LNmL5dASCPeKhaImCf60EA.png"/></div></figure><h2 id="782f" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">删除秘密</h2><p id="baf7" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">点击❌按钮可以删除秘密。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="ed49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://gitlab.com/k2511/secreto-client" rel="noopener ugc nofollow" target="_blank"> Secreto-Client </a>生成一个UI，然后根据执行的动作向<a class="ae kv" href="https://gitlab.com/k2511/secreto-server" rel="noopener ugc nofollow" target="_blank"> Secreto-Server </a>发送请求。</p><h1 id="e460" class="no mh iq bd mi np nq nr ml ns nt nu mo jw nv jx mr jz nw ka mu kc nx kd mx ny bi translated">先决条件</h1><p id="2e7f" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我们将构建服务器和客户端。服务器端代码是用Go写的，有自己的要求，客户端是用ReactJS写的代码。</p><ul class=""><li id="9d03" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React-JS </a> <strong class="ky ir"> : </strong>一个用于构建用户界面的JavaScript库。React-JS使我们可以很容易地构建一个知道最少节点数的用户界面。</li><li id="441c" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">Go:谷歌支持的开源编程语言</li><li id="ecc0" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://minikube.sigs.k8s.io/docs/" rel="noopener ugc nofollow" target="_blank"> MiniKube </a>:在macOS、Linux和Windows上快速建立本地Kubernetes集群的工具。您还需要一个虚拟化驱动程序来运行MiniKube，例如Docker、HyperV、Podman等。更多信息可在<a class="ae kv" href="https://minikube.sigs.k8s.io/docs/drivers/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。你可以使用其他类型的集群(Docker Desktop Kubernetes、GKE、AKS等。)，我用的是Minikube，因为很容易上手。</li><li id="539a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">Kubernetes知识:您应该对Kubernetes有所了解，以便理解该应用程序的用途。</li></ul><p id="c623" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们继续之前，让我们确保Minikube正在运行。我们可以通过运行以下命令来实现这一点:</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="075b" class="mg mh iq oa b gy oe of l og oh">$ minikube start</span><span id="9327" class="mg mh iq oa b gy oi of l og oh">😄  minikube v1.25.2 on Darwin 12.3 (arm64)<br/>✨  Using the podman (experimental) driver based on existing profile<br/>👍  Starting control plane node minikube in cluster minikube<br/>🚜  Pulling base image ...<br/>E0321 11:05:07.616563   66007 cache.go:203] Error downloading kic artifacts:  not yet implemented, see issue #8426<br/>🔄  Restarting existing podman container for "minikube" ...<br/>🐳  Preparing Kubernetes v1.23.3 on Docker 20.10.12 ...E0321 11:05:13.251398   66007 start.go:126] Unable to get host IP: RoutableHostIPFromInside is currently only implemented for linux<br/>▪ kubelet.housekeeping-interval=5m<br/>🔎  Verifying Kubernetes components...<br/>    ▪ Using image gcr.io/k8s-minikube/storage-provisioner:v5<br/>🌟  Enabled addons: storage-provisioner, default-storageclass<br/>💡  kubectl not found. If you need it, try: 'minikube kubectl -- get pods -A'<br/>🏄  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default</span></pre><p id="a800" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们确保minikube节点准备好了。</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="f24d" class="mg mh iq oa b gy oe of l og oh">$ minikube kubectl get nodes</span><span id="6361" class="mg mh iq oa b gy oi of l og oh">NAME       STATUS   ROLES                  AGE     VERSION<br/>minikube   Ready    control-plane,master   3m50s   v1.23.3</span></pre><h1 id="e37b" class="no mh iq bd mi np nq nr ml ns nt nu mo jw nv jx mr jz nw ka mu kc nx kd mx ny bi translated">正在加载Secreto服务器</h1><p id="c87f" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">后端可以通过以下方式加载:</p><ol class=""><li id="a34d" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr oj ly lz ma bi translated">将应用程序克隆到您的<a class="ae kv" href="https://go.dev/doc/gopath_code" rel="noopener ugc nofollow" target="_blank"> GOPATH </a></li></ol><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="8e62" class="mg mh iq oa b gy oe of l og oh">$ git clone <a class="ae kv" href="mailto:git@gitlab.com" rel="noopener ugc nofollow" target="_blank">git@gitlab.com</a>:k2511/secreto-server.git</span><span id="b055" class="mg mh iq oa b gy oi of l og oh">git clone <a class="ae kv" href="mailto:git@gitlab.com" rel="noopener ugc nofollow" target="_blank">git@gitlab.com</a>:k2511/secreto-server.git<br/>Cloning into 'secreto-server'...<br/>remote: Enumerating objects: 235, done.<br/>remote: Counting objects: 100% (232/232), done.<br/>remote: Compressing objects: 100% (121/121), done.<br/>remote: Total 235 (delta 97), reused 177 (delta 69), pack-reused 3<br/>Receiving objects: 100% (235/235), 282.99 KiB | 3.11 MiB/s, done.<br/>Resolving deltas: 100% (97/97), done.</span><span id="70d0" class="mg mh iq oa b gy oi of l og oh">$ cd secreto-server</span></pre><p id="9248" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.构建应用程序可执行文件</p><p id="dbf2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我创建了一个Makefile，这使它变得容易。一旦运行这个命令，应该会创建一个名为<strong class="ky ir"><em class="ok">secreto-server</em></strong>的新可执行文件。</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="de95" class="mg mh iq oa b gy oe of l og oh">$ make build</span><span id="b4b2" class="mg mh iq oa b gy oi of l og oh">go mod download<br/>GOOS=darwin GOARCH=arm64 go build -o secreto-server .<br/>chmod +x secreto-server</span></pre><p id="6e53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>如果您没有在M1 Mac上运行，您可能需要在<a class="ae kv" href="https://gitlab.com/k2511/secreto-server/-/blob/main/Makefile" rel="noopener ugc nofollow" target="_blank"> Makefile </a>中更改GOOS和GOARCH变量。更多详情<a class="ae kv" href="https://www.digitalocean.com/community/tutorials/building-go-applications-for-different-operating-systems-and-architectures" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="6c70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.在本地运行应用程序</p><p id="c5bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是通过在运行可执行文件时传递<code class="fe ol om on oa b">-local</code>标志来实现的。在没有<code class="fe ol om on oa b">-local</code>标志的情况下运行它，将要求应用程序在Kubernetes集群中运行，因为它使用不同的<a class="ae kv" href="https://github.com/kubernetes/client-go/tree/master/examples/in-cluster-client-configuration" rel="noopener ugc nofollow" target="_blank"> auth方法</a>。</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="548a" class="mg mh iq oa b gy oe of l og oh">$ ./secreto-server -local</span><span id="0cf7" class="mg mh iq oa b gy oi of l og oh">2022/03/20 16:18:30 KubeClient running with local configuration<br/>2022/03/20 16:18:30 Starting server on the port 8080</span></pre><p id="0981" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也可以在执行程序前通过设置<code class="fe ol om on oa b">SECRETO_PORT</code>环境变量来改变端口。</p><p id="f977" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在应用程序正在运行。让我们继续下去，并确认它的工作。我们可以通过打开另一个终端并向服务器发送请求来获得它的版本。</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="b428" class="mg mh iq oa b gy oe of l og oh">$ curl <a class="ae kv" href="http://localhost:8080/api/secreto/version" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/api/secreto/version</a></span><span id="aa8e" class="mg mh iq oa b gy oi of l og oh">{"version":1}</span></pre><p id="02b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在有一个工作的服务器了！现在让我们继续部署客户端。</p><h1 id="a603" class="no mh iq bd mi np nq nr ml ns nt nu mo jw nv jx mr jz nw ka mu kc nx kd mx ny bi translated">加载Secreto客户端</h1><p id="fbc3" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">可以通过以下方式加载客户端:</p><ol class=""><li id="97fc" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr oj ly lz ma bi translated">克隆存储库</li></ol><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="2fda" class="mg mh iq oa b gy oe of l og oh">$ git clone <a class="ae kv" href="mailto:git@gitlab.com" rel="noopener ugc nofollow" target="_blank">git@gitlab.com</a>:k2511/secreto-client.git</span><span id="5cc6" class="mg mh iq oa b gy oi of l og oh">Cloning into 'secreto-client'...<br/>remote: Enumerating objects: 109, done.<br/>remote: Total 109 (delta 0), reused 0 (delta 0), pack-reused 109<br/>Receiving objects: 100% (109/109), 6.20 MiB | 5.46 MiB/s, done.<br/>Resolving deltas: 100% (58/58), done.</span></pre><p id="da56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.下载依赖项</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="7bdd" class="mg mh iq oa b gy oe of l og oh">$ npm install --silent<br/>$ npm install react-scripts -g --silent</span></pre><p id="bd1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.运行应用程序</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="1c9d" class="mg mh iq oa b gy oe of l og oh">$ npm start<br/><br/>Compiled successfully!<br/><br/>You can now view client in the browser.<br/><br/>  Local:            http://localhost:3000/<br/>  On Your Network:  http://192.168.3.7:3000/<br/><br/>Note that the development build is not optimized.<br/>To create a production build, use npm run build.</span></pre><p id="cf0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当访问应用程序页面时，您应该会看到下面的屏幕，<a class="ae kv" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> localhost:3000 </a>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/7d9224a2826f24cd73a6c8ef183f7c83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fn4hPZ2KNsS2KHsIl5Al6A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在我的浏览器中运行的Secreto客户端</p></figure><p id="3a13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>你屏幕上显示的秘密可能会很不一样。我一直在摆弄我的Minikube集群，所以它对我来说看起来有点不同。</p><p id="6229" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想要在不同的端口上运行应用程序，只需将环境变量<code class="fe ol om on oa b">PORT</code> <strong class="ky ir"> </strong>设置为您想要运行的端口，例如:</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="0c13" class="mg mh iq oa b gy oe of l og oh">$ PORT=3001 npm start</span><span id="e770" class="mg mh iq oa b gy oi of l og oh">Compiled successfully!</span><span id="0bf4" class="mg mh iq oa b gy oi of l og oh">You can now view client in the browser.</span><span id="ae5c" class="mg mh iq oa b gy oi of l og oh">Local:            <a class="ae kv" href="http://localhost:3001/" rel="noopener ugc nofollow" target="_blank">http://localhost:3001/</a><br/>  On Your Network:  <a class="ae kv" href="http://192.168.86.24:3001/" rel="noopener ugc nofollow" target="_blank">http://192.168.86.24:3001/</a></span><span id="c046" class="mg mh iq oa b gy oi of l og oh">Note that the development build is not optimized.<br/>To create a production build, use npm run build.</span></pre><h1 id="f400" class="no mh iq bd mi np nq nr ml ns nt nu mo jw nv jx mr jz nw ka mu kc nx kd mx ny bi translated">使用语义用户界面创建视觉效果</h1><p id="664d" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">语义界面让我开始创建一个极简且视觉上吸引人的页面变得非常简单。Semantic是一个开发框架，它使用对人友好的HTML帮助创建漂亮的、响应性强的布局。</p><p id="68d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个例子是生成一个弹出窗口，如下所示，这是创建一个秘密的形式。请注意以下事项:</p><ul class=""><li id="8b4d" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">弹出式菜单是使用可读的HTML定义的</li><li id="2129" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">可以通过点击图标来触发弹出窗口，这可以通过图标的触发和点击时弹出窗口的加载来看出</li><li id="f780" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">弹出窗口中显示的内容可以指向一个可以加载更多布局的功能。在这个弹出窗口的例子中，我们加载一个表单来输入数据以生成一个新的密码。</li></ul><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="a588" class="mg mh iq oa b gy oe of l og oh">&lt;Popup        <br/>  trigger={<br/>    &lt;Icon <br/>       circular name='add'<br/>       color='grey'<br/>     /&gt;<br/>   }<br/>               <br/>   content={() =&gt; this.renderSubmitForm()}<br/>   size='large'<br/>   on='click'<br/>   position='bottom center'&gt;<br/>&lt;/Popup&gt;</span></pre><p id="c2be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">语义有这么多不同类型的对象，有这么多不同的配置。我建议看一下他们的<a class="ae kv" href="https://react.semantic-ui.com/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><h1 id="999f" class="no mh iq bd mi np nq nr ml ns nt nu mo jw nv jx mr jz nw ka mu kc nx kd mx ny bi translated">使用Axios发送请求</h1><p id="32af" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">Axios 是另一个伟大的工具，它帮助我建立了这个界面。Axios是一个基于<a class="ae kv" href="https://javascript.info/promise-basics" rel="noopener ugc nofollow" target="_blank"> <em class="ok">承诺的</em> </a> HTTP客户端，用于<code class="fe ol om on oa b"><a class="ae kv" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank">node.js</a></code>和浏览器。我使用它是为了根据ReactJs语义UI中采取的动作向<code class="fe ol om on oa b">secreto-server</code>发送请求。</p><p id="a477" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用Axios的示例如下所示:</p><ul class=""><li id="5c93" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">从状态中获取变量，这些变量由输入到用于生成秘密的表单中的内容填充</li><li id="da74" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">Axios向我定义的全局端点发送post。它使用从状态中获取的数据(<em class="ok">名称空间</em>)来填充URI的其余部分</li><li id="ebfb" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">一个主体作为第二个参数被传递，包含秘密的<em class="ok">名称</em>和<em class="ok">有效载荷</em></li><li id="457e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">标头作为第三个参数传递</li><li id="5242" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">我们记录响应并重新加载包含我们刚刚生成的新秘密的秘密</li></ul><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="20df" class="mg mh iq oa b gy oe of l og oh">    createSecret = () =&gt; {<br/>      const {name, namespace, payload} = this.state<br/>      <br/>      axios.post(this.endpoint + "/api/secreto/" + namespace,<br/>        {<br/>          "name": name, <br/>          "payload": payload<br/>        },<br/>        {<br/>          headers: {<br/>            "Content-Type": "application/x-www-form-urlencoded",<br/>          },<br/>        },<br/>        ).then(res =&gt; {<br/>          console.log(res);<br/>          this.getSecrets();<br/>      })<br/>    }</span></pre><p id="4735" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是Kubernetes界面应用程序的极简UI。请随意检查这两个项目的源代码并深入研究！</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="3370" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读，我希望这篇博客能让你开始为你的<code class="fe ol om on oa b">web-server</code>添加一个很酷的极简UI。</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="035e" class="mg mh iq oa b gy oe of l og oh"><strong class="oa ir">Want to Connect?</strong></span><span id="55ce" class="mg mh iq oa b gy oi of l og oh">You can find me on twitter <a class="ae kv" href="https://twitter.com/awkwardferny" rel="noopener ugc nofollow" target="_blank">@awkwardferny</a></span></pre></div></div>    
</body>
</html>