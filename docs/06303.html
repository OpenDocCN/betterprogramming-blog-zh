<html>
<head>
<title>Quick Tips to Use Postman Smartly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">巧妙使用邮递员的快速提示</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/quick-tips-to-use-postman-smartly-a95ca1bc67cf?source=collection_archive---------3-----------------------#2020-09-18">https://betterprogramming.pub/quick-tips-to-use-postman-smartly-a95ca1bc67cf?source=collection_archive---------3-----------------------#2020-09-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6e8d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何在你的发展中充分利用Postman</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/d622171e348ae3a15116fdd03282edaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*K9F7J4l6kAVy5W8Gc3kA5Q.png"/></div></figure><p id="f91b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Postman是最流行的API开发环境之一，不需要向API开发人员介绍。但奇怪的是，许多API开发者经常忽略它的许多关键特性，使他们的工作变得不必要的困难。在本文中，我们将讨论每个API开发人员应该了解的关键特性。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="c475" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">1.创建一个帐户并保持登录状态</h1><p id="f823" class="pw-post-body-paragraph kq kr it ks b kt ml ju kv kw mm jx ky kz mn lb lc ld mo lf lg lh mp lj lk ll im bi translated">这将保存你的历史和收藏。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="230e" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">2.使用收藏</h1><p id="161d" class="pw-post-body-paragraph kq kr it ks b kt ml ju kv kw mm jx ky kz mn lb lc ld mo lf lg lh mp lj lk ll im bi translated">将您的请求保存在<a class="ae mq" href="https://www.getpostman.com/docs/v6/postman/collections/managing_collections" rel="noopener ugc nofollow" target="_blank">集合</a>中，以便可以重用和共享。在收藏中创建文件夹，以便更好地组织。</p><p id="5629" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在“请求生成器”中输入请求，然后单击“保存”按钮打开“保存请求”模式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mr"><img src="../Images/31547aa971416d716d95a04b611a1ec2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pSqfRCUJ0y-M9x8538sZrA.png"/></div></div></figure><p id="6226" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">将此请求保存到现有集合，或通过输入集合名称创建新集合。然后，单击保存按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/b6c365889537600b85a959d2ebe48403.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*5q5MquUdnA1PTt1i-hs7WQ.png"/></div></figure><p id="9faa" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">恭喜你！您可以在左侧边栏的“收藏”标签下看到您的所有收藏，如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/f159451e91faba2516aa924377158ff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*PKyV36eyIHt9xYHnw1dIfA.png"/></div></figure></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="b2c0" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">3.使用环境</h1><p id="6f3d" class="pw-post-body-paragraph kq kr it ks b kt ml ju kv kw mm jx ky kz mn lb lc ld mo lf lg lh mp lj lk ll im bi translated">Postman允许我们创建和使用<a class="ae mq" href="https://www.getpostman.com/docs/v6/postman/environments_and_globals/intro_to_environments_and_globals" rel="noopener ugc nofollow" target="_blank">环境</a>。例如，假设您有一个运行在三种环境中的API:</p><ul class=""><li id="960d" class="my mz it ks b kt ku kw kx kz na ld nb lh nc ll nd ne nf ng bi translated"><strong class="ks iu">生产:</strong> <code class="fe nh ni nj nk b"><a class="ae mq" href="https://prod.example.com/" rel="noopener ugc nofollow" target="_blank">https://prod.example.com</a></code></li><li id="4559" class="my mz it ks b kt nl kw nm kz nn ld no lh np ll nd ne nf ng bi translated"><strong class="ks iu">测试:</strong> <code class="fe nh ni nj nk b"><a class="ae mq" href="http://test.example.com/" rel="noopener ugc nofollow" target="_blank">http://test.example.com</a></code></li><li id="e934" class="my mz it ks b kt nl kw nm kz nn ld no lh np ll nd ne nf ng bi translated"><strong class="ks iu">当地:</strong>T2】</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi nq"><img src="../Images/5d19918121b7fe057b8528f3827921ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*zdUD4tB95TYqrxkg11xfmg.png"/></div></div></figure><p id="e603" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">所以你可以创建三个邮递员环境——比如说<code class="fe nh ni nj nk b">ExampleProd</code>、<code class="fe nh ni nj nk b">ExampleTest</code>和<code class="fe nh ni nj nk b">ExampleLocal</code>。然后，在使用Postman时，您可以将当前环境设置为其中之一。</p><p id="6f58" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><em class="nr">“但是，有什么好处呢？”</em></p><p id="86da" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Postman允许您在环境中存储变量，并且您可以在请求中使用这些变量。例如，您可以在<code class="fe nh ni nj nk b">ExampleProd</code>、<code class="fe nh ni nj nk b">ExampleTest</code>和<code class="fe nh ni nj nk b">ExampleLocal</code>环境中定义一个<code class="fe nh ni nj nk b">baseUrl</code>变量，分别具有值<code class="fe nh ni nj nk b"><a class="ae mq" href="https://prod.example.com/" rel="noopener ugc nofollow" target="_blank">https://prod.example.com</a></code>、<code class="fe nh ni nj nk b"><a class="ae mq" href="http://test.example.com/" rel="noopener ugc nofollow" target="_blank">http://test.example.com</a></code>和<code class="fe nh ni nj nk b"><a class="ae mq" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a></code>。</p><p id="ac11" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">然后，如果您有一个请求的URL为<code class="fe nh ni nj nk b">{{baseUrl}}/users/5</code>，那么在执行请求时，Postman将用当前环境中的值替换<code class="fe nh ni nj nk b">{{baseUrl}}</code>。这样，只需改变Postman中的当前环境，就可以在多个环境中重用相同的请求。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="09e2" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">4.使用变量链接请求</h1><p id="e9c6" class="pw-post-body-paragraph kq kr it ks b kt ml ju kv kw mm jx ky kz mn lb lc ld mo lf lg lh mp lj lk ll im bi translated">假设您想顺序发送两个请求:</p><ul class=""><li id="8800" class="my mz it ks b kt ku kw kx kz na ld nb lh nc ll nd ne nf ng bi translated"><strong class="ks iu">登录:</strong>这将给你一个授权令牌</li><li id="e55c" class="my mz it ks b kt nl kw nm kz nn ld no lh np ll nd ne nf ng bi translated"><strong class="ks iu">更新配置文件:</strong>您将在此使用上述令牌</li></ul><p id="d7f2" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">您如何将授权令牌从第一个请求传递到第二个请求？</p><p id="c141" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">许多开发人员会手动复制令牌并将其粘贴到第二个请求中。但是Postman提供了一种更好的方法——您可以将令牌存储为环境变量，然后在后续请求中使用它。例如，要将令牌存储在变量中，您可以在第一个请求的Tests选项卡中使用如下脚本:</p><pre class="kj kk kl km gt ns nk nt nu aw nv bi"><span id="a8e2" class="nw lu it nk b gy nx ny l nz oa">if (responseCode.code === 200)</span><span id="a178" class="nw lu it nk b gy ob ny l nz oa">postman.setEnvironmentVariable("authHeader", postman.getResponseHeader("Token"));</span></pre><p id="cc41" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">上面将把<code class="fe nh ni nj nk b">Token</code>响应头的值存储在一个<code class="fe nh ni nj nk b">authHeader</code>变量中。然后，正如我们在上面的步骤3中讨论的，您可以在后续请求中使用<code class="fe nh ni nj nk b">{{authHeader}}</code>。</p><p id="1edb" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">请求链接是一个强大的特性，可以用来运行自动化测试。例如，您可以使用它对您的生产部署进行冒烟测试。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="9b75" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">5.使用动态变量生成唯一值</h1><p id="07ee" class="pw-post-body-paragraph kq kr it ks b kt ml ju kv kw mm jx ky kz mn lb lc ld mo lf lg lh mp lj lk ll im bi translated">假设您有一个注册请求，每次都需要一个唯一的新电子邮件ID。那么，每次使用请求时，您会一直手动提供新的电子邮件ID吗？</p><p id="980f" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Postman提供了一个更好的方法——你可以使用一个动态变量。Postman附带了三个动态变量，您可以在请求中使用:</p><ul class=""><li id="7c6d" class="my mz it ks b kt ku kw kx kz na ld nb lh nc ll nd ne nf ng bi translated"><code class="fe nh ni nj nk b">{{$guid}}</code>:v4样式的guid</li><li id="8a55" class="my mz it ks b kt nl kw nm kz nn ld no lh np ll nd ne nf ng bi translated"><code class="fe nh ni nj nk b">{{$timestamp}}</code>:当前时间戳</li><li id="a2e6" class="my mz it ks b kt nl kw nm kz nn ld no lh np ll nd ne nf ng bi translated"><code class="fe nh ni nj nk b">{{$randomInt}}</code>:0-1000之间的随机整数</li></ul><p id="8b64" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">所以在注册的情况下，只需使用<code class="fe nh ni nj nk b">{{$guid}}@example.com</code>作为唯一的电子邮件。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="64c4" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">6.使用预请求脚本生成可重用的唯一变量</h1><p id="cd5a" class="pw-post-body-paragraph kq kr it ks b kt ml ju kv kw mm jx ky kz mn lb lc ld mo lf lg lh mp lj lk ll im bi translated">在上面生成唯一电子邮件ID的例子中，如果您需要在后续请求中重用同一个ID，就会出现问题。例如，如果您想在注册后使用相同的电子邮件ID登录，该怎么办？</p><p id="f683" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">解决方案是使用一个<em class="nr">预请求脚本</em>，而不是动态变量，来生成电子邮件。例如，在注册请求中，您可以在“请求前脚本”选项卡中添加以下脚本:</p><pre class="kj kk kl km gt ns nk nt nu aw nv bi"><span id="f39d" class="nw lu it nk b gy nx ny l nz oa">pm.environment.set("registeredEmail", Math.floor(Math.random() * 10000000) + "@example.com");</span></pre><p id="52b5" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这将生成一个随机的电子邮件ID，并将其存储在一个<code class="fe nh ni nj nk b">registeredEmail</code>环境变量中。然后，您可以在同一个请求以及后续请求中使用<code class="fe nh ni nj nk b">{{registeredEmail}}</code>。</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="2384" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">7.将Postman用于API文档</h1><p id="135e" class="pw-post-body-paragraph kq kr it ks b kt ml ju kv kw mm jx ky kz mn lb lc ld mo lf lg lh mp lj lk ll im bi translated">Postman允许你从你的收藏中生成漂亮的API文档。<a class="ae mq" href="https://documenter.getpostman.com/view/305915/RVu2mqEH" rel="noopener ugc nofollow" target="_blank">这里有一个</a>的例子。</p><p id="4dd2" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">因此，虽然Swagger在记录API方面似乎更受欢迎，但为什么不用Postman来代替呢，至少在内部是这样的。假设您无论如何都要使用邮递员集合，这将减少您的工作量。当然也有像Springfox这样的从源代码生成API文档的框架，但是好像没有Postman那么强大。无论如何，为什么要重复自己？</p></div><div class="ab cl lm ln hx lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="im in io ip iq"><h1 id="da6b" class="lt lu it bd lv lw lx ly lz ma mb mc md jz me ka mf kc mg kd mh kf mi kg mj mk bi translated">结论</h1><p id="0cec" class="pw-post-body-paragraph kq kr it ks b kt ml ju kv kw mm jx ky kz mn lb lc ld mo lf lg lh mp lj lk ll im bi translated">综上所述，Postman提供了许多聪明的方法来高效地使用它。我在这篇文章中提到了一些基础知识，但是它也提供了许多高级特性——例如，<a class="ae mq" href="http://blog.getpostman.com/2017/12/13/keep-it-dry-with-collection-and-folder-elements/" rel="noopener ugc nofollow" target="_blank">集合级和文件夹级的变量和脚本</a>，您可以使用它们来简化您的工作。</p><p id="cbbb" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我希望你能从这本指南中学到一些东西。</p><p id="1c2f" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">感谢您的阅读，祝您编码愉快！</p></div></div>    
</body>
</html>