<html>
<head>
<title>SonarQube With OpenAI Codex</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SonarQube与开放源代码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/sonarqube-with-openai-codex-48d29bae35cb?source=collection_archive---------8-----------------------#2021-12-30">https://betterprogramming.pub/sonarqube-with-openai-codex-48d29bae35cb?source=collection_archive---------8-----------------------#2021-12-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5cd7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">可以在SonarQube中使用Open AI Codex引入一个简单的自动更正按钮吗？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/302dc66522aa3f34af616c22e7f95436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7QLg3DulC_vIJlnmcxUV3A.png"/></div></div></figure><p id="8ac2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">自从我(通过我的初创公司)接触到开放的人工智能法典以来，它一直是尝试一些次要东西的借口，这个绝对值得一篇文章！</p><p id="0e83" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最近我用SonarQube更新了管道，看看从长远来看是否有用。显然，当第一次运行它时，你会发现几十个错误(如果代码库足够大的话)。我的情况是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ln"><img src="../Images/aa7ae8dce87edb89b7375d842a9f5534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Fk8voSN7jin_menBGorQA.png"/></div></div></figure><p id="386c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里所有的错误都很容易纠正。然后我有了一个想法“法典必须能够做到这一点，对吗？至少经过适当的调整”。那么让我们来看一些用例吧！</p><h1 id="91d9" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">搭建舞台</h1><p id="7a19" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">首先，添加<strong class="kt ir">最小必要上下文</strong>会更好，或者换句话说，不要传递整个文件，只传递发生bug的那部分代码，就像函数一样。然后，你需要正确的打开Codex设置，否则，你将得不到任何有用的东西。转到<a class="ae ml" href="https://beta.openai.com/examples/default-translate-code" rel="noopener ugc nofollow" target="_blank">翻译编程语言</a>，并更改为以下文本:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/8209c3c143cff26abc66293fd3fc818d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*C6tcds0rcifDsaOlNAElYw.png"/></div></figure><p id="7c35" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这足以给它一些背景。</p><h1 id="94c2" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">用例1:反应状态变量</h1><p id="c6ec" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">这是所有方法中最基本的，图像本身就说明了一切:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/af117415f58cff0868ecbcd75dd0c04c.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*UXaFsj21k3LCEKRQceWqbg.png"/></div></figure><p id="11ff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这当然是一个拷贝/过去。从来没见过这样的事！</p><p id="e4a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们看看法典是如何解决这个问题的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/ad319d7c5c2821422cdd9b4346cf0694.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/1*orb8qwkF2iUkazSJRExW-A.gif"/></div></figure><p id="806e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">看起来不错！它保留了上下文，并且状态变量以正确的方式命名。</p><h1 id="7ec2" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">用例2:变量和空引用</h1><p id="6682" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">这个更复杂，需要一些调整。问题很简单:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/e976f9b22b3d7983937e9a84cee543fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-VvmPa05xhJCE_NlEOMVg.png"/></div></div></figure><p id="d76a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">问题是状态变量<code class="fe mq mr ms mt b">password</code> <strong class="kt ir"> </strong>从未定义(<code class="fe mq mr ms mt b">useState()</code>)开始。所以我用整个钩子试了一下，得到了这个:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/da2b9bc7a171f4db1bf8bd3192ac88b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*G_8h4zWKPI3d45_I0OuBiw.png"/></div></figure><p id="abd9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不更正！经过几次尝试，我找到了一个解决办法，给法典一些明显的线索，以创造一个更好的环境。</p><p id="c97e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，只需添加(空字符串的密码)即可:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/a13e898ce7f4cd8e1a8616d5bf06c012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/1*kQ5HFUA5c0_qm9sZxusd9Q.gif"/></div></figure><p id="afe4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如我们所看到的，名称中带有“password”的两个变量都得到空字符串。</p><h1 id="4e77" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">用例3: JSX使用错误的onClick格式调用</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/bfe1f3f5d0287711c2a1d8645913b667.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XRirPIpBK25kaP6z4C53Bw.png"/></div></div></figure><p id="16bf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们的情况让我确信我应该早点做这个“SonarQube的事情”。这可能是一个错误，或者很可能是一个初级开发人员试图关闭编译器。</p><p id="74e7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">经过几次尝试后，我可以通过在同一行中添加错误文本作为注释来使它工作:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/3182362a8bd82180172c6d51c22c2a85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yEGniI9cCx5RBUNsPv1UWw.gif"/></div></div></figure><p id="7833" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它工作得非常好，可以纠正错误并删除评论！！！</p><h1 id="01ee" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated"><strong class="ak">用例4:删除过时的代码</strong></h1><p id="ad11" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">让我们以一个纯javascript用例结束。即使我们认真对待代码审查，我们仍然会得到这样的东西:</p><p id="e4fc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这里，我们想删除评论(代码气味)，以及错误。这是一个用例，捕捉到了法典的一些限制。就我个人而言，我无法解决代码的味道。这可以用时间来完成，但可能是在bug之前的一个单独的批处理中。</p><p id="cd4a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了解决这个bug，添加(remove if/else)达到了目的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/2b93e80c2f4fe3daca6b296967cda6da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uznsMnjhj7xCuV_2HyiaYw.gif"/></div></div></figure><h1 id="976b" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated"><strong class="ak">结论</strong></h1><p id="97d1" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">我是从这个问题开始头脑风暴的，“在SonarQube中使用开放AI Codex可以引入一个简单的自动更正按钮吗？”，我的回答是响亮的<strong class="kt ir">是的。</strong>这不是一个微不足道的特性，因为需要构建一个仔细的请求消息，但是这些用例证明了一些潜力。即使有些人不同意，GTP-4还在路上，有<strong class="kt ir"> 500x </strong>更多的参数。</p></div></div>    
</body>
</html>