<html>
<head>
<title>How to Make a Range Component With RC-Slider</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用RC-Slider制作一个范围组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-make-a-range-component-with-rc-slider-526651c412ca?source=collection_archive---------5-----------------------#2022-07-26">https://betterprogramming.pub/how-to-make-a-range-component-with-rc-slider-526651c412ca?source=collection_archive---------5-----------------------#2022-07-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="63e3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这一切都始于一个LinkedIn DM</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/26a1ca9296b83c659db0e6779f8114a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UKcpy_AQVd4HmC7J0GRGfA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@lautaroandreani?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">劳塔罗·安德烈亚尼</a>在<a class="ae ky" href="https://unsplash.com/s/photos/react?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="b9b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">tk权限</p><p id="06bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，当有人在LinkedIn上给我发消息时，我正在做自己的事。Nemanja Jerinic 伸出手，说他看到了我在<a class="ae ky" href="https://stackoverflow.com/questions/60379304/implementing-slider-with-range-binded-with-the-number-input/60379926#60379926" rel="noopener ugc nofollow" target="_blank"> Stack Overflow </a>上发布的关于如何动态更新Ant Design Slider上的值的答案。</p><p id="ef8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Nemanja正在用rc-slider 做类似的工作，想看看他如何将自己的类与slider结合起来。他还在设置滑块的范围部分时遇到了麻烦，并且不能让两个手柄都可见。随后，滑块值没有正确设置。</p><p id="cef9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是预期的结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/a0485022b26c99b5bb24e08f87f98e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*Os93SstB2llYbUmYttVl2Q.png"/></div></figure><p id="ee9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是没有CSS时的样子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/75c828f8014befe21e24dd730a8b7c35.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/1*kKia8dITQQqukKI0GCi_BQ.png"/></div></figure><p id="6f9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我有一些空闲时间，决定看看他的代码。</p><h1 id="e130" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">CSS</h1><p id="4d1d" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">原来他让他的班级使用RC-slider；他只需要以不同的方式应用CSS。我将下面的代码(粗体)添加到他的CSS中，它似乎满足了他的要求。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="111a" class="mz ly it mv b gy na nb l nc nd">.rc-slider-rail { <br/>  position: absolute; <br/>  width: 100%; <br/> <strong class="mv iu"> background-color: </strong><a class="ae ky" href="https://www.linkedin.com/feed/hashtag/?keywords=%23f50c0c" rel="noopener ugc nofollow" target="_blank"><strong class="mv iu">#f50c0c</strong></a><strong class="mv iu"> !important; <br/>  /* height: 100%; */ </strong><br/>  border-radius: 6px; <br/>}  </span><span id="0785" class="mz ly it mv b gy ne nb l nc nd">.rc-slider-track {<br/>  position: absolute;<br/>  height: 100%;<br/>  border-radius: 6px;<br/>  background-color: var(--color-red) <strong class="mv iu">!important</strong>;<br/>  opacity: 100% !important;<br/>}</span><span id="4f08" class="mz ly it mv b gy ne nb l nc nd">.mka__range-alignment { <br/>  display: flex; <br/>  flex-direction: column; <br/>  justify-content: <br/>  flex-start; float: left; <br/>  <strong class="mv iu">background-color: black; <br/>  padding: 10px; </strong><br/>}  </span><span id="9396" class="mz ly it mv b gy ne nb l nc nd">.mka__range-text { <br/>  display: flex; <br/>  gap: 10px; <br/> <strong class="mv iu"> color: white;</strong> <br/>}</span></pre><p id="7643" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了一些需要<code class="fe nf ng nh mv b">!important</code>的地方和一些其他颜色和填充的变化，他的CSS非常漂亮！</p><p id="5089" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最难的是反应。</p><h1 id="b86d" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">的反应</h1><p id="fbe5" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">他的React代码看起来非常简单，尽管行为并不像预期的那样。下面是他的组件的渲染方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="0bdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是<code class="fe nf ng nh mv b">handleChange</code>的样子。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="cdc9" class="mz ly it mv b gy na nb l nc nd">handleChange = (sliderValues) =&gt; {<br/>  this.setState({ sliderValues });<br/>};</span></pre><p id="a993" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是初始状态值。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="f75a" class="mz ly it mv b gy na nb l nc nd">state = { sliderValues: [2900, 29000] };</span></pre><p id="4b02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一切似乎都是对的，但出于某种原因，有两件事是行不通的。</p><p id="19b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，滑块上只有一个手柄，而实际上应该有两个。一个控制范围的下限；另一个控制高端。</p><blockquote class="nk nl nm"><p id="8c51" class="kz la nn lb b lc ld ju le lf lg jx lh no lj lk ll np ln lo lp nq lr ls lt lu im bi translated">通过创建一个<a class="ae ky" href="https://matt-croak.medium.com/membership" rel="noopener">中型合作伙伴计划账户</a>和<a class="ae ky" href="https://matt-croak.medium.com/subscribe" rel="noopener">订阅我的电子邮件</a>，获取我所有的最新内容。:)</p></blockquote><p id="7410" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二，当我拖动手柄时，渲染值会发生这种情况…</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/565da7557cc50a7b898629ad07898a65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vHu1Mh38ALMuJCcRuWzetQ.png"/></div></div></figure><p id="e974" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您所看到的，应该是范围端点的值是空的。</p><p id="be26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么？</p><p id="12a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，在查看<code class="fe nf ng nh mv b">handleChange</code>中的<code class="fe nf ng nh mv b">sliderValues</code>时，我注意到只有一个整数，而不是一个整数数组。所以状态被设置为一个整数，而不是一个整数数组。</p><p id="ac5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着试图访问<code class="fe nf ng nh mv b">sliderValues[0]</code>和<code class="fe nf ng nh mv b">sliderValues[1]</code>的代码是<code class="fe nf ng nh mv b">undefined</code>。滑块没有被视为一个范围。</p><p id="f4e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在看了<a class="ae ky" href="https://slider-react-component.vercel.app/" rel="noopener ugc nofollow" target="_blank">医生</a>和<a class="ae ky" href="https://www.npmjs.com/package/rc-slider" rel="noopener ugc nofollow" target="_blank"> NPM </a>之后，我想不出哪里出了问题。为什么<code class="fe nf ng nh mv b">Range</code>没有被当作一个系列？为什么没有办法得到两个把手？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/3bfae367033ddf352cdb1595f7db604b.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*VHZ1dKjltFQB6tA4"/></div></figure><p id="c5b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，在以前的版本中，简单地给<code class="fe nf ng nh mv b">defaultValue</code>提供一个整数数组会告诉组件它应该作为一个范围。但现在，它只是没有削减它。出于某种原因，我在文件或NPM上找不到任何解决方案或参考资料。</p><p id="5c2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但我在Github上找到了解决方案。</p><p id="68bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我偶然发现的这个<a class="ae ky" href="https://github.com/react-component/slider/issues/825#issuecomment-1084416952" rel="noopener ugc nofollow" target="_blank"> Github线程</a>显示，就在4月份，人们还在困惑，试图修复我遇到的同样的问题。原来，对于rc-slider的版本10，<a class="ae ky" href="https://github.com/react-component/slider/issues/825#issuecomment-1084416952" rel="noopener ugc nofollow" target="_blank">解决方案</a>是给组件添加一个新的道具:<code class="fe nf ng nh mv b">range</code>。</p><p id="1185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参见下面更新的<code class="fe nf ng nh mv b">Range</code>代码。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="607a" class="mz ly it mv b gy na nb l nc nd">&lt;Range  <br/>  <strong class="mv iu">range</strong><br/>  onChange={this.handleChange}<br/>  defaultValue={[2900, 29000]}<br/>  min={2900}<br/>  max={29000}<br/>/&gt;</span></pre><p id="7232" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过包含这个属性(并且不将它的值指定为除了<code class="fe nf ng nh mv b">true</code>之外的任何值)，一切都按预期工作。</p><p id="a5cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是最终结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/ba9fb9845ddf2c54f39f833f6fbaf42e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A0ZNUqMXr0KOassJ0ArP6A.png"/></div></div></figure><p id="c639" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于代码来说，困难的解决方案往往是如此简单。</p><p id="27ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他将需要添加更多的样式修正，使它看起来更像他正在做的，但这似乎大大减轻了负担。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/a6935d474bc0cce2b5081214c5dbc856.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*PstOcYcH6zRADEA2ZyBKBQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这里的一切总是让我开心</p></figure><p id="def6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他想回报这个人情，但老实说，受托在LinkedIn上帮助一个完全陌生的人，并找出一个错误的根源，这已经足够了。</p><p id="9ce2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然，当我告诉他我正在写一篇关于它的帖子时，他确实提出在社交媒体上分享它，这总是令人感激的(提示提示)。</p><p id="5f55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">亲爱的读者，如果你需要任何与代码相关的帮助，请随时在LinkedIn上给我发消息！我很乐意尽我所能提供帮助:)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/188f54cbdad8bda0849455b7a53c38d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*IFNRjHCIKmas-Aee"/></div></figure><p id="3569" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有，一定要在LinkedIn 上和<a class="ae ky" href="https://www.linkedin.com/in/nemanjajerinic/" rel="noopener ugc nofollow" target="_blank"> Nemanja联系！</a></p><blockquote class="nk nl nm"><p id="44db" class="kz la nn lb b lc ld ju le lf lg jx lh no lj lk ll np ln lo lp nq lr ls lt lu im bi translated">这个项目的源代码可以在<a class="ae ky" href="https://codesandbox.io/s/unruffled-lumiere-pt80w6" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></blockquote></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><p id="8b7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有什么需要另一双眼睛盯着的代码吗？请在评论中告诉我！</p><p id="254e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://matt-croak.medium.com/membership" rel="noopener"> <em class="nn">升级您的免费Medium会员资格</em> </a> <em class="nn">并接收来自各种出版物上数千名作家的无限量无广告故事。这是一个附属链接，你的会员资格的一部分帮助我为我创造的内容获得回报。</em></p><p id="76e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nn">您也可以通过电子邮件</em> <a class="ae ky" href="https://matt-croak.medium.com/subscribe" rel="noopener"> <em class="nn">订阅，当我发布新内容时，您会收到通知！</em></a></p><h1 id="54fd" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">参考</h1><div class="od oe gp gr of og"><a href="https://www.linkedin.com/in/nemanjajerinic/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">波斯尼亚和黑塞哥维那塞尔维亚共和国多博伊大学</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">我一直对电脑很着迷，我的梦想是坐在笔记本电脑上一边喝咖啡，一边为小…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.linkedin.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://stackoverflow.com/questions/60379304/implementing-slider-with-range-binded-with-the-number-input/60379926#60379926" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">实现范围与数字输入绑定的滑块</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">我修改了您确定输入的最大/最小值的方式，并添加了ant提供的范围属性…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">stackoverflow.com</p></div></div><div class="op l"><div class="ov l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://www.npmjs.com/package/rc-slider" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">rc滑块</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">React npm的滑块UI组件开始，然后转到http://localhost:8000在线示例…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.npmjs.com</p></div></div><div class="op l"><div class="ow l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://slider-react-component.vercel.app/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">遥控滑块遥控滑块</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">编辑描述</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">slider-react-component . vercel . app</p></div></div></div></a></div><div class="od oe gp gr of og"><a href="https://github.com/react-component/slider/issues/825#issuecomment-1084416952" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">模块“rc-slider”没有导出的成员“Range”问题#825反应组件/滑块</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="ox l or os ot op ou ks og"/></div></div></a></div><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy nj l"/></div></figure></div></div>    
</body>
</html>