<html>
<head>
<title>Handle Sensitive Data Securely with Skyflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Skyflow安全处理敏感数据</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/handle-sensitive-data-securely-with-skyflow-8c626751e1a?source=collection_archive---------17-----------------------#2022-04-25">https://betterprogramming.pub/handle-sensitive-data-securely-with-skyflow-8c626751e1a?source=collection_archive---------17-----------------------#2022-04-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="df88" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">PCI、PII、PHI等等！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/62b57e94d8912e99f49e4e5e861f504f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5UOfEzMn7dbNdQ3p"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@moneyphotos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> olieman.eth </a>拍摄的照片</p></figure><p id="0053" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何处理敏感数据的公司都需要将安全性放在首位。敏感数据可能包括信用卡信息等支付卡行业(PCI)数据、社会安全号码等个人身份信息(PII)、病历等受保护的健康信息(PHI)等。</p><p id="f1bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">PCI、PII和PHI？说到数据安全，这仅仅是个开始。数据需要在传输、使用和存放过程中保持安全。您需要确保对身份验证和授权进行适当的访问控制。您还需要维护数据机密性、数据完整性和数据可用性。当您需要跨系统复制数据时，这可能会更加复杂。</p><p id="8eba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这一切听起来令人生畏，您应该考虑使用数据隐私保险服务来帮助满足您的安全需求。不是每家公司都雇得起安全和数据隐私专家团队，这没关系。不可以的是偷工减料。“购买，不要构建”是你在处理应用程序中相对于公司主要关注点来说次要的关键部分时应该采用的口头禅。</p><p id="1de3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将带您浏览一个简单的安全信用卡存储应用程序演示，我是使用<a class="ae ky" href="https://www.skyflow.com/" rel="noopener ugc nofollow" target="_blank"> Skyflow的数据隐私库</a>构建的。我们将了解外包您的数据隐私需求的一些好处，以便您可以专注于公司的核心产品，同时仍然保持安全性和合规性。</p><p id="cc7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="75df" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">演示应用程序:结账页面</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/3d8fd4e2f6aff16052e4c8df51399592.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*H7r-_APxDi-Hg-Wi"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">演示应用程序:结账页面</p></figure><p id="fe1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您是一家电子商务公司，用户在您的在线商店购物时正在进行购买。他们来到你的结账页面，需要输入他们的信用卡信息。您希望确保安全地处理他们的信用卡信息，并且您还希望存储他们的信用卡信息，以便他们下次使用您的网站时可以保存这些信息。</p><p id="7241" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里需要记住几个重要的注意事项:</p><p id="5db2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，数据在传输、使用和存放时都需要安全。这意味着使用SSL/TLS (HTTPS而不是HTTP)通过网络发送信用卡信息，并对数据库中的数据进行加密，而不是以纯文本形式存储。</p><p id="3da7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还需要确保适当的访问控制到位，这意味着一旦数据被存储，只有合适的人才能访问它。</p><p id="1406" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当谈到完整性和可用性时，您需要确保数据被正确存储并且不会被无意中修改，并且当有人需要检索数据时，数据必须是可用的。</p><p id="ef45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些只是为了符合PCI标准而需要满足的一些要求。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6743" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用Skyflow的SDK快速跟踪演示应用程序</h1><p id="fb69" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在构建我的结账页面时，我使用了<a class="ae ky" href="https://github.com/skyflowapi/skyflow-js" rel="noopener ugc nofollow" target="_blank"> Skyflow JavaScript SDK </a>来提供UI中的表单字段元素。这些元素是在iframess中实现的，iframe将它们与我的前端应用程序的其余部分分开，这降低了我的风险。当用户输入他们的信用卡信息并提交表单时，前端Skyflow API请求将数据发送到我的<a class="ae ky" href="https://docs.skyflow.com/create-a-vault/" rel="noopener ugc nofollow" target="_blank"> Skyflow数据隐私库</a>。</p><p id="887e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">服务器用一个惟一的ID和表示存储的信用卡信息的令牌化数据来响应。这意味着，除了不接触我的应用程序的前端，信用卡数据也不会接触我的应用程序的后端，进一步降低了我的风险。然后，标记化的数据可以存储在我自己的数据库中。这意味着我根本没有直接存储信用卡信息，只是对它的标记化引用。</p><p id="7921" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们深入研究代码，看看我是如何构建的。所有的代码都可以在GitHub 上找到<a class="ae ky" href="https://github.com/thawkin3/skyflow-demo" rel="noopener ugc nofollow" target="_blank">,如果你愿意的话。</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="05eb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建信用卡表单</h1><p id="a37c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我的应用程序是用Node.js和Express后端以及普通的JavaScript前端构建的。所以没有前端框架——只有一些简单的HTML、CSS和JS。</p><p id="8bbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建信用卡表单相对简单，只需要几个步骤。高级功能及其顺序如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="f41f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们一步一步地走过这些步骤。</p><p id="9f9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我使用我的保险库ID、保险库URL和一个助手函数初始化我的Skyflow客户端，以获取用于身份验证的不记名令牌:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="ace1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以从您的Skyflow帐户中获取保管库ID和保管库URL。我按照<a class="ae ky" href="https://docs.skyflow.com/core-api-quickstart/" rel="noopener ugc nofollow" target="_blank">核心API快速入门指南</a>创建了我的第一个vault。为了简洁和避免重复，我邀请您查看本部分指南中的步骤。</p><p id="4ceb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其次，我创建了一个容器来保存我的表单字段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="a1cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们在容器内部创建元素之前，容器本身不会做任何事情，所以我们现在就开始。</p><p id="f16b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第三，我创建表单字段来收集用户的信用卡信息。这包括持卡人的姓名、信用卡号和信用卡到期日:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="abf7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第四，我将表单域元素安装到DOM上。这就是将iframes插入到占位符容器中，以便表单字段实际出现在UI中的原因:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="ca0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第五，也是最后一点，我向我的<strong class="lb iu">提交</strong>按钮添加了一个事件监听器。现在，当提交表单时，会发出一个API请求，将用户的信用卡信息安全地存储在我的Skyflow vault中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="0d37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">差不多就是这样！这些步骤强调了使用Skyflow JavaScript SDK所需的核心代码片段。如果您需要完整的工作解决方案，请参考GitHub 上的<a class="ae ky" href="https://github.com/thawkin3/skyflow-demo" rel="noopener ugc nofollow" target="_blank">库，特别注意<code class="fe nc nd ne nf b">public</code>目录中的<code class="fe nc nd ne nf b">index.html</code>和<code class="fe nc nd ne nf b">script.js</code>文件。</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6f85" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结账页面演示</h1><p id="e5e8" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">现在我们已经对如何构建结帐页面有了基本的了解，让我们来看看它的实际操作吧！用户输入他们的信用卡信息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/1d54d8f606037f56f5adff3b4e088319.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bYoQj741_3mQ8RK4"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">输入您的信用卡信息</p></figure><p id="fee6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后用户点击<strong class="lb iu">提交</strong>按钮，这将触发一个API请求来保存信用卡数据并返回一个Skyflow ID:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/a8477ada69acf4fc16aaa18fb4f93d98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XrN2AU_e91Gywj18"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">提交信用卡信息以存储令牌化数据</p></figure><p id="a129" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在这里显示了Skyflow ID，以便在演示中容易看到，但您应该注意，这并不是您想要或需要在用户界面中向您的用户显示的内容。</p><p id="68a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们查看响应数据，我们可以看到我们的每一条敏感数据都被标记化，或者替换为一个标记值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/5b623ba047645705895133955730718d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7r3hETPeqOJtPoe2"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Skyflow API响应</p></figure><p id="b642" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们查看我们的Skyflow vault，数据如下所示。请注意，默认情况下，它会被编辑和屏蔽，以保护具有保管库访问权限的应用程序的敏感数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/57c99be4515f7da6e3a690d4886cb619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SpbUyLuUSyP3SlsQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有编辑和屏蔽数据视图的Skyflow vault</p></figure><p id="5c75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果需要，像我们这样的管理员用户也可以选择以纯文本方式查看数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/74c6a943700260acce4d44b1040d95d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Gnpl8ltmf5yoPxzP"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带纯文本视图的Skyflow vault</p></figure><p id="94d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一步，我们可以将该记录的Skyflow ID存储在我们自己的数据库中。将来，我们可以使用该ID来请求标记化的数据并将其去标记化。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e18c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="77d1" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们今天讲了很多！除了数据隐私和安全101课程之外，我们还将Skyflow视为一种可能的解决方案，可以帮助我们满足数据隐私需求。Skyflow提供了您需要的一切，包括访问控制、加密和令牌化。其解决方案符合SOC2、HIPAA和PCI标准，甚至支持<a class="ae ky" href="https://www.skyflow.com/solutions/solutions-data-residency" rel="noopener ugc nofollow" target="_blank">数据驻留</a>，这是大多数数据隐私法中包含的常见要求。此外，通过将PCI数据存储在保险库中，而不是直接使用Stripe或Braintree等支付处理器，您可以<a class="ae ky" href="https://www.skyflow.com/post/build-for-frictionless-growth-by-avoiding-pci-data-lock-in" rel="noopener ugc nofollow" target="_blank">避免供应商锁定</a>，甚至可以使用多个支付处理器来帮助您更好地适应各种市场。</p><p id="5dfd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，要实施最佳实践，您不需要成为数据隐私专家。创业公司、小型团队，甚至中型到企业级的公司都可以从产品核心功能之外的外包需求中受益。将这类工作交给领域专家可以让您专注于业务的核心部分。</p></div></div>    
</body>
</html>