# JavaScript 中运算符、表达式和语句的综合指南

> 原文：<https://betterprogramming.pub/the-comprehensive-guide-to-operators-expressions-and-statements-in-javascript-8da6289b763e>

## 深入探究我们习以为常的符号和运算符

![](img/731b12b419e7d6af9312f578c37b3a84.png)

照片由[克里斯托弗·罗宾·艾宾浩斯](https://unsplash.com/@cebbbinghaus?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

JavaScript 程序是操作符、表达式和语句的组合。它们让我们操纵和改变数据，进行计算，比较数值，以及做更多的事情。

表达式是计算出一个值的代码。示例表达式包括像`3 + x`和`a*b`这样的东西。语句是执行动作的代码。例如，像`if`和`switch`这样的循环和条件代码就是语句。哪里可以写语句，哪里也可以写表达式，但反过来就不成立。

# 运算符优先级

运算符是允许您组合和计算值的特殊符号。它们也存在于所有的 JavaScript 表达式中。它们有很多，它们的顺序很重要。这就是为什么我们在 JavaScript 中有运算符优先级规则。

下面是 JavaScript 中运算符的完整列表，从高到低排列。较高的在较低的之前被评估。下面的列表从优先级 20(最高)到优先级 1(最低)排序。

大多数操作符也有结合律，和数学中的意思一样。这意味着，当你以任何你想要的方式对给定运算符重复完成的相同结果进行分组时，你会得到相同的结果，例如当你将三个数字相乘时，`(a*b)*c === a*(b*c)`。

*   分组运算符:`(...)`，优先级 20，示例:`(a+b)`
*   成员访问:`...,...`，优先级 19，从左到右关联，示例:`a.b`
*   计算成员访问(以字符串作为键访问对象属性)`...[...]`，优先级 19，从左到右关联，示例:`a['b']`
*   `new`带参数列表的运算符，`new ... (...)`，优先级 19，示例:`new Bird('small')`
*   可选链接:`?.`，优先级 19，从左到右关联，示例:`a?.b`
*   `new`无参数列表运算符:`new …`，从右到左关联，示例:`new Bird`
*   后缀增量:`…++`，优先级 17，例如:`x++`
*   后缀减量:`…--`，优先级 17，举例:`x--`
*   `typeof`运算符:`typeof …`，优先级 16，
    从右到左关联，示例:`typeof x`
*   逻辑非:`!...`，优先级 16，从右到左关联，示例:`!x`
*   按位非:`~...`，优先级 16，从右到左关联，示例:`~x`
*   一元加号:`+...`，优先级 16，从右到左关联，示例:`+x`
*   一元否定:`-...`，优先级 16，从右到左关联，示例:`-x`
*   前缀增量:`++..`，优先级 16，关联从右到左，示例:`++x`
*   前缀减量`--..`，优先级 16，关联从右到左，示例:`--x`
*   `void`运算符:`void …`，优先级 16，从右到左关联，示例:`void(0)`
*   `delete`运算符:`delete...`，优先级 16，从右到左关联，示例:`delete a.b`
*   `await`运算符:`await...`，优先级 16，从右到左关联，示例:`await promise`
*   取幂:`...**...`，优先级 15，从右到左关联，示例:`a**b`
*   乘法:`...*...`，优先级 14，关联从左到右，示例:`a*b`
*   除法:`.../...`，优先级 14，关联从左到右，示例:`a/b`
*   余数:`...%...`，优先级 14，从左到右关联，示例:`a % b`
*   加法:`...+...`，优先级 13，从左到右关联，示例:`a + b`
*   减法:`...-...`，优先级 13，关联从左到右，示例:`a — b`
*   按位左移:`...<<...`，优先级 12，关联从左到右，示例:`a << b`
*   按位右移:`...>>...`，优先级 12，关联从左到右，示例:`a >> b`
*   按位无符号右移:`...>>>...`，优先级 12，关联从左到右，示例:`a >>> b`
*   小于:`...<...`，优先级 11，，关联从左到右，示例:`a < b`
*   小于或等于:`...<=...`，优先级 11，，关联从左到右，示例:`a <= b`
*   大于:`...>...`，优先级 11，，关联从左到右，示例:`a >b`
*   大于或等于:`...>=...`，优先级 11，，关联从左到右，示例:`a >= b`
*   `in` : `...in...`，优先级 11，，关联从左到右，示例:`a in b`
*   `instanceof` : `...instanceof...`，优先级 11，关联从左到右，示例:`a instance Bird`
*   相等:`...==...`，优先级 10，关联从左到右，示例:`a == b`
*   不等式:`...!=...`，优先级 10，，关联从左到右，示例:`a != b`
*   严格相等:`...===...`，优先级 10，关联从左到右，示例:`a === b`
*   严格不等式:`...!==...`，优先级 10，关联式从左到右，示例:`a !== b`
*   按位 AND: `...&...`，优先级 9，从左到右关联，示例:`a & b`
*   按位异或:`...^...`，优先级 8，从左到右关联，示例:`a ^ b`
*   按位 OR: `... | ...`，优先级 7，从左到右关联，示例:`a | b`
*   逻辑 AND: `...&&...`，优先级 6，从左到右关联，示例:`a && b`
*   逻辑 OR: `...||...`，优先级 5，从左到右关联，示例:`a || b`
*   条件运算符:`… ? … : …`，优先级 4，从右到左关联，示例:`a ? b : c`
*   所有赋值运算符`… = …`、`… += …`、`… -= …`、`… **= …`、`… *= …`、`… /= …`、`… %= …`、`… <<= …`、`… >>= …`、`… >>>= …`、`… &= …`、`… ^= …`、`… |= …`、优先级 3、从右到左关联，示例:`a = b`、`a += b`、`a -= b`、`a *= b`、`a /= b`、`a %= b`
*   `yield`和`yield*`运算符，优先级 2，从右到左关联，示例:`yield x`、`yield* x`
*   逗号/序列运算符:`...,...`，优先级 1，从左到右关联，示例:`a, b`

## 圆括号

圆括号允许我们将希望在其他事情之前被求值的表达式组合在一起。这也使得阅读结束语比不在括号中分组表达式要清楚得多。

为了将括号中的表达式分组，我们写为:

```
let a = (1 + 2) * (1 / 2); // 1.5
let a = (1 + (2 * 1)) / 1; // 3
let a = ((1 + 2) *1) / 2; // 1.5
let a = 1 + ((2 * 1) / 2); // result: 2
```

![](img/414c3d98f33a52fde6d3925efb0f09e7.png)

由[布鲁克斯·莱比](https://unsplash.com/@baleibee?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

# 运算符的含义

从上面的列表中我们可以看到，JavaScript 有很多操作符。

## 赋值运算符

赋值运算符用于给变量赋值。它从右向左读。例如，`let a = 1`将变量`a`的值设置为 1。我们也可以通过编写:`let a = b = c = 1`在一行中有多个赋值操作符。这样，我们将`a`、`b`和`c`的值赋给值 1。同样，我们从右向左阅读表达式。首先给`c`赋值 1，然后给`b`赋值`c`，其值为 1，最后给`a`赋值`b`，其值为 1。

所有的赋值操作符可以像我们上面做的那样链接在一行中。假设我们写道:

```
let b = 1;
let a = b += c = 1;
```

我们首先设置 1 为第一行中`b`的值。然后在第二行中，我们将`c`的值设置为 1。然后我们把`b`的值增加`c`，也就是 1，`b`变成 2，然后赋给`a`，它也得到了值 2。

## 比较运算符

比较运算符用于比较对象的值。

我们有以下比较运算符:

*   相等运算符(`==`)，只比较对象的内容，不比较类型:`==`。例如，`3 == 3`可能是`true`，`3 == '3'`也可能是`true`。
*   不等式运算符(`!=`)，也是只比较对象的内容，不比较类型。例如， `1 != 1`将是`false`,`1 != '1'`也将是`false`。
*   严格相等运算符(`===`)，比较对象的内容和类型是否相等。例如，`1 === “1”`会是`false`，而`1 === 1`会是`true`。
*   严格不等式(`!==`)，比较对象的内容和类型是否不相等。例如，`3 !== “3”`可能是`true`，而`3 !== 3`可能是`false`。
*   大于运算符(`>`)，比较两个数字的值，如果大于号左边的数字大于右边的数字，则计算结果为`true`。例如，`7 > 2`就是`true`。
*   大于或等于运算符(`>=`)，比较两个数字的值，如果大于号左边的数字大于或等于右边的数字，则计算结果为`true`。例如，`1 >= 1`就是`true`。
*   小于运算符(`<`)，比较两个数字的值，如果大于号左边的数字小于右边的数字，则计算结果为`true`。例如，`1< 2`就是`true`。
*   小于或等于运算符(`<=`)，比较两个数字的值，如果大于号左边的数字小于或等于右边的数字，则计算结果为`true`。例如，`1 <= 1`可能是`true`。

## 算术运算符

算术运算符，顾名思义，对操作数进行数学运算并返回结果。

我们有以下算术运算符:

*   加法(`+`):将两个数相加。例如`a = 1 + 2`
*   减法(`-`):两个数相减。例如`a = 1 — 2`
*   乘法(`*`):将两个数相乘。例如`a = 1 * 2`
*   除法(`/`):将两个数相除。例如`a = 1 /2`
*   余数(`%`):获取一个数除以另一个数的余数。例如:`5 % 2 // 1`
*   增量(`++`):将一个数字增加 1。例如:`let x = 1; x++ // x is 2`
*   减量(`--`):将一个数减 1。比如:`let x = 1; x-- // x is 0`

## 字符串运算符

只有一个操作字符串的操作符。那是连接运算符，也用`+`符号表示。当您连接两个字符串时，您将两个字符串合并为一个。例如，`'a' + 'b'`将评估为`'ab'`。

## 按位运算符

按位运算符将操作数转换为位。然后将运算符应用于每一位，并转换回其原始形式。负数用 2 的补码表示。二进制数的补码意味着这个数是它的 2 的 n 次方的补码，二进制数的补码是这样一个数，当加在一起时，你得到的全是零。所以`010`的二进制补码是`110`，因为`010 + 110`是`1000`。最左边的数字是 0，它右边的三个数字都是 0。

以下是 JavaScript 中的按位运算符:

*   按位 AND —左操作数的每位与右操作数的相应位进行 AND 运算。所以如果同一个位置的比特都是 1，那么它就是 1；否则就是 0。例如，如果我们有表达式`5 & 2`，那么 JavaScript 解释器会将操作数转换成二进制，也就是`0101 & 0010`。然后，在对每个位应用`&`操作后，我们得到`0000`，它是 0。
*   按位 OR —左操作数的每位与右操作数的相应位进行 OR 运算。例如，如果我们有表达式`5 | 2`，那么 JavaScript 解释器将把操作数转换成二进制，也就是`0101 | 0010`。然后在对每个位应用`&`操作后，我们得到`0111`，也就是 7。
*   按位异或—左操作数的每个位与右操作数的相应位进行异或运算。例如，如果我们有表达式`5 ^ 2`，那么 JavaScript 解释器将把操作数转换成二进制，也就是`0101 ^ 0010`。然后在对每个位应用了`&`操作后，我们得到`0111`，也就是 7。
*   按位非—对操作数的位执行非运算。例如，如果我们有表达式`~5`，那么 JavaScript 解释器会将操作数转换成二进制，也就是`~0101`。然后在对每一位应用`~`运算后，我们得到`1010`，它是-6。
*   左移运算符，它将左操作数的位向左移动右操作数给定的位数，并从右移零。例如，`2 << 1`将是`4`，因为 2 的二进制表示是`10`。如果我们将它向左移动一个位置，并将一个 0 移动到 1 的数字，那么我们得到`100`，也就是 4。
*   右移位运算符，将左操作数的位向右移位右操作数给定的位数，并删除移位的位。例如，`2 >> 1`将是 1，因为 2 的二进制表示是`10`。如果我们将它向左移动一个位置，并将一个 0 移动到 1 的数位，那么我们得到`1`，它是 1。
*   零填充右移位运算符，它将左操作数的位向右移位右操作数给定的位数，删除移位的位，并用零填充左位。例如，`2 >>> 1`将是 1，因为 2 的二进制表示是`10`。如果我们将它向左移动一个位置，并将 0 移动到 1 的数字，那么我们得到`01`，它是 1。

## 逻辑运算符

逻辑运算符对于创建布尔变量很有用。JavaScript 中有三个逻辑运算符。

我们有`&&`操作符，当左操作数为真时，它返回右操作数。否则，它返回一个 falsy 值。例如，`'' && 1`将是````，因为空字符串是 falsy。

当左操作数为真时,`||`运算符将返回左操作数。否则，它返回正确的。例如，`7 || 1`将是 7，因为 7 是真值，所以它返回第一个真值 7。另一方面，`'' || 1`将返回 1，因为空字符串是 falsy，所以它将返回第二个操作数 1。这对于设置变量的默认值也很方便。

如果操作数为真，则由`!`表示的 NOT 运算符返回`false`，反之亦然。例如，`!1`将返回`false`，而`!0`将返回`true`。

## 其他操作员

JavaScript 有许多其他操作符。一些方便的操作符包括条件操作符、逗号操作符、`delete` 操作符、`instanceof`操作符、`new` 操作符、`typeof` 操作符、`this`、`await`、析构和扩展操作符。

条件运算符允许我们在一行中编写条件语句。它由一个问号表示，用冒号分隔条件为真和为假时的返回值。例如，如果我们有下面的表达式:

```
let biggerThan5 = x > 5 ? 'bigger than 5' : 'less than 5'
```

如果`x`是 6，那么`biggerThan5`就是`true`。如果`x`为 1，则`biggerThan5`为`false`。

逗号操作符允许我们在一行中声明多个变量。例如，如果我们写:

```
let a = 1, b = 2;
```

然后`a`设置为 1，`b`设置为 2。无论有没有括号，两个变量的设置表达式总是分开计算的。

操作符让我们从一个对象或者一个数组中删除一个属性。例如，假设我们有:

```
let a = {foo: 'bar'};
delete a.foo
```

然后`a`变成一个空对象，因为属性`foo`被`delete`语句删除了。

对于数组，我们可以写:

```
let arr = [1,2,3];
delete a[1];
```

然后`a[1]`变成了`undefined`。

使用`in`操作符，我们可以检查给定数组中是否存在指定的值。它对于数字、布尔值和字符串来说非常方便。

例如，假设我们有:

```
let arr = [1,2,3];
```

那么`3 in arr`就是`true`。它不能很好地处理对象，因为它不比较对象内部的内容，只是检查引用是否相同。

操作符让我们检查对象的类型是否是给定的类型。例如，假设我们有:

```
let a = 'abc';
```

那么`a instanceof String`就是`true`，因为`a`是一个字符串。

操作符让我们创建一个对象的新实例。所以我们可以做:

```
let date = new Date()
```

如果我们要创建一个新的`Date`对象，它是所有支持 JavaScript 的浏览器中的内置对象。

`this`是获取实例属性的特殊操作符，这取决于`this`的位置。

`typeof`操作符返回一个字符串，它是对象类型的名称。例如，如果我们有:

```
let a = 'abc';
```

那么`typeof a`就是``string’`。

`await`操作符让我们在不使用`then`函数并向其传递回调的情况下链接承诺。在解析了`await`操作符的操作数中的承诺后，它返回一个承诺。

一个非常有用的操作符是 spread 操作符，它允许我们将数组的条目设置到单个变量中，并且还可以从一个对象向另一个对象添加或更新属性。这个操作符也处理函数调用。用`...`表示。例如，我们可以编写下面的代码来将数组`num1`中的数字放入`num2`:

```
let num1 = [1,2]
let num2 = [3,4,5, ...num1] // [3,4,5,1,2]
```

要在函数中使用它，我们可以写:

```
const sum = (a,b) => a + b;
sum(...num1) // returns 3
```

如果数组中的条目数多于函数中的参数数，那么它会忽略超出函数中参数数的数组索引。例如，如果您在`sum`中展开`num2`而不是`num1`，您将得到 7，因为`a`将是 3 而`b`将是 4。如果少一些，那么超出数组长度的参数将是`undefined`。例如，如果你将`[1]`展开成`sum`的自变量，你会得到`NaN`，因为 1 + `undefined`是`NaN`。

另一个非常有用的操作符是析构操作符，它允许您将对象和数组分解成单独的变量。例如，如果我们写:

```
let [one, two] = [1,2]
```

那么`one`将会是 1 而`two`将会是 2。对于物体，如果我们写:

```
let {foo, bar} = {foo: 1, bar: 2}
```

那么变量`foo`的值为 1，变量`bar`的值为 2。

# 组合运算符

我们可以将赋值操作符与所有数学操作符结合起来，包括算术操作符和位运算符。比如我们把`x`设为 1，把`y`设为 2，想把`x`设为`x`和`y`之和，就写`x += y`，和`x += y`一样。

JavaScript 有很多操作符。它们允许我们做很多事情。除了像循环和条件语句之外，几乎所有重要的程序都需要以多种方式和位置组合所有这些操作符。