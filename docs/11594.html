<html>
<head>
<title>Windows Users Rejoice! There’s a Native Redis With ACL and TSL Support Ready for Use Now</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Windows用户欢欣鼓舞！现在已经有一个带有ACL和TSL支持的本地Redis可以使用了</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/windows-users-rejoice-theres-a-native-redis-with-acl-and-tsl-support-ready-for-use-now-17d5ef8c6c40?source=collection_archive---------15-----------------------#2022-04-01">https://betterprogramming.pub/windows-users-rejoice-theres-a-native-redis-with-acl-and-tsl-support-ready-for-use-now-17d5ef8c6c40?source=collection_archive---------15-----------------------#2022-04-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="000f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Memurai刚刚发布了3.0版本，完全兼容Redis 6.0</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/617817f7a718b86bd8bb9f6a44de157f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jafo3QDSekZ4a505vCm__A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/s/photos/happy-computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@windows?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">窗口</a>拍摄</p></figure><p id="063e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与Redis 6.0完全兼容的<a class="ae ky" href="https://www.memurai.com/" rel="noopener ugc nofollow" target="_blank">Memurai’</a>s<a class="ae ky" href="https://www.memurai.com/blog/announcing-memurai-3" rel="noopener ugc nofollow" target="_blank">version 3.0</a>的发布标志着Windows用户寻求获得后者所包含的新安全功能的重大突破。作为一个原生的Windows应用程序，<a class="ae ky" href="https://www.memurai.com/" rel="noopener ugc nofollow" target="_blank"> Memurai </a>将提供这些开箱即用的功能，而无需您解决限制或不兼容问题。</p><p id="2243" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">两个主要的更新是通过ACL合并了用户管理，以及增加了对TLS 1.2的支持。</p><p id="1cf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来分析它们，以了解它们的实际影响范围。</p><h1 id="5494" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用TLS 1.2保护客户端-服务器连接</h1><p id="b3d1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在这个版本的<a class="ae ky" href="https://www.memurai.com/" rel="noopener ugc nofollow" target="_blank">Memurai</a>和Redis之前，还没有本地的方法来支持数据库服务器和与之交互的多个客户机之间的安全连接。</p><p id="394d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">TLS协议允许在客户端和服务器之间创建安全的连接。加密连接不可能被外部监听，这使得它成为具有高安全性要求的应用程序的理想解决方案。</p><p id="7356" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此类应用包括银行解决方案等平台，在这些平台上，信用卡号、银行账户信息和其他细节等信息不会以任何方式泄露。或者甚至是医疗保健行业，在这些行业中，患者信息需要保密以遵守法规。</p><p id="5b5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，在这些(以及类似的)行业中使用Redis解决方案是相当困难的，因为将它添加到他们的架构中会增加一个潜在的安全漏洞。</p><p id="14ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，开发团队可以采取变通办法来确保数据的安全性，但是额外的努力并不总是值得的。<br/>现在，这一额外的安全层使得在这些情况下再次谈论Redis成为可能，为陈旧过时的行业带来了最先进的技术(想想这些行业如何在大多数时候需要更多地考虑安全而不是技术)。</p><h1 id="701a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">通过ACLS向Redis添加用户控制</h1><p id="ff06" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">为了与安全主题保持一致，访问控制列表(或ACL)的添加是向提供一个存储数据的更安全的生产环境迈出的又一大步。</p><p id="7036" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，Redis提供的唯一安全机制是您必须在初始连接时提供的密码。</p><p id="de43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这当然意味着每个客户端对您的服务器都有相同的认证凭证，没有真正的方法来分别提供不同的访问级别。</p><p id="003e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在情况不同了，ACL不仅允许您决定谁可以访问您的数据，还允许您决定他们可以获得什么样的访问权限。</p><p id="0627" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，拥有只读用户现在只需一个命令就可以轻松实现:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="ade9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mu mv mw mx b">ACL SETUSER</code>命令将用给定的密码创建(或更新)一个用户，并删除所有权限。然后Redis会开始读取权限列表，只启用那些以<code class="fe mu mv mw mx b">+</code>开头的权限。所以，在上面的例子中，用户“fernando”是用密码“p4ssw0rd”创建的，它的启用要感谢这里的<code class="fe mu mv mw mx b">on</code>。</p><p id="a475" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，该行只授予新用户对所有键的<code class="fe mu mv mw mx b">GET </code>命令的权限。</p><p id="0981" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个用户将永远不能在数据库上写任何东西。</p><p id="b7f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于其他数据库管理器来说，这是一个正常的场景，使用只读用户是一个很好的做法，可以降低凭据被黑客攻击时的安全风险。</p><p id="769e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，您不需要手动执行这个配置。使用<code class="fe mu mv mw mx b">aclfile </code>配置选项，可以配置Redis直接从文件中加载ACL。然后简单地使用<code class="fe mu mv mw mx b">ACL LOAD</code>命令就可以完成剩下的工作。</p><h2 id="d397" class="my lw it bd lx mz na dn mb nb nc dp mf li nd ne mh lm nf ng mj lq nh ni ml nj bi translated">按命令类型限制访问</h2><p id="b619" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">此外，Redis还允许我们指定希望为用户启用的命令的类别。这样，您可以选择正确的类别，并在一行中自动分配对多个命令的访问，而不是一个接一个地指定它们。</p><p id="b0f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">命令<code class="fe mu mv mw mx b">ACL CAT</code>将列出所有这些类别，但值得注意的是:</p><ul class=""><li id="bed9" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated"><strong class="lb iu"> pubsub </strong>。这些都是与Redis的消息总线功能相关的命令。例如，如果你正在使用Redis来互连微服务或作为一个<a class="ae ky" href="https://www.memurai.com/blog/using-redis-for-chat-and-messaging" rel="noopener ugc nofollow" target="_blank">聊天消息总线</a>，你可能想要为一组特定的用户单独启用这个类别。</li><li id="9392" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><strong class="lb iu">快</strong>。这些都是O(1)命令，可以在单个操作中保存数据或快速读取数据，但不包括那些需要迭代多个键来完成任务的命令。如果您希望限制某些用户对您的存储层的性能影响，这一点尤其有趣。通过这一类别，您只能让他们使用最具性能的</li><li id="3991" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><strong class="lb iu">危险</strong>。如果用户不小心，此类别包含的命令可能会对您的储存空间造成一些损坏。我说的是像<code class="fe mu mv mw mx b">FLUSHALL</code>、<code class="fe mu mv mw mx b">MIGRATE</code>和<code class="fe mu mv mw mx b">CONFIG</code>这样的人，仅举几个例子。这是一个很好的类别，可以在管理员或支持用户上启用，但在普通用户上禁用。当然，你也有“管理”类别。</li><li id="b643" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><strong class="lb iu">读</strong> / <strong class="lb iu">写</strong>。这些类别包括与按键读写相关的命令。如果您将Redis用于像会话存储或缓存这样的用例，那么让用户只访问这些类别可能是个好主意。</li></ul><p id="0720" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用其中一个类别，只需在名称前加上一个<code class="fe mu mv mw mx b">@</code>，就像这样:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="e2d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个命令将创建一个新的<code class="fe mu mv mw mx b">admin</code>用户，可以访问他们可能需要的所有“有趣”的命令。</p><p id="88e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有其他的类别，你真的应该查看一下<a class="ae ky" href="https://redis.io/docs/manual/security/acl" rel="noopener ugc nofollow" target="_blank">类别的完整列表</a>以了解它们是如何分类的。</p><p id="7fa8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在为单个用户分配多个权限时，它们是真正的省时工具。</p><h1 id="6da1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">迄今为止最大的更新之一</h1><p id="fd83" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><a class="ae ky" href="https://www.memurai.com/blog/announcing-memurai-3" rel="noopener ugc nofollow" target="_blank">memu rai</a>3.0版本可能是Windows用户迄今为止最大的更新之一。添加到<a class="ae ky" href="https://www.memurai.com/" rel="noopener ugc nofollow" target="_blank"> Memurai </a>中的两大功能为存储层带来了全新级别的开箱即用安全性，让人难以忽视。</p><p id="a509" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再加上ACL命令提供的灵活性，可能性是无穷无尽的。</p><p id="46df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最重要的是，你有一个对开发者非常友好的产品，为他们提供了许多强大的功能。</p><p id="6ae4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.memurai.com/blog/announcing-memurai-3" rel="noopener ugc nofollow" target="_blank"> Memurai 3.0 </a>使您能够构建您的解决方案，并且由于它与Redis 6.0 API完全兼容，任何支持的编程语言上的任何库都将兼容。</p><p id="afc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你以前试过Memurai吗？还是ACL API？我迫不及待地想在我的下一个项目中尝试这个！</p></div></div>    
</body>
</html>