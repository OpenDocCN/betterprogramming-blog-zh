<html>
<head>
<title>ProgressView in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的进度视图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/progressview-in-swiftui-fa15d412f1e?source=collection_archive---------5-----------------------#2020-06-30">https://betterprogramming.pub/progressview-in-swiftui-fa15d412f1e?source=collection_archive---------5-----------------------#2020-06-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5bd8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">ProgressView在WWDC 2020上推出，它为您带来了一个循环和线性的进度视图，可以轻松地从头开始创建</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ea7b11b9ee47a36db15f2ff6418c2908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ykHYkxhyMzOdQAmO"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@aditya1702?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Aditya Vyas </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="97af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">注意:这个只支持iOS 14及以上版本，只能在Xcode 12+中使用。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2226" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">先决条件</h1><p id="86c3" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">要学习本教程，您需要了解以下方面的一些基本知识:</p><ul class=""><li id="5f24" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">迅速发生的</li><li id="c41b" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">至少Xcode 12+</li></ul></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="6d4d" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">不确定的进展</h1><p id="bdc0" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">不确定指的是不间断的动画，默认情况下，它处于一种无休止旋转的不确定行为中:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="eeca" class="nt me it np b gy nu nv l nw nx">ProgressView("Loading…")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/9cfe7724cc82e7f577a84c5290eb3dee.png" data-original-src="https://miro.medium.com/v2/resize:fit:336/1*YcjELihqUMqoP9YoXndOCw.gif"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="21b6" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">线性进展</h1><p id="1228" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">为了创建线性进度视图，您必须指定当前值和总值。该值当前被设置为<code class="fe nz oa ob np b">50</code>，是总数的一半:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="d5ee" class="nt me it np b gy nu nv l nw nx">ProgressView("Downloading…", value: 50, total: 100)<br/>    .padding()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/8478b9ccb3f07b2e0a0a300919b89b0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lLZu93MBrZJdCTkOhhmfoQ.png"/></div></div></figure><p id="3059" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您甚至可以看到它在运行，线性进度视图继续前进。首先，您将创建一个状态，在该状态下它将跟踪其当前进度:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="29ed" class="nt me it np b gy nu nv l nw nx">@State private var currentProgress = 0.0</span></pre><p id="dc29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，您将使用以下代码创建一个计时器:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="b2d9" class="nt me it np b gy nu nv l nw nx">let timer = Timer.publish(every: 0.1, on: .main, in: .common).autoconnect()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/1a8c99b57bf10cccc68759bb67e95706.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*04L-iJUi8OeGKdmGrn1b_A.png"/></div></div></figure><p id="2c71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在进度视图中使用当前进度:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="7697" class="nt me it np b gy nu nv l nw nx">ProgressView("Downloading…", value: currentProgress, total: 100)</span></pre><p id="7053" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">向进度视图添加一个动作，它将不断添加<code class="fe nz oa ob np b">1</code>，直到到达<code class="fe nz oa ob np b">100</code>:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="8a60" class="nt me it np b gy nu nv l nw nx">.onReceive(timer) { _ in<br/>    if currentProgress &lt; 100 {<br/>        currentProgress += 1<br/>    }<br/>}</span></pre><p id="aa09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/d79f14c4cc2073d73d72309cd4124338.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/1*_b0gEqKTUOlwCsTcd6Fx1Q.gif"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="95a6" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">定制</h1><p id="19d4" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated"><code class="fe nz oa ob np b">accentColor</code>允许您编辑条形的颜色:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="f189" class="nt me it np b gy nu nv l nw nx">.accentColor(.green)</span></pre><p id="340c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nz oa ob np b">foregroundColor</code>允许你编辑标题的颜色:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="0448" class="nt me it np b gy nu nv l nw nx">.foregroundColor(.yellow)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/92af7391d565c5c61da8b3a23ec2b6f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YM3MsaMcRB7s2dMppxB66w.png"/></div></div></figure><p id="b19f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>