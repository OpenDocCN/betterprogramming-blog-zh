<html>
<head>
<title>Creating a Remotely Accessible Keylogger With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python创建可远程访问的键盘记录器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-a-remotely-accessible-keylogger-with-python-56107b0218fa?source=collection_archive---------8-----------------------#2022-09-21">https://betterprogramming.pub/creating-a-remotely-accessible-keylogger-with-python-56107b0218fa?source=collection_archive---------8-----------------------#2022-09-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4985" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">简单的基于套接字的程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d5f10bfff16cf277d8263fc5b7eb9262.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xGWG5bKwjn4AeJze"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@jay_zhang?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">张杰</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="169a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是键盘记录器</h1><p id="179a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">键盘记录器是黑客最常使用的程序。</p><p id="1f08" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">虽然系统管理员和网络安全专业人员也使用它，但它用于向远程机器泄漏数据，往往会给它带来坏名声。简单地说，键盘记录器捕获并记录目标机器的击键。它通常使用电子邮件或网络协议将捕获的击键发送到远程机器，有时由黑客运行。</p><p id="0dd1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">通过过滤这些捕获的击键，黑客有时可以找到敏感数据，如密码、信用卡号或个人身份信息。今天，我们将创建一个键盘记录器，以增强对安全专业人员和道德黑客的理解。</p><h1 id="0710" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">我们在做什么</h1><p id="c20b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该项目将使用Python，并依赖于套接字服务器。一个套接字将在我们的客户机上运行，充当服务器来接收数据并将其打印到终端。第二个文件将在我们的目标机器上运行，用于监视、格式化和发送击键到服务器。</p><h1 id="257e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">Python中的套接字</h1><p id="606b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">套接字是网络上运行的两个程序之间双向通信链路的一个端点。套接字绑定到一个端口号，以便TCP层可以识别数据要发送到的应用程序。在Python中，不到五行代码就可以编写出套接字。要对客户端套接字进行编码，我们必须将一个端口绑定到一个IP，并将其设置为监听模式，如下所示:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="b82d" class="mx la it mt b gy my mz l na nb">import socket<br/>host = socket.gethostname()<br/>port = 12345<br/>s = socket.socket()     # TCP socket object<br/>s.bind((host,port))<br/>s.listen(5)</span></pre><p id="9557" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">充当客户端的套接字只需连接到主机和端口，如下所示:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="40c9" class="mx la it mt b gy my mz l na nb">import socket<br/>host = socket.gethostname()<br/>port = 12345<br/>s = socket.socket()     # TCP socket object<br/>s.connect((host,port))</span></pre><p id="df89" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在你的键盘记录器中使用套接字的好处是，它允许你监视远程机器的击键，用于…系统管理目的。</p><h1 id="fb86" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">发送格式化数据</h1><p id="b1fb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">基于上面的代码，我们的服务器将简单地监听连接客户端发送的数据，并将其打印到终端屏幕上。这将通过一个无限的“while True”循环来完成，如第16–19行所示。它必须以字节解码数据，如第19行所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="a94d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们的客户机将使用一个<code class="fe ne nf ng mt b">on_press</code>监听器为服务器构建一个特制的字符串。它首先初始化一个要发送的字符串，<code class="fe ne nf ng mt b">logstring</code>,并返回一个回车(第1行)。当每个字母被输入时，它会把它附加到<code class="fe ne nf ng mt b">logstring</code>，只有当我们按下enter键时，它才会把字符串发送给客户机(见第23行)。</p><p id="a2ad" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">第9-18行的意思是添加非字母键，如<em class="nh"> Esc </em>，这些键在Python的<em class="nh"> </em> <code class="fe ne nf ng mt b"><em class="nh">pynput.keyboard</em></code> <em class="nh"> </em>库中添加了前缀<em class="nh"> Key </em>。出于可读性的目的，这些非字母元素被添加到各自的行中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="b6e8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这两个代码片段应该给你足够的数据来完成剩下的代码。要测试键盘记录器，首先运行您的服务器，然后运行您的客户端，然后输入。要查看完整的键盘记录程序，请查看我的GitHub，链接如下。</p><p id="9f9c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我希望这个小项目能增强你的网络安全知识，帮助你踏上掌握网络安全的旅程。</p><p id="329f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">黑客快乐！</p><div class="ni nj gp gr nk nl"><a href="https://github.com/AleksaZatezalo/KeyLogger" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">GitHub—AleksaZatezalo/键盘记录器</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">github.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz ks nl"/></div></div></a></div></div></div>    
</body>
</html>