<html>
<head>
<title>How to Play Custom Audio in Swift Playgrounds for iPad</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Swift Playgrounds为iPad播放自定义音频</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-play-custom-audio-in-swift-playgrounds-for-ipad-77fe9798732b?source=collection_archive---------3-----------------------#2020-07-17">https://betterprogramming.pub/how-to-play-custom-audio-in-swift-playgrounds-for-ipad-77fe9798732b?source=collection_archive---------3-----------------------#2020-07-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0b29" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">音乐让一切变得更好</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ba1c9e8a8abdcbefc370bc096bf9824b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kO_zGb1x6WF8UjrmntT0oA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="d691" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2016年，苹果发布了iPad版的Swift Playgrounds。配有外置键盘，它几乎和Xcode一样好，而且速度快很多，但有点过于简单。当然，你可以写代码，但是添加文件或者播放音频呢？</p><p id="28f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我为今年的<a class="ae lu" href="https://developer.apple.com/wwdc20/swift-student-challenge/" rel="noopener ugc nofollow" target="_blank"> Swift学生挑战赛</a>编写操场代码时，我开始使用我的iPad。速度非常快。按下“运行我的代码”会在不到一秒的时间内产生结果！但是我遇到了一些困难——最大的困难是没有办法播放音频！我的游乐场被构造得像个游戏，什么样的游戏没有音乐？</p><p id="d03c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">没有及时找到解决办法，最终还是换回了Xcode。但是当我有时间的时候，我做了一些实验，结果证明播放音频真的真的很容易！我将在SwiftUI和UIKit中向您展示如何操作。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="53c6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.将音频文件下载到文件中</h1><p id="b66f" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">你可以从互联网上获得像这样的免版税的音频文件:</p><div class="mz na gp gr nb nc"><a href="https://notificationsounds.com/notification-sounds/slow-spring-board-570" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">慢簧板</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">一个很好的共鸣琶音激发信心。时长:00:02。知识共享署名许可证。</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">notificationsounds.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq ks nc"/></div></div></a></div><p id="76a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">iPadOS在Safari中加入了下载支持，所以我们可以直接下载到内置的Files应用中。方法如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/1a70a319ac345c00413168ecafee096e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1cJTnKkhMMxxmDLDGBrSkg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“下载”</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/db07dd3aa4f295e3bd55d95bbaa5e42e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AdCtMAif9klz03RVJgtaPA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“mp3”</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/5a86bc4739c08773427c259320674bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pU7G6xtzcq-7dtTqcbh4pA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“下载”</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/4865ca7a12e845630ea9a1cfbad6721b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_aj2Oenv7iO3kodyr6wj_g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">轻按iPad右上角的圆圈箭头图标</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/36380df4759808ab5ad39c1a51831e49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uttYp535jfVGHxwidHsURg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">轻按音频文件</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/bb06e90651a2fe6a1f3847242327a269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TXPrJOQotMj1OQePOAQ7OQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“共享”按钮</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/7245789f92db06c0f0fb3fd394aecb9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LG4MUs9N9_b0516GJIuGAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“保存到文件”</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/336e73bdff72bc239ad4b4fcc0c3498d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*exquX-2N9aFGUK7GRddprw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择一个位置，然后点击“保存”</p></figure><p id="7b62" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了Safari之外，您还可以从电脑上空投文件、使用u盘、在GarageBand中创作自己的音乐等等。但是不管你用什么方法来获取音频文件，一定要记住你把它保存在哪里。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a843" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.将文件导入Swift Playgrounds</h1><p id="cadd" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">打开Swift Playgrounds应用程序，然后创建一个新游乐场或打开一个现有游乐场。之后，要导入音频文件:</p><ol class=""><li id="071a" class="ns nt it la b lb lc le lf lh nu ll nv lp nw lt nx ny nz oa bi translated">按下“+”图标。</li><li id="3c17" class="ns nt it la b lb ob le oc lh od ll oe lp of lt nx ny nz oa bi translated">点击纸张图标。</li><li id="d548" class="ns nt it la b lb ob le oc lh od ll oe lp of lt nx ny nz oa bi translated">轻按“从…插入”</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/cbbd73d10caa19376b8c0b07ba8d915c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XM2VgPWS0tO6fOUXCshNuQ.png"/></div></div></figure><p id="6f7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，选择您下载的文件！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/bf0b897bf81bbd86d94cbd1f2b206e80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b9WIWrpowHO_nh8smOZAlg.png"/></div></div></figure><p id="2a6d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这会将您的音频文件导入到您的游乐场项目中。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="813a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.播放音频！</h1><h2 id="2d96" class="og md it bd me oh oi dn mi oj ok dp mm lh ol om mo ll on oo mq lp op oq ms or bi translated">斯威夫特伊</h2><p id="cbea" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">这是SwiftUI的启动代码。拷贝并粘贴到您导入音频文件的同一个游乐场项目中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="1391" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，用您的音频文件的名称替换<code class="fe ou ov ow ox b">slow-spring-board</code>。就是这样！按下“运行我的代码”，然后轻按“播放音频！”享受你添加的音乐！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/9afa310858d31b1dc99d27c668052424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2gGZMqBBQpHncWrr_PCZ1g.jpeg"/></div></div></figure><p id="d65f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的诀窍是使用<code class="fe ou ov ow ox b">Bundle.main.url(forResource:withExtension:)</code>。你<em class="oz">必须</em>这样做。如果您尝试通过“+”按钮添加文件文字(通过点击一个已经导入的文件)，它不会工作。</p><p id="4d7b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后两行同样重要:</p><pre class="kj kk kl km gt pa ox pb pc aw pd bi"><span id="6c61" class="og md it ox b gy pe pf l pg ph"><strong class="ox iu">let</strong> audioPlayerView = SwiftUIAudioPlayerView()<br/>PlaygroundPage.current.setLiveView(audioPlayerView)</span></pre><p id="b36d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将创建SwiftUI视图的一个实例并显示它(我已经尝试过在不显示视图的情况下播放音频，它不起作用)。</p><h2 id="2921" class="og md it bd me oh oi dn mi oj ok dp mm lh ol om mo ll on oo mq lp op oq ms or bi translated">UIKit</h2><p id="cca1" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在UIKit中播放音频的代码和在SwiftUI中完全一样，但是创建UI更难。下面是启动代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="d4a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">再次用您的音频文件的名称替换<code class="fe ou ov ow ox b">slow-spring-board</code>。然后按“运行我的代码”，享受你的音乐！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/0d037e0830482df89cd9b63a5334a829.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xRxHd0FV7m6GjcZ-cPlt6A.jpeg"/></div></div></figure><p id="e3d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样，您<em class="oz">必须</em>使用<code class="fe ou ov ow ox b">Bundle.main.url(forResource:withExtension:)</code>，最后两行是显示视图所必需的。</p><pre class="kj kk kl km gt pa ox pb pc aw pd bi"><span id="3548" class="og md it ox b gy pe pf l pg ph"><strong class="ox iu">let</strong> uikitAudioPlayerView = UIKitAudioPlayerView()<br/>PlaygroundPage.current.setLiveView(uikitAudioPlayerView)</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="183e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="17fa" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">iPad的Swift Playgrounds使编码成为一种更快、更愉快的体验，但它有时会变得过于简单。像音频播放这样的功能很难找到。我在网上搜了一遍也没找到解决办法，只好自己实验了。</p><p id="084f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是在这里！弄清楚这一点花了一些时间，但我现在可以回去在我的iPad上写代码了…我还得到了一些文章内容。</p><p id="e538" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>