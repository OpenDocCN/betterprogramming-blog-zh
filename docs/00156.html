<html>
<head>
<title>Angular: Load External JavaScript File Dynamically</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular:动态加载外部JavaScript文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/angular-load-external-javascript-file-dynamically-3d14dde815cb?source=collection_archive---------0-----------------------#2018-07-17">https://betterprogramming.pub/angular-load-external-javascript-file-dynamically-3d14dde815cb?source=collection_archive---------0-----------------------#2018-07-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/1920a922c5cc5eddc0dab6e0d08cf009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xsuMDdk_4t0efJCkLk-wag.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">使用Angular 2+加载外部JavaScript文件</p></figure><div class=""/><p id="122a" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果您正在使用<strong class="kh jj"> Angular 2+ </strong>创建一个大规模的应用程序或企业应用程序，那么您的组件或指令需要某些外部JavaScript依赖，比如用于支付集成的<strong class="kh jj"> Stripe.js </strong>(当然，这肯定不是所有视图都需要的)。</p></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h1 id="9813" class="lk ll ji bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">为什么需要按需加载JS插件文件？</h1><p id="e8ed" class="pw-post-body-paragraph kf kg ji kh b ki mi kk kl km mj ko kp kq mk ks kt ku ml kw kx ky mm la lb lc im bi translated">Angular是一个SPA(单页面应用程序)，它在初始页面加载时加载所有的脚本。因此，如果index.html包含任何并非所有视图都需要的外部JS脚本，它可能会<em class="mn">增加</em>页面完全加载的延迟时间，在我看来这不是最佳实践。</p></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h1 id="b23f" class="lk ll ji bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">那么，如何解决这个问题呢？</h1><p id="d38d" class="pw-post-body-paragraph kf kg ji kh b ki mi kk kl km mj ko kp kq mk ks kt ku ml kw kx ky mm la lb lc im bi translated">假设您想要使用<a class="ae mo" href="https://www.chartjs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh jj"> Chart.js </strong> </a> <strong class="kh jj">在仪表板上显示一个图表。</strong></p><p id="1446" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">事不宜迟，我们来看看是怎么做的。</p><h2 id="f365" class="mp ll ji bd lm mq mr dn lq ms mt dp lu kq mu mv ly ku mw mx mc ky my mz mg na bi translated"><strong class="ak">第一步</strong></h2><p id="b22f" class="pw-post-body-paragraph kf kg ji kh b ki mi kk kl km mj ko kp kq mk ks kt ku ml kw kx ky mm la lb lc im bi translated">创建一个名为<strong class="kh jj">DynamicScriptLoaderService</strong>的角度服务</p><figure class="nb nc nd ne gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h2 id="425d" class="mp ll ji bd lm mq mr dn lq ms mt dp lu kq mu mv ly ku mw mx mc ky my mz mg na bi translated"><strong class="ak">第二步:</strong></h2><p id="f895" class="pw-post-body-paragraph kf kg ji kh b ki mi kk kl km mj ko kp kq mk ks kt ku ml kw kx ky mm la lb lc im bi translated">是的，你没看错:你所需要做的就是用你想要加载到<strong class="kh jj"> DashboardComponent </strong>中的脚本的键调用服务加载方法</p><p id="cfda" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">让我告诉你怎么做:</p><figure class="nb nc nd ne gt iv"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="7e23" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">还有…<strong class="kh jj"> <em class="mn">搞定了</em> </strong>！</p></div><div class="ab cl ld le hx lf" role="separator"><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li lj"/><span class="lg bw bk lh li"/></div><div class="im in io ip iq"><h1 id="847f" class="lk ll ji bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated"><strong class="ak">结论</strong></h1><p id="4f39" class="pw-post-body-paragraph kf kg ji kh b ki mi kk kl km mj ko kp kq mk ks kt ku ml kw kx ky mm la lb lc im bi translated">打开您的<strong class="kh jj">网络</strong>面板，进入您的应用程序的<strong class="kh jj">主页</strong>。您不会看到正在获取chart.js脚本。</p><p id="fe10" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在，尝试打开仪表板视图，您将看到一个请求被发送到chart.js CDN。</p><p id="79b0" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">那都是乡亲们！！</p><p id="a1bf" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">有什么问题吗？留下评论。</p></div></div>    
</body>
</html>