<html>
<head>
<title>Intro to React MapBox GL JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React地图框GL JS简介</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/into-to-react-mapbox-gl-js-b7d827f7d7d6?source=collection_archive---------9-----------------------#2019-10-06">https://betterprogramming.pub/into-to-react-mapbox-gl-js-b7d827f7d7d6?source=collection_archive---------9-----------------------#2019-10-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5127" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">导航控制、缩放和指南针入门</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a80bf7e598c47101495647c9a3024883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LoE4FDlGqztQJCdENUhgrg.png"/></div></div></figure></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="0744" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">第一</h1><p id="7523" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">如果您对有关React <a class="ae mp" href="https://docs.mapbox.com/mapbox-gl-js/api/" rel="noopener ugc nofollow" target="_blank"> MapBox </a>和如何操作的其他文章感兴趣，请参见“<a class="ae mp" href="https://medium.com/better-programming/react-mapbox-gl-js-getting-started-with-geolocatecontrol-18c08a5410d" rel="noopener">React MapBox GL JS入门—使用GeolocateControl </a>”、“<a class="ae mp" href="https://medium.com/better-programming/getting-started-with-mapbox-gl-js-user-location-with-geolocation-f32c3e323526" rel="noopener">MapBox GL JS入门:使用地理定位的用户位置</a>”和“<a class="ae mp" href="https://medium.com/better-programming/getting-started-with-react-and-mapbox-gl-js-using-popup-component-with-marker-d76c72824423" rel="noopener">React和MapBox GL JS入门—使用弹出组件</a>”</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="9a85" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">导航控制</h1><p id="a853" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">React MapBox为您提供了使用标准功能制作地图的一切。地图用户体验的很大一部分是以最佳方式导航地图的能力。你会注意到谷歌地图和大多数地图通常都有放大和缩小按钮，以及一个用于用户定位的指南针。NavigationControl做到了这一点，而且实现起来超级简单。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="e664" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">步伐</h1><p id="1cd2" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">如果您还没有一个React Map GL项目，请启动一个。</p><p id="aa2c" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">使用命令行:</p><ol class=""><li id="824e" class="mv mw it lv b lw mq lz mr mc mx mg my mk mz mo na nb nc nd bi translated">(或者随便你怎么称呼它)</li><li id="33dd" class="mv mw it lv b lw ni lz nj mc nk mg nl mk nm mo na nb nc nd bi translated"><code class="fe ne nf ng nh b">create-react-app map</code>(也随你怎么称呼。我选择了地图。)</li><li id="21ec" class="mv mw it lv b lw ni lz nj mc nk mg nl mk nm mo na nb nc nd bi translated"><code class="fe ne nf ng nh b">cd map</code>然后在你的文本编辑器中打开它</li><li id="30e0" class="mv mw it lv b lw ni lz nj mc nk mg nl mk nm mo na nb nc nd bi translated"><code class="fe ne nf ng nh b">npm start</code>现在，您将看到经典的React应用程序登录页面</li></ol><p id="0b54" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">因为我们使用的是Mapbox GL JS库，所以我们也需要安装它。</p><p id="f3e5" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated"><code class="fe ne nf ng nh b">npm install react-map-gl</code>(这将库下载到您的应用程序中)</p><p id="b01e" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">否则，您只需将它导入到地图组件中，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/0b4f04892144c0cbf6805ffb9546ed2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*T9WEmVS2spFmo6ln3YqrAA.png"/></div></figure><p id="73c5" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">然后你要做的就是在你的<code class="fe ne nf ng nh b">ReactMapGL</code>组件中调用它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/155973ccf8b9014518ffa3aee0bb4797.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*MZBUqvd9EjcUzAlJbusOJw.png"/></div></figure><p id="7e17" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">继续前进，看看我们有什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/bbc9c6243c17091bf1567f505fb52af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U2TxzpT36hSu-lIV78Axvw.png"/></div></div></figure><p id="ac06" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">所以导航看起来不太好。我们换个风格吧。</p><p id="b8ab" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">App.css。</p><pre class="kj kk kl km gt nq nh nr ns aw nt bi"><span id="4550" class="nu lc it nh b gy nv nw l nx ny">.mapboxgl-ctrl-group {<br/>    width: 30px;<br/>    margin: 10px 0 0 10px;<br/>}</span></pre><p id="6421" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">为什么这是地图的风格，我不知道。这样好多了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/6c3e073d3a635a070ea0a4b72a4fca39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e77jW_tusOsr3tDnaTv4-g.png"/></div></div></figure><p id="d47c" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">测试一下。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="03fb" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">选择</h1><p id="38ce" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated"><code class="fe ne nf ng nh b">NavigationControl </code>组件接受多个选项。这里有一些关于它们的GitHub文档。</p><p id="dd8c" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">但是我们需要知道的是，显示缩放按钮和指南针是默认的。如果出于某种原因您不想显示它们，您可以将它们设置为<code class="fe ne nf ng nh b">false</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/3a6160eacbe6c13bab545e3c22fe5b25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*44BPtHkYNdMtrryeHeI8jg.png"/></div></figure><p id="d325" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">这使得我们所做的一切都变得毫无用处。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/b18771c1dada38ca2e72632c62fa9c19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tIOXJkJ5eQLjOLC3MbUTjA.png"/></div></div></figure></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="73a9" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">一款云视频会议软件</h1><p id="6d3b" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">所以我们的地图有最小的缩放比例。如果你在我们的渲染下(见上图)玩地图，你会看到按钮是如何影响缩放的。</p><h2 id="df77" class="nu lc it bd ld oa ob dn lh oc od dp ll mc oe of ln mg og oh lp mk oi oj lr ok bi translated">最小缩放</h2><p id="dac7" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">如果你把我们的地图一直缩小(打开你的inspect，这样你就可以看到用console.log打印的我们的状态对象)，你会看到你能缩放的最小值是<code class="fe ne nf ng nh b">0.359749446955114</code>。它展示了整个世界的一面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/5565b60c6703f62a5696458cf2e15aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*plPc10AdEKXnlOwpj9S3OA.png"/></div></div></figure><h2 id="4592" class="nu lc it bd ld oa ob dn lh oc od dp ll mc oe of ln mg og oh lp mk oi oj lr ok bi translated">最大缩放</h2><p id="4a61" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">如果你一直放大到某个地方(我会放大到纽约)，你会看到最大放大倍数是<code class="fe ne nf ng nh b">24</code>。下面的照片是纽约出租车的前端。变焦能力是疯狂的！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/6676742a6934bcbb5a49cfb922cc9de7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mD3W1sCYsHfZnsn3hmDN2w.png"/></div></div></figure><h2 id="6b37" class="nu lc it bd ld oa ob dn lh oc od dp ll mc oe of ln mg og oh lp mk oi oj lr ok bi translated">小跟班</h2><p id="e9ce" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated"><code class="fe ne nf ng nh b">+</code>和<code class="fe ne nf ng nh b">—</code>按钮简单地增加和减少变焦1倍。</p><h2 id="79e9" class="nu lc it bd ld oa ob dn lh oc od dp ll mc oe of ln mg og oh lp mk oi oj lr ok bi translated">指南针</h2><p id="d6b3" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">你会注意到你可以旋转地图，让它指向你想要的任何方向。</p><p id="cb48" class="pw-post-body-paragraph lt lu it lv b lw mq ju ly lz mr jx mb mc ms me mf mg mt mi mj mk mu mm mn mo im bi translated">您可以通过按住shift键并单击和拖动地图来完成此操作。如果您单击指南针按钮，地图会重新定向到标准的南北方向。</p></div><div class="ab cl ku kv hx kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="im in io ip iq"><h1 id="69a6" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">结论</h1><p id="7935" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">又一个免费的工具让我们实现，这给了我们的地图基础。我不能强调使用React MapBox GL创建一个基本地图是多么容易和快捷。您可以在五分钟内拥有多种地图样式的基本地图功能。加载标记和使用弹出窗口也非常简单。带上你的地图！</p></div></div>    
</body>
</html>