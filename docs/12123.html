<html>
<head>
<title>Hacking the Web With SQL Injections</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用SQL注入攻击Web</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/hacking-the-web-with-sql-injections-cd418d84219a?source=collection_archive---------4-----------------------#2022-05-13">https://betterprogramming.pub/hacking-the-web-with-sql-injections-cd418d84219a?source=collection_archive---------4-----------------------#2022-05-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="da15" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关注SQL注入、PHP和Diwa项目</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0f4e1e6eefac88098279add575fe7846.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7u_O4U-LAhWnIsvO"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">卡斯帕·卡米尔·鲁宾在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="991e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我一直想成为一名黑客。6年来，我一直用Php、JavaScript和Python编写应用程序。在我学习期间，老师们谈到了SQL注入以及如何防止SQL注入。但是我从来没有进行过SQL注入、身份验证失败或跨站脚本之类的攻击。这是我知识中缺失的一块，我正在寻找机会去了解更多。因此，当我的团队中有人最近找到我，主动提出做一些研究时，我是世界上最幸福的人。</p><p id="6fb8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个帖子会有后续。这只是我入侵网络、了解安全漏洞和享受乐趣的开始。在这篇文章中，我将谈论一种特定类型的注入:SQL注入。我将讲述历史，解释来龙去脉，执行攻击，并告诉您如何保护您的应用程序。我们将使用Php和MySQL。如果您使用另一种编程语言，请不要难过:更多内容即将推出。</p><p id="c7f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，带上你的头罩，启动你最喜欢的电子音乐播放列表，让我们开始黑吧！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b8ac" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">SQL注入如何工作</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/71d43f3131e44d0e50fa9432fb9372a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/0*Q8AoxUPewPrTJyp1"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">资料来源:avast.com</p></figure><p id="f3e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在说SQL注入之前，先说注入。注射是最古老和最常见的攻击之一。注入攻击是注入网络的恶意代码，其目标是从数据库中获取信息。它们以web应用程序(不仅仅是Php应用程序)为目标，可能导致数据失窃或丢失。在最坏的情况下，它们会危及您的整个系统:您将无法再登录和访问您的服务。换句话说，这是不好的。我是说非常非常糟糕。假设您管理一家医院，有数百名等待手术的患者，您记录了他们的安全号码、电子邮件和其他敏感信息。注射会阻塞你的整个系统，黑客可以获取、出售和使用这些信息。有不同类别的注入，如SQL注入、跨站点脚本或CRLF注入。本文主要关注SQL注入。</p><h1 id="f1a7" class="lz ma iq bd mb mc ms me mf mg mt mi mj jw mu jx ml jz mv ka mn kc mw kd mp mq bi translated">注入攻击是如何发生的？</h1><p id="044e" class="pw-post-body-paragraph kw kx iq ky b kz mx jr lb lc my ju le lf mz lh li lj na ll lm ln nb lp lq lr ij bi translated">主要原因是用户输入验证不足。换句话说，这意味着从开发人员的角度来看，您的代码不安全，您的查询也不安全。如果您想修复它们，您需要停止使用动态查询，并在执行查询时保护您的代码。这就是为什么我们在Php中使用准备好的请求，因为它们阻止了SQL注入。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="5335" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的代码来自Diwa项目，位于<a class="ae kv" href="https://github.com/tdimnet/diwa/blob/master/app/includes/model.php" rel="noopener ugc nofollow" target="_blank">model.php</a>文件中。看第16行，这是安全漏洞所在。这行代码在SQL中执行以下语句:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="c8c1" class="nj ma iq nf b gy nk nl l nm nn">'SELECT * FROM users WHERE email = ‘$email’ AND password = ‘$password’;'</span></pre><p id="f5ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一行的目的是验证数据库中是否存在用户，如果存在就返回。在表单内，攻击者可以编写<code class="fe no np nq nf b">'OR '1'='1''</code>，这将执行以下查询:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="b6ce" class="nj ma iq nf b gy nk nl l nm nn">'SELECT * FROM users WHERE email = ‘$email’ AND password = ‘$password’ OR ‘`1’ = ‘1’’;'</span></pre><p id="e748" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个有效的SQL语句，因为<code class="fe no np nq nf b">'1'='1'</code> `'1' = '1 ' `总是为真，所以查询将返回用户表中的所有行。如果您在Diwa项目中这样做，您将作为管理员登录(我们稍后将这样做)。但是您可以做得更多，如果users表很大并且包含数百万行，您可以删除一个表，甚至执行DoS(拒绝服务)攻击。例如，你可以加上<code class="fe no np nq nf b">thomas@example.com'; DROP TABLE users;</code>。它将执行以下代码:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="48c4" class="nj ma iq nf b gy nk nl l nm nn">'SELECT * FROM users WHERE email = thomas@example.com'; DROP TABLE users;</span></pre><p id="6055" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为什么有效？因为您正在完成第一条SQL语句，并在其后添加另一条语句。是的，我知道，很疯狂。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h1 id="c8f8" class="lz ma iq bd mb mc ms me mf mg mt mi mj jw mu jx ml jz mv ka mn kc mw kd mp mq bi translated">如何防止Php中的SQL注入？</h1><p id="784e" class="pw-post-body-paragraph kw kx iq ky b kz mx jr lb lc my ju le lf mz lh li lj na ll lm ln nb lp lq lr ij bi translated">这是一个经验法则:总是验证用户输入。你的大多数用户都不想破坏你的网站，互联网上并不是到处都是黑客。但是，您不应该直接从用户输入构建SQL语句。您可以使用两种方法:</p><ul class=""><li id="ed2b" class="nr ns iq ky b kz la lc ld lf nt lj nu ln nv lr nw nx ny nz bi translated">用<a class="ae kv" href="https://www.php.net/manual/en/function.mysql-real-escape-string.php" rel="noopener ugc nofollow" target="_blank"> real_espace_string </a>等函数转义你的字符串。该函数将转义字符串中的特殊字符，以便在SQL语句中使用。</li><li id="98bd" class="nr ns iq ky b kz oa lc ob lf oc lj od ln oe lr nw nx ny nz bi translated"><a class="ae kv" href="https://www.php.net/manual/en/pdo.prepare.php" rel="noopener ugc nofollow" target="_blank">使用准备好的请求</a>这将允许您准备一个以空值作为占位符的SQL查询，然后将变量绑定到占位符，最后执行查询。上面的代码片段是一个准备好的请求。准备好的请求还可以减少解析时间，因为只需准备一次查询。</li></ul><p id="2428" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，大多数Php框架，如Symfony和Laravel，为你使用准备好的请求，当你做简单的请求时，你会使用ORM，比如Doctrine，这样会更安全。编写原始查询时会出现问题。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2ab3" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">以故意不安全的Web应用程序为例</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/c5935eb0af6e5c59cb016c4581fd2cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S03WxprO7BHUIhU8"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者—地洼的欢迎画面</p></figure><p id="cecb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想了解更多关于安全的知识，网上有大量的项目。幸运的是，OWASP的网站上有一个列表。在那里你可以找到许多不同编程语言的例子。出于一些原因，我决定从Php和Diwa项目开始:</p><ul class=""><li id="1c8a" class="nr ns iq ky b kz la lc ld lf nt lj nu ln nv lr nw nx ny nz bi translated">该项目使用Docker，并在盒子外面工作。您从GitHub克隆它，构建docker映像，运行容器，就可以开始了。</li><li id="3e7a" class="nr ns iq ky b kz oa lc ob lf oc lj od ln oe lr nw nx ny nz bi translated">这也很容易理解。很快我们将涵盖更复杂的项目，但从简单的项目开始总是更好，尤其是在学习新东西的时候。</li><li id="aa97" class="nr ns iq ky b kz oa lc ob lf oc lj od ln oe lr nw nx ny nz bi translated">Diwa是用Php编写的，它是一种被很多人使用的编程语言。我不是来告诉你Php到底好不好的。但是我可以告诉你，78.9%的网站使用Php。这些是事实。</li><li id="8a9e" class="nr ns iq ky b kz oa lc ob lf oc lj od ln oe lr nw nx ny nz bi translated">最初，该项目使用SQLite，但我想用MySQL代替。对我来说，编辑配置并添加docker-compose和MySQL非常简单。</li></ul><p id="e7ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在查看我所做的修改之前，让我们先在本地构建项目。复制一个<code class="fe no np nq nf b">.env.example</code>并将其命名为<code class="fe no np nq nf b">.env</code>。你不需要在里面添加任何东西:我们将在另一个帖子中使用它。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="a8cb" class="nj ma iq nf b gy nk nl l nm nn">$ docker-compose build</span></pre><p id="efbe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过运行以下命令开始。它将构建Php镜像并安装库，包括<code class="fe no np nq nf b">pdo</code>和<code class="fe no np nq nf b">pdo_mysql</code>。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="2f40" class="nj ma iq nf b gy nk nl l nm nn">$ docker-compose up</span></pre><p id="ecd4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，启动您的容器。这个命令创建了三个容器:Diwa的应用程序、datadog-agent(今天不需要看它)和MySQL数据库。一旦所有的图像都被提取出来，进入<a class="ae kv" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080 </a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/7427cf944d087f2898bca7a2516b2122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iG3uRHeor4gYYvsM"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者—点击设置Diwa，你就可以开始了！</p></figure><p id="e7e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击“设置地洼！”按钮:它创建数据库表并在其中添加内容。恭喜你，迪瓦现在已经开始运行了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/9f501e4c929383e1a6f545fbc9fd367c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nKv8gcgN6c6z7v90"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">您的地洼数据库应包含以下表格</p></figure><p id="f175" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们对Diwa进行攻击之前，您应该知道我对项目源代码做了一些修改。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="bc9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我更新了<code class="fe no np nq nf b">config.php</code>文件，以便使用MySQL而不是SQLite。我还在<code class="fe no np nq nf b">app</code>容器中添加了pdo librairies。它们在Dockerfile里面。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="7127" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我还通过将<code class="fe no np nq nf b">$config['database']['host']</code>改为<code class="fe no np nq nf b">$config['database']['server']$</code>修复了第10行的一个错别字。让我们黑掉我们的项目吧！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="17eb" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">攻击和执行SQL注入的时间到了</h1><p id="441a" class="pw-post-body-paragraph kw kx iq ky b kz mx jr lb lc my ju le lf mz lh li lj na ll lm ln nb lp lq lr ij bi translated">首先，如果不是这样，用docker启动项目——用<code class="fe no np nq nf b">docker-compose build</code>和<code class="fe no np nq nf b">docker-compose up</code>组合。查看屏幕顶部的<em class="oh">“电子邮件地址”</em> <br/>和<em class="oh">“密码”</em>输入。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/744ddb3808ae2d835a1c6ff3b4411754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oSEv_CCEWnYFYJ6A"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者—顶部导航栏</p></figure><p id="fa34" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先点击注册按钮，创建一个帐户。<strong class="ky ir">邀请码为3702 </strong>。可以在<code class="fe no np nq nf b">config.php</code>文件中找到。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/c5e37c1ed61c9e5a1647c932d79180aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KmOrYfiIqRQjtKDu"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者—登记表</p></figure><p id="0906" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您现在应该已经登录了。如果不是，这意味着在引导项目时出错了。建议大家在评论区提问。现在，您可以注销并返回主页。尝试编写无效凭据，看看会发生什么。您应该会看到以下错误消息:<em class="oh">“错误的电子邮件地址或密码”</em>。现在我要你在电子邮件输入中写下<code class="fe no np nq nf b">'--</code>，在密码栏中写下一些随机字符。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/36795041efa7ff4c9a4051f243fd10e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QSXG7bQLESiTJEaq"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者</p></figure><p id="f8a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你应该有一个不错的500错误。这意味着服务器发生了不好的事情，糟糕到服务器产生错误。这也意味着它告诉我们，也许这个网站是不安全的。我们现在要用我找到的一张不错的小抄来尝试一些攻击。查看绕过登录屏幕部分，并尝试编写其中的一些。例如，以下命令似乎会导致错误:<code class="fe no np nq nf b">admin'--</code>、<code class="fe no np nq nf b">'admin'/*</code>或<code class="fe no np nq nf b">1=1--</code>。这个<code class="fe no np nq nf b">'or 1=1#'</code>会让你以管理员的身份登录。根据安装的数据库，一些命令会发生变化。但是这里为了简单起见，首先用`` `结束查询的第一部分，并注入一个始终为真的验证。你也可以在日志中写<code class="fe no np nq nf b">'1=1;</code>,这样就可以了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/174ace29dae089c757ddfaaf566be62e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XbXXrnQSqb9Wd9re"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者——是的，我现在是一名管理员</p></figure><p id="7fe2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是的，您将能够看到用户列表并采取各种操作，例如编辑他们的凭据、将用户提升为管理员，甚至删除他们的帐户。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/f71fd325df5f8c689643f15ed178e2a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T_V2VcY-IIPS5VGy"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者-因为我是管理员，我可以编辑和删除所有帐户</p></figure><p id="9305" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在能够侵入日志页面，删除一些表怎么样，比如用户表。我已经知道了一些攻击者不会做的事情:我知道表有前缀<code class="fe no np nq nf b">diwa</code>。例如，用户表是<code class="fe no np nq nf b">diwa_users</code>。这是创建表格时的一个好习惯:不要只称它们为<code class="fe no np nq nf b">users</code>或<code class="fe no np nq nf b">products</code>。尽量加个前缀，比如<code class="fe no np nq nf b">your-project_table </code>，这样会让你的app更安全。我之前要求你创建一个帐户。这就是我们要用它的地方。我希望您询问您的电子邮件地址和密码，但在验证之前，在您的电子邮件地址后添加以下内容:<code class="fe no np nq nf b">'DROP TABLE diwa_users;</code>。应该是这样的。现在深呼吸，按下回车键。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/f3cde07b599dcf07856cc6bd12571b95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hzcJShad7QWuElbb"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者—我将删除diwa_users表</p></figure><p id="a4d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">看下面截图。我放弃了diwa_users表，我不再能够登录和注册。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/f56e726398e7f436bcafd28013f5708c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*co4BMg6MLUx1O58k"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:作者——是的，现在数据库被破坏了</p></figure><p id="719a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你查看数据库，diwa_tables现在已经不存在了。吓人吧？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/410c923c33253b64a363437dbdfed1eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qn85BxkAjiOo2ui3"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">source:author—在这里，我在命令行中访问我的SQL</p></figure><p id="c5f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重置您的数据库并重新创建一个帐户。我们现在要让数据库休眠。不是添加<code class="fe no np nq nf b">DROP TABLE</code>，而是在登录输入的末尾添加<code class="fe no np nq nf b">AND sleep(20);</code>并点击enter。你有没有注意到你的请求花费了太多的时间？这是因为执行了<em class="oh">【睡眠】</em>命令。考虑到这一点，您现在应该尝试创建一个无限循环并让数据库出汗！你可以在评论区添加我们的答案，我会告诉你你是否在正确的轨道上！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="918e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">迎头赶上</h1><p id="fd84" class="pw-post-body-paragraph kw kx iq ky b kz mx jr lb lc my ju le lf mz lh li lj na ll lm ln nb lp lq lr ij bi translated">我真的希望你喜欢这个内容SQL注入。现在，您应该知道了如何进行攻击和防止攻击的基本知识。我目前正在写一篇关于如何建立一个可观察性工具的教程，以便在攻击发生时得到提醒。特别感谢Tim Steufmehl创建这个项目和Tambi Gumbo的评论。</p><p id="abf8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我要讨论的下一个攻击可能是跨站点脚本。我不知道我是否会使用这个项目或另一个。在任何情况下，我都将应用相同的结构:攻击的描述，如何防止它，并执行示例攻击。</p><p id="2bf6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">祝大家愉快！</p></div></div>    
</body>
</html>