<html>
<head>
<title>Create a SwiftUI Clock That Counts Down to WWDC 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个倒计时至WWDC 2022的SwiftUI时钟</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-a-swiftui-clock-that-counts-down-to-wwdc-2022-cdacdeab97fd?source=collection_archive---------10-----------------------#2022-06-03">https://betterprogramming.pub/create-a-swiftui-clock-that-counts-down-to-wwdc-2022-cdacdeab97fd?source=collection_archive---------10-----------------------#2022-06-03</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="3897" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">将Apple标志绘制成SwiftUI形状，并在下方显示剩余时间</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/06a1c82721e91825be1b1db4c04e64b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9gCgogUUHaK0MgxM40V4AA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者截图</p></figure><p id="ed97" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">首先，我将重新创建一个SwiftUI路径的苹果标志。为了方便绘制路径，我创建了一个对象，它可以自动创建所有必要的点。</p><p id="ceaa" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">它是通过传递正在绘制的帧的<code class="fe lv lw lx ly b">maxX</code>和<code class="fe lv lw lx ly b">maxY</code>值来创建的，因为所有点都是相对于那些最大值来绘制的。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="lz ma l"/></div></figure><p id="2587" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这些点是我选择的估计值，所以你可能不同意整体形状的结果。</p><p id="c782" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果你想移动形状中的任何点，你可以在这里做，确保乘以<code class="fe lv lw lx ly b">maxX</code>或<code class="fe lv lw lx ly b">maxY</code>得到一个相对位置，而不是一个硬编码的位置。形状可以是任何大小，因此固定位置可能在框架之外，不会缩放。</p><p id="2a48" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在任一方向上乘以最大值，值1等于该最大值。</p><p id="2b0b" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">告诉曲线在哪里弯曲的控制点可以低于0或高于1，因为它们实际上不是作为形状的一部分绘制的。</p><p id="373f" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">但是当乘以最大值时，您希望保留在帧内的点数应该在0和1之间。</p><p id="09df" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">让我们把这些点变成一个形状！</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="lz ma l"/></div></figure><p id="a754" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这个形状还没有描边或填充，但没关系。</p><h1 id="dd61" class="mb mc iu bd md me mf mg mh mi mj mk ml ka mm kb mn kd mo ke mp kg mq kh mr ms bi translated">倒计时器</h1><p id="1460" class="pw-post-body-paragraph kz la iu lb b lc mt jv le lf mu jy lh li mv lk ll lm mw lo lp lq mx ls lt lu in bi translated">这些数字将显示在一个圆角矩形中，下面有一个标签。</p><p id="aada" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这将重复用于日、小时、分钟和秒，因此它需要是一个单独的视图。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="lz ma l"/></div></figure><p id="733d" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在我可以在一个<code class="fe lv lw lx ly b">LazyVGrid</code>中将其中的4个组合起来，显示为2行2个。这些列是灵活的，因此它们可以自行调整大小以填充可用空间。</p><p id="b2f7" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这里还有一个计时器，会计算出每秒钟还剩多少时间。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="lz ma l"/></div></figure><p id="e1f4" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在我们可以将视图合并到一个<code class="fe lv lw lx ly b">ZStack</code>中。</p><p id="c5ff" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">有一个<code class="fe lv lw lx ly b">AngularGradient</code>背景，因为这样更容易看到<code class="fe lv lw lx ly b">Material.ultraThinMaterial </code>被用作<code class="fe lv lw lx ly b">AppleLogoShape</code>的填充。这意味着它模糊了它下面的东西，但你仍然可以看穿它。如果你使用纯色背景，你将看不到模糊的效果。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="lz ma l"/></div></figure><p id="eb95" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">当然，你不需要用半透明材质作为<code class="fe lv lw lx ly b">AppleLogoShape</code>的填充。你实际上可以不带参数调用<code class="fe lv lw lx ly b">.fill()</code>，你随后应用的<code class="fe lv lw lx ly b">foregroundColor</code>将是形状的颜色。</p><p id="7162" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">你也可以使用修改器<code class="fe lv lw lx ly b">.stroke(lineWidth: 5) </code>来绘制形状的轮廓，但是目前不可能同时使用描边和填充。</p><p id="0e31" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果你既想要描边又想要填充，不幸的是，你不得不在<code class="fe lv lw lx ly b">ZStack</code>中拥有一个单独的描边和填充的形状实例。</p><p id="4777" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">或者，您可以添加该形状的描边实例，作为填充实例的覆盖。</p><pre class="kk kl km kn gu my ly mz na aw nb bi"><span id="a15e" class="nc mc iu ly b gz nd ne l nf ng"><strong class="ly iv">Want to Connect?</strong></span><span id="ca70" class="nc mc iu ly b gz nh ne l nf ng">This story was also published on my Substack channel: <a class="ae ni" href="https://typesafely.substack.com/" rel="noopener ugc nofollow" target="_blank">Typesafely</a>.</span></pre></div></div>    
</body>
</html>