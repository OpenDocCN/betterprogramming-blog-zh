<html>
<head>
<title>Generating xcodeproj’s with Xcodegen</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Xcodegen生成xcodeproj</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/generating-xcodeprojs-with-xcodegen-7d291cfc2f46?source=collection_archive---------9-----------------------#2022-02-23">https://betterprogramming.pub/generating-xcodeprojs-with-xcodegen-7d291cfc2f46?source=collection_archive---------9-----------------------#2022-02-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="dbca" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">iOS开发工具</h2><div class=""/><div class=""><h2 id="debb" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">去掉不可读的xcodeproj文件，向可读的项目配置文件问好</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/01a4a8265abb1b3bc844ad1d8e452361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*twS38ASeP4zZxkuF"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">斯文·米克在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b710" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您是否曾经创建过对iOS应用程序项目的<code class="fe me mf mg mh b">xcodeproj</code>文件进行更改的拉取请求(PR)/合并请求(MR)？</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mi"><img src="../Images/49d5b1d6e6115bb68bafea92d1f6aa09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CisucGqtq45C0kxsrUianA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">难以理解的差异</p></figure><p id="f60a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">很可能会有两个以上的iOS开发团队同时对<code class="fe me mf mg mh b">xcodeproj</code>文件进行修改。</p><p id="ad22" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，两者都可以创建新文件。在这种情况下，当两个人都修改同一个文件时，您可能会创建冲突的更改。此外，xcodeproj文件不可读。查看带有xcodeproj文件中的更改的PRs很难理解。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mj"><img src="../Images/0ca2f51a1a0380240e47a85813c99a56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o8XnyBWgk5y-aiIKBP7EHw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">xcodeproj中的合并冲突</p></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi mk"><img src="../Images/ccbd8731e94019b24001ffec8797fb58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6QzAorPlVTRBinUR1-p1sQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">xcodeproj中的合并冲突</p></figure><p id="4a01" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们有什么办法可以摆脱<code class="fe me mf mg mh b">xcodeproj</code>的文件吗？不幸的是，对于iOS应用程序开发来说，没有简单的方法可以摆脱这些<code class="fe me mf mg mh b">xcodeproj</code>文件。</p><p id="2169" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，我们可以使用<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>从可读性更好的配置文件中轻松生成xcodeproj文件。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ml"><img src="../Images/07a7d541e4dcc47732931413d866c415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NXITw5V-uiRJ-l0_A2_SjQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">简单的Xcodegen project.yml文件</p></figure><p id="e8eb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>允许你将你的项目配置保存在一个<a class="ae lh" href="https://en.wikipedia.org/wiki/YAML" rel="noopener ugc nofollow" target="_blank"> YAML </a>格式的文件中。<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>然后根据<a class="ae lh" href="https://en.wikipedia.org/wiki/YAML" rel="noopener ugc nofollow" target="_blank"> YAML </a>文件生成<code class="fe me mf mg mh b">xcodeproj</code>文件。</p><p id="1e8b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这篇文章中，我将向您展示如何采用一个简单的示例项目来使用<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>。然后我将展示如何使用<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>添加<a class="ae lh" href="https://developer.apple.com/documentation/swift_packages" rel="noopener ugc nofollow" target="_blank"> Swift包</a>。最后，我将介绍如何为您的目标更改构建设置。</p><p id="2d91" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于本文，我使用了Swift 5.5.2和Xcode 13.2.1。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="8cfb" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">如何转换iOS应用程序项目以使用Xcodegen</h1><p id="7420" class="pw-post-body-paragraph li lj it lk b ll nm kd ln lo nn kg lq lr no lt lu lv np lx ly lz nq mb mc md im bi translated">在这一节中，我们将从安装<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>开始。</p><p id="4a98" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后我们将下载一个已经存在的应用程序。</p><p id="2388" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，创建一个<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>项目配置文件，移除现有的xcodeproj文件，使用<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>生成xcodeproj文件。</p><p id="876f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">以下是我们将要采取的步骤:</p><ol class=""><li id="0f5e" class="nr ns it lk b ll lm lo lp lr nt lv nu lz nv md nw nx ny nz bi translated">安装<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a></li><li id="f983" class="nr ns it lk b ll oa lo ob lr oc lv od lz oe md nw nx ny nz bi translated">下载入门包</li><li id="9cb2" class="nr ns it lk b ll oa lo ob lr oc lv od lz oe md nw nx ny nz bi translated">将项目转换为使用<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a></li></ol><p id="3884" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们开始吧！</p><h2 id="10ab" class="of mv it bd mw og oh dn na oi oj dp ne lr ok ol ng lv om on ni lz oo op nk iz bi translated">1.安装Xcodegen</h2><p id="13a9" class="pw-post-body-paragraph li lj it lk b ll nm kd ln lo nn kg lq lr no lt lu lv np lx ly lz nq mb mc md im bi translated">安装<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>有多种方式。然而，在本教程中，我们将使用<a class="ae lh" href="https://brew.sh" rel="noopener ugc nofollow" target="_blank">自制软件</a>来安装<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>。家酿是一个软件包管理系统。对于macOS来说，它是一个非常受欢迎的工具。如果您还没有安装它，那么继续这样做。遵循<a class="ae lh" href="https://brew.sh" rel="noopener ugc nofollow" target="_blank">家酿</a>在其网站<a class="ae lh" href="https://brew.sh" rel="noopener ugc nofollow" target="_blank"> brew.sh </a>上的安装说明。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/1f5285b257c342644a44089744fe0a60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fspxwYZH4zdeAO0l6_9htQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">brew.sh中的家酿安装说明</p></figure><p id="13d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦<a class="ae lh" href="https://brew.sh" rel="noopener ugc nofollow" target="_blank">自制软件</a>安装完毕，让我们安装<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>。在终端中运行以下命令:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="c133" class="of mv it mh b gy ov ow l ox oy">brew install xcodegen</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oz"><img src="../Images/fdc3dbf8e4c19595893d18ca2dcd7900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SXYZl0hX7fAKzEFoEcA3Lw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">终端中的Xcodegen安装</p></figure><h2 id="bf74" class="of mv it bd mw og oh dn na oi oj dp ne lr ok ol ng lv om on ni lz oo op nk iz bi translated">2.下载入门包</h2><p id="0754" class="pw-post-body-paragraph li lj it lk b ll nm kd ln lo nn kg lq lr no lt lu lv np lx ly lz nq mb mc md im bi translated">让我们下载一个已经存在的iOS应用程序项目。打开终端并运行以下命令:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="1457" class="of mv it mh b gy ov ow l ox oy">cd $HOME<br/>git clone <a class="ae lh" href="https://github.com/anuragajwani/distributing-static-lib-xcframework-cocoapods/archive/starter.zip" rel="noopener ugc nofollow" target="_blank">https://github.com/anuragajwani/SaladMaker</a><br/>cd SaladMaker<br/>open -a Xcode SaladMaker.xcodeproj</span></pre><h2 id="d3d9" class="of mv it bd mw og oh dn na oi oj dp ne lr ok ol ng lv om on ni lz oo op nk iz bi translated">3.将项目转换为使用Xcodegen</h2><p id="7495" class="pw-post-body-paragraph li lj it lk b ll nm kd ln lo nn kg lq lr no lt lu lv np lx ly lz nq mb mc md im bi translated">在我们为<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>创建<a class="ae lh" href="https://en.wikipedia.org/wiki/YAML" rel="noopener ugc nofollow" target="_blank"> YAML </a>文件之前，让我们先分析一下xcodeproj文件中的项目结构。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/2648e00ba35e251285f380e35921ffca.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*sC-8Nbm4L51eAf6RisLY2Q.png"/></div></figure><p id="c644" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，我们有一个名为<code class="fe me mf mg mh b">SaladMaker</code>的项目，它包含一个目标。单一目标是iOS平台的一个应用，也叫做<code class="fe me mf mg mh b">SaladMaker</code>。项目的源文件和资产位于一个名为<code class="fe me mf mg mh b">SaladMaker</code>的目录下。这款应用的最低部署目标是iOS 14。</p><p id="dc5b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们为Xcodegen创建YAML文件。在终端运行以下命令，替换<code class="fe me mf mg mh b">&lt;YOUR_NAMESPACE&gt;</code>:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="4d91" class="of mv it mh b gy ov ow l ox oy">cat &gt; project.yml &lt;&lt;-EOF<br/>name: SaladMaker<br/>options:<br/>  bundleIdPrefix: com.&lt;YOUR_NAMESPACE&gt;<br/>targets:<br/>  SaladMaker:<br/>    type: application<br/>    platform: iOS<br/>    deploymentTarget: "14.0"<br/>    sources:<br/>      - SaladMaker<br/>EOF</span></pre><p id="b2c4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，让我们删除<code class="fe me mf mg mh b">SaladMaker.xcodeproj</code>，在项目的根目录下运行<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>。运行以下命令:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="eaa3" class="of mv it mh b gy ov ow l ox oy">rm -rf SaladMaker.xcodeproj &amp;&amp; xcodegen &amp;&amp; open SaladMaker.xcodeproj</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pb"><img src="../Images/393007fda752759e1e15559d3d464314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WyrWxr2fSoUkQFBgVX1o0A.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">运行xcodegen命令</p></figure><p id="a8ce" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>将读取<code class="fe me mf mg mh b">project.yml</code>文件，并根据<code class="fe me mf mg mh b">project.yml</code>的内容生成一个<code class="fe me mf mg mh b">xcodeproj</code>。</p><p id="cda5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们来分解一下<code class="fe me mf mg mh b">project.yml</code>的内容。<code class="fe me mf mg mh b">name</code>属性是项目名称。属性在整个项目中应用配置设置。在这种情况下，所有目标标识符都将以<code class="fe me mf mg mh b">com.&lt;YOUR_NAMESPACE&gt;</code>为前缀(您可以在这里更改为自己的标识符)。默认情况下，<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>会生成包前缀+目标名称的包标识符(即<code class="fe me mf mg mh b">com.anuragajwani.SaladMaker</code>)。</p><p id="a11a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，我们有了<code class="fe me mf mg mh b">targets</code>属性。这应该是不言自明的。所有目标都将在该属性下指定。我们有我们的<code class="fe me mf mg mh b">SaladMaker</code>目标，其中的<code class="fe me mf mg mh b">type</code> <code class="fe me mf mg mh b">application</code>为<code class="fe me mf mg mh b">iOS</code> <code class="fe me mf mg mh b">platform</code>。我们将最小部署目标设置为<code class="fe me mf mg mh b">14.0</code>，并通过指定<code class="fe me mf mg mh b">sources</code>属性来设置源文件和资产。</p><p id="d1df" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Xcodegen允许大量定制和配置。查看YML文件的<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen/blob/master/Docs/ProjectSpec.md#options" rel="noopener ugc nofollow" target="_blank">完整规范。</a></p><p id="ebc3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">就是这样！我们已经从一个超过350行代码的复杂<code class="fe me mf mg mh b">xcodeproj</code>文件发展到10行代码。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pc"><img src="../Images/7c34a8fb1e034d069472268e5ac479b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TeArwpsED58QE6Hnr7EhLg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">project.yml vs xcodeproj</p></figure><p id="dab2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">记得告诉<a class="ae lh" href="https://www.atlassian.com/git/tutorials/saving-changes/gitignore" rel="noopener ugc nofollow" target="_blank"> git，一旦准备好使用<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>就忽略xcodeproj文件</a>。我不会讨论如何做到这一点，因为git超出了本文的范围。</p><p id="5d4f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">此外，所有成员在更改分支时都应记得运行<code class="fe me mf mg mh b">xcodegen</code>命令。</p><h1 id="c432" class="mu mv it bd mw mx pd mz na nb pe nd ne ki pf kj ng kl pg km ni ko ph kp nk nl bi translated">如何使用Xcodegen添加Swift包</h1><p id="74ba" class="pw-post-body-paragraph li lj it lk b ll nm kd ln lo nn kg lq lr no lt lu lv np lx ly lz nq mb mc md im bi translated">大多数应用程序使用开源库来帮助或加速开发。有多种方法可以导入开源库。最流行的方法之一是使用依赖管理器。iOS开发中最流行的依赖项管理器之一是<a class="ae lh" href="https://developer.apple.com/documentation/swift_packages" rel="noopener ugc nofollow" target="_blank"> Swift包管理器</a>。</p><p id="984c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这一节中，我将向您展示如何导入iOS开发中使用的一个流行的开源库:<a class="ae lh" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank"> Alamofire </a>。</p><p id="770d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">打开顶层的<code class="fe me mf mg mh b">project.yml</code>后，在<code class="fe me mf mg mh b">options:</code>部分添加以下内容:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="f075" class="of mv it mh b gy ov ow l ox oy">packages:<br/>  Alamofire:<br/>    url: <a class="ae lh" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank">https://github.com/Alamofire/Alamofire</a><br/>    majorVersion: 5.5.0</span></pre><p id="ef03" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">上面我们在项目级别添加了这个包。然而，我们还没有将<a class="ae lh" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank"> Alamofire </a>与我们的<a class="ae lh" href="https://github.com/anuragajwani/SaladMaker" rel="noopener ugc nofollow" target="_blank"> SaladMaker </a>应用目标联系起来。让我们接下来做那件事。在<code class="fe me mf mg mh b">SaladMaker</code>目标下增加以下内容:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="7442" class="of mv it mh b gy ov ow l ox oy">dependencies:<br/>  - package: Alamofire</span></pre><p id="5368" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您的<code class="fe me mf mg mh b">project.yml</code>应该如下所示:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="93b8" class="of mv it mh b gy ov ow l ox oy">name: SaladMaker<br/>options:<br/> bundleIdPrefix: com.anuragajwani<br/><strong class="mh jd">packages:<br/>  Alamofire:<br/>    url: </strong><a class="ae lh" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank"><strong class="mh jd">https://github.com/Alamofire/Alamofire</strong></a><strong class="mh jd"><br/>    majorVersion: 5.5.0</strong><br/>targets:<br/>  SaladMaker:<br/>    type: application<br/>    platform: iOS<br/>    deploymentTarget: "14.0"<br/>    sources:<br/>      - SaladMaker<br/>    <strong class="mh jd">dependencies:<br/>      - package: Alamofire</strong></span></pre><p id="f67c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，运行<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> xcodegen </a>，然后在Xcode中打开<code class="fe me mf mg mh b">SaladMaker.xcodeproj</code>。在终端中运行以下命令:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="0d4b" class="of mv it mh b gy ov ow l ox oy">xcodegen &amp;&amp; open SaladMaker.xcodeproj</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pi"><img src="../Images/c882199e3a3aa1152d07598c6016abf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5zTYRw88m3V1VmlYvXnSA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">添加了Alamofire作为依赖项。</p></figure><p id="f3f0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">就这样，我们准备在<a class="ae lh" href="https://github.com/anuragajwani/SaladMaker" rel="noopener ugc nofollow" target="_blank">萨拉德马克</a>中使用<a class="ae lh" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank">阿拉莫菲尔</a>。</p><h1 id="636e" class="mu mv it bd mw mx pd mz na nb pe nd ne ki pf kj ng kl pg km ni ko ph kp nk nl bi translated">如何更改生成设置</h1><p id="3d63" class="pw-post-body-paragraph li lj it lk b ll nm kd ln lo nn kg lq lr no lt lu lv np lx ly lz nq mb mc md im bi translated">默认情况下，<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>会设置xcodeproj默认构建设置或者根本不指定，并允许Xcode设置默认值。</p><p id="f8d1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，在某些情况下，我们可能希望根据我们的应用程序特定的需求来调整构建设置。Xcodegen 允许我们指定您想要为目标设置的任何构建设置。假设我们想要禁用我们的<a class="ae lh" href="https://github.com/anuragajwani/SaladMaker" rel="noopener ugc nofollow" target="_blank"> SaladMaker </a>应用程序的位代码。打开<code class="fe me mf mg mh b">project.yml</code>，在<a class="ae lh" href="https://github.com/anuragajwani/SaladMaker" rel="noopener ugc nofollow" target="_blank"> SaladMaker </a>目标下添加以下内容:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="c094" class="of mv it mh b gy ov ow l ox oy">settings:<br/>  ENABLE_BITCODE: NO</span></pre><p id="321e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您的<code class="fe me mf mg mh b">project.yml</code>现在应该如下所示:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="d95e" class="of mv it mh b gy ov ow l ox oy">name: SaladMaker<br/>options:<br/>  bundleIdPrefix: com.anuragajwani<br/>packages:<br/>  Alamofire:<br/>  url: <a class="ae lh" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank">https://github.com/Alamofire/Alamofire</a><br/>  majorVersion: 5.5.0<br/>targets:<br/>  SaladMaker:<br/>    <strong class="mh jd">settings:<br/>      ENABLE_BITCODE: NO</strong><br/>    type: application<br/>    platform: iOS<br/>    deploymentTarget: "14.0"<br/>    sources:<br/>      - SaladMaker<br/>    dependencies:<br/>      - package: Alamofire</span></pre><p id="06b5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">再次运行<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> xcodegen </a>命令生成一个新的xcodeproj:</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="dc7c" class="of mv it mh b gy ov ow l ox oy">xcodegen &amp;&amp; open SaladMaker.xcodeproj</span></pre><p id="3f80" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">查看行动中的变化:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pj"><img src="../Images/22bc970bed7cb365e15a570871c9cdad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0mkZ4IDuKTK9TPPP-qrKjQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">在project.yml中设置位代码设置之前和之后</p></figure></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="f83e" class="mu mv it bd mw mx my mz na nb nc nd ne ki nf kj ng kl nh km ni ko nj kp nk nl bi translated">摘要</h1><ul class=""><li id="252a" class="nr ns it lk b ll nm lo nn lr pk lv pl lz pm md pn nx ny nz bi translated"><a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>简化了复杂的读取项目配置YAML文件中的xcodeproj文件。</li><li id="a401" class="nr ns it lk b ll oa lo ob lr oc lv od lz oe md pn nx ny nz bi translated">拉取请求/合并请求更容易阅读和理解</li><li id="3399" class="nr ns it lk b ll oa lo ob lr oc lv od lz oe md pn nx ny nz bi translated"><code class="fe me mf mg mh b">project.yml</code>的冲突更容易解决</li></ul><p id="de34" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您可以使用<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>对项目进行大量配置。确保<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen/blob/master/Docs/ProjectSpec.md#dependency" rel="noopener ugc nofollow" target="_blank">检查规格</a>。</p><h1 id="df58" class="mu mv it bd mw mx pd mz na nb pe nd ne ki pf kj ng kl pg km ni ko ph kp nk nl bi translated">最后的想法</h1><p id="c003" class="pw-post-body-paragraph li lj it lk b ll nm kd ln lo nn kg lq lr no lt lu lv np lx ly lz nq mb mc md im bi translated">Xcodeproj文件已经存在很长时间了。随着时间的推移，他们并没有变得更好。我不知道苹果是否正在努力为iOS应用程序和其他应用程序目标替换这些。</p><p id="022f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，苹果公司也有积极的迹象。例如，对于Swift软件包，苹果放弃了xcodeproj文件，转而使用可读性更好的<code class="fe me mf mg mh b"><a class="ae lh" href="https://developer.apple.com/documentation/swift_packages/package" rel="noopener ugc nofollow" target="_blank">Package.swift</a></code>文件。Xcode可以将这些文件作为包的项目配置文件读取。</p><p id="a377" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">目前，像<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>这样的工具允许在一定程度上远离<code class="fe me mf mg mh b">xcodeproj</code>文件。<a class="ae lh" href="https://github.com/yonaskolb/XcodeGen" rel="noopener ugc nofollow" target="_blank"> Xcodegen </a>并不是唯一的工具。我将在未来介绍其他工具并进行比较。</p><pre class="ks kt ku kv gt or mh os ot aw ou bi"><span id="05b1" class="of mv it mh b gy ov ow l ox oy"><strong class="mh jd">Want to Connect?</strong></span><span id="e8c0" class="of mv it mh b gy po ow l ox oy">For more on iOS development follow me on <a class="ae lh" href="https://twitter.com/anuragajwani?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">Twitter</a>.</span></pre></div></div>    
</body>
</html>