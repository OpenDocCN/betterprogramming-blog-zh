<html>
<head>
<title>How to Use Named Parameters in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在TypeScript中使用命名参数</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/named-parameters-in-typescript-e32c763d2b2e?source=collection_archive---------0-----------------------#2020-04-05">https://betterprogramming.pub/named-parameters-in-typescript-e32c763d2b2e?source=collection_archive---------0-----------------------#2020-04-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7f93" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">破解函数以获得命名参数</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e61e4c13fb339d37c0c9a214e9cae208.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IIPv-j7bBfIAveH8SivQlA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Max Kleinen 在<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="0f58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管从技术上讲，TypeScript(或JavaScript)中没有命名参数这种东西，但这种语言提供了一种语法，使得使用非常相似的功能成为可能！</p><p id="d11d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">命名的争论使生活变得更加容易。它们允许你玩函数参数，就像你玩拼字游戏中的字母一样。只要指定参数的名称，就可以按任何顺序传递任何参数。</p><p id="1c07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者如果你喜欢更正式的定义:</p><blockquote class="lv"><p id="e503" class="lw lx it bd ly lz ma mb mc md me lu dk translated">"[命名参数是]计算机语言对函数调用的支持，它清楚地说明了函数调用中每个<strong class="ak">参数</strong>的<strong class="ak">名称</strong>。"— <a class="ae ky" href="https://en.wikipedia.org/wiki/Named_parameter" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></blockquote><p id="fc8d" class="pw-post-body-paragraph kz la it lb b lc mf ju le lf mg jx lh li mh lk ll lm mi lo lp lq mj ls lt lu im bi translated">一些编程语言(例如Kotlin/Python/C#)支持这种现成的功能。在TypeScript中，我们可以模拟这种行为。在这篇文章中，你将学会如何做！</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="a8b3" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">为什么我们需要命名参数？</h1><p id="7a4f" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">想象我们有一个函数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/89d533aee62240aba1368268d5742c55.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*H2NlP8EG_5m2zI20GFUIOA.png"/></div></figure><p id="2d7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们通过以下方式调用它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/9c5c6821872c911d0166627ee4cbd8e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*MUTEVp6K7kNdA4ZEJH76Rw.png"/></div></figure><p id="d8ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果我们只想得到一个总数呢？我们必须用所有的参数来调用它，尽管最后两个参数无关紧要！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/02ddcb4b365f2c65fb0f018613a276c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*HqmmAGheaG6MBhylnynObw.png"/></div></figure><p id="0216" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以将参数<code class="fe nq nr ns nt b">c</code>和<code class="fe nq nr ns nt b">d</code>标记为可选参数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/eb2e377e7d5e3d8163322f40c4e6b987.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*W02MSvwnjwJq5Amdm-y32g.png"/></div></figure><p id="22d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是这个函数的实现需要一些修改才能正常工作(处理<code class="fe nq nr ns nt b">undefined</code>值)。</p><p id="dd2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过，有一个更好的解决方案:我们可以使用默认参数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/e56c985d51156e6b63dfd99934dd6fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*G74qrTgjFuoRWTk9tDdO5Q.png"/></div></figure><p id="d8af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，即使我们不提供最后两个参数，该函数也能按预期工作:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/a16c18942f924706f18855bd0db0eb58.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*F4ZFsrjI78l8ggUdo70klA.png"/></div></figure><p id="b611" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！但是如果我们想把总和乘以4呢？同样，我们必须传递所有参数…</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/0679cd61360cd4d5d1e9e2441ac695fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*YYyKEK-TqNd2wB_ouPqhFQ.png"/></div></figure><p id="bdb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们能做得更好吗？当然可以，在“命名参数”的帮助下。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="a948" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">如何使用它们</h1><p id="209e" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">让我们修改最后一个函数签名的代码片段:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/f81377b8a53f619499ba32f3d93361c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*ISUAE8n0wtKOUVtEFOTIjQ.png"/></div></figure><p id="c31e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们传递一个对象而不是四个参数。此外，我们用<code class="fe nq nr ns nt b">c</code>和<code class="fe nq nr ns nt b">d</code>作为可选值来指定对象的接口:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/80f6282e0774e81ef5edf9385432d829.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*Nv67MGLPFanIR0rq7RM9Ow.png"/></div></figure><p id="2c34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在该函数的调用看起来更清晰了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/b024f5103afce3f2b98f1c78432851a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*My7E0lh3JrSoHSXHOlxxEA.png"/></div></figure><p id="da25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们通过名称来指定参数。它使代码更加冗长，但是更加灵活。</p><p id="b60e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们回忆一下乘以四的例子。现在真的很简单！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/c4207c983611d4f0484893c2de3b2748.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*LGLZwffFxiWIG5YZnsLMNg.png"/></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="e460" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated"><strong class="ak">现实生活中的例子(React + Jest) </strong></h1><p id="2709" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">您可能想知道这种功能在哪里有用。我经常用它来测试React组件。</p><p id="391b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">库组件使用大量可选的<code class="fe nq nr ns nt b">props</code>是很常见的。想象一下，我们有自己的一个<code class="fe nq nr ns nt b">DatePicker</code>组件的实现，它需要四个<code class="fe nq nr ns nt b">props</code>(比原来的<code class="fe nq nr ns nt b"><a class="ae ky" href="https://reactdatepicker.com/" rel="noopener ugc nofollow" target="_blank">react-datepicker</a></code>少十倍<strong class="lb iu">，而原来的<code class="fe nq nr ns nt b"><a class="ae ky" href="https://reactdatepicker.com/" rel="noopener ugc nofollow" target="_blank">react-datepicker</a></code>有<a class="ae ky" href="https://github.com/Hacker0x01/react-datepicker/blob/master/docs/datepicker.md" rel="noopener ugc nofollow" target="_blank">超过50个道具</a>)。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/10152ab16713d9b17a2b561e7b43a28e.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*rOXZmhjGUwWHjRJpQXIAYw.png"/></div></figure><p id="afb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想测试它，我们必须在每一次测试中安装组件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/0d60949937d069ebca284295a73ac46a.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*s6JiPoqdpljDsHrIjAPviw.png"/></div></figure><p id="dab7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，我们刚刚了解了命名参数是什么。</p><p id="694d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了保持代码简洁，我们可以提取一个带有可选值的对象的函数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/17cc02908cc0e71c34f1973d10d73469.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*S_D79tPxHjlDDvoyHpAlCQ.png"/></div></figure><p id="959b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在安装组件非常简单明了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/a129fcbc2fc231ae90bf1104a2437791.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*YAzJK5txOTzf5yiGgiQu7Q.png"/></div></figure><p id="9d1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这正是TypeScript <strong class="lb iu"> </strong>中的命名参数模式真正闪光的地方。</p><p id="d3f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>