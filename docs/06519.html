<html>
<head>
<title>How to Index Data in Python Numpy Arrays</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python Numpy数组中索引数据</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-index-data-in-python-numpy-arrays-1274ce968390?source=collection_archive---------10-----------------------#2020-10-08">https://betterprogramming.pub/how-to-index-data-in-python-numpy-arrays-1274ce968390?source=collection_archive---------10-----------------------#2020-10-08</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="f88b" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">索引和切片</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/204051cb93c52b60cdb7977fa39fa86c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Gkv_kYM7mhTpibPw-chCw.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">来自<a class="ae kz" href="https://www.pexels.com/photo/brown-numbers-cutout-decors-1329295/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae kz" href="https://www.pexels.com/@magda-ehlers-pexels?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">玛格达·埃勒斯</a>的照片</p></figure><h1 id="6b7d" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">基本索引</h1><p id="8a92" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">可以进行基本的索引来访问<code class="fe mo mp mq mr b">NumPy</code>数组中的特定元素。</p><h2 id="0127" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated">1.一维数组</h2><ul class=""><li id="6ed8" class="ne nf iu lu b lv lw ly lz mb ng mf nh mj ni mn nj nk nl nm bi translated"><strong class="lu iv">创建一维数组</strong></li></ul><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="6c38" class="ms lb iu mr b gz nr ns l nt nu">import numpy as np<br/>one_d=np.array([10,20,30,40])<br/>print (one_d)<br/>#Output:array([10, 20, 30, 40])</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nv"><img src="../Images/a3f7499299d4af7f349efd7391fdeb0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*4m0h5QKXzzQ52hNF56Snaw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="995e" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">通过正索引从数组中访问元素</strong></li></ul><p id="ad1b" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">在Python中，所有索引都是从零开始的。索引0表示数组中的第一个元素。</p><p id="86e7" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">one_d[2]</code> → 30</p><ul class=""><li id="538b" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">通过负索引从数组中访问元素</strong></li></ul><p id="82bd" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">负索引从数组的末尾开始。<code class="fe mo mp mq mr b">-1</code>代表最后一个元素。</p><p id="87d3" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">one_d[-1]</code> → 40</p><h2 id="bae7" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated">2.二维数组</h2><ul class=""><li id="f4b2" class="ne nf iu lu b lv lw ly lz mb ng mf nh mj ni mn nj nk nl nm bi translated"><strong class="lu iv">创建二维数组</strong></li></ul><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="d815" class="ms lb iu mr b gz nr ns l nt nu">two_d=np.array([[0,1],[2,3],[4,5]])<br/>print (two_d)<br/><em class="oe">#Output: <br/></em>[[0 1]<br/> [2 3]<br/> [4 5]]</span></pre><ul class=""><li id="4453" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">访问二维数组中的特定元素</strong></li></ul><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="b3eb" class="ms lb iu mr b gz nr ns l nt nu">x[i,j]<br/>or <br/>x[(i,j)]</span></pre><p id="ab33" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">i → row_index(从0开始)<br/> j → column_index(从0开始)</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="329c" class="ms lb iu mr b gz nr ns l nt nu">print (two_d[(1,2)])<br/><em class="oe">#Output: 5<br/></em>print (two_d[1,2])<br/><em class="oe">#Output: 5</em></span></pre><ul class=""><li id="6326" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">访问二维数组中的特定行</strong></li></ul><p id="505a" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">如果我们提供单个索引，它将被作为row_index</p><p id="d34e" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">x[i]</code></p><p id="9300" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">i →行索引</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="a736" class="ms lb iu mr b gz nr ns l nt nu">print (two_d[(1)])<br/><em class="oe">#Output:[3 4 5]</em></span></pre><ul class=""><li id="0f9a" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">访问二维数组中的特定列</strong></li></ul><p id="f5e8" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">x[:,j]</code></p><p id="b75c" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">:→ <strong class="lu iv"> i (row_index) </strong>，取所有值(<strong class="lu iv"> : </strong>是一个完整的切片，从开始到结束)<br/> j → column_index</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="2506" class="ms lb iu mr b gz nr ns l nt nu">print (two_d[:,1])<br/><em class="oe">#Output:[1 4 7]</em></span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj of"><img src="../Images/251222f87b5734623c19e03f597bde2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*23Ql_zVHlghiUWyKD9tWxA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="8839" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated">3.三维阵列</h2><ul class=""><li id="f061" class="ne nf iu lu b lv lw ly lz mb ng mf nh mj ni mn nj nk nl nm bi translated"><strong class="lu iv">创建三维数组</strong></li></ul><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="1d94" class="ms lb iu mr b gz nr ns l nt nu">three_d=np.array([[[0,1],[2,3]],[[4,5],[6,7]]])<br/>print (three_d)<br/><em class="oe">#Output:<br/></em>[[[0 1]<br/>  [2 3]]<br/><br/> [[4 5]<br/>  [6 7]]]</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj og"><img src="../Images/ff38812c2e4b0c29d04408f55af15d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*vLO0TvZb5nKL7Asdp7LHFQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="5c58" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">访问三维数组中的特定元素</strong></li></ul><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="129e" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[1,0,1])<br/><em class="oe">#Output: 5<br/></em>print (three_d[(1,0,1)])<br/><em class="oe">#Output: 5<br/></em>print (three_d[(-1,-1,-1)])<br/><em class="oe">#Output: 7</em></span></pre><ul class=""><li id="5899" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">使用负索引从三维数组中访问特定元素</strong></li></ul><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="c802" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[(-1,-1,-1)])<br/><em class="oe">#Output: 7</em></span></pre><ul class=""><li id="0eba" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">访问三维数组中的特定矩阵(或二维数组)</strong></li></ul><p id="64ff" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">x[1] →选择第一个矩阵。</p><p id="55a4" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">如果我们只指定第一个索引，它将选择特定的矩阵。</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="a5f7" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[(1)])<br/><em class="oe">#Output:<br/></em>[[4 5]<br/> [6 7]]</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/a0f6b91e51946058cefbbac1dd9f2960.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*B_pzTWlS5FrVSHYLHUb3nw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="7208" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">访问特定矩阵中的特定行</strong></li></ul><p id="06b7" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">x[i,j]</code> →如果我们仅指定I和j值，它将从矩阵(I)中选择行(j)</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="b781" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[(1,0)])<br/><em class="oe">#Output:<br/></em>[4 5]</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/93b909d7047c393b2677fdd62f1d068a.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*ZfxUJ0iK6ygIfnhWsbcq5Q.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="eaa5" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">访问特定矩阵中的特定列</strong></li></ul><p id="37c0" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">x[i,:,k]</code> →从<strong class="lu iv">矩阵i </strong>中选择<strong class="lu iv">k列</strong>。</p><p id="748a" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv"> j </strong>给定为<code class="fe mo mp mq mr b"> :</code>表示全切片。[所有行]</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="cd49" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[1,:,1])<br/><em class="oe">#Output:<br/></em>[5 7]</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/68715568b91876db5cc19f6925ac2194.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*LKhwZaU7BHsr5lveaP1_ag.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="c9d1" class="ne nf iu lu b lv nw ly nx mb ny mf nz mj oa mn nj nk nl nm bi translated"><strong class="lu iv">从每个矩阵中访问相同位置的元素。</strong></li></ul><p id="860e" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">x[:,j,k]</code> →选择所有矩阵中<strong class="lu iv">行j </strong>和<strong class="lu iv">列k </strong>的元素。<br/> <strong class="lu iv"> i </strong>给定为<code class="fe mo mp mq mr b"> :</code>，表示全切片。[所有矩阵]</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="357f" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[:,1,1])<br/><em class="oe">#Output:[3 7]</em></span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/438af33c0149ffa94485c18fd6ba8000.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*gQaUPY6KALN6Y21edbEWtA.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="9ded" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated">索引错误</h2><p id="56b4" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">试图使用过大的索引将导致IndexError。</p><p id="ac3e" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例1:一维数组</strong></p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="da56" class="ms lb iu mr b gz nr ns l nt nu">print (one_d[5])<br/><em class="oe">#Output:IndexError: index 5 is out of bounds for axis 0 with size 4</em></span></pre></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><h1 id="a3c8" class="la lb iu bd lc ld op lf lg lh oq lj lk ka or kb lm kd os ke lo kg ot kh lq lr bi translated">基本切片</h1><p id="4fa8" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">基本切片将Python的切片基本概念扩展到N维。</p><h2 id="bd5d" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated"><strong class="ak"> 1。切片一维数组</strong></h2><p id="2495" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在切片中，我们可以指定一个索引范围</p><p id="058c" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">s[i:j:k] — slice of <em class="oe">s</em> from <em class="oe">i</em> to <em class="oe">j</em> with step <em class="oe">k</em></code></p><p id="a74c" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">I→开始索引<br/> j →停止索引<br/> k →步进(k不应为0)</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="e0ce" class="ms lb iu mr b gz nr ns l nt nu">slice1=one_d[0:3:2]<br/>print (slice1)<br/>#Output: [10, 30]</span></pre><p id="4b44" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">它将在步骤2中从第0个索引到第3个索引(不包括)对元素进行切片。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ou"><img src="../Images/0b927bff49ff1d05c8d7e35818ba7bfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*g5NaeXGRgyL0RCghnLmi9A.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="7110" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">基本切片的返回类型将是<code class="fe mo mp mq mr b">ndarray</code></p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="193d" class="ms lb iu mr b gz nr ns l nt nu">print (type(slice1))<br/><em class="oe">#Output:numpy.ndarray</em></span></pre><p id="9a98" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">基本切片生成的所有数组总是原始数组的“视图”。<br/> <strong class="lu iv">视图:</strong>不拥有自己数据的数组，而是引用另一个数组的数据。</p><p id="3ebf" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">所以如果我们修改原来的数组，视图也会被修改。同样，如果我们修改视图，原来的数组也修改了。</p><p id="3f6a" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例1:修改slice1也会修改原数组</strong> <code class="fe mo mp mq mr b"><strong class="lu iv">one_d</strong></code></p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="51f0" class="ms lb iu mr b gz nr ns l nt nu">slice1[0]=99999<br/><em class="oe">#Modifying slice1 will modify the original array also.<br/></em>print (slice1)<br/><em class="oe">#Output:[99999,    30]<br/></em>print(one_d)<br/><em class="oe">#Output:[99999,    20,    30,    40]</em></span></pre><p id="5e06" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例2:修改原数组也会修改基本切片生成的数组</strong></p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="0b4f" class="ms lb iu mr b gz nr ns l nt nu">one_d[0]=77777<br/>print (one_d)<br/><em class="oe">#Output:[77777    20    30    40]<br/></em>print (slice1)<br/><em class="oe">#Output: [77777    30]</em></span></pre><p id="b5d4" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">注意:</strong> <code class="fe mo mp mq mr b">NumPy</code>切片创建的是一个视图，而不是像字符串、元组、列表等内置Python序列那样的副本。从一个大数组中提取一小部分时必须小心，因为提取的小部分包含对更大的原始数组的引用，直到从该数组派生的所有数组都被垃圾收集，该数组的内存才会被释放。在这种情况下，建议使用明确的<code class="fe mo mp mq mr b">copy()</code>。- <a class="ae kz" href="https://numpy.org/doc/stable/reference/arrays.indexing.html" rel="noopener ugc nofollow" target="_blank"> Python文档</a></p><p id="a643" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例3:省略start和stop索引默认为数组的第一个索引和最后一个索引。负步长表示相反的方向。</strong></p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="e97c" class="ms lb iu mr b gz nr ns l nt nu">print (one_d[::-2])<br/><em class="oe">#Output: </em>array([40, 20])</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ov"><img src="../Images/ec85be96678e1d633b066b475872b119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*qxnosIwj8lNnEGbRsQoyFw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="a1c6" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated">2.切片二维数组</h2><p id="78f5" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">通过在两个轴上切割二维数组，我们可以得到原始数组的子集。</p><p id="2860" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">x[i:j:k,l:m:n]</code></p><p id="47c5" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">i:j:k →沿x轴切片(行)<br/> l:m:n →沿y轴切片(列)</p><p id="1c0c" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例1:<br/></strong><code class="fe mo mp mq mr b">two_d[1:,1:]</code>→选择第1行到最后一行，第1列到最后一列的元素。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ow"><img src="../Images/91e097856df60208f956a1b99789eefe.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*q1XYDYA6VqDeLPjZiwUr0A.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="a48a" class="ms lb iu mr b gz nr ns l nt nu">print (two_d[1:,1:])<br/><em class="oe">#Output:<br/></em>[[4 5]<br/> [7 8]]</span></pre></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><p id="046d" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例2: <br/> </strong> <code class="fe mo mp mq mr b">two_d[0:2,1:]</code> →从第0行到第2行(排除)和第1列选择元素，直到最后一列。</p><p id="805c" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">0:2→x轴切片→选择第0行到第2行(不包括)<br/>1:→y轴切片→选择第1列到最后一列</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ow"><img src="../Images/6220880dc2fda52ce63338e81db5c881.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*OlJDHVgexaoa05omLq5Kvw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="92ca" class="ms lb iu mr b gz nr ns l nt nu">print (two_d[0:2,1:])<br/><em class="oe">#Output:<br/></em>[[1 2]<br/> [4 5]]</span></pre><p id="18f0" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例三:<br/> </strong> <code class="fe mo mp mq mr b"><strong class="lu iv">two_d[1:,::2]</strong></code></p><p id="7dbb" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">1:</code>→选择第1行到最后一行<br/> <code class="fe mo mp mq mr b">::2</code> →通过步骤2从第1列到最后一列选择列</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ox"><img src="../Images/0f3554be40871614545f0c987b91ee5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*xmWR13FijJRE5ulNlIbgvQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="3a3d" class="ms lb iu mr b gz nr ns l nt nu">print (two_d[1:,::2])<br/><em class="oe">#Output:<br/></em>[[3 5]<br/> [6 8]]</span></pre><h2 id="460b" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated">3.切片三维阵列</h2><p id="b1c4" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">通过沿三个轴切割三维数组，我们可以选择原始数组的子集</p><p id="154f" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">x[a:b:c,i:j:k,l:m:n]</code></p><p id="29f9" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">a:b:c→切片平面<br/> i:j:k →切片行<br/> l:m:n →切片列</p><p id="2743" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例1: <br/> </strong> <code class="fe mo mp mq mr b">three_d[:,:,1:] </code> <br/> : →选择所有平面<br/> : →选择所有行<br/> 1: →从第1列到最后一列选择列</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj og"><img src="../Images/707c6314518374b23eb884405d85db4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*DYmKshCAX31sjieE2ucaMg.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="06ea" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[:,:,1:])<br/><em class="oe">#Output:<br/></em>[[[1]<br/>  [3]]<br/><br/> [[5]<br/>  [7]]]</span></pre><h2 id="ced5" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated">超出范围的索引</h2><p id="9229" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">超出范围的索引可以通过切片得到很好的处理。</p><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="6bd4" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[2:,:,:])<br/><em class="oe">#Output: []</em></span></pre></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><h1 id="da94" class="la lb iu bd lc ld op lf lg lh oq lj lk ka or kb lm kd os ke lo kg ot kh lq lr bi translated">高级索引</h1><h2 id="dc62" class="ms lb iu bd lc mt mu dn lg mv mw dp lk mb mx my lm mf mz na lo mj nb nc lq nd bi translated">整数数组索引</h2><p id="02f7" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">整数数组索引允许根据它们的<em class="oe"> N </em>维索引选择数组中的任意项。每个整数数组代表该维度的多个索引- <a class="ae kz" href="https://numpy.org/doc/stable/reference/arrays.indexing.html" rel="noopener ugc nofollow" target="_blank"> Python docs </a></p><p id="7d43" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例1:二维数组</strong></p><p id="51b4" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">two_d[[0,1,2],[0,1,2]]</code></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oy"><img src="../Images/1b03d247312d4dd20718f114f1435f3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*IWk2CqTsfjgodE6aJKqnjg.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="85ad" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">对于每一行，选择一个特定的元素。<br/> row_index → [0，1，2] → row index指定要选择的行<br/> column_index →[0，1，2] → column index指定要为相应行选择的元素</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oz"><img src="../Images/7dec20f22e5141ec91f671b229faf801.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*b4edKsWgC11qM0yJGdJvPg.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="9d16" class="ms lb iu mr b gz nr ns l nt nu">print (two_d[[0,1,2],[0,1,2]])<br/><em class="oe">#Output:[0 4 8]</em></span></pre><p id="45f3" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><strong class="lu iv">例2:三维数组</strong></p><p id="fe9a" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><code class="fe mo mp mq mr b">three_d[[0,1],[0,1],[0,1]]</code> <br/>结果将是它将从(平面0，行0，列0)和(平面1，行1，列1)中选择元素。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj og"><img src="../Images/03a0a98f92c6075496f75467c283a03d.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*IHpP0DWx0OKTSleQd7PXwQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><pre class="kk kl km kn gu nn mr no np aw nq bi"><span id="a0cd" class="ms lb iu mr b gz nr ns l nt nu">print (three_d[[0,1],[0,1],[0,1]])<br/><em class="oe">#Output:[0 4 8]</em></span></pre></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><h1 id="5f18" class="la lb iu bd lc ld op lf lg lh oq lj lk ka or kb lm kd os ke lo kg ot kh lq lr bi translated">Git Hub链接</h1><p id="9372" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">这里使用的代码可以从G <a class="ae kz" href="https://github.com/IndhumathyChelliah/numpy/blob/master/indexing_slicing/indexing_slicing.ipynb" rel="noopener ugc nofollow" target="_blank"> it Hub </a>上的Jupyter笔记本中获得</p><h1 id="5694" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">结论</h1><ul class=""><li id="a72a" class="ne nf iu lu b lv lw ly lz mb ng mf nh mj ni mn nj nk nl nm bi translated">在基本索引中，超出范围的索引将产生一个<strong class="lu iv">索引错误</strong></li><li id="6424" class="ne nf iu lu b lv pa ly pb mb pc mf pd mj pe mn nj nk nl nm bi translated">在基本切片中，超出范围的索引被优雅地处理。</li><li id="276e" class="ne nf iu lu b lv pa ly pb mb pc mf pd mj pe mn nj nk nl nm bi translated">基本切片生成的所有数组都是原始数组的<strong class="lu iv">视图</strong>。</li><li id="5df1" class="ne nf iu lu b lv pa ly pb mb pc mf pd mj pe mn nj nk nl nm bi translated">在基本索引中，<strong class="lu iv"> x[i，j，k] </strong>等价于<strong class="lu iv"> x[(i，j，k)] </strong></li><li id="09b1" class="ne nf iu lu b lv pa ly pb mb pc mf pd mj pe mn nj nk nl nm bi translated">在基本切片中，我们不应该使用切片对象的元组。<br/> a[1:，1:] →右<br/> a[(1:，1:)] →错</li><li id="f96a" class="ne nf iu lu b lv pa ly pb mb pc mf pd mj pe mn nj nk nl nm bi translated"><strong class="lu iv">全切片</strong>将基于提到的轴选择整个平面/行/列。<br/> a[:] →它将选择一维数组<br/> a[1，:]中的<strong class="lu iv">所有行</strong>→它将选择二维数组<br/> a[:，1，1]中的<strong class="lu iv">所有列</strong>→它将选择三维数组<strong class="lu iv">中的</strong>所有平面<strong class="lu iv">中的【1】行和【1】列</strong></li><li id="7878" class="ne nf iu lu b lv pa ly pb mb pc mf pd mj pe mn nj nk nl nm bi translated">对于尾部索引，省略的索引表示一个完整的切片<br/> a[1]与二维数组中的a[1，:]相同<br/> a[1，1]与三维数组中的a[1，1，:]相同</li></ul></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><h1 id="6d6d" class="la lb iu bd lc ld op lf lg lh oq lj lk ka or kb lm kd os ke lo kg ot kh lq lr bi translated">资源(Python文档)</h1><p id="b3c0" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><a class="ae kz" href="https://numpy.org/doc/stable/reference/arrays.indexing.html" rel="noopener ugc nofollow" target="_blank">分度和切片</a></p><p id="9a3c" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><a class="ae kz" href="https://numpy.org/doc/stable/glossary.html#term-view" rel="noopener ugc nofollow" target="_blank">查看</a></p></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><p id="7d59" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated"><em class="oe">请关注此空间，获取更多关于Python和数据科学的文章。如果你喜欢多看我的教程，就关注我的</em> <a class="ae kz" href="https://medium.com/@IndhumathyChelliah" rel="noopener"> <strong class="lu iv"> <em class="oe">中</em></strong></a><a class="ae kz" href="https://www.linkedin.com/in/indhumathy-chelliah/" rel="noopener ugc nofollow" target="_blank"><strong class="lu iv"><em class="oe">LinkedIn</em></strong></a><strong class="lu iv"><em class="oe"/></strong><a class="ae kz" href="https://twitter.com/IndhuChelliah" rel="noopener ugc nofollow" target="_blank"><strong class="lu iv"><em class="oe">推特</em> </strong> </a> <strong class="lu iv"> <em class="oe">。</em>T50】</strong></p><p id="8416" class="pw-post-body-paragraph ls lt iu lu b lv nw jv lx ly nx jy ma mb ob md me mf oc mh mi mj od ml mm mn in bi translated">感谢阅读！</p></div></div>    
</body>
</html>