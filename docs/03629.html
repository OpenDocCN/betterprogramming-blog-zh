<html>
<head>
<title>React Router v6 in Three Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">三分钟后反应路由器v6</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/react-router-v6-in-two-minutes-a7a2963e2340?source=collection_archive---------3-----------------------#2020-02-24">https://betterprogramming.pub/react-router-v6-in-two-minutes-a7a2963e2340?source=collection_archive---------3-----------------------#2020-02-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e275" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解最新版本中的新内容</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7a0f63f358060375a47008163414f878.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ozfn0qCwLGTd6q9r"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@fatosi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">法托斯Bytyqi </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="8ced" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在撰写本文时，<a class="ae ky" href="https://reacttraining.com/react-router/web/guides/quick-start" rel="noopener ugc nofollow" target="_blank"> React路由器</a> v6作为alpha版本出现在地平线上。即使是早期的alpha版本，也有那么多好消息可讲。</p><p id="e5f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可能已经知道，React还有另一个很棒的路由解决方案，叫做<a class="ae ky" href="https://reach.tech/router" rel="noopener ugc nofollow" target="_blank"> Reach Router </a>。Reach Router是轻量级的，更容易使用，并且注重可访问性。它由React路由器的核心贡献者之一<a class="lv lw ep" href="https://medium.com/u/162352c45b6e?source=post_page-----a7a2963e2340--------------------------------" rel="noopener" target="_blank"> Ryan Florence </a>构建。正如Ryan在他的<a class="ae ky" href="https://reacttraining.com/blog/reach-react-router-future/" rel="noopener ugc nofollow" target="_blank">2019年年中博客文章</a>中提到的，React路由器和Reach路由器将合并在一起，React路由器将成为幸存的项目。</p><p id="31b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经在v5.1中看到了Hooks API的最初成果，但是我们开始看到v6的实际结果:嵌套路由、相对链接、相对路由、自动路由排名等等。</p><p id="8a70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注:React路由器<a class="ae ky" href="https://github.com/ReactTraining/react-router/releases/tag/v6.0.0-alpha.2" rel="noopener ugc nofollow" target="_blank">v 6 . 0 . 0-α2</a>在编写时使用。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="63b6" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">获取React路由器v6</h1><p id="777e" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">运行以下命令来获取React路由器v6:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="4642" class="ng mf it nc b gy nh ni l nj nk">npm install react-router@<!-- -->next<!-- --> react-router-dom@<!-- -->next</span></pre></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="9c44" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">捆绑大小</h1><p id="a657" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">与以前版本相比，最大的改进之一是包的大小。比之前的版本减少了差不多70%。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/27a90a0e097d24e9f7c9ab51170651d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4PL94V11_YEO3jyen0dpqQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React路由器v6的捆绑包大小减少了约70%。</p></figure><ul class=""><li id="0675" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated"><a class="ae ky" href="https://bundlephobia.com/result?p=react-router-dom@5.1.2" rel="noopener ugc nofollow" target="_blank"> React路由器v 5 . 1 . 2</a>:9.4 kb minified+gzipped</li><li id="8f5c" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated"><a class="ae ky" href="https://bundlephobia.com/result?p=react-router-dom@6.0.0-alpha.2" rel="noopener ugc nofollow" target="_blank"> React路由器v 6 . 0 . 0-alpha 2</a>:2.9 kb minified+gzipped</li></ul><p id="8221" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">React路由器的创造者迈克尔·杰克逊(Michael Jackson)解释了他们是如何实现这一结果的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React路由器v6的捆绑包大小减少了约70%。</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="2f06" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">切换到路线</h1><p id="ffb7" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated"><code class="fe oc od oe nc b">&lt;Switch&gt;</code>替换为<code class="fe oc od oe nc b">&lt;Routes&gt;</code>。由于这个新的API，我们可以在一个地方定义我们所有的路线，并自动进行路线排序以及相对路线和链接。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of ob l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="fee2" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">具有自动路线匹配的嵌套和相对路线</h1><p id="ffe6" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated"><code class="fe oc od oe nc b">&lt;Route&gt;</code>经历了一些变化，使我们的生活变得更容易。</p><ul class=""><li id="e770" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated"><code class="fe oc od oe nc b">&lt;Route component&gt;</code>被<code class="fe oc od oe nc b">&lt;Route element&gt;</code>取代。</li><li id="f45e" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated"><code class="fe oc od oe nc b">&lt;Route children&gt;</code>已更改为接受子路线。</li><li id="9360" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">不再有<code class="fe oc od oe nc b">&lt;Route exact&gt;</code>和<code class="fe oc od oe nc b">&lt;Route strict&gt;</code>，因为路线是自动匹配的。</li><li id="1916" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated"><code class="fe oc od oe nc b">&lt;Route path&gt;</code>相对于路线的层次结构。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of ob l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="d765" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">相对链接</h1><p id="d612" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">与<code class="fe oc od oe nc b">&lt;Route path&gt;</code>一样，<code class="fe oc od oe nc b">&lt;Link to&gt;</code>也是相对于路线的层次而言的。如果省略开头的<code class="fe oc od oe nc b">/</code>，它会变成相对于它所在的路径路径。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of ob l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="342b" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">后代路线</h1><p id="17a4" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">您可以在一个应用中自由使用多个<code class="fe oc od oe nc b">&lt;Routes&gt;</code>。将小的应用程序组合在一起工作是很有用的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of ob l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="9194" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">用户路由</h1><p id="a6ff" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">你还记得让你把路线定义为一个对象的<code class="fe oc od oe nc b">react-router-config</code>包吗？那个包裹已经成为历史了。现在我们用<code class="fe oc od oe nc b">useRoutes</code>钩子代替。</p><p id="045c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它类似于旧包，但有一些改进。您将路由定义为一个对象数组，将它传递给自定义钩子，然后得到一个可以呈现的React元素。就是这样。</p><p id="1776" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个配置示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of ob l"/></div></figure><p id="55a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我说<code class="fe oc od oe nc b">&lt;Routes&gt;</code>只是<code class="fe oc od oe nc b">useRoutes</code>的一个包装组件，我希望你不会感到惊讶。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="e395" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">使用导航而不是使用历史</h1><p id="a45d" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated"><code class="fe oc od oe nc b">useHistory</code>现已成为历史。它已经被React的悬念导航API所取代。从现在开始，你可以<code class="fe oc od oe nc b">useNavigate</code>四处导航。它有命令式和声明式选项。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of ob l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="f130" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">结论</h1><p id="a3eb" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">接下来的几天肯定会有越来越多的细节。不管怎样，我对我所看到的已经很满意了。</p><p id="c438" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="857a" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">推荐故事</h1><div class="og oh gp gr oi oj"><a href="https://medium.com/better-programming/the-best-way-to-manage-routes-in-a-react-project-with-typescript-c4e8d4422d64" rel="noopener follow" target="_blank"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd iu gy z fp oo fr fs op fu fw is bi translated">使用TypeScript管理React项目中的路线的最佳方式</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">获得类型的优势，像冠军一样管理您的路线</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">medium.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox ks oj"/></div></div></a></div></div></div>    
</body>
</html>