<html>
<head>
<title>Build a Reporting App With Vue 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vue 3构建报告应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-reporting-app-with-vue-3-e9f57b6d2f21?source=collection_archive---------4-----------------------#2022-02-04">https://betterprogramming.pub/build-a-reporting-app-with-vue-3-e9f57b6d2f21?source=collection_archive---------4-----------------------#2022-02-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bc72" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用组合和选项API可视化您的数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/67541013060d1fc0107dc923fb521174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M4gxgWZ6DZHkQ5ac"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">莎拉·伊莉莎白在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="4516" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的Twitter已经被关于Vue.js框架新版本的帖子占据了，所以我忍不住用它创建了一些数据可视化的东西。</p><h1 id="d12e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Vue 3是什么？</h1><p id="9f96" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先，我决定搜索一些关于新Vue版本的额外信息，以了解我正在处理的问题。综上所述，我得出以下结论:</p><ul class=""><li id="36f8" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">Vue的创造者设法提高了性能和束尺寸，使Vue 3比Vue 2更快更轻；</li><li id="5808" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">新版本带来了一些语法变化和一些反对意见；</li><li id="6714" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">Vue 3有更好的TypeScript支持；</li><li id="116b" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">添加了新的组件组合API。</li></ul><p id="9bd1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上一次更新真正引起了我的兴趣，因为我经常使用不同的JavaScript数据可视化组件，我很好奇这一增强将如何影响我的web开发过程。正如Vue专家所认为的那样——绝不可能。</p><p id="54cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个API只是语言的一个补充，并不影响框架先前的功能。相反，它是为了解决Vue 2中使用的选项API的限制而创建的，是一种使用组件的替代方法。旧的方法在Vue 3中仍然可用，但是有类型脚本的限制，并且当你的组件变得更大时可读性变得困难。</p><p id="813a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，组合API与其说是某种创新，不如说是工作流程的便利和优化。然而，这并没有阻止我在行动中尝试这个东西的欲望。</p><p id="0f35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于一个测试项目，我决定使用<a class="ae kv" href="https://www.flexmonster.com/?r=bp1" rel="noopener ugc nofollow" target="_blank"> Flexmonster数据透视表和图表</a>和<a class="ae kv" href="https://www.highcharts.com/" rel="noopener ugc nofollow" target="_blank"> Highcharts </a>库，因为我以前已经使用过它们，它们与Vue 3集成在一起。但更重要的是，Flexmonster团队在GitHub上创建了一个特殊的示例项目，在这里您可以检查他们的组件在Vue.js的2和3版本以及Highcharts集成中的使用情况。这个项目还包含了组合和选项API的用法的例子。</p><p id="4e6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，对于我的研究目标来说，这是一个完美的匹配，因为我可以比较它们，并决定在实际项目中使用什么。</p><h1 id="8f03" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1.准备所需的技术</h1><p id="2b01" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">要使用Vue，您需要Node.js和npm。要检查它们是否出现在您的机器上，请运行:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="5137" class="ni lt iq ne b gy nj nk l nl nm">node -v</span><span id="3a22" class="ni lt iq ne b gy nn nk l nl nm">npm -v</span></pre><p id="b685" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果没有，就在这里停下来<a class="ae kv" href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm#using-a-node-version-manager-to-install-node-js-and-npm" rel="noopener ugc nofollow" target="_blank">安装它们。</a></p><p id="ec9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，我们的任务也需要Vue CLI，如果您仍然没有使用此命令:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="da9e" class="ni lt iq ne b gy nj nk l nl nm">npm install -g @vue/cli</span></pre><p id="d202" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个需要的工具是<a class="ae kv" href="https://www.flexmonster.com/doc/cli-overview/" rel="noopener ugc nofollow" target="_blank"> Flexmonster CLI </a>，这是使用pivot grid库最方便的方式。您可以使用npm安装它:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="80ae" class="ni lt iq ne b gy nj nk l nl nm">npm install -g flexmonster-cli</span></pre><p id="0867" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们准备的最后一步是通过npm安装Highcharts:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="8f45" class="ni lt iq ne b gy nj nk l nl nm">​​npm i — save vue3-highcharts</span></pre><p id="d2d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们准备开始工作了。</p><h1 id="f68f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2.创建一个简单的Vue应用</h1><p id="5be0" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">因为我还不知道在哪里嵌入组件，所以我将从头开始创建它:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="e32a" class="ni lt iq ne b gy nj nk l nl nm">vue create project-name</span><span id="ced8" class="ni lt iq ne b gy nn nk l nl nm">cd project-name</span></pre><p id="7ace" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在此之后，您将能够为您的项目选择一个预置。这次我更喜欢默认的。</p><h1 id="4407" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3.将应用程序与Flexmonster集成</h1><p id="6b9f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在开始集成之前，我想看看组合API实现的例子，所以我去了Flexmonster GitHub，看了看他们的建议。</p><p id="5947" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">唯一的变化是在Vue 2和Vue 3示例的项目中添加了一个组件，即添加了以下代码行:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="7954" class="ni lt iq ne b gy nj nk l nl nm">import {defineComponent} from ‘vue’;</span><span id="0dc7" class="ni lt iq ne b gy nn nk l nl nm">export default defineComponent({…})</span></pre><p id="06a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">没什么大不了的。用Vue 3中的Option和Composition API比较这两个文件，我注意到更多一些。</p><p id="078e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">合成API:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="6e10" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选项API:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="f67c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以使用Composition API，需要将<code class="fe nq nr ns ne b">ref</code> <em class="nt"> </em>变量传递给脚本并引用它，而不是直接到达组件。</p><p id="90cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以选择这两种方法中的任何一种，但就个人而言，我决定尝试一下Composition API。考虑到这一点，我开始编码。</p><p id="d1d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，首先，您需要从带有<code class="fe nq nr ns ne b">package.json</code>的文件夹中运行这个CLI命令来安装Flexmonster Vue模块:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="bb65" class="ni lt iq ne b gy nj nk l nl nm">flexmonster add vue-flexmonster</span></pre><p id="6715" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我会在本地注册<code class="fe nq nr ns ne b">vue-flexmonster</code>。为此，我在需要数据透视表的组件的<code class="fe nq nr ns ne b">&lt;script&gt;</code>部分添加了以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="47bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一步是将透视表实例添加到Vue组件中，方法是将透视表模块包含在所选组件的<code class="fe nq nr ns ne b">&lt;template&gt;</code>部分中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><h1 id="b20d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">4.添加高图表并将它们连接到透视</h1><p id="deec" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">首先将图表导入Vue 3应用程序:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="170f" class="ni lt iq ne b gy nj nk l nl nm">import Highcharts from “highcharts”;</span></pre><p id="55fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们将需要添加一个特殊的连接器来传递数据和几个方法到脚本，这将有助于图表和透视网格之间的通信:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="e834" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，为了在页面上显示我们的图表，让我们在模板的透视表下放置一个包含Highcharts的容器:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="6f59" class="ni lt iq ne b gy nj nk l nl nm">&lt;div class=”chart-container”&gt;</span><span id="a376" class="ni lt iq ne b gy nn nk l nl nm">&lt;div id=”highcharts-container”&gt;&lt;/div&gt;</span><span id="f73f" class="ni lt iq ne b gy nn nk l nl nm">&lt;/div&gt;</span></pre><h1 id="f5b1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">5.运行您的应用</h1><p id="d1f8" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">只需从控制台运行您的应用程序:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="ccf5" class="ni lt iq ne b gy nj nk l nl nm">npm run serve</span></pre><p id="d2d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并在您的浏览器中通过<a class="ae kv" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080/ </a>获得您的结果。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/ef7c41c176dbdb757a6cee927886d19d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1iCrOHcaNG8aeglQj72mIQ.gif"/></div></div></figure><h1 id="8803" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="68dc" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">使用Composition API并不比默认API复杂多少，但是我们将看到它在一个工作项目中处理任务的能力。</p><p id="7a6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你对这个话题感兴趣，你也可以在这个关于<a class="ae kv" href="https://www.youtube.com/watch?v=0pwL89YdqRE" rel="noopener ugc nofollow" target="_blank">学习Vue 3组合API的Vue.js视频教程中通过一个简单的Todos例子</a>了解更多关于这个方法的信息。</p><p id="1da2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果这个教程对你有帮助，我会很高兴听到你对Vue 3和这个集成的反馈和想法。</p><h1 id="c7d2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">资源</h1><ol class=""><li id="09b3" class="mp mq iq ky b kz mk lc ml lf nv lj nw ln nx lr ny mv mw mx bi translated"><a class="ae kv" href="https://v3.vuejs.org/api/" rel="noopener ugc nofollow" target="_blank"> Vue 3 API文档</a></li><li id="53f2" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr ny mv mw mx bi translated"><a class="ae kv" href="https://www.flexmonster.com/doc/integration-with-vue-3/" rel="noopener ugc nofollow" target="_blank"> Flexmonster数据透视表和图表Vue 3文档</a></li><li id="ff00" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr ny mv mw mx bi translated"><a class="ae kv" href="https://www.highcharts.com/docs/index" rel="noopener ugc nofollow" target="_blank"> Highcharts文档</a></li><li id="100a" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr ny mv mw mx bi translated"><a class="ae kv" href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm#using-a-node-version-manager-to-install-node-js-and-npm" rel="noopener ugc nofollow" target="_blank">下载并安装Node.js和npm </a>指南</li><li id="17fa" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr ny mv mw mx bi translated"><a class="ae kv" href="https://www.flexmonster.com/doc/cli-overview/" rel="noopener ugc nofollow" target="_blank"> Flexmonster CLI概述</a></li><li id="79cd" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr ny mv mw mx bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=0pwL89YdqRE" rel="noopener ugc nofollow" target="_blank">关于合成API的视频教程</a></li></ol></div></div>    
</body>
</html>