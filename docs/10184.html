<html>
<head>
<title>This Library is 15 Times Faster Than Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这个图书馆比熊猫快15倍</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/this-library-is-15-times-faster-than-pandas-7e49c0a17adc?source=collection_archive---------1-----------------------#2021-12-09">https://betterprogramming.pub/this-library-is-15-times-faster-than-pandas-7e49c0a17adc?source=collection_archive---------1-----------------------#2021-12-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="556b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Polars简介:一个用于操作数据的Python库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/49254ef1beb2dd9ef345acc91c1cdc5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yqECvaK6kmsrmgdC_Oehtg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">汉斯-尤尔根·马格在<a class="ae ky" href="https://unsplash.com/s/photos/polar-bear?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="86ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备数据集是我们在数据科学过程中需要完成的步骤之一。Pandas是准备和分析表格数据最受欢迎的库选择。但是有一个问题。这个库很慢，尤其是在较大的数据集上。</p><p id="d395" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">令人欣慰的是，如此多的开发人员开发了能够以指数级速度更快准备数据的库。其中一个图书馆叫做<a class="ae ky" href="https://www.pola.rs/" rel="noopener ugc nofollow" target="_blank">极地</a>。</p><p id="b41d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Polars是一个使用Rust语言实现的库。此外，它是为Python语言创建的。它很快，因为它使用了计算机上的所有内核。除此之外，他们还使用自己的算法优化了数据处理过程。</p><p id="3395" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是Polars的速度有多快，和熊猫有什么区别？</p><p id="6349" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将带您了解Polars的细节，从为什么应该使用它们到如何使用这个库。我们开始吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9600" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么是Polars？</h1><h2 id="2489" class="mu md it bd me mv mw dn mi mx my dp mm li mz na mo lm nb nc mq lq nd ne ms nf bi translated">它很快。我是说非常快。</h2><p id="20b9" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">H2O.ai对所有用于数据操作的库进行了基准测试。已经完成的测试是聚合数据和连接两个不同的数据集。这些测试是在从0.2 GB、5 GB到50 GB的三种不同的数据集大小上进行的。你可以在这里看到关于实验<a class="ae ky" href="https://h2oai.github.io/db-benchmark/" rel="noopener ugc nofollow" target="_blank">的细节。</a></p><p id="896a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在聚合任务上，Polars遥遥领先于所有竞争对手。他们在143秒内聚合了50 GB的数据集。熊猫甚至不能完成这个过程，因为它们没有内存。您可以在下面的图表中看到详细信息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/b02455a5121c3f7a5389e6533d5b516b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqWAWijGSQnBuFOMZxagjQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图表摘自H2O.ai <a class="ae ky" href="https://h2oai.github.io/db-benchmark/" rel="noopener ugc nofollow" target="_blank">基准测试结果。</a></p></figure><p id="d3b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在连接两个数据集的任务中，Polars在43秒内完成了。同时，熊猫用了628秒。我们可以看到Polars几乎比熊猫快15倍。您可以在下面的图表中看到详细信息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/9ce09996029ee7bac67f4abcfaf07559.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pxv4WEC9MnfMnWi11vQIPw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图表摘自H2O.ai <a class="ae ky" href="https://h2oai.github.io/db-benchmark/" rel="noopener ugc nofollow" target="_blank">基准测试结果。</a></p></figure><h2 id="6118" class="mu md it bd me mv mw dn mi mx my dp mm li mz na mo lm nb nc mq lq nd ne ms nf bi translated">它很容易使用</h2><p id="9cbc" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">除了速度快，这个库也很容易使用。与熊猫相比，Polars有一个写得很好的代码。</p><p id="ab73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于那些已经在R语言中使用过dplyr这样的库的人来说，你会感到惊讶，因为语法真的很相似。</p><p id="fd60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们以iris数据集为例。您可以通过此处的链接<a class="ae ky" href="https://www.kaggle.com/uciml/iris" rel="noopener ugc nofollow" target="_blank">访问数据集。这是数据集的预览:</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="824c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个数据集中，我们想做一个简单的任务。任务是过滤萼片长度大于5的数据。</p><p id="cf13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们使用sum基于其种类聚集数据。在熊猫身上，这个过程可以用这些代码行来完成。此外，您可以看到下面的结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="ab31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们将同样的任务应用于极坐标。首先，我们必须使用pip安装库。下面是实现这一点的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="0d72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了解决这个问题，Polars语法非常简单。它有一个声明性的属性。因此，我们可以通过声明所需的函数来完成这项工作。下面是这样做的代码和结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="95cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你从上面看到的，Polars的结果与熊猫相似。此外，我们有一个简单易学的语法，同时我们在更大的数据集上有很大的性能改进。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="8b4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经给你们展示过极化器了。我希望你能从这里学到新的东西。</p><p id="b1f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我希望本文能帮助您解决操作大型数据集的问题。因此，你不必担心内存和计算资源。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="af77" class="mu md it np b gy nt nu l nv nw"><strong class="np iu">Want to Connect With the Author?</strong></span><span id="47d0" class="mu md it np b gy nx nu l nv nw">Hit them up on <a class="ae ky" href="https://www.linkedin.com/in/alghaniirfan/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>.</span></pre></div></div>    
</body>
</html>