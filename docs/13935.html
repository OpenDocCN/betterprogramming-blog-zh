<html>
<head>
<title>Introducing Qwik — The JavaScript Framework With O(1) Load Time</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍Qwik——加载时间为O(1)的JavaScript框架</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/qwik-the-javascript-framework-with-o-1-load-time-222f30613361?source=collection_archive---------2-----------------------#2022-10-17">https://betterprogramming.pub/qwik-the-javascript-framework-with-o-1-load-time-222f30613361?source=collection_archive---------2-----------------------#2022-10-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="baf0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Qwik初学者指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e821b5c2190cb82b4676350f8c437d2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fNHp8uVXF5cBGORJLlEomQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">DALL-E 2生成的图像</p></figure><h1 id="deca" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">介绍</h1><p id="d6c9" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">网站向浏览器发送JavaScript以提供交互性。随着网站复杂性的增加，下载到浏览器的JavaScript数量每年都在增加。大多数JavaScript框架一次下载并执行所有代码。它最终导致加载时间变慢，因为加载时间是O(n)。</p><p id="56f4" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">Qwik 是一个JavaScript框架，它在用户交互时缓慢下载代码。它的目标是拥有即时启动的应用程序，甚至是在移动设备上。它通过两个主要策略实现目标:</p><ul class=""><li id="b8ae" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">尽可能长时间延迟JavaScript的执行和下载(除了开始代码，大约1KB)。</li><li id="6d25" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在服务器上序列化应用程序和框架的执行状态，并在客户端上恢复它。</li></ul><p id="4e0a" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">Qwik不是React，虽然它看起来类似React，并使用JSX。无论网站有多复杂，它都能提供最快的页面加载速度。它的加载时间是O(1)。</p><h1 id="147a" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">安装并运行Qwik</h1><p id="7a9a" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">运行以下命令安装Qwik:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="b625" class="nl kz it nh b gy nm nn l no np">% npm create qwik@latest</span></pre><p id="7fa5" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">安装是一个交互式向导，我们通过选择所有默认设置来进行选择。</p><p id="06b0" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">该项目安装在文件夹<code class="fe nq nr ns nh b">qwik-app</code>中。<code class="fe nq nr ns nh b">package.json</code>位于根目录下。在<code class="fe nq nr ns nh b">package.json</code>里面，有很多剧本。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><ul class=""><li id="ba4f" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第2行，脚本<code class="fe nq nr ns nh b">build</code>执行<code class="fe nq nr ns nh b">build.client</code>(第3行)、<code class="fe nq nr ns nh b">build.preview</code>(第4行)和<code class="fe nq nr ns nh b">build.types</code>(第5行)。</li><li id="b8d6" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第3行，脚本<code class="fe nq nr ns nh b">build.client</code>生成客户端模块。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="3c08" class="nl kz it nh b gy nm nn l no np">% npm run build.client</span><span id="e95b" class="nl kz it nh b gy nv nn l no np">&gt; build.client<br/>&gt; vite build</span><span id="2e39" class="nl kz it nh b gy nv nn l no np">vite v3.1.1 building for production...<br/>✓ 47 modules transformed.<br/>dist/q-manifest.json        11.45 KiB<br/>dist/build/q-8ba14edf.js    0.06 KiB / gzip: 0.07 KiB<br/>dist/build/q-53555967.js    4.57 KiB / gzip: 2.23 KiB<br/>dist/build/q-d7f3d226.js    0.26 KiB / gzip: 0.22 KiB<br/>dist/build/q-bceff05d.js    0.61 KiB / gzip: 0.27 KiB<br/>dist/build/q-8d91e16b.js    1.49 KiB / gzip: 0.84 KiB<br/>dist/build/q-026a668e.js    0.83 KiB / gzip: 0.49 KiB<br/>dist/build/q-b10147d6.js    0.20 KiB / gzip: 0.16 KiB<br/>dist/build/q-f13b34ad.js    1.00 KiB / gzip: 0.51 KiB<br/>dist/build/q-cff735f7.js    0.26 KiB / gzip: 0.20 KiB<br/>dist/build/q-8d0c32f0.js    0.26 KiB / gzip: 0.20 KiB<br/>dist/build/q-07a60165.js    0.43 KiB / gzip: 0.29 KiB<br/>dist/build/q-9abdde7c.js    0.11 KiB / gzip: 0.11 KiB<br/>dist/build/q-eab02654.js    2.42 KiB / gzip: 1.12 KiB<br/>dist/build/q-b5e190d0.js    2.82 KiB / gzip: 0.88 KiB<br/>dist/service-worker.js      2.13 KiB / gzip: 1.01 KiB<br/>dist/build/q-0ea8883c.css   1.58 KiB / gzip: 0.79 KiB<br/>dist/build/q-9d71bc2f.js    39.14 KiB / gzip: 15.82 KiB<br/>dist/build/q-9a4a797f.js    3.99 KiB / gzip: 1.99 KiB</span></pre><ul class=""><li id="d569" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第4行，脚本<code class="fe nq nr ns nh b">build.preview</code>为生产构建SSR包。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="c0b5" class="nl kz it nh b gy nm nn l no np">% npm run build.preview</span><span id="f188" class="nl kz it nh b gy nv nn l no np">&gt; build.preview<br/>&gt; vite build --ssr src/entry.preview.tsx</span><span id="a725" class="nl kz it nh b gy nv nn l no np">vite v3.1.1 building SSR bundle for production...<br/>✓ 17 modules transformed.<br/>server/entry.preview.mjs   32.50 KiB</span></pre><ul class=""><li id="d458" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第5行，脚本<code class="fe nq nr ns nh b">build.types</code>对源代码进行类型检查。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="fe50" class="nl kz it nh b gy nm nn l no np">% npm run build.types</span><span id="dba4" class="nl kz it nh b gy nv nn l no np">&gt; build.types<br/>&gt; tsc --incremental --noEmit</span></pre><ul class=""><li id="a259" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第6行，脚本<code class="fe nq nr ns nh b">dev</code>从开发模式开始，使用<a class="ae mr" href="https://vitejs.dev/" rel="noopener ugc nofollow" target="_blank"> Vite的开发服务器</a>。Vite是一个构建工具，旨在为现代web项目提供更快、更精简的开发体验。该命令生成SSR输出。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="a8a6" class="nl kz it nh b gy nm nn l no np">% npm run dev</span><span id="c7c0" class="nl kz it nh b gy nv nn l no np">&gt; dev<br/>&gt; vite --mode ssr</span><span id="c006" class="nl kz it nh b gy nv nn l no np">VITE v3.1.1  ready in 654 ms</span><span id="d648" class="nl kz it nh b gy nv nn l no np">➜  Local:   http://localhost:5173/<br/>  ➜  Network: use --host to expose<br/>(node:30981) ExperimentalWarning: The Fetch API is an experimental feature. This feature could change at any time<br/>(Use `node --trace-warnings ...` to show where the warning was created)</span></pre><ul class=""><li id="811c" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第7行，脚本<code class="fe nq nr ns nh b">dev.debug</code>以带有debug的开发模式开始。<code class="fe nq nr ns nh b">--inspect-brk</code>是<a class="ae mr" rel="noopener ugc nofollow" target="_blank" href="/5-major-features-of-node-js-18-5f4a164cc9fc"> Node.js </a>选项，用于启用inspector代理并监听默认地址和端口(<code class="fe nq nr ns nh b">127.0.0.1:9229</code>)。它在用户代码开始之前添加一个断点。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="4dc9" class="nl kz it nh b gy nm nn l no np">% npm run dev.debug</span><span id="93a2" class="nl kz it nh b gy nv nn l no np">&gt; dev.debug<br/>&gt; node --inspect-brk ./node_modules/vite/bin/vite.js --mode ssr --force</span><span id="defb" class="nl kz it nh b gy nv nn l no np">Debugger listening on ws://127.0.0.1:9229/9f1b7a85-5155-4e06-a510-67188fbe690a<br/>For help, see: <a class="ae mr" href="https://nodejs.org/en/docs/inspector" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/en/docs/inspector</a></span></pre><ul class=""><li id="327f" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第8行，脚本<code class="fe nq nr ns nh b">fmt</code>格式化所有代码。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="c267" class="nl kz it nh b gy nm nn l no np">% npm run fmt</span><span id="17d2" class="nl kz it nh b gy nv nn l no np">&gt; fmt<br/>&gt; prettier --write .</span><span id="b327" class="nl kz it nh b gy nv nn l no np">.eslintrc.cjs 52ms<br/>.vscode/extensions.json 4ms<br/>.vscode/qwik-city.code-snippets 3ms<br/>.vscode/qwik.code-snippets 8ms<br/>package-lock.json 63ms<br/>package.json 10ms<br/>README.md 56ms<br/>server/entry.preview.mjs 259ms<br/>src/components/header/header.css 47ms<br/>src/components/header/header.tsx 300ms<br/>src/components/icons/qwik.tsx 8ms<br/>src/components/router-head/router-head.tsx 26ms<br/>src/entry.dev.tsx 14ms<br/>src/entry.preview.tsx 3ms<br/>src/entry.ssr.tsx 5ms<br/>src/global.css 20ms<br/>src/root.tsx 5ms<br/>src/routes/flower/flower.css 12ms<br/>src/routes/flower/index.tsx 18ms<br/>src/routes/index.tsx 21ms<br/>src/routes/layout.tsx 4ms<br/>src/routes/service-worker.ts 4ms<br/>tsconfig.json 3ms<br/>vite.config.ts 3ms</span></pre><ul class=""><li id="afc2" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第9行，脚本<code class="fe nq nr ns nh b">fmt.check</code>检查是否有文件需要格式化。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="a97d" class="nl kz it nh b gy nm nn l no np">% npm run fmt.check</span><span id="9734" class="nl kz it nh b gy nv nn l no np">&gt; fmt.check<br/>&gt; prettier --check .</span><span id="82be" class="nl kz it nh b gy nv nn l no np">Checking formatting...<br/>All matched files use Prettier code style!</span></pre><ul class=""><li id="9d11" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第10行，脚本<code class="fe nq nr ns nh b">lint</code>使用eslint执行静态代码分析。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="4416" class="nl kz it nh b gy nm nn l no np">% npm run lint</span><span id="881f" class="nl kz it nh b gy nv nn l no np">&gt; lint<br/>&gt; eslint "src/**/*.ts*"</span></pre><ul class=""><li id="4791" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第11行，脚本<code class="fe nq nr ns nh b">preview</code>创建了客户机模块的生产版本，并运行本地服务器。预览服务器只是为了方便在本地预览生产版本，它不应该用作生产服务器。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="1c72" class="nl kz it nh b gy nm nn l no np">% npm run preview</span><span id="1bbb" class="nl kz it nh b gy nv nn l no np">&gt; preview<br/>&gt; qwik build preview &amp;&amp; vite preview --open</span><span id="3521" class="nl kz it nh b gy nv nn l no np">vite build<br/>vite build --ssr src/entry.preview.tsx</span><span id="0f70" class="nl kz it nh b gy nv nn l no np">vite v3.1.1 building for production...<br/>✓ 47 modules transformed.<br/>dist/q-manifest.json        11.45 KiB<br/>dist/build/q-8ba14edf.js    0.06 KiB / gzip: 0.07 KiB<br/>dist/build/q-d7f3d226.js    0.26 KiB / gzip: 0.22 KiB<br/>dist/build/q-53555967.js    4.57 KiB / gzip: 2.23 KiB<br/>dist/build/q-bceff05d.js    0.61 KiB / gzip: 0.27 KiB<br/>dist/build/q-8d91e16b.js    1.49 KiB / gzip: 0.84 KiB<br/>dist/build/q-026a668e.js    0.83 KiB / gzip: 0.49 KiB<br/>dist/build/q-f13b34ad.js    1.00 KiB / gzip: 0.51 KiB<br/>dist/build/q-b10147d6.js    0.20 KiB / gzip: 0.16 KiB<br/>dist/build/q-cff735f7.js    0.26 KiB / gzip: 0.20 KiB<br/>dist/build/q-8d0c32f0.js    0.26 KiB / gzip: 0.20 KiB<br/>dist/build/q-9abdde7c.js    0.11 KiB / gzip: 0.11 KiB<br/>dist/build/q-07a60165.js    0.43 KiB / gzip: 0.29 KiB<br/>dist/build/q-b5e190d0.js    2.82 KiB / gzip: 0.88 KiB<br/>dist/build/q-eab02654.js    2.42 KiB / gzip: 1.12 KiB<br/>dist/service-worker.js      2.13 KiB / gzip: 1.01 KiB<br/>dist/build/q-9d71bc2f.js    39.14 KiB / gzip: 15.82 KiB<br/>dist/build/q-0ea8883c.css   1.58 KiB / gzip: 0.79 KiB<br/>dist/build/q-9a4a797f.js    3.99 KiB / gzip: 1.99 KiB</span><span id="ed53" class="nl kz it nh b gy nv nn l no np">✓ Built client modules<br/>✓ Built preview (ssr) modules</span><span id="3bed" class="nl kz it nh b gy nv nn l no np">➜  Local:   <a class="ae mr" href="http://localhost:4173/" rel="noopener ugc nofollow" target="_blank">http://localhost:4173/</a><br/>  ➜  Network: use --host to expose<br/>(node:31183) ExperimentalWarning: The Fetch API is an experimental feature. This feature could change at any time<br/>(Use `node --trace-warnings ...` to show where the warning was created)</span></pre><ul class=""><li id="238f" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第12行，脚本<code class="fe nq nr ns nh b">start</code>启动开发服务器。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="3c65" class="nl kz it nh b gy nm nn l no np">% npm run start</span><span id="22e0" class="nl kz it nh b gy nv nn l no np">&gt; start<br/>&gt; vite --open --mode ssr</span><span id="995f" class="nl kz it nh b gy nv nn l no np">VITE v3.1.1  ready in 900 ms</span><span id="fcc4" class="nl kz it nh b gy nv nn l no np">➜  Local:   http://localhost:5173/<br/>  ➜  Network: use --host to expose<br/>(node:31325) ExperimentalWarning: The Fetch API is an experimental feature. This feature could change at any time<br/>(Use `node --trace-warnings ...` to show where the warning was created)</span></pre><ul class=""><li id="e961" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第13行，脚本<code class="fe nq nr ns nh b">qwik</code>可以用来添加额外的集成。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="4d05" class="nl kz it nh b gy nm nn l no np">% npm run qwik add</span><span id="6957" class="nl kz it nh b gy nv nn l no np">🦋  Add Integration</span><span id="6a70" class="nl kz it nh b gy nv nn l no np">? What feature would you like to add? › (use ↓↑ arrows, hit enter)<br/>❯   Server Adaptors (SSR)<br/>    Static Generator (SSG)<br/>    Partytown<br/>    Qwik React<br/>    Tailwind</span></pre><p id="7eae" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">Qwik需要Node.js 16或更高版本。执行<code class="fe nq nr ns nh b">npm run dev</code>，默认网站在<code class="fe nq nr ns nh b">http://localhost:5173/</code>可用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/65431aeb635d077c3523b49cee056401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_dfqUR0Ky_4mpqk0j57fTg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="66f3" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">Qwik源文件夹</h1><p id="b8c4" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">安装完成后，文件夹<code class="fe nq nr ns nh b">qwik-app</code>如下所示:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="bb04" class="nl kz it nh b gy nm nn l no np">qwik-app<br/>├── README.md<br/>├── public<br/>│   └── favicon.svg<br/>├── src<br/>│   ├── components<br/>│   ├── routes<br/>│   ├── entry.dev.tsx<br/>│   ├── <!-- -->entry.preview.tsx<br/>│   ├── <!-- -->entry.ssr.tsx<br/>│   ├── global.css<br/>│   └── root.tsx<br/>├── vite.config.ts<br/>├── tsconfig.json<br/>├── node_modules<br/>├── package.json<br/>├── package-lock.json<br/>├── .eslintignore<br/>├── .eslintrc.cjs<br/>├── .gitignore<br/>└── .prettierignore</span></pre><ul class=""><li id="1e2a" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated"><code class="fe nq nr ns nh b">qwik-app</code>:包含Qwik app代码的目录。</li><li id="e463" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">README.md</code>:描述项目结构和脚本。</li><li id="866e" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">public</code>:静态资产的目录，包括<code class="fe nq nr ns nh b">favicon.svg</code>。</li><li id="b0c7" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">src/components</code>:组件推荐目录。</li><li id="f341" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">src/routes</code>:提供基于目录的路由。</li><li id="4e6b" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">src/entry.dev.tsx</code>:仅使用客户端模块，无SSR的开发切入点。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><ul class=""><li id="4588" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated"><code class="fe nq nr ns nh b">src/entry.preview.tsx</code>:它是脚本<code class="fe nq nr ns nh b">preview</code>的bundle入口点，在生产模式下服务于SSR bundle。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="4901" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe nq nr ns nh b">QwikCity</code>在第1行导入，用于将<code class="fe nq nr ns nh b">render</code>适配到第7行的<code class="fe nq nr ns nh b">qwikCity</code>。Qwik City建立在Qwik的基础上，带来了自以为是的路由和其他以自以为是和高性能的方式大规模建立网站的东西。Qwik城到Qwik是Next.js要反应的。</p><ul class=""><li id="9be5" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated"><code class="fe nq nr ns nh b">src/entry.ssr.tsx</code>:这是SSR的切入点。它用于在浏览器外渲染应用的所有情况，用于express、cloudflare等服务器，以及用于脚本、<code class="fe nq nr ns nh b">start</code>、<code class="fe nq nr ns nh b">preview</code>和<code class="fe nq nr ns nh b">build</code>。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="02d1" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe nq nr ns nh b">renderToStream</code>(第6行)在服务器上生成HTML。反应过来<code class="fe nq nr ns nh b">ReactDOMServer</code>的<code class="fe nq nr ns nh b"><a class="ae mr" href="https://javascript.plainenglish.io/a-hands-on-guide-for-a-server-side-rendering-react-18-app-4e630aae274c" rel="noopener ugc nofollow" target="_blank">renderToString</a></code>和<a class="ae mr" href="https://javascript.plainenglish.io/a-hands-on-guide-for-a-server-side-rendering-react-18-app-4e630aae274c" rel="noopener ugc nofollow" target="_blank">的</a>和<code class="fe nq nr ns nh b"><a class="ae mr" href="https://javascript.plainenglish.io/a-hands-on-guide-for-a-server-side-rendering-react-18-app-4e630aae274c" rel="noopener ugc nofollow" target="_blank">renderToPipeableStream</a></code>差不多。</p><ul class=""><li id="fa17" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated"><code class="fe nq nr ns nh b">src/global.css</code>:这是全球通用的款式。</li><li id="9912" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">src/root.tsx</code>:定义<code class="fe nq nr ns nh b">QwikCity</code>网站的根文件。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="51fe" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在第19–28行，<code class="fe nq nr ns nh b">QwikCity</code>网站由<code class="fe nq nr ns nh b">head</code>(第20–23行)和<code class="fe nq nr ns nh b">body</code>(第24–27行)定义。在第25行，<code class="fe nq nr ns nh b">&lt;RouterOutlet&gt;</code>用于呈现子route元素。</p><ul class=""><li id="ea8c" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated"><code class="fe nq nr ns nh b">vite.config.js</code>:是<code class="fe nq nr ns nh b">qwikCity</code>和<code class="fe nq nr ns nh b">qwikVite</code>的Vite配置文件。</li><li id="668a" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">tsconfig.js</code>:TypeScript配置文件。</li></ul><h1 id="3a73" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">Qwik组件</h1><p id="31cf" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">文件夹<code class="fe nq nr ns nh b">src/components</code>是组件的推荐目录。开箱即用，有3个组件子目录，<code class="fe nq nr ns nh b">icons</code>、<code class="fe nq nr ns nh b">header</code>和<code class="fe nq nr ns nh b">router-head</code>。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="3269" class="nl kz it nh b gy nm nn l no np">components<br/>├── icons<br/>│   └── qwik.tsx<br/>├── header<br/>│   ├── header.tsx<br/>│   └── header.css<br/>└── <!-- -->router-head<br/>    └── <!-- -->router-head<!-- -->.tsx</span></pre><h2 id="9f78" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">QwikLogo组件</h2><p id="2d1c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><code class="fe nq nr ns nh b">QwikLogo</code>组件位于<code class="fe nq nr ns nh b">src/components/icons</code>内部。目前包括logo <a class="ae mr" rel="noopener ugc nofollow" target="_blank" href="/create-react-app-and-svgs-70970ac715f2"> SVG文件</a>、<code class="fe nq nr ns nh b">qwik.tsx</code>。</p><p id="5025" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这里是<code class="fe nq nr ns nh b">src/components/icons/qwik.tsx</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="4dfd" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">将此文件导入到一个<a class="ae mr" href="https://www.svgviewer.dev/" rel="noopener ugc nofollow" target="_blank"> SVG查看器</a>，我们可以看到Qwik徽标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/daf9a558255e7cd933310a1765a50066.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fV6Ql4QracSvDq7LqUOJEQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="c69c" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">标题组件</h2><p id="0e48" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><code class="fe nq nr ns nh b">Header</code>组件位于<code class="fe nq nr ns nh b">src/components/header</code>内。它定义了下面显示的默认网站的标题，其中Qwik徽标位于左上角区域。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/8d333894ea1b576533c200d64bca0a06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*VJqy8f0eN8k0D_lp3orRpg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b817" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">文件夹中有两个文件，<code class="fe nq nr ns nh b">src/components/header</code>:</p><ul class=""><li id="6d27" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated"><code class="fe nq nr ns nh b">header.tsx</code></li><li id="d8b7" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">header.css</code></li></ul><p id="8845" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这里是<code class="fe nq nr ns nh b">src/components/header/header.tsx</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="7bdc" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">上面的代码和React很像。</p><p id="a385" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe nq nr ns nh b">component$()</code>(第5行)是Qwik中的组件定义，它(第5–43行)定义了一段可重用的代码，可用于构建UI，类似于React中的功能组件。</p><p id="32e5" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe nq nr ns nh b">useStylesScoped$()</code>(第6行)创建一个作用域样式。</p><h2 id="f4de" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">什么是<code class="fe nq nr ns nh b">$</code>？</h2><p id="a4b1" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">它是优化器和开发人员知道优化器将应用一个转换来提取跟在<code class="fe nq nr ns nh b">$</code>后面的表达式，并把它变成一个可延迟加载和可导入的符号的标志。</p><p id="89d0" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这里是<code class="fe nq nr ns nh b">src/components/header/header.css</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="3a5e" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">它是一个CSS文件，定义了<code class="fe nq nr ns nh b">header</code>组件的标签和类选择器。</p><h2 id="ab20" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">路由器头组件</h2><p id="d272" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><code class="fe nq nr ns nh b">RouterHead</code>组件位于<code class="fe nq nr ns nh b">src/components/router-head</code>内部。它定义了放置在文档<code class="fe nq nr ns nh b">&lt;head&gt;</code>元素内部的内容。</p><p id="4213" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这里是<code class="fe nq nr ns nh b">src/components/router-head/router-head.tsx</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="0f50" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">通过<code class="fe nq nr ns nh b">root.tsx</code>将其放置在<code class="fe nq nr ns nh b">head</code>元素内部:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="3948" class="nl kz it nh b gy nm nn l no np">&lt;head&gt;<br/>  &lt;meta charSet="utf-8" /&gt;<br/>  &lt;RouterHead /&gt;<br/>&lt;/head&gt;</span></pre><p id="3dc9" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在浏览器上，<code class="fe nq nr ns nh b">View Page Source</code>显示转换后的标题内容。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h1 id="36ea" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">Qwik路线</h1><p id="770c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">文件夹<code class="fe nq nr ns nh b">src/routes</code>基于Qwik City，支持以下功能:</p><ul class=""><li id="eb47" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">基于目录的路由</li><li id="c6cc" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">嵌套布局</li><li id="607d" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">基于文件的菜单</li><li id="fc21" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">面包屑</li><li id="75cd" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">支持使用<code class="fe nq nr ns nh b">.tsx</code>或<code class="fe nq nr ns nh b">.mdx</code>文件格式创作内容</li><li id="6fe9" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">数据端点</li></ul><p id="ad4e" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">现成的routes包括以下文件/目录:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="d031" class="nl kz it nh b gy nm nn l no np">routes<br/>├── layout.tsx<br/>├── index.tsx<br/>├── service-worker.ts<br/>└── flower<br/>    ├── flower.css<br/>    └── index.tsx</span></pre><h2 id="921b" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">布局组件</h2><p id="0342" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在一个应用程序中，不同的路径通常共享一些共同的东西，比如页眉和页脚。这些公共部分由一个可在每个页面中重用的布局组件实现。</p><p id="5e1f" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这里是<code class="fe nq nr ns nh b">src/routes/layout.tsx</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="d525" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在第8行，普通的<code class="fe nq nr ns nh b">Header</code>被放置在页面的顶部。</p><p id="47ef" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在第10行，一个<code class="fe nq nr ns nh b">Slot</code>用于将子组件放置在页面中间。</p><p id="abc2" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">在第13–17行，一个<code class="fe nq nr ns nh b">footer</code>元素被放置在页面的底部。</p><h2 id="de86" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">索引路线</h2><p id="1482" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">每条路径的叶子文件命名为<code class="fe nq nr ns nh b">index</code>，文件类型可以是<code class="fe nq nr ns nh b">.ts</code>、<code class="fe nq nr ns nh b">.tsx</code>、<code class="fe nq nr ns nh b">.js</code>、<code class="fe nq nr ns nh b">.jsx</code>、<code class="fe nq nr ns nh b">.md</code>或<code class="fe nq nr ns nh b">.mdx</code>。</p><p id="0cf7" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">当URL为<code class="fe nq nr ns nh b">/</code>时，<code class="fe nq nr ns nh b">index.tsx</code>定义了放置在槽中的UI(在下面的红框中)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/46904b507c7688b44af899d85e91dd9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Olfqjw67Iht3ISe3YF-tA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7528" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">下面的<code class="fe nq nr ns nh b">src/routes/index.tsx</code>以简单明了的方式实现了上面的红框UI。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h2 id="9c1d" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">服务人员</h2><p id="66d1" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">传统的服务人员提供预取和缓存。Qwik City使用服务工作者动态预取可能执行的内容。不预取整个应用程序可以释放资源，只请求用户可以用于显示UI的小部分。</p><p id="a00f" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这里是<code class="fe nq nr ns nh b">src/routes/service-worker.ts</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="2f4a" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">该文件可以选择加入或退出服务工作人员。如果应用程序根本不想使用service worker，只需从文件中删除<code class="fe nq nr ns nh b">setupServiceWorker()</code>(第3行)。</p><h2 id="2bce" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">鲜花之路</h2><p id="a97f" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在路线上，<code class="fe nq nr ns nh b">/flower</code>，它显示了一个由一系列转换后的方块构建的花卉演示。</p><p id="8ebf" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">转到<code class="fe nq nr ns nh b">http://localhost:5173/flower</code>，我们看到一朵旋转的花。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者提供的视频</p></figure><p id="35a1" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">文件夹中有两个文件，<code class="fe nq nr ns nh b">src/routes/flower</code>:</p><ul class=""><li id="5cf6" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated"><code class="fe nq nr ns nh b">index.tsx</code></li><li id="8ef4" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated"><code class="fe nq nr ns nh b">flower.css</code></li></ul><p id="403e" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">当URL为<code class="fe nq nr ns nh b">/flower</code>时，<code class="fe nq nr ns nh b">index.tsx</code>定义了放置在槽中的UI。</p><p id="4346" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这里是<code class="fe nq nr ns nh b">src/routes/flower/index.tsx</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><ul class=""><li id="eeb9" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第10–59行，定义了花组件。</li><li id="0d6f" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">(第11行)创建一个作用域样式。<code class="fe nq nr ns nh b">useLocation</code>(第12行)检索URL位置。</li><li id="1775" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第14–17行，创建了两个状态，<code class="fe nq nr ns nh b">count</code>和<code class="fe nq nr ns nh b">number</code>。<code class="fe nq nr ns nh b">count</code>更新css变量<code class="fe nq nr ns nh b">--state</code>(第39行)，用于计算<code class="fe nq nr ns nh b">flower.css</code>中的平方变换。<code class="fe nq nr ns nh b">number</code>用于控制花中有多少个方块(第46行)。</li><li id="58a3" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第19–25行，<code class="fe nq nr ns nh b">useClientEffect$</code>设置更新方块的时间间隔。</li><li id="dc53" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第29–36行，它定义了一个范围滑块来改变<code class="fe nq nr ns nh b">number</code>。</li><li id="70e1" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第37–45行，它定义了花的布局。</li><li id="ce88" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第46–55行，用类<code class="fe nq nr ns nh b">square</code>创建了一个数组<code class="fe nq nr ns nh b">div</code>。如果索引<code class="fe nq nr ns nh b">i</code>为奇数，它还会添加类别<code class="fe nq nr ns nh b">odd</code>。这些类用来设计<code class="fe nq nr ns nh b">div</code>的数组。</li><li id="b3ff" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第61–63行，定义了<code class="fe nq nr ns nh b">head</code>组件，它将被放在文档<code class="fe nq nr ns nh b">&lt;head&gt;</code>元素的内部。</li></ul><p id="5f32" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">有趣的是，在第43行检查URL位置的查询参数是否是<code class="fe nq nr ns nh b">/flower?pride=true</code>。当它为真时，它添加类<code class="fe nq nr ns nh b">pride</code>。</p><p id="255a" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">我们来看看<code class="fe nq nr ns nh b">src/routes/flower/flower.css</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><ul class=""><li id="d59e" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">在第1–18行，主机布局被样式化。</li><li id="0b1d" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第20–22行，范围滑块由<code class="fe nq nr ns nh b">100%</code> <code class="fe nq nr ns nh b">width</code>定义。</li><li id="486d" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第24–45行，正方形被设计了样式。</li><li id="c466" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第47–54行，奇数索引的方块被设置了不同的背景颜色。</li><li id="f7d2" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">在第56–73行，对于带有类<code class="fe nq nr ns nh b">pride</code>和<code class="fe nq nr ns nh b">square</code>的div，它们中的一些被定义了不同的背景颜色。</li></ul><p id="a115" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">转到<code class="fe nq nr ns nh b">http://localhost:5173/flower?pride=true</code>，我们看到一朵旋转的五彩缤纷的花。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者提供的视频</p></figure><h1 id="0eba" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">Qwik为什么快？</h1><p id="2a66" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">Qwik很快，因为它声称加载时间是O(1)。它的快速加载时间来自于可重用性、累进性和反应性。</p><h2 id="38f9" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">可再生性</h2><p id="5f5a" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">水合是一种类似于渲染的技术，但是它在服务器端的HTML代码中内置了完整的DOM。水合是耗时的，因为它必须下载与当前页面相关联的所有组件代码。它还需要执行与页面上的组件相关联的模板，以重新构建侦听器位置和内部组件树。</p><p id="afb1" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">这里有一个带有监听器的按钮:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="6276" class="nl kz it nh b gy nm nn l no np">&lt;button onclick=<!-- -->"handler<!-- -->Function()<!-- -->"<!-- -->&gt;Click me&lt;/button&gt;</span></pre><p id="2785" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">HTML代码需要下载要执行的JavaScript函数，该函数会导致为所有应用程序逻辑下载更多内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/070f9c1ce700557dbb86601318b7e698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7cpyZaq3xFGCcMNV"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自Qwik文档</p></figure><p id="ad14" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">Qwik与众不同，因为它不需要水合作用来恢复客户端上的应用程序。它的可恢复性是指在服务器中暂停执行，在客户机中恢复执行，而不必重放和下载所有的应用程序逻辑。</p><p id="bb46" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">Qwik将事件侦听器序列化为DOM，格式如下:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="69d0" class="nl kz it nh b gy nm nn l no np">&lt;button on:click="./chunk.js#handler_symbol"&gt;click me&lt;/button&gt;</span></pre><p id="40db" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated"><code class="fe nq nr ns nh b">on:click</code>属性包含包名和功能符号。只有当用户点击按钮时，它才能在客户端恢复应用程序。它使得Qwik比其他框架更快。</p><h2 id="3e53" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">累进性</h2><p id="1a89" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">渐进性是指根据应用程序的需要下载代码，而不必急切地下载整个代码库。在Qwik中，一切都是可延迟加载的:</p><ul class=""><li id="684b" class="ms mt it ls b lt mm lw mn lz mu md mv mh mw ml mx my mz na bi translated">组件on-render(初始化块和渲染块)</li><li id="3ba2" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">组件在线监视(副作用，仅在输入改变时下载)</li><li id="de4c" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">监听器(仅在交互时下载)</li><li id="9d6a" class="ms mt it ls b lt nb lw nc lz nd md ne mh nf ml mx my mz na bi translated">样式(仅在服务器尚未提供样式时下载)</li></ul><h2 id="50ee" class="nl kz it bd la nx ny dn le nz oa dp li lz ob oc lk md od oe lm mh of og lo oh bi translated">反应</h2><p id="bba2" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">Qwik跟踪哪些组件订阅了哪个状态。这些信息使Qwik能够在状态改变时只使相关的组件无效，这样可以最大限度地减少需要重新呈现的组件数量。</p><h1 id="052b" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">结论</h1><p id="282f" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">Qwik是一个JavaScript框架，它在用户交互时缓慢地下载代码。无论网站有多复杂，它都能提供最快的页面加载速度。它的加载时间是O(1)。</p><p id="553f" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">我们已经解释了安装的Qwik应用程序。它的语法类似于React。Qwik是核心，Qwik城市建立在Qwik之上，有组织的组件和路线。</p><p id="a382" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">构建Qwik应用程序很容易，不管网站有多复杂，它都可以提供最快的页面加载速度。</p><p id="9223" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">还有另一个web框架，<a class="ae mr" href="https://medium.com/p/5dadd98f8e39" rel="noopener"> Astro </a>，你可能想看看。它类似于Qwik，但是从目录结构到<code class="fe nq nr ns nh b">package.json</code>更简单。Astro专注于基于内容的网站。</p><p id="3da1" class="pw-post-body-paragraph lq lr it ls b lt mm ju lv lw mn jx ly lz mo mb mc md mp mf mg mh mq mj mk ml im bi translated">感谢阅读。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="2a61" class="nl kz it nh b gy nm nn l no np"><strong class="nh iu">Want to Connect?</strong></span><span id="1e35" class="nl kz it nh b gy nv nn l no np">If you are interested, check out <a class="ae mr" href="https://jenniferfubook.medium.com/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener">my directory of web development articles</a>.</span></pre></div></div>    
</body>
</html>