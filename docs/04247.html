<html>
<head>
<title>Boost Your Command-Line Productivity With Fuzzy Finder</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用模糊查找器提高您的命令行效率</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/boost-your-command-line-productivity-with-fuzzy-finder-985aa162ba5d?source=collection_archive---------0-----------------------#2020-04-01">https://betterprogramming.pub/boost-your-command-line-productivity-with-fuzzy-finder-985aa162ba5d?source=collection_archive---------0-----------------------#2020-04-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="48b9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用fzf提升您的CLI技能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4116a7f7b22a00b19e3d59b66d5e84b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2gM4xgptP1BVLOFe"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@museumsvictoria?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">维多利亚博物馆</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><blockquote class="kz la lb"><p id="ab19" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">4月7日更新:<br/> *增加了macOS的chrome书签浏览器</p></blockquote><p id="8298" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">作为开发人员，在编码时，我们将大部分时间花在ide和/或文本编辑器上，尽管他们在抽象低级命令以构建、测试、运行和调试我们的代码方面做得很好，但最终您会发现自己不得不通过命令行运行命令或更改文件。</p><p id="8642" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">您可以使用内置命令和POSIX实用程序，如<code class="fe mc md me mf b">pwd</code>、<code class="fe mc md me mf b">ls</code>、<code class="fe mc md me mf b">cd</code>、<code class="fe mc md me mf b">mv</code>、<code class="fe mc md me mf b">cp</code>、<code class="fe mc md me mf b">rm</code>、<code class="fe mc md me mf b">mkdir</code>、<code class="fe mc md me mf b">touch</code>、<code class="fe mc md me mf b">cat</code>、<code class="fe mc md me mf b">grep</code>、<code class="fe mc md me mf b">find</code>等。</p><p id="2717" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">但是，如果您想在使用CLI工具时提高工作效率，fzf 是:</p><blockquote class="mg"><p id="67e7" class="mh mi it bd mj mk ml mm mn mo mp ly dk translated">"命令行的交互式Unix筛选器，可用于任何列表；文件、命令历史、进程、主机名、书签、git提交等。”— <a class="ae ky" href="https://github.com/junegunn/fzf" rel="noopener ugc nofollow" target="_blank"> fzf </a></p></blockquote><figure class="mr ms mt mu mv kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/cc51113d108e480fcd4665d3f1291287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K5hql_N_c55TTD3VwDeQMQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">fzf预览</p></figure><p id="853f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在本文中，我将向您展示如何配置和定制<code class="fe mc md me mf b">fzf</code>，以及如何将它用作生产力助推器的例子。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="470d" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">目录</h1><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="1d6b" class="nz ne it mf b gy oa ob l oc od">· <a class="ae ky" href="#c4fb" rel="noopener ugc nofollow">Installation</a><br/>· <a class="ae ky" href="#1203" rel="noopener ugc nofollow">Usage</a><br/>  ∘ <a class="ae ky" href="#8ba3" rel="noopener ugc nofollow">Key bindings</a><br/>  ∘ <a class="ae ky" href="#8b19" rel="noopener ugc nofollow">Fuzzy completion alias</a><br/>  ∘ <a class="ae ky" href="#6261" rel="noopener ugc nofollow">Search syntax</a><br/>· <a class="ae ky" href="#9ce6" rel="noopener ugc nofollow">Customization</a><br/>  ∘ <a class="ae ky" href="#6480" rel="noopener ugc nofollow">Finder layout</a><br/>  ∘ <a class="ae ky" href="#451c" rel="noopener ugc nofollow">Preview window</a><br/>  ∘ <a class="ae ky" href="#9bdd" rel="noopener ugc nofollow">Color and UI configuration</a><br/>  ∘ <a class="ae ky" href="#d515" rel="noopener ugc nofollow">Key bindings</a><br/>  ∘ <a class="ae ky" href="#e770" rel="noopener ugc nofollow">Setting options as default</a><br/>· <a class="ae ky" href="#f4e9" rel="noopener ugc nofollow">Advanced Examples</a><br/>  ∘ <a class="ae ky" href="#1afd" rel="noopener ugc nofollow">Changing the default command</a><br/>  ∘ <a class="ae ky" href="#9ccd" rel="noopener ugc nofollow">Forgit</a><br/>  ∘ <a class="ae ky" href="#4cbe" rel="noopener ugc nofollow">Searching file contents</a><br/>  ∘ <a class="ae ky" href="#5a33" rel="noopener ugc nofollow">Docker</a><br/>  ∘ <a class="ae ky" href="#e100" rel="noopener ugc nofollow">Homebrew</a><br/>  ∘ <a class="ae ky" href="#3b54" rel="noopener ugc nofollow">npm</a><br/>  ∘ <a class="ae ky" href="#f623" rel="noopener ugc nofollow">z</a><br/>  ∘ <a class="ae ky" href="#0e88" rel="noopener ugc nofollow">Chrome bookmark browser (macOS)</a><br/>· <a class="ae ky" href="#7aa0" rel="noopener ugc nofollow">Similar Tools</a><br/>  ∘ <a class="ae ky" href="#e49c" rel="noopener ugc nofollow">Broot</a></span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="c4fb" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">装置</h1><p id="77b9" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">您可以在Linux、macOS和Windows上安装<code class="fe mc md me mf b">fzf</code>。如果你在macOS或Linux上，可以通过<a class="ae ky" href="http://brew.sh/" rel="noopener ugc nofollow" target="_blank"> Homebrew </a>和<a class="ae ky" href="http://linuxbrew.sh/" rel="noopener ugc nofollow" target="_blank"> Linuxbrew </a>获得，要安装它，运行:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="e748" class="nz ne it mf b gy oa ob l oc od">brew install fzf</span></pre><p id="779f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">对于Windows和其他选项，请访问GitHub上的官方<a class="ae ky" href="https://github.com/junegunn/fzf#installation" rel="noopener ugc nofollow" target="_blank">安装页面</a>。</p><p id="3f7f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">还建议安装键绑定和模糊补全:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="124c" class="nz ne it mf b gy oa ob l oc od">$(brew --prefix)/opt/fzf/install</span></pre><p id="eb76" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">这将为<code class="fe mc md me mf b">bash</code>和<code class="fe mc md me mf b">zsh</code>生成一个文件(并在您的<code class="fe mc md me mf b">.bashrc</code>或<code class="fe mc md me mf b">.zshrc</code>文件中获得它)，该文件包括三个键绑定和模糊完成别名。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="1203" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">使用</h1><p id="8441" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">要启动交互式UI，请运行:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="cc78" class="nz ne it mf b gy oa ob l oc od">fzf</span></pre><p id="41e1" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">当没有提供参数时，<code class="fe mc md me mf b">fzf</code>启动一个交互式查找器，由<code class="fe mc md me mf b">find</code>提供文件建议。</p><p id="2f4a" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">然后可以输入用<code class="fe mc md me mf b">SPACE</code>分隔的搜索词，用<code class="fe mc md me mf b">Arrow-UP</code>和<code class="fe mc md me mf b">Arrow-DOWN</code>导航，用<code class="fe mc md me mf b">TAB</code>选择多个文件，按<code class="fe mc md me mf b">ENTER</code>确认。完成后，所选文件的路径将打印在屏幕上。</p><p id="03aa" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在下面的例子中，我运行<code class="fe mc md me mf b">fzf</code>，搜索<em class="le"> READ，</em>用<code class="fe mc md me mf b">TAB</code>选择文件，用<code class="fe mc md me mf b">ENTER</code>确认:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/2395a5cb5e65d4eeb581f6889e614862.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iq5wfRyK8rvoUjogaoOIDQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">fzf示例</p></figure><p id="3f92" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">对于单项选择，不需要<code class="fe mc md me mf b">TAB</code>。当所需条目高亮显示时，按<code class="fe mc md me mf b">ENTER</code>即可。</p><p id="0bcc" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">我们也可以使用<code class="fe mc md me mf b">fzf</code>的输出作为另一个命令的参数:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="c224" class="nz ne it mf b gy oa ob l oc od">vim $(fzf)</span></pre><p id="56b2" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">因为<code class="fe mc md me mf b">fzf</code>可以从STDIN中读取一个列表，对其进行处理，并将选择的项目写入STDOUT，所以当<code class="fe mc md me mf b">fzf</code>与其他命令一起运行时，事情变得更加有趣。</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="a8f5" class="nz ne it mf b gy oa ob l oc od"># npm search<br/>npm search react | fzf</span><span id="891e" class="nz ne it mf b gy ok ob l oc od"># grep<br/>grep -irl react * | fzf</span><span id="10aa" class="nz ne it mf b gy ok ob l oc od"># PATH folders<br/>echo $PATH | tr ':' '\n' | fzf</span></pre><p id="f8cd" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果使用<code class="fe mc md me mf b">zsh</code>，可以为<code class="fe mc md me mf b">| fzf</code>添加一个<em class="le">全局</em>别名:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="6f0f" class="nz ne it mf b gy oa ob l oc od">alias -g Z='| fzf' # change Z to whatever you like</span></pre><p id="ab98" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">同样的例子可以写成:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="483a" class="nz ne it mf b gy oa ob l oc od">npm search react Z<br/>grep -irl react * Z<br/>echo $PATH | tr ':' '\n' Z</span></pre><h2 id="8ba3" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">按键绑定</h2><p id="4425" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">默认情况下，安装脚本会添加三个键绑定:</p><ol class=""><li id="9c10" class="ow ox it lf b lg lh lj lk lz oy ma oz mb pa ly pb pc pd pe bi translated"><strong class="lf iu"> CTRL-T </strong></li></ol><p id="8192" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">将选定的文件和目录粘贴到命令行上。</p><p id="7167" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在下面的例子中，我先输入<code class="fe mc md me mf b">vim</code>，然后输入<code class="fe mc md me mf b">CTRL-T</code>，出现的<code class="fe mc md me mf b">fzf</code>界面让我搜索我想要的文件。一旦我找到文件，我按下<code class="fe mc md me mf b">ENTER</code>返回到我的<code class="fe mc md me mf b">vim</code>命令和文件路径。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/ad1da3922d2b16f791971b3350032f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2MDlfM4ddnXamGaveBeglA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">CTRL-T示例</p></figure><p id="5672" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">您可以用<code class="fe mc md me mf b">TAB</code>和<code class="fe mc md me mf b">Shift-TAB</code>选择多个文件和目录，路径会全部粘贴到命令行上，中间用空格隔开。当你想<code class="fe mc md me mf b">rm</code>或者<code class="fe mc md me mf b">cat</code>多个文件的时候非常有用。</p><p id="fe2f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><strong class="lf iu"> 2。CTRL-R </strong></p><p id="a7b4" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">将历史记录中选定的命令粘贴到命令行上。</p><p id="c113" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在下面的例子中，我简单地通过按下<code class="fe mc md me mf b">CTRL-R</code>来调用UI，然后我可以搜索之前执行的任何命令，在这个例子中，我在寻找<code class="fe mc md me mf b">npm</code>命令来列出我的所有全局安装包，而不包括它们的依赖项。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/008316808a81739c30ba1a217387d39e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UvHE5CWvGncR-P6-Azpm0A.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">CTRL-R示例</p></figure><p id="72a1" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><strong class="lf iu"> 3。ALT-C </strong></p><p id="f277" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">Cd放入选定的目录。</p><p id="2121" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在下面的例子中，我可以从我的<code class="fe mc md me mf b">workspace</code>文件夹快速<code class="fe mc md me mf b">cd</code>(不需要输入<code class="fe mc md me mf b">cd</code>)到我的<code class="fe mc md me mf b">personal-website</code>回购的<code class="fe mc md me mf b">src</code>文件夹。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/be57424026974dac4a7c59f093cbdb68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7FeV4XuY8zyrVSIa0bxiSg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">ALT-C示例</p></figure><p id="80b2" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果您的终端将<code class="fe mc md me mf b">ALT-C</code>作为<em class="le">、</em>处理，您可以在您的<code class="fe mc md me mf b">.(ba|z)shrc</code>文件中添加下面一行到source命令之后:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="adc1" class="nz ne it mf b gy oa ob l oc od">bindkey "ç" fzf-cd-widget</span></pre><h2 id="8b19" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">模糊完成别名</h2><p id="bb2f" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">默认情况下，安装脚本将模糊完成触发器定义为<code class="fe mc md me mf b">**</code>。</p><p id="6ca2" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果你像我一样使用<code class="fe mc md me mf b">zsh</code>，你可能会经常使用<code class="fe mc md me mf b">**</code>作为其<a class="ae ky" href="http://zsh.sourceforge.net/Intro/intro_2.html" rel="noopener ugc nofollow" target="_blank">文件名生成</a>(又名<a class="ae ky" href="https://en.wikipedia.org/wiki/Glob_(programming)" rel="noopener ugc nofollow" target="_blank"> Glob </a>)的一部分，这可能会令人困惑，但不用担心，我们可以通过在你的<code class="fe mc md me mf b">.zshrc</code>文件中设置<code class="fe mc md me mf b">FZF_COMPLETION_TRIGGER</code>来轻松定制它:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="f029" class="nz ne it mf b gy oa ob l oc od">export FZF_COMPLETION_TRIGGER='**' # change ** to whatever you like </span></pre><p id="c4aa" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">模糊完成知道它前面的命令，这意味着建议可以根据您要做的事情而改变:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="e47f" class="nz ne it mf b gy oa ob l oc od"># Directories under current directory (single-selection)<br/>cd **&lt;TAB&gt;</span><span id="6c1f" class="nz ne it mf b gy ok ob l oc od"># Files under your home directory (multi-selection)<br/>vim ~/**&lt;TAB&gt;</span><span id="1c93" class="nz ne it mf b gy ok ob l oc od"># Host names are extracted from /etc/hosts and ~/.ssh/config<br/>ssh **&lt;TAB&gt;</span><span id="750f" class="nz ne it mf b gy ok ob l oc od"># Environment variables<br/>unset **&lt;TAB&gt;<br/>export **&lt;TAB&gt;</span><span id="e7e5" class="nz ne it mf b gy ok ob l oc od"># Aliases<br/>unalias **&lt;TAB&gt;</span></pre><p id="8c88" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">此外，为kill命令提供了PID的模糊完成。在这种情况下，没有触发序列，只需在<code class="fe mc md me mf b">kill</code>命令后按下<code class="fe mc md me mf b">tab</code>键即可。</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="7282" class="nz ne it mf b gy oa ob l oc od"># Can select multiple processes with &lt;TAB&gt; or &lt;Shift-TAB&gt; keys<br/>kill -9 &lt;TAB&gt;</span></pre><p id="c8f4" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">有一些<a class="ae ky" href="https://github.com/junegunn/fzf#settings" rel="noopener ugc nofollow" target="_blank">实验性API</a>用于定制模糊完成，并为其他命令启用它。</p><h2 id="6261" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">搜索语法</h2><p id="2c95" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">除了已经讨论过的模糊搜索之外，<code class="fe mc md me mf b">fzf</code>还支持改变搜索词处理方式的特殊标记:</p><ul class=""><li id="9f80" class="ow ox it lf b lg lh lj lk lz oy ma oz mb pa ly pf pc pd pe bi translated"><code class="fe mc md me mf b">'wild</code>:完全匹配，返回包含<code class="fe mc md me mf b">wild</code>的项目。</li><li id="d9fb" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">^music</code> : Prefix-exact-match，返回以<code class="fe mc md me mf b">music</code>开头的项目。</li><li id="a9fc" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">.mp3$</code>:后缀精确匹配，返回以<code class="fe mc md me mf b">.mp3</code>结尾的项目。</li><li id="155f" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">!fire</code>:逆向精确匹配，返回不包含<code class="fe mc md me mf b">fire</code>的项目。</li><li id="5896" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">!^music</code>:逆序前缀精确匹配，返回不以<code class="fe mc md me mf b">music</code>开头的项目。</li><li id="ad5c" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">!.mp3$</code>:反后缀精确匹配，返回不以<code class="fe mc md me mf b">.mp3</code>结尾的项目。</li></ul><p id="92bc" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">请注意，<code class="fe mc md me mf b">SPACE</code>充当的是<code class="fe mc md me mf b">AND</code>操作员，<code class="fe mc md me mf b">|</code>充当的是<code class="fe mc md me mf b">OR</code>。例如，匹配以<code class="fe mc md me mf b">music</code>开头并以<code class="fe mc md me mf b">mp3</code>、<code class="fe mc md me mf b">wav</code>或<code class="fe mc md me mf b">flac</code>结尾的条目的查询如下所示:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="e659" class="nz ne it mf b gy oa ob l oc od">^music mp3$ | wav$ | flac$</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="9ce6" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">用户化</h1><p id="1ef1" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated"><code class="fe mc md me mf b">fzf</code>提供了许多选项来配置finder布局、预览窗口、自定操作的按键绑定等等。我将在本节中介绍选项的子集，完整的选项列表请参见<code class="fe mc md me mf b">man</code>页(<code class="fe mc md me mf b">man fzf</code>)。</p><h2 id="6480" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">取景器布局</h2><p id="0dff" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">屏幕底部显示<code class="fe mc md me mf b">default</code>布局。我个人比较喜欢<code class="fe mc md me mf b">reverse</code>，从屏幕上方显示。我还设置了<code class="fe mc md me mf b">height=80%</code>,这样当finder打开时，我仍然可以看到上下文的终端。</p><p id="d2c9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">您可以通过运行以下命令来查看:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="ba56" class="nz ne it mf b gy oa ob l oc od">fzf --layout=reverse --height=80%</span></pre><p id="c2b9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">另一个与布局相关的选项是<code class="fe mc md me mf b">info</code>，我建议设置为<code class="fe mc md me mf b">inline</code>。它保存了一个额外的行，其中包含关于条目数量的信息(是否启用了排序，等等。)与查询在同一行。</p><h2 id="451c" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">预览窗口</h2><p id="c4e0" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated"><code class="fe mc md me mf b">fzf</code>我最喜欢的功能之一。它允许你预览一个条目的内容(文件、目录、环境变量等)。).</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/0fe3fdb479b837ff50c2a6b1d43cb5b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jgLoeJe5XqL7T8_o0lAfnQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">预览窗口示例</p></figure><p id="4c09" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">您可以通过以下选项实现该行为:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="0585" class="nz ne it mf b gy oa ob l oc od">fzf --preview '([[ -f {} ]] &amp;&amp; (bat --style=numbers --color=always {} || cat {})) || ([[ -d {} ]] &amp;&amp; (tree -C {} | less)) || echo {} 2&gt; /dev/null | head -200'</span></pre><p id="6753" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">让我们仔细看看它是如何工作的:</p><p id="dbc7" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><code class="fe mc md me mf b">--preview</code>选项接受对当前行执行的命令，其输出显示在预览窗口上。该命令可以使用占位符<code class="fe mc md me mf b">{}</code>，该占位符将被当前行的字符串替换。</p><p id="5d93" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">你可以使用更多的占位符，比如<code class="fe mc md me mf b">{+}</code>、<code class="fe mc md me mf b">{q}</code>和<code class="fe mc md me mf b">{n}</code>。更多信息请参考<code class="fe mc md me mf b">man</code>页(<code class="fe mc md me mf b">man fzf</code>)。</p><p id="5106" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">使用<code class="fe mc md me mf b">cat</code>的一个更简单的命令如下所示:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="7ed8" class="nz ne it mf b gy oa ob l oc od">fzf --preview 'cat {}'</span></pre><p id="823f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">所以，回到我们更复杂的命令，让我们来分解一下:</p><p id="681f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">首先，我们检查字符串是否是一个文件，如果是，我们尝试用<code class="fe mc md me mf b"><a class="ae ky" href="https://github.com/sharkdp/bat" rel="noopener ugc nofollow" target="_blank">bat</a></code>打开它(像<code class="fe mc md me mf b">cat</code>一样，但是有语法高亮显示)，如果失败，我们退回到<code class="fe mc md me mf b">cat</code>:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="f3ba" class="nz ne it mf b gy oa ob l oc od">([[ -f {} ]] &amp;&amp; (bat --style=numbers --color=always {} || cat {}))</span></pre><p id="19c1" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果字符串不是一个文件，我们检查它是否是一个目录。如果是，我们尝试用<code class="fe mc md me mf b"><a class="ae ky" href="https://linux.die.net/man/1/tree" rel="noopener ugc nofollow" target="_blank">tree</a></code>打开它，如果失败，我们返回到<code class="fe mc md me mf b">less</code>:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="b324" class="nz ne it mf b gy oa ob l oc od">([[ -d {} ]] &amp;&amp; (tree -C {} | less))</span></pre><p id="5c81" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果它不是一个文件或目录，我们最后的资源是<code class="fe mc md me mf b">echo</code>它:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="21b3" class="nz ne it mf b gy oa ob l oc od">echo {}</span></pre><p id="076d" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">最后，我们将所有错误重定向到<code class="fe mc md me mf b">/dev/null</code>并返回前200行:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="2d13" class="nz ne it mf b gy oa ob l oc od">2&gt; /dev/null | head -200</span></pre><h2 id="9bdd" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">颜色和用户界面配置</h2><p id="85fe" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">有四种基础方案可供选择:<code class="fe mc md me mf b">dark</code>、<code class="fe mc md me mf b">light</code>、<code class="fe mc md me mf b">16</code>和<code class="fe mc md me mf b">bw</code>，您还可以为16种UI元素(即文本、背景、装订线、边框等)设置单独的颜色(ANSI颜色代码或#RRGGBB格式的24位颜色)。).</p><p id="4893" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">例如，我一直使用的颜色:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="6fb5" class="nz ne it mf b gy oa ob l oc od">fzf --color='hl:148,hl+:154,pointer:032,marker:010,bg+:237,gutter:008'</span></pre><p id="d4e4" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果您想了解可以使用的ANSI颜色，请运行:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="3f2f" class="nz ne it mf b gy oa ob l oc od">for i in {0..255}; do print -Pn "%K{$i}  %k%F{$i}${(l:3::0:)i}%f " ${${(M)$((i%6)):#3}:+$'\n'}; done</span></pre><p id="ecfa" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">提示、指针和标记也可以自定义:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="e920" class="nz ne it mf b gy oa ob l oc od">fzf --prompt='~ ' --pointer='▶' --marker='✗'"</span></pre><h2 id="d515" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">按键绑定</h2><p id="7aec" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">您可以为超过40个不同的动作创建按键绑定，包括<code class="fe mc md me mf b">execute</code>，它可以用来调用任何外部命令。</p><p id="35ec" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">我使用的一些键绑定是:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="1d8f" class="nz ne it mf b gy oa ob l oc od"># Toggle preview window visibility with '?'<br/>fzf --bind '?:toggle-preview'</span><span id="3b95" class="nz ne it mf b gy ok ob l oc od"># Select all entries with 'CTRL-A'<br/>fzf --bind 'ctrl-a:select-all'</span><span id="cd66" class="nz ne it mf b gy ok ob l oc od"># Copy the selected entries to the clipboard with 'CTRL-Y'<br/>--bind 'ctrl-y:execute-silent(echo {+} | pbcopy)'</span><span id="2ec6" class="nz ne it mf b gy ok ob l oc od"># Open the selected entries in vim with 'CTRL-E'<br/>--bind 'ctrl-e:execute(echo {+} | xargs -o vim)'</span><span id="7b80" class="nz ne it mf b gy ok ob l oc od">#Open the selected entries in vscode with 'CTRL-V'<br/>--bind 'ctrl-v:execute(code {+})'</span></pre><h2 id="e770" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">将选项设置为默认值</h2><p id="112f" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">选项也可以添加到<code class="fe mc md me mf b">$FZF_DEFAULT_OPTS</code>中，以便它们总是被应用，不仅是在<code class="fe mc md me mf b">fzf</code>中，在使用键绑定和模糊完成时也是如此。</p><p id="7e38" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">结合以上所有选项，我们将拥有:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="0f4b" class="nz ne it mf b gy oa ob l oc od">export FZF_DEFAULT_OPTS="<br/>--layout=reverse<br/>--info=inline<br/>--height=80%<br/>--multi<br/>--preview-window=:hidden<br/>--preview '([[ -f {} ]] &amp;&amp; (bat --style=numbers --color=always {} || cat {})) || ([[ -d {} ]] &amp;&amp; (tree -C {} | less)) || echo {} 2&gt; /dev/null | head -200'<br/>--color='hl:148,hl+:154,pointer:032,marker:010,bg+:237,gutter:008'<br/>--prompt='∼ ' --pointer='▶' --marker='✓'<br/>--bind '?:toggle-preview'<br/>--bind 'ctrl-a:select-all'<br/>--bind 'ctrl-y:execute-silent(echo {+} | pbcopy)'<br/>--bind 'ctrl-e:execute(echo {+} | xargs -o vim)'<br/>--bind 'ctrl-v:execute(code {+})'<br/>"</span></pre><p id="8dd2" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">这里有几样东西是新的:</p><ul class=""><li id="b38f" class="ow ox it lf b lg lh lj lk lz oy ma oz mb pa ly pf pc pd pe bi translated"><code class="fe mc md me mf b">multi</code>允许一次选择多个条目。</li><li id="99e5" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated">不建议默认让预览窗口可见，因此我们有了<code class="fe mc md me mf b">preview-window=:hidden</code>。然后可以用<code class="fe mc md me mf b">?</code>切换可见性。</li></ul><p id="f3bc" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">将那个<code class="fe mc md me mf b">export</code>添加到你的<code class="fe mc md me mf b">.bashrc</code>或<code class="fe mc md me mf b">.zshrc</code>后，每次你与<code class="fe mc md me mf b">fzf</code>互动，那些选项都会自动添加。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="f4e9" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">高级示例</h1><h2 id="1afd" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">更改默认命令</h2><p id="9b46" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">默认情况下，<code class="fe mc md me mf b">fzf</code>使用<code class="fe mc md me mf b">find</code>生成文件系统条目。如果您想切换到更友好的工具，如<code class="fe mc md me mf b"><a class="ae ky" href="https://github.com/sharkdp/fd" rel="noopener ugc nofollow" target="_blank">fd</a></code>，请遵循以下步骤:</p><p id="cf2a" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">设置以下环境变量:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="d5a1" class="nz ne it mf b gy oa ob l oc od"># fzf's command<br/>export FZF_DEFAULT_COMMAND="fd"</span><span id="7b70" class="nz ne it mf b gy ok ob l oc od"># CTRL-T's command<br/>export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"</span><span id="920d" class="nz ne it mf b gy ok ob l oc od"># ALT-C's command<br/>export FZF_ALT_C_COMMAND="$FZF_DEFAULT_COMMAND --type d"</span></pre><p id="7b91" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">覆盖模糊完成使用的下列函数:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="1215" class="nz ne it mf b gy oa ob l oc od"># for more info see fzf/shell/completion.zsh</span><span id="66dd" class="nz ne it mf b gy ok ob l oc od">_fzf_compgen_path() {<br/>    fd . "$1"<br/>}</span><span id="fa95" class="nz ne it mf b gy ok ob l oc od">_fzf_compgen_dir() {<br/>    fd --type d . "$1"<br/>}</span></pre><p id="aa7a" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">说完，<code class="fe mc md me mf b">fd</code>将力量<code class="fe mc md me mf b">fzf</code>、<code class="fe mc md me mf b">CTRL-T</code>、<code class="fe mc md me mf b">ALT-C</code>、<code class="fe mc md me mf b">**</code>。</p><p id="6550" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">我个人喜欢显示<code class="fe mc md me mf b">hidden</code>文件、<code class="fe mc md me mf b">follow</code>链接、<code class="fe mc md me mf b">exclude</code>任何<code class="fe mc md me mf b">.git</code>和<code class="fe mc md me mf b">node_modules</code>文件夹。</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="2070" class="nz ne it mf b gy oa ob l oc od">export FZF_DEFAULT_COMMAND="<!-- -->fd --hidden --follow --exclude '.git' --exclude 'node_modules'"</span></pre><p id="90f4" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">确保查看<code class="fe mc md me mf b">fd</code>的<code class="fe mc md me mf b">man</code>页面更多选项。</p><h2 id="9ccd" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">福吉特</h2><p id="a1b1" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated"><a class="ae ky" href="https://github.com/wfxr/forgit" rel="noopener ugc nofollow" target="_blank"> Forgit </a>是一个由<code class="fe mc md me mf b">fzf</code>驱动的实用工具，用于交互式使用git。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/6dbb1e599be6eba124fab1b4813a6e6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncAeWl0hzzfLs-Wjanixzg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">git日志</p></figure><p id="b848" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">它添加了一些您可以使用的别名:</p><ul class=""><li id="e2fd" class="ow ox it lf b lg lh lj lk lz oy ma oz mb pa ly pf pc pd pe bi translated"><code class="fe mc md me mf b">ga</code>:交互式<code class="fe mc md me mf b">git add</code>选择器。</li><li id="b3cb" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">glo</code>:交互式<code class="fe mc md me mf b">git log</code>查看器。</li><li id="822f" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">gd</code>:交互式<code class="fe mc md me mf b">git diff</code>查看器。为了获得更好的差异，建议使用<code class="fe mc md me mf b"><a class="ae ky" href="https://github.com/dandavison/delta" rel="noopener ugc nofollow" target="_blank">delta</a></code>。</li><li id="33e7" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">grh</code>:交互式<code class="fe mc md me mf b">git reset HEAD &lt;file&gt;</code>选择器。</li><li id="5a59" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">gcf</code>:交互式<code class="fe mc md me mf b">git checkout &lt;file&gt;</code>选择器。</li><li id="4838" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">gss</code>:交互式<code class="fe mc md me mf b">git stash</code>查看器。</li><li id="0c89" class="ow ox it lf b lg pg lj ph lz pi ma pj mb pk ly pf pc pd pe bi translated"><code class="fe mc md me mf b">gclean</code>:交互式<code class="fe mc md me mf b">git clean</code>选择器。</li></ul><p id="d99c" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要安装它，您需要为您的shell下载并获取插件文件。其他选项请参见<a class="ae ky" href="https://github.com/wfxr/forgit#manual-installation" rel="noopener ugc nofollow" target="_blank">官方页面</a>。</p><p id="7e74" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">需要记住的一点是，forgit为<code class="fe mc md me mf b">fzf</code>定义了自己的默认选项，它们可能会与您已经有的选项冲突。如果是这种情况，您需要从插件文件中删除一些(例如<a class="ae ky" href="https://github.com/wfxr/forgit/blob/master/forgit.plugin.zsh#L205-L213" rel="noopener ugc nofollow" target="_blank">https://github . com/wfxr/forgit/blob/master/forgit . plugin . zsh # L205-L213</a>)</p><h2 id="4cbe" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">搜索文件内容</h2><p id="0dc9" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">在文件中搜索模式是我们每天都要做几次的事情之一。</p><p id="7d50" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">有几个命令行工具可以帮助解决这个问题，<code class="fe mc md me mf b">grep</code>可能是最流行的一个。我一直在用<a class="ae ky" href="https://github.com/BurntSushi/ripgrep" rel="noopener ugc nofollow" target="_blank"> ripgrep </a> ( <code class="fe mc md me mf b">rg</code>)。除了<a class="ae ky" href="https://github.com/BurntSushi/ripgrep#is-it-really-faster-than-everything-else" rel="noopener ugc nofollow" target="_blank">一般更快</a>之外，默认情况下，ripgrep会尊重你的<code class="fe mc md me mf b">.gitignore</code>，自动跳过隐藏文件/目录和二进制文件。</p><p id="24e7" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">这里有一个<a class="ae ky" href="https://github.com/gbstan" rel="noopener ugc nofollow" target="_blank"> gbstan </a>的函数<code class="fe mc md me mf b">fif</code>，它结合了<code class="fe mc md me mf b">ripgrep</code>和<code class="fe mc md me mf b">fzf</code>:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="a415" class="nz ne it mf b gy oa ob l oc od"># find-in-file - usage: fif &lt;SEARCH_TERM&gt;<br/>fif() {<br/>  if [ ! "$#" -gt 0 ]; then<br/>    echo "Need a string to search for!";<br/>    return 1;<br/>  fi</span><span id="d6ed" class="nz ne it mf b gy ok ob l oc od">  rg --files-with-matches --no-messages "$1" | fzf $FZF_PREVIEW_WINDOW --preview "rg --ignore-case --pretty --context 10 '$1' {}"<br/>}</span></pre><p id="81c9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要使用它，将其声明添加到您的<code class="fe mc md me mf b">.(ba|z)shrc</code>文件并运行:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="2904" class="nz ne it mf b gy oa ob l oc od">fif &lt;SEARCH_TERM&gt;</span></pre><p id="9fb8" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">它将使用<code class="fe mc md me mf b">rg</code>搜索匹配模式的文件，然后使用<code class="fe mc md me mf b">fzf</code>显示结果，预览窗口显示准确的行。</p><h2 id="5a33" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">码头工人</h2><p id="8914" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">如果你使用Docker，这里有三个函数你可能会觉得有用:<code class="fe mc md me mf b">da</code>、<code class="fe mc md me mf b">ds</code>、<code class="fe mc md me mf b">drm</code>。</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="7143" class="nz ne it mf b gy oa ob l oc od"># Select a docker container to start and attach to<br/>function da() {<br/>  local cid<br/>  cid=$(docker ps -a | sed 1d | fzf -1 -q "$1" | awk '{print $1}')<br/><br/>  [ -n "$cid" ] &amp;&amp; docker start "$cid" &amp;&amp; docker attach "$cid"<br/>}</span><span id="31e1" class="nz ne it mf b gy ok ob l oc od"># Select a running docker container to stop<br/>function ds() {<br/>  local cid<br/>  cid=$(docker ps | sed 1d | fzf -q "$1" | awk '{print $1}')<br/><br/>  [ -n "$cid" ] &amp;&amp; docker stop "$cid"<br/>}</span><span id="a0ef" class="nz ne it mf b gy ok ob l oc od"># Select a docker container to remove<br/>function drm() {<br/>  local cid<br/>  cid=$(docker ps -a | sed 1d | fzf -q "$1" | awk '{print $1}')<br/><br/>  [ -n "$cid" ] &amp;&amp; docker rm "$cid"<br/>}</span></pre><h2 id="e100" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">公司自产自用</h2><p id="e081" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">看看这些功能来帮助你管理自制软件:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="0688" class="nz ne it mf b gy oa ob l oc od"># Install (one or multiple) selected application(s)<br/># using "brew search" as source input<br/># mnemonic [B]rew [I]nstall [P]lugin<br/>bip() {<br/>  local inst=$(brew search | fzf -m)<br/><br/>  if [[ $inst ]]; then<br/>    for prog in $(echo $inst);<br/>    do; brew install $prog; done;<br/>  fi<br/>}</span><span id="7ddd" class="nz ne it mf b gy ok ob l oc od"># Update (one or multiple) selected application(s)<br/># mnemonic [B]rew [U]pdate [P]lugin<br/>bup() {<br/>  local upd=$(brew leaves | fzf -m)<br/><br/>  if [[ $upd ]]; then<br/>    for prog in $(echo $upd);<br/>    do; brew upgrade $prog; done;<br/>  fi<br/>}</span><span id="02d8" class="nz ne it mf b gy ok ob l oc od"># Delete (one or multiple) selected application(s)<br/># mnemonic [B]rew [C]lean [P]lugin (e.g. uninstall)<br/>bcp() {<br/>  local uninst=$(brew leaves | fzf -m)<br/><br/>  if [[ $uninst ]]; then<br/>    for prog in $(echo $uninst);<br/>    do; brew uninstall $prog; done;<br/>  fi<br/>}</span></pre><p id="6208" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">和<a class="ae ky" href="https://github.com/Homebrew/homebrew-cask" rel="noopener ugc nofollow" target="_blank">自制酒桶</a>:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="8777" class="nz ne it mf b gy oa ob l oc od"># Install or open the webpage for the selected application <br/># using brew cask search as input source<br/># and display a info quickview window for the currently marked application<br/>install() {<br/>    local token<br/>    token=$(brew search --casks | fzf-tmux --query="$1" +m --preview 'brew cask info {}')<br/><br/>    if [ "x$token" != "x" ]<br/>    then<br/>        echo "(I)nstall or open the (h)omepage of $token"<br/>        read input<br/>        if [ $input = "i" ] || [ $input = "I" ]; then<br/>            brew cask install $token<br/>        fi<br/>        if [ $input = "h" ] || [ $input = "H" ]; then<br/>            brew cask home $token<br/>        fi<br/>    fi<br/>}</span><span id="8a93" class="nz ne it mf b gy ok ob l oc od"># Uninstall or open the webpage for the selected application <br/># using brew list as input source (all brew cask installed applications) <br/># and display a info quickview window for the currently marked application<br/>uninstall() {<br/>    local token<br/>    token=$(brew cask list | fzf-tmux --query="$1" +m --preview 'brew cask info {}')<br/><br/>    if [ "x$token" != "x" ]<br/>    then<br/>        echo "(U)ninstall or open the (h)omepage of $token"<br/>        read input<br/>        if [ $input = "u" ] || [ $input = "U" ]; then<br/>            brew cask uninstall $token<br/>        fi<br/>        if [ $input = "h" ] || [ $token = "h" ]; then<br/>            brew cask home $token<br/>        fi<br/>    fi<br/>}</span></pre><h2 id="3b54" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">npm</h2><p id="a281" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated"><a class="ae ky" href="https://github.com/hankchanocd/npm-fzf" rel="noopener ugc nofollow" target="_blank"> npm-fzf </a>，缩写为<code class="fe mc md me mf b">npf</code>，用<code class="fe mc md me mf b">fzf</code>(即<code class="fe mc md me mf b">npm ls</code>、<code class="fe mc md me mf b">npm search</code>、<code class="fe mc md me mf b">npm run</code>)对一些最常用的npm命令进行模糊搜索。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/9218322eb9eaf3b26660289ca40e0883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TUh0ap5cIx-9dgwNaCyqsg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">npm-fzf示例</p></figure><p id="b85d" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要安装它，请运行:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="df79" class="nz ne it mf b gy oa ob l oc od">npm install -g npm-fzf</span></pre><h2 id="f623" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">z</h2><p id="a069" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated"><code class="fe mc md me mf b"><a class="ae ky" href="https://github.com/rupa/z" rel="noopener ugc nofollow" target="_blank">z</a></code>命令跟踪你最常访问的目录，并允许你通过很少的击键来访问它们。如果您使用<code class="fe mc md me mf b">zsh</code>和<a class="ae ky" href="https://ohmyz.sh/" rel="noopener ugc nofollow" target="_blank"> Oh My Zsh </a>，要启用它，只需将<code class="fe mc md me mf b">z</code>添加到您的<code class="fe mc md me mf b">.zshrc</code>插件列表中:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="f9ee" class="nz ne it mf b gy oa ob l oc od">plugins=(... z)</span></pre><p id="ca01" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><code class="fe mc md me mf b">z</code>在使用命令行浏览文件系统时学习。</p><p id="1d72" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">例如，如果您在某个时间点访问了文件夹<code class="fe mc md me mf b">~/workspace/my-project-1/cool-assets</code>，<code class="fe mc md me mf b">z</code>会跟踪它，并允许您使用与路径匹配的<code class="fe mc md me mf b">regex</code>从任何地方快速返回到它:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="4afc" class="nz ne it mf b gy oa ob l oc od">z my-project-1<br/>z project<br/>z cool-assets</span></pre><p id="d55a" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">为了让<code class="fe mc md me mf b">z</code>更好，你可以将它与<code class="fe mc md me mf b">fzf</code>整合:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="c888" class="nz ne it mf b gy oa ob l oc od"># like normal z when used with arguments but displays an fzf prompt when used without.<br/>unalias z 2&gt; /dev/null<br/>z() {<br/>    [ $# -gt 0 ] &amp;&amp; _z "$*" &amp;&amp; return<br/>    cd "$(_z -l 2&gt;&amp;1 | fzf --height 40% --nth 2.. --reverse --inline-info +s --tac --query "${*##-* }" | sed 's/^[0-9,.]* *//')"<br/>}</span></pre><p id="73b9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">这样，<code class="fe mc md me mf b">z</code>，不带任何参数，会在finder中显示您最常用的目录列表！</p><p id="6944" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">这些例子大多取自<code class="fe mc md me mf b">fzf</code>的<a class="ae ky" href="https://github.com/junegunn/fzf/wiki" rel="noopener ugc nofollow" target="_blank">维基页面</a>，请务必查看并投稿！</p><h2 id="0e88" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">Chrome书签浏览器(macOS)</h2><p id="978c" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">直接从你的外壳访问你的chrome书签。需要<code class="fe mc md me mf b"><a class="ae ky" href="https://stedolan.github.io/jq/" rel="noopener ugc nofollow" target="_blank">jq</a></code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/12a8e457e23c4de42d864476b3ae6724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/1*yvp7eSiFUXVK33N_EAb_nA.gif"/></div></figure><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="2e18" class="nz ne it mf b gy oa ob l oc od">b() {<br/>  local bookmarks_path=~/Library/Application\ Support/Google/Chrome/Default/Bookmarks</span><span id="8eb0" class="nz ne it mf b gy ok ob l oc od">  local jq_script='def ancestors: while(. | length &gt;= 2; del(.[-1,-2])); . as $in | paths(.url?) as $key | $in | getpath($key) | {name,url, path: [$key[0:-2] | ancestors as $a | $in | getpath($a) | .name?] | reverse | join("/") } | .path + "/" + .name + "\t" + .url'</span><span id="4b5d" class="nz ne it mf b gy ok ob l oc od">  jq -r $jq_script &lt; "$bookmarks_path" \<br/>  | sed -E $'s/(.*)\t(.*)/\\1\t\x1b[36m\\2\x1b[m/g' \<br/>  | fzf --ansi \<br/>  | cut -d$'\t' -f2 \<br/>  | xargs open<br/>}</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="7aa0" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">类似的工具</h1><h2 id="e49c" class="nz ne it bd nf ol om dn nj on oo dp nn lz op oq np ma or os nr mb ot ou nt ov bi translated">布鲁特</h2><p id="2f93" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">Broot是一个CLI工具，它提供了一种更好的导航目录的方式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi po"><img src="../Images/5eca90fa54cbfa04ada2204621d6df42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*o7LrSb05WFYsAfL3pNvXgA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Broot预览</p></figure><p id="c3f1" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要安装它，请运行:</p><pre class="kj kk kl km gt nv mf nw nx aw ny bi"><span id="cd6c" class="nz ne it mf b gy oa ob l oc od">brew install broot</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="c1e9" class="nd ne it bd nf ng nh ni nj nk nl nm nn jz no ka np kc nq kd nr kf ns kg nt nu bi translated">结论</h1><p id="a906" class="pw-post-body-paragraph lc ld it lf b lg oe ju li lj of jx ll lz og lo lp ma oh ls lt mb oi lw lx ly im bi translated">感谢阅读，我希望你今天学到了一些新东西。</p><p id="9f9f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">特别感谢<a class="pp pq ep" href="https://medium.com/u/4aea84179d43?source=post_page-----985aa162ba5d--------------------------------" rel="noopener" target="_blank">费利佩·利马</a>把我介绍给fzf！</p><p id="8a82" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">保重，下次再见。</p></div></div>    
</body>
</html>