<html>
<head>
<title>Creating Custom Password PCF Component for the Power Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为Power Platform创建自定义密码PCF组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-custom-password-pcf-component-for-the-power-platform-591ab6645b28?source=collection_archive---------12-----------------------#2022-03-24">https://betterprogramming.pub/creating-custom-password-pcf-component-for-the-power-platform-591ab6645b28?source=collection_archive---------12-----------------------#2022-03-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e282" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">UI/UX设计、现成软件和编码的集合</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7da38068e379c5269de7ab232514886d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tabtXlVPm1Mrd9Zp"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰里米·贝赞格在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fe3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论是仅仅因为设计、功能缺失，还是两者兼而有之，每个使用Dynamics 365的编码人员都会在某个时候遇到需要创建PCF的特性。所有创建过PCF组件的人都知道，第一次时(甚至第二次时)可能会头疼。).</p><p id="e913" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我决定为所有有抱负和不情愿的PCF开发人员创建一个教程，引导他们创建一个经常被请求的组件——一个能够通过单击一个眼睛形状的按钮来切换可见性的密码输入字段。下面可以看到一个例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/bdfd6931319390172e07d9ad526bb0f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/0*twx4tzd13dBLPx2t.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://www.csestack.org/hide-show-password-eye-icon-html-javascript/" rel="noopener ugc nofollow" target="_blank">https://www . CSE stack . org/hide-show-password-eye-icon-html-JavaScript/</a></p></figure><p id="f528" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">令人惊讶的是，像这样的输入控件在dynamics生态系统中是不存在的，而且该特性看似简单，但与实现的容易程度毫无关系。我花了几个小时才弄明白这个问题。</p><p id="687a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将从一些样板PCF代码开始，这些代码可以通过遵循微软文档<a class="ae ky" href="https://docs.microsoft.com/en-us/powerapps/developer/component-framework/implementing-controls-using-typescript" rel="noopener ugc nofollow" target="_blank">上的说明获得。只需用<code class="fe lw lx ly lz b">PasswordInputControl</code>替换所有对名称<code class="fe lw lx ly lz b">LinearInputControl</code>的引用，并用您选择的名称空间替换名称空间。</a></p><p id="85a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的起点是五个私有变量的声明。特别值得注意的是变量<code class="fe lw lx ly lz b">_eye</code>和<code class="fe lw lx ly lz b">isVisible</code>，它们是非标准的。<code class="fe lw lx ly lz b">_eye</code>将成为我们的状态切换按钮，<code class="fe lw lx ly lz b">isVisible</code>将是一个布尔变量，对应于(你猜对了)输入字段中文本的可见性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="9087" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将在<code class="fe lw lx ly lz b">PasswordInputControl</code>中创建一个名为css的子文件夹，我们将下面的代码放在一个名为<code class="fe lw lx ly lz b">style.css</code>的文件中，以便将<code class="fe lw lx ly lz b">_eye</code>按钮设计成眼睛。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="19b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面，在<code class="fe lw lx ly lz b">init</code>函数中，我们将把所有组件添加到主容器中。</p><p id="86c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更重要的是，我们将为<code class="fe lw lx ly lz b">_eye</code>添加一个带有函数<code class="fe lw lx ly lz b">toggleState</code>(我们将在后面定义)的事件监听器，并将<code class="fe lw lx ly lz b">isVisible</code>布尔值设置为false，因为密码字段中的文本应该以不可见开始。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="a4c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">toggle state实际上所做的只是切换布尔值<code class="fe lw lx ly lz b">isVisible</code>(假变为真，真变为假)。</p><p id="cf22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成此更改后，调用<code class="fe lw lx ly lz b">_notifyOutput</code>功能，触发<code class="fe lw lx ly lz b">updateView</code>功能。</p><p id="ff9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lw lx ly lz b">UpdateView</code>负责根据isVisible切换可见性(参见第14–19行)…。令人尴尬的是，我花了很长时间才弄明白是<code class="fe lw lx ly lz b">notifyOutputChanged</code>触发了<code class="fe lw lx ly lz b">updateView</code>。如果你和我一样是新手，我希望这会给你带来一些麻烦。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="ed76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦实现了这段代码，只需导航到<code class="fe lw lx ly lz b">src</code>文件夹并运行这三个命令:</p><pre class="kj kk kl km gt mc lz md me aw mf bi"><span id="43e4" class="mg mh it lz b gy mi mj l mk ml">npm install -g<br/>npm run build<br/>npm start</span></pre><p id="0916" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将在浏览器中启动您的组件，并允许您使用开发工具测试和调试它。完整的代码可以在下面我的GitHub文件夹中找到。</p><div class="mm mn gp gr mo mp"><a href="https://github.com/AleksaZatezalo/PasswordPCF/blob/main/PasswordInputControl/" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd iu gy z fp mu fr fs mv fu fw is bi translated">主AleksaZatezalo的密码PCF/密码输入控制/密码PCF</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">在GitHub上创建一个帐户，为AleksaZatezalo/PasswordPCF开发做出贡献。</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">github.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd ks mp"/></div></div></a></div></div></div>    
</body>
</html>