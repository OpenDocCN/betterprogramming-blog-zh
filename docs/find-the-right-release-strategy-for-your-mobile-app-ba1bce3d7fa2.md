# 为您的移动应用找到合适的发布策略

> 原文：<https://betterprogramming.pub/find-the-right-release-strategy-for-your-mobile-app-ba1bce3d7fa2>

## 为什么定期发布更新对您的开发过程有好处等等

![](img/20243be32e52e4b23cb7f1a5be1783db.png)

安库什·明达在 [Unsplash](https://unsplash.com/s/photos/release?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

当你开发应用程序时，有时你需要向你的用户发布更新。经常发布更新是有好处的，但是有很多因素使它很难做到。

在这篇文章中，我将解释为什么定期发布是好的，什么会妨碍这样做，并概述一些您可以在您的项目中使用的策略，以帮助您更定期地发布您的发布。

# 为什么经常发布更新有好处

## 用户喜欢新功能

用户希望看到新的功能、改进和漏洞修复——特别是如果他们已经为应用程序付费或订阅了应用程序。定期发布向用户展示了应用的价值和发展。

然而，有一个警告。移动功能和改变行为可能会令人困惑，并损害你的应用程序的用户体验，所以管理改变的发布方式很重要。少而常是一个好方法。

## 小规模释放风险较小

释放量越小，释放的风险就越小。

假设你要发布一个特性。尽管你做了充分的准备，还是有一个严重的错误。虽然这并不理想，但也是可以管理的。你修复了 bug 并更新了它，你的坏应用程序在应用程序商店上停留的时间很短。

现在想象一下，你一次发布十个特性，并且你设法引入了十个严重的错误。如果这真的发生了，你可能比你的发布策略更需要担心，但是它说明了这一点。你将处于一个糟糕的境地，试图修复十个严重的错误并尽快更新。为了最小化你的风险，保持你的释放更少更频繁。

## 传递价值

在敏捷软件开发中，我们经常谈论*交付价值*的重要性。这意味着尽可能快地将昂贵的开发时间的最终结果提供给用户，而不是存储在未发布的库中。软件保持未发布的时间越长，它就越有可能在发布前降级并需要进一步的工作，或者更糟的是，它将永远不会发布。

# 什么阻碍了释放

你可能渴望经常发布更新，但这仍然很困难。理解阻碍你这样做的因素是制定成功战略的第一步。以下是一些最常见的情况。

## 只是多了一个功能

发布蠕变是一个容易陷入的常见陷阱。你差不多准备好发布了，有人说，“特性 *x* 也差不多准备好了，我们可以把它也放进去吗？”而当剧情片 *x* 完成后，你不妨等待剧情片 *y* 。问题是总会有另一个特性出现——你的版本越来越大，距离上一个版本的时间也越来越长。

避免发布蠕变的提示:

*   提前计划下一个版本的内容，并坚持你的计划。
*   保持小规模和频繁的发布，所以如果一个特性必须等到下一个发布，也不会太久。

## 外部依赖性

外部依赖很容易阻碍发布。

考虑应用程序中需要更改后端 API 的新功能。假设您已经在代码中添加了这个特性，但是新的 API 还没有发布。如果你的应用没有 API 特性就不能工作，那么你现在就不能发布更新了。这也阻碍了后续功能的发布，使得发布紧急修复变得更加困难。

这在实践中出奇的普遍。我见过一些商业应用项目，它们花了几个月的时间来构建一个应用，结果却不得不将应用的发布推迟几个月，甚至几年，因为所需的外部依赖没有完成。

避免因外部依赖而导致延迟的技巧:

*   在外部依赖项在您的生产环境中可用之前，请避免开始处理功能。
*   如果您不能保证外部依赖项可用，请使用功能开关对用户隐藏功能，直到外部依赖项可用。

## 未完成的功能

如果你的代码包含了用户看不到的特性，你就不能发布。也许 UI 还没有完成，或者还没有完全测试或批准发布。如果你在团队中工作，这可能是一个更大的问题，因为很难同时完成多个功能。如果代码不处于发布状态，当另一个功能完成时，开始一个新功能是很诱人的，在你知道之前，你已经有了发布蠕变。

管理未完成功能的提示:

*   提前计划哪些特性将进入您的版本。一旦他们完成，不要开始任何更多，直到你的释放完成。如果团队成员对任何剩余的工作进行配对，这将有助于发布成功。
*   不要开始一个新的特性，直到你最后做的事情已经完成，测试，批准，并准备发布。
*   将您的工作规划成小的、可交付的块，这些块可以独立地发布给用户。
*   考虑使用功能开关来允许工作包含在您的代码库中，而对用户不可见。

## 释放需要时间和努力

当你将一款应用发布到 app store 时，你需要完成各种流程。你需要测试你的应用程序，将其存档，上传到商店，准备带有营销信息和截图的商店页面，对你的应用程序进行审查，最后将其发布给最终用户。虽然这些步骤中有许多可以自动化，但几乎总是需要一定程度的手动干预。如果你的释放需要太多的努力，你会不愿意经常这么做。

使您的发布更容易的提示:

*   尽可能多地自动化您的发布过程。如果您可以测试、存档、创建截图，并按一下按钮上传到商店(或合并到母版)，您就可以消除发布的痛苦。
*   对于任何你不能自动化的事情，创建一个清单或者一个你可以快速重复完成的过程。

## 复合效应

如果你处在一个阻止你释放的位置，很容易陷入反馈循环。你离开的时间越长，风险就越大，你受外部依赖的影响就越大，当你最终释放时，需要花费更多的时间和精力。

# 发布应用的策略

如果你正在努力释放，我建议你评估一下，看看是什么因素在影响你，然后选择一个策略让事情变得更容易。以下是一些我最喜欢的发布移动应用的策略。

## 每个功能后发布

这种策略给出了最频繁的发布。顾名思义，每当你完成一个功能，你就向你的终端用户发布了你的应用。这种策略很好，因为你的用户得到的改变很少而且经常，它很容易测试，风险很低，而且它能尽快地给你的用户带来价值。

然而，如果你的团队中有不止一两个人，这可能是一个难以管理的策略。您需要确保您的代码总是经过充分的测试并且是可发布的，并且与每个发布相关的开销会很快变得昂贵。

这种策略适用于:

*   单人团队和爱好项目。
*   高度自动化的版本。

## 分批释放

这是一个简单的策略，您可以决定何时发布足够的特性。你可以提前计划，也可以临时决定。一旦特性完成，你就发布了。

这可能是一个很好的策略，因为它灵活、轻量级，并且不需要很多过程。

然而，虽然这是理论上最简单的策略，但可能是最难做对的。很容易陷入特性蔓延的陷阱，这需要良好的纪律来阻止发布变得太大。让你的代码处于可发布的状态是很难的，因为团队中的每个人都将完成的特性排列在一起。如果团队是新的，或者不能很好地合作，或者团队内部的信任度很低，就很难做到这一点。团队经常默认这种工作方式，但是我不推荐这种方式，除非你有一个强大的团队，并且你有意地应用这种策略。

这种策略适用于:

*   中小型团队。
*   具有良好交付纪律的团队。
*   高度信任的团队。

## 混乱

这不是一个发布策略本身，而是一个完整的交付框架。在 scrum 中，团队以冲刺的方式工作。这些是定期的、有时间限制的间隔，通常大约 2-4 周。要交付的特性是预先商定的，并在冲刺阶段结束时发布。实际上，这非常类似于*批量发布*，但是框架提供了更多的结构和过程来帮助你发布。

这种策略有利于定期向用户发布可管理的变更量。它可以很容易地确保代码在需要的时候是可发布的，并且它可以阻止您的发布变得太大。这对于开发良好的交付规程是很好的，例如在新的或者不能很好合作的团队中。因为它列出了期望和满足这些期望的承诺，它有利于在团队内部建立信任。

不利的一面是，scrum 引入了重量级的过程和工作方式，这会让你慢下来，所以我不建议已经工作得很好的团队，或者没有问题需要解决的团队使用它。

这种策略适用于:

*   努力发布的团队。
*   还没有好的交付节奏的团队。
*   信任度较低的团队。

## **《释放列车》**

术语“发布系列”是 Spotify 在他们的 [Spotify 工程文化展示](https://labs.spotify.com/2014/03/27/spotify-engineering-culture-part-1/)中创造的，它指的是定期发布，不管已经完成了什么工作。比喻的是，放行列车每隔一段时间就有一趟车离开车站。准备好的特性组成了一列火车，也就是说，它们进入发布版并发布给用户。没有准备好的功能错过了火车，等待下一趟。

这种策略有利于定期发布。变更以可管理的频率小批量发布。它有利于展示进展，并定期向用户交付价值。

缺点是你需要一个好的方法来管理那些还没有准备好发布的特性，例如特性开关。这带来了很多复杂性和管理问题。在较大的团队中，这是值得花费成本和精力的，但是在较小的团队中，我建议在引入它之前仔细考虑。

这种策略适用于:

*   中型到大型团队。
*   自动化程度高的项目。
*   拥有强大流程的成熟团队。
*   您希望经常定期发布的项目。

# 摘要

在这篇文章中，我描述了为什么经常更新你的应用程序是有好处的，以及什么可以阻止你这样做。然后我概述了一些我最喜欢的发布移动应用的策略。感谢阅读，希望你觉得有用。

# 资源

*   [Spotify 工程文化展示](https://www.scrum.org/resources/what-is-scrum)
*   [什么是 scrum？](https://www.scrum.org/resources/what-is-scrum)