<html>
<head>
<title>Build a Simple Search Using RecyclerView</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用RecyclerView构建简单的搜索</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/recyclerview-search-326030d4bdf1?source=collection_archive---------7-----------------------#2019-12-04">https://betterprogramming.pub/recyclerview-search-326030d4bdf1?source=collection_archive---------7-----------------------#2019-12-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0245" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用recyclerView实现简单的搜索功能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1f86f26e2ad101bfcbacc20635983165.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M3cpG7df5Jqn6sD42N9bxw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://icons8.com" rel="noopener ugc nofollow" target="_blank">https://icons8.com</a></p></figure><p id="0db7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几天前我在做一个项目，我遇到了一个情况，我必须使用<code class="fe ls lt lu lv b">recyclerView</code>制作一个静态数据列表，并使用搜索过滤这些数据。</p><p id="2617" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我做过的最简单快捷的搜索功能。我认为使用<code class="fe ls lt lu lv b">recyclerView</code>构建这样一个简单的搜索肯定会对其他人有所帮助。</p><p id="8dd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，我们开始吧。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="9733" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">开始</h1><p id="0a1b" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我已经在我的文章<a class="ae kv" href="https://medium.com/better-programming/gmail-like-list-67bc51adc68a" rel="noopener"> <em class="na">中介绍了一些有用的技巧和<code class="fe ls lt lu lv b">recyclerView</code>的完整实现。去看看。</em></a></p><p id="5daa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，创建一个新项目并复制粘贴这个模型类。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="f700" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ls lt lu lv b">build.gradle</code>中添加以下依赖关系:</p><pre class="kg kh ki kj gt nd lv ne nf aw ng bi"><span id="d460" class="nh me iq lv b gy ni nj l nk nl">implementation 'androidx.recyclerview:recyclerview:1.1.0'<br/>implementation 'com.squareup.picasso:picasso:2.71828'<br/>implementation 'de.hdodenhof:circleimageview:3.0.0'</span></pre><p id="56f3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要做一个适配器来使<code class="fe ls lt lu lv b">recyclerView</code>起作用。所以，我们来做一个适配器类。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="f71f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们转到<code class="fe ls lt lu lv b">MainActivity.kt</code>。为了简单起见，我现在只是先展示一个简单的列表。</p><p id="6bea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了填充<code class="fe ls lt lu lv b">recyclerView</code>，它需要一些数据来显示。以下方法有助于您制作虚拟数据。把这个方法放在<code class="fe ls lt lu lv b">MainActivity.kt</code>里面。</p><pre class="kg kh ki kj gt nd lv ne nf aw ng bi"><span id="9f58" class="nh me iq lv b gy ni nj l nk nl">fun getData(context: Context): ArrayList&lt;Data&gt; {<br/><br/>    val people = ArrayList&lt;Data&gt;()<br/>    val data = context.<em class="na">resources</em>.getStringArray(R.array.<em class="na">people</em>)<br/>    val images = context.<em class="na">resources</em>.obtainTypedArray(R.array.<em class="na">images</em>)<br/><br/>    for (i in data.<em class="na">indices</em>) {<br/>        val d = Data(data[i], "", images.getResourceId(i, -1))<br/>        people.add(d)<br/>    }<br/><br/>    return people<br/><br/>}</span></pre><p id="42ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">MainActivity.kt</code></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="884a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的<code class="fe ls lt lu lv b">activity_main.xml</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="f89e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们运行应用程序吧！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/81f5562dfbfe03e62686f8473229820f.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/1*Qbfwk7rWRO3sdBdChGfHDw.gif"/></div></div></figure><p id="08ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">到目前为止，我们取得了良好的进展。现在是创建主要功能的时候了，这是一个搜索特性。为此，让我们回到我们的<code class="fe ls lt lu lv b">MainActivity.kt</code>。</p><p id="f5dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其背后的主要思想是，我将在我们在<code class="fe ls lt lu lv b">activity_main.xml</code>中添加的<code class="fe ls lt lu lv b">EditText</code>中添加一个<code class="fe ls lt lu lv b">TextWatcher</code>。</p><p id="7e7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后在<code class="fe ls lt lu lv b">onTextChanged()</code>中，我添加了一个条件，如果我们搜索的字符(<code class="fe ls lt lu lv b">charSquence</code>)出现在我们的数据中，它就已经在我们的列表中了……就这么简单！</p><p id="f27c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">匹配的条目将被添加到一个新的列表中，我称之为<code class="fe ls lt lu lv b">filteredList</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="9b1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们现在运行应用程序吧！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/0bee218eb4ee9d22e276aba9130d0f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/1*m9McXT4Yx-A-kMGDLWDUmw.gif"/></div></figure><p id="3350" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我知道你在想:“为什么一个单品会显示两次？”</p><p id="5751" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是因为我把同样的数据加了两次，就是为了做一个长长的列表。别担心。</p><p id="398b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望你学到了一些东西！</p><p id="cf85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">关注</strong><a class="ae kv" href="https://medium.com/codixlab" rel="noopener"><strong class="ky ir">CodixLab</strong></a><strong class="ky ir">了解更多科技知识。</strong></p><h2 id="9fb8" class="nh me iq bd mf no np dn mj nq nr dp mn lf ns nt mp lj nu nv mr ln nw nx mt ny bi translated">我阅读最多的文章:</h2><div class="nz oa gp gr ob oc"><a href="https://medium.com/better-programming/animated-fab-button-with-more-options-2dcf7118fff6" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">动画FAB按钮有更多的选项！</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">开发者们好！欢迎来到教程。今天我要教你如何制作FAB(浮动动作按钮)动画…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq kp oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://medium.com/better-programming/simple-notes-app-with-flutter-part-1-ab66e15c8635" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">一个简单的带Flutter的笔记应用程序—第1部分</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">是时候用sqflite数据库创建一个Flutter应用程序了</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="or l on oo op ol oq kp oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://medium.com/better-programming/android-copy-paste-7dd60ad47d0" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">如何使用TextView在Android中实现复制/粘贴</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">以编程方式在Android的文本视图中实现复制/粘贴</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="os l on oo op ol oq kp oc"/></div></div></a></div></div></div>    
</body>
</html>