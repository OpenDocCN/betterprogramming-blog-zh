<html>
<head>
<title>Android Wireless Debugging Using Plugin or ADB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用插件或ADB进行Android无线调试</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/android-wireless-debugging-using-plugin-or-adb-f2234db6b8f9?source=collection_archive---------2-----------------------#2020-04-12">https://betterprogramming.pub/android-wireless-debugging-using-plugin-or-adb-f2234db6b8f9?source=collection_archive---------2-----------------------#2020-04-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fe49" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">无线连接以运行和调试您的应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/825261a76c0c4484ebce5012fe09479a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cQA59v9hRbjPKS1B"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">法比安·格罗斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="06fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为Android开发人员，我们每天编写代码并运行我们的应用程序来检查输出。我认为Android开发最吸引人的方面是我们可以在手机上即时看到结果。但有时我们在调试或运行应用程序时会对USB断开连接感到厌恶。</p><p id="a054" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">原因可能有很多，如电缆断裂或不起作用，或者有人意外拉动电缆。这个问题的最佳解决方案是无线调试。</p><p id="8999" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，让我们讨论两种无线连接设备以调试应用程序的方法。第一种方式是Android WIFI ADB插件方式，另一种方式是通过IP地址连接设备。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ee83" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">插件方法</h1><p id="fb4c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">插件只不过是即插即用的组件。Android WIFI ADB是<a class="ae ky" href="https://developer.android.com/studio" rel="noopener ugc nofollow" target="_blank"> Android Studio </a>中的一个插件，可以帮助你通过Wi-Fi网络将系统连接到设备。它允许您通过Wi-Fi快速连接您的Android设备，只需按一个按钮，无需USB连接即可安装、运行和调试您的应用程序。(如果你不知道插件是如何工作的，可以看看我之前关于<a class="ae ky" href="https://medium.com/better-programming/android-studio-plugin-for-auto-generation-of-model-or-pojo-classes-78bfda432527" rel="noopener"> Android Studio插件</a>的文章。)</p><p id="0de6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">连接设备后，您不再需要USB电缆来进行调试。</p><p id="c30d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们检查一下如何连接设备的步骤。</p><h2 id="b93a" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">第一步。安装安卓WIFI ADB插件</h2><p id="7a79" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要找到插件部分，请转到首选项并在Android Studio中选择右侧的插件。然后，您会发现以下屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/37ea1ae5dc93aa3a7724be3d953cf3eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3aZQbljd3VLDg6sZ_gRNUg.png"/></div></div></figure><p id="82f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用搜索栏来搜索您感兴趣的插件，或者您可以向下滚动到末尾来查看不同的可用插件。当你点击右边的任何一个插件时，你可以查看与该插件相关的信息。之后，如果你感兴趣，只需点击安装按钮。然后点击应用。在那之后，重启studio，这样改动就能反映出来，你就可以使用插件了。</p><p id="6507" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的例子中，让我们在插件搜索栏上搜索<a class="ae ky" href="https://plugins.jetbrains.com/plugin/7983-android-wifi-adb" rel="noopener ugc nofollow" target="_blank"> Android WIFI ADB </a>。然后我们可以找到不同发行商提供的不同插件的列表。让我们选择发行商<a class="ae ky" href="https://github.com/pedrovgs" rel="noopener ugc nofollow" target="_blank">佩德罗维森特·戈麦斯桑切斯</a>的插件，因为我用过它，感觉很方便。</p><p id="d089" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文件→设置→插件→浏览存储库→搜索<em class="nm"/>安卓WiFi ADB "</p><p id="1e47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装后，重启你的工作室。工作室重新打开后，您可以在右侧或顶部栏中找到该选项卡，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/110e853804e5809054dfc7c928c46ab8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJTS-F93L2VH-bFR3-GudA.png"/></div></div></figure><h2 id="d54c" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated"><strong class="ak">第二步。点击右侧面板上的Android WIFI ADB选项卡</strong></h2><p id="53d0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当您单击它时，它会打开一个窗口，显示已连接设备的列表(如果有)。如果没有连接任何设备，则显示“零case”消息。此外，请记住，系统和手机都应通过同一个Wi-Fi <strong class="lb iu"> </strong>网络连接，以实现设备连接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/8408592a7086abb3c94767c7d5390751.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ll9L3a7sV3b--MQsYarvPw.png"/></div></div></figure><h2 id="3cca" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">第三步。建立联系</h2><p id="66eb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">最初，由于我们没有连接任何设备，它将状态显示为“断开”点击连接<strong class="lb iu"> </strong>按钮连接到您的设备。一旦它显示状态“已连接”，您就可以移除USB来运行和调试您的应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/3ac76389551befa71556ce5ae17284d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RSmqbDT-TBXOhGAoSmSGLg.png"/></div></div></figure><p id="385f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">连接时，您可以看到如下图像，表明它是通过Wi-Fi网络上的IP地址进行连接的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/583763468a0486ceb71def1c6366f68b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*5rqo87PTrBjUCSsd15nTeg.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c7c6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">IP地址方法</h1><p id="a7a3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在这种方法中，我们将使用Android SDK中平台工具中的ADB (Android Debug Bridge)工具。</p><p id="4543" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何使用ADB工具。如果你在Mac上，进入终端，点击命令<code class="fe nr ns nt nu b">adb</code>，然后按回车键。如果在<code class="fe nr ns nt nu b">.bash_profile</code>中设置了路径变量，它将显示一系列可用的选项。如果没有，需要在<code class="fe nr ns nt nu b">bash_profile file</code>中配置PATH变量。为此，打开终端并键入:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="8d7e" class="mz md it nu b gy nz oa l ob oc">$ <strong class="nu iu">open -t .bash_profile</strong></span></pre><p id="4a1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将打开文本格式的<code class="fe nr ns nt nu b">bash_profile</code>文件，以便您可以在那里设置路径变量。</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="2fff" class="mz md it nu b gy nz oa l ob oc">export PATH = $PATH:/Users/satyapavankumarkantamani/Library/Android/sdk/platform-tools/</span></pre><p id="1fd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查是否设置了平台-工具路径。如果没有，从您的SDK位置复制Platform-Tools <strong class="lb iu"> </strong>路径，并在上面的行中替换它。这样，你可以从一个终端执行<code class="fe nr ns nt nu b">adb</code>命令，而不是总是改变你的目录到平台工具<strong class="lb iu"> </strong>路径。</p><p id="55c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您在Windows上工作，检查环境变量路径是否设置为Platform-Tools <strong class="lb iu">。</strong>配置好路径后，只需在终端或命令提示符下输入<code class="fe nr ns nt nu b">adb</code>命令，就会出现选项列表。</p><p id="c6f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，对于这两种方法，我们都需要在系统和移动设备中通过同一个Wi-Fi网络进行连接。让我们开始吧。</p><h2 id="e2b0" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">第一步。通过USB将设备连接到系统进行初始设置</h2><p id="ebd7" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要检查它是否正确连接，打开内置终端并运行命令<code class="fe nr ns nt nu b">adb devices</code>。这将为您提供当前连接的设备列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/afc99671a64acb394261840a4c3b309a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mKmn9S8GSdruCQ2yX7HJdw.png"/></div></div></figure><h2 id="3b60" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">第二步。设置目标设备监听端口5555上的TCP/IP连接</h2><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="dd34" class="mz md it nu b gy nz oa l ob oc"><strong class="nu iu">adb tcpip 5555</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/82e23481b57d36e08fefb2a03df9f7b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QzHJQVn4ZyCXIsi0vwju8w.png"/></div></div></figure><h2 id="bf02" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">第三步。找到Android设备的IP地址</h2><p id="b983" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">例如，在Nexus设备上，您可以在设置&gt;关于平板电脑(或关于手机) &gt;状态&gt; IP地址中找到IP地址。</p><p id="b47c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Wear OS设备上，您可以在设置&gt; Wi-Fi设置&gt;高级&gt; IP地址中找到IP地址。</p><p id="0f61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的设备上，它位于路径设置&gt; Wi-fi设置&gt; Wi-Fi偏好设置&gt; IP地址(滚动到底部)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/aa912bfff46366208d872a40a2a8b95e.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*aV-y5BKuOr6Ygj-wSWDJfQ.jpeg"/></div></figure><h2 id="54bc" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">第四步。通过IP地址连接到设备</h2><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="76b9" class="mz md it nu b gy nz oa l ob oc">adb connect IP_Address</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/a95b94fc5201611e64341386a3171206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sNOEbhNxcjaE5bWU4pNQ2A.png"/></div></div></figure><h2 id="a491" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">第五步。拔下USB电缆，通过键入初始命令来测试您的连接</h2><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="d7c0" class="mz md it nu b gy nz oa l ob oc"><strong class="nu iu">adb devices</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/ea1b4bfa26515791aab61c69a5d6fa28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UgZPnfzvfiMxep3fQOz_og.png"/></div></div></figure><p id="ea76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这样，我们结束了。我们现在可以无线运行和调试了。</p><p id="6c3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果<code class="fe nr ns nt nu b">adb</code>连接丢失:</p><ol class=""><li id="d613" class="oi oj it lb b lc ld lf lg li ok lm ol lq om lu on oo op oq bi translated">确保您的主机仍然连接到您的Android设备所在的Wi-Fi网络。</li><li id="efbb" class="oi oj it lb b lc or lf os li ot lm ou lq ov lu on oo op oq bi translated">再次执行<code class="fe nr ns nt nu b">adb connect</code>步骤重新连接。</li><li id="2906" class="oi oj it lb b lc or lf os li ot lm ou lq ov lu on oo op oq bi translated">如果这不起作用，重置您的<code class="fe nr ns nt nu b">adb</code>主机:</li></ol><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="5618" class="mz md it nu b gy nz oa l ob oc"><strong class="nu iu">adb kill-server</strong></span></pre><p id="c3e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后从头开始。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5700" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">注意</h1><p id="b27b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果通过同一个Wi-Fi网络连接，这两种方法都有效。通过Wi-Fi安装APK可能会多花一点时间，与好处相比，这是微不足道的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d6ca" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">参考</h1><p id="c5c4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><a class="ae ky" href="https://plugins.jetbrains.com/plugin/7983-android-wifi-adb" rel="noopener ugc nofollow" target="_blank">安卓WiFi亚行</a></p><p id="d8c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://developer.android.com/studio/command-line/adb" rel="noopener ugc nofollow" target="_blank">安卓调试桥</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="2e95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这些了，我希望你喜欢这篇文章。请让我知道你的建议和意见。</p><p id="0489" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读…</p></div></div>    
</body>
</html>