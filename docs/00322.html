<html>
<head>
<title>What I Wish I Knew When I Started to Work With React.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">当我开始使用React.js时，我希望我知道什么</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/what-i-wish-i-knew-when-i-started-to-work-with-react-js-3ba36107fd13?source=collection_archive---------0-----------------------#2019-04-11">https://betterprogramming.pub/what-i-wish-i-knew-when-i-started-to-work-with-react-js-3ba36107fd13?source=collection_archive---------0-----------------------#2019-04-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="89d8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">每个React开发人员都应该知道的7个有用的技巧</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dcf0ed36880b78a6f7cdfc751a8836f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nrQ5vVSdulAG3LFO"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@benwhitephotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">本·怀特</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="c32b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自2013年5月29日首次发布以来，React.js已经接管了互联网。包括我自己在内的许多开发人员将他们的成功归功于这个令人惊叹的框架，这已经不是什么秘密了。</p><p id="f6c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这么多的React.js教程，我希望在我开始的时候，他们中的一个能告诉我这些技巧。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d6ed" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">你不需要。使用箭头函数时绑定(this)</h1><p id="bd5e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">通常，当您有一个受控组件时，您会看到这样的内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="551f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你要为每一个存在的方法编写<code class="fe nb nc nd ne b">.bind(this)</code>，因为大多数教程都告诉你这样做。如果您有几个受控制的组件，那么在您的<code class="fe nb nc nd ne b">constructor(){}</code>中将会有一大堆代码。</p><h2 id="db5a" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">相反，您可以:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="1320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">怎么会？</p><p id="08c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ES6的arrow函数使用了<a class="ae ky" href="https://whatis.techtarget.com/definition/lexical-scoping-static-scoping" rel="noopener ugc nofollow" target="_blank">词法作用域</a>，这让方法可以访问它被触发的地方的<code class="fe nb nc nd ne b">this</code>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1d1c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">当服务人员与你作对时</h1><p id="f5a0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">服务人员非常适合渐进式网络应用程序，它允许离线访问，并为网络连接不良的用户进行优化。</p><p id="d7d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，当您没有意识到服务人员正在缓存您的静态文件时，您会重复部署您的热修复程序。</p><p id="9bc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">却发现你的网站没有更新。😰</p><p id="ee20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要惊慌，确保你的<code class="fe nb nc nd ne b">src/index.js</code>:</p><pre class="kj kk kl km gt nr ne ns nt aw nu bi"><span id="87d6" class="nf md it ne b gy nv nw l nx ny">// Make sure it's set to unregister<br/>serviceWorker.unregister();</span></pre><p id="b127" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从16.8版本开始，这一行默认应该是<code class="fe nb nc nd ne b">serverWorker.unregister()</code>。</p><p id="6561" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果他们决定再次改变，你会知道去哪里找。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1e82" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">99%的时间你不需要弹出</h1><p id="b9f1" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><a class="ae ky" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> Create React App </a>为<code class="fe nb nc nd ne b">yarn eject</code>您的项目提供了一个选项来定制您的构建过程。</p><p id="2f30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我记得我试图定制构建过程，让SVG图像自动内联到我们的代码中。我花了几个小时试图理解建造过程。我们最终得到了一个注入SVG标签的导入文件，并将站点的加载速度提高了0.0001毫秒。</p><p id="bfd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">退出React项目就像打开正在行驶的汽车的引擎盖，并在运行中改变引擎以加快1%的速度。</p><p id="4145" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，如果您已经是一名Webpack高手，那么定制构建过程以满足项目需求是值得的。</p><p id="ea50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你试图准时交付时，把你的努力集中在它把针向前移动的地方。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e3aa" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">ESlint保存时自动修复节省了大量时间</h1><p id="a98b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们都复制了一些格式不正常的代码，由于它看起来很难看，我们最终花费时间手动添加空格。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/6011f9cb6eda92de65374cef3e3eb553.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mJyoA_RfLTejXzz49Epgmg.gif"/></div></div></figure><p id="c04a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用ESLint和Visual Studio代码插件，它可以在保存时为您修复。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/3bbfab92dc95b9b8355d32815643e982.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*OeKL1AqAkouPQ4I3NdKRbw.gif"/></div></div></figure><h2 id="7e2c" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">怎么会？</h2><ol class=""><li id="9e79" class="oa ob it lb b lc mu lf mv li oc lm od lq oe lu of og oh oi bi translated">在您的<code class="fe nb nc nd ne b">package.json</code>中，添加一些开发依赖项，并执行<code class="fe nb nc nd ne b">npm i</code>或<code class="fe nb nc nd ne b">yarn</code>:</li></ol><pre class="kj kk kl km gt nr ne ns nt aw nu bi"><span id="ff11" class="nf md it ne b gy nv nw l nx ny">"devDependencies": {</span><span id="8568" class="nf md it ne b gy oj nw l nx ny"> "eslint-config-airbnb": "^17.1.0",</span><span id="3c42" class="nf md it ne b gy oj nw l nx ny"> "eslint-config-prettier": "^3.1.0",</span><span id="f13b" class="nf md it ne b gy oj nw l nx ny"> "eslint-plugin-import": "^2.14.0",</span><span id="936d" class="nf md it ne b gy oj nw l nx ny"> "eslint-plugin-jsx-a11y": "^6.1.1",</span><span id="09aa" class="nf md it ne b gy oj nw l nx ny"> "eslint-plugin-prettier": "^3.0.0",</span><span id="2768" class="nf md it ne b gy oj nw l nx ny"> "eslint-plugin-react": "^7.11.0"</span><span id="650c" class="nf md it ne b gy oj nw l nx ny">}</span></pre><p id="d2d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.安装ESLint扩展:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/67d3c058b247218525931a44bff4b4dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fS3jaNpWKkaoV8ZZWAgcVA.png"/></div></div></figure><p id="39b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.启用保存时自动修复:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/3041caa2119659af1b07a7111a671176.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*FZLWmlqxE1leDVlaMrd_RA.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d5a6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">你不需要Redux，Styled-components等等…</h1><p id="8be6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">每个工具都有其用途。也就是说，了解不同的工具是有好处的。</p><blockquote class="om"><p id="a8e4" class="on oo it bd op oq or os ot ou ov lu dk translated">如果你只有一把锤子，那么所有的东西看起来都像钉子——亚伯拉罕·马斯洛</p></blockquote><p id="3e2b" class="pw-post-body-paragraph kz la it lb b lc ow ju le lf ox jx lh li oy lk ll lm oz lo lp lq pa ls lt lu im bi translated">您需要考虑您使用的一些库的设置时间，并问自己:</p><ul class=""><li id="6417" class="oa ob it lb b lc ld lf lg li pb lm pc lq pd lu pe og oh oi bi translated">我试图解决的问题是什么？</li><li id="6698" class="oa ob it lb b lc pf lf pg li ph lm pi lq pj lu pe og oh oi bi translated">这个项目会长久地受益于这个库吗？</li><li id="9a84" class="oa ob it lb b lc pf lf pg li ph lm pi lq pj lu pe og oh oi bi translated">React已经提供现成的东西了吗？</li></ul><p id="7af3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在有了<a class="ae ky" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">上下文</a>和<a class="ae ky" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank">钩子</a>可以反应，还需要Redux吗？</p><p id="a765" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我强烈推荐<a class="ae ky" href="https://github.com/redux-offline/redux-offline" rel="noopener ugc nofollow" target="_blank"> Redux Offline </a>用于当你的用户处于糟糕的网络连接环境中时。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d034" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">重用事件处理程序</h1><p id="a0de" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果您不想一遍又一遍地输入相同的内容，重用事件处理程序可能是一种选择:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b4ad" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">setState是异步的</h1><p id="8f7a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">天真的我会写下这样的话:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><h2 id="4da8" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">选项1:传递状态</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><h2 id="2971" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">选项2:将辅助函数设置为setState的回调</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d5d7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="0830" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这些建议为我节省了很多时间，我相信还有更多的时间。请在评论区分享它们。</p></div></div>    
</body>
</html>