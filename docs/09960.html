<html>
<head>
<title>Meet Flows: Postman’s New Cool Feature</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">满足流量:邮递员的新酷功能</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/postman-flows-54ede6e0b558?source=collection_archive---------1-----------------------#2021-11-07">https://betterprogramming.pub/postman-flows-54ede6e0b558?source=collection_archive---------1-----------------------#2021-11-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9b8b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">虽然Postman的流功能仍在开发过程中，但我们有机会试用测试版。那么，为什么不呢，让我们来玩一玩，探索一下</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f99991e4986c72f02886ba697b64d522.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c2KwO1Kth7GbxZJD"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">安东尼奥·加波拉在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="4110" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">等等，什么是流动？</strong></h2><p id="2fb7" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">Flows是一种功能，它意味着在Postman中实现无代码工作成为可能。那些处理过链接多个请求、在请求之间共享值和参数以及从响应中检索数据的人会同意我的观点，这不是一个容易完成的任务，至少需要一些JavaScript的基础知识。因此，Postman将使我们的生活变得更加轻松，因为它使无代码工作成为可能，并摆脱了javascript的困扰。</p><p id="03e7" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">因此，让我们深入研究一下，看看它在实践中是如何工作的。</p><p id="cbf1" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">首先，您需要从右上角的菜单中选择<em class="mq">流</em>，然后点击加号按钮或蓝色的<em class="mq">创建流</em>按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/ff63502fb35818fd32f78e6dde986083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*SZ4Yi_pUmxEOVZ-rQPMoSw.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">添加新流程</p></figure><p id="0622" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">将添加一个新的流程，并打开流程设计窗口。默认情况下，新流程包含一个开始按钮和一个包含所有可用块类型的菜单块。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/89f7c78766e491dac875184c8c9523b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RJsTa4vQmhN9iXFPVFPjKQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">1.您可以随时更改流的名称，就像您对requests 2所做的一样。到目前为止，Flows还处于测试版本，您可以将反馈发送到邮递员团队3。流终端，您可以在这里读取请求日志4和6。开始按钮只是启动流程5。块菜单，在这里你可以选择不同类型的块7。添加块按钮打开块的菜单</p></figure><p id="ba8d" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">到目前为止，块菜单包含以下块。我可以想象以后会有更多的区块加入。</p><ul class=""><li id="adcb" class="mt mu iq lu b lv ml ly mm lf mv lj mw ln mx mk my mz na nb bi translated"><strong class="lu ir">发送请求</strong>:这个块添加了一个预定义的请求，也就是说，您应该在集合中的某个地方有这个请求，所以您可以将它添加到这个块中</li><li id="2643" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated"><strong class="lu ir">终端:</strong>它只会显示你的请求日志。</li><li id="7929" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated"><strong class="lu ir">创建变量</strong>:您可以创建变量并使用这些变量，以便在请求之间共享数据。</li><li id="8c3f" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated"><strong class="lu ir">解析JSON </strong>:您可以快速解析JSON输出，而无需编写一行代码。</li><li id="a828" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated"><strong class="lu ir">延迟:</strong>这个可以用来增加请求之间的延迟。延迟的持续时间应以毫秒为单位定义。</li><li id="82ab" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated"><strong class="lu ir"> Validate: </strong>在这个模块的帮助下验证请求的输出，它可以有真或假的输出。</li><li id="7f65" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated"><strong class="lu ir"> For Each: </strong>不要试图找出JavaScript中的“For Each”语句是如何工作的，你可以直接使用这个代码块，轻松地遍历你的数据。</li><li id="dd8d" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated"><strong class="lu ir">合并:</strong>合并块用于将两个数据输出合并成一个。</li><li id="df56" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated"><strong class="lu ir">注释:</strong>这个块可以用来在流程的不同地方添加注释，以描述它是如何工作的。把它看做是在代码中添加注释。</li></ul><p id="5955" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">所有模块都有4个通用按钮，如下图所示👇</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/1aead9a2ede911283adb5d23ed890479.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*B8-JgO_WYrYeXvY8UI70Ig.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">1.打开详细信息窗口，您可以在其中查看有关块、其输入和输出参数以及配置2的更多详细信息。这将打开一个选择菜单，从中您可以选择查看有关该块的更多信息，复制或删除它3。绿色按钮表示它触发了块，但不携带任何数据。当您选择使用按钮4来链接块4时，它将关闭。通过点击这个，你可以链接一个新的块，不需要从链接的块中获取数据</p></figure><p id="2039" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">现在是时候使用一些可用的块来设计一个简单的流程了。为此，我们将使用<a class="ae kv" href="https://www.postman.com/postman/workspace/30-days-of-postman-for-developers/overview" rel="noopener ugc nofollow" target="_blank">“邮递员30天”</a>课程中的<a class="ae kv" href="https://www.postman.com/postman/workspace/30-days-of-postman-for-developers/documentation/1559645-7e3a6d75-57cb-4e54-82ff-b4f9e402c8cc" rel="noopener ugc nofollow" target="_blank">请求示例</a>。所以我们叉<em class="mq">植物浇水</em>集合🌵，它有一个GET请求，请求并获得一个水合程度变量作为响应。分叉的集合应该在我们想要设计流的同一个工作空间中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/930471c96bbbfef100e8075762fdd642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fyNtpKT8sT9ZxOqbkaCOHw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">下面的Get请求用在流示例中。响应是土壤水合程度的<strong class="bd nj">水平</strong>变量。</p></figure><p id="af0a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我们的流程将包含以下步骤:</p><ul class=""><li id="2199" class="mt mu iq lu b lv ml ly mm lf mv lj mw ln mx mk my mz na nb bi translated">我们发送GET请求并得到相应的水合程度</li><li id="70f1" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated">我们解析JSON响应</li><li id="1599" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated">我们创建一个变量来保存水合程度</li><li id="7548" class="mt mu iq lu b lv nc ly nd lf ne lj nf ln ng mk my mz na nb bi translated">我们验证水合程度，如果它高于0.6，那么在终端中我们应该得到一个消息，告诉我们，是时候给它浇水了。如果水合程度低于0.6，那么我们应该在终端中得到另一个消息，这一次告诉我们，我们不需要担心给植物浇水。</li></ul><p id="a58a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">首先，我们添加GET请求块。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/e110b4d277de71100c75a448463285b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Humez4llMjGAbqFWz1LB8A.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">添加GET请求块</p></figure><p id="c16a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">块可以用两种方式链接。如果下一个程序块需要从上一个程序块获取数据才能被触发，那么我们使用程序块右上角的<strong class="lu ir"><em class="mq">+响应</em> </strong>按钮，否则，我们使用程序块右下角的小方形按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/e40a6e14d6d9b9fce65b54e62b1faecd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VTDbgJYHvEqTXKtb1liCTQ.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">添加用于解析请求的JSON响应的Parse JSON块</p></figure><p id="1ef9" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在添加变量块之前，单击start按钮并运行第一个请求，以便生成输出数据。通常，下一步是在请求之后添加解析JSON块，以便解析JSON响应，但是由于Flows仍然处于测试版本，该块还不能工作，我们将继续进行，不解析响应。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/66c207d64a166c6ad8b0aa1669021f05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YEhvRN9ToB66hyWASLoaJA.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">添加创建变量块</p></figure><p id="a7c2" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">当点击<em class="mq">创建变量</em>块内的<em class="mq">创建变量</em>按钮时，一个新窗口打开，您可以在此指定变量的输入值和名称。在我们的例子中，变量的输入值将是GET请求的响应体中的level参数，我们将其命名为<em class="mq"> hydration_level </em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/74dbbc4e7d8feded02aa22e46da07f58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*a6Rp8KFrR-MJwAx1pyATtQ.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">指定变量值和名称</p></figure><p id="b4d0" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我们需要验证<em class="mq"> hydration_level </em>变量，在此基础上我们将决定是否给植物浇水。所以下一步是添加<em class="mq">验证</em>块。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/24964f59bb79273e8a61a3be61c25959.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*BFLH2-lDr4aSA7UUj8ms7Q.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">添加验证块</p></figure><p id="a15a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在Validate块中，我们需要指定应该验证什么、验证操作符和值。我们要检查<em class="mq">水合_水平</em>是否小于0.6，因此数据路径将是<em class="mq">水合_水平</em>，运算符Lesser和Num值将是0.6。</p><p id="9e97" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">最后一步，我们添加2个端子，一个用于<em class="mq">真</em>输出，另一个用于<em class="mq">假</em>输出。如果<em class="mq">水合_水平</em>值小于0.6，则第一个终端被激活，否则，第二个终端被激活，告诉我们不要给植物浇水。最后，我们添加了两个注释块，一个在真输出行上，表示它是真输出，另一个在假输出行上。要运行流程，我们只需单击开始按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/c5a5ff359924eea722b5c898f70049fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*puKi17IisdOe4Gptws_x_Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">最终流程</p></figure><p id="af88" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">现在轮到你了，去试试吧。</p></div></div>    
</body>
</html>