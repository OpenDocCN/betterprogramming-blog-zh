<html>
<head>
<title>Effective Do’s and Don’ts for Your Next Code Review</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为您的下一次代码审查做些什么和不做些什么</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/effective-dos-and-don-ts-for-your-next-code-review-106fe3fa870f?source=collection_archive---------3-----------------------#2022-07-09">https://betterprogramming.pub/effective-dos-and-don-ts-for-your-next-code-review-106fe3fa870f?source=collection_archive---------3-----------------------#2022-07-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9569" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">代码评审的最佳实践</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7567e72661a5fe89acbde79358c14c51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9NnAcKW54QxW_WIfj2j3Yw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自Pexels</p></figure><p id="e0f7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">成为一名伟大的程序员并不意味着只写干净的代码。这也意味着知道如何阅读他人的代码，理解它，并就如何最好地迭代它给出有用的反馈。</p><p id="5dff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果做得正确的话，能够进行有价值的代码审查并从你的同事那里得到反馈将会很快使你从其他工程师中脱颖而出。让我们谈谈该做什么和不该做什么。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="c259" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">1.如果你有不明白的地方，留下问题</h1><p id="56ec" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">永远不要指望你什么都知道。理解代码可能相当复杂，尤其是如果你对代码库不熟悉，或者对你正在阅读的内容没有背景知识。如果有些事情没有意义，不要害怕提问。</p><p id="cad1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代码评审应该是<strong class="la iu"> <em class="my">协同</em> </strong>！通过给你一个学习和成长的机会，你在帮助编写代码的开发人员，就像他们在帮助你一样。</p><p id="e642" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，如果您不理解某些东西，并且在代码审查期间没有抓住机会询问它，那么当您不可避免地在以后接触相同的代码块时，它将会回来困扰您。</p><h1 id="44fa" class="mb mc it bd md me mz mg mh mi na mk ml jz nb ka mn kc nc kd mp kf nd kg mr ms bi translated">不要对你的代码发表个人评论</h1><p id="3be2" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">当他们评论你的代码时，没有人试图攻击你。如果开发人员提出了一种替代方法来做某事，他们只是想帮助确保您尽可能交付最高质量的代码。他们不是说你不知道如何编码，或者你的代码不好。当有人评论他们的工作时，不要消极攻击。这让人不舒服，不想审查你的代码，最终只会伤害团队中的每个人。对队友给你的建议和改进保持开放的心态。</p><h1 id="d840" class="mb mc it bd md me mz mg mh mi na mk ml jz nb ka mn kc nc kd mp kf nd kg mr ms bi translated">2.Do —在注释拉取请求时使用伪代码</h1><p id="b6aa" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">在某些情况下，用简单的英语写出一个建议或改进会很有帮助。但在其他情况下，一小段伪代码可以比英语提供一千倍的清晰度。</p><p id="1547" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">伪代码有助于向要求评审的开发人员传达您认为代码应该如何执行的心理模型。这里有一个例子</p><p id="232b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">编写代码以供审查:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="43f1" class="nj mc it nf b gy nk nl l nm nn">const someData = ["hi", "test", "blah", "hello"]</span><span id="64c0" class="nj mc it nf b gy no nl l nm nn">const array1 = someData.filter((val) =&gt; val[0] === "h");<br/>const array2 = someData.filter((val) =&gt; val[0] === "t");<br/>const array3 = someData.filter((val) =&gt; val[0] === "b");</span></pre><p id="833f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代码审查期间提出的建议:</p><pre class="kj kk kl km gt ne nf ng nh aw ni bi"><span id="4ae3" class="nj mc it nf b gy nk nl l nm nn">So I get that you are trying to filter out the data in the initial array into 3 separate arrays depending on the first letter of the word. Instead of doing 3 separate filters how about this instead...</span><span id="2ecd" class="nj mc it nf b gy no nl l nm nn">create empty arrays [] for array1,2,3</span><span id="5997" class="nj mc it nf b gy no nl l nm nn">for( i = 0; i &lt; someData.length ; i++) {</span><span id="c85c" class="nj mc it nf b gy no nl l nm nn">  if(someData[i][0] === "h")  array1.push(someData[i]);</span><span id="c9c1" class="nj mc it nf b gy no nl l nm nn">  if(someData[i][0] === "t")  array1.push(someData[i]);</span><span id="c454" class="nj mc it nf b gy no nl l nm nn">  if(someData[i][0] === "b")  array1.push(someData[i]);</span><span id="fb02" class="nj mc it nf b gy no nl l nm nn">}</span><span id="164f" class="nj mc it nf b gy no nl l nm nn">This way you don't have to traverse someData 3 times with three different filter functions. Instead you traverse it once in a single for loop checking each item as you go!</span></pre><p id="456f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，在我的建议中，我提出了我认为代码块的目的是什么，然后建议了一种实现相同结果的替代方法。</p><p id="0cba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">中间的伪代码块为我提出的解决方案提供了一些技术上的清晰度，而不是详细地写出来，并希望其他开发人员能够理解我的意图。</p><h1 id="68c3" class="mb mc it bd md me mz mg mh mi na mk ml jz nb ka mn kc nc kd mp kf nd kg mr ms bi translated">不要盲目地接受拉请求，甚至不阅读或理解代码</h1><p id="b7ee" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">你可能会认为这是显而易见的<strong class="la iu">不要</strong>然而我知道我个人遇到过很多开发者，他们只是给出绿色✅而没有真正阅读代码。你知道你是谁！👀</p><p id="1914" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这在很多方面都是有害的，但这里有一些。</p><ul class=""><li id="4a04" class="np nq it la b lb lc le lf lh nr ll ns lp nt lt nu nv nw nx bi translated">潜在的劣质代码进入代码库</li><li id="8aee" class="np nq it la b lb ny le nz lh oa ll ob lp oc lt nu nv nw nx bi translated">引入错误的可能性更高</li><li id="0805" class="np nq it la b lb ny le nz lh oa ll ob lp oc lt nu nv nw nx bi translated">从过程的双方——评审者和提交代码进行评审的开发人员——那里拿走了学习的机会。</li><li id="9903" class="np nq it la b lb ny le nz lh oa ll ob lp oc lt nu nv nw nx bi translated">在团队中推广坏习惯。</li></ul><p id="8852" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不胜枚举，就是不做。请阅读您的同行代码！</p><h1 id="3c0d" class="mb mc it bd md me mz mg mh mi na mk ml jz nb ka mn kc nc kd mp kf nd kg mr ms bi translated">3.做——称赞或大声说出你在复习时学到的东西</h1><p id="05d7" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">正如我之前说过的，代码评审是一个协作的过程。并不总是负面的。我已经有很多次在审查代码的时候，我学到了一种新的方法来做一些动作。无论是学习一个新的函数，一种编写算法的新方法，等等。</p><p id="61b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不要害怕发表评论，大声说出任何对你有积极影响的事情。很多时候，这可以引发超越代码评审本身的伟大对话。</p><p id="6f6b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样，这也是向你的队友展示你正在阅读他们的代码并向他们学习的好方法。这是提高团队士气的好方法。每个人都喜欢得到一点认可，所以不要害怕在代码评审期间给予认可！</p><h1 id="c314" class="mb mc it bd md me mz mg mh mi na mk ml jz nb ka mn kc nc kd mp kf nd kg mr ms bi translated">不要——将一堆不相关的变更放入一个代码评审/PR中</h1><p id="450e" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">在代码评审过程中，将代码变更组织成易于理解的块非常有帮助。因此，如果代码解决了一百万个不同的特性/错误，就不要提交代码进行评审。</p><p id="efd2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果评审者不理解他们所评审的最终目标/目的，那么评审就会变得更加困难。这样想，当你写一个大函数的时候，你不会停下来修复不相关的错误，因为你很难专注于你的最终目标。在代码评审时，评审人员也是一样。</p><p id="2ff4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果在一组文件更改中，你正在修复一个bug，而在另一组中，你正在重构一个头发算法以使其更具可读性，那么就很难将这些点联系起来。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="e680" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">结论</h1><p id="fc6c" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">代码评审为团队提供了许多好处，例如提供了一个向同行学习的好地方，提供了一个获得有价值反馈的机会，以及帮助提高所提交代码的质量。</p><p id="cc16" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每天花几分钟时间进行代码审查将会迅速增加你为团队提供的价值，并且随着时间的推移帮助你成长为一名工程师。</p></div></div>    
</body>
</html>