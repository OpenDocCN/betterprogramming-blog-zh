<html>
<head>
<title>How to Use Github Packages for Deploying Jars</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Github包部署jar</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-github-packages-for-deploying-jars-b6e9fdb5e23c?source=collection_archive---------2-----------------------#2022-05-29">https://betterprogramming.pub/how-to-use-github-packages-for-deploying-jars-b6e9fdb5e23c?source=collection_archive---------2-----------------------#2022-05-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="85c9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">访问您在当前项目中部署到Github包的所有类</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fb33678ca99b1ab01cd8e22ec484e966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rjT05OvkYtNljNr8bY4_Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@purzlbaum?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克劳迪奥·施瓦茨</a>在<a class="ae kv" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="a24b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在拥有多个微服务的项目中，每个微服务都有不同的部署。一些你用来连接REST APIs的微服务和一些你在项目中直接用作库依赖的<strong class="ky ir"> <em class="ls">微服务。</em>T11】</strong></p><p id="f2d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将向您展示如何使用Github包来创建和部署您的工件jar，以及如何在您的项目中使用这个工件jar并进行适当的版本控制。</p><h2 id="8aac" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">创建jar并部署</h2><p id="f1d4" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">你需要做的第一件事是修改你的<code class="fe mr ms mt mu b">pom.xml</code></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="1486" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我们已经定义了我们的工件jar将要到达的分发路径。</p><p id="c5d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们只需要创建一个GitHub动作工作流，当我们在GitHub中创建一个发布时，它将发布一个jar。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="696c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你在上面看到的，我们在GitHub行动中有两个任务。</p><p id="2918" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当合并到master时，它将构建我们的jar以确保我们没有任何编译错误。</p><p id="fe20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们在GitHub中创建一个新版本时，我们会触发一个任务，用<code class="fe mr ms mt mu b">mvn -B package --file pom.xml</code>构建jar，并用<code class="fe mr ms mt mu b">mvn deploy</code>将生成的jar部署到GitHub包中</p><p id="ae22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当这项工作完成时，您将能够在Github repo的Github Packages部分看到这个新创建的jar。</p><h2 id="1878" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">使用Github包中的jar</h2><p id="dc04" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">现在您已经将这个jar部署到Github包中，是时候在您的另一个项目中使用这个jar了。让我们看看如何实现这一目标。</p><p id="3a80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的项目中，您需要在<code class="fe mr ms mt mu b">pom.xml</code>中添加以下内容</p><pre class="kg kh ki kj gt mx mu my mz aw na bi"><span id="d059" class="lt lu iq mu b gy nb nc l nd ne">&lt;repositories&gt;<br/>    &lt;repository&gt;<br/>        &lt;id&gt;github&lt;/id&gt;<br/>        &lt;name&gt;GitHub Apache Maven Packages&lt;/name&gt;<br/>        &lt;url&gt;https://maven.pkg.github.com/{github_org}/{github_repo_name}&lt;/url&gt;<br/>    &lt;/repository&gt;<br/>&lt;/repositories&gt;</span></pre><p id="2b6c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，您可以在依赖项部分添加依赖项:</p><pre class="kg kh ki kj gt mx mu my mz aw na bi"><span id="598d" class="lt lu iq mu b gy nb nc l nd ne">&lt;dependency&gt;<br/>    &lt;groupId&gt;com.example.repo&lt;/groupId&gt;<br/>    &lt;artifactId&gt;common&lt;/artifactId&gt;<br/>    &lt;version&gt;{version_name}&lt;/version&gt;<br/>&lt;/dependency&gt;</span></pre><p id="166e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在您应该能够访问您在当前项目中部署到Github包的所有类了。</p><p id="30be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望这有所帮助。</p></div></div>    
</body>
</html>