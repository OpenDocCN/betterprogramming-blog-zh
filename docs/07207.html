<html>
<head>
<title>How to Find Unique Objects in an Array in JavaScript by Object Reference or Key-Value Pairs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中通过对象引用或键值对找到数组中唯一的对象</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-find-unique-objects-in-an-array-in-javascript-by-object-reference-or-key-value-pairs-131338898d7a?source=collection_archive---------3-----------------------#2020-12-17">https://betterprogramming.pub/how-to-find-unique-objects-in-an-array-in-javascript-by-object-reference-or-key-value-pairs-131338898d7a?source=collection_archive---------3-----------------------#2020-12-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="85f6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我将使用<code class="fe ki kj kk kl b">Set</code>通过对象引用从数组中移除重复的对象。然后我将通过查看键值对来查找对象。</h2></div><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/1a3caee269ccb8f8cdeb936f30aa73ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gl2z-YFLG4GHJbYisxjQQQ.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">照片由<a class="ae lc" href="https://unsplash.com/@jg?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乔·格林</a>在<a class="ae lc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="d6db" class="ld le it bd lf lg lh li lj lk ll lm ln jz lo ka lp kc lq kd lr kf ls kg lt lu bi translated">在JavaScript数组中寻找唯一的对象</h1><p id="5805" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">强大的ES6特性<code class="fe ki kj kk kl b"><a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">Set</a></code>只接受添加到其中的每个值的一个副本，这使得它非常适合在JavaScript中查找不同的对象。</p><blockquote class="mr ms mt"><p id="91a2" class="lv lw mu lx b ly mv ju ma mb mw jx md mx my mg mh mz na mk ml nb nc mo mp mq im bi translated">"<code class="fe ki kj kk kl b"><strong class="lx iu">Set</strong></code>对象允许你存储任何类型的唯一值，无论是原始值<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" rel="noopener ugc nofollow" target="_blank">还是对象引用."</a></p><p id="ee1a" class="lv lw mu lx b ly mv ju ma mb mw jx md mx my mg mh mz na mk ml nb nc mo mp mq im bi translated">— <a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noopener ugc nofollow" target="_blank"> MDN文档</a></p></blockquote><p id="fd59" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">在本教程中，您将确切地了解如何在处理包含可能重复的JavaScript对象的数组时最好地使用<code class="fe ki kj kk kl b">Set</code>。</p><p id="4c53" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">我将探索使用<code class="fe ki kj kk kl b">Set</code>从数组中移除任何重复的对象。首先，我将根据对象的<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/Variables" rel="noopener ugc nofollow" target="_blank">变量名</a>找到唯一的对象(具有相同<em class="mu">对象引用</em>的对象)。然后，我将过滤具有相同键值对的对象(具有相同的<em class="mu">内容</em>但是不同的对象引用)。</p><p id="f435" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">在我开始编码之前，让我们讨论一下对象引用和对象内容之间的区别，因为它阐明了<code class="fe ki kj kk kl b">Set</code>在JavaScript中是如何工作的。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="391b" class="ld le it bd lf lg nk li lj lk nl lm ln jz nm ka lp kc nn kd lr kf no kg lt lu bi translated">使用<code class="fe ki kj kk kl b">Set</code>寻找独特的物体</h1><p id="4db1" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">您可能已经熟悉了<code class="fe ki kj kk kl b">Set </code>的基本思想——您只能将每个值添加到<code class="fe ki kj kk kl b">Set</code>中一次，只留下唯一项的列表。</p><p id="2d62" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">然而，与处理<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects" rel="noopener ugc nofollow" target="_blank"> JavaScript对象</a>相比，<code class="fe ki kj kk kl b">Set</code>处理<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" rel="noopener ugc nofollow" target="_blank">原始值</a>的方式有所不同。</p><p id="2d4b" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">那是因为JavaScript对象，即使是内容完全相同的对象，在内存中也有不同的<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Glossary/Object_reference" rel="noopener ugc nofollow" target="_blank">对象引用</a>，也称为<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Mozilla/js-ctypes/Using_js-ctypes/Memory_Management" rel="noopener ugc nofollow" target="_blank"> <em class="mu">指针</em> </a>。</p><p id="dd1f" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated"><code class="fe ki kj kk kl b">Set</code>对于从数组中移除重复的对象仍然非常有用，因为可以将一个存储在变量中的对象多次添加到一个数组中。在这种情况下，如果同一个对象被多次添加，<code class="fe ki kj kk kl b">Set</code>将帮助您删除不唯一的对象引用，只留下一个副本。</p><p id="00a2" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">然而，您也可以在使用<code class="fe ki kj kk kl b">Set</code>比较对象内容的同时过滤对象数组。这样，您可以通过删除任何具有重复键值对的对象来找到不同的对象。我将此称为通过内容查找唯一对象，其中<em class="mu">内容</em>表示<em class="mu">键-值对</em>(也称为<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" rel="noopener ugc nofollow" target="_blank"> <em class="mu">条目</em> </a>)。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="b3d3" class="ld le it bd lf lg nk li lj lk nl lm ln jz nm ka lp kc nn kd lr kf no kg lt lu bi translated">通过对象引用查找唯一的JavaScript对象</h1><p id="1130" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">JavaScript中的每个变量都存在于计算机内存的某个部分中，无论这台计算机是服务器(运行<a class="ae lc" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>)还是网络浏览器。</p><p id="f139" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">当你用一个给定的名字定义一个变量时，这个名字就和内存中的一个位置相关联了。对于作为变量存储的对象，内存中的这些位置被称为<em class="mu">对象引用</em>——每个对象都有一个唯一的引用。</p><p id="e338" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">尽管如此，您仍然可以将这个惟一的对象引用多次添加到给定的数组中。这可能不是您希望在代码中出现的行为，所以下面介绍如何从数组中移除重复的对象引用。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi np"><img src="../Images/4e9768deb862331cc3f4b4ac6f88d41d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BmOIlQjLqEjqKlYADsinbw.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae lc" href="https://gist.github.com/DoctorDerek/7e8ba7a07b0aea05020e1c7ed73bb860" rel="noopener ugc nofollow" target="_blank">查看原始代码</a>作为GitHub要点</p></figure><p id="600f" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">使用<code class="fe ki kj kk kl b">Set</code>使得解决这个问题比你自己遍历数组，比较每个对象要简单得多。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="f0d1" class="ld le it bd lf lg nk li lj lk nl lm ln jz nm ka lp kc nn kd lr kf no kg lt lu bi translated">按内容(键值对)查找唯一对象</h1><p id="d278" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">由于默认情况下<code class="fe ki kj kk kl b">Set</code>想要比较对象引用，我们需要将我们的对象转换成<code class="fe ki kj kk kl b">Set</code>能够比较的格式。</p><p id="daf6" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">要提取对象的内容进行比较，可以利用<code class="fe ki kj kk kl b"><a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-use-stringify-and-parse-in-javascript-6b637b571a32" rel="noopener">JSON.stringify()</a></code> <a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-use-stringify-and-parse-in-javascript-6b637b571a32" rel="noopener">和</a> <code class="fe ki kj kk kl b"><a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-use-stringify-and-parse-in-javascript-6b637b571a32" rel="noopener">JSON.parse()</a></code>。这些伟大的方法将JavaScript对象转换成<a class="ae lc" href="https://medium.com/swlh/what-is-json-used-for-in-javascript-programming-9d71284359a9" rel="noopener"> JSON格式</a> (JavaScript对象符号)字符串。</p><p id="4ae3" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated"><code class="fe ki kj kk kl b">Set</code>非常适合<a class="ae lc" href="https://medium.com/coding-in-simple-english/how-to-find-unique-strings-in-an-array-using-javascript-e698b7957736" rel="noopener">在数组</a>中寻找唯一的字符串，这样我们就能够将唯一的JSON字符串转换回JavaScript对象。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nq"><img src="../Images/5cbb2d3a763ccb7ae680f5d8da20f0d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qLVEJ0F-jrO4p8DnZV5Tew.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated"><a class="ae lc" href="https://gist.github.com/DoctorDerek/0d3587f2374f343d5c9980a6b24f9f36" rel="noopener ugc nofollow" target="_blank">查看原始代码</a>作为GitHub要点</p></figure><p id="6704" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">在这里，您需要了解JSON是如何处理数据转换的，因为某些值不是JSON安全的。</p><blockquote class="mr ms mt"><p id="bf09" class="lv lw mu lx b ly mv ju ma mb mw jx md mx my mg mh mz na mk ml nb nc mo mp mq im bi translated">"<code class="fe ki kj kk kl b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" rel="noopener ugc nofollow" target="_blank">undefined</a></code>、<code class="fe ki kj kk kl b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" rel="noopener ugc nofollow" target="_blank">Function</a></code> s和<code class="fe ki kj kk kl b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol" rel="noopener ugc nofollow" target="_blank">Symbol</a></code> s不是有效的JSON值[…]</p><p id="fc07" class="lv lw mu lx b ly mv ju ma mb mw jx md mx my mg mh mz na mk ml nb nc mo mp mq im bi translated"><code class="fe ki kj kk kl b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" rel="noopener ugc nofollow" target="_blank">Date</a></code>【对象】被视为字符串。</p><p id="6ff6" class="lv lw mu lx b ly mv ju ma mb mw jx md mx my mg mh mz na mk ml nb nc mo mp mq im bi translated">数字<code class="fe ki kj kk kl b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity" rel="noopener ugc nofollow" target="_blank">Infinity</a></code>和<code class="fe ki kj kk kl b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN" rel="noopener ugc nofollow" target="_blank">NaN</a></code>，以及数值<code class="fe ki kj kk kl b"><a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" rel="noopener ugc nofollow" target="_blank">null</a></code>，都被认为是<code class="fe ki kj kk kl b">null</code>。"</p><p id="557a" class="lv lw mu lx b ly mv ju ma mb mw jx md mx my mg mh mz na mk ml nb nc mo mp mq im bi translated">— <a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" rel="noopener ugc nofollow" target="_blank"> MDN文档</a></p></blockquote><p id="571c" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">对于像<a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-check-for-a-number-in-javascript-8d9024708153" rel="noopener">数字</a>、<a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-check-for-a-string-in-javascript-a16b196915ff" rel="noopener">字符串</a>和<a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-check-for-a-boolean-in-javascript-98fdc8aec2a7" rel="noopener">布尔</a>值这样的原始类型，您会发现这种使用<code class="fe ki kj kk kl b">Set</code>和<code class="fe ki kj kk kl b">JSON.stringify</code>和<code class="fe ki kj kk kl b">JSON.parse</code>的方法非常适合根据内容查找不同的对象，甚至是嵌套的对象。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="ebce" class="ld le it bd lf lg nk li lj lk nl lm ln jz nm ka lp kc nn kd lr kf no kg lt lu bi translated">结论:找到不同的JavaScript对象</h1><p id="d167" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">当JavaScript中有一组对象时，您通常希望使用唯一的对象——您不希望有任何可能导致错误或糟糕用户体验的重复对象。</p><p id="13da" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">然而，JavaScript对唯一对象有两种定义:</p><ol class=""><li id="124b" class="nr ns it lx b ly mv mb mw me nt mi nu mm nv mq nw nx ny nz bi translated">对象的引用(它的变量名或在内存中的位置)</li><li id="ba57" class="nr ns it lx b ly oa mb ob me oc mi od mm oe mq nw nx ny nz bi translated">一个对象的内容(它的键值对或<em class="mu">条目</em></li></ol><p id="b3d5" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">具有唯一引用的对象是内存中不同的对象，即使它们有完全相同的内容，就像JavaScript对象的<a class="ae lc" href="https://medium.com/javascript-in-plain-english/how-to-deep-copy-objects-and-arrays-in-javascript-7c911359b089" rel="noopener">深度克隆。要找到具有唯一引用的对象，您需要从数组</a>中<a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">生成一个</a> <code class="fe ki kj kk kl b"><a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">Set</a></code> <a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">。通过引用比较对象是<code class="fe ki kj kk kl b">Set</code>的默认行为。</a></p><p id="2cb5" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">为了让<code class="fe ki kj kk kl b">Set</code>根据对象的内容来比较对象，您需要利用<code class="fe ki kj kk kl b">JSON.stringify()</code>和<code class="fe ki kj kk kl b">JSON.parse()</code>将对象转换成JSON格式的字符串原语，以便<code class="fe ki kj kk kl b">Set</code>进行比较。如果你的对象是<a class="ae lc" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" rel="noopener ugc nofollow" target="_blank"> JSON安全的</a>，那么这将非常有效，甚至对于嵌套的对象也是如此。相当甜蜜！</p><p id="e812" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">希望本文能帮助您理解在JavaScript数组中寻找不同对象时，对象引用和对象内容之间的区别。</p><p id="5f17" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">要了解更多关于<code class="fe ki kj kk kl b">Set</code>的内容，请参考我的<a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">在JavaScript </a>中使用 <code class="fe ki kj kk kl b"><a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">Set</a></code> <a class="ae lc" href="https://medium.com/coding-at-dawn/how-to-use-set-to-filter-unique-items-in-javascript-es6-196c55ce924b" rel="noopener">的完整指南。</a></p><p id="82ab" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated"><strong class="lx iu">快乐编码！</strong>🎄🎁🎅🥂🎇</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><p id="d318" class="pw-post-body-paragraph lv lw it lx b ly mv ju ma mb mw jx md me my mg mh mi na mk ml mm nc mo mp mq im bi translated">德里克·奥斯汀博士是《职业规划:如何在6个月内成为成功的6位数程序员》一书的作者，该书现已在亚马逊上出售。</p></div></div>    
</body>
</html>