<html>
<head>
<title>How To Create Responsive Data Tables With CSS Grid</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用CSS网格创建响应式数据表</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-responsive-data-tables-with-css-grid-9e0a37394450?source=collection_archive---------3-----------------------#2022-01-14">https://betterprogramming.pub/how-to-create-responsive-data-tables-with-css-grid-9e0a37394450?source=collection_archive---------3-----------------------#2022-01-14</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="7e64" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">创建自己的中等统计和收入分析工具</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/f819e6cf89149f23a02556cf5a5c20bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PAK_O2andpSmij7ecQXRpQ.png"/></div></div></figure><p id="4222" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">桌子是相当复杂的东西。自从HTML出现以来，它们就存在了，并且带来了一些严重的问题。它们非常适合显示少量数据，但当数据增长时会变得相当复杂。</p><p id="b6cb" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我不得不为我最近的一个项目调查这个(与<a class="ae lr" href="https://javascript.plainenglish.io/how-to-get-medium-stats-with-javascript-and-svelte-part-1-a1d08b96799e" rel="noopener ugc nofollow" target="_blank">如何使用中等统计</a>有关)。我选择的解决方案涉及到CSS和网格布局模块的使用。这是我的文章和我的论点。</p><p id="df12" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">但是在开始一个我想要达到的结果的图像之前:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ls"><img src="../Images/1efe57a296d76eb70331777c469dfd40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4_KCpvwsTmtI5KTE.gif"/></div></div></figure><h1 id="599a" class="lt lu iu bd lv lw lx ly lz ma mb mc md ka me kb mf kd mg ke mh kg mi kh mj mk bi translated">介绍</h1><p id="6179" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">第一步是寻找已经存在的东西。有一些有趣的文章值得一读:</p><ul class=""><li id="5be9" class="mq mr iu kx b ky kz lb lc le ms li mt lm mu lq mv mw mx my bi translated"><a class="ae lr" href="https://medium.com/evodeck/responsive-data-tables-with-css-grid-3c58ecf04723" rel="noopener">带有CSS网格的响应式数据表</a></li><li id="3413" class="mq mr iu kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated"><a class="ae lr" href="https://www.freecodecamp.org/news/https-medium-com-nakayama-shingo-creating-responsive-tables-with-pure-css-using-the-grid-layout-module-8e0ea8f03e83/" rel="noopener ugc nofollow" target="_blank">如何使用网格布局模块用纯CSS创建响应式表格</a></li><li id="8a90" class="mq mr iu kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated"><a class="ae lr" href="https://hashnode.com/post/really-responsive-tables-using-css3-flexbox-cijzbxd8n00pwvm53sl4l42cx" rel="noopener ugc nofollow" target="_blank">使用CSS3 Flexbox的真正响应表</a></li></ul><p id="286f" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">由此我开始思考如何创建我的表。</p><p id="a70e" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">首先，当然，我需要数据。我决定不在本文中使用虚构的数据，因为最好的学习方法是解决一个真实的问题。我的问题是:我有一些关于我中等收入的数据。我该如何分析它们？</p><p id="7e09" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">但是数据本身我就不说了。目前我只需要知道他们是如何组织的。我决定把它们组织成一个数组。该数组的每个元素都是由以下属性组成的对象:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="562c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我不在乎展示每一处房产。我感兴趣的是有一种简单的方法来决定观看和订购哪些。为此，我需要另一个数组，这次由这样的对象组成:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="f296" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这些属性是:</p><ul class=""><li id="4592" class="mq mr iu kx b ky kz lb lc le ms li mt lm mu lq mv mw mx my bi translated"><code class="fe ne nf ng nh b">key</code>，表中要显示的属性</li><li id="6dc2" class="mq mr iu kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated"><code class="fe ne nf ng nh b">title</code>，列的名字</li><li id="5bae" class="mq mr iu kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated"><code class="fe ne nf ng nh b">type</code>，数据的类型(数值型，日期型，字符串型，布尔型、...)</li><li id="e6aa" class="mq mr iu kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated"><code class="fe ne nf ng nh b">width</code>，列的宽度。如果不存在，则解释为<code class="fe ne nf ng nh b">auto</code></li><li id="8cb5" class="mq mr iu kx b ky mz lb na le nb li nc lm nd lq mv mw mx my bi translated"><code class="fe ne nf ng nh b">align</code>，列的对齐</li></ul></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="20eb" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">创建简单的表格</h1><p id="3a24" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">表格在CSS中。但是为了有效地使用它，我需要一些东西来自动地将各种数据插入到表中。我决定使用<a class="ae lr" href="https://svelte.dev/" rel="noopener ugc nofollow" target="_blank"> Svelte </a>:它允许我将JavaScript代码、HTML5部分和表格样式保存在一个文件中。同样为了加速CSS的编写，我使用了<a class="ae lr" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> Tailwind CSS </a>类。</p><p id="7c1f" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我首先创建导入表数据和标签的道具:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="5c41" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我写HTML部分:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="6568" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">显然结果很糟糕:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nw"><img src="../Images/6c381fbea94c74d7415cab8211a9b9cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-INN91IYUB99AuED8TGTlw.jpeg"/></div></div></figure><p id="d1bb" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我需要添加一些风格，使它像样。我首先将一切定义为CSS网格:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="fea7" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后我加粗了第一行，这一行有各列的名称:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="3934" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">最后我添加一条线来划分表格的每一行:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="e38f" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">结果稍微好一点，但仍然没有用:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nx"><img src="../Images/ce09e1fbb3c90d9b7f5652acf3dbdc7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MJFzySGTtOqSSDSLAqgl3A.jpeg"/></div></div></figure><p id="e078" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我需要使用<a class="ae lr" href="https://developer.mozilla.org/en-US/docs/Web/CSS/grid-template-columns" rel="noopener ugc nofollow" target="_blank"> grid-template-columns </a>属性来定义应该有多少列。</p><p id="3eb8" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">不久前，我解释了如何创建<code class="fe ne nf ng nh b">headers</code>道具。列的数量就是数组中元素的数量。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="9f7b" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">最后出现了一个类似桌子的东西:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ny"><img src="../Images/3900474f1f939b29a4f4a1bf17230f3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8PZB1KmdI_XYB0GZJlVVZQ.jpeg"/></div></div></figure><p id="c751" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">有一点我不喜欢:柱子都是一样的大小。让一些列变小，让带有文章标题的列变大更有意义。为此，我使用了每个<code class="fe ne nf ng nh b">label</code>的<code class="fe ne nf ng nh b">width</code>属性:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="4f8c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">现在桌子漂亮了一点。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nz"><img src="../Images/d7b02704e18a2876319182f3f4a973eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZPd4dkuJSYThQYq3zzZdzQ.jpeg"/></div></div></figure><p id="0a13" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然而，一些关键问题仍然存在。首先，有些值没有出现，有些值的格式不正确。我添加了一个函数来解决它们:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="9216" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我编辑HTML</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="96de" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这修复了错误的格式:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oa"><img src="../Images/28ea88fe9b0354a61a493d846bc8d3cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ImIfkbg0XpjM1we7n6m5eA.jpeg"/></div></div></figure><p id="ceab" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">以类似的方式，我可以更正列的对齐方式:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="4cb6" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">保持页眉可见</h1><p id="1790" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">这对于数据很少的表来说很好。但是有几行数据的时候就有问题了。向下滚动列标题会消失，使其难以阅读。为了保持第一行不变，我必须修改HTML部分的结构和CSS样式。我首先添加一个<code class="fe ne nf ng nh b">header</code>标签和一个<code class="fe ne nf ng nh b">section</code>标签:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="f76a" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这个想法是为带有数据行的部分设置一个最大高度，然后添加一个侧滚动条来滚动数据。为此，我首先需要更改<code class="fe ne nf ng nh b">article</code>的<code class="fe ne nf ng nh b">display</code>属性:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="9551" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><code class="fe ne nf ng nh b">header</code>和<code class="fe ne nf ng nh b"> section</code>反而变成了<code class="fe ne nf ng nh b">grid</code>:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="ab8c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><code class="fe ne nf ng nh b">section</code>可以有一个垂直滚动条。</p><p id="4579" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">为了保持最后一列的对齐，我应该自定义滚动条。详情我推荐阅读<a class="ae lr" href="https://css-tricks.com/almanac/properties/s/scrollbar/" rel="noopener ugc nofollow" target="_blank"> CSS历书——滚动条</a>:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="e010" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我还缩短了<code class="fe ne nf ng nh b">header</code>的宽度:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="c2bc" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">所有这一切的结果是第一个固定行位于顶部的表格:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ob"><img src="../Images/7687cb6a98c23ef2833a5108edbd1844.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M-s8NFuS0q1NWjvo.gif"/></div></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="ec90" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">添加总计行</h1><p id="38ab" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">我需要的另一件事是一行总数。因为特别是当我添加一个过滤器系统时，可以方便地立即看到选择的值是多少。为此，我向表中添加了一个<code class="fe ne nf ng nh b">footer</code>:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="dfdc" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我知道，我还没有定义<code class="fe ne nf ng nh b">totals</code>。但是我必须决定在哪里以及如何计算总数。最简单的方法是增加第三个道具。</p><p id="1167" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">所以我定义了这种类型的道具:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="8016" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我修改了HTML代码来格式化这些值:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="6f38" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这让我得到了这样的东西:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oc"><img src="../Images/5a29950fd06946e47e567a33a84fb0bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UvD0_6lT2_tsiNgFqhdNbw.jpeg"/></div></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="8ad6" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">对数据进行排序</h1><p id="51a6" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">一个有用的特性是对数据进行排序的能力。</p><p id="dd45" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">有各种方法可以实现这一点。我可以在表外添加按钮，或者添加一个基于鼠标的控件。我想使用上下文菜单按升序或降序排序。</p><p id="d810" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">也许我会在另一篇文章中更深入地讨论它，但是用Svelte创建一个上下文菜单是很容易的。目前我只推荐这个回复:</p><ul class=""><li id="9ac3" class="mq mr iu kx b ky kz lb lc le ms li mt lm mu lq mv mw mx my bi translated"><a class="ae lr" href="https://svelte.dev/repl/3a33725c3adb4f57b46b597f9dade0c1?version=3.25.0" rel="noopener ugc nofollow" target="_blank">细长:上下文菜单</a></li></ul><p id="a282" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">目前，我创建了一个非常简单的组件。首先，我需要几个图标(<code class="fe ne nf ng nh b">SortAscending</code>和<code class="fe ne nf ng nh b">SortDescending</code>)作为按钮。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="2b58" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后用几个道具来管理屏幕上的位置:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="95bc" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">还有必要了解什么时候应该显示菜单，什么时候不应该显示:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="eb8c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我使用<a class="ae lr" href="https://svelte.dev/docs#run-time-svelte-createeventdispatcher" rel="noopener ugc nofollow" target="_blank"> createEventDispatcher </a>来设置我需要的事件:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="3a38" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后，我添加了一些事件，以便在我们单击页面的其他元素时隐藏上下文菜单:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="2d7c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">最后，我添加了一些CSS样式:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="5763" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">综合我得到的一切:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="17aa" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">现在剩下的就是将它插入到表中。我决定在每次点击单元格时激活上下文菜单，而不仅仅是在列标题中:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="2af6" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这是一个最小的上下文菜单，但已经足够了:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/587c7968317eed93c326ea52da8fcdc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wymZ6HaAnzeDucoO.gif"/></div></div></figure><p id="59ad" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">如果我点击图标，什么也不会发生。因为我没有将任何函数与这两个命令关联起来。我需要回到牌桌，添加另一个道具:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="d26c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我还需要两个函数来对值进行升序和降序排序:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="7278" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">最后，我更新了HTML代码</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="9315" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">现在，我可以对各个列进行排序:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/6e22a8d04501acf38fd40e37899774bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JnqAM7pEai8fk783.gif"/></div></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="0422" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">添加一些颜色</h1><p id="1568" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">就其效果而言，还有一个问题。我们并不清楚选择了哪一列，或者鼠标放在哪一行。为了解决这个问题，我可以使用几行CSS。</p><p id="899e" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">让我们从台词开始。我认为最快的方法是添加一个包含该行所有元素的元素:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="ee87" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我调整样式以保持相同的格式:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="9a04" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后，当然，我添加了悬停效果:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/3598bb85b42716872f7dc263cfc3a41d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f7ErBaHmhmZ7w1J1.gif"/></div></div></figure><p id="a035" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">对于列，我使用<code class="fe ne nf ng nh b">cellData</code>变量来管理样式。首先，当上下文菜单不可见时，我确保避免不需要的样式:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="59df" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后我添加一个指令<a class="ae lr" href="https://svelte.dev/docs#template-syntax-element-directives-class-name" rel="noopener ugc nofollow" target="_blank">类:名称</a></p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="750c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我添加样式:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="1f8a" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">这允许我使上下文菜单效果可见:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/9762979bbcbbad8ff2e2c6e9af475a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*e5t0zgWmPf-fsp5W.gif"/></div></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="d86b" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">添加图表</h1><p id="4992" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">数字和文字很好，但还有另一个方面让我感兴趣:用图形表示一些值的能力。添加条形图很简单。我使用标题单元格中的空间。</p><p id="aaab" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我首先设置几个道具:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="aef2" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我想根据指示值按比例给线条上色。为此，我需要最大值:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="9430" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后我创建一个函数来定义样式:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="873c" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">最后，我修改了单元格的HTML代码:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="2a33" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我明白了。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oe"><img src="../Images/a12e7e667611c80a8bc9ab518300e85d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QaoSFeBV1CE8-LNA.gif"/></div></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="5129" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">选择要显示的数据</h1><p id="c548" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">我想自定义要在图表中使用的列的选择。我通过添加另一个按钮来修改上下文菜单:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="5888" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">我必须用一些东西来表示何时显示按钮，因为不是所有的数据都可以用图形表示。例如日期或文本。我在列列表中添加了一个<code class="fe ne nf ng nh b">chartsColumns</code>变量</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="39dd" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后我添加一个函数来选择数据:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="1e77" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">有一个问题:我如何知道我正在查看哪些数据？可以有各种方式。目前，我认为突出这个专栏就足够了，也许可以用粗体。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/0f0d18feeaffb95f04dc6e9bf0b3506a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Jhtn-e2hFVBEwjxW.gif"/></div></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="b726" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">给线条添加数字</h1><p id="ca38" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">还有最后一个细节:行号。只需给斯维特的<code class="fe ne nf ng nh b">#each</code>循环添加一个索引:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="9d9d" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然后我修改<code class="fe ne nf ng nh b">gridTemplate</code>变量来创建相应的列:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="29a4" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">只需要几行代码就可以实现这一点:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/2425ff9016ec14c43d277f59fabe2cf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xDPWRvKq9WLfxdiv.gif"/></div></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><h1 id="19a0" class="lt lu iu bd lv lw nr ly lz ma ns mc md ka nt kb mf kd nu ke mh kg nv kh mj mk bi translated">将表格动画化</h1><p id="c21c" class="pw-post-body-paragraph kv kw iu kx b ky ml jv la lb mm jy ld le mn lg lh li mo lk ll lm mp lo lp lq in bi translated">最后，我可以添加一个动画，以便在我们对表格进行排序时更加明显。为此，我使用了<a class="ae lr" href="https://svelte.dev/docs#template-syntax-element-directives-animate-fn" rel="noopener ugc nofollow" target="_blank"> animate:fn </a>指令:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ni nj l"/></div></figure><p id="5377" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">通过这种方式，我使订单操作可见:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ls"><img src="../Images/697c56d1e911fdaef5ec320f35db5618.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*El1SuEjCZMfq3S3o.gif"/></div></div></figure></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><p id="5e4d" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">好了，暂时就这些了。我仍然需要考虑是否以及如何管理过滤器和分组。也许以后我会说的。</p><p id="b7a0" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">然而，至于代码，我正在处理的库是<a class="ae lr" href="https://github.com/el3um4s/medium-stats" rel="noopener ugc nofollow" target="_blank"> el3um4s/medium-stats </a>。这是一项正在进行的工作，代码相当脏。然而，它可能是有用的。</p><p id="a158" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated">感谢阅读！敬请关注更多内容。</p></div><div class="ab cl nk nl hy nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="in io ip iq ir"><p id="9ef0" class="pw-post-body-paragraph kv kw iu kx b ky kz jv la lb lc jy ld le lf lg lh li lj lk ll lm ln lo lp lq in bi translated"><strong class="kx iv"> <em class="of">不要错过我的下一篇文章—报名参加我的</em> </strong> <a class="ae lr" href="https://medium.com/subscribe/@el3um4s" rel="noopener"> <strong class="kx iv"> <em class="of">中邮箱列表</em> </strong> </a></p><div class="og oh gq gs oi oj"><a href="https://el3um4s.medium.com/membership" rel="noopener follow" target="_blank"><div class="ok ab fp"><div class="ol ab om cl cj on"><h2 class="bd iv gz z fq oo fs ft op fv fx it bi translated">通过我的推荐链接加入Medium—Samuele</h2><div class="oq l"><h3 class="bd b gz z fq oo fs ft op fv fx dk translated">阅读萨缪尔的每一个故事(以及媒体上成千上万的其他作家)。不是中等会员？在这里加入一块…</h3></div><div class="or l"><p class="bd b dl z fq oo fs ft op fv fx dk translated">el3um4s.medium.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox kt oj"/></div></div></a></div></div></div>    
</body>
</html>