<html>
<head>
<title>5 Reasons to Love Elixir</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">爱上仙丹的5个理由</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-reasons-to-love-elixir-52dffcf9ccce?source=collection_archive---------0-----------------------#2020-11-01">https://betterprogramming.pub/5-reasons-to-love-elixir-52dffcf9ccce?source=collection_archive---------0-----------------------#2020-11-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="aaed" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">热爱仙丹语言和堆栈，如果你还没有</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cdd81f37766065bd75f5e1bebf17e4a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vMwRJi7nhZd2T2jRMzbdsA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@jan_huber?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">简·侯伯</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="5ab1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当我有一个新的项目想法，需要快速构建一个原型，或者甚至有机会在工作中从头开始构建一些东西，我都会一次又一次地回到<a class="ae ky" href="https://publish.obsidian.md/allanmacgregor/Programming+Languages/Elixir/Elixir" rel="noopener ugc nofollow" target="_blank"> Elixir </a>中来。</p><p id="1f4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">长生不老药对我有很强的吸引力，这不是没有原因的。语言的创造者们做了出色的工作，不仅创造了一种奇妙的语言，还创造了一个繁荣的生态系统。</p><p id="6074" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下五个是我坚持回到仙丹的一些原因。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8c20" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">混合</h1><p id="0bfb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Mix是Elixir附带的一个构建工具，它提供了创建、编译、测试、调试、管理依赖项等任务。</p><p id="fb3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你分别来自Ruby和PHP世界，Mix可以与类似于<code class="fe mz na nb nc b">rake</code>或<code class="fe mz na nb nc b">artisan</code>的工具相媲美。</p><h2 id="0a45" class="nd md it bd me ne nf dn mi ng nh dp mm li ni nj mo lm nk nl mq lq nm nn ms no bi translated">创建新项目</h2><pre class="kj kk kl km gt np nc nq nr aw ns bi"><span id="7cc9" class="nd md it nc b gy nt nu l nv nw">mix new myproject</span></pre><p id="bfeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行该命令将生成我们的新项目，其中包含样板文件结构和必要的文件。输出如下所示:</p><pre class="kj kk kl km gt np nc nq nr aw ns bi"><span id="f23c" class="nd md it nc b gy nt nu l nv nw">- creating README.md<br/>- creating .formatter.exs<br/>- creating .gitignore<br/>- creating mix.exs<br/>- creating lib<br/>- creating lib/myproject.ex<br/>- creating test</span></pre><p id="c383" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生成的最重要的文件是我们的<code class="fe mz na nb nc b">mix.exs</code>文件，它包含我们的应用程序、依赖项、环境和当前版本的配置。该文件可能如下所示:</p><pre class="kj kk kl km gt np nc nq nr aw ns bi"><span id="b060" class="nd md it nc b gy nt nu l nv nw">defmodule Myexample.Mixfile do<br/>  use Mix.Project</span><span id="9ad1" class="nd md it nc b gy nx nu l nv nw">  def project do<br/>    [<br/>      app: :myexample,<br/>      version: "0.1.0",<br/>      elixir: "~&gt; 1.11",<br/>      start_permanent: Mix.env() == :prod,<br/>      deps: deps()<br/>    ]<br/>  end</span><span id="bbce" class="nd md it nc b gy nx nu l nv nw">  def application do<br/>    [<br/>      extra_applications: [:logger]<br/>    ]<br/>  end</span><span id="6e26" class="nd md it nc b gy nx nu l nv nw">  defp deps do<br/>    []<br/>  end<br/>end</span></pre><p id="9004" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，Mix真的很强大，很容易扩展；这也是Elixir对新开发者如此友好的原因之一。</p><h2 id="dbae" class="nd md it bd me ne nf dn mi ng nh dp mm li ni nj mo lm nk nl mq lq nm nn ms no bi translated">额外资源</h2><ul class=""><li id="62d8" class="ny nz it lb b lc mu lf mv li oa lm ob lq oc lu od oe of og bi translated"><a class="ae ky" href="https://elixirschool.com/en/lessons/basics/mix/" rel="noopener ugc nofollow" target="_blank">仙丹派:混</a></li><li id="37c0" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated"><a class="ae ky" href="https://elixir-lang.org/getting-started/mix-otp/introduction-to-mix.html" rel="noopener ugc nofollow" target="_blank">混合介绍</a></li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7cde" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">信条和对话</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/3096aa578bc9ca36425196a2c4bcab18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZDxPHgl754HDVMmPIXe0Hg.png"/></div></div></figure><p id="39d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Credo 是一个针对Elixir的静态代码分析器，它特别关注教导和构建代码一致性。</p><p id="74f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Dialyxir </strong>是<a class="ae ky" href="https://publish.obsidian.md/allanmacgregor/Programming+Languages/Erlang/Erlang" rel="noopener ugc nofollow" target="_blank"> Erlang </a>透析器的混合包装器，是另一个静态代码分析工具。</p><pre class="kj kk kl km gt np nc nq nr aw ns bi"><span id="0a42" class="nd md it nc b gy nt nu l nv nw">$ mix dialyzer<br/>...<br/>examples.ex:3: Invalid type specification for function 'Elixir.Examples':sum_times/1.<br/>The success typing is (_) -&gt; number()<br/>...</span></pre><p id="de50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这两个工具都是静态分析器，但它们满足了不同的需求，并为我们的代码提供了不同的见解。</p><p id="6945" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> Credo </strong>更适合于查看我们的代码是否遵循了被社区接受的公共良好代码实践。另一方面，Dialyxir让我们可以捕捉类型错误和不可及的代码。</p><h2 id="2a9d" class="nd md it bd me ne nf dn mi ng nh dp mm li ni nj mo lm nk nl mq lq nm nn ms no bi translated">额外资源</h2><ul class=""><li id="6c90" class="ny nz it lb b lc mu lf mv li oa lm ob lq oc lu od oe of og bi translated"><a class="ae ky" href="https://github.com/rrrene/credo" rel="noopener ugc nofollow" target="_blank">信条</a></li><li id="e7f1" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated"><a class="ae ky" href="https://github.com/jeremyjh/dialyxir" rel="noopener ugc nofollow" target="_blank"> Dialyxir </a></li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8507" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">处理</h1><p id="5b55" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Elixir最大的卖点之一是并发支持以及随之而来的可伸缩性和容错性；在这个并发模型的核心，我们有长生不老的过程。</p><p id="403a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Elixir上下文中的进程不同于操作系统进程。相比之下，酏剂工艺的重量轻得令人难以置信，可描述为具有以下特征:</p><ul class=""><li id="0930" class="ny nz it lb b lc ld lf lg li on lm oo lq op lu od oe of og bi translated">彼此隔绝</li><li id="ea75" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">彼此并行运行</li><li id="7a7b" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">通过消息传递进行交流</li><li id="2553" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">在Erlang VM内部运行</li></ul><p id="78a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以像这样直接创建和派生进程:</p><pre class="kj kk kl km gt np nc nq nr aw ns bi"><span id="b115" class="nd md it nc b gy nt nu l nv nw">pid = spawn fn -&gt; 1 + 3 end</span></pre><p id="0d95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有这些只是产生一个进程来执行匿名功能，以用于更复杂的使用消息传递和监督树的用例。建立在这些过程之上的主要抽象之一是任务。</p><p id="754b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">任务</strong>提供更好的错误报告和内省:</p><pre class="kj kk kl km gt np nc nq nr aw ns bi"><span id="8017" class="nd md it nc b gy nt nu l nv nw">iex(1)&gt; Task.start fn -&gt; raise "oops" end<br/>{:ok, #PID&lt;0.55.0&gt;}</span><span id="d2a5" class="nd md it nc b gy nx nu l nv nw">15:22:33.046 [error] Task #PID&lt;0.55.0&gt; started from #PID&lt;0.53.0&gt; terminating<br/>** (RuntimeError) oops<br/>    (stdlib) erl_eval.erl:668: :erl_eval.do_apply/6<br/>    (elixir) lib/task/supervised.ex:85: Task.Supervised.do_apply/2<br/>    (stdlib) proc_lib.erl:247: :proc_lib.init_p_do_apply/3<br/>Function: #Function&lt;20.99386804/0 in :erl_eval.expr/5&gt;<br/>    Args: []</span></pre><p id="b77c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任务非常方便，使我们既可以与<code class="fe mz na nb nc b">Task.await/1</code>同步运行工作，也可以与<code class="fe mz na nb nc b">Task.async/1</code>异步运行工作。</p><h2 id="6730" class="nd md it bd me ne nf dn mi ng nh dp mm li ni nj mo lm nk nl mq lq nm nn ms no bi translated">额外资源</h2><ul class=""><li id="5040" class="ny nz it lb b lc mu lf mv li oa lm ob lq oc lu od oe of og bi translated"><a class="ae ky" href="https://elixir-lang.org/getting-started/processes.html" rel="noopener ugc nofollow" target="_blank">流程</a></li><li id="d899" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated"><a class="ae ky" href="https://teamgaslight.com/blog/intro-to-processes-in-elixir" rel="noopener ugc nofollow" target="_blank">酏剂工艺简介</a></li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6a79" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">语法</h1><p id="6acf" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Elixir语法是它的主要吸引力之一，有时你可以清楚地看到Ruby在语言中的影响，以及对开发人员快乐和可用性的明确关注。</p><pre class="kj kk kl km gt np nc nq nr aw ns bi"><span id="f760" class="nd md it nc b gy nt nu l nv nw">defmodule Article do <br/>    defp read(:content, [paragraph | article]), do: read({:content, article})<br/>    defp read(:content, []), do: {:done, []}</span><span id="cfc6" class="nd md it nc b gy nx nu l nv nw">    def read_article() do<br/>        {:done, _} = read({:content, get_article()})<br/>        for _ &lt;- 1..10, do: something()<br/>    end<br/>end</span></pre><p id="885f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是看一下上面的片段就可以清楚地看到，虽然语法可读性很高，但这不是Ruby。上面的代码中发生了一些事情:</p><ul class=""><li id="5a3c" class="ny nz it lb b lc ld lf lg li on lm oo lq op lu od oe of og bi translated">内嵌功能和完全扩展功能的混合</li><li id="efdf" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">具有模式匹配的多功能头</li><li id="22f5" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">简单递归</li><li id="bd43" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">函数参数分解</li></ul><p id="9236" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，Elixir可以将大量的表达能力打包到非常少量的代码中，并且可读性很高。</p><h2 id="45e4" class="nd md it bd me ne nf dn mi ng nh dp mm li ni nj mo lm nk nl mq lq nm nn ms no bi translated">额外资源</h2><ul class=""><li id="caad" class="ny nz it lb b lc mu lf mv li oa lm ob lq oc lu od oe of og bi translated"><a class="ae ky" href="https://elixir-lang.org/crash-course.html" rel="noopener ugc nofollow" target="_blank">仙丹速成班</a></li><li id="3d5b" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated"><a class="ae ky" href="https://hexdocs.pm/elixir/syntax-reference.html" rel="noopener ugc nofollow" target="_blank">仙丹语法参考</a></li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="eb81" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">凤凰框架</h1><blockquote class="oq or os"><p id="b32c" class="kz la ot lb b lc ld ju le lf lg jx lh ou lj lk ll ov ln lo lp ow lr ls lt lu im bi translated">“Phoenix是一个用函数式编程语言Elixir编写的web开发框架。Phoenix使用服务器端的模型-视图-控制器模式。它基于插件库，最终基于Cowboy Erlang框架，旨在提供高性能和可伸缩的web应用程序。”— <a class="ae ky" href="https://en.wikipedia.org/wiki/Phoenix_(web_framework)" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></blockquote><p id="9097" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">把最好的留到最后，我们有Phoenix框架，它经常被拿来和Laravel或者Ruby on rails比较，但是在我看来，它要好得多。</p><p id="f225" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像RubyOnRails和Laravel这样的框架有一个致命的缺点:有太多奇怪的自动化。我的意思是，这些框架试图抽象太多，隐藏太多的复杂性，以至于在某些场景中成为更大的障碍。</p><p id="ad62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Phoenix拥有适当数量的脚手架和抽象，而不会从您的控制中带走任何东西。启动并运行Phoenix项目非常简单，如下所示:</p><pre class="kj kk kl km gt np nc nq nr aw ns bi"><span id="347a" class="nd md it nc b gy nt nu l nv nw">$ mix archive.install hex phx_new<br/>$ mix phx.new demo --live</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2755" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">凤凰城实时景观</h1><p id="0bb4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Phoenix LiveView是一个令人兴奋的新库，它通过服务器呈现的HTML实现丰富的实时用户体验。</p><p id="40f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">LiveView使开发者能够构建实时互动应用<strong class="lb iu">，而无需</strong>接触任何JavaScript都是用服务器端逻辑完成的。</p><h2 id="1fdf" class="nd md it bd me ne nf dn mi ng nh dp mm li ni nj mo lm nk nl mq lq nm nn ms no bi translated">额外资源</h2><ul class=""><li id="07a4" class="ny nz it lb b lc mu lf mv li oa lm ob lq oc lu od oe of og bi translated"><a class="ae ky" href="https://hexdocs.pm/phoenix/overview.html" rel="noopener ugc nofollow" target="_blank">凤凰总览</a></li><li id="813f" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated"><a class="ae ky" href="https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html" rel="noopener ugc nofollow" target="_blank">凤凰直播</a></li></ul></div></div>    
</body>
</html>