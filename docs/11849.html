<html>
<head>
<title>5 Useful TypeScript Helper Interfaces</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">5个有用的类型脚本助手接口</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-useful-typescript-helper-interfaces-8a89cdc24946?source=collection_archive---------9-----------------------#2022-04-21">https://betterprogramming.pub/5-useful-typescript-helper-interfaces-8a89cdc24946?source=collection_archive---------9-----------------------#2022-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0c1f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这些将帮助您从TypeScript中获得更多</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/71665081ebff7ef1e6b7e73bdd7956ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qvy0vjNTKEXChBxh-JY0rg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://stock.adobe.com/hk/contributor/202931541/kit8-d-o-o?load_type=author&amp;prev_url=detail" rel="noopener ugc nofollow" target="_blank"> Kit8 d.o.o. </a>土坯库存照片</p></figure><p id="2dbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的web应用程序中使用TypeScript让我受益匪浅。当我刚开始做开发人员时，我使用的是静态类型的后端语言。当我更多地参与前端生态系统时，使用TypeScript对我来说是显而易见的。我从后端经验中学到了这些经验，并将它们应用于我如何在TypeScript中构造和使用接口。当我关注那些简单且容易被忽视的领域时，我发现最成功。我想分享五个我认为最有用的助手接口。</p><p id="61f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面我将展示的例子在实现一些简单的UI元素和功能时节省了我的时间和精力。没有办法确切知道，但我也相信他们在小错误修复方面为我节省了相当多的时间。</p><h1 id="037e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">通用状态管理</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="6ecb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当我使用像Redux这样的状态管理库时，我喜欢为它们的基本对象提供类型。对于Redux，每当您想要更新全局状态中的值时，您都要调度一个动作。动作中有一些我们可以访问的属性。最重要的是有效载荷。有效负载包含我们想要用来更新状态的数据。上面的接口使用了一个泛型类型，允许我们在想要改变状态时，在我们调用的函数中设置任何我们想要的类型。以此作为我们的接口，我们可以使更新状态的函数是类型安全的，并且更容易阅读。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="d84c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不能夸大这个界面对我的代码库的影响。自从它实现以来，我已经有两个没有Redux经验的初级开发人员加入了我们的团队。他们获得了新的特性，对于如何编写这些函数，或者他们正在做什么没有任何疑问。它对可读性的好处是难以置信的。</p><h1 id="58c6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">通用字段更新</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="ac34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更新对象是构建网站时的常见做法。大多数应用程序都有某种可以操作的全局状态。它可以是帐户详细信息、客户信息、资源配置或任何其他信息。除了显示这些信息，通常还要求用户能够更新它们。</p><p id="69b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至少，我们需要一个键和值来更新一个对象。我使用<code class="fe mp mq mr ms b">keyof</code>操作符来保证kay名称的安全。我还能够在<code class="fe mp mq mr ms b">keyof</code>声明中包含我们的泛型类型T。</p><p id="3a45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于值，我使用的是联合类型。在我的实现中，我将要更新的对象将是这四种类型之一。您可以对此进行修改，以匹配您的实现。你比任何人都了解你的数据模型。</p><p id="d420" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用像Redux这样的状态管理库，您可以将这个接口合并到一个通用的更新负载中，如前面所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="a917" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用通用字段更新接口比其他任何接口都多。</p><h1 id="f796" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">JWT</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="2926" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我一直在开发的一个应用程序最近更新了它的JWT，以包含影响用户所见的信息。到目前为止，我一直在使用标准的JWT库，在类型安全方面做得不多。有了新的需求，我知道我必须改变我处理jwt的方式。</p><p id="ff97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个问题的棘手之处在于，我用来验证我们的jwt的库无法为返回声明的函数提供类型。我需要构建一个小的助手函数，它接受声明，本质上是一个记录<string any="">，并将其转换成一个可靠的类型安全对象。如果任何值验证失败，我需要抛出一个错误并结束用户的会话。</string></p><p id="2d24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的例子中，JWT中传递了一个新字段，它决定了用户将被指向哪个端点。因为字段的值对于用户在网站上的体验非常重要，所以我觉得在我的应用程序中使其类型安全非常重要。以前，我很乐意接受JWT图书馆给我的任何东西，因为我需要的只是必填字段。如果您的需求发生变化，请确保您采取了适当的措施来保护您的站点免受损害用户信任的错误的影响。</p><h1 id="beee" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">莫代尔道具</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="a2fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我实现的大多数模态不需要太多输入。它们显示静态信息，并且只需要两个属性。这是开放的状态和改变它的功能。在第一千次写了同样的属性后，我决定做一个专用接口。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="10ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个接口，实现模态就不那么乏味了。一个现成的接口是一个很好的好处，我可以导入并放入功能组件属性中。</p><p id="0f0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你需要添加额外的道具到你的模型中，你可以扩展IModalProps接口。这样，您总是有一个基础来获取最常见的属性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><h1 id="5569" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">选项助手</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="ca70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个很简单，我经常用。在我构建的应用程序中，列表随处可见。当你构造一个列表时，你需要的最小值是一个标签和一个值。拥有一个简单的选项接口清理了所有TypeScript说我需要一个我所列出的选项的类型的地方，并重复了一个内联类型或使用了<code class="fe mp mq mr ms b">any</code>,因为我很懒。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="91b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用泛型作为值类型，因为我使用的列表都没有混合的值类型。如果你这样做了，你可以用一个联合类型替换普通类型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><p id="c2db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mp mq mr ms b">IOption</code>接口是另一个很好的扩展选择。有几次，我需要在每个列表项中包含一些额外的字段。通常，它是为了增强菜单项UI，比如包含图标、颜色或副标题。我建议始终使用基本接口，并使用“extends”关键字创建任何变体。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mn mo l"/></div></figure><h1 id="0488" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">包扎</h1><p id="9fd4" class="pw-post-body-paragraph kz la it lb b lc mt ju le lf mu jx lh li mv lk ll lm mw lo lp lq mx ls lt lu im bi translated">希望这些界面对你有用，或者给你一些灵感来制作你自己的界面。我发现它们在你反复使用同一个物体的地方真的闪闪发光。如果你四处寻找机会，它们可以为你的代码库增加很多价值。</p></div></div>    
</body>
</html>