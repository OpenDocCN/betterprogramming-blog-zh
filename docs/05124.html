<html>
<head>
<title>A Short Guide to Hashing in Go</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">围棋散列法简明指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-short-guide-to-hashing-in-go-e8bb0173e97e?source=collection_archive---------1-----------------------#2020-06-11">https://betterprogramming.pub/a-short-guide-to-hashing-in-go-e8bb0173e97e?source=collection_archive---------1-----------------------#2020-06-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cd7e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何散列一个字符串或文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cb8ff6a3a7ec31220c3749237a01e589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RUWwbOwDVp467T0Z"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">里卡多·戈麦斯·安吉尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="e374" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哈希函数是现代密码学最重要的特征之一。既然我已经决定学习<a class="ae ky" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank">围棋</a>，为什么不试着实现一个文件哈希函数只是为了好玩呢？</p><p id="f068" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">注意:本教程使用的Go版本是1.13.4。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="c9c4" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">介绍</h1><p id="fb6b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">哈希函数是一种将可变长度的输入映射到固定长度的输出的算法。这个函数的返回值被称为哈希值、摘要或简称为hash。</p><p id="18d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主要用于解决密码学的完整性<a class="ae ky" href="https://www.thegeekstuff.com/2012/07/cryptography-basics/" rel="noopener ugc nofollow" target="_blank">原理。在发送者和接收者之间的通信期间，消息可以被改变。哈希函数可以确保消息不被修改。</a></p><p id="de9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哈希函数的主要特征是:</p><ul class=""><li id="693a" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">固定长度输出:散列函数接收任意大小的消息(输入),并且总是产生相同大小的输出。</li><li id="b8bb" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">效率:它必须在计算上不难执行。</li><li id="2398" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">确定性:相同的消息将总是产生相同的哈希值。</li></ul><p id="cd84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要在加密中使用，它必须具有以下属性:</p><ul class=""><li id="b259" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">前映像阻力:给定一个哈希值，应该很难找到产生它的消息。</li><li id="fee2" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">第二个前像阻力:给定一个消息<em class="lv"> m </em>，应该很难找到另一个消息<em class="lv"> n </em>产生与<em class="lv"> m </em>相同的hash。</li><li id="04d2" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">抗冲突性:很难找到两个不同的消息产生相同的散列。</li></ul><p id="99ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哈希函数用于互联网上的许多应用，例如:</p><ul class=""><li id="f98b" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">文档完整性:例如，你以前肯定从FTP站点下载过非常大的文件。他们可能有一个指示哈希。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/aa180623f4ab9b495e456214ea24eff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/0*XFrvrnIlMAbA487D.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Raspbian zip文件及其哈希——照片来自<a class="ae ky" href="https://www.raspberrypi.org/downloads/raspberry-pi-os/" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi </a>。</p></figure><ul class=""><li id="17ee" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">密码存储:您的密码不是以明文形式保存，而是以散列形式保存在数据库中。至少好的系统做到了。</li><li id="f4b0" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">唯一ID:因为每条消息必须产生相同的输出，并且没有其他消息产生相同的输出，所以可以使用散列来唯一地标识文档或消息。例如，Git就是用这个来识别每个提交的。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/96be8dfd6b3d44377b70b744b36ea1c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SqQRT4GDHRRPsIqS.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><ul class=""><li id="1266" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">工作证明:对于一个用户来说，要执行一个动作或者发布一些东西，他们必须证明他们已经执行了一个任务。该证明是用户花费一些时间生成满足评估者条件的答案的保证。例如，这在区块链使用。</li></ul><p id="cde3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些流行的哈希函数包括<code class="fe nq nr ns nt b">MD5</code>、<code class="fe nq nr ns nt b">SHA</code>和<code class="fe nq nr ns nt b">Whirpool</code>。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="f108" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated"><strong class="ak">字符串哈希</strong></h1><p id="97be" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们需要<code class="fe nq nr ns nt b"><a class="ae ky" href="https://golang.org/pkg/crypto/" rel="noopener ugc nofollow" target="_blank">crypto</a></code>包来计算散列。以下是可用的哈希函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="cf8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了从一个字符串或字节片计算一个散列，我们可以从我们想要的算法的给定包中使用<code class="fe nq nr ns nt b">Sum</code>函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="2f56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><pre class="kj kk kl km gt nw nt nx ny aw nz bi"><span id="a051" class="oa me it nt b gy ob oc l od oe">   MD5: 1356c67d7ad1638d816bfb822dd2c25d<br/>  SHA1: 201a6b3053cc1422d2c3670b62616221d2290929<br/>SHA256: 1cbec737f863e4922cee63cc2ebbfaafcd1cff8b790d8cfd2e6a5d550b648afa</span></pre></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="e839" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">文件散列</h1><p id="ee4a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">要从文件中计算散列，我们需要根据其内容创建散列值:</p><ul class=""><li id="9111" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">从一个<code class="fe nq nr ns nt b">crypto</code>包中创建一个新的<code class="fe nq nr ns nt b">hash.Hash</code>(我们想要使用的算法)。</li><li id="02a7" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">通过写入其<code class="fe nq nr ns nt b">io.Writer</code>函数来添加它。</li><li id="c831" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">通过调用<code class="fe nq nr ns nt b">Sum</code>函数提取总和。</li></ul><p id="5852" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分块读取文件内容，以避免使用大量内存。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="c2d4" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="c843" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">多亏了可用的<code class="fe nq nr ns nt b">crypto</code>包，使用Go从字符串或文件计算哈希值变得很简单。</p></div></div>    
</body>
</html>