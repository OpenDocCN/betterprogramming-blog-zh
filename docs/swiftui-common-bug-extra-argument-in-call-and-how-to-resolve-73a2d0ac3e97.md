# 得到一个“调用中的额外参数”SwiftUI 错误？下面是解决这个错误的方法

> 原文：<https://betterprogramming.pub/swiftui-common-bug-extra-argument-in-call-and-how-to-resolve-73a2d0ac3e97>

## 看看我们都会遇到的 bug。

![](img/a7f62b3480bd715d07e64bd48d6da5f2.png)

照片由[尼廷·马修](https://unsplash.com/@nitin_mathew?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

这篇文章很短，但是恢复了开发人员在通过 SwiftUI 框架创建可重用视图时面临的一个非常常见的问题。我将解释为什么会发生这种情况，最好的解决方案，以及为什么苹果公司推出了这一点。

首先，我将用一个`VStack`创建一个新的 SwiftUI `View`:

到目前为止没有任何问题，但是让我们尝试在这个`VStack`中添加新的视图:

如果您尝试这段代码，您肯定会面临以下编译错误:第 11 个`Text`视图旁边的“调用中的额外参数”。您可能想知道这有什么问题，因为您只是将新组件放入容器中。问题是 Swift 不允许你在一个 SwiftUI 容器中放置十个以上的元素，可能是`VStack`、`HStack`、`Group`、`Button`或者其他什么。

这是为了提高代码的可重用性和可读性。如果在一个`View`中有太多的元素，阅读和解决一些 UI 错误可能会变得困难。所以苹果公司强烈鼓励你把你内心的一些想法放进另一个容器，或者一个新的定制`View`。

# 解决方案:组

SwiftUI 中的容器就像内容大小有限的盒子，但每个盒子都很神奇，可以算作一个单元，很酷，对吧？这意味着不管内部内容是什么，每个视图都可以放在另一个视图中，只算一个，所以每个`View`可以容纳 10 个直接子视图，不管它们是什么。考虑到这一点，`Group`是一个 SwiftUI 视图，用于在其中保存一些其他视图。这就像把书整理成书架一样:

`Group`是一种将子视图组织到一些独立容器中的方法。你可能会发现我们在语义上将`Text`喜欢的书按照它们的类别分组到一些盒子里。

关于组的另一个很酷的事情是，它们的内部元素是一个单独的`View`，这意味着应用于它们的任何修改器都会影响所有的内部视图:

这两个修改器(字体和背景)应用于所有内部文本视图，因为它们分别修改了每个视图。这就是分组的意义所在:将多个视图保持为一个视图。

![](img/c686782b868bba5c030ef69371b25b67.png)

但是注意一个`Group`也只能容纳十个视图，就像 superview 一样，最多只能容纳十个组。

# 解决方案 2:新的子视图类型

在我个人看来，这种解决方案甚至比组更好，因为当你创建新的自定义视图时，你可以通过分而治之的方式对它们进行更多的控制，你甚至可以预览，以便在将容器附加到某个屏幕之前测试你的 UI。调试也容易得多:

对于每个容器，您可以创建一个单独的组件，以便预览和控制它。

# 超过十个元素的循环:允许吗？

以下面的代码为例:

你可能会想:“嘿，我在栈里面有超过 10 个文本视图，这怎么可能呢？”。是的，这是允许的，因为`ForEach`语句在`ComedyView`中被当作单个参数，并且这个视图在一个基础`Text`视图中迭代了 100 次，所以一切都很好。

# 结论

在这篇文章中，我们澄清了一个非常常见的问题，即在使用单片方法开发 SwiftUI 场景时，Apple 和 Swift 如何鼓励您将内容拆分到单独的盒子中，以简化调试和测试。当将内容分离成新的类型或者将所有内容保存在一个`Group`盒子中时，所有内容都易于阅读。我希望你喜欢它；)