<html>
<head>
<title>Statically-typed Ruby: Introducing Sorbet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">静态类型的Ruby:介绍Sorbet</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/static-typed-ruby-introducing-sorbet-from-stripe-eeb4ffd8644?source=collection_archive---------13-----------------------#2019-12-02">https://betterprogramming.pub/static-typed-ruby-introducing-sorbet-from-stripe-eeb4ffd8644?source=collection_archive---------13-----------------------#2019-12-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7578" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Sorbet，来自Stripe——一个快速、强大的类型检查器，专为Ruby设计</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f8e542bea715243e2ae447c25244f782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-BSka04lI1gTg8r82az5Xw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@sharonmccutcheon?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">莎伦·麦卡琴</a>在<a class="ae ky" href="https://unsplash.com/s/photos/ice-cream?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="840a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Ruby是一种令人惊叹的语言:</p><blockquote class="lv lw lx"><p id="b259" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">一种动态的开源编程语言，专注于简单性和生产力。它有一个优雅的语法，读起来很自然，写起来很容易。</p></blockquote><p id="95a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Ruby对于初学者来说相当容易接受。正如我的一些同事所说，Ruby握着新开发人员的手，为他们指出正确的方向。作为一种动态语言，这意味着在运行代码之前，您不会知道代码是否有问题。例如，如果你在一个类的实例上调用一个未定义的实例方法，在你运行它之前，你不会在你的代码中得到任何错误。但是当你在一个小的代码库上工作时，这可能会被忽略——这是像Java和C#这样的静态类型语言在Ruby上闪耀的地方。</p><p id="00a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为软件工程师，我们写的代码越多，引入代码库的错误就越多。正如有人曾经说过的，最好的代码就是不写任何代码。静态类型让我们定义我们期望从代码中得到的数据类型和返回值。这给了我们信心，使协作变得容易，也意味着我们可以在出错时得到反馈，甚至在我们运行代码之前。多酷啊。它为我们节省了大量调试可避免的错误的时间，并且我们可以更快地交付高质量的代码。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="2a51" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">介绍冰糕</strong></h1><blockquote class="lv lw lx"><p id="6601" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><a class="ae ky" href="https://sorbet.org/" rel="noopener ugc nofollow" target="_blank"> Sorbet </a>是一个为Ruby设计的快速、强大的类型检查器。<br/>建有💜在<a class="ae ky" href="https://stripe.com/" rel="noopener ugc nofollow" target="_blank">条纹</a>处。</p></blockquote><h2 id="1713" class="nb mk it bd ml nc nd dn mp ne nf dp mt li ng nh mv lm ni nj mx lq nk nl mz nm bi translated">冰糕快速且可扩展</h2><p id="708d" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">Sorbet是多线程的，可以在您的CPU内核之间线性扩展。它在几秒钟内检查你的类型，在你编码时给你反馈。</p><h2 id="56b8" class="nb mk it bd ml nc nd dn mp ne nf dp mt li ng nh mv lm ni nj mx lq nk nl mz nm bi translated">IDE就绪</h2><p id="0e90" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">Sorbet与您最喜欢的编辑器一起工作，提供ide特性，如自动完成和跳转到定义。很容易添加到您的配置项设置中。</p><p id="585f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，我们如何开始使用冰糕呢？您可以从您现有的代码库开始:Sorbet可以与普通的Ruby一起工作，并且与您已经在使用的其他Ruby工具或Gems兼容。或者你可以把它用于一个新的项目。</p><h2 id="7102" class="nb mk it bd ml nc nd dn mp ne nf dp mt li ng nh mv lm ni nj mx lq nk nl mz nm bi translated"><strong class="ak">安装</strong></h2><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="08bf" class="nb mk it nt b gy nx ny l nz oa"># -- Gemfile --</span><span id="ea7e" class="nb mk it nt b gy ob ny l nz oa">gem 'sorbet', :group =&gt; :development<br/>gem 'sorbet-runtime'</span><span id="6c51" class="nb mk it nt b gy ob ny l nz oa"># Install the gems <br/>❯ bundle install</span><span id="7c76" class="nb mk it nt b gy ob ny l nz oa"># Initialize Sorbet <br/>❯ srb init</span><span id="c00d" class="nb mk it nt b gy ob ny l nz oa"># Type check the project <br/>❯ srb tc</span></pre><p id="dd21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将冰糕宝石添加到开发组。运行bundle install，<code class="fe oc od oe nt b">rub srb init</code>初始化Sorbet并键入。检查项目，最后运行<code class="fe oc od oe nt b">srb tc</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/277e0707ea5d37821d9516b561942870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Qbh-MlHIsDkr6Qkvjmy94g.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自冰糕网站:sorbet.org</p></figure><h2 id="3c2d" class="nb mk it bd ml nc nd dn mp ne nf dp mt li ng nh mv lm ni nj mx lq nk nl mz nm bi translated"><strong class="ak">举例:冰糕在线经由</strong> <a class="ae ky" href="https://sorbet.run/" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">游乐场</strong> </a></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/798542623c6c0604415811c75c948e25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t9zutTiR3pZ2RuSCr4iV6w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">冰糕游乐场</p></figure><p id="20ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，我们有一个简单的<code class="fe oc od oe nt b">Calculate</code>类，它有一个加法的实例方法。为了在我们的类中使用Sorbet，我们需要在Ruby文件的顶部添加<code class="fe oc od oe nt b"># typed: true</code>。然后，在类定义之后，我们添加<code class="fe oc od oe nt b">extend T::Sig</code>。因为Sorbet是非侵入性的，所以您可以定义类型化的类和方法。在<code class="fe oc od oe nt b">addition</code>实例方法的顶部，我们定义了<code class="fe oc od oe nt b">sig {params(x: Integer).returns(String)}</code>。这通知Sorbet我们的方法需要一个整数数据类型的参数<code class="fe oc od oe nt b">x</code>，并且该方法需要返回一个<code class="fe oc od oe nt b">String</code>数据类型。然后我们有一个main方法，在我们的类之外，它初始化了<code class="fe oc od oe nt b">Calculate</code>类的两个实例。</p><p id="f901" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">甚至在运行代码之前，我们就能获得关于代码中哪里出错的即时反馈。多酷啊！</p><p id="63ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您将鼠标悬停在突出显示的错误上时，您会获得有关该错误的更多信息，以及需要采取哪些措施来修复该错误。这对于避免错误地将一个错误的参数或数据类型传递给一个方法有很大的帮助——您总是确切地知道您的方法将会返回哪种类型的值。那就是我所说的<strong class="lb iu">超酷</strong>！</p><h2 id="7365" class="nb mk it bd ml nc nd dn mp ne nf dp mt li ng nh mv lm ni nj mx lq nk nl mz nm bi translated">让我们修复这些错误吧！</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/ba2aebf356c033e93a210d559c91e121.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CddJrGJ46Hcm-iwsbExQmA.png"/></div></div></figure><p id="e0cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">成功！</p><p id="b0f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Sorbet真的是一个很棒的工具，可以给开发者带来很好的体验。希望对你的下一个项目有帮助。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="b970" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">有用链接</strong></h1><p id="c0bc" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated"><a class="ae ky" href="https://sorbet.org/" rel="noopener ugc nofollow" target="_blank">官网</a> <br/> <a class="ae ky" href="https://sorbet.org/docs/overview" rel="noopener ugc nofollow" target="_blank">文档</a> <br/> <a class="ae ky" href="https://sorbet.run/" rel="noopener ugc nofollow" target="_blank">游乐场</a></p><p id="7a02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>