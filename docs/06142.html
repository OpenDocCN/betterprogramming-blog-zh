<html>
<head>
<title>Did You Know You Could Animate an SVG Like This?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你知道可以像这样制作SVG动画吗？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/did-you-know-you-could-animate-an-svg-like-this-f606528bf06a?source=collection_archive---------7-----------------------#2020-09-04">https://betterprogramming.pub/did-you-know-you-could-animate-an-svg-like-this-f606528bf06a?source=collection_archive---------7-----------------------#2020-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4193" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">将您的SVG带入生活</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/97859a613acc49a2ac75bb291b9ae226.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UP1AqNn_jFBBwEhL"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@phoebezzf?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"/>周在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="17ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您是一名前端开发人员，您可能遇到过这样的情况:您需要在页面上制作动画元素，以创建您的设计师想要的惊人体验。为了制作动画，我们可以使用<code class="fe ls lt lu lv b"><a class="ae kv" href="https://css-tricks.com/almanac/properties/t/transform/" rel="noopener ugc nofollow" target="_blank">transform</a></code> <a class="ae kv" href="https://css-tricks.com/almanac/properties/t/transform/" rel="noopener ugc nofollow" target="_blank">属性</a>或<code class="fe ls lt lu lv b"><a class="ae kv" href="https://css-tricks.com/almanac/properties/a/animation/" rel="noopener ugc nofollow" target="_blank">animate</a></code> <a class="ae kv" href="https://css-tricks.com/almanac/properties/a/animation/" rel="noopener ugc nofollow" target="_blank">属性</a>来移动元素。</p><p id="be90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当谈到动画元素时，我们经常使用SVG图像，因为它们允许我们在不损失质量的情况下放大和缩小。在这里，我将与你分享一些我最近发现的用于制作SVG动画的很酷的技巧。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="d2d4" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">基础动画</h1><p id="4ce0" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">让我们从基础开始。我们将使用关键帧创建一个简单的反弹动画，并将SVG直接放在HTML上。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/69ed647b6c0d0b492fa5ae24fa528f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QWqUPGlN1Lq_MlIs"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">弹跳动画的CSS代码</p></figure><p id="e99b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果，我们会得到一个漂亮的弹跳球。很好——但是你可能已经知道了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/4eada2e500fe03f9d3943d264f16a190.png" data-original-src="https://miro.medium.com/v2/resize:fit:456/0*kO9tDfDh0w3kal_Z"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">带弹跳动画的SVG</p></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="c7d3" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">SVG代码中的动画</h1><p id="f340" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">现在让我们来看看一些很酷的东西。您知道可以在SVG中添加样式吗？这些风格不仅仅局限于颜色或背景。我们可以在里面添加整个动画。</p><p id="6e19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也适用于<a class="ae kv" href="https://css-tricks.com/svg-symbol-good-choice-icons/" rel="noopener ugc nofollow" target="_blank">符号</a>，这样你就可以拥有一个动画SVG，并且可以很容易地将它导入到你的站点中。您可以轻松地将它用于循环加载程序映像。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/c3eb778e87364fcaee7d6dfbf8f1026c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FeHMNRb575e7FIbQ"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">插入SVG的HTML代码。动画是在“style”标签中定义的。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/b146baeabff6af829bbc279961822b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/0*ucaY7MPwFKa8evj6"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">带内嵌动画的SVG动画</p></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="34e7" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">作为背景图像的动画SVG</h1><p id="a161" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">这有点疯狂。您可以使用数据URI将动画SVG用作背景。</p><p id="02f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这样，你可以使用所有的背景属性——比如<code class="fe ls lt lu lv b">background-repeat</code>、<code class="fe ls lt lu lv b">background-color</code>、<code class="fe ls lt lu lv b">background-size</code>等等——来创建你需要的动画。</p><p id="fabd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果要以这种方式使用SVG，一定要正确编码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/7e44ac301ecc93851d2457599d6c7b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4howaI_bohZVEH3L"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用SVG作为背景图像的CSS代码</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/e0fe3c3df0d5c9d609c3d55009aa65a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/0*fqp0DpMwuNytx9hv"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作为背景图像的动画SVG</p></figure><p id="e2bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上述所有示例的代码都可以在下面的CodePen中找到。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="e00b" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">动画SVG路径</h1><p id="7902" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我们来看看一些很酷的东西。你知道<code class="fe ls lt lu lv b">stroke-dashoffset</code>和<code class="fe ls lt lu lv b">stroke-dasharray</code> <strong class="ky ir"> </strong>的属性吗？直到@ <a class="ae kv" href="https://twitter.com/linkstrifer?lang=en" rel="noopener ugc nofollow" target="_blank"> LinkStrifer </a>做了一个关于它们以及如何在动画中使用它们的精彩演示，我才知道。我将带你浏览这里的主要思想。</p><p id="99d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要求是当用户向下滚动时动画显示一行。该线可以是直的、弯曲的或具有奇怪的形状。</p><p id="5cb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了创建这种效果，我们将使用一个SVG，其中包含一个或多个路径。每条路径应该代表一条线。</p><p id="0335" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">路径有几个有用的属性，正如在<a class="ae kv" href="https://css-tricks.com/svg-line-animation-works/" rel="noopener ugc nofollow" target="_blank"> CSS-Tricks </a>中提到的。我们将使用<code class="fe ls lt lu lv b">stroke</code>和<code class="fe ls lt lu lv b">stroke-width</code>来定义线条的颜色和粗细。到目前为止没什么令人兴奋的，对吧？</p><p id="94b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有趣的部分来了！我们将使用属性<code class="fe ls lt lu lv b">stroke-dasharray</code> <strong class="ky ir"> </strong>来将线条分成线段。然后，如果我们用<code class="fe ls lt lu lv b">stroke-dashoffset</code>、<strong class="ky ir">、</strong>来玩，我们可以填充或清空该行。如果我们设置<code class="fe ls lt lu lv b">stroke-dashoffset</code> <strong class="ky ir"> </strong>等于<strong class="ky ir"> </strong> <code class="fe ls lt lu lv b">stroke-dasharray</code>，<strong class="ky ir"> </strong>该行将为空，如果我们设置<code class="fe ls lt lu lv b">stroke-dashoffset</code> <strong class="ky ir"> </strong>为<strong class="ky ir"> </strong> <code class="fe ls lt lu lv b">0</code>，该行将被填充。</p><p id="8716" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我用一点JS来定义<code class="fe ls lt lu lv b">stroke-dasharray</code>等于路径的长度和一个简单的按钮来触发动画。您可以在下面的CodePen上查看代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/bdd6ad97291e16e6e8ed569f9d830d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*n7PsLETj8NRYpoQo"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">JS代码初始化路径并触发动画</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/fef508b1d310b187e3740bcea8693f22.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/0*GSH4VN_baMzvyt_y"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">路径的动画。通过按下按钮来触发。</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="5121" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">让我们在卷轴上制作动画</h1><p id="e5e4" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">现在我们知道了如何填充路径的魔法，我们需要在用户滚动时填充它。为此，我们需要更多的JS代码。</p><p id="998c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这样做的主要思想是给滚动事件附加一个函数，该函数使用一些数学方法来设置<code class="fe ls lt lu lv b">stroke-dashoffset</code> <strong class="ky ir">的值。</strong>我在用<code class="fe ls lt lu lv b">requestAnimationFrame</code>让动画更流畅。提高性能的一个好方法是只在屏幕上显示SVG时使用<code class="fe ls lt lu lv b">IntersectionObserver</code>来制作动画。</p><p id="7370" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请查看下面CodePen上的完整代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/3564609bb42c1e0dfd03be4ca6aa0f76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/0*aWQb-kwAR0sekEBc"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">卷轴上路径的动画</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="d895" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">资源</h1><ul class=""><li id="cd8f" class="nk nl iq ky b kz mv lc mw lf nm lj nn ln no lr np nq nr ns bi translated"><a class="ae kv" href="https://css-tricks.com/almanac/properties/t/transform/" rel="noopener ugc nofollow" target="_blank">“转换”通过CSS-Tricks </a></li><li id="bf35" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><a class="ae kv" href="https://css-tricks.com/almanac/properties/a/animation/" rel="noopener ugc nofollow" target="_blank">“动画”通过CSS-Tricks </a></li><li id="60b6" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><a class="ae kv" href="https://blog.tbhcreative.com/2017/06/benefits-of-using-svg.html#:~:text=SVG%20stands%20for%20scalable%20vector,choice%20for%20responsive%20web%20design." rel="noopener ugc nofollow" target="_blank">“使用SVG(可缩放矢量图形)的好处”，TBH创意</a></li><li id="22ee" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><a class="ae kv" href="https://css-tricks.com/svg-symbol-good-choice-icons/" rel="noopener ugc nofollow" target="_blank">“SVG ' symbol '图标的好选择”通过CSS-Tricks </a></li><li id="2f23" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><a class="ae kv" href="https://css-tricks.com/svg-line-animation-works/" rel="noopener ugc nofollow" target="_blank">“SVG线条动画如何工作”通过CSS-Tricks </a></li></ul></div></div>    
</body>
</html>