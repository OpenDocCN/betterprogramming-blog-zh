# 想写可读的代码？记住这 5 条规则

> 原文：<https://betterprogramming.pub/want-to-write-readable-code-remember-these-5-rules-8d59f625041>

## 让你的代码成为最好的版本

![](img/de94b153f34e6cf52ed57647c2608ef8.png)

照片由 [Cookie 在](https://unsplash.com/@cookiethepom?utm_source=medium&utm_medium=referral) [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的 Pom 拍摄。

我最近写了一篇关于[使用对象文字而不是](/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0) `[if/else](/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0)` [和](/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0) `[switch](/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0)` [语句](/dont-use-if-else-and-switch-in-javascript-use-object-literals-c54578566ba0)来使您的代码更具可读性的文章，并对阅读响应很感兴趣。很明显，代码可读性对不同的人有不同的意义。事实上，这是编写代码最主观的事情之一，这就是为什么它是一个如此有争议的问题。

那么，我们能确定哪些硬性规定来确保我们总是写出可读的代码呢？

# 什么是可读代码？

先说一个定义。对我来说，可读的代码总是关于减少第一次接触代码的开发人员的认知负荷。这意味着他们应该能够浏览一些代码，并很快理解正在发生的事情，而不必太挠头、搜索或纠缠队友。

我们可以遵循什么规则来达到这个代码乌托邦？

# 1.一致地格式化您的代码

通过确保你的代码格式良好，从最容易得到的果实开始。两格还是四格？分号还是不是？单引号还是双引号？这完全不重要——只要它是一致的。关于代码格式化的最好的事情是，它可以很容易地使用代码 linter 来执行，这样任何格式上的任性都可以立即被强调和纠正。

人们很容易忘记格式不良的代码会增加多少认知负荷，但是如果你曾经使用过格式不良的代码库，你就会知道它会给你带来多大的麻烦。在现代开发工具的黄金时代，我们真的没有理由草率格式化。

# 2.想出编码惯例并坚持下去

编码约定实际上是格式的扩展，但更多的是关于模式和编码风格。编码约定的一些例子可能是文件中导入的顺序，无论是否使用 ternaries，或者是否使用`if/else`和`switch`或对象文字。

同样，这些都是主观的，会引起意见分歧，但一致性是关键。不管你是喜欢还是讨厌 ternaries，如果整个代码库在如何使用它们方面是一致的，你的认知负荷将会减少，你将能够快速查看一段代码并理解发生了什么，因为你知道会发生什么。

# 3.始终按照“最小公分母”编写代码

你的代码应该总是针对那些将要阅读它的初级开发人员。这意味着抽象应该清晰、简单、易于理解。你不需要混淆你的代码来向你的团队炫耀你有多聪明。

也就是说，没有理由避免使用最适用的语法——即使它可能有点晦涩难懂。例如，并不是每个人都知道 JavaScript 中的`yield`，但是如果它是适合工作的工具，那么就继续使用它。希望任何遇到它并且不理解它的语法的人都能努力找到它。事实上，这通常是我学习新概念或语法的方式。

这里的关键是，它在概念上应该足够简单，任何人都可以理解。这意味着你的代码将会很好，可读性很强，作为一个额外的好处，它迫使你真正思考你是否在以最符合逻辑的方式做事情。简单点，笨蛋！

# 4.最短的代码并不总是可读性最好的

不要错误地将更少的代码等同于更好的可读性。越简洁的代码越不清晰。通读一下 Stack Exchange 上的一些[代码 Golf](https://codegolf.stackexchange.com/)，你就会明白我的意思了！

最终，您需要在简洁和编写可读代码之间找到平衡。例如，我倾向于避免像嵌套术语这样的东西，因为它们会很快变得难以理解，即使它们使用了较少的字符。找到对你和你的团队有用的东西，并坚持下去。

# 5.如果所有这些都失败了，留下你的评论

有时候，您可能不得不做一些其他开发人员无法立即理解的事情。例如，有时您可能会采取迂回的方式来确保跨浏览器的兼容性。在这些情况下，留下评论来解释发生了什么会有所帮助。这也将避免另一个开发人员浪费时间重构你的代码，然后才发现你为什么这样做。

但是要小心:不必要的评论可能会令人讨厌。如果一段代码在做什么是显而易见的，不要留下注释来解释它。这只会增加其他开发人员需要浏览的文本量，最终增加他们的认知负荷。

一个简单的规则是评论*为什么*——而不是*什么*。如果你发现自己需要借助注释来解释你的代码在做什么，那么它可能不太可读。

# 结论

某些惯例或语法的可读性是高还是低，总是会有不同的看法。尽量保持一致。做出一个适合你正在做的项目的决定，并坚持下去。最重要的是，要体谅其他开发者。考虑如何让他们尽可能容易地学会和理解你写的代码。

如果我们都能记住这些规则，那么我们就能实现一个可读的代码乌托邦！

感谢您的阅读。我很乐意听到你遵循的任何其他规则来确保你的代码是可读的。请在评论中告诉我！