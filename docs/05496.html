<html>
<head>
<title>Is Your Package File Older Than You Are?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你的包文件比你老吗？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/is-your-package-file-older-than-you-are-dd59d5dd5812?source=collection_archive---------13-----------------------#2020-07-13">https://betterprogramming.pub/is-your-package-file-older-than-you-are-dd59d5dd5812?source=collection_archive---------13-----------------------#2020-07-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="829b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">您的依赖关系应该有多新？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b5627ed591ebe686f05317bfef58416b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fsfNyirdJ96HBEBNfDAKVw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://dev.to/leoat12/the-nodemodules-problem-29dc" rel="noopener ugc nofollow" target="_blank">开发商</a>的真正出色的图像。</p></figure><p id="77b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近为我的一个Android项目设置了<a class="ae ky" href="https://dependabot.com/" rel="noopener ugc nofollow" target="_blank">dependent bot</a>。快速总结:Dependabot会查看您的依赖文件(<code class="fe lv lw lx ly b">.gradle</code>、pod文件、<code class="fe lv lw lx ly b">package.json</code>)，并按照设定的时间表自动打开PRs来更新您的每个包。它现在实际上是GitHub的一部分，安装就像签入文件一样简单。那你就有PRs！这实际上再简单不过了，这一点你不能对许多系统说。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/16aee3dc3e3fc6339a185bbab39bd5e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KpdkeImPwGmMIRd5cJvXYw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://www.unixdaemon.net/tools/enabling-dependabot/" rel="noopener ugc nofollow" target="_blank"> UnixDaemon </a>。</p></figure><p id="8089" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这对于保持您的依赖关系是非常好的。如果您有针对PRs运行的CI，您甚至可以得到一些确认，您的系统将使用这些更新。</p><p id="4507" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是…如果您不想更新您的依赖项呢？我安装了这个机器人，然后意识到我打开了这个巨大的蠕虫罐。配置Dependabot的有趣部分太短了，一旦所有的PRs打开，我意识到必须有人来解决它们。</p><p id="2682" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我花了一整天的时间费力地进行冒烟测试，更新代码(修复一些较大的版本变更问题)，合并PRs。</p><p id="c65c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是我做的改变越多，我就越像…“为什么？”</p><p id="e3b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个应用程序正在运行。我们不需要改变什么。现在我只是为QA测试了一些新的alphas，并引入了更多的变化点，可能还有一些新的bug。</p><p id="8dc9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我没有更新新功能或已知安全缺陷的依赖关系。我只是觉得我应该。那么，通过更新这些依赖关系，我实际上给表带来了什么价值呢？</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="f500" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">我不能只锁定我的版本吗？</h1><p id="eaf9" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">好吧，当然。锁定你的<code class="fe lv lw lx ly b">package.json</code>或者你的年级版本将会使你不再担心你的依赖。我的意思是，升级您的软件包需要考虑很多因素:</p><ul class=""><li id="8d2b" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">我们应该什么时候升级？</li><li id="2c67" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">我需要修改我的代码吗？</li><li id="932c" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">这些变化会导致什么样的错误？</li><li id="bc94" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">新的依赖关系会相互兼容吗？我知道我在更新npm包时丢失了一些键盘。</li></ul><p id="3a5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这对于很多项目来说可能是好的，尤其是像学习项目或个人网站这样的小项目。这当然减少了你必须做的维护，你可以继续专注于建设。</p><h2 id="9f5e" class="ns mi it bd mj nt nu dn mn nv nw dp mr li nx ny mt lm nz oa mv lq ob oc mx od bi translated">你可以，但你可能不应该</h2><p id="eba7" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">锁定软件包的基本问题是您及时锁定了您的代码库。如果你关心软件的长期生存能力、可维护性，也许最重要的是安全性，你必须保持你的软件包是最新的。</p><h2 id="390d" class="ns mi it bd mj nt nu dn mn nv nw dp mr li nx ny mt lm nz oa mv lq ob oc mx od bi translated">安全掌握在您手中</h2><p id="f423" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">你有过这样的经历吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/3cb502e2b199c4769e5e4e36feae9438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L46jyhXpkfQwpNSV4iCoxg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="f7d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GitHub有一个自动服务，当你的依赖过期时，它会给你发一封电子邮件。这真是太棒了，因为“NPM包安全分析师”不是一个真正的职位。</p><p id="7327" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不幸的是，您的应用程序的安全性与您的依赖项的安全性联系在一起。如果你的程序服务于真实的用户，并且有真实的用户数据流经，你有责任确保这些包是安全的。</p><p id="a71f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您收到一个已经<em class="of">年没有更新的软件包的警告。</em>而你是四大版本背。如果你的代码超过100，000行。</p><p id="e423" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">突然间，你面前有一个季度的工作。这真的不是你可以搁置的事情。我的意思是，根据漏洞的不同，如果您泄露了客户的个人数据，您可能会面临严重的道德、法律和财务问题。</p><h2 id="7ce7" class="ns mi it bd mj nt nu dn mn nv nw dp mr li nx ny mt lm nz oa mv lq ob oc mx od bi translated">特色？是的，我想要</h2><p id="bc53" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">此外，您不希望您的应用程序现代化吗？开发人员不想在老旧的系统上工作。</p><p id="630f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，您可能希望软件包提供一些改进。这并不经常发生，但有时升级一个软件包可以让你获得<em class="of">免费的</em>性能提升。当您需要重写所有服务时，您将无法做到这一点，因为您需要进行两个主要的版本更改。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="1b9d" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">所以，早点更新，经常更新</h1><p id="7565" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">如果你真的关心你的项目的长期可行性，你必须关心你的依赖关系。你必须仔细阅读它们，并保持它们的一致性。</p><p id="f457" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该多久更新一次你的依赖关系？这完全取决于你的团队和项目的构成。但是希望你至少可以每月运行一次像Dependabot这样的程序。</p><p id="18a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果不是每月，甚至更频繁，因为在某些时候，你会有突破性的变化。您无法避免这些，但是您可以通过经常更新来使这些变化保持在较小的范围内，从而使您的生活变得更加轻松。</p><p id="9b8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，当你<em class="of">移除</em>依赖时，会有额外的奖励。每次去更新的时候，分析一下自己是不是真的需要那个依赖。如果你能轻易地去掉它，那就去做。只是一件事，以后不能破。</p><p id="d27e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要让你的系统因为疏忽而恶化。感谢阅读！</p></div></div>    
</body>
</html>