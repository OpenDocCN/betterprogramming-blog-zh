<html>
<head>
<title>Next.js — React Server-Side Rendering Done Right</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.js — React服务器端渲染完成正确</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/next-js-react-server-side-rendering-done-right-f9700078a3b6?source=collection_archive---------2-----------------------#2017-11-02">https://betterprogramming.pub/next-js-react-server-side-rendering-done-right-f9700078a3b6?source=collection_archive---------2-----------------------#2017-11-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2e72" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我们正式进入了服务器端渲染react应用的时代</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/01c5b4351322682e516bfc8ad8ba7dcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tp1sCE9Palf9L1Kq2ABeoQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Pathum Danthanarayana 在<a class="ae ky" href="https://unsplash.com/search/photos/apps?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><blockquote class="kz"><p id="ee1c" class="la lb it bd lc ld le lf lg lh li lj dk translated">js是一个用于服务器渲染的React应用程序的极简框架。</p></blockquote></div><div class="ab cl lk ll hx lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="im in io ip iq"><h1 id="c49c" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">背景</h1><p id="8a25" class="pw-post-body-paragraph mj mk it ml b mm mn ju mo mp mq jx mr ms mt mu mv mw mx my mz na nb nc nd lj im bi translated"><a class="ae ky" href="http://bit.ly/2icjPnC" rel="noopener ugc nofollow" target="_blank"><em class="ne">next . js 2016年10月25日被开源</em> </a> <em class="ne">。Next后面的公司叫</em><a class="ae ky" href="https://github.com/zeit" rel="noopener ugc nofollow" target="_blank"><em class="ne">ZEIT</em></a><em class="ne">。</em></p><p id="a89d" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated"><a class="ae ky" href="https://github.com/zeit/next.js/" rel="noopener ugc nofollow" target="_blank"><strong class="ml iu"><em class="ne">next . js</em></strong></a><strong class="ml iu"><em class="ne">有一个组织做后盾，这个组织很稳定，在开源界也很活跃。Next不会在几个月内消失，很可能会一直存在。</em>T25】</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/1c1b7afae655fe29770f0f2ddca50ae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cvtvf9Bx3OJlVFqISyhXOg.png"/></div></div></figure><p id="2644" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">所以，我们正式进入了服务器端渲染react应用的时代。这引发了很多问题，比如:</p><ul class=""><li id="90d8" class="nl nm it ml b mm nf mp ng ms nn mw no na np lj nq nr ns nt bi translated">我为什么要关心？我已经知道如何制作高质量的React应用程序。</li></ul><p id="26d8" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">问得好。答案是，我们应该始终对新概念和学习新事物保持开放的态度。记住，做一名开发者意味着终身做一名学生。Next可以改善你作为开发者的生活。</p><p id="1a91" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">如果每次新技术出现时我们都问“我为什么要关心”，我们将会被90年代的开发工具所困。</p><p id="1f9c" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">当jQuery问世时——由于其易用性而成为一场革命——你可能会问“为什么要在乎呢？”继续使用普通的Javascript。但是必须承认，它改进了几乎每一个代码库，让我们所有人的生活稍微轻松了一点。</p><p id="a5de" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">最终，创新将会胜出——为什么不做一个早期采用者呢？</p><h1 id="6009" class="lr ls it bd lt lu nu lw lx ly nv ma mb jz nw ka md kc nx kd mf kf ny kg mh mi bi translated"><strong class="ak">接下来如何改善你的生活</strong></h1><ul class=""><li id="7a27" class="nl nm it ml b mm mn mp mq ms nz mw oa na ob lj nq nr ns nt bi translated"><strong class="ml iu">易用性</strong>。忘记设置webpack，react路由器，react和react-dom。这一切都包括在开箱即用！</li><li id="4871" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated"><strong class="ml iu">开箱代码拆分</strong>。</li><li id="690a" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated"><strong class="ml iu">首页加载的性能</strong>。</li><li id="6aa7" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated">改进的<strong class="ml iu"> SEO </strong>。</li><li id="96b7" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated">Javascript无所不包！(这个我们都听过，咳咳MongoDB和流星)。Meteor是伟大的——我甚至有一个关于Meteor和MongoDB的生产项目，但接下来是下一个(双关语)进化步骤。Next做对了很多事情(最重要的是——它的简单性)。</li></ul><p id="18b4" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated"><a class="ae ky" href="https://www.codementor.io/tgreco/5-of-the-many-things-to-love-about-zeit-s-next-js-bpszu99g1" rel="noopener ugc nofollow" target="_blank">好奇好处？这里有一篇全面深入的文章解释了细节。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/012ec070d45388bd55185fd304fd8a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*-dHA-_9igRBQA1fpCmcb6Q.gif"/></div></figure></div><div class="ab cl lk ll hx lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="im in io ip iq"><h1 id="699e" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">客户端渲染和服务器端渲染有什么区别？</strong></h1><p id="cf36" class="pw-post-body-paragraph mj mk it ml b mm mn ju mo mp mq jx mr ms mt mu mv mw mx my mz na nb nc nd lj im bi translated"><strong class="ml iu">客户端渲染。</strong>通常在使用React时，你的浏览器会下载一个极小的HTML页面，内容由JavaScript填充。</p><p id="2dd3" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">使用<strong class="ml iu">服务器端呈现</strong>，在服务器上生成<em class="ne">初始内容，因此您的浏览器可以下载已经有HTML内容的页面。对内容的更新仍然在浏览器中处理。</em></p><h2 id="fa9d" class="oi ls it bd lt oj ok dn lx ol om dp mb ms on oo md mw op oq mf na or os mh ot bi translated">服务器端呈现的缺点</h2><ul class=""><li id="2c35" class="nl nm it ml b mm mn mp mq ms nz mw oa na ob lj nq nr ns nt bi translated">服务器端渲染在许多情况下可以提高性能，但在其他情况下会降低性能。</li><li id="5f8e" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated">SSR对您的服务器来说是更多的工作，所以您的HTTP响应将需要更长的时间才能返回。如果您的服务器负载过重，时间会更长。</li><li id="7022" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated">您的HTML将会变大，下载时间也会变长。对于大多数应用程序来说，这应该可以忽略不计，但是如果您的React组件包含很长的列表或表格，这可能会成为一个因素。SSR通常会提高应用程序的性能，但并不总是如此。</li><li id="5961" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated">使用SSR将增加应用程序的复杂性，这意味着在其他特性和改进上花费的时间更少。</li></ul></div><div class="ab cl lk ll hx lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="im in io ip iq"><h1 id="c8a8" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated"><strong class="ak">服务器端渲染什么时候好？</strong></h1><ul class=""><li id="1d56" class="nl nm it ml b mm mn mp mq ms nz mw oa na ob lj nq nr ns nt bi translated">你需要在谷歌、DuckDuckGo、必应、雅虎或百度上搜索引擎优化。</li><li id="52fd" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated">您已经有了一个工作的React应用程序，需要尽可能好的性能，并且愿意为额外的服务器资源付费。</li></ul><h1 id="fc90" class="lr ls it bd lt lu nu lw lx ly nv ma mb jz nw ka md kc nx kd mf kf ny kg mh mi bi translated"><strong class="ak">服务器端渲染什么时候不好？</strong></h1><ul class=""><li id="8c80" class="nl nm it ml b mm mn mp mq ms nz mw oa na ob lj nq nr ns nt bi translated">你的React应用还没有完成:先让它工作起来。这不适用于Next——从头开始编写一个Next应用程序完全没问题！</li><li id="dde5" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated">Google上的SEO已经足够好了。确保谷歌正在抓取你的内容。)</li><li id="36de" class="nl nm it ml b mm oc mp od ms oe mw of na og lj nq nr ns nt bi translated">服务器资源稀缺，可能是因为预算低或无法扩展。</li></ul></div><div class="ab cl lk ll hx lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="im in io ip iq"><h1 id="23a9" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">服务器端渲染的替代方案是什么？</h1><ol class=""><li id="b1a3" class="nl nm it ml b mm mn mp mq ms nz mw oa na ob lj ou nr ns nt bi translated"><strong class="ml iu">照常渲染客户端。</strong>依靠Googlebot的JavaScript抓取功能进行SEO，并专注于应用程序的其他领域进行性能改进。你的搜索引擎优化将在百度、必应和雅虎上遭受损失。</li><li id="e1c5" class="nl nm it ml b mm oc mp od ms oe mw of na og lj ou nr ns nt bi translated">prerender是一项服务，它将存储页面的缓存版本。这有助于SEO和性能，同时保持代码简单。我没有亲自尝试过这项服务，所以我不能保证它的质量。你可能会发现这个极简的预渲染指南很有用！</li></ol><p id="9c42" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">一篇非常<a class="ae ky" href="https://www.andrewhfarmer.com/server-side-render/" rel="noopener ugc nofollow" target="_blank">有用的文章，关于服务器端的好处以及何时使用，何时不使用！</a></p></div><div class="ab cl lk ll hx lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="im in io ip iq"><h1 id="366e" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">准备好给Next和服务器端渲染一个机会了吗？一堆人已经有了！</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/40efcd1a1a8f9f31af5ca1d40e745e62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lxRQDWukZ6A_QR5_wZR1Ew.png"/></div></div></figure><h1 id="9332" class="lr ls it bd lt lu nu lw lx ly nv ma mb jz nw ka md kc nx kd mf kf ny kg mh mi bi translated">开始使用Next</h1><p id="6b9a" class="pw-post-body-paragraph mj mk it ml b mm mn ju mo mp mq jx mr ms mt mu mv mw mx my mz na nb nc nd lj im bi translated">我们像任何其他节点项目一样开始Next.js项目。您需要做的就是将Next作为npm模块安装。将这个命令TK粘贴到终端中。</p><pre class="kj kk kl km gt ow ox oy oz aw pa bi"><span id="c967" class="oi ls it ox b gy pb pc l pd pe">npm install --save next react react-dom</span></pre><p id="e918" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">成功启动我们的节点项目后，安装<strong class="ml iu"> react </strong>、<strong class="ml iu"> react-dom </strong>和<strong class="ml iu">接下来— </strong>用您的文本编辑器/IDE <strong class="ml iu">打开项目。</strong>添加下一个脚本(见第7行)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/4bb87343444a95cb4f36b0d9ba2513a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j2-5csy2IR9JHGT8VPhB7A.png"/></div></div></figure><h1 id="05f4" class="lr ls it bd lt lu nu lw lx ly nv ma mb jz nw ka md kc nx kd mf kf ny kg mh mi bi translated">惊讶吧——运行<code class="fe pg ph pi ox b">dev</code>脚本！</h1><div class="kj kk kl km gt ab cb"><figure class="pj kn pk pl pm pn po paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/87947ee60340c565870f74ff844c6581.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/1*OQHts_xz4PY211oH8B7FTw.gif"/></div></figure><figure class="pj kn pp pl pm pn po paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/f5391a2fb37ab3864ca5442590d4bb17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*qKb54zJqqF-cCpZ913JPdQ.png"/></div></figure></div><p id="0dc9" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">就是这样！我们成功安装了Next。看到开始有多简单了吗？</p><p id="afd2" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">我们有React、webpack、热模块加载、路由、服务器端渲染、预取，以及许多开箱即用、设置起来更麻烦的功能！</p><p id="2758" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">好吧，你可能会问为什么Next会给我们显示一个<em class="ne"> 404 </em>页面？</p><p id="b497" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">嗯，那是因为我们还没有做页面！</p><p id="2bdd" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">让我们在<code class="fe pg ph pi ox b">pages/index.js</code>中创建第一个组件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pq pr l"/></div></figure><div class="kj kk kl km gt ab cb"><figure class="pj kn ps pl pm pn po paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/2ce7bf6ab7330e2205b7d926c5b24bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*JCsKzho0tCAlVf7ktQ8idA.png"/></div></figure><figure class="pj kn pt pl pm pn po paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/52b002f442ec04088ce49f7aec9d2bbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*OibZgL7L3LDzoXZ4WOIMog.png"/></div></figure></div><p id="d5a5" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">注意我们为什么不需要导入React以及Next是如何选择路由的？尝试添加另一段——我们也有热模块重装！</p><p id="4a8a" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated"><strong class="ml iu"> <em class="ne">漂亮。</em> </strong></p><p id="cbb7" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">如果您查看我们应用程序的源代码，您应该会看到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/c8fe01d59977dc2d2d3879e8776af374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CwvW7NVWIEoG3XDpCA2FgQ.png"/></div></div></figure><p id="1839" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">这是下一步发挥它的魔力。我们的React应用程序是服务器端渲染的。</p><p id="8be2" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">酷！这更像是对<strong class="ml iu">什么是服务器端渲染、它为什么有用、</strong>和<strong class="ml iu">如何开始下一步的介绍。</strong></p><p id="7f19" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">浏览这个伟大的下一个教程，释放它所有强大的功能。T25】</p><p id="6059" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">如果你想让你的JavaScript能力更上一层楼，我推荐阅读“<a class="ae ky" href="https://amzn.to/2LSDpG6?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> <em class="ne">你不知道的JS </em> </a>”系列丛书。</p><p id="4ff9" class="pw-post-body-paragraph mj mk it ml b mm nf ju mo mp ng jx mr ms nh mu mv mw ni my mz na nj nc nd lj im bi translated">感谢你的阅读，我希望你和我一样学到了很多！❤</p></div></div>    
</body>
</html>