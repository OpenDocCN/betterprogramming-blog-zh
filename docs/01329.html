<html>
<head>
<title>Building Your First Website With Flask — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Flask构建你的第一个网站——第2部分</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/building-your-first-website-with-flask-part-2-6324721be2ae?source=collection_archive---------1-----------------------#2019-09-02">https://betterprogramming.pub/building-your-first-website-with-flask-part-2-6324721be2ae?source=collection_archive---------1-----------------------#2019-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cd81" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">HTML模板、页面链接和CSS</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/abcda612704841467a80da5511699f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EhVB49WMeyR7Qrx8kV9Zuw.png"/></div></div></figure><p id="3bfb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们最近写了一篇介绍使用Flask 开发你的第一个网站的文章。在本系列的第一部分，我们提供了创建第一个Flask程序的指南:“Hello World！”，并获得外部输入到您的网站。</p><p id="0ba0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，这个系列的第二部分将指导我们使用HTML模板来改善你的网站外观。</p><p id="ef94" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它包括:</p><ul class=""><li id="0054" class="lr ls it kw b kx ky la lb ld lt lh lu ll lv lp lw lx ly lz bi translated">使用HTML模板。</li><li id="5278" class="lr ls it kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">向我们简单的Flask网站添加CSS</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="22ba" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">使用HTML模板</h1><p id="6cd5" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">网站模板是一个预先构建的网站，由HTML页面组成，这些页面可能还包含集成的图像、文本内容以及JavaScript和字体样式的支持文件。网站模板和网页模板都是一个意思。</p><p id="274b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于HTML模板，它们是使用HTML(或XHTML)构建的，通常由CSS和JavaScript代码组成。为了随时创建HTML网页，Flask支持使用<a class="ae lq" href="http://jinja.pocoo.org/docs/2.10/" rel="noopener ugc nofollow" target="_blank"> Jinja2 </a>的HTML模板。</p><p id="cd50" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Jinja2允许您在HTML页面中干净地添加循环和变量。它使用了新的语法，但是一旦你理解了它，就很容易使用。</p><p id="895b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于本系列，让我们在Flask中创建新的HTML模板。</p><p id="fe99" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，我们需要创建一个新的HTML文件，姑且称之为<code class="fe nj nk nl nm b">home.html</code> <em class="nn">。</em></p><p id="aef3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">需要注意的重要一点是，Flask框架在一个名为<code class="fe nj nk nl nm b">templates</code> <em class="nn">的特殊文件夹中搜索HTML文件。你需要创建一个<code class="fe nj nk nl nm b">templates</code>文件夹，并将所有的HTML文件保存在里面。</em></p><p id="f25c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是让您入门的代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="48f3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下一步是对我们在第1部分<em class="nn"> </em>中创建的<code class="fe nj nk nl nm b">mainPage.py</code> <em class="nn"> </em>进行修改，以允许我们查看上面创建的<code class="fe nj nk nl nm b">home.html</code>。比如在Python代码中嵌入HTML文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="4a67" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">值得注意的是，有两个新的变化:</p><h2 id="0e3e" class="nq mn it bd mo nr ns dn ms nt nu dp mw ld nv nw my lh nx ny na ll nz oa nc ob bi translated"><strong class="ak">1号线</strong></h2><p id="58ab" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">从Flask框架<em class="nn">中导入一个名为<code class="fe nj nk nl nm b">render_template()</code> <em class="nn"> </em>的方法。</em></p><p id="4df8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">方法<code class="fe nj nk nl nm b">render_template()</code>在templates文件夹中搜索高亮显示的模板(HTML文件)。找到指定的模板后，它会呈现模板。可以进一步了解<code class="fe nj nk nl nm b"><a class="ae lq" href="http://flask.pocoo.org/docs/0.12/quickstart/#rendering-templates" rel="noopener ugc nofollow" target="_blank">render_templates()</a></code> <a class="ae lq" href="http://flask.pocoo.org/docs/0.12/quickstart/#rendering-templates" rel="noopener ugc nofollow" target="_blank">功能</a>。</p><h2 id="2337" class="nq mn it bd mo nr ns dn ms nt nu dp mw ld nv nw my lh nx ny na ll nz oa nc ob bi translated"><strong class="ak">第六行</strong></h2><p id="c0db" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">对return进行了修改，现在返回<code class="fe nj nk nl nm b">render_template(“home.html”)</code> <em class="nn">。</em>return的这一更改将允许查看链接的HTML文件。</p><p id="94ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要执行程序，请在命令提示符下快速运行代码:</p><pre class="kj kk kl km gt oc nm od oe aw of bi"><span id="0ae7" class="nq mn it nm b gy og oh l oi oj">python mainPage.py</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/b39fc823c9b5881073854ae3849954c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gV3mlo7Xyc8ArevfwzbGZw.png"/></div></div></figure><p id="b05b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">并在您的本地浏览器中输入<code class="fe nj nk nl nm b"><a class="ae lq" href="http://localhost:5000/" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/</a></code>来查看更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/4c6c2618a436d68f8a31385ea3efa4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ip6mMj26gPf0XdwHsPeIdw.png"/></div></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="8314" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">添加更多HTML页面</h1><p id="7d28" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">更进一步，我们可以在我们简单的Flask网站上添加更多的HTML页面。</p><p id="ed83" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们创建一个<strong class="kw iu"> </strong> <em class="nn">关于我们的</em> <strong class="kw iu"> </strong>页面，从创建<code class="fe nj nk nl nm b">aboutUs.html</code> <em class="nn">开始。</em><strong class="kw iu"/><code class="fe nj nk nl nm b">aboutUs.html</code>也应该创建在<code class="fe nj nk nl nm b">templates</code> <strong class="kw iu"> </strong>文件夹里面。</p><p id="d52c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我们可以将以下代码行添加到文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="503f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">创建完<code class="fe nj nk nl nm b">aboutUs.html</code> <em class="nn">，</em>之后，让我们对<code class="fe nj nk nl nm b">mainPage.py</code>进行更新，如下图所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="fb46" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">既然您已经创建了两个HTML页面，我们可以将它们链接在一起。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/57aea33aac7c057f0c7f4cb5d46622f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPLuesVODehB9QBhJG00ZQ.png"/></div></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="770e" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">通过导航菜单链接所有页面</h1><p id="719e" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">就像一个普通的网站，有链接连接其他网页使导航变得容易。为了连接所有的页面，我们可以创建一个导航菜单来连接它们。Flask的使用使得导航菜单过程的创建更加容易。</p><p id="850f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，让我们创建一个名为<strong class="kw iu"> </strong> <code class="fe nj nk nl nm b">template.html</code> <em class="nn">、</em> <strong class="kw iu"> </strong>的模板作为父模板。创建的另外两个模板(子模板)将从这个模板继承它们的代码。</p><p id="a446" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">创建完<code class="fe nj nk nl nm b">template.html</code> <em class="nn">，</em>，<strong class="kw iu">，</strong>后添加下面几行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="e033" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe nj nk nl nm b">url_for()</code> <strong class="kw iu"> </strong>功能介绍。它接受函数名作为参数。可以进一步了解<code class="fe nj nk nl nm b"><a class="ae lq" href="http://flask.pocoo.org/docs/0.12/quickstart/#url-building" rel="noopener ugc nofollow" target="_blank">url_for()</a></code> <a class="ae lq" href="http://flask.pocoo.org/docs/0.12/quickstart/#url-building" rel="noopener ugc nofollow" target="_blank">功能</a>。</p><p id="99ee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用<strong class="kw iu"> </strong> <code class="fe nj nk nl nm b">about.html</code> <strong class="kw iu"> </strong>和<code class="fe nj nk nl nm b">home.html</code> <em class="nn">替换带花括号的两行。</em> <strong class="kw iu"> </strong>这些添加允许子页面(<code class="fe nj nk nl nm b">about.html</code>和<code class="fe nj nk nl nm b">home.html</code>)与父页面(<code class="fe nj nk nl nm b">template.html</code>)链接。它还限制了导航菜单代码的复制。</p><p id="9d5a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们创建<code class="fe nj nk nl nm b">about.html</code>，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="343c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来是创建一个Python脚本来合并这两个页面。在这种情况下，我们使用下面的代码创建了<code class="fe nj nk nl nm b">main.py</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="ecdc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要执行程序，请在命令提示符下快速运行<code class="fe nj nk nl nm b">main.py</code>代码，并在本地浏览器中输入<code class="fe nj nk nl nm b"><a class="ae lq" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank">http://localhost:5000</a></code>来查看更改。</p><p id="f4d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">单击“关于”链接会将您带到“关于”页面，或者您可以使用本地浏览器中的<code class="fe nj nk nl nm b"><a class="ae lq" href="http://localhost:5000/about" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/about</a></code>来浏览以查看更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/f11656ae9acfb8de7116cf2cda15ae01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WtPGfo5h6fWNQ7TVoAJ25A.png"/></div></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="960b" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">向我们的网站添加CSS</h1><p id="4bf9" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">为了给我们的网站添加一些风格，让我们试着给我们的网站添加一些CSS。另外，需要注意的重要一点是，类似于为所有HTML模板创建<em class="nn"> </em> <code class="fe nj nk nl nm b">templates</code>文件夹，我们还需要为所有CSS文件创建另一个名为<code class="fe nj nk nl nm b">static</code> <em class="nn"> </em>的文件夹。</p><p id="77a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe nj nk nl nm b">static</code> <em class="nn"> </em>文件夹主要用于存储CSS、JavaScript和图像文件，以及其他重要文档。</p><p id="88ee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个原因使得创建<code class="fe nj nk nl nm b">CSS</code>文件夹来存储所有CSS样式表<strong class="kw iu"/>变得至关重要，所以，你必须在<code class="fe nj nk nl nm b">static</code> <em class="nn"> </em>文件夹中创建<code class="fe nj nk nl nm b">CSS</code> <em class="nn"> </em>文件夹。创建文件夹后，您的项目文件夹应该类似于下面的内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/8abfdef9c1e0b3a5e13ca1b424ade956.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*4-hiRoY8C9E_QhFAxlc6wA.png"/></div></figure><p id="c6e8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">继续将我们的HTML文件与CSS链接，我们使用一个<code class="fe nj nk nl nm b">template.css</code>文件和已经存在的<code class="fe nj nk nl nm b">template.html</code>文件向CSS文件夹添加一些代码，因为它将所有其他页面链接在一起。</p><p id="0668" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于<code class="fe nj nk nl nm b">template.css</code>文件，请添加以下代码并保存在CSS文件夹中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="bf58" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">添加到父页面的新代码也将对所有子页面有效。现在，让我们用这些新代码行更新父页面:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="771b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要执行程序，请在命令提示符下快速运行<code class="fe nj nk nl nm b">main.py</code>代码，并在您的本地浏览器中输入<code class="fe nj nk nl nm b"><a class="ae lq" href="http://localhost:5000/about" rel="noopener ugc nofollow" target="_blank">http://localhost:5000/about</a></code>来查看更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/96de08e0fce91b3ad1505433197e397a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PO8cLDUXiZ5UI57xKbTWZw.png"/></div></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="5b0b" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">结论</h1><p id="eac6" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">在我们简单的Flask网站中使用HTML模板和CSS进行设计和导航是一个简单的步骤。</p><p id="c3db" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">服务器渲染HTML，传递正确的变量，并将所需的HTML返回给浏览器，这样您就一定会走上构建网站的正确道路。</p><p id="6c13" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过更多的练习，您可以探索Jinja模板下可用的其他格式和输入类型。现在，让我们简单地关注第3部分中的下一个任务。我们将讨论表单和会话跟踪。</p></div></div>    
</body>
</html>