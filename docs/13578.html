<html>
<head>
<title>How To Connect to an AWS Elastic Beanstalk Instance via SSH</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过SSH连接到AWS Elastic Beanstalk实例</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-connect-to-an-aws-elastic-beanstalk-instance-via-ssh-ccae869d050?source=collection_archive---------4-----------------------#2022-09-08">https://betterprogramming.pub/how-to-connect-to-an-aws-elastic-beanstalk-instance-via-ssh-ccae869d050?source=collection_archive---------4-----------------------#2022-09-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="aee2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在AWS EB Linux实例中启用SSH访问</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fdb48bdb1b5578fa30f9e81dca1f5752.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qhuVAm0fs7cMaZ6c"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@writecodenow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Boitumelo Phetla </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d4f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近遇到了一个我无法解决的关于我的EB实例的问题。找出发生了什么的唯一方法是通过SSH直接访问实例。然而，通过SSH访问AWS Elastic Beanstalk Linux实例并不那么简单。要通过SSH访问EB实例，首先必须启用它。</p><p id="f95b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们看看需要做些什么来在AWS Elastic Beanstalk环境中启用SSH访问，并通过SSH访问EB Linux实例。</p><h1 id="7258" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">先决条件</h1><p id="fa9f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">开始之前，您需要设置一个有效的AWS EC2密钥对。</p><blockquote class="ms mt mu"><p id="8704" class="kz la mv lb b lc ld ju le lf lg jx lh mw lj lk ll mx ln lo lp my lr ls lt lu im bi translated">“由公钥和私钥组成的密钥对是一组安全凭证，用于在连接到Amazon EC2实例时证明您的身份。Amazon EC2在你的实例上存储公钥，你存储私钥。”<em class="it"> — </em> <a class="ae ky" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" rel="noopener ugc nofollow" target="_blank"> <em class="it">亚马逊EC2密钥对和Linux实例</em> </a></p></blockquote><p id="eeba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AWS文档声明"<em class="mv">对于Linux实例，私钥允许您安全地SSH到您的实例。</em>“因此，这就是为什么您需要一个AWS EC2密钥对。</p><p id="90a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">遵循AWS官方文档中的这个指南，了解如何设置有效的SSH密钥对。</p><p id="efee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">具体来说，检索一个<code class="fe mz na nb nc b">.pem</code>或<code class="fe mz na nb nc b">.ppk</code> SSH私有密钥。现在，您需要将您的密钥放在您的主目录下的<code class="fe mz na nb nc b">.ssh</code>目录中。</p><p id="1ed2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您是Linux或macOS用户，请将您的SSH私钥放在以下目录下:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="3fd4" class="nh lw it nc b gy ni nj l nk nl">~/.ssh</span></pre><p id="dc78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Windows计算机上，将SSH密钥文件放在以下目录中:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="ac3b" class="nh lw it nc b gy ni nj l nk nl">C:\Users\&lt;YOUR_ACCOUNT _NAME&gt;\.ssh</span></pre><p id="6559" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保用您的Windows帐户名称替换<code class="fe mz na nb nc b">&lt;YOUR_ACCOUNT_NAME&gt;</code>。</p><p id="bec3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这两种情况下，如果您没有<code class="fe mz na nb nc b">.ssh</code>目录，请创建一个。</p><h1 id="acff" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">SSH到AWS弹性Beanstalk Linux实例</h1><p id="caba" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">首先，进入您的本地Elastic Beanstalk应用程序目录。然后，启动以下命令:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="a30c" class="nh lw it nc b gy ni nj l nk nl">eb ssh</span></pre><p id="3e1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您的EB环境中没有启用SSH，您将得到以下错误:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="c5cd" class="nh lw it nc b gy ni nj l nk nl">ERROR: This environment is not set up for SSH. Use "eb ssh --setup" to set up SSH for the environment.</span></pre><p id="1457" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，按照错误消息的建议，运行下面的命令:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="6af0" class="nh lw it nc b gy ni nj l nk nl">eb ssh --setup</span></pre><p id="dc01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html" rel="noopener ugc nofollow" target="_blank"> EB CLI </a>将打印:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="a8ea" class="nh lw it nc b gy ni nj l nk nl">WARNING: You are about to setup SSH for environment "&lt;your_eb_environment_name&gt;". If you continue, your existing instances will have to be terminated and new instances will be created. The environment will be temporarily unavailable. </span><span id="671c" class="nh lw it nc b gy nm nj l nk nl">To confirm, type the environment name:</span></pre><p id="e12c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">键入您的EB环境的名称。请注意，您可以从消息的第一句中找到的<code class="fe mz na nb nc b">&lt;your_eb_environment_name&gt;</code>变量中复制它。</p><p id="13bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，<code class="fe mz na nb nc b">eb</code>将要求您选择您之前创建的SSH私有密钥。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="788a" class="nh lw it nc b gy ni nj l nk nl">Select a keypair.</span><span id="45e6" class="nh lw it nc b gy nm nj l nk nl">1. &lt;your_SSH_key_name&gt;<br/>2. [ Create new KeyPair ]<br/>(default is 1): </span></pre><p id="7a98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">键入<code class="fe mz na nb nc b">Enter</code>或<code class="fe mz na nb nc b">1</code>来选择您的SSH私钥。如果您没有将SSH私有密钥放在正确的目录中，如上所示，您将得到一个错误，过程将停止。</p><p id="d15a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，正如上面的<code class="fe mz na nb nc b">WARNING</code>消息中提到的，<code class="fe mz na nb nc b">eb</code>将终止您现有的实例，并用可以通过SSH访问的新实例来替换它们。</p><p id="9240" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以使用<code class="fe mz na nb nc b">eb ssh</code>命令SSH到您的EB实例中。启动时，将要求您选择想要通过SSH访问的EB实例，如下所示:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="73f5" class="nh lw it nc b gy ni nj l nk nl">Select an instance to ssh into<br/>1) i-0670eb7302902c011<br/>2) i-0898ccba32f30f4b8<br/>(default is 1):</span></pre><p id="aad8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">键入与您要访问的EB实例相关联的编号，您将获得以下结果:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="95a9" class="nh lw it nc b gy ni nj l nk nl">Amazon Linux 2 AMI</span><span id="17aa" class="nh lw it nc b gy nm nj l nk nl">This EC2 instance is managed by AWS Elastic Beanstalk. Changes made via SSH WILL BE LOST if the instance is replaced by auto-scaling. For more information on customizing your Elastic Beanstalk environment, see our documentation here: <a class="ae ky" href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/customize-containers-ec2.html" rel="noopener ugc nofollow" target="_blank">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/customize-containers-ec2.html</a></span></pre><p id="b79b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如该消息中提到的，请记住，一旦实例被销毁以缩小规模，通过SSH所做的任何更改都将丢失。</p><p id="a4c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以通过SSH在命令行中启动bash命令。</p><p id="86f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊！您刚刚学习了如何通过SSH访问您的EB实例。这对于监控它们、访问日志或调试特别有用。</p><h1 id="bedc" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="77a0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在本文中，您学习了如何使用<code class="fe mz na nb nc b">eb</code>启用SSH。具体来说，您了解了如何通过SSH访问AWS Elastic Beanstalk Linux实例。首先，您看到了如何生成EC2密钥对。然后，您看到了如何设置<code class="fe mz na nb nc b">eb</code>并使用您的SSH私有密钥SSH到EB Linux实例。这将允许您直接在实例中启动bash命令。</p><p id="a205" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！我希望这篇文章对你有所帮助。请随意留下任何问题、评论或建议。</p></div></div>    
</body>
</html>