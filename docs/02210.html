<html>
<head>
<title>Understanding Monte Carlo Methods Using Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Swift了解蒙特卡罗方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understanding-monte-carlo-methods-using-swift-82e0734b6e89?source=collection_archive---------10-----------------------#2019-11-13">https://betterprogramming.pub/understanding-monte-carlo-methods-using-swift-82e0734b6e89?source=collection_archive---------10-----------------------#2019-11-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8a8b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我们如何使用蒙特卡罗模拟来评估风险和回报？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f6433300e56db858f0d3131214567601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ctDkLRnDszQWQNBwlXYQ7w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔纳森·彼得森在<a class="ae ky" href="https://unsplash.com/s/photos/casino?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="7966" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些问题是不可能知道确切答案的。它们涉及随机变量，不能保证每次都有相同的值，这破坏了我们确定地得出结论的机会。当我们发现自己处于这种情况时，我们求助于概率理论。这篇文章介绍了蒙特卡罗方法，它可以让我们了解一个特定结果的可能性有多大。</p><p id="1171" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">用于执行模拟的代码是Github </strong>  <strong class="lb iu">上可用的</strong> <a class="ae ky" href="https://github.com/JimmyMAndersson/MonteCarloAnalysis" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">。</strong></a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="38be" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">什么是蒙特卡罗方法？</h1><blockquote class="mu"><p id="3546" class="mv mw it bd mx my mz na nb nc nd lu dk translated">蒙特卡罗方法或蒙特卡罗实验是一种广泛的计算算法，它依靠重复随机采样来获得数值结果。</p></blockquote><p id="a330" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">上面摘自维基百科的摘录<a class="ae ky" href="https://en.wikipedia.org/wiki/Monte_Carlo_method" rel="noopener ugc nofollow" target="_blank">目前可能无法澄清任何事情。然而，当我们浏览这个过程并查看一些示例时，您会发现它开始变得有意义了。</a></p><p id="66ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">赌场是一个完美的候选人，通过设置一些实验来探索这些方法。赌场都是关于机会的游戏，所以让我们看看是否有任何方法来预测我们赢的机会。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cc77" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设置实验</h1><p id="e29c" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">让我们假设你在轮盘赌游戏中押1美元在黑色、红色、奇数或偶数上。这些条件给我们1:1的支付，这意味着你要么赢，要么每轮输1美元。他们也给了我们38分之18的获胜机会，因为18个口袋要么是黑色，红色，奇数或偶数。让我们也将研究的范围限制在十个赌注的序列上。</p><p id="f0a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，一个赌徒可能会幸运地赢得10美元。如果所有回合都输了，他们也可能输掉10美元。因此，如果我们只研究一个赌徒，我们可能会得出这样的结论:有100%的机会赢。常识告诉我们，情况并非如此，因为我们可能会同时遭遇胜利和失败。让我们看看能否通过观察两个赌徒获得更多信息:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/58b37a82b7c86d4b4586dadc32c9055c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rSfzo58eJjZNrDws5cZEg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">十次轮盘赌上的两次单独现金滚动的开发。</p></figure><p id="1c04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个图表显示了两个个体赌徒的现金余额和他们在十轮轮盘赌中的发展。他们每个人的口袋里都有1000美元，我们用X轴上的0表示。在十次下注后，我们可以看到它们彼此偏离，它们的价值分别是996美元和1002美元。</p><p id="4142" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">计算每个人在游戏结束时的平均金额，我们可以得到平均金额为999美元。</p><p id="8fdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法看起来很有前途。如果我们看十个赌徒呢？还是1000？我们做5000个玩家吧。让我们也画一条白线代表他们的平均资金，这样我们就可以发现任何趋势。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/b9d777702d145732db16618303477c2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ONipxBjNLmEiN_BqcyhIxA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">10次轮盘赌赌注的5，000现金滚动的发展，以及趋势线。</p></figure><p id="288e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于组合空间限于1024条路径，上图中的一些线条会重叠。我们感兴趣的是趋势线，它代表了赌徒目前拥有的所有钱的平均值。斜率为负，意味着如果有足够多的人选择下十注，赌场肯定会赚钱。</p><p id="897d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，我们只研究了每个赌徒十次下注。让我们看看2000名玩家，下注100次:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/cdd0bc2e46a57a8bd95137e767367062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8pBWUnk5hnGsHS5GiIGn3w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">10次轮盘赌赌注的2，000现金滚动的发展，以及趋势线。</p></figure><p id="86cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个模拟中的趋势线与上一个相似。我们可以得出结论，轮盘赌不是赌场的机会游戏！<a class="ae ky" href="https://en.wikipedia.org/wiki/Law_of_large_numbers" rel="noopener ugc nofollow" target="_blank">大数法则</a>保证了他们从长远来看总能赚钱。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8c15" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">模拟其他游戏</h1><p id="7002" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我们已经确定，蒙特卡罗方法是在非确定性环境中发现趋势的一种不错的方式。现在，让我们看看你如何在上面<a class="ae ky" href="https://github.com/JimmyMAndersson/MonteCarloAnalysis" rel="noopener ugc nofollow" target="_blank"> Github repo </a>中的模拟器的帮助下模拟其他游戏。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">模拟器中使用的游戏协议声明。</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">模拟器中使用的GameRoundOutcome枚举。</p></figure><p id="9739" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看一下上面的代码。是什么让模拟器发挥它的魔力。通过实现这些属性和方法，您可以将任何您喜欢的游戏插入模拟器并进行测试。</p><p id="72b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">属性用于向用户显示游戏的名称。<code class="fe ns nt nu nv b">playRound(bet:)</code>方法是你游戏的所有逻辑所在。需要一个<code class="fe ns nt nu nv b">Double</code>类型的参数来知道玩家下注的金额。用这个来计算每一轮的奖金。</p><p id="dd78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ns nt nu nv b">GameRoundOutcome</code>枚举指定玩家是赢了、输了还是平了。<code class="fe ns nt nu nv b">.win</code>和<code class="fe ns nt nu nv b">.loss</code>获取一个关联的<code class="fe ns nt nu nv b">Double</code>类型的值，模拟器使用该值计算出玩家的资金余额应该增加或减少多少。我们来看看轮盘游戏是如何实现的，仅供参考:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一个轮盘游戏的实现。</p></figure><p id="8b39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ns nt nu nv b">gameName</code>属性非常简单，它只返回一个名称字符串。<code class="fe ns nt nu nv b">playRound(bet:)</code>方法生成一个在[1，38]范围内的随机整数。这意味着我们有38分之18的机会找到一个小于或等于18的数字。如果我们这样做了，我们返回一个<code class="fe ns nt nu nv b">.win</code>结果，并把金额加到玩家的余额中。如果随机数大于18，我们返回一个<code class="fe ns nt nu nv b">.loss</code>结果，并传递要从余额中扣除的金额。</p><p id="d138" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你实现了游戏，你把它添加到<code class="fe ns nt nu nv b">Simulator.swift</code>文件的<code class="fe ns nt nu nv b">_games</code>集合中，你就可以开始了。玩得开心！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/5198db70ca4de9b39225a1d4d2b7560e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*cBtigziQMq4L7imwV1NOHw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">快速浏览模拟器用户界面。</p></figure></div></div>    
</body>
</html>