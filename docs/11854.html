<html>
<head>
<title>Write and Generate Lightning Web Components Code Documentation Using JSDoc</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JSDoc编写和生成Lightning Web组件代码文档</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/write-and-generate-lwc-code-documentation-using-jsdoc-414ca16d6dd5?source=collection_archive---------14-----------------------#2022-04-21">https://betterprogramming.pub/write-and-generate-lwc-code-documentation-using-jsdoc-414ca16d6dd5?source=collection_archive---------14-----------------------#2022-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e7ce" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">提高LWC的文档质量</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/66754aa4e31793f4b1e19c619c64497a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I8fZhaT14zOrzsZK0ettjA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Hello World LWC的示例JSDoc代码文档</p></figure><p id="828d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">没有一个开发人员真的喜欢编写大量的代码文档，尤其是当它是一个远离实际代码的独立文档时。然而，拥有写得好的文档当然是非常重要的。</p><p id="d3f0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们以LWC库为例，它为其他人提供了可重用的或样本的组件。至关重要的是，应该从中受益的每个人都了解特定组件的工作原理以及如何使用它。</p><p id="5ad7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">幸运的是，使用<a class="ae lu" href="https://www.npmjs.com/package/jsdoc" rel="noopener ugc nofollow" target="_blank"> JSDoc </a>，有一种简单的方法可以从我们代码中合理编写的注释中自动生成各种格式的干净文档。</p><h1 id="aa28" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">将JSDoc与Lightning Web组件一起使用</h1><p id="be4c" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">通过用适当的标签对我们的类和公共属性进行适当的注释和标记，我们可以在以后从我们的组件中自动生成一个格式良好的内聚文档。</p><p id="3c71" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了实现上面显示的Hello World示例组件的文档，其代码必须注释如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有JSDoc注释的Hello World示例LWC</p></figure><p id="0416" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">关于正确使用JSDoc注释、注解和标签的更多信息，请参考这里的官方文档<a class="ae lu" href="https://jsdoc.app/" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="05f3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">安装JSDoc</h1><p id="362b" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">首先，我们需要通过npm安装最新的JSDoc版本。作为当前SFDX项目的开发依赖项，我们可以在全局或本地实现这一点。让我们在本地安装它，并通过运行以下命令将其保存在我们项目的<code class="fe mu mv mw mx b">package.json</code>文件中:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="192c" class="nc lw it mx b gy nd ne l nf ng">npm install --save-dev jsdoc</span></pre><p id="de85" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您仍然希望在全局范围内安装它，只需运行以下命令:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="4608" class="nc lw it mx b gy nd ne l nf ng">npm install -g jsdoc</span></pre><h1 id="0f14" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">创建JSDoc配置</h1><p id="1ab1" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">安装之后，我们仍然需要为JSDoc创建适当的配置。为此，我们在SFDX项目的根目录下创建一个新的<code class="fe mu mv mw mx b">jsdoc.config.json</code>文件，其内容如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用于生成LWC文档的JSDoc配置</p></figure><p id="bfdd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为我们暂时只想生成Lightning Web组件的文档，所以我们定义了相应的源目录。我们还指定我们只想考虑组件的JavaScript文件，而忽略HTML模板、CSS样式和类似的东西。</p><p id="d615" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还设置了一个新目录<code class="fe mu mv mw mx b">/docs</code>,作为我们生成的文档的输出目录。通过在末尾添加“readme”选项，我们额外定义了项目根目录中的<code class="fe mu mv mw mx b">README.md</code>应该用作我们生成的文档的第一页。</p><p id="cd08" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">总而言之，这是一个示例配置，可以根据需要使用许多其他选项进行定制。</p><h1 id="2e04" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">生成文档</h1><p id="8175" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">在用适当的JSDoc注释注释了所有组件并完成JSDoc设置后，我们最终可以生成我们的文档文件。为了便于使用，我们将以下命令添加到我们的<code class="fe mu mv mw mx b">package.json</code>文件的“脚本”部分:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/f85420515ab22f276cdda64f33e0fac6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4mdNXeRFrVzYpu2ZWRblIg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用JSDoc生成LWC代码文档的脚本</p></figure><p id="5f7e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们可以使用以下命令生成文档:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="6d3b" class="nc lw it mx b gy nd ne l nf ng">npm run docs:lwc</span></pre><p id="27b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">生成的代码文档现在可以在我们项目中新生成的<code class="fe mu mv mw mx b">/docs</code>目录中找到。</p><h1 id="ca38" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="4b05" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated"><a class="ae lu" href="https://jsdoc.app/" rel="noopener ugc nofollow" target="_blank"> JSDoc </a>可以被视为用JavaScript编写和生成代码文档的标准方法。因此，当然，它对于Lightning Web组件也非常适用。如本文所示，设置也相对简单，只需要对代码进行适当的注释，就可以生成文档。</p><p id="8eff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，我们创建的文档生成脚本也可以在自动化管道中运行，例如，在引入代码更改之后，创建更新的文档，然后自动将其发布到某个地方。</p><p id="78e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你对这个话题还有任何问题，或者想提出改进的建议，请在下面留下你的评论。</p></div></div>    
</body>
</html>