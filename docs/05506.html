<html>
<head>
<title>Create an Invalid Username and Password Animation in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中创建无效用户名和密码动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-an-invalid-username-and-password-animation-in-swiftui-72fb4c52f7b6?source=collection_archive---------8-----------------------#2020-07-14">https://betterprogramming.pub/create-an-invalid-username-and-password-animation-in-swiftui-72fb4c52f7b6?source=collection_archive---------8-----------------------#2020-07-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f159" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当输入错误的凭据时，高亮显示并摇动文本栏</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/c64aabc3629ecc2690851dd5187723e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/1*ImVJ6q2C_MqrM8dSohhmKg.gif"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">代码示例结果</p></figure><p id="94ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本教程中，我们将创建代码来查看密码字段的登录尝试次数。最好不要让用户知道<em class="lq">哪个</em>字段有错误的数据。相反，突出显示用户名/电子邮件和密码字段——这使得入侵帐户更加困难。当然，还有其他安全措施，如双因素身份验证，但我将把这些留给另一个教程。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="d9fc" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">简单用户界面</h1><p id="ea3d" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我们将从在VStack中创建一个带有登录文本的视图结构开始。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/8372ac6a48ad4521cd16b5cdd94f1892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*V_KDegRmzrJ-9IC94U_z6g.png"/></div></figure><p id="d05a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">声明用户名/电子邮件和密码变量以存储用户输入的值，然后创建用户名/电子邮件和密码字段并将其添加到VStack中。使<code class="fe mw mx my mz b">Password</code>字段成为<code class="fe mw mx my mz b">SecureField</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/b846990dce9c279e5565605192dd8c9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*BQ_LFldWGH6M-oNPJoxepQ.png"/></div></figure><p id="2d71" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以使用一些SF符号来自定义您的字段。下面我有一个名为<code class="fe mw mx my mz b">person</code>的用户名和<code class="fe mw mx my mz b">lock</code>的密码符号。用相关的<code class="fe mw mx my mz b">TextField</code>将图像插入<code class="fe mw mx my mz b">HStacks</code>内。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/4dd0962cfee42aa4cd104ab022948529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*cR0ENMbZj-xjQBDu0FOyzw.png"/></div></figure><p id="c9cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将忘记密码、登录和注册按钮添加到同一个VStack以完成UI，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/51c35ad58bbd8db6698331028accad1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*Bxydd5PiChhCFb890q8tjQ.png"/></div></figure><p id="f7e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们已经设置好了所有的UI元素。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/cf823fd92c92db016b8ab5f8aa66caae.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*8VHPYhZM-dEEI3LzuNyCuA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">应用程序的简单用户界面</p></figure><h1 id="b80c" class="ly lz it bd ma mb nb md me mf nc mh mi jz nd ka mk kc ne kd mm kf nf kg mo mp bi translated">动画</h1><p id="427d" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">接下来，我们使用<code class="fe mw mx my mz b">GeometryEffect</code>制作震动效果。根据需要调整变量。<code class="fe mw mx my mz b">travelDistance</code>将影响<code class="fe mw mx my mz b">TextField</code>水平移动的距离。<code class="fe mw mx my mz b">numOfShakes</code>是<code class="fe mw mx my mz b">TextField</code>会晃动的次数。<code class="fe mw mx my mz b">animatableData</code>是从<code class="fe mw mx my mz b">LoginView</code>获取的尝试次数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/954b0f05c7d5d4fa2d6659e2354a08a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*_ct3NKu1CLBfevaZzdIWmw.png"/></div></figure><p id="dd16" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">声明一个变量来记录无效登录尝试的次数。添加一个覆盖来为包含我们的<code class="fe mw mx my mz b">TextField</code>的<code class="fe mw mx my mz b">HStacks</code>创建一个边界，然后添加一个修改器到接受我们的<code class="fe mw mx my mz b">ShakeEffect</code>的同一个<code class="fe mw mx my mz b">HStack</code>。</p><pre class="kj kk kl km gt ng mz nh ni aw nj bi"><span id="cde0" class="nk lz it mz b gy nl nm l nn no">@State <strong class="mz iu">var</strong> invalidAttempts = 0</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/1e5e3d2779cf0b976c4873a4e4e8aa97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*xuCffeA5dA9D0dYZkJAwTg.png"/></div></figure><p id="4cfa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<code class="fe mw mx my mz b">withAnimation</code>中，每次用户点击登录按钮时，增加无效尝试的次数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/0cab0130f24fa722037560a2c9ef0399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*uNDv5lzBA_x1YOASE8p_2Q.png"/></div></figure><p id="aa72" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">全部完成！接下来，您可以限制失败登录尝试的次数，以防止用户滥用您的服务器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/d228c53328615bdcab82cc7eb9cdd5c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/1*Y7VBKQQt3W3Zxmvczb_UrQ.gif"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">最终代码结果—高亮和摇动动画</p></figure></div></div>    
</body>
</html>