<html>
<head>
<title>Swift: Create a Beautiful Star Trail Using a Particle Emitter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">斯威夫特:使用粒子发射器创建一个美丽的恒星轨迹</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swift-create-a-beautiful-star-trail-using-a-particle-emitter-6bafc5112e41?source=collection_archive---------10-----------------------#2020-02-07">https://betterprogramming.pub/swift-create-a-beautiful-star-trail-using-a-particle-emitter-6bafc5112e41?source=collection_archive---------10-----------------------#2020-02-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0e4d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用简单的UIPanGestureRecognizer实现</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a0ba821636b487cde4bb24fe67f874f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/1*bcrb4-S6zvLD00aqZl4mDw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://icons8.com/icons/set/star-emoji" rel="noopener ugc nofollow" target="_blank">星形图标</a>由<a class="ae ky" href="https://icons8.com" rel="noopener ugc nofollow" target="_blank">图标8 </a>组成</p></figure><p id="f723" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个简短的教程中，我们将学习如何在Swift中创建星形轨迹。我们将使用Xcode操场，因为这是快速构建和测试东西的好方法。</p><p id="961c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">项目的<a class="ae ky" href="https://github.com/zafarivaev/StarTrail-ParticleEmitter" rel="noopener ugc nofollow" target="_blank">源代码可以在GitHub上获得。</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ee33" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我们开始吧</h1><p id="97cd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">首先，我们需要创建一个动画发生的基地<code class="fe mz na nb nc b">UIView</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="6ffa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要将<code class="fe mz na nb nc b">PlaygroundPage.current.liveView = SceneView()</code>设置为能够在点击蓝色的“播放”按钮时看到实时视图。</p><p id="2a17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们创建我们的恒星粒子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="3d6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是每个属性的描述:</p><ul class=""><li id="9cf4" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">birthRate</code>定义每秒发射的粒子数。</li><li id="132e" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">lifetime</code>定义一个粒子在屏幕上可见的秒数。</li><li id="9929" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">velocity</code>定义了粒子的初始速度。</li><li id="9f93" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">velocityRange</code>描述速度的变化量。</li><li id="d28c" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">emissionLongitude</code>定义发射的角度。</li><li id="c8a1" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">emissionRange</code>定义发射角度的变化量。</li><li id="efad" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">spinRange</code>定义粒子自旋的变化量。</li><li id="1a27" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">scale</code>对粒子进行放大。</li><li id="1b7f" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">scaleRange</code>定义放大倍率的范围。</li><li id="4997" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">alphaSpeed</code>是粒子的alpha属性在其生命周期中的变化量。</li><li id="199d" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe mz na nb nc b">contents</code>描述粒子的图像。在我们的例子中，它是一个星形图标。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3d5f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">添加星粒子</h1><p id="d0bc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">将<code class="fe mz na nb nc b">starParticle</code>属性添加到<code class="fe mz na nb nc b">SceneView</code>中:</p><p id="e3f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">let starParticle = StarParticle()</code></p><p id="66d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在需要创建一个<code class="fe mz na nb nc b">CAEmitterLayer</code>并将<code class="fe mz na nb nc b">starParticle</code>添加到<code class="fe mz na nb nc b">showStars()</code>方法中的<code class="fe mz na nb nc b">emitterCells</code>数组属性中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="4542" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经实现了我们的星形粒子发射器。现在，我们需要根据平移手势发射星星。让我们创建一个<code class="fe mz na nb nc b">UIPanGestureRecognizer</code>并将其添加到<code class="fe mz na nb nc b">SceneView</code>中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="c7ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">剩下的就是缺少的<code class="fe mz na nb nc b">handleTap()</code>方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="94f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们可以运行我们的<code class="fe mz na nb nc b">Playground</code>，点击并移动光标到<code class="fe mz na nb nc b">SceneView</code>，眼冒金星被发射出来:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/8ada028e22398c595a71ebc1256d48e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b1j2kX2NfQuMh-nhYc-ohw.png"/></div></div></figure><p id="0d03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>