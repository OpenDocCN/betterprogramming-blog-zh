<html>
<head>
<title>How to Use Colormaps with Matplotlib to Create Colorful Plots in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中使用Matplotlib和Colormaps创建彩色绘图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-colormaps-with-matplotlib-to-create-colorful-plots-in-python-969b5a892f0c?source=collection_archive---------0-----------------------#2019-06-04">https://betterprogramming.pub/how-to-use-colormaps-with-matplotlib-to-create-colorful-plots-in-python-969b5a892f0c?source=collection_archive---------0-----------------------#2019-06-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7b40" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用matplotlib色彩映射表将您的图表转换成视觉上更吸引人且更易访问的东西</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/66badaaca26993707ba5f113a57507cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBpmB6giu2CcMQ5g__f8dg.png"/></div></div></figure><h1 id="f345" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated"><strong class="ak">概述</strong></h1><p id="5b75" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">数据科学家是视觉故事讲述者，为了让这些故事栩栩如生，颜色在实现这一目标的过程中扮演着重要角色。使用流行的Python库<a class="ae mi" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> matplotlib </a>可以很容易地可视化数据。Matplotlib是一个2D可视化工具，允许创建散点图，条形图，直方图，等等。Matplotlib与<a class="ae mi" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas </a>配合得非常好，后者是Python中另一个用于数据分析的流行库。Pandas对于构建数据非常有用，然后用matplotlib绘制。</p><p id="f7d2" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">一旦您使用这些工具创建了一个地块，您就可以使用预定义的色彩映射表(matplotlib中内置的RGBA色彩集)轻松地为它们添加色彩。您甚至可以创建自己的matplotlib色彩映射表！</p><p id="3ce2" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">matplotlib色彩映射表的一个重要应用是使用它使您的工作对于色觉缺陷的人来说更容易理解。最常见的色觉缺陷是无法区分红色和绿色，因此避免将这些颜色放在一起是一个好主意。</p><p id="0936" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">在本文中，我将向您展示如何使用matplotlib色彩映射表将您的图表转换成视觉上更吸引人、更易于访问的东西。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="dbb2" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated"><strong class="ak">创建散点图</strong></h1><p id="47b2" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">首先，导入所需的两个库，pandas和matplotlib:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="1313" class="nf kv it nb b gy ng nh l ni nj">import pandas as pd<br/>import matplotlib.pyplot as plt</span></pre><p id="cdbc" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">现在，让我们使用任何数据集创建一个数据帧。我将使用来自<a class="ae mi" href="http://archive.ics.uci.edu/ml/index.php" rel="noopener ugc nofollow" target="_blank"> UCI机器学习库</a>的<a class="ae mi" href="https://archive.ics.uci.edu/ml/datasets/Wine" rel="noopener ugc nofollow" target="_blank">葡萄酒数据集</a>来创建将要绘制的数据帧。代码如下:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="1b55" class="nf kv it nb b gy ng nh l ni nj">wine_url = 'https://archive.ics.uci.edu/ml/machine-learning-databases/wine/wine.data'<br/> <br/>#define column headers<br/>wine_column_headers = ['Alcohol','Malic acid','Ash','Alcalinity of ash', 'Magnesium','Total phenols','Flavanoids','Nonflavanoid phenols','Proanthocyanins','Color intensity','Hue','OD280/OD315 of diluted wines','Proline']<br/>wine_df = pd.read_csv(wine_url, names = wine_column_headers)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/02893c54bfbee6485c57445438716d27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1bPRc7npoKSUP10C6i12gw.png"/></div></div><p class="nl nm gj gh gi nn no bd b be z dk translated">葡萄酒数据框架</p></figure><p id="847d" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">我对酒精含量和颜色强度之间的关系很好奇，所以我选择绘制这些变量。这是默认的散点图，代码如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/e30498b976da23cc42845d698b699a00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*2LUqctYoIlp0j5Uvg5p21g.png"/></div><p class="nl nm gj gh gi nn no bd b be z dk translated">默认散点图</p></figure><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="4db6" class="nf kv it nb b gy ng nh l ni nj">#figure<br/>fig, ax1 = plt.subplots()<br/>fig.set_size_inches(13, 10)<br/><br/>#labels<br/>ax1.set_xlabel('Alcohol')<br/>ax1.set_ylabel('Color Intensity')<br/>ax1.set_title('Relationship Between Color Intensity and Alcohol Content in Wines')<br/><br/>#plot<br/>plt.scatter( wine_df['Alcohol'], wine_df['Color intensity'], s = wine_df['Proline']*0.5)</span></pre><p id="eb25" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">现在我们有了默认的绘图，我们可以尝试改变颜色和不透明度，看看是什么样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/e6a3d8b180317dd66bea8175698d7681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/1*XBzbIVvgppIlC3KyAFQrdg.gif"/></div></figure><p id="5a1e" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">更好，但是让我们用彩色地图试试。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="1675" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated"><strong class="ak">色彩映射表的参数:C和Cmap </strong></h1><p id="f5e5" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">与色彩映射表的主要区别在于，它需要<em class="nr"> scatter() </em>中的参数<em class="nr"> c </em>和<em class="nr"> cmap </em>，而不是<em class="nr">颜色</em>。所以要使用matplotlib颜色图，我们需要用<em class="nr"> c </em>和<em class="nr"> cmap </em>替换之前使用的<em class="nr">颜色</em>参数。在此之前，让我们简要回顾一下这些术语代表什么。</p><p id="b495" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated"><strong class="lo iu"> <em class="nr"> c </em>代表一种颜色、序列或颜色序列</strong>，其可能值为:</p><ul class=""><li id="3876" class="ns nt it lo b lp mj ls mk lv nu lz nv md nw mh nx ny nz oa bi translated">单色格式字符串。</li><li id="4cdc" class="ns nt it lo b lp ob ls oc lv od lz oe md of mh nx ny nz oa bi translated">长度为n的颜色规格序列。</li><li id="64f2" class="ns nt it lo b lp ob ls oc lv od lz oe md of mh nx ny nz oa bi translated">要使用<em class="nr"> cmap </em>和<em class="nr">范数</em>映射到颜色的n个数字的标量或序列。</li><li id="7d2c" class="ns nt it lo b lp ob ls oc lv od lz oe md of mh nx ny nz oa bi translated">行是RGB或RGBA的2D数组。</li></ul><p id="2801" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">在这种情况下，我们的c将是第三个选项，“使用<em class="nr"> cmap </em>和<em class="nr"> norm映射到颜色的标量或n个数字的序列。”</em></p><p id="3790" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated"><strong class="lo iu"> <em class="nr"> cmap </em>代表colormap </strong>，它是一个colormap实例或注册的colormap名称(<em class="nr"> cmap </em>只有在<em class="nr"> c </em>是一个floats数组时才有效)。</p><p id="a108" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">Matplotlib色彩映射表分为以下几类:连续、发散和定性。您可以在<a class="ae mi" href="https://matplotlib.org/examples/color/colormaps_reference.html" rel="noopener ugc nofollow" target="_blank">文档</a>中查看所有色彩映射表的配色方案，下面列出了当前可用的色彩映射表名称(它们区分大小写！):</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="04c8" class="nf kv it nb b gy ng nh l ni nj"><strong class="nb iu">Perceptually Uniform Sequential <br/></strong>['viridis', 'plasma', 'inferno', 'magma']</span><span id="9332" class="nf kv it nb b gy og nh l ni nj"><strong class="nb iu">Sequential <br/></strong>['Greys', 'Purples', 'Blues', 'Greens', 'Oranges', 'Reds', 'YlOrBr', 'YlOrRd', 'OrRd', 'PuRd', 'RdPu', 'BuPu', 'GnBu', 'PuBu', 'YlGnBu', 'PuBuGn', 'BuGn', 'YlGn']</span><span id="53be" class="nf kv it nb b gy og nh l ni nj"><strong class="nb iu">Sequential (2)</strong><br/>['binary', 'gist_yarg', 'gist_gray', 'gray', 'bone', 'pink', 'spring', 'summer', 'autumn', 'winter', 'cool', 'Wistia', 'hot', 'afmhot', 'gist_heat', 'copper']</span><span id="1fdb" class="nf kv it nb b gy og nh l ni nj"><strong class="nb iu">Diverging</strong><br/>['PiYG', 'PRGn', 'BrBG', 'PuOr', 'RdGy', 'RdBu', 'RdYlBu', 'RdYlGn', 'Spectral', 'coolwarm', 'bwr', 'seismic']</span><span id="664e" class="nf kv it nb b gy og nh l ni nj"><strong class="nb iu">Qualitative</strong><br/>['Pastel1', 'Pastel2', 'Paired', 'Accent', 'Dark2', 'Set1', 'Set2', 'Set3', 'tab10', 'tab20', 'tab20b', 'tab20c']</span><span id="8189" class="nf kv it nb b gy og nh l ni nj"><strong class="nb iu">Miscellaneous</strong><br/>['flag', 'prism', 'ocean', 'gist_earth', 'terrain', 'gist_stern', 'gnuplot', 'gnuplot2', 'CMRmap', 'cubehelix', 'brg', 'hsv', 'gist_rainbow', 'rainbow', 'jet', 'nipy_spectral', 'gist_ncar']</span></pre></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="f78e" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">使用Matplotlib色彩映射表绘图</h1><p id="77aa" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">值<em class="nr"> c </em>需要是一个数组，所以在这个例子中我将它设置为<em class="nr">wine _ df[' Color intensity ']</em>。您还可以使用<em class="nr"> numpy.arange() </em>创建一个与dataframe长度相同的numpy数组，并将该值设置为c。在选择色彩映射表时，我喜欢稍微考虑一下数据通常会与什么颜色相关联，并从那里开始。我选择在这个例子中使用“RdPu ”,因为这是你会遇到的葡萄酒的颜色。</p><p id="80e3" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">将它应用到前面的图中，我们得到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/52de84affa6e71c6d2b3a94bd7fa0cf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3xdoEhbcJhDh7MjCjix4tA.png"/></div></div><p class="nl nm gj gh gi nn no bd b be z dk translated">带彩色地图的散点图</p></figure><p id="f765" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">下面是将色彩映射表应用于原始绘图并生成上图的最终代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="a20a" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">您也可以通过在任何颜色代码的末尾添加“_r”来颠倒任何颜色图上的颜色顺序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/1032278a0d098b7747ad69a52dd33ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/1*0_up7IQ6wRoJystMgbUdTA.gif"/></div></figure><p id="0472" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">有如此多的色彩映射表选项可供选择。这里有几个应用于相同的情节，并命名为颜色代码，所以你可以很容易地测试你喜欢什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/05e79456b4390d56d47f93ee574a2341.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tt5wC43u4oddkepO8hhTpQ.png"/></div></div><p class="nl nm gj gh gi nn no bd b be z dk translated">不同的色彩映射表选项</p></figure><p id="895c" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">这就是:matplotlib彩色地图在散点图上的简单应用。</p><p id="aa0f" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">在推特上找我<a class="ae mi" href="https://twitter.com/elizabethets" rel="noopener ugc nofollow" target="_blank"> @elizabethets </a>！</p><p id="9cf3" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated"><strong class="lo iu">来源</strong>:</p><div class="ol om gp gr on oo"><a href="https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.scatter.html" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">Matplotlib . py plot . scatter-Matplotlib 3 . 1 . 0文档</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">编辑描述</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">matplotlib.org</p></div></div><div class="ox l"><div class="oy l oz pa pb ox pc ks oo"/></div></div></a></div><div class="ol om gp gr on oo"><a href="https://matplotlib.org/3.1.0/tutorials/colors/colormaps.html#overview" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">在Matplotlib - Matplotlib 3.1.0文档中选择色彩映射表</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">Matplotlib有许多内置的色彩映射表，可以通过。还有外部库，如[palettable]和…</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">matplotlib.org</p></div></div><div class="ox l"><div class="pd l oz pa pb ox pc ks oo"/></div></div></a></div><div class="ol om gp gr on oo"><a href="https://matplotlib.org/examples/color/colormaps_reference.html" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">颜色示例代码:colormaps _ reference . py-Matplotlib 2 . 0 . 2文档</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">编辑描述</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">matplotlib.org</p></div></div><div class="ox l"><div class="pe l oz pa pb ox pc ks oo"/></div></div></a></div><p id="fade" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated"><a class="ae mi" href="https://archive.ics.uci.edu/ml/datasets/Wine" rel="noopener ugc nofollow" target="_blank">https://archive.ics.uci.edu/ml/datasets/Wine</a></p></div></div>    
</body>
</html>