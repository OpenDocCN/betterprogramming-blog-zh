<html>
<head>
<title>Displaying iOS Alerts Using UIAlertController and SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用UIAlertController和SwiftUI显示iOS警报</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/guide-how-to-display-modal-alert-on-ios-with-help-of-uialertcontroller-21c54812c9a2?source=collection_archive---------5-----------------------#2022-02-18">https://betterprogramming.pub/guide-how-to-display-modal-alert-on-ios-with-help-of-uialertcontroller-21c54812c9a2?source=collection_archive---------5-----------------------#2022-02-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="138d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">具有多个按钮的提醒，带有编辑字段、行动表、活动视图、iPad上的弹出窗口和SwiftUI evolution </strong></h2></div><h1 id="c0d6" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">警报简介</h1><p id="db61" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在iOS中，有几种方法可以显示一些模态消息。向用户传递信息，并选择性地获得一些反馈。最常用的是警报和行动表。类似于次级选项的还有活动视图和弹出窗口。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi lt"><img src="../Images/5ce47c5a2bd38d229fcc5ba482e6f10a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzm4sqHigu8fhtc0NkvxlQ.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">苹果公司的警告与行动表</p></figure><h1 id="d376" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">警报</h1><p id="dccf" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">警报是最常用也是最简单的。<code class="fe mj mk ml mm b">UIAlertController</code>是其中最重要的部分。</p><p id="0537" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">警报包含几个要素:</p><ul class=""><li id="531a" class="ms mt iq kz b la mn ld mo lg mu lk mv lo mw ls mx my mz na bi translated"><strong class="kz ir">标题</strong>:代表标题。大概是什么内容</li><li id="6567" class="ms mt iq kz b la nb ld nc lg nd lk ne lo nf ls mx my mz na bi translated"><strong class="kz ir">消息</strong>:表示警报更广泛的描述部分</li><li id="53c7" class="ms mt iq kz b la nb ld nc lg nd lk ne lo nf ls mx my mz na bi translated"><strong class="kz ir">预警类型</strong>:表示要显示的预警类型</li><li id="4d92" class="ms mt iq kz b la nb ld nc lg nd lk ne lo nf ls mx my mz na bi translated"><strong class="kz ir">警报动作</strong>:这些是用户可以与警报或动作表交互的动作选项。</li><li id="f009" class="ms mt iq kz b la nb ld nc lg nd lk ne lo nf ls mx my mz na bi translated"><strong class="kz ir">警告文本字段</strong>:表示供用户输入的选项</li></ul><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi lt"><img src="../Images/257c4fa16f4217f0f350b88bc97e5d8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GBaajeDRhKZrV4rdajsj7A.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">警报及其组件的示例</p></figure><blockquote class="ng nh ni"><p id="ac12" class="kx ky nj kz b la mn jr lc ld mo ju lf nk mp li lj nl mq lm ln nm mr lq lr ls ij bi translated">提醒传达与您的应用程序或设备状态相关的重要信息。警报由标题、可选消息、一个或多个按钮以及用于收集输入的可选文本字段组成。除了这些可配置的元素，您不能自定义警报的可视外观。—苹果人机界面指南</p></blockquote><h2 id="20c8" class="nn kg iq bd kh no np dn kl nq nr dp kp lg ns nt kr lk nu nv kt lo nw nx kv ny bi translated">带有标题、副标题和一个按钮的简单警告</h2><p id="732a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这种警报消息类型是最简单的。它的行为就像一些信息消息。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/43b2021f9e385cb4ee13ef699bb48b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:508/format:webp/1*LrRHpELBZh5F-B0MtvFc7g.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带有标题、副标题和一个按钮的简单提醒</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">如何创建简单警报的代码</p></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/86a7b398b5d04087e7df3d667499b7d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:508/format:webp/1*BODnZihzwaRx57Kp1E0f1w.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">警报信息值为<strong class="bd oc">零</strong></p></figure><p id="6b5a" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">如果<code class="fe mj mk ml mm b">message</code>参数得到<code class="fe mj mk ml mm b">nil</code>作为值，那么只有一行，标题将被呈现。</p><h2 id="3054" class="nn kg iq bd kh no np dn kl nq nr dp kp lg ns nt kr lk nu nv kt lo nw nx kv ny bi translated">带有两个按钮的警告消息</h2><p id="51f1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">你可以注意到“取消<strong class="kz ir">”</strong>按钮是加粗的。这是通过选择<code class="fe mj mk ml mm b">style</code>作为<code class="fe mj mk ml mm b">cancel</code>来实现的。此外，如果你支持以前的iOS版本，那么这可能会有轻微的差异。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi od"><img src="../Images/8116c1ed1bfcd9aef810f6010119f0bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*bPeJWGhHXgMurwuxOshW8Q.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带有两个按钮的警告消息</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">如何用两个按钮创建警告消息的代码</p></figure><h2 id="a56e" class="nn kg iq bd kh no np dn kl nq nr dp kp lg ns nt kr lk nu nv kt lo nw nx kv ny bi translated">带有3个按钮的警告消息</h2><p id="bbef" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">以前的警告让按钮垂直对齐。如果您添加3个按钮，系统会自动将它们在空间中垂直对齐。</p><p id="2660" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">在这个<code class="fe mj mk ml mm b">Alert</code>中，我们还使用了<code class="fe mj mk ml mm b">destructor</code>样式，将文本涂成红色。它主要用于删除、移除等操作。任何可以向用户表明这个操作可以做一些永久改变的东西。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/769acf2d9fb6a04a967acfeba43c9aab.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*wn44IDA-4GWq3DCmvv7aEw.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带有3个按钮的警告消息</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">代码如何创建3个按钮的警告信息</p></figure><h2 id="0769" class="nn kg iq bd kh no np dn kl nq nr dp kp lg ns nt kr lk nu nv kt lo nw nx kv ny bi translated">带文本字段的警告消息</h2><p id="19f5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这是最有趣的警报。当你想在列表中添加一些项目时，可以使用这个。当你想编辑一些用户字段，如姓名，手机号码。任何编辑字段。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi od"><img src="../Images/013e11a516dba5aaaef2b942588e7251.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*kpxkw2i6M-OuvdhwugYtOw.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带文本字段的警告消息</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">如何用文本字段创建警告消息的代码</p></figure><h2 id="430b" class="nn kg iq bd kh no np dn kl nq nr dp kp lg ns nt kr lk nu nv kt lo nw nx kv ny bi translated">没有按钮的警告消息</h2><p id="5d17" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这是可能的，但我没看到这有什么用。这将显示一条消息并阻止屏幕。你不能忽视它。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi of"><img src="../Images/61a88e3926151017b3dd8f0f4298e0de.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*jVycbFy5karEg10zxCwcSg.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">没有按钮的警告消息</p></figure><h1 id="7a84" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">行动表</h1><p id="669e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">行动单属于<code class="fe mj mk ml mm b">UIAlertController</code>家族。但它是从屏幕底部呈现的。</p><blockquote class="ng nh ni"><p id="773d" class="kx ky nj kz b la mn jr lc ld mo ju lf nk mp li lj nl mq lm ln nm mr lq lr ls ij bi translated">动作表呈现与有意的用户动作相关的两个或更多选择。在较小的屏幕上，动作表从屏幕底部向上滑动；在更大的屏幕上，一个动作表会以弹出窗口的形式同时出现。—苹果人机界面指南</p></blockquote><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi lt"><img src="../Images/ba5bdd5ce4dcd6edd3cd267da6488138.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eHyr-6sklQvOBUIV6e38nw.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">行动表与警报</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">如何创建动作表的代码</p></figure><p id="6ed9" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">如果你在iPad上运行这段代码，它会崩溃。iPad需要知道<code class="fe mj mk ml mm b">UIAlertController</code>的位置，因为它出现在弹出控制器内部。要修复这个崩溃，我们需要在显示动作表之前添加下一行。</p><pre class="lu lv lw lx gt og mm oh oi aw oj bi"><span id="022b" class="nn kg iq mm b gy ok ol l om on">alert.popoverPresentationController?.sourceView = view<br/>alert.popoverPresentationController?.sourceRect = button.frame</span></pre><p id="0989" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">现在动作表将从源代码显示在按钮上。</p><h1 id="11d6" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">活动视图</h1><p id="c0ab" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">该系统提供了几种标准服务，如将项目复制到粘贴板，将内容发布到社交媒体网站，通过电子邮件或短信发送项目，等等。应用程序还可以定义自定义服务。它主要用于分享内容。可以处理共享文本，网址，图像等。这不是向用户呈现某些选项的常规方式，但仍然属于与用户交流的“模态”视图方式。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi lt"><img src="../Images/c0c7e4ed93eb513bd9afd9589ed385dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Atw2kU6VlInQ1u90qoTEbg.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">Apple的活动视图</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">活动视图代码示例</p></figure><h1 id="21d7" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">松饼</h1><p id="a3f3" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">弹出式菜单是在iPad上有模式地呈现内容的特殊方式。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi oo"><img src="../Images/7b7c5913ec29cac07ea7e3ec0f8fd431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jhTf61YGdbPnV07SBLdHOA.png"/></div></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">苹果在iPad上弹出的例子</p></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi op"><img src="../Images/11ac461ba904624aa39971526e9e4395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*omJFOpEnTbRE-qsF6r4cXQ.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">自定义弹出窗口示例</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">Popovers代码示例</p></figure><p id="6455" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">代码示例可以在下一个链接<a class="ae oq" href="https://github.com/skyspirit86/Alerts" rel="noopener ugc nofollow" target="_blank"> GitHub </a>找到。</p><h1 id="dbef" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">SwiftUI警报</h1><p id="7f90" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir"> SwiftUI </strong>中的提醒和UIKit中的提醒非常相似，都是考虑UI的。至于SwiftUI开发，要看你用的是什么iOS版本。从iOS 13到iOS 15，提醒在不断发展变化。但是原理是一样的。</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi or"><img src="../Images/b9223bf8d80050182c87acd115ddba54.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*nqCeLUWZoZoqtLgvKg1mTg.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带两个按钮的swift ui Alert IOs 13</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带两个按钮的SwiftUI警报代码iOS13</p></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/37a4388e0513a4b0bdcba28d5ee79098.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*WKmbab5cxURWZn48EYEaCA.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">更多按钮的SwiftUI提醒iOS13</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带更多按钮的SwiftUI警报代码iOS13</p></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi os"><img src="../Images/c6b818c254f880bf77bd8b1b522cc4a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*YmTn-XTRpYdDQlmgiMRLxg.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带2个按钮的swift ui Alert IOs 14</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带2个按钮的swift ui Alert IOs 14</p></figure><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/5760cc35fd65715891bc1c07fbd957f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*V4_mwrJaB6BhfzosJD2R1Q.png"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">带两个按钮的swift ui Alert IOs 15</p></figure><figure class="lu lv lw lx gt ly"><div class="bz fp l di"><div class="oa ob l"/></div><p class="mf mg gj gh gi mh mi bd b be z dk translated">SwiftUI警报iOS15</p></figure><p id="0943" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">如你所见，它是随着SwiftUI发展起来的。我现在想强调的是，现在的提醒比UIKit的更加个性化。</p><h1 id="e030" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">结尾部分</h1><p id="32e2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们已经学习了一些如何与用户进行模态交互的方法。警报、行动表、活动视图和弹出窗口。</p><p id="94b0" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated">如果你到了这一步，感谢你的阅读。你应该得到一杯咖啡☕️.🙂如果你喜欢的内容，请👏，分享，还有<a class="ae oq" href="https://varga-zolt.medium.com/" rel="noopener">跟着</a>，对我来说就是a的意思。如果您有一些建议或问题，请随时发表评论。</p><p id="0643" class="pw-post-body-paragraph kx ky iq kz b la mn jr lc ld mo ju lf lg mp li lj lk mq lm ln lo mr lq lr ls ij bi translated"><strong class="kz ir">想要连接？你可以在<a class="ae oq" href="https://www.linkedin.com/in/varga-zolt/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae oq" href="https://twitter.com/skyspirit86" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或<a class="ae oq" href="https://skyspiritlabs.com/" rel="noopener ugc nofollow" target="_blank">https://skyspiritlabs.com/</a>与我联系。还有更多文章和教程。</strong></p></div></div>    
</body>
</html>