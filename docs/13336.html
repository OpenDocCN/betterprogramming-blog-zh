<html>
<head>
<title>A Glimpse at Quarkus vs. Gin Gonic</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一瞥夸尔库斯对金·戈尼克</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-glimpse-at-quarkus-vs-gin-gonic-39be595e8c29?source=collection_archive---------15-----------------------#2022-08-17">https://betterprogramming.pub/a-glimpse-at-quarkus-vs-gin-gonic-39be595e8c29?source=collection_archive---------15-----------------------#2022-08-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="24bd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">带有微服务框架的quick REST API</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f41396c0266ceff6df54e1cfeefc55b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNbtcI0MBxLLV7D9xGp9Dg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自<a class="ae kv" href="https://unsplash.com/photos/QckxruozjRg" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的背景图片。由作者使用网上免费图片编辑。</p></figure><p id="0f70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很长一段时间以来，我一直希望检验一些最新和最著名的web框架。在这篇文章中，我想看看<a class="ae kv" href="https://medium.com/codex/its-time-for-great-devex-because-happy-developers-write-better-code-701834efcd36" rel="noopener"> DevEx </a>的以下技术。</p><p id="26c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我想看看的网络框架:</strong></p><ol class=""><li id="be2a" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank">用<a class="ae kv" href="https://github.com/gin-gonic/gin" rel="noopener ugc nofollow" target="_blank">轧花机角度</a>进行</a></li><li id="1b5d" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://www.java.com/de/" rel="noopener ugc nofollow" target="_blank"> Java </a>与<a class="ae kv" href="https://quarkus.io/" rel="noopener ugc nofollow" target="_blank"> Quarkus </a></li></ol><h2 id="0738" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">要求</h2><p id="5b2d" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">为了让这一瞥成为可能，我们需要一个小应用程序，它可以很容易地构建，但包含现代web应用程序的功能。这就是为什么我选择了——谁能想到呢——一款天气应用。<br/>用户可以接收他搜索的城市的天气信息。<br/>它的数据将来自使用REST的免费第三方API。<br/>城市搜索也是如此API将为此提供支持。<br/>我不会对接收到的数据做任何事情，只是简单地将JSON响应隧道化。</p><p id="1790" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">基础架构</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/2914ca194afaf8242602c9ce6200dbf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2yWYnPbnBXUKLc0SbQgr3w.png"/></div></div></figure><p id="a80c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们坚持一个简单的架构。我们有一个后端服务。这将与<a class="ae kv" href="https://openweathermap.org/" rel="noopener ugc nofollow" target="_blank"> openweathermap </a>的API进行通信。然后，服务将使用简单的REST API向客户端提供数据。我们假设的前端可以简单地调用GET /weather/:name。</p><h1 id="c81a" class="nf mh iq bd mi ng nh ni ml nj nk nl mo jw nm jx mr jz nn ka mu kc no kd mx np bi translated">和金·高尼克一起去</h1><p id="01cc" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我将使用版本<a class="ae kv" href="https://golang.org/dl/go1.16.6.src.tar.gz" rel="noopener ugc nofollow" target="_blank">T25】1 . 16 . 6。 </a> <strong class="ky ir"> <br/> </strong>在文档中你可以找到一个很有价值的l <a class="ae kv" href="https://golang.org/doc/tutorial/web-service-gin" rel="noopener ugc nofollow" target="_blank"> ink </a>，里面有一个很棒的关于用Gin开发restful API的教程。这正是我们所需要的！</p><div class="kg kh ki kj gt ab cb"><figure class="nq kk nr ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/a81016552c4175b76c91acbdd8ad9f82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*-s2org1FYs6ykQGQkblITQ.png"/></div></figure><figure class="nq kk nw ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/f44971bcbeef0592331e3ac6db5eb8c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*Kg3nBkxjvuAjZlBhsrlylg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk nx di ny nz translated">网站包含运行程序和Windows安装程序</p></figure></div><p id="249b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装后—不要忘记用GOPATH设置环境变量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/5300675df0e729cba648238c5ad451f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N3P1d1wgyjqSqAZn0Gl5KA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">环境变量</p></figure><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="94b5" class="mg mh iq oc b gy og oh l oi oj">$ mkdir wetterapp-gin<br/>$ go mod init davidminkovski.com/wetterapp-gin</span></pre><p id="9b2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们为天气应用程序创建文件夹并初始化。<br/>我按照教程创建了一个测试API。<br/>对于IDE，我使用了<a class="ae kv" href="https://minkovski-d.medium.com/meine-top-vscode-extensions-2021-61ebbae690d4" rel="noopener"> Visual Studio代码</a>。</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="eb3c" class="mg mh iq oc b gy og oh l oi oj">package main</span><span id="66a3" class="mg mh iq oc b gy ok oh l oi oj">import (<br/> "github.com/gin-gonic/gin"<br/> "net/http"<br/>)</span><span id="018f" class="mg mh iq oc b gy ok oh l oi oj">type <strong class="oc ir">city </strong>struct {<br/> ID   string `json:"id"`<br/> Name string `json:"name"`<br/>}</span><span id="57c8" class="mg mh iq oc b gy ok oh l oi oj">var <strong class="oc ir">cities </strong>= []city{<br/> {ID: "1", Name: "Frankfurt am Main"},<br/> {ID: "2", Name: "Köln"},<br/>}</span><span id="085c" class="mg mh iq oc b gy ok oh l oi oj">func <strong class="oc ir">main</strong>() {<br/> router := gin.Default()<br/> router.GET("/cities", getCities)<br/> router.Run("localhost:8080")<br/>}</span><span id="54f6" class="mg mh iq oc b gy ok oh l oi oj">func <strong class="oc ir">getCities</strong>(c *gin.Context) {<br/> c.IndentedJSON(http.StatusOK, cities)<br/>}</span></pre><p id="b28c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在还有两个命令需要执行。第一个加载依赖项，第二个启动服务器。</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="ea6d" class="mg mh iq oc b gy og oh l oi oj">$ go get .<br/>$ go start .</span></pre><div class="kg kh ki kj gt ab cb"><figure class="nq kk ol ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/c6b097ad6833d166ced171156760202d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1574/format:webp/1*Enq6JGRX9DbLLcBk5Xfvng.png"/></div></figure><figure class="nq kk om ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/a4838c7213ae15df684f8100925be53c.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*kwOu0oGGcohxAjN574BEvw.png"/></div></figure></div><p id="c836" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好吧，那真是太快了。<strong class="ky ir"> 30分钟后</strong>我和我的休息API。<br/>现在我想查询天气API。<a class="ae kv" href="https://medium.com/r?url=https%3A%2F%2Fpkg.go.dev%2Fnet%2Fhttp" rel="noopener">那边</a>你去吧。</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="dd1d" class="mg mh iq oc b gy og oh l oi oj">package main</span><span id="403d" class="mg mh iq oc b gy ok oh l oi oj">import (<br/> "github.com/gin-gonic/gin"<br/> "io/ioutil"<br/> "log"<br/> "net/http"<br/>)</span><span id="216e" class="mg mh iq oc b gy ok oh l oi oj">func <strong class="oc ir">main</strong>() {<br/> router := gin.Default()<br/> router.GET("/weather/:name", getWeatherForCity)<br/> router.Run("localhost:8080")<br/>}</span><span id="3192" class="mg mh iq oc b gy ok oh l oi oj">func <strong class="oc ir">getWeatherForCity</strong>(c *gin.Context) {<br/> name := c.Param("name")<br/> key := "MY_API_KEY"</span><span id="ee64" class="mg mh iq oc b gy ok oh l oi oj">res, err := http.Get("<a class="ae kv" href="http://api.openweathermap.org/data/2.5/weather?q=" rel="noopener ugc nofollow" target="_blank">http://api.openweathermap.org/data/2.5/weather?q=</a>" + name + "&amp;appid=" + key)<br/> if err != nil {<br/>  log.Fatal(err)<br/> }<br/> responseData, err := ioutil.ReadAll(res.Body)<br/> if err != nil {<br/>  log.Fatal(err)<br/> }<br/> c.Data(http.StatusOK, "application/json", responseData)</span><span id="c341" class="mg mh iq oc b gy ok oh l oi oj">}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/4488b2b811b5d021f71dbddaa9b9c99f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fovh0Fp04bn1lOgCdggnxw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">API调用的JSON响应</p></figure><p id="4774" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">就是这样！我有一个简单的Web API服务器，可以用来查询城市名称的天气数据。我必须说，作为一个JS或Java背景的人，理解和习惯新的语法和语言特性需要一些时间，但是这种速度真令人惊叹！</strong></p><h2 id="99e5" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">评级</h2><ol class=""><li id="da66" class="ls lt iq ky b kz mz lc na lf oo lj op ln oq lr lx ly lz ma bi translated"><em class="or">易用性</em> : 1/3</li><li id="d6ba" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">速度:3/3</li><li id="3a86" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><em class="or">文档</em> : 2/3</li></ol><h1 id="6834" class="nf mh iq bd mi ng nh ni ml nj nk nl mo jw nm jx mr jz nn ka mu kc no kd mx np bi translated">Java和Quarkus</h1><p id="24b1" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我将使用<a class="ae kv" href="https://quarkus.io/get-started/" rel="noopener ugc nofollow" target="_blank"> Quarkus </a>版本<strong class="ky ir"> 2.1.0。</strong></p><div class="kg kh ki kj gt ab cb"><figure class="nq kk os ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/d1135440e32124d18f63ce0d9698f03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*XeJ9UohOl7uZnc6SyyaoUg.png"/></div></figure><figure class="nq kk ot ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/9653fa93645e6fe105e144e75d916535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*rtaYTofwGlKyytvkQaK1jw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk ou di ov nz translated">登录页面和配置器</p></figure></div><p id="52bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，Quarkus运行在GraalVM上，你需要Java的JDK。然后我们将需要包管理器maven或gradle。这大约需要15分钟——同样，不要忘记设置正确的环境变量。</p><p id="5bcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Quarkus凭借其<em class="or">配置器</em>大放异彩。与SpringBoot等其他Java框架类似，您可以选择正确的包并简单地生成所需的应用程序。不幸的是，要知道哪一个是哪一个以及用于什么并不是一件非常直观的事情。我凭直觉做出了如下选择:</p><div class="kg kh ki kj gt ab cb"><figure class="nq kk ow ns nt nu nv paragraph-image"><img src="../Images/0e377054d3eba008d94e38d2bbf6f7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*UzIqDniTJAD028C58BtqAQ.png"/></figure><figure class="nq kk ox ns nt nu nv paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/06a1fae2d2d5c8cacd5b6124457711a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*9dC420N6bEumkBjgJsDDSw.png"/></div></figure></div><p id="a787" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">快速下载后，我有我的项目。<br/>它带有一个基本的设置，自述文件和docker配置。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/3db41ccdd1eba8c2e1ff16322fea9394.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pNnNzCdrLRDHIw8L7fUfFA.png"/></div></div></figure><p id="431e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">文档为REST API提供了很好的文章。此外，您将在这里找到足够的信息来使用其他API。</p><p id="176a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，让我们为天气数据创建一个模型。</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="7715" class="mg mh iq oc b gy og oh l oi oj">// WeatherResponse.java</span><span id="ab24" class="mg mh iq oc b gy ok oh l oi oj">@JsonIgnoreProperties(ignoreUnknown = true)<br/>public class <strong class="oc ir">WeatherResponse </strong>{<br/><br/>   public String name;<br/>   public Weather alpha2Code;<br/>   public Main main;<br/>   public Wind wind;<br/>   public Coord coord;<br/><br/>   public static class Weather {<br/>      public String main;<br/>      public String description;<br/>      public String icon;<br/>   }<br/>   public static class Wind {<br/>      public float speed;<br/>   }<br/>   public static class Main{<br/>      public float temp;<br/>      public float feels_like;<br/>      public float temp_min;<br/>      public float temp_max;<br/>      public int pressure;<br/>      public int humidity;<br/>   }<br/>   public static class Coord{<br/>      public float lon;<br/>      public float lat;<br/>   }<br/>}</span></pre><p id="aff3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们需要一个能与第三方API通信的服务。<br/>中的<em class="or">应用</em>。我们设置URL并移除SSL。</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="e20c" class="mg mh iq oc b gy og oh l oi oj">// WeatherService.java</span><span id="bac6" class="mg mh iq oc b gy ok oh l oi oj">@Path("/data/2.5/")<br/>@RegisterRestClient(configKey="weather-api")<br/>public interface <strong class="oc ir">WeatherService </strong>{<br/><br/>   @GET<br/>   @Path("/weather")<br/>   Set&lt;WeatherResponse&gt; getByCity(@QueryParam("q") String name, @QueryParam("appid") String appId);<br/>}</span><span id="b913" class="mg mh iq oc b gy ok oh l oi oj">// application.properties</span><span id="0c9d" class="mg mh iq oc b gy ok oh l oi oj"><strong class="oc ir">weather-api/mp-rest/url</strong>=http://api.openweathermap.org/ # <br/>weather-api/mp-rest/scope=javax.inject.Singleton #<br/>quarkus.tls.trust-all=true</span></pre><p id="59c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们继续创建一个资源来监听任何传入的请求。</p><pre class="kg kh ki kj gt ob oc od oe aw of bi"><span id="8a70" class="mg mh iq oc b gy og oh l oi oj">// WeatherResource.java</span><span id="9229" class="mg mh iq oc b gy ok oh l oi oj">@Path("/weather")<br/>public class <strong class="oc ir">WeatherResource </strong>{<br/><br/>    @Inject<br/>    @RestClient<br/>    WeatherService weatherService;<br/><br/>    String appId = "MY_API_KEY";<br/><br/>    @GET<br/>    @Path("/{name}")<br/>    @Produces("application/json")<br/>    public Set&lt;WeatherResponse&gt; <strong class="oc ir">name</strong>(@PathParam("name") String name) {<br/>        return weatherService.getByCity(name, appId);<br/>    }<br/>}</span></pre><p id="747e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们完成了！对于Java背景的人来说，这里的易用性显然是一个因素，但是与其他框架和语言相比，要做的工作量是很大的。</p><h2 id="6016" class="mg mh iq bd mi mj mk dn ml mm mn dp mo lf mp mq mr lj ms mt mu ln mv mw mx my bi translated">评级</h2><ol class=""><li id="214a" class="ls lt iq ky b kz mz lc na lf oo lj op ln oq lr lx ly lz ma bi translated"><em class="or">易用性</em> : 2/3</li><li id="a27a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">速度:1/3</li><li id="3590" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><em class="or">文件</em> : 2/3</li></ol><h1 id="dba4" class="nf mh iq bd mi ng nh ni ml nj nk nl mo jw nm jx mr jz nn ka mu kc no kd mx np bi translated">摘要</h1><p id="2a53" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">我希望这篇文章能让你对Gin Gonic和Quarkus有所了解。<br/>这两个框架都很棒，前途无量。</p><p id="ee33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尤其是Golang和Java框架，我确信它们会随着编程语言的发展而不断发展。</p><p id="dbe3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">纵观当前的微服务趋势，这些框架可能是您开始下一个微服务项目的良好基础！</p></div></div>    
</body>
</html>