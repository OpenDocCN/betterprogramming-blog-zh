<html>
<head>
<title>How To Make Lava Lamp-Style Blob Animations With HTML and CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用HTML和CSS制作熔岩灯风格的斑点动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-make-lava-lamp-style-blob-animations-with-html-and-css-d759917b3ecc?source=collection_archive---------6-----------------------#2022-09-20">https://betterprogramming.pub/how-to-make-lava-lamp-style-blob-animations-with-html-and-css-d759917b3ecc?source=collection_archive---------6-----------------------#2022-09-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b6fb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">SVG过滤器元素的强大功能不需要JavaScript</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b6371067d3de358761ddc07b045fb0d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7knw8pAvxWRscjuylUYVQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">理查德·霍瓦特在<a class="ae ky" href="https://unsplash.com/photos/WOA3QKFjlo8?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="99b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我正在做的一个项目涉及在一个意想不到的环境中应用游戏机制；我和我的团队正在尝试将这个想法变成现实。我们的一个想法是将体验点表现为某种液态的紫色等离子体。</p><p id="9727" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的设计团队希望圆形小球在飞行途中被拉伸和挤压时能够改变形状。我们的挑战是以一种高性能的方式实现这一点，只使用HTML和CSS。</p><p id="1662" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我试图找到一种方法时，我偶然发现了<a class="ae ky" href="https://codepen.io/Rosefae/pen/XPaMYL" rel="noopener ugc nofollow" target="_blank">这个很棒的lava lamp代码示例</a>，它实现了类似的效果——它超级快，而且出奇的简单！在这篇文章中，我将讨论这个效果是如何工作的，以及我如何将它应用到我的项目中。</p><h1 id="a0f5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">SVG过滤器元素</h1><p id="e2a4" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">这个效果是由几个SVG滤波器元素组合而成的:<code class="fe ms mt mu mv b">feGaussianBlur</code>、<code class="fe ms mt mu mv b">feColorMatrix</code>和<code class="fe ms mt mu mv b">feBlend</code>。</p><ul class=""><li id="1115" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nb nc nd ne bi translated"><code class="fe ms mt mu mv b">feGaussianBlur</code> —按照<code class="fe ms mt mu mv b">stdDeviation</code>属性中指定的量模糊输入图像。</li><li id="7338" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated"><code class="fe ms mt mu mv b">feColorMatrix</code> —允许我们转换SVG中的颜色。这里，我们用它来影响SVG的alpha(透明)通道，这样只有最不透明的颜色才是可见的。</li><li id="5558" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated"><code class="fe ms mt mu mv b">feBlend</code> —定义我们的过滤器元素将如何与blob CSS混合。我们将使用默认的<code class="fe ms mt mu mv b">mode</code>，也就是<code class="fe ms mt mu mv b">"normal"</code>。</li></ul><p id="3714" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种效果之所以有效，是因为当同一个SVG的两个元素足够接近时，模糊就会出现并填补空白。那么我们如何将它应用到我们的用例中呢？</p><h1 id="a142" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">构建Blobs</h1><p id="28f1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我的解决方案是使用两个圆圈——一个大一点的和一个小一点的——并分别制作它们的动画。这些圆圈应该从一个在另一个的上面开始，所以只有较大的那个可以被看到。</p><p id="beae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">HTML看起来像这样:</p><pre class="kj kk kl km gt nk mv nl nm aw nn bi"><span id="1b8a" class="no lw it mv b gy np nq l nr ns">&lt;div class="wrapper"&gt;<br/>  &lt;div class="blob"&gt;&lt;/div&gt;<br/>  &lt;div class="blob"&gt;&lt;/div&gt;<br/>  &lt;div class="blob"&gt;&lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="bdc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">CSS也非常简单。最不寻常的元素是使用<code class="fe ms mt mu mv b">filter</code>属性指向我们的SVG过滤器，这是我们接下来要创建的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/3ce199e8ac3a305ef60a4bffff57900a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rgwI60VzlDrxJI5NNgq2Sw.png"/></div></div></figure><h1 id="a0f2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为斑点设置动画</h1><p id="161a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">对于动画，我们希望我们的三个斑点在不同的时间移动稍微不同的距离。这需要一点反复试验；我调整了这些值，直到我发现一些看起来很自然的东西。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nu l"/></div></figure><h1 id="da32" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">添加过滤器</h1><p id="1d34" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在，我们可以创建过滤器，使我们的圈子看起来像是被吸收到另一个。</p><p id="68e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到我们的HTML。</p><pre class="kj kk kl km gt nk mv nl nm aw nn bi"><span id="970d" class="no lw it mv b gy np nq l nr ns">&lt;svg  version="1.1"&gt;<br/>  &lt;defs&gt;<br/>    &lt;filter id="plasma"&gt;<br/>      &lt;!-- Our filter elements will go here --&gt;<br/>    &lt;/filter&gt;<br/>  &lt;/defs&gt;<br/>&lt;/svg&gt;</span></pre><p id="93d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们要添加我们的模糊。我们可以调整<code class="fe ms mt mu mv b">stdDeviation</code>来得到我们满意的模糊程度。</p><pre class="kj kk kl km gt nk mv nl nm aw nn bi"><span id="4bb5" class="no lw it mv b gy np nq l nr ns">&lt;feGaussianBlur in="SourceGraphic" stdDeviation="15" result="blur" /&gt;</span></pre><p id="0408" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，颜色矩阵。如果你对颜色矩阵不熟悉，我推荐你去看看<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feColorMatrix" rel="noopener ugc nofollow" target="_blank">相关的MDN文章</a>。还有一篇微软的关于色彩矩阵转换的<a class="ae ky" href="https://docs.microsoft.com/en-us/dotnet/desktop/winforms/advanced/how-to-use-a-color-matrix-to-transform-a-single-color?view=netframeworkdesktop-4.8" rel="noopener ugc nofollow" target="_blank">好文章</a>。</p><p id="bb74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只想影响SVG的alpha和白色(偏移)通道，这意味着我们只需要改变矩阵的最后两个值。</p><p id="05ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与以往一样，这些数字可以调整，以获得看起来自然的东西。</p><pre class="kj kk kl km gt nk mv nl nm aw nn bi"><span id="cfad" class="no lw it mv b gy np nq l nr ns">&lt;feColorMatrix<br/>  in="blur"<br/>  mode="matrix"<br/>  values="1   0   0   0    0<br/>          0   1   0   0    0<br/>          0   0   1   0    0<br/>          0   0   0   18  -7"<br/>  result="plasma"<br/>/&gt;</span></pre><p id="51e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，添加<code class="fe ms mt mu mv b">blend</code>元素定义了我们的过滤器如何与我们的斑点混合:</p><pre class="kj kk kl km gt nk mv nl nm aw nn bi"><span id="3fb1" class="no lw it mv b gy np nq l nr ns">&lt;feBlend in="SourceGraphic" in2="plasma" /&gt;</span></pre><p id="0086" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总之，我们最终的SVG如下所示:</p><pre class="kj kk kl km gt nk mv nl nm aw nn bi"><span id="fd53" class="no lw it mv b gy np nq l nr ns">&lt;svg  version="1.1"&gt;<br/>  &lt;defs&gt;<br/>    &lt;filter id="plasma"&gt;<br/>      &lt;feGaussianBlur in="SourceGraphic" stdDeviation="15" result="blur" /&gt;<br/>      &lt;feColorMatrix<br/>        in="blur"<br/>        mode="matrix"<br/>        values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 18 -7"<br/>        result="plasma"<br/>      /&gt;<br/>      &lt;feBlend in="SourceGraphic" in2="plasma" mode="overlay" /&gt;<br/>    &lt;/filter&gt;<br/>  &lt;/defs&gt;<br/>&lt;/svg&gt;</span></pre><p id="3b41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在有了一个看起来很有机的等离子动画，因为它不依赖于任何JavaScript，所以性能非常好！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nu l"/></div></figure><h1 id="d423" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">下一步是什么？</h1><p id="5506" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我仍在努力寻找一种最佳的方式来处理屏幕尺寸的调整，并且很乐意阅读评论中的任何建议！</p></div></div>    
</body>
</html>