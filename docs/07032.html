<html>
<head>
<title>Build a Text Documents App in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中构建一个文本文档应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-text-documents-app-in-swiftui-857411f30fde?source=collection_archive---------11-----------------------#2020-11-30">https://betterprogramming.pub/build-a-text-documents-app-in-swiftui-857411f30fde?source=collection_archive---------11-----------------------#2020-11-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9488" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用DocumentGroup和FileDocument创建基于文本文档的应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4706d0483b4dfa24d811c2768ac3d785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ALlXjbODF7duGFJXvpI9Zw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="f75d" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">文件文档</h1><p id="93d8" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">创建一个类型为<code class="fe mt mu mv mw b">FileDocument</code>的结构。您将收到一条错误消息，要求您添加协议的存根。单击“修复”添加所需数据。正如你在下面看到的，协议允许我们通过它的<code class="fe mt mu mv mw b">read</code>初始化器和<code class="fe mt mu mv mw b">write</code>函数来读写文档。您还将拥有<code class="fe mt mu mv mw b">readableContentTypes</code>静态变量，它将帮助我们确定和限制我们希望在应用程序中允许的文件类型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="957c" class="pw-post-body-paragraph lx ly it lz b ma mz ju mc md na jx mf mg nb mi mj mk nc mm mn mo nd mq mr ms im bi translated">接下来我们要做的是将我们的<code class="fe mt mu mv mw b">readableContentTypes</code>分配给<code class="fe mt mu mv mw b">UTType.plainText</code>，并创建一个新的字符串变量来保存用户的文本输入。在初始化器中，获取文件的内容，然后尝试将其值赋给我们的文本变量。</p><p id="a380" class="pw-post-body-paragraph lx ly it lz b ma mz ju mc md na jx mf mg nb mi mj mk nc mm mn mo nd mq mr ms im bi translated">要写入文件，使用<code class="fe mt mu mv mw b">file wrapper</code>功能。在函数中，将文本变量中的字符串转换成数据。最后，创建一个初始化器来创建一个新的空文档文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="130f" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">内容视图</h1><p id="9935" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">在我们的<code class="fe mt mu mv mw b">ContentView</code>中，创建一个绑定<code class="fe mt mu mv mw b">TextDocument</code>变量。在主体内部，添加一个<code class="fe mt mu mv mw b">TextEditor</code>并传递给它<code class="fe mt mu mv mw b">TextDocument</code>的文本变量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="6357" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">文档组</h1><p id="b1c1" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">当您查看项目导航器时，您会发现第二个包含您的项目/应用程序名称的Swift文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/250fbb44eb3f3fe59f30caa0b29be591.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*7XTzja_JKRat9Zg8TzOPEg.png"/></div></figure><p id="0f07" class="pw-post-body-paragraph lx ly it lz b ma mz ju mc md na jx mf mg nb mi mj mk nc mm mn mo nd mq mr ms im bi translated">打开文件，将场景从<code class="fe mt mu mv mw b">WindowGroup</code>更改为<code class="fe mt mu mv mw b">DocumentGroup</code>。将上面创建的<code class="fe mt mu mv mw b">TextDocument</code>传递给<code class="fe mt mu mv mw b">DocumentGroup</code>，然后将<code class="fe mt mu mv mw b">ContentView</code>添加到它的闭包中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/f58f978d6ea9e84011a743e40db7db2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/1*iKU0tt1yrK0WFnIJG2SQAQ.gif"/></div></figure><p id="bfa8" class="pw-post-body-paragraph lx ly it lz b ma mz ju mc md na jx mf mg nb mi mj mk nc mm mn mo nd mq mr ms im bi translated">全部完成！感谢阅读。</p></div></div>    
</body>
</html>