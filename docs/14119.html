<html>
<head>
<title>An Overview to Kubernetes Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes服务概述</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/kubernetes-service-types-3c4a3088a5c?source=collection_archive---------9-----------------------#2022-11-08">https://betterprogramming.pub/kubernetes-service-types-3c4a3088a5c?source=collection_archive---------9-----------------------#2022-11-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9e9c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解不同类型的Kubernetes服务和入口控制器</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/06f153122bb0ee80053bf602ee386b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GQW1HjUnetuqSqWk"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">埃里克·麦克林在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="1dc8" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">库伯内特的服务是什么</h1><p id="4e79" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在Kubernetes的环境中，你可能有成百上千个短命的豆荚。无论是因为节点被缩减、单元副本被缩减，还是单元被重新安排到新节点，单元的IP地址都无法得到保证。pods IP地址是在将它调度到特定节点之后、引导之前分配的。</p><p id="c953" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">假设我们处于云原生环境中，我们希望能够水平扩展pod。因此，跟踪我们所有应用程序的所有IP地址将是一项非常困难的任务。Kubernetes有一种资源类型可以解决这种不断变化的pod IPs问题，称为服务。Kubernetes服务允许您创建一个单一的常量IP地址，其中包含一组包含相同服务的pod的IP地址。这非常有用，因为服务IP保持静态，而pod的IP可以不断变化。你永远不用担心没有合适的IP地址。</p><h1 id="126f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">服务是如何工作的</h1><p id="efd7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">服务是如何工作的？我如何配置一个？</p><p id="63f4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们从创建一个包含三个nginx pod实例的部署开始。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="c466" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在应用部署清单之后，我们可以看到有三个nginx实例使用IPs <code class="fe mu mv mw mx b">10.244.242.66, 10.244.242.67, 10.244.230,199</code>运行。此外，请注意我们分配给这些pod的标签<code class="fe mu mv mw mx b">app=nginx</code>,这对服务如何监控这些pod至关重要。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="8b09" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，让我们定义我们的服务清单，它在下面通过对定义内容的分解来定义。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="fd03" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">当我们开始分解这个清单时，我们注意到这个种类是<code class="fe mu mv mw mx b">Service</code>。接下来，应该熟悉元数据部分，因为它与其他Kubernetes资源上的元数据字段相同。规范部分是我们定义我们的服务将如何交互以及交互什么的地方。</p><p id="6720" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe mu mv mw mx b">selector</code>字段。在此字段中，您可以定义希望此服务监控哪些pod。这是通过标签匹配完成的。你会注意到这个<code class="fe mu mv mw mx b">selector</code>有一个<code class="fe mu mv mw mx b">app: nginx</code>的定义。如果您还记得，这些是我们在部署清单中为pod定义的标签。根据这个选择器定义，我们声明任何带有标签<code class="fe mu mv mw mx b">app=nginx</code>的pod都将是该服务的一部分。</p><p id="a296" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">接下来，我们有了<code class="fe mu mv mw mx b">type</code>字段。这定义了我们希望这是什么样的服务。稍后我们将更深入地研究服务类型，但是现在我们将它定义为<code class="fe mu mv mw mx b">ClusterIP</code>。</p><p id="c07f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，我们有了<code class="fe mu mv mw mx b">ports</code>字段。在这里，我们定义了流量将如何以及在哪里流经服务。注意，这个字段接受一个数组，所以可以定义多个条目。</p><p id="44dd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们细分端口中的每个字段:</p><ul class=""><li id="668c" class="my mz it lt b lu mn lx mo ma na me nb mi nc mm nd ne nf ng bi translated">名称:您可以为给定的端口条目指定一个特定的名称。</li><li id="d532" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated">端口:这是服务将监听的端口。</li><li id="dfe4" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated">targetPort:这是服务将请求转发到的端口。这应该与pod正在监听的端口相匹配。</li><li id="12cc" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated">协议:您希望服务监听并与之交互的特定协议。</li></ul><p id="6e11" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">既然我们对服务清单的作用以及它如何与pod交互有了基本的了解，我们就可以部署清单并检查服务了。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="7521" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">describe命令中的所有内容都应该与清单定义对齐，除了两个字段“IP”和“Endpoints”。</p><p id="358b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe mu mv mw mx b">IP</code>字段定义了服务IP地址。这是可用于访问服务背后的pod的静态IP。</p><p id="0138" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe mu mv mw mx b">Endpoints</code>字段定义了当前分配给该服务的pod IPs。您会注意到这些IP来自我们的nginx部署。</p><p id="2ef1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在我们继续讨论其他服务类型之前，让我们展示一下如何缩减nginx部署，看看服务将如何处理这种变化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="1db3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可以看到，向上和向下扩展pod会立即反映在服务中，允许单个静态IP访问pod。</p><h1 id="8495" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">服务类型</h1><p id="3134" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在服务资源中有三种不同的类型。它们如下:</p><ol class=""><li id="fd39" class="my mz it lt b lu mn lx mo ma na me nb mi nc mm nm ne nf ng bi translated">ClusterIP</li><li id="d197" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nm ne nf ng bi translated">节点端口</li><li id="d905" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nm ne nf ng bi translated">负载平衡器</li></ol><p id="e709" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这些都有它们自己的行为和特定的用例，所以知道何时使用每一个是很重要的。在接下来的几节中，我们将对其中的每一个进行更深入的探讨。</p><h2 id="53b3" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">ClusterIP</h2><p id="5273" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">ClusterIP是最“基本”的服务类型。它将创建一个静态IP地址，该地址位于与pod IP范围不同的子网上，并将通过标签选择器监控一组pod。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/7f4b9e4b749affbbe1cad0206b8e9cf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bsTxHnEoQXeqNGjqsYazmg.png"/></div></div></figure><p id="af82" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">ClusterIPs允许pod轻松地相互通信，因为pod既可以向静态IP发送请求，也可以使用Kubernetes DNS向<code class="fe mu mv mw mx b">{service-name}.{namespace}</code>发送请求。在前面的例子中，我们部署的DNS应该是<code class="fe mu mv mw mx b">nginx.default</code>。使用ClusterIP有一些限制。最大的问题是没有办法向外界公开这项服务。这就是应该使用服务类型<code class="fe mu mv mw mx b">nodePort</code>和<code class="fe mu mv mw mx b">loadBalancer</code>的地方。</p><h2 id="5f2d" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">节点端口</h2><p id="fc6b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe mu mv mw mx b">NodePort</code>服务建立在<code class="fe mu mv mw mx b">ClusterIP</code>类型之上。它通过在worker节点上打开一个端口来转发流量，从而将<code class="fe mu mv mw mx b">ClusterIP</code>暴露给外界。这意味着，如果您有50个工作节点，每个工作节点将在分配的端口上侦听，即使pod不在该工作节点上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/35504a8f3bd0bffac4793502e7cade0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L6pNu8__czQdGdMmepJwBQ.jpeg"/></div></div></figure><p id="c6bd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要创建一个<code class="fe mu mv mw mx b">NodePort</code>服务，唯一的区别是将<code class="fe mu mv mw mx b">Type</code>定义为<code class="fe mu mv mw mx b">NodePort.</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="3f1c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可能会注意到<code class="fe mu mv mw mx b">nodePort</code>被注释掉了，这是因为如果您没有在<code class="fe mu mv mw mx b">ports</code>部分中定义<code class="fe mu mv mw mx b">nodePort</code>，Kubernetes将自动从范围<code class="fe mu mv mw mx b">30000–32767</code>中分配一个随机端口。如果您希望定义一个特定的端口，必须在此范围内完成。</p><p id="ecd7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">部署节点端口服务清单并让我们检查它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="5519" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里我们看到一个名为<code class="fe mu mv mw mx b">NodePort</code>的新字段，其值为<code class="fe mu mv mw mx b">30828/TCP</code>。这是分配给此服务的端口和协议。现在，如果我们要向具有该端口的任何工作节点IP地址发送请求，该请求将被发送到服务，然后被发送到我们的pod。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="a34c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">虽然这是向外界公开我们的服务的一种有用的方式，但是它的可伸缩性不好。在高度自动伸缩的Kubernetes集群中，工作节点可能是短暂的，因为它们可能会不断地旋转。这给我们留下了一个与pod类似的问题，我们可以找到IP是什么，但这并不意味着它们会一直存在。如果您的服务需要一个静态外部IP地址，那么<code class="fe mu mv mw mx b">LoadBalancer</code>服务类型将满足这一需求。</p><h2 id="7ba8" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">负载平衡器</h2><p id="b2c0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">类似于<code class="fe mu mv mw mx b">NodePort</code>构建在<code class="fe mu mv mw mx b">ClusterIP</code>之上，服务<code class="fe mu mv mw mx b">LoadBalancer</code>构建在<code class="fe mu mv mw mx b">NodePort</code>之上。使用<code class="fe mu mv mw mx b">LoadBalancer</code>服务，每个工作者节点继续拥有分配给特定服务的唯一端口。但是，现在L4被部署和配置为路由到特定的工作节点和端口。一个高级的请求流如下:一个请求被发送到负载均衡器，它被转发到特定<code class="fe mu mv mw mx b">nodeport</code>上的一个工作节点，然后被传递到特定的服务，最后被发送到一个pod。</p><p id="a8ed" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">注意:部署的负载平衡器依赖于运行Kubernetes的云提供商。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/62afdbdb0f58a634b93295990a6b000f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mio8tr_muwck3QyM9M27-g.jpeg"/></div></div></figure><p id="5367" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果需要的话，配置一个<code class="fe mu mv mw mx b">LoadBalancer</code>服务会稍微复杂一些。一个非常简单的配置如下，只需将<code class="fe mu mv mw mx b">type</code>字段更改为<code class="fe mu mv mw mx b">LoadBalancer</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="f2f2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">例如，如果您希望更改您的负载平衡器以强制SSL重定向、配置防火墙规则、使用HTTPS而不是HTTP，或者使用不同的平衡算法，那么这将需要在您的服务上定义<code class="fe mu mv mw mx b">Annotations</code>。</p><p id="632c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里是一个这样的例子<code class="fe mu mv mw mx b">LoadBalancer</code>使用Vultrs负载平衡器集成清单。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="fd70" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">可以在这里找到Vultr负载平衡器可以使用的所有可用注释的列表<a class="ae ky" href="https://github.com/vultr/vultr-cloud-controller-manager/blob/master/docs/load-balancers.md" rel="noopener ugc nofollow" target="_blank">。</a>请向您的特定云提供商咨询配置选项。</p><p id="d0ca" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">当您第一次部署您的<code class="fe mu mv mw mx b">LoadBalancer</code>服务时，您会看到<code class="fe mu mv mw mx b">EXTERNAL-IP</code>部分是<code class="fe mu mv mw mx b">pending</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="3951" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您会注意到这里Kubernetes已经部署了一个负载平衡器，并且一直在进行通信，以检查负载平衡器是否已经被供应和分配了一个IP。</p><p id="8e75" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一旦提供了负载平衡器并为流量做好了准备，您将在<code class="fe mu mv mw mx b">EXTERNAL-IP</code>字段中看到一个分配的IP地址，并且LB已经得到“确保”。这意味着Kubernetes现在可以相应地监控和更新负载平衡器。此外，注意分配了唯一的<code class="fe mu mv mw mx b">nodeport</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="b1ec" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了验证我们的负载平衡器正在工作，我们可以向负载平衡器的公共IP地址<code class="fe mu mv mw mx b">EXTERNAL-IP</code>发送一个请求。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="91ea" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可能会将<code class="fe mu mv mw mx b">LoadBalancer</code>服务类型视为一个奇妙的解决方案。然而，它们有一个缺点；您不能定义任何类型的URL路径，这不允许灵活性或让它路由到多个服务。<code class="fe mu mv mw mx b">LoadBalancer</code>服务与单个服务相关联，因此，如果您想要从集群中公开另一个应用程序，您将部署另一个负载平衡器，如果您有多个应用程序，这可能会快速增加成本。</p><p id="ca0a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这个问题的解决方案不是另一种服务类型，而是另一种叫做<code class="fe mu mv mw mx b">ingress</code>的Kubernetes资源。</p><h2 id="b538" class="nn la it bd lb no np dn lf nq nr dp lj ma ns nt ll me nu nv ln mi nw nx lp ny bi translated">进入</h2><p id="4ccd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">“入口”资源是一种更加灵活的方式来定义外部世界要到达的服务。这里最大的卖点之一是，你可以定义一个单一的入口资源，并在你定义的子域、端口或URL路径下拥有到所有服务的路由。它们还提供了许多其他功能，如速率限制、身份验证、自动TLS、加权路由等等。所有这些都可以通过单个负载平衡器完成，因为<code class="fe mu mv mw mx b">Ingress</code>资源与<code class="fe mu mv mw mx b">LoadBalancer</code>服务类型一起工作，唯一的区别是部署负载平衡器充当代理，将所有流量发送到“入口”资源，该资源充当集群内的L7负载平衡器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/114e3a814e4a633ad6dfa31fa1c9005b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*9yFhO4FdOsqjMWnHbzbN9A.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://mermaid.live/edit#pako:eNqNkstuwyAQRX8F4U0r2VHqPlSRKqt0UamLqlnaWWAYJygYLB59KMm_Fxcqx8qmGwbuXA7DwAEzzQETXKutof0Ovb4vaoUQkwKUu6pi3FwXM_QSHGBt0VFFt8DRU2OWSGrKUUMlVQwMmhVLEV1Vcm9-aUksiuXRaO_CEhkv4WjBfAgG1TrGaLa-iaUw6a0DcwaI-WgOsF7zm-pN882lXo46KB5vRK1dQYt6SYVCrZCSZJzz3Dqj90Cytm3TvPgU3O3IXf-VMy21Idl8Pl9MIPtHmxC35QOD-39RQm5KSTdMpHEryZqmmWLKERNPHEl_3clTB_KhL8NQDmWe-eJjxgZM5FhFiiFTK5zjDkxHBQ9_4zB4a-x20EGNSZhyaKmXrg7f5hSs1Du9_lYME2c85Nj3nDpYCRoespuKz1w4bTBpqbRw-gEvqt_v" rel="noopener ugc nofollow" target="_blank">入口控制器</a></p></figure><p id="4275" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里唯一需要注意的是，Kubernetes没有自带入口控制器。有各种入口控制器，都有不同类型的功能。最终，在决定安装哪个入口控制器之前，这符合您的需求。有关配置指南，请参考入口控制器的文档。</p><p id="3061" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一些比较流行的入口控制器有:</p><ul class=""><li id="b93d" class="my mz it lt b lu mn lx mo ma na me nb mi nc mm nd ne nf ng bi translated"><a class="ae ky" href="https://github.com/emissary-ingress" rel="noopener ugc nofollow" target="_blank">使者入口</a></li><li id="eee7" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated"><a class="ae ky" href="https://www.getambassador.io/products/edge-stack/api-gateway/" rel="noopener ugc nofollow" target="_blank">大使缘栈</a></li><li id="1761" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated"><a class="ae ky" href="https://kubernetes.github.io/ingress-nginx/" rel="noopener ugc nofollow" target="_blank">入口Nginx </a></li></ul><h1 id="af2e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">包扎</h1><p id="3a8c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">虽然这篇文章可能会让你对不同类型的Kubernetes服务和入口控制器有一个很好的理解，但这仅仅是皮毛。这些服务有更多的配置选项，以及一些补充功能，如网络策略。我鼓励你查看下面列出的一些链接以获取更多信息。</p><ul class=""><li id="9f67" class="my mz it lt b lu mn lx mo ma na me nb mi nc mm nd ne nf ng bi translated"><a class="ae ky" href="https://kubernetes.io/docs/concepts/services-networking/ingress/" rel="noopener ugc nofollow" target="_blank">入口资源</a></li><li id="869b" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated"><a class="ae ky" href="https://kubernetes.io/docs/concepts/services-networking/network-policies/" rel="noopener ugc nofollow" target="_blank">网络策略</a></li><li id="c3f9" class="my mz it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated"><a class="ae ky" href="https://kubernetes.io/docs/concepts/services-networking/service/" rel="noopener ugc nofollow" target="_blank">服务</a></li></ul></div></div>    
</body>
</html>