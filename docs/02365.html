<html>
<head>
<title>Let’s Learn About Graph Databases</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们了解一下图形数据库</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/graph-databases-ad2cbe1570df?source=collection_archive---------21-----------------------#2019-11-25">https://betterprogramming.pub/graph-databases-ad2cbe1570df?source=collection_archive---------21-----------------------#2019-11-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="810a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">现代数据库简介</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a8882ce661a14d0ede16b2ebc0df16b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yWcBjjUg_798UNayzucjAw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@franki" rel="noopener ugc nofollow" target="_blank">弗兰基·查马基</a>在<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fc24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">世界十大零售商中有超过七家使用图形数据库。像<a class="ae ky" href="https://neo4j.com/blog/ebay-shopbot-graph-powered-conversational-commerce/?ref=who-uses" rel="noopener ugc nofollow" target="_blank">易贝</a>和<a class="ae ky" href="https://neo4j.com/case-studies/walmart/?ref=who-uses" rel="noopener ugc nofollow" target="_blank">沃尔玛</a>这样的顶级零售商依靠图形数据库来推动推荐、促销和简化物流。</p><p id="e395" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前十大保险公司中的八家，像<a class="ae ky" href="https://neo4j.com/case-studies/die-bayerische/?ref=who-uses" rel="noopener ugc nofollow" target="_blank"> die Bayerische </a>、<a class="ae ky" href="https://neo4j.com/graphconnect-2018/session/connected-healthcare-optum/?ref=who-uses" rel="noopener ugc nofollow" target="_blank"> Optum Healthcare </a>和Allianz这样的顶级保险公司，依靠图形数据库来打击欺诈和管理信息。</p><p id="b907" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">甚至像脸书和谷歌这样的公司几十年来也一直将他们的业务建立在某种形式的图形数据库上。</p><p id="3c58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图形数据库正在推动全球众多企业的发展，在本文中，我们将讨论现代图形数据库以及是什么导致了数据库的发展。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0d86" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">从穿孔卡片到关系数据库</h1><p id="a486" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在最初的日子里，数据存储在穿孔卡片上，很难阅读或解释。不可能将数据编入索引以相互参照并消除不一致之处。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/a16fe95faeb179c6b891c591635b1343.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XUB8BR4mGQKtmiFsZt4_1w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Fortran程序中的穿孔卡片— <a class="ae ky" href="https://en.wikipedia.org/wiki/Computer_programming_in_the_punched_card_era" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><p id="6c8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是很快，行业发展了，数据被存储在关系数据库中。</p><p id="4ea1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种格式在某种程度上是人类可读的，但是为了存储大量的数据，关系数据库需要规范化以消除重复和不一致。</p><p id="46c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它还需要相关数据的外键关系，如果没有复杂的<code class="fe na nb nc nd b">JOIN</code>查询，很难理解和维护。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/2e949da57a1b021467dfaee610188628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D55UIFnpt9Qvkk8-YAYdtg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">汽车租赁系统的ER图</p></figure><h2 id="b1a4" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">酸:原子性、一致性、孤立性和持久性</h2><p id="7de5" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">关系数据库支持现成的ACID，这是一个很大的优势。</p><p id="43c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着，如果数据被提交一次，它将可供后续查询使用，但查找数据的成本很高，并且随着数据大小的不断增长，成本也在不断攀升。</p><p id="53e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了解决这个问题，我们给数据添加了索引，使得查找速度更快。</p><p id="e978" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">添加索引在一定程度上解决了这个问题，但是如果我们必须进行大量的连接，那么我们必须为每个连接执行查询时索引查找——随着表数量的增加，这种方法开始瓦解，并且变得昂贵。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="22f3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">云对数据库技术的影响</h1><p id="d0a0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在过去的十年里，技术领域见证了云技术的巨大发展，事情变得有些模糊。</p><p id="0ccb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自从云出现以来，数据一直呈爆炸式增长，传统的数据库技术不足以处理如此庞大的数据量。这激发了创新，于是<code class="fe na nb nc nd b">NoSQL</code>革命诞生了。</p><p id="e25b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">NoSQL革命让查询海量数据成为可能。</p><p id="6b38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了实现查询越来越多数据的目标，我们不得不讨论折衷方案，第一个方案是去掉<code class="fe na nb nc nd b">RDBMS</code>提供的<code class="fe na nb nc nd b">ACID</code>属性。</p><p id="0edc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二个是开发人员的体验，一个<code class="fe na nb nc nd b">key value</code>接口是对开发人员有意义的最简单的数据模型，我们用一个相应的键存储一个值，然后，我们可以用这个键访问这个值，但是这个值是不透明的，也就是说，它对数据库没有意义。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2103" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">文档数据库</h1><p id="cd6f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">使用<code class="fe na nb nc nd b">key value</code>接口和不透明的<code class="fe na nb nc nd b">value</code>类型来讨论开发人员的体验是值得的，但是如果我们希望数据库索引<code class="fe na nb nc nd b">values</code>并使其易于基于内容进行查询呢？</p><p id="4843" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是一个<code class="fe na nb nc nd b">document database</code>所做的，一个<code class="fe na nb nc nd b">document database</code>提供了一个<code class="fe na nb nc nd b">key</code>来查找一个<code class="fe na nb nc nd b">document</code>，但是我们也可以基于它的内容来查找一个<code class="fe na nb nc nd b">document</code>，这个内容被索引以便快速检索。</p><p id="b280" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文档数据库中的文档可以引用其他文档，这在一定程度上破坏了开发人员的体验，并且不是很有性能。</p><p id="8bf5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据亚马逊的说法—</p><blockquote class="nr ns nt"><p id="07b2" class="kz la nu lb b lc ld ju le lf lg jx lh nv lj lk ll nw ln lo lp nx lr ls lt lu im bi translated">“文档数据库是一种非关系数据库，旨在将数据存储和查询为类似JSON的文档。文档模型适用于目录、用户配置文件和内容管理系统等用例，其中每个文档都是唯一的，并且会随着时间的推移而发展。”</p></blockquote><p id="5520" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们不太关心那些离散的数据，而更关心数据之间的关系，那会怎么样呢？</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3958" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">图形数据库</h1><p id="8d7d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">图形数据库提供了一种<em class="nu">关系优先</em>的方法来存储和查询数据。</p><p id="a93f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据以更符合逻辑的方式存储，并非常接近真实世界的实体进行建模，这有助于确定数据关系的表示、可发现性和可维护性的优先级。</p><p id="70ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，对于关心数据关系的开发人员来说，数据完整性非常重要，这意味着要将ACID属性重新引入图形数据库。</p><p id="926d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个提供完整图形优势、保证数据完整性的图形数据库是<a class="ae ky" href="https://neo4j.com/" rel="noopener ugc nofollow" target="_blank"> Neo4j </a>。</p><p id="498c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以将最关键的业务数据存储在图形数据库中，而不必担心数据丢失、不一致和其他恶意副作用。</p><h2 id="0440" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">图形数据库的结构</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/a75eeb0df60d92fb6053ae854818e7ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1vGmaewTbXOg34db6DK8Fw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">电影图形数据库</p></figure><p id="6b93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图形数据库由以下组件组成，如上图所示:</p><ul class=""><li id="6ae6" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated">节点:类似于RDBMS中的行。</li><li id="61dd" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">边/关系:将节点相互连接起来的线。关系或边在图形数据库中优先。</li><li id="33af" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">属性:与节点相关的信息，或者说，与类的属性相关的信息。如果一个节点是一行，那么属性可以是定义行中数据的所有列。</li></ul><h2 id="68b9" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">图形数据库的优势</h2><p id="db26" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">对于关联数据集，图形数据库比关系数据库更快。它们直接映射到面向对象的应用程序的结构，并且可以自然伸缩，因为它们不必处理复杂的连接，并且具有动态行为。</p><p id="5f97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，RDBMs对于重复操作来说速度更快。</p><p id="3bc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图形数据库非常适合性能、敏捷性和灵活性。</p><h2 id="f7fa" class="nf md it bd me ng nh dn mi ni nj dp mm li nk nl mo lm nm nn mq lq no np ms nq bi translated">存储机制</h2><p id="1067" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">不同的图形数据库存储数据的方式不同，有些使用原生图形存储，Neo4j就属于这一类。其中一些基于关系引擎的顶层，并将数据存储在表中。</p><p id="2f48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图形存储提供了更好的性能，因为图形的存储格式非常类似于数据库索引。</p><p id="ae9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以将图形数据库想象成一个巨大的索引。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d3a1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">图形数据库的用例</h1><ul class=""><li id="c294" class="nz oa it lb b lc mu lf mv li on lm oo lq op lu oe of og oh bi translated">网络和IT运营:考虑网络体系结构和图形数据库，通常会在两者之间建立直接的关联——网络有节点，节点有连接，类似于图形数据库中的关系，每个节点都有特定的属性。一切都是物理上相互联系的。</li><li id="8aab" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">基于交易的应用:Paypal使用图形数据库来管理幕后的交易和支付。</li><li id="fead" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">欺诈检测和分析:在检测和分类欺诈和其他复杂攻击时，实时分析可以为企业提供一些很好的见解。</li><li id="b87e" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">社交网络:这是图形数据库的一个非常自然的用例，因为人们在系统上以不同的方式组成群体并建立与不同实体的关系，这很容易用图形数据库绘制出来。</li><li id="e76c" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">基于图形的搜索:围绕数字资产之间的关系构建的媒体库，每个资产都有自己的属性或特性，这是图形数据库的一个非常好的用例。</li></ul><p id="0fe2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们前面提到的，图形数据库正在成功地为谷歌、脸书、LinkedIn、沃尔玛、易贝等公司提供支持。每天为数十亿用户提供尖端服务。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="54e6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="ef66" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在本文中，我们简要讨论了图形数据库、底层架构、一些用例、优点，并将其与市场上的其他类似技术进行了比较。</p><p id="861c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在接下来的文章中，我们将详细介绍图形数据库，了解如何使用图形数据库构建数据的工作模型，并介绍查询语言。</p><p id="daf1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Cypher是用于与图形数据库交互和执行操作的语言。</p><p id="a2c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>