<html>
<head>
<title>Replace Your JavaScript If/Else Statements with the Ternary Operator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用三元运算符替换JavaScript If/Else语句</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/replace-your-javascript-if-else-statements-with-the-ternary-operator-bf9c8fa3cb46?source=collection_archive---------14-----------------------#2020-01-06">https://betterprogramming.pub/replace-your-javascript-if-else-statements-with-the-ternary-operator-bf9c8fa3cb46?source=collection_archive---------14-----------------------#2020-01-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c6fa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过重构您的业务逻辑来升级</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7d72e2ed1e4c64126a78457fe6b6cb71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3HKnyfy5Osup4caWyY-RoQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">约书亚·阿拉贡在<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="8b47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你学习编程时，你会不可避免地遇到这样的场景，你会想，<em class="lv">我本可以写得更好的</em>。</p><p id="ae11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重写代码的机会，也就是所谓的重构，总是存在的。这样做是你编程技能成熟的标志。</p><p id="24a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变量和if/else语句是两个最早的编程概念，因此重构简单的if/else赋值语句是实践重构的最佳时机。</p><p id="84a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看下面这个变量<code class="fe lw lx ly lz b">canVote</code>的赋值，它将基于一个条件为真或为假。</p><pre class="kj kk kl km gt ma lz mb mc aw md bi"><span id="7f46" class="me mf it lz b gy mg mh l mi mj">const age = 19;</span><span id="30ed" class="me mf it lz b gy mk mh l mi mj">if(age &gt;= 18) {<br/>   const canVote = true;<br/>} else {<br/>   const canVote = false;<br/>}</span></pre><p id="031a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种类型的代码块足够简单，但是检查发现了冗余——我们有两个用于<code class="fe lw lx ly lz b">canVote</code>的赋值语句。事实上，if/else语句的全部目的就是给<code class="fe lw lx ly lz b">canVote</code>赋值。</p><p id="9302" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是三元运算符<code class="fe lw lx ly lz b">?:</code>发挥作用、大放异彩的地方。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="aaf9" class="ms mf it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">什么是三元运算符？</h1><p id="3e32" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">三元运算符是一种速记技术，用于根据条件分配两个值中的一个。让我们先用三元运算符重构上面的代码，然后再谈它的语法和好处。</p><pre class="kj kk kl km gt ma lz mb mc aw md bi"><span id="a3d2" class="me mf it lz b gy mg mh l mi mj">const age = 19;</span><span id="3a03" class="me mf it lz b gy mk mh l mi mj">const canVote = (age &gt;= 18) ? true : false;</span></pre><p id="8a1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将五行if/else语句压缩成一行。厉害！现在，随着代码的浓缩，最初可能会更难阅读，所以让我们来解构三元运算符的各个部分。</p><p id="5255" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，三元运算符有三个操作数——被运算的值——这就是它的名字的由来。按照出现的顺序，操作数是条件、正赋值和负赋值。</p><pre class="kj kk kl km gt ma lz mb mc aw md bi"><span id="dc27" class="me mf it lz b gy mg mh l mi mj">(condition) ? positive assignment : negative assignment </span></pre><p id="b47c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么它是如何工作的呢？</p><p id="d0b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">条件首先作为表达式进行计算，这意味着它要么为真，要么为假。当条件评估为真时，返回正赋值。当条件评估为假时，返回负赋值。</p><p id="ca48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们之前的代码示例的上下文中，返回值被分配给<code class="fe lw lx ly lz b">canVote</code>。</p><p id="a884" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果语法让你陷入循环，你并不孤单。很容易混淆不同的符号，这就是为什么我总是把三元运算写反了。</p><pre class="kj kk kl km gt ma lz mb mc aw md bi"><span id="8d9f" class="me mf it lz b gy mg mh l mi mj">// step 1: write the ternary syntax<br/>const canVote = () ? : ;</span><span id="10b9" class="me mf it lz b gy mk mh l mi mj">// step 2: fill in the condition and assignments<br/>const canVote = (age &gt;= 18) ? true : false;</span></pre><p id="d389" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，等号和分号不是三元运算符的一部分——它们是更大的赋值语句的一部分。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="04e5" class="ms mf it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">为什么要用三元运算符？</h1><p id="cc74" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">既然我们已经介绍了操作符并演示了如何重构旧代码，那么它有什么好的呢？</p><p id="9cde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不可否认，当我第一次了解三元运算符时，我很抗拒采用它。我认为if/else语句更容易阅读。而且是…在真空中。</p><p id="4bd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的大脑识别单词<code class="fe lw lx ly lz b">if</code>和<code class="fe lw lx ly lz b">else</code>比从一行代码中提取<code class="fe lw lx ly lz b">() ? :</code>要快得多。然而，当您的if/else赋值存在于更大的程序上下文中时，从三元运算符获得的垂直空间可不是闹着玩的。</p><p id="5e9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">而且，如果我们重命名<code class="fe lw lx ly lz b">canVote</code>会怎么样？对于传统的if/else语句，必须在两个地方进行更改。三元运算符赋值只发生在一个地方。</p><p id="9a91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你更熟悉了，三元运算符也可以用在函数中来简化return语句。</p><pre class="kj kk kl km gt ma lz mb mc aw md bi"><span id="d4f9" class="me mf it lz b gy mg mh l mi mj">function canVote(age) {<br/>   return (age &gt;= 18) ? true : false;<br/>}</span></pre><p id="0d08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，我知道上面的内容可以进一步重构，只返回对<code class="fe lw lx ly lz b">age &gt;= 18</code>的评估，但是为了保持一致，我们将保持原样。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><p id="a667" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你在你的标准实践中采用了三元运算符吗？你最喜欢的浓缩代码并使用它的机会是什么时候？</p></div></div>    
</body>
</html>