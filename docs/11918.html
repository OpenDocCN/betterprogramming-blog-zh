<html>
<head>
<title>How to Convert Your Angular Application to a Native Mobile App (Android and iOS)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将您的Angular应用程序转换为原生移动应用程序(Android和iOS)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-convert-your-angular-application-to-a-native-mobile-app-android-and-ios-c212b38976df?source=collection_archive---------1-----------------------#2022-04-27">https://betterprogramming.pub/how-to-convert-your-angular-application-to-a-native-mobile-app-android-and-ios-c212b38976df?source=collection_archive---------1-----------------------#2022-04-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fcab" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用电容器</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/27ec6d62932cbc713772bda1295d3858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l0vY9d8hWOSbWRw14lJewg.png"/></div></div></figure><p id="6d0a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正在寻找一种方法将您现有的Angular应用程序转换为移动应用程序，而不必从头开始重写一切？你来对地方了。在本文中，我们将使用<a class="ae ln" href="https://capacitorjs.com/" rel="noopener ugc nofollow" target="_blank">电容</a>来实现这一点。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="52d4" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">先决条件</h1><p id="91b4" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">在我们开始之前，请确保通过安装以下依赖项来设置您的环境:</p><ul class=""><li id="5264" class="ms mt iq kt b ku kv kx ky la mu le mv li mw lm mx my mz na bi translated">https://nodejs.org/en/</li><li id="1f62" class="ms mt iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated">角度CLI:<a class="ae ln" href="https://angular.io/cli" rel="noopener ugc nofollow" target="_blank">https://angular.io/cli</a></li><li id="4199" class="ms mt iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated">移动开发设置:<a class="ae ln" href="https://capacitorjs.com/docs/getting-started/environment-setup" rel="noopener ugc nofollow" target="_blank">https://capacitor js . com/docs/getting-started/environment-setup</a></li></ul></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="bf0b" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">什么是电容？</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/2f89a9207bab806988d98abfb1743912.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TfhkYtPkhpYsMutq.png"/></div></div></figure><p id="6787" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Capacitor是一个跨平台的本地运行时，用于构建可以在iOS或Android上轻松运行的现代web应用程序。它提供了一些很酷的特性，比如PWA支持、电容CLI和很棒的插件。</p><p id="d98d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://capacitorjs.com/docs" rel="noopener ugc nofollow" target="_blank">查看文档，了解更多信息</a>。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="d32f" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">1-生成新的角度应用</h1><p id="2b68" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">为了简单起见，我们将只从CLI转换生成的角度投影。</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="0aee" class="nm lw iq ni b gy nn no l np nq">ng new angular-mobile-app</span></pre><p id="d608" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上述CLI命令将创建并初始化一个新的现成的角度应用程序。</p><p id="fe7a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当生成完成时，导航到项目目录并键入以下命令来启动dev服务器:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="db0c" class="nm lw iq ni b gy nn no l np nq">cd angular-mobile-app<br/>ng serve</span></pre><p id="e903" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，在你的浏览器上输入<a class="ae ln" href="http://localhost:4200" rel="noopener ugc nofollow" target="_blank"> http://localhost:4200 </a>，如果一切顺利的话，你应该会看到下面的页面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/92d1aa1ff71491c0bf96289881686d6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cj_DHaysHg33L-tOPWrDHQ.png"/></div></div><p class="ns nt gj gh gi nu nv bd b be z dk translated">在本地主机上运行的Angular应用程序:4200</p></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="b4a0" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">2 —向您的项目添加电容器</h1><p id="5998" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">既然我们已经启动并运行了一个web应用程序，下一步就是通过运行以下npm命令来安装<code class="fe nw nx ny ni b">@capacitor/core</code>和<code class="fe nw nx ny ni b">@capacitor/cli</code>依赖项:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="2787" class="nm lw iq ni b gy nn no l np nq">cd angular-mobile-app<br/>npm install @capacitor/core<br/>npm install @capacitor/cli</span></pre></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="2248" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">3 —设置电容器配置文件</h1><p id="2991" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">安装完电容器依赖项后，运行以下命令生成<code class="fe nw nx ny ni b">capacitor.config.ts</code>文件:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="474e" class="nm lw iq ni b gy nn no l np nq">npx cap init</span></pre><p id="460c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">CLI将询问您一些关于该应用程序的一般性问题。现在一切都保持默认。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/12936bcdb4ba599cd41b324bb904fc39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YHWovdjnQfssdheTYL1uCA.png"/></div></div></figure><p id="810f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">生成的文件如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div><p class="ns nt gj gh gi nu nv bd b be z dk translated">电容器.配置. ts</p></figure><ul class=""><li id="1a3f" class="ms mt iq kt b ku kv kx ky la mu le mv li mw lm mx my mz na bi translated"><code class="fe nw nx ny ni b">appId</code>:您打包的应用程序的唯一标识符。</li><li id="ba90" class="ms mt iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated"><code class="fe nw nx ny ni b">appName</code>:你的应用程序的名称。</li><li id="5484" class="ms mt iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated"><code class="fe nw nx ny ni b">webDir</code>:您已编译的web资产的目录。</li><li id="412d" class="ms mt iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated"><code class="fe nw nx ny ni b">bundledWebRuntime</code> : <strong class="kt ir"> </strong>是否复制电容器运行时捆绑。</li></ul><p id="3d55" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">注意:确保将<code class="fe nw nx ny ni b">webDir</code>的值改为<code class="fe nw nx ny ni b">dist/(your app name)</code>，因为这是Angular应用程序的常用构建路径。现在，电容器将能够找到网络资产。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="6070" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated"><strong class="ak"> 4 —添加原生iOS和Android包</strong></h1><p id="cc9a" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">下一步是根据iOS和Android的包安装，然后通过运行以下命令添加本地项目:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="ef35" class="nm lw iq ni b gy nn no l np nq">npm install @capacitor/ios @capacitor/android</span><span id="67d6" class="nm lw iq ni b gy oc no l np nq">npx cap add ios</span><span id="eceb" class="nm lw iq ni b gy oc no l np nq">npx cap add android</span></pre><p id="332d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行上述CLI命令后，您应该会看到为Android和iOS创建了两个新文件夹。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/d1eea6e7b9e9af7117f9d0fa02785468.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*nZr2972qZVPxnSCCQuDVtw.png"/></div></div></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="3c89" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">5 —构建您的应用程序</h1><p id="76e5" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">现在，让我们构建Angular应用程序，并通过运行以下命令将更改同步到原生Android/iOS项目:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="d454" class="nm lw iq ni b gy nn no l np nq">ng build --prod</span><span id="c9cc" class="nm lw iq ni b gy oc no l np nq">npx cap sync</span></pre><p id="60b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nw nx ny ni b">npx cap sync</code>将复制iOS/Android项目中的构建文件夹。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="4fbb" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated"><strong class="ak"> 6 —打开Android studio或Xcode </strong></h1><p id="8692" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">您可以在Android Studio或Xcode上使用项目中的以下命令直接打开移动项目:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="42e4" class="nm lw iq ni b gy nn no l np nq">npx cap open ios<br/>npx cap open android</span></pre><p id="acf1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">注意:</strong>确保在执行上面的命令之前，首先<a class="ae ln" href="https://capacitorjs.com/docs/v3/getting-started/environment-setup" rel="noopener ugc nofollow" target="_blank">设置好您的环境</a>。</p><p id="8288" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，下一步是使用Android Studio或Xcode将您的应用程序直接部署到连接的设备或虚拟设备上。</p><p id="7252" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就我而言，我使用的是Android Studio。正如你在下图中看到的，我正在选择一个Pixel 4模拟器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/12880accf503d548a8a82fe3e8fcd524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*StFfvKd-sLqfMePqYuoKjw.png"/></div><p class="ns nt gj gh gi nu nv bd b be z dk translated">安卓工作室</p></figure><p id="fc49" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，单击运行或调试按钮运行您的应用程序。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="4e14" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">7 —运行应用程序！</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/0dd3bf3dab9d7306e658830f996d334d.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*lj67ApDj9s0PVOikFwIxXw.png"/></div><p class="ns nt gj gh gi nu nv bd b be z dk translated">在虚拟android设备上运行的应用程序</p></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="05e1" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">包扎</h1><p id="bda2" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">如您所见，在将现有的angular应用程序转换为原生移动应用程序方面，Capacitor非常强大。</p><p id="3c64" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">拥有一个适用于多个平台的代码库是如今我们所拥有的终极技能，这样我们不仅可以节省时间和金钱，还可以提高生产率。尽情享受吧！</p><p id="f80b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读，下期再见！</p></div></div>    
</body>
</html>