<html>
<head>
<title>Level Up Your Code: Start Writing Extensions Today</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提升你的代码:今天就开始编写扩展</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/start-writing-extensions-today-8bbd6d010f2d?source=collection_archive---------29-----------------------#2020-02-24">https://betterprogramming.pub/start-writing-extensions-today-8bbd6d010f2d?source=collection_archive---------29-----------------------#2020-02-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="991b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过编写扩展来扩展代码和语言</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6b5b07d5fdb65e3c9b2c37b934595f34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dPs6GdAkjx44NFTX"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@hishahadat?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">沙哈达特拉赫曼</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="154c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你曾经需要交换数组或列表中的两个项目吗？也许你写一个这样的函数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/5464798b209fe1e546052ad33d1227bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KqSAjhEDTKHedX1ivAL6qg.png"/></div></div></figure><p id="9dee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的，这是可行的，而且是可重用的，而不是仅仅在函数中编写逻辑。也许你把这个函数扔进了一个实用类。这是一个好的开始。</p><p id="888b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">唯一的问题是有人需要<em class="lw">知道</em>这个代码在那里。要重用这段代码，需要有人找到它，然后使用它。他们可以“搜索所有”来寻找<code class="fe lx ly lz ma b">swap</code>。他们可以看看实用程序类。但是这不是一个可扩展的解决方案。这是不可发现的。</p><p id="fcd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以你的朋友需要同样的功能。他没有发现你的功能。他写了几乎相同的代码，但是他写了一个扩展:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mb"><img src="../Images/9704e35fc4b0567abf377f2f54808dd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xq7nNh3BguwGet8MV5KfUw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">科特林的扩展的官方例子。</p></figure><p id="6d5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哦，这就像一个函数，我可以用在可变的整数列表上？太酷了。</p><p id="0f78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果你只是回顾这段代码，它隐藏了扩展的真正力量。你朋友写的<code class="fe lx ly lz ma b">swap</code>函数现在出现在这里:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mc"><img src="../Images/b9606feb9e64ff1be5ba1f7fa517b0cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L6694W9-5NvVFmBC82o2ZQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">更多自动完成选项！</p></figure><p id="be90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当处理一个可变的整数列表时，你朋友写的函数会在autocomplete菜单中显示出来。这是函数可发现性的巨大胜利。</p><p id="ba67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你朋友所做的实际上是扩展了<em class="lw"> </em>语言的功能，因此得名<em class="lw">扩展</em>。现在，代码库中任何地方的任何人都可以重用您的扩展，而无需明确知道代码在哪里。如果你的扩展命名恰当，它将融入语言本身！</p><p id="569c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不幸的是，作为一名程序员，你很容易永远不写扩展。这并不意味着你的生活将会结束，或者你的事业将永远不会进步。</p><p id="c814" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果你计划在一个代码库上工作很长一段时间，你会发现创建这个容易重用的代码有很大的好处。运用你最好的判断力。你写的代码会对其他人有用吗？这种功能是您正在使用的对象的自然延伸吗？把它变成一个扩展！</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="9ca1" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">并非所有的扩展都是平等的</h1><p id="9c81" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">也不是所有的语言都同样对待扩展。在我现在主要使用的语言(Swift、Kotlin)中，扩展是“一级”的，不需要特殊的思想或使用模式。如果你创建了一个扩展，你可以使用它！它的行为就像一个普通的函数。</p><p id="a8b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是多年来，我一直从事JavaScript工作——JavaScript中的扩展意味着原型。JavaScript中的原型是编程中真正的狂野西部。我害怕它们，也从未学会如何使用它们。</p><p id="dedf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想我现在已经看到了扩展的用处，我写了很多JavaScript。我对使用原型的真正恐惧几乎一无所知(缺乏类型安全性？这通常是一个Javascript问题)，但解决这些问题可能是值得的。</p><p id="a758" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在编写JavaScript，你应该使用类型安全的风格，比如Typescript。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="dae5" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated"><strong class="ak">自己试试吧！</strong></h1><p id="07eb" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">了解如何用您选择的语言编写扩展。将几个助手或实用函数改为扩展。在你眼前感受改变语言的力量。</p><p id="f4c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只要确保你的扩展没有任何<a class="ae ky" href="https://softwareengineering.stackexchange.com/questions/40297/what-is-a-side-effect" rel="noopener ugc nofollow" target="_blank">副作用</a>。</p></div></div>    
</body>
</html>