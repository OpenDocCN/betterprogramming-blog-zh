<html>
<head>
<title>How To Use Bootstrap in Your Vue.js Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Vue.js应用中使用Bootstrap</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-bootstrap-in-your-vue-js-apps-e655b8b1ef43?source=collection_archive---------1-----------------------#2019-08-10">https://betterprogramming.pub/how-to-use-bootstrap-in-your-vue-js-apps-e655b8b1ef43?source=collection_archive---------1-----------------------#2019-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4b00" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">带示例的简单指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c8c5396258496e2be4299ceb3167ff99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KfX2kQbC8sB8DwcI5IONGA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查尔斯·🇵🇭在<a class="ae ky" href="https://unsplash.com/search/photos/twitter?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="8663" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vue.js 是一个流行的构建单页面应用的前端框架。它提供了结构和抽象。应用程序是通过将部分应用程序组织成组件来构建的。数据绑定也是使用Vue.js的一个重要好处，每个组件都有自己的逻辑，显示东西的模板，风格。它还提供可选的路由和通量存储。<a class="ae ky" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a>是一个流行的框架，它提供了一组看起来不错的风格化小部件，减少了开发时间。Vue.js使构建前端应用程序变得非常容易和愉快。</p><p id="03f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Twitter制作了Bootstrap来设计他们自己的UI元素。它提供HTML、CSS和普通JavaScript形式的小部件。开发人员已经为Vue.js开发了一个Bootstrap插件，它提供了所有与Bootstrap相同的好处以及Vue.js的好处，比如数据绑定。Vue.js版本的Bootstrap称为<a class="ae ky" href="https://bootstrap-vue.js.org/" rel="noopener ugc nofollow" target="_blank"> Vue-Bootstrap </a>，作为一系列组件提供。</p><p id="93c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使用BootstrapVue，我们将小部件导入到我们的Vue应用程序中，并在模板中引用BootstrapVue组件。完整的组件列表<a class="ae ky" href="https://bootstrap-vue.js.org/docs/components/alert" rel="noopener ugc nofollow" target="_blank">可用</a>，还有<a class="ae ky" href="https://bootstrap-vue.js.org/docs/directives/popover" rel="noopener ugc nofollow" target="_blank">一些修改现有元素的指令</a>。</p><p id="c3b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个故事中，我们将创建一个使用<a class="ae ky" href="https://www.themealdb.com/api.php" rel="noopener ugc nofollow" target="_blank">膳食API </a>的应用程序。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="00c6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">构建应用程序</h1><p id="098a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">用Bootstrap构建Vue.js很容易。首先，我们需要Vue CLI。我们通过运行<code class="fe mz na nb nc b">npm install -g @vue/cli</code>来安装它。我们需要初始化项目。运行<code class="fe mz na nb nc b">vue create meal-app</code>。命令运行后，你可以进入<code class="fe mz na nb nc b">meal-app</code>文件夹，开始编写应用程序。</p><p id="59d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以开始构建应用程序了。我们运行<code class="fe mz na nb nc b">vue serve</code>来启动开发服务器。每当我们在项目文件夹中更改代码时，它都会刷新。</p><p id="e22a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们必须安装一些依赖项，如BootstrapVue和一个HTTP客户端，让我们通过应用程序发送和接收数据。为此，我们运行:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="7569" class="nh md it nc b gy ni nj l nk nl">npm i bootstrap bootstrap-vue superagent vee-validate vue-router</span></pre><p id="e7ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要这些库，因为我们使用Bootstrap来构建我们的应用程序。满足了这一需求。<code class="fe mz na nb nc b">superagent</code>是我们选择的HTTP客户端。<code class="fe mz na nb nc b">vee-validate</code>是一个用于验证Vue.js表单的库。<code class="fe mz na nb nc b">vue-router</code>用于路由用户输入到我们组件中的URL，以便我们的组件可以被看到。</p><p id="f03e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们拥有了编写代码所需的一切。我们从去<code class="fe mz na nb nc b">App.vue</code>开始，在那里我们补充:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="ac81" class="nh md it nc b gy ni nj l nk nl">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;nav-bar&gt;&lt;/nav-bar&gt;<br/>    &lt;div id='router-view'&gt;<br/>      &lt;router-view/&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="ec44" class="nh md it nc b gy nm nj l nk nl">&lt;script&gt;<br/>export default {<br/>  name: "app"<br/>};<br/>&lt;/script&gt;</span><span id="89e9" class="nh md it nc b gy nm nj l nk nl">&lt;style&gt;<br/>#app {<br/>  font-family: "Avenir", Helvetica, Arial, sans-serif;<br/>  -webkit-font-smoothing: antialiased;<br/>  -moz-osx-font-smoothing: grayscale;<br/>}</span><span id="7abe" class="nh md it nc b gy nm nj l nk nl">#router-view {<br/>  padding: 20px 0px;<br/>  margin: 0 auto;<br/>}<br/>&lt;/style&gt;</span></pre><p id="7f7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们页面的主要组成部分。它在<code class="fe mz na nb nc b">&lt;router-view/&gt;</code>中显示路由器路由到的内容，以及我们将创建的导航栏。</p><p id="7671" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来在<code class="fe mz na nb nc b">main.js</code>中，我们放入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="b657" class="nh md it nc b gy ni nj l nk nl">// The Vue build version to load with the `import` command<br/>// (runtime-only or standalone) has been set in webpack.base.conf with an alias.<br/>import Vue from 'vue'<br/>import App from './App'<br/>import router from './router'<br/>router.beforeEach((to, from, next) =&gt; {<br/>  document.title = to.meta.title;<br/>  next()<br/>})</span><span id="14c1" class="nh md it nc b gy nm nj l nk nl">let APIURL = '<a class="ae ky" href="http://mealapi.jauyeung.net/index.php/'" rel="noopener ugc nofollow" target="_blank">http://mealapi.jauyeung.net/index.php/'</a>;</span><span id="10d8" class="nh md it nc b gy nm nj l nk nl">Vue.config.productionTip = false</span><span id="e3df" class="nh md it nc b gy nm nj l nk nl">/* eslint-disable no-new */<br/>new Vue({<br/>  el: '#app',<br/>  router,<br/>  template: '&lt;App/&gt;',<br/>  components: { App }<br/>})</span><span id="198f" class="nh md it nc b gy nm nj l nk nl">export { APIURL };</span></pre><p id="e025" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将页面标题放在这个块中:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="1004" class="nh md it nc b gy ni nj l nk nl">router.beforeEach((to, from, next) =&gt; {<br/>  document.title = to.meta.title;<br/>  next()<br/>})</span></pre><p id="3d0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要调用<code class="fe mz na nb nc b">next()</code>以便加载下一条路线。</p><p id="b31f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vue路由器会监视URL的变化，并相应地设置标题。</p><p id="73ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的方块是我们应用程序的入口。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="04d4" class="nh md it nc b gy ni nj l nk nl">new Vue({<br/>  el: '#app',<br/>  router,<br/>  template: '&lt;App/&gt;',<br/>  components: { App }<br/>})</span></pre><p id="6e7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将应用程序放在ID为<code class="fe mz na nb nc b">app</code>的元素中。现在我们向<code class="fe mz na nb nc b">components</code>文件夹添加一些组件。如果不存在，请创建该文件夹。</p><p id="50be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后在文件夹中，我们创建以下文件:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="3174" class="nh md it nc b gy ni nj l nk nl">Filter.vue<br/><a class="ae ky" href="https://bitbucket.org/hauyeung/meal-app/src/master/src/components/FilterRow.vue" rel="noopener ugc nofollow" target="_blank">FilterRow.vue</a><br/>Latest.vue<br/>MealRow.vue<br/>NavBar.vue<br/>Random.vue<br/>Search.vue</span></pre><p id="0b84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在路由器中，我们创建<code class="fe mz na nb nc b">index.js</code>，并输入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="1cea" class="nh md it nc b gy ni nj l nk nl">import Vue from 'vue'<br/>import Router from 'vue-router'<br/>import Latest from '@/components/Latest'<br/>import Random from '@/components/Random'<br/>import Search from '@/components/Search'<br/>import BootstrapVue from 'bootstrap-vue'<br/>import 'bootstrap/dist/css/bootstrap.css'<br/>import 'bootstrap-vue/dist/bootstrap-vue.css'<br/>import VeeValidate from 'vee-validate';<br/>import MealRow from '../components/MealRow'<br/>import NavBar from '../components/NavBar'<br/>import Filter from '../components/Filter'<br/>import FilterRow from '../components/FilterRow'</span><span id="5506" class="nh md it nc b gy nm nj l nk nl">Vue.component('meal-row', MealRow);<br/>Vue.component('nav-bar', NavBar);<br/>Vue.component('filter-row', FilterRow);<br/>Vue.use(Router);<br/>Vue.use(BootstrapVue);<br/>Vue.use(VeeValidate);</span><span id="4c65" class="nh md it nc b gy nm nj l nk nl">export default new Router({<br/>  routes: [<br/>    {<br/>      path: '/',<br/>      name: 'latest',<br/>      component: Latest,<br/>      meta: { title: 'Home' }<br/>    },<br/>    {<br/>      path: '/random',<br/>      name: 'random',<br/>      component: Random,<br/>      meta: { title: 'Random' }<br/>    },<br/>    {<br/>      path: '/search',<br/>      name: 'search',<br/>      component: Search,<br/>      meta: { title: 'Search' }<br/>    },<br/>    {<br/>      path: '/search/:keyword',<br/>      name: 'search-keyword',<br/>      component: Search,<br/>      meta: { title: 'Search' }<br/>    },<br/>    {<br/>      path: '/search/:type/:keyword',<br/>      name: 'filter-keyword',<br/>      component: Filter,<br/>      meta: { title: 'Filter' }<br/>    }<br/>  ]<br/>})</span></pre><p id="a7f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这定义了我们所有的路线，以及我们与<code class="fe mz na nb nc b">Vue.use</code>一起使用的Vue附件。下面的代码块是我们注册模板中嵌套的组件的地方:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="28dc" class="nh md it nc b gy ni nj l nk nl">Vue.component('meal-row', MealRow);<br/>Vue.component('nav-bar', NavBar);<br/>Vue.component('filter-row', FilterRow);</span></pre><p id="8880" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将有一个搜索页面，一个页面显示随机食谱，一个页面显示来自膳食API的最新食谱。</p><p id="428c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">Filter.vue</code>中，我们输入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="25c4" class="nh md it nc b gy ni nj l nk nl">&lt;template&gt;<br/>  &lt;div class="container"&gt;<br/>    &lt;div class='row'&gt;<br/>      &lt;div class="col-12"&gt;<br/>        &lt;h1&gt;<br/>          &lt;span v-if="$route.params.type == 'category'"&gt;Category - &lt;/span&gt;<br/>          &lt;span v-if="$route.params.type == 'area'"&gt;Area - &lt;/span&gt;<br/>          {{$route.params.keyword}}<br/>        &lt;/h1&gt;<br/>        &lt;div v-for="meal in meals" v-bind:key='meal.idMeal'&gt;<br/>          &lt;filter-row :meal='meal'&gt;&lt;/filter-row&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="747c" class="nh md it nc b gy nm nj l nk nl">&lt;script&gt;<br/>const request = require("superagent");<br/>import { APIURL } from "../main";<br/>import MealRow from "./MealRow";</span><span id="46a8" class="nh md it nc b gy nm nj l nk nl">export default {<br/>  name: "search",<br/>  data() {<br/>    return {<br/>      keyword: "",<br/>      meals: []<br/>    };<br/>  },<br/>  methods: {<br/>    searchByParam(type, keyword) {<br/>      request.get(`${APIURL}filter/${type}/${keyword}`).end((err, res) =&gt; {<br/>        this.meals = res.body.meals;<br/>        if (!res.body.meals){<br/>          return;<br/>        }<br/>        this.meals = this.meals.map(m =&gt; {<br/>          m.ingredients = [];<br/>          m.measures = [];<br/>          for (let key in m) {<br/>            if (key.includes("strIngredient")) {<br/>              let index = +key.replace("strIngredient", "");<br/>              m.ingredients[index] = m[key];<br/>            }</span><span id="bd14" class="nh md it nc b gy nm nj l nk nl">if (key.includes("strMeasure")) {<br/>              let index = +key.replace("strMeasure", "");<br/>              m.measures[index] = m[key];<br/>            }<br/>          }<br/>          m.ingredients = m.ingredients.filter(i =&gt; {<br/>            return i;<br/>          });</span><span id="16a8" class="nh md it nc b gy nm nj l nk nl">m.measures = m.measures.filter(m =&gt; {<br/>            return m;<br/>          });<br/>          return m;<br/>        });<br/>      });<br/>    }<br/>  },<br/>  beforeMount() {<br/>    if (this.$route.params.keyword) {<br/>      this.searchByParam(this.$route.params.type, this.$route.params.keyword);<br/>    }<br/>  },<br/>  beforeRouteUpdate(to, from, next) {<br/>    this.searchByParam(to.params.type, to.params.keyword);<br/>    next();<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="fe36" class="nh md it nc b gy nm nj l nk nl">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>h1,<br/>h2 {<br/>  font-weight: normal;<br/>}<br/>ul {<br/>  list-style-type: none;<br/>  padding: 0;<br/>}<br/>li {<br/>  display: inline-block;<br/>  margin: 0 10px;<br/>}<br/>a {<br/>  color: #42b983;<br/>}<br/>&lt;/style&gt;</span></pre><p id="97ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们从API获取搜索结果的地方。我们触发对膳食API的请求并返回结果。使用Vue的数据绑定特性将结果返回给模板，并通过使用<code class="fe mz na nb nc b">v-for</code>指令循环显示结果。指令是修改现有元素的Vue.js代码片段。</p><p id="7794" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，当您转到<code class="fe mz na nb nc b">/#/search/chicken</code>时，<code class="fe mz na nb nc b">chicken</code>关键字被<code class="fe mz na nb nc b">this.$route.params.keyword</code>变量接收，并且<code class="fe mz na nb nc b">searchByParam</code>函数被运行以进行搜索。</p><p id="dbec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">FilterRow.vue</code>是<code class="fe mz na nb nc b">Filter.vue</code>的子组件。我们添加以下内容:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="524e" class="nh md it nc b gy ni nj l nk nl">&lt;template&gt;<br/>  &lt;div class="row"&gt;<br/>    &lt;div class="col"&gt;<br/>      &lt;h1&gt;{{meal.strMeal}}&lt;/h1&gt;<br/>      &lt;img :src="meal.strMealThumb" <a class="ae ky" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="showModal" class="meal-thumb"&gt;<br/>      &lt;b-modal ref="mealModal" hide-footer :title="meal.strMeal"&gt;<br/>        &lt;div class="row"&gt;<br/>          &lt;div class="col"&gt;<br/>            &lt;h1&gt;{{meal.strMeal}}&lt;/h1&gt;<br/>            &lt;p&gt;<br/>              &lt;b&gt;Area:&lt;/b&gt; {{meal.strArea}}&lt;/p&gt;<br/>            &lt;p&gt;<br/>              &lt;b&gt;Category:&lt;/b&gt; {{meal.strCategory}}&lt;/p&gt;<br/>            &lt;img :src="meal.strMealThumb" class="meal-photo"&gt;<br/>            &lt;table class="table"&gt;<br/>              &lt;thead&gt;<br/>                &lt;tr&gt;<br/>                  &lt;th&gt;Ingredient&lt;/th&gt;<br/>                  &lt;th&gt;Measure&lt;/th&gt;<br/>                &lt;/tr&gt;<br/>              &lt;/thead&gt;<br/>              &lt;tbody&gt;<br/>                &lt;tr v-for="(ingredient, index) in meal.ingredients" v-bind:key="index"&gt;<br/>                  &lt;td&gt;{{meal.ingredients[index]}}&lt;/td&gt;<br/>                  &lt;td&gt;{{meal.measures[index]}}&lt;/td&gt;<br/>                &lt;/tr&gt;<br/>              &lt;/tbody&gt;<br/>            &lt;/table&gt;<br/>          &lt;/div&gt;<br/>        &lt;/div&gt;<br/>        &lt;b-btn class="mt-3" variant="outline-danger" block <a class="ae ky" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="hideModal"&gt;Close&lt;/b-btn&gt;<br/>      &lt;/b-modal&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="c91f" class="nh md it nc b gy nm nj l nk nl">&lt;script&gt;<br/>const request = require("superagent");<br/>import { APIURL } from "../main";</span><span id="3b94" class="nh md it nc b gy nm nj l nk nl">export default {<br/>  name: "meal-row",<br/>  props: ["meal"],<br/>  data() {<br/>    return {};<br/>  },<br/>  methods: {<br/>    showModal() {<br/>      this.$refs.mealModal.show();<br/>      this.getMeal(this.meal.idMeal);<br/>    },<br/>    hideModal() {<br/>      this.$refs.mealModal.hide();<br/>    },<br/>    getMeal(id) {<br/>      request.get(`${APIURL}lookup/${id}`).end((err, res) =&gt; {<br/>        this.meal = res.body.meals[0];<br/>        this.meal.ingredients = [];<br/>        this.meal.measures = [];<br/>        for (let key in this.meal) {<br/>          if (key.includes("strIngredient")) {<br/>            let index = +key.replace("strIngredient", "");<br/>            this.meal.ingredients[index] = this.meal[key];<br/>          }</span><span id="fd4e" class="nh md it nc b gy nm nj l nk nl">if (key.includes("strMeasure")) {<br/>            let index = +key.replace("strMeasure", "");<br/>            this.meal.measures[index] = this.meal[key];<br/>          }<br/>        }<br/>        this.meal.ingredients = this.meal.ingredients.filter(i =&gt; {<br/>          return i;<br/>        });</span><span id="44f3" class="nh md it nc b gy nm nj l nk nl">this.meal.measures = this.meal.measures.filter(m =&gt; {<br/>          return m;<br/>        });<br/>      });<br/>    }<br/>  },<br/>  computed: {<br/>    computedClass: function() {<br/>      if (this.meal != null) {<br/>        return this.meal;<br/>      }</span><span id="a545" class="nh md it nc b gy nm nj l nk nl">return {};<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="8e6c" class="nh md it nc b gy nm nj l nk nl">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>.meal-photo {<br/>  width: 100%;<br/>}</span><span id="da26" class="nh md it nc b gy nm nj l nk nl">.meal-thumb {<br/>  cursor: pointer;<br/>  width: 100%;<br/>}<br/>&lt;/style&gt;</span></pre><p id="88cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">meal</code>属性是我们传入对象让<code class="fe mz na nb nc b">FilterRow</code>组件显示的地方。<code class="fe mz na nb nc b">b-modal</code>是BootstrapVue模式，我们用它来显示一个包含菜谱数据的弹出窗口。我们可以通过调用<code class="fe mz na nb nc b">this.$refs.mealModal.hide()</code>隐藏一个模态。<code class="fe mz na nb nc b">request.get</code>来自<code class="fe mz na nb nc b">superagent</code>图书馆。它返回promise，我们可以在它后面链接一个<code class="fe mz na nb nc b">then</code>函数，以便在promise完成后运行更多代码。</p><p id="1e14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">Latest.vue</code>中，我们放入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="d1fb" class="nh md it nc b gy ni nj l nk nl">&lt;template&gt;<br/>  &lt;div class="container"&gt;<br/>    &lt;div class="row"&gt;<br/>      &lt;div class="col"&gt;<br/>        &lt;h1&gt;Today's Meal: {{meal.strMeal}}&lt;/h1&gt;<br/>        &lt;p&gt;Area: {{meal.strArea}}&lt;/p&gt;<br/>        &lt;p&gt;Category: {{meal.strCategory}}&lt;/p&gt;<br/>        &lt;img :src="meal.strMealThumb" class="meal-photo"&gt;<br/>        &lt;table class="table"&gt;<br/>          &lt;thead&gt;<br/>            &lt;tr&gt;<br/>              &lt;th&gt;Ingredient&lt;/th&gt;<br/>              &lt;th&gt;Measure&lt;/th&gt;<br/>            &lt;/tr&gt;<br/>          &lt;/thead&gt;<br/>          &lt;tbody&gt;<br/>            &lt;tr v-for="(ingredient, index) in meal.ingredients" v-bind:key="index"&gt;<br/>              &lt;td&gt;{{meal.ingredients[index]}}&lt;/td&gt;<br/>              &lt;td&gt;{{meal.measures[index]}}&lt;/td&gt;<br/>            &lt;/tr&gt;<br/>          &lt;/tbody&gt;<br/>        &lt;/table&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="5b3c" class="nh md it nc b gy nm nj l nk nl">&lt;script&gt;<br/>const request = require("superagent");<br/>import { APIURL } from "../main";</span><span id="a856" class="nh md it nc b gy nm nj l nk nl">export default {<br/>  name: "latest",<br/>  data() {<br/>    return {<br/>      meal: {}<br/>    };<br/>  },<br/>  methods: {},<br/>  beforeMount: function() {<br/>    request.get(`${APIURL}latest`).end((err, res) =&gt; {<br/>      this.meal = res.body.meals[0];<br/>      this.meal.ingredients = [];<br/>      this.meal.measures = [];<br/>      for (let key in this.meal) {<br/>        if (key.includes("strIngredient")) {<br/>          let index = +key.replace("strIngredient", "");<br/>          this.meal.ingredients[index] = this.meal[key];<br/>        }</span><span id="420e" class="nh md it nc b gy nm nj l nk nl">      if (key.includes("strMeasure")) {<br/>          let index = +key.replace("strMeasure", "");<br/>          this.meal.measures[index] = this.meal[key];<br/>        }<br/>      }<br/>      this.meal.ingredients = this.meal.ingredients.filter(i =&gt; {<br/>        return i;<br/>      });</span><span id="63cb" class="nh md it nc b gy nm nj l nk nl">this.meal.measures = this.meal.measures.filter(m =&gt; {<br/>        return m;<br/>      });<br/>    });<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="ba16" class="nh md it nc b gy nm nj l nk nl">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>.meal-photo {<br/>  width: 100%;<br/>}<br/>&lt;/style&gt;</span></pre><p id="d41f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该页面获取最新的膳食，并在我们应用程序的主页上显示给用户，因为我们在<code class="fe mz na nb nc b">index.js</code>中有以下行。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="15bc" class="nh md it nc b gy ni nj l nk nl">{<br/>  path: '/',<br/>  name: 'latest',<br/>  component: Latest,<br/>  meta: { title: 'Home' }<br/>},</span></pre><p id="4f6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">title</code>字段是页面的标题。它将位于以下对象的<code class="fe mz na nb nc b">to</code>对象的<code class="fe mz na nb nc b">to.meta.title</code>字段中:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="18f7" class="nh md it nc b gy ni nj l nk nl">router.beforeEach((to, from, next) =&gt; {<br/>  document.title = to.meta.title;<br/>  next()<br/>})</span></pre><p id="e726" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">MealRow.vue</code>中，我们输入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="f916" class="nh md it nc b gy ni nj l nk nl">&lt;template&gt;<br/>  &lt;div class="row"&gt;<br/>    &lt;div class="col"&gt;<br/>      &lt;h1&gt;{{meal.strMeal}}&lt;/h1&gt;<br/>      &lt;p&gt;<br/>        &lt;b&gt;Area:&lt;/b&gt; {{meal.strArea}}&lt;/p&gt;<br/>      &lt;p&gt;<br/>        &lt;b&gt;Category:&lt;/b&gt; {{meal.strCategory}}&lt;/p&gt;<br/>      &lt;table class="table"&gt;<br/>        &lt;thead&gt;<br/>          &lt;tr&gt;<br/>            &lt;th&gt;Ingredient&lt;/th&gt;<br/>            &lt;th&gt;Measure&lt;/th&gt;<br/>          &lt;/tr&gt;<br/>        &lt;/thead&gt;<br/>        &lt;tbody&gt;<br/>          &lt;tr v-for="(ingredient, index) in meal.ingredients" v-bind:key="index"&gt;<br/>            &lt;td&gt;{{meal.ingredients[index]}}&lt;/td&gt;<br/>            &lt;td&gt;{{meal.measures[index]}}&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>        &lt;/tbody&gt;<br/>      &lt;/table&gt;<br/>      &lt;img :src="meal.strMealThumb"&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="99eb" class="nh md it nc b gy nm nj l nk nl">&lt;script&gt;<br/>const request = require("superagent");<br/>import { APIURL } from "../main";</span><span id="109a" class="nh md it nc b gy nm nj l nk nl">export default {<br/>  name: "meal-row",<br/>  props: ["meal"],<br/>  data() {<br/>    return {};<br/>  },<br/>  methods: {},<br/>  computed: {<br/>    computedClass: function() {<br/>      if (this.meal != null) {<br/>        return this.meal;<br/>      }</span><span id="0955" class="nh md it nc b gy nm nj l nk nl">return {};<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="7764" class="nh md it nc b gy nm nj l nk nl">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>img {<br/>    max-width: 100%;<br/>}<br/>&lt;/style&gt;</span></pre><p id="2355" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它显示了食谱的成分。</p><p id="6a6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">NavBar.vue</code>包含我们应用程序的导航栏。我们把:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="abde" class="nh md it nc b gy ni nj l nk nl">&lt;template&gt;<br/>  &lt;b-navbar toggleable="md" type="dark" variant="info"&gt;</span><span id="b1ad" class="nh md it nc b gy nm nj l nk nl">    &lt;b-navbar-toggle target="nav_collapse"&gt;&lt;/b-navbar-toggle&gt;</span><span id="ea27" class="nh md it nc b gy nm nj l nk nl">    &lt;b-navbar-brand&gt;<br/>      &lt;img :src="require('../assets/logo-small.png')" id='logo'&gt; Meal App<br/>    &lt;/b-navbar-brand&gt;</span><span id="ea62" class="nh md it nc b gy nm nj l nk nl">    &lt;b-collapse is-nav id="nav_collapse"&gt;</span><span id="2e44" class="nh md it nc b gy nm nj l nk nl">      &lt;b-navbar-nav&gt;<br/>        &lt;b-nav-item :to="{ name: 'latest'}" :active="$route.name == 'latest'"&gt;Home&lt;/b-nav-item&gt;<br/>        &lt;b-nav-item :to="{ name: 'random'}" :active="$route.name.includes('random')"&gt;Random&lt;/b-nav-item&gt;<br/>        &lt;b-nav-item :to="{ name: 'search'}" :active="$route.name.includes('search')"&gt;Search&lt;/b-nav-item&gt;</span><span id="2c64" class="nh md it nc b gy nm nj l nk nl">        &lt;b-nav-item-dropdown text="Categories" right&gt;<br/>          &lt;b-dropdown-item v-for="(cat, index) in categories" :active="$route.path.includes(`search/category/${cat.strCategory}`)" :key='index' :to="`/search/category/${cat.strCategory}`"&gt;<br/>            {{cat.strCategory}}<br/>          &lt;/b-dropdown-item&gt;<br/>        &lt;/b-nav-item-dropdown&gt;</span><span id="784b" class="nh md it nc b gy nm nj l nk nl">        &lt;b-nav-item-dropdown text="Areas" right&gt;<br/>          &lt;b-dropdown-item v-for="(area, index) in areas" :active="$route.path.includes(`search/area/${area.strArea}`)" :key='index' :to="`/search/area/${area.strArea}`"&gt;<br/>            {{area.strArea}}<br/>          &lt;/b-dropdown-item&gt;<br/>        &lt;/b-nav-item-dropdown&gt;</span><span id="7167" class="nh md it nc b gy nm nj l nk nl">     &lt;/b-navbar-nav&gt;</span><span id="3d5e" class="nh md it nc b gy nm nj l nk nl">     &lt;!-- Right aligned nav items --&gt;<br/>     &lt;b-navbar-nav class="ml-auto"&gt;<br/>        &lt;b-nav-form <a class="ae ky" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>="search"&gt;<br/>          &lt;b-form-input size="sm" class="mr-sm-2" type="text" placeholder="Search" name='keyword' v-model="keyword" v-validate="'required'" /&gt;<br/>          &lt;b-button size="sm" class="my-2 my-sm-0" type="submit"&gt;Search&lt;/b-button&gt;<br/>        &lt;/b-nav-form&gt;<br/>      &lt;/b-navbar-nav&gt;</span><span id="87d3" class="nh md it nc b gy nm nj l nk nl">    &lt;/b-collapse&gt;<br/>  &lt;/b-navbar&gt;<br/>&lt;/template&gt;</span><span id="c175" class="nh md it nc b gy nm nj l nk nl">&lt;script&gt;<br/>const request = require("superagent");<br/>import { APIURL } from "../main";</span><span id="47e5" class="nh md it nc b gy nm nj l nk nl">export default {<br/>  name: "nav-bar",<br/>  data() {<br/>    return {<br/>      keyword: "",<br/>      categories: [],<br/>      areas: [],<br/>      ingredients: []<br/>    };<br/>  },<br/>  methods: {<br/>    search(evt) {<br/>      evt.preventDefault();<br/>      if (this.errors.any()){<br/>        return;<br/>      }<br/>      this.$router.push({<br/>        name: 'search-keyword',<br/>        params: {<br/>          keyword: this.keyword<br/>        }<br/>      });      <br/>    }<br/>  },<br/>  beforeMount() {<br/>    request.get(`${APIURL}categories`).end((err, res) =&gt; {<br/>      this.categories = res.body.meals;<br/>    });</span><span id="6b16" class="nh md it nc b gy nm nj l nk nl">request.get(`${APIURL}area`).end((err, res) =&gt; {<br/>      this.areas = res.body.meals;<br/>    });</span><span id="d852" class="nh md it nc b gy nm nj l nk nl">request.get(`${APIURL}ingredients`).end((err, res) =&gt; {<br/>      this.ingredients = res.body.meals;<br/>    });<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="598c" class="nh md it nc b gy nm nj l nk nl">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>#logo {<br/>  width: 100px;<br/>  margin-top: -3px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="c7d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从MealDB API获取类别后，我们显示类别下拉列表，并对Areas菜单进行同样的操作。</p><p id="e39e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，我们有:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="27e0" class="nh md it nc b gy ni nj l nk nl">&lt;b-navbar toggleable="md" type="dark" variant="info"&gt;</span><span id="5d8a" class="nh md it nc b gy nm nj l nk nl">  &lt;b-navbar-toggle target="nav_collapse"&gt;&lt;/b-navbar-toggle&gt;</span><span id="f848" class="nh md it nc b gy nm nj l nk nl">  &lt;b-navbar-brand&gt;<br/>      &lt;img :src="require('../assets/logo-small.png')" id='logo'&gt; Meal App<br/>  &lt;/b-navbar-brand&gt;</span><span id="4ac3" class="nh md it nc b gy nm nj l nk nl">  &lt;b-collapse is-nav id="nav_collapse"&gt;</span><span id="a10f" class="nh md it nc b gy nm nj l nk nl">     &lt;b-navbar-nav&gt;<br/>        &lt;b-nav-item :to="{ name: 'latest'}" :active="$route.name == 'latest'"&gt;Home&lt;/b-nav-item&gt;<br/>        &lt;b-nav-item :to="{ name: 'random'}" :active="$route.name.includes('random')"&gt;Random&lt;/b-nav-item&gt;<br/>        &lt;b-nav-item :to="{ name: 'search'}" :active="$route.name.includes('search')"&gt;Search&lt;/b-nav-item&gt;</span><span id="4c57" class="nh md it nc b gy nm nj l nk nl">        &lt;b-nav-item-dropdown text="Categories" right&gt;<br/>          &lt;b-dropdown-item v-for="(cat, index) in categories" :active="$route.path.includes(`search/category/${cat.strCategory}`)" :key='index' :to="`/search/category/${cat.strCategory}`"&gt;<br/>            {{cat.strCategory}}<br/>          &lt;/b-dropdown-item&gt;<br/>        &lt;/b-nav-item-dropdown&gt;</span><span id="2b1a" class="nh md it nc b gy nm nj l nk nl">        &lt;b-nav-item-dropdown text="Areas" right&gt;<br/>          &lt;b-dropdown-item v-for="(area, index) in areas" :active="$route.path.includes(`search/area/${area.strArea}`)" :key='index' :to="`/search/area/${area.strArea}`"&gt;<br/>            {{area.strArea}}<br/>          &lt;/b-dropdown-item&gt;<br/>        &lt;/b-nav-item-dropdown&gt;</span><span id="d962" class="nh md it nc b gy nm nj l nk nl">    &lt;/b-navbar-nav&gt;</span><span id="3909" class="nh md it nc b gy nm nj l nk nl">&lt;!-- Right aligned nav items --&gt;<br/>     &lt;b-navbar-nav class="ml-auto"&gt;<br/>        &lt;b-nav-form <a class="ae ky" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>="search"&gt;<br/>          &lt;b-form-input size="sm" class="mr-sm-2" type="text" placeholder="Search" name='keyword' v-model="keyword" v-validate="'required'" /&gt;<br/>          &lt;b-button size="sm" class="my-2 my-sm-0" type="submit"&gt;Search&lt;/b-button&gt;<br/>        &lt;/b-nav-form&gt;<br/>      &lt;/b-navbar-nav&gt;</span><span id="e37f" class="nh md it nc b gy nm nj l nk nl">  &lt;/b-collapse&gt;<br/>&lt;/b-navbar&gt;</span></pre><p id="8d6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这定义了我们的左右导航。BootstrapVue使得定义导航栏变得非常简单。左边部分是菜单，右边部分是搜索框，当我们提交搜索关键字时，搜索框将重定向到<code class="fe mz na nb nc b">Filter.vue</code>组件。</p><p id="236e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，我们使用<code class="fe mz na nb nc b">form-input</code>作为输入。这样我们就可以从Vue.js提供的双向数据绑定中获益。<code class="fe mz na nb nc b">v-model</code>是我们进行数据绑定的地方。<code class="fe mz na nb nc b">v-validate</code>提供<code class="fe mz na nb nc b">vee-validate</code> Vue包。它表示表单字段是必需的。它还用下面的代码块向我们的组件添加了一个<code class="fe mz na nb nc b">this.errors</code>对象:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="7b8f" class="nh md it nc b gy ni nj l nk nl">if (this.errors.any()){<br/>  return;<br/>}</span></pre><p id="5764" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还添加了<code class="fe mz na nb nc b">evt.preventDefault();</code>来防止浏览器的默认提交行为，即向某个服务器发送请求并刷新页面。相反，这允许提交处理函数的其余部分继续运行，并让我们向MealDB API发出请求以获得我们想要的数据。</p><p id="1c80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将防止表单提交无效数据。</p><p id="9432" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的块使用关键字作为查询参数进行重定向。</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="082d" class="nh md it nc b gy ni nj l nk nl">this.$router.push({<br/>  name: 'search-keyword',<br/>  params: {<br/>    keyword: this.keyword<br/>  }<br/>});</span></pre><p id="30ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">Random.vue</code>中，我们输入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="e1cb" class="nh md it nc b gy ni nj l nk nl">&lt;template&gt;<br/>  &lt;div class="container"&gt;<br/>    &lt;h1&gt;Random Recipes&lt;/h1&gt;<br/>    &lt;div class='row'&gt;<br/>      &lt;div class="col-12"&gt;<br/>        &lt;div v-for="meal in meals" :key='meal.idMeal'&gt;<br/>          &lt;meal-row :meal='meal'&gt;&lt;/meal-row&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="fbe4" class="nh md it nc b gy nm nj l nk nl">&lt;script&gt;<br/>const request = require("superagent");<br/>import { APIURL } from "../main";</span><span id="ef57" class="nh md it nc b gy nm nj l nk nl">export default {<br/>  name: "random-recipe",<br/>  data() {<br/>    return {<br/>      meals: []<br/>    };<br/>  },<br/>  methods: {<br/>    search() {<br/>      request.get(`${APIURL}random`).end((err, res) =&gt; {<br/>        this.meals = res.body.meals;<br/>        this.meals = this.meals.map(m =&gt; {<br/>          m.ingredients = [];<br/>          m.measures = [];<br/>          for (let key in m) {<br/>            if (key.includes("strIngredient")) {<br/>              let index = +key.replace("strIngredient", "");<br/>              m.ingredients[index] = m[key];<br/>            }</span><span id="97e4" class="nh md it nc b gy nm nj l nk nl">            if (key.includes("strMeasure")) {<br/>              let index = +key.replace("strMeasure", "");<br/>              m.measures[index] = m[key];<br/>            }<br/>          }<br/>          m.ingredients = m.ingredients.filter(i =&gt; {<br/>            return i;<br/>          });</span><span id="2dc0" class="nh md it nc b gy nm nj l nk nl">          m.measures = m.measures.filter(m =&gt; {<br/>            return m;<br/>          });<br/>          return m;<br/>        });<br/>      });<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.search();<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="dcb2" class="nh md it nc b gy nm nj l nk nl">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;</span><span id="97cc" class="nh md it nc b gy nm nj l nk nl">&lt;/style&gt;</span></pre><p id="87b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将通过调用<code class="fe mz na nb nc b">random</code>端点并显示从该端点返回的任何内容，从MealDB API生成一个随机配方。</p><p id="6d8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">Search.vue</code>中，我们输入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="0abc" class="nh md it nc b gy ni nj l nk nl">&lt;template&gt;<br/>  &lt;div class="container"&gt;<br/>    &lt;div class='row'&gt;<br/>      &lt;div class="col-12"&gt;<br/>        &lt;h1&gt;Search&lt;/h1&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class='row'&gt;<br/>      &lt;div class="col-12"&gt;<br/>        &lt;b-form <a class="ae ky" href="http://twitter.com/submit" rel="noopener ugc nofollow" target="_blank">@submit</a>="search" <a class="ae ky" href="http://twitter.com/reset" rel="noopener ugc nofollow" target="_blank">@reset</a>="keyword = ''"&gt;<br/>          &lt;b-form-group label="Keyword"&gt;<br/>            &lt;b-form-input type="text" v-model="keyword" required name="keyword" v-validate="'required'" placeholder="Search keyword"&gt;<br/>            &lt;/b-form-input&gt;<br/>            &lt;span v-show="errors.has('keyword')"&gt;{{ errors.first('keyword') }}&lt;/span&gt;<br/>          &lt;/b-form-group&gt;<br/>          &lt;b-button type="submit" variant="primary"&gt;Search&lt;/b-button&gt;<br/>        &lt;/b-form&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class='row'&gt;<br/>      &lt;div class="col-12" v-if="meals &amp;&amp; meals.length &gt; 0"&gt;<br/>        &lt;h1&gt;Results&lt;/h1&gt;<br/>        &lt;div v-for="meal in meals" v-bind:key='meal.idMeal'&gt;<br/>          &lt;meal-row :meal='meal'&gt;&lt;/meal-row&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>      &lt;div class="col-12" v-else&gt;<br/>        &lt;h2&gt;No Results Found&lt;/h2&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="0468" class="nh md it nc b gy nm nj l nk nl">&lt;script&gt;<br/>const request = require("superagent");<br/>import { APIURL } from "../main";<br/>import MealRow from "./MealRow";</span><span id="7d86" class="nh md it nc b gy nm nj l nk nl">export default {<br/>  name: "search",<br/>  data() {<br/>    return {<br/>      keyword: "",<br/>      meals: []<br/>    };<br/>  },<br/>  methods: {<br/>    search(evt) {<br/>      evt.preventDefault();<br/>      if (this.errors.any()) {<br/>        return;<br/>      }<br/>      request.get(`${APIURL}search/${this.keyword}`).end((err, res) =&gt; {<br/>        this.meals = res.body.meals;<br/>        if (!res.body.meals){<br/>          return;<br/>        }<br/>        this.meals = this.meals.map(m =&gt; {<br/>          m.ingredients = [];<br/>          m.measures = [];<br/>          for (let key in m) {<br/>            if (key.includes("strIngredient")) {<br/>              let index = +key.replace("strIngredient", "");<br/>              m.ingredients[index] = m[key];<br/>            }</span><span id="945f" class="nh md it nc b gy nm nj l nk nl">          if (key.includes("strMeasure")) {<br/>              let index = +key.replace("strMeasure", "");<br/>              m.measures[index] = m[key];<br/>            }<br/>          }<br/>          m.ingredients = m.ingredients.filter(i =&gt; {<br/>            return i;<br/>          });</span><span id="af2d" class="nh md it nc b gy nm nj l nk nl">          m.measures = m.measures.filter(m =&gt; {<br/>            return m;<br/>          });<br/>          return m;<br/>        });<br/>      });<br/>    },</span><span id="2089" class="nh md it nc b gy nm nj l nk nl">    searchParam(keyword) {<br/>      this.keyword = keyword;<br/>      request<br/>        .get(`${APIURL}search/${keyword}`)<br/>        .end((err, res) =&gt; {<br/>          this.meals = res.body.meals;<br/>          this.meals = this.meals.map(m =&gt; {<br/>            m.ingredients = [];<br/>            m.measures = [];<br/>            for (let key in m) {<br/>              if (key.includes("strIngredient")) {<br/>                let index = +key.replace("strIngredient", "");<br/>                m.ingredients[index] = m[key];<br/>              }</span><span id="cf8f" class="nh md it nc b gy nm nj l nk nl">              if (key.includes("strMeasure")) {<br/>                let index = +key.replace("strMeasure", "");<br/>                m.measures[index] = m[key];<br/>              }<br/>            }<br/>            m.ingredients = m.ingredients.filter(i =&gt; {<br/>              return i;<br/>            });</span><span id="cb3b" class="nh md it nc b gy nm nj l nk nl">            m.measures = m.measures.filter(m =&gt; {<br/>              return m;<br/>            });<br/>            return m;<br/>          });<br/>        });<br/>    }<br/>  },<br/>  beforeMount() {<br/>    this.$route.params.keyword &amp;&amp; this.searchParam(this.$route.params.keyword);<br/>  },<br/>  beforeRouteUpdate(to, from, next) {<br/>    this.searchParam(to.params.keyword);<br/>    next();<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="1e08" class="nh md it nc b gy nm nj l nk nl">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;<br/>&lt;style scoped&gt;<br/>h1,<br/>h2 {<br/>  font-weight: normal;<br/>}<br/>ul {<br/>  list-style-type: none;<br/>  padding: 0;<br/>}<br/>li {<br/>  display: inline-block;<br/>  margin: 0 10px;<br/>}<br/>a {<br/>  color: #42b983;<br/>}<br/>&lt;/style&gt;</span></pre><p id="1ab2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个搜索页面，我们可以通过关键字进行搜索。它通过发送表单中输入的关键字并显示数据来工作。</p><p id="6dca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">assets</code>文件夹中，我们可以添加一个徽标，也可以从工具栏中删除图像。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="edc0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">结果</strong></h1><p id="0a1c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">添加所有代码后，我们有:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/b0c39a14c161be1d1931a554d163cf4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sos5lh5Mk7FGJh8Ir15Fwg.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/350f9731baa737aa4fc4fb84815d70c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nj2qTeOHwFmvZdXGO60kdQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/f37484b3ac51548f8b865606337e794e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yO1xGIdFGpYPXiRyW20yqg.png"/></div></div></figure><p id="eefd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">现在在【http://jauyeung.net/subscribe/】<a class="ae ky" href="http://jauyeung.net/subscribe/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"/></a><strong class="lb iu">订阅我的邮件列表。在推特上关注我，点击</strong><a class="ae ky" href="https://twitter.com/AuMayeung" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">https://twitter.com/AuMayeung</strong></a></strong></p></div></div>    
</body>
</html>