<html>
<head>
<title>React Navigation for Beginners (Advanced Version-3)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应导航初学者(高级版-3)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/react-native-navigating-between-the-screens-and-code-structure-for-beginners-6b815ee8f79?source=collection_archive---------0-----------------------#2018-08-10">https://betterprogramming.pub/react-native-navigating-between-the-screens-and-code-structure-for-beginners-6b815ee8f79?source=collection_archive---------0-----------------------#2018-08-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5fa3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">看看基本代码和导航</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/eccd9243f42063fb7ec20362b47e8bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7kISdBIKUvoYNVUpH4FDlA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@coltonsturgeon?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">拍摄的科尔顿鲟鱼</a>在<a class="ae ky" href="https://unsplash.com/search/photos/compass-keyboard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="45e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几个月前，我开始与React Native合作，我必须说这是一次令人惊叹的旅程。我从一名全职的前端开发人员，以HTML和CSS作为我的知识库来创建网站，到React Native，它是基于成熟的JavaScript构建的。</p><p id="84ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将告诉你基本的代码结构和导航。对于任何初学者来说，轻松创建一个React本机应用程序并在屏幕之间导航都很有帮助。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9e56" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">项目设置</h1><p id="e185" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">您可以访问React Native站点，了解关于该框架的更多信息。当您访问该网站时，您有两种选择—一种是帮助您入门，另一种是帮助您学习基础知识。因为我们将在这篇文章中探索代码结构，所以我将在这里更详细地讨论它。如果您想学习基础知识来增强您的概念，请随意浏览React Native <a class="ae ky" href="https://facebook.github.io/react-native/docs/getting-started" rel="noopener ugc nofollow" target="_blank">站点</a>。</p><h2 id="8c52" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">开始之前，请确保您的系统中安装了以下软件:</h2><ol class=""><li id="817c" class="nl nm it lb b lc mu lf mv li nn lm no lq np lu nq nr ns nt bi translated">XCode应用程序(适用于Mac系统)。可以从app store安装。</li><li id="2868" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">Android Studio(可选)</li><li id="b674" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated"><a class="ae ky" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">节点</a>最新版本</li><li id="fede" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">带终端的代码编辑器(Visual studio代码)。</li></ol><p id="023c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您安装了Node，请在终端中输入以下命令:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="3651" class="mz md it oa b gy oe of l og oh">npm install -g react-native-cli</span></pre><p id="a200" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将在你的系统中安装<code class="fe oi oj ok oa b">react-native-cli</code>。现在是时候创建应用程序了。在终端中输入以下命令:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="014a" class="mz md it oa b gy oe of l og oh">react-native init MyProjectName</span></pre><p id="6f68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们必须等待几分钟，直到项目安装完毕。完成后，您可以通过输入以下命令来访问刚刚创建的应用程序的文件夹:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="8199" class="mz md it oa b gy oe of l og oh">cd MyProjectName</span></pre><p id="359d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以看到用<code class="fe oi oj ok oa b">react-native-cli</code>提供的默认文件和文件夹安装的app的完整代码结构。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/a7c860b7859ed5a3339dfa273bdff48e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*iOeBpmDwiznUsIjfxhv48Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React Native提供的默认代码结构</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="adb5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建我们自己的屏幕和组件</h1><p id="3edc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">由于我们已经完成了项目环境的设置，是时候给它一个个人风格了。现在，我将创建我将在应用程序中使用的屏幕和组件。</p><h2 id="be8c" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">创建src文件夹</h2><p id="1f82" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">就在<code class="fe oi oj ok oa b">node modules</code>文件夹下面，添加一个文件夹，命名为<code class="fe oi oj ok oa b">src</code>。</p><p id="fea5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，你可以随意命名这个文件夹。我将它命名为<code class="fe oi oj ok oa b">src </code>,因为它通常被推荐用来帮助其他开发者理解应用程序的源代码在哪里。</p><p id="065b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你创建了<code class="fe oi oj ok oa b">src</code>文件夹，你必须在<code class="fe oi oj ok oa b">src </code>文件夹中再创建两个文件夹。一个用于将要创建的屏幕，一个用于组件。完成添加后，您的代码结构将如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/0794a8fa2b879f289017cd2e2e4716ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*sRfbp-IVFmjndC_AQLnG7g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有屏幕和组件的src文件夹</p></figure><p id="8c53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在继续创建屏幕之前，让我们学习如何将React原生应用导航到您的代码。为此，我们将在现有文件中进行以下更改。我将使用React导航在屏幕之间导航。您可以在项目的终端中使用以下代码安装它:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="ab45" class="mz md it oa b gy oe of l og oh">npm install react-navigation</span></pre><p id="c02c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装React Navigation后，转到文件夹结构并创建一个名为<code class="fe oi oj ok oa b">Route.js</code>的文件。这将包含在应用程序内的屏幕之间导航的代码。应该是加在<code class="fe oi oj ok oa b">src </code>文件夹外，像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/11da7ed4e194e6c263627c4a389e4a4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*1GVX2Apy07uIjXZ9JDYfJg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">路线文件</p></figure><p id="837e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，在<code class="fe oi oj ok oa b">Routes </code>文件中，添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="51ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在上面的代码中看到，我在代码中导入了两个文件——<code class="fe oi oj ok oa b">Home </code>和<code class="fe oi oj ok oa b">Profile</code>——并在导航组件中使用了它们。这两个文件基本上是包含我的应用程序代码的屏幕。稍后我会详细介绍它们。现在，不要担心他们。</p><p id="f926" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转到项目文件夹中的<code class="fe oi oj ok oa b">App.js</code>文件，删除所有现有代码。然后，添加以下代码行:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="bc87" class="mz md it oa b gy oe of l og oh">import React, {Component} from "react";<br/>import Routes from "./Routes";<br/>const App = () =&gt; &lt;Routes/&gt;</span><span id="af31" class="mz md it oa b gy oq of l og oh">export default App;</span></pre><p id="d99b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦完成了对<code class="fe oi oj ok oa b">App.js</code>文件的修改，就该对<code class="fe oi oj ok oa b">index.js </code>文件进行修改以完成导航过程了。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="662b" class="mz md it oa b gy oe of l og oh">import { AppRegistry } from 'react-native';<br/>import App from './App';<br/>console.ignoredYellowBox = ['Warning: Each', 'Warning: Failed'];<br/>AppRegistry.registerComponent('AwesomeProject', () =&gt; App);</span></pre><p id="1433" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在导航设置已经完成，我们可以开始为我们的应用程序创建自己的屏幕和组件了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a0d0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">屏幕创建和导航</h1><p id="92be" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">转到您创建的<code class="fe oi oj ok oa b">src</code>文件夹中的屏幕文件夹，添加两个文件— <code class="fe oi oj ok oa b">Home.js</code>和<code class="fe oi oj ok oa b">Profile.js</code>。是的，你猜对了。我们正在创建我上面提到的屏幕。</p><p id="4a70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建完这些文件后，让我们添加代码并链接它们，以便在两个屏幕之间导航。</p><h2 id="d8ca" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">Home.js</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><h2 id="31ec" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">简介. js</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="a466" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你一定注意到了这两个文件的代码几乎是一样的。这是因为我现在专注于导航，而不是内容创作。我可能会在我的下一篇文章中写下它们，让你对内容有一个更好的了解。</p><p id="6bd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过，让我解释一下上面屏幕代码的基础:</p><ol class=""><li id="3946" class="nl nm it lb b lc ld lf lg li or lm os lq ot lu nq nr ns nt bi translated">在第一行，我们导入了React库。</li><li id="6236" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">在下一行中，我们从React Native 导入所有的<a class="ae ky" href="https://facebook.github.io/react-native/docs/components-and-apis" rel="noopener ugc nofollow" target="_blank">组件，这是我们创建屏幕所需要的。</a></li><li id="fcb7" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">然后，我创建了与文件同名的类。没必要，但建议避免混淆。</li><li id="effe" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">静态导航选项基本上是针对标题的。您可以通过使用静态导航选项来<a class="ae ky" href="https://reactnavigation.org/docs/en/getting-started.html" rel="noopener ugc nofollow" target="_blank">改变和操作</a>这一点。</li><li id="6620" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">然后我设计了组件视图的样式，类似于HTML代码中的div元素。您也可以在代码的末尾设计组件的样式，但是这还是取决于您。</li><li id="dc90" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">接下来，我有一个按钮将我链接到另一个屏幕，这类似于HTML中的<code class="fe oi oj ok oa b">&lt;a&gt;</code>标签。还记得我们上面安装<a class="ae ky" href="https://reactnavigation.org/docs/en/getting-started.html" rel="noopener ugc nofollow" target="_blank"> React导航</a>库的时候吗？这是它帮助开发人员或用户在屏幕之间导航的地方。</li><li id="5aaa" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">最后，我已经导出了整个类，这样我们就可以在应用程序中的其他地方导入它。这也可以在课程开始时完成，如下所示:</li></ol><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="231a" class="mz md it oa b gy oe of l og oh">export default class Home extends React.Component {</span><span id="dd2d" class="mz md it oa b gy oq of l og oh">.....Code here.....</span><span id="524b" class="mz md it oa b gy oq of l og oh">}</span></pre><p id="512c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以现在你差不多完成了。转到终端，输入以下命令。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="e583" class="mz md it oa b gy oe of l og oh">react-native run-ios</span></pre><p id="8e1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">构建开发过程完成后，您会看到类似这样的内容:</p><h2 id="6334" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">主屏幕:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/1a079e242a2df11476db4e78f03e8a83.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*CtyXFqrnivyDt6QW7xWsPQ.png"/></div></figure><h2 id="aca1" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">个人资料屏幕:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/24eff5a24533f8bcd771ec557a54b7e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*w0VkFz1HhUedawHHDjwvwg.png"/></div></figure><p id="cfbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请随意在我的<a class="ae ky" href="https://github.com/sudhirkumarojhaa" rel="noopener ugc nofollow" target="_blank"> github库</a>中寻找这个项目。</p><p id="0bf5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢了。保持学习和分享:-)</p></div></div>    
</body>
</html>