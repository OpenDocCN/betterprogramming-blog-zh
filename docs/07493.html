<html>
<head>
<title>How to Use The Biggest Collection of Python Packages in The World</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用世界上最大的Python包集合</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-collection-of-python-packages-for-pythonistas-bc7601e654f9?source=collection_archive---------10-----------------------#2021-01-20">https://betterprogramming.pub/a-collection-of-python-packages-for-pythonistas-bc7601e654f9?source=collection_archive---------10-----------------------#2021-01-20</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="de76" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">学习安装和使用IPython、PyYAML、Requests等等</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/8f7e116ec4439cc282e1d48d6738e730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3sRSuwFgPIzG0K2U"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@ricaros?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹尼尔·里卡洛斯</a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="9bda" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Python最大的优势之一是大量免费的用户贡献包。Python包可以在任何地方提供，但最常见的是发布在<a class="ae kz" href="https://pypi.org/" rel="noopener ugc nofollow" target="_blank"> Python包索引</a>中。</p><p id="503f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Python包索引，简称PyPI，包含超过27万个包。让我们探索一些最常用的软件包，并了解如何使用一个名为pip的工具来安装它们。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="a67d" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">PyPI上一些流行的Python包</h1><p id="c0d9" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">只是为了体验一下可用的东西，这里有七个我个人喜欢并经常使用的包。</p><h2 id="945e" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">1.IPython</h2><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nm"><img src="../Images/98658167ceda89a613139d937a8f81ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5zJJ4kGgnyk10Dx_t9R1qQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者截图</p></figure><p id="814e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><a class="ae kz" href="https://ipython.org/" rel="noopener ugc nofollow" target="_blank"> IPython </a>基本上就是一个增强版的shell。仅仅为了自动完成，这是值得的，但是还有更多。我也喜欢它内置的所有神奇的命令。以下是一些例子:</p><ul class=""><li id="bce6" class="nn no iu lc b ld le lg lh lj np ln nq lr nr lv ns nt nu nv bi translated"><code class="fe nw nx ny nz b">%cd</code> —改变当前工作目录</li><li id="7919" class="nn no iu lc b ld oa lg ob lj oc ln od lr oe lv ns nt nu nv bi translated"><code class="fe nw nx ny nz b">%edit</code> —打开编辑器并在关闭编辑器后执行您键入的代码</li><li id="cbdb" class="nn no iu lc b ld oa lg ob lj oc ln od lr oe lv ns nt nu nv bi translated"><code class="fe nw nx ny nz b">%env</code> —显示当前的环境变量</li><li id="bc00" class="nn no iu lc b ld oa lg ob lj oc ln od lr oe lv ns nt nu nv bi translated"><code class="fe nw nx ny nz b">%pip install [pkgs]</code> —不离开交互外壳安装软件包</li><li id="b486" class="nn no iu lc b ld oa lg ob lj oc ln od lr oe lv ns nt nu nv bi translated"><code class="fe nw nx ny nz b">%time</code>和<code class="fe nw nx ny nz b">%timeit</code> —为Python代码的执行计时</li></ul><h2 id="e3c0" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">2.进步</h2><p id="a6f8" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">你可以创建自己的进度条，这很有趣。但是使用<a class="ae kz" href="https://pypi.org/project/progress/" rel="noopener ugc nofollow" target="_blank">进度包</a>会更快。您可以轻松创建进度条:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="94d7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下动画演示了所有可用的进度类型:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/532fbd0fc6fc44400c146f06317f40c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*JAQfXWEmuu-9Cvvd5LZPpg.gif"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Giorgos Verigakis的动画来自<a class="ae kz" href="https://pypi.org/project/progress/" rel="noopener ugc nofollow" target="_blank"> progress </a></p></figure><h2 id="b91b" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">3.加点颜色</h2><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oi"><img src="../Images/90e7abe41f109a505d423c84642f362d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*nc8J3Tff07gsYsvguqT-Fg.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">乔纳森·哈特利截图来自<a class="ae kz" href="https://pypi.org/project/colorama/" rel="noopener ugc nofollow" target="_blank"> Colorama </a></p></figure><p id="c15a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">使用<a class="ae kz" href="https://pypi.org/project/colorama/" rel="noopener ugc nofollow" target="_blank"> Colorama </a>，您可以为您的终端添加一些色彩。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><h2 id="8c55" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">4.dateutil</h2><p id="8168" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">p <a class="ae kz" href="https://pypi.org/project/python-dateutil/" rel="noopener ugc nofollow" target="_blank"> ython-dateutil </a>模块为标准<code class="fe nw nx ny nz b">datetime</code>模块提供了强大的扩展。安装时使用:</p><pre class="kk kl km kn gu oj nz ok ol aw om bi"><span id="4338" class="na me iu nz b gz on oo l op oq">pip3 install python-dateutil</span></pre><p id="ab94" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以用这个库做很多很酷的事情。我将把例子限制在我发现特别有用的这个例子上:从日志文件中模糊解析日期等等。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="a89d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请记住:在常规Python <code class="fe nw nx ny nz b">datetime</code>功能结束的地方，python-dateutil开始发挥作用！</p><h2 id="1dcd" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">5.使用chardet进行字符集检测</h2><p id="ebce" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">您可以使用chardet模块来检测文件的字符集。这在分析大量随机文本时非常有用。安装了chardet之后，您就有了一个额外的命令行工具chardetect，它的用法如下:</p><pre class="kk kl km kn gu oj nz ok ol aw om bi"><span id="de2d" class="na me iu nz b gz on oo l op oq">chardetect somefile.txt<br/>somefile.txt: ascii with confidence 1.0</span></pre><p id="3105" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当然，你也可以通过编程来使用这个库:查看文档。</p><h2 id="b5ac" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">6.要求</h2><p id="707d" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">Requests是我从网上获取任何信息的首选库。它让网络请求变得非常简单。</p><p id="47e6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">只是为了说明请求有多简单:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><h2 id="7ce5" class="na me iu bd mf nb nc dn mj nd ne dp mn lj nf ng mp ln nh ni mr lr nj nk mt nl bi translated">7.PyYAML</h2><p id="ada4" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">YAML是一种数据序列化格式。它是为人类和计算机的可读性而设计的——对人类来说很容易读写，但计算机仍然可以解析它。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj or"><img src="../Images/123ed1b4e2a2fd19e4db0e7f213a3964.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*U20zKclQgUC0SNM8hpT8Gw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">YAML的例子，作者的图像</p></figure><p id="db5d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">PyYAML是Python的YAML解析器和发射器，这意味着它可以读写YAML。它将向YAML写入任何Python对象:列表、字典，甚至是类实例。</p><p id="29c5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我几乎在每个项目中都使用它来解析配置文件。Python提供了自己的<a class="ae kz" href="https://docs.python.org/3/library/configparser.html" rel="noopener ugc nofollow" target="_blank">配置解析器</a>，但是与Python的<code class="fe nw nx ny nz b">ConfigParser</code>的基本<code class="fe nw nx ny nz b">.ini</code>文件结构相比，YAML提供了更多。</p><p id="c198" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">例如，YAML可以存储任何数据类型:<code class="fe nw nx ny nz b">boolean</code> s、<code class="fe nw nx ny nz b">list</code> s、<code class="fe nw nx ny nz b">float</code> s等等。会将所有内容存储为一个字符串。如果你想用<code class="fe nw nx ny nz b">ConfigParser</code>装载一个整数，你需要明确地指定你想得到一个<code class="fe nw nx ny nz b">int</code>:</p><p id="08e8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe nw nx ny nz b">config.getint(“section”, “my_int”)</code></p><p id="e941" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe nw nx ny nz b">pyyaml</code>自动识别类型，因此这将返回您的<code class="fe nw nx ny nz b">int</code>和<code class="fe nw nx ny nz b">PyYAML</code>:</p><p id="3be8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe nw nx ny nz b">config[“section”][“my_int”]</code></p><p id="27a9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">YAML还允许任意深度的树，不是每个项目都需要，但它可以派上用场。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="bb50" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">安装Python包</h1><p id="b00d" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">这只是PyPI上的一个小选择。那么你是怎么得到这些东西的呢？</p><p id="638e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">使用一个叫做pip的工具安装PyPI包很容易。Pip通常与Python一起安装。用命令<code class="fe nw nx ny nz b">pip</code>或<code class="fe nw nx ny nz b">pip3</code>试试就行了。如果两者都出错，你也可以试试<code class="fe nw nx ny nz b">python3 -m pip</code>或者从<a class="ae kz" href="https://pip.pypa.io/en/stable/installing/" rel="noopener ugc nofollow" target="_blank">安装文档</a>中安装。</p><p id="19e3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一旦安装了pip，就可以使用以下命令安装软件包:</p><p id="9426" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe nw nx ny nz b">pip3 install &lt;package name&gt;</code></p><p id="f7a2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要删除已安装的软件包，请使用:</p><p id="2f69" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe nw nx ny nz b">pip3 uninstall &lt;package name&gt;</code></p><p id="ebde" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">就这么简单！但是在你走之前请继续读下去，因为这种方法有一个问题。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="713f" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">解决版本冲突</h1><p id="d8ea" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">如果您创建多个软件项目，您将在某一点上开始有版本冲突。例如，您去年参与的一个项目可能依赖于requests版本2.19.0。但是，您的新项目需要一个只有在最新最好的版本2.24.0中才有的特性。</p><p id="363c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">解决办法？您将请求升级到最新版本，却发现它破坏了您的旧项目。现在你可以做两件事:</p><ul class=""><li id="e04a" class="nn no iu lc b ld le lg lh lj np ln nq lr nr lv ns nt nu nv bi translated">升级旧项目的代码，引入额外的工作</li><li id="cab7" class="nn no iu lc b ld oa lg ob lj oc ln od lr oe lv ns nt nu nv bi translated">以某种方式隔离两个项目，以便每个项目都有自己的请求版本</li></ul><p id="9638" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在大多数情况下，选择二是更可取的，因为你有有限的时间和最后期限。幸运的是，有多种方法可以解决这个问题。我将列出它们，从“我们不要这样做”到“最轻量级和有效的”:</p><ol class=""><li id="bd1d" class="nn no iu lc b ld le lg lh lj np ln nq lr nr lv os nt nu nv bi translated">首先，你可以为每个项目使用一个单独的机器。</li><li id="7026" class="nn no iu lc b ld oa lg ob lj oc ln od lr oe lv os nt nu nv bi translated">更便宜的选择是使用<strong class="lc iv">虚拟机</strong>。</li><li id="6197" class="nn no iu lc b ld oa lg ob lj oc ln od lr oe lv os nt nu nv bi translated">一个更好的主意，事实上，现在被广泛使用的，是将你的项目<a class="ae kz" href="https://medium.com/tech-explained/this-will-make-your-software-easier-to-build-run-and-distribute-1fe11ac5e1bc" rel="noopener"> <strong class="lc iv">容器化</strong> </a>。</li><li id="a367" class="nn no iu lc b ld oa lg ob lj oc ln od lr oe lv os nt nu nv bi translated">然而，最轻量级的是使用虚拟环境。</li></ol><p id="3e42" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我已经写了两篇关于虚拟环境和pip的文章，所以我建议您继续阅读这些文章:</p><div class="ot ou gq gs ov ow"><a href="https://medium.com/better-programming/stop-installing-python-packages-globally-use-virtual-environments-a31dee9fb2de" rel="noopener follow" target="_blank"><div class="ox ab fp"><div class="oy ab oz cl cj pa"><h2 class="bd iv gz z fq pb fs ft pc fv fx it bi translated">停止全局安装Python包-使用虚拟环境</h2><div class="pd l"><h3 class="bd b gz z fq pb fs ft pc fv fx dk translated">借助虚拟环境，您可以隔离您的软件并避免版本冲突</h3></div><div class="pe l"><p class="bd b dl z fq pb fs ft pc fv fx dk translated">medium.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk kt ow"/></div></div></a></div><p id="7423" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一旦理解了虚拟环境，就可以考虑使用Pipenv。太棒了！</p><div class="ot ou gq gs ov ow"><a href="https://medium.com/better-programming/improve-your-python-package-management-with-pipenv-28093c007955" rel="noopener follow" target="_blank"><div class="ox ab fp"><div class="oy ab oz cl cj pa"><h2 class="bd iv gz z fq pb fs ft pc fv fx it bi translated">使用pipenv改进您的Python包管理</h2><div class="pd l"><h3 class="bd b gz z fq pb fs ft pc fv fx dk translated">有比使用pip和virtualenv更好的方法来管理您的软件包和虚拟环境</h3></div><div class="pe l"><p class="bd b dl z fq pb fs ft pc fv fx dk translated">medium.com</p></div></div><div class="pf l"><div class="pl l ph pi pj pf pk kt ow"/></div></div></a></div></div></div>    
</body>
</html>