<html>
<head>
<title>Get to Know SwiftUI’s GroupBox</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解SwiftUI的GroupBox</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/get-to-know-swiftuis-groupbox-c33ee71ff895?source=collection_archive---------7-----------------------#2020-12-23">https://betterprogramming.pub/get-to-know-swiftuis-groupbox-c33ee71ff895?source=collection_archive---------7-----------------------#2020-12-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1b03" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">GroupBox是SwiftUI 2中的新功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e3763b62405af1e341b1b8fcc91169e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gHnzxdELPfm8a1Y75G0a0Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="03eb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">包含在SwiftUI 2.0中的<code class="fe lu lv lw lx b">GroupBox</code>元素是一个新元素，目前只包含少数几个特性。尽管如此，这还是很酷。事实上，<code class="fe lu lv lw lx b">GroupBox</code>元素看起来非常类似于<code class="fe lu lv lw lx b">List</code>元素。当您将一个<code class="fe lu lv lw lx b">List</code>元素的样式设为<code class="fe lu lv lw lx b">InsetGroupedListStyle</code>时，其中的元素将被包含在一个盒子中。当您将元素添加到<code class="fe lu lv lw lx b">GroupBox</code>元素中时，这些元素将以同样的方式进入一个框中。他们甚至看起来几乎一样。</p><p id="2cd6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将学习什么是<code class="fe lu lv lw lx b">GroupBox</code>元素以及如何使用它。</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="f983" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">什么是GroupBox？</h1><p id="0dca" class="pw-post-body-paragraph ky kz it la b lb mx ju ld le my jx lg lh mz lj lk ll na ln lo lp nb lr ls lt im bi translated">让我们来了解一下<code class="fe lu lv lw lx b">GroupBox</code>直接来自苹果的是什么:</p><blockquote class="nc"><p id="a7cf" class="nd ne it bd nf ng nh ni nj nk nl lt dk translated">"带有可选标签的风格化视图，该标签与内容的逻辑分组相关联."— <a class="ae nm" href="https://developer.apple.com/documentation/swiftui/groupbox" rel="noopener ugc nofollow" target="_blank">苹果开发者</a></p></blockquote><p id="a861" class="pw-post-body-paragraph ky kz it la b lb nn ju ld le no jx lg lh np lj lk ll nq ln lo lp nr lr ls lt im bi translated">也许一个<code class="fe lu lv lw lx b">GroupBox</code>元素唯一做的事情就是将UI元素存储在一个盒子里。当然，因为我们可以按照自己的意愿来样式化<code class="fe lu lv lw lx b">GroupBox</code>元素，所以我们可以按照自己的意愿来改变这些UI元素的外观。</p><p id="30c1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，可以用<code class="fe lu lv lw lx b">GroupBox</code>制作类似苹果的表格视图单元格:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/8ff38730362e1be0d22c58e6c815ebee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g-O74uR7drPj531cjDr3Iw.png"/></div></div></figure><p id="646f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在接下来的章节中，我们将探索如何使用<code class="fe lu lv lw lx b">GroupBox</code>来创建这样的界面元素。</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="6bc0" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">基础</h1><p id="703b" class="pw-post-body-paragraph ky kz it la b lb mx ju ld le my jx lg lh mz lj lk ll na ln lo lp nb lr ls lt im bi translated">我们可以说<code class="fe lu lv lw lx b">GroupBoxes</code>分为两种。第一种是完全独立的<code class="fe lu lv lw lx b">GroupBox</code>。比如UI元素按照你的意愿分散在一个盒子里。这就是我们如何编写该类型的GroupBox实例:</p><pre class="kj kk kl km gt nt lx nu nv aw nw bi"><span id="43a2" class="nx mg it lx b gy ny nz l oa ob"><strong class="lx iu">struct</strong> ContentView: View {</span><span id="0a2c" class="nx mg it lx b gy oc nz l oa ob">    // MARK: - UI Elements<br/>    <strong class="lx iu">var</strong> body: <strong class="lx iu">some</strong> View {<br/>        GroupBox {<br/>            VStack {<br/>                HStack {<br/>                    Text("AirPods Max")<br/>                        .font(.title)<br/>                        .bold()<br/>                    <br/>                    Spacer()<br/>                    <br/>                    Text("549$")<br/>                        .font(.headline)<br/>                }<br/>                <br/>                Divider()<br/>                <br/>                Text("Introducing AirPods Max — a perfect balance of exhilarating high-fidelity audio and the effortless magic of AirPods. The ultimate personal listening experience is here.")<br/>            }<br/>        }<br/>        .padding()<br/>    }<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/607fa26d8bd50f5e24582b2c46c8a180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8oDSHhiFxJ6o4jCxVgOPfw.png"/></div></div></figure><p id="9f03" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第二种<code class="fe lu lv lw lx b">GroupBox</code>类型是带有标签的风格化视图，该标签与内容的逻辑分组相关联。iOS的默认样式是一张简单的卡片，上面有标题和内容。我们可以用下面的代码制作这样一个<code class="fe lu lv lw lx b">GroupBox</code>元素:</p><pre class="kj kk kl km gt nt lx nu nv aw nw bi"><span id="e426" class="nx mg it lx b gy ny nz l oa ob">GroupBox(<br/>    label:<br/>        Label("AirPods Max", systemImage: "applelogo")<br/>            .foregroundColor(.black)<br/>    ) {<br/>        Text("Introducing AirPods Max — a perfect balance of exhilarating high-fidelity audio and the effortless magic of AirPods. The ultimate personal listening experience is here.")<br/>            .foregroundColor(.secondary)<br/>}<br/>.padding()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/90d5e16831abe5bf522eaa12454e7436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mSFHM2QjDIkl9oAIS48YMA.png"/></div></div></figure><p id="660d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如您所见，与第一个元素相比，我们通过编写非常少的代码创建了第二个元素。而且这个元素的设计语言就像苹果的设计语言。</p><p id="25f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">目前，<code class="fe lu lv lw lx b">GroupBox</code>元素只能在iOS、iPadOS和macOS平台上的应用程序中使用。所以你不能在watchOS和tvOS应用中使用这个元素。</p><p id="e1c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们看看如何给一个<code class="fe lu lv lw lx b">GroupBox</code>元素添加新的样式，并创建更复杂的<code class="fe lu lv lw lx b">GroupBox</code>元素。我们也可以通过创建新的<code class="fe lu lv lw lx b">GroupBox</code>样式来改变默认<code class="fe lu lv lw lx b">GroupBox</code>元素中我们不想要的部分。例如，如果上面的<code class="fe lu lv lw lx b">Text</code>元素中的文本只有一行，那么该文本将居中而不是前导。</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="e0d8" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">式样</h1><p id="ecbd" class="pw-post-body-paragraph ky kz it la b lb mx ju ld le my jx lg lh mz lj lk ll na ln lo lp nb lr ls lt im bi translated">SwiftUI为我们提供了<code class="fe lu lv lw lx b">GroupBoxStyle</code>协议，允许我们完全改变任何<code class="fe lu lv lw lx b">GroupBox</code>实例的外观。由于这个协议，我们可以为任何我们需要的用例创建不同的风格。例如，我不需要背景、圆角半径，我想改变<code class="fe lu lv lw lx b">Label</code>之外的元素的对齐方式。为此，我可以编写一个如下所示的样式:</p><pre class="kj kk kl km gt nt lx nu nv aw nw bi"><span id="0c98" class="nx mg it lx b gy ny nz l oa ob"><strong class="lx iu">struct</strong> ListGroupBoxStyle: GroupBoxStyle {<br/>    <strong class="lx iu">func</strong> makeBody(configuration: Configuration) -&gt; <strong class="lx iu">some</strong> View {<br/>        VStack(alignment: .leading) {<br/>            configuration.label<br/>            configuration.content<br/>        }<br/>    }<br/>}</span></pre><p id="230d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">创建自己的<code class="fe lu lv lw lx b">GroupBox</code>风格所需要做的就是创建一个符合<code class="fe lu lv lw lx b">GroupBoxStyle</code>协议的结构。您必须创建一个接受<code class="fe lu lv lw lx b">Configuration</code>类型的实例并返回新视图的<code class="fe lu lv lw lx b">makeBody</code>函数。</p><p id="c35c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">configuration元素允许您通过将<code class="fe lu lv lw lx b">GroupBox</code>元素分成两部分来以任何方式管理<code class="fe lu lv lw lx b">GroupBox</code>元素:<code class="fe lu lv lw lx b">label</code>和<code class="fe lu lv lw lx b">content</code>。你明白这两个元素代表什么。我在这里使用<code class="fe lu lv lw lx b">VStack</code>的原因是为了确保所有元素都是前导对齐的。</p><p id="d380" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以在我们的<code class="fe lu lv lw lx b">GroupBox</code>元素中使用这种样式，如下所示:</p><pre class="kj kk kl km gt nt lx nu nv aw nw bi"><span id="883a" class="nx mg it lx b gy ny nz l oa ob"><strong class="lx iu">struct</strong> ContentView: View {<br/>    <strong class="lx iu">var</strong> body: some View {<br/>        GroupBox(<br/>            label:<br/>                Label("AirPods Max", systemImage: "applelogo")<br/>                    .foregroundColor(.black)<br/>        ) {<br/>            Text("Introducing AirPods Max — a perfect balance of exhilarating high-fidelity audio and the effortless magic of AirPods. The ultimate personal listening experience is here.")<br/>                .foregroundColor(.secondary)<br/>        }<br/>        .groupBoxStyle(ListGroupBoxStyle())<br/>        .padding()<br/>    }<br/>}</span></pre><p id="39a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如你所见，我们使用<code class="fe lu lv lw lx b">groupBoxStyle</code>修饰符来使用<code class="fe lu lv lw lx b">ListGroupBoxStyle</code>。SwiftUI将使用环境在视图层次结构的所有子视图间共享它。你可以在下面看到我们的元素可以改变多少:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/b6baf1284e2fc9c7bdd9f06156041d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jj46FOM4wkzJ3NrdF-0QNA.png"/></div></div></figure><p id="88e3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，让我们创建一个<code class="fe lu lv lw lx b">GroupBoxStyle</code>结构来解决<code class="fe lu lv lw lx b">GroupBox</code>元素的对齐问题。为此，稍微改变一下<code class="fe lu lv lw lx b">ListGroupBoxStyle</code>结构就足够了:</p><pre class="kj kk kl km gt nt lx nu nv aw nw bi"><span id="bbae" class="nx mg it lx b gy ny nz l oa ob"><strong class="lx iu">struct</strong> CardGroupBoxStyle: GroupBoxStyle {<br/>    <strong class="lx iu">func</strong> makeBody(configuration: Configuration) -&gt; <strong class="lx iu">some</strong> View {<br/>        VStack(alignment: .leading) {<br/>            configuration.label<br/>            configuration.content<br/>        }<br/>        .padding()<br/>        .background(Color(.systemGroupedBackground))<br/>        .clipShape(RoundedRectangle(cornerRadius: 8, style: .continuous))<br/>    }<br/>}</span></pre><p id="289f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我只是额外使用了<code class="fe lu lv lw lx b">background</code>和<code class="fe lu lv lw lx b">clipShape</code>方法。方法允许我们改变元素的背景颜色。方法允许我们改变元素的形状。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/3e4a26d3fbfa433a534209e363f80c6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZPGr6O_A-8nLqomvvPYuLg.png"/></div></div></figure><p id="c7e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如您所见，我们的元素看起来像一个真正的<code class="fe lu lv lw lx b">GroupBox</code>元素。当然这个元素有更好的对齐性。</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><h1 id="4ab4" class="mf mg it bd mh mi mj mk ml mm mn mo mp jz mq ka mr kc ms kd mt kf mu kg mv mw bi translated">结论</h1><p id="a821" class="pw-post-body-paragraph ky kz it la b lb mx ju ld le my jx lg lh mz lj lk ll na ln lo lp nb lr ls lt im bi translated">在过去，我通常会尝试将自己应用程序的表格视图单元格作为<code class="fe lu lv lw lx b">GroupBox</code>元素。现在我可以用<code class="fe lu lv lw lx b">GroupBox</code>写更少的代码来做同样的工作。这真的很好。希望在SwiftUI 3.0中，<code class="fe lu lv lw lx b">GroupBox</code>会有进一步的改进。</p><p id="aec4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我希望你现在理解了<code class="fe lu lv lw lx b">GroupBox</code>元素。如果你有任何问题，请在下面的评论中提问。</p></div><div class="ab cl ly lz hx ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt nt lx nu nv aw nw bi"><span id="1e84" class="nx mg it lx b gy ny nz l oa ob"><strong class="lx iu">My Other Articles<br/></strong>-<strong class="lx iu"> </strong><a class="ae nm" rel="noopener ugc nofollow" target="_blank" href="/build-a-textfield-for-numbers-in-swiftui-21030b58a41">Build a TextField for Numbers in SwiftUI</a><br/>- <a class="ae nm" rel="noopener ugc nofollow" target="_blank" href="/programmers-should-learn-how-to-learn-51800061ae12">Programmers Should Learn How to Learn</a><br/>- <a class="ae nm" rel="noopener ugc nofollow" target="_blank" href="/getting-started-with-the-filemanager-in-your-ios-app-acd81b171f7d">Getting Started With the FileManager in Your iOS App</a></span></pre><p id="d8fc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想见我或有关于iOS开发等问题。你可以在这里和我进行一对一的会谈<a class="ae nm" href="https://superpeer.com/canbalkya" rel="noopener ugc nofollow" target="_blank">。</a></p></div></div>    
</body>
</html>