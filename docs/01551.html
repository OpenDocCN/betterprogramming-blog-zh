<html>
<head>
<title>How to Make Your Website Themeable With CSS Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用CSS变量使你的网站主题化</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-make-your-website-themeable-with-css-variables-81468d7c6f72?source=collection_archive---------10-----------------------#2019-09-23">https://betterprogramming.pub/how-to-make-your-website-themeable-with-css-variables-81468d7c6f72?source=collection_archive---------10-----------------------#2019-09-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="21f1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">给你的网站一个全新的主题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6914693052bcc1e46a09fe06fecc09d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2I9ym3yWraM8u3x1"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@der_maik_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Maik Jonietz </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="7e0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">越来越多的应用程序允许用户更改或应用自定义主题。添加主题化支持的一些原因是:</p><ul class=""><li id="5862" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">让用户感觉更舒服。主题化有助于良好的用户体验；用户可能会对他们自己选择的设计感到更舒服。</li><li id="2a2e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">许多公司希望在他们所有的应用程序中使用他们自己的品牌，例如在顶部导航栏中使用他们徽标的颜色。</li><li id="03cf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">主题化可以是一项额外收费的高级功能。</li></ul><p id="c934" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，主题化也有一些潜在的缺点:</p><ul class=""><li id="b7ad" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">如果你允许用户选择任意的颜色，他们可能会创建糟糕的UX(即，使网站难以阅读)。</li><li id="1dee" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">一致的用户界面对你或你的客户来说可能很重要。</li><li id="5a94" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">主题化在web应用程序中很有意义。最好不要允许在主页或登陆页面上设置主题。</li></ul><p id="7784" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，在考虑将主题添加到项目中时，请仔细考虑这些利弊。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="5218" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">什么是CSS变量？</h1><p id="e210" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">它们与<a class="ae ky" href="https://sass-lang.com/" rel="noopener ugc nofollow" target="_blank"> Sass </a>、<a class="ae ky" href="http://stylus-lang.com/" rel="noopener ugc nofollow" target="_blank"> Stylus </a>或其他类型的变量有何不同？</p><p id="5209" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使事情更简单，从现在开始，当我说“CSS变量”时，我们谈论的是<em class="nn"> CSS自定义属性</em>。</p><p id="bd8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你使用过像Sass，Stylus，或<a class="ae ky" href="http://lesscss.org/" rel="noopener ugc nofollow" target="_blank"> Less </a>这样的预处理程序，那么你可能已经熟悉了变量的概念。CSS变量的不同之处如下:</p><ul class=""><li id="a6d9" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">CSS变量可以通过香草JavaScript动态更新，无需重载；</li><li id="f109" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如果没有定义CSS变量，您可以提供一个回退值；</li><li id="7268" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Integrated_development_environment" rel="noopener ugc nofollow" target="_blank"> IDE </a>和浏览器开发工具支持它们(<a class="ae ky" href="https://www.jetbrains.com/webstorm/" rel="noopener ugc nofollow" target="_blank"> Webstorm </a>，各种Chrome浏览器开发工具)；</li><li id="582b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">CSS变量随处可用:纯CSS、Sass、Stylus、Less等。</li></ul><p id="c079" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下步骤向您展示了如何向您的网站添加主题支持。你可以使用像<a class="ae ky" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular </a>、<a class="ae ky" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>或<a class="ae ky" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>这样的框架将它用于静态网站和单页应用程序。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="0171" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">如何使用CSS变量在网站中添加主题</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/7c25f74c9ca181a9230d48ffc04020cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bS6amb09FdN9_XdF5yvnXQ.png"/></div></div></figure><ol class=""><li id="d2bd" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu np mb mc md bi translated">声明你的CSS变量。使用<code class="fe nq nr ns nt b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:root" rel="noopener ugc nofollow" target="_blank">:root</a></code>选择器是个好习惯。</li><li id="c7d7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu np mb mc md bi translated">像这样在代码中使用CSS变量:<code class="fe nq nr ns nt b">var(--variableName, optionalFallbackValue)</code>。</li><li id="7c3d" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu np mb mc md bi translated">要用JavaScript更新CSS变量，可以使用<code class="fe nq nr ns nt b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty" rel="noopener ugc nofollow" target="_blank">setProperty</a></code>，它是普通的JavaScript，在所有浏览器中都受支持。</li><li id="b53a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu np mb mc md bi translated">可选:如果需要支持Internet Explorer 11等旧浏览器，请添加polyfill/ponyfill <strong class="lb iu"> </strong>。我可以推荐这个套餐:<code class="fe nq nr ns nt b"><a class="ae ky" href="https://github.com/jhildenbiddle/css-vars-ponyfill" rel="noopener ugc nofollow" target="_blank">css-vars-ponyfill</a></code>。</li></ol><p id="b8e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是CSS变量的声明以及如何使用它们:</p><pre class="kj kk kl km gt nu nt nv nw aw nx bi"><span id="ca6c" class="ny mr it nt b gy nz oa l ob oc">:root {<br/>  --navbar-background = #000;<br/>  --primary-color = #123e6d;<br/>}</span><span id="b216" class="ny mr it nt b gy od oa l ob oc">nav {<br/>  background: var(--navbar-background);<br/>}</span><span id="8be8" class="ny mr it nt b gy od oa l ob oc">button {<br/>  background: var(--primary-color, #123e6d);<br/>}</span></pre><p id="1c0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用JavaScript，您可以更新任何CSS变量:</p><pre class="kj kk kl km gt nu nt nv nw aw nx bi"><span id="2ccf" class="ny mr it nt b gy nz oa l ob oc">document.documentElement.style.setProperty(<em class="nn">cssVariableName</em>, <em class="nn">value</em>);</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="69d3" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="a9c6" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">感谢阅读。如你所见，给任何网站添加主题支持都很容易。除了IE11，任何现代网络浏览器都支持现成的CSS变量。然而，你需要考虑你允许多少主题化，或者你是否允许它。请在评论中告诉我你是如何设计主题的。</p></div></div>    
</body>
</html>