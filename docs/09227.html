<html>
<head>
<title>How to Use React useReducer Effectively</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何有效地使用React useReducer</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/you-dont-know-react-usereducer-9b2b3cd489d9?source=collection_archive---------5-----------------------#2021-07-29">https://betterprogramming.pub/you-dont-know-react-usereducer-9b2b3cd489d9?source=collection_archive---------5-----------------------#2021-07-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="89a7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用useReducer挂钩时，您可能错过了什么</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c372a35efd535843c4a3c8f89e156b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w3soi6H4YIxitctU"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@fede_burgalassi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">费德里科·布尔加拉西</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="9e3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当React团队推出16.8版本并将hooks范式引入我们的社区时，我们过去编写代码的方式开始迅速改变。</p><p id="2251" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个更干净的解决方案，来跟踪我们在所有推荐者中的价值。</p><p id="c55e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">useContext</code>是另一个游戏规则改变者，使上下文使用比以前更简单。</p><p id="2dbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">特别是<code class="fe lv lw lx ly b">useReducer</code>显示出它是实现状态缩减器模式的一个很好的接口…</p><p id="c6cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但它能做的就这些吗？肯定不是。</p><p id="5bc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">痴迷于state reducer模式的React开发人员看到的是另一个API一次又一次地实现相同的模式，他们经常将自己的想象力局限于这一次使用，而没有看到利用这个钩子可以获得的所有好处。</p><p id="5bbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要误会，我也是用这个模式搭配<code class="fe lv lw lx ly b">useReducer</code>而且功能极其强大。但是我们还可以做更多的事情。</p><h2 id="7148" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">一个例子来看看…</h2><p id="7688" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">下面检查一下常用的<code class="fe lv lw lx ly b">useToggle</code>自定义钩子的实现。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用useState的useToggle实现</p></figure><p id="b6b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mz">很明显有效，没问题！</em>但是如果你仔细看看，我们是否可以重构这个定制钩子来使用…谁知道…更少的钩子调用<strong class="lb iu">？</strong></p><p id="5b8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它目前所做的是用<code class="fe lv lw lx ly b">useState</code>钩子创建一个状态，并结合使用它的setter函数和<code class="fe lv lw lx ly b">useCallback</code>创建toggle函数。<strong class="lb iu">两声勾人的叫声</strong>。</p><p id="0005" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们应该知道的是，正如<code class="fe lv lw lx ly b">useState</code>所做的，由<code class="fe lv lw lx ly b">useReducer</code>返回的调度函数也保证被记住。使用它，我们可以潜在地摆脱<code class="fe lv lw lx ly b">useCallback</code>调用，仍然获得相同的结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用useReducer优化useToggle实现</p></figure><p id="8848" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你看到了吗？ <strong class="lb iu"> </strong> <code class="fe lv lw lx ly b">useReducer</code>让我们控制更新器函数的实现细节，暴露出最强大的API来创建定制钩子。</p><p id="80c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从现在开始，只是想象。</p><p id="59f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我一直在为许多目的使用<code class="fe lv lw lx ly b">useReducer</code>,甚至抽象出最简单的逻辑，以使我的代码对我自己和我的同事来说是可重用和可读的。</p><p id="6287" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我会给你一些我如何使用它的其他例子，希望有一天会对你有所帮助！</p></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h2 id="89e5" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">useFunctionalRef</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">useFunctionalRef实现</p></figure></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h2 id="aea4" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">使用输入</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用输入实现</p></figure></div><div class="ab cl na nb hx nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="im in io ip iq"><h1 id="2e9f" class="nh ma it bd mb ni nj nk me nl nm nn mh jz no ka mk kc np kd mn kf nq kg mq nr bi translated">结论</h1><p id="b280" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">这篇文章旨在推动您扩展您的想象力，并充分利用React API所公开的内容来创建一个可组合和可读的应用程序。</p><p id="fe46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望你喜欢这篇文章。感谢阅读。</p></div></div>    
</body>
</html>