<html>
<head>
<title>Clean Code Applied to JavaScript (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应用于JavaScript的干净代码(第1部分)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/clean-code-applied-to-javascript-part-1-9f3badd5715?source=collection_archive---------1-----------------------#2019-11-22">https://betterprogramming.pub/clean-code-applied-to-javascript-part-1-9f3badd5715?source=collection_archive---------1-----------------------#2019-11-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f14d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于编写和维护干净代码的惊人好处的系列文章</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e54a9a307a85b72efe29ea60f9b2b6fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*twY2j801bKSDEeL9uuqT6w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">罗曼·博日科在<a class="ae ky" href="https://unsplash.com/s/photos/clean?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="5f9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文是一系列文章中的第一篇，这些文章将深入探讨众所周知的主题<em class="lv">干净代码</em>，但将把它应用于JavaScript。</p><p id="62e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本系列中，我们将讨论每个程序员都应该知道的关于干净代码的经典技巧，并将它们应用于特定的JavaScript/TypeScript语言。</p><ul class=""><li id="3b8a" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated"><a class="ae ky" href="https://medium.com/better-programming/clean-code-applied-to-javascript-part-1-9f3badd5715" rel="noopener">第1部分:开始之前</a></li><li id="f38c" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://medium.com/better-programming/clean-code-applied-to-javascript-part-ii-variables-8302f01e539c" rel="noopener">第二部分:变量</a></li><li id="cbfa" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://medium.com/@ccaballero/clean-code-applied-to-javascript-part-3-functions-f9f26b221736" rel="noopener">第3部分:功能</a></li><li id="9575" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://medium.com/better-programming/clean-code-applied-to-javascript-part-4-3f6db21ee4e5" rel="noopener">第4部分:注释</a></li><li id="fdfc" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://medium.com/better-programming/clean-code-applied-to-javascript-part-5-exceptions-d46e07691c19" rel="noopener">第5部分:例外情况</a></li><li id="3fd0" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://medium.com/better-programming/clean-code-applied-to-javascript-part-6-avoid-conditional-complexity-5ee9cbb1b26a" rel="noopener">第6部分:避免条件复杂性</a></li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="ed89" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">介绍</h1><p id="6b93" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">要做的第一件事是回顾干净代码的核心概念:</p><h2 id="9196" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated"><strong class="ak"> 1。代码气味和重构</strong></h2><blockquote class="oa ob oc"><p id="8908" class="kz la lv lb b lc ld ju le lf lg jx lh od lj lk ll oe ln lo lp of lr ls lt lu im bi translated">"代码气味是一种表面迹象，通常对应于系统中更深层次的问题."—马丁·福勒</p><p id="f9c5" class="kz la lv lb b lc ld ju le lf lg jx lh od lj lk ll oe ln lo lp of lr ls lt lu im bi translated">"糟糕的代码气味可能是导致技术债务的因素的指示器."罗伯特·马丁</p></blockquote><p id="49fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，Martin Fowler和Robert C. Martin的定义是兼容的，因为Fowler的定义指出了软件问题的线索，而Martin的定义指的是代码味道引起的副作用。</p><h2 id="4646" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated"><strong class="ak"> 2。另一个有趣的术语是技术债务</strong></h2><p id="a372" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">根据<a class="ae ky" href="https://en.wikipedia.org/wiki/Technical_debt" rel="noopener ugc nofollow" target="_blank">维基百科</a>:</p><blockquote class="oa ob oc"><p id="98b0" class="kz la lv lb b lc ld ju le lf lg jx lh od lj lk ll oe ln lo lp of lr ls lt lu im bi translated">“技术债务是软件开发中的一个概念，它反映了由于现在选择一个简单的解决方案而不是使用一个需要更长时间的更好的方法所导致的额外返工的隐含成本。”</p></blockquote><p id="efa2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，就像生活本身一样，最理想的是不欠债。但为此，我们必须有一个健康的经济(经验丰富的程序员和基础设施，允许开发没有负面后果)。</p><p id="35fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，就像在现实生活中一样，有时我们需要贷款来上大学或者买我们的第一辆车。希望我们能控制住债务，并一点一点付利息。</p><p id="2889" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在软件上，应该是一模一样的。我们必须减少以后可以偿还的债务。我们中没有人会想到在没有存款和没有工作的情况下买一栋几百万的房子——这些是导致我们软件失败的债务。</p><p id="496a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以<em class="lv">代码重构</em>就是在不改变其外部行为的情况下，对现有的计算机代码进行重构的过程。</p><ul class=""><li id="bb6c" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">重构改进了软件的非功能属性</li><li id="a448" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">优点包括提高代码可读性和降低复杂性</li><li id="d0ae" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">这些可以提高源代码的可维护性</li><li id="c2e7" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">创建更具表现力的内部架构，以提高可扩展性</li></ul></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="1ded" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">开始之前</h1><p id="2ad2" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">在开始查看JavaScript中的clean code示例之前，考虑一些对团队合作至关重要的建议非常重要。</p><h2 id="20a4" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated">人类可读</h2><p id="ac6c" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">代码必须是人类可读的。不要考虑它将如何被计算机处理，因为将会有许多工具转换我们的代码(transpilers)。因此，最重要的事情是代码将是人类可读的，因为当你开发代码时，你工作的最大部分将是读代码而不是写代码。</p><p id="3eda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是同一组用户的三个例子。三个例子中哪一个可读性更强？阅读时哪一个需要你较少的智力努力？嗯，这就是你构建代码的方式。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="34df" class="no ms it oh b gy ol om l on oo">const users = [{ id: 1, name: “Carlos Caballero”, memberSince: “1997–04–20”, favoriteLanguageProgramming: [“JavaScript”, “C”, “Java”] }, { id: 2, name: “Antonio Villena”, memberSince: “2014–08–15”, favoriteLanguageProgramming: [“Go”, “Python”, “JavaScript”] }, { id: 3, name: “Jesús Segado”, memberSice: “2015–03–15”, favoriteLanguageProgramming: [“PHP”, “JAVA”, “JavaScript”] } ];</span><span id="2738" class="no ms it oh b gy op om l on oo">/***********************/</span><span id="e3e2" class="no ms it oh b gy op om l on oo">const users = [<br/>{ id: 1, name: “Carlos Caballero”, memberSince: “1997–04–20”, favoriteLanguageProgramming: [“JavaScript”, “C”, “Java”] },<br/>{ id: 2, name: “Antonio Villena”, memberSince: “2014–08–15”, favoriteLanguageProgramming: [“Go”, “Python”, “JavaScript”] },<br/>{ id: 3, name: “Jesús Segado”, memberSice: “2015–03–15”, favoriteLanguageProgramming: [“PHP”, “JAVA”, “JavaScript”] },<br/>];<br/></span><span id="13e7" class="no ms it oh b gy op om l on oo">/***********************/</span><span id="18fc" class="no ms it oh b gy op om l on oo">const users = [{<br/> id: 1,<br/> name: “Carlos Caballero”,<br/> memberSince: “1997–04–20”,<br/> favoriteLanguageProgramming: [“JavaScript”, “C”, “Java”],<br/>},<br/>{<br/> id: 2,<br/> name: “Antonio Villena”,<br/> memberSince: “2014–08–15”,<br/> favoriteLanguageProgramming: [“Go”, “Python”, “JavaScript”],<br/>},<br/>{<br/> id: 3,<br/> name: “Jesús Segado”,<br/> memberSince: “2015–03–15”,<br/> favoriteLanguageProgramming: [“PHP”, “JAVA”, “JavaScript”],<br/>}];</span></pre><h2 id="2786" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated">用英语发展</h2><p id="e917" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我不会说英语。事实上，我在这个行业的最大问题是，与我的母语相比，我几乎不能用英语进行精彩有趣的对话。然而，在课堂上，我告诉我的学生，他们必须用英语编写代码，因此，我所有的代码都是用英语开发的。</p><p id="0f7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用糟糕的英语比使用你的母语要好，除非你很幸运能说英语。这是因为英语在世界范围内被用于商业。你可能喜欢或不喜欢，但世界上每个人都知道英语是与另一个国家互动时使用的语言，正如我之前告诉你的，你的大部分时间都将用于阅读代码。想象一下，用一种你不知道变量或函数名称的语言阅读代码——所有的代码都会为你加密。</p><p id="d5b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，你必须用英语发展，即使它不是你的母语。我们将边工作边学习英语。无论如何，想想我。我不是本地人，但我每天都读和写英语。当然，这是有错误的，但我们都必须相互理解，因为使用一种语言时最重要的是把我们的意思表达出来。</p><p id="6e36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">试着推断下面的代码片段是做什么的，这在你的语言中是非常基本的。也就是说，下面的代码片段是不同语言和英语的(显然，如果示例语言之一是您的母语，您就会明白)。无论如何，如果你是一个通晓多种语言的人，去谷歌翻译，把代码放到另一种你不懂的语言里，试着推断出代码是做什么的。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="d7ba" class="no ms it oh b gy ol om l on oo">const benutzer = {<br/> id: 1,<br/> name: “John Smith”,<br/> mitgliedVon: “1997–04–20”,<br/>};</span><span id="aead" class="no ms it oh b gy op om l on oo">Gehaltserhöhung(benutzer, 1000); </span><span id="1355" class="no ms it oh b gy op om l on oo">/***********************/</span><span id="9e1c" class="no ms it oh b gy op om l on oo">const użytkownik = {<br/> id: 1,<br/> imię: “John Smith”,<br/> członekZ: “1997–04–20”,<br/>};<br/>wzrostWynagrodzeń(użytkownik, 1000);</span><span id="c7e4" class="no ms it oh b gy op om l on oo">/***********************/</span><span id="2830" class="no ms it oh b gy op om l on oo">const user = {<br/> id: 1,<br/> name: “John Smith”,<br/> memberSince: “1997–04–20”,<br/>};<br/>increaseSalary(user, 1000);</span></pre><h2 id="bd4d" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated">协力</h2><p id="8259" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">从前，有一个程序员在开发一个软件项目……多么美好的故事啊！我们都是这样学习开发软件的:独自一人。我们面对的是一台输入代码和解决问题的计算机，但是今天没有人独自开发软件。</p><p id="fb3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们必须考虑在团队中工作。初级程序员之间永恒的讨论包括:</p><ul class=""><li id="5d83" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">使用空格或制表符制表</li><li id="72b2" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">打开功能名称旁边的键或下一行</li><li id="13a9" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">在句末加上分号</li></ul><p id="e0de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那些论点听起来像是“对不起，那些讨论是荒谬的吗？”但是它们很重要，因为这些决定是所有团队成员一致同意的，然后使用修改代码并使其对每个人都正常化的开发工具。</p><p id="c28c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当一个程序员打开一个项目文件并开始读取代码时，一个开发人员团队就被整合了，而他无法推断出这些代码是由他还是由他的队友编写的。这是完美的团队发展点——我们已经成为一起工作的一个伟大的程序员。我提醒你:如果我们必须知道谁写了一些代码，我们有强大的工具，如Git。</p><p id="8c4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，为了直接在团队中工作，我们需要:</p><p id="e312" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有义务使用特定的IDE。为此，有标准的EditorConfig，允许我们在每个团队成员喜欢的IDE中与他们一起工作。</p><p id="e97e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个人都是一个世界，并不是每个人都应该使用WebStorm、VSCode或Eclipse，因为当存在允许我们配置基本结构化元素的标准(如EditorConfig标准)时，有人决定使用它们。</p><p id="822a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">EditorConfig <strong class="lb iu"> </strong>帮助开发者在不同编辑器和ide之间定义和维护一致的编码风格。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="26c3" class="no ms it oh b gy ol om l on oo">root = true</span><span id="011e" class="no ms it oh b gy op om l on oo">[*]<br/>end_of_line = lf<br/>insert_final_newline = true</span><span id="edbf" class="no ms it oh b gy op om l on oo">[*.{js,py}]<br/>charset = utf-8</span><span id="6feb" class="no ms it oh b gy op om l on oo">[*.py]<br/>indent_style = space<br/>indent_size = 4</span><span id="d9fe" class="no ms it oh b gy op om l on oo">[Makefile]<br/>indent_style = tab</span><span id="c2c0" class="no ms it oh b gy op om l on oo">[*.js]<br/>indent_style = space<br/>indent_size = 2</span><span id="63e0" class="no ms it oh b gy op om l on oo">[{package.json,.travis.yml}]<br/>indent_style = space<br/>indent_size = 2</span></pre><p id="9862" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Lint允许我们根据我们建立的一些规则发现代码格式中的错误，每种语言都有自己的Lint。看看你的开发语言，你必须在所有的语言中配置它并使用它们。</p><p id="8b44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">协议是相同的——有时会有项目中的代码没有按照您喜欢的方式完成，但至少您可以继续以这种方式键入代码，并将负责更改代码的人委派给IDE，这样就不会对您生成代码的时间造成问题。</p><pre class="kj kk kl km gt og oh oi oj aw ok bi"><span id="4887" class="no ms it oh b gy ol om l on oo"><br/>{<br/> “globals”: {<br/> “myModule”: true<br/> },<br/> “env”: {<br/> “browser”: true<br/> },<br/> “rules”: {<br/> “no-unused-vars”: “error”,<br/> “quotes”: [“warning”, “double”]<br/> }<br/>}</span><span id="6eb9" class="no ms it oh b gy op om l on oo">const a = ‘a’;<br/>const b = a;<br/>const c = b;</span></pre><p id="3805" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一个在业界广泛使用的工具叫做Prettier，它允许你根据linter的规则实时改变代码的格式(ide的插件)。</p><p id="b3a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这使我们能够专注于我们必须解决的问题，此外，我们通过作为一个团结的团队来生成干净的代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/cd66326036fb2d4cfa47df6b2dba32e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-LYWjXGcX9XX-NEKNDNq4g.gif"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="8975" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">结论</h1><p id="be77" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">在本文中，我们在尝试解决干净代码实践和建议之前总结了几个基本点。我们讨论的原则对任何开发人员都是通用的:</p><ul class=""><li id="014a" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">为人类而不是机器编写可读的代码。大部分时间你都在阅读代码，包括你和你搭档的代码。</li><li id="488a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">用英文写</strong>。今天，它是国际语言，我们必须国际化，因为这样我们就可以与世界上的任何人共享代码。</li><li id="f4e7" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><strong class="lb iu">在团队中工作</strong>。创建通用规则，并依靠允许您为每个人统一生成代码的工具。你必须明白，整个项目似乎是由一个人编写的，而不是看到开发团队不同成员的不同习惯。</li></ul></div></div>    
</body>
</html>