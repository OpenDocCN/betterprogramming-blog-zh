<html>
<head>
<title>Build a Pie, Bar, Line, and Point Chart Using CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CSS构建饼图、条形图、折线图和点图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-pie-bar-line-and-point-chart-using-css-799983a6ab3d?source=collection_archive---------17-----------------------#2022-01-26">https://betterprogramming.pub/build-a-pie-bar-line-and-point-chart-using-css-799983a6ab3d?source=collection_archive---------17-----------------------#2022-01-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="32c7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">有时候你只需要一个简单的图表。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/647e5a44dfa781d1f0c68ed9237322af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L2XjNz00QO6s3fUqeXe6ZA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">只是一个简单的仪表板和一些图表</p></figure><p id="97bf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">不要担心！通常你需要做的只是一个简单的列表或表格，然后添加一点CSS将其转换成图表。</p><p id="8a6c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们说，我们做了一个投票，是否要做一个新演员的萤火虫重启。这可能是我们的数据集:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="f098" class="lw lx iq ls b gy ly lz l ma mb">Yay:   35%<br/>Nay:   55%<br/>Blank: 10%;</span></pre><p id="f39c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">闪亮！现在，并不是所有的图表类型都适合这些数据。例如，折线图应该显示一个系列，而不是类别——但我们无论如何都要这样做，只是为了演示如何做。</p><p id="7a6c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我不会在CSS上做太多的细节，解释一个特定的属性是如何工作的。照原样使用它，或者对它进行调整，在这个过程中也许会学到一个你以前不知道的CSS属性。还要注意，这些是简单的T2图表；如果您需要工具提示、动画或高级功能，那么图表库可能更适合。</p><p id="6330" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你也可以在<a class="ae mc" href="https://github.com/tmj-code/simple-css-charts" rel="noopener ugc nofollow" target="_blank"> GitHub </a>找到代码。</p><h1 id="d9ad" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">加价</h1><p id="cbd6" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">让我们假设我们已经加载了数据，但是我们还没有决定如何显示它。我们没有延迟这个过程，而是简单地将它呈现在一个HTML列表中，用一些描述数据的<strong class="kx ir"> CSS变量</strong>来修饰它，然后将它交给设计师。</p><p id="a3a0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将设置这些CSS变量:</p><ul class=""><li id="5d9f" class="mz na iq kx b ky kz lb lc le nb li nc lm nd lq ne nf ng nh bi translated"><strong class="kx ir">标签</strong>:投票的类型(是，否，空白)</li><li id="fb3b" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated"><strong class="kx ir">值</strong>:每次投票的百分比。</li><li id="b556" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated"><strong class="kx ir">值-文本</strong>:文本形式的值。</li><li id="6195" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated"><strong class="kx ir">前一值</strong>:前一数据项的值。</li><li id="ba72" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated"><strong class="kx ir">上一次总和</strong>:所有上一次数值的总和。</li><li id="dfe3" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated"><strong class="kx ir">计数</strong>:数据项的个数。</li><li id="1403" class="mz na iq kx b ky ni lb nj le nk li nl lm nm lq ne nf ng nh bi translated"><strong class="kx ir">颜色</strong>:想要的颜色。</li></ul><p id="3449" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些变量的值很容易从数据中得到。我们使用<code class="fe nn no np ls b">var(--my-variable)</code>在CSS中访问它们</p><p id="9044" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你已经知道你要制作哪个图表，你可能不需要变量的完整列表。</p><p id="7d2f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用我们最喜欢的框架或普通的JS，我们为每个数据项创建一个列表项，并将变量设置为内联样式，产生以下标记:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="c12e" class="lw lx iq ls b gy ly lz l ma mb"><br/>&lt;ul id="votes" style="--count: 3;"&gt;<br/>  &lt;li style="<br/>    --label: 'Yay'; --value: 35%; --value-text: '25%'; <br/>    --previous-value: 0%; --previous-sum: 0%;<br/>    --color: green;"&gt;&lt;/li&gt;<br/>  &lt;li style="<br/>    --label: 'Nay'; --value: 55%; --value-text: '55%'; <br/>    --previous-value: 35%; --previous-sum: 35%;<br/>    --color: red;"&gt;&lt;/li&gt;<br/>  &lt;li style="<br/>    --label: 'Blank'; --value: 10%; --value-text: '10%'; <br/>    --previous-value: 55%; --previous-sum: 90%;<br/>    --color: blue;"&gt;&lt;/li&gt;<br/>&lt;/ul&gt;</span></pre><p id="9f6f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们现在有了可以设计的东西，这让我们变得强大！</p><h1 id="a9cc" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">整体造型</h1><p id="92de" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">让我们从添加一个基本样式来移除“列表外观”开始，并设置图表的整体大小:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="0044" class="lw lx iq ls b gy ly lz l ma mb">#votes {<br/>  padding: 0;<br/>  list-style-type: none;<br/>  height: 10em;<br/>  width: 10em;<br/>}</span></pre><p id="1523" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里没什么有趣的事，真的。</p><h1 id="b6a9" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">圆形分格统计图表</h1><p id="5593" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">我们制作的第一个图表是饼状图。这是恰当的，因为我们的数据代表了总数的一小部分。每个列表项将被绘制为一个圆圈，一个在另一个之上，彩色部分代表值，透明部分代表其余部分。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="5e57" class="lw lx iq ls b gy ly lz l ma mb">#votes {<br/>  position: relative;<br/>}<br/>#votes &gt; li {<br/>  position: absolute;<br/>  left: 0;<br/>  top: 0;<br/>  height: 100%;<br/>  width: 100%;<br/>  border-radius: 50%;<br/>  background: conic-gradient(transparent var(--previous-sum), var(--color) var(--previous-sum));<br/>}</span></pre><p id="fe2b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">圆锥形背景表明，在<code class="fe nn no np ls b">previous-sum</code>之前，一切都应该是透明的；之后，一切都应该有我们选择的颜色。因为圆圈在彼此之上，所以它们隐藏了多余的彩色部分。我们也可以让多余的部分变得透明，但是我们真的不需要这样做。记住，我们的目标是一个简单的图表。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/ac045236d4d9d2f1daabe37eae9a7956.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*7gG8uQxSllAYW4we2xSkhg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML列表中的饼图</p></figure><h1 id="0e29" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">条形图</h1><p id="7f85" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">对于条形图，我们需要竖线。条形图应该从底部开始，其高度应该与投票值相匹配。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="e205" class="lw lx iq ls b gy ly lz l ma mb">#votes {<br/>  display: flex;<br/>  align-items: end;<br/>}<br/>#votes &gt; li {<br/>  background-color: var(--color);<br/>  height: var(--value);<br/>  width: calc(100% / var(--count));<br/>}</span></pre><p id="8662" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们使用<code class="fe nn no np ls b">display: flex</code>和<code class="fe nn no np ls b">align-items: end</code>在图表区域的底部放置东西。高度设置为每个元素的值，宽度设置为“全宽除以数据项的数量”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/8376249b7afc819c16f0d8e1569d6760.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*QOqXZfoJu_jVElxjmz40YA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML列表中的条形图</p></figure><h1 id="b577" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">点图</h1><p id="e924" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">对于点图，我们希望显示区间中间的点。我们希望他们是圆的，我们希望他们有一个体面的大小。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="cf36" class="lw lx iq ls b gy ly lz l ma mb">#votes {<br/>  display: flex;<br/>}<br/>#votes &gt; li {<br/>  border-radius: 100%;<br/>  background-color: lightgray;<br/>  width: calc(20% / var(--count));<br/>  height: calc(20% / var(--count));<br/>  margin: auto auto var(--value) auto;<br/>}</span></pre><p id="062a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用<code class="fe nn no np ls b">margin</code>定位这些点，因为在这种情况下，这是最简单的解决方案。点的大小是由某个宽度除以数据项的数量计算出来的。通过反复试验找到一个合适的宽度；我发现20%看起来很适合我的数据集。</p><p id="c817" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了使点数图更加清晰，我们将添加一些水平线。为此，我们添加了以下内容:</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="d832" class="lw lx iq ls b gy ly lz l ma mb">#votes {<br/>  ... other styling ...<br/>  position: relative;<br/>}<br/>#votes::after {<br/>  content: '';<br/>  height: 100%;<br/>  width: 100%;<br/>  position: absolute;<br/>  background-size: 100% 20%;<br/>  background-image:<br/>    linear-gradient(transparent, transparent),<br/>    linear-gradient(to top, black 1px, transparent 1px);<br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/528459c539c4ae5ebc2693eee92ab2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*YDNY1QNhvyqmOmtvf2X4Ug.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML列表中的点图表</p></figure><h1 id="5db4" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">填充折线图</h1><p id="36a5" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">接下来是填充折线图。它是条形图和折线图的混合(后者我们还没有制作)。这在某种程度上比折线图更简单，我们一会儿会看到。</p><p id="237c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">背景中的不同颜色对于这种类型的图表很少有意义，所以我们只是给它一个统一的浅灰色。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="5a5e" class="lw lx iq ls b gy ly lz l ma mb">#votes {<br/>  display: flex;<br/>}<br/>#votes &gt; li {<br/>  background-color: lightgray;<br/>  height: 100%;<br/>  width: calc(100% / var(--count));<br/>  clip-path: polygon(<br/>    0 100%, <br/>    0 calc(100% - var(--previous-value)), <br/>    100% calc(100% - var(--value)), <br/>    100% 100%);<br/>}</span></pre><p id="dce7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">此图表将每个列表项绘制为多边形:上边缘由数据的先前值和当前值定义，并且将是对角线(当然，除非先前值和当前值相同)。多边形的其余部分将是矩形。</p><p id="a6e8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">多边形是由成对的(x，y)坐标创建的。因为goram的y坐标在顶部是0，在底部是100%，我们必须做<code class="fe nn no np ls b">j100% — &lt;our value&gt;</code>来获得正确的y值。</p><p id="210b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这里添加我们在点图中使用的水平线可能是合适的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/4e40c4bc590d4ca927e8bca0a450ff20.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*bIiTCE4vEJWz-5aBtlEHbw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML列表中的填充折线图</p></figure><h1 id="89be" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">折线图</h1><p id="022a" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">折线图类似于填充折线图，除了一点:我们没有一直绘制到图表的底部。相反，我们画了一些非常细的多边形，所以最终看起来像线。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="6338" class="lw lx iq ls b gy ly lz l ma mb">#votes {<br/>  display: flex;<br/>}<br/>#votes &gt; li {<br/>  background-color: black;<br/>  height: 100%;<br/>  width: calc(100% / var(--count));<br/>  clip-path: polygon(<br/>    0 calc(100% - var(--previous-value)), <br/>    100% calc(100% - var(--value)), <br/>    100% calc(100% - var(--value) + 2px), <br/>    0 calc(100% - var(--previous-value) + 2px));  <br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/e835fe31f3320bffb121a4d18179f7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*TfnaoMkremML8qE3HZ2E1g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML列表中的折线图</p></figure><h1 id="3ca7" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">文本表格</h1><p id="46cc" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">使用CSS方法将数据显示为表格实际上需要最多的CSS。而且，因为CSS不允许将非文本(比如35%)更改为文本，所以我们需要使用<code class="fe nn no np ls b">value-text</code>变量来显示值。</p><pre class="kg kh ki kj gt lr ls lt lu aw lv bi"><span id="8e1e" class="lw lx iq ls b gy ly lz l ma mb">#votes {<br/>  border: solid 1px black;<br/>  height: auto;<br/>}<br/>#votes:before {<br/>  content: 'Votes:';<br/>  display: inline-block;<br/>  width: 9em;<br/>  padding-left: 1em;<br/>}<br/>#votes &gt; li::before, #votes &gt; li::after {<br/>  border-top: solid 1px black;<br/>  display: inline-block;<br/>}<br/>#votes &gt; li::before {<br/>  border-right: none;<br/>  content: var(--label);<br/>  width: 5em;<br/>  padding-left: 1em;<br/>}<br/>#votes &gt; li::after {<br/>  border-left: none;<br/>  content: var(--value-text);<br/>  width: 3em;<br/>  padding-right: 1em;<br/>  text-align: right;<br/>}</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/30f2627319750a611cd043b4d97316e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*fXcI7Lrtm_YVgvb6HBZSnA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML列表中的文本表格</p></figure><h1 id="2e25" class="md lx iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">结论</h1><p id="ef30" class="pw-post-body-paragraph kv kw iq kx b ky mu jr la lb mv ju ld le mw lg lh li mx lk ll lm my lo lp lq ij bi translated">这里有一个简单的图表列表，只用几行HTML和CSS就可以实现。</p><p id="0bac" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">还有许多其他图表可以用同样的方法制作。圆环图、堆积折线图或面积图怎么样？如果我们希望标签显示数值，或者x轴和y轴，该怎么办？有了本文中的例子作为灵感，你应该会发现让你的图表完全属于你自己并不困难。</p><p id="9d47" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你喜欢这篇文章，考虑关注我。那么你将成为我的一员。</p></div></div>    
</body>
</html>