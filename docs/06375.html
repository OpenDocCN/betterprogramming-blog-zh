<html>
<head>
<title>SKOverlay in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">斯威夫图伊的斯科弗雷</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/skoverlay-in-swiftui-b2d102e7c08c?source=collection_archive---------13-----------------------#2020-09-25">https://betterprogramming.pub/skoverlay-in-swiftui-b2d102e7c08c?source=collection_archive---------13-----------------------#2020-09-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6027" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">向用户推荐其他应用程序，让他们即时下载该应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a0c04a7cc2cb2c863e95d8327c04fa71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0uedQBx4QGysgHbg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@shapelined?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">整形的</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">未整形的</a>上拍摄。</p></figure><p id="d417" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在2020年WWDC大会上，苹果推出了<code class="fe lv lw lx ly b">SKOverlay</code>，你可以用它向用户推荐其他应用，并允许他们立即下载应用。</p><p id="e758" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，您将无法在应用程序扩展上使用此功能。</p><p id="97d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">SKOverlay</code>向用户宣传你的其他应用程序非常有用。</p><blockquote class="lz"><p id="2e7a" class="ma mb it bd mc md me mf mg mh mi lu dk translated"><em class="mj">“一个显示覆盖图的类，你可以用它来推荐另一个应用。”— </em> <a class="ae ky" href="https://developer.apple.com/documentation/storekit/skoverlay" rel="noopener ugc nofollow" target="_blank"> <em class="mj">苹果开发者</em> </a></p></blockquote></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="6769" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">先决条件</h1><p id="00c4" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">要学习本教程，您需要了解以下方面的一些基本知识:</p><ul class=""><li id="96a6" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated">迅速发生的</li><li id="2e81" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">至少Xcode 12+</li></ul><p id="ef2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oc">注意:这只支持iOS 14+。</em></p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="bd0b" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">SKOverlay入门</h1><p id="8ae4" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">首先，您需要导入所需的框架:</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="df46" class="oh ms it ly b gy oi oj l ok ol">import StoreKit</span></pre><p id="28f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后创建一个<code class="fe lv lw lx ly b">State</code>来保存一个<code class="fe lv lw lx ly b">bool</code>值:</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="8bf8" class="oh ms it ly b gy oi oj l ok ol">@State private var showRecommended = false</span></pre><p id="bab6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，插入一个<code class="fe lv lw lx ly b">Button</code>，点击后会显示<code class="fe lv lw lx ly b">SKOverlay</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="cafe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了测试这一点，您需要在您的真实设备上运行它，而不是在模拟器上运行。确保你的真实设备至少是iOS 14+。</p><p id="32e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来了解一下如何取回<code class="fe lv lw lx ly b">appIdentifier</code>。你可以在谷歌上输入以iOS结尾的应用程序名称来检索。例如，我会在谷歌上搜索我的一个应用程序:马来西亚法律101 iOS。</p><p id="acff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是链接的样子:<a class="ae ky" href="https://apps.apple.com/us/app/malaysia-law-101/id1504421248" rel="noopener ugc nofollow" target="_blank">https://apps.apple.com/my/app/malaysia-law-101/id1504421248</a>。无论你的应用是在美国还是在我的市场，ID都是一样的。</p><p id="388b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您只需提取数字(在本例中为1504421248)并将其添加到参数中，如上面的代码所示。</p><p id="4a5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">截至目前，唯一可用的位置是<code class="fe lv lw lx ly b">.bottom</code>和<code class="fe lv lw lx ly b">.bottomRaised</code>。我们来看看有什么区别。</p><p id="882d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于<code class="fe lv lw lx ly b">.bottom</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/7b48175d607c50b72674fcdb96034f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/1*5x2mjlRyq99-fUZQ_biANQ.gif"/></div></figure><p id="b69d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于<code class="fe lv lw lx ly b">.bottomRaised</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/8bc4b7ded79eabc3b0e6da4d34215786.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/1*xZ6jDGI98kVDkVmX4FzfdQ.gif"/></div></figure><p id="b27c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>