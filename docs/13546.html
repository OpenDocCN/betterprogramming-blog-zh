<html>
<head>
<title>Quickly Generate Documentation With Sphinx CLI Tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Sphinx CLI工具快速生成文档</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/quickly-generate-documentation-with-sphinx-cli-tools-99db0cb5994c?source=collection_archive---------9-----------------------#2022-09-06">https://betterprogramming.pub/quickly-generate-documentation-with-sphinx-cli-tools-99db0cb5994c?source=collection_archive---------9-----------------------#2022-09-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="58bb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">生成文档并将其集成到CI管道中的脚本</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f9bf2f1a10355dce6920eff1e203c50d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PBocLDmkuMxJZRv1hm5GFw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用Sphinx CLI工具生成文档！</p></figure><p id="174a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Sphinx 是一个强大的工具，可以用不同的输出格式(HTML、LaTeX等)生成好看的文档。).默认情况下，Sphinx使用<a class="ae lr" href="https://docutils.sourceforge.io/rst.html" rel="noopener ugc nofollow" target="_blank"> reStructuredText </a>标记语言，并提供更多功能，例如附加的<a class="ae lr" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html" rel="noopener ugc nofollow" target="_blank">指令</a>和丰富的<a class="ae lr" href="https://www.sphinx-doc.org/en/master/usage/extensions/index.html" rel="noopener ugc nofollow" target="_blank">扩展</a>。因此，您可以使用它来构建复杂的文档。但这也意味着，由于它的复杂性，理解它的大部分功能需要时间。</p><p id="1e63" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，Sphinx提供了一些有用的CLI工具来快速生成文档。</p><ul class=""><li id="e071" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated"><a class="ae lr" href="https://www.sphinx-doc.org/en/master/man/sphinx-quickstart.html" rel="noopener ugc nofollow" target="_blank">斯芬克斯-快速入门</a></li><li id="c521" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><a class="ae lr" href="https://www.sphinx-doc.org/en/master/man/sphinx-apidoc.html" rel="noopener ugc nofollow" target="_blank">斯芬克斯-阿皮多克</a></li><li id="e59f" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><a class="ae lr" href="https://www.sphinx-doc.org/en/master/man/sphinx-build.html" rel="noopener ugc nofollow" target="_blank">狮身人面像建造</a></li></ul><p id="1500" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本文中，我将创建一个脚本，使用这些工具为一个简单的Python项目生成漂亮的文档。此外，我将把这个脚本集成到一个CI管道中(一个<a class="ae lr" href="https://docs.github.com/en/actions/using-workflows/about-workflows" rel="noopener ugc nofollow" target="_blank"> GitHub工作流</a>，当合并到<code class="fe mg mh mi mj b">main</code>分支时，文档将自动生成(更新)。</p><h1 id="77c6" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">创建源目录和conf.py</h1><p id="9c07" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">源目录是放置源文件(*。rst)和配置文件<code class="fe mg mh mi mj b">conf.py</code>，在这里可以配置Sphinx如何读取源文件(*。rst)并生成您的文档。</p><p id="6105" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe mg mh mi mj b">sphinx-quickstart</code>可以帮助你快速创建以上资源。让我们在您的项目下创建一个<code class="fe mg mh mi mj b">docs</code>目录，并在您的终端中的<code class="fe mg mh mi mj b">docs</code>下运行以下命令，文档将在<code class="fe mg mh mi mj b">docs</code>下生成。</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="84d7" class="nl ml iq mj b gy nm nn l no np">sphinx-quickstart --no-makefile --sep --no-use-make-mode --no-batchfile</span></pre><ul class=""><li id="b7db" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">--no-makefile</code>、<code class="fe mg mh mi mj b">--no-use-make-mode</code>、<code class="fe mg mh mi mj b">--no-batchfile</code>:我会用<code class="fe mg mh mi mj b">sphinx-build</code>生成文档，所以你不需要在这里制作或批处理文件。</li><li id="84eb" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">--sep</code>:我更喜欢把<code class="fe mg mh mi mj b">source</code>和<code class="fe mg mh mi mj b">build</code>目录分开。</li></ul><p id="6670" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后，它会提示一个交互式控制台要求您输入项目元数据。</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="b41c" class="nl ml iq mj b gy nm nn l no np">...<br/>&gt; Project name: Sphinx Example<br/>&gt; Author name(s): ukyen<br/>&gt; Project release []: 0.0.1<br/>...<br/>&gt; Project language [en]: en</span></pre><p id="92f2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">文件夹结构如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/d7347efcc385c491d93103b8729532c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*B_gHK2xqfTPmCbX491lrkA.png"/></div></figure><h1 id="572d" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">自定义配置文件</h1><p id="b94c" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">在这里，我们有三件事要做:</p><h2 id="86be" class="nl ml iq bd mm nr ns dn mq nt nu dp mu le nv nw mw li nx ny my lm nz oa na ob bi translated">1.设置路径</h2><p id="3b81" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">在路径设置部分进行如下配置，因为我们的源代码是相对于<code class="fe mg mh mi mj b">conf.py</code>的两个上层的。</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="d317" class="nl ml iq mj b gy nm nn l no np">import os  <br/>import sys  <br/>sys.path.insert(0, os.path.abspath('../../'))</span></pre><h2 id="8b10" class="nl ml iq bd mm nr ns dn mq nt nu dp mu le nv nw mw li nx ny my lm nz oa na ob bi translated">2.设置扩展</h2><p id="9c12" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">向<code class="fe mg mh mi mj b">extensions</code>变量添加以下扩展。</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="1cfd" class="nl ml iq mj b gy nm nn l no np">extensions = [  <br/>    "sphinx.ext.autodoc",  <br/>    "sphinx.ext.todo",  <br/>    "sphinx.ext.viewcode",  <br/>]</span></pre><ul class=""><li id="1d1b" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">sphinx.ext.autodoc</code>:为了从docstrings构建文档，我不需要两个文档位置。文档字符串是文档。</li><li id="f0f5" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">sphinx.ext.viewcode</code>:我推荐它，因为你可以在浏览文档的同时直接查看源代码。</li><li id="ce10" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">sphinx.ext.todo</code>:(可选)。如果您喜欢将<code class="fe mg mh mi mj b">TODO</code>添加到docstring中，这将非常有用。确保在<code class="fe mg mh mi mj b">conf.py</code>中添加<code class="fe mg mh mi mj b">todo_include_todos = True</code>以启用它。</li></ul><h1 id="dec5" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">(可选)选择主题</h1><p id="2eaf" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">默认主题是<code class="fe mg mh mi mj b">alabaster</code>。你可以在这里找到其他内置主题<a class="ae lr" href="https://www.sphinx-doc.org/en/master/usage/theming.html" rel="noopener ugc nofollow" target="_blank"/>。如果都不适合你，还可以查一下<a class="ae lr" href="https://sphinx-themes.org/" rel="noopener ugc nofollow" target="_blank">第三方主题</a>。</p><p id="87d3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我比较喜欢<code class="fe mg mh mi mj b">classic</code>主题，所以把<code class="fe mg mh mi mj b">html_theme = 'classic'</code>设置在<code class="fe mg mh mi mj b">conf.py</code>里。</p><p id="76de" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里可以找到完整的<code class="fe mg mh mi mj b">conf.py</code> <a class="ae lr" href="https://github.com/Shawnice/sphinx-example/blob/main/docs/source/conf.py" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="3ef6" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">从源代码自动生成源文件</h1><p id="a9f2" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">在上一节中我已经启用了<code class="fe mg mh mi mj b">autodoc</code>扩展，所以我现在可以使用<code class="fe mg mh mi mj b">sphinx-apidoc</code>来生成源文件(*。rst)从文档字符串。</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="cd54" class="nl ml iq mj b gy nm nn l no np">sphinx-apidoc -f -o docs/source src</span></pre><ul class=""><li id="d021" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">-o</code>:指定生成源文件的输出路径。</li><li id="143b" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">-f</code>:强制覆盖任何现有生成的源文件。</li><li id="c5db" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">src</code>:源代码所在的文件夹。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/139406d3f7879199c0f406ca6e9ae5bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*xQhHoAt1sP0eTZsxVe8_JA.png"/></div></figure><p id="e4f6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><code class="fe mg mh mi mj b">modules.rst</code>和<code class="fe mg mh mi mj b">src.rst</code>由<code class="fe mg mh mi mj b">sphinx-apidoc</code>产生。它将文档(来自docstrings)添加到源文件中。你可以在这里查看源文件和源代码<a class="ae lr" href="https://github.com/Shawnice/sphinx-example" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="d6fd" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">后处理根文档</h1><p id="462d" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated"><code class="fe mg mh mi mj b">sphinx-quickstart</code>创建了<code class="fe mg mh mi mj b">conf.py</code>和<a class="ae lr" href="https://www.sphinx-doc.org/en/master/glossary.html#term-root-document" rel="noopener ugc nofollow" target="_blank">根文件</a>、<code class="fe mg mh mi mj b">index.rst</code>。</p><blockquote class="od oe of"><p id="6018" class="kv kw og kx b ky kz jr la lb lc ju ld oh lf lg lh oi lj lk ll oj ln lo lp lq ij bi translated"><em class="iq">“根文档的主要功能是作为欢迎页面，包含“目录树”(或toctree)的根。这是Sphinx添加到reStructuredText的主要内容之一，这是一种将多个文件连接到单个文档层次结构的方法。”据</em> <a class="ae lr" href="https://www.sphinx-doc.org/en/master/usage/quickstart.html#defining-document-structure" rel="noopener ugc nofollow" target="_blank"> <em class="iq">斯芬克斯官网</em> </a> <em class="iq">。</em></p></blockquote><p id="5975" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们给它添加源文件名<code class="fe mg mh mi mj b">src</code>。</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="d97e" class="nl ml iq mj b gy nm nn l no np">Welcome to Sphinx Example's documentation!  <br/>==========================================  <br/>  <br/>.. toctree::  <br/>   :maxdepth: 2  <br/>   :caption: Contents:  <br/>  <br/>   src</span></pre><p id="df5c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是，每当我有了新的模块名时，我不想改变内容。因此，我们可以将<code class="fe mg mh mi mj b">index.rst</code>重命名为<code class="fe mg mh mi mj b">index.tmpl.rst</code>，并使用下面的shell命令插入源文件名。<code class="fe mg mh mi mj b">MODULE_NAME</code>是源文件名。</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="8e9e" class="nl ml iq mj b gy nm nn l no np">sed 's/Contents:/Contents:\n\n   $MODULE_NAME/g' docs/source/index.tmpl.rst &gt; docs/source/index.rst</span></pre><h1 id="9c31" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">建立文档</h1><p id="c128" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">现在，我们可以开始构建文档了。<code class="fe mg mh mi mj b">sphinx-build</code>是从源目录生成并放入目标目录的工具。</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="f49f" class="nl ml iq mj b gy nm nn l no np">sphinx-build -b html docs/source docs/build</span></pre><ul class=""><li id="db74" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">-b</code>:指定输出文件格式。</li><li id="8b0d" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">docs/source</code>:源目录包含源文件。</li><li id="bb11" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated"><code class="fe mg mh mi mj b">docs/build</code>:放置生成文档的地方。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/bce98b9efaab521646bb209e723f2a60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*hxM1PH3EAZ6ROMAl.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由Sphinx生成的主题为“经典”的文档。</p></figure><h1 id="5547" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">用于构建文档的脚本</h1><p id="376b" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">让我们将上面的步骤合并到一个shell脚本中，这样我们就可以一键快速构建文档了！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="79e9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是用法:</p><pre class="kg kh ki kj gt nh mj ni nj aw nk bi"><span id="63c5" class="nl ml iq mj b gy nm nn l no np">./docs_generator.sh src<br/>Creating file docs/source/src.rst.<br/>Creating file docs/source/modules.rst.<br/>Running Sphinx v5.0.2<br/>...<br/>build succeeded, 2 warnings.</span><span id="2dbe" class="nl ml iq mj b gy on nn l no np">The HTML pages are in docs/build.</span></pre><p id="c4ae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">酷！现在，我有了一个生成文档的脚本。</p><p id="9591" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">注意:</strong>这个脚本支持多个模块路径。例如，<code class="fe mg mh mi mj b">./docs_generators.sh src src2</code>将生成包含这两个模块的文档。</p><h1 id="7227" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">整合到CI渠道中</h1><p id="6186" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">我希望将脚本集成到我的CI管道(GitHub工作流)中，这样每当合并到<code class="fe mg mh mi mj b">main</code>分支时，我就可以自动生成(更新)文档。</p><p id="909b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我还有其他帖子展示了如何从头开始构建GitHub工作流。您可以查看<a class="ae lr" href="https://towardsdev.com/build-a-ci-pipeline-with-github-actions-for-python-project-cdc7852fbed3" rel="noopener ugc nofollow" target="_blank">使用GitHub动作为Python项目</a>构建CI管道，以及<a class="ae lr" href="https://towardsdev.com/update-submodule-automatically-with-github-actions-repository-dispatch-event-8e548ab1f517" rel="noopener ugc nofollow" target="_blank">使用GitHub动作“repository_dispatch”事件</a>自动更新子模块。我将跳过构建工作流的步骤，直接向您展示我的自动构建文档的工作流。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="de4b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">此工作流程的快速总结:</p><ul class=""><li id="04c4" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq lx ly lz ma bi translated">仅在将Python文件的更改推送到<code class="fe mg mh mi mj b">main</code>分支时触发。</li><li id="29aa" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">使用<a class="ae lr" href="https://docs.github.com/en/actions/learn-github-actions/environment-variables" rel="noopener ugc nofollow" target="_blank">环境变量</a>定义模块路径，例如<code class="fe mg mh mi mj b">src src2</code>。</li><li id="98b5" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq lx ly lz ma bi translated">仅在<code class="fe mg mh mi mj b">docs/build</code>中提交文件变更，这是放置生成的文档的地方。</li></ul><h1 id="e908" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">结论</h1><p id="b56f" class="pw-post-body-paragraph kv kw iq kx b ky nc jr la lb nd ju ld le ne lg lh li nf lk ll lm ng lo lp lq ij bi translated">狮身人面像有更多的特征有待发现。然而，有了这些内置的CLI工具，我们已经可以构建令人惊叹的文档了。</p><ol class=""><li id="ebb9" class="ls lt iq kx b ky kz lb lc le lu li lv lm lw lq oo ly lz ma bi translated">使用<code class="fe mg mh mi mj b">sphinx-quickstart</code>创建包含<code class="fe mg mh mi mj b">conf.py</code>和<code class="fe mg mh mi mj b">index.rst</code>的源目录。</li><li id="d8ee" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq oo ly lz ma bi translated">接下来，我们可以使用<code class="fe mg mh mi mj b">sphinx-apidoc</code>从docstrings生成源文件，</li><li id="957d" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq oo ly lz ma bi translated">然后使用<code class="fe mg mh mi mj b">sphinx-build</code>从源文件中生成所需格式的文档。</li></ol><p id="5725" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后，我们可以将所有这些放入一个脚本中，只需点击一下鼠标就可以生成文档！最后但同样重要的是，我们可以将脚本集成到我们的CI管道中。因此，当合并一个pull请求到<code class="fe mg mh mi mj b">main</code>分支时，我们可以自动生成和更新文档。</p><p id="368c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以在这个<a class="ae lr" href="https://github.com/Shawnice/sphinx-example" rel="noopener ugc nofollow" target="_blank">库</a>中找到完整的示例。</p><p id="915e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您对如何托管生成的文档感兴趣。我有另一篇文章来讨论发布Sphinx文档的三种不同方式。</p><p id="a114" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我希望这篇文章对你有所帮助。如果您有任何问题或想法，请随时留言。</p><h1 id="6143" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">参考</h1><ol class=""><li id="2067" class="ls lt iq kx b ky nc lb nd le op li oq lm or lq oo ly lz ma bi translated"><a class="ae lr" href="https://www.sphinx-doc.org/en/master/man/index.html" rel="noopener ugc nofollow" target="_blank"> Sphinx命令行工具</a></li><li id="06fe" class="ls lt iq kx b ky mb lb mc le md li me lm mf lq oo ly lz ma bi translated">Sphinx reStructuredText(T1)</li></ol></div></div>    
</body>
</html>