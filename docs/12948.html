<html>
<head>
<title>From Ethereum to Aurora With Infura</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从以太坊到极光</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/from-ethereum-to-aurora-with-infura-a20af791fb29?source=collection_archive---------4-----------------------#2022-07-13">https://betterprogramming.pub/from-ethereum-to-aurora-with-infura-a20af791fb29?source=collection_archive---------4-----------------------#2022-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a8fe" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简化您的入职流程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/27239b1e808fcf28b2353ef2e608e634.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8ZOz7mDN8JC-xU4Q"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@moneyphotos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> regularguy.eth </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="9e06" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Web3的前景非常诱人。</p><p id="302b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">摆脱科技巨头的束缚，将权力还给创造者，是崇高而有价值的目标。以太坊是世界上最大和最常用的公共区块链，自2015年推出以来一直支持着Web3的发展。成为第一个和最受欢迎的不是没有挑战，尤其是当网络需求很高的时候。</p><p id="289c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">缓慢而昂贵的交易并不能带来最好的开发者体验，而L2的兴起确保了以太坊的可伸缩性，这仍然令人惊讶。对于想尝试其他第一层链的开发人员来说，还有其他选择。</p><p id="556f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">NEAR协议是一个创新的区块链生态系统。他们的网络速度快如闪电，交易成本低，而其桥梁正在帮助创造我们一直希望的多链未来。但是大多数Web3开发者都是从以太坊和Solidity开始的。由于NEAR主要将Rust用于其智能合约，这对大多数人来说可能是一个艰难的过渡。</p><p id="fbc4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，NEAR认识到了这一挑战，并在他们的网络上发布了Aurora，这是他们自己的以太坊兼容性版本。这使得以太坊开发人员可以很容易地开始构建或转移现有的项目，而不需要改变他们的实体代码。更好的是，节点提供商<a class="ae kv" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank"> Infura </a>通过他们的RPC URLs提供Aurora兼容性。</p><p id="1110" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将探索NEAR协议，它的Aurora环境，以及为什么一个以太坊开发者想要进行这种转换。然后，我们将使用Infura RPC URL在Aurora上部署一个简单的智能契约，看看它有多容易上手。</p><h1 id="2807" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">什么是近？</h1><p id="a988" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">NEAR是第一层区块链网络，也是进入Web3领域的最激动人心的新协议之一。它们通过提供极其快速和廉价的交易来提供出色的用户和开发人员体验。NEAR没有使用复杂难读的钱包地址，而是使用人类可读的地址，使得与网络的交互更加用户友好。此外，他们创新的<a class="ae kv" href="https://near.org/papers/nightshade/" rel="noopener ugc nofollow" target="_blank">茄片切割</a>机制实现了目前其他区块链无法与之竞争的可扩展性。</p><p id="6271" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">凭借其<a class="ae kv" href="https://rainbowbridge.app/transfer" rel="noopener ugc nofollow" target="_blank">彩虹桥</a>和<a class="ae kv" href="https://oct.network/" rel="noopener ugc nofollow" target="_blank">章鱼网络</a>，NEAR可以与其他区块链环境互操作，包括比特币、以太坊、波尔卡和宇宙。与此同时，诸如利害关系证明共识机制、对绿色项目的关注以及对发展中国家二氧化碳补偿项目的贡献等因素使得NEAR protocol被授予南极气候中立产品标签<a class="ae kv" href="https://near.org/blog/near-climate-neutral-product/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="6348" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，他们的<a class="ae kv" href="https://near.org/education/" rel="noopener ugc nofollow" target="_blank">免费教育平台</a>确保任何寻求在NEAR上建立的人都有可用的资源。总的来说，NEAR是一个非常超前的、关注地球的生态系统，吸引了许多志同道合的参与者。</p><h1 id="3d29" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">极光是什么？</h1><p id="0ea4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">Aurora是一个本质上类似于以太坊的协议，但是是针对近生态系统的。它是作为智能合约部署的以太坊虚拟机(EVM ),在NEAR协议之上提供类似以太坊的开发人员体验。EVM的兼容性确保了任何建立在以太坊上的项目都可以很容易地移植到Aurora，而不需要修改任何一行代码。</p><p id="1d56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于Aurora实现是一个智能合同，它获得了与使用近L1协议相同的好处。这些额外好处包括显著提高的交易吞吐量、高达1000倍的交易费用降低、更快的交易终结以及通过NEAR的茄影切分机制实现的横向EVM扩展等。</p><p id="fb2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Aurora还通过彩虹桥维护NEAR的互操作性，这有助于Aurora、NEAR和以太坊之间令牌和数据的无许可传输。在其核心部分，Aurora解决了以太坊主网面临的挑战，同时为以太坊开发者和用户提供了更轻松的NEAR生态系统入门体验。</p><h1 id="f25d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么以太坊应该在奥罗拉开始建造？</h1><p id="d270" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">正如引言中提到的，Rust是接近智能合约的主要编码语言。Rust是一种众所周知的难学语言，大多数开发人员都是通过用Solidity或Vyper语言编写以太坊智能合约开始学习Web3的。Aurora提供了一个兼容Solidity和Vyper的EVM环境，使得开发者在NEAR上构建更加容易。但是开发者为什么要离开以太坊呢？</p><p id="ac58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Aurora的美妙之处在于，开发者实际上不必离开以太坊网络就可以在附近建立。以太坊上运行的任何东西都可以毫不费力地通过彩虹桥传输到NEAR。因此devs可以同时部署到两个网络。此外，Aurora上的基础货币是ETH，因此没有必要获取额外的网络令牌来部署智能合约并与之交互。</p><p id="e9db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，以太坊开发者已经知道的所有工具都可以在Aurora上开箱即用。例如，Truffle仍然兼容制作智能合约项目，而MetaMask可以处理所有事务。现在，Infura提供了与Aurora的兼容性，开发人员可以使用定制的RPC URLs构建具有更好的可观察性和安全性的项目。</p><h1 id="75be" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">我们来建吧！</h1><p id="1d9d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">对于本文的项目部分，我们将使用Truffle创建一个简单的ERC-20合同，使用我们自己的Infura RPC URL将Aurora Testnet添加到MetaMask，使用Truffle仪表板部署到Aurora Testnet，在Aurora Testnet block explorer上验证部署，然后将我们的一些ERC-20令牌转移到另一个钱包。</p><h1 id="c64f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">你会学到什么</h1><ul class=""><li id="87bd" class="mp mq iq ky b kz mk lc ml lf mr lj ms ln mt lr mu mv mw mx bi translated">如何使用Infura RPC URL在元掩码上设置Aurora</li><li id="ea26" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">如何使用Truffle Dashboard将ERC-20合同部署到Aurora测试网</li><li id="5470" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">如何在Aurora Testnet块资源管理器上查看事务</li></ul><h1 id="a3cf" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">你需要什么</h1><ul class=""><li id="fc01" class="mp mq iq ky b kz mk lc ml lf mr lj ms ln mt lr mu mv mw mx bi translated"><a class="ae kv" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank">一个不真实的账户</a></li><li id="6d74" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">一个MetaMask钱包</a></li><li id="3105" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="https://trufflesuite.com/docs/truffle/getting-started/installation/" rel="noopener ugc nofollow" target="_blank">最新版本的松露</a></li><li id="d40a" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="https://aurora.dev/faucet" rel="noopener ugc nofollow" target="_blank">某极光测试网ETH </a></li></ul><h1 id="fa9e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">额外资源</h1><ul class=""><li id="a096" class="mp mq iq ky b kz mk lc ml lf mr lj ms ln mt lr mu mv mw mx bi translated"><a class="ae kv" href="https://docs.infura.io/infura/networks/aurora" rel="noopener ugc nofollow" target="_blank">信息文档</a></li><li id="6335" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated"><a class="ae kv" href="https://doc.aurora.dev/" rel="noopener ugc nofollow" target="_blank">极光文档</a></li></ul></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="f65b" class="ls lt iq bd lu lv nk lx ly lz nl mb mc jw nm jx me jz nn ka mg kc no kd mi mj bi translated">步骤1-设置元掩码</h1><p id="dc40" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在我们可以部署任何东西之前，我们需要建立这样做的通道。为此，我们需要在浏览器上添加一个MetaMask wallet扩展和一个Infura项目ID。所以先说Infura。</p><h2 id="46aa" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">1a。Infura项目ID</h2><p id="4d66" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">前往<a class="ae kv" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank"> infura.io </a>注册账户或登录。接下来，使用屏幕右上角的按钮创建一个新项目。对于产品，选择以太坊，然后为您的项目命名:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/099fdee75cce8f2f3df7f7f86db5d1b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*eXdt1x-vT3uSiiNNtH5AtA.png"/></div></figure><p id="ce27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着我们新项目的创建，我们现在需要从Infura获得的只是我们的RPC URL。这在我们项目的常规设置中的Keys部分下。将端点下拉菜单切换到Aurora Testnet并复制URL。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/0c67ae42cc42cb27d841462889a647e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GSrvOAljESm9mMZidnraxA.png"/></div></div></figure><p id="043b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们有了RPC URL，我们需要一个地方来使用它！这就是元掩码的用武之地。</p><h2 id="7aea" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">1b。配置元掩码</h2><p id="a237" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">前往<a class="ae kv" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank"> metamask.io </a>和<a class="ae kv" href="https://metamask.io/download/" rel="noopener ugc nofollow" target="_blank">为你的特定浏览器下载扩展</a>。安装完成后，打开扩展，我们将添加Aurora Testnet。</p><p id="34b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，选择网络下拉菜单，然后按添加网络按钮。这将打开一个窗口，我们可以在其中输入正确的信息，以便将Aurora网络添加到我们的MetaMask wallet中。在表格中填写以下信息:</p><ul class=""><li id="d425" class="mp mq iq ky b kz la lc ld lf od lj oe ln of lr mu mv mw mx bi translated">网络名称:极光测试网(Infura)</li><li id="b7dc" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">新的RPC网址:【https://aurora-testnet.infura.io/v3/YOUR-INFURA-PROJECT-ID T4】</li><li id="780c" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">连锁编号:1313161555</li><li id="9559" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">货币符号:ETH</li><li id="cad8" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">区块浏览器网址:<a class="ae kv" href="https://testnet.aurorascan.dev/" rel="noopener ugc nofollow" target="_blank">https://testnet.aurorascan.dev/</a></li></ul><p id="81f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们花点时间来分析一下。首先，对于网络名称，我们在末尾添加了Infura，以表示我们使用的是Infura RPC URL，而不是公开可用的Aurora Testnet URL(https://Testnet . Aurora . dev/)。这在我们粘贴RPC URL的下一个要点中很明显。这个URL将为我们提供更多的选项来部署和保护对我们项目的访问。</p><p id="031b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，链ID是签名事务所必需的，这个数字指定了Aurora Testnet。对于货币符号，极光的基础货币是以太，而不是NEAR的原生令牌。最后，我们输入Aurora Testnet block explorer URL，这样我们就可以在事务发生时轻松查看它们。</p><p id="d84c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">配置MetaMask的最后一步是确保我们可以使用高级气体控制。导航到“设置”-&gt;“高级”,将高级气体控制切换到“打开”(如果尚未打开)。这将允许我们在部署智能合同时设置必要的气体限制。</p><h2 id="098f" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">1c。Aurora Testnet ETH</h2><p id="be41" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">这一步的最后一个任务是获取一些Aurora Testnet ETH，以便我们可以部署我们的合同。因此，前往<a class="ae kv" href="https://aurora.dev/faucet" rel="noopener ugc nofollow" target="_blank"> Aurora Testnet水龙头</a>，按下标题下的Testnet按钮以切换网络，连接您的钱包，并请求一些Testnet ETH。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/06a2ff165b59cb91233c9e104cb89294.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*N5Pi8QMrorcybMcmGjh_XQ.png"/></div></figure><p id="1e96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">切换到MetaMask中的Aurora Testnet，查看您新获得的ETH:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/de314bf1c36ef73898926a91c17ae87c.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*YQnQtOomaLIW6_pGnNAC1w.png"/></div></figure><p id="6db0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经做好了将合同发布到Aurora Testnet的一切准备，让我们开始构建项目吧！</p><h1 id="0a37" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">步骤2 —构建项目</h1><h2 id="dadc" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">2a。安装松露</h2><p id="b285" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了构建和部署我们的项目，我们将使用Truffle，因为新版本附带了一个超级方便的工具，名为<a class="ae kv" href="https://trufflesuite.com/docs/truffle/getting-started/using-the-truffle-dashboard/" rel="noopener ugc nofollow" target="_blank"> Truffle Dashboard </a>。这个工具允许我们部署智能合约，而不会暴露我们钱包的私钥或助记短语。在安装了<a class="ae kv" href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm" rel="noopener ugc nofollow" target="_blank">NPM</a>的情况下，在您的终端中运行以下命令:</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="6ec7" class="np lt iq oj b gy on oo l op oq">npm install -g truffle</span></pre><p id="5912" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们将创建并初始化一个新的Truffle项目:</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="34b8" class="np lt iq oj b gy on oo l op oq">mkdir AuroraTest &amp;&amp; cd AuroraTest<br/>truffle init</span></pre><p id="d5bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这创建了一个具有适当文件结构的基本启动项目，我们可以在其上构建以满足我们的需求。</p><p id="a0a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我们将使用OpenZeppelin的ERC-20合同来创建令牌，所以我们需要安装最后一个依赖项:</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="d75b" class="np lt iq oj b gy on oo l op oq">npm install @openzeppelin/contracts</span></pre><p id="026b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，打开您最喜欢的代码编辑器，让我们开始构建吧！</p><h2 id="9944" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">2b。配置松露仪表板</h2><p id="d421" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">为了将Truffle连接到仪表板进行部署，我们需要将其添加为网络选项。打开<code class="fe or os ot oj b">truffle-config.js</code>文件，在网络对象中添加Truffle仪表板。除了所有被注释掉的样板文件，我们的对象现在应该是这样的:</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="3875" class="np lt iq oj b gy on oo l op oq">networks: {<br/>  dashboard: {<br/>    port: 24012,<br/>  }<br/>}</span></pre><p id="a73c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认情况下，Truffle Dashboard在端口24012上运行，但是如果我们愿意，我们可以更改这一点。我们只需要在运行仪表板时指定端口。</p><p id="ec9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们仍然在<code class="fe or os ot oj b">truffle-config.js</code>文件中时，向下滚动到编译器并仔细检查Truffle正在使用的版本。这是我们将在智能合同中指定的版本号。我的是0.8.13。</p><h2 id="5282" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">2c。智能合同</h2><p id="a07a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">接下来是智能合约。在合同文件夹中，我们可以删除已经存在的迁移合同，并创建一个名为<code class="fe or os ot oj b">AuroraToken.sol</code>的新文件。我们的ERC-20令牌码将如下所示:</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="dc57" class="np lt iq oj b gy on oo l op oq">// SPDX-License-Identifier: UNLICENSED<br/>pragma solidity 0.8.13;<br/><br/>import '@openzeppelin/contracts/token/ERC20/ERC20.sol';<br/><br/>contract AuroraToken is ERC20 {<br/>    constructor (string memory name, string memory symbol) ERC20(name, symbol){<br/>        // Mint 1000 tokens to msg.sender<br/>        _mint(msg.sender, 1000 * 10 ** uint(decimals()));<br/>    }<br/>}</span></pre><h2 id="9b71" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">2d。部署代码</h2><p id="5451" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">下一步是创建JavaScript代码，我们将使用它将我们的文件部署到Aurora Testnet。在<code class="fe or os ot oj b">migrations</code>文件夹下，我们将改变<code class="fe or os ot oj b">1_initial_migration.js</code>的内容，使其看起来像这样:</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="f3ad" class="np lt iq oj b gy on oo l op oq">const AuroraToken = artifacts.require("AuroraToken");<br/><br/>module.exports = function (deployer) {<br/>  deployer.deploy(AuroraToken, 'AToken', 'ATKN');<br/>};</span></pre><p id="6c73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong> AToken和ATKN分别是令牌名称和符号。你可以随意设置。</p><p id="9870" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们都准备好部署了！</p><h1 id="3f25" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">步骤3 —部署智能合同</h1><p id="43ba" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在，我们已经具备了将智能合同部署到Aurora Testnet所需的一切。我们需要做的第一件事是启动松露仪表板。</p><h2 id="af5b" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">3a。设置松露仪表板</h2><p id="5ef7" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在新的终端窗口中，运行以下命令:</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="a58e" class="np lt iq oj b gy on oo l op oq">truffle dashboard</span></pre><p id="845a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这应该会弹出一个新窗口，但如果没有弹出，请在浏览器中导航到localhost:24012。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/4aa05c6b075b7de70e23642d7a1c3087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GEb3MbruVUC4EzI_k3CD3g.png"/></div></div></figure><p id="660c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击“连接钱包”按钮，将您的元掩码钱包连接到Truffle仪表板。一旦连接，它会问我们是否希望连接到我们的钱包当前分配的网络。这里，如果还没有连接到Aurora Testnet，我们将切换到它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/f57ec4a04f03540676d01ef17a914f7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wcz6cmSS24lquks1zvRvHg.png"/></div></div></figure><p id="36b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经通过Truffle仪表板将MetaMask钱包连接到Aurora Testnet，所有传入的请求都将从Truffle路由到仪表板。所以让我们把它付诸实践吧！</p><h2 id="c05f" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">3b。部署智能合同</h2><p id="cdfe" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">回到我们原来的终端窗口，导航到项目的根文件夹，并运行命令来部署我们的智能合约:</p><pre class="kg kh ki kj gt oi oj ok ol aw om bi"><span id="6baf" class="np lt iq oj b gy on oo l op oq">truffle migrate --network dashboard</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/5b7431f6b2b25e83f9a2e86afe836aa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*Zl2aZQAmiPae_cW4IRk0uQ.png"/></div></figure><p id="2d25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将向Truffle仪表板发送一个“传入请求”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/ea0292d1b1bffeb0bc16c8366e41a6c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rqIm972ELIsRa9mwaB3i-A.png"/></div></div></figure><p id="7903" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按下Process按钮后，MetaMask应该会弹出我们需要签名的事务。然而，首先我们需要调整气体限制。单击编辑链接，并选择编辑建议的燃气费，以输入燃气限额和燃气价格。我们将这些分别设置为<code class="fe or os ot oj b">672190</code>和<code class="fe or os ot oj b">0.00001</code>。</p><p id="be31" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>气体限值来自运行migrate命令并检查终端响应中的气体发送值。如果您的部署因为气体耗尽而失败，请检查该值并相应地调整MetaMask。至于天然气价格，这个数字是任意的，因为您正在部署到一个测试网。</p><p id="d57c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">无论价格如何，您的交易都会得到处理，因此您可以将其设置为您能承受的任何数字。如果部署到Aurora mainnet，您需要将此价格设置为有竞争力的价格，以便处理您的交易。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/8fbb56d372bd25b8b94edc17415c9cb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*CBYtAdf5AHOVFGWRbSKf0w.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/7f093fbc16d174906d864042fb1d40bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*XvU4wfMN7YRqL0sHOv3oHg.png"/></div></div></figure><p id="9456" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">保存这些新值后，单击确认按钮继续交易。几秒钟后，我们应该在终端中看到一个成功的响应，MetaMask应该显示一条“transaction approved”消息。我们的合同现在存在于极光测试网上！</p><p id="2230" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">记下终端上打印的合同地址。我们将使用它在block explorer上验证我们的合同，并将令牌导入我们的钱包。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/a962c9b3a4ef2f6179bc1d037eef3f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*ymN1TrTMG6yY5WxTDgt2bw.png"/></div></figure><h1 id="2c2c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">步骤4 —验证成功部署</h1><p id="7ba6" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在让我们确保一切正常。我们将首先在Aurora Testnet块浏览器上检查我们的事务，然后将我们的新令牌导入到我们的元掩码中。</p><h2 id="b40c" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">4a。Aurora Testnet块资源管理器</h2><p id="2f16" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">对于这一步，我们可以遵循来自MetaMask的“交易批准”消息(因为我们在设置网络连接时配置了block explorer URL ),或者前往https://testnet.aurorascan.dev/的<a class="ae kv" href="https://testnet.aurorascan.dev/" rel="noopener ugc nofollow" target="_blank">并从我们的控制台输入合同地址。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/9f8013e738a4f63cb83de8ac339aa843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D4u9G9O0pGwArcKXtaKQfw.png"/></div></div></figure><p id="389a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太棒了。我们已经确认我们的智能合同存在于Aurora Testnet上。现在让我们将新令牌导入元掩码。</p><h2 id="cea7" class="np lt iq bd lu nq nr dn ly ns nt dp mc lf nu nv me lj nw nx mg ln ny nz mi oa bi translated">4b。将令牌导入元掩码</h2><p id="bca2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">MetaMask不会自动检测我们的新令牌，所以我们必须自己导入它们。打开钱包，选择资产，然后导入令牌。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/2f2b9abafab9138d99df2a4205b9be9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*If9mbh-PzDZFry5YIn-UPg.png"/></div></figure><p id="d6ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">粘贴我们在终端响应中收到的合同地址，其他字段应该会自动填充。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/a0c57ec4e1260daa7440797a439598d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*tW70Yt1gkkU6zrKlyxffxw.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/f5c0792a8e89ebc76cbcf3616f2b6a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*NMn6gL6DJqToj84Iq4gA3Q.png"/></div></figure><p id="8b56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">厉害！现在，我们的令牌在元掩码钱包中可见，我们可以将它们发送到另一个地址。</p><h1 id="b9f2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">步骤5 —发送令牌</h1><p id="a0ab" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">因此，我们所需要做的就是输入我们想要发送的地址来发送令牌到另一个地址！如果我们没有具体的地址，我们可以很容易地在我们的MetaMask钱包中创建一个新帐户，并将它们发送到那里。只需转到我的帐户并创建一个新帐户。</p><p id="83c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在MetaMask仪表板上，单击发送按钮，然后粘贴地址或选择在我的帐户之间转移。</p><p id="3bce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，选择我们的ATKN资产并输入要发送的金额。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/9e1c7683a088c736911d9a56728017d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*zZKFWMumYgISv5esOpSY8A.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/784fd0b7ad085efb2b2379056aef4d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*EfTkFZUTTkGW3ypzk65yyw.png"/></div></figure><p id="d70e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几秒钟后，我们应该会收到另一个成功的交易消息。同样，我们可以遵循此消息或检查block explorer上的合同页面来证明转移成功。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pe"><img src="../Images/82e206519afc9f5cafa5858ef0a0932d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fbRwI0SrW-CWbORNi5tyIQ.png"/></div></div></figure><p id="9527" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果ATKNs被发送到一个我们控制的地址，我们可以检查我们钱包里的新余额。然后，我们只需要使用与之前相同的方法再次导入令牌。粘贴合同地址并导入资产后，我们的钱包中现在有了一个可见的余额。不错！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/d79bd8ded1ba942c512da83142121bd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*ygE-YeauKItWLylcvU3mfA.png"/></div></figure><p id="4eae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，我们可以检查我们的Infura项目并查看请求活动。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pf"><img src="../Images/8bc4980a2d249bd8634634fa3c364072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4x9jkYXr1H3F7DVaKzK78Q.png"/></div></div></figure><h1 id="5eb9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="9479" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">Aurora协议是作为智能合同部署的网络，存在于区块链附近。这是一种EVM的等效体验，继承了NEAR的所有优点，同时为开发人员和用户提供了一种简单的入门体验。交易更快、更便宜，项目的可扩展性也显著提高。</p><p id="9fca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，您了解了如何在Aurora Testnet上部署智能契约并与之交互。您使用Infura在MetaMask中创建了一个定制的RPC URL连接，将附加的可观察性和安全性选项添加到您的项目中，使用Truffle Dashboard启动了您自己的ERC-20令牌，并将一些令牌转移到另一个地址。</p><p id="90f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望这次经历已经向你展示了用Aurora将你现有的坚固性和以太坊技能转移到NEAR网络是多么容易。查看<a class="ae kv" href="https://near.org/education/" rel="noopener ugc nofollow" target="_blank"> NEAR Education Platform </a>和<a class="ae kv" href="https://doc.aurora.dev/" rel="noopener ugc nofollow" target="_blank"> Aurora文档</a>以了解关于该协议的更多信息。</p><p id="35b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">祝你今天过得愉快！</p></div></div>    
</body>
</html>