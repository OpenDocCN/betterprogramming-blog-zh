<html>
<head>
<title>5 Tips To Create Better Pull Requests</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建更好的拉动式请求的5个技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-tips-to-create-better-pull-requests-a75c42a32ff?source=collection_archive---------10-----------------------#2021-05-04">https://betterprogramming.pub/5-tips-to-create-better-pull-requests-a75c42a32ff?source=collection_archive---------10-----------------------#2021-05-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="15b8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的评论者生活更轻松的小建议</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7021963f420cd82695e95d132fd1b6d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vDFNuU1ufWptzWEZ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·温克勒在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="f30c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建PR并等待代码评审是编写代码的标准方法。PRs和代码审查在每个开发人员的日子里都非常重要。他们实现不同的目标:</p><ol class=""><li id="eb66" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">分享关于代码库的知识。</li><li id="a850" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">指导开发人员，让他们变得更好。</li><li id="7557" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">保持高质量的标准。</li></ol><p id="a630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个过程通常分为两个步骤:一个开发人员准备一个PR，另一个(或几个)开发人员执行代码评审，指出好的部分和可以改进的部分。</p><p id="b199" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我想通过第一步，强调我们如何能够创建一个便于我们的同事审查的公关。我们让他们的生活越轻松，评论就越有用。这也将提高他们对我们作为专业人员的看法，这是一个不错的额外津贴！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="49ea" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">1.写一个信息丰富的标题</h1><p id="b494" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们必须牢记的第一个想法是，我们知道上下文，而我们的审阅者不知道。</p><p id="23c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以一个信息丰富的标题开始会立即设定评论者必须检查的内容，并给他们提供基本的背景。</p><p id="48ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，一个名为“BUGFIX”的PR会告诉评审员他们将要检查一个bug是否已经被修复。但是在哪里？是什么bug？</p><p id="a51a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更好的标题是类似于“[修复]当新产品从后台到达时更新产品列表。”这个标题立刻告诉了评论者几件事:</p><ol class=""><li id="c63f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">这是一个bugfix(相对于特性实现、一些测试或其他任何东西)。</li><li id="5390" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">和app的产品列表有关。</li><li id="8ae7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">它解释了错误发生的时间。</li><li id="4e8a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">它解释了期望的结果是什么。</li></ol><p id="c1d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nn">专业提示:</em> <strong class="lb iu"> <em class="nn"> </em> </strong> <em class="nn">根据你的公司文化、团队宣言或任何惯例，有时在标题开头加上表情符号是有用的。例如，我们经常使用🐛用于修复bug或📚医生的表情符号。它给出了正在发生的事情的视觉线索。</em></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="8ede" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">2.不要忘记描述</h1><p id="3198" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">有时PRs有一个很好的标题，但是有一个空洞的描述(或者甚至有一个“按照标题”的描述)。</p><p id="f847" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">描述对于给你的评论者提供他们需要的额外信息是非常重要的。在这里，我们可以解释编写代码时所做的所有假设。</p><p id="293a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个好的方法是尝试回答五个问题:为什么？在哪里？谁啊。什么？什么时候？<strong class="lb iu"> </strong>他们<strong class="lb iu"> </strong>解释:</p><ul class=""><li id="ff4f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu no mb mc md bi translated">为什么需要公关？</li><li id="2348" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu no mb mc md bi translated">背后所有的假设。</li><li id="8022" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu no mb mc md bi translated">当前解决方案的利弊。</li><li id="db1b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu no mb mc md bi translated">是否有一些部分将在以后处理。</li></ul><p id="1e75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最佳实践是链接附加资源。如果PR是一个bug修复，重要的是链接相关问题。如果是功能实现，那么链接相关任务是很重要的。</p><p id="c6b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在PR旨在提高性能的情况下，我们可以添加PR之前和之后的性能图。</p><p id="a82f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果PR是UI相关的，我们可以显示结果的快照，甚至是一个小的GIF。</p><p id="a4b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有这些信息都有助于审查员完成任务，他们可以专注于PR的相关部分。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="19e5" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">3.保持PR小并且语义原子</h1><p id="6832" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">没有什么比审阅长达几千行的简历更令人沮丧的了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/88bd36ec60a564dc1b9da283a9396495.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*nGjfQX5d9ryfBrHYweZXsw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这很不好！</p></figure><p id="6c5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似上图的东西是一场噩梦。事情太多了，评论者肯定会漏掉一些东西。而且，这个PR在语义上做的不止一件事。它可以理解一个错误修复，一个重构，测试，谁知道还有什么？</p><p id="15fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准备PR时，专注于一件事(例如实现一个组件或解决bug)。避免实现组件、重构代码、为两者编写测试以及更新依赖关系。任何PR都可以分解成更容易评估的不同的较小PR。<a class="ae ky" href="https://en.wikipedia.org/wiki/Single-responsibility_principle" rel="noopener ugc nofollow" target="_blank">单一责任原则</a>在这里同样适用！</p><p id="15e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果您需要实现一个需要实现特定组件的特性，那么第一个PR可以只包含该组件，随后的PR可以实现测试，而最终的PR可以将该组件集成到代码库中。</p><p id="8fc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法允许你在适当的时候面对不同的讨论:</p><ul class=""><li id="758d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu no mb mc md bi translated">组件是否被正确实现？</li><li id="7696" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu no mb mc md bi translated">测试覆盖了所有的重要案例和相关的边缘案例吗？</li><li id="b781" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu no mb mc md bi translated">组件的API是否有意义，是否符合人体工程学？</li></ul><p id="44ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据经验，任何PR都不应该超过200行代码。在一些罕见的情况下，当有很多样板文件时，更大的PR也是有意义的(例如，如果你必须实现一个新的<code class="fe nq nr ns nt b">View</code>和<code class="fe nq nr ns nt b">ViewController</code>，在同一个PR中有标准的、定义良好的部分是有意义的)。对于这些PRs，我们可以轻松地达到~800行，但是重要的部分应该很好地分离。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="e30b" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">4.更新文档</h1><p id="8bd9" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们希望将我们的代码记录在案。因此，当处理一段代码时，我们也应该更新文档。</p><p id="b8d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也许我们改变了一个公共函数的签名，添加或删除了一个参数。在这种情况下，我们需要更新文档。</p><p id="fa35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在其他一些情况下，我们会引入新的API。那样的话，我们就得更新<code class="fe nq nr ns nt b">README.md</code>。</p><p id="c972" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一般来说，应该有一个<code class="fe nq nr ns nt b">CHANGELOG.md</code>来跟踪代码库中的所有更新。这是另一个需要更新的文档。</p><p id="63fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们准备PR时，强迫自己更新文档有两个目的:</p><ol class=""><li id="38f0" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">它保持文档更新。</li><li id="aa1a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">它避免了审查者花费时间添加类似“记得更新变更日志”的评论</li></ol></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="83c5" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">5.避免错别字</h1><p id="0115" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">与上一点类似，这样做的主要原因是为了节省我们评审人员的时间。错别字使公关更难阅读，因为当他们拦截一些奇怪的东西时，我们的眼睛会停留在他们身上。</p><p id="e669" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，评论家必须指出他们，花时间为他们写评论。</p><p id="f231" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以做几件事来防止我们犯拼写错误:</p><ol class=""><li id="e3c5" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">在点击“创建拉取请求”按钮之前，请再次阅读我们的代码差异。如果你遵循提示3，它会很快，因为PR很小。</li><li id="8467" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在Xcode中启用语法检查器。为此，只需打开Xcode，点击工具栏中的“编辑”，然后突出显示“格式”和“拼写和语法”最后，点击“打字时检查拼写”</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/2f565f1bbe1c47846e1fb2c10aefc842.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xlyFeyMJ5RgQU8c7ok15oA.png"/></div></div></figure><p id="db8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">激活此选项后，Xcode会用典型的红色卷线给你的注释和代码中的错别字加下划线。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="de59" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="e519" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在今天的文章中，我想分享一些技巧，告诉你如何准备有用的简历来减轻审稿人的工作。这种方法不仅对我们的同事友好很重要，还因为它有助于他们进行更好的代码审查。这反过来可以让我们成为更好的开发者。</p><p id="f356" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个重要的好处是，它让我们创建需要更少注释的PRs，这意味着更少的迭代和更快的开发周期。每个人都更快乐、更有效率。</p><p id="6821" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我想引用一下<a class="ae ky" href="https://github.com/google/eng-practices/blob/master/review/developer/index.md" rel="noopener ugc nofollow" target="_blank"> CL作者通过代码评审</a> <em class="nn">的指南。</em>本指南包含一些我们可以用来准备PRs的其他技巧。</p></div></div>    
</body>
</html>