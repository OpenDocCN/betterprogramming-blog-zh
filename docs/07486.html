<html>
<head>
<title>5 Coding Habits You Need To Put to Rest This Year</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">今年你需要改掉的5个编码习惯</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-coding-habits-you-need-to-put-to-rest-this-year-432643d97d89?source=collection_archive---------3-----------------------#2021-01-20">https://betterprogramming.pub/5-coding-habits-you-need-to-put-to-rest-this-year-432643d97d89?source=collection_archive---------3-----------------------#2021-01-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0973" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">开发人员，让我们避免这些技术</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/faea3df122c2fd94e490e2bdbdcf1dc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oj7MilPMQO_X_W9xsuFDwA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@herrond?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">丹尼尔·赫伦</a>在<a class="ae ky" href="https://unsplash.com/s/photos/no?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="6049" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在某些圈子里，人们小心翼翼地谈论着一些编码技术。作为一种黑魔法，它们时隐时现，出现的时间足以让你付出沉重的代价。在早期阶段，他们会翻个白眼，叹口气，甚至说脏话。</p><p id="ce02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在他们的后期阶段，愤怒被认为是对这些编码实践的礼貌反应。它们是理智、道德和一般礼仪的诅咒。我认为，没有人能够同时犯下这些大罪，并且灵魂完好无损。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5c97" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">评论中的战争与和平</h1><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="d1da" class="mz md it mv b gy na nb l nc nd">// Create a string<br/>String s = "hello";</span><span id="9cc0" class="mz md it mv b gy ne nb l nc nd">// Add that string to another string<br/>String s2 = s + " world";</span><span id="5907" class="mz md it mv b gy ne nb l nc nd">// Print out the result<br/>System.out.println(s2);</span></pre><p id="68a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在工程学的历史上，从来没有如此少的工程师的行为让如此多的其他工程师血压飙升。<strong class="lb iu"> </strong>这些评论到底是做什么的？它们是干什么用的？我只能得出结论，他们是来让我心烦的，从这个角度来看，他们是一个巨大的成功。在所有其他情况下，它们都是浪费时间。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5d85" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">像陀思妥耶夫斯基小说中人物的名字</h1><p id="6983" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我想起了世界上最糟糕的计算机科学笑话:“计算机科学中只有两个难题:缓存失效和命名——以及一个接一个的错误。”</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="f2f7" class="mz md it mv b gy na nb l nc nd">String myStringWithWhichIWillInputIntoTheCode = "a";</span><span id="6ea1" class="mz md it mv b gy ne nb l nc nd">String myOtherStringWithWhichIWillAddToMyFirstString = "b";</span><span id="092a" class="mz md it mv b gy ne nb l nc nd">String theUnionOfTheFirstTwoStrings = myStringWithWhichIWillInputIntoTheCode + myOtherStringWithWhichIWillAddToMyFirstString;</span></pre><p id="db00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在Java中经常看到这种情况。当面对一个班级时，除了疲惫的叹息，我从来没见过别的。冗长的名称并不总是不好的，但是您很可能不需要在变量名中使用冠词和介词。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="d49a" class="mz md it mv b gy na nb l nc nd">String inputString = "a";<br/>String suffix = "b";</span><span id="445c" class="mz md it mv b gy ne nb l nc nd">String fullString = inputString + suffix;</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2e29" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">偶然用拉丁文写的函数</h1><p id="388d" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我知道拥有一个名为<code class="fe nk nl nm mv b">applyChangesAndCount</code>的函数并让它执行不同的、相互交织的进程的复杂舞蹈似乎很聪明。现在，一切都变得如此清晰！现在没人在乎了！！抽象和混淆是有区别的。你显然没有意识到这一点。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="2fbf" class="mz md it mv b gy na nb l nc nd">public long applyChangesAndCount(final List&lt;String&gt; inputs) {<br/>  String output = inputs.stream().distinct().map(s -&gt; s.substring(1)).collect(Collectors.<em class="nn">joining</em>(","));<br/><br/>  return Arrays.<em class="nn">stream</em>(output.split(" ")).map(String::toUpperCase).filter(s -&gt; s.equals("HELLO!")).count();<br/>}</span></pre><p id="a4d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对，拍拍你自己的背，爱因斯坦。你创造了如此美味复杂的东西，只有你才能理解它与生俱来的天赋。</p><p id="7cd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，我敢肯定，对于像你这样的人来说，这真的是一个小问题，如果你能理解代码，你准备好独自保管它了吗？从现在开始，这个代码属于你。你要喂它，带它散步，给它浇水，给它唱歌…我可能被别的东西搞糊涂了。</p><p id="3155" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的观点是，你不想成为代码片段的唯一主人。责任太大了。你想在你的代码库中自由驰骋。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="22fe" class="mz md it mv b gy na nb l nc nd">public long applyChangesAndCount(final List&lt;String&gt; inputs) {<br/>  String output = findDistinctWithoutPrefix(inputs.stream())<br/>      .collect(Collectors.<em class="nn">joining</em>(","));<br/>  <br/>  return findTokensMatchingValue(Arrays.<em class="nn">stream</em>(output.split(" ")), "HELLO").count();<br/>}<br/><br/>private Stream&lt;String&gt; findDistinctWithoutPrefix(Stream&lt;String&gt; inputs) {<br/>  return inputs.distinct().map(s -&gt; s.substring(1));<br/>}<br/><br/>private Stream&lt;String&gt; findTokensMatchingValue(Stream&lt;String&gt; inputs, String value) {<br/>  return inputs.map(String::toUpperCase).filter(s -&gt; s.equals("HELLO!"));<br/>}</span></pre><p id="ba33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有很长的路要走，但是现在每一部分都比前一部分稍微好一些了。现在，我们可以深入这些功能，并决定做什么。或许进一步拆散他们？但是这里的关键是代码应该做什么是显而易见的。它现在有了一些语义背景。</p><p id="bb18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住，复杂并不聪明。简单就是。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a735" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">侵犯我公民自由的测试</h1><p id="a353" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">听着，如果你想在你的个人生活中进行单元测试，那就给你更多的权力。我吗？我喜欢保持一定的距离，所以当我看到类似这样的单元测试时，我开始担心:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="ae75" class="mz md it mv b gy na nb l nc nd">@Test<br/>public void TestThis() {<br/>    myMock = // It's a mock, use your imagination.<br/>    myOtherMock = // Yep, another one.<br/><br/>    myTestClass = new TestClass(myMock, myOtherMock);<br/><br/>    String response = myTestClass.myTestFunc();<br/><br/>    assert(response.equals("some expected output"));<br/>    // Okay... so far so good.<br/>    <br/>    assert(myMock).wasCalledTimes(4).withArgs("something", "somethingelse");<br/>    // Wait what are you doing...<br/><br/>    assert(myOtherMock).wasCalledTimes(3).withArgs("something", "somethingelse");<br/>    // What is wrong with you?<br/>}</span></pre><p id="ff87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一种东西叫做隐私。这在政治上很有用，因为它阻止了你的笨手笨脚的首相成为你的下一个伟大的领导人，<em class="nn"> </em>，但它在代码中真的很有用。你看，隐私把一切都分开了。您的测试不应该关心它调用了多少次模拟或者它用什么来调用模拟。把你的职能想象成你可怕的反乌托邦编码城市的公民。他们也有权利！</p><h2 id="f41a" class="mz md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">但是我怎么知道它调用模拟是正确的呢？</h2><p id="2fec" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">你知道因为输出是正确的。你在这里所做的只是沉溺于一些古怪的，偷窥的幻想。你就像编码界的偷窥狂。如果你是美国人，不知道什么是偷窥狂，就不要用谷歌搜索。这是你搜索历史上的一个污点。这不是什么好事，相信我的话。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="263b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">If语句的金字塔</h1><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="1b0b" class="mz md it mv b gy na nb l nc nd">if (something) {<br/>    if (somethingElse) {<br/>        System.out.println("Hello world!");<br/>    } else (somethingFurther) {<br/>        System.out.println("Yes I am still printing something, funny that.");<br/>    }<br/>} else {<br/>    if (somethingElse || somethingFurther) {<br/>        System.out.println("Wow still printing");<br/>    } else if (somethingElse) {<br/>        System.out.println("Still printing.........");<br/>        <br/>        if (somethingNew) {<br/>            System.out.println("Yes indeed, I am still printing...");<br/>        }<br/>    }<br/>}</span></pre><p id="9fae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">吉萨金字塔是一个奇妙的景观。这并不意味着你应该在你的代码中模仿它们。你需要一个酸标签，活点地图，和一个显微镜来找到这个烂摊子的底部。</p><h2 id="cc51" class="mz md it bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">但是有时候事情就是这么复杂</h2><p id="39f6" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">是的，是的，好吧。我承认有些情况下大量的if语句是不可避免的。在这些情况下，您应该努力:</p><ul class=""><li id="05c4" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated">将任何实际的处理都提取到非常清晰命名的函数中</li><li id="9885" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">尽可能简化你的if语句</li><li id="58ed" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">考虑策略模式等替代方案，尽可能地分解功能</li><li id="d20c" class="nz oa it lb b lc oi lf oj li ok lm ol lq om lu oe of og oh bi translated">找份新工作，因为我担心你</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4516" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">额外收获:代码中有趣的笑话</h1><p id="391f" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我不需要深入这个。你不是一个未被发现的喜剧演员。你是个暴露的虐待狂。专注于告诉人们你的代码实际上做了什么，而不是尝试你失败的单口相声材料。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="a0ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢这篇博文，欢迎在<a class="ae ky" href="https://twitter.com/chris_cooney" rel="noopener ugc nofollow" target="_blank">推特</a>上关注我！</p></div></div>    
</body>
</html>