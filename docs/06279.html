<html>
<head>
<title>How to Create Histograms in Pygal Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Pygal Python中创建直方图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-histograms-in-pygal-python-e0bca3d4e87d?source=collection_archive---------11-----------------------#2020-09-16">https://betterprogramming.pub/how-to-create-histograms-in-pygal-python-e0bca3d4e87d?source=collection_archive---------11-----------------------#2020-09-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c93d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Pygal简介</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/400bf6882d5a6146059be8375a05d185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mpyrgqwMjfclV2oN1U2VIA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">卢克·切瑟在<a class="ae kv" href="https://unsplash.com/s/photos/histogram-chart?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="725d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可缩放矢量图形(SVG)是一种图像格式，它以XML格式定义基于矢量的图形。在本教程中，您将了解如何开始使用<a class="ae kv" href="http://www.pygal.org/en/stable/" rel="noopener ugc nofollow" target="_blank"> Pygal </a>，这是一个Python SVG图形绘制库。您还将学习如何使用Pygal库绘制直方图。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d420" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Pygal简介</h1><p id="2354" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Python中有许多可用于图表的库(例如<a class="ae kv" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>和<a class="ae kv" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> seaborn </a>)。尽管大多数库并不复杂，但大多数Python图表开发人员都需要一个简单易用的库来快速构建Python应用程序。</p><p id="461b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pygal库提供了比其他图表库更多的图表选项。它包括世界地图、漏斗图、雷达图和箱线图。它还包括预构建的主题和样式，除非您想定制，否则不必定制。Pygal还与web开发集成得很好，尤其是与Flask和Django。</p><p id="5cd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pygal作为一个数据科学库，支持创建SVG格式的图形。SVG格式在数字项目中很流行，因为它可以创建交互式显示和下载图像格式的图形，特别是PNG格式的图形。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3360" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">安装Pygal</h1><p id="5b12" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Python中提供了Pygal，安装它非常简单:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="d548" class="nb ma iq mx b gy nc nd l ne nf">pip install pygal</span></pre><p id="ff0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保您的计算机上安装了pip。</p><p id="1909" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要测试安装是否成功，请打开Python解释器，并发出以下命令。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="29fd" class="nb ma iq mx b gy nc nd l ne nf">import pygal</span></pre><p id="dcb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果没有出现错误，则安装成功。</p><p id="7480" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想使用Pygal的最新版本，也可以从官方的GitHub存储库中克隆它。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="cc22" class="nb ma iq mx b gy nc nd l ne nf">pip install git+https://github.com/Kozea/pygal</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b8ea" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">为什么是派戈尔？</h1><p id="b026" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">让我们来看看您可能更喜欢使用Pygal的一些原因:</p><h2 id="02f2" class="nb ma iq bd mb ng nh dn mf ni nj dp mj lf nk nl ml lj nm nn mn ln no np mp nq bi translated">1.容易理解</h2><p id="c702" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Pygal库非常容易理解，因为它比Matplotlib和其他绘图模块的导入更少。让我们通过用Pygal和Matplotlib编写绘制图表所需的代码来进行比较。</p><p id="69e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用Pygal画一个图表。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="cd9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Matplotlib中绘制图表。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="c110" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如您在上面看到的，在Pygal中绘制图表只需要四行代码和一次导入，相比之下，Matplotlib需要更多的代码和更多的导入。</p><h2 id="79f4" class="nb ma iq bd mb ng nh dn mf ni nj dp mj lf nk nl ml lj nm nn mn ln no np mp nq bi translated"><strong class="ak"> 2。更少的依赖性</strong></h2><p id="0029" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Pygal库也不需要任何依赖关系，这可能会让新开发人员感到困惑。</p><h2 id="2fcf" class="nb ma iq bd mb ng nh dn mf ni nj dp mj lf nk nl ml lj nm nn mn ln no np mp nq bi translated"><strong class="ak"> 3。灵活输出</strong></h2><p id="ca16" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">图表库输出是SVG，这是一种高度灵活的HTML5和其他印刷媒体输出类型。SVG格式也是可伸缩的，可以在不损失质量的情况下调整大小。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="98dd" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">入门指南</h1><p id="0ef2" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><em class="nt">直方图</em>是给出数据定量分析的条形图。</p><p id="52ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">直方图更多地处理数据分布，并告诉我们每个类别中有多少个项目。同样重要的是要注意，直方图代表一个连续的数据集，因此，在直方图定义的数据中没有间隙。下面显示了一个直方图和构建直方图的原始数据的示例:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/5dacb3a4dba41e44e30aafb254534957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*Mdp4k-votnMqmG_xciK66Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">直方图的一个例子</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="c6b1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">创建直方图</h1><p id="7e80" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">数据可视化以图表或图形的形式解释信息。在本教程中，您将看到如何使用Pygal库创建直方图。让我们首先用预定义的值创建一个简单的直方图。</p><p id="e0c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建一个名为<code class="fe nv nw nx mx b">histogram.py</code>的文件，并添加以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="550e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，首先导入Pygal库，创建一个histogram对象，然后向histogram对象添加值。最后一步是将创建的直方图呈现为SVG文件。</p><p id="1f4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">生成的图形存储在与文件<code class="fe nv nw nx mx b">histogram.py</code>相同的目录中。所以继续吧:用你的浏览器打开它，你应该会看到如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/28ad1194e53e8816e608ff0a27cd19cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1OTkibZx7kgo_dc1c85ltQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建直方图</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5c79" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">加载动态数据</h1><p id="fe5e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">上面的值是预定义的；让我们假设您已经有了一些想要通过直方图呈现的数据，如下所示。</p><p id="4b2e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本例中，您有一些学生在测试中的分数数据，如下所示:</p><p id="002f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nv nw nx mx b">46,78,51,52,83,87,69,71,65,67,76,98</code></p><p id="4373" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先要做的是通过将分数范围分成区间来分析这些数据。从上面的数据来看，最高值是<code class="fe nv nw nx mx b">98</code>，最低值是<code class="fe nv nw nx mx b">46</code>。</p><p id="48db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最简单的方法是用10的间隔来表示数据点；因此，结果分析将是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/70dd17f4ca33d843016f10d072e089e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*-cNUwz_oqDan5jbhx6xAQA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">数据表</p></figure><p id="8ca0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在您已经完成了分析，您将在直方图中表示数据。您通常希望沿着<em class="nt"> X </em>轴显示分数，沿着<em class="nt"> Y </em>轴显示频率。首先，您需要导入Pygal库。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="871f" class="nb ma iq mx b gy nc nd l ne nf">import pygal</span></pre><p id="c7f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从Pygal库中创建一个<code class="fe nv nw nx mx b">Histogram</code>对象。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="1609" class="nb ma iq mx b gy nc nd l ne nf">hist = pygal.Histogram()</span></pre><p id="ce4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦有了<code class="fe nv nw nx mx b">Histogram</code>对象，就需要给<code class="fe nv nw nx mx b">Histogram</code>对象分配<em class="nt"> X </em>轴和<em class="nt"> Y </em>轴的值。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="9585" class="nb ma iq mx b gy nc nd l ne nf">hist.add(‘students’, [(1, 40, 50), (2, 50, 60),(3, 60, 70), (3, 70, 80), (2, 80, 90), (1, 90, 100)])</span></pre><p id="264d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在您需要将<code class="fe nv nw nx mx b">Histogram</code>渲染成一个SVG文件。这是将SVG图像渲染到文件的方法:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="31ff" class="nb ma iq mx b gy nc nd l ne nf">hist.render_to_file(histogram1.svg)</span></pre><p id="f8b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最终的代码应该如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="ffe4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您已经创建了第一个直方图。导航到主脚本所在的目录，您应该看到保存为<code class="fe nv nw nx mx b">histogram.svg</code>的图形。用浏览器打开它，它应该显示如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/d61147e1bfd02ef9723718bb5f6e1bfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lvDz-iG-UODAHpH1Fz423Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">直方图截图</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1fec" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">调整我们的直方图</h1><p id="cc0e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们的直方图看起来有点厚；让我们把间隔频率改为至少一个<code class="fe nv nw nx mx b">5</code>。所以我们的数据看起来像这样:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/a0544ca8782ac6bb53b2439095d9cf52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*TbteCbUQTuvWs-WAoA7QEw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">直方图数据分析</p></figure><p id="4cf0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完整的代码如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="736b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，您继续表示数据，就像您在前面的示例中所做的那样，如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/6df5ebde82774509f32a06476362b36f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BRK9007HSCT2B0NvPg1juw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">柱状图</p></figure><p id="6872" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者，您可以在同一个图形上绘制两个直方图。假设你想比较同一次考试中两个班的成绩，数据如下:</p><p id="f704" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nv nw nx mx b">96,54,76,92,63,64,66,59,77,56,87,42</code></p><p id="c1f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据多少学生得分在规定分数之间，我们的分析如下所示:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="e66c" class="nb ma iq mx b gy nc nd l ne nf">scores |frequency<br/>[40,50] | 1<br/>[50,60] | 3<br/>[60,70] | 3<br/>[70,80] | 2<br/>[80,90] | 1<br/>[90,100] | 2</span></pre><p id="2c8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">填充数据后的完整代码如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="f28f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，您额外增加了X轴<em class="nt">和Y轴<em class="nt">上的值，所以直方图没有定义在两个刻度上显示的值。结果如下所示:</em></em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/a35da6d64f696a9ec40481bb48cc8165.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pg8voQ_UF0UXDeX0PEml0w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">最终直方图</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="093a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">自定义样式</h1><p id="04bf" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">您也可以将自定义样式添加到直方图中。例如，添加颜色时，需要导入Pygal style属性。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="4e3f" class="nb ma iq mx b gy nc nd l ne nf">from pygal.style import Style</span></pre><p id="3502" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，定义自定义样式以指定条形图的颜色，并指定图表的背景颜色。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="9225" class="nb ma iq mx b gy nc nd l ne nf">style = Style(colors=(‘#991593’, ‘#201599’))</span></pre><p id="bc85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将自定义样式应用于直方图:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="a3d0" class="nb ma iq mx b gy nc nd l ne nf">chart = pygal.Bar(style = custom_style)</span></pre><p id="a5e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">保存以上更改并刷新文件。您应该能够查看呈现了自定义样式的直方图，如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/9cc542aabffec276298ab18eeed81634.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O29j7msg2PY43PC3apn4mw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">样式直方图</p></figure><p id="dee2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，您可以添加其他样式选项，包括透明度、字体系列、图例和背景，如下所示:</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="5a71" class="nb ma iq mx b gy nc nd l ne nf">style = Style(colors=(‘#991593’, ‘#201599’),label_font_size=39,opacity=’.7',legend_font_size=54)</span></pre><p id="5f83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">刷新文件，您应该会看到您的更改生效。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/05238020bf9fd27e1953803312e561bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qqvXN_vIcXEq713BC7lGNw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">更多样式</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2c3e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">导入数据</h1><p id="8b57" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">JSON是一种流行的数据存储格式。让我们假设您有一些JSON格式的数据，这些数据已经废弃或从其他来源获得，您希望用这种数据绘制一个直方图。数据像<code class="fe nv nw nx mx b">data.json</code>一样存储在文件中。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="90db" class="nb ma iq mx b gy nc nd l ne nf">[{“frequency”: 1,“min”: 40,“max”: 50},<br/> {“frequency”: 2,“min”: 50,“max”: 60},<br/> {“frequency”: 3,“min”: 60,“max”: 70}, <br/> {“frequency”: 3,“min”: 70,“max”: 80},<br/> {“frequency”: 2,“min”: 80,“max”: 90},<br/> {“frequency”: 1,“min”: 90,“max”: 100}<br/>]</span></pre><p id="623c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为您将从JSON文件加载数据，所以需要导入JSON库。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="b0a9" class="nb ma iq mx b gy nc nd l ne nf">import json</span></pre><p id="1017" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从<code class="fe nv nw nx mx b">.json</code>文件中加载JSON数据。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="7e99" class="nb ma iq mx b gy nc nd l ne nf">with open(‘data.json’,’r’) as file:<br/>    data = json.load(file)</span></pre><p id="27da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从Pygal库中创建一个<code class="fe nv nw nx mx b">Histogram</code>对象。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="03f3" class="nb ma iq mx b gy nc nd l ne nf">histogram = pygal.Histogram()</span></pre><p id="3da0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过从JSON数据对象中读取列表形式的频率，设置<em class="nt"> X- </em>和<em class="nt"> Y </em>轴的值。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="2b83" class="nb ma iq mx b gy nc nd l ne nf">x_labels_ = [x[‘frequency’] for x in data]<br/>y_labels_ = [x[‘min’] for x in data]</span></pre><p id="afdd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将<code class="fe nv nw nx mx b">labels</code>数据分配给<code class="fe nv nw nx mx b">Histogram</code>对象。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="217a" class="nb ma iq mx b gy nc nd l ne nf"><em class="nt"># x axis<br/></em>hist.x_labels = x_labels<br/><em class="nt"># y axis<br/></em>hist.y_labels = y_labels</span></pre><p id="9922" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将数据添加到<code class="fe nv nw nx mx b">Histogram</code>对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="e6fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，将直方图SVG图像呈现到文件中。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="156f" class="nb ma iq mx b gy nc nd l ne nf">hist.render_to_file(‘histo.svg’)</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b31a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="e193" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在本教程中，您了解了如何使用Pygal，这是一个Python SVG图形绘制库。您了解了如何向同一个图形添加多个直方图，以及如何定制条形图样式。</p><p id="8417" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用Pygal，您可以绘制不同类型的图表，如折线图、条形图、直方图、<em class="nt"> XY </em>图、饼图、雷达图、箱线图、点图、漏斗图、立体图、仪表图、金字塔图、树形图和地图。</p><p id="0983" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建图表的过程和命令也类似于创建直方图。例如，这是用Pygal创建简单折线图的代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure></div></div>    
</body>
</html>