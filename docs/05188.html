<html>
<head>
<title>Debugging Issues With the New Android R (API Level 30) and Google Pixel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新Android R (API等级30)和谷歌Pixel的调试问题</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/debugging-issues-with-the-new-android-r-api-level-30-and-google-pixel-a7343dfcf068?source=collection_archive---------6-----------------------#2020-06-18">https://betterprogramming.pub/debugging-issues-with-the-new-android-r-api-level-30-and-google-pixel-a7343dfcf068?source=collection_archive---------6-----------------------#2020-06-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4bb6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">测试新Android R时可能遇到的障碍</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b054ec7f68f917f98a9b6c71b0d7b3f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E411kA3uUSivZdhZMVjbeA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自<a class="ae kv" href="https://dribbble.com/shots/9332751-Champagne" rel="noopener ugc nofollow" target="_blank">dribble</a>的<a class="ae kv" href="https://dribbble.com/Gaspart" rel="noopener ugc nofollow" target="_blank"> Gaspart </a>拍照。</p></figure><p id="9f04" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你好。我来自<a class="ae kv" href="https://clc.to/navigine" rel="noopener ugc nofollow" target="_blank"> Navigine </a>团队。八年来，我们一直提供集成定位移动技术，实现先进的室内导航和邻近解决方案。</p><p id="3d1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在无数次尝试测试新的Android(它仍然以预览的形式存在)之后，我们决定写一篇文章，讲述我们在这个过程中遇到的障碍和问题。我们还将简要提及新的Android Studio 4.0出现的问题。结果有点令人难过，但是让我们更详细地谈论每件事。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d425" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Android Studio问题</h1><p id="4c87" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">先说一个简单的:新的Android Studio。尽管它提供了很多机会和创新，但它并不像看上去那么酷。在您的设备上测试应用程序时，即使您收到“应用程序已安装”的消息，第一次尝试时它也不会重新启动。如果你需要频繁地重启应用程序，并且你调试了某种类型的错误，那么这将开始激怒你。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/89481e86ddc563d44c482d4b2397fb71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IDCJKLAlxsqio-l4lIn1xA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">截图来自Android Studio</p></figure><p id="f6d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下一个bug与实时布局检查器有关。当您使用几个片段创建片段管理器并在它们之间切换时，Live Layout Inspector不会删除上一层，所有元素将相互堆叠。因为我们不使用它，这个bug对我们来说一点也不重要。但是，这种行为绝对是bug。</p><p id="8dca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">还值得注意的是，实时更新按钮不起作用，点击按钮进行定期更新会有明显的滞后。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5990" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">使用Android R的像素仿真器</h1><p id="8378" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们决定使用新的Android R运行Pixel 3模拟器。我们下载了新的Android R SDK，并将其安装到Pixel 3模拟器上。您可以使用AVD管理器创建它。顺便说一下，在我们启动模拟器后，它经常滞后，不允许我们打开主菜单。但是，当我们决定运行我们的WiFi扫描演示应用程序时，主要问题开始了。以下是新Android APIs上新WiFi扫描机制的代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mx my l"/></div></figure><p id="64ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我们无法启动应用程序，因为我们收到了以下可怕的消息——尽管我们将最低SDK设置为21，并且我们的仿真器上有一个新的Android 30:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/09d30051f8f5e2c30a66e341f79e6fc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_hjhpgTatKuvDLxBdD9uOg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">截图来自Android Studio</p></figure><p id="1b9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">原来我们的设备被认为是API 11而不是API 30。因此，我们放弃了在模拟器中运行演示应用程序的尝试，并决定等到正式发布。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2486" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">将Android R预览版安装到Real Pixel 3a</h1><p id="24be" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这篇文章和我们的测试过程中最悲伤的部分是我们如何将我们的Pixel 3a变成了一个无法恢复的死设备。我们按照以下步骤将Android R预览版安装到我们的设备中:</p><ul class=""><li id="751f" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated">在开发人员设置中打开调试。</li><li id="e152" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">将设备连接到计算机。</li><li id="ad4e" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">运行命令<code class="fe no np nq nr b">adb reboot recovery;</code>。</li><li id="6aed" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">选择“应用ADB更新”选项。</li><li id="c016" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">运行命令<code class="fe no np nq nr b">adb sideload "filename".zip;</code>。</li><li id="a07d" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">重启设备。</li></ul><p id="0461" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">设备找不到有效的操作系统。在寻找答案时，我们发现许多人在更新他们设备的操作系统或安装预览版进行测试后遇到了这个问题。最奇怪的是，这个错误已经存在很多年了，至今谷歌也没有提供任何可能的解决方案。你唯一能做的就是在保修期内更换你的手机，如果它还没有过期的话。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d4e0" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="0433" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">正如通常情况下，当一个大的更新出来时，新的Android和Android Studio有很多bug和问题，你必须忍受和报告。我们希望这一切很快得到解决，并且这篇文章将帮助许多开发者，以便他们可以避免这样的问题，并且如果他们试图在他们的Pixel手机上测试新的操作系统时要小心。</p></div></div>    
</body>
</html>