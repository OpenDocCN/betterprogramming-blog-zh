<html>
<head>
<title>Exploring App Bars in Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索Jetpack Compose中的应用程序栏</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-app-bars-in-jetpack-compose-94a7e0920e32?source=collection_archive---------3-----------------------#2021-08-02">https://betterprogramming.pub/exploring-app-bars-in-jetpack-compose-94a7e0920e32?source=collection_archive---------3-----------------------#2021-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1d6b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">自定义Android应用程序的顶部和底部栏</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bff705250ebdf0d23beeb47564dc036f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xD0t0kP9H6x0xgZR"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://unsplash.com/@hackcapital?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">黑客资本</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h1 id="e89b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">这篇文章的要点</h1><p id="463e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在这篇文章中，我们将学习如何在<a class="ae ky" href="https://developer.android.com/jetpack/compose" rel="noopener ugc nofollow" target="_blank"> Jetpack Compose </a>中设计应用程序栏。我们将介绍顶部应用程序栏的简单设计和自定义图标设计，以及默认设置，并将fab按钮与底部栏的切口对齐。</p><p id="ea1c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在本文的最后，您将找到整个流程的GitHub要点，因此可以随意使用代码。</p><h1 id="18a7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="35e0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Jetpack Compose是谷歌最近试图让Android开发者轻松构建UI的尝试之一。</p><blockquote class="ms mt mu"><p id="a790" class="lr ls mv lt b lu mn ju lw lx mo jx lz mw mp mc md mx mq mg mh my mr mk ml mm im bi translated">“Jetpack Compose是一个用于构建原生Android UI的现代工具包。Jetpack Compose以更少的代码、强大的工具和直观的Kotlin APIs简化并加速了Android上的UI开发。”— <a class="ae ky" href="https://developer.android.com/jetpack/compose/tutorial" rel="noopener ugc nofollow" target="_blank">安卓开发者</a></p></blockquote><p id="f685" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Jetpack Compose已经进入测试版有一段时间了，它很可能在八月底发布稳定版。这意味着API结构将不再有任何剧烈的变化，因此这将是学习如何使用这个下一代UI套件进行Android开发的大好时机。</p><p id="45de" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您需要安装Android Studio Canary，北极狐(2020.3.1) <strong class="lt iu"> </strong>版本才能使用Jetpack Compose beta。</p><h1 id="b892" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">先决条件</h1><p id="0d0f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在进一步学习之前，您必须具备如何使用Jetpack Compose的基本知识。如果你是作曲新手，我强烈推荐阅读以下文章:</p><ul class=""><li id="90c8" class="mz na it lt b lu mn lx mo ma nb me nc mi nd mm ne nf ng nh bi translated">"<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/jetpack-compose-components-part-1-a80717dbfb59"> Jetpack构成组件(第1部分)</a>"</li><li id="cd68" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">"<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/build-android-layouts-in-jetpack-compose-bda2e0837f5e">在JetPack Compose中构建Android布局</a>"</li><li id="9d94" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/android-bottom-navigation-bar-with-jetpack-compose-8c2aa02b933d">“使用Jetpack撰写的Android底部导航栏”</a></li><li id="417f" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/explore-android-bottom-sheets-in-jetpack-compose-50eff0257231">“探索Jetpack Compose中的Android底部表单”</a></li></ul><h1 id="3413" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是应用程序栏？</h1><p id="01e0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><em class="mv">应用程序栏</em>，也称为<em class="mv">动作栏</em>，是应用程序UI中最重要的设计元素之一，因为它提供了用户熟悉的视觉结构和交互元素。一个<code class="fe nn no np nq b">TopAppBar</code>显示一组动作以及屏幕标题。</p><p id="6f3c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一个<code class="fe nn no np nq b">BottomAppBar</code>在屏幕底部显示一组与当前屏幕相关的动作，类似于底部导航栏。它可以选择性地显示一个浮动的动作按钮，该按钮可以重叠在底部栏的顶部，或者作为底部栏中的一个剪切块。</p><p id="70b3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe nn no np nq b">BottomAppBar</code>与底部导航栏相比，我们可以灵活地设计不同的布局。开箱后，Jetpack Compose <em class="mv">脚手架</em>同时支撑<code class="fe nn no np nq b">TopAppBar</code>和<code class="fe nn no np nq b">BottomAppBar</code>。</p><h2 id="679d" class="nr la it bd lb ns nt dn lf nu nv dp lj ma nw nx ll me ny nz ln mi oa ob lp oc bi translated">TopAppBar</h2><p id="2d18" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们从设计TopAppBar开始。它只是我们用来显示在屏幕顶部的工具栏。首先，让我们看看现成的可组合函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><ul class=""><li id="42fc" class="mz na it lt b lu mn lx mo ma nb me nc mi nd mm ne nf ng nh bi translated"><code class="fe nn no np nq b">modifier </code> —修改器的作用类似于基于视图的布局中的布局参数。</li><li id="4cfe" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><code class="fe nn no np nq b">backgroundColor</code>和<code class="fe nn no np nq b">contentColor </code> —用于将自定义颜色应用于顶部栏的背景和内容。</li><li id="bdeb" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><code class="fe nn no np nq b">elevation </code> —用于自定义顶栏的标高</li><li id="3f2f" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><code class="fe nn no np nq b">content </code> —这是我们可以设计顶栏的地方。</li></ul><p id="2783" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，让我们设计一个简单的<code class="fe nn no np nq b">TopAppBar</code>，在右上角有一个标题和搜索图标，因为默认情况下<code class="fe nn no np nq b">TopAppBar</code>给出了行范围来设计布局。看看下面的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有简单标题和搜索图标的顶栏设计</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/508f7c163d500cd9fc208a220c8b4676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I_eyRGVwlM4YsQ_QlFaCGg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><h1 id="014c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">BottomAppBar</h1><p id="ecc6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><code class="fe nn no np nq b">BottomAppBar</code>类似于顶部应用程序栏结构，唯一的区别是底部应用程序栏具有额外的功能，如包括fab剪切块。首先，让我们看看默认的可组合函数，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><ul class=""><li id="d3e5" class="mz na it lt b lu mn lx mo ma nb me nc mi nd mm ne nf ng nh bi translated"><code class="fe nn no np nq b">modifier</code> —修改器的作用类似于基于视图的布局中的布局参数。</li><li id="a46e" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><code class="fe nn no np nq b">backgroundColor</code>和<code class="fe nn no np nq b">contentColor</code> —用于将自定义颜色应用于顶部栏的背景和内容。</li><li id="2661" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><code class="fe nn no np nq b">elevation</code> —用于自定义顶栏的标高。</li><li id="a988" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><code class="fe nn no np nq b">cutoutShape</code>—这用于将UI小部件(如浮动操作按钮)放置在底部栏上，具有定义的剪切形状。默认情况下，其值为<code class="fe nn no np nq b">null</code>。</li><li id="a352" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated"><code class="fe nn no np nq b">content</code> —这是我们可以设计顶栏的地方。</li></ul><p id="db52" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，让我们设计一个简单的带有几个图标的<code class="fe nn no np nq b">BottomAppBar</code>。看一下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有几个CTA的简单底部条</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/daf839658681c378785a96b103c45448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mTieDj4mmBmNq1buSDAtvg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="d2d7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这很好；让我们将底部栏与fab图标结合起来。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="83f9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">默认情况下，Compose <code class="fe nn no np nq b">Scaffold</code> <em class="mv"> </em>提供了一种通过<code class="fe nn no np nq b">floatingActionButton</code>、<code class="fe nn no np nq b">floatingActionButtonPosition</code>和<code class="fe nn no np nq b">isFloatingActionButtonDocked</code>参数将浮动动作按钮停靠到屏幕的方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/5550532bedd869a7cbf1f777b8022b57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BjF6knOw4cL6iHbTGj0fdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="1d0c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，这对于一个常规的底部导航视图来说是很好的，但是如果我们想要一个底部栏的剪切按钮，而不是导航项目，我们想要在底部栏的开始和结束处有两个图标呢？</p><p id="5598" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对现有代码做一些调整，这是可能的。首先，让我们从FAB按钮开始。</p><ul class=""><li id="9cc1" class="mz na it lt b lu mn lx mo ma nb me nc mi nd mm ne nf ng nh bi translated">首先，我们需要将<code class="fe nn no np nq b">isFloatingActionButtonDocked</code>参数更新为true，这样它就会与底部的条形重叠。</li><li id="e085" class="mz na it lt b lu ni lx nj ma nk me nl mi nm mm ne nf ng nh bi translated">其次，我们需要通过将<code class="fe nn no np nq b">floatingActionButtonPosition</code>参数更新为<code class="fe nn no np nq b">FabPosition.<em class="mv">Center</em></code>来将它放在中间</li></ul><p id="202e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">看一下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="c14b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下一步是重新设计底部的酒吧。现在我们将使用图标按钮，而不是使用<code class="fe nn no np nq b"><em class="mv">BottomNavigationItem</em></code> <em class="mv">，</em>，这将使我们对设计部分有更多的控制。看一下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/460cec9c99da3774588f76b283b3e9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zuknif7jdghQCpMGEWtz6A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="3474" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">通过将<code class="fe nn no np nq b">isFloatingActionButtonDocked</code>参数更改为真，fab按钮与底部条重叠，<code class="fe nn no np nq b">cutoutShape</code>在底部条上添加FAB的剪切块。移动到内部设计，我们已经使用了<code class="fe nn no np nq b"><em class="mv">IconButton</em></code> <strong class="lt iu"> <em class="mv"> </em> </strong>和<strong class="lt iu"><em class="mv"/></strong><code class="fe nn no np nq b"><em class="mv">spacer</em></code><strong class="lt iu"><em class="mv"/></strong>来设计内部布局<strong class="lt iu"> <em class="mv">。</em> </strong></p></div><div class="ab cl og oh hx oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="im in io ip iq"><p id="c6ec" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在我们已经完成了顶部和底部的设计，是时候把这些东西放在一起了。看一下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有简单列表的顶栏和底栏设计</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/48ffaf097dac78793d6c82d8ee8453dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*DPTKHOiQgRFgsV2OSlwMuw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有顶部和底部应用程序栏的最终输出</p></figure><h1 id="c13d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">奖金</h1><p id="b483" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我最近看到了由<a class="ae ky" href="https://medium.com/u/d255c4fc9d76?source=post_page-----4c9f44d04e68--------------------------------" rel="noopener"> Satya Pavan Kantamani </a>发表的这篇关于Jetpack视图绑定的优秀文章。强烈建议:</p><div class="oo op gp gr oq or"><a rel="noopener  ugc nofollow" target="_blank" href="/android-jetpack-view-binding-c0947f7a6e9e"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">在Android中用Jetpack视图绑定替换已弃用的Kotlin合成</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">如果科特林合成材料正在消失，是时候转向替代品了吗？</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">better编程. pub</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf ks or"/></div></div></a></div><p id="6164" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">目前就这些。希望你学到了有用的东西。</p><p id="a179" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">感谢阅读。</p></div></div>    
</body>
</html>