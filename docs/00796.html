<html>
<head>
<title>React Native Fitbit: The Integration Process</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React Native Fitbit:集成过程</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/react-native-fitbit-the-integration-process-ec373a086cce?source=collection_archive---------7-----------------------#2019-07-15">https://betterprogramming.pub/react-native-fitbit-the-integration-process-ec373a086cce?source=collection_archive---------7-----------------------#2019-07-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5662" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何将Fitbit API集成到您的React原生应用中</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cc29e2a786e2f57b68e593e8a7198186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s5XAJsZ652_DzZ8Fj9oH2A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@fitnish?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">健身媒体</a>在<a class="ae ky" href="https://unsplash.com/search/photos/fitness-tracker?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="fb02" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">介绍</h1><p id="531f" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">你有没有想过制作自己的个人健身追踪器？或者，您可能想要获取您当前的位置，管理您的睡眠，或者只是工作并将数据存储在数据库中用于日志？</p><p id="909f" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">Fitbit已经涵盖了这一切。</p><p id="dacf" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">Fitbit是科技市场的最新潮流，最近它的受欢迎程度达到了顶峰。最近，我能够抓住一个，它激励我将它集成到我正在工作的React原生应用程序中。</p><p id="affb" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">以下是如何将Fitbit API集成到React原生应用程序中，适用于iOS和Android，并在我们的应用程序屏幕中获得响应以跟踪数据。一步一步地遵循这些指导方针，在本文的最后，您将获得一个充满Fitbit API响应的JSON。让我们开始吧。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="e081" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">步骤1:基本安装</h1><ol class=""><li id="f638" class="mz na it ma b mb mc me mf mh nb ml nc mp nd mt ne nf ng nh bi translated">使用以下命令创建一个新项目:</li></ol><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="3e41" class="nn lh it nj b gy no np l nq nr">react-native init fitbitAuthentication</span></pre><p id="4e0d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">2.建立初始项目后，运行以下命令:</p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="6be4" class="nn lh it nj b gy no np l nq nr">cd fitbitAuthentication<br/>npm install qs --save</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="6bbc" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">步骤2:环境设置</h1><p id="f76b" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">正如你已经知道的，我们需要为Android和iOS平台提供基础环境，以便相同的代码在两个平台上运行。每次你安装一个新的链接，最好是通过基本的设置程序，以避免任何错误。相信我，在错误处理方面，<a class="ae ky" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React Native </a>可能很糟糕。</p><h2 id="a332" class="nn lh it bd li ns nt dn lm nu nv dp lq mh nw nx ls ml ny nz lu mp oa ob lw oc bi translated">ios</h2><ol class=""><li id="6332" class="mz na it ma b mb mc me mf mh nb ml nc mp nd mt ne nf ng nh bi translated">转到终端，编写以下命令:</li></ol><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="5d1e" class="nn lh it nj b gy no np l nq nr">cd fitbitAuthentication<br/>cd ios<br/>open .</span></pre><p id="4fb1" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">打开<code class="fe od oe of nj b">ios/your_project_name.xcodeproj</code>文件，在XCode中进行如下配置。</p><p id="f17f" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">2.在XCode窗口中。点击侧边栏中的项目名称，并转到主窗口中的<em class="og">构建设置</em>选项卡。到达后，使用<em class="og">搜索</em>选项并找到<em class="og">搜索</em>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/ac4425d694fee85108dddfee0f1b8130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eWbSusMAhRKWNf14rVFJzA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Mac屏幕中的XCode窗口</p></figure><p id="3086" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">3.一旦你输入<em class="og">搜索</em>，就会显示这样一个屏幕。在标题搜索路径部分，单击一次并添加路径，如下所示:</p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="b465" class="nn lh it nj b gy no np l nq nr">$(SRCROOT)/../node_modules/react-native/Libraries</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/5dca08b21bfee01ef8c4a4f6b718e988.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mp_g6ke_YM3Eo3WNTOq3dQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">标题搜索路径</p></figure><p id="4949" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">一旦添加了路径，双击整个链接并从下拉菜单中选择递归选项。</p><p id="d841" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">4.在顶部栏中，找到<em class="og">信息</em>选项卡，点击<em class="og"> URL类型</em>，如下图所示。添加应用程序所需的凭据。请记住，不要输入与我相同的内容，还要记下它，以便将来在集成时参考。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/c70d142fcf521fc05bbf7ace7d1094e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wb7FaVH5sxEaFYYzGU2aqw.png"/></div></div></figure><p id="1edf" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">5.在您的项目中，打开iOS文件夹，找到<code class="fe od oe of nj b">AppDelegate.m</code>文件，并在现有代码中添加一些内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="0567" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">恭喜你。您已经完成了iOS平台的初始设置。</p><h2 id="434f" class="nn lh it bd li ns nt dn lm nu nv dp lq mh nw nx ls ml ny nz lu mp oa ob lw oc bi translated">机器人</h2><p id="5e45" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在Android中，你必须设置你的Android应用URL方案。</p><p id="f993" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">要指定URL方案，修改您的<code class="fe od oe of nj b">AndroidManifest.xml</code>并在React Native提供的过滤器下添加一个额外的意图过滤器。用您的应用程序值更新<code class="fe od oe of nj b">“yourscheme”</code> &amp; <code class="fe od oe of nj b">“yourHost”</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="1d99" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">第三步:Fitbit账户整合</h1><ol class=""><li id="01a8" class="mz na it ma b mb mc me mf mh nb ml nc mp nd mt ne nf ng nh bi translated">转到<a class="ae ky" href="https://dev.fitbit.com/" rel="noopener ugc nofollow" target="_blank"> Fitbit开发者。</a></li><li id="19bc" class="mz na it ma b mb om me on mh oo ml op mp oq mt ne nf ng nh bi translated">创建一个帐户，然后点击菜单中的<em class="og">管理</em>选项:</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/1ee604c177fe93f536bfa2f451a4f52f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1TgMI-m4xVkLjzixHzishg.png"/></div></div></figure><p id="8a5e" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">3.当您点击<em class="og">注册一个应用</em>时，它会将您重定向到此屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/f6645491ce6706854a6cfd4f6e9a06bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w77-_RunHPXF_xA7lSaDBA.png"/></div></div></figure><p id="5f23" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">填写此表单，并在以下部分进行更改，如图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/c93cd0ea91a71155f889d16fb3892dfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*8kcx7KjrdAgVLfz8xhBVmg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">注意回调URL</p></figure><p id="ad84" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">注册完成后，对显示的所有数据进行截图，以备后用。你也可以随时回来看看，所以如果你不看也没关系。但这是我为了避免浪费时间而推荐的。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="bcd8" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">第四步:最后一步</h1><ol class=""><li id="d69d" class="mz na it ma b mb mc me mf mh nb ml nc mp nd mt ne nf ng nh bi translated">将<code class="fe od oe of nj b">config.js</code>文件添加到您的app根目录中，并添加以下代码:</li></ol><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="9719" class="nn lh it nj b gy no np l nq nr">export default {<br/>  client_id: 'YOUR_CLIENT_ID',<br/>  client_secret: 'YOUR_CLIENT_SECRET'<br/>}</span></pre><p id="33c1" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">2.在您的<code class="fe od oe of nj b">App.js</code>文件中，添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="25ba" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">给你。现在，只需运行基本命令，您就完成了集成。</p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="15c6" class="nn lh it nj b gy no np l nq nr">npm install</span><span id="c1d0" class="nn lh it nj b gy ou np l nq nr">react-native run-ios</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/84e213c40451850b1243ba7aaded60d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*mo3cpM0Y6HwUr3qYL9kBJg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">应用程序中的主屏幕</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/46e42e464604feb71b4067c9e7f0974f.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*76JGCpGMB283kM4k7Y4wdw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">WebView中的身份验证屏幕</p></figure><p id="f1b1" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">身份验证完成后，单击左上角的返回应用程序，并检查控制台的响应。它看起来会像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/39fa84849edb798d041d563c3adc4ee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cnpBHjeKQiUno1YtmYmJww.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">最终回应</p></figure><p id="3a0d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">查看<a class="ae ky" href="https://dev.fitbit.com/build/reference/web-api/" rel="noopener ugc nofollow" target="_blank"> Fitbit web API </a>,根据您的需求获取和使用更多数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/196430929d683c04b96e8b4a51960f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*Wcp-JB91spbgN1G8QknqCQ.png"/></div></div></figure><p id="0bf5" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><strong class="ma iu">谢谢！保持学习和分享:-) </strong></p></div></div>    
</body>
</html>