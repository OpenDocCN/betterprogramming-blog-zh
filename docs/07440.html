<html>
<head>
<title>Global Route Management in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的全球路线管理</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/global-route-management-in-swiftui-a5decf539467?source=collection_archive---------9-----------------------#2021-01-14">https://betterprogramming.pub/global-route-management-in-swiftui-a5decf539467?source=collection_archive---------9-----------------------#2021-01-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="de78" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使得在不同状态的屏幕之间导航更加容易</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/13bfe840e068f8e634fa1587551b1480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4B83yA0mrM7EdwhMYh_b8Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在社交网站上为<a class="ae ky" href="https://unsplash.com/@tiagoaguiar" rel="noopener ugc nofollow" target="_blank">蒂亚戈·阿吉亚尔</a>大声喊出来，或者复制下面的文字进行归因。</p></figure><p id="3dbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当使用React.js或Flutter应用程序时，开发人员可以在一个中心位置配置他们的路线。这就创建了一个单点更改，可以在这里更新现有路由并添加新路由。</p><p id="9820" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不幸的是，SwiftUI不提供全球路线管理系统。在SwiftUI应用中，路线分散在每个视图中，这使得它们更难重用，也是维护的噩梦。</p><p id="5971" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将演示如何为SwiftUI应用程序实现一个简单的全局路线管理系统。希望我们能在未来的版本中看到Swift团队推出更全面的系统。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a782" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">理解问题</h1><p id="60e4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在深入研究全球航线管理系统的实现细节之前，让我们先来理解这个问题。考虑一个简单的主从视图场景。主视图显示一个国家列表，当选择一个特定的国家时，用户将被带到详细信息屏幕。该场景的实现如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="6ddb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个列表项都嵌入在一个<code class="fe nb nc nd ne b">NavigationLink</code>组件中，这使得它可以导航到<code class="fe nb nc nd ne b">DetailView</code>。</p><p id="05c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一切都像预期的那样工作，但是当我们想要从不同的视图执行相同的导航时，问题就出现了。我们将被迫复制<code class="fe nb nc nd ne b">NavigationLink</code>代码，并将其放置在新视图中。这也意味着如果导航目的地改变，我们必须更新两个视图。</p><p id="3b54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在您已经理解了问题，让我们看看如何为SwiftUI应用程序实现路由系统。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="035f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">航海家</h1><p id="518f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">走向全球路线统治的第一步是创建一个<code class="fe nb nc nd ne b">Navigator</code>类，它将作为整个应用程序的导航系统。<code class="fe nb nc nd ne b">Navigator</code>将配置与项目相关的所有路线。路线由<code class="fe nb nc nd ne b">Route</code>枚举定义，如下图所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="0058" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，每当视图需要访问不同的屏幕时，<code class="fe nb nc nd ne b">Navigator</code>类执行<code class="fe nb nc nd ne b">navigate</code>函数。<code class="fe nb nc nd ne b">navigate</code>功能检查所选择的路线，并采取适当的行动使用<code class="fe nb nc nd ne b">NavigationLink</code>进行导航。这显示在下面的实现中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="e084" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nb nc nd ne b">navigate</code>函数有两个参数。第一个参数是目的地路线，第二个参数是显示给用户的内容。在<code class="fe nb nc nd ne b">navigate</code>函数中，我们调用<code class="fe nb nc nd ne b">NavigationLink</code>，并向其传递适当的视图和任何参数。最后，我们还使用由调用者传递的内容闭包参数来提供<code class="fe nb nc nd ne b">NavigationLink</code>标签。</p><p id="c816" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，调用者可以使用<code class="fe nb nc nd ne b">Navigator</code>来执行导航，如下面的代码所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="bd32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相同的导航可以通过点击按钮而不是从列表中选择项目来执行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="4f8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nb nc nd ne b">Navigator</code>类允许我们重用导航代码，而无需复制它。这个小的<code class="fe nb nc nd ne b">Navigator</code>类可以帮助未来的更新，并可以作为SwiftUI应用程序中的全局路由系统。</p><p id="c956" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完整的代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="33c4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="5cb9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在本文中，您了解了如何开始为SwiftUI应用程序构建一个简单的全局路由系统。大多数现代声明性框架中都有全局路由，包括React和Flutter，希望有一天它会被添加到SwiftUI中。</p></div></div>    
</body>
</html>