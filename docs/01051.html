<html>
<head>
<title>Build an Interactive, Modern Dashboard With Dash</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Dash构建一个交互式的现代仪表板</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-an-interactive-modern-dashboard-using-dash-ab6b34cb515?source=collection_archive---------1-----------------------#2019-08-11">https://betterprogramming.pub/build-an-interactive-modern-dashboard-using-dash-ab6b34cb515?source=collection_archive---------1-----------------------#2019-08-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b320" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过极具吸引力的数据可视化和高性能增强用户体验</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8aad6d85531f18defd820bd8167f3c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LrMcsAY5Tnc4diLVn6UWaw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@bchild311?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">本杰明·蔡尔德</a>在<a class="ae ky" href="https://unsplash.com/search/photos/dashboard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="c824" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有没有想过用图形显示一组信息？或者在任何形式的应用中以一种容易理解的方式？</p><p id="6f60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://plot.ly/dash" rel="noopener ugc nofollow" target="_blank"> Dash </a>，一个高效的Python框架，让你现在轻松多了。无论您是前端开发人员、后端开发人员、数据科学家还是完全的新手，都没有关系。Dash让数据集的可视化变得更加舒适和容易。</p><p id="63ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，让我们仔细看看Dash。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4424" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">什么是破折号？</strong></h1><p id="57ad" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Dash是一个基于Python的框架，主要用于创建包含大量数据可视化的web应用程序。</p><p id="03a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">顾名思义，Dash专门用于创建基于web的仪表板应用程序。但是这是在一些Python库的帮助下通过使用纯Python实现的。</p><p id="c6ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dash不仅可以帮助您创建交互式图形，还可以将这些图形嵌入到用户友好的UI中。由于是在<a class="ae ky" href="https://palletsprojects.com/p/flask/" rel="noopener ugc nofollow" target="_blank"> Flask </a>、<a class="ae ky" href="https://plot.ly/javascript/" rel="noopener ugc nofollow" target="_blank"> Plotly.js </a>和React.js之上编写的，Dash非常适合构建具有高度定制用户界面的数据可视化应用。</p><p id="4c32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它特别适合任何使用Python处理数据的人。Dash抽象出了构建基于web的交互式应用程序所需的所有技术和协议，因此对开发人员来说更加方便。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3b01" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Dash能做什么？</h1><p id="9f36" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你以前用过Mathematica，你会知道我们可以在仪表板类型的应用程序中构建非常酷的小部件和控制器。</p><p id="1b17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使在这些应用程序中，界面也不是可移植的，更不可定制。我们不能使用它，除非我们有Mathematica许可证。因为它们不可移植，我们不能用它们嵌入到web应用程序中。</p><p id="ded3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，Dash带来的是便携、有吸引力、更加可定制的东西。</p><p id="71bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果需要创建一个图表来展示股票交易所中某家公司的股票价格，使用Dash就可以轻松完成。</p><p id="869d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论是实时数据馈送还是从CSV文件中提取的数据都无关紧要。Dash允许您使用交互式图形创建自己的web应用程序，这将为用户提供实时更新。</p><p id="f692" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦完成Dash应用程序的创建，它就可以发送到服务器，然后通过URL共享。由于Dash应用程序是在web浏览器中查看的，因此它天生具有跨平台和移动就绪性，当我们考虑今天的环境时，这是一个巨大的优势。</p><p id="ede5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果没有Dash，科学数据分析中的数据可视化可能已经使用JavaScript完成了。但问题是，这种语言的数据分析工具还没有出现，而Python或r。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d4ed" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">仪表板安装</strong></h1><p id="7c23" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">您只需在终端中键入这些命令，就可以在计算机上安装Dash。先决条件是:</p><ul class=""><li id="62d3" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">应该安装Python 2.x或3.x。</li><li id="a4cb" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">应该安装Pip (Python包安装程序)。</li></ul><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="5ce1" class="ns md it no b gy nt nu l nv nw">pip install dash # The core dash backend</span></pre><p id="2d1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">指定版本，如“1.0.2”，是可选的。</p><p id="363a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要检查您安装了哪个版本，您可以在Python shell中运行下面的。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="a6d1" class="ns md it no b gy nt nu l nv nw"><em class="nx">&gt;&gt;&gt; import dash_core_components</em></span><span id="c0b6" class="ns md it no b gy ny nu l nv nw"><em class="nx">&gt;&gt;&gt; print(dash_core_components.__version__)</em></span></pre><p id="d0c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将打印您当前使用的Dash版本。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7f1f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">构建Dash应用</strong></h1><p id="d8ed" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">任何Dash应用程序都分为两个主要部分:</p><p id="8c6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">1.布局—考虑应用程序在用户界面中的静态外观。</p><p id="4ea1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.回调函数——考虑应用程序的交互性。</p><p id="b81c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个HTML类都有一个Python类，这是Dash使用Python构建基于web的前端是多么容易的又一个例子。</p><p id="1713" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他们在<code class="fe nz oa ob no b">dash_core_components</code>和<code class="fe nz oa ob no b">dash_html_components</code>库中维护了一组组件，但是你也可以<a class="ae ky" href="https://github.com/plotly/dash-components-archetype" rel="noopener ugc nofollow" target="_blank">用JavaScript和React.js构建你自己的</a>。</p><p id="5a85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以根据自己的喜好使用任何IDE，你可以简单地将你的文件命名为“<code class="fe nz oa ob no b">app.py</code>”，然后开始使用Dash框架。</p><p id="04c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个可以在Dash框架中使用的图形的基本示例。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="3ad3" class="ns md it no b gy nt nu l nv nw">import dash<br/>import dash_core_components as dcc<br/>import dash_html_components as html<br/> <br/>external_stylesheets = [‘<a class="ae ky" href="https://codepen.io/chriddyp/pen/bWLwgP.css" rel="noopener ugc nofollow" target="_blank">https://codepen.io/chriddyp/pen/bWLwgP.css</a>']<br/> <br/>app = dash.Dash(__name__, external_stylesheets=external_stylesheets)<br/> <br/>app.layout = html.Div(children=[<br/>html.H1(children=’Weather Dashboard’),<br/> <br/>html.Div(children=’’’<br/>Dash: A web application framework for Python.<br/> ‘’’),<br/> <br/> dcc.Graph(<br/> id=’example-graph’,<br/> figure={<br/> ‘data’: [<br/> {‘x’: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], ‘y’: [60.56, 150.43, 76.98, 80.49, 250.80, 110.56, 80.33,<br/> 20.44, 15.32, 90.11, 150.67, 150.55], ‘type’: ‘bar’, ‘name’: ‘Expected Rain’},<br/> {‘x’: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], ‘y’: [40.09, 128.82, 51.57, 88.53, 295.47, 47.94, 42.05,<br/> 3.41, 14.4, 113.65, 226.95, 142.51], ‘type’: ‘bar’, ‘name’: Actual Rain’},<br/> ],<br/> ‘layout’: {<br/> ‘title’: ‘Rainfall in SL in 2016’<br/> }<br/> }<br/> )<br/> ])<br/> <br/>if __name__ == ‘__main__’:<br/> app.run_server(debug=True)</span></pre><p id="4663" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，“仪表板核心部件”被导入为<code class="fe nz oa ob no b">dcc</code>并形成<code class="fe nz oa ob no b">Graph</code>部件来绘制该图。</p><p id="44c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，数据馈送的格式非常简单。<code class="fe nz oa ob no b">x</code>表示x轴的值，而<code class="fe nz oa ob no b">y</code>表示y轴的相应值。</p><p id="5775" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如您所见，我们只需将数据作为两个Python列表给出，这样Dash就会处理剩下的事情，并为您绘制一个引人注目的图表。</p><p id="f26c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，还可以进行大量的定制，例如在<code class="fe nz oa ob no b">type</code>中，轴的名称、颜色、网格、背景颜色等。</p><p id="5191" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dash包括“热重装”。当您使用<code class="fe nz oa ob no b">app.run_server(debug=True)</code>运行应用程序时，此功能默认激活。这意味着当你修改代码时，Dash会自动刷新你的浏览器。如果您是一名开发人员，这将使您的生活变得容易得多。</p><p id="85f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nz oa ob no b">dash_html_components</code>库为每个HTML标签提供了一个组件。您可以使用任何格式为<code class="fe nz oa ob no b">html.&lt;element&gt;</code>的HTML元素。但在记谱法上略有不同。</p><p id="0d77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想在Dash中使用<code class="fe nz oa ob no b">&lt;div&gt;</code>，你必须使用<code class="fe nz oa ob no b">html.Div</code>而不是<code class="fe nz oa ob no b">html.div</code>。<code class="fe nz oa ob no b">html.H1(children='Hello Dash’)</code>组件在应用程序中生成一个<code class="fe nz oa ob no b">&lt;h1&gt;Hello Dash&lt;/h1&gt;</code> HTML元素。</p><p id="8b3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">孩子的财产是特殊的。按照惯例，总是第一个属性，也就是说可以省略:<code class="fe nz oa ob no b">html.H1(children='Hello Dash’)</code>和<code class="fe nz oa ob no b">html.H1('Hello Dash’)</code>一样。</p><p id="de2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，它可以包含字符串、数字、单个组件或组件列表。对于<code class="fe nz oa ob no b">dash_html_components</code>，每个组件都与关联的HTML组件完全匹配。</p><p id="ae17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从<a class="ae ky" href="https://dash.plot.ly/dash-html-components" rel="noopener ugc nofollow" target="_blank">文档</a>、<a class="ae ky" href="https://dash.plot.ly/dash-html-components" rel="noopener ugc nofollow" target="_blank">、</a>可以得到进一步的信息。如果您使用HTML组件，您还可以访问属性，比如<code class="fe nz oa ob no b">style</code>、<code class="fe nz oa ob no b">class</code>和<code class="fe nz oa ob no b">id</code>。Python类中提供了所有这些属性。</p><p id="81b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">HTML元素和Dash类大部分是相同的，但是有一些关键的区别:</p><ul class=""><li id="ae7a" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">样式属性是一个字典。</li><li id="975b" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">样式字典中的属性是<code class="fe nz oa ob no b">camelCased</code>。</li><li id="36aa" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">类别密钥被重命名为<code class="fe nz oa ob no b">className</code>。</li><li id="1e5f" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">以像素为单位的样式属性可以只作为数字提供，而不使用px单位。</li></ul><p id="56f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并不是所有的组件都是纯HTML。<code class="fe nz oa ob no b">dash_core_components</code>描述了更高级别的组件，它们是交互式的，通过React.js库用JavaScript、HTML和CSS生成。</p><p id="6362" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于<code class="fe nz oa ob no b">dash_core_components</code>，有<a class="ae ky" href="https://plot.ly/dash/dash-core-components/" rel="noopener ugc nofollow" target="_blank">很多例子和一个参考指南</a>。参见此链接查看<a class="ae ky" href="https://plot.ly/dash/dash-core-components/dropdown" rel="noopener ugc nofollow" target="_blank">下拉列表示例</a>。</p><p id="0eaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于<code class="fe nz oa ob no b">dash_core_components.Graph</code>，图形的语法与<a class="ae ky" href="https://plot.ly/python/getting-started/" rel="noopener ugc nofollow" target="_blank"> Plotly.py </a>库和Plotly.js库的语法相匹配。因此，您在<a class="ae ky" href="https://plot.ly/python/" rel="noopener ugc nofollow" target="_blank">https://plot.ly/python/</a>中看到的任何示例都适用，并且所有可用的属性都可以在<a class="ae ky" href="https://plot.ly/python/reference" rel="noopener ugc nofollow" target="_blank">文档</a>中找到。</p><h2 id="8e5c" class="ns md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">设计元素的样式</h2><p id="27d3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">元素的样式是通过CSS的<code class="fe nz oa ob no b">style</code>属性实现的。来自<a class="ae ky" href="https://dash.plot.ly/dash-html-components" rel="noopener ugc nofollow" target="_blank">文档</a>的示例:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="6f2d" class="ns md it no b gy nt nu l nv nw">html.Div([</span><span id="d942" class="ns md it no b gy ny nu l nv nw">html.Div(‘Example Div’, style={‘color’: ‘blue’, ‘fontSize’: 14}),</span><span id="870c" class="ns md it no b gy ny nu l nv nw">html.P(‘Example P’, className=’my-class’, id=’my-p-element’)</span><span id="c6d7" class="ns md it no b gy ny nu l nv nw">], style={‘marginBottom’: 50, ‘marginTop’: 25</span></pre><p id="3286" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">style属性中的这些键值对可以在任何在线CSS教程中找到，它们还没有出现在Dash文档中。社区已经为此收集了一些很好的资源。</p><p id="b6c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的应用程序中的字体看起来会与这里显示的略有不同。这个应用程序使用一个定制的CSS样式表来修改元素的默认样式。</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="fc8f" class="ns md it no b gy nt nu l nv nw">external_stylesheets = [‘https://codepen.io/chriddyp/pen/bWLwgP.css']</span><span id="2aa1" class="ns md it no b gy ny nu l nv nw">app = dash.Dash(__name__, external_stylesheets=external_stylesheets)</span></pre><p id="14ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dash中已经提供了各种仪表板模板。所以，我们可以使用一个并根据我们的需求进行定制。这些模板可以在<a class="ae ky" href="https://dash-gallery.plotly.host/Portal/" rel="noopener ugc nofollow" target="_blank"> Dash应用程序库</a>中找到。</p><p id="57a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图形组件有许多参数，其中大多数是可选的。如果你想了解更多，你可以参考社区。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/bff0e4d5f26220897188a8db3d520f75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*DWSVY-8_pd_ocUL7H8EVWw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Dash应用程序库中的仪表板示例</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="dfec" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">回调</strong></h1><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="cb6a" class="ns md it no b gy nt nu l nv nw">app.layout = html.Div([</span><span id="00f4" class="ns md it no b gy ny nu l nv nw">dcc.Input(id=’my-id’, value=’initial value’, type=’text’),</span><span id="2b97" class="ns md it no b gy ny nu l nv nw">html.Div(id=’my-div’)</span><span id="d5c1" class="ns md it no b gy ny nu l nv nw">])</span><span id="1e6e" class="ns md it no b gy ny nu l nv nw">@app.callback(</span><span id="8fdd" class="ns md it no b gy ny nu l nv nw">Output(component_id=’my-div’, component_property=’children’),</span><span id="1f09" class="ns md it no b gy ny nu l nv nw">[Input(component_id=’my-id’, component_property=’value’)]</span><span id="902c" class="ns md it no b gy ny nu l nv nw">)</span></pre><p id="a63b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dash应用程序接口的输入和输出通过<code class="fe nz oa ob no b">app.callback</code>装饰器以声明方式描述。</p><p id="24d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Dash中，上述应用程序的输入和输出只是特定组件的属性。在这个例子中，输入是ID为<code class="fe nz oa ob no b">my-id</code>的组件的<code class="fe nz oa ob no b">value</code>属性。</p><p id="fbf3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出是ID为<code class="fe nz oa ob no b">my-div</code>的组件的<code class="fe nz oa ob no b">children</code>属性。</p><p id="6151" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当输入属性改变时，回调装饰器包装的函数将被自动调用。Dash向函数提供输入属性的新值作为输入参数，Dash用函数返回的内容更新输出组件的属性。</p><p id="4b1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nz oa ob no b">component_id</code>和<code class="fe nz oa ob no b">component_property</code>关键字是可选的(每个对象只有两个参数)。不要把<code class="fe nz oa ob no b">dash.dependencies.Input</code>和<code class="fe nz oa ob no b">dash_core_components.Input object</code>混淆了。</p><p id="c728" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前者只是在这些回调中使用，而后者是一个实际的组件。</p><p id="7429" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意它没有为布局中的<code class="fe nz oa ob no b">my-div</code>组件的<code class="fe nz oa ob no b">children</code>属性设置值。当Dash应用程序启动时，它会使用输入组件的初始值自动调用所有回调，以填充输出组件的初始状态。</p><p id="f450" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，如果你指定了类似于<code class="fe nz oa ob no b">html.Div(id='my-div',children='Hello world')</code>的东西，当应用程序启动时它会被覆盖。</p><p id="f84b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这有点像用Microsoft Excel编程——每当输入单元格发生变化时，依赖于该单元格的所有单元格都会自动更新。这叫做<em class="nx">反应式编程</em>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9f34" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">性能</strong></h1><p id="7366" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">由于Dash的回调本质上是功能性的，所以很容易添加内存化缓存。记忆化在函数被调用后存储其结果，如果用相同的参数调用该函数，则重用该结果。</p><p id="9ce1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Dash应用程序通常是将跨多个平台部署的仪表板。此外，它们经常跨多个进程或线程部署。</p><p id="0d49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这些情况下，我们可以使用<em class="nx"> Flask缓存</em>库，它将结果保存在共享内存数据库中，比如<a class="ae ky" href="https://redis.io/" rel="noopener ugc nofollow" target="_blank"> Redis </a>，或者作为文件保存在您的文件系统中。</p><p id="8f97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Flask缓存还有其他不错的特性，比如基于时间的过期。如果你想每小时或每天更新你的数据(清除你的缓存),基于时间的过期是有帮助的。</p><p id="a587" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，当我们将Dash框架视为创建仪表板的一种方式时，它使开发人员的生活变得更加轻松，同时，通过提供有吸引力的高性能数据可视化来增强用户体验。</p><p id="bdc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它为程序员提供了一种只使用Python创建交互式web应用程序的方法。由于Python将是未来的前置运行编程语言，Dash将是一大进步。</p><p id="90c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下次你想创建一个仪表板，试试Dash吧！</p></div></div>    
</body>
</html>