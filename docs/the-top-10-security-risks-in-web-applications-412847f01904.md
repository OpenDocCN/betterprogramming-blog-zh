# Web 应用程序中的十大安全风险

> 原文：<https://betterprogramming.pub/the-top-10-security-risks-in-web-applications-412847f01904>

## 知道什么使你易受攻击，这样你就可以减轻风险

![](img/e7257719b838f1ba9fb2887d1f9bb7b8.png)

弗拉季斯拉夫·切尔卡先科在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片。

每年，开放 Web 应用程序安全项目(OWASP)都会发布一份包含十大安全风险的文档。本文档旨在提高对 web 应用程序安全性的认识，对开发人员尤其有用。它代表了对 web 应用程序最关键的安全风险的广泛共识。

作为开发人员，您的部分工作是了解可能威胁您的应用程序的安全风险。意识到这些威胁是很好的第一步。了解它们并知道如何避免它们对于降低安全风险至关重要！所以，事不宜迟，让我们直接进入 10 大安全风险。

# 1.注射

对于开发人员来说，注射应该不是什么新鲜事。我们可能都听说过当应用程序中存在注入缺陷时会发生的不好的事情。

有许多不同类型的注入缺陷，如 SQL、NoSQL、操作系统和 LDAP 注入。当不可信的数据作为命令或查询的一部分被发送到解释器时，就会发生注入。攻击者的恶意数据可以欺骗解释器执行非预期的命令或在没有适当授权的情况下访问数据。这通常是由于用户提供的数据没有经过应用程序的验证、过滤或清理。

对于大多数人来说，这似乎是显而易见的，但是您的应用程序不应该仅仅依赖于前端验证。确保总是验证您的数据服务器端。一直都是。前端验证很容易绕过(例如，当用户禁用 JavaScript 时)。

# 2.身份验证被破坏

事实证明，大量的安全风险都是由于身份验证失败造成的。这主要与不正确的实现有关。与身份验证和会话管理相关的应用程序功能经常无法正确实现。

这使得攻击者能够泄露密码、密钥或会话令牌，或者利用其他实现缺陷来临时或永久冒充其他用户的身份。

这都是因为一段代码没有按预期工作。

然而，你可以采取一些措施。在可能的情况下，您应该实施多因素身份认证，以防止自动化的凭据填充、暴力和被盗凭据重用攻击。

除此之外，您可以实现弱密码检查。用户正在输入的密码不应出现在[10，000 个最差密码](https://github.com/danielmiessler/SecLists/tree/master/Passwords)的列表中。

此外，您不应该使用任何默认凭证进行运输或部署——尤其是对于管理员用户。这似乎是显而易见的，但它发生得太频繁了。

# 3.敏感数据暴露

许多 web 应用程序和 API 不能很好地保护敏感数据，比如财务和医疗保健数据。攻击者可能窃取或修改这种保护薄弱的数据，以进行信用卡欺诈、身份盗窃或其他犯罪。

在没有额外保护的情况下，敏感数据可能会遭到破坏，在与浏览器交换时需要采取特殊的预防措施。

如果您想知道您的应用程序是否易受攻击，您想知道数据是如何传输的。是否有明文传输的数据？这涉及到 HTTP、SMTP 和 FTP 等协议。您还需要确保没有使用旧的或脆弱的加密算法，因为这些算法很容易被破解。

防止敏感数据暴露的最好方法之一可能是确保加密所有静态敏感数据。

# 4.XML 外部实体

XML 外部实体(XXE)是针对解析 XML 输入的应用程序的一种攻击。许多旧的或配置不良的 XML 处理器评估 XML 文档中的外部实体引用。外部实体可通过文件 URI 处理程序、内部文件共享、内部端口扫描、远程代码执行和拒绝服务攻击来泄露内部文件。

大多数 XXE 漏洞的存在是因为应用程序直接接受 XML 或 XML 上载——特别是来自不可信来源的——或将不可信数据插入 XML 文档，然后由 XML 处理器解析。

# 5.中断的访问控制

对经过身份验证的用户被允许做什么的限制通常没有得到适当的执行。大多数时候，用户有太多的权限，这是自找麻烦。

攻击者可以利用这些缺陷来访问未经授权的功能或数据，例如访问其他用户的帐户、查看敏感文件、修改其他用户的数据以及更改访问权限。

作为开发人员，这里有一个很好的经验法则:除了公共资源，默认情况下拒绝访问。安全总比后悔好。最重要的是，您可以记录访问控制失败，甚至在出现太多访问控制失败时提醒管理员。

# 6.安全错误配置

安全配置错误是最常见的问题。这通常是由不安全的默认配置、不完整或临时配置、错误配置的 HTTP 头以及包含敏感信息的冗长错误消息造成的。

不仅必须安全地配置所有操作系统、框架、库和应用程序，还必须及时地对它们进行升级。

为了最小化安全错误配置的可能性，您应该避免安装或启用不必要的功能。此外，避免向用户显示堆栈跟踪或其他信息过多的错误消息，错误处理会暴露这些信息。当然，还要更改默认帐户及其密码。

# 7.跨站点脚本

跨站脚本(XSS)是当今网络上最流行的缺陷之一。每当应用程序在没有适当验证或转义的情况下在新网页中包含不受信任的数据时，或者当使用可以创建 HTML 或 JavaScript 的浏览器 API 使用用户提供的数据更新现有网页时，就会出现 XSS 缺陷。XSS 允许攻击者在受害者的浏览器中执行脚本，这些脚本可以劫持用户会话、破坏网站或将用户重定向到恶意网站。

为了防止你的网站容易受到 XSS 攻击，你可以使用一个框架，通过设计自动逃离 XSS，比如 [React](https://reactjs.org/) 。根据 HTML 输出中的上下文避开不受信任的 HTTP 请求数据总是一个好主意。

# 8.不安全的反序列化

利用反序列化可能很难成功。这是因为如果不对底层漏洞利用代码进行更改或调整，现成的漏洞利用很少会起作用。

然而，风险非常高。不安全的反序列化通常会导致远程代码执行。即使反序列化缺陷不会导致远程代码执行，它们也可用于执行攻击，包括重放攻击、注入攻击和权限提升攻击。

您可以做一些事情来防止不安全的反序列化。您可以做的事情之一是实现完整性检查，例如对任何序列化对象进行数字签名。这可以防止恶意对象创建或数据篡改。

您可以做的另一件事是在对象创建之前的反序列化期间强制严格的类型约束。请注意，这种技术的旁路已经被证明，所以仅仅依赖这一点是不可取的。

如果可能，还可以隔离并运行在低特权环境中反序列化的代码。如果这不可能，您可以记录反序列化异常和失败，比如传入的类型不是预期的类型。

# 9.使用具有已知漏洞的组件

这个安全风险让我很烦恼。一些开发人员倾向于使用具有已知漏洞的组件，只是为了让他们的代码正常工作。这个上下文中的组件意味着库、框架和其他软件模块。

它们都以与应用程序相同的权限运行。如果易受攻击的组件被利用，这种攻击会导致严重的数据丢失或服务器接管。使用具有已知漏洞的组件的应用程序和 API 可能会破坏应用程序防御，并导致各种攻击和影响。

为了最小化这种风险，您应该删除未使用的依赖项、不必要的功能和文件。此外，您应该定期监控所有组件，检查是否存在任何已知的漏洞。一个简单的方法是订阅安全公告。

# 10.记录和监控不足

日志记录和监控不足，加上与事件响应的集成缺失或无效，使得攻击者能够进一步攻击系统。这可能会产生巨大的后果。攻击者可以篡改、提取或破坏数据。或者他们可能转向更多的系统。

令人震惊的事实:大多数违规研究表明，检测违规的时间超过 200 天，而且通常是由外部方检测到的，而不是内部流程或监控。