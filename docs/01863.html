<html>
<head>
<title>How To Use Switch or Toggle in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中使用切换或切换</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-switch-or-toggle-in-swiftui-b1a0f857ed5c?source=collection_archive---------2-----------------------#2019-10-18">https://betterprogramming.pub/how-to-use-switch-or-toggle-in-swiftui-b1a0f857ed5c?source=collection_archive---------2-----------------------#2019-10-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b392" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">众所周知，苹果已经发布了SwiftUI，用于使用SwiftUI的功能在所有苹果平台上构建用户界面。让我们看看我们将在本文中构建什么。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/5526b38fab2fca5600271d288890f884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1LujNJpSmpo47ijNeyLSew.gif"/></div></div></figure><h1 id="87d8" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">步骤1:如何创建您的SwiftUI项目</h1><p id="de7b" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在XCode中，进入文件→新建→项目→单视图App →下一步→选择用户界面→ SwiftUI →下一步→选择你想要的项目位置→完成。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="94c8" class="kx ky iq bd kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ml ls lt lu bi translated">步骤2: ContentView.swift</h1><p id="5b29" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">默认的<code class="fe mm mn mo mp b">SwiftUI(ContentView)</code> <strong class="jp ir"> </strong>文件会出现以下代码:</p><pre class="km kn ko kp gt mq mp mr ms aw mt bi"><span id="51ff" class="mu ky iq mp b gy mv mw l mx my"><strong class="mp ir">import</strong> SwiftUI<br/><strong class="mp ir">struct</strong> ContentView: View {<strong class="mp ir">var</strong> body: <strong class="mp ir">some</strong> View {<br/>    Text(”Hello World!”)<br/>  }<br/>}</span><span id="ab32" class="mu ky iq mp b gy mz mw l mx my"><strong class="mp ir">struct</strong> ContentView_Previews: PreviewProvider {<strong class="mp ir">  <br/>  static</strong> <strong class="mp ir">var</strong> previews: <strong class="mp ir">some</strong> View {<br/>     ContentView()<br/>   }<br/>}</span></pre><p id="86c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在右边，您可以看到UI的预览。</p><p id="7513" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你看不到预览，去调整编辑器选项，选择画布(或按下option+command+enter) <em class="na">。</em> <strong class="jp ir"> <em class="na"> </em> </strong>之后，确保画布正在显示UI预览。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/1f38d3d9ae22ff14db507ef6549e94cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/0*BEnND__ih5M9pW5N.png"/></div></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="9da8" class="kx ky iq bd kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ml ls lt lu bi translated">步骤3:创建用户界面</h1><p id="8db4" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">在<code class="fe mm mn mo mp b">ContentView</code>主体内，定义垂直堆栈，它将包含一个开关。</p><h2 id="677e" class="mu ky iq bd kz nc nd dn ld ne nf dp lh jy ng nh ll kc ni nj lp kg nk nl lt nm bi translated">如何在SwiftUI中创建切换</h2><p id="143d" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">你可以通过简单地输入<code class="fe mm mn mo mp b">Toggle()</code>来创建一个开关。</p><p id="f336" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要配置toggle，我们必须传递参数。参数名为<code class="fe mm mn mo mp b">Binding&lt;Bool&gt;</code>类型的<code class="fe mm mn mo mp b">isOn</code>，它定义了切换的状态(即，是开还是关)。在切换体中，我们可以定义显示在切换视图旁边的文本。</p><h2 id="45bf" class="mu ky iq bd kz nc nd dn ld ne nf dp lh jy ng nh ll kc ni nj lp kg nk nl lt nm bi translated">创建切换时如何传递绑定<bool>参数</bool></h2><p id="f3a0" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">要了解什么是绑定，推荐你先过一遍这篇<a class="ae nn" href="https://medium.com/@rathodmayur93/what-is-binding-in-swiftui-how-to-use-it-206d22affd9a" rel="noopener">绑定文章</a>。</p><p id="0e5c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们需要定义类型为<code class="fe mm mn mo mp b">Bool</code>的<code class="fe mm mn mo mp b">@State</code>变量，它将包含切换状态的值。我们可以这样定义<code class="fe mm mn mo mp b">@State</code>变量:</p><pre class="km kn ko kp gt mq mp mr ms aw mt bi"><span id="90d3" class="mu ky iq mp b gy mv mw l mx my">@State <strong class="mp ir">private</strong> <strong class="mp ir">var</strong> isToggle : Bool = <strong class="mp ir">false</strong></span></pre><p id="2e7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于我们需要传递参数<code class="fe mm mn mo mp b">Binding&lt;Bool&gt;</code>的值，我们只需将<code class="fe mm mn mo mp b">prefix $</code> <strong class="jp ir"> </strong>添加到我们的状态变量中，它将返回<code class="fe mm mn mo mp b">Binding&lt;Bool&gt;</code>的值。</p><p id="41f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要访问绑定值，我们必须定义<code class="fe mm mn mo mp b">@State</code>变量，然后添加前缀<code class="fe mm mn mo mp b">$</code>来访问绑定值。所以会像<code class="fe mm mn mo mp b">$isToggle (Bindning&lt;Bool&gt; value)</code>一样。</p><h2 id="c0cb" class="mu ky iq bd kz nc nd dn ld ne nf dp lh jy ng nh ll kc ni nj lp kg nk nl lt nm bi translated">$符号是做什么的？</h2><p id="caa5" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><code class="fe mm mn mo mp b">$</code>与属性委托结合使用。</p><p id="e06e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它不是运算符，而是前缀。<code class="fe mm mn mo mp b">@State</code>实际上是一种引用类型实例的方式。稍后，它会将这个实例属性转换成一个计算属性，其getter和setter是它自己的某个计算属性(它的<code class="fe mm mn mo mp b">wrappedValue</code>)的getter和setter。</p><p id="7911" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，当我们说<code class="fe mm mn mo mp b">$isToggle</code>时，你做<em class="na">而不是</em>得到一个状态结构；你得到一个绑定结构。为什么？这是因为属性包装器有一种机制来指定名称的返回值应该是什么。</p><p id="07d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，简而言之，如果我们写<code class="fe mm mn mo mp b">isToggle</code>，我们正在访问一个<code class="fe mm mn mo mp b">Bool</code>值，但是当我们键入<code class="fe mm mn mo mp b">$isToggl</code> e，我们正在访问一个<code class="fe mm mn mo mp b">Binding&lt;Bool&gt;</code>值。</p><p id="8a83" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们看看切换视图的最终代码:</p><pre class="km kn ko kp gt mq mp mr ms aw mt bi"><span id="a97a" class="mu ky iq mp b gy mv mw l mx my"><strong class="mp ir">import</strong> SwiftUI</span><span id="e58d" class="mu ky iq mp b gy mz mw l mx my"><strong class="mp ir">struct</strong> ContentView: View {</span><span id="4e42" class="mu ky iq mp b gy mz mw l mx my">@State <strong class="mp ir">private</strong> <strong class="mp ir">var</strong> isToggle : Bool = <strong class="mp ir">false<br/>   var</strong> body: <strong class="mp ir">some</strong> View {<br/>   VStack {<br/>      Toggle(isOn: $isToggle){<br/>         Text(“Switch “)<br/>            .font(.title)<br/>            .foregroundColor(Color.white)<br/>      }<br/>    }.padding()<br/>     .background(isToggle ? Color.orange : Color.purple)<br/>  }<br/>}</span><span id="13a1" class="mu ky iq mp b gy mz mw l mx my"><strong class="mp ir">struct</strong> ContentView_Previews: PreviewProvider {<br/>   <strong class="mp ir">static</strong> <strong class="mp ir">var</strong> previews: <strong class="mp ir">some</strong> View {<br/>      ContentView()<br/>   }<br/>}</span></pre></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="2cf2" class="kx ky iq bd kz la mh lc ld le mi lg lh li mj lk ll lm mk lo lp lq ml ls lt lu bi translated">资源</h1><p id="7a1c" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">你可以在<a class="ae nn" href="https://github.com/rathodmayur93/SwiftUIBindingDemo" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到代码。</p></div></div>    
</body>
</html>