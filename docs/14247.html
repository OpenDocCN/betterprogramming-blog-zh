<html>
<head>
<title>Introducing Create React Package — A Zero-config Tool for React Libraries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍Create React Package——React库的零配置工具</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/introducing-create-react-package-a79e6412be8d?source=collection_archive---------13-----------------------#2022-11-21">https://betterprogramming.pub/introducing-create-react-package-a79e6412be8d?source=collection_archive---------13-----------------------#2022-11-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c91d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">构建、测试和发布React库</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/06a18b3bddd1e64d991d92a7be040d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGzf3npihfF3Jbq3AGWZ2Q.png"/></div></div></figure><p id="52e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">今天我宣布<a class="ae ln" href="https://github.com/haseebanwar/create-react-pkg" rel="noopener ugc nofollow" target="_blank">创建React包</a>。一个新工具，它使得创建、构建、测试和发布React库变得非常容易。</p><p id="4611" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">尽管有许多工具可以用于React应用程序，但许多开发人员都在为安装和配置React构建库而努力。有了Create React Package，就不需要担心配置捆绑器、编译器、测试运行器和其他工具。Create React Package集成了这些工具，并为创建React包提供了无缝的构建管道。</p><h1 id="f196" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">为什么</h1><ul class=""><li id="1b71" class="mg mh iq kt b ku mi kx mj la mk le ml li mm lm mn mo mp mq bi translated">学习更少:您不需要学习和配置各种构建工具。</li><li id="ec4e" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">可定制:CRP不限制您使用默认配置。您可以随时根据需要配置所有的构建工具。</li><li id="db67" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">易于维护:由于只有一个依赖项，升级您的构建工具只需要一个命令。<code class="fe mw mx my mz b">npm install react-pkg-scripts@latest</code></li></ul><h1 id="1d66" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">创建React包一览</h1><ul class=""><li id="7775" class="mg mh iq kt b ku mi kx mj la mk le ml li mm lm mn mo mp mq bi translated">几秒钟内开始，易于维护，只有一个依赖项</li><li id="6a0b" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">CJS、ESM和UMD模块支持</li><li id="acd6" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">预配置的汇总、Babel、Jest和ESLint</li><li id="08f5" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">完全可定制</li><li id="a132" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">综合游乐场</li><li id="0676" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">摇树</li><li id="e72f" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">代码分割</li><li id="55c9" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">开发/生产版本</li><li id="3d65" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">类型脚本支持</li><li id="99ad" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">故事书支持</li><li id="cd31" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">使用ESLint的编译时林挺</li><li id="be78" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">对CSS、SASS和JSON文件的现成支持</li><li id="d555" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">预配置的浏览器列表、源地图和缩小</li><li id="3b07" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated">VSCode友好错误</li></ul><h1 id="d022" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">入门指南</h1><p id="e8d4" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">要创建名为<code class="fe mw mx my mz b">my-package</code>的项目，运行以下命令之一:</p><pre class="kg kh ki kj gt nd mz ne bn nf ng bi"><span id="92d4" class="nh lp iq mz b be ni nj l nk nl"># npx<br/>npx create-react-pkg my-package<br/><br/># npm<br/>npm create react-pkg my-package<br/><br/># yarn<br/>yarn create react-pkg my-package</span></pre><p id="6321" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="nm">注意</em> </strong> <em class="nm">:您可以指定</em> <code class="fe mw mx my mz b"><em class="nm">--ts</em></code> <em class="nm">和</em> <code class="fe mw mx my mz b"><em class="nm">--sb</em></code> <em class="nm">标志来分别创建一个带有TypeScript和Storybook的项目。</em></p><p id="d2b0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将创建一个新的React项目，其文件夹结构如下:</p><pre class="kg kh ki kj gt nd mz ne bn nf ng bi"><span id="0c6b" class="nh lp iq mz b be ni nj l nn nl">my-package/<br/>  dist/<br/>  node_modules/<br/>  playground/<br/>    index.html<br/>    index.js<br/>  src/<br/>    index.js<br/>  test/<br/>    index.test.js<br/>  .gitignore<br/>  package.json<br/>  README.md</span></pre><ul class=""><li id="7eac" class="mg mh iq kt b ku kv kx ky la no le np li nq lm mn mo mp mq bi translated"><code class="fe mw mx my mz b">src/index.js</code>是你图书馆的入口。这是您编写React代码的地方。</li><li id="2efd" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated"><code class="fe mw mx my mz b">dist</code>是您的库的已编译和捆绑的可分发版本，可能包括CJS版本、ES版本和UMD版本。</li><li id="20bc" class="mg mh iq kt b ku mr kx ms la mt le mu li mv lm mn mo mp mq bi translated"><code class="fe mw mx my mz b">playground</code>是一个集成的React应用程序，用于在浏览器中开发和预览您的库。</li></ul><p id="7ab3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">构建工具是预先配置和隐藏的，因此您可以专注于代码。</p><p id="d21c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该项目在<code class="fe mw mx my mz b">package.json</code>中附带了一些脚本</p><p id="be7f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mw mx my mz b">npm start</code></p><p id="ea4c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以开发模式运行项目，监视文件更改，并根据更改进行重建。构建错误和lint警告会在操作过程中显示在控制台中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/afd2a78b0f89fa0d8aaad2a61d763c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Heg7KoRTjXMQhTXYK7YFTg.gif"/></div></div></figure><p id="d3c7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mw mx my mz b">npm test</code></p><p id="45f2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用Jest test runner运行您的测试。</p><p id="7942" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mw mx my mz b">npm run build</code></p><p id="5a36" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以CommonJS、es和UMD模块格式创建库的优化生产版本。</p><p id="f613" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mw mx my mz b">npm run preview</code></p><p id="9b9c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">它在浏览器中打开来自<code class="fe mw mx my mz b">playground/index.js</code>的集成游戏React应用程序，并实时重新加载。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/af4ec92867da30d38a10909d30679a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Va3z4GDK7UKrtdy_pMzwtA.gif"/></div></div></figure><h1 id="3875" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">用户化</h1><p id="786f" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">创建React包是灵活的，允许您修改构建管道。例如，您可以通过在项目的根目录下创建一个文件<code class="fe mw mx my mz b">crp.config.js</code>来将默认的构建格式更改为UMD格式，如下所示:</p><pre class="kg kh ki kj gt nd mz ne bn nf ng bi"><span id="da35" class="nh lp iq mz b be ni nj l nk nl">// react-pkg-scripts is the package that encapsulates<br/>// all build tools for Create React Package<br/>const { defineConfig } = require('react-pkg-scripts');<br/><br/>module.exports = defineConfig({<br/>  formats: ['umd'],<br/>});</span></pre><p id="5b0b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，当你运行<code class="fe mw mx my mz b">npm start</code>或<code class="fe mw mx my mz b">npm run build</code>时，只有你的库的UMD格式会被发送到<code class="fe mw mx my mz b">dist</code>目录。</p><p id="c2bf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">而且，你并不局限于此；您可以修改底层的Rollup包，调整Babel编译，等等。点击阅读更多关于定制<a class="ae ln" href="https://github.com/haseebanwar/create-react-pkg#customization" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><h1 id="068e" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">出版</h1><p id="d8a7" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la na lc ld le nb lg lh li nc lk ll lm ij bi translated">运行<code class="fe mw mx my mz b">npm run build</code>来创建一个优化的库包，现在就可以将React库发布到NPM了。</p></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><p id="ecf6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">遵循<a class="ae ln" href="https://github.com/haseebanwar/create-react-pkg#readme" rel="noopener ugc nofollow" target="_blank">文档</a>从Create React包中获得更多信息。</p><p id="988e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望你会喜欢使用Create React包，就像我喜欢设计和构建它一样。我渴望读到你的经历。让我们用Create React包来构建令人敬畏的React库。</p></div></div>    
</body>
</html>