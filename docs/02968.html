<html>
<head>
<title>How To Copy Text to the Clipboard</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将文本复制到剪贴板</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-copy-text-to-clipboard-c9935c8fba18?source=collection_archive---------4-----------------------#2020-01-12">https://betterprogramming.pub/how-to-copy-text-to-clipboard-c9935c8fba18?source=collection_archive---------4-----------------------#2020-01-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c11a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">简单的JavaScript解决方案</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/64cc5f7646e9baf4a1c8a6c9abe99e82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UCOZxcia4pU-dbTb"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@nandagreen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">南大绿</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="07ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">嘿，极客们！</p><p id="5dd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然将一些文本复制到剪贴板看起来很常见，但是JavaScript中没有内置函数允许这样做。</p><p id="1228" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是为什么我们需要使用这四个简单的步骤来制定一个解决方案:</p><p id="eebd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.创建一个临时的<code class="fe ls lt lu lv b">&lt;textarea&gt;</code>元素并将其附加到主体中。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="3c94" class="ma mb iq lv b gy mc md l me mf">const textarea = document.createElement(‘textarea’);<br/>document.body.appendChild(textarea);</span></pre><p id="6b8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.将指定文本输入此<code class="fe ls lt lu lv b">&lt;textarea&gt;</code>并选择它。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="c8dc" class="ma mb iq lv b gy mc md l me mf">textarea.value = text;<br/>textarea.select()</span></pre><p id="263d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，有些浏览器可能不支持<code class="fe ls lt lu lv b">select</code>方法(尤其是移动浏览器)。这就是为什么，为了确保更好的浏览器兼容性，最好也使用<code class="fe ls lt lu lv b">setSelectionRange</code>方法。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="c27d" class="ma mb iq lv b gy mc md l me mf">textarea.setSelectionRange(0, 99999);</span></pre><p id="fc4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.将所选文本复制到剪贴板。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="a06e" class="ma mb iq lv b gy mc md l me mf">document.execCommand('copy');</span></pre><p id="280d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">execCommand</code>是一个执行指定命令(复制、剪切等)的内置方法。)用于选定的文本。<a class="ae kv" href="https://www.w3schools.com/jsref/met_document_execcommand.asp" rel="noopener ugc nofollow" target="_blank">阅读更多</a>。</p><p id="3f99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.自己清理干净，拆下临时<code class="fe ls lt lu lv b">&lt;textarea&gt;</code>元件。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="969b" class="ma mb iq lv b gy mc md l me mf">document.body.removeChild(textarea);</span></pre><p id="d7f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，在实时情况下，这一功能仍然不为人所知。但是如果我们在调试器中暂停它，我们会看到函数执行是这样的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/5a204b0d966ab8a46e70f95ef31860ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*6h_zWgvfojTEimv57LZl3g.gif"/></div></figure><p id="4cb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">检查下面我们函数的全部代码。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mh mi l"/></div></figure></div></div>    
</body>
</html>