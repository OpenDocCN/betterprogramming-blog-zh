<html>
<head>
<title>How To Use the OpenWeatherMap API to Make a Weather App in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用OpenWeatherMap API制作Angular中的天气App</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-the-openweathermap-api-to-make-a-weather-app-f8d67b22c3ca?source=collection_archive---------1-----------------------#2019-08-15">https://betterprogramming.pub/how-to-use-the-openweathermap-api-to-make-a-weather-app-f8d67b22c3ca?source=collection_archive---------1-----------------------#2019-08-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b901" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Angular在几分钟内建立一个天气应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5740f0151e2cf8f782802432240c58ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*86TuBrOLuN8o1xMC_GmQNQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@wimvanteinde" rel="noopener ugc nofollow" target="_blank">在<a class="ae ky" href="https://unsplash.com/photos/uj7eb7CgqRk" rel="noopener ugc nofollow" target="_blank">上坡</a>上没有一个</a></p></figure><p id="bf64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OpenWeather是一个天气网站，它提供自己的免费API供人们使用。它对于构建我们自己使用的小型天气应用程序来说非常方便。在这个故事中，我们将使用OpenWeatherMap API构建自己的天气应用程序。</p><p id="c6f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，在这里得到一个API键<a class="ae ky" href="https://openweathermap.org/api" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="d45f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用Angular框架来构建应用程序。Angular使用基于组件的架构来组织我们的代码。它还有一个flux库，在一个中心位置存储数据。它很有用，因为它可以做很多事情(结构化代码、路由等)。)，而且它有库(例如Angular Material library)让我们的应用看起来很漂亮。它还有一个用Angular CLI搭建和构建应用程序的程序。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e52e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">让我们开始建造吧</h1><p id="4497" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">首先，我们运行<code class="fe mz na nb nc b">npm i -g @angular/cli</code>来安装Angular CLI。然后，我们添加我们需要的库，使我们的应用程序功能和外观良好。为此，我们使用有角的材料。我们通过运行以下命令来实现这一点:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="26f7" class="nh md it nc b gy ni nj l nk nl">npm install --save @angular/material @angular/cdk @angular/animations</span></pre><p id="16b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还需要通过运行以下命令来安装<code class="fe mz na nb nc b">@ngrx/store</code>:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="03d6" class="nh md it nc b gy ni nj l nk nl">npm install @ngrx/store --save</span></pre><p id="4358" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们安装了<code class="fe mz na nb nc b">moment</code>,通过运行以下命令来格式化日期:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="70f0" class="nh md it nc b gy ni nj l nk nl">npm i moment</span></pre><p id="e20b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们开始编写我们的应用程序。让我们添加一些组件:我们需要一个警报页面来显示紫外线指数，一个当前天气组件来显示当前天气，一个预测组件来显示预测，一个页面来保存所有内容，一个顶部栏来显示应用程序名称，以及一个搜索框。</p><p id="54ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们创建由应用程序的多个部分使用的代码。我们需要一个缩减器来集中存储数据。为此，创建一个名为<code class="fe mz na nb nc b">location-reducer.ts</code>的文件，并放入以下内容:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="57c8" class="nh md it nc b gy ni nj l nk nl">import { Action } from '<a class="ae ky" href="http://twitter.com/ngrx/store" rel="noopener ugc nofollow" target="_blank">@ngrx/store</a>';</span><span id="39f7" class="nh md it nc b gy nm nj l nk nl">export const initialState = '';<br/>export const SET_LOCATION = 'SET_LOCATION';</span><span id="6105" class="nh md it nc b gy nm nj l nk nl">export function locationReducer(state = initialState, action: any) {<br/>    switch (action.type) {<br/>        case SET_LOCATION:<br/>            state = action.payload<br/>            return state;<br/>        default:<br/>            return state;<br/>    }<br/>}</span></pre><p id="3e0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们创建函数来获取天气数据。我们创建了一个名为<code class="fe mz na nb nc b">WeatherService</code>的角度服务。为此，请运行:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="21ec" class="nh md it nc b gy ni nj l nk nl">ng g service weather</span></pre><p id="284b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">weather.service.ts</code>中，我们输入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2e15" class="nh md it nc b gy ni nj l nk nl">import { Injectable } from '<a class="ae ky" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { HttpClient } from '<a class="ae ky" href="http://twitter.com/angular/common" rel="noopener ugc nofollow" target="_blank">@angular/common</a>/http';<br/>import { environment } from 'src/environments/environment';<br/>import * as moment from 'moment';<br/>const apiKey: string = environment.apiKey;</span><span id="b3b8" class="nh md it nc b gy nm nj l nk nl"><a class="ae ky" href="http://twitter.com/Injectable" rel="noopener ugc nofollow" target="_blank">@Injectable</a>({<br/>  providedIn: 'root'<br/>})<br/>export class WeatherService {</span><span id="acdc" class="nh md it nc b gy nm nj l nk nl">  constructor(private http: HttpClient) { }</span><span id="c4aa" class="nh md it nc b gy nm nj l nk nl">  getCurrentWeather(loc: string) {<br/>    return this.http.get(`${environment.apiUrl}/weather?q=${loc}&amp;appid=${apiKey}`)<br/>  }</span><span id="53f0" class="nh md it nc b gy nm nj l nk nl">  getForecast(loc: string) {<br/>    return this.http.get(`${environment.apiUrl}/forecast?q=${loc}&amp;appid=${apiKey}`)<br/>  }</span><span id="49d8" class="nh md it nc b gy nm nj l nk nl">  getUv(lat: number, lon: number) {<br/>    let startDate = Math.round(+moment(new Date()).subtract(1, 'week').toDate() / 1000);<br/>    let endDate = Math.round(+moment(new Date()).add(1, 'week').toDate() / 1000);<br/>    return this.http.get(`${environment.apiUrl}/uvi/history?lat=${lat}&amp;lon=${lon}&amp;start=${startDate}&amp;end=${endDate}&amp;appid=${apiKey}`)<br/>  }<br/>}</span></pre><p id="43f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">environments/environment.ts</code>中，我们输入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="dc37" class="nh md it nc b gy ni nj l nk nl">export const environment = {<br/>  production: false,<br/>  apiKey: 'api key',<br/>  apiUrl: '<a class="ae ky" href="http://api.openweathermap.org/data/2.5'" rel="noopener ugc nofollow" target="_blank">http://api.openweathermap.org/data/2.5'</a><br/>};</span></pre><p id="f1ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mz na nb nc b">apiKey</code>是你从网站上得到的密钥。</p><p id="d5bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们运行以下命令来生成组件:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="1687" class="nh md it nc b gy ni nj l nk nl">ng g component uv<br/>ng g component currentWeather<br/>ng g component forecast<br/>ng g component homePage<br/>ng g component topBar</span></pre><p id="0430" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们向组件添加代码:</p><p id="f8d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">uv.component.ts</code>中，我们把:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2acf" class="nh md it nc b gy ni nj l nk nl">import { Component, OnInit } from '<a class="ae ky" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { Observable } from 'rxjs';<br/>import { Store, select } from '<a class="ae ky" href="http://twitter.com/ngrx/store" rel="noopener ugc nofollow" target="_blank">@ngrx/store</a>';<br/>import { WeatherService } from '../weather.service';</span><span id="4c08" class="nh md it nc b gy nm nj l nk nl"><a class="ae ky" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-uv',<br/>  templateUrl: './uv.component.html',<br/>  styleUrls: ['./uv.component.css']<br/>})<br/>export class UvComponent implements OnInit {<br/>  loc$: Observable&lt;string&gt;;<br/>  loc: string;<br/>  currentWeather: any = &lt;any&gt;{};<br/>  uv: any[] = [];<br/>  msg: string;</span><span id="eae0" class="nh md it nc b gy nm nj l nk nl">  constructor(<br/>    private store: Store&lt;any&gt;,<br/>    private weatherService: WeatherService<br/>  ) {<br/>    this.loc$ = store.pipe(select('loc'));<br/>    this.loc$.subscribe(loc =&gt; {<br/>      this.loc = loc;<br/>      this.searchWeather(loc);<br/>    })<br/>  }</span><span id="a8e4" class="nh md it nc b gy nm nj l nk nl">  ngOnInit() {<br/>  }</span><span id="2048" class="nh md it nc b gy nm nj l nk nl">  searchWeather(loc: string) {<br/>    this.msg = '';<br/>    this.currentWeather = {};<br/>    this.weatherService.getCurrentWeather(loc)<br/>      .subscribe(res =&gt; {<br/>        this.currentWeather = res;<br/>      }, err =&gt; {</span><span id="2c85" class="nh md it nc b gy nm nj l nk nl">}, () =&gt; {<br/>        this.searchUv(loc);<br/>      })<br/>  }</span><span id="e195" class="nh md it nc b gy nm nj l nk nl">  searchUv(loc: string) {<br/>    this.weatherService.getUv(this.currentWeather.coord.lat, this.currentWeather.coord.lon)<br/>      .subscribe(res =&gt; {<br/>        this.uv = res as any[];<br/>      }, err =&gt; {</span><span id="21c0" class="nh md it nc b gy nm nj l nk nl">})<br/>  }</span><span id="dcd8" class="nh md it nc b gy nm nj l nk nl">  resultFound() {<br/>    return Object.keys(this.currentWeather).length &gt; 0;<br/>  }</span><span id="de0c" class="nh md it nc b gy nm nj l nk nl">}</span></pre><p id="c67f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将从API中获取UV指数。</p><p id="7ce4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">uv.component.html</code>中，我们把:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="f1ac" class="nh md it nc b gy ni nj l nk nl">&lt;div *ngIf='resultFound()'&gt;<br/>  &lt;h1 class="center"&gt;Current UV data for {{currentWeather.name}}&lt;/h1&gt;<br/>  &lt;mat-card *ngFor='let l of uv' class="mat-elevation-z18"&gt;<br/>    &lt;mat-card-header&gt;<br/>      &lt;mat-card-title&gt;<br/>        &lt;h2&gt;{{l.date_iso | date:'MMM d, y, h:mm:ss a'}}&lt;/h2&gt;<br/>      &lt;/mat-card-title&gt;<br/>    &lt;/mat-card-header&gt;<br/>    &lt;mat-card-content&gt;<br/>      &lt;mat-list&gt;<br/>        &lt;mat-list-item&gt;<br/>          &lt;span&gt;<br/>            UV Index: {{l.value}}<br/>          &lt;/span&gt;<br/>        &lt;/mat-list-item&gt;        <br/>      &lt;/mat-list&gt;<br/>    &lt;/mat-card-content&gt;<br/>  &lt;/mat-card&gt;<br/>&lt;/div&gt;<br/>&lt;div *ngIf='!resultFound()'&gt;<br/>  &lt;h1 class="center"&gt;{{msg || 'Failed to get weather.'}}&lt;/h1&gt;<br/>&lt;/div&gt;</span></pre><p id="bd37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了格式化日期，我们写:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="5fa6" class="nh md it nc b gy ni nj l nk nl">{{l.date_iso | date:'MMM d, y, h:mm:ss a'}}</span></pre><p id="f803" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这在角行话里叫管道。这是一种将一个物体转换成另一个物体的功能。它可以用在模板和逻辑代码中。</p><p id="76ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，在<code class="fe mz na nb nc b">current-weather.component.ts</code>中，我们把:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="b73a" class="nh md it nc b gy ni nj l nk nl">import { Component, OnInit } from '<a class="ae ky" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { Observable } from 'rxjs';<br/>import { Store, select } from '<a class="ae ky" href="http://twitter.com/ngrx/store" rel="noopener ugc nofollow" target="_blank">@ngrx/store</a>';<br/>import { WeatherService } from '../weather.service';</span><span id="283d" class="nh md it nc b gy nm nj l nk nl"><a class="ae ky" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-current-weather',<br/>  templateUrl: './current-weather.component.html',<br/>  styleUrls: ['./current-weather.component.css']<br/>})<br/>export class CurrentWeatherComponent implements OnInit {</span><span id="b403" class="nh md it nc b gy nm nj l nk nl">  loc$: Observable&lt;string&gt;;<br/>  loc: string;<br/>  currentWeather: any = &lt;any&gt;{};<br/>  msg: string;</span><span id="d4a1" class="nh md it nc b gy nm nj l nk nl">  constructor(<br/>    private store: Store&lt;any&gt;,<br/>    private weatherService: WeatherService<br/>  ) {<br/>    this.loc$ = store.pipe(select('loc'));<br/>    this.loc$.subscribe(loc =&gt; {<br/>      this.loc = loc;<br/>      this.searchWeather(loc);<br/>    })<br/>  }</span><span id="f0ff" class="nh md it nc b gy nm nj l nk nl">  ngOnInit() {<br/>  }</span><span id="f03d" class="nh md it nc b gy nm nj l nk nl">  searchWeather(loc: string) {<br/>    this.msg = '';<br/>    this.currentWeather = {};<br/>    this.weatherService.getCurrentWeather(loc)<br/>      .subscribe(res =&gt; {<br/>        this.currentWeather = res;<br/>      }, err =&gt; {<br/>        if (err.error &amp;&amp; err.error.message) {<br/>          alert(err.error.message);<br/>          this.msg = err.error.message;<br/>          return;<br/>        }<br/>        alert('Failed to get weather.');<br/>      }, () =&gt; {</span><span id="8700" class="nh md it nc b gy nm nj l nk nl">})<br/>  }</span><span id="50a0" class="nh md it nc b gy nm nj l nk nl">  resultFound() {<br/>    return Object.keys(this.currentWeather).length &gt; 0;<br/>  }<br/>}</span></pre><p id="24d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们获取当前天气的地方。在相应的模板<code class="fe mz na nb nc b">current-weather.component.html</code>中，我们放入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2f5e" class="nh md it nc b gy ni nj l nk nl">&lt;h1 class="center" *ngIf='resultFound()'&gt;Current weather for {{currentWeather.name}}&lt;/h1&gt;<br/>&lt;table *ngIf='resultFound()'&gt;<br/>  &lt;tbody&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Current Temperature:&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.main?.temp - 273.15 | number:'1.0-0'}}&lt;sup&gt;o&lt;/sup&gt;C&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Maximum Temperature:&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.main?.temp - 273.15 | number:'1.0-0'}}&lt;sup&gt;o&lt;/sup&gt;C&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Minimum Temperature:&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.main?.temp_min - 273.15 | number:'1.0-0'}}&lt;sup&gt;o&lt;/sup&gt;C&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Clouds:&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.clouds?.all}}%&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Humidity&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.main?.humidity}}%&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Pressure&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.main?.pressure}}mb&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Sunrise&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.sys?.sunrise*1000 | date:'long'}}&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Sunset&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.sys?.sunset*1000 | date:'long'}}&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;Visibility&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>      &lt;td&gt;<br/>        &lt;h3&gt;{{currentWeather.visibility}}m&lt;/h3&gt;<br/>      &lt;/td&gt;<br/>    &lt;/tr&gt;<br/>  &lt;/tbody&gt;<br/>&lt;/table&gt;<br/>&lt;div *ngIf='!resultFound()'&gt;<br/>  &lt;h1 class="center"&gt;{{msg || 'Failed to get weather.'}}&lt;/h1&gt;<br/>&lt;/div&gt;</span></pre><p id="a70b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它只是一个显示数据的表格。</p><p id="da9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">forecast.component.ts</code>中，我们把:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="43f5" class="nh md it nc b gy ni nj l nk nl">import { Component, OnInit } from '<a class="ae ky" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { Observable } from 'rxjs';<br/>import { Store, select } from '<a class="ae ky" href="http://twitter.com/ngrx/store" rel="noopener ugc nofollow" target="_blank">@ngrx/store</a>';<br/>import { WeatherService } from '../weather.service';</span><span id="8052" class="nh md it nc b gy nm nj l nk nl"><a class="ae ky" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-forecast',<br/>  templateUrl: './forecast.component.html',<br/>  styleUrls: ['./forecast.component.css']<br/>})<br/>export class ForecastComponent implements OnInit {<br/>  loc$: Observable&lt;string&gt;;<br/>  loc: string;<br/>  currentWeather: any = &lt;any&gt;{};<br/>  forecast: any = &lt;any&gt;{};<br/>  msg: string;</span><span id="f789" class="nh md it nc b gy nm nj l nk nl">  constructor(<br/>    private store: Store&lt;any&gt;,<br/>    private weatherService: WeatherService<br/>  ) {<br/>    this.loc$ = store.pipe(select('loc'));<br/>    this.loc$.subscribe(loc =&gt; {<br/>      this.loc = loc;<br/>      this.searchWeather(loc);<br/>    })<br/>  }</span><span id="9bf8" class="nh md it nc b gy nm nj l nk nl">  ngOnInit() {<br/>  }</span><span id="2e2c" class="nh md it nc b gy nm nj l nk nl">  searchWeather(loc: string) {<br/>    this.msg = '';<br/>    this.currentWeather = {};<br/>    this.weatherService.getCurrentWeather(loc)<br/>      .subscribe(res =&gt; {<br/>        this.currentWeather = res;<br/>      }, err =&gt; {</span><span id="e13c" class="nh md it nc b gy nm nj l nk nl">}, () =&gt; {<br/>        this.searchForecast(loc);<br/>      })<br/>  }</span><span id="2859" class="nh md it nc b gy nm nj l nk nl">  searchForecast(loc: string) {<br/>    this.weatherService.getForecast(loc)<br/>      .subscribe(res =&gt; {<br/>        this.forecast = res;<br/>      }, err =&gt; {</span><span id="6a02" class="nh md it nc b gy nm nj l nk nl">})<br/>  }</span><span id="c48c" class="nh md it nc b gy nm nj l nk nl">  resultFound() {<br/>    return Object.keys(this.currentWeather).length &gt; 0;<br/>  }</span><span id="1443" class="nh md it nc b gy nm nj l nk nl">}</span></pre><p id="b713" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在对应的<code class="fe mz na nb nc b">forecast.component.html</code>模板中，我们放入:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2d1f" class="nh md it nc b gy ni nj l nk nl">&lt;div *ngIf='resultFound()'&gt;<br/>  &lt;h1 class="center"&gt;Current weather forecast for {{currentWeather.name}}&lt;/h1&gt;<br/>  &lt;mat-card *ngFor='let l of forecast.list' class="mat-elevation-z18"&gt;<br/>    &lt;mat-card-header&gt;<br/>      &lt;mat-card-title&gt;<br/>        &lt;h2&gt;{{l.dt*1000 | date:'MMM d, y, h:mm:ss a'}}&lt;/h2&gt;<br/>      &lt;/mat-card-title&gt;<br/>    &lt;/mat-card-header&gt;<br/>    &lt;mat-card-content&gt;<br/>      &lt;table *ngIf='resultFound()'&gt;<br/>        &lt;tbody&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Temperature&lt;/td&gt;<br/>            &lt;td&gt;{{l.main?.temp - 273.15 | number:'1.0-0'}}&lt;sup&gt;o&lt;/sup&gt;C&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Minimum Temperature&lt;/td&gt;<br/>            &lt;td&gt;{{l.main?.temp_min - 273.15 | number:'1.0-0'}}&lt;sup&gt;o&lt;/sup&gt;C&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Maximum Temperature&lt;/td&gt;<br/>            &lt;td&gt;{{l.main?.temp_max - 273.15 | number:'1.0-0'}}&lt;sup&gt;o&lt;/sup&gt;C&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Pressure&lt;/td&gt;<br/>            &lt;td&gt;{{l.main?.pressure | number:'1.0-0'}}mb&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Sea Level&lt;/td&gt;<br/>            &lt;td&gt;{{l.main?.sea_level | number:'1.0-0'}}m&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Ground Level&lt;/td&gt;<br/>            &lt;td&gt;{{l.main?.grnd_level | number:'1.0-0'}}m&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Humidity&lt;/td&gt;<br/>            &lt;td&gt; {{l.main?.humidity | number:'1.0-0'}}%&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Weather&lt;/td&gt;<br/>            &lt;td&gt;<br/>              &lt;ul&gt;<br/>                &lt;li *ngFor='let w of l.weather'&gt;<br/>                  {{w?.main }}: {{w?.description }}<br/>                &lt;/li&gt;<br/>              &lt;/ul&gt;<br/>            &lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Wind Speed&lt;/td&gt;<br/>            &lt;td&gt;{{l.wind?.speed }}&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>          &lt;tr&gt;<br/>            &lt;td&gt;Wind Direction&lt;/td&gt;<br/>            &lt;td&gt;{{l.wind?.deg }}&lt;sup&gt;o&lt;/sup&gt;&lt;/td&gt;<br/>          &lt;/tr&gt;<br/>        &lt;/tbody&gt;<br/>      &lt;/table&gt;<br/>    &lt;/mat-card-content&gt;<br/>  &lt;/mat-card&gt;<br/>&lt;/div&gt;<br/>&lt;div *ngIf='!resultFound()'&gt;<br/>  &lt;h1 class="center"&gt;{{msg || 'Failed to get weather.'}}&lt;/h1&gt;<br/>&lt;/div&gt;</span></pre><p id="5906" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">home-page.component.ts</code>中，我们把:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2569" class="nh md it nc b gy ni nj l nk nl">import { Component, OnInit } from '<a class="ae ky" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { Store, select } from '<a class="ae ky" href="http://twitter.com/ngrx/store" rel="noopener ugc nofollow" target="_blank">@ngrx/store</a>';<br/>import { Observable } from 'rxjs';</span><span id="7745" class="nh md it nc b gy nm nj l nk nl"><a class="ae ky" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-home-page',<br/>  templateUrl: './home-page.component.html',<br/>  styleUrls: ['./home-page.component.css']<br/>})<br/>export class HomePageComponent implements OnInit {<br/>  loc$: Observable&lt;string&gt;;<br/>  loc: string;</span><span id="7400" class="nh md it nc b gy nm nj l nk nl">  constructor(private store: Store&lt;any&gt;) {<br/>    this.loc$ = store.pipe(select('loc'));<br/>    this.loc$.subscribe(loc =&gt; {<br/>      this.loc = loc;<br/>    })<br/>  }</span><span id="6d43" class="nh md it nc b gy nm nj l nk nl">  ngOnInit() {<br/>  }</span><span id="5b77" class="nh md it nc b gy nm nj l nk nl">}</span></pre><p id="1a33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">home-page.component.html</code>中，我们有:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="3eba" class="nh md it nc b gy ni nj l nk nl">&lt;app-top-bar&gt;&lt;/app-top-bar&gt;<br/>&lt;div id='container'&gt;<br/>    &lt;div *ngIf='!loc' id='search'&gt;<br/>        &lt;h1&gt;Enter location to find weather info.&lt;/h1&gt;<br/>    &lt;/div&gt;<br/>    &lt;mat-tab-group *ngIf='loc'&gt;<br/>        &lt;mat-tab label="Current Weather"&gt;<br/>            &lt;app-current-weather&gt;&lt;/app-current-weather&gt;<br/>        &lt;/mat-tab&gt;<br/>        &lt;mat-tab label="Forecast"&gt;<br/>            &lt;app-forecast&gt;&lt;/app-forecast&gt;<br/>        &lt;/mat-tab&gt;<br/>        &lt;mat-tab label="UV Index"&gt;<br/>            &lt;app-uv&gt;&lt;/app-uv&gt;<br/>        &lt;/mat-tab&gt;<br/>    &lt;/mat-tab-group&gt;<br/>&lt;/div&gt;</span></pre><p id="02b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，在<code class="fe mz na nb nc b">top-bar.component.ts</code>中，我们有:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="d3ee" class="nh md it nc b gy ni nj l nk nl">import { Component, OnInit } from '<a class="ae ky" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';<br/>import { Store } from '<a class="ae ky" href="http://twitter.com/ngrx/store" rel="noopener ugc nofollow" target="_blank">@ngrx/store</a>';<br/>import { SET_LOCATION } from '../location-reducer';<br/>import { NgForm } from '<a class="ae ky" href="http://twitter.com/angular/forms" rel="noopener ugc nofollow" target="_blank">@angular/forms</a>';</span><span id="ebe5" class="nh md it nc b gy nm nj l nk nl"><a class="ae ky" href="http://twitter.com/Component" rel="noopener ugc nofollow" target="_blank">@Component</a>({<br/>  selector: 'app-top-bar',<br/>  templateUrl: './top-bar.component.html',<br/>  styleUrls: ['./top-bar.component.css']<br/>})<br/>export class TopBarComponent implements OnInit {<br/>  loc: string;</span><span id="f178" class="nh md it nc b gy nm nj l nk nl">constructor(private store: Store&lt;any&gt;) { }</span><span id="19ed" class="nh md it nc b gy nm nj l nk nl">ngOnInit() {<br/>  }</span><span id="87b8" class="nh md it nc b gy nm nj l nk nl">  search(searchForm: NgForm) {<br/>    if (searchForm.invalid) {<br/>      return;<br/>    }<br/>    this.store.dispatch({ type: SET_LOCATION, payload: this.loc });<br/>  }</span><span id="cc7a" class="nh md it nc b gy nm nj l nk nl">}</span></pre><p id="dd64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">top-bar.component.html</code>中，我们有:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="444d" class="nh md it nc b gy ni nj l nk nl">&lt;mat-toolbar&gt;<br/>  &lt;span id='title'&gt;Weather App&lt;/span&gt;<br/>  &lt;form (ngSubmit)='search(searchForm)' #searchForm='ngForm'&gt;<br/>    &lt;mat-form-field class="form-field"&gt;<br/>      &lt;input matInput placeholder="Search Location" [(ngModel)]='loc' #lo='ngModel' name='lo' required type='text'<br/>        autocomplete="off"&gt;<br/>      &lt;mat-error *ngIf="lo.invalid &amp;&amp; (lo.dirty || lo.touched)"&gt;<br/>        &lt;span *ngIf='lo.errors.required'&gt;<br/>          Location is required.<br/>        &lt;/span&gt;<br/>      &lt;/mat-error&gt;<br/>    &lt;/mat-form-field&gt;<br/>    &lt;button mat-button type='submit'&gt;Search&lt;/button&gt;<br/>  &lt;/form&gt;<br/>&lt;/mat-toolbar&gt;</span></pre><p id="eb4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">top-bar.component.css</code>中，我们有:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="3f6a" class="nh md it nc b gy ni nj l nk nl">#title{<br/>    margin-right: 30px;<br/>}</span><span id="9b3c" class="nh md it nc b gy nm nj l nk nl">.mat-form-field{<br/>    font-size: 13px;<br/>}</span><span id="0960" class="nh md it nc b gy nm nj l nk nl">.mat-button{<br/>    height: 33px;<br/>}</span><span id="5a46" class="nh md it nc b gy nm nj l nk nl">.mat-toolbar{<br/>    background-color: green;<br/>    color: white;<br/>}</span><span id="5062" class="nh md it nc b gy nm nj l nk nl">.mat-error, .mat-form-field-invalid .mat-input-element, .mat-warn .mat-input-element{<br/>    color: white !important;<br/>    border-bottom-color: white !important;<br/>}</span><span id="b2d6" class="nh md it nc b gy nm nj l nk nl">.mat-focused .placeholder{<br/>    color: white;<br/>}</span><span id="b0f0" class="nh md it nc b gy nm nj l nk nl">::ng-deep .form-field.mat-form-field-appearance-legacy .mat-form-field-underline,<br/>.form-field.mat-form-field-appearance-legacy .mat-form-field-ripple,<br/>.form-field.mat-form-field-appearance-legacy.mat-focused<br/>    .mat-form-field-underline,<br/>.form-field.mat-form-field-appearance-legacy.mat-focused<br/>    .mat-form-field-ripple {<br/>    background-color: white !important;<br/>    border-bottom-color: white !important;<br/>}</span><span id="991c" class="nh md it nc b gy nm nj l nk nl">/** Overrides label color **/<br/>::ng-deep .form-field.mat-form-field-appearance-legacy .mat-form-field-label,<br/>.form-field.mat-form-field-appearance-legacy.mat-focused<br/>    .mat-form-field-label {<br/>    color: white !important;<br/>    border-bottom-color: white !important;<br/>}</span><span id="492d" class="nh md it nc b gy nm nj l nk nl">/** Overrides caret &amp; text color **/<br/>::ng-deep .form-field.mat-form-field-appearance-legacy .mat-input-element {<br/>    caret-color: white !important;<br/>    color: white !important;<br/>    border-bottom-color: white !important;<br/>}</span><span id="559a" class="nh md it nc b gy nm nj l nk nl">::ng-deep .mat-form-field-underline, ::ng-deep .mat-form-field-ripple {<br/>    background-color: white !important;<br/>}</span></pre><p id="2558" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们给顶栏添加一些颜色。</p><p id="7aeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">style.css</code>中，我们添加:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="9db6" class="nh md it nc b gy ni nj l nk nl">/* You can add global styles to this file, and also import other style files */<br/><a class="ae ky" href="http://twitter.com/import" rel="noopener ugc nofollow" target="_blank">@import</a> "~<a class="ae ky" href="http://twitter.com/angular/material" rel="noopener ugc nofollow" target="_blank">@angular/material</a>/prebuilt-themes/indigo-pink.css";<br/>body{<br/>    margin: 0px;<br/>    font-family: 'Roboto', sans-serif;<br/>}</span><span id="3023" class="nh md it nc b gy nm nj l nk nl">.center{<br/>    text-align: center;<br/>}</span><span id="71a4" class="nh md it nc b gy nm nj l nk nl">table{<br/>    width: 100%<br/>}</span></pre><p id="b761" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们导入材质设计主题进行造型的地方。在<code class="fe mz na nb nc b">index.html</code>中，让我们添加以下代码，这样我们就可以使用我们指定的Roboto字体:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2a7b" class="nh md it nc b gy ni nj l nk nl">&lt;link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"&gt;</span></pre><p id="f91c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意我们有这个:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="d4d6" class="nh md it nc b gy ni nj l nk nl">search(searchForm: NgForm) {<br/>  if (searchForm.invalid) {<br/>    return;<br/>  }<br/>  this.store.dispatch({ type: SET_LOCATION, payload: this.loc });<br/>}</span></pre><p id="4ba6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是搜索发生的地方。通过在商店中发送关键字，搜索关键字在整个应用程序中传播。无论我们在哪里看到…</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="2526" class="nh md it nc b gy ni nj l nk nl">this.loc$ = store.pipe(select('loc'));<br/>this.loc$.subscribe(loc =&gt; {<br/>  this.loc = loc;<br/>})</span></pre><p id="3bf5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">…我们从flux store订阅最新的搜索关键字。我们不必担心在应用程序中传递数据来传播搜索关键字。这类似于下面的块:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="646f" class="nh md it nc b gy ni nj l nk nl">this.loc$ = store.pipe(select('loc'));<br/>this.loc$.subscribe(loc =&gt; {<br/>  this.loc = loc;<br/>  this.searchWeather(loc);<br/>})</span></pre><p id="14cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将关键字发送到服务函数，该函数根据我们输入的关键字搜索天气数据。</p><p id="610c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何以<code class="fe mz na nb nc b">mat</code>开头的都是有棱角的材质小部件。他们都是有风格的，所以我们不需要自己动手。</p><p id="605f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mz na nb nc b">app.module.ts</code>中，我们将现有代码替换为:</p><pre class="kj kk kl km gt nd nc ne nf aw ng bi"><span id="4236" class="nh md it nc b gy ni nj l nk nl">import { BrowserModule } from '<a class="ae ky" href="http://twitter.com/angular/platform-browser" rel="noopener ugc nofollow" target="_blank">@angular/platform-browser</a>';<br/>import { NgModule } from '<a class="ae ky" href="http://twitter.com/angular/core" rel="noopener ugc nofollow" target="_blank">@angular/core</a>';</span><span id="9519" class="nh md it nc b gy nm nj l nk nl">import { AppRoutingModule } from './app-routing.module';<br/>import { AppComponent } from './app.component';<br/>import { BrowserAnimationsModule } from '<a class="ae ky" href="http://twitter.com/angular/platform-browser" rel="noopener ugc nofollow" target="_blank">@angular/platform-browser</a>/animations';<br/>import {<br/>  MatButtonModule,<br/>  MatToolbarModule,<br/>  MatInputModule,<br/>  MatTabsModule,<br/>  MatCardModule,<br/>  MatDividerModule,<br/>  MatListModule<br/>} from '<a class="ae ky" href="http://twitter.com/angular/material" rel="noopener ugc nofollow" target="_blank">@angular/material</a>';<br/>import { HomePageComponent } from './home-page/home-page.component';<br/>import { StoreModule } from '<a class="ae ky" href="http://twitter.com/ngrx/store" rel="noopener ugc nofollow" target="_blank">@ngrx/store</a>';<br/>import { locationReducer } from './location-reducer';<br/>import { TopBarComponent } from './top-bar/top-bar.component';<br/>import { FormsModule } from '<a class="ae ky" href="http://twitter.com/angular/forms" rel="noopener ugc nofollow" target="_blank">@angular/forms</a>';<br/>import { WeatherService } from './weather.service';<br/>import { CurrentWeatherComponent } from './current-weather/current-weather.component';<br/>import { ForecastComponent } from './forecast/forecast.component';<br/>import { UvComponent } from './uv/uv.component';<br/>import { AlertsComponent } from './alerts/alerts.component';<br/>import { HttpClientModule } from '<a class="ae ky" href="http://twitter.com/angular/common" rel="noopener ugc nofollow" target="_blank">@angular/common</a>/http';</span><span id="b20c" class="nh md it nc b gy nm nj l nk nl"><a class="ae ky" href="http://twitter.com/NgModule" rel="noopener ugc nofollow" target="_blank">@NgModule</a>({<br/>  declarations: [<br/>    AppComponent,<br/>    HomePageComponent,<br/>    TopBarComponent,<br/>    CurrentWeatherComponent,<br/>    ForecastComponent,<br/>    UvComponent,<br/>    AlertsComponent<br/>  ],<br/>  imports: [<br/>    BrowserModule,<br/>    AppRoutingModule,<br/>    BrowserAnimationsModule,<br/>    MatButtonModule,<br/>    MatToolbarModule,<br/>    StoreModule.forRoot({<br/>      loc: locationReducer<br/>    }),<br/>    FormsModule,<br/>    MatInputModule,<br/>    MatTabsModule,<br/>    MatCardModule,<br/>    HttpClientModule,<br/>    MatDividerModule,<br/>    MatListModule<br/>  ],<br/>  providers: [<br/>    WeatherService<br/>  ],<br/>  bootstrap: [AppComponent]<br/>})<br/>export class AppModule { }</span></pre><p id="1c8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">包括角度材料和我们在主应用程序模块中编写的代码。</p><h1 id="423d" class="mc md it bd me mf nn mh mi mj no ml mm jz np ka mo kc nq kd mq kf nr kg ms mt bi translated">结果</h1><p id="acbb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">最后，我们有:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/ef4169d7d8895d762278f7173f367794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_CJWuD14625k2w1iDTKViw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/fa25852ce2fb03587889d1ef8ab44e98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EhBgZ84tJDJtFlJTIWvILw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/28a35cbae018a7e4bb9c74fa2a70926f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2dXsHllH-ZreSqZcq2j5A.png"/></div></div></figure></div></div>    
</body>
</html>