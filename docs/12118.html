<html>
<head>
<title>Python Shorts — Alphaflip Game</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蟒蛇短裤— Alphaflip游戏</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/python-shorts-alphaflip-game-68cd0fb531dc?source=collection_archive---------9-----------------------#2022-05-12">https://betterprogramming.pub/python-shorts-alphaflip-game-68cd0fb531dc?source=collection_archive---------9-----------------------#2022-05-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d360" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">这是一个简单的基于Python文本的游戏，玩起来很有趣，也很有挑战性。</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/133b8c311d5f009cd3b4cce8838a8a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*etigujAQ2-YTHcZZ"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">苏珊·霍尔特·辛普森在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="4803" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果有人记得老式的TRS-80电脑，以及你可以从磁带上下载的CLOAD杂志程序，你可能会在很久很久以前，在一个遥远的星系里，玩一个我发明的游戏。嗯，我感觉是这样的。使用非常粗糙的图形，我创造了一个小UFO，它会在一排字母表字母上方快速移动，根据命令交换它们的顺序，直到字母表都恢复正常。</p><h2 id="f231" class="lw lx it bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated"><strong class="ak"> <em class="ki">但那是当时，这是现在。</em> </strong></h2><p id="3409" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">我决定用Python来恢复这个游戏，事实证明这样做很简单也很有趣。让我们看看这个游戏的完整代码清单，然后我会解释它的一些有用的部分，并展示一个游戏的例子。</p><h2 id="4376" class="lw lx it bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">alphaflip.py源代码</h2><pre class="kk kl km kn gt mu mv mw mx aw my bi"><span id="d233" class="lw lx it mv b gy mz na l nb nc">from random import *</span><span id="3402" class="lw lx it mv b gy nd na l nb nc">game_size = 7<br/>alpha = [chr(c + 97) for c in range(game_size)]<br/>goal = alpha.copy()</span><span id="fc51" class="lw lx it mv b gy nd na l nb nc">shuffle(alpha)<br/>score = 0</span><span id="42f8" class="lw lx it mv b gy nd na l nb nc">while alpha != goal:<br/>    print(f"\nScore: {score}\n{' '.join(alpha)}")<br/>    two_chars = input("Enter two letters for a flip: ")<br/>    two_chars = two_chars.strip().lower()<br/>    i = alpha.index(two_chars[0])<br/>    j = alpha.index(two_chars[1])<br/>    if i &gt; j:<br/>        i, j = j, i<br/>    score += j - i + 1<br/>    while i &lt; j:<br/>        alpha[i], alpha[j] = alpha[j], alpha[i]<br/>        i += 1<br/>        j -= 1</span><span id="9dde" class="lw lx it mv b gy nd na l nb nc">print(f"\nWinner! Score: {score}")</span></pre><h2 id="be50" class="lw lx it bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">你准备迎接多大的挑战？</h2><p id="28da" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">如图所示，<code class="fe ne nf ng mv b">game_size</code>被设置为7，因此<code class="fe ne nf ng mv b">alpha</code>列表由字母表的前7个字符“a”到“g”组成。这是一个有趣且合理的游戏，但是如果你敢的话，你可以将<code class="fe ne nf ng mv b">game_size</code>设为26。</p><h2 id="52ed" class="lw lx it bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">一些代码注释</h2><p id="a819" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">大多数Python游戏都引入了random模块来保持游戏之间的混洗或随机化。这解释了第一行。</p><p id="819a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">根据<code class="fe ne nf ng mv b">game_size</code>，名为<code class="fe ne nf ng mv b">alpha</code>的列表由字母表的前几个字母填充。列表理解使得建立这个列表非常简洁和容易。</p><p id="f41d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">名为<code class="fe ne nf ng mv b">alpha</code>的列表被复制到名为<code class="fe ne nf ng mv b">goal</code>的第二个列表中。复制Python列表和其他对象时要小心。例如，如果列表包含其他列表或对象，您可能无法获得完整的副本。<code class="fe ne nf ng mv b">copy()</code>操作在这里工作得很好，但是总是要考虑<code class="fe ne nf ng mv b">deepcopy()</code>是否更安全。如果你只是简单地设置<code class="fe ne nf ng mv b">goal = alpha</code>，两个列表都会引用内存中相同的条目，这会立刻导致问题。</p><p id="225b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">索引变量<code class="fe ne nf ng mv b">i</code>和<code class="fe ne nf ng mv b">j</code>通过查找用户输入的两个字符在列表中的位置来设置。列表方法<code class="fe ne nf ng mv b">index()</code>找到这些位置。</p><h2 id="292d" class="lw lx it bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">While循环</h2><p id="a48d" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">所有剩下的代码行，除了最后一行，都会导致程序打印到目前为止的分数，然后要求一系列字母颠倒顺序。重复这个过程，直到所有的字母都按正确的顺序排列，这时最后一行代码让你知道你是赢家，并显示你的最终得分。分数越小，你吹牛的权利就越大。</p><h2 id="2219" class="lw lx it bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">洗牌，F弦，和交换，哦，我的天！</h2><p id="701b" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">使用random模块的<code class="fe ne nf ng mv b">shuffle()</code>方法，可以将一个列表随机打乱。我的程序在开始时调用<code class="fe ne nf ng mv b"> shuffle()</code>,在名为<code class="fe ne nf ng mv b">alpha</code>的列表中打乱字母顺序。</p><p id="9e85" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这两个<code class="fe ne nf ng mv b">print</code>命令使用f字符串作为高效、强大、易读的代码来显示游戏进行过程中的中间和最终结果。我对f弦如此着迷，以至于我写了一整篇关于这个主题的文章。</p><p id="f8a3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">Python的一个很酷的特性是如何在一个命令中交换两个变量。例如，要交换两个变量的内容，只需将它们相互赋值，就像这样:<code class="fe ne nf ng mv b">x,y = y,x</code>。这项技术在程序中使用了两次，将索引按顺序交换，并随着游戏的进行交换<code class="fe ne nf ng mv b">alpha</code>中的字母对。</p><h2 id="be78" class="lw lx it bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">一种新的得分方式</h2><p id="fabb" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">在我最初的TRS-80游戏中，我计算翻转的次数来提供分数。但事实证明，给游戏打分的一个更好的方法是将翻转的角色总数相加。这就要求你提前做好计划，想出一个策略来有效地将这些信件分类，使它们井然有序。试试看，你会很快明白我的意思。</p><h2 id="3bbd" class="lw lx it bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">游戏示例</h2><p id="2d20" class="pw-post-body-paragraph la lb it lc b ld mp ju lf lg mq jx li lj mr ll lm ln ms lp lq lr mt lt lu lv im bi translated">下面是一个示例游戏，游戏大小设置为7。在这个例子中，我玩了几个游戏来把我的分数降到10分。我最常得分接近21。你能打败10吗？</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/bbce481446467ad3df99059ce80b4a9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*UbtKC18Po4ruET17fm5Rkg.png"/></div></figure></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><pre class="kk kl km kn gt mu mv mw mx aw my bi"><span id="e340" class="lw lx it mv b gy mz na l nb nc"><strong class="mv iu">Want to Connect? </strong></span><span id="9ff3" class="lw lx it mv b gy nd na l nb nc">John is the author of <a class="ae kz" href="https://amzn.to/3k4O39j" rel="noopener ugc nofollow" target="_blank">Python for Numworks</a> , <a class="ae kz" href="https://amzn.to/3mHK0Br" rel="noopener ugc nofollow" target="_blank">Python for OpenSCAD</a>, <a class="ae kz" href="https://read.amazon.com/kp/embed?asin=B09DJ7MRDX&amp;preview=newtab&amp;linkCode=kpe&amp;ref_=cm_sw_r_kb_dp_Z6AHQNW2MQBZHCNKC38G&amp;tag=solarproud-20" rel="noopener ugc nofollow" target="_blank">Python for the TI-Nspire CX II</a>, <a class="ae kz" href="https://read.amazon.com/kp/embed?asin=B09GJMBDMF&amp;preview=newtab&amp;linkCode=kpe&amp;ref_=cm_sw_r_kb_dp_Z6AHQNW2MQBZHCNKC38G&amp;tag=solarproud-20" rel="noopener ugc nofollow" target="_blank">Python for the TI-84 Plus CE Python calculator</a>, <a class="ae kz" href="https://amzn.to/3mgX0js" rel="noopener ugc nofollow" target="_blank">Python for CASIO Calculators</a>, and <a class="ae kz" href="http://johnclarkcraig.com/" rel="noopener ugc nofollow" target="_blank">many other titles</a>.</span></pre></div></div>    
</body>
</html>