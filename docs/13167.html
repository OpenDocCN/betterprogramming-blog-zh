<html>
<head>
<title>Use Conventional Commit Messages to Improve Team Communication</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用传统的提交消息来改善团队沟通</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/use-conventional-commit-messages-to-improve-team-communication-4c7d9cc8f939?source=collection_archive---------10-----------------------#2022-08-03">https://betterprogramming.pub/use-conventional-commit-messages-to-improve-team-communication-4c7d9cc8f939?source=collection_archive---------10-----------------------#2022-08-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="433e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用wdyd和其他平台</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2a760f6a7817e90c7ad3bf22c9b78c1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sYvXOKKiqDAGVo7J"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@juniorferreir_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">久尼尔·费雷拉</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="2eda" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时，当在团队或开源组织中工作时，您可能会拼错消息或在存储库的提交中出错。这些错误会在大型产品或技术堆栈的代码库中传播。</p><p id="e997" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对我来说，在开发一个项目、一个产品，甚至是开发人员为开发人员编写的实用工具时，在编码方面做到完全透明，并具有交流性和描述性，这真的很重要。</p><p id="21f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将讨论常规提交，什么是重要的，以及如何编写一个好的提交消息来完全控制您的代码库。</p><p id="e3da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我已经创建了一个简单的项目来帮助新开发人员/学生在他们自己的或专业的项目中接近传统的提交。</p><h1 id="7b1f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">什么是常规提交？</h1><p id="f0f4" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">拥有可读的人类提交消息是一个规范。它为创建显式提交历史提供了一组简单的规则，方法是声明范围、关联问题/故事/bug，并在提交的主题/消息或页脚中添加一些关键字。</p><p id="3c2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一个提交消息的示例，其中包含描述和中断更改页脚:</p><blockquote class="mp mq mr"><p id="f0f9" class="kw kx ms ky b kz la jr lb lc ld ju le mt lg lh li mu lk ll lm mv lo lp lq lr ij bi translated">特点:允许提供的配置对象扩展其他配置</p></blockquote><h1 id="3ac1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么要实现传统的提交规则？</h1><p id="5035" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在编码中更具描述性会给你带来以下好处:</p><ul class=""><li id="d015" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">您可以在您的项目上自动生成优秀的变更日志，并从语义上确定版本变动</li><li id="7f6c" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">通过使用一些基本的关键字(<code class="fe nk nl nm nn b">feat</code>、<code class="fe nk nl nm nn b">chore</code>、<code class="fe nk nl nm nn b">revert</code>等)，可以更容易地确定团队变化的性质。…)</li><li id="e947" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">通过使用hashtags，您可以触发工作流过程(例如关闭问题或故事)</li><li id="bcf8" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">让第三方人员更容易加入团队，这样他们就可以在较低的入职成本后开始做出贡献</li></ul><h1 id="9987" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Wdyd如何工作</h1><p id="8539" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">npm包wdyd是作为一个支持和实用工具创建的，目的是试验传统的提交标准并在您的项目中实现它。对于软件开发行业的新手也比较友好。</p><p id="63c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">节点脚本通过接受有价值的用户输入来复制和格式化消息。它有两种模式:手动和交互式。</p><p id="39e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要开始安装，您需要使用以下命令全局安装软件包:</p><blockquote class="no"><p id="f033" class="np nq iq bd nr ns nt nu nv nw nx lr dk translated">npm i -g wdyd</p></blockquote><h1 id="b3d1" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw ny jx me jz nz ka mg kc oa kd mi mj bi translated">对话方式</h1><p id="e49d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">通过使用inquirer包，用户将被提示一些关于其更改性质的问题，通过选择类型，实用程序将一步一步地创建一个提交消息。对于第一次使用交互模式的人来说，处理这种消息是很容易的。</p><p id="5e8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些问题将是:</p><ul class=""><li id="59dc" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">选择一个适合您的变化。你做了什么？(强制)</li><li id="07cb" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">你关注的范围是什么？(强制)</li><li id="3f1e" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">用命令式的方式描述你的改变(强制性)</li><li id="9e71" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">包括改变的动机，并与之前的行为进行对比</li><li id="c98b" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">页脚应该包含任何关于重大变更的信息，也是引用GitHub问题的地方</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/d4bae0e3a0c4d7dde3724d7c10db5a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M2Bocdgvv0jG-Q_D"/></div></div></figure><h1 id="ddc5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">手控式</h1><p id="d0fe" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">是为更多的中高级开发人员准备的(是的，没有人应该停止学习)。在这种情况下，您可以运行<code class="fe nk nl nm nn b"><em class="ms">wdyd -h</em></code>来获取关于您可以运行的命令的所有信息。在下图中，您可以看到可以运行的可能命令列表:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/8eed0126da6e6f307d0c3bbfb5ddc9c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bWOWn63jEsNRnLek"/></div></div></figure><p id="7afc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以运行以下命令:</p><blockquote class="no"><p id="27e1" class="np nq iq bd nr ns nt nu nv nw nx lr dk translated">wdyd e2e“登录页面测试”“在测试的第34个问题之后，我们现在覆盖了93%的代码”</p></blockquote><p id="9675" class="pw-post-body-paragraph kw kx iq ky b kz od jr lb lc oe ju le lf of lh li lj og ll lm ln oh lp lq lr ij bi translated">在您的登录页面上提交一个链接到#34问题的e2e实现。</p><h1 id="a605" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">如何编写一个好的提交消息</h1><p id="2adf" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">您可以在<a class="ae kv" href="https://www.conventionalcommits.org/en/v1.0.0/" rel="noopener ugc nofollow" target="_blank">传统提交网站</a>上获得完整的规范，但是在编写提交消息时，这里有一些重要的提示需要记住。</p><p id="7949" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">任何提交都必须有前缀类型，比如<code class="fe nk nl nm nn b">feat</code>、<code class="fe nk nl nm nn b">fix</code>或<code class="fe nk nl nm nn b">chore</code>，以标识变更的上下文。如果你要在你的代码库中引入一个突破性的改变，你需要在类型后面指定一个<code class="fe nk nl nm nn b">!</code>。</p><p id="9adf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们有一条短消息或一个项目范围与提交中所做的所有变更相关时，应该在前缀单词后的括号内插入一个范围，例如:<code class="fe nk nl nm nn b">feat(signin)</code>或<code class="fe nk nl nm nn b"> fix(product-page)</code>。</p><p id="3c8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们撰写信息时，描述是必不可少的一部分。它应该更具描述性、命令性，并且不要太长。只写一行，像这样:</p><blockquote class="mp mq mr"><p id="c522" class="kw kx ms ky b kz la jr lb lc ld ju le mt lg lh li mu lk ll lm mv lo lp lq lr ij bi translated"><em class="iq">修复:传递可空值时的对象解析问题</em></p></blockquote><p id="7cf8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以在简短描述之后提供更长的提交主体，提供关于代码更改的附加上下文信息，例如:</p><blockquote class="mp mq mr"><p id="83db" class="kw kx ms ky b kz la jr lb lc ld ju le mt lg lh li mu lk ll lm mv lo lp lq lr ij bi translated">该页面出现致命错误，并阻止了用户导航流程。现在，我们正在记录错误，不再阻塞用户流。</p></blockquote><p id="9fb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您的提交中有任何重大变更，比如弃用或deps变更，最好将其作为提交消息的页脚记录下来。使用<code class="fe nk nl nm nn b">BREAKING-CHANGE</code>将有助于突出我们已经改变的东西。例如:</p><blockquote class="mp mq mr"><p id="078a" class="kw kx ms ky b kz la jr lb lc ld ju le mt lg lh li mu lk ll lm mv lo lp lq lr ij bi translated">突破性变化:不可空值现在抛出的只是一个警告消息，而不是致命错误。</p></blockquote><p id="577f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，例如，我们的提交消息应该这样构成:</p><blockquote class="mp mq mr"><p id="749e" class="kw kx ms ky b kz la jr lb lc ld ju le mt lg lh li mu lk ll lm mv lo lp lq lr ij bi translated">搞定！(产品页面):传递可空值时的对象解析问题</p><p id="9c14" class="kw kx ms ky b kz la jr lb lc ld ju le mt lg lh li mu lk ll lm mv lo lp lq lr ij bi translated">该页面返回一个致命错误，阻塞了用户导航流程。现在我们记录错误，不再阻塞用户流。</p><p id="6da5" class="kw kx ms ky b kz la jr lb lc ld ju le mt lg lh li mu lk ll lm mv lo lp lq lr ij bi translated">突破性改变:不可空值现在抛出的只是一个警告信息，而不是致命错误。</p></blockquote><h1 id="b85f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="5aa5" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当在团队中工作或与他人合作时，在我们的代码中有指导方针或规则总是好的，特别是在我们的代码库中，以便更好地交流。</p><p id="4166" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">传统提交被许多人和公司所接受。这个工具是一个简单的实现，可以帮助其他开发人员理解背后的逻辑，并改善他们团队的沟通。</p></div></div>    
</body>
</html>