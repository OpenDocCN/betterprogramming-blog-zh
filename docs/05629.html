<html>
<head>
<title>Introduction to Cypress and Front-End Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Cypress和前端测试简介</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/introduction-to-cypress-and-frontend-testing-aa01a680809c?source=collection_archive---------12-----------------------#2020-07-22">https://betterprogramming.pub/introduction-to-cypress-and-frontend-testing-aa01a680809c?source=collection_archive---------12-----------------------#2020-07-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4ae2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">快速和肮脏的前端测试和Cypress概述</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/be61971feebceeb573e11aed71876c10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J9ySqTytOXZ5Q71P"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">克里斯里德在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="8249" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你是一个刚开始申请工作的新开发人员，你可能已经注意到一些测试知识是许多招聘信息中的常见要求。但是，即使这不是你想要的特定工作的要求，知道如何测试你的申请也是一项很好的技能，可以让你从其他候选人中脱颖而出。</p><p id="c26d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，如果您在JavaScript环境中开发，您将能够使用<a class="ae kv" href="https://www.cypress.io/" rel="noopener ugc nofollow" target="_blank"> Cypress </a>轻松测试您的应用程序。Cypress可以用于各种测试，包括端到端、集成和单元测试。如果你还不知道这些是什么，不要担心。我会先检查那些条款！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="6e81" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">测试类型</h1><p id="d909" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">测试有很多种，但为了节省时间，我将简要介绍一下我注意到的在面试和招聘中最常出现的三种测试:</p><ul class=""><li id="a40f" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">端到端测试:从头到尾测试应用程序流，模拟用户与网站的交互。</li><li id="a5e9" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">单元测试:将应用程序的组件组合在一起进行测试，一次一个，通常有一个输出。</li><li id="ac7c" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">集成测试:通常在单元测试之后执行，这种类型的测试将之前的单元组合起来，作为一个组进行测试。</li></ul><p id="63f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些测试中的每一种都用于验证您的应用程序是否如预期的那样运行，所有这三种测试都可以用Cypress轻松创建。关于测试类型的更多详细信息，我推荐查看本文。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="9d0e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Cypress入门</h1><p id="ecbd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">现在是有趣的部分！安装Cypress很简单，我更喜欢使用npm。只需导航到项目的前端，并在终端中运行以下代码:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="1e9a" class="np ma iq nl b gy nq nr l ns nt">$ npm install cypress --save-dev</span></pre><p id="0408" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想使用不同的方法，你可以在官方文档中找到关于那个<a class="ae kv" href="https://docs.cypress.io/guides/getting-started/installing-cypress.html#System-requirements" rel="noopener ugc nofollow" target="_blank">的更多信息。</a></p><p id="d625" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，你会想要打开柏树。如果您已经使用npm安装了Cypress，您可以运行以下代码行来打开它:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="0495" class="np ma iq nl b gy nq nr l ns nt">$ npx cypress open</span></pre><p id="b25d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你使用另一种方法安装Cypress，你可以在文档中查看打开Cypress <a class="ae kv" href="https://docs.cypress.io/guides/getting-started/installing-cypress.html#Opening-Cypress" rel="noopener ugc nofollow" target="_blank">的不同方法。</a></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8b0a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">写作测试</h1><p id="fb82" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">现在您已经安装并打开了Cypress，您可以开始编写您的第一个测试了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/acc113be1dfe843295eaa309bfa10571.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*kqk1vGfKnC4UfuXhlKtWpQ.png"/></div></figure><p id="6a8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Cypress应该会在安装时自动创建一个<code class="fe nv nw nx nl b">cypress</code>文件夹。在<code class="fe nv nw nx nl b">cypress</code>里面，你应该会找到另一个标签为<code class="fe nv nw nx nl b">integration</code>的文件夹。在这个文件夹中导航并创建一个名为<code class="fe nv nw nx nl b">project_spec.js</code>的文件。这个文件将保存您的第一个测试。</p><p id="fe09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然您已经创建了测试文件，它应该会出现在Cypress测试运行器中。如果你点击这个文件，它应该会自动启动一个新的测试窗口:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/a1e028fd99d325b4f178a998bdcfac87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jaf8eObjJpOia-mWPMgrSw.png"/></div></div></figure><p id="41ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时，您的文件中不会有任何测试，所以它不会做太多。让我们解决这个问题！对于您的第一个测试，我将向您展示如何访问您的网页:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="3025" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，注意测试被包装在两个函数中:一个<code class="fe nv nw nx nl b">describe</code>函数和一个<code class="fe nv nw nx nl b">it</code>函数。<code class="fe nv nw nx nl b">it</code>函数创建一个单独的测试。<code class="fe nv nw nx nl b">describe</code>功能将相关测试组合在一起。</p><p id="aa52" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，实际的“测试”部分在第3行。大多数Cypress测试遵循相同的格式:<code class="fe nv nw nx nl b">cy.action</code>。在这一行，我们只是简单地<em class="ob">访问</em>我们的网站，所以命令自然是<code class="fe nv nw nx nl b">cy.visit</code>。关于Cypress命令的完整列表，<a class="ae kv" href="https://docs.cypress.io/api/commands/" rel="noopener ugc nofollow" target="_blank">查看它们的文档</a>。</p><p id="0120" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您将我的代码复制并粘贴到您的测试文件中，您将会看到Cypress测试运行器以粗体显示了带有下拉箭头的<code class="fe nv nw nx nl b">describe</code>函数的文本，并在其中列出了该函数中的所有测试。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/447ef583c6e865cc78fc9f640326a6a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5dSR8_FLmz2v8YVM_R8vXA.png"/></div></div></figure><p id="ec1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个测试都可能通过或失败，Cypress测试运行程序为发生的每个失败提供了充分的反馈。您还会注意到，测试运行程序记录了通过和失败的次数，以及运行所有测试所花费的时间。</p><p id="1818" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将再看一个测试示例——确保正确的信息显示在页面上:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="0302" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于这个Cypress测试，我们检查我们的页面是否包含一个字符串，所以我将使用<code class="fe nv nw nx nl b">cy.contains</code>。该命令接受一个字符串参数，并在页面上查找该元素。如果找到该元素，它将返回该元素。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/0e13177cbeaa085bff3f6d712fe7896c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GO6rvpzojqoVHGrt3Jge6A.png"/></div></div></figure><p id="db84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">哎呀！结果我们的页面不包含文本<code class="fe nv nw nx nl b">Hello, World</code>，我们的测试失败了。幸运的是，Cypress用红色突出显示了失败的测试，并详细解释了测试失败的原因。即使这个测试失败了，Cypress将继续运行文件中的其余测试。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="000e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="4acc" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这就是我对前端测试和Cypress的快速而粗略的概述。关于Cypress和前端测试还有很多要说的，但希望这给了你一个开始测试的好起点。</p><p id="f1bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>