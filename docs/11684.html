<html>
<head>
<title>Generating Class Diagrams for .Net Core</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为生成类图。网络核心</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/generating-class-diagrams-for-net-core-c4913db9398b?source=collection_archive---------1-----------------------#2022-04-08">https://betterprogramming.pub/generating-class-diagrams-for-net-core-c4913db9398b?source=collection_archive---------1-----------------------#2022-04-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bc47" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在Visual Studio代码中直接使用PlantUML</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/218d540e8ef937c456f57de58175b6f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*-eXmFZsPJojJRNYxFhRbOA.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Visual Studio代码中生成的类图</p></figure><p id="f7e7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">UML类图是记录系统、检查和理解类之间的关系、计划重构以及在团队内部传播知识的一种非常好的方式。</p><p id="6068" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">虽然拥有类图会带来很多好处，但是手动生成它们是一项痛苦而艰巨的任务，幸运的是，我们可以使用工具来自动生成它们</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="32f5" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">Visual Studio类设计器</h1><p id="033d" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">Visual Studio类设计器是一个很棒的非常灵活的生成类图的工具，它允许拖放单个或多个。cs文件直接保存到图中，它会自动同步。cs文件或图中。</p><p id="f98e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如我们所看到的，使用类设计器有许多优点，但不幸的是，它不存在于Visual Studio代码中，甚至在Visual Studio中，它也不支持。网芯。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="0ff9" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">PlantUML</h1><p id="c80e" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">PlantUML 是一个开源工具，允许从纯文本生成许多类型的UML图，它使用一种特定的语言，你可以学习并开始在许多不同的编辑器中创建你的图。</p><p id="c86e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">幸运的是，有许多扩展和插件可以从源代码中自动生成PlantUML，在下一节中，我将展示如何使用C#生成PlantUML和图表。Net核心直接放在Visual Studio代码中。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="783f" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">创建示例类</h1><p id="39e6" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">为了生成图表，我将创建一些组件，如类、接口、枚举、公共和私有属性、构造函数和常量。</p><p id="4abd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我创建这些组件只是为了举例说明生成图工具是如何工作的，所以请不要关注这些类和它们的内容。</p><p id="9d02" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">基类、接口和枚举:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mv"><img src="../Images/45b640419dd76034aca559a8a1c016e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hg7GQAn2JuT9ixy7EkG2dA.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">哺乳动物、狗、猫类和IHunt接口</p></figure><p id="233c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">派生类和文件夹结构:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi na"><img src="../Images/7b8f8f4e2bb3d71bc615abd1668dec14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9PGGS5P_DShTZTUn2mHwFw.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">狗和猫儿童班</p></figure><h1 id="7a17" class="lx ly it bd lz ma nb mc md me nc mg mh jz nd ka mj kc ne kd ml kf nf kg mn mo bi translated">从代码中生成PlantUml</h1><p id="7d67" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">我们可以使用<a class="ae mu" href="https://github.com/pierre3/PlantUmlClassDiagramGenerator" rel="noopener ugc nofollow" target="_blank"> PlantUml图生成器</a>工具从代码中生成PlantUml。</p><p id="7b37" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，通过运行命令<code class="fe ng nh ni nj b">dotnet tool install --global PlantUmlClassDiagramGenerator --version 1.2.4</code>的Nuget包安装工具</p><p id="0b7f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，执行命令来搜索。cs文件并生成。运行这些命令参数的puml文件非常简单，可以在<a class="ae mu" href="https://github.com/pierre3/PlantUmlClassDiagramGenerator#usage" rel="noopener ugc nofollow" target="_blank">工具文档</a>中查看。</p><p id="5414" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该命令将在根目录下生成一个文件夹，其中包含所有。puml单个文件和<code class="fe ng nh ni nj b">include.puml</code>文件，并将它们放在一起。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nk"><img src="../Images/d75f2d6aa4a137a3b91aad3fa15b8b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l6NIliLwMStK5cOfpMkuPA.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">打印日志，生成输出文件夹。puml文件</p></figure><p id="5910" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">或者，您可以使用Visual Studio代码来生成文件，而无需自定义生成过程。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nl"><img src="../Images/a37cfcb314c459e1287ba61d3ef31a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qpHCP05ja68j3onLomvMxQ.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Visual Studio代码生成一个图表选项</p></figure><h1 id="c5c9" class="lx ly it bd lz ma nb mc md me nc mg mh jz nd ka mj kc ne kd ml kf nf kg mn mo bi translated">读取PlantUML文件</h1><p id="549c" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">为了读取PlantUML文件，我们将需要使用<code class="fe ng nh ni nj b"><a class="ae mu" href="https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml" rel="noopener ugc nofollow" target="_blank">vscode/plantuml</a></code>扩展，一旦安装，它将在ide中提供一些选项，用于将<code class="fe ng nh ni nj b">.puml</code>文件导出为图像。</p><p id="839f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">若要安装它，请在Visual Studio代码市场中搜索该扩展:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nm"><img src="../Images/de5678ec2b6107a2a7a4eb4eed934a2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4zSmQU79XheNIsgzV_o0Ng.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">市场中VSCode的PlantUML扩展</p></figure><p id="0de1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，重新加载IDE并选择<code class="fe ng nh ni nj b">PlanUml: Export Workspace Diagrams</code>选项。它将打开一个对话框，询问您想要使用的图像格式，然后生成一个包含所有导出的图表图像的输出文件夹:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nn"><img src="../Images/0905c7dc0c9cbd7215e81d6d435f22eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zNNGRVRS1dHlToNk91iyyA.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">导出工作区图表选项</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nl"><img src="../Images/ff9d0c055bbbb67b0666408eb0f924cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IVgOZKLmVGJbbYKR2SKIwQ.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">图表格式选项</p></figure><p id="ac47" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如我们所看到的，它生成了一个<code class="fe ng nh ni nj b">./out</code>文件夹，其中每个单独的类都有一个图表，而所有的类都在一个单独的图像文件中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nk"><img src="../Images/c3e7a9b12ba99bd07d87e1ecf65611ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4pNgzIuveBxYvfTyJyqwyQ.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">包含所有生成文件和完整类图的文件夹结构</p></figure></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><p id="fc82" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还有许多其他选项我没有在这里介绍，您可以查看工具文档并探索所有其他可用的特性。</p><p id="5083" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请记住，我们不需要将这仅仅局限于C#代码，PlantUML是一个开放源代码的倡议，因此已经存在其他实现来支持其他语言。</p><p id="f09c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我希望这篇文章能帮助你和你的团队生成漂亮有用的类图，感谢你的阅读，下次再见。</p></div></div>    
</body>
</html>