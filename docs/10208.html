<html>
<head>
<title>Mastering the PyCharm Debugger</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握PyCharm调试器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/mastering-the-pycharm-debugger-dd21e2333d51?source=collection_archive---------6-----------------------#2021-12-13">https://betterprogramming.pub/mastering-the-pycharm-debugger-dd21e2333d51?source=collection_archive---------6-----------------------#2021-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b54c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一项值得添加到您的工具包中的技能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fda98204063279a77f23570dbf23007e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wMaulYOE6aIpJgrA"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@hnhmarketing?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">猎人哈利</a>拍摄的照片</p></figure><p id="a7f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">PyCharm在Python IDE领域处于领先地位，原因很明显。JetBrains已经成功地将Python开发所需的所有工具打包在一个应用程序中。一种广泛使用的调试技术是将变量打印到stdout，这已经被许多人接受为一种可行的调试方法，但是将变量打印到stdout是解决所有编程错误的灵丹妙药吗？不这么认为。</p><p id="59c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">PyCharm的调试器够好吗？在我看来，它完美无瑕。我这样说是因为我将讨论支持这一主张的理由。到本文结束时，您将理解什么是调试，它的重要性，并学会最大限度地使用PyCharm的调试器。</p><h1 id="7cc0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">什么是调试？</h1><p id="f3fa" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">调试仅仅意味着从程序中移除错误，但是根据应用程序的复杂性，移除这些错误可能容易也可能困难。与函数和类较少的脚本相比，高度抽象的程序很难调试。不正确的错误处理会增加调试的难度。如果开发人员确信异常会在较高的级别被捕获，那么异常会在较低的级别被引发。这避免了当异常在每一层被捕获并波及到顶层时出现的混乱。此外，引发自定义异常可以提供清晰度。</p><h1 id="8304" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么要调试？</h1><p id="c885" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><strong class="ky ir">因为没有什么是完美的</strong>。开发人员会犯错误。</p><h1 id="a0d3" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">调试器的功能</h1><p id="6410" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">理想的调试器具有以下特性:</p><ol class=""><li id="0e84" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">能够一行一行地执行程序</li><li id="8ffa" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">根据需要添加断点</li><li id="a310" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">能够在程序暂停的当前范围内查看和操作变量</li><li id="3679" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">在整个执行过程中跟踪变量值</li><li id="4e57" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">接口在外壳中执行自定义代码</li></ol><h1 id="5098" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">Python调试的早期阶段</h1><h2 id="e015" class="nd lt iq bd lu ne nf dn ly ng nh dp mc lf ni nj me lj nk nl mg ln nm nn mi no bi translated">物理数据库</h2><p id="011a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated"><a class="ae kv" href="https://docs.python.org/3/library/pdb.html" rel="noopener ugc nofollow" target="_blank"> Pdb </a>是Python内置调试器。它采用基于CLI/程序的方法来调试代码。可以从CLI指示调试器执行下一行或跳到下一个断点。此外，可以通过编程方式添加断点，并将字母用作调试器的命令。</p><p id="dd4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果程序很小，使用pdb应该不成问题。添加断点可以很容易地完成，因为程序很小，所以你不必指示调试器太长时间。不过，Pdb可能会很快变得令人生畏。如果程序很庞大怎么办？调试会变得很有压力，使用print进行调试比添加断点并不断键入命令来引导pdb要好。</p><p id="20a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">pdb缺少的一个东西是GUI，这也是它没有被广泛使用的原因。可视化调试比基于CLI/程序的调试容易得多。</p><h2 id="f196" class="nd lt iq bd lu ne nf dn ly ng nh dp mc lf ni nj me lj nk nl mg ln nm nn mi no bi translated">PyDev</h2><p id="030d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">PyDev是一个基于GUI的调试器。它提供了一个API，ide可以通过这个API使用PyDev的技术，并将调试特性添加到他们的应用程序中。PyDev最初与eclipse集成，并作为“LiClipse”发布给公众。Pydev拥有一个交互式外壳，用户可以根据需要操纵变量。</p><h1 id="272e" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">PyCharm调试器</h1><p id="7e5e" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">PyCharm的调试器建立在PyDev之上，继承了PyDev的所有特性。下面是调试屏幕的快照:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/3d139aec577c7b79ae4253902d972ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7hpVmBTHBWDAcZ77Z5M3LA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">PyCharm的调试窗口</p></figure><p id="1073" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们来理解这个调试窗口的每一部分。</p><h2 id="5dfc" class="nd lt iq bd lu ne nf dn ly ng nh dp mc lf ni nj me lj nk nl mg ln nm nn mi no bi translated">左侧面板</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/75172de14a76d21c2d897858dfd15972.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*E7rVzIyQPpWfeQYs85URbw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">调试窗口的左侧面板</p></figure><p id="55ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该窗口最左侧的面板控制脚本的执行，如启动、重启和停止应用程序，以及查看和删除断点。</p><p id="10c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下描述从上到下映射到突出显示的按钮位置:</p><ol class=""><li id="18bc" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">开始/重启按钮—如果脚本没有运行，它将开始执行。如果脚本正在运行，则停止并重新启动</li><li id="30de" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">配置—在开始执行文件之前设置配置，如设置环境变量、在启动之前运行任务以及从文件重定向输入等</li><li id="53d1" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">继续程序—告诉调试器继续执行并在下一个断点处停止</li><li id="4603" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">停止程序—停止正在运行的脚本</li><li id="3f93" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">查看断点—列出项目中设置的所有活动和非活动断点</li><li id="7588" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">静音断点—静音所有断点(静音所有断点将等同于在没有调试器的情况下执行程序)</li><li id="edc7" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">调试器的附加设置</li><li id="d395" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">“锁定”选项卡—锁定当前调试器选项卡</li></ol><h2 id="3082" class="nd lt iq bd lu ne nf dn ly ng nh dp mc lf ni nj me lj nk nl mg ln nm nn mi no bi translated">上面板</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/2e45b02ecd84e176a98efc2dc88a94d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*PQgIep7e4MHKlXoNMuFqOw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">调试窗口的顶部面板</p></figure><p id="87e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此面板在调试程序时最常用。在这里，用户可以检查变量的值，并在交互式shell中进行操作。顶部面板控件可以进一步分为两个部分。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/feecdbfab80e433f6cfd714b7ffaee1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FfWuDOTYieipMVomrXjMKw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">顶部面板标签和按钮</p></figure><p id="c56e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们来看一下选项卡(以红色突出显示):</p><ol class=""><li id="c090" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">调试器标签-这是用户可以查看程序内部变量设置的区域。pycharm可以识别变量类型，并通过变量名左侧的图标进行提示。用户还可以跟踪添加了断点的线程</li><li id="1dfa" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">控制台选项卡—打开具有自动完成功能的交互式shell。这个贝壳是蟒蛇REPL。这里进行的任何变量操作都会反映在程序执行中</li></ol><p id="c3ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，让我们回顾一下代码步骤按钮(以绿色突出显示):</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/9b0901608235597270f9b8e433e9e4d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*NJ1rqVN2IS3euafCoOediA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">代码导航按钮</p></figure><p id="1212" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从左到右的按钮描述。</p><ol class=""><li id="0d4f" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">单步执行—在当前调用方法中逐行执行代码，跳过任何函数或类实现</li><li id="a0f6" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">单步执行—逐行执行，但不要跳过任何函数或方法实现。进入实现内部，继续逐行执行</li><li id="37ea" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">单步执行我的代码——与单步执行几乎相同，但避免实现从另一个库导入的函数。仅当函数是用户定义的时，才进入实现</li><li id="506b" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">步出—步出当前方法</li><li id="cafd" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">运行到光标处—继续执行，当调试器到达光标所在的行时停止</li></ol><h2 id="26b9" class="nd lt iq bd lu ne nf dn ly ng nh dp mc lf ni nj me lj nk nl mg ln nm nn mi no bi translated">查看变量值内联编辑器</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/9dbe11bd6bdfe88f6082d2cc353e725f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jo6MJdiW2DVlQJDODn32eQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">启用嵌入式视图</p></figure><p id="88eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">变量的内联视图允许用户在编辑器中查看值，而不必在<strong class="ky ir">变量</strong>选项卡中搜索变量。要启用此功能，点击调试窗口左侧面板中的齿轮旋钮图标，并选择<em class="nv">显示内嵌值。</em></p><h2 id="ce54" class="nd lt iq bd lu ne nf dn ly ng nh dp mc lf ni nj me lj nk nl mg ln nm nn mi no bi translated">变量运算</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/32f856369259c9227759ab5cd808f692.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A_xd_OfQd5Y2WNnA0nV5zA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">调试器选项卡中的变量视图</p></figure><p id="37ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然可以在内联中看到变量，但是如果您希望看到远离当前行的变量值，并且必须遍历不同的文件才能看到该值，该怎么办呢？听起来很疯狂，对吧？这正是添加此视图的原因。如图所示，所有变量都显示了它们的类型，如果是iterable，还显示了序列的长度。单击变量名旁边的向右箭头，可以清楚地显示其全部内容。对于熊猫和numpy对象，它们被可视化为添加了注释和颜色的表格。</p><p id="1df9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">右键单击变量会打开一个菜单。通过选择<em class="nv">设定值可以改变变量值。跳转到源代码</em>将用户带到声明变量的那一行。</p><h1 id="ce20" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="05ba" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">这基本上概括了整个pycharm调试器。如果使用得当，您的调试时间可以从几小时减少到几分钟。字面上。剩下唯一要做的事情就是开始使用调试器，并且永远告别<em class="nv"> print </em>。</p><p id="277e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢阅读关于Python及其生态系统的文章，那么就订阅我的邮件列表吧！</p><p id="e560" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你一直读到最后。下次见:)</p></div></div>    
</body>
</html>