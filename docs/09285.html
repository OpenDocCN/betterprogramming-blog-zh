<html>
<head>
<title>How to Call a Serverless Function Or Web API Periodically With iOS Shortcuts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用iOS快捷方式定期调用无服务器功能或Web API</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-call-a-serverless-function-or-web-api-periodically-with-ios-shortcuts-24f3e696c105?source=collection_archive---------1-----------------------#2021-08-06">https://betterprogramming.pub/how-to-call-a-serverless-function-or-web-api-periodically-with-ios-shortcuts-24f3e696c105?source=collection_archive---------1-----------------------#2021-08-06</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="3e8b" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">使用iOS中快捷方式的强大功能自动完成任务</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/753b142af3ae82ab09df8b7cc9f28deb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nEoNUltgtIlkTXhY"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">迪米特里·卡拉斯泰列夫在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="d4cb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">每隔一段时间运行一次无服务器功能或Web API可以通过多种方式实现。但是今天，我想给你看一个免费的选项，如果你有iPhone或者iPad的话。就是快捷app。</p><p id="db1e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">运行iOS 13.1及更高版本的所有iPhone、iPad或iPod touch都可以使用该快捷应用。如果你没有苹果设备，向下滚动到通过不同的服务进行相同操作的替代方法。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="1077" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">运行基于时间的操作</h1><p id="c6e3" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">我不知道你是怎么想的，但是每当我在做一个副业项目时，我觉得有必要一天或一小时运行一次API或无服务器功能。</p><p id="326d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">但我并不特别欣赏设置cron工作。因为我在Netlify上运行所有的应用程序，所以我没有任何地方可以这样做。</p><p id="93f5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">所以我想，我看到我可以通过iOS快捷方式应用程序调用一个Web API。让我们实现自动化吧！</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="052f" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">我的使用案例</h1><p id="6881" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">我正在用Angular、Angular Material、无服务器功能和<a class="ae kz" href="https://upstash.com/" rel="noopener ugc nofollow" target="_blank">Upstash</a>(Redis的无服务器数据库)构建一个仪表盘。对于这个仪表板，我使用的数据来自“我们的数据世界”，这是开源的。</p><p id="1703" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">由于从他们的库加载大量数据需要很长时间，我想让我们通过Upstash将数据保存到Redis，这样数据加载会更快。</p><p id="9d39" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">更新信息需要大量时间，所以我的目标是为Netlify创建一个无服务器功能，每天用快捷方式应用程序调用它。</p><blockquote class="na nb nc"><p id="f0bb" class="la lb nd lc b ld le jv lf lg lh jy li ne lk ll lm nf lo lp lq ng ls lt lu lv in bi translated">PS:我现在已经运行了几天了，这真是太好了。</p></blockquote><p id="8c34" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">例如，checkout可以在下面找到我的无服务器函数，以了解我是如何创建它的:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nh ni l"/></div></figure></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="f3d9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这篇文章中，我不会深入探讨无服务器函数的创建，但是如果你想了解更多关于无服务器函数以及如何构建它们，请查看下面的链接。</p><ul class=""><li id="5269" class="nj nk iu lc b ld le lg lh lj nl ln nm lr nn lv no np nq nr bi translated"><a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/4-steps-to-get-started-with-serverless-functions-on-netlify-a6942bf071ca">在Netlify上开始使用无服务器功能的4个步骤</a></li><li id="744b" class="nj nk iu lc b ld ns lg nt lj nu ln nv lr nw lv no np nq nr bi translated"><a class="ae kz" href="https://medium.com/how-to-build-a-serverless-webshop/how-to-build-a-serverless-webshop-3dabd13b0ac7" rel="noopener">如何建立一个无服务器的网上商店</a></li></ul></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="9a9a" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">如何定期自动调用Web API</h1><h2 id="0e62" class="nx me iu bd mf ny nz dn mj oa ob dp mn lj oc od mp ln oe of mr lr og oh mt oi bi translated">1.设置快捷方式</h2><p id="a02a" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">首先，让我们打开快捷方式应用程序，点击+号创建一个新的快捷方式。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/70d545ab91f8b2ba61f531290ad0b1c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z6gbXiiIKBIil6ibS7QoCQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="42a1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">点击“添加动作”并搜索“URL”，点击后添加想要调用的API URL。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/a9d8727ade4437f888d56ea1ab88505a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wkfj4EUtoiDo9YAZNCJhWg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="52fa" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我粘贴了一个API的URL。要选择我们想要的请求类型，我们必须点击“获取URL的内容”(如果它在您的设备上不可见，您可以在底部的输入字段中搜索)。</p><p id="9209" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以选择获取、发布、上传、修补和删除。如果你愿意，你可以在需要的时候发送一些头。</p><p id="6783" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">同时，尝试通过按底部的“播放”按钮来创建请求。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/da26b46208a3d40d5e8bb15e4d46fbc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KtWCQ0by6Cqo4kDyT-oLPg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="4e4c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在发出请求后，我们希望有一个通知告诉我们什么时候完成。点击底部输入字段搜索“显示通知”，找到后按下它。</p><p id="f2cc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以在这里输入任何你喜欢的东西。对于这个例子，我做了“收到的帖子URL”。在这种情况下，URL是我们在顶部设置的URL。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/f319eaa06a8abd3ff6b53a3ba4238528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*77ujA6STZKiKQDsZihBgRQ.png"/></div></div></figure><p id="7443" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们按下底部的“播放”按钮来测试我们的快捷方式:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ok"><img src="../Images/57d52d49ee6b227a2ad76d1177481310.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*4hNtv4_NhMg_fvVYi2EAtQ.gif"/></div></figure></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="c1e8" class="nx me iu bd mf ny nz dn mj oa ob dp mn lj oc od mp ln oe of mr lr og oh mt oi bi translated">自动化快捷方式</h2><p id="54fe" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">既然我们已经证明了我们的快捷方式是可行的，我们就可以自动运行它，每天、每周或者任何时候运行它。</p><p id="e446" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">打开“自动化”按钮，您可以在快捷方式应用程序的主屏幕底部找到它，然后单击“创建个人自动化”。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/2c1e565d874437ccf8238b2f8e5ac320.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oawje5hmFb4aDM_QR4lMDw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="980e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">单击“一天中的时间”,并选择您希望运行此自动化的时间。选择权在你！</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/c1022f97c0cd6f1670ffe7c7cec2e9ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0SF0tBieyzInFTG-H61p7Q.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="c099" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">按顶部的“下一步”，然后单击“添加操作”。现在找到“运行快捷方式”动作并按下它。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/7466b1a39bdb8ee804b4a8f64c8d2e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gLPVRNx5cRM8YhwHLkd2Tg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="ff9e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在我们必须选择我们之前创建的“调用Web API”快捷方式。按“快捷方式”，搜索您的快捷方式并按下它。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/df198e59c6904b47cca11998a1746a92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D-ZCzkhk1zuDPJxofrn_ig.png"/></div></div></figure><p id="aa60" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在我的情况下，这种自动化将在每天15:10执行，这太棒了！</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/8412a4ebae60d7f2709581735c017e6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tyx7O3vR8qY7YFlz4iPRiA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="1d03" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">使用Shortcuts应用程序的最大好处是一切都可以在我的设备上本地运行。只需调用“嗨Siri，调用Web API”，快捷方式就可以了！</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="b06e" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">Github动作作为自动化Web API调用的替代</h1><p id="7d3d" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">如果你没有苹果设备，你就不能使用快捷方式应用。我对提供相同功能的Android不够熟悉，但我认为Github Actions是自动化Web API或无服务器函数调用的一个很好的选择。</p><p id="d4a5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">由于Github Actions提供的不仅仅是自动化的Web API调用，我强烈推荐阅读由<a class="ae kz" href="https://twitter.com/JasonEtco" rel="noopener ugc nofollow" target="_blank">杰森·埃特科维奇</a>撰写的教程“<a class="ae kz" href="https://jasonet.co/posts/scheduled-actions/" rel="noopener ugc nofollow" target="_blank">按计划</a>运行你的Github Actions工作流程”。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="1409" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">结论</h1><p id="8996" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">除了使用iOS快捷方式或Github操作之外，可能还有许多其他方法来自动化Web API或无服务器函数调用。但最重要的是你用你觉得最容易用的。</p><p id="75b8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对我来说，在我的设备上免费做这件事非常重要——这就是我使用快捷方式应用程序的原因。如果你有其他建议，请分享。我也喜欢把它们添加到帖子里</p><p id="2fca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">快乐的编码和自动化。</p><blockquote class="na nb nc"><p id="7d57" class="la lb nd lc b ld le jv lf lg lh jy li ne lk ll lm nf lo lp lq ng ls lt lu lv in bi translated">关于快捷方式应用程序的更多效率提示，请查看来自<a class="ol om ep" href="https://medium.com/u/728e7aeac31a?source=post_page-----24f3e696c105--------------------------------" rel="noopener" target="_blank">马尼什·贾恩</a>的“<a class="ae kz" href="https://medium.com/macoclock/5-cool-tricks-your-iphones-shortcuts-app-can-do-fcdcd4fe153e" rel="noopener">iPhone惊人的效率快捷方式</a></p></blockquote></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="2b17" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">阅读更多我的JavaScript和TypeScript故事</h1><div class="on oo gq gs op oq"><a href="https://blog.byrayray.dev/list/latest-javascript-typescript-stories-0358ad941491" rel="noopener  ugc nofollow" target="_blank"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">中等</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">编辑描述</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">blog.byrayray.dev</p></div></div></div></a></div></div></div>    
</body>
</html>