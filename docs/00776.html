<html>
<head>
<title>Cross-Platform Apps With Electron and React: Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有Electron和React的跨平台应用程序:第2部分</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/cross-platform-apps-with-electron-and-react-part-2-3307ae61014a?source=collection_archive---------10-----------------------#2019-07-11">https://betterprogramming.pub/cross-platform-apps-with-electron-and-react-part-2-3307ae61014a?source=collection_archive---------10-----------------------#2019-07-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a49d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">桌面和跨平台风格</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a9d57565fad197bffc592ef5bb8a9a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7TBrIEZVNo2LfPQqqR8Xw.png"/></div></div></figure><p id="62dc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<a class="ae lq" href="https://medium.com/better-programming/cross-platform-apps-with-electron-and-react-part-1-68d6b6be4c1b" rel="noopener">上一篇文章(第一部分)</a>中，我们基于<a class="ae lq" href="https://developer.gnome.org/gtk3/stable/gtk3-demo-application.html" rel="noopener ugc nofollow" target="_blank"> GTK演示应用</a>编写了一个<a class="ae lq" href="https://electronjs.org/" rel="noopener ugc nofollow" target="_blank">电子</a>应用。我们创建了应用程序的基本结构，并添加了应用程序提供的功能。</p><p id="7c17" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，我们只想相应地调整应用程序的外观。首先，我们将找出应用程序运行在哪个操作系统和哪个窗口管理器上。</p><p id="7ffd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有了这些信息之后，我们将加载适当的样式表，使应用程序看起来像本地的。</p><p id="32b0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">目标不是应用程序看起来100%像用操作系统的窗口工具包编写的应用程序。我们的目标是通过合理的努力，使应用程序看起来合理，这样我们就不会将其视为异物。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="45ce" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">应用程序的桌面环境</h1><p id="a651" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">为了找出应用程序运行的环境，我们需要在启动应用程序时构建一个小的JavaScript查询。根据结果，我们将加载一个特定的样式表。</p><p id="67c4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为此，我们打开<code class="fe mv mw mx my b">index.html</code>文件，为独立于平台的样式加载<code class="fe mv mw mx my b">style.css</code>,并添加以下JavaScript:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="45c4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们使用<a class="ae lq" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>的<a class="ae lq" href="https://nodejs.org/api/process.html" rel="noopener ugc nofollow" target="_blank">进程</a>库，我们将首先查看我们在哪个操作系统上。如果我们在Mac或Windows电脑上，我们使用CSS文件<code class="fe mv mw mx my b">mac.css</code>或<code class="fe mv mw mx my b">win.css</code>。</p><p id="265a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们在一台Linux计算机上，我们已经构建了一个小的特殊功能——我们用Node.js运行一个命令行查询，它返回我们当前主题的名称。因此，我们使用适当的CSS文件。</p><p id="0e75" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">主题的选择可以任意扩展。因为我个人用的是<a class="ae lq" href="https://github.com/NicoHood/arc-theme" rel="noopener ugc nofollow" target="_blank">弧主题</a>，我们就重点说一下。</p><p id="c45f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这一点上，每个人都必须自己决定要投入多少努力来支持Linux用户。我想Ubuntu用户的主题也会很有用。这可能是一个很好的练习。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="0910" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">跨平台风格</h1><p id="2087" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">为了创建各个组件的平台兼容样式，我们必须创建各种CSS文件。我们从在<code class="fe mv mw mx my b">src</code>目录中创建文件夹样式开始。对于每个CSS文件，我们必须创建一个。</p><p id="8abe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从组件中移除任何内联样式。否则，我们将很难覆盖它们。</p><p id="e90f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在新创建的样式目录中，我们现在创建文件<code class="fe mv mw mx my b">style.css</code>。在这个文件中，我们把所有的样式信息，我们以前插入内联。我们为颜色定义CSS变量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="b841" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这样做的好处是，你可以通过交换颜色来创建不同的主题。到目前为止一切顺利。</p><p id="042e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要重新创建Arc主题，只需要几行CSS。至少，对于我们的示例应用程序来说。</p><p id="30ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，我们覆盖所用颜色的CSS变量。然后我们修改单个组件的细节。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="e349" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">结果看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/598483dae13bcbca9c53d4ffb2ef3ba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-83GPlmpyLKUscxLoa-FcA.png"/></div></div></figure><p id="524d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们对macOS和Windows主题也是如此。我们只需要几行CSS代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/0c2bc284c1ccd327280404e4f998a732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3WrwlNWGY99gEJizOi6CXg.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/8ca95db798feae9d0a516a066d0b73d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Va0iNLevxgj2mm2XkAAd0g.png"/></div></div></figure><p id="9b51" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">公平地说，这三个主题都可以在没有渐变的情况下管理，因此只需要少量的修改。要重新创建Gnome标准主题，<a class="ae lq" href="https://gitlab.gnome.org/GNOME/gtk/tree/master/gtk/theme/Adwaita" rel="noopener ugc nofollow" target="_blank"> Adwaita </a>，我们必须更加努力。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="d1fc" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">结论</h1><p id="65dc" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">你可以在Github上找到这个教程的源代码:【https://github.com/rockiger/electron-react-example<a class="ae lq" href="https://github.com/rockiger/electron-react-example" rel="noopener ugc nofollow" target="_blank"/></p><p id="32d2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在下一部分中，我们将重建gtk3-demo-application的菜单并做一些微调。</p></div></div>    
</body>
</html>