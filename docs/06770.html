<html>
<head>
<title>Creating Your First Kotlin Multiplatform Mobile Application in 10 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在10分钟内创建您的第一个Kotlin多平台移动应用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-your-first-kotlin-multiplatform-mobile-application-in-10-minutes-5e99b1c4ef6e?source=collection_archive---------8-----------------------#2020-11-03">https://betterprogramming.pub/creating-your-first-kotlin-multiplatform-mobile-application-in-10-minutes-5e99b1c4ef6e?source=collection_archive---------8-----------------------#2020-11-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5b30" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">iOS上的Kotlin？让我们来看看</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c203a9b34accc33ab2e269c1fadedce9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_qpg0MZ7yFPnwbUE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@ronmcclenny?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">罗恩·麦克伦尼</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="109e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你接到过多少以“iOS和Android开发的一致性”为主题的工程电话？有多少错误是因为在两个平台上意外地进行了不同的计算或分析而产生的？</p><p id="da0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我从来不太喜欢由Android团队的算法专家解释基础知识的电话和会议，这样我们iOS团队就可以复制准确的过程。算法专家花两个小时解释他们的意图和逻辑，另外两个小时通读Java代码，三个小时将Java逻辑翻译成Swift。不要忘记适应调用，算法改变，两个团队都必须做出改变！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bf3b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">科特林多平台移动(KMM)救援！</h1><p id="2b80" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">进入今日英雄——一种一次性编写所有共享逻辑、算法和计算并在Android和iOS之间共享的方法:科特林和KMM。让我们开始着手我们的第一份KMM申请吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="11ad" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装和项目初始化</h1><p id="2304" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">首先，我们需要确保Android Studio中安装了<a class="ae ky" href="https://plugins.jetbrains.com/plugin/6954-kotlin" rel="noopener ugc nofollow" target="_blank"> Kotlin </a>和插件<a class="ae ky" href="https://plugins.jetbrains.com/plugin/14936-kotlin-multiplatform-mobile" rel="noopener ugc nofollow" target="_blank">kot Lin multi platform Mobile</a>。在撰写本文时，我在macOS 10.15上使用的是Android Studio 4.1 Kotlin 1.4.10和KMM 0.1.3。通过首选项、插件、市场和搜索KMM安装KMM。一旦完成，我们就创建一个项目。Go文件&gt;新建&gt;新建项目。这将要求您选择一个项目模板。我们希望向下滚动并选择KMM应用程序<strong class="lb iu"> </strong>模板:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/bec548932cfaa53f262f739050d493d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Ly-1jiJHMLUIl9-WYGKPg.png"/></div></div></figure><p id="51a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击下一步。这将要求我们配置我们的项目。我们现在只更改名称，其余的保持不变:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/41698f4d2e2922145d1514df7df05ae8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itpdC5QNvhKBK2bTDMzHxA.png"/></div></div></figure><p id="2b87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于配置活动，您可以保持一切不变，然后点击Finish！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/bc83b39c9ebea741fd8a5be8e7acebf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BMe8w_9RMzBGHDviovBX3g.png"/></div></div></figure><p id="50b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，你的Android工作室会为你运行一些类似Gradle的操作。给它一些时间让你的申请出现在左边。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f0d2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建一个酷的第一应用程序</h1><p id="0970" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">所以我们的KMM应用程序现在已经初始化了。让我们在Finder或Explorer中看看插件为我们创建了什么。我们看到四个文件夹:</p><ol class=""><li id="848e" class="nc nd it lb b lc ld lf lg li ne lm nf lq ng lu nh ni nj nk bi translated"><code class="fe nl nm nn no b">androidApp</code> —包含Android的实际应用程序。它的格式和我们知道的完全一样。</li><li id="c52d" class="nc nd it lb b lc np lf nq li nr lm ns lq nt lu nh ni nj nk bi translated"><code class="fe nl nm nn no b">gradle</code> —包含所有渐变填充(与此点无关)。</li><li id="d7e3" class="nc nd it lb b lc np lf nq li nr lm ns lq nt lu nh ni nj nk bi translated"><code class="fe nl nm nn no b">iosApp</code> —包括iOS应用程序和<code class="fe nl nm nn no b">.xcodeproj</code>文件。我们一会儿就来看看这个。</li><li id="c756" class="nc nd it lb b lc np lf nq li nr lm ns lq nt lu nh ni nj nk bi translated"><code class="fe nl nm nn no b">shared</code> —存放所有Kotlin类型的共享代码文件(。kt)。</li></ol><p id="0ecc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们回到Android Studio，打开<code class="fe nl nm nn no b">androidApp</code>的<code class="fe nl nm nn no b">MainActivity.kt</code>。此活动已经包含一个基本的视觉设置，即设置带有问候语的文本视图:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="f86d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是问候的实际文本来自哪里呢？它来自共享组件！打开左边的共享包，导航到common main &gt; kot Lin &gt; com . example . medium example . shared，你会发现那里有两个类:<code class="fe nl nm nn no b">Greeting</code>和<code class="fe nl nm nn no b">Platform</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/2d978645033b14d9053b04fd523a24ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xL-DVyqT8PI5PynrjGX02w.png"/></div></div></figure><p id="9077" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看<code class="fe nl nm nn no b">Greeting</code>类，我们发现它返回一个使用<code class="fe nl nm nn no b">Platform</code>类构建的字符串。这是我们了解该平台独特组件的地方。因为我们想要返回平台的名称，我们将需要访问不同的功能，无论是通过使用Android还是iOS设备。因此，共享文件夹包含名为<code class="fe nl nm nn no b">iosMain</code>和<code class="fe nl nm nn no b">androidMain</code>的包。两个包以不同的方式构造了<code class="fe nl nm nn no b">Platform</code>类:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2f67" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">构建在Android和iOS上运行</h1><p id="93cb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">首先，我们想在Android模拟器上运行我们的应用程序。为此，我们按下顶部的运行按钮，让奇迹发生。</p><p id="afd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们想在iOS上运行应用程序。重要的是，我们首先构建共享组件的最新版本。在Android Studio中选择构建&gt;重建项目。进入Finder，回到项目目录，进入iosApp，打开<code class="fe nl nm nn no b">iosApp.xcodeproj</code>。iOS的app已经完全设置好了，可以开始使用了，但是让我们快速浏览一下<code class="fe nl nm nn no b">ContentView.swift</code> <em class="nx"> </em>文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="d1cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到访问<code class="fe nl nm nn no b">greeting</code>字符串的类似方式，如上面的Kotlin。我们导入共享包，然后能够访问<code class="fe nl nm nn no b">Greeting</code>类。和Android Studio一样，我们必须等待构建完成。完成后，按CMD + R并等待模拟器打开。</p><p id="7426" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">啊，我们完成了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/02c295d1042341e720d179aa1cdff0b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rPJwmLEWNIs_yCnUrn6nYA.png"/></div></div></figure><p id="4495" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">祝贺你第一次申请KMM大学！请随时留下您的评论、问题或任何反馈。</p></div></div>    
</body>
</html>