<html>
<head>
<title>Can Tweets Predict Stock Market Returns Using Python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">推文可以用Python预测股市收益吗？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/can-tweets-predict-stock-market-returns-using-python-ddba669a4efc?source=collection_archive---------2-----------------------#2021-09-09">https://betterprogramming.pub/can-tweets-predict-stock-market-returns-using-python-ddba669a4efc?source=collection_archive---------2-----------------------#2021-09-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c605" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">分析Twitter与次日股票回报的关系</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e2e05edbec54581987e70a7dac2d6b7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ewgo40qXsCp2KVar"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@alexbemore?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">亚历山大·沙托夫</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fa84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">二十多年前，可能没有人能预测到社交媒体会像现在这样庞大。可能也没想到它会对股市产生潜在影响。但是，正如我们今年所学到的，无论我们喜欢与否，社交媒体在股市趋势中扮演着重要角色。</p><p id="3c85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能听说过，GameStop ( <em class="lv"> GME </em>)是今年第一个也是最大的迷因股票。Reddit、Twitter和其他社交媒体网站上的许多用户一起能够触发做空操作，导致股价在几天或几周内飙升。这个现象让我思考——<em class="lv">足够积极的推文活动也能带来积极的回报吗？</em></p><p id="1a16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了找到答案，我们需要收集足够多的推文和价格数据，看看它们之间是否有任何关联。这项工作需要用Python编写一些代码来收集和可视化这些数据。最终，我们将看到Twitter是否真的能够预测未来的回报。</p><p id="d672" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在接下来的部分中，您将看到我们如何收集推文、价格数据并将其可视化。请随意编码，并随意更改一些输入。根据这些输入，您可能会看到不同的结果。让我们开始吧…</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d21f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">获取推文</h1><p id="1906" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">首先，我们需要一种方法来收集大量推文进行分析。我们可以通过复制和粘贴tweets来非常困难地做到这一点，或者我们可以通过使用Python库来简单地做到这一点。</p><p id="2674" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Twint是一个很棒的Python库，可以在没有Twitter账户或使用官方API的情况下抓取推文。它有许多配置选项，非常灵活。<a class="ae ky" href="https://github.com/twintproject/twint/wiki" rel="noopener ugc nofollow" target="_blank">如果你愿意的话，可以随意阅读Python的文档。这些文档会告诉你如何在你自己的系统中设置Twint。一旦完成，我们可以继续编码方面。</a></p><h2 id="49d5" class="ne me it bd mf nf ng dn mj nh ni dp mn li nj nk mp lm nl nm mr lq nn no mt np bi translated">配置Twint</h2><pre class="kj kk kl km gt nq nd nr ns aw nt bi"><span id="2fad" class="ne me it nd b gy nu nv l nw nx"># Library imports<br/>import twint<br/>import nest_asyncio<br/>nest_asyncio.apply()<br/>import pandas as pd<br/>from datetime import datetime, timedelta</span></pre><p id="c16f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:你需要<code class="fe na nb nc nd b">nest_asyncio</code>来正确运行Twint。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="36f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于Twint的配置，我创建了一个包含许多不同配置选项的函数。这个函数将能够接受任何搜索词、日期，并根据给定的搜索词和日期返回有限数量的tweets。</p><h2 id="68a6" class="ne me it bd mf nf ng dn mj nh ni dp mn li nj nk mp lm nl nm mr lq nn no mt np bi translated">关于配置功能</h2><p id="8d1b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">有许多不同的配置选项，您可以随意尝试更多选项。不过，关于上述功能，我们仅指出一些亮点。</p><p id="c622" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个配置中，<em class="lv">热门推文</em>被引用，因为这些推文可以很好地全面代表当天对一支股票的情绪。我们检索了英文推文，并对其进行了小写处理，以便为我们的情感分析器进行更简单的预处理，我们稍后会用到它。我们还对返回的数据帧进行了格式化，使其只包含日期，而不包含确切的时间，以便于以后对推文进行划分。</p><h2 id="148c" class="ne me it bd mf nf ng dn mj nh ni dp mn li nj nk mp lm nl nm mr lq nn no mt np bi translated">运行Twint功能</h2><p id="d837" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">让我们运行这个函数，测试一只特定的股票。用GME做这个测试怎么样？</p><pre class="kj kk kl km gt nq nd nr ns aw nt bi"><span id="425c" class="ne me it nd b gy nu nv l nw nx">getTweets("$GME", "2021-08-07", 20)</span></pre><p id="19a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行这行代码，我们将检索GME在指定日期的推文。如果你注意到GME旁边有一个“$”符号。这在Twitter上被称为<code class="fe na nb nc nd b">cashtag</code>,用于识别订阅源中的股票代码。当使用Twint进行搜索和抓取时，Cashtags将有助于指定我们需要的股票代码。</p><p id="c91e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果该函数成功，那么您应该会在结果中看到一个熊猫<code class="fe na nb nc nd b">dataframe</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/94df211fefdcbf0718b430357bcab8aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YTTcJNKY1UFMXLJ_j7K5Cg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数据帧输出的示例</p></figure><h2 id="0042" class="ne me it bd mf nf ng dn mj nh ni dp mn li nj nk mp lm nl nm mr lq nn no mt np bi translated">长时间运行Twint</h2><p id="e689" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">对于Twint来说，在检索推文时，主要是检索特定一天的推文。为了检索一段时间内的推文，我们需要在不同的日期运行该函数几次，并在运行过程中保存推文。</p><p id="9b50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，创建了另一个函数，它每天在两个时间段之间运行twint函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="f048" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该函数使用递归连续运行<code class="fe na nb nc nd b">getTweets()</code>函数，同时将每天的推文添加到数据帧中，直到<em class="lv">开始</em>和<em class="lv">结束</em>日期彼此相等。它还包含一个简单的while循环，如果当天没有找到tweets，它将再次运行该函数。</p><p id="82dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Twint的查询过程有一个问题，有时它不会返回给定日期的任何推文，即使推文确实存在。为了弥补这一点，创建了这个循环来运行twint查询几次，然后放弃并继续到第二天。</p><p id="b4be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在完成这个函数时，您应该有数百条推文<em class="lv">(取决于设定的每日限制)</em>，从给定的开始日期到结束日期都包含在一个熊猫数据帧中。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2ebf" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">执行情感分析</h1><p id="03ee" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在下一步中，我们需要获得给定股票的平均每日情绪。在我们的例子中，我们需要了解Twitter用户每天对GME的感受。</p><p id="b01c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是情感分析的用武之地。导入以下内容以使用情感分析器:</p><pre class="kj kk kl km gt nq nd nr ns aw nt bi"><span id="2347" class="ne me it nd b gy nu nv l nw nx">from nltk.sentiment.vader import SentimentIntensityAnalyzer</span></pre><p id="bcde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个分析器非常适合推文。它需要很少的预处理，甚至可以在没有任何改变的情况下输入原始推文，这对我们来说是完美的。</p><h2 id="f187" class="ne me it bd mf nf ng dn mj nh ni dp mn li nj nk mp lm nl nm mr lq nn no mt np bi translated">情感函数</h2><p id="59da" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">首先，创建了一个利用分析器的新函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="7c8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，我们将情感分析器应用于给定DF中的一系列tweets。然后分析器返回一个得分字典，如下所示:</p><pre class="kj kk kl km gt nq nd nr ns aw nt bi"><span id="33db" class="ne me it nd b gy nu nv l nw nx">{compound: 0.8316, neg: 0.0, neu: 0.254, pos: 0.746}</span></pre><p id="6d43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些分数代表了每条推文的情绪。对于这个函数，它默认为<code class="fe na nb nc nd b">compound</code>分数，范围从-1到1。根据其他三个测量值计算出<code class="fe na nb nc nd b">compound</code>分数。</p><h2 id="3adb" class="ne me it bd mf nf ng dn mj nh ni dp mn li nj nk mp lm nl nm mr lq nn no mt np bi translated">情感数据框架</h2><p id="b2b9" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在获得每条推文的复合得分后，我们将日期分组，并对当天的复合得分进行平均。生成的DF应该如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/e096e7d87032a2aef7f7466635674dd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/format:webp/1*YT0_FGHc5F_31aFEgKFE1Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有平均每日推文情绪的DF示例</p></figure><p id="9b2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，每天的平均复合分数是一个从-1到1的数字。负分代表当天Twitter上的总体负面情绪，反之亦然。</p><p id="cfc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经有了每日推特情绪，我们可以继续为我们指定的股票代码:<code class="fe na nb nc nd b">GME</code>收集价格数据。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="ca5f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">获得每日回报</h1><p id="6c86" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这里我们需要收集一只股票的价格数据。为此，我们将使用<code class="fe na nb nc nd b">yfinance</code>库，它从Yahoo Finance中检索股票价格:</p><pre class="kj kk kl km gt nq nd nr ns aw nt bi"><span id="7443" class="ne me it nd b gy nu nv l nw nx">import yfinance as yf</span></pre><p id="2bbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是收集两个日期之间的价格并获得每日百分比回报的新函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="63d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行此函数后，您应该会看到一个包含每日百分比回报的结果数据框架:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/354babac892732f2490f205b5a2983c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:366/format:webp/1*MhzcdYxPPoBJVuezHw_zIA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">每日百分比回报</p></figure><p id="5240" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该数据框显示了GME的每日百分比变化，8月31日的最后一个数据显示增长了约4%。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="1c85" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结合回报和情绪</h1><p id="af66" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">现在我们有了每日百分比回报和每日情绪，我们可以将两个数据框架合并在一起:</p><pre class="kj kk kl km gt nq nd nr ns aw nt bi"><span id="9257" class="ne me it nd b gy nu nv l nw nx"># Merging the two DF<br/>comb_df = sent_df.merge(stock_df, how='outer', sort=True)</span><span id="9e2a" class="ne me it nd b gy od nv l nw nx"># Shifting the sentiment scores 1 day to compensate for lookahead bias<br/>comb_df['sentiment'] = comb_df['sentiment'].shift(1)</span></pre><p id="fee5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">合并后，我们将情感值上移1，以补偿任何前瞻偏差。我们想看看以前的情绪值是否会影响当前的百分比回报。</p><h2 id="aa85" class="ne me it bd mf nf ng dn mj nh ni dp mn li nj nk mp lm nl nm mr lq nn no mt np bi translated">按比例还是不按比例？</h2><p id="56ea" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们决定不对回报和情绪值的数据进行缩放。因为我们想显示原始值以及它们之间的比较。这是一个简单的观察，看看一个平均的正复合分数是否等同于第二天的正回报。缩放被认为是不必要的，但是，如果要做更多的工作，将来可能需要重新考虑。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="68a7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">最终功能和可视化</h1><p id="ac92" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">既然我们已经收集并整合了所有的数据，最后一步就是将它们可视化。为此，让我们使用Python库Plotly进行可视化:</p><pre class="kj kk kl km gt nq nd nr ns aw nt bi"><span id="f942" class="ne me it nd b gy nu nv l nw nx">import plotly.express as px</span></pre><p id="c171" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Plotly非常适合快速创建交互式图表。它还可以很好地与Pandas数据框架集成。考虑到plotly，我们创建了一个函数，它结合了所有以前的函数，并在最后将结果可视化:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ny nz l"/></div></figure><p id="e609" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行该函数只需要4个参数:</p><ul class=""><li id="899a" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated">期望的股票代码</li><li id="40d0" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">开始和结束日期</li><li id="359e" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">每天返回的推文数量的限制</li></ul><h1 id="1665" class="md me it bd mf mg os mi mj mk ot mm mn jz ou ka mp kc ov kd mr kf ow kg mt mu bi translated">最后的结果</h1><p id="5150" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">对于最后一个函数，让我们对一只新股票在两个月内每天大约100条推文进行分析:</p><pre class="kj kk kl km gt nq nd nr ns aw nt bi"><span id="795f" class="ne me it nd b gy nu nv l nw nx"># Time periods<br/>now = datetime.now()</span><span id="bc3c" class="ne me it nd b gy od nv l nw nx"># How far back to retrieve tweets<br/>ago = now - timedelta(days=60)</span><span id="d94a" class="ne me it nd b gy od nv l nw nx"># Running the function<br/>sentimentAndPrice(<br/>    "AMC", <br/>    now.strftime("%Y-%m-%d"), <br/>    ago.strftime("%Y-%m-%d"), <br/>    numtweets=100<br/>)</span></pre><p id="273c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该函数的输出可能需要一段时间(时间越长，输出时间越长)。但是，在这个功能完成后，输出将包含两个图表。</p><p id="df05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个图表将计算每日百分比回报反映平均复合情绪得分的实例数量:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/fe449637ebd53aa0a05f1e5ff9a8fcaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXh_5zjus8kooWjUGF-FQQ.png"/></div></div></figure><p id="8da1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据上面的图表，在过去的两个月里，大多数时候，平均复合情绪得分并没有带来相应的回报。换句话说，积极的情绪导致积极的回报，反之亦然，这种情况发生的频率远远低于相反的情况。</p><p id="3e55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二张图显示了平均每日情绪得分与每日百分比回报的关系:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/f9ba38ffcd82bc7eac1a77cc2e5f8163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W-vvYcD1AAPydsETi5XNiQ.png"/></div></div></figure><p id="6fe0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你可能看到的，情绪本身并不能预测回报。如果是的话，上面的图表会显示情绪和回报每次都指向同一边。但事实并非如此。尽管对AMC而言，积极情绪非常突出，但这并没有转化为持续的正回报。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d638" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结束语</h1><p id="d1cd" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在运行最终函数并可视化结果后，我们可以看到，对于这两只股票，情绪并不等同于各自的回报。然而，还可以做得更多。</p><p id="31b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他股票也可以探索和研究。或者时间段可以被调整为看得更远。或许有些股票比其他股票更受情绪影响。也许甚至逆转情绪会更有效。</p><p id="da70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论如何，这并不是探索情绪进行股票分析的终点。这个项目的结果不是绝对的，其他途径可以测试。你可以随意调整上面的代码，自己动手做。</p><p id="1f19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://medium.com/geekculture/do-twitter-opinions-lead-to-great-stock-returns-4faaff1ca3a8" rel="noopener">下一步，让我们探索如果围绕这种情绪分析建立交易策略会发生什么。在正确的参数和限制下，它能盈利吗？我们会看到……</a></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><blockquote class="oy oz pa"><p id="0da0" class="kz la lv lb b lc ld ju le lf lg jx lh pb lj lk ll pc ln lo lp pd lr ls lt lu im bi translated"><a class="ae ky" href="https://marco-santos.medium.com/membership" rel="noopener">在这里注册成为中级会员，可以无限制地访问和支持像我这样的内容！在你的支持下，我赚了一小部分会费。谢谢！</a></p></blockquote><h2 id="2a29" class="ne me it bd mf nf ng dn mj nh ni dp mn li nj nk mp lm nl nm mr lq nn no mt np bi translated">Github源代码</h2><div class="pe pf gp gr pg ph"><a href="https://github.com/marcosan93/Medium-Misc-Tutorials/blob/main/Tweet-Sentiments-Stocks.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="pi ab fo"><div class="pj ab pk cl cj pl"><h2 class="bd iu gy z fp pm fr fs pn fu fw is bi translated">Medium-Misc-Tutorials/Tweet-情操-股票. ipynb在主Marcos an 93/Medium-Misc-Tutorials</h2><div class="po l"><h3 class="bd b gy z fp pm fr fs pn fu fw dk translated">一组随机的中等教程。为Marcos an 93/Medium-Misc-Tutorials开发做出贡献，创建一个…</h3></div><div class="pp l"><p class="bd b dl z fp pm fr fs pn fu fw dk translated">github.com</p></div></div><div class="pq l"><div class="pr l ps pt pu pq pv ks ph"/></div></div></a></div></div></div>    
</body>
</html>