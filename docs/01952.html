<html>
<head>
<title>How To Check if a Given Key Already Exists in a Dictionary</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何检查给定的键是否已经存在于字典中</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-check-if-a-given-key-already-exists-in-a-dictionary-556a56e03c22?source=collection_archive---------7-----------------------#2019-10-25">https://betterprogramming.pub/how-to-check-if-a-given-key-already-exists-in-a-dictionary-556a56e03c22?source=collection_archive---------7-----------------------#2019-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9dd8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">两种不同的检查方式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7cadbd7519beea63892013aecd1521cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zBOjT4oOC5N0_gEzFALQ9w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@pisitheng?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">皮斯特亨</a>在<a class="ae ky" href="https://unsplash.com/s/photos/dictionary?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="0565" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">字典是可变的——它有一组无序的键和值。知道如何检查一个键是否存在是至关重要的，无论是在赋值之前，以避免覆盖现有数据，还是在访问值时，以确保该键存在。</p><p id="13d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">in</code>关键字或<code class="fe lv lw lx ly b">.get()</code>方法检查字典中给定的键。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="c7b9" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">“in”关键字</h1><p id="52eb" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">在Python中，<code class="fe lv lw lx ly b">in</code>关键字在iterable中查询指定的值。如果iterable是一个列表，将会查询值。例如:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="4df5" class="nh mh it ly b gy ni nj l nk nl">person = {<br/>  "first_name": "Sarah",<br/>  "last_name": "Kerrigan",<br/>  "nickname": "Queen of Blades"<br/>}</span><span id="78b7" class="nh mh it ly b gy nm nj l nk nl">print("nickname" in person.keys()) # True<br/>print("age" in person.keys()) # False</span></pre><p id="55e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，<code class="fe lv lw lx ly b">.keys()</code>方法用于从字典中以字符串列表的形式返回键。我们可以加速这项技术，因为<code class="fe lv lw lx ly b">in</code>也可以直接用于字典。查询字典时，搜索的是键，而不是值。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="f3d0" class="nh mh it ly b gy ni nj l nk nl">person = {<br/>  "first_name": "Sarah",<br/>  "last_name": "Kerrigan",<br/>  "nickname": "Queen of Blades"<br/>}</span><span id="55da" class="nh mh it ly b gy nm nj l nk nl">print("nickname" in person) # True<br/>print("age" in person) # False</span></pre><h1 id="02ae" class="mg mh it bd mi mj nn ml mm mn no mp mq jz np ka ms kc nq kd mu kf nr kg mw mx bi translated">的。get()方法</h1><p id="d945" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">引用字典中不存在的键会导致<code class="fe lv lw lx ly b">KeyError</code>异常，可能会破坏您的代码。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="1576" class="nh mh it ly b gy ni nj l nk nl">person = {<br/>  "first_name": "Sarah",<br/>  "last_name": "Kerrigan",<br/>  "nickname": "Queen of Blades"<br/>}</span><span id="9a2f" class="nh mh it ly b gy nm nj l nk nl">print(person['age'])</span><span id="0937" class="nh mh it ly b gy nm nj l nk nl">"""<br/>Traceback (most recent call last):<br/>  File "medium.py", line 7, in &lt;module&gt;<br/>    print(person['age'])<br/>KeyError: 'age'<br/>"""</span></pre><p id="734c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了避免这种情况，您可以使用上面的方法首先检查一个键。然而，这可能会变得非常重复。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="846b" class="nh mh it ly b gy ni nj l nk nl">person = {<br/>  "first_name": "Sarah",<br/>  "last_name": "Kerrigan",<br/>  "nickname": "Queen of Blades"<br/>}</span><span id="9bc5" class="nh mh it ly b gy nm nj l nk nl">if "age" in person:<br/>  print(person['age'])</span><span id="c23a" class="nh mh it ly b gy nm nj l nk nl">if "first_name" and "last_name" in person:<br/>  print(first_name + " " + last_name)</span></pre><p id="058b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，使用<code class="fe lv lw lx ly b">.get()</code>,如果密钥不存在，它不会导致异常。该方法需要单个字符串(将被检索的键)，并接受可选的第二个参数，该参数将在找不到键时用作默认值。当未指定默认值时，如果找不到关键字，则<code class="fe lv lw lx ly b">.get()</code>将返回<code class="fe lv lw lx ly b">None</code>。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="940c" class="nh mh it ly b gy ni nj l nk nl">person = {<br/>  "first_name": "Sarah",<br/>  "last_name": "Kerrigan",<br/>  "nickname": "Queen of Blades"<br/>}</span><span id="004a" class="nh mh it ly b gy nm nj l nk nl">middle_name = person.get("middle_name","") # empty string<br/>print(person.get("age")) # None</span></pre></div></div>    
</body>
</html>