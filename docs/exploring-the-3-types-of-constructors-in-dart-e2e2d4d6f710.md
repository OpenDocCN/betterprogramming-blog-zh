# 探索 Dart 中的 3 种构造函数

> 原文：<https://betterprogramming.pub/exploring-the-3-types-of-constructors-in-dart-e2e2d4d6f710>

## 命名、工厂和重定向构造函数

![](img/71dd4db843592706390ac8c1fd378973.png)

斯科特·韦伯在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片。

我们大多数人都熟悉构造函数的概念。它们允许我们创建类的不同实例。我们可以指定类在被实例化时应该依赖哪些参数，并隐藏内部初始化逻辑。

对于不同的用例，我们可以有许多构造函数，或者我们可以依赖默认的构造函数。

在 [Dart](https://dart.dev/) 中，构造函数扮演着类似的角色，但是有一些在大多数编程语言中不存在的变化。本文将介绍 Dart 中构造函数的不同用例及示例。

在本文的所有示例中，我们将使用下面的类:

# 如何开始使用 Dart 中的构造函数

如果您没有在 Dart 中指定任何构造函数，它将为您创建一个默认的构造函数。

这并不意味着您将看到类中生成的默认构造函数。相反，当创建类的新实例时，将调用此构造函数。它将没有参数，并将调用超类的构造函数(也没有参数)。

若要在类中声明构造函数，可以执行以下操作:

可以想象，一定有更好的方法来初始化我们的类字段。在 Dart 中，有:

我们上面使用的方法只是为了简化赋值的语法糖。

# 命名构造函数

在其他语言中，重载构造函数是可能的。这意味着您可以有不同的构造函数，它们具有相同的名称，但是具有不同的签名(或者不同的参数集)。

在 Dart 中，这是不可能的，但是有一种方法可以绕过它。它被称为*命名构造函数*。给你的构造函数取不同的名字允许你的类有许多构造函数，也可以更好地在类外表示它们的用例。

命名构造函数示例

在构造函数体执行之前，构造函数`withoutABS`将实例变量`hasABS`初始化为`false`。这就是所谓的*初始化列表*，你可以初始化几个用逗号分隔的变量。

初始化列表最常见的用例是初始化你的类声明的最终字段。

*注意:放置在冒号(* `*:*` *)右侧的任何内容都无法访问* `*this*` *。*

# 工厂构造者

一个*工厂构造函数*是一个构造函数，当你不需要一个构造函数来创建你的类的一个新实例时，可以使用它。

如果您将类的实例保存在内存中，并且不想每次都创建新的实例(或者创建实例的操作开销很大)，这可能会很有用。

另一个用例是，如果在构造函数中有某种逻辑来初始化一个 final 字段，而这在初始化列表中是做不到的。

工厂构造函数示例

# 高级构造函数

Dart 还允许你创建*常量构造函数*。这到底是什么意思？如果您的类表示一个在创建后永远不会改变的对象，您可以从常量构造函数的使用中受益。你必须确保你所有的类字段都是最终的。

常数构造函数示例

当你想让一个构造函数调用另一个构造函数时，这被称为*重定向构造函数*。

重定向构造函数示例

# 结论

我们讨论的每个构造函数都有不同的用途和用例。由您来理解和决定何时使用每一个。希望这篇文章给了你这样做的必要知识。

如果你想了解更多关于 Dart 构造函数的内容，你可以去 Dart 的语言之旅。