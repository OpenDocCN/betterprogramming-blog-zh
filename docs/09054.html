<html>
<head>
<title>7 JavaScript Tricks You Should Be Aware Of</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该知道的7个JavaScript技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/7-javascript-tricks-you-should-be-aware-of-6bead729c418?source=collection_archive---------7-----------------------#2021-07-12">https://betterprogramming.pub/7-javascript-tricks-you-should-be-aware-of-6bead729c418?source=collection_archive---------7-----------------------#2021-07-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2fa8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过这些技巧，变得更擅长JavaScript</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d5fd8db0b8538df37bb637a5bbfee0b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LpUCnDai_eHH75it"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@jstrippa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">詹姆斯·哈里森</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d0ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript的受欢迎程度目前正在飙升。它是最流行的编程语言之一。就像任何其他编程语言一样，JavaScript有许多您可能还没有意识到的巧妙的小技巧。</p><p id="fd12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些技巧中的每一个都将帮助您完成大多数开发人员日常需要完成的任务。如果您有一些JavaScript经验，您可能已经知道其中的一些技巧，而其他技巧可能会让您大吃一惊。</p><p id="8b51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将介绍七个技巧，它们将使你成为更好的开发人员，并帮助你编写更好的代码。</p><h1 id="2b51" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.交换值</h1><p id="b90e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">交换两个变量的值，你可能已经做过很多次了。最常见的方法是使用第三个临时变量，如下所示:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="beb8" class="mx lw it mt b gy my mz l na nb">let nameA = "Pete"<br/>let nameB = "John"<br/>let temp = nameA</span><span id="23ad" class="mx lw it mt b gy nc mz l na nb">nameA = nameB<br/>nameB = temp</span><span id="a9de" class="mx lw it mt b gy nc mz l na nb">console.log(nameA) // "John"<br/>console.log(nameB) // "Pete"</span></pre><p id="be1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是您知道在JavaScript中交换两个变量的值有一个更简单的解决方案吗？看看下面几行代码:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="c6c0" class="mx lw it mt b gy my mz l na nb">let nameA = "Pete"<br/>let nameB = "John"</span><span id="cde4" class="mx lw it mt b gy nc mz l na nb">[nameA, nameB] = [nameB, nameA]</span><span id="e05f" class="mx lw it mt b gy nc mz l na nb">console.log(nameA) // "John"<br/>console.log(nameB) // "Pete"</span></pre><p id="3276" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来干净多了，不是吗？</p><h1 id="a232" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.经营者</h1><p id="ce73" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">JavaScript有很多操作符，但是我想让你知道其中的两个，三元操作符和nullish合并操作符。从名字看，它们似乎很复杂；然而，没有什么是不真实的。</p><p id="55d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两个运算符都可以用来设置变量。让我们从三元运算符开始，它基本上是一个简写的if语句。三元运算符由三部分组成。一个条件，后跟一个问号，然后是一个表达式，如果条件为true，则执行该表达式，然后是一个冒号，最后是一个表达式，如果条件为falsy，则执行该表达式。</p><p id="e7d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来是这样的:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="2bef" class="mx lw it mt b gy my mz l na nb">const price = isMember ? '$5.50' : '$15.00'</span></pre><p id="3943" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果<code class="fe nd ne nf mt b">isMember</code>的值为真，则价格为5.50美元，否则价格为15.00美元。</p><p id="997b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">三元运算符的另一个例子:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="cf9d" class="mx lw it mt b gy my mz l na nb">const name = person ? person.name : 'Unknown'</span></pre><p id="0ee2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想让你们知道的另一个运算符是零化合并运算符。Mozilla是这样描述nullish合并运算符的:</p><blockquote class="ng nh ni"><p id="fa24" class="kz la nj lb b lc ld ju le lf lg jx lh nk lj lk ll nl ln lo lp nm lr ls lt lu im bi translated"><strong class="lb iu"> nullish合并运算符(</strong> <code class="fe nd ne nf mt b"><strong class="lb iu">??</strong></code> <strong class="lb iu"> ) </strong>是一个逻辑运算符，当其左侧操作数为<code class="fe nd ne nf mt b">null</code>或<code class="fe nd ne nf mt b">undefined</code>时，返回其右侧操作数，否则返回其左侧操作数。</p></blockquote><p id="6cf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是它实际运行的样子:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="6717" class="mx lw it mt b gy my mz l na nb">const name = person.name ?? "Unknown"<br/>const age = getAge(person) ?? 21<br/>const greeting = greeting ?? "Hello!"</span></pre><h1 id="136a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.可选链接</h1><p id="9e57" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">可选链接是我最喜欢的列表之一。可选链接实际上是一个操作符。</p><p id="8bf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据Mozilla web文档，这就是可选链接操作符的作用:</p><blockquote class="ng nh ni"><p id="3fa0" class="kz la nj lb b lc ld ju le lf lg jx lh nk lj lk ll nl ln lo lp nm lr ls lt lu im bi translated">可选的链接操作符允许读取位于连接对象链深处的属性值，而不必明确验证链中的每个引用是否有效。</p></blockquote><p id="a4fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，可选的链接操作符极大地简化了访问嵌套值的方式。</p><p id="f258" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们直接进入一个例子，帮助您更好地理解可选链接操作符的作用。</p><p id="fd03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一个名为<em class="nj">的人</em>的对象，看起来像这样:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="5b75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，我们会通过以下方式访问该对象的属性:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="7a46" class="mx lw it mt b gy my mz l na nb">const name = person.name<br/>const age = person.age<br/>const partner = person.parner.name</span></pre><p id="e09d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些是从对象中读取值的基础。但是当这个人没有伴侣时会发生什么呢？最后一行代码会触发一个错误，因为我们无法读取未定义的属性<em class="nj">名称</em>。</p><p id="a229" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要解决这个问题，您应该这样做:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1e93" class="mx lw it mt b gy my mz l na nb">const partner = person.partner ? person.partner.name : null</span></pre><p id="c06d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个使用三元运算符的例子非常好。虽然这种实现方式的缺点是非常冗长，如果您必须检查一个或两个更深层次的属性，代码会变得非常不可读——因为您必须检查每个属性是否存在。</p><p id="aec8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，检查州名如下:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="a6c4" class="mx lw it mt b gy my mz l na nb">const state = person.address &amp;&amp; person.address.state ? person.address.state.name : null</span></pre><p id="8a33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，这段代码太长了，很快就变得不可读了。</p><p id="1f13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是可选的链接操作符(写为<code class="fe nd ne nf mt b">?.</code>)发挥作用的地方。有了这个操作符，就不需要检查某些属性是否存在，这将使您的代码保持整洁和易于理解。如果一个属性不存在，将返回<em class="nj">未定义的</em>。这是操作者在工作时的样子:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="fe28" class="mx lw it mt b gy my mz l na nb">const city = person?.address?.city // "Miami"<br/>const nonExisting = person?.gender // Undefined<br/>const houseNumber = person?.address?.number // Undefined<br/>const state = person?.address?.state?.abbreviation // "FL"</span></pre><h1 id="41b5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.使用对象传递参数</h1><p id="9ef2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您知道可以将参数作为对象传递给函数吗？它实现起来非常简单，并且使你的代码可读性更好。</p><p id="92bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要做到这一点，你需要把你的函数的参数用花括号括起来。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="9fac" class="mx lw it mt b gy my mz l na nb">const createUser = ({ username, email, password }) =&gt; {<br/>   // Here comes the logic<br/>}</span></pre><p id="4491" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以调用这个函数并使用一个对象来传递所有参数。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="b8e0" class="mx lw it mt b gy my mz l na nb">createUser({<br/>   username: 'legendaryJohn',<br/>   email: 'john@example.com',<br/>   password: 'secret'<br/>})</span></pre><h1 id="c2df" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">5.传播算子</h1><p id="b742" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">spread操作符(<code class="fe nd ne nf mt b">...</code>)可以用于许多不同的技巧。可以使用spread运算符的技巧之一是合并数组。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="6557" class="mx lw it mt b gy my mz l na nb">const luckyNumbers = [1, 3, 7, 8]<br/>const moreNumbers = [2, 9, 3]<br/>const allNumbers = [...luckyNumbers, ...moreNumbers]</span><span id="7f23" class="mx lw it mt b gy nc mz l na nb">console.log(allNumbers) // [1, 3, 7, 8, 2, 9, 3]</span></pre><p id="e7fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是在JavaScript中合并数组的最简单、最干净的方法</p><h1 id="38eb" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">6.有条件地设置变量</h1><p id="c6a8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">有条件地设置变量既简单又让你的代码看起来更优雅。应用这个技巧时不需要写if语句——这是我个人最喜欢的JavaScript技巧之一。</p><p id="9106" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么如何有条件地设置一个变量呢？</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="04dc" class="mx lw it mt b gy my mz l na nb">const timezone = user.preferred_timezone || "America/New_York"</span></pre><p id="27d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，我们检查用户是否有首选时区。如果用户有首选时区，我们就使用那个时区。如果用户没有首选时区，我们使用默认时区，即“美国/纽约”</p><p id="4e56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码看起来比使用if语句时干净多了。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="ff66" class="mx lw it mt b gy my mz l na nb">let timezone = "America/New_York"</span><span id="4877" class="mx lw it mt b gy nc mz l na nb">if (user.preferred_timezone) {<br/>    timezone = user.preferred_timezone<br/>}</span></pre><h1 id="3da3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">7.动态设置对象的密钥</h1><p id="5260" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">有时候你可能需要动态设置一个对象的键。我经常看到的一种实现方式是使用方括号设置属性:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="efaa" class="mx lw it mt b gy my mz l na nb">const dynamicKey = 'favoriteDrink'<br/><br/>let person = {<br/>  name: "John",<br/>}<br/>person[dynamicKey] = '🍺'</span></pre><p id="4324" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是实现动态密钥的老方法，需要两个步骤。对于您想要设置的每个其他动态键，您将需要另一行代码，这很快就会变得一团糟。</p><p id="0c9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">动态设置密钥的更好的解决方案如下所示:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="5283" class="mx lw it mt b gy my mz l na nb">const dynamicKey = 'favoriteDrink'</span><span id="c3de" class="mx lw it mt b gy nc mz l na nb">let person = {<br/>  name: "John",<br/>  [dynamicKey]: '🍺',<br/>}</span></pre><p id="3602" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这允许您在声明变量时设置动态键。</p><p id="daec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">暂时就这样了。</p><p id="f371" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>