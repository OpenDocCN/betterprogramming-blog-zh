<html>
<head>
<title>The 10 Most Productive Shell Commands and Command-Line Tricks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10个最有效的Shell命令和命令行技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-most-productive-shell-commands-and-command-line-tricks-ec1415283259?source=collection_archive---------0-----------------------#2021-04-04">https://betterprogramming.pub/the-most-productive-shell-commands-and-command-line-tricks-ec1415283259?source=collection_archive---------0-----------------------#2021-04-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a78d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Shell历史，编辑当前行，等等</h2></div><p id="a3a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">出免费故事？在https://aiko.dev/shell-commands/免费获得这篇文章。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/dbf00d0157736d7804c096f59026e926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/1*Awi84KRY_5cFk9P0cIhtrw.gif"/></div></div></figure><p id="cbc3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当开发软件时，无论你使用什么技术，如果你想成为一个高效的开发人员，没有办法使用命令行。</p><p id="2ed5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是我多年来学到的最喜欢和最常用的shell命令和技巧的列表。我相信你已经知道其中的一些，所以请随意<strong class="kk iu"> </strong>跳过这些，但其他的可能会给你带来生产力的提升，让你在你的n00b同事面前炫耀你的1337 h4x0r $killz。</p><p id="0862" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lr">免责声明:我在Iterm2中使用Z Shell的macOS上使用这些命令。只要您在类似Unix的操作系统上运行类似bash的shell，这些命令也应该适用。如果您有一个更奇特的设置，您可能知道如何在shell中让这些自己工作。如果你在Windows上运行Powershell，祝你好运！</em></p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="1fa3" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">cd -</h1><p id="efea" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">你大概知道可以用<code class="fe mw mx my mz b">cd</code>换到某个目录。<br/>但是你知道你可以使用破折号(<code class="fe mw mx my mz b">-</code>)作为一个参数来返回到上一个目录吗？</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="60d9" class="ne ma it mz b gy nf ng l nh ni">$ cd /home<br/>~&gt; home</span><span id="e75d" class="ne ma it mz b gy nj ng l nh ni">$ cd /my_dir<br/>~&gt; /my_dir</span><span id="3172" class="ne ma it mz b gy nj ng l nh ni">$ cd -<br/>~&gt; /home</span></pre><p id="5542" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">额外提示</strong>:破折号参数也适用于<code class="fe mw mx my mz b">git checkout</code>，所以你可以用它在主分支和工作分支之间快速切换。</p><p id="dee6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于更大的目录历史，请查看<code class="fe mw mx my mz b"><a class="ae le" href="https://unix.stackexchange.com/questions/77077/how-do-i-use-pushd-and-popd-commands" rel="noopener ugc nofollow" target="_blank">pushd</a></code> <a class="ae le" href="https://unix.stackexchange.com/questions/77077/how-do-i-use-pushd-and-popd-commands" rel="noopener ugc nofollow" target="_blank">和</a> <code class="fe mw mx my mz b"><a class="ae le" href="https://unix.stackexchange.com/questions/77077/how-do-i-use-pushd-and-popd-commands" rel="noopener ugc nofollow" target="_blank">popd</a></code>。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="dcea" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">外壳历史</h1><p id="8597" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">这可能是我最常用的shell技巧:按向上箭头<strong class="kk iu"> </strong>(连续)选择我的shell历史中最后的命令。</p><p id="f89c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您也可以按<code class="fe mw mx my mz b">ctrl + r</code> <strong class="kk iu"> </strong>(连续)通过关键字以LRU顺序反向搜索您的shell历史。</p><p id="d7b5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者直接输入<code class="fe mw mx my mz b">history</code>在您的终端中查看整个shell历史。然后你可以写<code class="fe mw mx my mz b">![number]</code>来选择历史中位置<code class="fe mw mx my mz b">number</code>的命令。</p><p id="e6e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您甚至可以使用一个负数作为索引来选择第<code class="fe mw mx my mz b">k</code>个命令，就像这样:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="1482" class="ne ma it mz b gy nf ng l nh ni">$ echo second<br/>$ echo last</span><span id="5e7b" class="ne ma it mz b gy nj ng l nh ni">$ !-2<br/>-&gt; echo second</span></pre><h2 id="cc7e" class="ne ma it bd mb nk nl dn mf nm nn dp mj kr no np ml kv nq nr mn kz ns nt mp nu bi">!!</h2><p id="abd8" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">如果您只需要最后一个命令，您可以在当前命令中包含<code class="fe mw mx my mz b">!!</code>，它将被最后一个执行的命令所替代:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="f433" class="ne ma it mz b gy nf ng l nh ni">$ apt-get install unicorn-factory<br/>&gt; [...] <!-- -->Permission denied</span><span id="6ce2" class="ne ma it mz b gy nj ng l nh ni">$ sudo !!<br/>-&gt; sudo apt-get install unicorn-factory</span></pre><h2 id="fd2f" class="ne ma it bd mb nk nl dn mf nm nn dp mj kr no np ml kv nq nr mn kz ns nt mp nu bi translated">！:[索引]</h2><p id="8683" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">或者你可以通过在你的命令中包含<code class="fe mw mx my mz b">!:[index]</code>来选择你想要的命令的一部分，并且插入前一个命令的索引<code class="fe mw mx my mz b">[index]</code>处的参数。</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="7544" class="ne ma it mz b gy nf ng l nh ni">$ echo hello world <br/>&gt; hello world </span><span id="8f9a" class="ne ma it mz b gy nj ng l nh ni">$ echo !:1<br/>&gt; hello</span></pre><p id="f2d8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您甚至可以使用<code class="fe mw mx my mz b">[index]-[index]</code>选择范围:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="fd87" class="ne ma it mz b gy nf ng l nh ni">$ echo live long and prosper<br/>&gt; live long and prosper</span><span id="e09d" class="ne ma it mz b gy nj ng l nh ni">$ echo !:3-4<br/>&gt; and prosper</span></pre><h2 id="c305" class="ne ma it bd mb nk nl dn mf nm nn dp mj kr no np ml kv nq nr mn kz ns nt mp nu bi">!^ !$</h2><p id="e0af" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">上一条命令的第一个(<code class="fe mw mx my mz b">!^</code>)和最后一个(<code class="fe mw mx my mz b">!$</code>)<em class="lr"/>参数也有快捷键:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="3f77" class="ne ma it mz b gy nf ng l nh ni">$ echo live long and prosper<br/>&gt; live long and prosper</span><span id="3938" class="ne ma it mz b gy nj ng l nh ni">$ echo !^ !$<br/>&gt; live prosper</span></pre></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="39ed" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">编辑当前行</h1><p id="320f" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">当您刚刚从历史记录中选择了一个需要稍加修改的命令时，这可能特别有用。</p><p id="b5e5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以按下<code class="fe mw mx my mz b">ctrl + a</code>将光标移动到行首，按下<code class="fe mw mx my mz b">ctrl + e</code>将光标移动到行尾(记住:e代表<em class="lr"> e代表</em> nd，a代表……呃……字母表的开头？).</p><p id="23e8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外:</p><ul class=""><li id="2a1d" class="nv nw it kk b kl km ko kp kr nx kv ny kz nz ld oa ob oc od bi translated"><code class="fe mw mx my mz b">ctrl + w</code>剪切光标左侧的单词。</li><li id="4929" class="nv nw it kk b kl oe ko of kr og kv oh kz oi ld oa ob oc od bi translated"><code class="fe mw mx my mz b">alt+ d</code>剪切光标右侧的单词。</li><li id="8efd" class="nv nw it kk b kl oe ko of kr og kv oh kz oi ld oa ob oc od bi translated"><code class="fe mw mx my mz b">ctrl + k</code>剪切光标右侧的所有内容。</li><li id="be0a" class="nv nw it kk b kl oe ko of kr og kv oh kz oi ld oa ob oc od bi translated"><code class="fe mw mx my mz b">ctrl + u</code>剪切光标左侧的所有内容。</li><li id="4689" class="nv nw it kk b kl oe ko of kr og kv oh kz oi ld oa ob oc od bi translated"><code class="fe mw mx my mz b">ctrl + y</code>粘贴刚刚剪切的内容。</li></ul><h2 id="62f8" class="ne ma it bd mb nk nl dn mf nm nn dp mj kr no np ml kv nq nr mn kz ns nt mp nu bi translated">ctrl + x + e</h2><p id="3390" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">如果您意识到您实际上需要进行更大的编辑或编写更长的命令，您也可以切换到您的编辑器并随身携带当前行:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="cd21" class="ne ma it mz b gy nf ng l nh ni">$ you are typing this really long command, maybe with some loop or some complex parsing logic and then realize you need more editing power so you press ctrl + e + x<br/>BOOOM!<br/>VIM(or Nano or VI etc.) opens with your command you had typed so far already in the buffer</span></pre><h2 id="147b" class="ne ma it bd mb nk nl dn mf nm nn dp mj kr no np ml kv nq nr mn kz ns nt mp nu bi translated">从历史中粘贴修改的命令</h2><p id="06fc" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">您也可以一步完成，而不是检索最后一个命令，然后分两步修改它。</p><p id="438b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mw mx my mz b">^x^y</code>给出先前的命令，其中<em class="lr"> x </em>被<em class="lr"> y </em>替换:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="d3c1" class="ne ma it mz b gy nf ng l nh ni">$ gti status<br/>&gt; Command 'gti' not found,</span><span id="bda7" class="ne ma it mz b gy nj ng l nh ni">$ ^gti^git<br/>&gt; git status</span></pre></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="0719" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">用一个命令处理多个文件</h1><p id="874d" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">您可能以前使用过类似于<code class="fe mw mx my mz b">cp</code>或<code class="fe mw mx my mz b">mv</code>的命令来处理文件。</p><p id="6b55" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我最喜欢的快捷键之一是<code class="fe mw mx my mz b">{}</code>参数扩展。</p><p id="b2f9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过使用<code class="fe mw mx my mz b">{}</code>，您可以指示您的shell扩展花括号中的每个值:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="72b1" class="ne ma it mz b gy nf ng l nh ni">$ mv hello_world.{js,html} static</span></pre><p id="28f1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该命令移动<code class="fe mw mx my mz b">hello_world.js</code>文件和<code class="fe mw mx my mz b">hello_world.html</code>文件，而不需要键入<code class="fe mw mx my mz b">hello_world.</code>两次。</p><p id="0133" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您也可以使用范围…</p><p id="eedc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下命令将五个文件(<code class="fe mw mx my mz b">file1.png</code>、<code class="fe mw mx my mz b">file2.png</code>、<code class="fe mw mx my mz b">file3.png</code>、<code class="fe mw mx my mz b">file4.png</code>和<code class="fe mw mx my mz b">file5.png</code>)移动到<code class="fe mw mx my mz b">backup/</code>目录:</p><pre class="lg lh li lj gt na mz nb nc aw nd bi"><span id="0a06" class="ne ma it mz b gy nf ng l nh ni">$ mv file{1..5}.png backup/</span></pre></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="48db" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">结论</h1><p id="7f7f" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">因为有更多的命令可以帮助你提高效率，所以当我遇到新的珠宝时，我会不断更新这个列表。你可能想把这篇文章收藏起来以备将来参考。</p><p id="955e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同时，请在评论中分享你最喜欢的命令。</p></div></div>    
</body>
</html>