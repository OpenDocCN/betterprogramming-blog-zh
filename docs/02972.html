<html>
<head>
<title>Stop Using Lists for Everything in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要在Python中对任何东西都使用列表</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/stop-using-lists-for-everything-in-python-46fad15217f4?source=collection_archive---------1-----------------------#2020-01-13">https://betterprogramming.pub/stop-using-lists-for-everything-in-python-46fad15217f4?source=collection_archive---------1-----------------------#2020-01-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7640" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">元组和集合介绍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/867271c63bfd783231b272017080a9dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eXJaAQi8Mr5R68tMdUA5SQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@vtrsnts?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">熊伟·桑多斯</a>在<a class="ae ky" href="https://unsplash.com/s/photos/list?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="eaa7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你学习新的东西时，你对所有的可能性都不熟悉，一旦某样东西有效，你就会坚持下去……在Python中，这种东西就是列表。</p><p id="6a4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我对此深感内疚——列表是如此的方便、语法清晰和灵活。再加上学习列表理解的纯粹乐趣，你会觉得自己中了数据类型大奖。</p><p id="1bc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用列表感觉就像在Smash Bros中无休止地发送你最喜欢的特殊动作。</p><p id="bea0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如许多Python的东西一样，有绝对的宝石，隐藏在明显的地方，这将提升你作为Pythonista的技能。这些宝石中的两个是元组和集合。</p><p id="a0dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们仔细检查一下这些特殊的数据类型，并找出为什么应该使用它们而不是列表。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8c01" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">元组</h1><p id="8a74" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">元组是不可变的有序项目序列。最后一个词——<em class="mz">不可改变的</em>——是这里的秘方。元组一旦定义，就不能更改。</p><p id="6429" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用元组的语法与列表几乎相同，只是使用了圆括号而不是方括号。此外，您可以获取一个列表并将其转换为一个元组。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="57d2" class="nf md it nb b gy ng nh l ni nj"># how to define a list<br/>num_list = [1,2,3,4]</span><span id="d9a1" class="nf md it nb b gy nk nh l ni nj"># how to define a tuple<br/>num_tuple = (1,2,3,4)</span><span id="abe5" class="nf md it nb b gy nk nh l ni nj"># use tuple() to convert<br/>num_convert = tuple(num_list)</span></pre><p id="9952" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不可变有什么特别的？起初，这可能看起来不方便；然而，每次恰当地使用元组而不是列表时，您都在做两件事。</p><ul class=""><li id="53ae" class="nl nm it lb b lc ld lf lg li nn lm no lq np lu nq nr ns nt bi translated">编写更加语义化和安全的代码。当你将一个变量定义为一个元组时，你是在告诉你自己和你代码的任何其他查看者:“这不会改变”。万一您错过了备忘录，任何修改变量的尝试都会遇到错误。</li><li id="2032" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">提高性能。对元组的迭代将比列表更快。元组比列表更节省内存。由于元组中的项数不变，所以它的内存占用更简洁。</li></ul><p id="afb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果列表的大小没有被修改，或者只是为了被迭代，那么尝试用tuple替换它。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1f0f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设置</h1><p id="c425" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">集合是一个无序的、唯一的项目集合。集合不能有重复值，这是它与列表的区别。</p><p id="f648" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">若要定义集合，请使用大括号将逗号分隔的项目列表括起来。不要将这与创建字典混淆，后者有键值对。与元组一样，可以通过转换另一种数据类型来创建集合。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d7db" class="nf md it nb b gy ng nh l ni nj"># how to define a list<br/>num_list = [1,2,3,4]</span><span id="4366" class="nf md it nb b gy nk nh l ni nj"># how to define a set<br/>num_set = {1, 2, 3, 4}</span><span id="1971" class="nf md it nb b gy nk nh l ni nj"># use set() to convert<br/>num_convert = set(num_list)</span></pre><p id="6f39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，如果两个项目相同会发生什么？</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="1ffd" class="nf md it nb b gy ng nh l ni nj">nums = {1,2,3,4,4}<br/>print(nums) # 1,2,3,4</span></pre><p id="fd86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以看到，第二个<code class="fe nz oa ob nb b">4</code>被去掉了。如果我们的原始值是重复项的列表，也会发生同样的情况。</p><p id="d285" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，为什么应该使用集合而不是列表呢？首先，转换为集合是删除重复值的最简单方法。此外，与任何数据类型一样，集合也有自己的一套方法。</p><p id="1b53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当比较多个集合时，集合是很棒的——想想维恩图。<code class="fe nz oa ob nb b">union()</code>、<code class="fe nz oa ob nb b">intersection()</code>和<code class="fe nz oa ob nb b">difference()</code>函数将分别告诉您两个集合之间的组合值、共享值和不同值。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="47d5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="8dcd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Python就是为每个问题找到合适的工具。</p><p id="327f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然列表是舒适的、可靠的，并且很早就学会了，但是可能有更好的工具。</p><p id="8424" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始使用元组来加速处理和保护您声明的数据结构。开始使用集合来确保唯一的值并利用比较方法。</p></div></div>    
</body>
</html>