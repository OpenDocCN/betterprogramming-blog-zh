<html>
<head>
<title>Master the Console + Breakpoint Combo</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握控制台+断点组合</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/productive-programming-mastering-the-debug-console-and-breakpoint-combo-4364902603fc?source=collection_archive---------17-----------------------#2020-03-02">https://betterprogramming.pub/productive-programming-mastering-the-debug-console-and-breakpoint-combo-4364902603fc?source=collection_archive---------17-----------------------#2020-03-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5648" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用IDE的集成控制台和断点完成更多工作</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/58ea1bff2a72e1d362b0032e91e80ace.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZkrMYAbqhP_rgN9u"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@max_duz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Max Duzij </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="2a80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为程序员，我们每天都必须设法通过大型代码库。我们解决难以跟踪的错误，并实现重要的新功能。当使用弱类型语言(如Python和Javascript)时，不了解对象并记住几个函数是很常见的。难怪有这么多像<a class="ae ky" href="https://s3.amazonaws.com/assets.datacamp.com/blog_assets/Numpy_Python_Cheat_Sheet.pdf" rel="noopener ugc nofollow" target="_blank"> NumPy </a>和<a class="ae ky" href="http://datacamp-community-prod.s3.amazonaws.com/dbed353d-2757-4617-8206-8767ab379ab3" rel="noopener ugc nofollow" target="_blank"> Pandas </a>这样的小抄，也难怪像<a class="ae ky" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank"> TypeScript </a>这样的语言在社区中如此受欢迎。</p><p id="b993" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在实践中，我们经常不得不固定接收<code class="fe lv lw lx ly b">a</code>和<code class="fe lv lw lx ly b">b</code>作为参数的函数。它们是什么？找出答案的一个方法是<code class="fe lv lw lx ly b">print(a)</code>和<code class="fe lv lw lx ly b">print(b)</code>，看看你会得到什么。幸运的是，这将为您指出可以在堆栈溢出中搜索的内容。如果没有，你可以试试<code class="fe lv lw lx ly b">print(type(a))</code>，在网上搜索一下。如果这是一个内部库，你最好的办法可能是给一个高级开发人员打电话，希望他们知道它们是什么。在一般情况下，你可能会运行“戳代码”一到十几次，直到你觉得足够舒服可以继续下去。</p><p id="f891" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了解决这个问题，许多开发人员使用调试控制台和断点组合。这种技术允许您在执行过程中与对象进行交互，从而有助于最大限度地减少“戳代码”所花费的时间。调试控制台是你的游乐场，断点帮助你定义游戏时间。</p><p id="d20a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将使用Python和Visual Studio代码IDE来说明这个概念。然而，如果你使用另一种语言或其他环境，所有概念都同样适用的可能性很高。拥有断点很容易——任何有价值的IDE都有断点。至于调试窗口，它们经常出现，但是有很多名字。JetBrain的人将其称为“表达式求值器”，而Visual Studio团队将其称为“即时窗口”。在Eclipse中，可以在名称“表达式”下找到它。请注意，这些ide跨越了一组广泛且相关的语言。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="bc88" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">用Python做:Iris数据集练习</h1><p id="5847" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我们的任务是获取虹膜数据集，并对其进行一些机器学习。如果你不喜欢机器学习，没问题，这不是关于机器学习的。</p><p id="feb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您有Visual Studio代码IDE、Python插件和有效的Python安装，创建一个简单的<code class="fe lv lw lx ly b">sample.py</code>文件，编写一个打印语句，为它设置一个断点，然后运行。您应该会看到以下屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/aad58719de3314ded4a42299e3a8a13b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Msn92r7BznEL_zCGr-_4Q.png"/></div></div></figure><p id="89cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，出现了一个新窗口，其中激活了Terminal选项卡。转到调试控制台选项卡并尝试一下——编写<code class="fe lv lw lx ly b">print("hey!")</code>。如果你切换回终端标签，会有你的“嘿。”</p><p id="2d3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们谷歌“python get iris dataset”，它显示Scikit包中有<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_iris.html" rel="noopener ugc nofollow" target="_blank">函数来加载它。</a>使用我们的调试控制台，我们可以检查是否有Scikit包。尝试运行以下命令:</p><pre class="kj kk kl km gt ne ly nf ng aw nh bi"><span id="50d7" class="ni mh it ly b gy nj nk l nl nm"><strong class="ly iu">from</strong> <strong class="ly iu">sklearn.datasets</strong> <strong class="ly iu">import</strong> load_iris</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/130f7636904b2aa5d7d9890c7e39ae3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QTzL0Y_yfbAhIMISLhDt3g.png"/></div></div></figure><p id="064d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我当前的环境中没有Scikit包。让我们谷歌一下。第一个链接<a class="ae ky" href="https://scikit-learn.org/stable/install.html" rel="noopener ugc nofollow" target="_blank">告诉我运行<code class="fe lv lw lx ly b">pip install -U scikit-learn</code>。以管理员权限打开一个终端窗口，并运行代码片段:</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/d70ead345172a7411c1cef8cbf5b0e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZJje-8GKKFxTKp6abXod1Q.png"/></div></div></figure><p id="0a42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们不仅有Scikit-Learn，还有Joblib、NumPy和SciPy。切换回调试窗口—让我们再试一次:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/2ee5d1fed28691d83a70e7d02a71af31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eTdVVzFsNjCdyMRwyNMVMw.png"/></div></div></figure><p id="2ba6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有用！请记住，我没有重新运行任何东西。第二行，我调用<code class="fe lv lw lx ly b">load_iris</code>看看会弹出什么，它告诉我这是一个函数。<em class="no">戳代码不用重新运行任何东西。</em></p><p id="e224" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">咱们跑吧<code class="fe lv lw lx ly b">load_iris()</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/3bb24f35505848150889a04bbaa9ba06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-_YfFYBDy3r4iJw5cNcuLA.png"/></div></div></figure><p id="bb6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">似乎我们现在有了数据集。在这一点上，巩固我们在脚本中所做的是有用的。这样，我们可以更容易地检查我们刚刚下载的数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/d0926380e48bc41baac7ebd7ffaa4820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*39uExSImNIV7uSvj5ZfwOQ.png"/></div></div></figure><p id="5a43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编辑完脚本后，我重新运行了代码。该脚本现在导入<code class="fe lv lw lx ly b">load_iris</code>函数，调用它，并将结果保存到一个变量中。使用我们IDE的检查机制，我们可以查看<code class="fe lv lw lx ly b">iris</code>对象的内部，看看它包含了什么。作为优秀的数据科学家，我们应该稍微探索一下我们的数据，以便对它有所了解——让我们检查一下这个<code class="fe lv lw lx ly b">data</code>属性:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/a20ea3e9a6e2f99a716febb4fb268484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XgRxdPYZs6gbZDQBjzlJ1Q.png"/></div></div></figure><p id="3ddc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无需重新运行任何东西，我们就可以检查数据的形状、平均值、每个特征的平均值、标准偏差(std)等等。现在，让我们来看看<code class="fe lv lw lx ly b">target</code>属性:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/a1b06f251ef1bfa5cdb3acb96d99dc15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jhmWE7Q99rW4ne0hmVPJ0g.png"/></div></div></figure><p id="3081" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">真是一团糟！我尝试直接在一个<code class="fe lv lw lx ly b">NumPy</code>数组上运行<code class="fe lv lw lx ly b">unique()</code>。我忘记了这个方法只能通过直接调用<code class="fe lv lw lx ly b">NumPy</code>来访问。然后，调用它失败了，因为我还没有导入NumPy。导入后终于可以让这个调用工作了。现在，我看到目标变量只有三个值。</p><p id="d89e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至此，应该清楚这种技术是如何工作的了。这个脚本就像一个记事本，存储所有有效的东西，调试控制台是我们“尝试一切”的地方。脚本会不时地增长，我们会重新运行它来清理我们的全局名称空间。修补是在现场完成的，必要时使用IDE检查工具。此外，我们看到这容忍安装包和运行不正确的代码，这大大提高了我们的生产力。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="a976" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">断点</h1><p id="cd53" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">到目前为止，亮点是调试控制台。有了它，我们可以在执行过程中运行任何代码，戳中任何我们好奇的东西。另一方面，断点定义了我们何时可以使用控制台。到目前为止，断点仅仅设置在脚本末尾的一个伪print语句上。在较大的脚本中，它们是窥视执行流程任何一点的无价工具。</p><p id="ab76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当试图理解别人的代码时，很容易迷失在Python一行程序的神奇世界和从未见过的pip包的丛林中。使用断点和调试控制台可能是真正了解正在发生的事情的最快方法之一。特别是在使用<code class="fe lv lw lx ly b">NumPy</code>数组的情况下，可以方便地设置断点来检查数组的形状和统计数据，比如平均值、标准偏差、最小值和最大值。熊猫的数据帧也是如此——运行<code class="fe lv lw lx ly b">head()</code>和<code class="fe lv lw lx ly b">describe()</code>命令来跟踪数据帧在执行过程中的变化是很有用的。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="c1ac" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">结束语</h1><p id="17e0" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">使用调试控制台和断点可以显著增加每小时编写的工作代码量。这里已经用Python语言和VS代码IDE展示了这种技术，但是它并不局限于这些工具。我在几种语言中使用过这种思想，比如C#、Matlab，在某种程度上还有Prolog。</p><p id="ac29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于Jupyter笔记本用户(及其衍生产品)的特殊情况，使用这种技术似乎是多余的，因为代码块已经提供了一种“想试就试”的空间。然而，这种技术更通用，因为它可以应用于Jupyter项目(和Python本身)之外。它不仅限于笔记本电脑。把它想象成能够在非笔记本环境中像笔记本一样工作。此外，当从原型转移到产品时，团队通常会从笔记本切换到实际的脚本。在这种情况下，知道如何使用调试控制台可以减轻很多痛苦。</p></div></div>    
</body>
</html>