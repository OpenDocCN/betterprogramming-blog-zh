<html>
<head>
<title>A Self-Avoiding Walker in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI里的一个自我回避的行者</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-self-avoiding-walker-in-swiftui-9d2922ee1837?source=collection_archive---------5-----------------------#2022-10-12">https://betterprogramming.pub/a-self-avoiding-walker-in-swiftui-9d2922ee1837?source=collection_archive---------5-----------------------#2022-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5173" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创造一条害怕自己的蛇</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/62a26ea9901a9935f17acb84a5a89f54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gROjZyh58RrK2PsFSude7g.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">沃克试图避开自己。如果需要，可以回溯</p></figure><p id="12e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">前几天构建了一个贪吃蛇游戏后，我想到我可以使用这个源代码来构建一个类似但又不同的东西:一个自我回避的行走者。事实证明，这项任务比你想象的要难。</p><p id="60f9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">目标是修改蛇源，以便它创建一个不断增长的蛇，永远不会碰到自己。一个有趣的小项目，花了一天左右的时间才工作得相当好，因为在其中我必须实现一个回溯例程。</p><h1 id="d87b" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">旅程</h1><p id="59ac" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">我从复制我已经编写的snake代码开始，并以此为基础。我创建了一个<code class="fe mr ms mt mu b">snakeBody</code>结构，我可以通过向它随机添加段来增长它。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="4454" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后我画了一个定时循环的身体，每秒钟在蛇上随机添加一段。尽管事实远不止如此。</p><p id="2a51" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随机可以是四个方向之一；理论上只有三个。我用这段简单的代码做到了这一点:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="7374" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简而言之，它向四个方向移动，直到无法移动。其中不能位是最难弄清楚的。</p><p id="033b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">问题是这样的:随着蛇的生长，它需要跟踪它所占据的细胞。由于回合完全是随机的，它不仅可能而且很有可能会变成一个盲目的盟友，需要退出，直到它找到一个空闲的细胞继续前进。下面是我用来处理这个问题的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="7eda" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mr ms mt mu b">snakeHead</code>包含建议移动的坐标。如果是好的，就加在身上，继续下去。如果不是，if loops将搜索所有四个方向，以查看是否有空闲路径。如果有，就继续。</p><p id="a7a3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当它无法找到自由路径时，比如在一个死胡同中，它会移除蛇的最后几段，并将这个死胡同添加到一个不可用单元的列表中——重复前面的过程，看看它是否可以逃脱。</p><p id="6802" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有这些都把我带到了这个超级短片的结尾。</p><p id="c7b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看着它慢慢接管屏幕。很迷人。这里是完整的<a class="ae mx" href="https://gist.github.com/b294df5a1fdac8e62ed1f37aa972d20a.git" rel="noopener ugc nofollow" target="_blank">源</a>如果你想玩它。</p><p id="9651" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>