<html>
<head>
<title>Adding Barcode Support to a Salesforce Mobile Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向Salesforce移动应用程序添加条形码支持</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/adding-barcode-support-to-a-salesforce-mobile-application-7ddebfb4c5ae?source=collection_archive---------7-----------------------#2022-03-10">https://betterprogramming.pub/adding-barcode-support-to-a-salesforce-mobile-application-7ddebfb4c5ae?source=collection_archive---------7-----------------------#2022-03-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="df4d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在他的妻子质疑他的零食消费水平后，John决定创建一个Salesforce移动应用程序来扫描零食的条形码</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f6d08153dcff7268c4b5939d896cb4d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*20bHs5JqkB4k5ck_qhfSbA.jpeg"/></div></div></figure><p id="659d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">移动设备已经成为我们生活的核心部分。当然，这可能是一件好事，也可能是一件坏事。然而，出于本文的目的，我将关注移动设备丰富我们生活的积极方式。</p><p id="08f1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">事实上，当我上大四的儿子Eric来访时，我们的谈话经常会让Eric使用他的手机来定位和验证与我们的讨论相关的信息。最疯狂的是:无论我们谈论什么，他最喜欢的搜索引擎和语音转文本的技能几乎可以立即给出答案。</p><p id="12a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我对技术的使用甚至延伸到了节俭购物的方式，我可以扫描感兴趣的产品的条形码，看看同样的产品是否有更好的价格。这让我想知道如何轻松地将条形码技术实现到定制的应用程序或组件中。</p><h1 id="8902" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">Salesforce移动应用程序中的条形码支持</h1><p id="e80c" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Salesforce的工程团队知道，对于移动设备用户来说，条形码是一种快速简便的信息定位方式。UPC条形码和QR码已经存在了几十年，它们的使用并没有减少。</p><p id="b248" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用Salesforce移动客户端和移动设备上的摄像头，条形码可以通过<a class="ae mk" href="https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.reference_lightning_barcodescanner" rel="noopener ugc nofollow" target="_blank">条形码扫描器API </a>轻松集成到应用程序中。以下是创建包含BarcodeScanner API的Lightning Web组件(LWC)的一些常见用例:</p><ul class=""><li id="bd80" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">使用条形码作为主键，在Salesforce中执行查找。</li><li id="d1ec" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">通过读取二维码中的联系人数据自动填充表单数据。</li><li id="792e" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">使用条形码数据进行外部系统调用，例如通过第三方API跟踪货物。</li></ul><p id="0730" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我将探索第一个选项，其中扫描的条形码对存储在Salesforce中的数据执行查找。</p><h1 id="1f07" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">Salesforce DX和VS代码</h1><p id="0a25" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Salesforce DX使Salesforce平台上的开发变得简单、开放、集成和协作。借助Salesforce DX，开发人员可以共同构建并持续交付。当与<a class="ae mk" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio (VS)代码</a>和<a class="ae mk" href="https://marketplace.visualstudio.com/items?itemName=salesforce.salesforcedx-vscode" rel="noopener ugc nofollow" target="_blank"> Salesforce扩展包</a>结合使用时，与Salesforce一起工作就变成了无缝操作。</p><p id="d279" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，Command-Shift-P或Windows-Shift-P快捷键提供了对SFDX命令的快速访问，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/609314fc8e37be5f95de4f40f31c8e0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*hu5S2ftRXr4owwU2P6AVqA.png"/></div></figure><p id="939a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">亲眼看到这些增强让我有机会使用VS代码和Salesforce扩展包为Salesforce平台构建一些东西。</p><h1 id="709f" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">卡路里计数器用例</h1><p id="3ce3" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我的热心读者可能还记得，我有机会在一个100%远程的角色中工作。在这一周的大部分时间里，我和妻子妮可以及我们蹒跚学步的儿子芬尼一起住在家里。妮可非常认真地保持良好的饮食习惯，我对零食的热爱是我们之间的敏感话题。这基本上是Nicole认为我吃太多零食的一种很好的表达方式。</p><p id="16da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我注意到这些小吃中的每一种…</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/9775c762eef725ef3c8a099a49957c9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4cCa6Rh-lL9GIB777Ue-0g.jpeg"/></div></div></figure><p id="4a69" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">…有自己独特的条形码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/f0af1ea71430216edc70e7fc0853e9f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qZMKal9cfSqG1SFubvwgw.jpeg"/></div></div></figure><p id="b386" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">鉴于我目前的场景，我决定为名为卡路里计数器的Salesforce移动应用程序创建一个Lightning Web组件(LWC)。这个应用程序将使用BarcodeScanner API来读取UPC，并为我选择的零食提供卡路里数。</p><p id="ac22" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从长远来看，我可以用这个逻辑来跟踪我的零食消费，帮助我保持在一个可接受的范围内。然而，现在，我们先走后跑。</p><h1 id="a076" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">创建小吃对象</h1><p id="1579" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">为了简单起见，我在Salesforce DX中创建了一个<code class="fe nb nc nd ne b">Snack__c</code>对象，它包含以下属性:</p><ul class=""><li id="b45b" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated"><strong class="kt ir">名称</strong>(已经存在于Salesforce中)来描述小吃</li><li id="5298" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><strong class="kt ir">卡路里</strong>(如<code class="fe nb nc nd ne b">Calories__c</code>)记录每份食物的卡路里</li><li id="e909" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><strong class="kt ir">条形码</strong>值(如<code class="fe nb nc nd ne b">UPC__c</code>)作为每个小吃的唯一键</li></ul><p id="eadf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用我的零食(如上图),我可以快速输入这个用例的预期数据:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/0f8c2dd52e814fa11a0c299d470b5e2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hW9KxPGdTlOIzqMSfptOwA.png"/></div></div></figure><h1 id="ba10" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">创造卡路里计数器体验</h1><p id="f07b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">了解了我的数据结构和简单用例后，我概述了接下来的步骤:</p><ol class=""><li id="2445" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm ng mr ms mt bi translated">创建一个LWC来与BarcodeScanner API集成。</li><li id="c47e" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm ng mr ms mt bi translated">如果条形码结果存在，则使用扫描值调用Salesforce中的Apex控制器。</li><li id="1d9b" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm ng mr ms mt bi translated">Apex控制器使用条形码值调用<code class="fe nb nc nd ne b">Snack__c</code>对象。</li><li id="1b9a" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm ng mr ms mt bi translated">如果扫描值存在<code class="fe nb nc nd ne b">Snack__c</code>结果，则将对象数据返回给LWC。</li><li id="bad2" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm ng mr ms mt bi translated">LWC在发出请求的设备上显示数据。</li></ol><h2 id="d121" class="nh lo iq bd lp ni nj dn lt nk nl dp lx la nm nn lz le no np mb li nq nr md ns bi translated">创建Lightning Web组件(LWC)</h2><p id="fee4" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">在VS代码中，可以使用SFDX: Create Lightning Web组件选项创建一个新的LWC。我用了<code class="fe nb nc nd ne b">calorieCounter</code>这个名字。</p><p id="87b6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我想确保我的新组件可以在Salesforce生态系统中的任何地方使用。我更新了<code class="fe nb nc nd ne b">calorieCounter.js-meta.xml</code>如下图:</p><pre class="kg kh ki kj gt nt ne nu nv aw nw bi"><span id="0602" class="nh lo iq ne b gy nx ny l nz oa">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>&lt;LightningComponentBundle ae mk" href="http://soap.sforce.com/2006/04/metadata" rel="noopener ugc nofollow" target="_blank"&gt;http://soap.sforce.com/2006/04/metadata"&gt;<br/>    &lt;apiVersion&gt;53.0&lt;/apiVersion&gt;<br/>    &lt;isExposed&gt;true&lt;/isExposed&gt;<br/>    &lt;targets&gt;<br/>        &lt;target&gt;lightning__AppPage&lt;/target&gt;<br/>        &lt;target&gt;lightning__RecordPage&lt;/target&gt;<br/>        &lt;target&gt;lightning__HomePage&lt;/target&gt;<br/>    &lt;/targets&gt;<br/>&lt;/LightningComponentBundle&gt;</span></pre><p id="3906" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用包含在<a class="ae mk" href="https://developer.salesforce.com/docs/component-library/documentation/en/lwc/lwc.use_barcodescanner_in_a_lightning_component" rel="noopener ugc nofollow" target="_blank">条形码扫描器API文档</a>中的以下信息，将条形码扫描器API添加到我的新组件中:</p><pre class="kg kh ki kj gt nt ne nu nv aw nw bi"><span id="207d" class="nh lo iq ne b gy nx ny l nz oa">import { getBarcodeScanner } from 'lightning/mobileCapabilities';</span></pre><p id="af2d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我添加了以下方法来确定使用该组件的客户端是否可以扫描条形码:</p><pre class="kg kh ki kj gt nt ne nu nv aw nw bi"><span id="1a0e" class="nh lo iq ne b gy nx ny l nz oa">   connectedCallback() {<br/>        this.myScanner = getBarcodeScanner();<br/>        if (this.myScanner == null || !this.myScanner.isAvailable()) {<br/>            this.scanButtonDisabled = true;<br/>        }<br/>    }</span></pre><p id="d921" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我添加了<code class="fe nb nc nd ne b">handleBeginScanClick()</code>方法来从设备摄像头捕获条形码。然后，如果成功，结果将被传递到Salesforce中的Apex控制器，以尝试定位小吃。我还添加了简单的错误处理。</p><pre class="kg kh ki kj gt nt ne nu nv aw nw bi"><span id="d840" class="nh lo iq ne b gy nx ny l nz oa">handleBeginScanClick(event) {<br/>        // Reset scannedBarcode to empty string before starting new scan<br/>        this.scannedBarcode = '';<br/>        this.resultsFound = false;<br/>        this.snackFound = false;</span><span id="fa63" class="nh lo iq ne b gy ob ny l nz oa">// Make sure BarcodeScanner is available before trying to use it<br/>        // Note: We _also_ disable the Scan button if there's no BarcodeScanner<br/>        if (this.myScanner?.isAvailable()) {<br/>            const scanningOptions = {<br/>                barcodeTypes: [ <br/>                    this.myScanner.barcodeTypes.UPC_E<br/>                ]<br/>            };<br/>            this.myScanner<br/>                .beginCapture(scanningOptions)<br/>                .then((result) =&gt; {<br/>                    this.resultsFound = true;<br/>                    this.scannedBarcode =  result.value;<br/>                    this.scannedBarcodeType = result.type;</span><span id="a8d6" class="nh lo iq ne b gy ob ny l nz oa">findSnackByUpcEquals({ upcId: this.scannedBarcode })<br/>                    .then((snack) =&gt; {<br/>                        this.snackFound = true;<br/>                        this.snackName = snack.Name;<br/>                        this.snackCalories = snack.Calories__c;<br/>                        this.snackUPC = snack.UPC__c;<br/>                        this.error = undefined;<br/>                        this.buttonLabel = 'Scan Another Snack Barcode';<br/>                    })<br/>                    .catch((error) =&gt; {<br/>                        throw error;<br/>                    });<br/>                })<br/>                .catch((error) =&gt; {<br/>                    // Handle cancellation and unexpected errors here<br/>                    console.error(error);<br/>                    this.snackFound = false;<br/>                    this.buttonLabel = 'Scan Barcode';</span><span id="0561" class="nh lo iq ne b gy ob ny l nz oa">// Inform the user we ran into something unexpected<br/>                    this.dispatchEvent(<br/>                        new ShowToastEvent({<br/>                            title: 'Barcode Scanner Error',<br/>                            message:<br/>                                'There was a problem scanning the barcode: ' +<br/>                                JSON.stringify(error) +<br/>                                ' Please try again.',<br/>                            variant: 'error',<br/>                            mode: 'sticky'<br/>                        })<br/>                    );<br/>                })<br/>                .finally(() =&gt; {</span><span id="e2fb" class="nh lo iq ne b gy ob ny l nz oa">// Clean up by ending capture,<br/>                    // whether we completed successfully or had an error<br/>                    this.myScanner.endCapture();<br/>                });<br/>        } else {<br/>            // BarcodeScanner is not available<br/>            // Not running on hardware with a camera, or some other context issue<br/>            // Let user know they need to use a mobile phone with a camera<br/>            this.dispatchEvent(<br/>                new ShowToastEvent({<br/>                    title: 'Barcode Scanner Is Not Available',<br/>                    message:<br/>                        'Try again from the Salesforce app on a mobile device.',<br/>                    variant: 'error'<br/>                })<br/>            );<br/>        }<br/>    }</span></pre><p id="f59e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">简单组件UI的模板如下所示:</p><pre class="kg kh ki kj gt nt ne nu nv aw nw bi"><span id="7089" class="nh lo iq ne b gy nx ny l nz oa">&lt;template&gt;<br/>    &lt;div if:false={resultsFound} class="slds-align_absolute-center slds-text-align_center <br/>        slds-text-color_weak"&gt;<br/>        Click the Scan Barcode button to open a barcode scanner camera view. Position a barcode in the scanner view to scan it.<br/>    &lt;/div&gt;</span><span id="3ebf" class="nh lo iq ne b gy ob ny l nz oa">&lt;div if:true={resultsFound} class="slds-var-m-vertical_large slds-var-p-vertical_medium <br/>        slds-text-align_center slds-border_top slds-border_bottom"&gt;<br/>        &lt;p&gt;Found Barcode = {scannedBarcode} (type = {scannedBarcodeType})&lt;/p&gt;<br/>    &lt;/div&gt;</span><span id="20c3" class="nh lo iq ne b gy ob ny l nz oa">&lt;div if:true={snackFound} class="slds-var-m-vertical_large slds-var-p-vertical_medium <br/>        slds-text-align_center slds-border_top slds-border_bottom"&gt;<br/>        &lt;div class="slds-m-around_medium"&gt;<br/>            &lt;p&gt;&lt;span class="slds-text-title_bold"&gt;Name&lt;/span&gt;: {snackName}&lt;/p&gt;<br/>            &lt;p&gt;&lt;span class="slds-text-title_bold"&gt;Calories&lt;/span&gt;: {snackCalories}&lt;/p&gt;<br/>            &lt;p&gt;&lt;span class="slds-text-title_bold"&gt;UPC Value&lt;/span&gt;: {snackUPC}&lt;/p&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;</span><span id="0c52" class="nh lo iq ne b gy ob ny l nz oa">&lt;div class="slds-text-align_center slds-p-top_xx-small"&gt;<br/>        &lt;lightning-button variant="brand" class="slds-var-m-left_x-small" disabled={scanButtonDisabled}<br/>            icon-name="utility:cases" label={buttonLabel} title="Scan a Snack"<br/>            onclick={handleBeginScanClick}&gt;<br/>        &lt;/lightning-button&gt;<br/>    &lt;/div&gt;<br/>&lt;/template&gt;</span></pre><h2 id="6c7d" class="nh lo iq bd lp ni nj dn lt nk nl dp lx la nm nn lz le no np mb li nq nr md ns bi translated">使用Apex控制器访问卡路里数据</h2><p id="1527" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">卡路里计数器组件使用的Apex控制器设计也很简单，基本上包含一个Salesforce查询:</p><pre class="kg kh ki kj gt nt ne nu nv aw nw bi"><span id="ab6a" class="nh lo iq ne b gy nx ny l nz oa">public with sharing class SnackController {<br/>    <a class="ae mk" href="http://twitter.com/AuraEnabled" rel="noopener ugc nofollow" target="_blank">@AuraEnabled</a>(cacheable=true)<br/>    public static Snack__c findSnackByUpcEquals(String upcId) {<br/>        return [<br/>            SELECT Name, Calories__c, UPC__c  <br/>            FROM Snack__c <br/>            WHERE UPC__c = :upcId <br/>            LIMIT 1<br/>        ];<br/>    }<br/>}</span></pre><p id="9617" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">控制器从组件接收<code class="fe nb nc nd ne b">upcId</code>，并将该值包含在<code class="fe nb nc nd ne b">Snack__c</code>对象的查询中。结果集限于一条记录，该记录返回给组件。</p><h1 id="3007" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">通过Salesforce Mobile提供卡路里计数器</h1><p id="c1ea" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">一旦准备就绪，我就可以使用<strong class="kt ir"> Command-Shift-P </strong>和<strong class="kt ir">SFDX:Deploy This Source to Org</strong>命令将我的代码推送到我的Salesforce开发组织。这使得零食对象、卡路里计数器组件和Apex控制器可以在Salesforce中使用。</p><p id="235b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我在Salesforce中打开了<strong class="kt ir">设置</strong>透视图，并导航至<strong class="kt ir">应用程序|应用程序管理器</strong>页面。我点击了<strong class="kt ir">新建Lightning应用</strong>按钮，创建了一个名为<code class="fe nb nc nd ne b">CalorieCounter</code>的新应用:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/2680f6cbcecd41ca12bf9b325a07c4e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ore4rLJIDkV3bKWWJLmW2w.png"/></div></div></figure><p id="6f46" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，我导航到<strong class="kt ir">用户界面| Lightning App Builder </strong>屏幕。在这里，我创建了一个名为<code class="fe nb nc nd ne b">Calorie Counter</code>的新<strong class="kt ir">闪电页面</strong>，它被设计成一个具有单一区域的<strong class="kt ir">应用页面</strong>。</p><p id="a5f4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在屏幕左侧，我可以在自定义部分看到我的<code class="fe nb nc nd ne b">calorieCounter</code> LWC。我所要做的就是将该组件拖放到基于Lightning的页面的单个区域中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/bdd8ae8b2569e5c65942a30b4f4a4344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cGTB9aNTGD34uRHB3LCGwQ.png"/></div></div></figure><p id="3f02" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">保存组件后，我使用激活过程向客户展示Lightning页面。在激活阶段，我在<code class="fe nb nc nd ne b">CalorieCounter</code>应用中添加了卡路里计数器闪电页面:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/d69b9cff79c87a0e936611a0e6513c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1_CJ0vafu7MVa1y_Amq9BQ.png"/></div></div></figure><p id="d08e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我访问了<strong class="kt ir">设置|应用程序|移动应用程序| Salesforce导航</strong>，并在所选应用程序顶部附近添加了<strong class="kt ir">卡路里计数器</strong>应用程序:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/2b2a63b2af550e5e0eb940cdc6900b11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKk5MNVF6RPFnqSrQSRc3Q.png"/></div></div></figure><h1 id="9402" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">卡路里计数器在工作</h1><p id="020d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">下载并启动我的Salesforce移动应用程序后，我可以看到我刚刚创建的卡路里计数器应用程序:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/83728bbf5f289633dbe6d539e15bdf2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2Ka2-CCoo_sAw_MDplR8A.jpeg"/></div></div></figure><p id="9c48" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我点击卡路里计数器应用程序，它显示了以下带有我的自定义LWC的屏幕:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/9c2b41ce2ddb6b1ac52e3d6886e98481.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wtjQn27DcA1ThFFJU1IPIw.jpeg"/></div></div></figure><p id="8bd5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我点击<strong class="kt ir">扫描条形码</strong>按钮，扫描好时巧克力的通用产品代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/25552c59ba0f540979daa7c819dd53c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qvjf9ZODGvDNtdtEVlaPDw.jpeg"/></div></div></figure><p id="1eaa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我的移动设备上的条形码扫描仪很快识别了条形码，并更新了卡路里计数器应用程序，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/73187b1e1433ae998dc65058bed24303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2O09nAb0rVW8PIdP72wL2w.jpeg"/></div></div></figure><p id="dd56" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">几秒钟之内，我就能查到好时巧克力的卡路里，并决定这是不是我想吃的零食。(我是，我也是。)</p><h1 id="fce6" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">结论</h1><p id="a689" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">从2021年开始，我一直努力按照以下使命宣言生活，我觉得这可以适用于任何IT专业人士:</p><blockquote class="oi oj ok"><p id="910e" class="kr ks ol kt b ku kv jr kw kx ky ju kz om lb lc ld on lf lg lh oo lj lk ll lm ij bi translated"><em class="iq">“将您的时间集中在提供扩展您知识产权价值的特性/功能上。将框架、产品和服务用于其他一切。”<br/>——j·维斯特</em></p></blockquote><p id="f073" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当使用Lightning Web Components (LWC)和BarcodeScanner API时，将条形码支持引入定制应用程序的能力是非常简单的。在不到一个小时的时间里，我对条形码的了解从一个普通的扫描仪变成了一个开发人员，他只是将条形码集成到一个功能应用程序中。很明显，Salesforce的工程团队正在开发解决方案，为常见挑战提供现实世界的价值……它们还帮助我实现了当前的使命。</p><p id="0d50" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在当今世界，消费者被他们在移动设备上能做什么和不能做什么所驱动。如果条形码技术有办法给你带来竞争优势，那么提供可靠条形码API的应用平台(如Salesforce)应该在你的供应商候选名单上。</p><p id="9bae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您对本文的源代码感兴趣，只需导航到GitLab上的以下资源库:</p><p id="27b7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae mk" href="https://gitlab.com/johnjvester/lwc-calorie-counter" rel="noopener ugc nofollow" target="_blank">https://gitlab.com/johnjvester/lwc-calorie-counter</a></p><p id="a1cb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">祝你今天过得愉快！</p></div></div>    
</body>
</html>