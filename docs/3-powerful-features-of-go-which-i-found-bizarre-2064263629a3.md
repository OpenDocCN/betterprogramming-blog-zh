# 我觉得很奇怪的 3 个强大的围棋功能

> 原文：<https://betterprogramming.pub/3-powerful-features-of-go-which-i-found-bizarre-2064263629a3>

## 一个不寻常的命名约定、多个返回值和一个空白标识符让我花了一些时间才完全理解

![](img/f3baf2231c358c70f5bf71ee9db90355.png)

照片由[布雷特乔丹](https://unsplash.com/@brett_jordan) 在 [Unsplash](https://unsplash.com/) 上拍摄

最近，我的团队负责了一个用 Go 编程语言开发的小型企业 API。所以我们必须在维护 API 的同时学习围棋。我有一些乐趣，也有一段奇怪的时间试图找出如何调整我的心态，以充分理解围棋提供的东西。

Go 不像其他编程语言有几乎完全相同的语法和非常相似的语义。这就是为什么从头开始学习感觉如此有趣。另一个让我觉得不可思议的有趣的原因是，我不得不从面向对象编程和脚本语言中忘记一些语法和语义；由于这些在我整个职业生涯中使用的编程语言中很常见，我意识到其中一些已经成为一种习惯，并作为规则编码在我的大脑中。

因此，我将尝试解释 Go 编程语言的特点，在我的学习过程中，这种语言对我来说感觉很奇怪，但很神奇。

我将用两个不同的简单例子用代码来演示。

第一个是这个创建和打印套牌的小例子。第 38 行的`main()`函数是这个程序的起点，它调用`newDeck`、`shuffle`然后`print`函数来显示创建好的洗牌。

# 1.多个返回值

如果您需要一个函数返回多个值，几乎在每种编程语言中都可以找到一种解决方法。

您可以返回包含不同值的数组或对象，并在调用函数时使用这些返回值。尽管一个职能拥有多个职责并不“合适”，但是根据 SOLID 的首要原则“单一职责”，在某些情况下您可能需要使用这种变通方法。

Go 已经发现了这个问题，并开发了内置功能来支持多个返回值。

正如代码中非常清楚的那样，`myValues`函数返回两个不同的值。返回值的类型和顺序是在函数定义过程中预定义的，因此，如果函数中出现任何错误，go 编译器将无法编译并抛出错误。

Return 和 assign 语法也非常清楚，只需在 return/assign 语句的值之间加一个逗号就可以了。简单，但功能强大！

# 2.下划线“_”*空白标识符*

想象一下，如果您不想或者不需要使用函数的所有返回值，在这种情况下，您仍然需要为每个返回值定义变量，否则 go 将在编译时失败。Go 针对这一挑战推出的内置解决方案是空白标识符。

你可能已经从上面的例子中意识到，在应该有变量名的地方定义了一些下划线。

Go 中的 Range 函数返回两个变量，其中一个是索引，另一个是我们在 for 循环中为 slide 遍历的项(注意:Slide 只是一个花哨的词，用于 Go 中的数组)。

因为我们没有在 for 循环中使用 index 变量，所以我们加了下划线，这样 go 就可以知道这里有一个变量，但是我不在乎它，也不会使用它。

公平地说，下划线空白标识符是最奇怪的东西，我发现很难调整。因为我的大脑有一个特定的计划和步骤来阅读和理解代码块，那个空白标识符破坏了我看代码块的方式。所以一开始对我来说挺有挑战性的。

# *3。不寻常的命名惯例*

使用一个或两个字母的变量名是 Go 编程语言的惯例。这是第二个最奇怪的编码行为，我仍在努力适应。我，就像任何其他开发人员一样，知道或者被认为我们必须使用明确的变量名，这样我们编写的代码才是干净的、可重用的、可维护的，并且可以被其他人理解。

正如你所看到的，这个 shuffle 函数有很多这种不寻常的命名约定的例子。函数定义中的接收方参数定义为名称`d`缩写为 deck，`r`缩写为 random，第 4 行`i`缩写为 index。

根据我的个人经验，这些单字母变量可能很快就会变得混乱，并导致错误或难看的代码块。但是，这种命名约定在 Go 社区中被广泛接受并且非常普遍。

上面的这些特征让我感到不安全，因为一开始它们有点吓人。但是现在，我非常激动，因为我已经学会了一门让我有这种感觉的编程语言，而且我非常喜欢和 Go 一起工作。Go 提供了更多的好功能，一开始可能会让你感觉不太好。只要给它一个机会，它可能会变成一个相当令人兴奋的事情。

感谢阅读。