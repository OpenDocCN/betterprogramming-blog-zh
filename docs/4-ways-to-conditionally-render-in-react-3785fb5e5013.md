# React 中有条件渲染的 4 种方式

> 原文：<https://betterprogramming.pub/4-ways-to-conditionally-render-in-react-3785fb5e5013>

## 展示还是不展示？

![](img/3a7000de7bda73880c2cea7745999e39.png)

图片来源: [Icon8](https://icons8.cn/ouch/illustration/magic)

如果您是 React 开发人员，您可能已经处理过基于条件的渲染。这个过程叫做 [*条件渲染*](https://it.reactjs.org/docs/conditional-rendering.html)*，一般用在以下过程中:*

*   ***显示/隐藏一个元素:**像一个按钮。用户是否有权限通过按下它来执行此操作？*
*   ***实现权限:**也许你的产品里有角色。商店经理可以使用他们的内部应用程序为其订购新的供应品，而收银员甚至无法在应用程序中看到该功能。*
*   ***管理加载器:**简单——列表停止加载它的元素，我们让加载栏消失。*

*但是处理条件渲染并不总是那么容易。应该使用*三元运算符*吗？几个`&&`还是一个`if`语句？*

*本文将向您介绍基于条件在 React 中呈现某些内容的不同技术。*

# *1.使用 If..其他*

*假设您正在编写一个应用程序，用于管理物理存储区域中的技术设备。只有当`isManager`为`true`时，你才能将其中一个移动到物品栏中。否则，该应用程序的普通用户可以请求支持。假设您显示一个按钮，允许正确的用户执行此活动:*

*目前，将设备移至清单的选项始终开启。让我们用一个`if ..else`声明来改变这一点。这是一个琐碎的任务。只需将语句从 render 函数中取出，并按如下方式计算结果:*

*请点击[链接](https://react-cn.github.io/react/tips/if-else-in-JSX.html)了解更多关于为什么不能在 JSX 内部直接使用`if ..else`语句的信息。但是，请注意，您可能更喜欢使用这种[life](https://en.wikipedia.org/wiki/Immediately_invoked_function_expression)方法来更简洁地解决这个问题:*

*很明显，在某些情况下，您的代码会比这复杂得多。如果您必须在允许设备移动到清单之前执行一些初步操作，该怎么办？比如检查是否有足够的空间，或者新的空间何时可用。在这些情况下，您可以分离这个逻辑，并将其包装在一个助手函数或一个新组件中。*

*下面是第一种方法，将它包装在一个助手函数中:*

*下面是第二种方法，在新文件中创建新组件:*

*然后简单地使用它:*

# *2.使用 Switch 语句*

*如果你用一个常量来比较多个值，那么可能需要将复杂的`if ..else`子句转换成一个`switch`语句。我推荐你阅读[这篇文章](https://codeburst.io/alternative-to-javascripts-switch-statement-with-a-functional-twist-3f572787ba1c)来学习如何避免使用这样的语句以及为什么。现在，让我们看看如何在这里使用它:*

*请注意，返回 null 将不会在我们调用`checkPermission()`的地方呈现任何内容，这在本例中非常有用。*

# *3.使用三元运算符*

*这可能是大多数情况下您使用条件渲染的方式。为什么？因为它是内嵌的，易于阅读，而且相当简洁。看一看:*

*当您必须执行一个简化的`if ..else`子句时，使用三元运算符，其中，在条件发生时，您将返回值。请注意它是如何自动执行的，无需您键入`return`。*

# *4.使用&&进行短路评估*

*该技术用于确保在表达式中的操作数求值期间不会出现副作用*。当你想用它的时候。答案是:当你希望某件事只在特定条件下发生，否则什么都不做。假设您只想在用户是经理时显示“移至库存”按钮:**

## *结论*

*在本文中，您已经看到了在应用程序中执行条件渲染的几种有用方法。通常，我的建议是:*

*   *如果你有一个简单的`if ..else`，那就用一个*三元运算符*。*
*   *如果你想只打印某些东西，而且只在一定条件下打印，那么就用*短路评估。**
*   *对于更复杂的情况，助手函数通常会完成这项工作。但是有时它们增长得如此之快，以至于你最好用自己的逻辑实现一个新的组件。*

*当然这只是我对一个复杂话题的看法。希望这篇文章能帮助你发现新的东西，成为一名更好的开发人员。*

# *资源*

*   *[*条件渲染*](https://it.reactjs.org/docs/conditional-rendering.html)*
*   *[为什么在 JSX 不能直接使用 if 语句](https://react-cn.github.io/react/tips/if-else-in-JSX.html)*
*   *[生命定义](https://en.wikipedia.org/wiki/Immediately_invoked_function_expression)*
*   *[美丽图标 8 中的所有图标](https://icons8.it)*