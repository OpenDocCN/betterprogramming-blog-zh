<html>
<head>
<title>Build a React App Using DALL-E API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用DALL-E API构建一个React应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-react-app-using-dall-e-api-bd15d5d67b31?source=collection_archive---------1-----------------------#2022-11-08">https://betterprogramming.pub/build-a-react-app-using-dall-e-api-bd15d5d67b31?source=collection_archive---------1-----------------------#2022-11-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="afde" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用DALL E OpenAI和React创建独特的图像</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dd6f0b48443e6049d473ac1a3b8fa9d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C3FBLE2dnjpoLgOYetd_nw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在全栈React &amp; Node应用上使用DALL E生成的图像。</p></figure><p id="6fbf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是我创作的第一幅图像，我很喜欢它。</p><p id="3d70" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">11月4日，我收到了一封来自OpenAI的邮件。</p><blockquote class="lu lv lw"><p id="2dd7" class="ky kz lx la b lb lc ju ld le lf jx lg ly li lj lk lz lm ln lo ma lq lr ls lt im bi translated">DALL E现在作为一个API提供</p><p id="060c" class="ky kz lx la b lb lc ju ld le lf jx lg ly li lj lk lz lm ln lo ma lq lr ls lt im bi translated">现在，您可以通过我们新的DALL E API将最先进的图像生成功能直接集成到您的应用和产品中。</p></blockquote><p id="59bd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我忍不住了，就跳进去试了试！</p><p id="2b7f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是构建一个简单的React应用程序的快速指南，该应用程序将描述作为输入，并使用新的DALLE API生成一个独特的图像。</p><p id="b5a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该应用程序是一个简单的React前端，但我正在开发一个简单的全栈React和Node应用程序，以便更恰当地使用OpenAI和DALLE。关注，订阅，保存，书签，在手机上设置闹钟！</p><p id="3438" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该应用程序将如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mb"><img src="../Images/23336196387df03d50afe2dc9c108439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_uUtlsl68KuL-xLJNeJgg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React应用程序使用DALLE API生成图像</p></figure><p id="219d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我使用了提示:“<em class="lx">一只袋鼠在美丽的日落时分跳上悉尼歌剧院</em>”</p><p id="f454" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我不知道袋鼠有翅膀，但我从未见过。此外，我的错别字没有帮助DALLE，我想。</p><p id="cd3b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">无论如何，创造你自己的给我看！开始吧！</p><h1 id="ce51" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">获取DALLE API密钥</h1><p id="964d" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">DALLE 2是一个生成语言模型，它基于文本输入等生成原始图像。</p><p id="4903" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">DALLE 2产生的照片分辨率比DALLE高4倍，人类法官在字幕匹配和照片真实感方面有+70%的时间倾向于它。</p><p id="3461" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如<a class="ae mz" href="https://beta.openai.com/docs/models/overview" rel="noopener ugc nofollow" target="_blank">文档</a>、<em class="lx">中所报道的，OpenAI API由一系列具有不同功能和价位的模型支持。您还可以根据您的具体使用情况，通过微调定制我们的基本型号。</em></p><p id="737a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些模型是:</p><ul class=""><li id="8b79" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt nf ng nh ni bi translated"><a class="ae mz" href="https://beta.openai.com/docs/models/gpt-3" rel="noopener ugc nofollow" target="_blank"> GPT-3 </a> —一套能够理解并生成自然语言的模型</li><li id="a712" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated"><a class="ae mz" href="https://beta.openai.com/docs/models/codex-series-private-beta" rel="noopener ugc nofollow" target="_blank"> Codex </a> —一组能够理解并生成代码的模型，包括将自然语言翻译成代码。这是目前在私人测试</li><li id="8be4" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated"><a class="ae mz" href="https://beta.openai.com/docs/models/content-filter" rel="noopener ugc nofollow" target="_blank">内容过滤器</a> —一个可以检测文本是否敏感或不安全的微调模型</li></ul><h2 id="fd44" class="no md it bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">如何为DALLE获取API密钥</h2><p id="9f68" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">这是在React中构建我们的图像生成应用程序的第一步。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/5fc0568e9b9c86fe5aba97c5f2dc81e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BCMOBSsYlkIvskWmt-Juwg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae mz" href="https://beta.openai.com/" rel="noopener ugc nofollow" target="_blank"> OpenAI概述页面</a></p></figure><ol class=""><li id="bcf6" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt ob ng nh ni bi translated">进入<a class="ae mz" href="https://beta.openai.com/" rel="noopener ugc nofollow" target="_blank"> OpenAI概述页面</a>，</li><li id="38d7" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt ob ng nh ni bi translated">登录并转到个人(右上角)</li><li id="af68" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt ob ng nh ni bi translated">点击查看API密钥</li><li id="cc88" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt ob ng nh ni bi translated">单击创建新的密钥按钮</li></ol><p id="5055" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">把它保存在某个地方，因为你不会再看到它了。</p><p id="186d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如他们网站上报道的那样:</p><p id="4d9b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">"<em class="lx">下面列出了您的秘密API密钥。请注意，在您生成API密匙后，我们不会再显示它们。</em></p><p id="b9aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lx">不要与他人共享您的API密钥，也不要在浏览器或其他客户端代码中暴露它。为了保护你账户的安全，OpenAI可能会自动轮换任何我们发现已经公开泄露的API密钥。</em></p><h2 id="6a33" class="no md it bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">不要公开您的API密钥</h2><p id="56be" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">这只是常识！</p><p id="a533" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，不使用这个API部署前端应用程序可能是明智的。如果你这样做:</p><ul class=""><li id="3b0a" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt nf ng nh ni bi translated">人们可能会窃取您的API密钥，</li><li id="b68c" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated">你可能会被收费，因为有人正在使用你的钥匙</li><li id="686f" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated">他们可能会删除它，但你可以创建更多</li></ul><h1 id="ef7f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建React应用</h1><p id="c5ce" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们可以使用以下命令创建一个React应用程序:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="6047" class="no md it od b gy oh oi l oj ok">npx create-react-app demodalle</span></pre><p id="4d54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">其中<code class="fe ol om on od b">demodalle</code>是应用程序的名称。</p><p id="452d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后我们使用<code class="fe ol om on od b">cd ./demodalle</code>移动到该文件夹。</p><h2 id="41ca" class="no md it bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">安装OpenAI库</h2><p id="4d8c" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">现在我们需要安装OpenAI库。</p><p id="20be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如<a class="ae mz" href="https://beta.openai.com/docs/api-reference/introduction" rel="noopener ugc nofollow" target="_blank">报道的</a>,“<em class="lx">你可以通过任何语言的HTTP请求，通过我们官方的Python绑定，我们官方的Node.js库，或者社区维护的库，与API进行交互。</em></p><p id="3a63" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从应用程序的根文件夹运行以下命令:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="306d" class="no md it od b gy oh oi l oj ok">npm install openai</span></pre><p id="323c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">安装完成后，您应该在<code class="fe ol om on od b">package.json</code>的依赖项中看到OpenAI包。</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="799e" class="no md it od b gy oh oi l oj ok">"dependencies": {<br/>    ...<br/>    "openai": "^3.1.0",<br/>    "react": "^18.2.0",<br/>    "react-dom": "^18.2.0",<br/>    ...<br/>  },</span></pre><h2 id="1971" class="no md it bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">初始配置</h2><p id="7a65" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我们将在<code class="fe ol om on od b">App.js</code>中工作，并大致遵循<a class="ae mz" href="https://beta.openai.com/docs/guides/images/image-generation-beta" rel="noopener ugc nofollow" target="_blank">文档</a>来使用OpenAI创建图像。</p><p id="55b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Images API提供了三种与图像交互的方法，在下面的应用程序中，我们将使用允许根据文本提示从头开始创建图像的方法。</p><p id="802e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们从在<code class="fe ol om on od b">App.js</code>的顶部添加一些配置信息开始:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="78ca" class="no md it od b gy oh oi l oj ok">const { Configuration, OpenAIApi } = require("openai");<br/>const configuration = new Configuration({<br/>  apiKey: "your-api-key-string-goes-here",<br/>});<br/>const openai = new OpenAIApi(configuration);</span></pre><p id="808c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先我们导入<code class="fe ol om on od b">Configuration</code>和<code class="fe ol om on od b">OpenAIApi</code>。</p><p id="dac2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">其次，我们初始化一个配置变量，它使用OpenAI库提供的新的<code class="fe ol om on od b">Configuration </code>来准备配置数据。这里我们需要将秘密API密钥的值作为字符串传递给<code class="fe ol om on od b">apiKey</code>。</p><p id="2c99" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第三，我们初始化另一个变量<code class="fe ol om on od b">openai</code>。这是使用API的配置的最后一步。</p><p id="387c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，如果您将代码上传到任何公共存储库，您的API密钥将会暴露。我们知道这是不好的。</p><h2 id="4a06" class="no md it bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">使用环境变量</h2><p id="fe0e" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">隐藏秘密API密钥的一种方法是使用一个<code class="fe ol om on od b">.env</code>文件。</p><p id="8033" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您使用Create React App创建了React应用程序，则环境变量是现成的。</p><p id="6a56" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您需要遵循以下步骤:</p><ol class=""><li id="9e74" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt ob ng nh ni bi translated">将一个<code class="fe ol om on od b">.env</code>文件添加到React项目的根文件夹中，例如，与<code class="fe ol om on od b">package.json</code>、<code class="fe ol om on od b">node_modules</code>等在同一层。不要误会。</li><li id="3d5b" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt ob ng nh ni bi translated">在<code class="fe ol om on od b">.env</code>文件中，写下以下内容，末尾不带引号或分号。<br/><code class="fe ol om on od b">REACT_APP_API_KEY=your-secret-key-with-no-quotation-marks</code><br/><code class="fe ol om on od b">REACT_APP_</code>前缀是必须的，不要省略。否则，您将无法从React应用程序访问该值。</li><li id="ea76" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt ob ng nh ni bi translated">最后，从应用程序中访问环境变量。你会在<code class="fe ol om on od b">process.env.REACT_APP_API_KEY</code>找到它。</li></ol><p id="ebe1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您这样做，请记住按如下方式更新您的配置变量:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="3cf7" class="no md it od b gy oh oi l oj ok">const configuration = new Configuration({<br/>  apiKey: <!-- -->process.env.REACT_APP_API_KEY<!-- -->,<br/>});</span></pre><h2 id="5737" class="no md it bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">初始代码</h2><p id="0930" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">现在配置已经完成，让我们编写代码来获取用户输入。</p><p id="be89" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面的代码来自你通过用CRA创建一个React应用程序得到的样板文件(例如，我们在上面使用<code class="fe ol om on od b">npx create-react-app</code>所做的)。</p><p id="0cdc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第2行，我们将状态变量<code class="fe ol om on od b">userPrompt</code>声明为空字符串。记得在你的<code class="fe ol om on od b">App.js file</code>顶部导入<code class="fe ol om on od b">useState</code>钩子:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="7338" class="no md it od b gy oh oi l oj ok">import { useState } from "react";</span></pre><p id="0619" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每当用户在第14行的input元素中键入内容时，状态变量<code class="fe ol om on od b">userPrompt</code>就会更新。</p><p id="a218" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第16行，<code class="fe ol om on od b">onChange</code>事件处理程序获取输入的值(例如，用户编写的文本)并通过使用<code class="fe ol om on od b">useState</code>钩子提供的setter函数<code class="fe ol om on od b">setUserPrompt</code>将其分配给<code class="fe ol om on od b">userPrompt</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">DALLE —使用openai API的React图像生成应用程序的初始代码</p></figure><p id="a87b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第3行，我们声明了另一个状态钩子。我们将使用状态变量<code class="fe ol om on od b">imageUrl</code>来存储DALLE创建的图像的URL。</p><p id="7408" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该应用程序将显示反应标志，直到我们没有一个图像。只要<code class="fe ol om on od b">imageUrl</code>为falsy，第7行到第11行的代码就会显示React标志。</p><h2 id="e881" class="no md it bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">触发器创建</h2><p id="9f62" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">用户应该能够点击第18行上的按钮来创建图像。</p><p id="41a7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从技术上讲，我们希望在用户点击按钮时触发一个针对OpenAI API的HTTP POST请求。</p><p id="56bc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们向按钮添加一个事件处理程序:</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="8aa4" class="no md it od b gy oh oi l oj ok">&lt;button onClick={() =&gt; generateImage()}&gt;Generate&lt;/button&gt;</span></pre><p id="fe9a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当按钮被单击时，它会触发调用API的generateImage函数。让我们创建函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">DALLE —使用openai API的图像生成应用程序的功能</p></figure><p id="7cd5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如图所示，我们创建了一个名为<code class="fe ol om on od b">generateImage</code>的异步函数。</p><p id="d76d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第2行，我们创建了一个名为<code class="fe ol om on od b">imageParameters</code>的对象，它有三个键:<code class="fe ol om on od b">prompt</code>、<code class="fe ol om on od b">n</code>、<code class="fe ol om on od b">size</code>。</p><p id="229a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它们分别是<code class="fe ol om on od b">userPrompt</code>(例如，来自输入元素的文本)、想要创建的图像数量以及这些图像的大小。</p><p id="6af2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我把图像的数量和大小硬编码了，因为创建图像是很昂贵的。你可能会得到18美元开始。否则，您需要为每个创作付费。</p><p id="b66f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第7行是魔法开始的地方。我们调用openai API的<code class="fe ol om on od b">createMethod</code>，并传递上面创建的<code class="fe ol om on od b">imageParameters</code>对象。</p><p id="e269" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意，我们使用await关键字来等待，直到我们在将数据分配给<code class="fe ol om on od b">response</code>之前获得数据。</p><p id="7b4f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第8行，我们从<code class="fe ol om on od b">response</code>中提取URL信息并保存在<code class="fe ol om on od b">urlData</code>中。这是一个简单的URL字符串，指向你独特的人工智能生成的图像。</p><p id="6331" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们通过使用第10行的<code class="fe ol om on od b">setImageUrl</code>函数来更新<code class="fe ol om on od b">imageUrl</code>的状态。</p><h1 id="6f7f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">就是这样！</h1><p id="9d6b" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">一旦您的图像准备就绪，您将URL保存在<code class="fe ol om on od b">imageUrl</code>中，这将评估为真值，您的图像将显示在您的应用程序中。</p><p id="840c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这可能需要5-10秒，添加一个加载微调器来通知用户有事情发生是一个好主意。</p><p id="3806" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，在这里我留下我最后的创作:“一只袋鼠正在邦迪海滩的冲浪板上冲浪。”正如你所看到的，不是所有的袋鼠都有翅膀！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/05ce08f0b71287dab7dbca618bd384b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9HQZHfcovWajirckrFod3w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React应用程序使用DALLE API生成图像</p></figure><p id="dd72" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，所有没有错别字的袋鼠都和狗很像！这是“一只袋鼠在邦迪海滩的冲浪板上冲浪。”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/587dfce5b09bf76133855e86c93df722.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bHgwv5LK1weknsF8_6bZAA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React应用程序使用DALLE API生成图像</p></figure><p id="52d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你在嘲笑这只袋鼠狗，你正在享受你的应用程序。然而，这些奇怪的事情凸显了人工智能更大的一面。</p><p id="a487" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">文章的技术部分到此结束。下面我介绍一些你应该知道的人工智能的方面。一些图片可能会伤害你的感受力，所以请随意停止。</p><p id="0430" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我期待看到你的作品！</p><h1 id="695e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><blockquote class="lu lv lw"><p id="eb01" class="ky kz lx la b lb lc ju ld le lf jx lg ly li lj lk lz lm ln lo ma lq lr ls lt im bi translated">与常规软件相比，人工智能的失败方式非常不同</p></blockquote><p id="cf2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你不会得到任何大的红色错误，说生成的图像不是袋鼠。你也不会被告知这个图像可能传达了一个意想不到的意思。</p><p id="3556" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最多，你得到一个笑话。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os op l"/></div></figure><p id="9f26" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在最坏的情况下，你会得到更难消化的东西。</p><p id="b8bd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">"一匹马睡在一滩红色液体中的照片."</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os op l"/></div></figure><p id="0d9b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">同样，可能很难理解偏见和刻板印象等微妙的含义。此外，DALLE在图像中拼写单词也相当糟糕。</p><p id="6566" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这一切都表明我们取得了不可思议的进步，但路途依然漫长！</p></div></div>    
</body>
</html>