<html>
<head>
<title>Recreating Instagram’s “Like” Animation in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Swift中重现Instagram的“喜欢”动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/recreating-instagrams-like-%EF%B8%8F-animation-in-swift-6b95f74c9593?source=collection_archive---------2-----------------------#2020-06-20">https://betterprogramming.pub/recreating-instagrams-like-%EF%B8%8F-animation-in-swift-6b95f74c9593?source=collection_archive---------2-----------------------#2020-06-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f193" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为你的应用程序创建一个有生命的心脏</h2></div><p id="97c6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">动画可以极大地改善用户在与移动应用程序交互时的体验。在本教程中，我将向您展示如何重新创建一个我们大多数人都熟悉的非常简单的动画:Instagram的“喜欢”动画。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi le"><img src="../Images/e92711409c17a8c7855d62d755805412.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*-p80f9MVuLNH2aMcJRw_NA.gif"/></div><p class="lm ln gj gh gi lo lp bd b be z dk translated">Instagram的“喜欢”动画。</p></figure><p id="1952" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们从添加我们将在Xcode项目中使用的心形图标资源开始。一个是白色的，另一个是红色的(我通常在<a class="ae lq" href="https://icons8.com/" rel="noopener ugc nofollow" target="_blank">图标8 </a>上找到很棒的图标)。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lr"><img src="../Images/8630282a17a0df5654808319e848d9cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UAordY4A0UDyjePIiHigHA.png"/></div></div><p class="lm ln gj gh gi lo lp bd b be z dk translated">Xcode中的资产文件夹</p></figure><p id="f01a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们为按钮创建一个类。我们称它为<code class="fe lw lx ly lz b">HeartButton</code>，并使它成为<code class="fe lw lx ly lz b">UIButton</code>的子类。让我们从将初始图像设置为空的心开始。</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="a564" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你添加一个<code class="fe lw lx ly lz b">HeartButton</code>到你的应用并运行它，它看起来会像这样:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/f1329509d7d1ba060263faa70fd01feb.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*6DqZwac0R6LgkJKikle2AA.png"/></div></figure><p id="4934" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们添加一些代码来跟踪按钮的状态，并添加一个方法来翻转该状态并相应地激活按钮。动画本身包含两个主要步骤:</p><ul class=""><li id="1794" class="md me it kk b kl km ko kp kr mf kv mg kz mh ld mi mj mk ml bi translated">第一步:当按钮被按下时，我们缩小按钮(使用<a class="ae lq" href="https://developer.apple.com/documentation/coregraphics/cgaffinetransform/1455882-scaledby" rel="noopener ugc nofollow" target="_blank">缩放变换</a>)并翻转心形图像。</li><li id="77e0" class="md me it kk b kl mm ko mn kr mo kv mp kz mq ld mi mj mk ml bi translated">第二步:当动画完成时，我们将按钮返回到它的原始比例(我们通过应用<code class="fe lw lx ly lz b"><a class="ae lq" href="https://developer.apple.com/documentation/coregraphics/cgaffinetransform/1455180-identity" rel="noopener ugc nofollow" target="_blank">identity</a></code> <a class="ae lq" href="https://developer.apple.com/documentation/coregraphics/cgaffinetransform/1455180-identity" rel="noopener ugc nofollow" target="_blank">变换</a>来完成)。</li></ul><p id="f7a7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将通过使用<code class="fe lw lx ly lz b"><a class="ae lq" href="https://developer.apple.com/documentation/uikit/uiview/1622515-animate" rel="noopener ugc nofollow" target="_blank">UIView.animate</a></code>来实现这些步骤，其中动画块将执行上面的步骤一，而完成块将在它自己的动画中执行步骤二:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="6d9c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，当您的按钮被点击时，您可以调用<code class="fe lw lx ly lz b">flipLikedState</code>方法来执行动画。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi le"><img src="../Images/40da6d4c4939f731b1d88122ea836d84.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*dfGJX1Kcu2c8XGWP76IZnw.gif"/></div></figure><p id="f1fa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以做一些调整，使我们的<code class="fe lw lx ly lz b">HeartButton</code>的规模将根据它进入的状态而变化。例如，如果按钮进入“喜欢”状态，我们可以在将它恢复到正常大小之前将其放大。或者，如果按钮进入“未链接”状态，我们可以在将它恢复到正常大小之前缩小它。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi le"><img src="../Images/cda143e3c81196231828c7ea0902e8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*EOO7zL6hk5b7Z61tVax_AQ.gif"/></div></figure><p id="920d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们最终的<code class="fe lw lx ly lz b">HeartButton</code>实现如下所示:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="ma mb l"/></div></figure><p id="449f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">即使是简单的动画，像Instagram使用的这个心形动画，也可以改善我们在导航应用程序时的体验。你可以在Github 上找到这个动画的完整演示。</p><p id="c1ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读，希望这篇文章对你有用。</p></div></div>    
</body>
</html>