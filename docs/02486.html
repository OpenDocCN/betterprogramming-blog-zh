<html>
<head>
<title>Functions in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类型脚本中的函数</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/functions-in-typescript-d17701fc6124?source=collection_archive---------9-----------------------#2019-12-03">https://betterprogramming.pub/functions-in-typescript-d17701fc6124?source=collection_archive---------9-----------------------#2019-12-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="35f0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">构建可扩展的强大功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8361dc1091455f30240b3021e3aafd97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*R8sYj8gxV-fvzCGL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/photos/wpU4veNGnHg" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/wpU4veNGnHg</a></p></figure><div class="kz la gp gr lb lc"><a href="https://dleroari.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">通过我的推荐链接加入媒体</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">dleroari.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="47d4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi mn translated">这篇文章的目的是展示TypeScript为编写可维护和可重用的函数提供了哪些特性。</p><blockquote class="mw"><p id="2641" class="mx my it bd mz na nb nc nd ne nf mm dk translated">“在开发JavaScript应用程序时，TypeScript使JavaScript开发人员能够使用高生产率的开发工具和实践，如静态检查和代码重构。”<a class="ae ky" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank">来源</a>。</p></blockquote><p id="953e" class="pw-post-body-paragraph lr ls it lt b lu ng ju lw lx nh jx lz ma ni mc md me nj mg mh mi nk mk ml mm im bi translated">函数是应用程序的基本构件。函数是执行某种行为的动作，比如让用户登录、显示项目列表、从服务器请求数据等等。这些行动共同组成一个系统来解决各种任务。</p><p id="c3db" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在数学中，函数被描述为当给定输入时产生输出的对象。在编程中，我们有两种类型的函数。返回值的函数，或者不返回值的函数。例如，如果您需要两个数之和这样的结果，我们需要返回总值。如果您需要将消息打印到控制台，则返回类型不是必需的。</p><p id="0286" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果您正在寻找代码示例，请转到第4节。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><h1 id="6cca" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">这是我们要解决的问题</h1><ol class=""><li id="f53f" class="om on it lt b lu oo lx op ma oq me or mi os mm ot ou ov ow bi translated">为什么打字稿？</li><li id="a497" class="om on it lt b lu ox lx oy ma oz me pa mi pb mm ot ou ov ow bi translated">TypeScript不会取代JavaScript</li><li id="6479" class="om on it lt b lu ox lx oy ma oz me pa mi pb mm ot ou ov ow bi translated">我们真的需要类型吗？</li><li id="25e4" class="om on it lt b lu ox lx oy ma oz me pa mi pb mm ot ou ov ow bi translated">类型化参数(示例)</li><li id="e11d" class="om on it lt b lu ox lx oy ma oz me pa mi pb mm ot ou ov ow bi translated">可选参数(示例)</li><li id="65a5" class="om on it lt b lu ox lx oy ma oz me pa mi pb mm ot ou ov ow bi translated">过载参数(示例)</li><li id="d942" class="om on it lt b lu ox lx oy ma oz me pa mi pb mm ot ou ov ow bi translated">学习TypeScript的好处</li></ol></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><h1 id="c80f" class="nu nv it bd nw nx ny nz oa ob oc od oe jz of ka og kc oh kd oi kf oj kg ok ol bi translated">1.为什么打字稿？</h1><p id="c209" class="pw-post-body-paragraph lr ls it lt b lu oo ju lw lx op jx lz ma pc mc md me pd mg mh mi pe mk ml mm im bi translated">你可能会问:“为什么我们需要类型？”</p><p id="cea2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">假设我们给某人发送了一封没有主题的电子邮件。现在，为了理解邮件，收件人必须打开它并阅读文本。这增加了不必要的时间和开销，如果发送者事先定义了主题，这是很容易避免的。</p><p id="299e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">然而，对于一封邮件来说，这不是问题，但是对于成千上万封邮件，人们可以开始计算收件人阅读内容所花费的时间和资源。</p><p id="ef96" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">同样的概念也适用于学习代码的开发人员，想象一下有许多没有类型的类、函数、对象、方法、变量等等。没有描述数据的标签。理解它的唯一方法是:开发人员必须联系作者，打开源代码，或者执行测试。这不是有效编程的直观方法。</p><p id="3d0a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">TypeScript有助于防止这种类型的情况，开发人员不必猜测或预测对象具有什么属性。</p><p id="bd7e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">区分TypeScript和Javascript的核心区别是类型，这里有一个简单的例子说明如果我们将一个文本赋给一个数字会发生什么:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">JavaScript与TypeScript</p></figure><h1 id="0064" class="nu nv it bd nw nx pg nz oa ob ph od oe jz pi ka og kc pj kd oi kf pk kg ok ol bi translated">2.TypeScript不会取代JavaScript</h1><p id="d4f8" class="pw-post-body-paragraph lr ls it lt b lu oo ju lw lx op jx lz ma pc mc md me pd mg mh mi pe mk ml mm im bi translated">认识到TypeScript是JavaScript的超集是很重要的。它并没有取代JavaScript，而是通过启用可选类型(类型注释)和更多特性来扩展它，以帮助开发人员创建干净、可读和可维护的可伸缩函数。</p><p id="4ee0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">JavaScript是一种动态语言，其中类型由浏览器引擎(运行时)定义，而在TypeScript中，开发人员可以在编写代码时灵活地定义类型。这意味着编译器可以在大多数bug进入生产之前检测到它们。</p><p id="5e42" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">例如，如果开发人员编写了<code class="fe pl pm pn po b">const name = 'Bob Marley'</code>，JS引擎(解析器)通过读取数据来确定类型，在这种情况下，值<code class="fe pl pm pn po b">Bob Marley</code>是一种类型的<code class="fe pl pm pn po b">string</code>。然而，即使定义了类型，仍然可以将一个数字、对象或函数赋给<code class="fe pl pm pn po b">name</code>变量，而不会收到任何类型错误。许多人认为这是奇怪的行为，而其他人则认为这符合JavaScript的动态特性。</p><h1 id="f062" class="nu nv it bd nw nx pg nz oa ob ph od oe jz pi ka og kc pj kd oi kf pk kg ok ol bi translated">3.我们真的需要类型吗？</h1><p id="fab9" class="pw-post-body-paragraph lr ls it lt b lu oo ju lw lx op jx lz ma pc mc md me pd mg mh mi pe mk ml mm im bi translated">在小型或大型应用程序中使用现有函数时，问题通常是:“这个函数接受什么参数或者它返回什么？”</p><p id="c363" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">TypeScript通过以直观的方式定义参数(输入)和返回语句(输出)的类型来解决这类问题。抛开误解和混乱，开发人员可以很快决定如何交互或重用一个功能。</p><blockquote class="pp pq pr"><p id="e4c3" class="lr ls ps lt b lu lv ju lw lx ly jx lz pt mb mc md pu mf mg mh pv mj mk ml mm im bi translated">注意:TypeScript的目标不是限制开发者写更少的JavaScript代码，而是提高对东西的理解。</p></blockquote><p id="2afe" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面，我们有两个代码示例。第一个示例展示了一个不带类型的函数(在JavaScript中很典型)，第二个示例展示了带类型的函数(在TypeScript中很典型):</p><h2 id="a2ff" class="pw nv it bd nw px py dn oa pz qa dp oe ma qb qc og me qd qe oi mi qf qg ok qh bi translated">第一个例子(JavaScript)</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">JavaScript示例</p></figure><p id="8d98" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如上例所示，该函数接受两个参数并返回结果，即<code class="fe pl pm pn po b">10hello</code>。</p><p id="3bf3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，如果我们运行代码，我们不会得到任何错误，因为代码做了它想要做的事情——添加两个值，而不管类型如何。</p><p id="4754" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在JavaScript中，<code class="fe pl pm pn po b">+</code>符号的意思是concatenate，当我们想要用像<code class="fe pl pm pn po b">'Hi' + firstName</code>这样的值组成文本时，通常会用到这个符号。我们不希望这种行为分散在我们的应用程序中。</p><blockquote class="pp pq pr"><p id="179d" class="lr ls ps lt b lu lv ju lw lx ly jx lz pt mb mc md pu mf mg mh pv mj mk ml mm im bi translated">注意:缺少类型使得开发人员很难高效地工作，太多的开销使得开发人员必须手动查看源代码和文档来理解在TypeScript中可能需要几秒钟的事情。</p></blockquote><h2 id="47c7" class="pw nv it bd nw px py dn oa pz qa dp oe ma qb qc og me qd qe oi mi qf qg ok qh bi translated">第二个示例(TypeScript)</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">TypeScript示例</p></figure><p id="f463" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，如果你像我们之前做的那样传递一个数字和一个字符串，它会抛出一个类型错误，因为它只接受类型<code class="fe pl pm pn po b">number</code>的参数。这是好消息！这意味着我们有能力减少错误，并有一个明确的安全应用程序。</p><blockquote class="pp pq pr"><p id="c848" class="lr ls ps lt b lu lv ju lw lx ly jx lz pt mb mc md pu mf mg mh pv mj mk ml mm im bi translated">注意:我们的目标并不是让所有东西都类型化，我们仍然希望使用JavaScript的动态特性，但是我们需要确保其他开发人员正确地使用函数或类。</p></blockquote><h1 id="141d" class="nu nv it bd nw nx pg nz oa ob ph od oe jz pi ka og kc pj kd oi kf pk kg ok ol bi translated">4.类型化参数</h1><p id="80bc" class="pw-post-body-paragraph lr ls it lt b lu oo ju lw lx op jx lz ma pc mc md me pd mg mh mi pe mk ml mm im bi translated">在TypeScript中，传递给函数的参数数量必须等于函数期望的参数数量。而在JavaScript中，函数可以接受尽可能多的参数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">TypeScript中的类型参数</p></figure><h1 id="71c0" class="nu nv it bd nw nx pg nz oa ob ph od oe jz pi ka og kc pj kd oi kf pk kg ok ol bi translated">5.可选参数</h1><p id="f502" class="pw-post-body-paragraph lr ls it lt b lu oo ju lw lx op jx lz ma pc mc md me pd mg mh mi pe mk ml mm im bi translated">默认情况下，TypeScript中的函数参数不像JavaScript中那样是可选的。当某个时刻的值不存在时，可选参数非常有用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">TypeScript中的可选参数</p></figure><p id="5c95" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如图所示，通过在参数末尾添加一个<code class="fe pl pm pn po b">?</code>符号，我们将其标记为可选的。</p><blockquote class="pp pq pr"><p id="50ba" class="lr ls ps lt b lu lv ju lw lx ly jx lz pt mb mc md pu mf mg mh pv mj mk ml mm im bi translated">您知道吗:可选参数必须在必需参数之后定义，否则它会返回一个错误消息:<code class="fe pl pm pn po b">A required parameter cannot follow an optional parameter</code>。</p></blockquote><p id="bb04" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果没有传递参数，它会将值设置为undefined。但是如果我们想设置一个默认值呢？每当我们添加一辆新车时，将<code class="fe pl pm pn po b">sold</code>默认设置为未定义似乎不太直观，对吗？以下是解决方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">TypeScript中的默认值</p></figure><p id="f023" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，每当我们创建一辆新车时，<code class="fe pl pm pn po b">sold</code>变量默认设置为<code class="fe pl pm pn po b">false</code>。注意，我们没有使用像<code class="fe pl pm pn po b">boolean: sold</code>这样的可选参数符号，因为TypeScript会自动处理类型。</p><h1 id="3106" class="nu nv it bd nw nx pg nz oa ob ph od oe jz pi ka og kc pj kd oi kf pk kg ok ol bi translated">6.过载参数</h1><p id="162e" class="pw-post-body-paragraph lr ls it lt b lu oo ju lw lx op jx lz ma pc mc md me pd mg mh mi pe mk ml mm im bi translated">有时候我们希望一个函数做一件事，其他时候基于我们传递的实参做更多的事(重载形参)。这是一个有用的概念，可以在处理具有许多行为的函数时创建抽象层。</p><p id="67a7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们看一个重载参数的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pf nm l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">TypeScript中的重载参数</p></figure><p id="4c94" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如上例所示，函数<code class="fe pl pm pn po b">runEngines()</code>使用<code class="fe pl pm pn po b">typeof</code>关键字来检查参数类型，以定义要执行的操作。注意，函数<code class="fe pl pm pn po b">function runEngines(x): any</code>必须最后定义，因为它是一个通用函数，代表了上面函数中定义的所有可能性。</p><p id="7bd0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">不建议使用这种方法，因为这样一个函数最终会有多个行为，这使得维护和重用变得很困难，一种可行的方法是将这些行为划分到不同的函数中，这在编程中是一种很好的做法。然而，在某些情况下，这种方法可能是必要的，但这取决于需求。</p><h1 id="b417" class="nu nv it bd nw nx pg nz oa ob ph od oe jz pi ka og kc pj kd oi kf pk kg ok ol bi translated">7.学习TypeScript的好处</h1><p id="13cd" class="pw-post-body-paragraph lr ls it lt b lu oo ju lw lx op jx lz ma pc mc md me pd mg mh mi pe mk ml mm im bi translated">用JavaScript编写函数一般很容易，但是一旦我们增加了更多的代码行和团队成员，维护和重用就变得很困难，从而缺乏类型。</p><p id="8a3b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果您不熟悉类型，类型是TypeScript基于的核心特性之一，它本质上是一个定义数据类型的标签，数据可以是数字、字符串或对象。</p><p id="d514" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">大多数熟悉JavaScript库(NPM包)的开发人员都有过这样的经历，他们需要大量阅读来理解一个函数的可能性，比如哪些方法或属性是可用的等等。</p><p id="34fe" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">TypeScript帮助开发人员快速确定函数、对象、类、变量的灵活性，而不是处理源代码和文档，后者会消耗可以用于开发的时间和资源。</p><p id="e949" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">TypeScript还通过增强的IDE(集成开发环境)支持提供了出色的开发体验。像Visual Studio这样的IDE可以帮助开发人员轻松地检测编译错误、进行代码重构和代码完成(函数的灵活性)。所有这些都是为了让像我和你这样的开发人员可以花更多的时间在编码(增加价值)上，花更少的时间在调试上。</p><h1 id="2a46" class="nu nv it bd nw nx pg nz oa ob ph od oe jz pi ka og kc pj kd oi kf pk kg ok ol bi translated">摘要</h1><p id="7bbe" class="pw-post-body-paragraph lr ls it lt b lu oo ju lw lx op jx lz ma pc mc md me pd mg mh mi pe mk ml mm im bi translated">TypeScript不是JavaScript的替代品，而只是一种帮助开发人员构建更易于维护和重用的代码(如函数)的语言。他们可以花更多的时间编码，花更少的时间调试。</p><p id="e321" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">TypeScript不强制类型，但建议这样做。这将代码完成提高到了一个全新的水平，可以看到函数直接接受什么边界和数据。</p><p id="5a89" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">总而言之，与处理JavaScript相比，TypeScript可以显著提高生产率。</p><p id="b977" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">简而言之，TypeScript并不意味着一夜之间成为一名伟大的程序员，没有语言能做到这一点。但是使它如此特别的是它提供的特性和灵活性的数量，以帮助开发人员产生高质量和健壮的代码。</p></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><blockquote class="mw"><p id="f52a" class="mx my it bd mz na nb nc nd ne nf mm dk translated">如果你喜欢这篇文章，并想要更多这样的，请鼓掌❤，并与可能需要它的朋友分享，这是好的因果报应。</p><p id="6d8b" class="mx my it bd mz na nb nc nd ne nf mm dk translated">你可以在我每周发表文章的媒体上找到我。或者你可以在推特上关注我。</p></blockquote></div></div>    
</body>
</html>