<html>
<head>
<title>Rewrite Your Own Array Methods: forEach, map, filter, find, and reduce</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重写您自己的数组方法:forEach、map、filter、find和reduce</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/rewrite-your-own-array-methods-foreach-map-filter-find-reduce-1718e1138c3e?source=collection_archive---------4-----------------------#2019-07-23">https://betterprogramming.pub/rewrite-your-own-array-methods-foreach-map-filter-find-reduce-1718e1138c3e?source=collection_archive---------4-----------------------#2019-07-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="916a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">更好地理解这些JavaScript方法</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/cdc3286dbd5e1e1fd27bb6a301dbc575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U-21513j4kNxJXIcySlzOw.png"/></div></div></figure><p id="a2f2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我的许多学生都很难理解这些函数是如何工作的，我在许多不熟悉JavaScript的初级开发人员身上看到了同样的问题。</p><p id="0d85" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，我决定重写这些函数，希望能帮助他们更好地理解这些方法。</p><p id="5231" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要使用数组方法，你可以看看我以前写的一篇<a class="ae la" href="https://medium.com/@cqpro/array-methods-point-free-style-and-curried-functions-make-your-js-code-better-b5516c513b37" rel="noopener"/>。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="7086" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">为每一个</h1><p id="257e" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated">方法允许你为数组的每个元素运行一个函数。<code class="fe ml mm mn mo b">forEach</code>不返回任何东西。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="1149" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">重写以用于<code class="fe ml mm mn mo b">for</code>循环:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="8bd6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在Chrome控制台上测试它:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mr"><img src="../Images/42e2964ff5a2e4a74e21ae84b1f187d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uVZCf61sxHmvdDZ-kaUh8A.png"/></div></div></figure><p id="0313" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">看，结果完全一样。</p><p id="53dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，基本上，<code class="fe ml mm mn mo b">forEach</code>函数在内部实现了一个<code class="fe ml mm mn mo b">for</code>循环。</p><p id="4f67" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还可以通过在数组原型链中添加<code class="fe ml mm mn mo b">myForeach</code>来使其更好，并将其作为普通的<code class="fe ml mm mn mo b">forEach</code>函数使用。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="f4e0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">搞定了。并且，我们可以使用类似这样的东西<code class="fe ml mm mn mo b">['a','b',c'].myForeach(...)</code>。</p><p id="4268" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用同样的方法，我们可以用一个<code class="fe ml mm mn mo b">for</code>循环重写<code class="fe ml mm mn mo b"><em class="ms">map find filter reduce</em></code>。</p></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="6790" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">地图</h1><p id="e1b1" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated"><code class="fe ml mm mn mo b">map</code>函数总是返回与原数组长度相同的新数组。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mt"><img src="../Images/cfa48e49c69b7cbe7fe570d107e84db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OWcEf0kh_ow-RolszdwAFw.jpeg"/></div></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="f16e" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="ak">找到</strong></h1><p id="9c62" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated"><code class="fe ml mm mn mo b">find</code>函数返回第一个匹配回调函数的条目，如果没有匹配的条目，则返回<code class="fe ml mm mn mo b">undefined</code>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/fe689e87a9b0fe4c7f3ffcbe5a44ce82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uHyPTA86d7GqQlo9vkcfRA.jpeg"/></div></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="e145" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">过滤器</h1><p id="aa19" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated">这类似于<code class="fe ml mm mn mo b">find</code>函数，但是<code class="fe ml mm mn mo b">filter</code>不是返回第一个匹配项，而是返回匹配项的数组，如果没有匹配项，则返回一个空数组。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mv"><img src="../Images/880a63079d31c1029456248b9af41e3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9sXkNwx69bM9Uo5gsTvTbA.jpeg"/></div></div></figure></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="5e7c" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">减少</h1><p id="403a" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated"><code class="fe ml mm mn mo b">reduce</code>不是返回一个数组，比如<code class="fe ml mm mn mo b">map</code>或者<code class="fe ml mm mn mo b">filter</code>，而是返回我们想要的任何值。我们只需要传递初始值，然后在每个迭代器上修改它。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mw"><img src="../Images/5054eb68fc41babbb7c5ee270d57a14d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pk0egooivGJISjYSsOxNOg.jpeg"/></div></div></figure><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure></div><div class="ab cl lb lc hx ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="im in io ip iq"><h1 id="270c" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">结论</h1><p id="7e03" class="pw-post-body-paragraph jq jr it js b jt mg jv jw jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn im bi translated">请注意，这不是这些函数在JavaScript中实际实现。这只是另一种类似的方法来确定它是如何工作的，相当于使用<code class="fe ml mm mn mo b">for loop</code>来更好地了解它在引擎盖下是如何工作的。</p><p id="7363" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本文中没有提到<code class="fe ml mm mn mo b">.sort</code>函数，因为它应该有自己的帖子，我会尽快写出来。</p><p id="626e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读。</p></div></div>    
</body>
</html>