<html>
<head>
<title>Implementing Blurs and Shadows in iOS Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在iOS应用中实现模糊和阴影</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/implementing-blurs-and-shadows-in-ios-apps-36280caa4b04?source=collection_archive---------5-----------------------#2020-11-20">https://betterprogramming.pub/implementing-blurs-and-shadows-in-ios-apps-36280caa4b04?source=collection_archive---------5-----------------------#2020-11-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f2d9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用模糊和阴影给你的应用添加一些额外的风格</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f0a49ce9c4f64f6f7235169f4a1fcacc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zF_MQWSPWYgJebhe"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@agatacreate?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Agata Create </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="3e5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我的大多数项目，我从我的客户那里获得应用程序设计。如果我需要说2020年最常用的设计元素是什么，我会说它们是平面元素、模糊和阴影。扁平元素没有问题，因为原生iOS设计相当扁平。所以让我们来看看如何给你的iOS应用添加模糊背景和阴影。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/d65d4fe9c48b1c8d924a85800bd4a29c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*w4bLV5CKtaYDHpVohaAyPQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">模糊和阴影</p></figure><p id="0b4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们在你的iOS应用程序中创建一个模糊的矩形和一个带阴影的矩形。我将一步一步地介绍整个过程，您可以将最终结果复制到您的代码中。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="cb31" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">从代码创建</h1><p id="3305" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">对于这个例子，我们需要一个背景(例如一张图片)。在图片的顶部，让我们添加两个矩形。一个带白色背景的矩形(注意，阴影不能应用于透明或半透明视图，因为它看起来不太好)，另一个带透明背景的矩形用于模糊效果。如果我们使用不透明的颜色，模糊将被应用到这个颜色，它将没有任何效果。</p><p id="029f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你使用故事板，它将看起来像下面的图片:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/0a4ac535923fbbcb1988c0fe83148d4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*fUkGWu34uIMuYZM0H-dz9A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">效果故事板</p></figure><p id="b263" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在代码中，我们会有这样的代码:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="889f" class="ng me it nc b gy nh ni l nj nk"><strong class="nc iu">@IBOutlet</strong> <strong class="nc iu">weak</strong> <strong class="nc iu">var</strong> vShadowContainer: UIView!</span><span id="6797" class="ng me it nc b gy nl ni l nj nk"><strong class="nc iu">@IBOutlet</strong> <strong class="nc iu">weak</strong> <strong class="nc iu">var</strong> vBlurContainer: UIView!</span></pre><p id="13c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从代码中创建阴影和模糊是一个相当简单的技巧。为了让它看起来更好，我添加了一个圆角半径<code class="fe nm nn no nc b">5</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="e0f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您预先知道对象的大小，您可以从<code class="fe nm nn no nc b">viewDidLoad</code>开始调用这些函数。否则，你应该等到<code class="fe nm nn no nc b">viewDidLayoutSubviews</code>或<code class="fe nm nn no nc b">viewDidAppear</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/1ee5200f078e4ca4dfaad8f76ebfabe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*F3yE2vimeSAFjc9O4bLMOg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带阴影和模糊的矩形</p></figure><p id="9eee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">iOS对<code class="fe nm nn no nc b">UIBlurEffect.</code>没有太多的调整，你只能选择模糊类型(暗、亮等。).您不能使它变得或多或少“模糊”，但您可以更改alpha值，这将产生类似的效果。上图中，alpha为0.8。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="45c5" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">创建子视图</h1><p id="9016" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如果你有大量的模糊和阴暗的视图，从代码中设置它们是不舒服的。让我们创建几个<code class="fe nm nn no nc b">UIView</code>子类，允许我们使用必要的参数动态添加效果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="fdcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，让我们制作一个带有模糊背景的替代标签栏，并基于带有阴影的<code class="fe nm nn no nc b">UITableView</code>进行馈送:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/49d9d064dbdad51e6b3c15d332e6919e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0iGpPU_qcr83Z2PreDqbDA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有模糊和阴影的布局示例</p></figure><p id="0c01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种布局可以通过使用上面提供的两个扩展和两个类以及最少的附加代码来完成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/797b595625b818bc82c0c84ec8b1c9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f3Bx3XxMoACkw4lUaDRkdA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">故事板上面的例子</p></figure><p id="a7ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nm nn no nc b">ViewController.swift</code>非常简单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="da20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，这只是一个布局。标签栏不起作用，提要只有十个元素，没有任何动态内容。但是当我们讨论添加模糊和阴影时——而不是动态内容——这个例子应该可以解决这个问题。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4789" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="4739" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">扁平的图标、模糊的背景和背阴的面板是现代设计中最常用的元素。iOS有自己的方式来实现它们，但是没有现成的组件(<code class="fe nm nn no nc b">UIViews</code>)来添加到故事板中。在本文中，我们找到了一种添加这种视图的方法，没有任何麻烦。</p><p id="813a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐，下次见！</p></div></div>    
</body>
</html>