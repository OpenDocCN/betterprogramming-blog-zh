<html>
<head>
<title>TypeScript for Deno — A Look at Function Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Deno的类型脚本——看看函数类型</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/typescript-for-deno-function-types-callbacks-void-undefined-unknown-and-never-9f7f1bcc6699?source=collection_archive---------19-----------------------#2022-06-29">https://betterprogramming.pub/typescript-for-deno-function-types-callbacks-void-undefined-unknown-and-never-9f7f1bcc6699?source=collection_archive---------19-----------------------#2022-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a069" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">回调、无效、未定义、未知和从不</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/07180881e00a66e2340ea641e6746157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tMiUEz8it0s1_-pK"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者:<a class="ae ky" href="https://unsplash.com/es/@sgreer" rel="noopener ugc nofollow" target="_blank">斯科特·格里尔</a>:【https://unsplash.com/es/fotos/XfQ3t7AGTv0】T2</p></figure><p id="dceb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/typescript-for-deno-types-and-typing-8650637bf8df">之前的版本</a>中，我们看到了TypeScript拥有的几种数据类型，我们还看到了由几种类型联合而成的自定义类型。</p><p id="567c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">值得一提的是，您可以创建“对象类型”，也就是说，一个“自定义类型”，即具有特定结构的对象。例如，当我们从一个API发送信息时，这非常有用！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><h1 id="66fa" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">函数中的返回类型</h1><p id="501c" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">正如我们可以键入函数的参数一样，我们也可以键入它们返回的内容，基本示例是返回数字或字符串的函数，例如sum函数。</p><p id="a85b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有必要记住，一般来说，TypeScript已经进行了自动类型推断，而且在大多数情况下，没有必要放置函数返回的数据类型，但是如果它增加了代码的表达能力，那么最好放置它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="06b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，它是用一个箭头函数和一个普通函数完成的，不用说，每次你做“hello world！”一个孩子在世界上死去…你必须不惜一切代价避免他们。</p><h1 id="f287" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">空的</h1><p id="eb21" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">我们所有做过java或C语言的人最喜欢的类型，当函数不返回任何值时使用这种类型，这可能发生在屏幕上。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><h1 id="8ff5" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">不明确的</h1><p id="2690" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">值得一提的是，函数返回undefined是不好的做法，当我们不想返回值时，最好返回void，但是，将“undefined”作为返回类型会强制函数只返回undefined，否则，编译器会给出一个错误。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="e551" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当一个函数可以接收未定义的参数，但我们必须返回“return；”时，这是很有用的显然，如果函数返回任何类型，它将返回其他类型，否则只有“未定义”的类型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="6213" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样重要的是要提到TS帮助我们避免错误，例如在前面的函数中“else”是不必要的，因为编译器会要求参数要么是“number”要么是“undefined ”,但是如果执行环境是Node.js而不是使用Deno.js，那么使用它是一种很好的做法。</p><h1 id="f1e9" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">作为类型的功能</h1><p id="b56a" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">假设由于某种原因我们需要将函数包装在变量中，也就是说变量的类型是函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="7972" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不想指定参数的类型和返回值的类型，您只需给它一个“Function”类型，当显示类型很重要时，您可以放置一个带有类型的arrow函数，让我们以JavaScript方式和TypeScript方式查看它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="70fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">显然，如果在arrow函数中我们不传递任何东西，我们就认为它只接收一个参数，并且这个参数是任意的。</p><h1 id="63c8" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">复试</h1><p id="9cf8" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">TypeScript是JavaScript的超集，所以遇到回调是非常自然的，也就是说，这是编写JavaScript代码和TypeScript的正常方式。</p><p id="613a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们想要处理接收函数的回调的数据类型时，如上所述。非常直观。让我们看一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="9446" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">向noobs解释这个功能并不是多余的(我很乐意有人向我解释)。</p><p id="3c41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建一个函数，它接收两个参数类型数和一个函数。这两个数字相加，并通过参数传递给回调函数，但是我们必须在调用函数<code class="fe mu mv mw mx b">sumYPrint</code>时定义这个回调函数，然后，当我们调用这个函数时，我们给两个数字2和10，我们必须对结果(已经给了我们相同的函数)做些什么，这样，它返回给我们“void”，也就是说，在屏幕上打印。</p><h1 id="9d4a" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">未知的</h1><p id="40c6" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">这是一个非常重要的类型，因为它允许我们避免任何。Unknown比any更具限制性，但是我们必须在执行任何操作之前检查(类型保护)它的数据类型，这避免了在传递到运行时的错误，并且一切都保持在编译时安全性中。这种类型非常适用于API响应，因为很多时候我们不知道将返回什么类型的数据，此外，当我们显式地放置它时，我们告诉审查我们代码的人，我们不知道我们将在运行时接收什么类型的数据。</p><p id="cdff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">未知数据类型可以接收任何其他数据类型，但是当我们试图将一个具有这种类型的变量赋给另一个变量时，它会给出一个错误，这里检查数据类型是有用的。</p><p id="51b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><h1 id="0fe4" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">从不</h1><p id="2e6e" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">这是我见过的最有趣的数据类型之一，因为它主要用于两种情况:</p><ol class=""><li id="9843" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated">当你返回的是一个错误时</li><li id="b504" class="my mz it lb b lc nh lf ni li nj lm nk lq nl lu nd ne nf ng bi translated">当你永远不会返回值的时候。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><p id="eb05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还想推荐一个工作在Deno.js之上的web框架，叫做<a class="ae ky" href="https://fresh.deno.dev/" rel="noopener ugc nofollow" target="_blank"> Fresh </a>。我很快会谈到这个框架的特点。</p></div></div>    
</body>
</html>