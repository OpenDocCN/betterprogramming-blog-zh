<html>
<head>
<title>Build Advanced React Input Fields Using Styled Components and Storybook.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用样式化组件和Storybook.js构建高级React输入字段</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-advanced-react-input-fields-using-styled-components-and-storybook-js-a231b9b2438?source=collection_archive---------3-----------------------#2020-12-08">https://betterprogramming.pub/build-advanced-react-input-fields-using-styled-components-and-storybook-js-a231b9b2438?source=collection_archive---------3-----------------------#2020-12-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2e7e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用最新技术构建React组件的开发指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2f5fe3f1a4b9c7abe51f728b4ed1b28a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ShaYbGwj4gOrfoHmwHQWg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者</p></figure><p id="e765" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<a class="ae lu" href="https://medium.com/better-programming/build-react-tabs-using-recoil-styled-components-and-storybook-js-4ad534cef007" rel="noopener">上一篇文章</a>中，我们使用<a class="ae lu" href="https://medium.com/better-programming/recoil-a-new-state-management-library-moving-beyond-redux-and-the-context-api-63794c11b3a5" rel="noopener">反冲</a>、<a class="ae lu" href="https://medium.com/better-programming/styled-components-a-css-in-js-approach-755f6a196c42" rel="noopener">样式组件</a>和<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/an-in-depth-look-at-storybook-6-8c44cd6895ee"> Storybook.js </a>构建了React选项卡。在这里，我们将浏览高级输入字段:<code class="fe lv lw lx ly b">ClearableInput</code>和<code class="fe lv lw lx ly b">MultiValueClearableInput</code>。开发过程可以应用到日常编码工作中。这也是一个常见的面试问题，在一个小时的面试时间内很容易回答。</p><p id="aea4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于输入字段是独立的，<code class="fe lv lw lx ly b">useState</code>非常适合于状态管理。在这种情况下，我们不需要使用反冲进行外部状态管理。</p><p id="fdec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://medium.com/better-programming/10-fun-facts-about-create-react-app-eb7124aa3785" rel="noopener">创建React App </a>用于设置React编码环境:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="e109" class="md me it ly b gy mf mg l mh mi">npx create-react-app my-app<br/>cd my-app<br/>npm start</span></pre><p id="4e2b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在您的<code class="fe lv lw lx ly b">package.json</code>中为<code class="fe lv lw lx ly b"><a class="ae lu" href="https://medium.com/better-programming/package-jsons-dependencies-in-depth-a1f0637a3129" rel="noopener">dependencies</a></code>设置样式组件:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="d801" class="md me it ly b gy mf mg l mh mi">npm i styled-components</span></pre><p id="5498" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为项目安装故事书:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="9f8a" class="md me it ly b gy mf mg l mh mi">npx sb init</span></pre><p id="4bc7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用以下文件创建<code class="fe lv lw lx ly b">src/components/AdvancedInputs</code>:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="ab42" class="md me it ly b gy mf mg l mh mi">$ ls<br/>AdvancedInputs.stories.js   MultiValueClearableInput.js index.js<br/>ClearableInput.js           clear.svg</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="da88" class="mq me it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">输入栏</h1><p id="5b93" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">HTML <code class="fe lv lw lx ly b">&lt;input&gt;</code>标签指定了一个输入字段，用户可以在其中输入数据。它可以是文本字段、复选框、单选按钮、文件输入或其他内容。</p><p id="21eb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">默认输入是文本字段:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/7a3ed108c0ffd1c6148bd0aceb5e994c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*t9R_tQiUh0STqaAK_TfKJQ.png"/></div></figure><p id="1e30" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看起来不错。</p><p id="3de9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在其中键入一些文本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/eeb05e944e1d32488e25d1a365a90437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*-AzX1mXtoNHF3dPiJ8wiIg.png"/></div></figure><p id="105b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输入<code class="fe lv lw lx ly b">Backspace</code>可以从后向前逐字符删除内容。使用<code class="fe lv lw lx ly b">x</code>清除所有文本会更好吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/de05c6294024a441335caa40add5fdc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*tu5eNE1nf6R8FjfGJbeF7g.png"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="5669" class="mq me it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">可清除的输入</h1><p id="bc78" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">HTML input元素不包括clear图标(<code class="fe lv lw lx ly b">x</code>标记)，更不用说clear功能了。我们需要构建一个React组件来实现<code class="fe lv lw lx ly b">ClearableInput</code>字段。这是一个由两个元素组成的容器:一个输入字段和一个清除图标。我们称之为<em class="nn">组合输入。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/e5c0cffad0cb34ac12354a2199922c51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*89cMM1WbGc_HXU24rl0i2g.png"/></div></figure><p id="8d83" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">内部输入字段有一个黑色边框。当它聚焦时，它有一个蓝色的轮廓:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/910792bd448a2a92c3ab25b53ea4d494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*M0qZh3LCC9uSibtu5zko7w.png"/></div></figure><p id="b823" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要隐藏内部输入字段的边界和轮廓，使组合输入看起来像一个组件:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="48d3" class="md me it ly b gy mf mg l mh mi">border: 0;<br/>&amp;:focus {<br/>  outline: none;<br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/cad2a5c039e07146801b1d0895be4b36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*yD5Vm-eDgrL0lljQPpWqDA.png"/></div></figure><p id="2a02" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是用样式化组件实现的<code class="fe lv lw lx ly b">src/components/AdvancedInputs/ClearableInput.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="8eac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第40-45行指定了输入字段。当值改变时，输入值状态被更新(第42-44行)。</p><p id="b0c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第46-55行指定了清除图标。指定了图标大小(第48-49行)和笔画颜色(第50行)。当点击图标时，输入字段被清除(第51-53行)。</p><p id="ba1f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输入字段和清除图标在容器中显示为flex项。图标大小是固定的，输入字段将采用剩余的宽度。</p><p id="574e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">清除图标上写有<a class="ae lu" href="https://medium.com/better-programming/create-react-app-and-svgs-70970ac715f2" rel="noopener"> SVG </a>。以下是SVG代码和图像:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/dca0dcf27b8389e351dd8c46fdaae0d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*graOU1uCcN49ERzPK9aUkQ.png"/></div></div></figure><p id="523b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的SVG由两条对角线组成。图标大小和笔画颜色由每次使用指定。然而，我们在这里添加<code class="fe lv lw lx ly b">stroke:black</code>是为了预览<code class="fe lv lw lx ly b">x</code>标记。<code class="fe lv lw lx ly b">src/components/AdvancedInputs/clear.svg</code>中的实际SVG文件不包含笔画颜色。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="20f2" class="md me it ly b gy mf mg l mh mi">&lt;svg ae lu" href="http://www.w3.org/2000/svg" rel="noopener ugc nofollow" target="_blank"&gt;http://www.w3.org/2000/svg"&gt;<br/>  &lt;title&gt;Clear&lt;/title&gt;<br/>  &lt;g style="stroke-width:1"&gt;<br/>    &lt;line x1="2" y1="2" x2="18" y2="18" /&gt;<br/>    &lt;line x1="18" y1="2" x2="2" y2="18" /&gt;<br/>  &lt;/g&gt;<br/>&lt;/svg&gt;</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ed0a" class="mq me it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">多值可清除输入</h1><p id="d91b" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">除了清晰的图标，我们还会努力让组合输入更有趣。每当用户按下<code class="fe lv lw lx ly b">Enter</code>键，现有的<code class="fe lv lw lx ly b">none-empty</code>值就会从输入栏中提取出来，成为一个项目，以灰色背景显示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/c5c6ba0fb53b54065620b89efe57f772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*btRmh-J8YtX812062ifItQ.png"/></div></figure><p id="3317" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">重复的项目值表示有错误。组合输入将以红线为边界。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/4df2f8581b5c7dc3e7c9367c03660134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*kcZN-254sSHrf7JKINH5Cw.png"/></div></figure><p id="a336" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，我们也可以将透明图标改为红色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/1cdd9353a53740670dc654d2d054e586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*afJ-JNCfvZIuwhOnUUh8Sw.png"/></div></figure><p id="fc12" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果尺寸超过宽度，这个<code class="fe lv lw lx ly b">MultiValueClearableInput</code>可以绕到下面的行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/fa830da57e2b2a8d22f2bce80981bb34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*NBMj9kokSaeCHl4UFDuMSg.png"/></div></figure><p id="74ef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输入<code class="fe lv lw lx ly b">Backspace</code>将从后向前逐个删除输入栏中的文本和项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/3b1bb73e9d303c463f363a0d4bc0779a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*zTZNCRx4rMEOTsgEaFngkg.png"/></div></figure><p id="d671" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当没有重复项值时，组合输入边框将变回黑色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/2233f88cf46ddfa95923f0f83b1a4ddb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*Y8jGY8K8xbJJ_6QP_rKQDQ.png"/></div></figure><p id="8ff1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">单击清除图标将清除所有项目，以及输入字段中的当前值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/81f65dad858571ba312d28fe73a8b5d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*vaVzV1qZKw3440EBUQktgw.png"/></div></figure><p id="7169" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个<code class="fe lv lw lx ly b">MultiValueClearableInput</code>可以用一个由三个东西组成的容器来构建:一个<code class="fe lv lw lx ly b">div</code>列表、一个输入字段和一个清除图标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/4a0ffb413a8c24e5b9ce524d97b17502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*De9gm63Dh58mrf26vHFpwQ.png"/></div></figure><p id="ea64" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，<code class="fe lv lw lx ly b">div</code>列表和输入字段由一个输入容器分组。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/d2e47cfe173a7c7807038c624f8ccbed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*C1Cw6GK2dMvIzIGjCiJEDw.png"/></div></figure><p id="c04d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们复制<code class="fe lv lw lx ly b">ClearableInput</code>代码并扩展它来完成<code class="fe lv lw lx ly b">MultiValueClearableInput</code>。</p><p id="046b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里是<code class="fe lv lw lx ly b">src/components/AdvancedInputs/MultiValueClearableInput.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="9e3a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第13行定义了容器的边框颜色，这是基于是否有错误。<code class="fe lv lw lx ly b">isError</code>传递给第77行的道具。</p><p id="5cd0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第53行添加了一个状态来跟踪项目值。</p><p id="7c35" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第55-57行计算状态以及是否有错误(重复的项目值)。</p><p id="1df1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">除了输入字段和清除图标之外，第79-81行还指定了一个项目列表。</p><p id="56fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第84行处理<code class="fe lv lw lx ly b">KeyDown</code>事件。事件处理程序在第59-74行定义。为什么我们用<code class="fe lv lw lx ly b">KeyDown</code>而不用<code class="fe lv lw lx ly b">KeyPress</code>？是因为<code class="fe lv lw lx ly b">KeyPress</code>事件只针对可打印的字符键被调用，<code class="fe lv lw lx ly b">KeyDown</code>事件针对所有字符被引发，包括不可打印的字符，如<code class="fe lv lw lx ly b">Control</code>、<code class="fe lv lw lx ly b">Shift</code>、<code class="fe lv lw lx ly b">Alt</code>、<code class="fe lv lw lx ly b">Backspace</code>等。<code class="fe lv lw lx ly b">Enter</code>键是一个可打印字符。</p><p id="f180" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第94行根据是否有错误来设置SVG颜色。</p><p id="cb9d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第97行清除条目值，同时清除输入字段(第96行)。</p><p id="d033" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个文件向<code class="fe lv lw lx ly b">ClearableInput</code>添加代码。我们可以为它添加一个参数来处理这两种情况，而不是有两个文件。你想把它当作一次练习吗？</p><p id="7bf6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，我们遵循最佳实践为<a class="ae lu" href="https://medium.com/better-programming/a-handy-guide-to-export-and-import-modules-for-javascript-and-typescript-6cff8e47d554" rel="noopener">重新导出</a>创建<code class="fe lv lw lx ly b">src/components/AdvancedInputs/index.js</code>。这使得使用很容易。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="1c6d" class="mq me it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">故事书</h1><p id="b02a" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated"><a class="ae lu" href="https://storybook.js.org/" rel="noopener ugc nofollow" target="_blank"> Storybook </a>是UI开发的工具。它通过隔离组件使开发更快更容易。这允许我们一次处理一个组件。</p><p id="5ff2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是<code class="fe lv lw lx ly b">src/components/AdvancedInputs/AdvancedInputs.stories.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3a1d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第10-12行定义了第一个故事。是那个<code class="fe lv lw lx ly b">ClearableInput</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/f67213753c1cacb3bc0506edb37b468a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HtXvHTSbW1YZ5yoRmWlvkg.png"/></div></div></figure><p id="1c8b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第14-16行定义了第二个故事。是那个<code class="fe lv lw lx ly b">MultiValueClearableInput</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/b794c8b6c22f55360c884a98da185077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MeLM5AuW-VoaZdimOZL-Yw.png"/></div></div></figure><p id="098c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用命令<code class="fe lv lw lx ly b">npm run storybook</code>启动故事书。</p><p id="e9e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个例子位于GitHub 上的<a class="ae lu" href="https://github.com/JenniferFuBook/react-components" rel="noopener ugc nofollow" target="_blank">。你可以在线观看和玩故事书示例</a><a class="ae lu" href="https://jenniferfubook.github.io/react-components/?path=/story/components-tabs--first-tab-selected-by-default" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="3f2e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可能想知道这个示例页面是如何设置的。让我们走一遍这个过程。</p><p id="81e1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在根目录下，运行命令<code class="fe lv lw lx ly b">npm run build-storybook</code>。它运行一个脚本<code class="fe lv lw lx ly b">build-storybook -o docs -s public</code>，将构建好的文件放到<code class="fe lv lw lx ly b">docs</code>目录中。提交并将更改推送到GitHub。</p><p id="3cae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在GitHub页面中，选择<code class="fe lv lw lx ly b">Settings</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/f3b36acf841836d9f810ec3de42a7b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5_srqa_XOAIpHt2-CcVQdg.png"/></div></div></figure><p id="6da0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在设置页面，向下滚动到GitHub页面部分。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/64beb6f7f1d6879ba2a1d89956864a8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uOFjbXCAPcDrutwimsRK3g.png"/></div></div></figure><p id="d4ce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">选择GitHub Pages站点的分支和目录，并保存更改。故事书的例子可以在<a class="ae lu" href="https://jenniferfubook.github.io/react-components/?path=/story/components-advanced-input-fields--clearable-input" rel="noopener ugc nofollow" target="_blank">这里</a>查阅。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="f8e6" class="mq me it bd mr ms mt mu mv mw mx my mz jz na ka nb kc nc kd nd kf ne kg nf ng bi translated">结论</h1><p id="4308" class="pw-post-body-paragraph ky kz it la b lb nh ju ld le ni jx lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">我们已经使用样式组件和故事书创建了高级输入组件。这些组件发布在GitHub Pages站点上，供查看和播放。</p><p id="80fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你想试一试吗？</p><p id="410d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读。我希望这有所帮助。你可以在这里看到我的其他媒体出版物<a class="ae lu" href="https://medium.com/@jenniferfubook/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener"/>。</p></div></div>    
</body>
</html>