<html>
<head>
<title>Vue.js: Routing With Vue-Router</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js:使用Vue路由器路由</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/vuejs-routing-with-vue-router-1548f94c0575?source=collection_archive---------6-----------------------#2017-10-17">https://betterprogramming.pub/vuejs-routing-with-vue-router-1548f94c0575?source=collection_archive---------6-----------------------#2017-10-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="faec" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">帮助您的用户到达他们要去的地方</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/c94431d6b27e0cbf5391d07388cbe3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*wqYF-8Dmh7LhtLkKfERc3Q.png"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">图片提供:Vue.js</p></figure><p id="f1b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你正在使用Vue.js和SPA，你迟早会使用<a class="ae ln" href="https://github.com/vuejs/vue-router" rel="noopener ugc nofollow" target="_blank"> vue-router </a>来处理你的应用导航。</p><p id="ba23" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为什么选择vue-router？在我看来，答案很简单:vue-router得到了Vue.js团队的官方支持，并带来了所有好处(支持、文档、简单性等等)。</p><p id="9105" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用他们自己的话说:</p><blockquote class="lo"><p id="ec32" class="lp lq iq bd lr ls lt lu lv lw lx lm dk translated">“使用Vue + Vue-Router创建单页面应用程序非常简单。</p></blockquote><p id="b803" class="pw-post-body-paragraph kr ks iq kt b ku ly jr kw kx lz ju kz la ma lc ld le mb lg lh li mc lk ll lm ij bi translated">在这篇博客中，我们将讨论一些在使用vue-router时需要考虑的最重要的事情，试图尽可能清楚地解释它们，但我们不会解决所有问题…有关更多信息，请访问<a class="ae ln" href="https://router.vuejs.org" rel="noopener ugc nofollow" target="_blank"> vue-router文档</a>。</p><p id="feaf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么，我们开始吧。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="3a3a" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">安装Vue路由器</h1><p id="dd49" class="pw-post-body-paragraph kr ks iq kt b ku nc jr kw kx nd ju kz la ne lc ld le nf lg lh li ng lk ll lm ij bi translated">让我们看看安装vue路由器的两种方法。</p><p id="499d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">直接下载:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="14e3" class="nm ml iq ni b gy nn no l np nq">&lt;script src=”https://unpkg.com/vue-router/dist/vue-router.js"&gt;&lt;/script&gt;</span></pre><p id="36bb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Npm安装:</p><pre class="kg kh ki kj gt nh ni nj nk aw nl bi"><span id="d78c" class="nm ml iq ni b gy nn no l np nq">npm install vue-router</span></pre><p id="7e76" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过npm安装并使用模块系统时的用法:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/2ed6f86fa09ff9f27eb4e1a91730e749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*1nR5GJBmh7tE4f5uzns1ow.png"/></div></figure></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="bd3e" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">简单路由配置</h1><p id="7688" class="pw-post-body-paragraph kr ks iq kt b ku nc jr kw kx nd ju kz la ne lc ld le nf lg lh li ng lk ll lm ij bi translated">让我们创建两条简单的路线，一条是回家，另一条是大约。首先，我们需要将链接添加到HTML:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/53afd568b6746c25f80bdf715fdc9c08.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*UgkawRsCUt7N6FeH5Ou1LA.png"/></div></figure><p id="9f0c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nt nu nv ni b">router-link</code>是我们用来生成链接的，用<code class="fe nt nu nv ni b">to</code>我们设置路径。正如代码中的注释所说，<code class="fe nt nu nv ni b">router-view</code>是被路由组件将要呈现的地方。</p><p id="1f36" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，让我们创建处理这些路由的配置:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/76621f5a79c3b999530f90d3d7f21b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/format:webp/1*bo-QwxZZbcKrrOXkvDCvMQ.png"/></div></figure><p id="75d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们设置了几个Vue.js组件(<em class="nx"> Home </em>和<em class="nx"> About </em>)，这样我们就有了可以绑定路由的东西。</p><p id="4202" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，我们用三种路径配置创建routes对象:</p><ul class=""><li id="16c9" class="ny nz iq kt b ku kv kx ky la oa le ob li oc lm od oe of og bi translated">第一个路径(“<code class="fe nt nu nv ni b">/</code>”)，呈现<code class="fe nt nu nv ni b">Home</code>组件。</li><li id="fad3" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">第二个路径("<code class="fe nt nu nv ni b">/home</code>")重定向到"<code class="fe nt nu nv ni b">/</code>"并呈现<code class="fe nt nu nv ni b">Home</code>组件。</li><li id="fba5" class="ny nz iq kt b ku oh kx oi la oj le ok li ol lm od oe of og bi translated">第三个路径(“<code class="fe nt nu nv ni b">about</code>”)呈现<code class="fe nt nu nv ni b">About</code>组件。</li></ul><p id="d7a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们可以将刚刚配置的<code class="fe nt nu nv ni b">routes</code>对象提供给<code class="fe nt nu nv ni b">ViewRouter</code>实例。</p><p id="6a22" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们将<code class="fe nt nu nv ni b">router</code>对象挂载到Vue.js的根实例中。</p><p id="f8da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就这样，现在你的应用程序中有了几个简单的导航链接。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="1d13" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">带参数的路由</h1><p id="c50e" class="pw-post-body-paragraph kr ks iq kt b ku nc jr kw kx nd ju kz la ne lc ld le nf lg lh li ng lk ll lm ij bi translated">耶，帕拉斯！我们喜欢它们，我们想要它们…让我们看看如何使用它们，采用我们已经开始设置的配置。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/20dd419a3069f40c09fea37f504e29cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*8Ltjyut3w9VGVpQgVTlvlg.png"/></div></figure><p id="f6d5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，让我们向我们的<code class="fe nt nu nv ni b">routes</code>对象(“<code class="fe nt nu nv ni b">/user/:name</code>”)添加一条带有名为<code class="fe nt nu nv ni b">name</code>的参数的路线。然后我们把它绑定到一个组件上。</p><p id="da74" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我将道具设置为<code class="fe nt nu nv ni b">true</code>(非强制，默认为<code class="fe nt nu nv ni b">false</code>)。通过这样做，我们将参数作为组件中的道具进行管理，从而将组件从<code class="fe nt nu nv ni b">$route.prams</code>对象中分离出来。</p><p id="21bc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我们不这样做，我们必须通过我们的组件中前面提到的对象来访问params(不酷)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/5a5ad09d44472226bd327ff9f21be842.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*rvaAi6C7kguSAiWSBhrciA.png"/></div></figure><p id="7885" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用前面提到的方法，这就是如何处理组件中的参数。我们可以通过链接或编程来触发这个路由或任何路由。</p><p id="44db" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过链接:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/434a7400ba5b4932f425cb9ed1bf361c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*h-Yfx17eauxxo2fL_vIdRw.png"/></div></figure><p id="6fa5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以编程方式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/9ce701c2c144831800604e79e6814132.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*u1UIt9fqmcikjzjRStmKkw.png"/></div></figure></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="1f79" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">嵌套路由</h1><p id="732a" class="pw-post-body-paragraph kr ks iq kt b ku nc jr kw kx nd ju kz la ne lc ld le nf lg lh li ng lk ll lm ij bi translated">用Vue.js团队的话说:</p><blockquote class="lo"><p id="2239" class="lp lq iq bd lr ls lt lu lv lw lx lm dk translated">“真正的应用程序用户界面通常由多层嵌套的组件组成。URL的段对应于嵌套组件的某种结构也是非常常见的。”</p></blockquote><p id="0470" class="pw-post-body-paragraph kr ks iq kt b ku ly jr kw kx lz ju kz la ma lc ld le mb lg lh li mc lk ll lm ij bi translated">那么，让我们来看看如何处理嵌套规则。我们将考虑在<code class="fe nt nu nv ni b">users</code>组件中，我们将导航到“<code class="fe nt nu nv ni b">user/profile</code>和“<code class="fe nt nu nv ni b">user/posts</code>”:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/330c0e73c6029cbb53a8de5d3973524f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*T5JIE13D9nKtJ84ny9gfqA.png"/></div></figure><p id="1484" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用<code class="fe nt nu nv ni b">route</code>对象上的属性子对象，我们配置嵌套路由。我们正在设置的路径在父路径下运行，在本例中是“<code class="fe nt nu nv ni b">/user/:name</code>”，然后我们将组件设置为在该路径下呈现。</p><p id="15c8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在组件的模板中，让我们添加链接和呈现区域:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/872722ea170955c13506a2f226c109e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*11lKyMX5CfqhUhuxRHUUiQ.png"/></div></figure><p id="e4d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就是这样！现在您已经有了嵌套路由工作…</p><p id="356c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在图中显示的代码中，您可以看到一些“奇怪的东西”(…给它一个名字)，我不是在说那个丑陋的模板。</p><p id="ab56" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nt nu nv ni b">to</code>值是通过几个函数获得的，在这些函数中，我使用了从<code class="fe nt nu nv ni b">$route.params</code>的用户组件中获得的名称param。</p><p id="78ab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是创建URL的一种方法……如果你不喜欢它，你可以使用其他的方法，但是记住要呈现正确的URL，包括实际用户的名字(在这种情况下)。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="8865" class="mk ml iq bd mm mn mo mp mq mr ms mt mu jw mv jx mw jz mx ka my kc mz kd na nb bi translated">重要细节</h1><p id="ce06" class="pw-post-body-paragraph kr ks iq kt b ku nc jr kw kx nd ju kz la ne lc ld le nf lg lh li ng lk ll lm ij bi translated">当您位于URL路径中且该路径发生更改时，组件的生命周期事件不会执行。组件只是使用同一个实例进行更新。</p><p id="f5af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要重新实例化组件，可以使用两种方法。</p><ol class=""><li id="5daf" class="ny nz iq kt b ku kv kx ky la oa le ob li oc lm os oe of og bi translated">使用手表:</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/34f543bcf8bcc810bbf0fc8042da27b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*pV4kk74bTxPxUbrbF2hGLQ.png"/></div></figure><p id="987b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.使用<code class="fe nt nu nv ni b">beforeRouteUpdate</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/c0c406b4255fc8c32ecf944fe5cbf224.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*H45g0IbvEASdI3k18qQh2A.png"/></div></figure><p id="92b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就是这样！现在，您已经很好地了解了如何使用vue-router。很简单，对吧？</p></div></div>    
</body>
</html>