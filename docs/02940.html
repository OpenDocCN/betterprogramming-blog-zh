<html>
<head>
<title>Object Literals in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的对象文字</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/object-literal-in-javascript-d3e0e7d58f3b?source=collection_archive---------1-----------------------#2020-01-10">https://betterprogramming.pub/object-literal-in-javascript-d3e0e7d58f3b?source=collection_archive---------1-----------------------#2020-01-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f423" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这些在面试中出现的次数比你想象的要多</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bf060a121ba93f5c158d3a973190650f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h1Rym88uBaU2OQPm"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@arianismmm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Arian Darvishi </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ed63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript中的对象文字是什么？</p><p id="4214" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不止一个面试官问过我这个前端职位的问题。如果您做过任何类型的JavaScript开发，那么您在某个时候都使用过对象文字。我将解释并提供一些示例代码。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b3cd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">对象文字</h1><p id="a60c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">简单地说，对象文字是花括号内逗号分隔的名称-值对列表。</p><p id="5d3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些值可以是属性和函数。下面是一个对象文字的片段，它有一个属性和一个函数。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="5377" class="ne md it na b gy nf ng l nh ni">var <strong class="na iu">greeting</strong> = <strong class="na iu">{</strong><br/>    <em class="nj">fullname</em>: "Michael Jackson",<br/>    <em class="nj">greet</em>: (message, name) =&gt; {<br/>        console.log(message + " " + name + "!!");<br/>    }<br/><strong class="na iu">}</strong>;</span></pre><p id="8bc5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是使用我们刚刚创建的对象来记录<code class="fe nk nl nm na b">fullname</code>并使用<code class="fe nk nl nm na b">fullname</code>值调用<code class="fe nk nl nm na b">greet</code>函数的代码片段。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="948c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们想访问<code class="fe nk nl nm na b">greet</code>函数中的<code class="fe nk nl nm na b">fullname</code>，而不是从参数中读取它。如果我们尝试这样直接访问它:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="d35c" class="ne md it na b gy nf ng l nh ni">greet = (message)=&gt; {<br/>     console.log(message + " " + fullname + "!!");<br/>}</span></pre><p id="f19d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将得到一个未定义的错误。<code class="fe nk nl nm na b">fullname</code> <strong class="lb iu"> <em class="nj"> </em> </strong>属性不直接可见。</p><p id="7106" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，您可以创建一个函数(例如，<code class="fe nk nl nm na b">getFullName()</code>)来使用<code class="fe nk nl nm na b">this</code>关键字访问<code class="fe nk nl nm na b">fullname</code>值，这只是当前的对象上下文。</p><p id="58e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想阅读更多关于关键词<code class="fe nk nl nm na b">this</code>的内容，请访问<a class="ae ky" href="https://www.w3schools.com/js/js_this.asp" rel="noopener ugc nofollow" target="_blank"> W3学校</a>。该函数如下所示:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="d019" class="ne md it na b gy nf ng l nh ni"><strong class="na iu"><em class="nj">getFullName</em></strong>: () =&gt; {<br/>     return this.<strong class="na iu"><em class="nj">fullname</em></strong>;<br/>}</span></pre><p id="ac8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">greet函数现在看起来像这样:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="62dc" class="ne md it na b gy nf ng l nh ni">greet: (message) =&gt; {<br/>    console.log(message + " " + this.<strong class="na iu"><em class="nj">getFullName</em></strong>() + "!!");<br/>}</span></pre><p id="bb19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript中对象文字的所有成员，包括属性和函数，都是公共的。唯一可以放置私有成员的地方是函数内部。</p><p id="d06c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我可以在<code class="fe nk nl nm na b">greet</code>函数中添加一个私有变量来进一步定制消息。该函数的代码现在看起来像这样。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f4c3" class="ne md it na b gy nf ng l nh ni">(message, name) =&gt; {<br/>    var <strong class="na iu"><em class="nj">customMessage</em></strong> = <em class="nj">message + " " + name +<br/>        "!!! It's nice to meet you."</em><br/>    console.log(<strong class="na iu"><em class="nj">customMessage</em></strong>);<br/>}</span></pre><p id="fcb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nk nl nm na b">customMessage</code>变量只在你的函数中可见，但是如果它作为一个属性放在函数之外，那么它将是公共的。</p><p id="c9c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将一个对象文本赋给另一个变量只执行一次浅层复制，这意味着您获得的是对象的引用而不是实际值。</p><p id="0774" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我想使用我们之前创建的greeting对象创建另一个<code class="fe nk nl nm na b">greeting</code>对象。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="1ec4" class="ne md it na b gy nf ng l nh ni">var anotherGreeting = greeting;</span></pre><p id="818b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样做起初看起来不错，但是对复制对象(<code class="fe nk nl nm na b">anotherGreeting</code>)的任何更改都会反映在原始对象中(问候语)。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b726" class="ne md it na b gy nf ng l nh ni">var copiedGreeting = greeting;<br/>copiedGreeting.fullname = "Michael Buble";<br/>console.log(greeting.fullname + " == " + copiedGreeting.fullname);</span><span id="3fe2" class="ne md it na b gy np ng l nh ni"><strong class="na iu">---------------output----------------<br/></strong>Michael Buble == Michael Buble</span></pre><p id="fd46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果不手动复制所有值，就无法复制对象文字。</p><p id="ba41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您可以改变对象文字的成员，这意味着您可以随意添加和删除它们。</p><p id="e125" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我需要从对象中移除<code class="fe nk nl nm na b">fullname</code>属性并添加其他属性(例如，名和姓)，我可以简单地这样做。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="e64b" class="ne md it na b gy nf ng l nh ni"><strong class="na iu"><em class="nj">delete</em></strong> greeting["<strong class="na iu">fullname</strong>"];<br/>greeting.<strong class="na iu"><em class="nj">firstname</em></strong> = "Michael";<br/>greeting.<strong class="na iu"><em class="nj">lastname</em></strong> = "Jackson";</span></pre><p id="3e5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想随时创建对象，而不想将值复制到另一个对象或者将一个对象映射到另一个对象，那么应该使用Object literal。</p><p id="eff0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您需要创建一个结构的多个实例，并基于预定义的值执行操作，那么您应该使用一个函数构造器，即一个实例对象<strong class="lb iu"> <em class="nj">、</em> </strong>，我将在另一篇文章中深入讨论。</p><p id="9715" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。编码快乐！</p></div></div>    
</body>
</html>