<html>
<head>
<title>How To Create a Dictionary From an Array in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用JavaScript从数组创建字典</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-a-dictionary-from-an-array-in-javascript-c78f37c80bb1?source=collection_archive---------2-----------------------#2022-08-29">https://betterprogramming.pub/how-to-create-a-dictionary-from-an-array-in-javascript-c78f37c80bb1?source=collection_archive---------2-----------------------#2022-08-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c7db" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">有时候，拥有一个包含所有元素的对象可以简化代码的复杂性！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d4d2d79edb2602ff759d311d58c611a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MKqa3ArWegQNaB8W.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">照片由</em><a class="ae kz" href="https://www.pexels.com/@snapwire/" rel="noopener ugc nofollow" target="_blank"><em class="ky">snap wire</em></a><em class="ky">发自</em> <a class="ae kz" href="https://www.pexels.com/photo/black-and-white-book-browse-dictionary-6997/" rel="noopener ugc nofollow" target="_blank"> <em class="ky">像素</em> </a> <em class="ky">。</em></p></figure><p id="b35e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">通常，我以一个对象列表结束，并希望使用一个惟一的标识符在列表中找到一些项目。一个例子:增强与我的列表上的项目相关的其他数据。</p><p id="e317" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">有许多方法可以做到这一点，但有些方法比其他方法更好，尤其是在有大量数据的情况下。</p><p id="d3f4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们看一个简单的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="e7b4" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">加拿大省和地区的简略列表。对于这个例子，省份只有两个属性，但在现实生活中更多。</p><p id="f872" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果我们想检索由id <code class="fe ly lz ma mb b">10</code>标识的省名，我们该怎么做呢？</p><pre class="kj kk kl km gt mc mb md me aw mf bi"><span id="06d2" class="mg mh it mb b gy mi mj l mk ml">const province10 = `?`;</span></pre><p id="dd35" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们看看我们可以使用的一些解决方案！</p><h1 id="a64e" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">解决方案#0 —使用查找</h1><p id="e266" class="pw-post-body-paragraph la lb it lc b ld nd ju lf lg ne jx li lj nf ll lm ln ng lp lq lr nh lt lu lv im bi translated">一个简单的解决方案是使用<code class="fe ly lz ma mb b">find</code>函数检索满足我们搜索的第一个元素:</p><pre class="kj kk kl km gt mc mb md me aw mf bi"><span id="27f1" class="mg mh it mb b gy mi mj l mk ml">const province10 = data.find(element =&gt; element.id === 10);</span></pre><p id="8e51" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这种方法非常有效，但是如果你需要查找很多项目和/或多次，可能会很慢。让我们看看我们是否能做得更好。</p><div class="ni nj gp gr nk nl"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">array . prototype . find()-JavaScript | MDN</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">find方法对数组的每个索引执行一次callbackFn函数，直到callbackFn返回一个true thy…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">developer.mozilla.org</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz ks nl"/></div></div></a></div><h1 id="2759" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">解决方案1 —使用reduce</h1><p id="b062" class="pw-post-body-paragraph la lb it lc b ld nd ju lf lg ne jx li lj nf ll lm ln ng lp lq lr nh lt lu lv im bi translated">如果我们手中有以下数据会怎么样:</p><pre class="kj kk kl km gt mc mb md me aw mf bi"><span id="08d4" class="mg mh it mb b gy mi mj l mk ml">{<br/>  3: {id: 3, name: 'New Brunswick'},<br/>  8: {id: 8, name: 'Ontario'},<br/>  10: {id: 10, name: 'Quebec'},<br/>}</span></pre><p id="68d0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">有人称这种结构为<a class="ae kz" href="https://www.w3schools.com/python/python_dictionaries.asp" rel="noopener ugc nofollow" target="_blank">字典</a>或者索引。如果我们有了它，我们可以使用它的标识符:<code class="fe ly lz ma mb b">dictionary[10]</code>直接访问我们想要的元素。那不是更容易吗？</p><p id="f7ed" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们看看如何使用我最喜欢的一个数组函数来创建它:<code class="fe ly lz ma mb b">reduce</code>！</p><div class="ni nj gp gr nk nl"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">array . prototype . reduce()-JavaScript | MDN</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">reduce()方法在数组的每个元素上执行用户提供的“reducer”回调函数，以便…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">developer.mozilla.org</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz ks nl"/></div></div></a></div><pre class="kj kk kl km gt mc mb md me aw mf bi"><span id="57f6" class="mg mh it mb b gy mi mj l mk ml">const dictionary = data.reduce((dictionary, province) =&gt; {<br/>  dictionary[province.id] = province;<br/>  return dictionary;<br/>}, {});</span><span id="e427" class="mg mh it mb b gy ob mj l mk ml">const province10 = dictionary[10];<br/>// {id: 10, name: 'Quebec'}</span></pre><p id="8b60" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这种结构的最大优点是只需要在数组上迭代一次(构建字典)。如果你有很多数据，你应该能更快地得到你想要的元素。</p><p id="8800" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">但是，如果你对<a class="ae kz" href="https://en.wikipedia.org/wiki/Functional_programming" rel="noopener ugc nofollow" target="_blank">函数式编程</a>不感兴趣，我有另一个你可以使用的解决方案。</p><h1 id="6044" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">解决方案2——使用对象析构</h1><p id="5af7" class="pw-post-body-paragraph la lb it lc b ld nd ju lf lg ne jx li lj nf ll lm ln ng lp lq lr nh lt lu lv im bi translated">在写这篇文章的时候，我发现了另一个优雅的解决方案，我喜欢它，但不会在好的代码库中使用，因为它更复杂。</p><pre class="kj kk kl km gt mc mb md me aw mf bi"><span id="d708" class="mg mh it mb b gy mi mj l mk ml">const dictionary = Object.assign({}, ...data.map((x) =&gt; ({[x.id]: x})));</span></pre><p id="f039" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你很容易理解这个吗？如果没有，我来帮你。</p><pre class="kj kk kl km gt mc mb md me aw mf bi"><span id="61fa" class="mg mh it mb b gy mi mj l mk ml">const dictionary = Object.assign({}, ...[<br/>    {8: {id:8,name:"Ontario"}},<br/>    {10: {id:10,name:"Quebec"}},<br/>])</span></pre><p id="5fc1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这个解决方案使用析构来创建一个包含许多较小对象的字典。所有生成的对象被合并成一个更简单的对象。</p><p id="cc7c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">更复杂，对吧？</p><div class="ni nj gp gr nk nl"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab fo"><div class="nn ab no cl cj np"><h2 class="bd iu gy z fp nq fr fs nr fu fw is bi translated">析构赋值- JavaScript | MDN</h2><div class="ns l"><h3 class="bd b gy z fp nq fr fs nr fu fw dk translated">基本赋值给新变量名一个属性可以从一个对象中解包并赋给一个变量…</h3></div><div class="nt l"><p class="bd b dl z fp nq fr fs nr fu fw dk translated">developer.mozilla.org</p></div></div><div class="nu l"><div class="oc l nw nx ny nu nz ks nl"/></div></div></a></div><h1 id="dccb" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">结论</h1><p id="3649" class="pw-post-body-paragraph la lb it lc b ld nd ju lf lg ne jx li lj nf ll lm ln ng lp lq lr nh lt lu lv im bi translated">我希望这篇文章向你介绍了JavaScript字典的概念，并且在将来对你有所帮助！🤗</p></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><p id="6598" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="ok">原载于</em><a class="ae kz" href="https://www.benjaminrancourt.ca/how-to-easily-create-a-json-file-in-bash/" rel="noopener ugc nofollow" target="_blank"><em class="ok">www . Benjamin rancourt . ca</em></a><em class="ok">。</em></p></div></div>    
</body>
</html>