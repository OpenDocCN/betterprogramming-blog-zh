<html>
<head>
<title>Build a Simple Contact Form With React Hooks, Firebase, Nodemailer, and Axios</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React Hooks、Firebase、Nodemailer和Axios构建一个简单的联系表单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-simple-and-easy-contact-form-step-by-step-tutorial-react-js-1532bc025980?source=collection_archive---------2-----------------------#2020-03-06">https://betterprogramming.pub/a-simple-and-easy-contact-form-step-by-step-tutorial-react-js-1532bc025980?source=collection_archive---------2-----------------------#2020-03-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="192a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">循序渐进的教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5d3f472b809c0ea0921dea2e2e738b88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SEsp6Ut11_zV4Q6WoTvhQg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React、Firebase、Gmail、Nodemailer走进一家酒吧……(作者供图)。</p></figure><p id="17fa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以想象当我在网上使用React和Firebase寻找一个简单的联系人表单实现，却找不到时，我有多惊讶。我想让它在有人试图通过我的网站联系我时，向我的收件箱发送一封电子邮件。哦，我有没有提到我想让它把电子邮件数据存储在我的Firebase数据库里？我也能得到有钩子的东西吗？也许上面有颗樱桃。请和谢谢你。</p><p id="707e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为什么这个不存在？</p><p id="daac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">哦好吧。入乡随俗，做好记录。那是谚语，对吗？</p><p id="2491" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">很多时候，你希望快速简单的答案集中在好的方面。在这里，为了避免你一根一根地撕扯你的头发，我会给你一个超级简单的教程。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="65b2" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">我能得到什么？</h1><p id="1f05" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">当有人点击“提交”按钮时，为您的站点发送电子邮件通知的联系表单。你在收件箱里收到一封电子邮件，上面写着这样的话，“嘿嘿，某某人刚刚给你发了一条消息，上面写着这个和那个。赶紧回复。”您将在收件箱中看到他们的姓名、电子邮件和消息。</p><p id="145e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你想要一个少一些专业术语，多一些普通英语的教程吗？完了，完了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/6b9a223e203dabdf7b9a9a9c6211ca10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VzsROk7yc4-0_he6DKOn4g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">哇，哇，哇</p></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="3ea0" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">使用的技术和软件包</h1><ul class=""><li id="078c" class="mz na it la b lb mt le mu lh nb ll nc lp nd lt ne nf ng nh bi translated">反应</li><li id="d874" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">反应钩</li><li id="5326" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><a class="ae nn" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank">燃烧基地</a></li><li id="9b3f" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><a class="ae nn" href="https://nodemailer.com/about/" rel="noopener ugc nofollow" target="_blank">节点邮件</a></li><li id="9cbd" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><a class="ae nn" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank"> Axios </a></li><li id="cdbb" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">克-奥二氏分级量表</li><li id="a497" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">谷歌邮箱</li></ul></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="2170" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤1:打开React应用程序终端，安装将用于这个项目的依赖项</h1><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="3d4a" class="nt mc it np b gy nu nv l nw nx">$ npm install firebase axios node-sass<br/>$ npm install -g firebase-tools</span></pre><p id="8871" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，您应该已经在您的<code class="fe ny nz oa np b">package.json</code>文件中列出了Firebase。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="5966" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤2:在Firebase中添加您的项目</h1><p id="2c8f" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">1.去<a class="ae nn" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase网站</a>。单击“创建项目”并完成所需步骤。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/3a83f03745b1fe788d49478245d7f79d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Giw1NvYwKq5iSfcGItVglw.png"/></div></div></figure><p id="31d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.单击web图标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/5f8160d1e0da49bafa572c5ef5d80342.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kAUgLSFVLXy-bv2ukArTeg.png"/></div></div></figure><p id="f30b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.单击“将Firebase添加到您的web应用程序”选项，获取您的配置变量并复制您的配置代码。单击“继续到控制台”在本教程的后面部分，您将需要在您的<code class="fe ny nz oa np b">.env</code>文件中使用这些值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/cf91d9e3cb22e00d5f4fa880c4fe431c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2DfljHzQHGJKn_5Yfpcvaw.png"/></div></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="e0e6" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤3:使用云Firestore设置您的数据库</h1><p id="6e13" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated"><em class="oe">注意:如果您不想将您的电子邮件数据添加到数据库中，可以跳过这一步。使用它的好处是可以看到联系人提交的记录。</em></p><p id="7b18" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">1.点击“创建数据库”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/b9ba010bc30c7902245b43040d475d31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T2aXukERQr_2K71jjqIp8A.png"/></div></div></figure><p id="e2cf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.暂时以测试模式开始，如果你愿意，以后再改变。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/f2fcebd9da9c53ddb82eebb5a34506ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sGfS59F_S4-JotUBL2zfJg.png"/></div></div></figure><p id="64e1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.点击“开始收集”你可以称这个集合为“电子邮件”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/ac8206a8c85312b0e15cc848cd317ba2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lX0vYm6M_5kB0KKiqaTUkA.png"/></div></div></figure><p id="8337" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.手动插入您的第一个条目(不确定为什么需要这样做，但是如果您愿意，可以稍后删除您的条目)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/1232ad5dd3fb1908bac531ca69750719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LVWw2qwbUz_qPOohJx2GLQ.png"/></div></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="093f" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤4:初始化Firebase</h1><p id="e29f" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">1.使用以下命令初始化Firebase:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="115b" class="nt mc it np b gy nu nv l nw nx">$firebase init</span></pre><p id="3cba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">系统将提示您进行以下操作:</p><ul class=""><li id="1fa7" class="mz na it la b lb lc le lf lh oj ll ok lp ol lt ne nf ng nh bi translated">您想为此文件夹设置哪些Firebase CLI功能？按空格键选择功能，然后回车确认您的选择。→功能:配置和部署云功能。</li><li id="9969" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">你想用什么语言写云函数？→ JavaScript</li><li id="f736" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">你想使用ESLint来捕捉可能的错误并加强风格吗？→ n</li><li id="d1d3" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">您想现在安装与npm的依赖关系吗？→ y</li></ul></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="fc6f" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">第5步:添加您的。环境变量</h1><p id="2659" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">1.在项目的根目录下创建一个<code class="fe ny nz oa np b">.env</code>文件(如果这个<code class="fe ny nz oa np b">.gitignore</code>文件不在这里，不要忘记添加它)。这是您将存储所有配置值的地方。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="9acd" class="nt mc it np b gy nu nv l nw nx">REACT_APP_FIREBASE_API_KEY=&lt;yourapikey&gt;<br/>REACT_APP_FIREBASE_AUTH_DOMAIN=&lt;authdomain&gt;<br/>REACT_APP_FIREBASE_DATABASE_URL=&lt;databbase&gt;<br/>REACT_APP_FIREBASE_PROJECT_ID=&lt;projectid&gt;<br/>REACT_APP_FIREBASE_STORAGE_BUCKET=&lt;storage bucket&gt;<br/>REACT_APP_FIREBASE_MESSAGING_SENDER_ID=&lt;messagingsender&gt;</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="4f45" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤6:将Firebase配置添加到项目中</h1><p id="140b" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">1.在您的<code class="fe ny nz oa np b">/src</code>文件夹中，添加一个名为<code class="fe ny nz oa np b">/firebase</code>的子文件夹和一个名为<code class="fe ny nz oa np b">/firebaseConfig.js</code>的文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/70f7d201961b7e1c1fa9f5a54fecc92d.png" data-original-src="https://miro.medium.com/v2/resize:fit:316/format:webp/1*um_HNilBxXf_pf6o1Bpk9Q.png"/></div></figure><p id="7add" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.在<code class="fe ny nz oa np b">firebaseConfig.js</code>中，添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">注意:我在这里导入Axios是为了保持整洁，但是你可以直接从ContactForm组件导入。如果您不打算使用db，也可以省略它。</p></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="eea0" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤7:在项目中添加Firebase函数</h1><ol class=""><li id="d833" class="mz na it la b lb mt le mu lh nb ll nc lp nd lt op nf ng nh bi translated">在您的<code class="fe ny nz oa np b">/functions/index.js</code>中，添加下面的代码。要创建Firebase函数，您需要选择一个触发器。这里，我们将使用一个<a class="ae nn" href="https://firebase.google.com/docs/functions/http-events" rel="noopener ugc nofollow" target="_blank"> HTTP触发器</a>。Firebase会创建一个唯一的URL，您可以在Firebase控制台的功能页面上看到它:</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="6ced" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤8:配置您的Gmail电子邮件和密码</h1><p id="c0dc" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">1.进入您的<code class="fe ny nz oa np b">functions</code>目录:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="9bb1" class="nt mc it np b gy nu nv l nw nx">$cd functions/</span></pre><p id="a92c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.安装Cors和节点邮件程序依赖关系:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="5401" class="nt mc it np b gy nu nv l nw nx">$npm install cors nodemailer</span></pre><p id="8502" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.设置您的Gmail电子邮件和密码:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="c50a" class="nt mc it np b gy nu nv l nw nx">$firebase functions:config:set gmail.email=”&lt;<a class="ae nn" href="mailto:youremail@gmail.com" rel="noopener ugc nofollow" target="_blank">youremail@gmail.com</a>&gt;” gmail.password=”&lt;yourgmailpassword&gt;”</span></pre><p id="6b8f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.这将创建一个对象。您可以通过运行以下命令来检查其配置是否正确:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="d6ed" class="nt mc it np b gy nu nv l nw nx">{<br/> “gmail”: {<br/>   “email”: “youremail@gmail.com”,<br/>   “password”: “yourpassword”<br/>   }<br/>}</span><span id="d9d9" class="nt mc it np b gy oq nv l nw nx">$firebase functions:config:get //make sure to run this in your functions directory</span></pre><p id="4815" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">5.部署Firebase:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="5408" class="nt mc it np b gy nu nv l nw nx">$firebase deploy</span><span id="b5d9" class="nt mc it np b gy oq nv l nw nx">or</span><span id="dfde" class="nt mc it np b gy oq nv l nw nx">$firebase deploy --only functions</span></pre><p id="7abd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">6.现在，您应该能够在Firebase控制台上看到您的功能了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/6df026ffe6e9d072db74c1c425ad62d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U-is81uqhpqXIS4_tkDfJw.png"/></div></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="1367" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤9:在Gmail上启用不太安全的应用程序访问</h1><ol class=""><li id="63a9" class="mz na it la b lb mt le mu lh nb ll nc lp nd lt op nf ng nh bi translated">打开“<a class="ae nn" href="https://myaccount.google.com/lesssecureapps" rel="noopener ugc nofollow" target="_blank">不太安全的应用程序访问</a>”，以便能够在您的Gmail帐户中收到通知。Gmail希望用户是真实的用户，而不是机器人，所以它会对每次登录尝试进行大量的试探，并阻止任何看起来可疑的事情。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/fe517849e948db61a1b29e7299c88b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*93aXOEvui62fatOTbOcEAQ.png"/></div></div></figure><p id="e61d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.<a class="ae nn" href="https://accounts.google.com/DisplayUnlockCaptcha" rel="noopener ugc nofollow" target="_blank">允许访问</a>您的Google帐户。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="1cbb" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤10:在React应用程序中创建联系人组件</h1><p id="6c18" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">1.通过运行以下命令执行您的构建:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="7650" class="nt mc it np b gy nu nv l nw nx">$npm run start</span></pre><p id="9dc8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.在您的<code class="fe ny nz oa np b">/src</code>目录中，添加一个带有<code class="fe ny nz oa np b">index.js</code>文件的<code class="fe ny nz oa np b">contact</code>文件夹:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/b1774b7f9ecc567dec89bbb0032856b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:316/format:webp/1*VvNwo82_z06EpL_Tkaws7A.png"/></div></figure><p id="2cb2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.添加以下代码。这是我们放置接触组件的地方。将Axios方法中的URL更改为上图所示的URL(第8步中图像中涂黑的部分):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">您可以<code class="fe ny nz oa np b">console.log(formData)</code>查看updateInput()的运行情况。</p></figure><p id="b8a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.添加一些SASS，这样看起来很好看:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="1026" class="nt mc it np b gy nu nv l nw nx">$npm install node-sass</span></pre><p id="cd1c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">5.在<code class="fe ny nz oa np b">/contact/styled.scss</code>中，添加:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="38e1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">6.在<code class="fe ny nz oa np b">App.js</code>中，添加<code class="fe ny nz oa np b">&lt;ContactForm/&gt;</code>组件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="f042" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是第一个文件正在做的事情(如果您只想吃肉和土豆，请跳过这一步):</p><ul class=""><li id="d042" class="mz na it la b lb lc le lf lh oj ll ok lp ol lt ne nf ng nh bi translated"><code class="fe ny nz oa np b">updateInput()</code>正在用<code class="fe ny nz oa np b">onChange</code>更新输入的状态，当元素的值失去焦点时触发<em class="oe">改变</em>。您可以做一点点<code class="fe ny nz oa np b">console.log(formData)</code>来看看这是怎么回事。扩展操作符(<code class="fe ny nz oa np b">...</code>)将前一个状态与当前状态合并。在钩子中，当前状态没有与旧值合并，这就是为什么它是必需的。</li><li id="7c55" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><code class="fe ny nz oa np b">handleSubmit()</code>将首先阻止页面在提交表单时刷新。然后它将调用<code class="fe ny nz oa np b">sendEmail()</code>并重置表单数据。</li><li id="bb77" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><code class="fe ny nz oa np b">sendEmail()</code>将使用<code class="fe ny nz oa np b">Axios.post</code>触发您的Firebase函数(这将处理电子邮件通知)。<code class="fe ny nz oa np b">.then</code>会将您的电子邮件数据添加到数据库中(如果您不想在数据库中引用该数据，您可以将其排除在外)。</li><li id="58f0" class="mz na it la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated">最后，使用JSX渲染表单。</li></ul></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="6dee" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">瞧吧！现在让我们提交表单！</h1><p id="6b6b" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">您应该会在数据库中看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/90125214ff5b590c0a11f387bd4ef25f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QSjsbNwbdtzoDD130jfIfQ.png"/></div></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="f030" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">终点终于来了</h1><p id="42f1" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我真的很兴奋把这个教程带到了这个世界上！希望对你有所帮助！</p><p id="e516" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有什么问题吗？让我知道！</p></div></div>    
</body>
</html>