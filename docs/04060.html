<html>
<head>
<title>A Tour of CocoaPods and Carthage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">椰子和迦太基之旅</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-deep-tour-to-cocoa-pods-and-carthage-1d6050b4176b?source=collection_archive---------12-----------------------#2020-03-20">https://betterprogramming.pub/a-deep-tour-to-cocoa-pods-and-carthage-1d6050b4176b?source=collection_archive---------12-----------------------#2020-03-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="556b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">掌握两个主要的第三方依赖管理器之间的区别</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/12561cab9893c1540909d28acc3b63cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tbTeHkomwOBNuXPW"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@rev3n?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">micha Kubalczyk</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="6cbc" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="4a14" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">第三方框架<em class="mk"> </em>如今已经成为一个重要的工具——毕竟，没有人想重新发明轮子。</p><p id="1171" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">今天，GitHub中有大量这样的框架，这表明它们是如何满足共同需求的。</p><p id="cbac" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">你认为外部框架和你的文件之间的导体是什么？如果你认为“依赖管理器”，你是绝对正确的。</p><h2 id="fbf9" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated"><strong class="ak"> <em class="nc">依赖关系管理器</em> </strong></h2><p id="7238" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这是一个为特定应用程序从源(GitHub)安装和更新依赖项的工具。然后，基于这些依赖，程序员可以扩展类和方法来创建一些很酷的东西。您可能会得出这样的结论，Cocoa Pods和Carthage就是这样的依赖管理器，它们用Swift语言提供服务。</p><p id="e309" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">现在，你知道了依赖管理器是什么，以及我们为什么使用它，让我们深入到每个特定的依赖管理器。这对于我们将来选择经理时的分析是必不可少的。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="8116" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">可可豆</h1><p id="8ef6" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><a class="ae kv" href="http://cocoapods.org" rel="noopener ugc nofollow" target="_blank">可可豆荚</a>是埃洛伊·杜兰和法比奥·佩洛辛在许多其他开发者的大力帮助下于2011年9月1日开发出来的。这个依赖管理器最初是为Objective-C语言构建的，但是现在可以为运行在Objective-C运行时上的任何其他语言工作，比如Swift和RubyMotion。</p><p id="73e2" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">CocoaPods受到Ruby项目Ruby Gems和Bundler的强烈启发。</p><h2 id="7e48" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">可可豆的好处</h2><ul class=""><li id="35c3" class="np nq iq lq b lr ls lu lv lx nr mb ns mf nt mj nu nv nw nx bi translated">易于安装。</li><li id="6101" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">由于CocoaPods有广泛的社区，所以可以使用它安装很多框架。</li><li id="1bf4" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">使用很少的框架就能很好地工作——过程进行得很快。</li><li id="ebf3" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">可可豆荚比迦太基更受欢迎。</li></ul><h2 id="035e" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">可可豆的缺点</h2><ul class=""><li id="464e" class="np nq iq lq b lr ls lu lv lx nr mb ns mf nt mj nu nv nw nx bi translated">集成pod时，创建另一个Xcode工作文件<code class="fe od oe of og b">.xcworkspace</code></li><li id="be91" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">一旦安装，很难去除</li><li id="1a43" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">Cocoa Pods控制着整个Xcode文件，因此，如果Pods中出现问题，整个项目就会停止工作</li><li id="01d3" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">Xcode会在运行应用程序时编译每个Pod。因此，如果安装了许多pod，这个过程会变得非常耗时</li></ul></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="2678" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated"><strong class="ak">迦太基</strong></h1><p id="4ac5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><a class="ae kv" href="https://github.com/Carthage/Carthage" rel="noopener ugc nofollow" target="_blank"> Carthage </a>由一群来自Github的开发者于2014年10月5日创建，完全用Swift编写。</p><h2 id="528a" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">迦太基的好处</h2><ul class=""><li id="4fd0" class="np nq iq lq b lr ls lu lv lx nr mb ns mf nt mj nu nv nw nx bi translated">如果不再需要框架，Carthage很容易移除。</li><li id="fc72" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">因为它完全是用Swift编写的，Carthage不要求创建另一个文件。所有东西都直接安装到Xcode文件中。</li><li id="aea0" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">Carthage不需要编译整个项目，它只编译那些在特定情况下需要的框架。</li><li id="376d" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">如果Carthage安装的框架中有什么东西坏了，Xcode会简单地跳过它，然后简单地构建以前从未存在过的东西。</li><li id="d8e3" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">由于它的灵活性，Carthage可以很好地处理大量巨大的代码库。</li></ul><h2 id="9f35" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">迦太基的弊端</h2><ul class=""><li id="7264" class="np nq iq lq b lr ls lu lv lx nr mb ns mf nt mj nu nv nw nx bi translated">迦太基很难设置，因为它有许多手动步骤。</li><li id="9468" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">迦太基的贡献者比可可豆荚少。</li><li id="bdd3" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">Carthage不支持静态框架，它只支持动态框架。</li><li id="859a" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">根据一些用户的说法，Carthage在编译框架时速度很慢。</li></ul><p id="05d9" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">现在你已经有了关于CocoaPods和Carthage的所有理论知识，包括它们的优缺点，让我们转到实践部分——你如何在你的项目中与这些依赖管理器一起工作。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="a17d" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">可可豆</h1><h2 id="2002" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">安装</h2><p id="c343" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">首先，打开终端<em class="mk">和</em>并写入:</p><p id="0ba6" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated"><code class="fe od oe of og b">$ sudo gem install cocoapods</code></p><p id="3606" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">您将被要求输入用户密码，允许您将所有必要的文件安装到您的计算机上。</p><h2 id="7a75" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">将Pods添加到Xcode项目</h2><ol class=""><li id="d924" class="np nq iq lq b lr ls lu lv lx nr mb ns mf nt mj oh nv nw nx bi translated">创建一个Podfile。要创建podfile，请打开“终端”,然后将根目录导航到您的Xcode文件。<br/> <code class="fe od oe of og b">cd “YOUR ROOT DIRECTORY”<br/> pod init</code></li><li id="7bc2" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj oh nv nw nx bi translated">通过Xcode打开您的Podfile并添加您的依赖项。建议通过Xcode打开podfile，以免出错。</li></ol><p id="ee83" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated"><code class="fe od oe of og b">open -a Xcode Podfile</code>(为了通过终端打开Xcode)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/466b6a3c29bbd7a8668f77285c7635f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y0QD7jcOSuuQry9W510_4g.png"/></div></div></figure><p id="4c4b" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">让我们添加我们的第一个第三方库。在<code class="fe od oe of og b">#Pods for “NAME OF YOUR XCODE PROJECT”</code>行下面写下:<br/> <code class="fe od oe of og b">pod ‘PKHUD’</code></p><p id="5994" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">括号中的<code class="fe od oe of og b">PKHUD</code>是您想要使用的Pod的名称。<code class="fe od oe of og b">PKHUD</code>非常流行，用于显示装载指示器。</p><p id="bb0d" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">3.关闭<code class="fe od oe of og b">Podfile</code>并在终端运行该命令:<br/> <code class="fe od oe of og b">pod install</code>。</p><p id="9c85" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">现在奇迹发生了。CocoaPods正在幕后为你安装一切。一旦安装了Pods，您就不再打开您的<code class="fe od oe of og b">.xcodeproj</code>文件。Cocoa Pods为您创建了一个新的<code class="fe od oe of og b">.xcworkspace</code>文件，您现在可以打开它了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/fe72f69db3a0b8214a475bceef99c61d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*LEI9iBbNa4lm0qxEtttI2g.png"/></div></figure><p id="e0ae" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">安装CocoaPods后，我们看到了以下变化:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/dd252c88de81cbc7dff15c294822b705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*MCG0P1ZJTvOZAL3ohV1M6Q.png"/></div></figure><p id="1f33" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">太好了——现在您可以使用您的框架了！</p><h2 id="d82c" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">豆荚的正确版本</h2><p id="bf36" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">有时你可能会遇到CocoaPods已经更新的情况，但是我们不想使用新版本，因为我们需要时间来适应修改。</p><p id="f881" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">最好的情况是选择我们框架的版本。</p><pre class="kg kh ki kj gt ol og om on aw oo bi"><span id="2788" class="mq kx iq og b gy op oq l or os">pod 'AFNetworking', '~&gt; 3.0'</span></pre><h2 id="5c98" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">依赖版本</h2><p id="6155" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">依赖版本告诉我们必须使用依赖的哪个版本。这是依赖性管理器非常重要的一部分——尤其是在团队中工作时。</p><p id="0ad1" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">它可以用多种方式提及。</p><p id="3aa2" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated"><code class="fe od oe of og b"><strong class="lq ir">== x.0</strong></code>表示完全相同的版本x.0。</p><p id="d45e" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated"><code class="fe od oe of og b"><strong class="lq ir">&gt;= x.0</strong></code>表示x.0或更高版本。</p><p id="b086" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated"><code class="fe od oe of og b"><strong class="lq ir">~&gt; x.0</strong></code>是指任何兼容x.0的版本，实际上是指使用x.0或更高版本，但不包括(x+1).0版本。</p><p id="880b" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">例如，~&gt;2.2使用2.2及更高版本，但不包括1.0或3.0版本。</p><h2 id="3232" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">Pod更新</h2><p id="769a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">很多人都搞不清楚什么时候用<code class="fe od oe of og b">pod install</code>，什么时候用<code class="fe od oe of og b">pod update</code>。在应该使用<code class="fe od oe of og b">pod install</code>的地方使用<code class="fe od oe of og b">pod update</code>是很常见的。</p><ul class=""><li id="56d7" class="np nq iq lq b lr ml lu mm lx ot mb ou mf ov mj nu nv nw nx bi translated">使用<code class="fe od oe of og b">pod install</code>到<em class="mk">在您的项目中安装新的pod</em>。即使您已经有了一个<code class="fe od oe of og b">Podfile</code>并且之前已经运行过<code class="fe od oe of og b">pod install</code>，您也必须这样做——因此，即使您只是在一个已经使用CocoaPods的项目中添加/删除pods。</li><li id="d69f" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">仅当您想要将pod更新到较新版本时，才使用<code class="fe od oe of og b">pod update [PODNAME]</code>。</li></ul><p id="cb3e" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">要更新pod，请遵循以下步骤:</p><ol class=""><li id="2f88" class="np nq iq lq b lr ml lu mm lx ot mb ou mf ov mj oh nv nw nx bi translated">在<code class="fe od oe of og b">Podfile</code>中指定CocoaPods的版本。<br/>如果你想把它更新到最新版本，不要指定任何东西。</li><li id="5660" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj oh nv nw nx bi translated">删除<code class="fe od oe of og b">Podfile.lock</code></li><li id="b081" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj oh nv nw nx bi translated">在“终端”中，导航到您的项目目录。<code class="fe od oe of og b">Pod update 'PODNAME'</code>在您想要更新的pod上。跳过<code class="fe od oe of og b">‘PODNAME’</code>来更新整个podfile。</li></ol><h2 id="60a8" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">Podfile.lock的必要性</h2><p id="5b48" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><code class="fe od oe of og b">Podfile.lock</code>文件是在安装CocoaPods之后创建的。目的是跟踪您的pod版本，避免意外更新。在团队中处理同一个项目时，这很方便。将GitHub中的<code class="fe od oe of og b">Podfile.lock</code>与其他文件一起推送有助于避免版本冲突。克隆项目的人会自动安装完全相同的版本。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="e0ad" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">迦太基</h1><h2 id="fb0f" class="mq kx iq bd ky mr ms dn lc mt mu dp lg lx mv mw li mb mx my lk mf mz na lm nb bi translated">安装</h2><p id="06bb" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">首先，下载并安装<code class="fe od oe of og b">Carthage.pkg</code>:</p><div class="ow ox gp gr oy oz"><a href="https://github.com/Carthage/Carthage/releases" rel="noopener  ugc nofollow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd ir gy z fp pe fr fs pf fu fw ip bi translated">迦太基/迦太基</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">添加了启用Xcode 11.0、11.1和11.2测试版的其他解决方法；见下文。修复了应用程序的中断…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">github.com</p></div></div><div class="pi l"><div class="pj l pk pl pm pi pn kp oz"/></div></div></a></div><p id="e9a2" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">安装后，通过在终端中运行这个命令来确保一切都设置成功:<code class="fe od oe of og b">carthage version</code>。如果Carthage安装成功，将打印其版本号。</p><p id="7767" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">安装完成后，我们准备将Carthage dependency manager框架集成到Xcode项目中:</p><ol class=""><li id="2209" class="np nq iq lq b lr ml lu mm lx ot mb ou mf ov mj oh nv nw nx bi translated">在终端中，导航到您正在使用的Xcode项目:<br/> <code class="fe od oe of og b">cd “YOUR ROOT DIRECTORY”</code></li><li id="f87f" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj oh nv nw nx bi translated">使用<code class="fe od oe of og b">touch</code>命令创建一个<code class="fe od oe of og b">Cartfile</code>:</li></ol><pre class="kg kh ki kj gt ol og om on aw oo bi"><span id="1899" class="mq kx iq og b gy op oq l or os">touch Cartfile</span></pre><p id="2bf9" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">3.使用Xcode打开生成的<code class="fe od oe of og b">Cartfile</code>。</p><pre class="kg kh ki kj gt ol og om on aw oo bi"><span id="6a6d" class="mq kx iq og b gy op oq l or os">open -a Xcode Cartfile</span></pre><p id="ba41" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">4.在<code class="fe od oe of og b">Cartfile</code>中，包含你的框架。在我们的例子中，它是<a class="ae kv" href="https://github.com/Alamofire/Alamofire" rel="noopener ugc nofollow" target="_blank">阿拉莫菲尔</a>。保存文件并关闭它。最终会是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi po"><img src="../Images/3c72d75246d2ae61d0355eed5d5579c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KgDVWvmUtJAPtbXEWReIng.png"/></div></div></figure><p id="5c6d" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated"><code class="fe od oe of og b">cartfile</code>的每一行包含两条信息:依赖源和依赖版本。</p><p id="bec3" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">依赖源告诉我们从哪里获取依赖。可以用两种方式提及:</p><ul class=""><li id="2e37" class="np nq iq lq b lr ml lu mm lx ot mb ou mf ov mj nu nv nw nx bi translated"><code class="fe od oe of og b">github</code>后接<code class="fe od oe of og b">Username/ProjectName</code></li><li id="745a" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated"><code class="fe od oe of og b">git</code>后跟使用git的远程URL:<code class="fe od oe of og b">//</code>、<code class="fe od oe of og b"><a class="ae kv" href="http://" rel="noopener ugc nofollow" target="_blank">http://</a></code>或<code class="fe od oe of og b">ssh://</code>，或者是开发机器上git存储库的本地路径。</li></ul><p id="0e3c" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">5.保存<code class="fe od oe of og b">cartfile</code>并在终端中运行以下命令以获取依赖关系:</p><pre class="kg kh ki kj gt ol og om on aw oo bi"><span id="18e4" class="mq kx iq og b gy op oq l or os">carthage update --platform iOS</span></pre><p id="92a8" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated"><code class="fe od oe of og b">--platform iOS</code> <strong class="lq ir"> </strong>确保Carthage只为iOS搭建框架。如果不指定平台，Carthage为iOS、MacOS、TvOS搭建框架。</p><p id="4e12" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">这些步骤的所有步骤都非常类似于CocoaPods的安装。现在，你可能会猜测我们终于可以开始和阿拉莫菲尔合作了。但这里不是可可阿波德，而是迦太基，所以我们还要走几步。</p><p id="3ad7" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">在继续之前，我们先来看看Alamofire安装到Xcode项目后的变化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/d22d51a1cd5498afad73d9e28ddbbf0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*A8Uz6pkEbObRZtr0zCdRAQ.png"/></div></figure><p id="ab92" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">我们这里有三个新文件:</p><ul class=""><li id="51b2" class="np nq iq lq b lr ml lu mm lx ot mb ou mf ov mj nu nv nw nx bi translated"><code class="fe od oe of og b">Cartfile</code>类似于<code class="fe od oe of og b">Podfile</code>。我们在这里保留了框架的链接。</li><li id="5e0b" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated"><code class="fe od oe of og b">Cartfile.resolve</code>类似于<code class="fe od oe of og b">Podfile.lock</code>。它保留了我们使用的框架的版本。</li><li id="98e8" class="np nq iq lq b lr ny lu nz lx oa mb ob mf oc mj nu nv nw nx bi translated">包含<code class="fe od oe of og b">Build</code>和<code class="fe od oe of og b">Checkouts</code>目录的Carthage目录。构建目录包含每个依赖项的构建框架。签出目录包含每个依赖项的源代码。</li></ul></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="f437" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">椰子恐龙和迦太基的主要区别</h1><p id="41bc" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">CocoaPods创建了一个新的<code class="fe od oe of og b">.xcworkspace</code>，并在其中包含了框架文档。这让生活变得非常复杂，因为如果<code class="fe od oe of og b">Framework</code>出了问题，整个项目都会崩溃。<br/>另一方面，Carthage将所有内容保存在文件夹中，不影响Xcode项目。</p><p id="9da1" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">现在让我们继续:</p><p id="4077" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">6.选择<code class="fe od oe of og b">target</code>，然后在<em class="mk">框架、库和嵌入内容</em>部分点击+按钮，选择你的框架</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pq"><img src="../Images/fc87a14c49a852992e0a7e1baecd72ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*82uJbabHcAl91pH0MFPBMA.png"/></div></div></figure><p id="369b" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">7.在<code class="fe od oe of og b">Build Settings</code>部分，点击<em class="mk">新运行脚本阶段:</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pr"><img src="../Images/18fefff7749b09c7155c27f0597e9ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oc9sRGxVjo99QnbIb6aXMg.png"/></div></div></figure><p id="d57a" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">8.在<code class="fe od oe of og b">Run Script</code> <strong class="lq ir"> </strong>中添加以下命令:</p><pre class="kg kh ki kj gt ol og om on aw oo bi"><span id="1754" class="mq kx iq og b gy op oq l or os">/usr/local/bin/carthage copy-frameworks</span></pre><p id="0a3d" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">点击输入文件下的<strong class="lq ir"> + </strong>，为每个框架添加一个路径:</p><pre class="kg kh ki kj gt ol og om on aw oo bi"><span id="e6c3" class="mq kx iq og b gy op oq l or os">$(SRCROOT)/Carthage/Build/iOS/"NAME_OF_FRAMEWORK".framework</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ps"><img src="../Images/a29de0b380adc8ead29937b5d101daaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*scEfUnXyKGl9r5E4jJPyKg.jpeg"/></div></div></figure><p id="011a" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">就这样—所有的集成步骤都完成了！</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="da8e" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">结论</h1><p id="c8d9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">依赖性管理器没有错误的选择。</p><p id="a3eb" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">现在你知道了所有的优缺点，以及如何集成CocoaPods和Carthage依赖项，就看你自己选择需要的那个了。</p><p id="38f0" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">例如，有时CocoaPods可能是唯一的选择——例如，因为框架不是用Carthage编写的。或者当你使用很多框架时，你可能更喜欢使用Carthage，因为它不是集中式的。</p><p id="2f85" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>