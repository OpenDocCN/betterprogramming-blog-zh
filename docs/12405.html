<html>
<head>
<title>Exploring SwiftUI Transitions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索SwiftUI转换</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-swiftui-transitions-85d933d3fa3c?source=collection_archive---------2-----------------------#2022-06-03">https://betterprogramming.pub/exploring-swiftui-transitions-85d933d3fa3c?source=collection_archive---------2-----------------------#2022-06-03</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="0289" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">不透明度、缩放、滑动、移动、不对称、组合和自定义过渡</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/dfcae14f6943801421aad3dac31ebc84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wRK__wLngKmf3D2o"/></div></div><p class="ks kt gk gi gj ku kv bd b be z dk translated">Pawel Czerwinski 在<a class="ae kw" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0b61" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在SwiftUI中，您可以在视图插入或从层次结构中移除时添加效果。这就是所谓的过渡。</p><p id="9e0f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">在接下来的部分中，我们将看到一些基本类型的转换。让我们开始吧。</p><h1 id="86b3" class="lt lu ir bd lv lw lx ly lz ma mb mc md jx me jy mf ka mg kb mh kd mi ke mj mk bi translated">不透明过渡</h1><p id="fa85" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">SwiftUI已经提供了一个现成的<code class="fe mq mr ms mt b">opacity</code>修改器。但是你知道你也可以使用过渡修改器淡入淡出视图吗？以下是如何使用不透明度在两种状态之间转换视图:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="fff0" class="my lu ir mt b gz mz na l nb nc">.transition(.opacity)</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nd"><img src="../Images/078c2741b69a99698896a73a41882a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*x_08lkjSC8VsoqiuojL7Rg.gif"/></div></div></figure><p id="bb41" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">基于<code class="fe mq mr ms mt b">Button</code>点击，SwiftUI插入和移除<code class="fe mq mr ms mt b">RoundedRectangle</code>，从而给出一个过渡效果。</p></div><div class="ab cl ne nf hv ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ik il im in io"><h1 id="cf35" class="lt lu ir bd lv lw nl ly lz ma nm mc md jx nn jy mf ka no kb mh kd np ke mj mk bi translated">规模过渡</h1><p id="50e1" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">像<code class="fe mq mr ms mt b">scaleEffect</code>动画一样，<code class="fe mq mr ms mt b">scale</code>过渡让我们放大和缩小视图尺寸:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="bf48" class="my lu ir mt b gz mz na l nb nc">.transition(.scale)</span></pre><p id="d616" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">下面是如何使用上述转换的方法:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="84e2" class="my lu ir mt b gz mz na l nb nc">RoundedRectangle(cornerRadius: 20)<br/>.fill(Color.orange)<br/>.frame(width: 100, height: 100)<br/>.transition(.scale)</span></pre><p id="d66b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">如果没有比例值，视图会缩小并消失。但是，您可以通过以下方式自定义比例参数:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="cd64" class="my lu ir mt b gz mz na l nb nc">.transition(.scale(scale: 0.5))</span></pre><p id="e62f" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">此外，您还可以使用<code class="fe mq mr ms mt b">anchorPoint</code>参数自定义过渡开始的位置:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="424e" class="my lu ir mt b gz mz na l nb nc">.transition(.scale(anchor: UnitPoint(x: 1, y: 0)))</span></pre><p id="dd0b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">下面是一个实际的缩放转换输出示例:</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nq"><img src="../Images/b1480565b534d0392f82e605ca0bb30b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*isNwSv_Thm1SiNXKQH0FPA.gif"/></div></div></figure><p id="15ff" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">从上述转变中我们可以得出几个推论:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="aecc" class="my lu ir mt b gz mz na l nb nc">UnitPoint(x: 1, y: 0) -- transitions towards top right<br/>UnitPoint(x: -1, y: 0) -- transitions towards top left</span><span id="60a7" class="my lu ir mt b gz nr na l nb nc">UnitPoint(x: 0, y: 1) -- transitions towards bottom left<br/>UnitPoint(x: 0, y: -1) -- transitions towards bottom right</span></pre></div><div class="ab cl ne nf hv ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ik il im in io"><h1 id="cd66" class="lt lu ir bd lv lw nl ly lz ma nm mc md jx nn jy mf ka no kb mh kd np ke mj mk bi translated">幻灯片过渡</h1><p id="b048" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">幻灯片切换用于将视图从左向右移动:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="439d" class="my lu ir mt b gz mz na l nb nc">.transition(.slide)</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nq"><img src="../Images/51ad22cba749b7fe0fb32b1ccb2485fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*BJcVlGwW9zQkZSqRolTUyg.gif"/></div></div></figure></div><div class="ab cl ne nf hv ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ik il im in io"><h1 id="5352" class="lt lu ir bd lv lw nl ly lz ma nm mc md jx nn jy mf ka no kb mh kd np ke mj mk bi translated">移动过渡</h1><p id="1cc8" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">虽然幻灯片过渡只能在一个方向上工作，但您也可以使用<code class="fe mq mr ms mt b">move</code>过渡使其在其他方向上工作:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="c1aa" class="my lu ir mt b gz mz na l nb nc">.transition(.move(edge: .leading))</span><span id="01b4" class="my lu ir mt b gz nr na l nb nc">.transition(.move(edge: .trailing))</span><span id="7388" class="my lu ir mt b gz nr na l nb nc">.transition(.move(edge: .top))</span><span id="c7df" class="my lu ir mt b gz nr na l nb nc">.transition(.move(edge: .bottom))</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nq"><img src="../Images/fff104b261b2953f1b41faf72a752b01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_Ns2Wz9tXfc0IHg_niHlGw.gif"/></div></div></figure><p id="4e89" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了更具体地控制视图的位置，您可以使用如下所示的<code class="fe mq mr ms mt b">offset</code>转换:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="1a05" class="my lu ir mt b gz mz na l nb nc">.transition(.offset(x: 10, y: 10))</span></pre></div><div class="ab cl ne nf hv ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ik il im in io"><h1 id="2910" class="lt lu ir bd lv lw nl ly lz ma nm mc md jx nn jy mf ka no kb mh kd np ke mj mk bi translated">不对称转变</h1><p id="98f1" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated"><code class="fe mq mr ms mt b">asymmetric</code>转换允许您为视图的插入和删除指定不同的转换。比如添加视图的移动过渡和删除视图的不透明过渡。</p><p id="3d34" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">下面是一个示例<code class="fe mq mr ms mt b">asymmetric</code>过渡，它在插入时缩放，在移除时将视图向右移动:</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ns"><img src="../Images/806c6085ff6228646196759149356403.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UfvJ_AULpR55RHELw8smCQ.gif"/></div></div></figure></div><div class="ab cl ne nf hv ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ik il im in io"><h1 id="6e52" class="lt lu ir bd lv lw nl ly lz ma nm mc md jx nn jy mf ka no kb mh kd np ke mj mk bi translated">组合过渡</h1><p id="c2e8" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">您甚至可以组合多个过渡来创建独特的效果。这里有几个例子:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="0f95" class="my lu ir mt b gz mz na l nb nc">.transition(.slide.combined(with: .scale))</span><span id="f489" class="my lu ir mt b gz nr na l nb nc">.transition(.move(edge: .trailing).combined(with: .move(edge: .top)))</span></pre><p id="3ed6" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">以下转场结合了两个移动转场:尾部和顶部，以产生对角线转场效果:</p><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj ns"><img src="../Images/8b4e10c0ca93e32c91b64b89926ed0cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*K5fKBuGnejej9s7k3NV5pQ.gif"/></div></div></figure><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="fd8b" class="my lu ir mt b gz mz na l nb nc">RoundedRectangle(cornerRadius: 20)<br/>.fill(Color.blue)<br/>.frame(width: 100, height: 100)<br/>.transition(.move(edge: .trailing).combined(with: .move(edge: .top)))</span></pre></div><div class="ab cl ne nf hv ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ik il im in io"><h1 id="45d5" class="lt lu ir bd lv lw nl ly lz ma nm mc md jx nn jy mf ka no kb mh kd np ke mj mk bi translated">创建定制的过渡</h1><p id="7259" class="pw-post-body-paragraph kx ky ir kz b la ml js lc ld mm jv lf lg mn li lj lk mo lm ln lo mp lq lr ls ik bi translated">我们也可以通过扩展<code class="fe mq mr ms mt b">AnyTransition</code>来构建定制的过渡修改器。</p><p id="ef78" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">例如，这里有一个创建<code class="fe mq mr ms mt b">slideAndScale</code>转换的例子:</p><pre class="kh ki kj kk gu mu mt mv mw aw mx bi"><span id="65c8" class="my lu ir mt b gz mz na l nb nc">extension AnyTransition {</span><span id="1826" class="my lu ir mt b gz nr na l nb nc">static var scaleAndSlide: AnyTransition {<br/>     AnyTransition.scale.combined(with: .slide)<br/>  }<br/>}</span></pre><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj nt"><img src="../Images/39fcc7675c421421c162d78f2b1bc290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rhXhyGDZOZ1NenTkPj7MIg.gif"/></div></div></figure></div><div class="ab cl ne nf hv ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="ik il im in io"><p id="f89b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">您可以使用<code class="fe mq mr ms mt b">MatchedGeometryEffect</code>构建许多更强大的过渡。我们将在另一个教程中探讨它。</p><p id="630b" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">目前就这些。感谢阅读。</p></div></div>    
</body>
</html>