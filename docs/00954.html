<html>
<head>
<title>Using Python to Scrape the Meet-Up API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python抓取相遇API</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/using-python-to-scrape-meet-up-api-38e15f1354f?source=collection_archive---------7-----------------------#2019-07-31">https://betterprogramming.pub/using-python-to-scrape-meet-up-api-38e15f1354f?source=collection_archive---------7-----------------------#2019-07-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="88f0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何开始收集Meet-up和Eventbrite APIs来创建一个事件聚合站点</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/da2644afe713a2bb5a0d0daae8a95375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V6Gp2Mv2fl9nrWXt-86XGg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰伊·温宁顿在<a class="ae ky" href="https://unsplash.com/search/photos/web-development?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="d5af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们最近给<a class="ae ky" href="https://medium.com/better-programming/10-great-programming-projects-to-improve-your-resume-and-learn-to-program-74b14d3e9e16" rel="noopener">发布了一些你可以接手的项目</a>的想法，添加到你的简历中，帮助你学习更多编程知识。</p><p id="9ea4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中一个项目涉及抓取Meet-up和Eventbrite APIs来创建一个事件聚合站点。</p><p id="2ab7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个伟大的项目，它提供了接受几个概念的机会。您可以使用这个想法来制作一个警报系统——用户输入他们的API键来跟踪他们感兴趣的本地事件。你可以开发一个网站，通过跟踪一段时间内的指标来预测哪些现场表演会变得非常受欢迎。</p><p id="a1ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">老实说，API提供了相当多的数据，甚至给了你会员的名字(如果会员通过认证，可能还会给你发邮件)。这很有趣——您可以使用这些数据作为自己网站的基础！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d4cb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">开始</h1><p id="0a65" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要开始这个项目，请分解构建后端所需的基本部分。您很可能需要:</p><ul class=""><li id="5ca3" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">API“刮刀”</li><li id="996a" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">数据库接口</li><li id="0210" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">操作数据库</li><li id="03f7" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">数据仓库(可选)</li><li id="ecf0" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">ORM</li></ul><p id="ed30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，你需要开发一个scraper类。这个类应该与您正在进行的特定API调用无关。这样，您可以避免为每个调用创建特定的类或脚本。此外，当API发生变化时，您不必花费太多时间来检查每个脚本以更新每个变量。</p><p id="f9e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，您只需要浏览并更新配置。</p><p id="7717" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也就是说，我们不建议马上尝试开发一个完全抽象的类。试图从一开始就构建一个没有硬编码变量的完美抽象的类是很困难的。如果出现任何问题或不工作，那么由于抽象层的存在，调试会更加困难。</p><p id="5a0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将从尝试开发有效的部件开始。</p><p id="f2eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您需要做出的第一个决定是scraper将把数据放在哪里。我们正在创建一个文件夹结构，其中每天都有自己的文件夹。</p><p id="9d23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用服务器上的通用文件夹、S3或类似的原始文件结构。这些提供了轻松存储我们存储在JSON文件中的原始数据的能力。其他数据存储方法，如csv和tsv，被描述数据的格式化方式抛弃了。</p><p id="edeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看一看基本脚本。思考如何更好地配置和重构代码库，以便更好地开发。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="0c7e" class="np md it bd me nq nr dn mi ns nt dp mm li nu nv mo lm nw nx mq lq ny nz ms oa bi translated">视频演示</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob no l"/></div></figure><p id="305d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个直接的地方是API键。当你测试的时候，很容易硬编码你自己的API密匙。但是如果您的最终目标是允许多个用户访问这些数据，那么您将希望设置他们的API键。</p><p id="a272" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您想要更新的下一部分是对您正在拉取的数据的硬编码引用。这种硬编码限制了代码只能处理一个API调用。这方面的一个例子是我们如何提取不同的端点，并从返回的内容中引用您想要提取的字段。</p><p id="0ba1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个例子，我们只是转储JSON中的所有内容。也许您想要非常挑剔—在这种情况下，您可能想要配置将哪些列附加到每个字段。</p><p id="b708" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="d853" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这允许您创建一个不知道您将使用哪个API事件的scraper。它将设置放在代码之外，这样更容易维护。</p><p id="cec3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果Meet-up更改了API端点或列名，会发生什么情况？你可以直接修改配置文件，而不必进入10个不同的代码文件。</p><p id="910b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一个阶段是创建一个数据库和ETL来加载和存储所有数据，以及一个自动将JSON文件中的数据解析到操作风格数据库中的系统。这个数据库可以用来帮助跟踪您可能感兴趣的事件。此外，创建数据仓库有助于跟踪指标。</p><p id="da7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也许你对人们回复活动的速度感兴趣，或者对活动销售一空的速度感兴趣。</p><p id="a428" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在此基础上，您可以分析哪些类型的描述或组会很快用完槽。</p><p id="a89a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就个人而言，你可以进行很多有趣的分析。</p><p id="88fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在接下来的几周和几个月里，我们将继续开发这个项目。这包括建立一个数据库，也许做一些分析，等等！</p><p id="506f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们希望你喜欢这篇文章！</p></div></div>    
</body>
</html>