<html>
<head>
<title>Microservices: Keep the Transition Under Control</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务:控制过渡</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/micro-services-keep-the-transition-under-control-f3c3d565940a?source=collection_archive---------14-----------------------#2022-06-02">https://betterprogramming.pub/micro-services-keep-the-transition-under-control-f3c3d565940a?source=collection_archive---------14-----------------------#2022-06-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="35c3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从整块业务转向微观服务往往是人们所期望的，但许多人放弃了。你如何保证这种转变不被困难淹没？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e7c982a301f4770fb07308d678edd672.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HMlc42eyuLOztI8g"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">罗斯·斯奈登在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="0245" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于意大利面条式的代码不再可维护，一些团队已经开始将他们的整体分割成微服务。</p><p id="4045" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他团队选择开始一个新的项目，因为这是避免陷入整体陷阱的最佳方式。</p><p id="b8e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这两种情况下，他们都深受其害，看不到微服务架构的好处。</p><p id="bde1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们会找出原因的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mc"><img src="../Images/e84dd9724eb97a1b0b0c2dfae1a753ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wdSjcIiC46HdrJ6r"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@towfiqu999999?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Towfiqu barbhuiya </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><h2 id="e727" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">微服务增加了所有级别的复杂性</h2><p id="6e89" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">它引入了中间序列化/反序列化和数据复制，维护起来有些繁琐。</p><p id="f664" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">必须为集成选择每对交互模块之间的向后兼容性和测试策略。</p><p id="de9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">服务应该可以独立部署，有自己的版本和发布周期。</p><p id="a298" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了进行调试，有必要能够跟踪多个服务。</p><p id="f4dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但他们还不是最差的。</p><h2 id="1de4" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">拆分应用程序很困难</h2><p id="50f1" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">好的拆分不仅仅是技术上的拆分。它依赖于产品，所以没有神奇的公式。</p><p id="7767" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很多时候，界限是模糊的。微服务并不都是一样的大小。有大的也有小的。</p><p id="373c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当分割太小时，我们在各个层面都要付出很高的代价，而回头是艰难的。我们正在寻找一个相关的和持久的分裂。</p><p id="5e3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看在向面向服务的架构过渡的过程中最常见的障碍。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/4f982ea1fd924d30c77106eee352f630.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DSgZ-kbOaC_FvYDY"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">兰迪·雷伯恩在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="c44e" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">要避免的陷阱</h2><ul class=""><li id="247f" class="nc nd it lb b lc mw lf mx li ne lm nf lq ng lu nh ni nj nk bi translated">被小边缘部分分开。这不是很吸引人:痛苦多于有用</li><li id="bc04" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nh ni nj nk bi translated">对所有服务进行同步发布/部署。这意味着开发周期总是相互关联的，因此很慢。</li><li id="3852" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nh ni nj nk bi translated">过度设计基础设施。过度复杂会拖团队的后腿。</li><li id="5f75" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nh ni nj nk bi translated">从没有这方面的经验开始。决策会更加困难。</li></ul><h2 id="a66d" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">不需要微服务</h2><p id="4cf1" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">正如我们已经看到的，它不是“免费的”。要建立和维护这个系统，你需要知识和人员。</p><p id="b093" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它是大型产品和大型组织的大规模解决方案。</p><p id="0844" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢天谢地，这不是唯一的选择。最好选择适合您的产品和组织的替代方案。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/6ddd0cc5e010d74d610e095cb8eadc3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aTs_kn4C3c1Fqckk"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@burst?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">上的</a>爆裂<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">未爆裂</a></p></figure><h2 id="a6bd" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">替代方案:宏观服务</h2><p id="a379" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">带有“a”的宏服务与微服务具有相同的属性，但更大。</p><p id="6b12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">宏服务的优点是最小化微服务的一些困难，如依赖、分离堆栈跟踪等。</p><p id="9c53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这使得逐步走向面向服务的架构成为可能。宏观服务的规模和数量将取决于您的需求和人员配备。</p><p id="5db6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很好，但是你如何从一个整体到宏观服务？</p><h2 id="d190" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">二进制除法</h2><p id="1850" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">这是一个简单的迭代和增量策略。事情是这样的:</p><ol class=""><li id="cdef" class="nc nd it lb b lc ld lf lg li nr lm ns lq nt lu nu ni nj nk bi translated">将代码分成大小大致相等的两部分。如有必要，复制代码。</li><li id="0c77" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nu ni nj nk bi translated">为每个部件制作不同的容器，以获得两个宏服务。</li><li id="d126" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nu ni nj nk bi translated">调整基础设施和组织</li><li id="9b38" class="nc nd it lb b lc nl lf nm li nn lm no lq np lu nu ni nj nk bi translated">一旦稳定，重复其中一个宏服务。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/9ac3ca3c6de532422200167e43e443bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*21YPDfhq31vJB9izLMBA4w.jpeg"/></div></figure><p id="4512" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目标是将新的架构部署到生产中，以验证一个部门。它允许调整解决方案(路由、依赖、测试、日志、部署、版本等)。)再做新的划分。</p><h1 id="5a8d" class="nw me it bd mf nx ny nz mi oa ob oc ml jz od ka mo kc oe kd mr kf of kg mu og bi translated">外卖食品</h1><p id="89a5" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">通过调整技术和组织方面来实现逐步转型是至关重要的。</p><p id="18b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要低估面向服务架构的复杂性。成功的最佳方式是整合了解该主题的人员。</p></div></div>    
</body>
</html>