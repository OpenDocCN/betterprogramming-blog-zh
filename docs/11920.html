<html>
<head>
<title>3 Different Docstring Formats for Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python的3种不同的文档字符串格式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/3-different-docstring-formats-for-python-d27be81e0d68?source=collection_archive---------3-----------------------#2022-04-27">https://betterprogramming.pub/3-different-docstring-formats-for-python-d27be81e0d68?source=collection_archive---------3-----------------------#2022-04-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="788b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">快速浏览Google、NumPy和Sphinx docstrings</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/35c393fc3d166681b475a07796fbc827.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-4JW-aRzZ0eobqjD"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@takeshi2?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">吴怡</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="006b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Python正成为当今流行的编程语言。对于任何编码项目，文档是增加代码可读性的最重要的部分，但同时也是最容易被忽视的部分！为了解决这个问题，Sphinx工具派上了用场，它自动化了文档部分，如果你不知道这个工具，看看<a class="ae kv" href="https://towardsdatascience.com/documenting-python-code-with-sphinx-554e1d6c4f6d" rel="noopener" target="_blank">这个</a>。</p><p id="8df3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然你知道斯芬克斯并知道如何使用它。让我们了解一下最常用的文档字符串格式，即- <a class="ae kv" href="https://google.github.io/styleguide/pyguide.html" rel="noopener ugc nofollow" target="_blank"> Google </a>、<a class="ae kv" href="https://numpydoc.readthedocs.io/en/latest/format.html" rel="noopener ugc nofollow" target="_blank"> NumPy </a>和<a class="ae kv" href="https://sphinx-rtd-tutorial.readthedocs.io/en/latest/docstrings.html#:~:text=The%20Sphinx%20docstring%20format,-In%20general%2C%20a&amp;text=A%20pair%20of%20%3Aparam%3A%20and,values%20returned%20by%20our%20code." rel="noopener ugc nofollow" target="_blank"> Sphinx </a>文档字符串格式。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="101a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak"> 1。谷歌文档字符串</strong></h1><p id="d5ad" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这种docstring格式是由<a class="ae kv" href="https://github.com/Khan/style-guides/blob/master/style/python.md#docstrings" rel="noopener ugc nofollow" target="_blank">可汗学院</a>推荐的，俗称“Google Docstring”。为了确保docstring与Sphinx兼容并被Sphinx的autodoc识别，在<code class="fe mw mx my mz b">conf.py</code>文件中添加<code class="fe mw mx my mz b">sphinx.ext.napoleon</code>扩展名。docstring格式为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="c88e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Sphinx生成的输出如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/38d8a66fa8dca8c396a41538a3c77b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tm8ob2F48PB8FnSItJ_jWg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML文件中的输出</p></figure><p id="b884" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你正在使用VS代码，为了让生活更简单，你可以安装这个<a class="ae kv" href="https://marketplace.visualstudio.com/items?itemName=njpwerner.autodocstring" rel="noopener ugc nofollow" target="_blank">扩展</a>。这个扩展为文档字符串奠定了样板，您只需要添加每个参数的描述。</p><h1 id="7b15" class="lz ma iq bd mb mc nd me mf mg ne mi mj jw nf jx ml jz ng ka mn kc nh kd mp mq bi translated"><strong class="ak"> 2。NumPy Docstring </strong></h1><p id="4b45" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这种文档格式用于主要的数据科学图书馆，如NumPy、SciPy和Pandas。就像Google的docstring一样，为了让它与Sphinx兼容，你必须在<code class="fe mw mx my mz b">conf.py</code>文件中添加<code class="fe mw mx my mz b">sphinx.ext.napoleon</code>扩展名。docstring的格式为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="300c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样的输出是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/236a624164538f22d19203a9b8ac68ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_YCqkicU5EZPG1YOb9G88Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML文件中的输出</p></figure><blockquote class="nj nk nl"><p id="297f" class="kw kx nm ky b kz la jr lb lc ld ju le nn lg lh li no lk ll lm np lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq"> Google Vs NumPy的Docstrings: </em> </strong></p><p id="2451" class="kw kx nm ky b kz la jr lb lc ld ju le nn lg lh li no lk ll lm np lo lp lq lr ij bi translated">两种docstrings的输出看起来相似，两种风格的主要区别是Google使用缩进来分隔部分，而NumPy使用下划线。NumPy风格倾向于需要更多的垂直空间，而Google风格倾向于使用更多的水平空间。对于短而简单的文档字符串，Google风格更容易阅读，而对于长而深入的文档字符串，NumPy风格更容易阅读。</p></blockquote><h1 id="9680" class="lz ma iq bd mb mc nd me mf mg ne mi mj jw nf jx ml jz ng ka mn kc nh kd mp mq bi translated"><strong class="ak"> 3。Sphinx Docstring </strong></h1><p id="1bb8" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">没有比老的sphinx docstring更好的了，这是使用的最基本的docstring格式，但是在视觉上有些密集，很难阅读。相同的格式为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="f8b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输出如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/3bb84a8d1b53bb71c6344505e816139f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cH9u9FjVg7gquksV2tMFfw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTML文件的输出</p></figure><p id="21f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了试验不同的格式，克隆这个库。克隆完成后，在docs文件夹中运行<code class="fe mw mx my mz b">make clean html</code>和<code class="fe mw mx my mz b">make html</code>，重新生成HTML文件。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3829" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated"><strong class="ak">结论</strong></h1><p id="1798" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">除了上述格式，还有许多docstring格式可以用于Python，我们在这场游戏中没有一个赢家。</p><p id="0aee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以选择你觉得舒服的格式，不要混合格式，在整个项目中坚持使用。我个人最喜欢的是NumPy的Docstring！</p></div></div>    
</body>
</html>