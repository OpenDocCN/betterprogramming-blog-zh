<html>
<head>
<title>Easy Custom React Switch Component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">易于定制的反应开关组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/easy-custom-react-switch-component-1fcbadc2118b?source=collection_archive---------17-----------------------#2022-06-06">https://betterprogramming.pub/easy-custom-react-switch-component-1fcbadc2118b?source=collection_archive---------17-----------------------#2022-06-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2c12" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">当你想自己动手做图书馆时</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b98176066ff87a9243d7ab3fd6b42a38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*35qIEITB2Itf7wus"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@nuclear?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Bernin Uben </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="9d77" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">曾经有一段时间，没有像Bootstrap或Material-UI这样的NPM包和预建库，它们有几十个组件和闪亮的功能，可以开箱即用。无论好坏，你都得自己动手建造。</p><p id="afba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然我同意在大多数情况下没有必要重新发明轮子，但有时我还是喜欢在前端构建自己的组件，这样我就可以完全控制它们的功能、道具等。你在下面看到的开关/切换组件是我选择自己构建的一个组件，下面是我的做法。</p><p id="1c71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">TL；最后的代码沙箱在底部。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/6bc6988c9650f3e5aef1770e93173c30.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*zi_Y-AT-qV7ejp5BjKWvXA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基本文本开关组件</p></figure><h1 id="27d4" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">代码</h1><p id="a834" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我使用基本的React和CSS样式编写了我的示例组件，但它非常简单，可以跨任何前端框架复制。在上面的图片中，我正在使用查克拉界面。</p><h2 id="496f" class="mq lu iq bd lv mr ms dn lz mt mu dp md lf mv mw mf lj mx my mh ln mz na mj nb bi translated">状态</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="ed2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">switch组件只需要一个状态变量来处理当前的活动选项。</p><p id="e972" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ne">我使用了TypeScript，所以我创建了一个enum并将其设置为我的状态所期望的类型，但这只是语法上的好处。没有必要。</em></p><h2 id="013f" class="mq lu iq bd lv mr ms dn lz mt mu dp md lf mv mw mf lj mx my mh ln mz na mj nb bi translated">对标记做出反应</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="172d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们一会儿会讨论它的样式，但是要注意的是</p><ol class=""><li id="346a" class="nf ng iq ky b kz la lc ld lf nh lj ni ln nj lr nk nl nm nn bi translated"><code class="fe no np nq nr b">SwitchContainer</code>:负责设置你的开关组件的主要背景色或者“未选中”的颜色。</li><li id="e282" class="nf ng iq ky b kz ns lc nt lf nu lj nv ln nw lr nk nl nm nn bi translated"><code class="fe no np nq nr b">ToggleItems</code>:这是您的组件实际上要在其间切换的内容。在这些项目上需要注意的重要一点是，我们使用了在上一节中定义的状态变量来改变<code class="fe no np nq nr b">ToggleItem</code>的背景颜色。这导致了我们的<code class="fe no np nq nr b">Selected</code>状态。如果<code class="fe no np nq nr b">ToggleItem</code>不是<code class="fe no np nq nr b">activeOption</code>，那么背景被设置为透明，这基本上只是显示我们已经提到的<code class="fe no np nq nr b">SwitchContainer</code>的背景颜色，提供取消选择或不活动的颜色状态。</li></ol><h2 id="d930" class="mq lu iq bd lv mr ms dn lz mt mu dp md lf mv mw mf lj mx my mh ln mz na mj nb bi translated">切换功能</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="47fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Super basic，函数把你要设置的选项作为<code class="fe no np nq nr b">activeOption</code>，设置状态。因此，触发标记的重新呈现器，该重新呈现器根据新选择的选项更新背景颜色。</p><h2 id="3781" class="mq lu iq bd lv mr ms dn lz mt mu dp md lf mv mw mf lj mx my mh ln mz na mj nb bi translated">式样</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><ol class=""><li id="e6a1" class="nf ng iq ky b kz la lc ld lf nh lj ni ln nj lr nk nl nm nn bi translated"><code class="fe no np nq nr b">SwitchContainer</code>:正如我之前提到的，这主要是为了设置你的背景颜色，用作<code class="fe no np nq nr b">unselected</code>颜色状态。宽度和高度只是<code class="fe no np nq nr b">max-content</code>，因为我们让<code class="fe no np nq nr b">ToggleItems</code>定义容器的宽度和高度。</li><li id="7361" class="nf ng iq ky b kz ns lc nt lf nu lj nv ln nw lr nk nl nm nn bi translated"><code class="fe no np nq nr b">ToggleItem</code>:这是一个非常简单的CSS块。内容对齐的具有定义宽度和高度的弯曲项目。这里最重要的是<code class="fe no np nq nr b">ToggleItem</code> <code class="fe no np nq nr b">border-radius</code>必须和<code class="fe no np nq nr b">SwitchContainer</code>的<code class="fe no np nq nr b">border-radius</code>匹配。这样，当选择时，活动选项背景颜色与<code class="fe no np nq nr b">SwitchContainer</code>完全匹配。</li><li id="1a90" class="nf ng iq ky b kz ns lc nt lf nu lj nv ln nw lr nk nl nm nn bi translated"><code class="fe no np nq nr b">Text</code>:基本文本样式这里没有什么特别要注意的。</li></ol><h1 id="660c" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">一起</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx nd l"/></div></figure><p id="4ac5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是最终的代码沙箱。这个故事的寓意是:您不需要为前端需要的每个组件都导入一个库。有时候，自己创造也没什么。老实说，我发现编写定制组件比导入它们更有趣，即使这会花费我一些时间。</p><p id="0cd1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想了解如何使用自定义代码构建任何其他组件，请发表评论。</p><p id="a80e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将尝试做一系列关于构建这样的定制组件的文章！</p></div></div>    
</body>
</html>