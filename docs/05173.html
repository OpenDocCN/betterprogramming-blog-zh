<html>
<head>
<title>Using Recoil: A New React State Management Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用反冲:一个新的反应状态管理库</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/using-recoil-js-2af19add4e31?source=collection_archive---------6-----------------------#2020-06-17">https://betterprogramming.pub/using-recoil-js-2af19add4e31?source=collection_archive---------6-----------------------#2020-06-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1751" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">安装反冲，今天就开始使用它</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a8c2271ca0574bcd9abc7faeef7cc265.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ld4GtcYaNRXTy5Ee"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@atlasyao?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">文东姚</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="3560" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近，脸书的团队为React宣布了一个新的状态管理库<strong class="lb iu"> </strong>，看起来感觉很有前途。</p><p id="06f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://recoiljs.org/" rel="noopener ugc nofollow" target="_blank">反冲</a>是一个非常强大的工具，用于管理复杂的状态，并防止道具在组件之间混淆传递。</p><p id="236d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能想知道，“Redux会被弃用或完全取代吗？<strong class="lb iu">’</strong>嗯，答案是“不！”即使反冲是由脸书本身提供动力，Redux仍然被大多数人使用，并有一个相当强大的社区。</p><p id="daec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使您已经知道并掌握了Redux，拥有其他选项也是扩展React知识的一个好方法。</p><p id="e581" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">说够了。让我们从一个非常简单的反冲例子开始。</p><p id="4381" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您希望从在React项目上安装反冲<strong class="lb iu"> </strong>开始:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/7a97e7d32ce906cea988571a8817b1bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XiZPv7gTjjssau9p5eraGQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如果你使用纱线，“纱线增加反冲。”</p></figure><p id="db04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，你想创建你的第一个反冲状态，有两种方法可以实现:创建一个原子或者一个选择器。我们现在将使用原子。如果你想了解更多，请查看官方文档。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="a5d6" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">到底什么是A <strong class="ak">汤姆</strong>？</h1><p id="6f44" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">它是一个州或者仅仅是一个州。就像化学元素是由许多被称为原子的微小部分组成一样，你的状态也可以由许多原子组成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/93d6a29d694b853027820e323175fcc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nkbduH2qi3w41g9WYxQsYQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">记得导入反冲的内容。</p></figure><p id="5240" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看上面的原子/状态:</p><ul class=""><li id="b804" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated"><code class="fe nk nl nm nn b">atom</code>方法接收一个应该有两个属性的对象:一个键(每个原子必须有一个惟一的键)和一个默认值。该默认值与<code class="fe nk nl nm nn b">useState</code>钩子默认值完全一样。</li><li id="dc43" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">我们还导出该状态，因为我们在一个单独的文件中，而不是在一个组件文件中。</li></ul></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8426" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">如何使用原子作为一种状态</h1><p id="7037" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">反冲带有一些反应钩，专门用于它。原子有两个主要的用途:</p><ul class=""><li id="8693" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated"><code class="fe nk nl nm nn b">useRecoilState(myAtom)</code>:这个跟<code class="fe nk nl nm nn b">useState</code>一模一样。它返回一个带有<code class="fe nk nl nm nn b">Atom</code>值(当前状态)的数组和一个改变该值的setter函数(<code class="fe nk nl nm nn b">myRecoilState</code>，<code class="fe nk nl nm nn b">setMyRecoilState</code>)。</li><li id="7b8a" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">这是一个只读钩子，意味着你不会收到setter函数——只有值。</li></ul><p id="2c84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记得导入<code class="fe nk nl nm nn b">&lt;RecoilRoot&gt;</code> <strong class="lb iu"> </strong>并用它包装你的app才能使用反冲。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/c740d87e7823566e01d2129ed212e1ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ANxHXW2QvA2vDS6g5OkvnQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">数组析构用于捕获反冲钩子的内容(index.js中使用了<recoilroot>)。</recoilroot></p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="06c6" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated"><strong class="ak">当我改变/更新反冲状态时会怎样？</strong></h1><p id="100b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">就像当你用<code class="fe nk nl nm nn b">useState</code>钩子更新某个状态时，所有依赖于该状态的组件都将被更新，当你在反冲状态中改变某些东西时，每个读取/访问该状态的组件都将经历一次重新渲染并被更新。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="1a4f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="5a71" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这是一个非常简单的反冲及其工作原理的介绍。感谢您的阅读和快乐编码！</p></div></div>    
</body>
</html>