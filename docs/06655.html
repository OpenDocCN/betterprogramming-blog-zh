<html>
<head>
<title>Get to Know SwiftUI 2’s ColorPicker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解SwiftUI 2的颜色选择器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/get-to-know-swiftui-2s-colorpicker-f51eee66e48e?source=collection_archive---------16-----------------------#2020-10-21">https://betterprogramming.pub/get-to-know-swiftui-2s-colorpicker-f51eee66e48e?source=collection_archive---------16-----------------------#2020-10-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="405b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让您的用户能够以全新的方式在您的应用程序中设置颜色</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/87230588e571317b66f2d60c8bd892ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JouWp75mlBkC3cYC"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">罗伯特·卡茨基在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="5948" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最近的WWDC 2020中，苹果推出了<code class="fe lv lw lx ly b">ColorPicker</code>，你可以让用户选择一种颜色。</p><p id="23b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你的应用程序允许用户为文本、背景等选择颜色，这可能会非常有用。除此之外，我仍然想不出你为什么需要实现这个。</p><h2 id="072c" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">先决条件</h2><p id="d1e1" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">要学习本教程，您需要了解以下方面的一些基本知识:</p><ul class=""><li id="a328" class="mx my it lb b lc ld lf lg li mz lm na lq nb lu nc nd ne nf bi translated">对Swift的基本熟悉</li><li id="bcba" class="mx my it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated">至少Xcode 12+</li><li id="7642" class="mx my it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated">仅支持iOS 14+</li></ul></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><h1 id="35fc" class="ns ma it bd mb nt nu nv me nw nx ny mh jz nz ka mk kc oa kd mn kf ob kg mq oc bi translated">ColorPicker入门</h1><p id="5ec7" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">首先，您需要创建一个<code class="fe lv lw lx ly b">State</code>,在这里您可以存储所选颜色的值。</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="d806" class="lz ma it ly b gy oh oi l oj ok">@State private var backgroundColor = Color.white</span></pre><p id="8897" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上，整个计划就是将背景颜色改为用户选择的颜色。当<code class="fe lv lw lx ly b">ColorPicker</code>第一次发布时，有一个常见的bug，当颜色选择器屏幕出现时，用户不能忽略它。现在看一下，似乎苹果已经修复了这个bug。</p><p id="6b21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，将<code class="fe lv lw lx ly b">ColorPicker</code>嵌入<code class="fe lv lw lx ly b">VStack</code>中。</p><pre class="kj kk kl km gt od ly oe of aw og bi"><span id="9b29" class="lz ma it ly b gy oh oi l oj ok">VStack {<br/>    ColorPicker("Choose your background color", selection: $backgroundColor)<br/>}<br/>.frame(maxWidth: .infinity, maxHeight: .infinity)<br/>.background(backgroundColor.edgesIgnoringSafeArea(.all))</span></pre><p id="748a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，背景颜色将是白色，如上所述。使用<code class="fe lv lw lx ly b">.edgesIgnoringSafeArea(.all)</code>，背景颜色将显示在安全区域。您的屏幕应该如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/ad455181949ae171442c2b2d82f84fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tBrYpliIHbf_YCQcbgApNg.png"/></div></div></figure><p id="d19b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">光是点击<code class="fe lv lw lx ly b">ColorPicker</code>就有这么多功能，你会很快爱上它。其中一些是:</p><h2 id="ffeb" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">格子</h2><p id="5c1e" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">使用Grid，<em class="om"> </em>您可以选择已经预设的颜色。通过点击颜色，你的背景颜色瞬间改变。不透明度甚至可以调整。最后，你可以点击加号按钮保存你喜欢的颜色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/a09cbd039224b0af0e573bc3e565b8dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m-2tS8b_Sndi1nX3KWf7xQ.png"/></div></div></figure><p id="c22a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不知道选择什么颜色，想根据屏幕选择一种颜色，你可以试着点击左上角的图标。这样，你就有了一个放大镜，用它你可以找到你想要的颜色。一旦你的放大镜落在一种颜色上，颜色就会立即改变。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/44d6f7257d34b6d7f97995a408bdb4ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BgOx__wKpyDrY-POkCIfag.png"/></div></div></figure><h2 id="60c8" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">范围</h2><p id="6b4f" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">接下来是光谱，你可以在颜色周围拖动光标。像往常一样，你可以设置不透明度，并用加号图标保存你的颜色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/ac91e5de70c0bb4e7cc1c5bb5a861e27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V06kq60lc25CgrvnsuReBw.png"/></div></div></figure><h2 id="75de" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">滑块</h2><p id="1fd7" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">最后，滑块允许你玩RGB值，甚至十六进制颜色。和往常一样，你甚至可以调整不透明度和保存颜色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/62508267fef7b3eccdd4f66597beb685.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yw6J4LZyaxc8IlTn6sTDGg.png"/></div></div></figure><p id="54e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，它已经保存了五种不同的颜色。要删除颜色，您可以按住颜色直到出现删除<strong class="lb iu"> </strong>按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/c9a4ffca8453c5794b9935a99a03cd2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H977FbUcZ-RK4oQf5Nbekw.png"/></div></div></figure><p id="2edc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">令人惊讶的是，你可以有多种相同的颜色，在这种情况下，是两种白色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/eb386e452f92f8da42a49e1101c90afc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MgEr_SLzPC7ka0cn6HSacQ.png"/></div></div></figure><p id="dda7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你有超过12种颜色时，它会创建一个额外的页面，你可以滑动以访问更多的颜色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/afc2842089521c7272a73ae39bd4b301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TvZm87kwzISl1b-AuZ8g_Q.png"/></div></div></figure><p id="0885" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果寻呼指示器超过10个，最左边或最右边的寻呼指示器将变小。此时，大约有14页，每页12种颜色，加起来节省了168种颜色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/ae94a4efa054d68a218e0149b41b95dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9iTrJEklGNPPpAezNF7J8w.png"/></div></div></figure></div></div>    
</body>
</html>