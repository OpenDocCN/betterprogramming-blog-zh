<html>
<head>
<title>How To Use Debouncing and Throttling in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中使用去抖动和节流</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/debouncing-throttling-explained-c7c2daed9e3?source=collection_archive---------9-----------------------#2021-03-31">https://betterprogramming.pub/debouncing-throttling-explained-c7c2daed9e3?source=collection_archive---------9-----------------------#2021-03-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="26dc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">优化web应用中的API调用</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/91c439a2ea99b49b077984448d34f731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A9z0K2HuIJxp3nGg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Sam Moqadam 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="9eb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将讨论去抖动和节流技术，通过防止服务器上不必要的API调用和负载来优化web应用程序的性能。</p><p id="bc16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些技术可能看起来很相似，但事实并非如此。它们的用例实际上非常不同。</p><h1 id="bdf6" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">去抖动</h1><p id="cc40" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">去抖是一种将被调用函数的执行延迟一段特定时间的技术。如果在这段时间内再次调用了同一个函数，那么它会通过放弃之前的函数调用，将这个新调用的函数的执行延迟一段特定的时间。</p><p id="900a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">换句话说，函数的执行被延迟，直到它在指定的时间间隔聚集函数的输入，以节省频繁的和不必要的服务器调用。这可以通过将实际函数传递给去抖函数来实现，因此我们说该函数正在去抖。</p><p id="ed20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看普通JavaScript中的一般<code class="fe mp mq mr ms b">debounce</code>函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="01ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，<code class="fe mp mq mr ms b">debounce</code>是一个高阶函数，它接受一个实际的函数，等待一段特定的时间，然后返回另一个函数。这样做是为了关闭实际功能以及等待时间和<code class="fe mp mq mr ms b">timeoutId</code>。</p><p id="f00d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该<code class="fe mp mq mr ms b">debounce</code>功能可以如下使用:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="353f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当用户点击窗口时，附加在事件上的功能不会立即执行。这个<code class="fe mp mq mr ms b">debounce</code>函数将等待一秒钟，看看这个函数是否再次被调用。如果没有，那么该功能将在一秒钟后执行。如果用户在一秒钟内再次点击，则倒计时定时器复位，并且<code class="fe mp mq mr ms b">debounce</code>功能将再次等待另一秒钟，通过取消之前的功能调用来执行该功能。这是通过<code class="fe mp mq mr ms b">clearTimeout</code>功能在前面功能的<code class="fe mp mq mr ms b">timeoutId</code>的帮助下完成的。</p><h1 id="bd38" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">节流</h1><p id="015d" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">节流是一种在给定的时间间隔内只执行一次附加函数的技术。无论用户触发事件多少次，只有第一次触发的事件会立即执行。</p><p id="a9cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">节流使我们能够控制函数的执行速度。这样，我们可以通过限制每个时间间隔的调用次数来优化应用程序的性能。</p><h2 id="2a04" class="mv lt iq bd lu mw mx dn ly my mz dp mc lf na nb me lj nc nd mg ln ne nf mi ng bi translated">这项技术的表现</h2><p id="64c6" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">假设我们为节流设置了三秒的时间间隔。一旦第一次调用该函数，它将立即执行，计时器开始计时三秒钟。如果在这段时间内再次调用该函数，则它不会被执行。只有在三秒钟后，才会执行下一个功能。这是我们控制函数执行速度的方法。</p><p id="b639" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是这个解释并不完整。如果事件在两秒钟后被触发，并且没有被执行，该怎么办？计时器结束时会执行吗？是啊！如果在等待期间再次被调用，该函数将在计时器结束后执行。节流的思想是在固定的时间间隔后执行一次函数。</p><h2 id="3054" class="mv lt iq bd lu mw mx dn ly my mz dp mc lf na nb me lj nc nd mg ln ne nf mi ng bi translated">普通JavaScript中的节流实现</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="fb30" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="a6de" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">去抖动和节流只是可以用来解决一组特定问题的概念或技术。它们不是由JavaScript本身提供的。我不会在这里提供用例场景，因为我不想限制任何人的思维。这些概念是抽象的，可以用来解决不同领域的问题。</p><p id="14cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">写这篇文章的目的是为了给你一个更清晰的解释，这两个技术是我绞尽脑汁想出来的。随时欢迎反馈！</p><p id="a0f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读。</p></div></div>    
</body>
</html>