<html>
<head>
<title>Read This if You Still Do Not Know What Kubernetes Is</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果你仍然不知道Kubernetes是什么，请阅读这篇文章</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/read-this-if-you-still-do-not-know-what-kubernetes-is-6f763bcf13fd?source=collection_archive---------11-----------------------#2020-03-11">https://betterprogramming.pub/read-this-if-you-still-do-not-know-what-kubernetes-is-6f763bcf13fd?source=collection_archive---------11-----------------------#2020-03-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2f76" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">前所未有的协调</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/062f70c22ba63225961a76a60a417e0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BC6Pqwgl5ykscY-e.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=2098877" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae ky" href="https://pixabay.com/users/YannaZazu-4665957/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=2098877" rel="noopener ugc nofollow" target="_blank">约安娜·苏萨</a></p></figure><p id="47d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kubernetes <strong class="lb iu"> </strong>(或K8s)是一个开源的容器编排系统。它用于应用程序部署和扩展。它最近变得非常受欢迎，部分原因是云原生解决方案的兴起。</p><p id="a1dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将对Kubernetes进行高层次的概述，介绍术语，并解释K8s解决什么样的问题。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b742" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">什么是容器？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/e78186047bce9665ac1abb64dd0c1995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*iuIBP7smsstOIfzk"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1845350" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae ky" href="https://pixabay.com/users/Pexels-2286921/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=1845350" rel="noopener ugc nofollow" target="_blank">像素</a>的图像</p></figure><p id="f415" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了理解什么是容器编排系统，我们必须理解什么是容器。容器用于描述OS级虚拟化，这一原则允许您在一个内核上运行多个用户空间实例。</p><p id="546c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，它以更少的开销和更低的性能降级提供了虚拟化(在计算机中运行的计算机)。它也不需要特殊的硬件支持，甚至不需要第三方软件。</p><p id="7af8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">操作系统级虚拟化最流行的实现是<code class="fe mv mw mx my b">chroot</code>命令，Linux用户应该很熟悉。<code class="fe mv mw mx my b">chroot</code>允许您更改Linux系统上当前会话的根挂载点。</p><p id="5e63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它将允许您使用相同的内核，但是在一个隔离的文件系统中。额外的好处是，您还可以独立访问硬件，因为磁盘和设备在Linux中被表示为文件。</p><p id="0e91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个操作系统级虚拟化软件是Docker，它是专门为容器化应用程序而设计的。</p><p id="3731" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法让您确信您的应用程序将在您的开发和生产环境中以相同的方式运行。它还简化了部署和集成的过程。</p><p id="67e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Docker中，容器是用一个<code class="fe mv mw mx my b">Dockerfile</code>来描述的，这是一个用YAML写的配置文件。它描述了该容器应该使用什么映像，构建和启动容器的过程是什么，以及要使用哪些网络/存储设备。</p><p id="1af0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个典型的运行<a class="ae ky" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"> Express.js </a>应用程序的<code class="fe mv mw mx my b">Dockerfile</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="87f6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么要编排容器？</h1><p id="94dd" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">现在你知道了什么是容器，让我们来谈谈如何编排它们。</p><p id="5518" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如维基百科所说，协调是:</p><blockquote class="ng"><p id="1274" class="nh ni it bd nj nk nl nm nn no np lu dk translated">"计算机系统和软件的自动配置、协调和管理."</p></blockquote><p id="1dca" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">为什么我们需要在容器中自动化所有这些？这与微服务架构和扩展密切相关。</p><p id="565c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">微服务架构是一种通过将计算机软件分解成独立的小服务来设计软件的方法。例如，认证服务、消息服务、资产服务等。</p><p id="e7f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这实现了两个主要目标:</p><ol class=""><li id="4b07" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oa ob oc od bi translated">鲁棒性。如果一项服务关闭(由于错误或计划维护)，系统的其余部分不会受到影响。</li><li id="c7a7" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oa ob oc od bi translated">缩放。微服务完美适应各种负载。如果您注意到您的资产服务消耗了太多的CPU，但是消息服务几乎没有被使用，那么您可以将资源转移到资产服务，或者启动它的更多实例。</li></ol><p id="bd64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两个问题都可以通过像Kubernetes这样的容器编排系统来解决。</p><p id="b55b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它为您自动运行和管理容器，在容器失败时重新启动容器，并将工作负载分布在几个工作站上。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="89c1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">基本术语</h1><p id="1e19" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在继续之前，我们需要了解Kubernetes的一些基本概念:</p><ul class=""><li id="9a55" class="nv nw it lb b lc ld lf lg li nx lm ny lq nz lu oj ob oc od bi translated">Pod —一组容器。这是Kubernetes空间中最小的可能单位。它还保证在同一台机器上运行，这意味着容器可以共享资源。</li><li id="cfce" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oj ob oc od bi translated">服务—一组pod。服务通常是大型应用程序的半独立部分。</li><li id="6bf3" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oj ob oc od bi translated">卷Pod的永久存储。默认情况下，当您重新启动Pod时，所有数据都将被擦除。卷用于永久存储数据。</li><li id="84a1" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oj ob oc od bi translated">ConfigMaps/Secrets —为容器提供凭证/密钥的机制。它们将被注射到需要它们的容器的环境中。</li></ul><p id="1e93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有更多的概念要介绍，但是它们超出了本文的范围。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="032c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">你为什么需要Kubernetes？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/f3b579887f0a8b4925498a5e04cb26a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*kgFwD03GljrsYNqV"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/users/EliasSch-3372715/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=2160321" rel="noopener ugc nofollow" target="_blank"> Elias Sch提供。</a>来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;amp;utm_medium=referral&amp;amp;utm_campaign=image&amp;amp;utm_content=2160321" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="84cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kubernetes是管理和维护大规模、高吞吐量应用程序的完美解决方案。</p><p id="fd95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它也在许多云服务提供商(如<a class="ae ky" href="https://www.cloudfoundry.org/" rel="noopener ugc nofollow" target="_blank"> Cloud Foundry </a>)的引擎盖下使用，所以你可能正在使用它，甚至没有意识到它。有了K8s，您将能够在几天内运行企业级应用程序。</p><p id="48a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过，有一点要记住:库伯内特斯是<em class="ok">硬的。这是一个非常强大和有特色的系统，正确设置它需要很多技巧。</em></p><p id="a544" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是没有系统管理经验的开发人员，最好交给DevOps的工程师。尽管如此，了解基础知识仍然是有益的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0b95" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">玩弄它</h1><p id="54b1" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">如果你运行的是Windows或Mac，你可以使用<a class="ae ky" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank"> Docker Desktop </a>在你的电脑上同时安装Docker和Kubernetes。在Linux上，这有点复杂，但是我相信如果你正在使用Linux，你知道你的方法。</p><p id="2bcd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:<em class="ok"> </em>要在Docker桌面中启用Kubernetes，请打开<em class="ok"> Kubernetes </em>选项卡并选中<em class="ok">启用Kubernetes </em>框:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/b15fa1083c1293d1bad59230b3c7e21b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/0*c1IuC0tSOZ9ycfup"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0420" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结束语</h1><p id="60f9" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">感谢您的阅读，希望您喜欢这篇文章。请在评论中告诉我你是如何在你的项目中使用Kubernetes的！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0999" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">资源</h1><ul class=""><li id="cde9" class="nv nw it lb b lc nb lf nc li om lm on lq oo lu oj ob oc od bi translated"><a class="ae ky" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> Kubernetes网站</a></li><li id="00c8" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oj ob oc od bi translated"><a class="ae ky" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank"> Docker桌面</a></li><li id="0579" class="nv nw it lb b lc oe lf of li og lm oh lq oi lu oj ob oc od bi translated"><a class="ae ky" href="https://kubernetes.io/docs/tutorials/" rel="noopener ugc nofollow" target="_blank">教程</a></li></ul></div></div>    
</body>
</html>