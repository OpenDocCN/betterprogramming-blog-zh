<html>
<head>
<title>How to Send Tron Cryptocurrency With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python发送Tron加密货币</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-send-tron-cryptocurrency-with-python-5d842bc8f9cd?source=collection_archive---------1-----------------------#2022-01-26">https://betterprogramming.pub/how-to-send-tron-cryptocurrency-with-python-5d842bc8f9cd?source=collection_archive---------1-----------------------#2022-01-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f120" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用python创建钱包和进行交易</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/886220d7ec08fc9886ee5a439dff2961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w7xdo8LhpBwbU2FeAE7Xmg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fresearch.binance.com%2Fen%2Fprojects%2Ftron&amp;psig=AOvVaw1zPjCYrV3vmJe_putOBMB5&amp;ust=1643099494946000&amp;source=images&amp;cd=vfe&amp;ved=0CA0Q3YkBahcKEwj40Pfh_Mn1AhUAAAAAHQAAAAAQAw" rel="noopener ugc nofollow" target="_blank">信用</a></p></figure><p id="c8a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是一个python库，可用于与创区块链交互。该库包括修改区块链状态的函数(创建和授权交易和钱包)以及不改变状态的函数(查询余额、块细节、交易等)。</p><h1 id="7f98" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">安装软件包</h1><p id="9070" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">要安装<code class="fe lv lw lx ly b">tronpy</code>库包，使用pip install命令。</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="7e64" class="na ma it ly b gy nb nc l nd ne">pip3 install tronpy</span></pre><p id="4b4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装完成后，导入库，如下所示。</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="6714" class="na ma it ly b gy nb nc l nd ne">from tronpy import Tron</span></pre><h1 id="41cd" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">与创·区块链的联系</h1><p id="d630" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">为了连接到任何区块链网络，您要么必须在您的机器上本地运行一个节点，要么使用一个远程节点提供者，比如<a class="ae ky" href="https://nownodes.io/" rel="noopener ugc nofollow" target="_blank"> NOWNodes </a>。</p><p id="811f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，<code class="fe lv lw lx ly b">tronpy</code>图书馆让我们变得更容易。该库包含一个名为<code class="fe lv lw lx ly b">Tron()</code>的类，它让我们无需任何额外的设置就可以访问Tron区块链。</p><p id="16c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段将我们连接到Tron主网络(实际的Tron网络)。就这么简单！</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="bef5" class="na ma it ly b gy nb nc l nd ne">client = Tron()</span></pre><p id="4f97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想连接到一个定制的节点提供者(比如一个测试网)，您可以输入带有HTTP API端点的<code class="fe lv lw lx ly b">Tron()</code>类。</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="47d3" class="na ma it ly b gy nb nc l nd ne"><strong class="ly iu">from</strong> <strong class="ly iu">tronpy</strong> <strong class="ly iu">import</strong> Tron<br/><strong class="ly iu">from</strong> <strong class="ly iu">tronpy.providers</strong> <strong class="ly iu">import</strong> HTTPProvider</span><span id="c5dd" class="na ma it ly b gy nf nc l nd ne"><em class="ng"># Use private network as HTTP API endpoint</em><br/>client = Tron(HTTPProvider("http://127.0.0.1:8090"))</span></pre><h1 id="c7de" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">创建钱包</h1><p id="1793" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">有两种方法可以打造一个<code class="fe lv lw lx ly b">Tron</code>钱包。第一种方法涉及到<code class="fe lv lw lx ly b">tronpy</code>库。见下面的函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="a671" class="na ma it ly b gy nb nc l nd ne"><strong class="ly iu">Input</strong></span><span id="ca08" class="na ma it ly b gy nf nc l nd ne">create_wallet()</span><span id="d7f0" class="na ma it ly b gy nf nc l nd ne"><strong class="ly iu">Output</strong></span><span id="c254" class="na ma it ly b gy nf nc l nd ne">Wallet address: TRfffNywtDL6wEamxg8V46LJfyR8Fvy7nu<br/>Private Key:    ********effeda9ec01f9404a841c59698</span></pre><p id="985b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">create_wallet()</code>函数生成一对私钥和一个钱包地址。<strong class="lb iu"> </strong>私钥由钱包所有者用于创建交易，不应与任何人或任何网站共享。但是钱包地址可以和其他人分享来接收付款。</p><p id="56bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二种也是更受欢迎的方法是使用加密钱包。拥有一个加密钱包的好处是，你不仅可以在多个设备上访问它，而且你可以享受应用程序的用户友好性和图形用户界面。</p><p id="ecfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.tronlink.org/" rel="noopener ugc nofollow" target="_blank"> Tronlink </a>是最著名的Tron加密钱包。它可以在IOS、Android和Chrome上使用。</p><h1 id="78c9" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">验证Tron地址</h1><p id="00d6" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">在将您的Tron发送到某个地址之前，您应该检查该地址是否实际存在，或者它是否是一个无效的地址。验证是至关重要的，因为否则，你会赔钱。使用<code class="fe lv lw lx ly b">is_valid()</code>功能进行Tron地址验证。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="1ed1" class="na ma it ly b gy nb nc l nd ne"><strong class="ly iu">Input</strong></span><span id="c4fb" class="na ma it ly b gy nf nc l nd ne">isAddress = is_valid('TRfffNywtDL6wEamxg8V46LJfyR8Fvy7nu')<br/>print(isAddress)</span><span id="db46" class="na ma it ly b gy nf nc l nd ne"><strong class="ly iu">Output</strong></span><span id="3d8e" class="na ma it ly b gy nf nc l nd ne">True</span></pre><h1 id="6004" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">发送创</h1><p id="4d87" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">好了，现在您已经创建了一个Tron wallet并验证了接收者的地址，您可以更进一步，在Tron mainnet中创建一个实际的交易。</p><p id="aef7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要做到这一点，你必须有你的钱包地址以及它的私人密钥。</p><p id="aa61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用<code class="fe lv lw lx ly b">tronpy</code>生成了一个钱包，那么您已经有了这个信息。</p><p id="7db2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果您创建了Tronlink钱包，则需要导出私钥。下图说明了如何从您的Tronlink钱包中导出私钥。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/944b9148f4aef6408aee0f2d33a9838a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XnCTe_fbZEuc--YZ74ZLOA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从Tronlink导出私钥</p></figure><p id="dae9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">send_tron()</code>功能的工作原理如下:</p><p id="7a3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建交易-&gt;用内网广播的<strong class="lb iu">私钥</strong> - &gt;签名- &gt;(等到交易通过)- &gt;查询并打印交易回单</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="b1cc" class="na ma it ly b gy nb nc l nd ne"><strong class="ly iu">Input</strong></span><span id="13a7" class="na ma it ly b gy nf nc l nd ne">recipient_address = 'TPhBQKbg3WqZnxCeiDw9ZtsaYutkvHqeWS'<br/>amount = 1000000</span><span id="8acb" class="na ma it ly b gy nf nc l nd ne">send_tron(recipient_address, amount)</span><span id="e5fe" class="na ma it ly b gy nf nc l nd ne"><strong class="ly iu">Output</strong></span><span id="c5c7" class="na ma it ly b gy nf nc l nd ne"><em class="ng"># returns the transaction receipt</em></span><span id="073b" class="na ma it ly b gy nf nc l nd ne">{<br/>'id': '5182b96bc0d74f416d6ba8e22380e5920d8627f8fb5ef5a6a11d4df030459132', 'blockNumber': 6415370, <br/>'blockTimeStamp': 1591951155000, <br/>'contractResult': [''], <br/>'receipt': {'net_usage': 283}<br/>}</span></pre><p id="0479" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>“金额”单位为<strong class="lb iu">微</strong>，意味着1，000，000对应1 TRX。</p><h1 id="d14f" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">账户结余</h1><p id="9a19" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">在区块链，所有的账户细节和交易在任何时候对每个人都是透明的。个人可以检查一个帐户地址持有多少特定令牌，或者查看其完整的交易历史。</p><p id="b8f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这同样可以在<code class="fe lv lw lx ly b">tronpy</code>功能的帮助下完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="7a2d" class="na ma it ly b gy nb nc l nd ne"><strong class="ly iu">Input</strong></span><span id="f588" class="na ma it ly b gy nf nc l nd ne">account = 'TMoJMiQQgzneoGimdJjZtxcPiHJjamqRzK'<br/>print(account_balance(account))</span><span id="da46" class="na ma it ly b gy nf nc l nd ne"><strong class="ly iu">Output</strong></span><span id="e82d" class="na ma it ly b gy nf nc l nd ne">127.075003 (TRX)</span></pre><h1 id="b6cb" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">交易明细</h1><p id="35b7" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">同样，通过将交易散列输入到下面的函数中，可以检查特定交易的细节。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="8aad" class="na ma it ly b gy nb nc l nd ne"><strong class="ly iu">Input</strong></span><span id="44dd" class="na ma it ly b gy nf nc l nd ne">trx_hash = '55f8e8b09b44042fdb22c9679a1bb6c4bc0b62707c28492d4f95a5012f9fb0c5'<br/>print(transaction_detail(trx_hash))</span><span id="7120" class="na ma it ly b gy nf nc l nd ne"><strong class="ly iu">Output</strong></span><span id="c18b" class="na ma it ly b gy nf nc l nd ne">{<br/>       'address': 'TMoJMiQQgzneoGimdJjZtxcPiHJjamqRzK', <br/>       'create_time': 1642490133000, <br/>       'latest_opration_time': 1642932975000, <br/>       'free_net_usage': 250, <br/>       'latest_consume_free_time': 1642932975000, <br/>       'account_resource': {}, <br/>}</span></pre><h1 id="39e3" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">用我的免费创来验证</h1><p id="fa0c" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">既然您已经阅读了这篇文章这么久，我将提供少量的Tron。你可以用这笔钱来测试功能，看看代码是否运行完美。</p><p id="ba33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请在评论区写下你的Tron钱包地址，我会尽快给你发一些TRX。</p></div></div>    
</body>
</html>