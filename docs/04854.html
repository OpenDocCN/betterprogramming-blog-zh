<html>
<head>
<title>How to Embed a React Application in Any Website</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在任何网站中嵌入React应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-embed-a-react-application-on-any-website-1bee1d15617f?source=collection_archive---------0-----------------------#2020-05-17">https://betterprogramming.pub/how-to-embed-a-react-application-on-any-website-1bee1d15617f?source=collection_archive---------0-----------------------#2020-05-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1e8e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用create-react-app，然后将其嵌入到现有项目中</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4bebed953680b97b5e84e3c315cafb4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xeLl-iLBTzubyuMN"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">哈尔·盖特伍德拍摄。</p></figure><p id="0fdf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设你有一个静态网站——可以是WordPress、Wix、Squarespace或服务器上的HTML你想给它添加一些令人眼花缭乱的功能。</p><p id="8ca9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">“要是我能用React就好了！”你对自己说，但是时间和预算的限制阻止了对你的网站进行全面检查。</p><p id="0cb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好消息是你并不孤单，好消息是本指南将向你展示如何在你的网站中创建和嵌入一个React小部件！我们只需要学会以稍微不同的方式思考反应…</p><blockquote class="ls lt lu"><p id="0702" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">“React可以在任何web应用程序中使用。它可以嵌入到其他应用程序中，只要稍加注意，其他应用程序也可以嵌入到React中。”— <a class="ae kv" href="https://reactjs.org/docs" rel="noopener ugc nofollow" target="_blank"> React的官方文档</a></p></blockquote></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="7b3b" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">入门指南</h1><p id="72cf" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">本指南假设读者对React和一般web开发有一定的了解。如果你以前从未启动过React应用程序，React网站上有一个<a class="ae kv" href="https://reactjs.org/tutorial/tutorial.html" rel="noopener ugc nofollow" target="_blank">很棒的教程</a>！</p><p id="3676" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们也将使用<a class="ae kv" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">纱线</a>和<a class="ae kv" href="https://www.npmjs.com/package/lite-server" rel="noopener ugc nofollow" target="_blank">精简服务器</a>。</p><p id="89e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们像当今许多开发人员一样，首先运行:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="2caa" class="ni mh iq ne b gy nj nk l nl nm">yarn create react-app example-widget</span></pre><p id="ca4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个样板文件包含一个函数式React应用程序，您可以在其中开发自己喜欢的任何东西。为了这个例子，我创建了一个简单的组件，它使用了优秀的<a class="ae kv" href="https://www.npmjs.com/package/react-live" rel="noopener ugc nofollow" target="_blank"> react-live </a>库。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="6cda" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该组件呈现了一个web IDE，您可以在其中编写代码并立即看到结果——这在WordPress网站上很难实现，但在React中只需要28行代码。</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="9ea1" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">4步流程——无需弹出！</h1><ol class=""><li id="34d4" class="np nq iq ky b kz my lc mz lf nr lj ns ln nt lr nu nv nw nx bi translated">我们希望我们的应用程序安装在一个我们可以控制的独一无二的<code class="fe ny nz oa ne b">&lt;div&gt;&lt;/div&gt;</code>上。让我们将应用程序的目标div更改为一些独特的内容:</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/faf4bb1f8278e09cb99a6d01a8bca242.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LjrEfZ5BYT1Cw67t8pb-WA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">第11行:将目标div ID改为“javascriptExample”</p></figure><p id="6b53" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.我们需要更新应用程序的<a class="ae kv" href="https://create-react-app.dev/docs/deployment/" rel="noopener ugc nofollow" target="_blank">主页</a>,以便为您网站的构建提供服务。这是通过将<code class="fe ny nz oa ne b">"homepage": “.”</code>添加到<code class="fe ny nz oa ne b">package.json</code>文件中来实现的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/90685e75924f59a486a840aec16403a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*51uCp9J-REOeFPr8jFnmEQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">第5行</p></figure><p id="53aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:如果您的应用程序中有前端路由，事情会有所不同。更多信息见<a class="ae kv" href="https://create-react-app.dev/docs/deployment/" rel="noopener ugc nofollow" target="_blank">这些文件</a>。</p><p id="53de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.现在，我们需要构建应用程序并提取Webpack包，作为我们另一个网站上的静态资产。</p><p id="9a58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，运行<code class="fe ny nz oa ne b">yarn build</code>生成一个缩小的构建。</p><p id="c000" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">其次，创建一个文件夹来保存应用程序运行所需的三个文件。我给我的取名<code class="fe ny nz oa ne b">dist</code>。您将需要这三个文件:</p><ul class=""><li id="c93b" class="np nq iq ky b kz la lc ld lf od lj oe ln of lr og nv nw nx bi translated">这个文件包含了你正在使用的库的缩小版本。</li></ul><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="e09c" class="ni mh iq ne b gy nj nk l nl nm">./build/static/js/2.&lt;someUniqueNumbers&gt;.chunk.js</span></pre><ul class=""><li id="70f0" class="np nq iq ky b kz la lc ld lf od lj oe ln of lr og nv nw nx bi translated">这个文件包含了你的代码的缩小版本。</li></ul><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="1ab7" class="ni mh iq ne b gy nj nk l nl nm">./build/static/js/main.&lt;someUniqueNumbers&gt;.chunk.js</span></pre><ul class=""><li id="a508" class="np nq iq ky b kz la lc ld lf od lj oe ln of lr og nv nw nx bi translated">保存启动应用程序的代码的文件。</li></ul><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="944f" class="ni mh iq ne b gy nj nk l nl nm">./build/static/js/runtime-main.&lt;someUniqueNumbers&gt;.js</span></pre><p id="41d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当你有了这些文件，你的<code class="fe ny nz oa ne b">dist</code>目录应该是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/35c0d694c3747b3f14b344f75d49731d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uC9rbd_Ol7ZW2PzYpowqMg.png"/></div></div></figure><p id="2f71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.最后，我们可以将新的静态资产称为JS文件，并指示React小部件在我们的网站上安装一个<code class="fe ny nz oa ne b">&lt;div&gt;&lt;/div&gt;</code>！</p><p id="2d9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是我的HTML页面示例，其中有两个React应用程序作为React小部件安装:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="baa9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，这些文件的顺序很重要！</p><p id="076e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果我使用lite-server提供HTML页面…</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/0d18a5bb6bdb849ac70bb9352430660f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*disB-x93urOA9qOsX3zNmA.gif"/></div></figure><p id="2062" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">哒哒！一个极具互动性的网站，在其他静态内容中包含两个<strong class="ky ir"> </strong> React应用程序！</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="90d0" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">结论</h1><p id="c1db" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">我希望这篇教程能够揭示React作为一个灵活的JavaScript库的强大之处。如果你对<em class="lv">为什么</em>所有这些工作感兴趣，我会鼓励你查看<a class="ae kv" href="https://reactjs.org/docs/add-react-to-a-website.html" rel="noopener ugc nofollow" target="_blank">这些文档</a>。</p><p id="cd5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在GitHub 上浏览我的范例库<a class="ae kv" href="https://github.com/jollyjerr/react-widget" rel="noopener ugc nofollow" target="_blank">！</a></p><p id="e19c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于在外部库/内容中使用React，还有其他的技巧吗？滴一个回复让我知道！</p><p id="3f54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">保持安全和健康，一如既往地快乐编码。</p></div></div>    
</body>
</html>