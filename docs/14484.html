<html>
<head>
<title>Sapling by Meta: A Review of the New Version Control System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">元数据下的树苗:新版版本控制系统述评</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/sapling-by-meta-a-review-of-the-new-version-control-system-42520e61473c?source=collection_archive---------0-----------------------#2022-12-23">https://betterprogramming.pub/sapling-by-meta-a-review-of-the-new-version-control-system-42520e61473c?source=collection_archive---------0-----------------------#2022-12-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="87fe" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">建立新系统，学习如何使用它，并了解其利弊</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c1bd12a50edf2e89dda28251c11178ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*agK6Qo_pTIQjjWhOCzPw0A.png"/></div></div></figure><p id="40c2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">版本控制系统是帮助开发人员跟踪和管理源代码变更的软件工具。有几种不同的版本控制系统可供使用，每种系统都有自己的特性和功能。</p><p id="1169" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一些流行的版本控制系统包括Git、Mercurial和Subversion。所有这些版本控制系统都旨在帮助开发人员在项目上协作，跟踪他们代码的更改，并维护他们工作的历史。在这篇文章中，我将谈论一个由Meta-Sapling内部开发的新球员。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="f611" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">为什么我们需要树苗？</h1><p id="1986" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">鉴于我们已经有了Git、Mercurial和Subversion等，很难理解为什么我们还需要另一个版本控制系统。正如Meta所说，Sapling特别关注可用性和可伸缩性，提到通用工作流更简单，从错误中恢复更容易。此外，Meta将Sapling和Sapling Server设计为高度可扩展，能够处理数千万个文件。</p><p id="502c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Sapling SCM(源代码管理)由三部分组成:</p><ul class=""><li id="b928" class="mu mv it kw b kx ky la lb ld mw lh mx ll my lp mz na nb nc bi translated">Sapling CLI是一个命令行工具，用户使用它来克隆存储库、执行提交以及将他们的更改推送到服务器</li><li id="ac03" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">Sapling Server是一个服务器端后端应用程序，用于托管和管理存储库。</li><li id="5384" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">Sapling虚拟文件系统，Sapling用来加速工作流的文件系统。</li></ul><p id="4f9b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">截至2022年底，仅发布了Sapling CLI，而Sapling服务器和虚拟文件系统尚未向公众提供。好消息是，您可以将Sapling与现有的Git存储库一起使用，它甚至可以与GitHub很好地集成！</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="d9cb" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">如何安装树苗</h1><p id="0ef1" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">要获得树苗，你可以遵循官方安装指南，可在这里获得<a class="ae ni" href="https://sapling-scm.com/docs/introduction/installation" rel="noopener ugc nofollow" target="_blank">。为了方便起见，以下是在您的系统上安装Sapling的步骤:</a></p><p id="9f74" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">对于macOS — </strong>使用以下命令从自制软件安装:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="bb4a" class="no ly it nk b be np nq l nr ns">$ brew install sapling</span></pre><p id="aafd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">对于Windows — </strong> <a class="ae ni" href="https://github.com/facebook/sapling/releases/latest" rel="noopener ugc nofollow" target="_blank">下载最新版本的ZIP </a>并在PowerShell中运行这些命令:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="d7cf" class="no ly it nk b be np nq l nr ns">PS&gt; Expand-Archive NAME_OF_DOWNLOADED_ZIP 'C:\\Program Files' <br/>PS&gt; setx PATH "$env:PATH;C:\\Program Files\\Sapling" -m</span></pre><p id="fa85" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意，要使用所有可用的特性，您还需要安装<a class="ae ni" href="https://git-scm.com/download/win" rel="noopener ugc nofollow" target="_blank"> Git </a>和<a class="ae ni" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">节点</a>。</p><p id="6b82" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">对于Ubuntu 22.04 — </strong>运行以下命令:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="0afc" class="no ly it nk b be np nq l nr ns">$ curl -L -O &lt;https://github.com/facebook/sapling/releases/download/0.1.20221213-150011-h9b0acf12/sapling_0.1.20221213-150011-h9b0acf12_amd64.Ubuntu22.04.deb&gt; <br/>$ sudo apt install -y ./sapling_0.1.20221213-150011-h9b0acf12_amd64.Ubuntu22.04.deb</span></pre><p id="e6ad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">对于Ubuntu 20.04 — </strong>运行以下命令:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="793e" class="no ly it nk b be np nq l nr ns">$ curl -L -O &lt;https://github.com/facebook/sapling/releases/download/0.1.20221213-150011-h9b0acf12/sapling_0.1.20221213-150011-h9b0acf12_amd64.Ubuntu20.04.deb&gt; <br/>$ sudo apt install -y ./sapling_0.1.20221213-150011-h9b0acf12_amd64.Ubuntu20.04.deb</span></pre><p id="5af6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">对于其他Linux — </strong>如果您有家酿软件，您可以安装Sapling:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="b695" class="no ly it nk b be np nq l nr ns">$ brew install sapling</span></pre><p id="4ee0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你没有自制软件，你唯一的选择就是从源代码开始<a class="ae ni" href="https://sapling-scm.com/docs/introduction/installation#building-from-source" rel="noopener ugc nofollow" target="_blank">构建。</a></p><h1 id="2da6" class="lx ly it bd lz ma nt mc md me nu mg mh jz nv ka mj kc nw kd ml kf nx kg mn mo bi translated">如何种植树苗</h1><p id="74c3" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">在您的系统上安装了Sapling之后，您的终端应该可以使用<code class="fe ny nz oa nk b">sl</code>命令。要开始使用它，您首先需要配置您的身份。它用于授权您的提交，您可以像这样设置它:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="0440" class="no ly it nk b be np nq l nr ns">$ sl config --user ui.username "YOUR NAME &lt;YOUR EMAIL&gt;" <br/># for example... <br/>$ sl config --user ui.username "Michael Krasnov &lt;[email protected]&gt;"</span></pre><p id="37e2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">运行这个之后，sapphire应该准备好了。但是，如果要将Sapling与GitHub配合使用，则需要为Sapling设置GitHub认证。推荐的方法是安装GitHub CLI ( <code class="fe ny nz oa nk b">gh</code>)并运行以下命令:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="f1fa" class="no ly it nk b be np nq l nr ns">$ gh auth login --git-protocol https</span></pre><p id="9464" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我看来，有两个工具来使用GitHub repos是一种过度的杀戮。如果您创建一个<a class="ae ni" href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" rel="noopener ugc nofollow" target="_blank">个人访问令牌</a>并在被要求时将它交给Sapling，您可以在没有GitHub CLI的情况下让它工作。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="235a" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">如何使用树苗</h1><p id="db38" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">现在让我们通过一些基本的工作流程来感受一下在实际项目中使用Sapling的感觉。我在我的GitHub账户上创建了一个Redux repo的分支来玩。让我们从克隆Github的repos开始。要使用Sapling从GitHub克隆一个repo，请运行以下命令:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="3f56" class="no ly it nk b be np nq l nr ns">$ sl clone &lt;GITHUB REPO URL&gt; <br/># for example... <br/>$ sl clone &lt;https://github.com/r3dm1ke/redux&gt;</span></pre><p id="19d1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们得到的输出对过去使用过Git的人来说很熟悉:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="4b24" class="no ly it nk b be np nq l nr ns">remote: Enumerating objects: 20640, done.<br/>remote: Counting objects: 100% (7/7), done.<br/>remote: Compressing objects: 100% (6/6), done.<br/>remote: Total 20640 (delta 1), reused 1 (delta 1), pack-reused 20633<br/>Receiving objects: 100% (20640/20640), 23.78 MiB | 2.27 MiB/s, done.<br/>Resolving deltas: 100% (13183/13183), done.<br/>From https://github.com/r3dm1ke/redux<br/> * [new ref]           fbfe51458ca2addf97f426d505bf2c27503a5ff1 -&gt; remote/master<br/>452 files updated, 0 files merged, 0 files removed, 0 files unresolved</span></pre><p id="b79e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在您可以<code class="fe ny nz oa nk b">cd</code>到您的克隆项目中，并通过运行<code class="fe ny nz oa nk b">sl</code>命令来验证一切工作正常:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="c808" class="no ly it nk b be np nq l nr ns">$ sl<br/>@  fbfe51458  Dec 15 at 10:20  65634467+Ahmed-Hakeem  remote/master<br/>│  change reducer type validation place (#4452)<br/>~</span></pre><p id="4bbb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">默认情况下，<code class="fe ny nz oa nk b">sl</code>命令向我们显示回购中的最后一次提交，以及您自己在堆栈中的所有提交(稍后将详细介绍)。</p><p id="c3cb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要在Sapling中查看完整的提交历史，运行<code class="fe ny nz oa nk b">sl log</code>命令:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="700e" class="no ly it nk b be np nq l nr ns">$ sl log<br/>changeset:   fbfe51458ca2addf97f426d505bf2c27503a5ff1  (@)<br/>user:        Hakeem &lt;65634467+Ahmed-Hakeem@users.noreply.github.com&gt;<br/>date:        Thu, 15 Dec 2022 10:20:08 -0500<br/>summary:     change reducer type validation place (#4452)<br/><br/>changeset:   a0754310222ad61bde675078963afb7fc038d5d7<br/>user:        Mark Erikson &lt;mark@isquaredsoftware.com&gt;<br/>date:        Mon, 05 Dec 2022 10:49:27 -0500<br/>summary:     Merge pull request #4448 from jshoung/docs/remove-dead-link<br/><br/>changeset:   89104853174e62de8ebbca4881ea14a04399f4e2<br/>user:        julian &lt;julianks@gmail.com&gt;<br/>date:        Mon, 05 Dec 2022 10:00:58 -0500<br/>summary:     Remove link to deleted tweet<br/><br/>changeset:   9be553a2c5ba04d9d769f31e25a6dc93deb334cf<br/>user:        Mark Erikson &lt;mark@isquaredsoftware.com&gt;<br/>date:        Wed, 30 Nov 2022 10:12:49 -0500<br/>summary:     Merge pull request #4447 from mariussd/patch-1<br/><br/>...        </span></pre><p id="4fd9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在让我们看看提交和推动在Sapling中是如何工作的。首先，我将对项目进行更改:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="dc0c" class="no ly it nk b be np nq l nr ns">$ echo "PS Redux is awesome" &gt;&gt; README.md<br/>$ touch newfeature.js<br/>$ echo "TODO: write new feature" &gt;&gt; newfeature.js<br/>$ sl status<br/>M README.md<br/>? newfeature.js</span></pre><p id="aaab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe ny nz oa nk b">sl status</code>命令的工作方式与<code class="fe ny nz oa nk b">git status</code>相同。你可以看到小树苗看到我们修改了<code class="fe ny nz oa nk b">README.md</code>，创造了<code class="fe ny nz oa nk b">newfeature.js</code>。<code class="fe ny nz oa nk b">newfeature.js</code>旁边的问号表示我们还没有<code class="fe ny nz oa nk b">add</code>它:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="7628" class="no ly it nk b be np nq l nr ns">$ sl add newfeature.js<br/>$ sl status<br/>M README.md<br/>A newfeature.js</span></pre><p id="43ab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以继续并提交更改。要提交Sapling中的更改，请运行以下命令:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="d57d" class="no ly it nk b be np nq l nr ns">$ sl commit -m "Initial work for my new feature"<br/>$ sl<br/>  @  b6989309b  2 seconds ago  mihalKrasnov<br/>╭─╯  Initial work for my new feature<br/>│<br/>o  fbfe51458  Dec 15 at 10:20  remote/master<br/>│<br/>~</span></pre><p id="6e14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以在图表视图中看到我们的新提交。为了向您展示更多的特性，让我们继续添加更多的提交:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="305d" class="no ly it nk b be np nq l nr ns">$ echo "Developed new exiting feature!" &gt;&gt; CHANGELOG.md<br/>$ sl commit -m "Updated changelog"<br/>$ echo "const feature = () =&gt; console.log('abacaba')" &gt;&gt; newfeature.js<br/>$ sl commit -m "Feature implementation"<br/>$ sl<br/>  @  8c9eb0035  1 second ago  mihalKrasnov<br/>  │  Feature implementation<br/>  │<br/>  o  e445f1379  87 seconds ago  mihalKrasnov<br/>  │  Updated changelog<br/>  │<br/>  o  b6989309b  3 minutes ago  mihalKrasnov<br/>╭─╯  Initial work for my new feature<br/>│<br/>o  fbfe51458  Dec 15 at 10:20  remote/master<br/>│<br/>~</span></pre><p id="dc37" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，您可以在堆栈中看到3个提交。注意，最近的提交用<code class="fe ny nz oa nk b">@</code>标记。您可以使用命令<code class="fe ny nz oa nk b">sl prev</code>和<code class="fe ny nz oa nk b">sl next</code>在堆栈中移动:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="baa4" class="no ly it nk b be np nq l nr ns">$ sl prev<br/>1 files updated, 0 files merged, 0 files removed, 0 files unresolved<br/>[e445f1] Updated changelog<br/><br/>$ sl<br/>  o  8c9eb0035  4 minutes ago  mihalKrasnov<br/>  │  Feature implementation<br/>  │<br/>  @  e445f1379  5 minutes ago  mihalKrasnov<br/>  │  Updated changelog # NOTICE THAT @ IS NOW HERE<br/>  │<br/>  o  b6989309b  7 minutes ago  mihalKrasnov<br/>╭─╯  Initial work for my new feature<br/>│<br/>o  fbfe51458  Dec 15 at 10:20  remote/master<br/>│<br/>~<br/><br/>$ sl prev<br/>1 files updated, 0 files merged, 0 files removed, 0 files unresolved<br/><br/>$ sl<br/>  o  8c9eb0035  4 minutes ago  mihalKrasnov<br/>  │  Feature implementation<br/>  │<br/>  o  e445f1379  5 minutes ago  mihalKrasnov<br/>  │  Updated changelog<br/>  │<br/>  @  b6989309b  7 minutes ago  mihalKrasnov<br/>╭─╯  Initial work for my new feature # AND NOW HERE<br/>│<br/>o  fbfe51458  Dec 15 at 10:20  remote/master<br/>│<br/>~<br/><br/>$ sl next 2<br/>2 files updated, 0 files merged, 0 files removed, 0 files unresolved<br/>[8c9eb0] Feature implementation<br/><br/>$ sl<br/>  @  8c9eb0035  4 minutes ago  mihalKrasnov<br/>  │  Feature implementation # AND BACK UP<br/>  │<br/>  o  e445f1379  5 minutes ago  mihalKrasnov<br/>  │  Updated changelog<br/>  │<br/>  o  b6989309b  7 minutes ago  mihalKrasnov<br/>╭─╯  Initial work for my new feature<br/>│<br/>o  fbfe51458  Dec 15 at 10:20  remote/master<br/>│<br/>~</span></pre><p id="f3f8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，假设我对我的特性的实现不满意，并且想要撤销我的最后一次提交。要撤销您在Sapling中的最后一次提交，请运行以下命令:<code class="fe ny nz oa nk b">sl uncommit</code>:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="0768" class="no ly it nk b be np nq l nr ns">$ sl uncommit<br/>$ sl<br/> # FIRST COMMIT GONE!<br/>  @  e445f1379  9 minutes ago  mihalKrasnov<br/>  │  Updated changelog<br/>  │<br/>  o  b6989309b  11 minutes ago  mihalKrasnov<br/>╭─╯  Initial work for my new feature<br/>│<br/>o  fbfe51458  Dec 15 at 10:20  remote/master<br/>│<br/>~<br/>$ sl status<br/>M newfeature.js # CHANGES ARE UNTOUCHED</span></pre><p id="0a08" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，在修复了最后一个更改之后，我们想要推送我们的更改并打开一个拉取请求。由于Sapling集成了GitHub，这非常容易:只需运行这个命令来推送并打开一个拉取请求:<code class="fe ny nz oa nk b">sl pr</code></p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="dd00" class="no ly it nk b be np nq l nr ns">$ sl pr<br/>pushing 3 to https://github.com/r3dm1ke/redux<br/>created new pull request: https://github.com/r3dm1ke/redux/pull/1<br/>created new pull request: https://github.com/r3dm1ke/redux/pull/2<br/>created new pull request: https://github.com/r3dm1ke/redux/pull/3</span></pre><p id="20ee" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以看到Sapling创建了3个拉请求，每个提交一个。这似乎违反直觉，是彻头彻尾的犯罪，尤其是在使用GitHub的时候。事实上，这意味着与ReviewStack一起使用，review stack是一个用于浏览Meta发出的GitHub pull请求的UI。你可以在这里了解更多信息<a class="ae ni" href="https://sapling-scm.com/docs/addons/reviewstack/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="8ad3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个更有用的功能是从命令行查看PR状态。打开您的拉动请求后，运行<code class="fe ny nz oa nk b">sl ssl</code>以获取它们的状态:</p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="03cc" class="no ly it nk b be np nq l nr ns">$ sl ssl<br/>  @  b615c1183  7 minutes ago  mihalKrasnov  #4458 Closed ✓<br/>  │  Implementation<br/>  │<br/>  o  e445f1379  17 minutes ago  mihalKrasnov  #4457 Closed ✓<br/>  │  Updated changelog<br/>  │<br/>  o  b6989309b  19 minutes ago  mihalKrasnov  #4456 Closed ✓<br/>╭─╯  Initial work for my new feature<br/>│<br/>o  fbfe51458  Dec 15 at 10:20  remote/master<br/>│<br/>~</span></pre></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="f944" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">如何使用Sapling UI</h1><p id="7c6b" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">Sapling不是一个纯粹的CLI程序，但它也附带了一个GUI。使用GUI进行版本控制可能比命令行界面更加用户友好和易于使用，并且可以提供可视化功能，例如分支和提交历史的图形表示。然而，GUI应用程序可能比CLI更慢，可定制性更差。</p><p id="8fe9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要打开Sapling的GUI，运行这个命令:<code class="fe ny nz oa nk b">sl web</code></p><pre class="kj kk kl km gt nj nk nl bn nm nn bi"><span id="f4b8" class="no ly it nk b be np nq l nr ns">$ sl web<br/>started a new server<br/><br/>access Sapling Web with this link:<br/>http://localhost:3011/?token=</span></pre><p id="30da" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您打开此URL，您将看到用户界面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/4333fe14a9212a8cda8cf588b3632667.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*h3ygeacCXowib1X1"/></div></figure><p id="5401" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用这个UI，您可以查看提交历史、打开PRs、diffs、执行修改和提交，以及与服务器同步更改。然而，我并没有发现它特别有用，并将继续使用GitKraken来处理GUI的所有事情。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="a0e4" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">与Git的主要区别</h1><p id="4b30" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">Sapling是一个版本控制系统，它与Git有许多共同的特征，例如分布式、使用散列寻址提交、具有称为“书签”的分支，以及类似的工作流，包括克隆、拉取、推送、提交和rebase。然而，这两个系统之间也有一些显著的差异。</p><ul class=""><li id="a0ca" class="mu mv it kw b kx ky la lb ld mw lh mx ll my lp mz na nb nc bi translated"><strong class="kw iu">不需要本地分支:</strong>在Git中，您的存储库是由本地分支的存在来定义的，您需要在本地分支上工作。相比之下，如果你愿意，Sapling允许你使用本地书签(相当于Git分支)，但是它们不是必须的。相反，您可以简单地通过哈希值引用您的提交，这些哈希值在“smartlog”显示中可见。</li><li id="8d79" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">部分下载:当您从Git中的存储库克隆或提取数据时，通常会检索所有新数据。在Sapling中，克隆或拉取将只获取存储库的主要分支，根据需要获取其他分支。</li><li id="2b0d" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated"><strong class="kw iu">撤销功能:</strong>这个功能肯定会受到社区的喜爱。Sapling提供了专用的“取消提交”、“取消修改”、“取消隐藏”和“撤销”命令，用于撤销常见的操作，而“撤销-i”命令允许您在应用之前预览多个撤销的效果。</li><li id="4b04" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated"><strong class="kw iu">没有临时区域:</strong> Git要求您在提交变更之前将变更添加到临时区域，但是Sapling没有临时区域。如果您只想提交或修改您的部分更改，您可以使用一个交互式选项来选择特定的更改，或者创建一个临时提交并修改它，然后将其合并到真正的提交中。</li><li id="6c03" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">内置UI:对于那些不喜欢使用CLI的人来说，这将是一个受欢迎的特性</li></ul></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="e7c0" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">利弊</h1><p id="29c9" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">在使用Sapling一段时间后，我想以我个人的利弊列表来结束我的发言。值得注意的是，这些只是一些潜在的优点和缺点，使用Sapling的实际好处和缺点将取决于您的具体需求和用例。</p><h2 id="dd2e" class="oc ly it bd lz od oe dn md of og dp mh ld oh oi mj lh oj ok ml ll ol om mn on bi translated"><strong class="ak">优点</strong></h2><ul class=""><li id="4a37" class="mu mv it kw b kx mp la mq ld oo lh op ll oq lp mz na nb nc bi translated">在使用Git多年后，Sapling确实感觉像是一股清新的空气。工作流(至少我使用的那些)看起来更简单，Sapling感觉更快，命令更直观</li><li id="3e18" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">撤销命令是救命稻草，当我知道撤销一切是多么容易时，我对在Sapling中使用高级VCS功能更有信心了</li></ul><h2 id="a03f" class="oc ly it bd lz od oe dn md of og dp mh ld oh oi mj lh oj ok ml ll ol om mn on bi translated"><strong class="ak">缺点</strong></h2><ul class=""><li id="aab8" class="mu mv it kw b kx mp la mq ld oo lh op ll oq lp mz na nb nc bi translated">缺少分支对我来说似乎是违反直觉的。当很多人在一个回购协议上工作时，很容易看到所有的分支并在它们之间切换，并将其他更改转移到您的分支上。也许这将随着经验而来，但是现在，我更喜欢Git的分支而不是Sapling的书签</li><li id="19bb" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">每次提交一个PR:虽然这在使用Sapling Server或ReviewStack时可能有意义，但在普通GitHub中没有用</li><li id="3024" class="mu mv it kw b kx nd la ne ld nf lh ng ll nh lp mz na nb nc bi translated">Sapling仍处于早期开发阶段，因此它缺少Git所具有的许多特性，例如Git挂钩(客户端和服务器端)、社区支持、工具和ui。</li></ul></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><p id="e063" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我还不会从Git转换到Sapling，但这非常令人兴奋，我很高兴在VCS世界有一些竞争。我也将急切地等待Sapling服务器和虚拟文件系统的发布，并提交我对它们的评论。</p></div></div>    
</body>
</html>