<html>
<head>
<title>What’s the Cookbook Style in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的菜谱风格是怎样的？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/whats-the-cookbook-style-in-javascript-be98658d5be1?source=collection_archive---------10-----------------------#2021-03-05">https://betterprogramming.pub/whats-the-cookbook-style-in-javascript-be98658d5be1?source=collection_archive---------10-----------------------#2021-03-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="af22" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的代码易于阅读</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4eb4f887b20413a2ef04d499960510dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qA5NAoArjyhUQx6r"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@icons8?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Icons8团队</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="006f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最近的一篇文章中，我讨论了如何使用单片编程风格用JavaScript编写一个词频程序。在今天的文章中，我将转向一种完全不同的风格——食谱风格——来编写一个词频程序。</p><p id="e292" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有兴趣学习更多关于编程风格的知识，我强烈推荐这本书，它是我的文章的灵感来源:Cristina Videira Lopes的《编程风格中的<a class="ae ky" href="https://www.amazon.com/Exercises-Programming-Style-Cristina-Videira/dp/0367360209" rel="noopener ugc nofollow" target="_blank"> <em class="lv">练习</em> </a>》。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2b2e" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">烹饪书风格</h1><p id="726d" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">整体式编程包括编写一个完整的程序，不使用任何函数、过程或任何其他工具或技术来模块化程序。另一方面，Cookbook风格涉及许多处理全局数据结构的过程。那么，你可能会认为食谱风格是一种功能风格，但事实并非如此。</p><p id="dbfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要理解为什么菜谱风格不是功能风格，你需要理解<em class="lv">功能</em>和<em class="lv">过程</em>之间的区别。</p><p id="8239" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">函数将传递给它的数据作为参数，并返回以某种方式转换的传入数据，例如平方根函数接受一个数字并返回该数字的平方根作为其返回值。</p><p id="61c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">过程更像是C或C++中的void函数。过程是命名的程序代码组，通常对全局数据进行操作，以便多个过程可以访问它们。以菜谱风格编写的程序将把一个问题分解成可分离的部分，每个部分由一个过程表示。</p><p id="46d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像这样把一个程序分成几个部分叫做<em class="lv">过程抽象</em>。以这种方式设计程序变得流行起来，作为对单一编程风格的一种解毒剂，这种风格导致了使用<code class="fe na nb nc nd b">goto</code>语句和控制流中其他类型跳转的长程序。这些程序被称为<em class="lv">意大利面条代码</em>，因为如果你跟踪程序的控制流，得到的跟踪图看起来就像一碗意大利面条。</p><p id="b5cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着计算机科学家对过程抽象越来越熟悉，他们创造了一种新的编程风格，叫做<em class="lv">结构化编程</em>。结构化程序是通过将用于执行特定任务的所有代码抽象成过程来编写的，这些过程可以通过名称来调用，而不是行号或与<code class="fe na nb nc nd b">gotos</code>结合使用的行标签。</p><p id="4a1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结构化编程不仅仅是通过将程序分解成过程来定义的。被认为是结构化的程序还包括结构化的控制流机制，例如<code class="fe na nb nc nd b">if-else if</code>语句、<code class="fe na nb nc nd b">switch</code>语句、<code class="fe na nb nc nd b">while</code>循环和<code class="fe na nb nc nd b">for</code>循环。我们也应该将程序块视为结构化编程范例的一部分。对于今天的计算机编程语言来说，这些特性中的大多数都是理所当然的，所以为了本文的目的，当我谈到结构化编程时，我指的是将程序分解成多个过程。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="38bf" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">过程与功能</h1><p id="3416" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在我演示如何使用Cookbook风格用JavaScript编写一个词频程序之前，我想花一点时间谈谈过程和函数之间的区别。当我使用术语<em class="lv">函数</em>时，我指的是一组命名的编程语句，它们以参数的形式接收数据，并以某种方式转换数据。</p><p id="b12b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Lopes在她的书中将接受相同输入并总是返回相同输出的函数称为<em class="lv">纯函数</em> — <em class="lv"> </em>或<em class="lv">等幂函数</em>。计算机科学家和某些编程爱好者更喜欢纯函数，因为只用纯函数编写的程序更容易推理，并且可以在理论上证明正确或不正确。</p><p id="002b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">纯函数只能访问作为参数传递给它们的数据。使用纯函数编写程序的程序员从不使用像全局数据或全局数据结构这样的东西，因为这些全局实体违反了纯函数的条件。在下一篇文章中，我将讨论另一种编程风格(管道风格)，它使用纯函数来计算词频。</p><p id="77b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，编写过程不是为了以可预测的方式转换数据。相反，程序是为它们执行的计算而编写的。在Cookbook风格中，过程将访问全局数据结构，并从过程的定义中修改这些结构。</p><p id="9842" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在使用纯函数的程序中(再次参见流水线风格)，数据结构被传递给函数，在函数中被修改，然后由函数返回。</p><p id="1a7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于过程和全局数据的使用有很多争议，尽管当程序员使用面向对象的风格时(我也将写一篇关于这种风格的文章)，他们将使用全局数据，在这种意义上，数据可用于对象定义的所有部分。尽管如此，大多数编程专家警告不要过度使用全局数据，因为当程序的许多不同部分可以访问相同的数据结构时，很难调试应用程序。</p><p id="c31a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，很像<code class="fe na nb nc nd b">goto</code>语句，如果你小心使用全局数据，它们可以使你的编程工作更容易，也不那么复杂。正如Lopes在她关于Cookbook风格的章节中指出的，许多系统应用程序都是作为访问和共享全局数据的子程序集合编写的——通常是以一个或多个数据库的形式。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="654e" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">菜谱风格和结构化编程</h1><p id="5aa9" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我在以前的文章中展示的单调风格导致了一个新的编程流派的发展，叫做<em class="lv">结构化编程</em>。结构化编程背后的主要动机是创建具有更容易遵循的控制流的程序，并且至少在理论上，这将导致可证明是正确的程序。旧的整体风格导致程序如此难以理解，以至于程序的控制流轨迹产生了如此混乱的线条网络，这些程序被称为<em class="lv">意大利面条代码</em>。</p><p id="a477" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">术语结构化编程属于三个层次的程序:程序块、控制流结构和子程序(或过程)。代码块允许多个语句被视为一个语句。现代程序员认为块是理所当然的，但是没有它们，程序员不得不使用<code class="fe na nb nc nd b">goto</code>语句和行标签。</p><p id="f66c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">控制流结构，比如<code class="fe na nb nc nd b">if-else if</code>语句、<code class="fe na nb nc nd b">while</code>语句和<code class="fe na nb nc nd b">for</code>语句，也提供了避免代码纠缠的机会。这些构造允许阅读程序的人能够容易地识别控制流构造的开始和结束。</p><p id="092b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，能够定义和调用子例程为结构化编程提供了终极支持。将一个程序分解成有意义的子例程使得程序更容易阅读、编写和调试。同样，现代程序员不能轻易想象在没有函数和子例程的情况下试图编写一个重要的程序是什么样子。</p><p id="6f5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将在本文中演示的食谱风格是结构化程序的一个典型例子。主程序唯一可执行的行被用来声明全局变量，我用这些变量来存储传递给程序的不同子程序的数据。在子程序中，我使用所有现代程序中使用的典型的结构化控制流结构。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="bc9c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">使用Cookbook程序风格计算词频</h1><p id="8755" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">和我的上一篇文章一样，我将使用乔纳森·斯威夫特的<em class="lv">一个适度的提议</em>来计算词频。在程序消耗完文本并计算出词频后，我将显示文本中使用最多的前十个单词。</p><p id="a054" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">程序如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="bef6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是该程序的输出:</p><pre class="kj kk kl km gt ng nd nh ni aw nj bi"><span id="4a53" class="nk me it nd b gy nl nm l nn no">children 18<br/>kingdom 15<br/>thousand 15<br/>country 11<br/>own 10<br/>child 10<br/>hundred 8<br/>parents 7<br/>little 7<br/>shillings 7</span></pre><p id="973d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于将所有代码隐藏在子例程定义中的抽象，Cookbook风格使得主程序易于阅读。像任何这样分解的程序一样，如果我需要在别处使用任何子程序的功能，很容易将定义转移到另一个程序。</p><p id="a453" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，如果这些子例程是数据接收和数据返回函数，这将更加有用，我将在下一篇文章中演示这种风格(管道风格)。</p><p id="7657" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读，请对本文提出您的意见和建议。</p></div></div>    
</body>
</html>