<html>
<head>
<title>Build a CRUD JavaScript App With Fetches</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建一个带有获取功能的CRUD JavaScript应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-crud-js-app-with-fetches-f82143a48b6d?source=collection_archive---------3-----------------------#2020-01-10">https://betterprogramming.pub/build-a-crud-js-app-with-fetches-f82143a48b6d?source=collection_archive---------3-----------------------#2020-01-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7418" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">组织你的过程，写干净的代码，像老板一样测试</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/257a3a27f9d6d331276fae790d124659.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z70a-Hus_LiIn4z4MotZzw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">K. Mitch Hodge 在<a class="ae ky" href="https://unsplash.com/s/photos/fetch?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ab08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我将讲述在使用<code class="fe lv lw lx ly b">fetch</code>用JavaScript构建CRUD应用程序时，如何编写干净、有条理、易读的代码。</p><p id="5581" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将构建一个简单的应用程序，允许我们在一个虚构的动物园中浏览动物，并通过点击切换它们的档案。我不仅要解释fetch是如何工作的，还要解释如何将代码模块化成可重用的组件。</p><p id="9c9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于本教程，我将使用你可以在本报告中找到的<a class="ae ky" href="https://github.com/sylwiavargas/zoo-review" rel="noopener ugc nofollow" target="_blank">文件。<strong class="lb iu">确保让服务器运行</strong>(查看</a><a class="ae ky" href="https://github.com/sylwiavargas/zoo-review/blob/master/README.md" rel="noopener ugc nofollow" target="_blank">自述文件</a>)。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="2f6d" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">步骤1:读取HTML文件</h1><p id="558a" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">假设这是一个给我们的HTML文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="08ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到我们有三个主要部分:<code class="fe lv lw lx ly b">zoo-animals</code>，在这里我们的动物将被列出，<code class="fe lv lw lx ly b">animal-info</code>，这将是一个被点击的动物的档案卡，和一个<code class="fe lv lw lx ly b">create-animal</code>表单。</p><p id="2565" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">花时间检查是否:</p><ol class=""><li id="46ee" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated">id是唯一的——这将帮助您定位具有<code class="fe lv lw lx ly b">querySelector</code>功能的节点。</li><li id="fef2" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">表单中的name属性与JSON文件中的键相同——这将帮助您顺利地进行POST/PATCH获取。</li><li id="16fe" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">如果有一个指向正确文件的脚本标记，没有它，您的JS将无法工作。</li></ol><p id="c799" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们的表单名称属性与我们在db.json文件中看到的没有重叠:不是“凶性”，而是“野性”。</p><p id="bdbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，由于已经创建了一个提交按钮，我们需要向它添加一个事件侦听器。您的文件现在应该如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="67ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完美。让我们来看看JS文件。这是我们的应用程序现在的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/ca68709998a59d6e478e989e973dd64f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FgfagF4RF0x_1XYy43-m_A.png"/></div></div></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="292b" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">步骤2: DOMContentLoaded</h1><p id="3a01" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我喜欢设计我的应用程序，因为我喜欢把我所有的JS放在一个<code class="fe lv lw lx ly b">DOMContentLoaded</code>事件监听器中。</p><p id="c76e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们这样做，并且让我们包含一个<code class="fe lv lw lx ly b">console.log</code>来查看JS文件是否被连接——如果我们在浏览器中刷新页面，我们应该会看到一个控制台消息。</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="75a6" class="ny mh it ly b gy nz oa l ob oc">document.addEventListener('DOMContentLoaded', (event) =&gt; {<br/>    console.log('DOM fully loaded and parsed');<br/>});</span></pre><p id="2d15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们检查一下控制台:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/f1479cc5d69754f7e38bc064129e122d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U993TaR3bjXdVh6jHI5bjw.png"/></div></div></figure><p id="a9b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好了，现在我们知道我们的JS文件工作了，让我们按照流程来。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="30b2" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">该过程</h1><ol class=""><li id="ff0b" class="nf ng it lb b lc my lf mz li oe lm of lq og lu nk nl nm nn bi translated">将所有必要的<code class="fe lv lw lx ly b">querySelectors</code>保存到最顶层的变量中。一旦设置了变量，就在控制台中运行它。如果应用程序需要一些切换，为它创建一个<code class="fe lv lw lx ly b">let</code>。如果任何现有的元素必须有一个事件侦听器，您可以继续添加它！</li><li id="17ad" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">编写第一个fetch(这是一个GET，遵循这样的结构:URL，then，then + <code class="fe lv lw lx ly b">slapItOnTheDom</code>)。</li><li id="d88c" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe lv lw lx ly b">Console.log</code>查看返回的数据。</li><li id="75f5" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">写<code class="fe lv lw lx ly b">slapItOnTheDom</code>的方法。创造新元素。给这些元素数据集和<code class="fe lv lw lx ly b">innerHTML</code> / <code class="fe lv lw lx ly b">innerText</code>。将<code class="fe lv lw lx ly b">eventListeners</code>添加到它们应该在的地方，并记住写一个助手函数<code class="fe lv lw lx ly b">appendChild</code>。</li><li id="05d1" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">对它进行碰撞测试和调试。</li><li id="1b50" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">添加其他获取(确保头部和主体发出正确的数据)。</li><li id="cd12" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">确保<code class="fe lv lw lx ly b">preventDefault</code>在您想要的位置！</li></ol></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="6812" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">步骤3:查询选择器</h1><p id="4d1d" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">让我们保存所有的元素，我们稍后会提到变量:</p><ul class=""><li id="15f9" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu oh nl nm nn bi translated"><code class="fe lv lw lx ly b">ul#zoo-animals</code> —那就是我们将拥有动物列表的地方。</li><li id="d12b" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu oh nl nm nn bi translated"><code class="fe lv lw lx ly b">div#animal-info</code> —那是动物简介。</li><li id="a4a2" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu oh nl nm nn bi translated"><code class="fe lv lw lx ly b">form#create-animal</code>。</li><li id="ac80" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu oh nl nm nn bi translated"><code class="fe lv lw lx ly b">input#submit-new</code> —这是我们的提交按钮。</li></ul><p id="fac2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，因为动物的轮廓是可切换的，所以让我们用一个<code class="fe lv lw lx ly b">let</code>语句创建一个<code class="fe lv lw lx ly b">seeAnimal</code>变量，因为我们将改变它的值。</p><p id="c760" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后但同样重要的是，我们知道提交需要一个事件监听器，所以让我们用一个回调函数来添加它，我们将命名为<code class="fe lv lw lx ly b">createNewAnimal</code>。</p><p id="2187" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:我喜欢将这些元素保存为具有高级别范围的变量，因为我假设我会在不止一个地方使用它们。你可以把它们放在它们所属的函数中，但是这样会把它们的范围缩小到只有一个函数。</p><p id="a799" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的代码应该如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="53b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看<code class="fe lv lw lx ly b">console.log</code>所有的变量。您知道<code class="fe lv lw lx ly b">console.log</code>可以接受任意多的参数吗？我喜欢描述性的，见下文:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="852b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哦，你弄错了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/36f674c1a3d07acbb157dc93247585b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xzZwKV9zPAM8jyJNCPkzXg.png"/></div></div></figure><p id="cdc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您查看错误，您会发现它指向我的编辑器中文件<code class="fe lv lw lx ly b">script.js</code>的第16行。错误提示<code class="fe lv lw lx ly b">createNewAnimal</code>未定义。没错。</p><p id="e174" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的<code class="fe lv lw lx ly b">eventListener</code>中，我调用了一个尚不存在的函数。为了让错误消失，代码不会中断，您可以暂时注释掉这一行，或者用<code class="fe lv lw lx ly b">null</code>或<code class="fe lv lw lx ly b">console.log(“submitted!”)</code>替换函数名。</p><p id="31c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我选择带有控制台日志的匿名箭头回调函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="47ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我得到的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/df631fbe81279e232546e6e9cb1c7ad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lHKVMnBmQ1KkCHUeW6kVIg.png"/></div></div></figure><p id="8130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果一个变量有效，您不仅应该在控制台中看到HTML节点，而且，如果您在右侧的控制台中将鼠标悬停在它上面，所选的元素应该在左侧的DOM中高亮显示。</p><p id="d19c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查每一个元素，看看你认为你应该得到的实际上是什么选择。如果你看到任何未定义的，那是检查你的假设的信号。</p><p id="64cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的建议是在控制台中尝试使用<code class="fe lv lw lx ly b">querySelector</code>来查看即时结果，然后复制实际带来预期结果的代码。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="86d7" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">步骤4:第一次获取(GET)</h1><p id="046f" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">好了，让我们邀请动物吧！我们将编写我们的第一个fetch，它将在变量被声明/定义后立即运行。</p><p id="72ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我发现GET fetch非常有价值——它简单、快速，并且几乎能带来立竿见影的效果。让我们把它写下来:</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="3b7c" class="ny mh it ly b gy nz oa l ob oc">fetch('http://localhost:3000/animals')  <br/>.then(response =&gt; response.json())  <br/>.then(animal =&gt; animal.forEach(slapItOnTheDiv))</span></pre><p id="7d4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的。现在让我们一行一行地介绍它。我们首先调用带有URL参数的函数<code class="fe lv lw lx ly b">fetch</code>——在本例中，我们从服务器上运行的JSON文件中获取数据。</p><p id="0ca8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于<code class="fe lv lw lx ly b">fetch</code>返回未解决的<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noopener ugc nofollow" target="_blank">承诺</a>而不是数据，我们需要接下来的步骤来解决承诺。因为<code class="fe lv lw lx ly b">fetch</code>是一个异步函数，我们想告诉JavaScript等到它完成获取后再继续下一步——这就是我们使用<code class="fe lv lw lx ly b">.then</code>的原因。</p><p id="dd5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们不这样做，当JS跳到下一行时，<code class="fe lv lw lx ly b">fetch</code>还没有完成，代码会中断。<code class="fe lv lw lx ly b">.then</code>方法接受前一个方法的返回值并对其进行操作。</p><p id="0091" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过引入一个<code class="fe lv lw lx ly b">console.log</code>来看看返回值是什么:</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="e9a2" class="ny mh it ly b gy nz oa l ob oc">fetch('http://localhost:3000/animals')  <br/>.then(console.log)  </span></pre><p id="b977" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们得到的是回应。也就是说，我们向服务器发送请求，服务器将数据发回给我们。但是，请看下面响应中的<code class="fe lv lw lx ly b">body</code>属性:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/1e2a000eae43e85d85d46873387262a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iq6y2Y5IOGqvCs5jW6qCvw.png"/></div></div></figure><p id="59f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它是一个<code class="fe lv lw lx ly b">ReadableStream</code>，也就是<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream" rel="noopener ugc nofollow" target="_blank">一个可读的字节数据流</a>。让我们将它转换成我们可以使用的东西，一个JSON响应，然后再次检查控制台。</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="86ca" class="ny mh it ly b gy nz oa l ob oc">fetch('http://localhost:3000/animals')  <br/>.then(response =&gt; response.json())<br/>.then(console.log)</span></pre><p id="3591" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了，我们拿回了对象数组。现在是检查所有对象是否都有所有键的时候了。</p><p id="54e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您无法在页面上呈现某些数据，这个问题可能会有所帮助——例如，<code class="fe lv lw lx ly b">image_url</code>可能不是真正的字符串或URL，因此不会有图片。</p><p id="2550" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，我们来看看…好像最后一个对象有不同的键？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/617d1a6ab74886bdb3b369fac028462f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o0x3Rw7rZ7zLhigdFelkiw.png"/></div></div></figure><p id="a96a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">经过检查，您可以看到它的键以不同的顺序出现，但这没关系，因为JavaScript中的对象是一个无序的集合，所以键出现的顺序与编程无关。</p><p id="be31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过，我确实注意到它的图片URL是错误的，所以我知道以后会发生什么。</p><p id="330a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有了对象，让我们遍历它们并使用委托来创建动物列表。</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="1934" class="ny mh it ly b gy nz oa l ob oc">fetch('<a class="ae ky" href="http://localhost:3000/animals'" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/animals'</a>)<br/>  .then(response =&gt; response.json())<br/>  .then(animals =&gt; animals.forEach(animal =&gt; animal(slapItOnTheDOM)))</span></pre><p id="f774" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以把它缩短:</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="c372" class="ny mh it ly b gy nz oa l ob oc">fetch('http://localhost:3000/animals')<br/>.then(response =&gt; response.json())<br/>.then(animals =&gt; animals.forEach(slapItOnTheDOM))</span></pre><p id="b611" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">slapItOnTheDOM</code>函数将作用于迭代数组的每个元素。</p><p id="3992" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们创建<code class="fe lv lw lx ly b">slapItOnTheDOM</code>函数，它接受一个动物对象作为参数，并伪代码我们的下一步:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="597e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来关注一下<code class="fe lv lw lx ly b">li</code>并添加console.logs来检查它是否工作:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="314e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是控制台:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/44c98bd7f0fa965a87b5674aaa1b09ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYJU5PcR-pGNWFu3SNuEAA.png"/></div></div></figure><p id="0f11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完美。控制台对我们在获取中收到的每个元素做出反应。现在，让我们处理按钮任务，并检查它们是否正确呈现:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="863d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意动态ID。这将有助于我们稍后在删除动物及其<code class="fe lv lw lx ly b">li</code>和按钮时移除该按钮。这是控制台:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/c7e9da0f33f8a95226f199dc79f2434a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V29MFkNVEFcycTBa_JSY0Q.png"/></div></div></figure><p id="31bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后但同样重要的是，让我们添加事件监听器。我们将利用这样一个事实，即我们在函数中可以访问动物对象，因此，我们将把动物进一步传递给删除函数(我们还没有写)。</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="c6ed" class="ny mh it ly b gy nz oa l ob oc">buttond.addEventListener('click', () =&gt; {deleteAnimal(animal) })</span></pre><p id="ff5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于测试的目的，让我们用一个控制台临时替换这个函数。</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="f7cc" class="ny mh it ly b gy nz oa l ob oc">buttond.addEventListener('click', console.log(animal)})</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/4a14724990c893d5cbed8ea877ee17ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BUTAjqjV-vaLaSRzW60grA.png"/></div></div></figure><p id="641e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们知道这是可行的，但是…由于这个方法不是回调，所以当页面没有被点击的时候，这个方法就被激活了。让我们记住将函数作为回调函数:</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="dc4b" class="ny mh it ly b gy nz oa l ob oc">buttond.addEventListener('click', () =&gt; console.log(animal))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/ca371b63b7ee75b7822a7e2e9aca4be3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SL5HvKuLMT1xvJMjfIy0rg.png"/></div></div></figure><p id="b1b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了记录起见，最好也检查一下第一个元素和最后一个元素是否都有效(特别是，如果您在获取或一般情况下使用闭包<code class="fe lv lw lx ly b">getElementById</code>或<code class="fe lv lw lx ly b">querySelector</code>)。所以，让我们这样做:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/729195a4afc3b8c9e07b21010bbca545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ADooV20NMcpbzGglM-ofPw.png"/></div></div></figure><p id="6c24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了。现在，让我们用update按钮做同样的事情。然后，让我们取消对<code class="fe lv lw lx ly b">createAnimal</code>的注释，现在编写<code class="fe lv lw lx ly b">updateAnimal</code>和<code class="fe lv lw lx ly b">deleteAnimal</code>，因为我们已经有了它的<code class="fe lv lw lx ly b">eventListener</code>。</p><p id="43f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以把console.logs放在函数中，这样代码就不会中断。</p><p id="7b2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此时，您的代码应该如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="3717" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="c6e5" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">第五步:创建</h1><p id="f72d" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">现在让我们编写<code class="fe lv lw lx ly b">createAnimal</code>函数。在我们冒险开始编码之前，让我们伪代码化我们的步骤:</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="fd34" class="ny mh it ly b gy nz oa l ob oc"># include preventDefault;<br/># create a helper function that will gather the data from the form;<br/># save the form inputs to a variable;<br/># fetch;</span></pre><p id="8742" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要包含<code class="fe lv lw lx ly b">preventDefault</code>,因为默认情况下表单提交会刷新页面，虽然这可以工作，但不是最好的用户体验。</p><p id="48e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，我们想要的是有一个从表单中收集所有数据的函数。我强烈建议使用这种方法，因为我们将在以后更新动物时使用相同的函数。</p><p id="fcba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的助手函数将如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="55cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只是收集表单输入的名称，并将它们保存为一个对象。</p><p id="e9ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为这个函数将在另一个函数中被调用，所以它可以访问调用者的事件。现在，我们可以将这个新的动物对象保存到<code class="fe lv lw lx ly b">createAnimal</code>函数中的一个变量中:</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="089d" class="ny mh it ly b gy nz oa l ob oc">function createAnimal(event){<br/>     event.preventDefault();<br/>     let newAnimal = gatherFormData();<br/>}</span></pre><p id="a5ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">newAnimal</code>现在由helper函数的返回值定义。太好了。让我们开始捡球吧。</p><p id="b452" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一次，我们的获取将采用两个参数:</p><ol class=""><li id="f247" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated">网址。</li><li id="3f9d" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">带有请求、指定方法、头(也是对象)和主体的对象；因为它是一个对象，所以每个键后面都需要一个逗号。</li></ol><p id="2af9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们一步一步来:</p><ol class=""><li id="f116" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated">这个获取的方法将是“POST”——记住引号。</li><li id="b0b4" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">请求的头指定了我们发送的内容和我们想要得到的内容——请记住，头中的键和值都应该用引号括起来。</li><li id="7fea" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">我们从JSON(对象)转换成字符串的主体。</li></ol><p id="277c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该方法现在将如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="698f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，还记得承诺和异步的东西吗？是的，添加这两个<code class="fe lv lw lx ly b">.then</code>,并且，猜猜看…我们将再次使用相同的方法在DOM上发布新的动物，就像我们使用GET fetch一样— <code class="fe lv lw lx ly b">slapItOnTheDOM</code>！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="1397" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个新的动物——打开“开发工具网络”选项卡，查看您的动物是否已创建:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/93558fc377d8ee53077dbb86341eb24f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6w90ROAcmfVYC4o1KlLM5g.png"/></div></div></figure><p id="f2d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">呜哇！我们动物园现在有一只叫埃里克的山羊。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="f387" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">第六步:更新</h1><p id="6c61" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">有没有注意到我们有一个更新按钮但是功能叫<code class="fe lv lw lx ly b">editAnimal</code>？嗯，那是因为这个函数实际上会让编辑表单出现，然后调用update函数进行更新。</p><p id="e0e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个函数只接受动物对象的对象，以便能够在窗体上显示动物的数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="7cfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们看看当我们单击update按钮时会发生什么——我将首先添加一个console.log，以查看我在DOM上单击的内容是否会给出我所认为的动物对象:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/218570d7af6c52e61b5103fc0066da1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iyS61igTueSJV3CrGlQekA.png"/></div></div></figure><p id="0e6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看来成功了！现在，让我们编写更新函数。这个函数将使用helper方法来收集数据，然后调用两个方法来更新后端和前端的动物。</p><p id="d60a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们不带参数调用<code class="fe lv lw lx ly b">updateOnFrontEnd</code>,因为在这种情况下，默认情况下，它将接受前一个函数的返回值。</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="3a5a" class="ny mh it ly b gy nz oa l ob oc">function updateAnimal(event, animal) {<br/>    event.preventDefault();<br/>    let updatedAnimal = gatherFormData()<br/>    updateOnBackend(updatedAnimal, animal.id)<br/>    .then(updateOnFrontEnd)<br/>  }</span></pre><p id="d00f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的，让我们进行后端更新。如您所见，<code class="fe lv lw lx ly b">updateOnBackend</code>方法接受两个参数:一个来自收集的数据的对象和我们需要添加到URL的动物ID。</p><p id="87d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个语法应该不会让你感到困惑，因为它非常类似于<em class="oo"> create </em>语法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="8699" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们引入一个console.log来看看获取是否有效:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="d1e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是啊！现在，记得用console.log取出<code class="fe lv lw lx ly b">.then</code>,因为虽然它对测试这部分很好，但是它改变了这个函数的返回值。</p><p id="3e90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到代码运行顺畅:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/77ec93b7c8aa7a2db6aa6392df0548a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uDTCYPZHXp9ClpUJPHEC4w.png"/></div></div></figure><p id="0c80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们检查“响应”选项卡，看看请求是否通过:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/15eeb571d8eaf029bb1a7cae3fb7f7ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5b3j9pG9M9UH2T6WK9PzRA.png"/></div></div></figure><p id="04f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了。如果我们刷新了页面，我们会看到不同之处。然而，我们希望DOM上的更新即时发生。让我们实现它。</p><p id="9b22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该函数将操纵DOM来编辑我们的<code class="fe lv lw lx ly b">li</code>。请注意<code class="fe lv lw lx ly b">querySelector</code>,它不仅通过数据集动态查找合适的动物ID，还查找属于它的跨度。</p><pre class="kj kk kl km gt nu ly nv nw aw nx bi"><span id="f5ad" class="ny mh it ly b gy nz oa l ob oc">function updateOnFrontEnd(animal){<br/>    const animalSpan = animals.querySelector(`li[data-id="${animal.id}"]&gt;span`)<br/>    animalSpan.innerText = `${animal.name} the ${animal.species}` <br/>  }</span></pre><p id="58af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在函数的开头包含一个console.log，看看它是否曾经运行过(以防它没有更新DOM ),并检查:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="463a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们把乔伊改成乔吧。查看表单、控制台和DOM。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/0a6325da2f7b30c3ddcb3c8f7db764a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2is2Ljk8eqUAkCQ0r9OGKA.png"/></div></div></figure><p id="7f78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">耶！乔伊现在是乔了。</p><p id="029d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的代码现在应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="7715" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">第七步:删除</h1><p id="347c" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">现在，让我们想象我们想让一只蝴蝶进入野生世界。</p><p id="01cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要一个删除函数，首先定位与动物相关的所有元素，然后发送一个删除获取请求，最后删除动物在DOM中的存在。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="5334" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">约翰走了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/b00714846e3ac45de093d624867fce39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*izMNEQD8cqKstOUrODkHSw.png"/></div></div></figure><p id="edea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，您的代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="0c91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">继续添加许多CSS魔法吧！或者，让更新表单在更新完成后消失。</p><p id="50c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，在提交之后，使表单再次具有空白输入区域。分享你的成果！</p></div></div>    
</body>
</html>