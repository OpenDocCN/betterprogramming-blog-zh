<html>
<head>
<title>The Best Way to Use SVG Icons in Your Website</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在你的网站上使用SVG图标的最佳方式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-best-way-to-use-svg-icons-in-your-website-ea8312b8f07a?source=collection_archive---------4-----------------------#2022-07-06">https://betterprogramming.pub/the-best-way-to-use-svg-icons-in-your-website-ea8312b8f07a?source=collection_archive---------4-----------------------#2022-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ac84" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">不断改进以提升您的应用</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ed119473be3c57d7e78ff9e7212afa5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HYWyUtzBcyr-BcnE"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@naaatsnaps?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">娜塔莉·邱晨</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="cbf5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们想在我们的网站上使用SVG图像，我们可以使用image、object，甚至iframe标签、SVG精灵等等。在本文中，我们将探讨三种最流行的选择——它们的优缺点。</p><h1 id="e2d5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">第一个也是最简单的方法</h1><p id="601b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我见过的将SVG嵌入站点的最常见方式是使用<code class="fe mp mq mr ms b">img</code>标签，并将其插入src属性。这种方法的优点是浏览器在第一次下载后缓存这个图像。但是在第一次渲染时，图像会在收到HTML后被下载，这会导致图像闪烁。这种方法的主要缺点是我们不能对SVG内部进行样式化，只能以原始形式显示。</p><p id="7de3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是HTML:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="81b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">SVG技术的最大优势之一是能够通过CSS操作图像样式。这对于那些你肯定想在悬停时高亮显示或动画显示的图标来说尤其重要，因为你不需要使用额外的图像。</p><p id="fcc8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了能够通过CSS对SVG重新着色，您需要将SVG直接插入HTML，即“内联”它们，或者使用一个单独的文件，一个字符精灵。sprite也必须插入到DOM中。没有其他技术允许您从CSS访问SVG。让我们仔细看看这些技术。</p><h1 id="9773" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">内嵌SVG</h1><p id="459a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">这是HTML:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="fc73" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就定制和图像处理而言，将SVG直接嵌入HTML是最简单也是最强大的技术。</p><ol class=""><li id="0ae4" class="mv mw iq ky b kz la lc ld lf mx lj my ln mz lr na nb nc nd bi translated">如果图像很大，整个页面的加载时间会更长。</li><li id="55ff" class="mv mw iq ky b kz ne lc nf lf ng lj nh ln ni lr na nb nc nd bi translated">在js框架中使用这种技术会大大增加js包的大小。</li><li id="47b9" class="mv mw iq ky b kz ne lc nf lf ng lj nh ln ni lr na nb nc nd bi translated">您失去了对加载SVG的控制，它们不再是外部图像。你不能分别存储和缓存它们，忽略在连接不良时加载它们，等等。</li></ol><h1 id="223a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">SVG精灵</h1><p id="9d6f" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">HTML SVG精灵代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="fd2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用sprite中的SVG图像:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="17d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过sprite连接的图像可以通过CSS访问，尽管有一些限制。样式不能“突破”阴影边界，阴影DOM从这个边界开始，由标签描述。</p><p id="3c1c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好消息是级联继续工作。您可以更改填充属性，并在任何属性上使用<code class="fe mp mq mr ms b">currentColor</code>。对于大多数使用图标的情况，这已经足够了:</p><p id="f01c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是HTML:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="d094" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是CSS:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="0709" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这种方法的缺点:</p><ul class=""><li id="97c1" class="mv mw iq ky b kz la lc ld lf mx lj my ln mz lr nj nb nc nd bi translated">在较老的浏览器中(IE9之前)，不支持<code class="fe mp mq mr ms b">use</code>标签。但是有一个插件，你可以在这个链接找到:<a class="ae kv" href="https://github.com/jonathantneal/svg4everybody" rel="noopener ugc nofollow" target="_blank">https://github.com/jonathantneal/svg4everybody</a>。</li><li id="55b3" class="mv mw iq ky b kz ne lc nf lf ng lj nh ln ni lr nj nb nc nd bi translated">sprite可能会变得非常大，但无论如何它比inline或<code class="fe mp mq mr ms b">img</code>标签要好</li></ul><p id="b489" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了提高性能，您可以在头部预加载sprite，以便随时可以使用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><h1 id="8c42" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">额外小费</h1><p id="0687" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">要自动生成SVG精灵，使用<a class="ae kv" href="https://www.npmjs.com/package/svg-sprite-loader" rel="noopener ugc nofollow" target="_blank"> svg-sprite-loader，</a>帮助实现精灵。</p><p id="9fa5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.npmjs.com/package/svg-sprite-loader" rel="noopener ugc nofollow" target="_blank"> svg-sprite-loader </a>的好处:</p><ul class=""><li id="1996" class="mv mw iq ky b kz la lc ld lf mx lj my ln mz lr nj nb nc nd bi translated">最低初始配置。大多数选项都是自动配置的。</li><li id="e3f8" class="mv mw iq ky b kz ne lc nf lf ng lj nh ln ni lr nj nb nc nd bi translated">浏览器的运行时。精灵被自动渲染并注入页面，你只需通过<code class="fe mp mq mr ms b">&lt;svg&gt;&lt;use xlink:href="#id"&gt;&lt;/use&gt;&lt;/svg&gt;</code>来引用图像。</li><li id="817d" class="mv mw iq ky b kz ne lc nf lf ng lj nh ln ni lr nj nb nc nd bi translated">节点/浏览器的同构运行时。可以手动在服务器或浏览器中渲染精灵。</li><li id="a931" class="mv mw iq ky b kz ne lc nf lf ng lj nh ln ni lr nj nb nc nd bi translated">可定制。编写/扩展运行时模块以实现自定义精灵行为。编写/扩展运行时生成器以生成您自己的运行时，例如，用导入的符号配置的React组件。</li><li id="bcf5" class="mv mw iq ky b kz ne lc nf lf ng lj nh ln ni lr nj nb nc nd bi translated">为从css/scss/sass/less/styl/html导入的图像生成外部sprite文件(<a class="ae kv" href="https://css-tricks.com/svg-fragment-identifiers-work/#article-header-id-4" rel="noopener ugc nofollow" target="_blank"> SVG堆叠技术</a>)。</li></ul><p id="cf48" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您需要一个图像时，加载器将其转换为SVG <code class="fe mp mq mr ms b">&lt;symbol&gt;</code>，将其添加到特殊的sprite存储中，并返回一个表示符号的类实例。它包含<code class="fe mp mq mr ms b">id</code>、<code class="fe mp mq mr ms b">viewBox</code>和<code class="fe mp mq mr ms b">content</code>(提取模式下的<code class="fe mp mq mr ms b">id</code>、<code class="fe mp mq mr ms b">viewBox</code>和<code class="fe mp mq mr ms b">url</code>)字段，以后可用于引用精灵图像。例如:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="98f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当浏览器事件<code class="fe mp mq mr ms b">DOMContentLoaded</code>被触发时，精灵会自动渲染并注入<code class="fe mp mq mr ms b">document.body</code>中。如果需要自定义行为(例如，不同的安装目标)，可通过<code class="fe mp mq mr ms b">spriteModule</code>选项覆盖默认子画面模块。</p><h1 id="2e25" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="e6bb" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">谢谢你把文章看完。你可以在<a class="ae kv" href="https://github.com/evgeniykravtsov/svg-sprite-example" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到React的完整代码。总有一些方法可以让好的工具变得更好。小的改进会对你和你的项目有很大的帮助。</p></div></div>    
</body>
</html>