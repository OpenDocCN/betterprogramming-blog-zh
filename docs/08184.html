<html>
<head>
<title>Anomaly Detection With Isolation Forest</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用隔离林进行异常检测</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/anomaly-detection-with-isolation-forest-e41f1f55cc6?source=collection_archive---------2-----------------------#2021-04-05">https://betterprogramming.pub/anomaly-detection-with-isolation-forest-e41f1f55cc6?source=collection_archive---------2-----------------------#2021-04-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f45a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们用scikit应用隔离森林-使用Iris数据集学习</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/da372d48a1a1aace394fe42423b526bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vjgQG8gSi6xT1NRy"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">鲁珀特·布里顿在<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">号航天飞机</a>上的照片</p></figure><p id="70f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">异常检测是对罕见观测值的识别，这些观测值的极值与其余数据点的极值有很大差异。这些项目被称为异常值，需要进行识别，以便与正常项目分开。出现这些异常观察结果有多种原因:数据的可变性、数据收集过程中出现的错误，或者发生了新的罕见情况。最后一个解释并不像你通常预期的那样是错误的。</p><p id="5333" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">管理异常值具有挑战性，因为通常不可能了解问题是否与错误的数据收集或其他原因相关联。根据动机，您需要决定是删除还是保留离群值。如果异常点是由于新事件的发生而产生的，那么去除异常值意味着丢失信息。在后一种情况下，异常值由于其罕见性而包含重要的新信息。</p><p id="0b26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检测欺诈性金融交易、制造环境中的故障机器或恶意网络活动可被视为异常检测的应用。因此，异常检测的目标是建立一个解释数据异常的模型。对这些异常行为的研究可以用于公司的相关决策，如银行和行业。</p><p id="78b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将重点介绍检测异常的<strong class="lb iu">隔离森林</strong>算法。由刘飞东、亭、于2008年提出[1]。这是一种基于树的无监督非参数算法。实际上，它由给定数据集的许多隔离树组成。隔离是该算法的关键词，因为它将异常与其他观察结果隔离开来。该隔离过程通过将区域随机分成更小的片段来分离所有数据点。在解释了该算法的基础后，我将使用Iris数据集展示<a class="ae ky" href="https://scikit-learn.org/stable/" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a>隔离森林的应用。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9aa9" class="ma mb it lw b gy mc md l me mf">Table of Contents</span><span id="0b9a" class="ma mb it lw b gy mg md l me mf">1. <a class="ae ky" href="#3ef4" rel="noopener ugc nofollow">How Isolation Forest works</a><br/>2. <a class="ae ky" href="#6c1c" rel="noopener ugc nofollow">Anomaly Score</a><br/>3. <a class="ae ky" href="#59d9" rel="noopener ugc nofollow">Implementation with sklearn</a></span></pre><h1 id="3ef4" class="mh mb it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">1.隔离森林是如何运作的</h1><p id="1c1d" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">隔离林与随机林非常相似，它是基于给定数据集的决策树集合构建的。但是，也存在一些差异。隔离林将异常识别为隔离树上平均路径长度较短的观测值。每个隔离树都适用一个程序:</p><ol class=""><li id="66f4" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">随机选择<strong class="lb iu">两个特征</strong>。</li><li id="0b15" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu ni nj nk nl bi translated">通过在所选特征的最小值和最大值之间随机选择一个<strong class="lb iu">值</strong>来分割数据点。</li></ol><p id="3e8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">观察值的划分被递归地重复，直到所有的观察值被隔离。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/be79d62c2d13a06a1ce006e4815e381c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d-4xINDQHv0G82o2GUApJQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">隔离程序。作者插图</p></figure><p id="7b41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面我分别展示了<strong class="lb iu">四次拆分</strong>、<strong class="lb iu">、</strong>后的程序示例。在这种情况下，我只有两个特征<code class="fe ns nt nu lw b">x</code>和<code class="fe ns nt nu lw b">y</code>以及四个观察值要检查。第一个条件是区分正常观察和异常观察的条件。如果<code class="fe ns nt nu lw b">x</code>大于120，那么观察值就是异常值，用红色标出。然后，可以基于平均路径长度来区分正常和异常数据点:较短的路径表明我们有异常，而较长的路径表明有正常的观察。</p><h1 id="6c1c" class="mh mb it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">2.异常分数</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/e600186b499b43f5fd2488cf3d338051.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D78QLbcwXesymhquuofnOg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">基于隔离森林的异常检测。作者插图</p></figure><p id="c597" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">隔离林需要一个<strong class="lb iu">异常分数</strong>来了解数据点的异常程度。它的值介于0和1之间。异常分数定义为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/c2aabda162224807755e1bea85137917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GMWS-FkTTYWaRgOhKV_QCQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">s(x，n) = 2 - E(h(x))/c(n)</p></figure><p id="7371" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中<code class="fe ns nt nu lw b">E(h(x))</code>是<code class="fe ns nt nu lw b">h(x)</code>的平均值，是从根节点到外部节点<code class="fe ns nt nu lw b">x</code>的路径长度，而<code class="fe ns nt nu lw b">c(n)</code>是给定<code class="fe ns nt nu lw b">n</code>的<code class="fe ns nt nu lw b">h(x)</code>的平均值，用于归一化<code class="fe ns nt nu lw b">h(x)</code>。有三种可能的情况:</p><ul class=""><li id="c664" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu nx nj nk nl bi translated">当观测值的分值接近1时，路径长度很小，这时数据点很容易被隔离。我们有一个<strong class="lb iu">异常</strong>。</li><li id="01d3" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu nx nj nk nl bi translated">当那个观察的分数小于0.5时，路径长度大，然后我们有一个<strong class="lb iu">正常数据点</strong>。</li><li id="0c85" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu nx nj nk nl bi translated">如果所有观察值的异常值都在0.5左右，那么<strong class="lb iu">整个样本没有异常</strong>。</li></ul><p id="f590" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，隔离林能够通过计算每棵树的异常得分并对隔离树进行平均，以比正常观察更少的步骤隔离异常。事实上，分数越高的离群值路径长度越短。</p><p id="7aa7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注:</strong> scikit-learn的隔离林引入了异常分值的修改。异常值由负的分数表示，而正的分数意味着我们有内标。</p><h1 id="59d9" class="mh mb it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">3.使用sklearn实现</h1><p id="08c1" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">让我们从导入库<code class="fe ns nt nu lw b">plotly.express</code>和<code class="fe ns nt nu lw b">sklearn</code>开始这个例子。特别是，我们需要<code class="fe ns nt nu lw b">sklearn.ensemble</code>中的隔离林库。去图书馆的方法如下:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="58a7" class="ma mb it lw b gy mc md l me mf">import plotly.express as px<br/>from sklearn.datasets import load_iris<br/>from sklearn.ensemble import IsolationForest</span></pre><p id="f593" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦库被导入，我们将使用函数<code class="fe ns nt nu lw b">load_iris</code>读取iris数据集。目标是检查该数据集中的异常。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a8e2" class="ma mb it lw b gy mc md l me mf">data = load_iris(as_frame=True)<br/>X,y = data.data,data.target<br/>df = data.frame<br/>df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/13647a4e07140dba6fed5c4963e1a1f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2idSl_WXT50F2P5pcyrSDg.png"/></div></div></figure><p id="3af1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从每个样本中收集了四个特征:萼片和花瓣的长度和宽度。隔离森林算法将检测这些特征，以检查观察值是否异常。</p><p id="6f5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二步是定义模型。有相关的超参数来实例化隔离林类[2]:</p><ul class=""><li id="60e9" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu nx nj nk nl bi translated"><strong class="lb iu">污染</strong>是数据集中异常的比例。在这种情况下，我们将其固定为等于0.05。</li><li id="bada" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu nx nj nk nl bi translated"><strong class="lb iu"> max_samples </strong>是从特征矩阵<code class="fe ns nt nu lw b">X</code>中考虑的最大样本数。我们会用所有的样本。</li><li id="69bf" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu nx nj nk nl bi translated"><strong class="lb iu"> max_features </strong>是在模型训练期间可以考虑的最大特征数量。我们将使用所有四个特性。</li><li id="56fe" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu nx nj nk nl bi translated"><strong class="lb iu"> n_estimators </strong>是考虑的隔离树的数量。我们将使用100个估值器。</li></ul><p id="98f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码如下:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="34e0" class="ma mb it lw b gy mc md l me mf">iforest = IsolationForest(n_estimators=100, max_samples='auto', <br/>                          contamination=0.05, max_features=4, <br/>                          bootstrap=False, n_jobs=-1, random_state=1)</span></pre><p id="2cc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们定义了模型之后，我们可以根据数据拟合模型并返回<code class="fe ns nt nu lw b">X</code>的标签。使用功能<code class="fe ns nt nu lw b">fit_predict</code>完成该任务。以下代码:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="eefa" class="ma mb it lw b gy mc md l me mf">pred= iforest.fit_predict(X)<br/>df['scores']=iforest.decision_function(X)<br/>df['anomaly_label']=pred</span></pre><p id="e16b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用函数<code class="fe ns nt nu lw b">decision_function</code>找到异常分数，同时我们可以存储在预测中获得的标签。<strong class="lb iu">当标签等于-1时，表示我们有异常。如果标签是1，我们有内联器</strong>。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="bbea" class="ma mb it lw b gy mc md l me mf">df[df.anomaly_label==-1]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/882b45799186fee70049a57e453d1252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MnK5xRGo2Z5IBSTVdH5v6w.png"/></div></div></figure><p id="01f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们通过<code class="fe ns nt nu lw b">anomaly_label</code>等于-1来过滤数据集，我们可以观察到所有的分数在零附近都是负的。在相反的情况下，异常标签等于1，我们找到了所有的正分数。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d790" class="ma mb it lw b gy mc md l me mf">df[df.anomaly_label==1]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/a236ccd904c2d9c5fde28abc8975a374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FH0za9H7OQzGXhe3qr0Oeg.png"/></div></div></figure><p id="029b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了突出异常分数和通过预测获得的标签之间的关系，我们可以显示直方图。在创建直方图之前，我添加了一个指示异常状态的列。代码如下:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a89a" class="ma mb it lw b gy mc md l me mf">df['anomaly']=df['anomaly_label'].apply(lambda x: 'outlier' if x==-1  else 'inlier')</span><span id="22e1" class="ma mb it lw b gy mg md l me mf">fig=px.histogram(df,x='scores',color='anomaly')<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/4eca3f36ff5c173fcd1614a18961b3c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kXwTqf0JXwc8zwpwJvg4xQ.png"/></div></div></figure><p id="c238" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过查看这张交互式图表，可以更明显地看出，分数为负值的点是异常值。你不觉得吗？通过移动鼠标，您还可以看到具有特定异常分数的观察值的数量以及观察值是如何分类的。异常值的另一个有用表示是3D散点图，可查看两个以上的要素。以下是创建散点图的方法:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="095d" class="ma mb it lw b gy mc md l me mf">fig = px.scatter_3d(df,x='petal width (cm)',<br/>                       y='sepal length (cm)',<br/>                       z='sepal width (cm)',<br/>                       color='anomaly')<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/bca218fe6dc0f25e1effc1c22a6cf3de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nvqDxftWGRER5Ehb14Xfyg.png"/></div></div></figure><p id="6d03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从该散点图中，我们可以观察到被视为异常值的红点具有数据集中所考虑的特征的极值。</p><p id="e4ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了更深入地解释模型的输出，我们可以使用Graphviz(一种开源的图形可视化软件)来可视化第五个隔离树。首先，我们创建一个点文件，它是隔离树的Graphviz表示。稍后，我们将点文件转换成png文件来显示图像。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="dbd5" class="ma mb it lw b gy mc md l me mf">from sklearn.tree import export_graphviz<br/>from subprocess import call<br/>from IPython.display import Image</span><span id="b80d" class="ma mb it lw b gy mg md l me mf">estimator = iforest.estimators_[5]<br/>#print(estimator)</span><span id="5ebb" class="ma mb it lw b gy mg md l me mf">export_graphviz(estimator,out_file='tree.dot',max_depth=5,<br/>                feature_names = data.feature_names,<br/>                special_characters=True,rounded=True,precision=2)</span><span id="8f5b" class="ma mb it lw b gy mg md l me mf">call(['dot', '-Tpng', 'tree.dot', '-o', 'tree.png', '-Gdpi=600'])</span><span id="ea41" class="ma mb it lw b gy mg md l me mf">Image(filename = 'tree.png')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/0aa07cbf42f2c4c1217e7974870b081c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y1fYZmQcm7lg1pBJuLUrPA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">隔离树的可视化</p></figure><p id="209d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在隔离树图的每个内部节点中，都有一个分割数据的决策规则。例如，第一个决策规则以花瓣长度为特征，分割点为2.8。异常可以被识别为在隔离树上具有<strong class="lb iu">短平均路径长度</strong>的实例。事实上，我们可以注意到有些节点已经被隔离了。似乎一个很小的花瓣宽度或者一个很大的花瓣宽度就决定了一个物品是否异常。让我们检查数据框中的过滤:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="26f9" class="ma mb it lw b gy mc md l me mf">df[(df['petal width (cm)']&lt;=0.13)|(df['petal width (cm)']&gt;=2.46)]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/ed97d5f5ebe469e1c2cf6d031226ddd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4hUEy4ofVh3fBT3mHRdWbQ.png"/></div></div></figure><p id="a1e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当花瓣宽度非常低时，观察结果并不总是异常的，它可能取决于其他特征的值，而高花瓣宽度意味着总是异常值。这些观察是通过查看数据帧的统计数据完成的:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9820" class="ma mb it lw b gy mc md l me mf">df.describe().T</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/a555fbfeda78261f9719dde7497115e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uZLi5TxWLP0XOUPDlF3m2Q.png"/></div></div></figure><h1 id="afed" class="mh mb it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">最后的想法</h1><p id="fe82" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">恭喜你！我希望本指南能帮助您对异常检测和隔离林的问题有一个大致的了解。我想说明的是，污染超参数在该算法中具有相关的作用。修改的时候模型会返回相同比例的离群值，需要慎重选择。典型值介于0和0.5之间，但也取决于数据集。</p><p id="0044" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还建议您使用plotly.express库来显示图形，就像我在本教程中所做的那样。它们比用seaborn和matplotlib得到的要详细得多。GitHub的代码在这里是<a class="ae ky" href="https://github.com/eugeniaring/Medium-Articles/blob/main/Anomaly%20Detection/iForest.ipynb" rel="noopener ugc nofollow" target="_blank"/>。感谢阅读。祝你有愉快的一天。</p><p id="159a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有兴趣看看其他关于隔离森林的文章，以更好的方式解释结果吗？下面我用SHAP图书馆提供的漂亮的数据可视化来推荐另一个故事。</p><div class="og oh gp gr oi oj"><a href="https://pub.towardsai.net/interpretation-of-isolation-forest-with-shap-d1b6af93ae71" rel="noopener  ugc nofollow" target="_blank"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd iu gy z fp oo fr fs op fu fw is bi translated">用SHAP解读《隔离林》</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">了解异常检测最重要功能的简单方法</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">pub.towardsai.net</p></div></div><div class="os l"><div class="ot l ou ov ow os ox ks oj"/></div></div></a></div><p id="cb15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">参考文献:</strong></p><p id="1d43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[1]刘福亭，丁克明，周振华(2008年12月).隔离森林。在<em class="oy">数据挖掘，2008年。08年的ICDM。第八届IEEE国际会议</em>(第413–422页)。IEEE。</p><p id="be00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2]<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.IsolationForest.html#sklearn.ensemble.IsolationForest" rel="noopener ugc nofollow" target="_blank">https://sci kit-learn . org/stable/modules/generated/sk learn . ensemble . isolation forest . html # sk learn . ensemble . isolation forest</a></p></div><div class="ab cl oz pa hx pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="im in io ip iq"><p id="a068" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你喜欢我的文章吗？ <a class="ae ky" href="https://eugenia-anello.medium.com/membership" rel="noopener"> <strong class="lb iu"> <em class="oy">成为会员</em> </strong> </a> <strong class="lb iu"> <em class="oy">每天无限获取数据科学新帖！这是一种间接的支持我的方式，不会给你带来任何额外的费用。如果您已经是会员，</em> </strong> <a class="ae ky" href="https://eugenia-anello.medium.com/subscribe" rel="noopener"> <strong class="lb iu"> <em class="oy">订阅</em> </strong> </a> <strong class="lb iu"> <em class="oy">每当我发布新的数据科学和python指南时，您都可以收到电子邮件！</em> </strong></p></div></div>    
</body>
</html>