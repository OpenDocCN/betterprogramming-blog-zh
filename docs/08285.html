<html>
<head>
<title>How To Manage iOS 14 Photo Library Permissions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何管理iOS 14照片图库权限</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-manage-ios-14-photo-library-permissions-1ea306656788?source=collection_archive---------11-----------------------#2021-04-13">https://betterprogramming.pub/how-to-manage-ios-14-photo-library-permissions-1ea306656788?source=collection_archive---------11-----------------------#2021-04-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="45cf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">iOS 14引入了有限的照片图库访问。让我们实施它</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f77b70d88138f3b054729da82cb920cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jWgLCmFRXtW8YL43"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@zenking?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">抢王</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="a927" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当苹果在iOS 14中推出有限的照片访问时，一些iOS开发者对此并不高兴。看起来苹果试图让开发者的日子更难过。任何想要支持iOS 14或更高版本的应用程序(旧的或新的)都必须处理这种额外的权限状态。</p><p id="28fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，从用户的角度来看，这是一个非常受欢迎的变化。用户现在可以更好地控制自己照片的隐私，限制应用程序可以访问的照片数量。</p><p id="b580" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个新的权限状态，iOS 14中处理照片库权限的方式与之前的iOS版本有了很大的不同。在这篇文章中，我将向你展示如何正确处理你的iOS应用程序中的每一个权限状态。一旦你全面了解了它的工作原理，你会发现它并没有你想象的那么复杂。</p><p id="1ea4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">注意:这篇文章主要针对你需要建立自己的图像拾取器的情况。如果您不需要自定义图像拾取器，请使用新的</em> <code class="fe lw lx ly lz b"><a class="ae ky" href="https://developer.apple.com/documentation/photokit/phpickerviewcontroller" rel="noopener ugc nofollow" target="_blank"><em class="lv">PHPickerViewController</em></a></code> <em class="lv">(更好的</em> <code class="fe lw lx ly lz b"><a class="ae ky" href="https://developer.apple.com/documentation/uikit/uiimagepickercontroller" rel="noopener ugc nofollow" target="_blank"><em class="lv">UIImagePickerController</em></a></code> <em class="lv">)来管理照片库权限。</em></p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="726f" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">示例应用程序</h1><p id="f451" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">就照片库权限处理而言，我非常喜欢脸书应用程序的做法。因此，让我们尝试创建一个简单的原型应用程序，模仿脸书应用程序的照片库权限工作流。</p><p id="6ba0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于本文的目的是向您展示如何处理每个权限状态，所以我们不会构建一个功能完整的图像拾取器。相反，我们将创建一个POC图像拾取器，显示许可状态、可访问照片的数量和所需的UI元素。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/365c1152e62bc64fb74117408dc72b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2qegGdB2xaP8Kp8e"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">每种授权状态的用户界面</p></figure><p id="1eec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户点击“查看所有照片”按钮时，应用程序会将他们重定向到应用程序的隐私设置，以便他们可以授予应用程序的完整照片库访问权限。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/93e23bde7b4a37bc9daadb56c1d08a5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/0*RpngmU9EKroQ4_ub"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“查看所有照片”按钮</p></figure><p id="0676" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用户点击“管理”按钮时，他们可以选择更多照片或授予对应用程序的完整照片库访问权限。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/0441d0bd353d629788f72ab61f860767.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*21lVQOt-sVXvORcV"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">点击“管理”按钮</p></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="41b0" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">请求照片图库访问权限</h1><p id="1e02" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">在我们开始访问用户的照片库之前，我们必须首先获得许可。前往<code class="fe lw lx ly lz b">info.plist</code>并将<code class="fe lw lx ly lz b">NSPhotoLibraryUsageDescription</code>键添加到plist:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/e02029d43b5716d5da1668fb57111f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZS6VbkPWb-D13JUE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将NSPhotoLibraryUsageDescription添加到info.plist</p></figure><p id="f067" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，导入<code class="fe lw lx ly lz b">PhotosUI</code>模块:</p><pre class="kj kk kl km gt nh lz ni nj aw nk bi"><span id="a988" class="nl mi it lz b gy nm nn l no np">import PhotosUI</span></pre><p id="ee7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并将以下代码插入到我们的自定义图像拾取器<code class="fe lw lx ly lz b">viewDidLoad()</code>方法中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="07cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，请求完成处理程序不在主线程上运行。因此，当根据返回的权限状态更新视图时，我们有责任分派回主线程。</p><p id="bc76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">专业提示:在上面的代码中，我们请求了</em> <code class="fe lw lx ly lz b"><em class="lv">.readWrite</em></code> <em class="lv">访问级别。如果您的app只需要写权限，建议在</em> <code class="fe lw lx ly lz b"><em class="lv">info.plist</em></code> <em class="lv">中添加</em> <code class="fe lw lx ly lz b"><em class="lv">NSPhotoLibraryAddUsageDescription</em></code> <em class="lv">键，使用</em> <code class="fe lw lx ly lz b"><em class="lv">.addOnly</em></code> <em class="lv">权限级别请求授权。</em></p><p id="272c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lw lx ly lz b">showUI(for:)</code>方法中，我们将相应地处理每一个可能的权限状态:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="0730" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是对每种权限状态的简要描述:</p><ul class=""><li id="ac7a" class="ns nt it lb b lc ld lf lg li nu lm nv lq nw lu nx ny nz oa bi translated"><code class="fe lw lx ly lz b">.authorized</code>:app拥有照片库的完全访问权限。</li><li id="b871" class="ns nt it lb b lc ob lf oc li od lm oe lq of lu nx ny nz oa bi translated"><code class="fe lw lx ly lz b">.limited</code>:该应用程序只能有限访问照片库。</li><li id="be29" class="ns nt it lb b lc ob lf oc li od lm oe lq of lu nx ny nz oa bi translated"><code class="fe lw lx ly lz b">.restricted</code>:用户处于限制用户访问照片库的配置描述文件(如家长控制)下。换句话说，用户无权授予照片库访问权限。</li><li id="7a61" class="ns nt it lb b lc ob lf oc li od lm oe lq of lu nx ny nz oa bi translated"><code class="fe lw lx ly lz b">.denied</code>:用户不允许应用程序访问照片库。</li><li id="a2d5" class="ns nt it lb b lc ob lf oc li od lm oe lq of lu nx ny nz oa bi translated"><code class="fe lw lx ly lz b">.notDetermined</code>:用户没有设置app的授权状态。</li></ul><p id="2fa1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在实现的这个阶段，如果我们第一次尝试显示我们的自定义图像拾取器，它将提示用户照片库访问权限。</p><p id="6a48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lw lx ly lz b">requestAuthorization(for:handler:)</code>功能的一个好处是它只在权限状态为<code class="fe lw lx ly lz b">.notDetermined</code>时提示用户。对于任何其他权限状态，该函数将通过返回当前权限状态来触发完成处理程序。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="f135" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">拒绝处理访问</h1><p id="12a6" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">如果用户出于某种原因决定阻止我们的应用程序访问照片库，我们总是可以鼓励他们改变主意。</p><p id="315a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以做的是显示一个“查看所有照片”按钮，将用户重定向到应用程序的隐私设置，以便他们可以授予应用程序的照片库访问权限:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="ffd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过遵循脸书应用程序的工作流程，当点击“查看所有照片”按钮时，我们将显示一条确认消息，告诉用户如何向应用程序授予照片库访问权限:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="daf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谜题的最后一部分是实现<code class="fe lw lx ly lz b">gotoAppPrivacySettings()</code>方法，将用户带到应用程序的隐私设置:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="ca59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们不需要观察照片的隐私设置的变化。这是因为每次用户更新照片的隐私设置，我们的应用程序都会重新启动，开始一个全新的应用程序生命周期。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="a679" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">处理受限访问</h1><h2 id="b486" class="nl mi it bd mj og oh dn mn oi oj dp mr li ok ol mt lm om on mv lq oo op mx oq bi translated">管理选定的照片</h2><p id="d743" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">当我们的应用程序处于受限访问模式时，它只能访问用户选择的某些照片。最重要的是，在每个应用程序的生命周期中，iOS会在应用程序首次尝试访问照片库时自动提示“照片访问受限”警告。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/e93851bdda5db48d5d8c529042ebd352.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*EP1FZYd3xsoChr8m"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“照片访问受限”警报</p></figure><p id="0c7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不是我们想要的！</p><p id="2b0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们希望有一个“管理”按钮，允许用户手动触发有限的照片库选择器，当他们想选择更多的照片。</p><p id="f1a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了防止显示“照片访问受限”警告，将<code class="fe lw lx ly lz b">PHPhotoLibraryPreventAutomaticLimitedAccessAlert</code>键添加到<code class="fe lw lx ly lz b">info.plist</code>，并将其值设置为<code class="fe lw lx ly lz b">YES</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/c158562ceb57605a79a0b224db15846e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lbqiN84ZTENP--i4"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将<code class="fe lw lx ly lz b">PHPhotoLibraryPreventAutomaticLimitedAccessAlert</code>添加到<code class="fe lw lx ly lz b">info.plist</code></p></figure><p id="7972" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之后，显示“管理”按钮和我们可以在屏幕上访问的照片数量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="b30f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当点击“管理”按钮时，我们将显示一个动作表，要求用户选择更多照片或授予对应用程序的完全照片库访问权限:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="2126" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至此，我们已经成功实现了管理选定照片的工作流程。但是我们如何知道已经进行了更改，以便我们可以相应地更新我们的自定义图像拾取器呢？</p><h2 id="ac07" class="nl mi it bd mj og oh dn mn oi oj dp mr li ok ol mt lm om on mv lq oo op mx oq bi translated">观察照片图库更改</h2><p id="3051" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">为了在所选照片改变时得到通知，我们必须遵守<code class="fe lw lx ly lz b">PHPhotoLibraryChangeObserver</code>协议并实现<code class="fe lw lx ly lz b">photoLibraryDidChange(_:)</code>方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="fd0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像请求授权完成处理程序一样，<code class="fe lw lx ly lz b">photoLibraryDidChange(_:)</code>方法不会在主线程上触发。因此，请记住在更新我们的自定义图像拾取器之前调度回主线程。</p><p id="cbb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一致性就绪后，剩下的工作就是将我们的定制图像拾取器注册为照片库更改的观察者。回到<code class="fe lw lx ly lz b">viewDidLoad()</code>方法，添加下面一行代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="2f2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">观察图片库变化就是这样。我们的自定义图像拾取器现在应该能够在每次所选照片改变时显示正确数量的所选照片。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/dfab26700765ab374b452d892a3fa30c.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*gEScXeAK7F9icWPJ"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在用户选择新照片后更新用户界面</p></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="d6ed" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">处理完全访问</h1><p id="f314" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">从我们处理受限访问的方式中可以看出，我们并没有直接展示受限库选择器。相反，我们向用户显示一个动作表，暗示给我们完全的库访问权限。这是因为获得完整的库访问权限是最好的情况，也是最容易处理的。</p><p id="58d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的自定义图像拾取器中，我们基本上可以隐藏所有的行动号召按钮，只显示照片库内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="ba7b" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">处理受限访问</h1><p id="313f" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">如前所述，受限状态表示即使用户也无权访问照片库。这意味着在应用程序端什么也做不了:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq nr l"/></div></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="b76c" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">包扎</h1><p id="64bd" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">你有它！妥善处理每一个授权状态并没有你想象的那么复杂。请随意在GitHub 上获取完整的示例代码<a class="ae ky" href="https://github.com/LeeKahSeng/SwiftSenpai-Photo-Library-Authorization" rel="noopener ugc nofollow" target="_blank">，并亲自尝试一下。</a></p><p id="3b7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢读这篇文章，请随意查看我的其他iOS开发相关的<a class="ae ky" href="https://swiftsenpai.com/tag/ios/" rel="noopener ugc nofollow" target="_blank">文章</a>。</p><p id="7b07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="1d49" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">进一步阅读</h1><ul class=""><li id="8d43" class="ns nt it lb b lc mz lf na li os lm ot lq ou lu nx ny nz oa bi translated"><a class="ae ky" href="https://swiftsenpai.com/development/reduce-uiimage-memory-footprint/" rel="noopener ugc nofollow" target="_blank">使用UIImage时减少内存占用</a></li><li id="909e" class="ns nt it lb b lc ob lf oc li od lm oe lq of lu nx ny nz oa bi translated"><a class="ae ky" href="https://www.andyibanez.com/posts/understanding-limited-photo-library-ios-14/" rel="noopener ugc nofollow" target="_blank">了解iOS 14中有限的照片库</a></li><li id="e4d3" class="ns nt it lb b lc ob lf oc li od lm oe lq of lu nx ny nz oa bi translated"><a class="ae ky" href="https://mackuba.eu/2020/07/07/photo-library-changes-ios-14/" rel="noopener ugc nofollow" target="_blank">iOS 14中的照片库变化</a></li><li id="124b" class="ns nt it lb b lc ob lf oc li od lm oe lq of lu nx ny nz oa bi translated"><a class="ae ky" href="https://nemecek.be/blog/86/re-creating-apple-photos-layout-animations-with-compositional-layout" rel="noopener ugc nofollow" target="_blank">重新创建Apple Photos布局&amp;动画和合成布局</a></li></ul></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="7d2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">本文原载于2021年4月13日https://swiftsenpai.com</em><a class="ae ky" href="https://swiftsenpai.com/development/photo-library-permission/" rel="noopener ugc nofollow" target="_blank"><em class="lv"/></a><em class="lv">。</em></p></div></div>    
</body>
</html>