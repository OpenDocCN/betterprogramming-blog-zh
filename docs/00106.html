<html>
<head>
<title>How to Integrate the iOS Facebook SDK in Swift 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Swift 5中集成iOS脸书SDK</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-integrate-the-ios-facebook-sdk-in-swift-4-9c0192ce7dbf?source=collection_archive---------1-----------------------#2018-02-25">https://betterprogramming.pub/how-to-integrate-the-ios-facebook-sdk-in-swift-4-9c0192ce7dbf?source=collection_archive---------1-----------------------#2018-02-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="468c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在大多数iOS项目中，iOS脸书SDK是一个有用的库，允许您将您的iOS应用程序与脸书紧密集成</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a8b57d89a7df1bfa0657e228449c7d81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SYe8Q9PajhrCDeL7UR5uGw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">iOS版脸书应用</p></figure><p id="f39b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">集成iOS脸书SDK(仅举几个例子)将使你的应用程序能够访问用户资料，提供脸书登录，并在无处不在的社交网络上共享内容。</p><p id="2c59" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有些人可能会质疑这篇文章的必要性，但我想在最近的一个项目中为iOS实现脸书后写下这篇文章。在这样做的时候，我遇到了一些其他人也可能阻碍其他人的障碍。脸书在将他们的SDK集成到Objective-C中时提供了一些优秀的文档，不幸的是，Swift却不能这么说(在撰写本文时)。</p><p id="cbc4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">希望下面的步骤能给你提供一套比脸书目前提供的更清晰的说明。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="fbeb" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤1:设置你的脸书应用</h1><p id="0521" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">首先，你需要打开<a class="ae my" href="https://developers.facebook.com/apps" rel="noopener ugc nofollow" target="_blank">脸书应用仪表板</a>，创建一个新应用或导航到现有应用。</p><p id="c92a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后你需要选择你的应用程序的设置，这个例子中的基本设置就足够了。一旦你在这里，你将能够添加一个iOS平台到你的脸书应用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/43b1fd7d4d8b5309a46d25eb58bf4639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JUr3iVWI3NfsAooEhOge8A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将iOS平台添加到应用程序设置后的脸书应用程序仪表盘</p></figure><p id="64e5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此时，您需要向脸书提供您的应用的捆绑包标识符。当您第一次在Xcode中设置您的项目时，您已经设置了此选项。您可以在Info.plist中找到它，它类似于下面的表单:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="bfea" class="nf mc it nb b gy ng nh l ni nj">com.yourcompany.YourProject</span></pre><p id="0a05" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">确保您已将其添加到脸书应用程序控制面板上的捆绑包ID字段，并保存您的应用程序。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="5d40" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤2:使用CocoaPods安装iOS脸书SDK</h1><p id="69a4" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">有几种方法可以安装iOS脸书SDK，但为了方便起见，我只介绍CocoaPods。如果你刚接触椰子，你可以在这里找到更多的<a class="ae my" href="https://cocoapods.org" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="1b43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">CocoaPods是一个依赖管理器，让你以一种简单有效的方式安装iOS脸书SDK。它还会确保你的应用运行的是最新版本的iOS脸书SDK，所以你不必担心。</p><p id="9e00" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将以下内容添加到您的Podfile中:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="36fa" class="nf mc it nb b gy ng nh l ni nj">use_frameworks!<br/><br/>pod 'FacebookCore'<br/>pod 'FacebookLogin'<br/>pod 'FacebookShare'</span></pre><p id="cb9d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从项目根目录中的命令行运行:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="765d" class="nf mc it nb b gy ng nh l ni nj">pod install</span></pre><p id="15a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此过程完成后，您的项目将包含所有必要的文件和设置，以继续将您的项目与iOS脸书SDK集成。</p><p id="25a5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另外，如果你想升级到iOS脸书SDK的最新版本，你可以使用下面的命令:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="ef52" class="nf mc it nb b gy ng nh l ni nj">pod update</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="b27b" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">步骤3:配置您的Info.plist</h1><p id="796a" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">你需要导航到你的应用程序的<code class="fe nk nl nm nb b">Info.plist</code>文件，并将其作为源代码查看。如果右键单击文件并选择打开为&gt;源代码。<code class="fe nk nl nm nb b">Info.plist</code>文件将显示为XML，您需要在最后的<code class="fe nk nl nm nb b">&lt;/dict&gt;</code>标签前添加以下代码片段。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="95cb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，你需要在脸书应用仪表板上用你的应用ID和应用名称替换<code class="fe nk nl nm nb b">{your-app-id}</code>和<code class="fe nk nl nm nb b">{your-app-name}</code>。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="dd88" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">第四步:连接你的应用代理</h1><p id="ed94" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">首先，您需要将脸书SDK导入到您的AppDelegate中:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="df7a" class="nf mc it nb b gy ng nh l ni nj">import FBSDKCoreKit</span></pre><p id="9116" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe nk nl nm nb b">didFinishLaunchingWithOptions</code>方法启动iOS脸书SDK，代码如下:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="1e68" class="nf mc it nb b gy ng nh l ni nj">ApplicationDelegate.shared.application(application, didFinishLaunchingWithOptions: launchOptions)</span></pre><p id="fb8e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过向应用的委托添加以下方法，确保应用可以处理脸书授权URL:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="a557" class="nf mc it bd md np nq dn mh nr ns dp ml lh nt nu mn ll nv nw mp lp nx ny mr nz bi translated">步骤5(推荐):跟踪应用程序事件</h2><p id="4312" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">最后一步是让脸书知道用户何时启动了你的应用。如果你计划通过脸书为你的应用做广告，或者如果你想使用他们的分析来跟踪你的应用的指标，这是很有用的。</p><p id="24aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用应用程序的委托将下面一行添加到您的<code class="fe nk nl nm nb b">applicationDidBecomeActive</code>方法中:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="59d0" class="nf mc it nb b gy ng nh l ni nj">AppEventsLogger.activate(application)</span></pre><p id="44b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这应该涵盖了在Swift 5中设置您的应用程序和iOS脸书SDK的初始集成所需的一切。你现在可以利用脸书软件开发工具包的所有特性了。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="3ce8" class="nf mc it bd md np nq dn mh nr ns dp ml lh nt nu mn ll nv nw mp lp nx ny mr nz bi translated">如果这篇文章对你有帮助，请帮助我，并点击下面的按钮👏。</h2><p id="6b49" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">如果你需要更多的帮助，想要联系我或者你只是对我正在做的事情感兴趣，你可以在Twitter上关注。</p></div></div>    
</body>
</html>