<html>
<head>
<title>How To Perform Exploratory Data Analysis With Marvel vs. DC Comics Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何对漫威和DC漫画数据进行探索性数据分析</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-perform-exploratory-data-analysis-with-marvel-vs-dc-comics-data-ec75f457ac60?source=collection_archive---------12-----------------------#2021-04-02">https://betterprogramming.pub/how-to-perform-exploratory-data-analysis-with-marvel-vs-dc-comics-data-ec75f457ac60?source=collection_archive---------12-----------------------#2021-04-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="03e1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python查找您最喜欢的超级英雄角色何时出现</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/62a9c8c83853e06ff52fb54bf9240bbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mp1t4_fTjdDvgjMy"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">埃里克·麦克林在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="eb89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">美国工程师/统计学家爱德华兹·戴明有一句名言:</p><blockquote class="lv lw lx"><p id="5ff1" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">“没有数据，你只是另一个有观点的人。”</p></blockquote><p id="a3e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用新数据集时，首先要做的一件事就是执行探索性数据分析(EDA)。EDA的首要目标是帮助数据科学家理解数据包含什么，以及数据能够回答什么类型的问题。注意:EDA并不试图回答任何一个问题。这是你腰带上的调查工具。在本文中，我们将对漫威和DC漫画数据使用各种EDA技术。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="ceec" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">1.入门:预处理数据</h1><p id="b051" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在<a class="ae ky" href="https://www.kaggle.com/fivethirtyeight/fivethirtyeight-comic-characters-dataset" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上可以获得漫威与DCdata的对比。它由FiveThirtyEight编译，拥有CCO: public-domain许可证。数据是从两个公开的粉丝网站复制的。数据集下载有三个文件:两个CSV文件和一个<code class="fe ng nh ni nj b">readme.md</code>文件。</p><p id="d4b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">人们通常从数据集开始数据科学，这些数据集已经过清理和微调，用于深度学习或机器学习。然而，真实世界的数据可能是混乱和不一致的。我们在这里使用的数据集并不一致。他们有不同的日期格式。他们还有99%是空的列(还有其他问题)。清理数据的能力对于任何数据科学家来说都是一项有价值的技能，因此这是我们在第一个示例中重点关注的内容。下面的第2部分和第3部分将着重分析。我们将对数据执行的一些操作包括:</p><ul class=""><li id="f055" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">从现有列中的数据创建新列</li><li id="3b05" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">删除多列</li><li id="d06d" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">删除一列或多列为空值的行</li><li id="7610" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">基于条件更改数据帧中的字符串值</li></ul><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="3102" class="oc mk it nj b gy od oe l of og">import pandas as pd</span><span id="28aa" class="oc mk it nj b gy oh oe l of og">df_marvel = pd.read_csv('marvel-wikia-data.csv')</span><span id="a7f5" class="oc mk it nj b gy oh oe l of og">df_dc = pd.read_csv('dc-wikia-data.csv')</span></pre><p id="6e65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有两个数据框架，一个是漫威的数据(<code class="fe ng nh ni nj b">df_marvel</code>)，另一个是DC的数据(<code class="fe ng nh ni nj b">df_dc</code>)。熊猫数据框架是一个二维数据结构——你可以把它想象成一个Excel电子表格或数据库表。它有行和列，每一列是一个特征，在这种情况下，每一行代表一个特定的漫画人物(超级英雄或超级恶棍)。</p><p id="df62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ng nh ni nj b">head</code>和<code class="fe ng nh ni nj b">tail</code>功能显示了一些数据:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="ce3d" class="oc mk it nj b gy od oe l of og">df_marvel.head(2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/89db43a9c6bde5c773d068e71df437c7.png" data-original-src="https://miro.medium.com/v2/format:webp/1*J4CVf2KKjdXyv7QMIbs5mQ.png"/></div></figure><p id="91ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个数据帧的大小:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="0c2a" class="oc mk it nj b gy od oe l of og">print(df_marvel.shape)<br/>print(df_dc.shape)</span><span id="8afa" class="oc mk it nj b gy oh oe l of og">(16376, 13)<br/>(6896, 13)</span></pre><p id="3ea8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">漫威宇宙的人物数量似乎是DC宇宙的两倍多，至少在这个数据集中是这样的。</p><h2 id="1df9" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">使用列</h2><p id="063a" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">寻找丢失的数据:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="674f" class="oc mk it nj b gy od oe l of og">df_marvel.isna().sum()</span><span id="da95" class="oc mk it nj b gy oh oe l of og">page_id                 0<br/>name                    0<br/>urlslug                 0<br/>ID                   3770<br/>ALIGN                2812<br/>EYE                  9767<br/>HAIR                 4264<br/>SEX                   854<br/>GSM                 16286<br/>ALIVE                   3<br/>APPEARANCES          1096<br/>FIRST APPEARANCE      815<br/>Year                  815<br/>dtype: int64</span><span id="d830" class="oc mk it nj b gy oh oe l of og">df_dc.isna().sum()</span><span id="5428" class="oc mk it nj b gy oh oe l of og">page_id                0<br/>name                   0<br/>urlslug                0<br/>ID                  2013<br/>ALIGN                601<br/>EYE                 3628<br/>HAIR                2274<br/>SEX                  125<br/>GSM                 6832<br/>ALIVE                  3<br/>APPEARANCES          355<br/>FIRST APPEARANCE      69<br/>YEAR                  69<br/>dtype: int64</span></pre><p id="a507" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在两个数据帧中，<code class="fe ng nh ni nj b">GSM</code>列几乎是空的。对我们的分析不会有太大贡献，就不要说了。我们也可以删除<code class="fe ng nh ni nj b">page_id</code>和<code class="fe ng nh ni nj b">urlslug</code>列，因为这些列不包含我们感兴趣的数据。另外，<code class="fe ng nh ni nj b">Year</code>和<code class="fe ng nh ni nj b">FIRST APPEARANCE</code>列本质上是相同的数据，所以我们可以删除<code class="fe ng nh ni nj b">Year</code>。注意，漫威数据帧和DC数据帧对于该列有不同的名称:<code class="fe ng nh ni nj b">Year</code>和<code class="fe ng nh ni nj b">YEAR</code>。</p><p id="72d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要删除多个列，请执行下列操作:创建一个包含列名的列表。然后，使用DataFrame <code class="fe ng nh ni nj b">drop</code>功能。</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="c141" class="oc mk it nj b gy od oe l of og">cols = ['page_id','urlslug', 'GSM', 'Year']<br/>df_marvel = df_marvel.drop(cols,axis=1)</span><span id="95dd" class="oc mk it nj b gy oh oe l of og">cols = ['page_id','urlslug', 'GSM', 'YEAR']<br/>df_dc = df_dc.drop(cols,axis=1)</span><span id="0fd7" class="oc mk it nj b gy oh oe l of og">df_marvel.head(2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/635d7c9543409172c81444df6ceec16e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*wA2eRb5-_-h9pUr7t0FkzQ.png"/></div></figure><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="2ecb" class="oc mk it nj b gy od oe l of og">df_dc.head(2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/c6652a20d112e208aa0997578bd6b95f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*YpU7TWgXWM6yLuO7i2gkBw.png"/></div></figure><p id="8ad6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意漫威数据帧中<code class="fe ng nh ni nj b">FIRST APPEARANCE</code>的数据格式不同于DC数据帧。这些不一致在真实世界的数据中很常见。在这种情况下，最好的选择可能是将<code class="fe ng nh ni nj b">FIRST APPEARANCE</code>列拆分成<code class="fe ng nh ni nj b">MONTH</code>和<code class="fe ng nh ni nj b">YEAR</code>列。这对分析阶段很有用。</p><p id="4030" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可能想要调查角色第一次出现的月份/季节，以及这些年来发生了怎样的变化。比如年初有新角色推出吗？我们可以使用<code class="fe ng nh ni nj b">FIRST APPEARANCE</code>列中的数据创建两个新列:<code class="fe ng nh ni nj b">month</code>和<code class="fe ng nh ni nj b">year</code>。</p><p id="f123" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还想删除<code class="fe ng nh ni nj b">FIRST APPEARANCE</code>为空的行:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="a5f6" class="oc mk it nj b gy od oe l of og">df_marvel = df_marvel.dropna(subset=['FIRST APPEARANCE'])</span><span id="0710" class="oc mk it nj b gy oh oe l of og">df_dc = df_dc.dropna(subset=['FIRST APPEARANCE'])</span><span id="7d8f" class="oc mk it nj b gy oh oe l of og">df_marvel[['MONTH','YEAR']] = df_marvel['FIRST APPEARANCE'].str.split('-', expand=True)</span><span id="a768" class="oc mk it nj b gy oh oe l of og">df_dc[['YEAR','MONTH']] = df_dc['FIRST APPEARANCE'].str.split(', ', expand=True)</span><span id="ffe0" class="oc mk it nj b gy oh oe l of og">df_marvel.head(2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/febc1bad32804aa7db8c586612dd7380.png" data-original-src="https://miro.medium.com/v2/format:webp/1*MjeI4FO_s3ZcaeLo4rBeMA.png"/></div></figure><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="1908" class="oc mk it nj b gy od oe l of og">df_dc.head(2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/07d8127c75620cfce3a133577f28224e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*nENH6WSGsJXGjO6WQAU9vQ.png"/></div></figure><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="02a8" class="oc mk it nj b gy od oe l of og">df_marvel['YEAR'].value_counts().head(3)</span><span id="21ab" class="oc mk it nj b gy oh oe l of og">93    554<br/>94    485<br/>92    455<br/>Name: YEAR, dtype: int64</span></pre><p id="b06a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">漫威数据中的年份形式为:<code class="fe ng nh ni nj b">64</code>、<code class="fe ng nh ni nj b">06</code>等。我们希望它们是<code class="fe ng nh ni nj b">1964</code>、<code class="fe ng nh ni nj b">2006</code>等形式。</p><p id="d60c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于漫威漫画在20世纪20年代之前并不存在，我们将把<code class="fe ng nh ni nj b">19</code>添加到数字大于20的日期中(否则，将<code class="fe ng nh ni nj b">20</code>添加到日期字符串中):</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="485e" class="oc mk it nj b gy od oe l of og">df_marvel['YEAR'] = df_marvel.YEAR.apply(lambda x: '19' + x if int(x) &gt; 20  else '20' + x)</span><span id="8ef9" class="oc mk it nj b gy oh oe l of og">df_marvel['YEAR'].value_counts().head(3)</span><span id="7338" class="oc mk it nj b gy oh oe l of og">1993    554<br/>1994    485<br/>1992    455<br/>Name: YEAR, dtype: int64</span></pre><p id="4be5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后掉柱<code class="fe ng nh ni nj b">FIRST APPEARANCE</code>:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="03d4" class="oc mk it nj b gy od oe l of og">df_marvel = df_marvel.drop('FIRST APPEARANCE',axis=1)</span><span id="79bc" class="oc mk it nj b gy oh oe l of og">df_dc = df_dc.drop('FIRST APPEARANCE',axis=1)</span><span id="a947" class="oc mk it nj b gy oh oe l of og">df_marvel.head(3)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/3f1bf1aea5593125e7a8d118ee95f614.png" data-original-src="https://miro.medium.com/v2/format:webp/1*vdYm3mxaHUIukuqmo23bTg.png"/></div></figure><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="961f" class="oc mk it nj b gy od oe l of og">df_dc.head(3)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/348c80f1fffef0b81a26688e8993f403.png" data-original-src="https://miro.medium.com/v2/format:webp/1*CcewJqvPbew5dNt5ng5eGA.png"/></div></figure><p id="3b34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以将<code class="fe ng nh ni nj b">df_dc MONTH</code>列更改为与<code class="fe ng nh ni nj b">df_marvel</code>相同的格式。</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="3cff" class="oc mk it nj b gy od oe l of og">df_dc["MONTH"] = df_dc["MONTH"].replace({"January": "Jan", "February": "Feb", "March": "Mar", "April": "Apr", "June": "Jun", "July": "Jul", "August": "Aug", "September": "Sep", "October": "Oct", "November": "Nov", "December": "Dec"})</span></pre><p id="fb5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后反转<code class="fe ng nh ni nj b">df_dc</code>中最后两列的顺序。</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="f4ee" class="oc mk it nj b gy od oe l of og">cols = ['name', 'ID', 'ALIGN', 'EYE', 'HAIR', 'SEX', 'ALIVE', 'APPEARANCES', 'MONTH', 'YEAR']<br/>df_dc = df_dc[cols]</span><span id="724b" class="oc mk it nj b gy oh oe l of og">df_marvel.head(1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/a473c2016b67aafb98b07a641eb1cefd.png" data-original-src="https://miro.medium.com/v2/format:webp/1*PF7bR8ZhFdu3hfOhC0KDeQ.png"/></div></figure><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="c836" class="oc mk it nj b gy od oe l of og">df_dc.head(1)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/ae84a4fe5531f7b1a5b435506ba70d88.png" data-original-src="https://miro.medium.com/v2/format:webp/1*titQ4sM-CPrt5IA8q8Zi-g.png"/></div></figure><p id="a77b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">两个数据框架的格式和列顺序现在是一致的。我们可以对数据做一些最终的表面调整:</p><h2 id="7d17" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">调整列中的数据</h2><p id="8f46" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">我们可以简化某些列中的值—例如，对于性别，所有值都包含术语<code class="fe ng nh ni nj b">Characters</code>。这并不是使值不同所必需的。这一步不是必需的，但是对于一些可视化来说，它有助于保持标签的简短——它使得可视化更加清晰易读。</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="733e" class="oc mk it nj b gy od oe l of og">df_marvel["SEX"] = df_marvel["SEX"].replace({"Male Characters": "Male", "Female Characters": "Female", "Agender Characters": "Agender", "Genderless Characters": "Genderless", "Genderfluid Characters": "Genderfluid", "Transgender Characters": "Transgender"})</span><span id="f33f" class="oc mk it nj b gy oh oe l of og">df_dc["SEX"] = df_dc["SEX"].replace({"Male Characters": "Male", "Female Characters": "Female", "Agender Characters": "Agender", "Genderless Characters": "Genderless", "Genderfluid Characters": "Genderfluid", "Transgender Characters": "Transgender"})</span></pre><p id="b947" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于只有两个值的<code class="fe ng nh ni nj b">Alive</code>列，我们可以使用:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="e302" class="oc mk it nj b gy od oe l of og">df_marvel['ALIVE'] = ['Living' if x == 'Living Characters' else 'Deceased' for x in df_marvel['ALIVE']]</span><span id="8c3f" class="oc mk it nj b gy oh oe l of og">df_dc['ALIVE'] = ['Living' if x == 'Living Characters' else 'Deceased' for x in df_dc['ALIVE']]</span></pre><p id="4368" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用<code class="fe ng nh ni nj b">ID</code>和<code class="fe ng nh ni nj b">ALIGN</code>列继续这个过程:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="a396" class="oc mk it nj b gy od oe l of og">df_marvel["ID"] = df_marvel["ID"].replace({"Secret Identity": "Secret", "Public Identity": "Public", "No Dual Identity": "No Dual", "Known to Authorities Identity": "Known to Authorities", "Identity Unknown": "Unknown"})</span><span id="5e5e" class="oc mk it nj b gy oh oe l of og">df_dc["ID"] = df_dc["ID"].replace({"Secret Identity": "Secret", "Public Identity": "Public", "No Dual Identity": "No Dual", "Known to Authorities Identity": "Known to Authorities", "Identity Unknown": "Unknown"})</span><span id="1386" class="oc mk it nj b gy oh oe l of og">df_marvel["ALIGN"] = df_marvel["ALIGN"].replace({"Bad Characters": "Bad", "Good Characters": "Good", "Neutral Characters": "Neutral"})</span><span id="8311" class="oc mk it nj b gy oh oe l of og">df_dc["ALIGN"] = df_dc["ALIGN"].replace({"Bad Characters": "Bad", "Good Characters": "Good", "Neutral Characters": "Neutral"})</span></pre><p id="3903" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于眼睛和头发，我们将保持数据不变:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="c50a" class="oc mk it nj b gy od oe l of og">df_marvel.head(2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/6265833a12b8df3a632601c1e4f43332.png" data-original-src="https://miro.medium.com/v2/format:webp/1*GB---3b37zeJcsCFlGr5kQ.png"/></div></figure><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="ee90" class="oc mk it nj b gy od oe l of og">df_dc.head(2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/73f93e7cab57e955681e83262926af42.png" data-original-src="https://miro.medium.com/v2/format:webp/1*SPOM8LJdCfML5UAlVKu9xQ.png"/></div></figure><p id="2783" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有10列有趣的数据和简化的标签。两个数据帧的数据格式是一致的。存在一些缺失值，但是对于真实世界的数据，这通常是正确的。</p><p id="8d95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在接下来的两个例子中，我们开始查看数据。分析数据的过程有时被称为探索性数据分析(EDA)或用数据讲述故事。在这两种情况下，我们都试图将原始数据转化为信息。在商业环境中，EDA的目标是为决策者提供做出正确决策所需的信息。在公司中，数据科学家可能被分配到一个团队，以提供对可用数据的洞察。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="e90d" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">2.用数据讲故事</h1><p id="4e4b" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">当EDA试图回答特定的问题或用数据讲述故事时，它是最有效的。这通常涉及某种形式的数据可视化。</p><h2 id="e540" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">超级英雄与超级恶棍/简单与复杂的数据可视化</h2><p id="d5b4" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">就英雄和反派的比例而言，漫威和DC有什么不同吗？</p><p id="e8ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们有一个具体的问题，可能证明答案的最简单的方法是用一个简单的图表。简单的条形图非常强大——直观地显示了数据在不同类别中的分布。条形图不需要太多的书面解释，很多人都很熟悉。在商业领域，数据科学家可能会向没有技术或数学背景的经理和决策者展示他们的发现。因此，使用熟悉而简单的数据可视化往往比复杂或晦涩的统计可视化更有效。</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="071b" class="oc mk it nj b gy od oe l of og">import matplotlib.pyplot as plt</span><span id="28e0" class="oc mk it nj b gy oh oe l of og">plt.subplot(1, 2, 1) #this line simply enables both graphs to appear in the same cell<br/>df_marvel['ALIGN'].value_counts(normalize=True).plot(kind='bar',title='Marvel Character Alignment')<br/>plt.subplot(1, 2, 2)<br/>df_dc['ALIGN'].value_counts(normalize=True).plot(kind='bar',title='DC Character Alignment',color='red')<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/311444d3fa34b55ff3e1b503b5f066f6.png" data-original-src="https://miro.medium.com/v2/format:webp/1*2wsed7ggad0IotgpU3fp3g.png"/></div></figure><p id="41fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我们问题的答案是:是的，有区别。漫威似乎更喜欢反派而不是英雄，而DC则更加平衡。另一个区别是DC更具二元性——中性角色更少。</p><h2 id="2d64" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">漫威的恶棍有时是秃头，而DC从来没有秃头的恶棍</h2><p id="51fa" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在数据帧中，<code class="fe ng nh ni nj b">HAIR</code>列的值有时是<code class="fe ng nh ni nj b">No Hair</code>，有时是<code class="fe ng nh ni nj b">Bald</code>。我认为这些是等价的，所以我将它们合并成一个值:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="11c3" class="oc mk it nj b gy od oe l of og">df_marvel['HAIR'] = df_marvel['HAIR'].replace({"No Hair": "Bald"})<br/>df_dc['HAIR'] = df_dc['HAIR'].replace({"No Hair": "Bald"})</span></pre><p id="6dbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以通过选择满足一个或多个条件的行来创建数据帧的子集:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="3ba7" class="oc mk it nj b gy od oe l of og">df_marvel_villain = df_marvel[df_marvel['ALIGN']=='Bad']</span><span id="76b6" class="oc mk it nj b gy oh oe l of og">df_dc_villain = df_dc[df_dc['ALIGN']=='Bad']</span></pre><p id="7cb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后绘制数据，以更好地了解漫威和DC恶棍的头发颜色有何不同:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="20a5" class="oc mk it nj b gy od oe l of og">fig, ax = plt.subplots(1, 2)<br/>plt.subplot(1, 2, 1)<br/>df_marvel_villain['HAIR'].value_counts(normalize=True).head(5).plot(kind='bar',title="Marvel Villains' hair")<br/>plt.subplot(1, 2, 2)<br/>df_dc_villain['HAIR'].value_counts(normalize=True).head(5).plot(kind='bar',title="DC Villains' hair",color='red')<br/>fig.tight_layout()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/1e85efe11db152742a6988c039e6e040.png" data-original-src="https://miro.medium.com/v2/format:webp/1*JSeLCpotomVnvLhPU3511A.png"/></div></figure><h2 id="d86e" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">DC不喜欢光头角色</h2><p id="e888" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">似乎漫威喜欢让他们的反派人物秃顶，而DC不喜欢。事实上，DC没有任何秃头人物、英雄或恶棍:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="908c" class="oc mk it nj b gy od oe l of og">df_dc['HAIR'].value_counts(normalize=True).plot(kind='barh',title="DC Characters' Hair");</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/696dbb5ba17b63481e1d2a10f8d0b44b.png" data-original-src="https://miro.medium.com/v2/format:webp/1*bP8yI9aGIQPrM6yQm2IZMA.png"/></div></figure><p id="5a53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有秃顶的漫威英雄吗？</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="6ab5" class="oc mk it nj b gy od oe l of og">df_marvel_hero = df_marvel[df_marvel['ALIGN']=='Good']</span><span id="9809" class="oc mk it nj b gy oh oe l of og">df_marvel_hero['HAIR'].value_counts(normalize=True).plot(kind='barh',title="Marvel Characters' Hair");</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/e1e21190a64affb02f0e9adfc838d904.png" data-original-src="https://miro.medium.com/v2/format:webp/1*BCN8c3KslNt-LuiilpNjhQ.png"/></div></figure><p id="7868" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大约9%的英雄是秃头，而大约20%的反派是秃头，所以在漫威的例子中，如果一个角色是秃头，他们更可能是反派而不是英雄。</p><h2 id="fbb9" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">在漫威和DC的世界中，英雄的眼睛通常是蓝色或棕色的，而反派的眼睛颜色则更加多样</h2><p id="bda5" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">对于眼睛颜色，漫威和DC的前五种颜色相同，但顺序不同。反派和英雄的眼睛颜色分布也有细微的差别，这种差别对于DC和漫威来说是一样的。</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="c640" class="oc mk it nj b gy od oe l of og">df_dc_hero = df_dc[df_dc['ALIGN']=='Good']</span><span id="e3c7" class="oc mk it nj b gy oh oe l of og">fig, ax = plt.subplots(2, 2)<br/>plt.subplot(2, 2, 1)<br/>df_marvel_villain['EYE'].value_counts(normalize=True).head(5).plot(kind='bar',title="Marvel Villains' Eyes")<br/>plt.subplot(2, 2, 2)<br/>df_dc_villain['EYE'].value_counts(normalize=True).head(5).plot(kind='bar',title="DC Villains' Eyes",color='red')<br/>plt.subplot(2, 2, 3)<br/>df_marvel_hero['EYE'].value_counts(normalize=True).head(5).plot(kind='bar',title="Marvel Heroes' Eyes")<br/>plt.subplot(2, 2, 4)<br/>df_dc_hero['EYE'].value_counts(normalize=True).head(5).plot(kind='bar',title="DC Heroes' Eyes",color='red')<br/>fig.tight_layout()<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/bf7be7449ce80888056ebdbb94f9a9fd.png" data-original-src="https://miro.medium.com/v2/format:webp/1*yoaRoE3Po8bGD0oWK3X-MA.png"/></div></figure><p id="80c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的区别较小，但有两件事很突出:在漫威宇宙中，白眼睛更有可能属于一个英雄。同样在《漫威》和《DC》中，英雄的眼睛颜色比反派少一些。在这两种情况下，英雄的眼睛通常倾向于蓝色或棕色。是的，有一些变化，但反派表现出更多的变化——蓝色和棕色不太占优势。这是一个很好的例子，说明简单的数据可视化有助于揭示数据中的信息。</p><h2 id="0cfb" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">秘密身份？</h2><p id="de42" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">DC comics有一个简单的ID方法——大约一半的角色有公开身份，不到一半的角色有秘密身份(例如，戴面具的角色，如蝙蝠侠)。漫威漫画中人物的身份稍微微妙一些。他们有秘密和公开的身份，但他们也有相当数量的角色被归类为双重身份。这个类似乎适用于只有日常名字的角色——他们没有特别的昵称。</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="10a7" class="oc mk it nj b gy od oe l of og">plt.subplot(1, 2, 1)<br/>df_marvel['ID'].value_counts(normalize=True).plot(kind='bar',title='Marvel Character Alignment')<br/>plt.subplot(1, 2, 2)<br/>df_dc['ID'].value_counts(normalize=True).plot(kind='bar',title='DC Character Alignment',color='red')<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/d7f65a43945cf8542dd441b6c9ec0e57.png" data-original-src="https://miro.medium.com/v2/format:webp/1*teWrRST2gcE5VTiT1twWGA.png"/></div></figure><p id="a5f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在所有这些例子中，简单的条形图有助于讲述故事。条形图的常见替代方法包括:</p><ul class=""><li id="1d4c" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">ie图表 s</li><li id="4855" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">D <a class="ae ky" href="https://en.wikipedia.org/wiki/Pie_chart#Doughnut_chart" rel="noopener ugc nofollow" target="_blank"> onut图表</a> s</li><li id="d8cc" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">图表</li></ul><p id="75c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第三部分中，我们将看看漫画随着时间的推移发生的一些变化。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="1348" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">3.漫画的演变:随时间的差异</h1><p id="617c" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">作为最后一个例子，我们将分析漫威和DC的角色是如何随着时间的推移而变化的:</p><h2 id="92c5" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">新角色在一年中的什么时候首次出现？</h2><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="dd08" class="oc mk it nj b gy od oe l of og">fig,ax = plt.subplots(1, 2)<br/>plt.subplot(1, 2, 1)<br/>df_marvel['MONTH'].value_counts().plot(kind='barh',title='Marvel Character First Appearance')<br/>plt.subplot(1, 2, 2)<br/>df_dc['MONTH'].value_counts().plot(kind='barh',title='DC Character First Appearance',color='red');<br/>fig.tight_layout()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/32303537e1b5b1889e6ca3a04091e22a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Dj_j3cnpbCqvQEDr5cb0Fg.png"/></div></figure><p id="cdcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一些不同，但故事并不清楚。我们可以尝试创建一个名为<code class="fe ng nh ni nj b">season</code>的新列，并将这些数据压缩到更少的类别中——这可能会使事情更清楚。为此，我们将创建一个函数，并将其应用于两个数据帧:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="8530" class="oc mk it nj b gy od oe l of og">def get_season(row):<br/>    if row['MONTH'] in ['Jan','Feb','Mar']:<br/>        val = 'Q1'<br/>    elif row['MONTH'] in ['Apr','May','Jun']:<br/>        val = 'Q2'<br/>    elif row['MONTH'] in ['Jul','Aug','Sep']:<br/>        val = 'Q3'<br/>    else:<br/>        val = 'Q4'<br/>    return val</span><span id="3ab4" class="oc mk it nj b gy oh oe l of og">df_marvel['SEASON'] = df_marvel.apply(get_season, axis=1)</span><span id="3925" class="oc mk it nj b gy oh oe l of og">df_dc['SEASON'] = df_dc.apply(get_season, axis=1)</span></pre><p id="f3c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以重现剧情:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="af1e" class="oc mk it nj b gy od oe l of og">fig,ax = plt.subplots(1, 2)<br/>plt.subplot(1, 2, 1)<br/>df_marvel['SEASON'].value_counts().plot(kind='barh',title='Marvel Character First Appearance')<br/>plt.subplot(1, 2, 2)<br/>df_dc['SEASON'].value_counts().plot(kind='barh',title='DC Character First Appearance',color='red');<br/>fig.tight_layout()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/50ed95fb73945c66f9fd11766e443177.png" data-original-src="https://miro.medium.com/v2/format:webp/1*fEx7aKnm74PmReF5nOLHnw.png"/></div></figure><p id="7c88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过减少类别的数量来简化数据已经创建了一个更清晰的画面——我们可以看到漫威和DC都稍微倾向于在下半年引入新角色。</p><p id="da14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以研究这种模式随时间的变化。让我们将上述分析与1980年以前的情况进行比较。我们将创建两个新的数据帧:一个用于漫威，一个用于DC。</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="f1b3" class="oc mk it nj b gy od oe l of og">df_marvel_pre1980 = df_marvel[pd.to_numeric(df_marvel['YEAR']) &lt; 1980]</span><span id="9a27" class="oc mk it nj b gy oh oe l of og">df_dc_pre1980 = df_dc[pd.to_numeric(df_dc['YEAR']) &lt; 1980]</span><span id="f9b2" class="oc mk it nj b gy oh oe l of og">fig,ax = plt.subplots(1, 2)<br/>plt.subplot(1, 2, 1)<br/>df_marvel_pre1980['SEASON'].value_counts().plot(kind='barh',title='Marvel Character First Appearance')<br/>plt.subplot(1, 2, 2)<br/>df_dc_pre1980['SEASON'].value_counts().plot(kind='barh',title='DC Character First Appearance',color='red');<br/>fig.tight_layout()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/a44d93d7179cb3445e277f375588c2bc.png" data-original-src="https://miro.medium.com/v2/format:webp/1*As826TaQklJcP2iAVeoeuw.png"/></div></figure><p id="4ecb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来漫威这些年来在何时引入新角色方面一直保持一致，但DC漫画公司却不是这样。在1980年之前，DC倾向于在年初引入更多的新角色，然后改变这一政策，更像漫威的做法。</p><h2 id="e817" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">随着时间的推移引入的新字符的数量</h2><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="1e62" class="oc mk it nj b gy od oe l of og">m = df_marvel.groupby('YEAR')</span><span id="dafe" class="oc mk it nj b gy oh oe l of og">plt.rcParams['figure.figsize'] = [15, 5]<br/>m['YEAR'].value_counts(sort=False).plot(kind='bar',title='Marvel First Appearances by Year');</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/5b12146038b0be84493b4a9bfc5340e3.png" data-original-src="https://miro.medium.com/v2/format:webp/1*U59RaNAub6a0Ye0kdcCNzw.png"/></div></figure><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="dd0b" class="oc mk it nj b gy od oe l of og">d = df_dc.groupby('YEAR')</span><span id="9c6a" class="oc mk it nj b gy oh oe l of og">plt.rcParams['figure.figsize'] = [15, 5]<br/>d['YEAR'].value_counts(sort=False).plot(kind='bar',title='DC First Appearances by Year');</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl oi"><img src="../Images/6def2ca134e3cde0b5dabf65888399c8.png" data-original-src="https://miro.medium.com/v2/format:webp/1*m2joCb4nclxZCtF-xzt_Qw.png"/></div></figure><p id="897f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着时间的推移，引入的新角色数量之间似乎存在真正的差异:在公司存在的大部分时间里，漫威引入的新角色数量一直比DC多。还记得我们之前看到的漫威宇宙是DC宇宙的两倍多。同样根据这个数据，DC似乎在2011年后几乎停止了引入新角色。</p><h2 id="6112" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">第一批女性角色是什么时候出现的？</h2><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="3b44" class="oc mk it nj b gy od oe l of og">df_marvel_female = df_marvel[df_marvel['SEX']=='Female']<br/>df_dc_female = df_dc[df_dc['SEX']=='Female']</span></pre><p id="444f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个DC女性角色出现在:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="a602" class="oc mk it nj b gy od oe l of og">df_dc_female['YEAR'].min()</span><span id="113c" class="oc mk it nj b gy oh oe l of og">'1936'</span></pre><p id="82ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个漫威女性角色出现在:</p><pre class="kj kk kl km gt ny nj nz oa aw ob bi"><span id="b2fe" class="oc mk it nj b gy od oe l of og">df_marvel_female['YEAR'].min()</span><span id="235e" class="oc mk it nj b gy oh oe l of og">'1939'</span></pre><p id="78d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以漫威和DC都在制作漫画的第一年或第二年引入了他们的第一个女性角色。DC漫画公司成立于1934年，漫威成立于1939年。</p><p id="547c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以用这些数据回答的其他问题包括:</p><ul class=""><li id="c529" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">随着时间的推移，性别平衡发生了怎样的变化？</li><li id="7ae1" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">随着时间的推移，英雄和反派之间的平衡发生了怎样的变化？</li></ul><p id="5ff3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于数据可视化的最后一句话:</p><p id="83c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们使用了pandas的<code class="fe ng nh ni nj b">plot</code>函数和一点点<a class="ae ky" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>来组织情节，但是还有许多基于Python的可视化库可用，包括:</p><ul class=""><li id="cce1" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">Seaborn :它建立在Matplotlib的基础上，在视觉上比基本的熊猫情节更吸引人</li><li id="3cf8" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">散景:主要用于交互式网络可视化</li><li id="e1e6" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated"><a class="ae ky" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank"> Altair </a>:其中一些数据可视化库需要大量代码——Altair试图将代码最小化，将更多精力放在可视化上</li><li id="4c6d" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">再次强调，最好用于交互式的基于网络的可视化</li></ul></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h1 id="18c8" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">快速回顾一下您所学的内容:</h1><p id="1766" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">如果你已经做到了这一步，我想感谢你花时间阅读这本书。此时，您应该很好地理解了以下概念:</p><ul class=""><li id="c931" class="nk nl it lb b lc ld lf lg li nm lm nn lq no lu np nq nr ns bi translated">如何使用现有列中的数据创建新的DataFrame列</li><li id="c15e" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">如何根据条件更改列中的值</li><li id="cd97" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">如何删除列和行</li><li id="7bd2" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">如何根据条件创建数据子集</li><li id="a245" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu np nq nr ns bi translated">如何基于<code class="fe ng nh ni nj b">value_counts()</code>功能绘制条形图</li></ul><p id="3500" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有任何反馈或不同意这个分析，我很乐意听到你的意见！我一直在寻找改进这些文章的方法。再次感谢！</p><h2 id="2586" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">参考</h2><ol class=""><li id="63a9" class="nk nl it lb b lc nb lf nc li ou lm ov lq ow lu ox nq nr ns bi translated">perk hofer l .在可视化大数据时，设计重要吗？调查可视化类型和交互使用效果的实证研究，2021年3月30日，<a class="ae ky" href="https://link.springer.com/article/10.1007/s00187-020-00294-0" rel="noopener ugc nofollow" target="_blank">https://link . springer . com/article/10.1007/s 00187-020-00294-0</a></li><li id="90b6" class="nk nl it lb b lc nt lf nu li nv lm nw lq nx lu ox nq nr ns bi translated">Roberts，r .,《讲故事与视觉化:一项扩展调查》，2021年3月30日，<a class="ae ky" href="https://www.researchgate.net/publication/323777213_Storytelling_and_Visualization_An_Extended_Survey" rel="noopener ugc nofollow" target="_blank">https://www . research gate . net/publication/323777213 _讲故事_视觉化_An_Extended_Survey </a></li></ol><h2 id="1022" class="oc mk it bd ml oj ok dn mp ol om dp mt li on oo mv lm op oq mx lq or os mz ot bi translated">与数据科学先生联系:</h2><p id="162e" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated"><a class="ae ky" href="https://www.mrdatascience.com" rel="noopener ugc nofollow" target="_blank">MrDataScience.com</a>，<a class="ae ky" href="https://github.com/MrDataScience" rel="noopener ugc nofollow" target="_blank"> GitHub </a>，<a class="ae ky" href="https://medium.com/@mrdatascience" rel="noopener">中型</a></p></div></div>    
</body>
</html>