<html>
<head>
<title>4 Intermediate Tips To Power Up Your Django Development Skills</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">增强Django开发技能的4个中级技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/4-intermediate-tips-to-power-up-your-django-development-skills-7cf91579aaba?source=collection_archive---------8-----------------------#2021-06-21">https://betterprogramming.pub/4-intermediate-tips-to-power-up-your-django-development-skills-7cf91579aaba?source=collection_archive---------8-----------------------#2021-06-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ba52" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过这些技巧成为更好的Django开发人员</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c560b663746027d57b822449c9817aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nKK74uuVPjqK8sMi"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@faisaldada?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">费萨尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="7c95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Django 是全球Python开发者中最受欢迎的框架之一，许多知名网站都建立在它的基础上，如Instagram、Pinterest、Mozilla和<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Introduction#how_popular_is_django" rel="noopener ugc nofollow" target="_blank"> more </a>。</p><p id="54bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然有很多很棒的教程可供学习成为更好的Django开发人员，但大多数都是面向初学者的。</p><p id="aa87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将与您分享一些中级技巧，让您成为更好的Django开发人员，同时为您提供可操作的步骤或资源，我发现这些对我的Django学习之旅非常有帮助。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="479c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">TL；速度三角形定位法(dead reckoning)</h1><ul class=""><li id="34b3" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">编写测试。</li><li id="11c6" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">利用<code class="fe nk nl nm nn b">select_related</code>和<code class="fe nk nl nm nn b">prefetch_related</code>。</li><li id="f67c" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">利用调试工具。</li><li id="8f64" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">避免重新发明轮子。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="31c1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">开始编写测试</h1><p id="227d" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">当我开始编程时，我没有意识到<a class="ae ky" href="https://docs.djangoproject.com/en/3.2/topics/testing/overview/" rel="noopener ugc nofollow" target="_blank">编写测试</a>的重要性。我早期学习Django的教程也没有强调这一点。</p><p id="6e36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一开始，编写测试可能会超级烦人和乏味。通常情况下，编写测试并不能立即帮到你很多。</p><p id="2902" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，当添加新功能或重构代码时(相信我，这是会发生的)，特别是当它已经过去了几个月的时候，这些测试将为开发人员提供一个安全网，这样他们就不会在不知不觉中给你的软件带来新的错误。</p><p id="2da2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">迄今为止，我无法计算单元测试和集成测试为我和我的团队节省了多少时间。</p><h2 id="84e2" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated">“服从试验山羊”</h2><p id="ac00" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">就我个人而言，我强烈推荐阅读臭名昭著的<a class="ae ky" href="https://www.obeythetestinggoat.com/pages/book.html#toc" rel="noopener ugc nofollow" target="_blank"> <em class="od">服从测试山羊</em> </a>的书。这是一本很好的书，除了使用Django的测试驱动开发(<a class="ae ky" href="https://en.wikipedia.org/wiki/Test-driven_development" rel="noopener ugc nofollow" target="_blank"> TDD </a>)之外，它还教了你很多东西。</p><p id="66ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我注意到很多人经常因为这本书使用了Django的旧版本而感到沮丧。然而，我仍然推荐使用Django的最新版本继续阅读这本书，因为你可以同时学习如何更好地调试。你会在某个时候陷入困境，但是相信我，这种挣扎是非常值得的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="582d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用select_related和prefetch_related优化查询</h1><p id="551f" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">如果您正在走出Django教程的地狱，这是一个学习和思考SQL查询效率的好时机。他们的执行速度有多快？他们如何执行得更快？</p><p id="fb65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当数据库表包含大量行时，使用Django ORM进行高效的SQL查询是至关重要的，因为这极大地影响了应用程序的整体性能。</p><p id="e1f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您还没有遇到过<code class="fe nk nl nm nn b">select_related</code>和<code class="fe nk nl nm nn b">prefetch_related</code>(或者您可能还没有习惯使用它们)，您肯定应该遇到，因为这两种方法都旨在放弃不必要的数据库查询。</p><h2 id="829c" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated">选择_相关</h2><ul class=""><li id="3647" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">简而言之，<code class="fe nk nl nm nn b">select_related</code>通过用SQL <code class="fe nk nl nm nn b">SELECT</code>语句中相关对象的列创建SQL <code class="fe nk nl nm nn b">JOIN</code>来工作。</li><li id="36d8" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">当您查询的对象是带有“forward”<code class="fe nk nl nm nn b">ForeignKey</code>或<code class="fe nk nl nm nn b">OneToOne</code>的单个对象时，使用<code class="fe nk nl nm nn b">select_related</code>。</li></ul><h2 id="7b08" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated">预取相关</h2><ul class=""><li id="b0da" class="mu mv it lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">另一方面，<code class="fe nk nl nm nn b">prefetch_related</code>为每个关系执行单独的查找，并在Python中执行“连接”。</li><li id="ce5c" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">当你要得到一些东西的时候用这个。</li><li id="675a" class="mu mv it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">遇到<code class="fe nk nl nm nn b">ManyToManyField</code>或倒车<code class="fe nk nl nm nn b">ForeignKey</code>时使用<code class="fe nk nl nm nn b">prefetch_related</code>。</li></ul><p id="a647" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对“向前”或“向后”<code class="fe nk nl nm nn b">ForeignKey</code>的含义感到困惑，这里有一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“正向”和“反向”外键示例</p></figure><h2 id="f83a" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated">举例学习</h2><p id="efcb" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">我强烈推荐阅读并尝试下面由Goutom Roy写的文章中的例子。</p><p id="ccb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文提供了简明实用的示例，说明如何使用<code class="fe nk nl nm nn b">prefetch_related</code>和<code class="fe nk nl nm nn b">select_related</code>在执行时间和执行的查询数量方面优化数据库查询:</p><div class="oi oj gp gr ok ol"><a rel="noopener  ugc nofollow" target="_blank" href="/django-select-related-and-prefetch-related-f23043fd635d"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd iu gy z fp oq fr fs or fu fw is bi translated">Django选择相关和预取相关</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">通过示例检查使用这些方法减少了多少查询</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">better编程. pub</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz ks ol"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f426" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">利用调试工具</h1><p id="44fe" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">今天，Django ORM经常被指责进行非优化查询。为了确定解决这个问题的正确方法，开发人员通常需要用手头的正确工具来确定瓶颈。</p><h2 id="2910" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated">打印qs.query</h2><p id="daab" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">首先，我们可以简单地看到Django ORM <code class="fe nk nl nm nn b">queryset</code>通过使用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如何打印SQL语句的示例</p></figure><h2 id="d76b" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated">使用django-调试-工具栏</h2><p id="0b25" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">我强烈推荐使用<code class="fe nk nl nm nn b"><a class="ae ky" href="https://github.com/jazzband/django-debug-toolbar" rel="noopener ugc nofollow" target="_blank">django-debug-toolbar</a></code>。这个简单的包可以提供关于底层请求的各种调试信息。</p><h2 id="3dc6" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated">奖励:使用姜戈丝绸</h2><p id="92a3" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">这里的另一个选择是使用<code class="fe nk nl nm nn b"> <a class="ae ky" href="https://github.com/jazzband/django-silk" rel="noopener ugc nofollow" target="_blank">django-silk</a></code>来分析Django web应用程序，以寻找高影响性能的瓶颈，这样我们就可以开始优化它们以获得更好的性能结果。我强烈推荐阅读<a class="ae ky" href="https://medium.com/hackernoon/finding-high-impact-performance-bottlenecks-django-tips-237a896e0f91" rel="noopener">这篇文章</a>来学习更多关于使用<code class="fe nk nl nm nn b">django-silk</code>的知识。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0b2a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">避免重新发明轮子</h1><p id="5720" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在处理一系列问题时，人们通常会先写出自己的解决方案。从我卑微的经历来说，我总是先尝试谷歌一下手头的问题。</p><p id="ffaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于Django是一个拥有活跃社区的免费开源框架，因此很可能已经存在一个功能丰富的解决方案。</p><p id="22f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，如果你正在开始一个新的Django项目，我建议看看<code class="fe nk nl nm nn b"><a class="ae ky" href="https://github.com/pydanny/cookiecutter-django" rel="noopener ugc nofollow" target="_blank">cookiecutter-django</a></code>，因为它附带了一个定制用户模型，通过<code class="fe nk nl nm nn b"><a class="ae ky" href="https://github.com/pennersr/django-allauth" rel="noopener ugc nofollow" target="_blank">django-allauth</a></code>注册，通过<a class="ae ky" href="https://github.com/anymail/django-anymail" rel="noopener ugc nofollow" target="_blank"> Anymail </a>发送电子邮件，以及许多其他有用的生产就绪功能。</p><p id="b752" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看与Django相关的令人敬畏的图书馆列表。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="40ff" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">最后的想法</h1><p id="d5ca" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">像许多其他人一样，我做了太多的教程。不要。相反，尝试从头构建一个Django项目，因为这是精通Django的最快方法。</p><h2 id="4322" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated">应对“我不知道该建什么”</h2><p id="6ee5" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">寻找项目想法的最好方法是想一个能解决你身边问题的个人项目。是的，你的项目可能会很糟糕。我知道我的有。</p><p id="b248" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管如此，随着时间的推移，你会很快注意到你寻找答案的方式会发生变化。你将开始在Django的文档中搜索特定的关键字，而不是在Google上用模糊的问题反复推敲，最终更有效地在Stack Overflow和其他任何地方找到正确的答案。</p><p id="8dc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过练习和投入时间，你会变得擅长(几乎)任何事情。我希望你喜欢阅读这篇文章。保重！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="935c" class="nr md it bd me ns nt dn mi nu nv dp mm li nw nx mo lm ny nz mq lq oa ob ms oc bi translated"><a class="ae ky" href="http://jerrynsh.com/" rel="noopener ugc nofollow" target="_blank">在jerrynsh.com阅读我的其他Python文章</a></h2><div class="oi oj gp gr ok ol"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-write-clean-code-in-python-5d67746133f2"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd iu gy z fp oq fr fs or fu fw is bi translated">如何用Python写干净的代码</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">使用Python示例编写干净代码的3个技巧</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">better编程. pub</p></div></div><div class="ou l"><div class="pa l ow ox oy ou oz ks ol"/></div></div></a></div><div class="oi oj gp gr ok ol"><a href="https://medium.com/geekculture/top-3-backend-developer-productivity-tools-that-you-should-check-out-bc16bff11133" rel="noopener follow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd iu gy z fp oq fr fs or fu fw is bi translated">你应该看看的三大后端开发人员生产力工具</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">在5分钟内阅读我作为后端开发人员用来提高生产力的工具</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">medium.com</p></div></div><div class="ou l"><div class="pb l ow ox oy ou oz ks ol"/></div></div></a></div></div></div>    
</body>
</html>