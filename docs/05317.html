<html>
<head>
<title>How to Optimize Your Email to Avoid Gmail Clipping</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何优化您的电子邮件以避免Gmail剪辑</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/ack-gmail-clipped-my-email-what-should-i-do-c36c940a7d40?source=collection_archive---------9-----------------------#2020-06-29">https://betterprogramming.pub/ack-gmail-clipped-my-email-what-should-i-do-c36c940a7d40?source=collection_archive---------9-----------------------#2020-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="77d9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">分解Gmail剪辑对开发者、设计者和时事通讯编辑的意义</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/20b7e14390e4d1d6e3f85b9e2e3ccb81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*x4YR3auF2qgkfFpjVw8Bkw.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Womp。Gmail剪辑了邮件，因为它“太大了”(作者照片)。</p></figure><p id="8462" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你从事电子邮件工作，你肯定遇到过Gmail剪辑。重要的是要记住，这是Gmail的一项功能，如果您的邮件文件大于102 KB，它会自动<a class="ae lq" href="https://mailchimp.com/help/gmail-is-clipping-my-email/" rel="noopener ugc nofollow" target="_blank">剪切</a>您的邮件。这意味着剪辑是你的电子邮件中大量HTML代码的结果。<strong class="kw iu"> </strong>每个字符是一个或两个字节，它们全部加起来。</p><p id="8f66" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">根据您是开发人员、设计师还是时事通讯编辑，Gmail剪辑可能对您的工作和工作方式有不同的含义。使用这些链接跳到与您相关的部分(或阅读全文):</p><ol class=""><li id="9b22" class="lr ls it kw b kx ky la lb ld lt lh lu ll lv lp lw lx ly lz bi translated"><a class="ae lq" href="#e12d" rel="noopener ugc nofollow">我是一名开发者。这对我的代码意味着什么？</a></li><li id="703f" class="lr ls it kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">我是一名设计师。这对我的设计意味着什么？</li><li id="929e" class="lr ls it kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated">我是一名时事通讯编辑。这对我的内容意味着什么？</li><li id="3076" class="lr ls it kw b kx ma la mb ld mc lh md ll me lp lw lx ly lz bi translated"><a class="ae lq" href="#7fb3" rel="noopener ugc nofollow">附录:HTML和Gmail剪辑的技术探讨</a></li></ol></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="e12d" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">我是开发商。这对我的代码意味着什么？</h1><p id="a6a6" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">如果裁剪对你的产品来说很重要(很可能是因为很多原因，包括纯粹的市场份额)，那么你需要考虑你正在编写的HTML和CSS是否值得它们所花费的字节。这意味着思考这样的问题:</p><h2 id="5ded" class="nj mn it bd mo nk nl dn ms nm nn dp mw ld no np my lh nq nr na ll ns nt nc nu bi translated">我是不是写的风格太多了？我可以使用速记声明吗？</h2><p id="b118" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">例如，您可以写:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="f0d4" class="nj mn it nw b gy oa ob l oc od">font: normal 17px/25px Arial, sans-serif;</span></pre><p id="e417" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">而不是等价的:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="dd03" class="nj mn it nw b gy oa ob l oc od">font-weight: normal;<br/>font-size: 17px;<br/>line-height: 25px;<br/>font-family: Arial, sans-serif;</span></pre><p id="a4e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这为您节省了不少字符。</p><h2 id="809f" class="nj mn it bd mo nk nl dn ms nm nn dp mw ld no np my lh nq nr na ll ns nt nc nu bi translated">我能用其他一些使用较少标记的方法达到同样的效果吗？</h2><p id="86ea" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">例如，考虑是否真的需要将代码嵌套在另一个表中(我知道，有时另一个表是唯一的办法。叹气。).为了呈现适用于所有与您相关的电子邮件客户端的设计，您能写的最简单的表格是什么？如果你的团队只关心比Outlook更宽容的Gmail和Apple Mail，你可能不需要超表格化的HTML。</p><h2 id="7eec" class="nj mn it bd mo nk nl dn ms nm nn dp mw ld no np my lh nq nr na ll ns nt nc nu bi translated"><strong class="ak">这些URL和属性能不能短一点？</strong></h2><p id="1185" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">如果你有一个看起来像<code class="fe oe of og nw b">https://www.very-long-url.com/its-long/for-some-reason/like-with-alphanumeric-stuff</code>的URL，使用一个URL缩短器(比如Bitly)将其缩短为类似<code class="fe oe of og nw b">https://very.long/stuff</code>的东西可能是值得的。</p><p id="6519" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另外，想想你的类名。也许<code class="fe oe of og nw b">class="footer-container-wrapper"</code>可以改为<code class="fe oe of og nw b">class="ft-wrapper"</code>？类会被多次使用，所以尽量避免使用长名字。</p><h2 id="3e28" class="nj mn it bd mo nk nl dn ms nm nn dp mw ld no np my lh nq nr na ll ns nt nc nu bi translated"><strong class="ak">简化HTML邮件构建的标记语言怎么样？</strong></h2><p id="7563" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">像<a class="ae lq" href="https://mjml.io/documentation/" rel="noopener ugc nofollow" target="_blank"> MJML </a>这样的标记语言使得创建电子邮件变得容易，因为它们做了确保电子邮件在所有客户端上尽可能正确和一致地显示的艰苦工作。他们真的很擅长这个。但是，这些标记语言仍然需要编译成普通的HTML。例如，使用MJML，您可以编写:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="90dc" class="nj mn it nw b gy oa ob l oc od">&lt;mj-section padding="0"&gt;<br/>  &lt;mj-column padding="0"&gt;<br/>    &lt;mj-button href="#" padding="0" color="#ffffff" font-family="arial, sans-serif" font-size="15px"&gt;<br/>      Button<br/>    &lt;/mj-button&gt;<br/>  &lt;/mj-column&gt;<br/>&lt;/mj-section&gt;</span></pre><p id="9582" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这看起来很简单，但实际上编译成一个非常长的高度嵌套的HTML字符串，如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oi oj di ok bf ol"><div class="gh gi oh"><img src="../Images/6e5787ca567ca947d006dbf43f4b888b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uDxMqzaRclAmAniA7hdTSw.png"/></div></div></figure><p id="664b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所有这些标记很快就会累积起来。</p><p id="dd76" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">本质上，这里的目标是编写尽可能少的HTML<strong class="kw iu"/>——特别是如果你正在构建动态电子邮件组件，比如组件库或模板服务。不过，作为一条经验法则，在你深入研究电子邮件的编码和样式之前，先检查一下你想要使用的样式是否得到了很好的支持。<a class="ae lq" href="https://www.campaignmonitor.com/css/" rel="noopener ugc nofollow" target="_blank">运动监控器</a>在这方面有很好的指导。此外，在电子邮件测试服务中检查你的工作，如<a class="ae lq" href="https://www.litmus.com/" rel="noopener ugc nofollow" target="_blank"> Litmus </a>或<a class="ae lq" href="https://www.emailonacid.com/" rel="noopener ugc nofollow" target="_blank"> Email on Acid </a>，这将验证你的风格是否有效，并显示你的电子邮件是否会被删减。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="9715" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">我是一名设计师。这对我的设计意味着什么？</h1><p id="5bfb" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">设计越复杂，需要编写的代码就越多。这意味着要考虑这样的事情:</p><h2 id="c4a4" class="nj mn it bd mo nk nl dn ms nm nn dp mw ld no np my lh nq nr na ll ns nt nc nu bi translated"><strong class="ak">拥有另一个断点的好处是否超过了字节成本？</strong></h2><p id="66ae" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">断点越多，需要编写的CSS就越多，文件就越大。</p><h2 id="008a" class="nj mn it bd mo nk nl dn ms nm nn dp mw ld no np my lh nq nr na ll ns nt nc nu bi translated">我们可以使用单列布局吗？</h2><p id="804d" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">两栏布局很复杂，需要大量的标记，尤其是如果您想要两栏用于桌面，一栏用于移动。</p><h2 id="8d09" class="nj mn it bd mo nk nl dn ms nm nn dp mw ld no np my lh nq nr na ll ns nt nc nu bi translated">一整块内容需要是可点击的吗？</h2><p id="c7a7" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">电子邮件是在表格中完成的。与web不同，我们不能简单地将一个链接包裹在整个内容块中。相反，我们必须在块的每个子块周围包装一个链接，使它看起来像整个东西是可点击的。例如，如果您有一个如下所示的链接块:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oi oj di ok bf ol"><div class="gh gi om"><img src="../Images/cc9ca62db3e550abb75bd2e7eb255eb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r3zvIZpKvD01yhq2BA7DdA.png"/></div></div></figure><p id="2e54" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它有三个组成部分——图像、标题和段落——开发人员可能需要编写三次链接标记。此外，每个URL都可能很长，你可能有许多这样的块，这可能会大大有助于剪辑。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="0b20" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">我是时事通讯编辑。这对我的C<em class="on">content</em>意味着什么？</h1><p id="ac3b" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">我们可以使设计和代码尽可能的简单和最小化，但是最终，电子邮件中的内容越多，你被删减的就越多。</p><p id="65ca" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有时候，这很难理解。你已经减少了链接的数量，实际上你没有那么多单词。你可能会想，“为什么我还是被夹住了？”</p><p id="9b75" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如本文开头提到的，<em class="oo"> </em>关键是要明白产生你所拥有的内容需要多少HTML。如果你使用Mailchimp等基于模板的服务或由组件库支持的内部服务来编写电子邮件，这一点尤其重要，因为作为编辑，你可能看不到在幕后编写电子邮件的代码。</p><p id="c884" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">把你邮件中的每一部分内容想象成一座冰山——作为一名编辑，你能看到并与之互动的只是水面上的冰山一角。但是在表面之下还有冰山的其余部分，这是开发人员编写的HTML，所以它看起来像设计者计划的那样。对于每一个冰山一角，下面都有更多的冰山支撑着它。由于一封电子邮件会包含许多这样的冰山，你可以想象在表面之下有许多你看不到的东西。因此，每次你创建一个新的内容块，你实际上是在创建一座完整的冰山——而不仅仅是表面上的东西。</p><p id="02f5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="oo">注:完整的技术性、非隐喻性解释，参见附录</em><em class="oo"/><a class="ae lq" href="#7fb3" rel="noopener ugc nofollow"><em class="oo">。</em></a></p><p id="6021" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">基于此，作为一名编辑，记住以下几点很重要:</p><ul class=""><li id="0dbf" class="lr ls it kw b kx ky la lb ld lt lh lu ll lv lp op lx ly lz bi translated">我是不是写了太多内容了？</li><li id="73fe" class="lr ls it kw b kx ma la mb ld mc lh md ll me lp op lx ly lz bi translated">我能巩固其中的一些吗？</li><li id="ac90" class="lr ls it kw b kx ma la mb ld mc lh md ll me lp op lx ly lz bi translated">如果我使用更简单、更直接的模板或布局，我能有效地传达我的意图吗？</li></ul><p id="b6c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">HTML格式的电子邮件很难处理。它很挑剔，而且<a class="ae lq" href="https://www.campaignmonitor.com/dev-resources/guides/coding-html-emails/#one" rel="noopener ugc nofollow" target="_blank">不使用网络标准</a>。希望有一天会！Gmail剪辑给已经很难做到的事情又增加了一层复杂性。尽管如此，我希望这已经阐明了Gmail剪辑对你的意义，无论你的角色是什么！</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="7fb3" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">附录:HTML和Gmail剪辑的技术探讨</h1><p id="9d35" class="pw-post-body-paragraph ku kv it kw b kx ne ju kz la nf jx lc ld ng lf lg lh nh lj lk ll ni ln lo lp im bi translated">为了真正理解为什么你的电子邮件会被删减，我们要稍微深入一下HTML。如果你对HTML不熟悉，请多包涵！</p><p id="dd68" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">假设您有一段包含390个字符(包括空白，空白也是一个字符)的文本，如下所示:</p><blockquote class="oq or os"><p id="7c60" class="ku kv oo kw b kx ky ju kz la lb jx lc ot le lf lg ou li lj lk ov lm ln lo lp im bi translated">这是一个段落。Lorem Ipsums只是印刷和排版行业的虚拟文本。自16世纪以来，Lorem Ipsum一直是行业的标准虚拟文本，当时一个不知名的印刷商拿走了一条铅字，并将其打乱，制成了一本铅字样本书。它不仅经历了五个世纪，而且经历了电子排版的飞跃，基本上保持不变。</p></blockquote><p id="e6f5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们假设您的电子邮件服务通过用以下HTML包装文本来创建段落块:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="184f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">段落块的HTML标记长度为106个字符(不包括占位符内容)。因此，对于我们之前拥有的一个内容块，我们实际上总共有390 + 106 = 496个字符。</p><p id="9d3d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们把同一块内容分成三个更小的段落会怎么样？</p><blockquote class="oq or os"><p id="a477" class="ku kv oo kw b kx ky ju kz la lb jx lc ot le lf lg ou li lj lk ov lm ln lo lp im bi translated">这是一个段落。Lorem Ipsums只是印刷和排版行业的虚拟文本。</p><p id="ee3f" class="ku kv oo kw b kx ky ju kz la lb jx lc ot le lf lg ou li lj lk ov lm ln lo lp im bi translated">自16世纪以来，Lorem Ipsum一直是行业的标准虚拟文本，当时一个不知名的印刷商拿走了一条铅字，并将其打乱，制成了一本铅字样本书。</p><p id="a3d8" class="ku kv oo kw b kx ky ju kz la lb jx lc ot le lf lg ou li lj lk ov lm ln lo lp im bi translated">它不仅经历了五个世纪，而且经历了电子排版的飞跃，基本上保持不变。</p></blockquote><p id="6e7d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它们中的每一个都将被段落HTML所包裹，这意味着在幕后，内容实际上是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="e8f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">哇哦。这比以前的价格高出很多！第一段的字符数是98，第二段是170，第三段是120。如果你一直记着，那就是388，比我们原来的少两个。这是因为我们不再需要分隔句子的两个空格，这些空格将成为我们的新段落。因此，HTML的总字符数是(3 × 106) + (98 + 170 + 120) = 706，比以前多了210个字符(大约42%)。</p><p id="6bd2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这表明，尽管<em class="oo">内容</em>的数量基本相同，但每块内容所需的HTML数量会增加。你有越多的HTML，你就会被剪得越多。</p></div></div>    
</body>
</html>