<html>
<head>
<title>Automating GitHub Gists Creation Using TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TypeScript自动创建GitHub Gists</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/automate-github-gists-creation-using-typescript-ac1f3fae68c5?source=collection_archive---------9-----------------------#2022-10-03">https://betterprogramming.pub/automate-github-gists-creation-using-typescript-ac1f3fae68c5?source=collection_archive---------9-----------------------#2022-10-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f70e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我是如何创作剧本的</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/584f1dbe0796a1bcbbf3335ed61a687a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tz8yjTySmc3ztcE4MzSV2g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="fabf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">许多编程文章出版物要求使用GitHub Gists来编写较长的代码片段。</p><p id="98bf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对我来说，这意味着大约一个月前，我有一些额外的工作要做。</p><p id="4bbe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了改编我的<a class="ae lr" rel="noopener ugc nofollow" target="_blank" href="/build-your-own-ai-powered-virtual-assistant-on-the-web-175fc9e61973">文章</a>，我必须首先复制代码块。然后创建一个新的要点。然后给文件命名。然后粘贴内容。然后保存，点击共享，然后将链接粘贴到介质中。</p><p id="13b9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我宁愿花那么多时间来为一篇新文章构思主题。在这篇文章中，我将向你展示我开发一个工具来自动化枯燥的东西的过程。这是它如何工作的演示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><h1 id="e765" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">建立</h1><p id="3743" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">初始化TypeScript节点项目，并安装所需的库:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d3a3" class="mw lv iq ms b gy mx my l mz na">npm init -y<br/>npm i -D @types/node typescript<br/>npm i @octokit/auth-oauth-device @octokit/rest</span></pre><h1 id="474a" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">授权</h1><p id="f27f" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">首先，我们需要授权应用程序的用户能够创建gists。我们通过GitHub <a class="ae lr" href="https://docs.github.com/en/developers/apps/building-oauth-apps/authorizing-oauth-apps#device-flow" rel="noopener ugc nofollow" target="_blank">设备流</a>来实现这一点。一旦用户验证了应用程序，我们就获取访问令牌来创建gists。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb lt l"/></div></figure><h1 id="44f3" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">初始化API客户端</h1><p id="397f" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">我们使用之前的OAuth令牌来初始化GitHub REST API客户端:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb lt l"/></div></figure><h1 id="62df" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">正在检索控制台输入</h1><p id="df2d" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">我们将使用<code class="fe nc nd ne ms b">readline</code>模块从用户那里接收代码块。之后，我们要求他们输入要点的文件名。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb lt l"/></div></figure><p id="dd69" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将默认提示符改为<code class="fe nc nd ne ms b">:</code>，以避免与节点控制台提示符(<code class="fe nc nd ne ms b">&gt;</code>)混淆。</p><p id="a06a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们使用<code class="fe nc nd ne ms b">newlines</code>以便当用户输入两个空行时，我们知道代码已经结束。但是这并不意味着代码块不能包含多于两行的空行。</p><h1 id="4986" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">阅读每一行代码</h1><p id="301e" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">但是首先，让我们定义一个函数，使<code class="fe nc nd ne ms b">rl.question</code>函数基于承诺。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb lt l"/></div></figure><p id="ced0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们现在将使用<code class="fe nc nd ne ms b">readline</code>将当前输入行添加到最终输入。一旦时机成熟，我们就创建要点。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb lt l"/></div></figure><h1 id="c885" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">包扎</h1><p id="d13d" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le mo lg lh li mp lk ll lm mq lo lp lq ij bi translated">下面是启动整个过程的代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb lt l"/></div></figure><p id="170c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">仅此而已！我在NPM上发布了脚本代码，你可以用<code class="fe nc nd ne ms b">npx gist-generator</code>运行它。您可以在这个<a class="ae lr" href="https://github.com/WoolDoughnut310/gist-generator" rel="noopener ugc nofollow" target="_blank">库</a>中找到所有的源代码。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="97ae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nm">原发布于</em><a class="ae lr" href="https://cs310.hashnode.dev/create-a-script-to-automate-creating-github-gists" rel="noopener ugc nofollow" target="_blank"><em class="nm">https://cs 310 . hash node . dev</em></a><em class="nm">。</em></p></div></div>    
</body>
</html>