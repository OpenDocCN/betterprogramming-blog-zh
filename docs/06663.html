<html>
<head>
<title>Routing 101 in Angular 9+</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度为9+的路径101</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/routing-101-in-angular-9-c76144b28cbd?source=collection_archive---------6-----------------------#2020-10-22">https://betterprogramming.pub/routing-101-in-angular-9-c76144b28cbd?source=collection_archive---------6-----------------------#2020-10-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7f4e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于使用角度布线显示视图和在零部件之间传递数据的快速教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9458135a4e17c883a4e969f9041c96ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LZDVTTwMV8PaEcy3"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安妮·斯普拉特在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="4794" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">我们在学什么？</h1><ul class=""><li id="72a0" class="ly lz it ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">使用路线显示和隐藏组件，而不是输入和输出属性</li><li id="0fe9" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">通过在路由中传递数据来保持这些组件之间的通信</li><li id="5dbe" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">了解如何在路由模块中设置路由</li><li id="74a7" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">使用<code class="fe mv mw mx my b">routerLink</code>设置点击事件并将数据传递给路线</li></ul></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="e391" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">在我最近发表的另一篇教程中，我介绍了如何使用输入和输出属性在Angular应用程序中传递数据。我们还使用这些属性来管理用户在UI中可以看到的内容。这种设置确实有效，是获取子组件所需数据的好方法，但是看起来不太清晰。我们的输入分散在各处，有点重复。</p><p id="01fe" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">例如，这是那个项目中的<code class="fe mv mw mx my b">app.component.html</code> <a class="ae ky" href="https://gist.github.com/jessipearcy/d3c9e82053ebe05f298f1b3af93d55fb" rel="noopener ugc nofollow" target="_blank">:</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="3600" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">在这里，我们有许多由应用程序组件管理的逻辑，它承担着引导流量的工作。我们还有一个问题，需要将数据从<code class="fe mv mw mx my b">all-habits</code>传递到应用程序组件，这样我们就可以将数据传递回<code class="fe mv mw mx my b">habit-form</code>组件。应用程序组件根本不需要关心这些数据！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="25ae" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">SPAs中的路由与HTML中的路由有何不同？</h1><p id="6461" class="pw-post-body-paragraph mz na it ma b mb mc ju nc md me jx ne mf nq ng nh mh nr nj nk mj ns nm nn ml im bi translated">在SPA中，您可以通过一个页面提供所有内容和数据。该应用程序只是根据应用程序的状态显示不同的HTML、CSS和JS。数据可以在运行的应用程序和服务器之间来回发送，而无需重新加载页面，因此在进行简单更新时无需等待资产回来。事实上，这就是你的应用程序中所有代码的入口点的样子，它出现在<code class="fe mv mw mx my b">index.html</code>:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="96c4" class="nx lh it my b gy ny nz l oa ob">&lt;body&gt;<br/>    &lt;app-root&gt;&lt;/app-root&gt;<br/>&lt;/body&gt;</span></pre><p id="2676" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">在Angular中，routes不是告诉服务器发送回什么文件，而是根据用户与应用程序的交互方式告诉浏览器呈现什么。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="b7f9" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">路由什么时候方便？</h1><ul class=""><li id="a2f1" class="ly lz it ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated"><strong class="ma iu">当你想要新的一页的体验。你可以透过经典的、非SPA的页面来思考这个问题。一条新路线应该会引导你进入应用程序中的一个全新视图。如果一个新功能的目标意味着隐藏应用程序的其余部分，并显示一个新的、独立的体验，那么考虑将路由作为呈现新内容的手段。</strong></li><li id="d640" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated"><strong class="ma iu">当您需要为列表中的项目呈现内容时。</strong>通过在路线中传递ID或索引，路线参数可以轻松打开细节或编辑页面等功能</li><li id="0eb6" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated"><strong class="ma iu">需要管理角色权限时。</strong> <a class="ae ky" href="https://angular.io/guide/router#preventing-unauthorized-access" rel="noopener ugc nofollow" target="_blank">这个主题</a>超出了本教程的范围，但是当您想要确保满足某些给定标准的用户<em class="oc">不能</em>访问由路由呈现的内容时，通常使用有角度的路由防护。新路由可以封装包含敏感信息的页面，并重定向未经授权的用户。</li></ul></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="f6eb" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">设置</h1><h2 id="d265" class="nx lh it bd li od oe dn lm of og dp lq mf oh oi ls mh oj ok lu mj ol om lw on bi translated">开发环境</h2><ul class=""><li id="e197" class="ly lz it ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">如果你已经在你的机器上使用了Angular应用程序，确保你已经安装了<a class="ae ky" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>和<a class="ae ky" href="https://angular.io/guide/setup-local" rel="noopener ugc nofollow" target="_blank"> Angular CLI </a>。</li><li id="2e13" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">我将展示如何使用<a class="ae ky" href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" rel="noopener ugc nofollow" target="_blank"> Git </a>下载启动文件，如果您以前从未使用过，也需要安装。</li></ul><h2 id="2aff" class="nx lh it bd li od oe dn lm of og dp lq mf oh oi ls mh oj ok lu mj ol om lw on bi translated">起始文件</h2><p id="f5c4" class="pw-post-body-paragraph mz na it ma b mb mc ju nc md me jx ne mf nq ng nh mh nr nj nk mj ns nm nn ml im bi translated">要得到启动项目，从这个GitHub <a class="ae ky" href="https://github.com/jessipearcy/habit-tracker-basic" rel="noopener ugc nofollow" target="_blank"> repo </a>中把它拉下来。要从命令行执行此操作，请导航到您想要下载应用程序的位置，并键入以下Git命令:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="10d3" class="nx lh it my b gy ny nz l oa ob">git clone <a class="ae ky" href="https://github.com/jessipearcy/basic-routing-start.git" rel="noopener ugc nofollow" target="_blank">https://github.com/jessipearcy/basic-routing-start.git</a></span></pre><p id="487c" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">这将把文件复制到文件夹中。接下来，运行以下两个命令导航到该文件夹，并安装Angular应用程序运行所需的软件包:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="e1c7" class="nx lh it my b gy ny nz l oa ob">cd basic-routing-start<br/>npm ci</span></pre><p id="a174" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">在所有的软件包安装完成后，在命令行中键入<code class="fe mv mw mx my b">ng serve</code>，按enter，然后导航到<code class="fe mv mw mx my b"><a class="ae ky" href="http://localhost:4202/" rel="noopener ugc nofollow" target="_blank">http://localhost:420</a>0</code>，你应该会看到正在运行的应用程序。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="3b43" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">角度布线入门</h1><p id="b44c" class="pw-post-body-paragraph mz na it ma b mb mc ju nc md me jx ne mf nq ng nh mh nr nj nk mj ns nm nn ml im bi translated">我们的应用程序现在正在构建，但并不十分有趣。我们还没有设置任何路线！</p><p id="fb6f" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">打开<code class="fe mv mw mx my b">app-routing.module.ts</code>。您会注意到，默认情况下，Angular将<code class="fe mv mw mx my b">routes</code>属性设置为一个空数组:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="95f3" class="nx lh it my b gy ny nz l oa ob">const routes: Routes = [];</span></pre><p id="1c57" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">让我们创建一条路线，这样当应用程序加载时，我们的主页将显示我们的习惯列表:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="0dc8" class="nx lh it my b gy ny nz l oa ob">const routes: Routes = [<br/>  { path: '', component: AllHabitsComponent }<br/>];</span></pre><p id="96d9" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">这个对象告诉应用程序，当呈现我们的基本URL(对于这个测试应用程序，它将是<code class="fe mv mw mx my b"><a class="ae ky" href="http://localhost:4200/" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/</a></code>)时，显示<code class="fe mv mw mx my b">AllHabitsComponent</code>。不要忘记为组件添加导入。</p><p id="116e" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">接下来，我们需要告诉Angular将路由中的内容放在哪里。在<code class="fe mv mw mx my b">app.component.html</code>中，在工具栏后添加以下元素:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="4fbb" class="nx lh it my b gy ny nz l oa ob">&lt;router-outlet&gt;&lt;/router-outlet&gt;</span></pre><p id="3ce3" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">完美！我们现在有一些内容可以处理。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="2462" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">传送到表单</h1><p id="7e46" class="pw-post-body-paragraph mz na it ma b mb mc ju nc md me jx ne mf nq ng nh mh nr nj nk mj ns nm nn ml im bi translated">为了连接我们的页面以便添加新习惯，我们需要了解Angular <code class="fe mv mw mx my b">routerLink</code>属性。将这个属性添加到一个元素中会使它的行为几乎像一个<code class="fe mv mw mx my b">&lt;a&gt;</code>标签，并且会将你引导到指定的位置。</p><p id="5f91" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">首先，让我们在按钮上添加一条新路线。转到<code class="fe mv mw mx my b">app-routing.module.ts</code>并将另一个路径对象添加到<code class="fe mv mw mx my b">routes</code>数组:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="6bd5" class="nx lh it my b gy ny nz l oa ob">const routes: Routes = [<br/>    { path: 'habit-form', component: HabitFormComponent },  <br/>    { path: '', component: AllHabitsComponent },<br/>];</span></pre><p id="4283" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">接下来，在添加新习惯按钮上，添加一个<code class="fe mv mw mx my b">routerLink </code>将我们发送到新路线:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="4de7" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">保存所有这些并尝试单击您的按钮—我们现在可以进入我们的表单了！如果您在浏览器中查看URL，您应该会看到我们到达那里的路线:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="e8d1" class="nx lh it my b gy ny nz l oa ob"><a class="ae ky" href="http://localhost:4201/habit-form" rel="noopener ugc nofollow" target="_blank">http://localhost:4200/habit-form</a></span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="fc44" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">从组件导航</h1><p id="a432" class="pw-post-body-paragraph mz na it ma b mb mc ju nc md me jx ne mf nq ng nh mh nr nj nk mj ns nm nn ml im bi translated">通常，一些逻辑将与视图间的导航相关联。在这些情况下，您可以从组件中的一个函数导航，而不是使用<code class="fe mv mw mx my b">routerLink</code>。让我们演示如何使用Angular的内置<code class="fe mv mw mx my b">Router</code>类。</p><p id="0f28" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">更新<code class="fe mv mw mx my b">habit-form.component.ts</code>:</p><ul class=""><li id="170d" class="ly lz it ma b mb nb md nd mf oo mh op mj oq ml mm mn mo mp bi translated">从<code class="fe mv mw mx my b">@angular/router</code>导入<code class="fe mv mw mx my b">Router</code>。</li><li id="b3b2" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">在类的构造函数中注入一个路由器属性。</li><li id="befd" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">使用路由器的<code class="fe mv mw mx my b">navigate()</code>功能路由您的应用。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="77c8" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">现在，与我们的习惯表单相关联的click事件将在习惯数组中创建新习惯，并将用户重定向回主列表——注意，新习惯已经被动态添加，并且在初始化<code class="fe mv mw mx my b">all-habits</code>组件后立即显示。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="cfe3" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">设置路线参数</h1><p id="3419" class="pw-post-body-paragraph mz na it ma b mb mc ju nc md me jx ne mf nq ng nh mh nr nj nk mj ns nm nn ml im bi translated">要编辑列表中的一个项目，我们可以将该项目的索引传递给route，然后在表单中拾取它，以检测是否有正在编辑的内容。这需要增加一条新的路线。在<code class="fe mv mw mx my b">app-routing.module.ts</code>中，添加以下路线，其中包含一个名为<code class="fe mv mw mx my b">id</code>的参数:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="2228" class="nx lh it my b gy ny nz l oa ob">const routes: Routes = [<br/>    { path: 'habit-form/:id', component: HabitFormComponent },<br/>    { path: 'habit-form', component: HabitFormComponent },<br/>    { path: '', component: AllHabitsComponent },<br/>];</span></pre><p id="7174" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated"><strong class="ma iu">注意:</strong>顺序很重要！更具体的路由需要列在不太具体的路由之上。如果带有参数的路线列在第二位，应用程序将首先路由到习惯表单，并且永远不会获取id。</p><p id="45fa" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">接下来我们将在<code class="fe mv mw mx my b">all-habits.component.html</code>中添加另一个<code class="fe mv mw mx my b">routerLink</code>属性，这一次我们将把被点击的<code class="fe mv mw mx my b">habit</code>的索引值传递给route:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="f2f8" class="nx lh it my b gy ny nz l oa ob">&lt;mat-icon <br/>    class="habit-icon" <br/>    color="primary" <br/>    [routerLink]="['/habit-form', i]"&gt;edit<br/>&lt;/mat-icon&gt;</span></pre><p id="64c4" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated"><strong class="ma iu">关于这个的一些事情:</strong></p><ul class=""><li id="a5ba" class="ly lz it ma b mb nb md nd mf oo mh op mj oq ml mm mn mo mp bi translated">在本例中，我们使用了方括号，这样我们在双引号内传递的文本将被视为一个JavaScript表达式。方括号对任何角形绑定都是这样，如果没有方括号，双引号之间的内容将被视为文字字符串。</li><li id="2874" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">我们传入的<code class="fe mv mw mx my b">i</code>变量将填充我们路线的<code class="fe mv mw mx my b">:id</code>参数。它对应于我们将要编辑的<code class="fe mv mw mx my b">habit</code>的索引，并允许我们从表单中查找。</li></ul><p id="8514" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">在这一点上，如果您点击编辑图标，您将看到路径填充了被点击习惯的索引。但是我们还没有用编辑习惯填充表单——让我们解决这个问题吧！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="c3bd" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">访问路线参数</h1><p id="2b6f" class="pw-post-body-paragraph mz na it ma b mb mc ju nc md me jx ne mf nq ng nh mh nr nj nk mj ns nm nn ml im bi translated">在<code class="fe mv mw mx my b">habit-form.component.ts</code>中，我们将使用Angular的<code class="fe mv mw mx my b">ActivatedRoute</code>类来访问路由中发送的id。进行以下更新:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="b078" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated"><strong class="ma iu">此代码片段中需要注意的更改:</strong></p><ul class=""><li id="3736" class="ly lz it ma b mb nb md nd mf oo mh op mj oq ml mm mn mo mp bi translated">我们使用<code class="fe mv mw mx my b">ActivatedRoute</code>属性<code class="fe mv mw mx my b">route</code>从URL获取参数。我们传递给<code class="fe mv mw mx my b">get()</code>的字符串对应于我们在<code class="fe mv mw mx my b">app-routing.module.ts</code>中定义的参数名称。</li><li id="60fe" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">那个<code class="fe mv mw mx my b">get()</code>方法返回一个字符串，所以我们在第21行使用<code class="fe mv mw mx my b">+</code>操作符将返回的字符串转换成一个数字，我们可以在<code class="fe mv mw mx my b">editingIndex</code>中存储和使用这个数字。</li><li id="ee01" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">我们使用<code class="fe mv mw mx my b">id</code>参数的存在来告诉我们是否处于编辑模式。</li><li id="d487" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">当您退出表单时，不要忘记将<code class="fe mv mw mx my b">editing</code>设置回<code class="fe mv mw mx my b">false</code>，否则您可能会得到一些意想不到的行为！</li></ul><p id="51f3" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">最后，最后一步是确保我们的Cancel按钮正在路由我们，而不是试图提交一个空的<code class="fe mv mw mx my b">habit</code>。在<code class="fe mv mw mx my b">habit-form.component.html</code>中，更新取消按钮以包含一个空的<code class="fe mv mw mx my b">routerLink</code>:</p><pre class="kj kk kl km gt nt my nu nv aw nw bi"><span id="e247" class="nx lh it my b gy ny nz l oa ob">&lt;button mat-raised-button routerLink=""&gt;Cancel&lt;/button&gt;</span></pre><p id="f8df" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">这将引导我们回到主列表。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="32ed" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">结论</h1><p id="78a6" class="pw-post-body-paragraph mz na it ma b mb mc ju nc md me jx ne mf nq ng nh mh nr nj nk mj ns nm nn ml im bi translated">干得好！我们现在可以使用角度路由来创建、更新、读取和删除习惯。本教程向我们介绍了:</p><ul class=""><li id="242d" class="ly lz it ma b mb nb md nd mf oo mh op mj oq ml mm mn mo mp bi translated">在<code class="fe mv mw mx my b">app-routing.module.ts</code>中设置基本路线</li><li id="0524" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">通过HTML中的一个<code class="fe mv mw mx my b">routerLink</code>属性在路由中传递数据</li><li id="260d" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">使用角度的<code class="fe mv mw mx my b">Router</code>和<code class="fe mv mw mx my b">navigate()</code>从控制器中的功能导航到不同的路线</li><li id="7fcc" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated">使用<code class="fe mv mw mx my b">ActivatedRoute</code>和<code class="fe mv mw mx my b">paramMap</code>访问路线参数数据</li></ul><p id="e633" class="pw-post-body-paragraph mz na it ma b mb nb ju nc md nd jx ne mf nf ng nh mh ni nj nk mj nl nm nn ml im bi translated">谢谢你陪我走过这一切——我希望你学到了一些新东西！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="3b1d" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">资源</h1><ul class=""><li id="6ef0" class="ly lz it ma b mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated"><a class="ae ky" href="https://stackblitz.com/edit/angular-ivy-gtddhr?file=src/styles.scss" rel="noopener ugc nofollow" target="_blank"> Stackblitz演示</a></li><li id="ecf1" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated"><a class="ae ky" href="https://github.com/jessipearcy/basic-routing" rel="noopener ugc nofollow" target="_blank">最终代码回购</a></li><li id="1c3a" class="ly lz it ma b mb mq md mr mf ms mh mt mj mu ml mm mn mo mp bi translated"><a class="ae ky" href="https://angular.io/tutorial/toh-pt5" rel="noopener ugc nofollow" target="_blank">角度文件布线教程</a></li></ul><h2 id="ea54" class="nx lh it bd li od oe dn lm of og dp lq mf oh oi ls mh oj ok lu mj ol om lw on bi translated">更多角度教程</h2><div class="or os gp gr ot ou"><a href="https://medium.com/better-programming/inputs-and-outputs-working-with-angular-components-f3204e6599f" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">输入和输出:使用角度组件</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">学习使用输入属性和输出事件来管理父组件和子组件</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">medium.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi ks ou"/></div></div></a></div><div class="or os gp gr ot ou"><a href="https://medium.com/better-programming/learn-angular-basics-by-building-a-simple-app-using-angular-material-9bbc19aa33cf" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">通过使用角度材料构建一个简单的应用程序来学习角度基础知识</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">奖励:包括使用角度反应形态的一瞥</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">medium.com</p></div></div><div class="pd l"><div class="pj l pf pg ph pd pi ks ou"/></div></div></a></div></div></div>    
</body>
</html>