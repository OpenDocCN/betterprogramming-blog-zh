<html>
<head>
<title>Modeling Testable Dependencies in iOS Codebases</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS代码库中的可测试依赖建模</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/modeling-testable-dependencies-in-ios-codebases-bf370de8b313?source=collection_archive---------12-----------------------#2022-04-22">https://betterprogramming.pub/modeling-testable-dependencies-in-ios-codebases-bf370de8b313?source=collection_archive---------12-----------------------#2022-04-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e1fd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">带有在项目中实现可测试依赖项的选项的代码示例</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a9ccb1d81d7675280c3b80586e681956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kCzCI5mqFjQBRGAajbc6qQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">资料来源:undraw.co</p></figure><p id="7c81" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当你正在开发一个应用程序，并以可测试性为目标时，对如何定义依赖关系有一个大致的概念是很好的。</p><p id="c3db" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面的例子将介绍如何实现这一点的一些选择。</p><h1 id="bd61" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">1.存储数据或内部状态的依赖关系</h1><p id="705e" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">如果它将保存一些数据或状态，它应该存储在内存中的某个地方。记住这一点，最好用引用类型来实现它，在本例中是一个类。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure><h1 id="d22c" class="lr ls iq bd lt lu lv lw lx ly lz ma mb jw mc jx md jz me ka mf kc mg kd mh mi bi translated">2.不存储数据或状态的依赖项</h1><p id="8331" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">如果它不保存数据或状态，您可以使用值类型，即结构。</p><h2 id="d783" class="mq ls iq bd lt mr ms dn lx mt mu dp mb le mv mw md li mx my mf lm mz na mh nb bi translated"><strong class="ak">使用协议</strong></h2><p id="15b7" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">使用协议是使某些东西可测试的最常见的方法，提取一个接口/契约来表示您的依赖关系的API。这样，我们可以将它与依赖注入技术一起使用，以实现预期的可测试性。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure><h2 id="8de7" class="mq ls iq bd lt mr ms dn lx mt mu dp mb le mv mw md li mx my mf lm mz na mh nb bi translated"><strong class="ak">使用结构</strong></h2><p id="888b" class="pw-post-body-paragraph kv kw iq kx b ky mj jr la lb mk ju ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这种技术利用了结构的力量，将API表示为属性，并在创建它们的特殊实例时设置实现。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mo mp l"/></div></figure></div></div>    
</body>
</html>