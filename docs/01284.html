<html>
<head>
<title>How Expo Is Fooling Everyone</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">世博会是如何愚弄所有人的</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-expo-is-fooling-everyone-adf7f34d7528?source=collection_archive---------0-----------------------#2019-08-29">https://betterprogramming.pub/how-expo-is-fooling-everyone-adf7f34d7528?source=collection_archive---------0-----------------------#2019-08-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c60b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Expo不向开发人员展示的隐藏“宝石”</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9c3038e29cfd1b93b94cdb1e05237b76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s0T7H0LYgzsdlr7E"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@finan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">菲南阿克巴</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="1e97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">React Native已经出现了一段时间，并且积累了相当多的追随者。仅仅看一下GitHub库，数字就令人震惊:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/1da4fa149a844187e8f9b73d7dbfc372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LnCUB3IVCqQmWvKB-8hPAQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">看看这些数字</p></figure><p id="f037" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了框架本身，一个新的工具也被创造出来，叫做<a class="ae ky" href="https://expo.io/" rel="noopener ugc nofollow" target="_blank">博览会</a>。现在，您可能会在这一点上感到困惑，因为React Native和Expo之间的差异并不明显。</p><p id="3a7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上，Expo是React Native之上的一个模糊层，允许用户构建应用程序，而不必真的编写本机代码。</p><p id="f8fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它本质上是一个SDK(软件开发工具包),通过向开发人员公开本机组件和各种库，简化了开发本机应用程序的过程。它还有一个内置的CLI(命令行界面)，允许各种操作(创建、日志、发布)。</p><p id="1632" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，我们知道React Native是由脸书开发的，但Expo应该与它没有任何联系，对吗？</p><p id="d1e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是事情变得有趣的地方，因为有许多隐藏的“宝石”没有向使用Expo的开发人员展示。</p><p id="ddbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您已经使用Expo开发并发布了一个应用程序，这可能不会让您感到惊讶。但是，如果您正在考虑这样做，您需要了解我将在本文中介绍的“特性”。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="b972" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">完全公开</h1><p id="5b43" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如果你去世博会的网站，点击链接，你会看到一个标题为<a class="ae ky" href="https://docs.expo.io/versions/latest/introduction/why-not-expo/" rel="noopener ugc nofollow" target="_blank"> <em class="na">为什么不去世博会？</em> </a>。</p><p id="0df6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在文档中，给出了不应该使用Expo的各种原因:</p><ul class=""><li id="3020" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">对所有类型的后台代码执行的支持是有限的。</li><li id="c3ed" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">增加的应用程序大小。</li><li id="22c5" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">使用与Expo不同的推送通知服务。</li><li id="ff3e" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">支持的操作系统的最低版本。</li></ul><p id="76bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来很合法，对吧？他们愿意向我们展示他们的名片，并分享他们工具的一些缺点。</p><p id="37da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对你来说这是诚实。</p><p id="028e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">问题是，他们没有亮出他们所有的底牌，我来这里是要让他们亮出底牌。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4498" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">脸书SDK</h1><p id="0d8e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">您将使用Expo开发的每个应用程序都将包含脸书SDK。</p><p id="bf22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这没有吓到你，应该会的。没有理由明确地将脸书的SDK推给一个应用程序(有人说是手电筒吗？)而这背后的原因在我看来并不无辜。</p><p id="ba65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">众所周知，脸书是一家数据驱动的公司，还有什么更好的方法来收集数据呢？使用Expo时应用程序很大是有原因的，包括脸书的SDK就是其中的一部分。</p><p id="4583" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我是怎么偶然发现这个的？当我将Expo应用程序发布到Google Play商店时，系统通知我，虽然我已经标记了我的应用程序不包含广告，但它确实包含脸书的SDK。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/25fb5156e0dc94f81e07038fa4954379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZvnqF1m8M1vgJfZSBlqY-w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">你说什么</p></figure><p id="2b9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这对您来说仍然不令人担忧，那么考虑一下开发一个应用程序并且不知道有人在您不知情的情况下向代码库插入了一些东西的想法。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4436" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">广告？谁说广告了？</h1><p id="ad0e" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">除了前一点，Expo应用程序还会收集大量的用户数据。如果公开声明，这可能没问题，但目前的现实是，这种情况发生时没有让开发人员知道。</p><p id="c50f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">特别是，所有Expo应用程序都从用户那里收集<a class="ae ky" href="http://www.androiddocs.com/google/play-services/id.html" rel="noopener ugc nofollow" target="_blank">广告ID </a>。</p><p id="4168" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么这是一个问题？</p><p id="d40f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们忽略对开发者隐瞒这一事实，这也使得Expo应用的发行商违反了<a class="ae ky" href="https://play.google.com/about/developer-distribution-agreement.html" rel="noopener ugc nofollow" target="_blank">谷歌的开发者分发协议</a>。特别是违反Android广告id政策和第4.8节的使用。</p><p id="40e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">引用第4.8节:</p><blockquote class="nq nr ns"><p id="4e96" class="kz la na lb b lc ld ju le lf lg jx lh nt lj lk ll nu ln lo lp nv lr ls lt lu im bi translated">“您同意，如果您通过Google Play提供您的产品，您将保护用户的隐私和合法权利。如果用户向您提供或您的产品访问或使用用户名、密码或其他登录信息或个人信息，您同意让用户知道您的产品可以使用这些信息，并且您同意为这些用户提供法律上充分的隐私声明和保护。此外，您的产品只能将该信息用于用户允许您使用的有限目的。如果您的产品存储了用户提供的个人信息或敏感信息，您同意安全地存储这些信息，并且仅在需要时存储。但是，如果用户选择与您签订单独协议，允许您或您的产品存储或使用与您的产品直接相关的个人或敏感信息(不包括其他产品或应用程序)，则该单独协议的条款将约束您对此类信息的使用。如果用户向您的产品提供Google帐户信息，您的产品只能在用户允许您访问该用户的Google帐户时使用该信息，并且只能用于有限的目的。”</p></blockquote><p id="e880" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您正在收集有关用户的数据，您必须为您的应用程序提供隐私策略。</p><p id="3ce2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果你不知道这一点，你的应用程序将从Google Play商店中删除，并且你会收到一封来自Google的可怕的电子邮件。</p><p id="8c4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再说一次，大多数开发者甚至不知道Android的广告id是什么，所以这是Expo使用的一个相当糟糕的策略。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="b669" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">获得APK/国际音标</h1><p id="b9df" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">要获得应用的APK/IPA，您必须使用Expo Dev Tools中的<em class="na">发布</em>按钮，或者使用CLI并运行命令<code class="fe nw nx ny nz b">expo publish</code>。</p><p id="d573" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于这个过程，他们没有告诉你的是，无论你的原始应用程序的大小，这一步可能需要很长时间。多久了？一个多小时。</p><p id="d0eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相比之下，在Android Studio/Xcode中创建一个APK/IPA，你不会明白为什么要花那么长时间。</p><p id="f793" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，世博会的前提是免费的。甚至在他们的<a class="ae ky" href="https://docs.expo.io/versions/latest/introduction/faq/" rel="noopener ugc nofollow" target="_blank"> FAQ </a>中也有说明。但是，你会注意到，当构建运行并且花费太长时间的时候，你会得到一个提示来升级(意思是，付费)Expo中的一个高级服务，这将使你的构建运行得更快。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/b23c2923909ba667b1908bcc3afe61eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PsQ8OBg5OskRRalCKcTm7g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">世博会开发商服务</p></figure><p id="76c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个链接将带你到一个名为<a class="ae ky" href="https://expo.io/developer-services" rel="noopener ugc nofollow" target="_blank"><em class="na">Expo Developer Services</em></a>的页面，每月花费29美元，可以让你的构建时间更快(以及其他服务)。</p><p id="5fe4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不反对Expo从服务中赚钱，也不反对高级服务的概念，但当开发人员的构建时间太长时通知他们这个选项似乎是不太好的。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2ad2" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="b1f4" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">到目前为止，你可能会认为我对世博会有某种怨恨，但说实话，我没有。</p><p id="b718" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">他们为开发者建立了一个很棒的工具，它是免费的，允许更多的人进入移动应用开发世界。</p><p id="9752" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似于生活中大多数免费的东西，你不能认为其背后的动机是清白的。生活中没有什么是没有缺点的，作为一名开发人员，了解这些缺点也是很重要的。</p><p id="d5b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，下一次你在寻找一个免费服务的时候，在你把它添加到你的项目之前，请三思。</p></div></div>    
</body>
</html>