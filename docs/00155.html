<html>
<head>
<title>Let’s Build a Fast, Slick and Customizable Rich Text Editor With Slate.js and React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们用Slate.js和React构建一个快速、灵活和可定制的富文本编辑器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/lets-build-a-customizable-rich-text-editor-with-slate-and-react-beefd5d441f2?source=collection_archive---------1-----------------------#2018-07-15">https://betterprogramming.pub/lets-build-a-customizable-rich-text-editor-with-slate-and-react-beefd5d441f2?source=collection_archive---------1-----------------------#2018-07-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6e8a234148aceaafe528fd50c0dd452e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TaewUxXq_g_YnJP_UZ6upg.png"/></div></div></figure></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="3c84" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">什么是富文本编辑器？</h1><p id="9943" class="pw-post-body-paragraph lg lh it li b lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">富文本编辑器的目的是减少用户将格式表达为有效HTML标记的工作量。富文本编辑器为用户提供了格式化文本的选项。</p><p id="4f89" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">每个人都在某个时候使用过富文本编辑器。那么为什么不造一个呢？以下是一些最常用的富文本编辑器。</p><ul class=""><li id="0563" class="mj mk it li b lj me ln mf lr ml lv mm lz mn md mo mp mq mr bi translated">Reddit、YouTube和黑客新闻评论。</li></ul><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/b2b0793ce80a38d0f321611d8c955cff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*n-rgJqasgr_QH2Opwozzng.gif"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">Reddit评论部分</p></figure><ul class=""><li id="a640" class="mj mk it li b lj me ln mf lr ml lv mm lz mn md mo mp mq mr bi translated">制作内容的在线编辑——写博客、教程、新闻等。</li></ul><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nb"><img src="../Images/5599b8fa271384257cb272fcc59a07c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pQVb26_k5dLX5LsFmG-ZWQ.gif"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">中等</p></figure><ul class=""><li id="4d9f" class="mj mk it li b lj me ln mf lr ml lv mm lz mn md mo mp mq mr bi translated">Twitter推文、提及、标签、投票、列表等。</li></ul><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/537863fea1ad5848e9b339449fd8b401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gaaPl9P86elaFy_bQIrDhA.gif"/></div></div></figure><ul class=""><li id="867e" class="mj mk it li b lj me ln mf lr ml lv mm lz mn md mo mp mq mr bi translated">编辑文档和excel表格，比如谷歌文档，微软Word，Dropbox Paper。</li></ul></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="3fa0" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">Draft.js</h1><p id="332f" class="pw-post-body-paragraph lg lh it li b lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">2016年，脸书开源了他们新的富文本编辑器框架，名为<a class="ae nd" href="https://draftjs.org/" rel="noopener ugc nofollow" target="_blank"> <em class="ne"> Draft.js </em> </a>。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/f3f209c7686b86164067d4bd1dc4ee00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kpAQ2-fDcwWopvBdGzTaCQ.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated"><a class="ae nd" href="https://github.com/facebook/draft-js" rel="noopener ugc nofollow" target="_blank">https://github.com/facebook/draft-js</a></p></figure><p id="74df" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">下面是Draft.js入门讲座。值得观看25分钟的视频，了解脸书团队遇到了什么样的问题，以及他们是如何解决这些问题的。</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="ng nh l"/></div></figure></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="1e42" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">石板. js</h1><p id="3499" class="pw-post-body-paragraph lg lh it li b lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在脸书开源Draft.js后不久，伊恩·斯托姆·泰勒创建了<a class="ae nd" href="https://www.slatejs.org/" rel="noopener ugc nofollow" target="_blank"> Slate.js </a></p><p id="74d2" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">这里有一个<a class="ae nd" href="https://news.ycombinator.com/item?id=14125585" rel="noopener ugc nofollow" target="_blank">黑客新闻线程</a>关于Slate.js的讨论。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/f21585e43ee694d816746ab3f8432329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rPUynvwV7dW_baZxNhOqg.png"/></div></div></figure><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/dcb003f118c2b3676b92a5eb7ddbbfeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b7qYQxPUgc_bp0xOtb-g5Q.png"/></div></div></figure><p id="0caf" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">创建Slate的理由是合理的。让我们通过创建一个富文本编辑器来检查一下。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/afc14a791ac1152de14849b2e37d66f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aH74IAxBJLbZzBM5tqcHkQ.png"/></div></div></figure></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="964c" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">入门指南</h1><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/413b7652e623cbc3c89a9509b8c992e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/1*DQIAfHsHRTYG71v8Wwcghg.gif"/></div><p class="mx my gj gh gi mz na bd b be z dk translated">我们将构建的富文本编辑器</p></figure><p id="6322" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">这个项目需要以下材料:</p><ul class=""><li id="9bc8" class="mj mk it li b lj me ln mf lr ml lv mm lz mn md mo mp mq mr bi translated">文字编辑器，任何都行，随便选。</li><li id="da8a" class="mj mk it li b lj nl ln nm lr nn lv no lz np md mo mp mq mr bi translated"><a class="ae nd" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">安装了npm/Yarn的Node.js </a>。</li><li id="c8c0" class="mj mk it li b lj nl ln nm lr nn lv no lz np md mo mp mq mr bi translated">基本的JavaScript知识。如果你正在学习诀窍——这个学习JavaScript的列表可能对你有用。</li></ul><p id="4818" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">我们走吧！</p><p id="38e3" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">打开你的终端，用<a class="ae nd" href="https://www.npmjs.com/package/create-react-app" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>创建一个新的<a class="ae nd" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>项目。</p><pre class="mt mu mv mw gt nq nr ns nt aw nu bi"><span id="a29b" class="nv kj it nr b gy nw nx l ny nz">npx create-react-app slate-react-rich-text-editor</span><span id="bb30" class="nv kj it nr b gy oa nx l ny nz">cd slate-react-rich-text-editor</span><span id="ca9a" class="nv kj it nr b gy oa nx l ny nz">npm start</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/11a50906a9d2e110c48f127bb43acb65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vOcfOuyVmXm6qREXL4V0Eg.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">启动我们的React应用</p></figure><p id="cfc0" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">Slate公开了一组用于构建编辑器的模块。最重要的是<code class="fe oc od oe nr b">Editor</code>组件。组件是构建一切的基础层。可以把它看作是整个编辑器的根组件。</p><p id="d262" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">首先，我们将创建一个文件夹<code class="fe oc od oe nr b">components</code>。在<code class="fe oc od oe nr b">components</code>目录中，我们将创建两个名为<code class="fe oc od oe nr b">index.js </code>和<code class="fe oc od oe nr b">TextEditor.js</code>的文件。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/01db0af7803476b6dadb64c2044383bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SILMf2H6BecDHgzDEXQ1xg.png"/></div></div></figure><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi og"><img src="../Images/29d151a94aba5deba81aeb02eb3fc505.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IZfyJBVfnbXYVqGTh2DvZw.png"/></div></div></figure><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oh"><img src="../Images/18d4d2269a008e4e6161812d15ad6671.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V5GLKF1AFz1nQMztqa-_xA.png"/></div></div></figure><p id="f192" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">如果我们打开浏览器，这就是我们应该看到的。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oi"><img src="../Images/861d6386a12635a232e0a69a48aca52f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HT-b34sA6nbzfXikt9pCPg.png"/></div></div></figure><p id="f2f8" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">没问题！<code class="fe oc od oe nr b">Editor</code>组件期望一个初始的<code class="fe oc od oe nr b">value</code>——正如你在<a class="ae nd" href="https://github.com/ianstormtaylor/slate/blob/master/packages/slate-react/src/components/editor.js" rel="noopener ugc nofollow" target="_blank">源代码</a>中看到的。</p><figure class="mt mu mv mw gt ju"><div class="bz fp l di"><div class="oj nh l"/></div><p class="mx my gj gh gi mz na bd b be z dk translated">参见最后一个<strong class="ak">属性类型</strong> —设置为<strong class="ak">是必需的</strong></p></figure><p id="bd10" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">让我们将初始值添加到编辑器中。一旦我们对Slate的工作原理有了基本的了解，我们将在后面深入研究数据的确切模型。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/32051db5e017619cd95305a7d32e351a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6nXfo4fv4XS7QgnwWhcvkA.png"/></div></div></figure><p id="ad8d" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">我们最终应该在我们的应用程序上呈现出<code class="fe oc od oe nr b">My first paragraph!</code>。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ol"><img src="../Images/d5074ea28fee555f5c17da17e5669f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gd-UCmrLulVi0QOIwAmwgA.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">被渲染的段落</p></figure><p id="3572" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">起初，文本看起来像一个简单的<code class="fe oc od oe nr b">&lt;p&gt;</code>段落。但是如果我们检查这个元素，有一个从我们身边抽象出来的复杂的海洋。</p><p id="f75a" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">试着点击文本。你看到了什么？</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/3f433cb2e4b1ae46b6be25dacc9c3ff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*r5jblLrB1IIflOVU7epeNg.gif"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">可编辑文本—注意DOM元素的复杂层次结构。这一切都已经从我们的引擎盖下抽象出来，我们可以专注于构建我们的“产品”。</p></figure><p id="b23b" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">文本是可编辑的！如果你没有React开发者工具，这里有一个Chrome应用商店的链接。</p><p id="9bb7" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated"><strong class="li iu">记得</strong>我们在<code class="fe oc od oe nr b">Editor</code>组件中添加了一个<code class="fe oc od oe nr b">onChange</code>事件监听器。</p><ol class=""><li id="b7e4" class="mj mk it li b lj me ln mf lr ml lv mm lz mn md on mp mq mr bi translated"><code class="fe oc od oe nr b">onChange</code>事件监听器正在监听键盘事件。</li><li id="f3c2" class="mj mk it li b lj nl ln nm lr nn lv no lz np md on mp mq mr bi translated">抓到一个按键后。</li><li id="4522" class="mj mk it li b lj nl ln nm lr nn lv no lz np md on mp mq mr bi translated">我们用新的击键更新当前状态。</li><li id="d60c" class="mj mk it li b lj nl ln nm lr nn lv no lz np md on mp mq mr bi translated">派遣新州。</li><li id="fa21" class="mj mk it li b lj nl ln nm lr nn lv no lz np md on mp mq mr bi translated">在屏幕上呈现新状态。</li></ol><p id="e66b" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">但是，编辑器对我们来说还不是很有用。我们遗漏了一些关键功能，比如格式化、将文本保存在某个地方等等。</p></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="278a" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">添加自定义格式</h1><p id="1104" class="pw-post-body-paragraph lg lh it li b lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">常见的有大标题、副标题、<em class="ne">斜体</em>、<strong class="li iu">粗体</strong>、<code class="fe oc od oe nr b">code</code>等。格式化文本。</p><p id="a57d" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">让我们考虑格式化文本的下一步。</p><p id="ee3b" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">一种常见的做法是从按下command键开始，如ctrl或cmd。按下command键告诉编辑我们正在编辑而不是在键入。</p><p id="89c7" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">例如，我们可以做的如下:<code class="fe oc od oe nr b">cmd ⌘+ b</code>或<code class="fe oc od oe nr b">alt + b</code>用于将<strong class="li iu">粗体</strong>添加到我们选择的文本中。</p><p id="0bbc" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">我们的流程将如下所示:</p><ol class=""><li id="8a76" class="mj mk it li b lj me ln mf lr ml lv mm lz mn md on mp mq mr bi translated">监听事件/击键。</li></ol><p id="dc4d" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">2.区分按下的按键，是<code class="fe oc od oe nr b">alt</code>、<code class="fe oc od oe nr b">cmd</code>还是<code class="fe oc od oe nr b">b</code>，按什么顺序？如果这些键真的被按下了会发生什么？</p><p id="e60a" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">3.用所需的格式触发实际的文本更改。</p><p id="f1f4" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">首先为<code class="fe oc od oe nr b">Editor</code>添加一个<code class="fe oc od oe nr b">onKeyDown</code>事件，并传入回调。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/b327756ac9f3adf6bb97679e976d1053.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RcEwuORAMgccKfoik83cYw.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">添加onKeyDown事件侦听器</p></figure><p id="2a1d" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">我们知道用户按了什么键。让我们根据按下的是哪一个键，让一些事情发生。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi op"><img src="../Images/fdd97c0cf0df29daa691e282b34f1f9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OHOEeIv1ffIO6fxr0ZrrNg.png"/></div></div></figure><p id="a3d0" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">很好，现在我们有了所有的逻辑。如果用户按下<code class="fe oc od oe nr b">alt + b</code>，将文本改为粗体。你认为我们应该如何处理造型？</p><p id="e1d4" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">一种方法是创建一个名为<code class="fe oc od oe nr b">BoldMark.js</code>的新的可重用组件，我们可以在每次需要粗体文本时重用它。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oq"><img src="../Images/d0fe34713dc9c5525ab4cdc419500fa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3HJvRMPk-sCu9qPmYdH8kg.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">为粗体文本创建可重用组件</p></figure><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/1c3648e0e94d5ddefaae8a0efdbac153.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UR6KYN0X_acmujn5i9ZWXA.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">导入和导出新组件</p></figure><p id="7e24" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated"><code class="fe oc od oe nr b">Editor</code>组件有一个名为<code class="fe oc od oe nr b">renderMark</code>的道具，它接受回调。在<code class="fe oc od oe nr b">renderMark</code>中，我们可以决定如何设置文本的样式。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi os"><img src="../Images/dc5e410f5358c715db9165f5730dd964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vPsQ0onjHlW_u8ChqQ5Sug.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">导入<strong class="bd ot"> BoldMark </strong>组件</p></figure><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ou"><img src="../Images/5a6d574f76a74db9ec724596ede7afc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cOuoRo-koFDwuuJ3kLeK-Q.png"/></div></div></figure><p id="0ddb" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">来吧，试试看！选择文本并按下<code class="fe oc od oe nr b">alt + b</code>:</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/d930752bc5802e0beeda9dc6ba9bdbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*lUDohPeExsvgKnUo1iomhw.gif"/></div></div></figure><p id="0d7e" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">有用！请注意，<code class="fe oc od oe nr b">BoldMark</code>组件正在VDOM内部呈现。</p><p id="e17f" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">还有一个问题。如果我们改变主意会怎么样？我们想撤销粗体标记。</p><p id="3d0f" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">石板罩着你。我们可以使用<code class="fe oc od oe nr b">toggleMark(‘bold’)</code>来代替添加<code class="fe oc od oe nr b">addMark(‘bold’ )</code>:</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ov"><img src="../Images/55c0206bbc829a3c4509906e09ab0a4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8uqVIFFfR2-2ZMbXmAyLrg.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">注意<strong class="bd ot">切换标记</strong>方法，而不是<strong class="bd ot">添加标记</strong></p></figure><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/ef3058a5f92f5173e2d9ec68d99c400f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LAOCsea6VLaEmpCHDlbLaQ.gif"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">在浏览器中测试我们的<strong class="bd ot"> toggleMark </strong>方法</p></figure><p id="70f1" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">最重要的是，除了斜体的<em class="ne">之外，你能添加同样的功能吗？</em></p></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="f60e" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">意大利语族的</h1><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ow"><img src="../Images/99212ff796f918530cd90455ba124953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3SaPjXG7-3fsb7hx0X86Lw.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">创建斜体标记组件。</p></figure><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ox"><img src="../Images/e2f8aeff788067d9dabaa6d6904abb98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N8tSSolTRLL5Wf1FkPHg0g.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">进出口。</p></figure><p id="f27a" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">接下来，让我们将功能加入到我们的<code class="fe oc od oe nr b">Editor</code>中。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oy"><img src="../Images/b38dcf565ba9b27a072501fd1824b884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NZWcA1QUumDhfGY9pB9nmA.png"/></div></div></figure><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi os"><img src="../Images/1c9fc6758b45c5eb48d6e7b869824541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9I7wq8X_quDdcHDPTQ2UyQ.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">检查按键是否是I</p></figure><p id="17cb" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">并在我们的<code class="fe oc od oe nr b">renderMark</code>方法中包含该组件。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oz"><img src="../Images/cd161a120c078ff1c5305f77058adf33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wszIeKs41dKFQ-ZVJk5JZA.png"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">包括斜体标记类型的情况</p></figure><p id="063c" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">试试吧！</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pa"><img src="../Images/811cfc891d5ab9b340e3dfd2db8bd5d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3UqNMySqxpXQUGiIzABOeQ.gif"/></div></div><p class="mx my gj gh gi mz na bd b be z dk translated">在常规字体和斜体字体之间切换</p></figure><p id="0ede" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">我们正在实现这一目标，我们将完成更多的工作。</p><p id="c8bb" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">第二部分再见！</p><div class="pb pc gp gr pd pe"><a href="https://medium.com/free-code-camp/lets-build-a-fast-slick-and-customizable-rich-text-editor-with-slate-and-react-part-ii-3d3908d89664" rel="noopener follow" target="_blank"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd iu gy z fp pj fr fs pk fu fw is bi translated">让我们用Slate.js和React构建一个快速、灵活和可定制的富文本编辑器——第二部分</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">现在，让我们把它变漂亮</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">medium.com</p></div></div><div class="pn l"><div class="po l pp pq pr pn ps jz pe"/></div></div></a></div><p id="bb73" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated"><a class="ae nd" href="https://github.com/wesharehoodies/slate-react-rich-text-editor/tree/part-1" rel="noopener ugc nofollow" target="_blank"> Github </a>上的源代码:</p><div class="pb pc gp gr pd pe"><a href="https://github.com/indreklasn/slate-react-rich-text-editor/tree/part-1" rel="noopener  ugc nofollow" target="_blank"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd iu gy z fp pj fr fs pk fu fw is bi translated">indreklasn/slate-react-rtf-editor</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">让我们用Slate和React-indreklasn/Slate-React-rich-text-editor构建一个可定制的富文本编辑器</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">github.com</p></div></div><div class="pn l"><div class="pt l pp pq pr pn ps jz pe"/></div></div></a></div><p id="1bf3" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">注:如果你想让你的React游戏更上一层楼，就从<a class="ae nd" href="https://amzn.to/2lcAXxO" rel="noopener ugc nofollow" target="_blank"> <em class="ne">这本书</em> </a>开始吧。</p><p id="9ae1" class="pw-post-body-paragraph lg lh it li b lj me ll lm ln mf lp lq lr mg lt lu lv mh lx ly lz mi mb mc md im bi translated">感谢阅读！</p></div></div>    
</body>
</html>