# 如何在 Angular 中创建汉堡菜单

> 原文：<https://betterprogramming.pub/how-to-create-a-hamburger-menu-in-angular-370b8ebdd7bb>

## 建立一个移动标题，很好地隐藏在汉堡菜单中

![](img/f58242a70a764770c026d0ba11d02b67.png)

由[埃里克·奥迪恩](https://unsplash.com/@odiin?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

上周末，我有机会在当地一个非常有才华的摄影师的网站上工作。这个网站的主要要求之一是要有反应。这意味着导航栏应该在手机上工作良好，这意味着它在使用屏幕空间的方式上应该有创意。

在大型显示器上，导航条上有很大的空间来显示导航链接。然而，平板电脑的空间是有限的，在移动设备上更是如此。我们无法立即显示页面的每个细节。这将是一个可怕的用户体验。在前端世界，我们喜欢把那些导航链接放在汉堡菜单后面。

在这篇文章中，你将会看到如何自己制作这个汉堡菜单。我们会尽量避免任何不必要的工作，所以不要担心 CSS！我们将使用一个图书馆，而不是重新发明轮子。我将指导你完成我的解决方案，并向你展示如何使用 Angular 打开/关闭菜单。别担心，我保证实现你自己的汉堡菜单会比在别处收集你的汉堡菜单花费更少的时间。学着点，快餐公司。

*注:“汉堡菜单”的名字可追溯到 1981 年，设计师* [*诺姆考克斯*](https://www.invisionapp.com/inside-design/pros-and-cons-of-hamburger-menus/) *。它表示该图标包含一个项目列表。*

![](img/b404749572282ca52d9e44342447165a.png)

著名的“汉堡菜单”截图。

# 安装 npm 库

这个库本身已经在 npm 上存在了大约两年。我最近才听说这件事。撰写本文时的版本是 1.1.3，在我迄今为止尝试过的所有浏览器中都能很好地运行。

安装本身可以使用以下命令完成:

```
npm install hamburgers
```

如果你使用 SCSS(像我一样)，你也必须在你的`styles.scss`中添加下面一行。这将确保汉堡菜单的 CSS 被正确加载。这行 CSS 直接在`node_modules`文件夹中找到您需要的样式:

```
@import '~hamburgers/_sass/hamburgers/hamburgers.scss';
```

这就是安装这个库所需要做的全部工作。如果您有不同的设置，您可以使用 npm [站点](https://www.npmjs.com/package/hamburgers)作为指南来自行配置您的环境。

要在您的页面中显示汉堡菜单，只需复制粘贴以下 HTML 代码行:

```
<button **class**="hamburger" **type**="button">
  <span **class**="hamburger-box">
    <span **class**="hamburger-inner"></span>
  </span>
</button>
```

# 点击时触发打开/关闭动画

在我看来，有两种可能的方式来显示从开放到封闭的转变。第一种方式是通过切换一个布尔值来对点击事件做出反应。在菜单中，你可以检查布尔值本身是`true`还是`false`，并相应地显示`is-active`类(使用`ngClass`指令)。

在本文中，我们将寻求不同的解决方案。但这可以是一个很好的锻炼自己的机会。

*注意:这两个选项都有优点，所以请随意选择最适合您的用例的一个。例如，使用指令可以使代码的其余部分更容易理解，因为它将汉堡菜单本身的打开/关闭动画与导航栏的打开/关闭动画分开。我不认为一个解决方案优于另一个。*

这让我们想到了第二个选择。您可以将切换行为封装到它自己的指令(`HamburgerToggle`)中，如下面的代码片段所示。在该指令中，我们为 click 事件添加了一个主机监听器，用于切换一个布尔值(`isActive`)。此外，我们将为`is-active`类添加一个主机绑定。只有当布尔值为`true`时，该类才会显示。

那让我们只有两件事要做。首先，在你的模块中声明指令。其次，在 HTML 模板中添加指令的名称。该按钮现在可以成功地在打开/关闭动画之间切换。

*注意:你可能会注意到我添加了一个旋转动画。汉堡 npm* [*包*](https://www.npmjs.com/package/hamburgers) *自带大量动画可供选择。你真应该去看看。太牛逼了。*

```
<button class="hamburger hamburger--spin" type="button"
        **appHamburgerToggle**>
```

# 触发导航栏上的打开/关闭

在这一部分，我们将在点击汉堡包菜单时取消导航栏。解决方案的第一部分类似于上一节的第一个解决方案。我们将一个布尔值(`collapse`)添加到最初为`true`的组件中。我们也在点击时切换这个布尔值。你大概可以自己算出来，但是看起来是这样的:

```
toggleCollapse(): void {
  this.collapse = !this.collapse;
}
```

现在有多种隐藏或显示导航栏的可能性。这归结为改变 CSS 的可见性/不透明性，取决于你想要的动画。

如果您使用的库已经提供了一些切换功能，您可以使用它。我不会因此而反对你。如果你不是，你可以自己做动画。真的没那么难。我强烈推荐这种方法，因为它是最轻量级的解决方案。它还为您提供了对如何显示动画的最大控制。

注意:如果你想看到它们工作，不要忘记安装角度动画。

在您的组件中，您必须添加状态(在这种情况下，只需添加`false`或`true`)。我们在这里定义 CSS 属性(比如高度和可见性)。

接下来，您必须定义转换。在这种情况下，只有两个转换。我们可以从塌缩状态到未塌缩状态。在这种情况下，我们想要放松，反之亦然。最后，将我们刚刚定义的动画添加到模板中:

```
<div class="navigation-links" **[@collapse]="collapse"**>...</div>
```

你可能已经注意到，一般来说，我们以相反的方式使用`ease-in`和`ease-out`。我们`ease-in`当东西都搬走的时候。我们`ease-out`当东西搬进来的时候。阅读更多关于 CSS 的[技巧](https://css-tricks.com/ease-out-in-ease-in-out/)。

# 结论

几乎在每个有手机版的网站上，我们都能看到汉堡菜单。在本文中，我们已经看到了如何在 Angular 框架中自己实现这一点。我们已经谈到了这个框架提供的一些很棒的东西，比如指令和令人惊叹的动画库。最后，我们有了一个惊人的汉堡菜单，有一个很酷的开关动画。

如果你喜欢它或者有什么要补充的，请在下面的评论中告诉我。感谢阅读！