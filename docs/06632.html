<html>
<head>
<title>Create a React- and SwiftUI-Inspired Web App With Swift for WebAssembly on MacOS With SwiftWasm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Swift在装有SwiftWasm的MacOS上为WebAssembly创建受React和SwiftUI启发的Web应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-a-react-and-swiftui-inspired-web-app-with-swift-for-webassembly-on-macos-with-swiftwasm-7741491b2886?source=collection_archive---------6-----------------------#2020-10-20">https://betterprogramming.pub/create-a-react-and-swiftui-inspired-web-app-with-swift-for-webassembly-on-macos-with-swiftwasm-7741491b2886?source=collection_archive---------6-----------------------#2020-10-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="78a3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">SwiftWasm是实验性的，但这并不意味着我们不能有一些乐趣！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6a3a1df21513ad304b750b1302f418a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bqd5qPhAlBZv0EHGyJ641g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@meric?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">梅里达勒</a>在<a class="ae ky" href="https://unsplash.com/s/photos/spring?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="7add" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一步是设置你的macOS机器使用实验性的<a class="ae ky" href="https://swiftwasm.org/" rel="noopener ugc nofollow" target="_blank">swift wasm</a>(<a class="ae ky" href="https://webassembly.org/" rel="noopener ugc nofollow" target="_blank">web assembly</a>编译目标)。这里有一个关于如何做的指南。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d2a2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装开发工具</h1><p id="215a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们将使用<a class="ae ky" href="https://github.com/TokamakUI/Tokamak" rel="noopener ugc nofollow" target="_blank">托卡马克</a>来创建一个使用SwiftUI启发的语法的web UI。长期目标是创建web用户界面，就像我们为苹果生态系统所做的那样。</p><p id="3c8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是首先，让我们安装一些开发工具来简化这个过程:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="1407" class="ne md it na b gy nf ng l nh ni">brew install swiftwasm/tap/carton</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="640f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">创建一个基于托卡马克的项目</h1><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="bcb2" class="ne md it na b gy nf ng l nh ni">mkdir TokamakApp &amp;&amp; cd TokamakApp<br/>carton init --template tokamak</span></pre><p id="6435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们用实时重载启动开发服务器:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="264a" class="ne md it na b gy nf ng l nh ni">carton dev</span></pre><p id="d629" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在您最喜欢的浏览器中打开<code class="fe nj nk nl na b">http://127.0.0.1:8080</code>。现在每次你编辑项目中的代码，<code class="fe nj nk nl na b">carton</code>都会重新加载浏览器标签。很JS-开发风格。方便。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a84b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">现状核实</h1><p id="b016" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在的理论是，我们可以用托卡马克编写应用程序UI，就好像它是SwiftUI代码一样。现实是托卡马克还远没有完成，所以不是所有的SwiftUI实体都已经完全实现了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fddb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用JavaScript包装器创建你的网站</h1><p id="df63" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们能做的是向下一层，在JavaScript的支持下创建DOM元素。我们可以使用<a class="ae ky" href="https://github.com/swiftwasm/DOMKit" rel="noopener ugc nofollow" target="_blank"> DOMKit </a>。它是浏览器DOM的中级Swift包装器。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="5a77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者我们可以使用<a class="ae ky" href="https://github.com/swiftwasm/JavaScriptKit" rel="noopener ugc nofollow" target="_blank"> JavaScriptKit </a>再往下两层。它是一个围绕JavaScript API的低级Swift包装器，我们用它来直接与DOM交互。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="f758" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在这里找到更多的<a class="ae ky" href="https://github.com/swiftwasm/JavaScriptKit/tree/main/Example" rel="noopener ugc nofollow" target="_blank">例子</a>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6101" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">导入和导出函数</h1><p id="2e25" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在Swift web工具真正稳定并且功能完整之前，我们可能仍然需要使用基于JS的框架来开发web应用程序的某些部分。因此，需要<a class="ae ky" href="https://book.swiftwasm.org/examples/importing-function.html" rel="noopener ugc nofollow" target="_blank">将一些JS功能</a>导入我们的Swift应用程序。但是，或许<a class="ae ky" href="https://book.swiftwasm.org/examples/exporting-function.html" rel="noopener ugc nofollow" target="_blank">将一些Swift功能</a>导出到JS应用程序会更有用，比如导出一个真正执行和计算密集型Swift功能，用于JS界面的图像处理。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="429c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="6205" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Swift for WebAssembly和for web general显然是不成熟和不完整的，但这是一个非常令人鼓舞的开始。我真的希望在不久的将来，它能成为全栈Swift web开发人员的真正选择。</p></div></div>    
</body>
</html>