<html>
<head>
<title>A Bar Chart Race Using SwiftUI 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI 2.0的条形图竞赛</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-bar-chart-race-using-swiftui-2-0-ef84dc68b678?source=collection_archive---------17-----------------------#2020-10-21">https://betterprogramming.pub/a-bar-chart-race-using-swiftui-2-0-ef84dc68b678?source=collection_archive---------17-----------------------#2020-10-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6488" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我的图表系列的第3部分</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5cd9be7eba615a5690ac4e742cff920f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*EAAXs2ydKVvkF_DDp9sAzA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">条形图竞赛</p></figure><p id="0abd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是我在SwiftUI 2.0构建图表系列中的第三篇文章。你现在看到的柱状图，柱状图中的巴伦，是一个动画的、自动上色的、价值转移的、视觉排序的柱状图——我认为这是柱状图领域的终极挑战之一:柱状图竞赛。这些图表现在非常流行。</p><p id="ce66" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那它在做什么？嗯，这只是一个排序的条形图，一个不断变化的动态图，在这个过程中视觉上不断变化。</p><p id="d22c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我是怎么做到的？正在讨论的代码——<em class="lu">Barron条形图，姑且称之为</em>——使用了一个包含四个值的结构。第一个是文本标签，第二个是作为排序依据的值，第三个表示它在整个图表中的位置，最后是条形的颜色。颜色开始是清晰的，在第一次运行时设置，因为它最初绘制图表。</p><p id="0187" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我用一个计时器来给我画的每一条线添加一个延迟。构建完视图后，我使用第二个计时器来循环排序、输入新值和重新排序的过程。包含案例的代码最初只是对条形进行排序，然后根据它们更新值，然后再次对它们进行排序——在最后两个案例中循环，永无止境。</p><p id="23de" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">整个事情的布局是一个ZStack数据结构中的位置字段指示要添加的偏移量。偏移量清楚地表明了条形在整个图表中出现的位置。现在你知道了。我包含了比你需要的多得多的代码，所以你有东西可以玩了。阅读“<a class="ae lv" href="https://medium.com/better-programming/linking-animations-together-to-build-bar-charts-in-swiftui-6a51e3c9bb94" rel="noopener">在SwiftUI </a>中将动画链接在一起以构建条形图”和“<a class="ae lv" href="https://medium.com/better-programming/animating-your-bar-chart-with-combine-messages-d703c4266273" rel="noopener">用组合消息为您的条形图制作动画</a>”以了解关于代码其余部分如何工作的更多信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="4a8a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我必须承认:这比我最初想象的要容易得多，或者是因为我越来越擅长于此。不过，我确实需要向我的同事塔那·海宁格点点头，因为他帮我编写了代码，特别是计时器的想法(以前，我使用线程)。在接下来的几周里，我会考虑对饼状图做同样的事情。</p><p id="ec02" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">保持冷静，继续编码。</p></div></div>    
</body>
</html>