<html>
<head>
<title>Build and Deploy an NFT Whitelist App With React and Solidity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React和Solidity构建和部署NFT白名单应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-and-deploy-an-nft-whitelist-app-with-react-and-solidity-tutorial-96264e17dfd6?source=collection_archive---------10-----------------------#2022-10-04">https://betterprogramming.pub/build-and-deploy-an-nft-whitelist-app-with-react-and-solidity-tutorial-96264e17dfd6?source=collection_archive---------10-----------------------#2022-10-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2521" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">这是一个NFT白名单用例。了解如何使用React.js和ethers.js与已部署的Solidity智能合约进行交互</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0e981fc1ce34883d2a77093e6ef42825.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZYYoDKUxX6vMdcTQD1A2gw.jpeg"/></div></div></figure><p id="918e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<a class="ae ln" href="https://www.simplilearn.com/tutorials/blockchain-tutorial/what-is-nft" rel="noopener ugc nofollow" target="_blank"> NFTs </a>的技术组件上工作可能会产生大量必须实现的功能，这些功能被编码到智能合同和项目的铸造/路线图网站中。</p><p id="910b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">考虑启动一个NFT，并通过有限的白名单授予对特定艺术或激励的独家访问权。您可以使用智能合约创建您的白名单。然后，网站允许用户连接并加入白名单智能合约。</p><p id="87c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本质上，用户可以通过前端与智能合约进行通信的DApp。</p><p id="568b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个项目演示了一个基本的白名单用例。</p><h1 id="52af" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">介绍</h1><p id="7bea" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">在本帖中，我们将创建一个完全成熟的DApp，它将部署在以太坊上。</p><p id="2bf1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Solidity是我们智能合同的技术栈，Alchemy是我们的RPC，Hardhat是我们的本地开发环境。</p><p id="827a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了处理我们所有的区块链交互功能，我们将在前端使用React.js和ethers.js。</p><h1 id="d505" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">先决条件</h1><p id="10f9" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">所需要的只是Solidity编程语言的基础知识和对React.js的中级掌握。</p><h1 id="4c78" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">让我们建造一些东西</h1><p id="bef1" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">计划是首先构建和部署智能契约，然后是前端。</p><p id="33f5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在接下来的几行中，我们将设置我们的<a class="ae ln" href="https://hardhat.org/getting-started/" rel="noopener ugc nofollow" target="_blank"> Hardhat </a>环境，然后编写一些Solidity代码。</p><p id="be29" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我们将为我们的钱包注入测试令牌，并在testnet上发布我们的合同！</p><p id="cb4e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将继续接收我们的合同地址和合同abi。它将作为与区块链合同的沟通渠道。</p><p id="4405" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们把手弄得有点脏。</p><h1 id="55e8" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">设置我们的环境</h1><p id="a374" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">我们将使用Hardhat环境在本地构建和部署我们的智能合约。</p><ul class=""><li id="924e" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">在根目录或任何你想要的地方为你的智能合同创建一个文件夹。</li><li id="597d" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">要配置环境，进入根文件夹并运行以下命令。</li></ul><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="7636" class="nh lp iq nc b gy ni nj l nk nl">// in this order, run these commands</span><span id="a1ca" class="nh lp iq nc b gy nm nj l nk nl">npm init --yes<br/>npm install --save-dev hardhat<br/>npx hardhat</span></pre><p id="1215" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行<code class="fe mz na nb nc b">npx hardhat</code>后，您将会看到一些需要设置的配置:</p><ul class=""><li id="29ed" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">选择创建一个基本示例项目</li><li id="d018" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">对于已经指定的Hardhat项目根，按enter键</li><li id="5bff" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">如果您想添加一个<code class="fe mz na nb nc b">.gitignore</code>，请按回车键</li></ul><p id="dc18" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过安装这些软件包来完成hardhat安装。</p><p id="2296" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">复制并粘贴到您的终端:</p><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="14df" class="nh lp iq nc b gy ni nj l nk nl">npm install --save-dev <a class="ae ln" href="http://twitter.com/nomiclabs/hardhat-waffle" rel="noopener ugc nofollow" target="_blank">@nomiclabs/hardhat-waffle</a> ethereum-waffle chai <a class="ae ln" href="http://twitter.com/nomiclabs/hardhat-ethers" rel="noopener ugc nofollow" target="_blank">@nomiclabs/hardhat-ethers</a> ethers</span></pre><p id="87f0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就是这样！我们可以开始写一些代码。</p><h1 id="3ce2" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">白名单智能合同</h1><p id="ab1d" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">在安装了Hardhat和其他所需的依赖项之后，我们可以看到<code class="fe mz na nb nc b">contracts</code>、<code class="fe mz na nb nc b">scripts</code>和<code class="fe mz na nb nc b">test</code>文件夹包含了<code class="fe mz na nb nc b">Greeting.sol</code>示例智能合约，以及它的部署和测试脚本。</p><p id="2b67" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">确保所有这些文件夹都是空的，因为我们将从头开始创建新的智能合同！</p><p id="dd1f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在<code class="fe mz na nb nc b">contracts</code>文件夹中创建一个新文件，命名为<code class="fe mz na nb nc b">Whitelist.sol</code></p><ul class=""><li id="957b" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">该合同将包括一个<code class="fe mz na nb nc b">uint public maxWhitelistedAddresses</code>,代表我们白名单上的最大账户数。如果达到这个数量，没有人可以加入白名单。在部署时，我们将使用构造函数为这个实体设置值。</li><li id="729f" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">该合同将包括一个<code class="fe mz na nb nc b">uint public numAddressesWhitelisted</code>,代表我们白名单上现有的账户数量。部署后，该值将为零，并且会一直增加，直到达到最大值。</li><li id="39f2" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">合同将包括一个<code class="fe mz na nb nc b">mapping(address =&gt; bool) public whitelistedAddresses</code>。这个逻辑为<code class="fe mz na nb nc b">true</code>设置了一个特定的地址，并立即加入白名单。它还将用于确保没有帐户可以加入白名单两次！</li><li id="a411" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">此外，我们将有一个<code class="fe mz na nb nc b">constructor</code>函数，用于设置可以加入白名单的最大帐户的值，即<code class="fe mz na nb nc b">maxWhitelistedAddress</code>。该值将在部署时设置。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="2a79" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们已经有了所有的类型、一个映射和一个构造函数，我们需要通过添加最重要的函数<code class="fe mz na nb nc b">addAddressToWhitelist()</code>来完成这个契约。</p><p id="d348" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当用户想要加入白名单时，将调用该函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="0dcb" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">把我们的整个合同放在一起</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="2b34" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">配置部署脚本</h1><p id="b8cf" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">在<code class="fe mz na nb nc b">scripts</code>文件夹中，创建一个<code class="fe mz na nb nc b">deploy.js</code>文件。在这个文件中，我们将拥有所有的部署逻辑和设置值构造函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="8c24" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">资助我们的钱包，获得我们的RPC</h1><h2 id="a5a0" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">资助我们的钱包</h2><p id="deb8" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">为了推出我们的智能合约，我们将为我们的<a class="ae ln" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank"> Metamask钱包</a>提供一些testnet(假)硬币用于开发。</p><ul class=""><li id="7d0c" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">访问<a class="ae ln" href="https://faucets.chain.link/rinkeby" rel="noopener ugc nofollow" target="_blank">此链接</a>用一些假的ETH来充实你的钱包</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/5f29773ad31af9cf037b3d25ed87e8a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LDsD_NRTwHr75dnvDY5jww.jpeg"/></div></div></figure><ul class=""><li id="818d" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">在发出请求之前，启动Metamask并切换到Goerli测试网络(由于以太坊的协议变化:Rinkeby、Ropsten和Kovan测试网络可能无法可靠地工作，并将很快被弃用。<a class="ae ln" href="https://blog.ethereum.org/2022/06/21/testnet-deprecation/" rel="noopener ugc nofollow" target="_blank">了解更多</a>。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/ee4d2229f3aef2de5197fed99704664d.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*63EE3dbykkK1avrrs4dDaA.png"/></div></figure><h2 id="11bd" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">获取我们的RPC</h2><p id="319d" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">Alchemy 是一个区块链API服务，它将允许我们轻松地部署我们的智能合约！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/b34dc9bbe244054363afc13e89dd6830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*nr3VChHCt5nGGpyAPgAVOQ.jpeg"/></div></figure><p id="1237" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://auth.alchemyapi.io/" rel="noopener ugc nofollow" target="_blank">注册</a>，然后让我们过去创建我们的应用程序并获取我们的API密钥。</p><ul class=""><li id="af93" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">注册成功后，从仪表板创建应用程序。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/4e531b5dd2639e3b09fb48fe16ad92f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GKpDVDzL5NKeBYdCdJ4jhw.jpeg"/></div></div></figure><ul class=""><li id="32fc" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">填写一些相关数据以完成应用设置。选择以太坊和格利测试网络。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/b2785226aa40ddab4cdc314ed762186c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l-xux6tJJDow6ci5vTGDxw.png"/></div></div></figure><ul class=""><li id="bb2e" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">查看应用程序的详细信息并复制HTTP端点。我们将很快使用这个端点来部署合同。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/a6d2e007707d2dd91fbbddcd3d105d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*VROIA1wJJaoVVAEaPfgNsA.jpeg"/></div></figure><h1 id="2f0c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">让我们完成部署</h1><ul class=""><li id="83f4" class="ml mm iq kt b ku mg kx mh la og le oh li oi lm mq mr ms mt bi translated">在智能合同文件夹的根目录下创建一个<code class="fe mz na nb nc b">.env</code>文件。这个文件将包含您的Alchemy HTTP端点以及您的Goerli私钥。</li></ul><p id="48f7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">切换到Metamask中的Rinkeby测试网络，复制私钥。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/275afe5d757208bd900d3c9a50ba060b.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*C23-gUkfdr_3c3KTp28T_A.jpeg"/></div></figure><ul class=""><li id="6fba" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">在你的。环境文件:</li></ul><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="7dfc" class="nh lp iq nc b gy ni nj l nk nl">ALCHEMY_API_KEY_URL="add-your-alchemy-endpoint-url-here"</span><span id="41fc" class="nh lp iq nc b gy nm nj l nk nl">GOERLI_PRIVATE_KEY="add-your-goerli-private-key-here"</span></pre><ul class=""><li id="027e" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">为了能够将密钥导入到最终的配置文件中，我们需要一个名为dotenv的npm包。</li></ul><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="6afc" class="nh lp iq nc b gy ni nj l nk nl">npm install dotenv</span></pre><h1 id="d2f2" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">部署前的最终配置</h1><ul class=""><li id="eaa0" class="ml mm iq kt b ku mg kx mh la og le oh li oi lm mq mr ms mt bi translated">导航到<code class="fe mz na nb nc b">hardhat.config.js</code>文件。该文件将用于为部署过程配置我们的网络和API密钥。</li></ul><p id="828d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了方便起见，将下面几行代码复制并粘贴到文件中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="c42f" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">编制合同</h2><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="8f41" class="nh lp iq nc b gy ni nj l nk nl">npx hardhat compile</span></pre><h2 id="620f" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">部署合同</h2><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="9249" class="nh lp iq nc b gy ni nj l nk nl">npx hardhat run scripts/deploy.js --network goerli</span></pre><ul class=""><li id="9139" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">瞧啊。我们的合同成功部署在以太坊RInkeby测试网络上！</li><li id="82ca" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">记下控制台中输入的合同地址。它将需要在前端，以便与智能合同通信。</li><li id="0dff" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">成功部署后会创建一个新的<code class="fe mz na nb nc b">artifacts</code>文件夹。该文件夹包含一个. json文件，其中包含我们合同的ABI。复制并保存它，因为我们需要它和合同地址。</li></ul><h1 id="dd8a" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">白名单前端开发</h1><p id="4a36" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">既然我们已经完成了困难的部分，让我们建立我们的战线。对于一般人来说，直接与智能合同进行交流是很困难的。</p><p id="b9cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作为开发人员，我们有责任创建一个交互式界面，用户可以通过该界面向智能合约发送请求。</p><p id="fbf7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本教程的第二部分也是最后一部分，我们将创建一个React app，将其连接到Metamask，并使用<code class="fe mz na nb nc b">ethers.js</code>调用函数。</p><p id="687b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本质上，我们的应用程序将利用基本的React原则，如管理和更新状态以及通过函数调用事务。没什么太复杂的。我掩护你。</p><h2 id="6f76" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">安装React.js和ethers.js</h2><ul class=""><li id="a585" class="ml mm iq kt b ku mg kx mh la og le oh li oi lm mq mr ms mt bi translated">访问<a class="ae ln" href="https://reactjs.org/docs/create-a-new-react-app.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>在您的电脑上安装和设置<code class="fe mz na nb nc b">React.js</code>。</li><li id="1e72" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">成功安装React后，通过运行以下代码将<code class="fe mz na nb nc b">ethers.js</code>安装为依赖项:</li></ul><pre class="kg kh ki kj gt nd nc ne nf aw ng bi"><span id="cb33" class="nh lp iq nc b gy ni nj l nk nl">npm install ethers</span></pre><ul class=""><li id="e22d" class="ml mm iq kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">为了简单和方便，我将在<code class="fe mz na nb nc b">src</code>文件的根目录下进行所有的推理。您可以按照您认为合适的方式安排文件夹结构。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/5b3e016628f648a30831184bf90aba30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pHaCorRcnFxEnRYC6sAZ8w.jpeg"/></div></div></figure><h2 id="0fcf" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">构建前端</h2><p id="d4a9" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">在<code class="fe mz na nb nc b">Whitelist.js</code>文件中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="eb42" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在你有了未过滤的应用程序，让我们实现所有的区块链函数并更新状态。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="a367" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">什么是提供者和签署者？</h1><ul class=""><li id="5bb8" class="ml mm iq kt b ku mg kx mh la og le oh li oi lm mq mr ms mt bi translated">提供者是以太坊网络连接的抽象，它为常规以太坊节点功能提供清晰、一致的接口。</li><li id="58ae" class="ml mm iq kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">ethers中的签名者是以太坊帐户的抽象，可用于对消息和交易进行签名，并向以太坊网络提交签名的交易以执行状态更改。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="59f8" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">获取白名单中的帐户数量并加入白名单</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h1 id="6699" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">将前端组装在一起</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="d82f" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">连接到元掩码之前</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/ca34073857520181cf7d144ed8256e92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MYT5AEuM8dE0AlEH6XkxhA.jpeg"/></div></div></figure><h2 id="459d" class="nh lp iq bd lq np nq dn lu nr ns dp ly la nt nu ma le nv nw mc li nx ny me nz bi translated">连接到元掩码后</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/bac92b8e82ea92f302c61870920418e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGJ8DTXRRJonxVXLVwRybg.jpeg"/></div></div></figure><h1 id="5e99" class="lo lp iq bd lq lr ls lt lu lv lw lx ly jw lz jx ma jz mb ka mc kc md kd me mf bi translated">在你离开之前</h1><p id="871e" class="pw-post-body-paragraph kr ks iq kt b ku mg jr kw kx mh ju kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">随着对React的进一步理解，您会注意到有几个最佳实践，比如定制钩子、ContextAPI和<code class="fe mz na nb nc b">useReducer</code>钩子，它们可以用来使我们的代码更加干净和高效。</p><p id="25ee" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以自己实现哪些功能？</p><p id="ca4f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我为这一课创建了一个库<a class="ae ln" href="https://github.com/kumancev/nft-whitelist" rel="noopener ugc nofollow" target="_blank">，为智能合约和前端创建了一个单独的文件夹。你可以调查一下。</a></p></div></div>    
</body>
</html>