<html>
<head>
<title>Mint Multiple NFTs Using the ERC1155 Standard</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用ERC1155标准创建多个NFT</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/erc1155-example-to-mint-multiple-nfts-cc716673d556?source=collection_archive---------6-----------------------#2022-06-01">https://betterprogramming.pub/erc1155-example-to-mint-multiple-nfts-cc716673d556?source=collection_archive---------6-----------------------#2022-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2387" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">实际操作的例子</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c23f28009a9b9797f77c31369007704e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XABGJH8wUcifp1eu3uPhpw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来自Unsplash</p></figure><p id="9dba" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我的<a class="ae lr" href="https://medium.com/@sandnc.eth/smart-contracts-with-timed-transitions-modifiers-reentrancy-guard-and-withdrawals-f168a4ce386c" rel="noopener">上一篇文章</a>中，我谈到了一些为定时转换、重入保护和撤回资金添加函数修饰符的技巧和提示。</p><p id="f7bd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，这是通过拖放代码片段完成的。</p><p id="8fce" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本文中，我将向您展示如何创建一个使用所有这些部分的ERC1155 NFT合同。</p><p id="68a5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ERC1155标准允许您铸造一个唯一的NFT令牌id的多个副本。这使得它对于分散的游戏应用非常有用，玩家可以在那里铸造剑、魔法药水、制服等。</p><p id="3963" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我将在这里展示的代码可以复制粘贴到<a class="ae lr" href="https://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> ETH-Remix </a>中，以使用各种功能。</p><p id="87f2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我故意省略了<code class="fe ls lt lu lv b">batch mint</code>函数，作为读者的练习。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="d4d0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Open zeppelin拥有非常好的文档来分解他们的<a class="ae lr" href="https://docs.openzeppelin.com/contracts/3.x/erc1155#:~:text=ERC1155%20is%20a%20novel%20token,their%20guides%20before%20moving%20on." rel="noopener ugc nofollow" target="_blank"> ERC1155 </a>标准，这与<a class="ae lr" href="https://docs.openzeppelin.com/contracts/2.x/api/token/erc721" rel="noopener ugc nofollow" target="_blank"> ERC721 </a>标准形成了鲜明的对比，在后者中，一个NFT令牌只能有一个副本。</p><p id="2ac1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">简而言之，当允许的薄荷量等于“1”时，ERC1155 NFT与ERC721 NFT相同。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="32ab" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里是我们将使用的所有函数修饰符。在我的<a class="ae lr" href="https://medium.com/@sandnc.eth/smart-contracts-with-timed-transitions-modifiers-reentrancy-guard-and-withdrawals-f168a4ce386c" rel="noopener">上一篇文章</a>中有所涉及。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="md me l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="7207" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当使用ETH-Remix时，请确保使用双引号输入您的价格，以便输入作为字符串。</p><p id="1512" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如:对于“1乙醚”，请使用“100000000000000000”。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="8a5f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">那么你需要一些方法来跟踪你的NFT储备，并在耗尽储备时停止铸造。ERC1155将管理用户的NFT余额。</p><p id="d385" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以通过将NFT储备推入struct <code class="fe ls lt lu lv b">NFTInfo</code>类型的数组来跟踪它们。然后，您可以创建一个getter函数来返回一个类型(<code class="fe ls lt lu lv b">NFTInfo</code>)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="md me l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="5340" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是此合同的构造者。我在代码中嵌入了示例输入，使得部署和测试契约更加容易，而不必每次都输入构造函数参数。</p><p id="dc62" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您选择这样做，只需注释掉<code class="fe ls lt lu lv b">ids_</code>、<code class="fe ls lt lu lv b">prices_</code>、<code class="fe ls lt lu lv b">maxAmounts_</code>、<code class="fe ls lt lu lv b">beneficiary</code>和<code class="fe ls lt lu lv b">devAddress_</code>的构造函数参数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="md me l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="9de7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下一个关键功能是合同的核心。因为它允许用户帐户创建NFT。只要用户账户有足够的资金，而不是无效的地址，并且用于<code class="fe ls lt lu lv b">tokenID</code>的NFT储备还没有用完，用户账户就被允许铸造NFT。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="md me l"/></div></figure></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="ed2e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">完整的契约代码可以在我的Github上找到，您可以在自己选择的IDE中使用。</p><div class="mf mg gp gr mh mi"><a href="https://github.com/cryptonomicon46/ERC1155.git" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">GitHub—cryptonomicon 46/ERC 1155:ERC 1155，带薄荷和定时转换</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">这是open zeppelin对ERC1155 NFT合同的简单实现。目标是能够设定一个合同…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">github.com</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw kp mi"/></div></div></a></div><p id="335f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">目前就是这样，希望这有助于您理解如何使用ERC1155标准制作NFT。</p><p id="466f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">作为对读者的一个练习，我省略了批量制造函数。<code class="fe ls lt lu lv b">batchMint()</code>应该允许一个用户帐户创建多个<code class="fe ls lt lu lv b">tokenIDs</code>的副本，并且应该可以通过对<code class="fe ls lt lu lv b">mintSingle()</code>功能的微小修改来实现。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="85a2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里有一个链接，链接到<a class="ae lr" href="https://coinsbench.com/erc1155-batchmint-function-a16513fbb937" rel="noopener ugc nofollow" target="_blank"> batch mint函数的一个实现。</a></p></div></div>    
</body>
</html>