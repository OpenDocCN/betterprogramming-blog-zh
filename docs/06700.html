<html>
<head>
<title>What’s New in React Router v6?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React路由器v6有什么新功能？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/whats-new-in-react-router-v6-31930f4aae4c?source=collection_archive---------3-----------------------#2020-10-27">https://betterprogramming.pub/whats-new-in-react-router-v6-31930f4aae4c?source=collection_archive---------3-----------------------#2020-10-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7be7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">找出React路由器中的变化</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a3250de3ee0c4718b5c1646f18d93633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sX8rBJBol5dBp5WIJQrYyw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">官方<a class="ae ky" href="https://github.com/ReactTraining/react-router" rel="noopener ugc nofollow" target="_blank">回购的标志</a></p></figure><p id="c8d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://reactrouter.com/" rel="noopener ugc nofollow" target="_blank"> React Router </a>是一个导航组件的集合，几乎在每个React app中都广泛使用。它是React中最流行的依赖项之一。下一个主要版本(v6)尚未发布。在撰写本文时，它仍处于测试阶段。因为探索新功能总是很好的，所以我想分享我的想法，并让大家先睹为快即将到来的功能和变化。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cc42" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">较小的束尺寸</h1><p id="89c6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">React路由器v6比它的前身小了很多。尺寸实际上减少了60%，这是一件好事。这里是从<a class="ae ky" href="https://bundlephobia.com/" rel="noopener ugc nofollow" target="_blank"> Bundlephobia </a> <em class="mz">中截取的v5和v6的束尺寸对比。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/57ee10e01a998fbc665e142ed99f0731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OCbvGDldVAR9kB_qElHp4Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">反应路由器v5</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/b610c50fbafa68b315c2476108869e7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lmN-eM7BHZIyVjTEu8fyBg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React路由器v6</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4957" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><route>中的渲染组件</route></h1><p id="15dc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在以前的版本中，我们使用<code class="fe nc nd ne nf b">&lt;Route&gt;</code>组件中的<code class="fe nc nd ne nf b">component</code>或<code class="fe nc nd ne nf b">render</code>道具来渲染组件。每当我们需要向渲染组件传递道具时，我们就使用<code class="fe nc nd ne nf b">render</code>道具；否则，我们就用<code class="fe nc nd ne nf b">component</code>。现在，我们可以使用一个<code class="fe nc nd ne nf b">element</code>道具实现这两种场景。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="0309" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如在上面的代码片段中看到的，v6使编写代码变得相当容易，没有任何混乱。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="118f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">更简单的嵌套路由</h1><p id="2d1a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在v6中定义嵌套路由要容易得多。以前，您必须在文件中指定主路线，然后在由主路线呈现的组件中指定子路线，依此类推。现在在v6中，您可以在一个文件中指定所有的路由，这看起来干净整洁。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="1518" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如上所示，在v6中你不需要使用任何字符串匹配或者<code class="fe nc nd ne nf b">useRouteMatch</code>函数。相对而言，语法相当简单。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4860" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><switch>就是现在的<routes/></switch></h1><p id="2f08" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">以前，我们使用<code class="fe nc nd ne nf b">&lt;Switch&gt;</code>并在其中编写<code class="fe nc nd ne nf b">&lt;Route&gt;</code>组件。现在，我们使用<code class="fe nc nd ne nf b">&lt;Routes&gt;</code>代替<code class="fe nc nd ne nf b">&lt;Switch&gt;</code>，尽管功能上没有变化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d621" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">相对行为和可选的精确属性</h1><p id="84ef" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在v6中，你不再需要在<code class="fe nc nd ne nf b">&lt;Route path="/"&gt;</code>上使用<code class="fe nc nd ne nf b">exact</code>道具。这是因为默认情况下，所有的<code class="fe nc nd ne nf b">&lt;Route&gt;</code>路径完全匹配。如果你想匹配更多的URL，因为你有子路由，使用尾随的<code class="fe nc nd ne nf b">*</code>，如<code class="fe nc nd ne nf b">&lt;Route path="users/*"&gt;</code>。所有的路线和链接都自动建立在呈现它们的路线的<code class="fe nc nd ne nf b">path</code>之上，因此，例如，在<code class="fe nc nd ne nf b">&lt;Route path="users/*"&gt;</code>中呈现的<code class="fe nc nd ne nf b">&lt;Link to="me"&gt;</code>将链接到<code class="fe nc nd ne nf b">/users/me</code>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b0be" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">使用历史现在是使用导航</h1><p id="1172" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们经常在应用程序中以编程方式导航到不同的路径。这就是我们利用<code class="fe nc nd ne nf b">useHistory</code>方法的时候，我们使用<code class="fe nc nd ne nf b">history.push(&lt;someurl&gt;)</code>来导航到一些其他的组件。在v6中，<code class="fe nc nd ne nf b">useNavigate</code>被重命名为<code class="fe nc nd ne nf b">useHistory</code>，我们需要使用<code class="fe nc nd ne nf b">navigate(&lt;someurl&gt;)</code>而不是使用history `方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure><p id="3e0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要替换URL，我们可以使用相同的导航方法，并传递一个额外的对象作为参数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ng nh l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="318e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="33e4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我希望这篇文章已经让你对版本6将要发布的时候会发生什么有了一个概念！你可以在<a class="ae ky" href="https://github.com/ReactTraining/react-router/releases" rel="noopener ugc nofollow" target="_blank">最新发行说明</a>中了解更多关于React路由器v6的信息。我希望你喜欢阅读这篇文章。</p><p id="343a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>