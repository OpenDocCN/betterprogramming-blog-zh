<html>
<head>
<title>Build Library Management Software Using Tkinter From Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Tkinter从头开始构建库管理软件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-library-management-software-using-tkinter-from-scratch-f598de2b15d2?source=collection_archive---------0-----------------------#2019-06-13">https://betterprogramming.pub/build-library-management-software-using-tkinter-from-scratch-f598de2b15d2?source=collection_archive---------0-----------------------#2019-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d936" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">因为谁不爱一本好书呢？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0b0a29b5cdb710ceb240ba6a7341c7f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mMD5SlIbFvgkGo3l"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@alfonsmc10?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿尔方斯·莫拉莱斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="1a09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">你有没有想过拥有自己的个人图书馆，或者想知道现实生活中的图书馆管理系统是如何工作的？或者，也许你只是一个读者，想知道你在读什么，图书馆还能提供什么。嗯，作为一名开发人员，你的优势是几乎可以创建任何东西。</p><p id="3173" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们今天将创建一个图书馆管理软件，仅仅使用一个服务器端数据库和<a class="ae ky" href="https://docs.python.org/3/library/tk.html" rel="noopener ugc nofollow" target="_blank"> Tkinter </a>，它可以做各种各样的事情。</p><p id="56e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">所以让我们开始建造这个东西吧！</strong></p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="245e" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">Tkinter是什么？</h1><p id="5bda" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">简而言之，Tkinter是Python中的一个库，它帮助我们构建最简单、最快速的GUI(图形用户界面)应用程序。这是最常用的方法，因为它很容易使用。</p><p id="037d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要了解更多关于Tkinter的信息，请访问Python网站<a class="ae ky" href="https://docs.python.org/2/library/tkinter.html" rel="noopener ugc nofollow" target="_blank"/>，尽管我会推荐查看<a class="ae ky" href="https://www.tutorialspoint.com/python/python_gui_programming.htm" rel="noopener ugc nofollow" target="_blank">这个教程</a> <strong class="lb iu"> </strong>，因为我认为它比官方的更容易理解。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="10db" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">如何使用</h1><p id="9c7f" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">要使用任何模块，首要的规则总是导入它们。在我们的例子中，我们姑且称之为<code class="fe ni nj nk nl b">tk</code>作为速记符号。你的命令应该是<code class="fe ni nj nk nl b">import tkinter as tk</code>。这个模块总是有两件事是绝对必要的。</p><ol class=""><li id="ade4" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated">从我们的模块中添加主窗口对象，这将实际打开窗口，我们将在运行时显示我们的内容。为此，我们有一个名为<code class="fe ni nj nk nl b">Tk()</code>的对象，它在<em class="nv">任何自定义窗口</em>上初始化。<code class="fe ni nj nk nl b">window = tk.Tk()</code>其中<code class="fe ni nj nk nl b">window</code>是我们的主要窗口对象。</li><li id="3eef" class="nm nn it lb b lc nw lf nx li ny lm nz lq oa lu nr ns nt nu bi translated">为了在这个窗口中包含所有的小部件，我们希望它在一个循环中连续运行。Tkinter提供了一个名为<code class="fe ni nj nk nl b">mainloop()</code>的方法，它被放在我们文件的最后，这样窗口总是循环运行，直到用户手动关闭它。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="3fc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要演示这些作品如何看上面的例子。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="6037" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">枕头还是PIL</h1><p id="3946" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">还有一件我们需要的东西是<a class="ae ky" href="https://pypi.org/project/Pillow/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">枕头</strong></a><strong class="lb iu">；</strong>Python的免费库，增加了对打开、操作和保存许多不同图像文件格式的支持。别担心，我们只是用它在我们的主页中添加一个小图片。</p><p id="b227" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦Pillow <strong class="lb iu"> </strong>安装到您的系统中，您就可以导入它并开始使用了。你还需要一个图像文件，它会放在你的主屏幕上，所以你可以随意选择你自己的图像，或者你可以用我的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="ccdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pillow有很多应用程序，但是我们将使用的是<strong class="lb iu">图像</strong>模块。要将Pillow导入您的文件，请键入<code class="fe ni nj nk nl b">from PIL import Image</code>，然后键入您将存储图像的对象。<code class="fe ni nj nk nl b">img = Image.open("path or image")</code>。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="9bf6" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">将所有包安装到您的Python环境中</h1><p id="75cc" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">在我们的源代码中实现和使用所有模块之前，每次添加新的包时，总有一个非常重要的步骤需要遵循，即在Python环境中安装它。</p><p id="803f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个过程非常简单——您只需要选择一个终端。此外，您还必须确保您有<strong class="lb iu"> pip </strong>可用。你可以通过输入<code class="fe ni nj nk nl b">pip --version</code>来检查这一点</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/214506bd0e558883932a3dee25a8fd3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ISyvz-JkKX4fAhsJszK8zw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">pip版本</p></figure><p id="93f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你已经从源代码安装了Python，用来自<a class="ae ky" href="https://python.org/" rel="noopener ugc nofollow" target="_blank">python.org</a>的安装程序，或者通过<a class="ae ky" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">家酿</a> <strong class="lb iu"> </strong>你应该已经有了pip。如果您使用的是Linux并使用OS软件包管理器安装，您可能需要单独安装pip。</p><h2 id="2c22" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">安装软件包</h2><p id="8d97" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">要在Python环境中安装包，请在任意终端中输入以下内容:</p><pre class="kj kk kl km gt oq nl or os aw ot bi"><span id="2521" class="oe mm it nl b gy ou ov l ow ox">pip install tkinter<br/>pip install pillow<br/>pip install pymysql</span></pre><p id="23c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果您使用Python的任何其他发行版(我使用Anaconda3)，那么安装包的步骤会有所不同。首先，打开Anaconda提示符<strong class="lb iu">，</strong>然后键入以下内容:</p><pre class="kj kk kl km gt oq nl or os aw ot bi"><span id="f179" class="oe mm it nl b gy ou ov l ow ox">conda install -c anaconda tkinter     #Once prompted press y<br/>conda install -c anaconda pillow      #Once prompted press y<br/>conda install -c anaconda pymysql     #Once prompted press y</span></pre></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="2df1" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">我们的最终产品应该是什么样的</h1><p id="6238" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">在这个项目中，我们将创建的功能是简单但分支的，所以如果您记下我们将要构建的部分会更好:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">期末专题概述</p></figure><ol class=""><li id="d278" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated">我们将创建一个简单的主页，用户可以选择是作为一名员工登录(拥有所有权力)，还是作为一名学生登录(选项较少)。</li><li id="a6f1" class="nm nn it lb b lc nw lf nx li ny lm nz lq oa lu nr ns nt nu bi translated">我们将为首次用户创建一个注册页面，也为现有用户创建一个登录页面。(适用于员工和学生)。</li><li id="c75f" class="nm nn it lb b lc nw lf nx li ny lm nz lq oa lu nr ns nt nu bi translated">一旦登录，用户将获得某些菜单选项。如果以员工身份登录，他们拥有添加图书、搜索图书、删除图书甚至向学生发放任何图书的所有权限。但是如果他们作为学生登录，他们只有两个选择；查看所有书籍或搜索特定的一本书。</li></ol><p id="1f8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后但同样重要的是，我们将使用一个纯粹使用<a class="ae ky" href="https://www.mysql.com/" rel="noopener ugc nofollow" target="_blank"> MySQL </a>的服务器端数据库，这样我们创建的所有记录都可以被正确保存。</p><p id="a18f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击此处查看完整源代码:</p><div class="oz pa gp gr pb pc"><a href="https://github.com/S-ayanide/Library-Manager" rel="noopener  ugc nofollow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">s-ayan ide/图书馆经理</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">一个图书馆管理软件，在这里你可以查看你的图书馆里所有的书，给学生发书，并做一个…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">github.com</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq ks pc"/></div></div></a></div></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="45fc" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">主页</h1><p id="60bc" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">每当有人打开我们的应用程序时，这将是主仪表板。它给用户两个选择；以员工或学生身份登录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/4069e8ccb382eb903e346eb3eb0b41b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9DfsQhwaGvy2alCph6HQA.png"/></div></div></figure><p id="bf19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们添加我们的背景图片。请随意选择您自己的图像，但在这种情况下，我将从源文件中选择我的图像。</p><p id="ea35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<strong class="lb iu">枕头</strong>的<strong class="lb iu">图像模块</strong>制作一个<strong class="lb iu">图像对象</strong>，就像我们在<code class="fe ni nj nk nl b">background_image = Image.open('&lt;myimage&gt;')</code>之前做的那样。现在你的图像存储在这个对象中，但是要在窗口中显示它，我们需要<a class="ae ky" href="https://pillow.readthedocs.io/en/4.2.x/reference/ImageTk.html" rel="noopener ugc nofollow" target="_blank"> ImageTk </a>，这是Pillow包的另一个模块。</p><p id="e50b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你不能只显示没有背景的图像。为此，您必须创建一个<a class="ae ky" href="https://www.python-course.eu/tkinter_canvas.php" rel="noopener ugc nofollow" target="_blank">画布</a>小部件。它们是长方形的盒子，用于绘画或其他复杂的布局。</p><p id="6bdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果用户增加了窗口的大小，你不希望画布停留在固定的高度和宽度。为了实现这个想法，我们从图像对象中提取了<code class="fe ni nj nk nl b">ImageWidth</code>和<code class="fe ni nj nk nl b">ImageHeight</code>，每当窗口大小增加时，我们将画布尺寸乘以一个系数“<strong class="lb iu"> n”、</strong>，该系数不应小于0.25或大于5(图像变得太小或太大)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="28e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了在标题部分产生双重重叠，我们使用了两个框架并用不同的颜色将它们重叠起来。最后，两个简单的按钮连接到自定义功能，这将把用户带到注册和登录页面的按钮点击(我们还没有创建)。</p><p id="d031" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nv">注意:我们使用</em> </strong> <code class="fe ni nj nk nl b"><strong class="lb iu"><em class="nv">place()</em></strong></code> <strong class="lb iu"> <em class="nv">而不是</em> </strong> <code class="fe ni nj nk nl b"><strong class="lb iu"><em class="nv">pack()</em></strong></code> <strong class="lb iu"> <em class="nv">因为它提供了更好的可视化以及更好的组件放置。</em> </strong></p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="fd88" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">注册和登录</h1><p id="41bd" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">用户点击后，我们将为员工和学生提供单独的注册和登录窗口。(属性不同)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/967bd1821f9900f05e9640e3d07777aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MH0JXXMdnyDE6fYVVXQQ0w.png"/></div></div></figure><p id="fa42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了创建这个功能，我们将添加三个功能——员工注册<code class="fe ni nj nk nl b">EmpRegister()</code>、学生注册<code class="fe ni nj nk nl b">studentRegister()</code>和登录<code class="fe ni nj nk nl b">Login()</code>。然而，在实现这个之前，我们需要清空之前的屏幕，否则所有的新标签和标题将会重叠，我们将得不到我们想要的输出。</p><p id="95c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了清除所有我们不需要的先前的组件，我们在我们正在创建的函数中将它们设置为<code class="fe ni nj nk nl b">global</code> <strong class="lb iu"> <em class="nv"> </em> </strong>。例如，如果您的父函数有一个标签框架，并且父函数正在调用子函数，那么您应该在子函数中将组件设为全局的，然后在那里销毁它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="26fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个窗口中，我们已经销毁了所有我们不需要的组件，并添加了一个新的画布，给它的背景“浅海滩阴影”。在中间，我们创建了一个蓝绿色的标签框架，并在其中添加了所有我们需要的带有输入框的标签。</p><p id="3868" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建两个简单的按钮，即<strong class="lb iu">提交</strong>和<strong class="lb iu">退出</strong>。这些按钮将在整个项目中派上用场。无论我们创建什么函数，我们都可以使用<code class="fe ni nj nk nl b">command = &lt;functionName&gt;</code>回调它们，因此，在我们创建注册或登录函数后，我们只需将它们链接到提交按钮本身。</p><p id="aac7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦用户输入他们的凭证，我们就调用一个<code class="fe ni nj nk nl b">getter</code> <strong class="lb iu"> </strong>函数，顾名思义，这个函数获取所有输入的值，并将它们存储在相应的变量中。稍后，我们将这些细节添加到我们的MySQL <strong class="lb iu"> </strong>数据库中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="3934" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在获得所有值并执行必要的数据库处理后，我们清除输入字段。如果用户不得不删除他们输入的内容，这被认为是不好的做法。相反，通过实现<code class="fe ni nj nk nl b">delete(0,END)</code>，我们确保我们的软件<strong class="lb iu">在用户点击<strong class="lb iu">提交</strong>按钮后自动清除</strong>输入字段值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oc l"/></div></figure><p id="073e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">验证用户输入的所有值，如果满足所有条件，显示一个消息框，<strong class="lb iu"> </strong>，提示“您已成功登录”，并转到菜单。否则，您将看到不符合标准的错误/验证。</p><div class="oz pa gp gr pb pc"><a href="https://github.com/S-ayanide/Library-Manager/blob/master/main.py" rel="noopener  ugc nofollow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">s-ayan ide/图书馆经理</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">更多信息请查看上述功能…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">github.com</p></div></div><div class="pl l"><div class="pt l pn po pp pl pq ks pc"/></div></div></a></div></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="0ca4" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">创建菜单</h1><p id="c739" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">现在您已经成功登录，并且能够从注册用户那里获取数据，让我们创建一个菜单屏幕(实际上是两个；一个给员工，一个给学生)。应用声明全局组件的相同概念，我们删除这个屏幕中不需要的所有资产/组件小部件，然后创建一个新的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/3d64816f11a751662556e901ed697546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nyk8k_rdFAKEApaF4SNdjg.png"/></div></div></figure><p id="1d47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从现在开始所有的屏幕都相当简单。它只有一个标题框和许多中间的黑色按钮，功能包括增加一本书，删除一本书等等。</p><p id="d7bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你可能知道，为了实现这些功能，我们需要创建一个新的函数，我们将通过按钮调用它。因此，与其把一个文件塞满，不如把它们分开并创建新的文件，从现在开始我们将把它们导入到主项目中(这也意味着所有这些文件将在一个新窗口中打开，因为我们在它们里面有<code class="fe ni nj nk nl b">Tk()</code>)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="f056" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似地，将为学生创建另一个菜单功能，只有两个按钮——查看所有书籍和仅搜索特定书籍——因此它的大小会小得多。在每个按钮的<code class="fe ni nj nk nl b">command</code>部分，您可以看到它们附带的某些功能。它们只不过是我告诉你要保持分离的功能，这些功能将在以后导入。</p><p id="ad22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面就来一一说说这些简单的功能。</p><h2 id="245a" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">添加书籍</h2><p id="32ee" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">一个窗口，员工可以在其中将图书添加到图书馆，并提供有关图书的某些信息。(图书ID、名称等)</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">添加书籍</p></figure><h2 id="720a" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">AddBooks()</h2><p id="523a" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">这个函数创建一个新的画布，它在窗口打开时为窗口提供蓝色背景。此外，在中心有一个黑色标签框架，其中包含标签和条目，信息包括图书ID、标题、主题、作者和图书状态(可用/已发行)。一旦点击，提交<code class="fe ni nj nk nl b">bookRegister()</code>就被调用。</p><h2 id="1c49" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">登记簿()</h2><p id="27e0" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">这将获取用户输入的所有值，创建一个到数据库的连接，并将所有值插入其中。维奥拉，你的书被添加了。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将书籍添加到数据库中</p></figure><h2 id="39c4" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">删除图书</h2><p id="8d74" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">员工可以从图书馆删除图书的窗口。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">删除图书</p></figure><h2 id="f64d" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">删除()</h2><p id="69ec" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">这个函数创建一个新的画布，它在窗口打开时为窗口提供灰色背景。在中心有一个黑色标签框，它包含一个标签和一个请求图书ID的条目。按下“提交”后，<strong class="lb iu"> <em class="nv"> </em> </strong>设置对<code class="fe ni nj nk nl b">deleteBook()</code>函数的回调。</p><h2 id="f902" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">删除图书()</h2><p id="d4f1" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">这将从输入字段中获取值，并从表中删除该书。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从数据库中删除书籍数据</p></figure><h2 id="c1fe" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">查看所有书籍</h2><p id="0f09" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">这个窗口向我们展示了我们图书馆中所有书籍的列表。每当我们添加任何显示在此处的新书时，我们在表格中所做的任何更改都将反映在此处。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查看书籍</p></figure><h2 id="a54e" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">视图()</h2><p id="b8ae" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">有一个画布，在背景上提供浅黄色阴影。也有一个标题框架，就像我们以前一样。和显示表格的标签框架。</p><p id="fa8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个函数跟踪y坐标，在显示每个数据后，它将坐标向下移动0.2，给我们一个类似表格的结构。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">以表格形式查看图书馆中的所有书籍</p></figure><h2 id="9b84" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">搜索书</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">搜索书</p></figure><p id="a387" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">和<strong class="lb iu">删书一模一样。</strong>唯一的区别是它将框架全球化，并在搜索后删除它们，因为它在同一个框架中显示结果。</p><h2 id="7cd8" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">搜索()</h2><p id="01f0" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">它从表中获取数据(主题),并返回所有匹配的数据。例如，如果用户搜索Python，它会显示所有带有<em class="nv"> Subject = Python </em>的书籍。</p><p id="f6e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击按钮后，它会销毁之前的标签和条目，只在那里显示搜索结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">搜索给定主题的书籍</p></figure><h2 id="96e1" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">发行书</h2><p id="8028" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">该窗口为员工提供了向学生发放图书的选项，前提是他输入了正确的图书ID、正确的学生编号以及正确的员工ID。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">发行书籍</p></figure><h2 id="6a5b" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">发行书籍()</h2><p id="9b0f" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">创建一个带有标题框架的紫色画布，以及一个带有三个输入框的标签框架。</p><p id="b867" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在点击<strong class="lb iu">发布</strong>时，它会创建一个对<code class="fe ni nj nk nl b">issue()</code>的回调，该回调会完成这里的大部分工作。</p><h2 id="f5c3" class="oe mm it bd mn of og dn mr oh oi dp mv li oj ok mx lm ol om mz lq on oo nb op bi translated">问题()</h2><p id="2912" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">获取用户输入的值，并检查用户输入的<strong class="lb iu">图书ID、员工ID和学生编号</strong>是否存在于数据库中。当且仅当他们三个都存在，并且这本书的状态为“可用”(这意味着可用)，这本书才会发给学生。</p><p id="5280" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">成功发行图书后，图书的状态从“<strong class="lb iu">有效</strong>变为“<strong class="lb iu">已发行</strong>”。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">向学生发放图书并更新图书状态</p></figure><p id="9e83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个软件就这么多了。在学生部分，您有相同的按钮(查看所有书籍并搜索一本书)，因此只需为您刚刚创建的相同函数设置一个回调。</p><p id="8531" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您阅读本文。我真的很感激所有的努力。如果你在创建软件时遇到任何问题，试着将它们与我的源代码进行比较，或者在下面评论，我会试着回答它们。</p></div></div>    
</body>
</html>