<html>
<head>
<title>The Docker Container Restart Cheat Sheet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker容器重启备忘单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-brilliant-ways-to-docker-restart-containers-successfully-1a8dc22022f2?source=collection_archive---------18-----------------------#2020-10-08">https://betterprogramming.pub/5-brilliant-ways-to-docker-restart-containers-successfully-1a8dc22022f2?source=collection_archive---------18-----------------------#2020-10-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dd23" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">重启Docker容器的5种简单方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/723fe8405e22c8af1d5613194ccb8681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vDqZVdmQ0T2B-4OL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">拉尔夫·哈特在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="1d87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们像专家一样运行Docker容器。</p><p id="d144" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，学习如何利用这五个Docker重启容器技巧来保持Docker容器的运行。</p><p id="ad14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始将Docker容器作为单个进程运行需要几个命令。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6ef0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak"> 1。如何列出每个正在运行的Docker容器</strong></h1><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="e7ba" class="mz md it mv b gy na nb l nc nd">docker ps</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="693c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak"> 2。如何列出(所有)正在运行的Docker容器</strong></h1><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="8515" class="mz md it mv b gy na nb l nc nd">docker ps -a</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="917c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak"> 3。如何使用Docker分离模式将每个Docker容器作为后台进程运行</strong></h1><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="a7db" class="mz md it mv b gy na nb l nc nd">docker run -d </span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cf7d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak"> 4。如何运行每个Docker容器并将输出分配给你的终端？</strong></h1><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="49cd" class="mz md it mv b gy na nb l nc nd">docker run -d -p 80:80 --name &lt;IMAGE_NAME&gt; -t &lt;IMAGE_NAME&gt;</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ed80" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak"> 5。如何在退出后重启Docker容器？</strong></h1><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="40b7" class="mz md it mv b gy na nb l nc nd">docker update --restart unless-stopped &lt;CONTAINER_ID&gt;</span></pre><p id="11d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一笔大交易。如果您的实例/服务器关闭，您的容器现在将自动启动！</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="3f59" class="mz md it mv b gy na nb l nc nd">docker update --restart unless-stopped $(docker ps -q)</span></pre><p id="8b13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们确保列出的所有集装箱都得到相同的待遇。参见上面的例子。我们将结合我们在前几个技巧<em class="ne">中学到的内容。</em></p><h1 id="70b7" class="mc md it bd me mf nf mh mi mj ng ml mm jz nh ka mo kc ni kd mq kf nj kg ms mt bi translated">6.清理你的Docker系统文件</h1><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="3fd5" class="mz md it mv b gy na nb l nc nd">docker system prune </span></pre><p id="af39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在提示符下输入-Y来清理docker文件</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="5f78" class="mz md it mv b gy na nb l nc nd">WARNING! This will remove:</span><span id="efe1" class="mz md it mv b gy nk nb l nc nd">- all stopped containers</span><span id="193a" class="mz md it mv b gy nk nb l nc nd">- all networks not used by at least one container</span><span id="4642" class="mz md it mv b gy nk nb l nc nd">- all dangling images</span><span id="51a3" class="mz md it mv b gy nk nb l nc nd">- all build cache</span><span id="53a5" class="mz md it mv b gy nk nb l nc nd">Are you sure you want to continue? [y/N] y</span></pre></div></div>    
</body>
</html>