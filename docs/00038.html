<html>
<head>
<title>Learn How To Build: Astronomy Picture of the Day App With NASA API and React + Redux — Part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解如何构建:使用NASA API和React + Redux的每日天文图片应用程序—第一部分</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/learn-how-to-build-astronomy-picture-of-the-day-app-with-nasa-api-and-react-redux-e462ef0c806c?source=collection_archive---------7-----------------------#2017-07-12">https://betterprogramming.pub/learn-how-to-build-astronomy-picture-of-the-day-app-with-nasa-api-and-react-redux-e462ef0c806c?source=collection_archive---------7-----------------------#2017-07-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6b4b8c2575e6658b2ccf2f7adb19e508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iNl3gWx8xHwI-CHXSoyO3Q.png"/></div></div></figure></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="1fdf" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">演示</h1><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lg"><img src="../Images/cb5931b41b978b3ea0d92ad0314793e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aXEgLQqr8U-o9xXuK-FFaA.gif"/></div></div></figure><p id="9398" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我最近发现<a class="ae mj" href="https://api.nasa.gov/" rel="noopener ugc nofollow" target="_blank"> NASA有一个公共API </a>。酷！今天就让我们用API来构建一些东西吧！</p><p id="bd90" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们要建造什么？我们要建一个叫<strong class="ln iu"> </strong> <em class="mk">天文日图</em>的app！</p><h2 id="8368" class="ml kj it bd kk mm mn dn ko mo mp dp ks lw mq mr kw ma ms mt la me mu mv le mw bi translated">先决条件</h2><p id="0247" class="pw-post-body-paragraph ll lm it ln b lo mx lq lr ls my lu lv lw mz ly lz ma na mc md me nb mg mh mi im bi translated">基本的JavasScript经验。</p><p id="d3e0" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们使用<a class="ae mj" href="https://facebook.github.io/react/" rel="noopener ugc nofollow" target="_blank"> React </a>构建应用程序UI，使用<a class="ae mj" href="https://github.com/mzabriskie/axios" rel="noopener ugc nofollow" target="_blank"> Axios </a>获取数据，使用<a class="ae mj" href="http://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux </a>管理应用程序状态。</p><p id="d768" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">此外，我们不要忘了Webpack，它将为我们的浏览器编译所有内容。伟大的工作流程！</p></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="726e" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated"><strong class="ak">第一步——脚手架</strong></h1><p id="5260" class="pw-post-body-paragraph ll lm it ln b lo mx lq lr ls my lu lv lw mz ly lz ma na mc md me nb mg mh mi im bi translated">请从这个存储库中获取我们的Webpack配置。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/d44a366964def723e9d4188eda55ac22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TAKfyncl0BRuw9vvfgtBoA.png"/></div></div></figure><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/e8beb8ac0f38d98f4382ecb5c3342648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKkZGsrr4B6IHSCTkJa55Q.png"/></div></div></figure><ol class=""><li id="aa10" class="ne nf it ln b lo lp ls lt lw ng ma nh me ni mi nj nk nl nm bi translated">我们将把当前项目重命名为<code class="fe nn no np nq b">nasa-react-redux</code>。</li><li id="fe2f" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated">改变目录，跳转到分支<code class="fe nn no np nq b">chapter-5</code>，做一个<code class="fe nn no np nq b">git pull origin chapter-5</code>。</li><li id="0598" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated">移除<code class="fe nn no np nq b">.git</code> <strong class="ln iu"> </strong>，因为我们不想让我们的小项目与Webpack指南存储库相关联。</li><li id="971b" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated">安装npm依赖项:<code class="fe nn no np nq b">npm install</code>或简称<strong class="ln iu"> </strong> <code class="fe nn no np nq b">npm i</code>。</li></ol><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/2d22d1a20a452d72fc3e56e219eb6e50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RDgtmN-OtQtrVVTGOQk1aw.png"/></div></div></figure><p id="7965" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">让我们启动我们的Webpack配置，用我们最喜欢的文本编辑器打开项目。</p><p id="c407" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">启动Webpack的命令是<code class="fe nn no np nq b">npm run start</code> <strong class="ln iu"> </strong>，如果一切正常，您应该会看到如下内容。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/b3fe5e784db51b4654977b48218b78e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uYsbdrNKzRJqoO2lXjWqjg.png"/></div></div></figure><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/73ff0022c4603061003472e078dc28d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fwF9N0A7NvS6KlZPI33SLw.png"/></div></div></figure><p id="862c" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">你已经通过了脚手架部分，进入第二步！</p></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="e37f" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">第二步——注册一个NASA API密钥</h1><p id="3721" class="pw-post-body-paragraph ll lm it ln b lo mx lq lr ls my lu lv lw mz ly lz ma na mc md me nb mg mh mi im bi translated">前往NASA官方网站<a class="ae mj" href="https://api.nasa.gov/index.html#apply-for-an-api-key" rel="noopener ugc nofollow" target="_blank">注册一个API密匙</a>。它是非常直接的。钥匙应该马上就能拿到。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nz"><img src="../Images/bb52c4a434d5aef60966a3c05a51d65a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wIGAKSXUIPMaYDLD_-7bXw.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">注册并接收API密钥</p></figure><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/5a7f78f06d13f428b86e4a11d2464a00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIBJueH1f1UJ64PYKXm5tA.png"/></div></div></figure><p id="e8d4" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">API密钥也会发送到您的电子邮件中。把钥匙放在安全的地方。</p></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="cb1d" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">第3步—使用React构建应用程序本身</h1><p id="0ecd" class="pw-post-body-paragraph ll lm it ln b lo mx lq lr ls my lu lv lw mz ly lz ma na mc md me nb mg mh mi im bi translated">由于这是一个相当容易构建的应用程序，让我们先用React本身来构建应用程序，然后用React+Redux来构建，这样我们就可以比较工作流了。我们也将理解<em class="mk">为什么</em>我们甚至需要像Redux这样的状态容器。</p><p id="43e5" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">React当前设置的简要说明:</p><p id="dc1a" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们在<code class="fe nn no np nq b">public<strong class="ln iu">/</strong></code>里面有一个<code class="fe nn no np nq b">index.html</code> <strong class="ln iu"> </strong>，在<code class="fe nn no np nq b">src/</code>里面有一个<code class="fe nn no np nq b">index.js</code>。</p><p id="afbc" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">简而言之——我们在<strong class="ln iu"> </strong> <code class="fe nn no np nq b">index.html</code>中有一个<code class="fe nn no np nq b">#root</code> div，它挂钩并做出反应。我们让Webpack为浏览器读取的普通JavaScript编译我们的React。</p><p id="1b14" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">显然这是一个可笑的过于简单的解释，但你得到了主要的概念。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/521bdaa530e846c039de8498c213c9fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35HhSJwXTIu_k6DEjGsDVQ.png"/></div></div></figure><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi og"><img src="../Images/b24fd5dbb937bd296ee8a629c96cc1d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W8SWhhnTT8d_5mhm0k7vBA.png"/></div></div></figure><p id="4ddb" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">注意:如果你觉得这对你来说太难了，试着用普通的HTML/CSS/JS建立几个网站，当你更有信心的时候再回来——当你刚刚开始的时候，这可能很难。</p><p id="59d8" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">现在加快了步伐。</p><ol class=""><li id="e7c5" class="ne nf it ln b lo lp ls lt lw ng ma nh me ni mi nj nk nl nm bi translated">我们在<code class="fe nn no np nq b">src/app</code> <strong class="ln iu"> </strong>里面做了一个新的<code class="fe nn no np nq b">directory </code>，我们称之为<code class="fe nn no np nq b">components</code>。</li><li id="026f" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated">在<code class="fe nn no np nq b">components</code>中，我们创建了两个额外的文件，分别叫做<code class="fe nn no np nq b">AstronomyContainer.js</code>和<code class="fe nn no np nq b">AstronomyCard.js</code>。</li><li id="cae4" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated">让我们清理<code class="fe nn no np nq b">src/app/App.js</code>并导入<code class="fe nn no np nq b">AstronomyContainer.js</code>。</li></ol><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oh"><img src="../Images/2fa4f3abb7595419c0e810fce71533fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*11eDGykDD92JPd1xTSVkKQ.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">src/app/App.js</p></figure></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="cf86" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">有状态和无状态</h1><p id="fc57" class="pw-post-body-paragraph ll lm it ln b lo mx lq lr ls my lu lv lw mz ly lz ma na mc md me nb mg mh mi im bi translated">我们现在需要做几件事。</p><p id="4ad2" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们需要编写两个组件，其中一个叫做<code class="fe nn no np nq b">stateful</code>(又名智能/动态组件)，第二个叫做<code class="fe nn no np nq b">stateless</code>(又名哑/哑/静态组件)。</p><p id="346b" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">你能猜出哪个是哪个吗？</p><ul class=""><li id="b0e2" class="ne nf it ln b lo lp ls lt lw ng ma nh me ni mi oi nk nl nm bi translated">无状态—始终返回相同的输出。数据在其中“流动”的组件。主要用于表示某物。不包括状态，只有道具！</li><li id="5f18" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi oi nk nl nm bi translated">有状态—有一些活动，组件有一个内部状态。活动的例子:数据获取、用户交互(例如点击按钮)和数据传递。</li></ul><p id="595b" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">希望这听起来不会太复杂，这是一个非常简单的概念。</p><p id="c993" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">让我们为这两个组件写主干。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oj"><img src="../Images/1c69c2701e31bd91d51244f45ab4c566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3h7m1xOGNWdEPAsMQuiVbw.png"/></div></div></figure><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/f74ed30091dc2ab119456817c5fb38d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QdkOBIwPpCukIvpQm0w34g.png"/></div></div></figure><p id="fcd6" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">注意一个组件是如何基于<code class="fe nn no np nq b">class</code>的，而另一个不是？</p><p id="56fd" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">基于类的组件将携带状态。我们为什么需要国家？我们需要状态，这样我们就可以保存动态应用程序中发生的事情。</p><p id="608c" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">想想吧。如果用户点击一个按钮，应用程序如何知道下一步该做什么？在点击之前，我们有一个默认状态。在用户点击按钮后，我们改变状态来表示接下来会发生什么。</p><p id="b5a1" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">示例<strong class="ln iu"> : </strong></p><p id="8210" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们有一个从零开始计数的计数器。初始状态为零。用户点击按钮。我们如何把这些碎片拼在一起，更重要的是，增加或减少数字？</p><p id="824e" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们需要某种动态机制来代表我们的行为，并将其转换为代表性的反馈/数据。我们称之为<em class="mk">状态</em>。一旦你使用状态，你就离不开它。</p><p id="def2" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">回到构建应用程序。看一看<a class="ae mj" href="https://api.nasa.gov/planetary/apod?api_key=nxKl8yTvpvsXEqRz06mTPnn29uyckFmFCYrnqEIz" rel="noopener ugc nofollow" target="_blank"> NASA天文图片中的日端点</a>。</p><p id="49cc" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">确保您查看了URL，并且<strong class="ln iu">将</strong> <code class="fe nn no np nq b"><strong class="ln iu">api_key=</strong></code>更改为您的个人密钥。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ol"><img src="../Images/52eef8a032be09ff91fd696edee56e78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BcZg_izSSgm5nfQRYJntpg.png"/></div></div><p class="oa ob gj gh gi oc od bd b be z dk translated">NASA数据</p></figure><p id="bdcc" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们需要以某种方式获取数据。幸运的是，这相对容易。</p><p id="2211" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">转到你的项目的根目录，安装<a class="ae mj" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank"> Axios </a>。</p><p id="57f9" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><code class="fe nn no np nq b">npm i axios</code></p><p id="a35a" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我现在给你看一些代码。试着理解它——我将在下面解释它。</p><p id="fb10" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">不要忘记用您的个人密钥替换API密钥。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/fd5296e665bab7f5d13472e73d4dcc8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lnBesUFzFbaFbt2ZXm7EgA.png"/></div></div></figure><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi on"><img src="../Images/a65a35b396590d2246bdd1d3cda66d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2g5aCiUdRtgra9pcMAwD0Q.png"/></div></div></figure><ol class=""><li id="9f01" class="ne nf it ln b lo lp ls lt lw ng ma nh me ni mi nj nk nl nm bi translated">我们进口<code class="fe nn no np nq b">axios</code></li><li id="3f4f" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated">我们调用<code class="fe nn no np nq b">constructor()</code> <strong class="ln iu"> </strong>方法来初始化我们的状态。初始状态只是一个空数组。</li><li id="aac2" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated">我们称生命周期为<code class="fe nn no np nq b">componentDidMount</code>，在生命周期方法中，我们声明了我们的<code class="fe nn no np nq b">END_POINT</code>和<code class="fe nn no np nq b">API_KEY</code>常量。</li><li id="88cf" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated">在<code class="fe nn no np nq b">componentDidMount</code>方法内部，我们用<code class="fe nn no np nq b">axios</code>调用一个<code class="fe nn no np nq b">GET</code>请求。</li><li id="eb82" class="ne nf it ln b lo nr ls ns lw nt ma nu me nv mi nj nk nl nm bi translated"><code class="fe nn no np nq b">Axios</code>返回一个承诺，在这个承诺中，我们可以访问数据。数据在<code class="fe nn no np nq b">response.data</code>下。</li></ol><p id="4740" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">如果您打开浏览器控制台，您应该能够看到响应。</p><p id="98c0" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们快到了。现在我们需要保存对当前状态的响应。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/1aa6c5ee2d077e05a608ae4fecee9945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bFpcQxli3Vdhvf16UXbhKg.png"/></div></div></figure><p id="fb01" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们调用<code class="fe nn no np nq b">setState()</code>方法并传入我们的状态对象。</p><p id="8dff" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">如果我们<code class="fe nn no np nq b">console.log()</code>我们的状态，应该会看到数据！当前组件的最后一步，我们还需要将这个状态传递给我们的子/无状态组件。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi op"><img src="../Images/765367a78c16e468ac8e17a44babbdf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfS00wSlm_O_9gDlVeLitg.png"/></div></div></figure><p id="fa9f" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们通过一个道具作为我们的状态。我已经包括了<a class="ae mj" href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" rel="noopener ugc nofollow" target="_blank">奇特的小物体解构。</a></p><p id="5e3e" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">那么，我们如何使用兄弟中的父数据呢？事实证明，这并不难——React使用起来既简单又直观。</p><p id="4041" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们可以访问兄弟中<code class="fe nn no np nq b">props.data</code>下的数据。我正在做的是解构对象，所以我们不必每次都写出长的道具。我们可以写<code class="fe nn no np nq b">{title}</code>而不是<code class="fe nn no np nq b">props.data.title</code>。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oq"><img src="../Images/369863c19b54ce30a520ae68f1acac3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O9R5VsdfTqVz0wQ_hyOYRw.png"/></div></div></figure><p id="5daa" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated"><a class="ae mj" href="https://gist.github.com/wesharehoodies/9b6d56699b2b3c38575d0c09f8314738" rel="noopener ugc nofollow" target="_blank">最后一件事。在这里抓取样式并将它们放置在i </a> n <code class="fe nn no np nq b">src/assets/stylesheets/styles.scss</code></p><p id="7f06" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">让我们看看我们的应用程序。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lg"><img src="../Images/cb5931b41b978b3ea0d92ad0314793e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aXEgLQqr8U-o9xXuK-FFaA.gif"/></div></div></figure><p id="39e4" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">不是太多，但我们今天确实做了很多。使用这个API可以做更多的事情——这里是端点<a class="ae mj" href="https://api.nasa.gov/api.html#apod" rel="noopener ugc nofollow" target="_blank">的完整列表</a>——请随意试验。</p><p id="d4a5" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">我们的下一个目标是使用Redux进行重构，这将在下一章讨论。Redux很复杂，我将专门为Redux写一整章。</p><p id="a0a7" class="pw-post-body-paragraph ll lm it ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">美国宇航局可能会包括视频而不是网址。在这里查看 <code class="fe nn no np nq b"><a class="ae mj" href="https://github.com/wesharehoodies/nasa-react-redux/blob/master/src/app/components/AstronomyCard.js" rel="noopener ugc nofollow" target="_blank">AstronomyCard.js</a></code> <a class="ae mj" href="https://github.com/wesharehoodies/nasa-react-redux/blob/master/src/app/components/AstronomyCard.js" rel="noopener ugc nofollow" target="_blank">文件以获得</a>的解决方案。</p></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="8537" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">第二部分</h1><div class="or os gp gr ot ou"><a href="https://medium.com/@indreklasn/learn-how-to-build-astronomy-picture-of-the-day-app-with-nasa-api-and-react-redux-part-ii-83f15970d0e3" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">了解如何使用NASA API和React + Redux(部分…</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">啊哈！所以你回来了！很好！我们将把这一整章献给Redux。</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">medium.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi jz ou"/></div></div></a></div></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><h1 id="c462" class="ki kj it bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">源代码</h1><div class="or os gp gr ot ou"><a href="https://github.com/indreklasn/nasa-react-redux/tree/chapter-1" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">indreklasn/nasa-react-redux</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">导读:搭建一个React + Redux的app。为indreklasn/nasa-react-redux的发展作出贡献</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">github.com</p></div></div><div class="pd l"><div class="pj l pf pg ph pd pi jz ou"/></div></div></a></div></div></div>    
</body>
</html>