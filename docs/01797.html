<html>
<head>
<title>How to Remove Duplicate Dictionaries in a List</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何删除列表中重复的词典</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-remove-duplicate-dictionaries-in-a-list-aaa05b506c1d?source=collection_archive---------15-----------------------#2019-10-14">https://betterprogramming.pub/how-to-remove-duplicate-dictionaries-in-a-list-aaa05b506c1d?source=collection_archive---------15-----------------------#2019-10-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6f40" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建一个函数从列表中删除重复的词典。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/166280ac069fd3233cbd5a5af674bea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VOlrYCu3IbeM7N49gwvFgQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@victor_g?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">维克多</a>在<a class="ae ky" href="https://unsplash.com/s/photos/duplicates?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="ff09" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">挑战</h1><p id="56ce" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">创建一个函数从列表中删除重复的词典。如果字典具有完全相同的键和值，则认为它是重复的。该函数应该支持深度比较(嵌套字典)。</p><h1 id="8b76" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">解决方案</h1><p id="3499" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用list comprehension和<code class="fe mn mo mp mq b">json</code>库对每个字典和<code class="fe mn mo mp mq b">set</code>数据类型进行排序和字符串化，以确保值的唯一性。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="bb35" class="mv la it mq b gy mw mx l my mz">import json</span><span id="ef8c" class="mv la it mq b gy na mx l my mz">def remove_dupe_dicts(l):<br/>  list_of_strings = [<br/>    json.dumps(d, sort_keys=True)<br/>    for d in l<br/>  ]</span><span id="c8c0" class="mv la it mq b gy na mx l my mz">  list_of_strings = set(list_of_strings)</span><span id="85b3" class="mv la it mq b gy na mx l my mz">  return [<br/>    json.loads(s)<br/>    for s in list_of_strings<br/>  ]</span></pre><p id="7b25" class="pw-post-body-paragraph lr ls it lt b lu nb ju lw lx nc jx lz ma nd mc md me ne mg mh mi nf mk ml mm im bi translated">为了测试我们的函数，我们传入了一些样本数据，这些样本数据包括嵌套字典，它们具有相似和不相似的嵌套键。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="47bf" class="mv la it mq b gy mw mx l my mz">data = [<br/>  {"id": 1, "sub": {"id": 1}},<br/>  {"id": 1, "sub": {"id": 2}},<br/>  {"id": 4},<br/>  {"id": 1, "sub": {"id": 1}}<br/>]</span><span id="0cfb" class="mv la it mq b gy na mx l my mz">print(remove_dupe_dicts(data))<br/>"""<br/>[<br/>  {'id': 1, 'sub': {'id': 1}},<br/>  {'id': 4},<br/>  {'id': 1, 'sub': {'id': 2}}<br/>]<br/>"""</span></pre><h1 id="d294" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">荣誉奖</h1><p id="093d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">将字典转换成元组:</strong>如果您不想使用<code class="fe mn mo mp mq b">json</code>库，因为您的字典不是有效的JSON，那么将字典列表转换成元组列表是一个可行的选择。请记住，强制对嵌套的数据结构不起作用。</p><pre class="kj kk kl km gt mr mq ms mt aw mu bi"><span id="66d1" class="mv la it mq b gy mw mx l my mz">def remove_dupe_dicts(l):<br/>  return [<br/>    dict(t) <br/>    for t in {<br/>      tuple(d.items())<br/>      for d in l<br/>    }<br/>  ]</span></pre></div></div>    
</body>
</html>