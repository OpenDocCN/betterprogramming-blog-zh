<html>
<head>
<title>Build an Image Carousel In React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React Native中构建一个图像转盘</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-an-image-carousel-in-react-native-5ce5d6b58e24?source=collection_archive---------0-----------------------#2021-10-08">https://betterprogramming.pub/build-an-image-carousel-in-react-native-5ce5d6b58e24?source=collection_archive---------0-----------------------#2021-10-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7fc5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将React原生快照旋转库集成到您的移动应用程序中</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e35c515b2e9a4ce6e592f4b50a0e1603.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CaIBcjVejOOTGLM-"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://unsplash.com/@sigmund" rel="noopener ugc nofollow" target="_blank">西格蒙德</a>对<a class="ae ky" href="http://unsplash.com" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="7dd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当涉及到在同一个空间中显示内容的许多部分时，旋转木马是至关重要的。例如，假设你有一个成功的网上商店。如果你想显示一个报价和折扣的目录，在一个旋转木马中呈现它们是明智的。这样，列表不会占用太多空间，从而改进UX设计。</p><p id="7da0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转盘使用的一个显著例子是Instagram应用程序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/4de4582e8a3f4c34a093f79f28a15b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/1*JgfQxT9hBwuUMbI6AtSpSg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Instagram演示</p></figure><p id="d575" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用React Native创建carousel，您必须执行以下操作:</p><ul class=""><li id="e4bc" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">使用React Native的<a class="ae ky" href="https://reactnative.dev/docs/flatlist" rel="noopener ugc nofollow" target="_blank"> FlatList API </a>来显示我们的项目，并对其进行配置以使列表水平。</li><li id="9f98" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">稍后，编写更多代码，以便在用户滑动滑块时显示自定义动画。</li><li id="9ed5" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">此外，构建分页功能。这将告诉用户传送带上的物品数量。</li></ul><p id="880a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，这意味着你必须花费大量的时间和精力为你的应用程序编写一个旋转木马。那么，我们如何缓解这个问题呢？</p><p id="25aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是<a class="ae ky" href="https://github.com/meliorence/react-native-snap-carousel" rel="noopener ugc nofollow" target="_blank"> React本机快照转盘</a>的用武之地。它是一个开源库，让您可以轻松构建carousel组件。它具有以下优点:</p><ul class=""><li id="f02e" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">内置了对延迟加载的支持。这带来了性能。</li><li id="b58a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">一个<a class="ae ky" href="https://github.com/meliorence/react-native-snap-carousel/blob/master/doc/PROPS_METHODS_AND_GETTERS.md#props" rel="noopener ugc nofollow" target="_blank"> API </a>用于定制目的。这样，您就可以改变组件的外观。</li><li id="9494" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">此外，React Native Snap Carousel还包括一组用于控制你的Carousel的<a class="ae ky" href="https://github.com/meliorence/react-native-snap-carousel/blob/master/doc/PROPS_METHODS_AND_GETTERS.md#methods" rel="noopener ugc nofollow" target="_blank">方法</a>。这意味着您可以让用户通过单击按钮或键盘快捷键来导航元素。</li></ul><p id="480e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然说了它的优点，那就开始吧！</p><p id="89d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本指南中，我们将构建一个带有导航按钮的图像转盘。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/335e4a6ae00dc042da798096d4e6c79d.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/1*bhS4mvJ-HsH1wIX78zDC0Q.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">文章的结果</p></figure><h1 id="6a93" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">项目设置</h1><h2 id="3687" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">项目初始化</h2><p id="d5e0" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">我们需要首先使用Expo创建一个React本地存储库。为此，运行以下终端命令:</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="8222" class="nc ml it nu b gy ny nz l oa ob">expo init carouse-native-tutorial</span></pre><p id="5968" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Expo会让你挑一个模板。在这一步中，像这样选择<code class="fe oc od oe nu b">minimal workflow</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/83c74af265c020009bf8df22305fe98d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C56ua80i_J1XJ_hEyFdZzg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择“最小”</p></figure><h2 id="038f" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">依赖项的安装</h2><p id="d490" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在这个项目中，我们只需要<code class="fe oc od oe nu b">react-native-snap-carousel</code>模块。这个包将让我们建立幻灯片和旋转木马。</p><p id="ca77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要安装这个依赖项，请执行以下bash指令:</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="199c" class="nc ml it nu b gy ny nz l oa ob">npm install react-native-snap-carousel</span></pre><h1 id="90ec" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">建造我们的旋转木马</h1><h2 id="d7b1" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">创建我们的样式表</h2><p id="f878" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在项目目录的根目录下，创建一个名为<code class="fe oc od oe nu b">styles.js</code>的文件。这个文件将包含设计我们的界面所必需的代码。</p><p id="f033" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe oc od oe nu b">styles.js</code>中，首先编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="9701" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第3行:通过<code class="fe oc od oe nu b">Dimensions</code>模块获取用户设备的宽度。</li><li id="2043" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第8–10行:<code class="fe oc od oe nu b">title</code>样式会将相应元素的字体大小改为<code class="fe oc od oe nu b">20</code>单位。</li><li id="9eb8" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第11–14行:<code class="fe oc od oe nu b">item</code>属性将样式化我们的轮播项目。这里，我们告诉React幻灯片中的元素将占用所有可用的宽度。</li><li id="9ba5" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第15–20行:<code class="fe oc od oe nu b">imageContainer</code>代表我们旋转木马的风格。在这里，我们使用<code class="fe oc od oe nu b">borderRadius</code>属性将转盘的角变圆。</li></ul><p id="e306" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，将这段代码追加到同一个文件中，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="1237" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第1–4行:<code class="fe oc od oe nu b">image</code>将在我们的转盘中设计<code class="fe oc od oe nu b">Image</code>组件的样式。</li><li id="0a55" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第5–15行:我们将使用<code class="fe oc od oe nu b">dotContainer</code>、<code class="fe oc od oe nu b">dotStyle</code>和<code class="fe oc od oe nu b">inactiveDotStyle</code>属性来设计分页组件的样式。我们将在本文的后面学习分页。</li><li id="6647" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第18行:最后，导出<code class="fe oc od oe nu b">styles</code>配置。这将允许我们将样式链接到我们的项目中。</li></ul><h2 id="7bb9" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">创建我们的数据源</h2><p id="7b0d" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在您的项目中，创建名为<code class="fe oc od oe nu b">data.js</code>的新文件。这里，我们将列出我们想要在滑块中显示的图像。</p><p id="1666" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在该文件中，添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="be8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这段代码中，我们创建了一个对象数组。每个对象包含<code class="fe oc od oe nu b">source</code>、<code class="fe oc od oe nu b">title</code>和<code class="fe oc od oe nu b">description</code>字段。</p><h2 id="6137" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">设置一个旋转组件</h2><p id="20dc" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在这一节中，我们将编写一些代码来构造我们的carousel项目。</p><p id="93ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在项目的根目录下，创建一个名为<code class="fe oc od oe nu b">CarouselItem.js</code>的文件。这个文件将负责在轮播中渲染图像。</p><p id="5c3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe oc od oe nu b">CarouselItem.js</code>中，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="3de5" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第6行:我们的<code class="fe oc od oe nu b">CarouselItem</code>将接受props，它包含我们数据源的重要信息。</li><li id="cbff" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第8行:<code class="fe oc od oe nu b">Pressable</code>模块告诉应用程序用户可以与这个组件交互。<code class="fe oc od oe nu b">onPress</code>处理程序通知程序，当用户点击项目时，React应该在弹出框中显示图像描述。</li><li id="f801" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第10行:<code class="fe oc od oe nu b">ParallaxImage</code>组件将在幻灯片中显示我们的图像。</li></ul><p id="2431" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，将以下代码追加到同一个文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="d6b3" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第3行:显示图像的<code class="fe oc od oe nu b">title</code>字段。</li><li id="bef8" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第10行:最后，导出<code class="fe oc od oe nu b">CarouselItem</code>组件。这意味着我们现在可以在我们的项目中使用这个定制模块。</li></ul><p id="450b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经创建了我们的carousel项，是时候构造我们的slider了。</p><h2 id="9fb3" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">设置我们的滑块</h2><p id="a97c" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在本文的这一部分，我们的计划是开始构建我们的slider组件。</p><p id="5f2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一步，创建一个名为<code class="fe oc od oe nu b">CustomSlider.js</code>的文件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="5be8" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第4行:<code class="fe oc od oe nu b">CustomSlider</code>组件将接受一个<code class="fe oc od oe nu b">data</code>道具。这将是数据源。</li><li id="ace7" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第5行:出于调试目的，注销<code class="fe oc od oe nu b">data</code>的值。</li></ul><p id="9130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">留给我们的就是将<code class="fe oc od oe nu b">CustomSlider</code>模块呈现给UI。为此，转到<code class="fe oc od oe nu b">App.js</code>并用以下代码替换所有代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="449e" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第6行:呈现我们的<code class="fe oc od oe nu b">CustomSlider</code>并将我们的数据源传入<code class="fe oc od oe nu b">data</code>参数。</li></ul><p id="211e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行您的代码。这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/d85758987d5e095b6a0cdefff74540d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*oStI3HgpHV4aFU1wffQCXQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="1c1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，React在控制台中注销了我们的数据。这意味着我们的代码有效！</p><h2 id="78a8" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">创建滑块</h2><p id="e5ec" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在这一节中，我们将在自定义的carousel组件上呈现我们想要的图像。</p><p id="a598" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，用以下代码替换<code class="fe oc od oe nu b">CustomSlider.js</code>中的所有代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="0240" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第8行:<code class="fe oc od oe nu b">settings</code>对象包含我们的<a class="ae ky" href="https://github.com/meliorence/react-native-snap-carousel/blob/master/doc/PROPS_METHODS_AND_GETTERS.md#props" rel="noopener ugc nofollow" target="_blank">转盘配置</a>。</li><li id="79be" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第13行:告诉React Native<code class="fe oc od oe nu b">CarouselItem</code>将负责向前端显示我们的项目。</li><li id="e3a8" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第18行:渲染carousel并传入我们的配置。</li></ul><p id="e716" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是代码的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/82d319b03cf57a6129870e82f3f4168e.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/1*M-NN0kXCHxW9EftGV5q4PA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="3559" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，我们现在有了一个工作良好的滑块。这意味着我们的代码有效！</p><h2 id="36a7" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">导航方法</h2><p id="81a8" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在文章的这一部分，我们将让用户通过<code class="fe oc od oe nu b">Button </code>元素来导航转盘。</p><p id="632c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe oc od oe nu b">CustomSlider.js</code>中，添加以下代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="92bb" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第4行:创建一个<code class="fe oc od oe nu b">useRef</code>实例。我们将用它来控制我们的幻灯片。</li><li id="905f" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第8行:将我们的<code class="fe oc od oe nu b">carouselRef</code>钩子分配给这个<code class="fe oc od oe nu b">Carousel</code>组件。这意味着我们现在可以执行导航方法。</li></ul><p id="d21a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二步，在同一个文件的<code class="fe oc od oe nu b">return</code>块中添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="5a21" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第3–6行:<code class="fe oc od oe nu b">snapToItem</code>方法导航到具有指定索引的幻灯片。在这种情况下，我们告诉React Native将用户重定向到第一个图像。</li><li id="68fd" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第7–9行:单击时，将用户重定向到数组中的最后一个图像。</li></ul><p id="083c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/b9098782f6cef011a1607c9a9479a8e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/1*R0UjwTrnhZye6iYiwbqcfw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="63d6" class="nc ml it bd mm nd ne dn mq nf ng dp mu li nh ni mw lm nj nk my lq nl nm na nn bi translated">自定义分页组件</h2><p id="b608" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">这里，我们的计划是借助<code class="fe oc od oe nu b"><a class="ae ky" href="https://github.com/meliorence/react-native-snap-carousel/blob/master/doc/PAGINATION.md" rel="noopener ugc nofollow" target="_blank">Pagination</a></code> <a class="ae ky" href="https://github.com/meliorence/react-native-snap-carousel/blob/master/doc/PAGINATION.md" rel="noopener ugc nofollow" target="_blank">组件</a>引入分页。这将有助于改进用户界面设计。</p><p id="9112" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，创建一个名为<code class="fe oc od oe nu b">CustomPaging.js</code>的文件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="bec6" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第5行:这个组件将接受两个道具:<code class="fe oc od oe nu b">data</code>(图像列表)和<code class="fe oc od oe nu b">activeSlide</code>(滑块的当前索引)。</li><li id="0f02" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第6行:<code class="fe oc od oe nu b">settings</code>变量包含我们的<code class="fe oc od oe nu b"><a class="ae ky" href="https://github.com/meliorence/react-native-snap-carousel/blob/master/doc/PAGINATION.md#props" rel="noopener ugc nofollow" target="_blank">Pagination</a></code> <a class="ae ky" href="https://github.com/meliorence/react-native-snap-carousel/blob/master/doc/PAGINATION.md#props" rel="noopener ugc nofollow" target="_blank">配置</a>。</li><li id="c922" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第15行:传入我们的配置并呈现<code class="fe oc od oe nu b">Pagination</code>组件</li></ul><p id="4268" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，导航到<code class="fe oc od oe nu b">CustomSlider.js</code>并添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="9859" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">第3行:创建一个<code class="fe oc od oe nu b">slideIndex</code>钩子。顾名思义，这个变量将表示转盘的当前索引。</li><li id="321e" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第5行:<code class="fe oc od oe nu b">onSnapToItem</code>处理程序在用户浏览幻灯片时运行。这里，我们告诉React Native将<code class="fe oc od oe nu b">slideIndex</code>变量更新为当前幻灯片编号。</li><li id="7eb2" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated">第10行:呈现<code class="fe oc od oe nu b">CustomPaging</code>组件，并将我们的数据源和<code class="fe oc od oe nu b">slideIndex</code>状态作为道具传入。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/61be5bb305e03f6ef076636ec5f48e44.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/1*KMZv4xnZNeQgTBWC7xM-rw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="c9db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完事了。</p><h1 id="d5eb" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">额外资源</h1><p id="1864" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated"><a class="ae ky" href="https://snack.expo.dev/@hussainarifkl/carousel-tutorial" rel="noopener ugc nofollow" target="_blank">这是这个项目在博览会</a>上的源代码。</p><ul class=""><li id="68f5" class="lw lx it lb b lc ld lf lg li ly lm lz lq ma lu mb mc md me bi translated">沃尔多博客反应原生旋转木马:测试实践指南</li><li id="238a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://blog.logrocket.com/using-react-native-to-implement-a-carousel/" rel="noopener ugc nofollow" target="_blank">使用React Native通过LogRocket实现一个carousel</a></li><li id="4d1a" class="lw lx it lb b lc mf lf mg li mh lm mi lq mj lu mb mc md me bi translated"><a class="ae ky" href="https://javascript.plainenglish.io/react-native-carousel-4df6db1c3303" rel="noopener ugc nofollow" target="_blank">用</a> <a class="ol om ep" href="https://medium.com/u/bf97e5a35e12?source=post_page-----5ce5d6b58e24--------------------------------" rel="noopener" target="_blank">加普尔·卡西姆</a>反应本地旋转木马</li></ul><h1 id="a79e" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">结论</h1><p id="6421" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在本文中，我们学习了如何使用React Native Snap Carousel库构建一个简单的图像滑块。它的文档简洁明了。这让你可以毫不费力地使用旋转木马。</p><p id="9344" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常感谢您的阅读！编码快乐！</p></div></div>    
</body>
</html>