<html>
<head>
<title>Build a Skeleton Component in React for Better UX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React for Better UX中构建一个框架组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-skeleton-component-in-react-for-better-ux-b1dca9d783e6?source=collection_archive---------3-----------------------#2020-05-14">https://betterprogramming.pub/build-a-skeleton-component-in-react-for-better-ux-b1dca9d783e6?source=collection_archive---------3-----------------------#2020-05-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="466a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">加载组件让用户在页面加载时可以看到一些东西</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c577d617a484246880a9b13ed6ec0adf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SD-ZIFb7I4a2Da09"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@pankajpatel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">潘卡杰·帕特尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="73f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你知道骨骼组件是干什么用的吗？它是一个在获取数据时呈现内容的组件。用户很容易对等待内容感到厌倦或厌烦。如果你只是给他们一个白屏，大多数人会离开你的网站，这是你不想要的。</p><p id="b33f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将演示如何编写一个框架组件以及如何使用它。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d06c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">先决条件</h1><p id="7eae" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">本文假设您知道React。但是不要担心，如果你有使用Vue、Angular或任何其他JavaScript框架的经验，你会很容易理解这篇文章。</p><p id="2a36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我使用CRA(创建-反应-应用程序)进行快速设置。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8d58" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设置React项目</h1><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="dd4b" class="ne md it na b gy nf ng l nh ni">npx create-react-app skeleton</span></pre><p id="bd50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用<a class="ae ky" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> CRA </a>创建了简单的基本React项目。项目结构如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="9855" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我运行<code class="fe nl nm nn na b">npm start</code>时，页面看起来是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/1bc3f9761f57c76cc6ea4b91c3c3d122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yTf9Xay1VBzuAw6A21n1EA.png"/></div></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0ac5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">什么是骨架UI？</h1><p id="78b8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">框架UI指的是一个空的结构化UI，放置在内容所在的位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/cada28730e82d6f5b1e0f458b4427fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/0*ICXfiqEGoeZ_O33e.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图像的原始来源是<a class="ae ky" href="https://reactjsexample.com/react-component-for-loading-animations/" rel="noopener ugc nofollow" target="_blank">反应样本</a></p></figure><p id="68d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能见过在访问网站时加载组件。它们也是用户友好的UI组件，因为它们通知用户正在后台获取数据。</p><p id="e58d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，那些装载杆或旋转器不是唯一会发生的事情。通常背景也会变暗。显示数据正在加载的微调按钮或条是一个好策略，它们帮助用户理解页面或容器正在加载。</p><p id="b981" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如今，许多网站向用户展示可选的UI组件，以减少无聊的等待时间。skeleton UI最常见的模式是一个白色背景的小盒子和一些闪亮的CSS动画。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/8921eeb324868e029a2dfbe3efce6014.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qRwLOnqBHnYRAmKJ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图像的原始来源是<a class="ae ky" href="https://codemyui.com/pure-css-skeleton-screen-gleam-animation-for-light-dark-and-grey-mode-card-ui/" rel="noopener ugc nofollow" target="_blank"> codemyui </a></p></figure><p id="83a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它们不仅填补了空白，而且用户可以与页面上的其他组件进行交互。</p><p id="c496" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我将通过一个例子向你展示如何制作它们。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c5ca" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.构建框架用户界面</h1><p id="44ad" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">显然，这一步是制造空的骨架组件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/e9cceca86d7282a9c957c4276ddc05ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JMeJaXez2DvpSfV1l6d89A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">骨架应该尽可能看起来和内容一样</p></figure><p id="69ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你制作骨骼组件时，有一件事你应该小心。框架UI的目的是减少对数据的无聊等待，所以它们看起来不应该与真正的UI组件有太大的不同。如果它们差别太大，用户可能会觉得框架是另一个独立的UI组件。</p><h1 id="6cb6" class="mc md it bd me mf ns mh mi mj nt ml mm jz nu ka mo kc nv kd mq kf nw kg ms mt bi translated">2.CSS动画</h1><p id="3eeb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">第二步是选择将穿过骨架的动画。有的人用纯CSS动画，有的人用一张图片。我个人更喜欢用图像，尤其是当动画包含一些渐变背景色的时候。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/8de95c859fab6cf74378f22514756ee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nS0d--Obi0NRNtu6.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图像的原始来源是<a class="ae ky" href="https://www.npmjs.com/package/react-native-skeleton-content" rel="noopener ugc nofollow" target="_blank"> npm </a></p></figure><p id="ed94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你看到从左到右穿过骨骼的白色渐变了吗？对于CPU来说，每16.6毫秒绘制一次是不必要的工作——它必须计算每个点上的每个渐变颜色值，并与GPU一起在屏幕上表现出来。为此，我更喜欢用一个形象。</p><p id="abfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在这个例子中，我将使用纯CSS来展示如何做到这一点。并不总是能够使用图像。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/c27c1da0f41727e6316fbd6874b4f9b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3Cbco2eycVKNwQLLbJJCYg.gif"/></div></div></figure><p id="7f2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我给包裹所有内容的元素做了一个这样的渐变背景。但是，这看起来很奇怪——你可以看到整个梯度柱。我们只希望它显示在灰色区域。</p><p id="de0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我们将伪类添加到每个灰色元素中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/3e7328e583247edc2c3653dc27be3eb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yLZRqnFNtsN_3QuQleyaNA.gif"/></div></div></figure><p id="16b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，渐变背景所属的元素应该具有如下样式:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="fcdc" class="ne md it na b gy nf ng l nh ni">.element {<br/>  overflow: hidden;<br/>  position: relative;<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4337" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">比较</h1><p id="31a0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在我们来比较两种不同的情况——骨架存在和不存在的情况。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/a81f9849c6fd71edd0da764c926d3c89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cliigGKN7ktpBaMJiSvJYQ.gif"/></div></div></figure><p id="77f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很明显，在获取数据时，骨架组件看起来比白色背景好得多。你可以带一个装载栏组件来代替白色背景。</p><h1 id="af7f" class="mc md it bd me mf ns mh mi mj nt ml mm jz nu ka mo kc nv kd mq kf nw kg ms mt bi translated">沙盒中的代码</h1><p id="0b4c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">下面是这个例子的源代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob nk l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6d9a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">其他示例</h1><p id="fdd5" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">你可能想知道其他网站是如何采用skeleton U的。</p><h2 id="e68c" class="ne md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">松弛的</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/5c96aa99af1e71a933de49aadd80a6a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FNWb7IP5AaoXQUIg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源于<a class="ae ky" href="https://css-tricks.com/building-skeleton-screens-css-custom-properties/" rel="noopener ugc nofollow" target="_blank"> css-tricks </a></p></figure><p id="39e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Slack向用户显示了加载栏和骨架组件。他们制作的一个有趣的东西是他们向用户显示一些随机的信息，比如“更多神圣的东西！”，这样人们就不会太无聊了，我觉得这是个好策略。</p><h2 id="d789" class="ne md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">拼趣</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/5b7f4786f0c56676f89ddb287057fc1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0sbKpU04XUgWDucwkwuLVg.gif"/></div></div></figure><p id="8693" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.pinterest.co.kr/" rel="noopener ugc nofollow" target="_blank"> Pinterest </a>骨架非常简单。它们的主要内容是图像，所以它们的骨架根本不需要复杂。取而代之的是，他们随机地给每个骨骼组件上色。</p><h2 id="7128" class="ne md it bd me oc od dn mi oe of dp mm li og oh mo lm oi oj mq lq ok ol ms om bi translated">Skyscanner</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/d6c6f9853acf84c5dc67f8650a495298.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rrY0dyPqgZBMln_VVPx9Gg.gif"/></div></div></figure><p id="4844" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Skyscanner 有一个和我在这篇文章中的例子非常相似的框架用户界面。加载飞行数据可能需要很长时间，可能长达几秒钟。处理这种规模数据的开发人员应该始终小心不要失去客户的注意力。骨架或承重杆对他们来说很重要。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c676" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="d04c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当然，采用skeleton UI并不总是您的最佳解决方案。重要的是知道哪些UI组件在你的网站上看起来不错。有时一个装载杆就足够了，有时你可能需要更多。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6c98" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">资源</h1><ul class=""><li id="56a1" class="oq or it lb b lc mu lf mv li os lm ot lq ou lu ov ow ox oy bi translated"><a class="ae ky" href="https://css-tricks.com/building-skeleton-screens-css-custom-properties/" rel="noopener ugc nofollow" target="_blank"> CSS-Tricks图片</a></li><li id="2cd9" class="oq or it lb b lc oz lf pa li pb lm pc lq pd lu ov ow ox oy bi translated"><a class="ae ky" href="https://www.npmjs.com/package/react-native-skeleton-content" rel="noopener ugc nofollow" target="_blank">React-Native-Skeleton-Content图片</a></li><li id="bba6" class="oq or it lb b lc oz lf pa li pb lm pc lq pd lu ov ow ox oy bi translated"><a class="ae ky" href="https://codemyui.com/pure-css-skeleton-screen-gleam-animation-for-light-dark-and-grey-mode-card-ui/" rel="noopener ugc nofollow" target="_blank"> Code-My-UI图片</a></li><li id="244a" class="oq or it lb b lc oz lf pa li pb lm pc lq pd lu ov ow ox oy bi translated"><a class="ae ky" href="https://reactjsexample.com/react-component-for-loading-animations/" rel="noopener ugc nofollow" target="_blank">React-JS-示例图片</a></li></ul></div></div>    
</body>
</html>