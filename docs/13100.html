<html>
<head>
<title>Custom Operator for Building a Universal Apple App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于构建通用Apple应用程序的自定义操作符</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/custom-operator-for-effortless-universal-app-development-iphone-ipad-2d8f9b91e24c?source=collection_archive---------6-----------------------#2022-07-28">https://betterprogramming.pub/custom-operator-for-effortless-universal-app-development-iphone-ipad-2d8f9b91e24c?source=collection_archive---------6-----------------------#2022-07-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4d0f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">利用运算符重载来构建自定义运算符，以简化iPhone iPad应用程序开发</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/420f3bdb282ca5c8e77ea99efa5a12d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RmOWZ-hfXkTfY8Ps"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">杰里米·贝赞格在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="53b7" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">先决条件</h1><p id="b537" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我建议你通读一下我在通读本文之前写的<a class="ae kv" href="https://medium.com/@nikhil.vinod/understanding-operator-overloading-in-swift-1f2cad16243c" rel="noopener">操作符重载</a>一文。在通读这篇文章之前，我们需要有关于<a class="ae kv" href="https://medium.com/@nikhil.vinod/understanding-operator-overloading-in-swift-1f2cad16243c" rel="noopener">操作符重载</a>的基础知识。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="0c37" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated">我见过许多人通过编写<code class="fe mw mx my mz b">ternary operator</code>或<code class="fe mw mx my mz b">if</code>块来编写相同的样板检查代码来管理iPhone和iPad。相反，我们可以使用自定义操作符轻松实现区分符。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="8106" class="kw kx iq bd ky kz na lb lc ld nb lf lg jw nc jx li jz nd ka lk kc ne kd lm ln bi translated">履行</h1><p id="56d4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">为此，我们将需要<code class="fe mw mx my mz b">precedencegroup</code> <br/>用于所有自定义中缀运算符，它属于一个优先组。优先组指定了一个运算符相对于其他中缀运算符的优先级，以及该运算符的结合性。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="21c7" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated"><code class="fe mw mx my mz b"><strong class="lq ir">higherThan</strong></code> <code class="fe mw mx my mz b">&lt;&gt;</code>是相邻符的集合。而且它的优先级是无序的，因为它可以取<code class="fe mw mx my mz b">AssignmentPrecedence</code>。因此，我们将<code class="fe mw mx my mz b">higherThan</code>值指定为<code class="fe mw mx my mz b">AssignmentPrecedence</code></p><p id="c1f8" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated"><code class="fe mw mx my mz b"><strong class="lq ir">assignment</strong></code>当设置为<code class="fe mw mx my mz b">true</code>时，相应优先组中的操作符在可选链接期间使用与标准库中的赋值操作符相同的分组规则。</p><p id="e7a3" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated">否则，当设置为<code class="fe mw mx my mz b">false</code>或省略时，优先组中的运算符遵循与不执行赋值的运算符相同的可选链接规则。</p><p id="afe0" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated">例如，<code class="fe mw mx my mz b">testing?.number ++ 5</code>是我们用<code class="fe mw mx my mz b">++</code>操作符执行的操作。如果我们给赋值为假，我们会得到一个错误，如果我们给赋值为真，那么它会给我们一个值<code class="fe mw mx my mz b">Optional(previousValue + 5)</code></p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="efbd" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated">现在我们将在<code class="fe mw mx my mz b">IdiomPrecedence</code>中嵌入<code class="fe mw mx my mz b">&lt;&gt;</code>，使其在可选链接期间可赋值，赋值值设置为true。</p><pre class="kg kh ki kj gt nh mz ni nj aw nk bi"><span id="5703" class="nl kx iq mz b gy nm nn l no np">infix operator &lt;&gt;: IdiomPrecedence</span></pre><p id="dc1d" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated">现在我们将为<code class="fe mw mx my mz b">&lt;&gt;</code>操作符添加一个函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="9f9b" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated">现在，我们可以很容易地使用这个操作符<code class="fe mw mx my mz b">&lt;&gt;</code>来区分iPhone-iPad或为其分配特定的值，如下所示。</p><pre class="kg kh ki kj gt nh mz ni nj aw nk bi"><span id="9d29" class="nl kx iq mz b gy nm nn l no np">nameLbl.font = UIFont.systemFont(ofSize: 20) &lt;&gt; UIFont.systemFont(ofSize: 35)</span></pre><p id="f081" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated">在这里，iPhone的<code class="fe mw mx my mz b">nameLbl</code>将被设置为20，iPad的<code class="fe mw mx my mz b">fontSize</code>将被设置为35。同样，您可以以多种方式使用<code class="fe mw mx my mz b">&lt;&gt;</code>操作符进行微分器赋值。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="dd12" class="pw-post-body-paragraph lo lp iq lq b lr mr jr lt lu ms ju lw lx mt lz ma mb mu md me mf mv mh mi mj ij bi translated">我希望你已经理解了我们如何使用自定义操作符来设置iPhone iPad setters。下面是<a class="ae kv" href="https://github.com/Nikilicious09/-Operator" rel="noopener ugc nofollow" target="_blank">项目链接</a>同。</p></div></div>    
</body>
</html>