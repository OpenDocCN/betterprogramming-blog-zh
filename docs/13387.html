<html>
<head>
<title>12 React Hooks Every React Developer Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个React开发者都应该知道的12个React挂钩</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/12-react-hooks-every-react-developer-should-know-9c6352b81329?source=collection_archive---------0-----------------------#2022-08-23">https://betterprogramming.pub/12-react-hooks-every-react-developer-should-know-9c6352b81329?source=collection_archive---------0-----------------------#2022-08-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ce09" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用这些挂钩可以节省时间，提高效率。他们中的一些人是游戏规则的改变者</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bc8d9d0a1d89c55d5217a0bf5e8a3e1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SCAJY_j3ywJE8YNK"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@rahuulmiishra?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">拉胡尔·米什拉</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="1c74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">React挂钩是功能中高度可重用的部分。钩子让我们封装副作用，组合和重用逻辑。</p><p id="0929" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于大多数用例，都有一个react挂钩。当我们今天可以开始使用如此大量的开源钩子时，为什么要重新发明轮子呢？</p><p id="18ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是新手或者对钩子不确定，请看我以前的文章，我在那里揭开了React钩子的神秘面纱。</p><p id="7d38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://trevorlasn.medium.com/membership" rel="noopener">通过使用我的推荐链接</a>，您可以随时成为中级会员。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</p><h1 id="278f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.反应-可交换</h1><p id="b662" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">React Swipeable是一个react swipe事件处理程序挂钩。在某些情况下，React Swipeable是构建移动优先React应用程序的必备工具。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/f822955877e12b6a5c68aab90ca6928c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*d9VdjdLFFNtD7S9DVZvlTw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="http://formidablelabs.github.io/react-swipeable/" rel="noopener ugc nofollow" target="_blank">演示</a></p></figure><p id="3c8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设你正在开发一个电子商务商店。您将希望在您的web应用程序上启用“本地”移动行为。</p><p id="d13b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">移动用户与应用程序的交互方式与网络用户大不相同。手机有触摸手势、滑动、放大和缩小等功能。为什么不为您的网络移动应用程序启用所有这些功能呢？</p><h2 id="454f" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">它是如何工作的</h2><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="8aa8" class="mt lw it ng b gy nk nl l nm nn">const handlers = useSwipeable({<br/>  onSwiped: (eventData) =&gt; console.log("User Swiped", eventData),<br/>  ...config,<br/>});</span><span id="e4fe" class="mt lw it ng b gy no nl l nm nn">return &lt;div {...handlers}&gt; swipe here &lt;/div&gt;;</span></pre><p id="d6b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是处理事件时可以使用的所有道具。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="7bae" class="mt lw it ng b gy nk nl l nm nn">{<br/>  onSwiped,       // After any swipe   (SwipeEventData) =&gt; void<br/>  onSwipedLeft,   // After LEFT swipe  (SwipeEventData) =&gt; void<br/>  onSwipedRight,  // After RIGHT swipe (SwipeEventData) =&gt; void<br/>  onSwipedUp,     // After UP swipe    (SwipeEventData) =&gt; void<br/>  onSwipedDown,   // After DOWN swipe  (SwipeEventData) =&gt; void<br/>  onSwipeStart,   // Start of swipe    (SwipeEventData) =&gt; void *see details*<br/>  onSwiping,      // During swiping    (SwipeEventData) =&gt; void<br/>  onTap,          // After a tap       ({ event }) =&gt; void</span><span id="e3d2" class="mt lw it ng b gy no nl l nm nn">// Pass through callbacks, event provided: ({ event }) =&gt; void<br/>  onTouchStartOrOnMouseDown, // Called for `touchstart` and `mousedown`<br/>  onTouchEndOrOnMouseUp,     // Called for `touchend` and `mouseup`<br/>}</span></pre><p id="29b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有关集成和使用的信息，请参见<a class="ae ky" href="https://www.npmjs.com/package/react-swipeable" rel="noopener ugc nofollow" target="_blank"> react-swipeable </a> NPM页面。</p><h1 id="e347" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.使用-调整大小-观察点</h1><p id="dd84" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">是一个React钩子，允许你测量一个元素的宽度和高度。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/8d0aca70e152bed48ab2a0a5c2229499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NKIxKuJUnyQwNvZ7oZVztw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://codesandbox.io/s/nrp0w2r5z0" rel="noopener ugc nofollow" target="_blank"> CodeSandbox演示</a></p></figure><p id="5fda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当处理图像裁剪、编辑、处理等时，这个钩子非常方便。</p><h2 id="7a67" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">如何使用</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="9846" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.npmjs.com/package/use-resize-observer" rel="noopener ugc nofollow" target="_blank">请参见NPM页面了解更多说明。</a></p><h1 id="9eaf" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.福米克</h1><p id="8771" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">谈到表单，Formik处理重复和乏味的部分。</p><p id="635f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它跟踪值、错误、访问过的字段、编排验证和处理提交——这些事情你再也不用处理了。花更少的时间连接状态和更改处理程序。</p><h2 id="72e3" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">它是如何工作的</h2><p id="058d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">假设我们想为一个博客添加一个时事通讯注册表单。首先，我们的表单只有一个名为<code class="fe np nq nr ng b">email</code>的字段。对于Formik，这只是几行代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="b59a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://formik.org/docs/tutorial#a-simple-newsletter-signup-form" rel="noopener ugc nofollow" target="_blank">示例来源。</a></p><p id="4b03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有关集成和使用的信息，请参见<a class="ae ky" href="https://formik.org/docs/overview" rel="noopener ugc nofollow" target="_blank"> Formik文档</a>页。</p><h1 id="281e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.使用-去抖</h1><p id="a128" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">JavaScript中的去抖是一种用于提高浏览器性能的模式。</p><p id="26bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">网页中可能存在一些需要耗时计算的功能。比如图片上传，多个API调用等等。</p><p id="9258" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果过于频繁地调用这些方法，将会极大地影响浏览器的性能。</p><p id="61f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">去抖动是一种编程实践，可以确保耗时的任务不会频繁触发。</p><h2 id="9158" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">它是如何工作的</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="d74d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多信息参见<a class="ae ky" href="https://www.npmjs.com/package/use-debounce" rel="noopener ugc nofollow" target="_blank">使用去抖NPM页面</a>。</p><h1 id="3cf6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">5.使用-同构-布局-效果</h1><p id="e395" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">React有一堆现成的钩子。其中一个是<code class="fe np nq nr ng b">useLayoutEffect</code></p><p id="eb14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">React文档中提到了<code class="fe np nq nr ng b">useLayoutEffect</code>:</p><p id="9c6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe np nq nr ng b">useLayoutEffect</code> signature与<code class="fe np nq nr ng b">useEffect</code>钩子相同——但是在所有DOM突变之后同步触发。</p><p id="c192" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着您只能使用<code class="fe np nq nr ng b">useLayoutEffect</code> hook浏览器。如果您在服务器端呈现react代码，这是一个问题。例如，使用<a class="ae ky" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> NextJS </a>，您将得到以下错误消息:</p><p id="51fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">警告:useLayoutEffect在服务器上不执行任何操作，因为其效果无法编码为服务器渲染器的输出格式。</p><p id="4110" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了避免这种错误消息，应该只在客户端渲染的组件中使用<code class="fe np nq nr ng b">useLayoutEffect</code>。</p><p id="402f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe np nq nr ng b">useIsomorphicLayoutEffect</code>通过根据执行环境在<code class="fe np nq nr ng b">useEffect</code>和<code class="fe np nq nr ng b">useLayoutEffect</code>之间切换来解决问题。</p><h2 id="4bf8" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">如何使用</h2><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="d69f" class="mt lw it ng b gy nk nl l nm nn">+ import useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';</span><span id="f5ef" class="mt lw it ng b gy no nl l nm nn">- import { useLayoutEffect } from 'react';</span><span id="0409" class="mt lw it ng b gy no nl l nm nn">const YourComponent = () =&gt; {</span><span id="8793" class="mt lw it ng b gy no nl l nm nn">+  useIsomorphicLayoutEffect(() =&gt; {<br/>   // your implementation<br/>}, []);</span><span id="48f5" class="mt lw it ng b gy no nl l nm nn">-  useLayoutEffect(() =&gt; {<br/>    // your implementation<br/>  }, []);</span><span id="0dd3" class="mt lw it ng b gy no nl l nm nn">};</span></pre><p id="9b62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多信息见<a class="ae ky" href="https://www.npmjs.com/package/use-isomorphic-layout-effect" rel="noopener ugc nofollow" target="_blank"> NPM包页面</a>。</p><h1 id="9935" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">6.swr</h1><p id="9fe7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">SWR是一个用于数据获取的React钩子库。“SWR”这个名字来源于<code class="fe np nq nr ng b">stale-while-revalidate</code></p><p id="3c59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe np nq nr ng b">stale-while-revalidate</code>是由<a class="ae ky" href="https://tools.ietf.org/html/rfc5861" rel="noopener ugc nofollow" target="_blank"> HTTP RFC 5861 </a>推广的一种缓存失效策略。</p><h2 id="c00a" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">如何使用</h2><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="d65c" class="mt lw it ng b gy nk nl l nm nn">import useSWR from 'swr'</span><span id="b923" class="mt lw it ng b gy no nl l nm nn">function Profile() {<br/>  const { data, error } = useSWR('/api/user', fetcher)</span><span id="2e51" class="mt lw it ng b gy no nl l nm nn">if (error) return &lt;div&gt;failed to load&lt;/div&gt;<br/>  if (!data) return &lt;div&gt;loading...&lt;/div&gt;</span><span id="e680" class="mt lw it ng b gy no nl l nm nn">return &lt;div&gt;hello {data.name}!&lt;/div&gt;</span><span id="cd69" class="mt lw it ng b gy no nl l nm nn">}</span></pre><p id="a6f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SWR首先从缓存返回数据(陈旧的)，发送请求(重新验证)，最后再次返回最新的数据。</p><p id="0804" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">显著简化项目中的数据提取逻辑。它还涵盖了速度、正确性和稳定性的所有方面，以帮助您构建更好的应用程序。</p><p id="16c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了SWR，所有组件将不断自动获得一系列数据更新。用户界面将是快速和反应性的。</p><p id="a6a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://swr.vercel.app/" rel="noopener ugc nofollow" target="_blank"> swr.vercel.app </a>上查看完整文档和示例。</p><h1 id="4cd5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">7.反应-热键-挂钩</h1><p id="7207" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe np nq nr ng b">react-hotkeys-hook</code>用于在组件中使用键盘快捷键。钩子允许以声明的方式监听热键，并在用户按下给定的热键时执行回调函数。</p><p id="70dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它是如何工作的</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="2a9d" class="mt lw it ng b gy nk nl l nm nn">import { useHotkeys } from 'react-hotkeys-hook';</span><span id="8c87" class="mt lw it ng b gy no nl l nm nn">function ExampleComponent() {<br/>  useHotkeys('a', () =&gt; alert('Key a was pressed'))</span><span id="c94a" class="mt lw it ng b gy no nl l nm nn">return (<br/>    &lt;span&gt;Press the a key to see it work.&lt;/span&gt;<br/>  )</span></pre><p id="bceb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe np nq nr ng b">react-hotkeys-hook </code>也听击键。击键是用户执行回调时必须按下的组合键。让我们想象我们的应用程序有功能的快捷方式。例如通过按下<code class="fe np nq nr ng b">shift+c</code>来创建吉拉机票。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="9fb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://react-hotkeys-hook.vercel.app/docs/documentation/useHotkeys/basic-usage" rel="noopener ugc nofollow" target="_blank">更多示例参见官方文档</a></p><h1 id="d78f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">8.@使用-手势/反应</h1><p id="197a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">@use-gesture是一个库，允许您将更丰富的鼠标和触摸事件绑定到任何组件或视图。用得到的道具设置手势很简单。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/9f27619799579716b908306761c5e67e.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*7PqZiJS26d_9l0VrMbJddA.gif"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/b556f2f043c8fdf849083e9ddb5a9cbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*rRVmUR636muT3yppKkX4YA.gif"/></div></figure><p id="f8cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些应用程序默认需要手势，这是意料之中的。例如，如果你正在构建一个类似看板的应用程序，手势是必须的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h1 id="b040" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">可用挂钩</h1><p id="21c8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">@use-gesture/react导出了几个可以处理不同手势的钩子。一定要把它们都检查一遍，以便深入了解。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/53ca943b9cae3643659e9cfcddfc75a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jTL6tJ-24WRQELeAHGb9pQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://use-gesture.netlify.app/" rel="noopener ugc nofollow" target="_blank">更多信息请访问完整文档网站</a></p></figure><p id="4127" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">P.S .你可以独立使用它，但要充分利用它，你应该把它和一个像<a class="ae ky" href="https://github.com/pmndrs/react-spring" rel="noopener ugc nofollow" target="_blank"> react-spring </a>这样的动画库结合起来。虽然你可以使用任何其他的。</p><h1 id="85c6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">9.反应脚本挂钩</h1><p id="6541" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe np nq nr ng b">react-script-hook</code>是一个钩子，用于动态加载外部脚本并知道它何时被加载。非常适合使用第三方API，如Stripe、Twilio等。</p><p id="1167" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您正在使用Stripe API接受付款。我们不想在API还没有完全加载的情况下，让用户与支付交互，从而破坏我们的应用。这个钩子解决了前面提到的问题。</p><h2 id="b02c" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">如何使用</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="24d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当脚本已经从另一个钩子实例加载(或开始加载)时，钩子会自动处理。</p><p id="9e4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以安全地将相同的<code class="fe np nq nr ng b">useScript</code>挂钩添加到依赖于相同外部脚本的多个组件，它们将正确地阻止只加载一个副本。</p><p id="79a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多说明见<a class="ae ky" href="https://www.npmjs.com/package/react-script-hook" rel="noopener ugc nofollow" target="_blank"> NPM包装文件</a>。</p><h1 id="7367" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">10.<code class="fe np nq nr ng b"> react-scroll-parallax</code></h1><p id="5df9" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe np nq nr ng b">react-scroll-parallax</code>是一个钩子，可以让你轻松地为横幅、图片或任何其他DOM元素设置视差滚动效果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/3b2aaf3ab83c35ad8489f62cf6583629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CnXQTr00x-5s3-DTObfBLg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">试玩来源:<a class="ae ky" href="https://react-scroll-parallax-v3.surge.sh/?path=/story/components-parallax-rotate-props--with-rotation" rel="noopener ugc nofollow" target="_blank">https://react-scroll-parallax-v3.surge.sh/?path =/story/components-parallax-rotate-props-with-rotation</a></p></figure><p id="40f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ny">视差滚动提供了理想的设置，以引人入胜和互动的方式讲述您的故事。让你的访问者掌握主动权，按照他们自己的节奏讲述你的故事。</em> — <a class="ae ky" href="https://www.getfeedback.com/resources/ux/15-reasons-why-parallax-scrolling-in-web-design-is-awesome/#:~:text=Parallax%20scrolling%20offers%20the%20ideal,story%20in%20their%20own%20pace." rel="noopener ugc nofollow" target="_blank">来源</a></p><h2 id="2b4f" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">如何使用</h2><p id="aba7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当元素滚动经过视区时，基于原始元素相对于视区的位置应用CSS翻译效果。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="1ede" class="mt lw it ng b gy nk nl l nm nn">import { useParallax } from 'react-scroll-parallax';</span><span id="0cb8" class="mt lw it ng b gy no nl l nm nn">function Component() {<br/>  const parallax = useParallax({<br/>    speed: -10,<br/>  });<br/>  return &lt;div ref={parallax.ref} /&gt;;<br/>}</span></pre><p id="9323" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用速度将自动应用translateY CSS样式(如果滚动轴是水平的，则应用translate y CSS样式)。</p><p id="6d4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用<a class="ae ky" href="https://react-scroll-parallax.damnthat.tv/docs/usage/parallax-props#available-css-effects" rel="noopener ugc nofollow" target="_blank">旋转道具</a>围绕其轴旋转元素。使用<code class="fe np nq nr ng b">rotate</code>道具围绕z轴旋转一个元素。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="9fe6" class="mt lw it ng b gy nk nl l nm nn">const Component = () =&gt; {<br/>  const parallax = useParallax&lt;HTMLDivElement&gt;({<br/>    rotate: [0, 360],<br/>  });<br/>  return (<br/>    &lt;div ref={parallax.ref} className="spinner"&gt;<br/>      😵‍💫<br/>      &lt;div className="diamond"&gt;💎&lt;/div&gt;<br/>      &lt;div className="clown"&gt;🤡&lt;/div&gt;<br/>      &lt;div className="money"&gt;💰&lt;/div&gt;<br/>      &lt;div className="hand"&gt;👌🏻&lt;/div&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};<a class="ae ky" href="https://react-scroll-parallax.damnthat.tv/docs/usage/parallax-props#available-css-effects" rel="noopener ugc nofollow" target="_blank">​</a></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/8cf18cb6f6708996ef1698a7d1a5acc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BPXlVyNVbzimpQwDYQx3Fw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://react-scroll-parallax.damnthat.tv/docs/usage/parallax-props#available-css-effects" rel="noopener ugc nofollow" target="_blank">https://react-scroll-parallax . damn that . TV/docs/usage/parallax-props # available-CSS-effects</a></p></figure><p id="1a33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如需深入了解，请参见<a class="ae ky" href="https://react-scroll-parallax.damnthat.tv/docs/examples/how-it-works" rel="noopener ugc nofollow" target="_blank">其工作原理部分。</a></p><h1 id="e415" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">11.反应-存储-挂钩</h1><p id="9b4f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe np nq nr ng b">react-storage-hooks </code>用于保持应用状态与localStorage或sessionStorage同步。</p><p id="8978" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个库中包含的<code class="fe np nq nr ng b">useStorageState</code>和<code class="fe np nq nr ng b">useStorageReducer</code>钩子的工作方式类似于<code class="fe np nq nr ng b"><a class="ae ky" href="https://reactjs.org/docs/hooks-reference.html#usestate" rel="noopener ugc nofollow" target="_blank">useState</a></code>和<code class="fe np nq nr ng b"><a class="ae ky" href="https://reactjs.org/docs/hooks-reference.html#usereducer" rel="noopener ugc nofollow" target="_blank">useReducer</a></code>。不过，还是有一些不同之处。<a class="ae ky" href="https://github.com/soyguijarro/react-storage-hooks#usage" rel="noopener ugc nofollow" target="_blank">请参见“操作方法”部分，进一步深入了解。</a></p><h2 id="d2e3" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">如何使用</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h1 id="610e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">12.@ chakra-ui/颜色模式</h1><p id="a9ac" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><code class="fe np nq nr ng b">@chakra-ui/color-mode</code>是一个React组件+钩子，使用<code class="fe np nq nr ng b">localStorage</code>和<code class="fe np nq nr ng b">matchMedia</code>增加了对亮模式和暗模式的支持。</p><p id="25cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我是黑暗主题的忠实粉丝。这个挂钩让用户可以很容易地在深色或浅色主题之间进行选择。</p><h2 id="8d9c" class="mt lw it bd lx mu mv dn mb mw mx dp mf li my mz mh lm na nb mj lq nc nd ml ne bi translated">如何使用</h2><p id="448f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">将您的应用程序包装在<code class="fe np nq nr ng b">ThemeProvider</code>下面的<code class="fe np nq nr ng b">ColorModeProvider</code>中</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="c51b" class="mt lw it ng b gy nk nl l nm nn">import * as React from "react"<br/>import { ColorModeProvider } from "@chakra-ui/color-mode"<br/>import theme from "./theme"</span><span id="c136" class="mt lw it ng b gy no nl l nm nn">function App({ children }) {<br/>  return (<br/>    &lt;ThemeProvider theme={theme}&gt;<br/>      &lt;ColorModeProvider&gt;{children}&lt;/ColorModeProvider&gt;<br/>    &lt;/ThemeProvider&gt;<br/>  )<br/>}</span></pre><p id="cad7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在应用程序中使用钩子<code class="fe np nq nr ng b">useColorMode</code>。</p><pre class="kj kk kl km gt nf ng nh ni aw nj bi"><span id="f508" class="mt lw it ng b gy nk nl l nm nn">function Example() {<br/>  const { colorMode, toggleColorMode } = useColorMode()<br/>  return (<br/>    &lt;header&gt;<br/>      &lt;Button onClick={toggleColorMode}&gt;<br/>        Toggle {colorMode === "light" ? "Dark" : "Light"}<br/>      &lt;/Button&gt;<br/>    &lt;/header&gt;<br/>  )<br/>}</span></pre><p id="630b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.npmjs.com/package/@chakra-ui/color-mode" rel="noopener ugc nofollow" target="_blank">参见本页了解更多说明。</a></p></div><div class="ab cl oa ob hx oc" role="separator"><span class="od bw bk oe of og"/><span class="od bw bk oe of og"/><span class="od bw bk oe of"/></div><div class="im in io ip iq"><p id="35f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。你知道这里没有提到的很棒的钩子吗？请把你的知识写在评论里。我一定会偷看的！</p><p id="b730" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://trevorlasn.medium.com/membership" rel="noopener">使用我的推荐链接</a>随时成为中级会员。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</p></div></div>    
</body>
</html>