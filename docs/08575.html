<html>
<head>
<title>5 Prerequisites To Know Before Adopting Microservices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">采用微服务前需要了解的5个先决条件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-prerequisites-to-know-before-adopting-microservices-a1ce08e1a605?source=collection_archive---------4-----------------------#2021-05-17">https://betterprogramming.pub/5-prerequisites-to-know-before-adopting-microservices-a1ce08e1a605?source=collection_archive---------4-----------------------#2021-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="584d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在路障出现之前要有所警觉和准备</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/85558e8bd82f1746b8a7789eafad532d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3jX5VxyLwpxuQEWh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@5tep5?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">亚历山大·波波夫</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="3c6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">微服务是构建高度可伸缩分布式应用程序最常见架构模式之一。该模式描述了通过小型的、独立的可发布服务来交付系统。服务通过网络提供功能(通常通过API)。</p><p id="e201" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的谷歌趋势清楚地表明，在过去的5-6年里，人们对这个话题的兴趣越来越大:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/4094e3c1ddf6c7b2e5aa83bc0c5d94ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rj8NUG8Kpx3lvSLG16YFnQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">谷歌趋势-微服务。作者截图。</p></figure><p id="d1b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我见过许多团队在没有真正理解利弊的情况下就投入微服务迁移。</p><p id="2fdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将讨论一些在开始使用微服务之前应该注意的常见陷阱。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="db15" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">构建微服务的优势</h1><p id="f079" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">你们中的许多人可能已经阅读了许多关于微服务优势的文章和书籍，并亲身经历了其中的许多内容。以下是为什么要构建微服务的快速回顾:</p><ul class=""><li id="3d2d" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">微服务易于部署。</li><li id="d4d2" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">您可以为每项服务自由选择最合适的技术组合。它不会强迫你坚持使用特定的技术，即使它并不适合你。</li><li id="9d02" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">多个开发人员/团队可以独立工作，促进更快的并行开发。</li><li id="6c75" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">它们促进了服务之间的松散耦合，因为服务通常通过网络/HTTP相互交互。</li></ul><p id="bb64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们在登上微服务航班之前先看看飞行前检查清单。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="167d" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">失败不可避免</h1><p id="2c27" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当您构建一个由微服务组成的系统时，请记住网络会很慢/有故障。不同的服务可能在不同的时间开启/关闭。因此，您需要在构建服务时考虑到失败。</p><p id="6b40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，有像<em class="no">断路器</em>这样的模式可以帮助克服这些故障，让系统在降级模式下工作。</p><p id="b857" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请确保您知道可以帮助解决此类问题的库。</p><p id="2d03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="no">注意:在参考资料部分，我留下了一篇文章的链接，这篇文章详细描述了断路器模式和在这个场景中使用的库。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="7331" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">你需要的不仅仅是基本的监控</h1><p id="c444" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如前所述，分布式系统的设计应该考虑到故障。使用monolith更容易调试和排除故障，因为您可能会在单台机器上查看日志。微服务可能就不是这样了。</p><p id="912a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将需要一个非常可靠的<em class="no">日志聚合系统</em>，它可以将来自不同机器的日志放在一个系统中。在开始微服务开发之前，请确保您已经启动并运行了系统。</p><p id="26e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有许多工具和平台提供日志聚合功能，即。ElasticSearch-Logstash-Kibana(麋鹿)，Splunk等。</p><p id="91e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当monolith应用程序中出现故障时，不同的模块相互交互，它们只需要调用同一个实例中的方法。在微服务中，这些调用发生在网络上。如果没有合适的工具，这些网络调用中的调试失败是非常痛苦的。如今，人们更喜欢使用一种叫做<em class="no">分布式跟踪</em>的技术来克服这些挑战。</p><p id="cc38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在分布式跟踪中，每个外部请求都被分配一个唯一的ID。然后，这个唯一的ID被传递给参与该请求的每一个微服务。这个唯一的ID也会在日志记录过程中使用。它还捕获开始时间和结束时间等信息，以更好地了解不同微服务之间的请求跨度。</p><p id="53a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像Jaeger这样的开源工具/平台可以帮助解决这些问题。确保你以前想过使用这些工具。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/dcb1913aa91a69c4287cfbd5f5815ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LufJ8Tjcxy6Hjifd.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Jaeger的分布式跟踪。来源:<a class="ae ky" href="https://www.jaegertracing.io/docs/1.22/frontend-ui/" rel="noopener ugc nofollow" target="_blank">耶格文件</a></p></figure><p id="6df4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数云提供商支持内置的监控解决方案，如Google StackDriver、Azure Insights、AWS CloudWatch等。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d10c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">运营开销</h1><p id="a685" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在微服务的世界里，与整体应用相比，你必须构建、部署、运行和监控大量的服务。这些服务中的许多将需要故障转移和弹性，因此将需要部署这些服务的多个实例，添加负载平衡器和消息队列，并且您的生态系统将开始变得庞大。</p><p id="bf6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要部署这个庞大的生态系统，您需要健壮的部署和发布管道。您将需要高质量的监控和基础设施来支持这种快速的开发和部署。</p><p id="f460" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有很多解决方案可以帮助解决这些问题。</p><p id="3840" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GitLab、Azure DevOps和GitHub等平台支持所需的发布和构建管道。</p><p id="5da0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的团队应该拥有丰富的DevSecOps技能来使发布和部署健壮，所以请明智地计划。</p><p id="dfde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在投身微服务之前，请确保您已经考虑过这些工具/平台。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="975f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">开发者体验</h1><p id="68d4" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">如今，大多数公司都在尝试衡量和改善他们组织中的开发者体验。如果提供了正确的工具，高开发效率可以实现快速开发。</p><p id="32c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许多团队更喜欢使用容器来部署服务。当开发人员需要尝试这些东西时，他们可能必须在他们的工作机器上运行几个容器。</p><p id="2fca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，您需要确保您已经清楚地定义了服务将如何被开发，它们应该如何以及在哪里被测试，以及如何运行集成测试。</p><p id="9edf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将需要确保您的团队很好地配备了这些工具，并能舒适地使用它们。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="0a34" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">微服务架构评估平台</h1><p id="894b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在为这篇文章做研究时，我遇到了一个非常酷的<a class="ae ky" href="https://platform.microservices.io/" rel="noopener ugc nofollow" target="_blank">评估平台</a>，它可以帮助评估你的准备情况。该工具会询问您关于当前成熟度的各种问题，如:</p><ul class=""><li id="7220" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">军种间通信</li><li id="132c" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">部署和可靠性</li><li id="023a" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">可观察性</li><li id="79b2" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">外部配置</li><li id="a578" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">下文</li><li id="29de" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">证明文件</li><li id="39a6" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">等等。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/8840d990a09f1fa26d5f453605a90dd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ukjoQ264MplKN3WrLzuxVw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">微服务架构评估。来源:<a class="ae ky" href="https://platform.microservices.io/" rel="noopener ugc nofollow" target="_blank">微服务架构评估平台</a></p></figure><p id="a767" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后它会向你展示结果。我强烈建议你试试这个。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/0bc0703dfa95eb1399fb8e30749b2e6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ywR1e5n-vbl6XscX0DAeg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">示例应用程序记分卡。来源:<a class="ae ky" href="https://platform.microservices.io/" rel="noopener ugc nofollow" target="_blank">微服务架构评估平台</a></p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="116a" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="7b27" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">毫无疑问，微服务架构是这个互联网规模世界的幸事。大多数障碍都有适当的解决方案。因此，在涉足微服务之前，您需要充分了解并做好充分准备！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4a14" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">参考</h1><ol class=""><li id="7c00" class="na nb it lb b lc mv lf mw li ns lm nt lq nu lu nv ng nh ni bi translated">断路器模式—<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/modern-day-architecture-design-patterns-for-software-professionals-9056ee1ed977#4c75">https://better programming . pub/modern-day-architecture-design-patterns-for-software-professionals-9056 ee1ed 977 # 4c 75</a></li><li id="5ba6" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nv ng nh ni bi translated">麋鹿—<a class="ae ky" href="https://www.elastic.co/log-monitoring" rel="noopener ugc nofollow" target="_blank">https://www.elastic.co/log-monitoring</a></li><li id="3de3" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nv ng nh ni bi translated"><a class="ae ky" href="http://highscalability.com/blog/2014/4/8/microservices-not-a-free-lunch.html" rel="noopener ugc nofollow" target="_blank">http://high scalability . com/blog/2014/4/8/micro services-not-a-free-lunch . html</a></li><li id="6fca" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nv ng nh ni bi translated"><a class="ae ky" href="https://martinfowler.com/bliki/MicroservicePrerequisites.html" rel="noopener ugc nofollow" target="_blank">https://Martin fowler . com/bliki/microservice prerequisites . html</a></li></ol></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt nw nx ny nz aw oa bi"><span id="7106" class="ob me it nx b gy oc od l oe of">Hey, if you enjoyed this story, check out <a class="ae ky" href="https://deshpandetanmay.medium.com/membership" rel="noopener">Medium Membership</a>! Just $5/month!</span><span id="f0ce" class="ob me it nx b gy og od l oe of"><em class="no">Your membership fee directly supports me and other writers you read. You’ll also get full access to every story on Medium.</em></span></pre></div></div>    
</body>
</html>