<html>
<head>
<title>SwiftUI Tutorial: Working With Stacks — VStack, HStack, and ZStack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI教程:使用堆栈— VStack、HStack和ZStack</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftui-tutorial-working-with-stacks-vstack-hstack-and-zstack-2b0070be18d7?source=collection_archive---------1-----------------------#2022-01-09">https://betterprogramming.pub/swiftui-tutorial-working-with-stacks-vstack-hstack-and-zstack-2b0070be18d7?source=collection_archive---------1-----------------------#2022-01-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="babf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个好的用户界面需要有组织的视图布局</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/176a2ef83299630921074a61422d8eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k3OhKVuEAix6XIxYWwciZw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图一。</p></figure><p id="f0e6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在SwiftUI中使用堆栈可以让您轻松布局应用程序，构建复杂的用户界面。这类似于UIKit中的堆栈视图，但没有构建适合所有屏幕大小的应用程序的自动布局的复杂性。SwiftUI通过简化堆栈上的一切，消除了UIKit复杂的自动布局。</p><p id="96aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以使用和组合3种不同类型的SwiftUI堆栈。根据您希望如何设计应用程序的用户界面，以下是选项:</p><ul class=""><li id="07f9" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><code class="fe md me mf mg b">ZStack</code></li><li id="7f37" class="lu lv it la b lb mh le mi lh mj ll mk lp ml lt lz ma mb mc bi translated"><code class="fe md me mf mg b">HStack</code></li><li id="64dc" class="lu lv it la b lb mh le mi lh mj ll mk lp ml lt lz ma mb mc bi translated"><code class="fe md me mf mg b">VStack</code></li></ul><p id="090f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本教程中，您将了解不同堆栈的工作原理。我们还将创建一个复杂的用户界面，如图1所示。</p><p id="3959" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们继续下一步之前，创建一个新项目或打开一个用于练习的现有项目。如果你需要一步一步的过程来做这件事，请遵循这个<a class="ae mm" href="https://blog.devgenius.io/introduction-to-swiftui-creating-new-project-9adc502e1804" rel="noopener ugc nofollow" target="_blank">指南</a>。</p><h1 id="1768" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">ZStack</h1><p id="7b7a" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated"><code class="fe md me mf mg b">ZStack</code>将视图组织在彼此之上。这对于创建重叠内容非常有用，例如将文本放在图像的顶部，如下所示:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="87f9" class="no mo it mg b be np nq l nr ns">import SwiftUI<br/><br/>struct ContentView: View {<br/>    <br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            <br/>            Image(systemName: "globe.europe.africa")<br/>                .font(.system(size: 300))<br/>            <br/>            Text("Africa")<br/>                .font(.system(size: 25))<br/>            <br/>        }<br/>        <br/>    }<br/>    <br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/9b33252c5e5d418de3f1b05f22e52ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m_ChR7vkdi_aQQEJaz8kBQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图二。使用ZStack进行布局</p></figure><h1 id="51f7" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">HStack</h1><p id="ed0a" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">这用于水平组织视图。这里有一个简单的例子来说明它是如何工作的:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="9f3e" class="no mo it mg b be np nq l nr ns">import SwiftUI<br/><br/>struct ContentView: View {<br/>    <br/>    var body: some View {<br/>        <br/>        HStack {<br/>         <br/>            Button(action: {<br/>                print("Left button is pressed")<br/>            }) {<br/>                Text("Left Button")<br/>                    .padding()<br/>                    .font(.body)<br/>                    .foregroundColor(.white)<br/>                    .background(Color.blue)<br/>            }<br/>            <br/>            Button(action: {<br/>                print("Right button is pressed")<br/>            }) {<br/>                Text("Right Button")<br/>                    .padding()<br/>                    .font(.body)<br/>                    .foregroundColor(.white)<br/>                    .background(Color.blue)<br/>            }<br/>            <br/>        }<br/>        <br/>    }<br/>    <br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/e859dab4c04416cafdebea3d7fb212d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vQ2k_qOPHsk3WybfF8-zWA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3。使用HStack进行布局</p></figure><h1 id="1f46" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">VStack</h1><p id="9bad" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated"><code class="fe md me mf mg b">VStack</code>垂直组织视图。这里有一个简单的例子来说明它是如何工作的:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="282d" class="no mo it mg b be np nq l nr ns">import SwiftUI<br/><br/>struct ContentView: View {<br/>    <br/>    var body: some View {<br/>        <br/>        VStack {<br/>         <br/>            Text("Press the button below")<br/>                .font(.system(size: 25))<br/>            <br/>            Button(action: {<br/>                print("Button is pressed")<br/>            }) {<br/>                Text("Press me")<br/>                    .padding()<br/>                    .font(.body)<br/>                    .foregroundColor(.white)<br/>                    .background(Color.blue)<br/>            }<br/>            <br/>        }<br/>        <br/>    }<br/>    <br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/0459d7859cf99351d9c020d327ab27fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gGWtrAS09eVoMFHfKduPHQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4。使用VStack进行布局</p></figure><h1 id="e0f6" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">间隔</h1><p id="2f35" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">如果你需要更多的呼吸空间，你可以调整视图之间的空间。以下示例显示了如何操作:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="0ee8" class="no mo it mg b be np nq l nr ns">VStack(spacing: 50) {<br/>                 <br/>    Text("Press the button below")<br/>        .font(.system(size: 25))<br/>                    <br/>    Button(action: {<br/>        print("Button is pressed")<br/>    }) {<br/>        Text("Press me")<br/>            .padding()<br/>            .font(.body)<br/>            .foregroundColor(.white)<br/>            .background(Color.blue)<br/>    }<br/>                    <br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/4b027c511721fbc14ec7cd86fa5efa42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*Dbp3GxLvl9A072r9DNd3Pg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5。在视图之间增加更多空间</p></figure><p id="0e77" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">注意:</strong>上述语法也适用于<code class="fe md me mf mg b">ZStack</code>和<code class="fe md me mf mg b">HStack</code>。</p><h1 id="a350" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">对齐</h1><p id="adb5" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">如果您不希望堆栈像这样位于中心，您可以控制堆栈的对齐方式:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="0aa2" class="no mo it mg b be np nq l nr ns">import SwiftUI<br/><br/>struct ContentView: View {<br/>    <br/>    var body: some View {<br/>        <br/>        VStack(alignment: .leading) {<br/>                 <br/>            Text("Press the button below")<br/>                .font(.system(size: 25))<br/>                    <br/>            Button(action: {<br/>                print("Button is pressed")<br/>            }) {<br/>                Text("Press me")<br/>                    .padding()<br/>                    .font(.body)<br/>                    .foregroundColor(.white)<br/>                    .background(Color.blue)<br/>            }<br/>                    <br/>        }<br/>        <br/>    }<br/>    <br/>}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/bd16da422e2514f000e9561c1febfccf.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*cx1walTzvzt8po4p8m3q5g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6。更改视图的对齐方式</p></figure><p id="173f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">是的，你可以把所有的修饰符放在一个参数中，就像这样:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="9757" class="no mo it mg b be np nq l nr ns">HStack(alignment: .top, spacing: 50)</span></pre><h1 id="a65f" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">嵌套堆栈</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/785b2494eb2796410ac5baf445c48faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*OpKENzu7GxiW1cdGNmgn7g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7。</p></figure><p id="b7d6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在教程的这一部分，我们将创建一个类似上面所示的用户界面(图7)。</p><p id="c443" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">注意:</strong>为了更好的可读性，我在这个例子中插入了注释。我还使用了多个SwiftUI <code class="fe md me mf mg b"><a class="ae mm" href="https://blog.devgenius.io/swiftui-tutorial-working-with-text-15de81494a07" rel="noopener ugc nofollow" target="_blank">Text</a></code>和<code class="fe md me mf mg b"><a class="ae mm" href="https://blog.devgenius.io/swiftui-tutorial-working-with-buttons-ee3fdcfb8337" rel="noopener ugc nofollow" target="_blank">Button</a></code>修饰符。</p><p id="5abd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在不使你的大脑不堪重负的情况下，最好的方法是将用户界面分解成小的部分。</p><p id="7a01" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从设置应用程序的背景颜色开始，我们将初始堆栈设置为<code class="fe md me mf mg b">ZStack</code>，并将其颜色转换为黑色。</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="4bb1" class="no mo it mg b be np nq l nr ns">struct ContentView: View {<br/>    <br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            <br/>            //Background color<br/>            Color.black<br/>                .ignoresSafeArea(.all)<br/>            <br/>        } //ZStack<br/>        <br/>    } //body<br/>    <br/>} //ContentView</span></pre><p id="6908" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">分析UI，注意视图通常是垂直组织的。所以让我们在背景色之后的<code class="fe md me mf mg b">ZStack</code>里面创建一个<code class="fe md me mf mg b">VStack</code>。</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="94be" class="no mo it mg b be np nq l nr ns">ZStack {<br/>            <br/>    //Background color<br/>    Color.black<br/>        .ignoresSafeArea(.all)<br/>            <br/>    VStack {<br/>                <br/>    } //VStack<br/>            <br/>} //ZStack</span></pre><p id="b35e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们可以从顶部开始添加内容。最上面的是“选择你的订阅”标签。</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="7b77" class="no mo it mg b be np nq l nr ns">ZStack {<br/>            <br/>    //Background color<br/>    Color.black<br/>        .ignoresSafeArea(.all)<br/>            <br/>    VStack {<br/>        Text("Choose your subscription")<br/>            .font(.system(.title, design: .rounded))<br/>            .foregroundColor(.white)<br/>            .fontWeight(.black)<br/>  <br/>    } //VStack<br/>            <br/>} //ZStack</span></pre><p id="c0b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">应用程序在画布上应该是这样的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c3c7b4225217f9d057bc9d07d09eb8ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*kWDVbjkc0tY6NPqUWWPfsQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图8。</p></figure><p id="95a5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在“Choose your subscription”标签下是两个并排排列的视图，如下面的图9所示。这可以通过在一个<code class="fe md me mf mg b">VStack</code>中嵌套一个<code class="fe md me mf mg b">HStack</code>来实现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/1812bdada8373c02fc885721e1229266.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*cNhlDuydbMLHukkKd8kt3w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图9。</p></figure><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="f2e3" class="no mo it mg b be np nq l nr ns">ZStack {<br/>            <br/>    //Background color<br/>    Color.black<br/>        .ignoresSafeArea(.all)<br/>            <br/>    VStack {<br/>        Text("Choose your subscription")<br/>            .font(.system(.title, design: .rounded))<br/>            .foregroundColor(.white)<br/>            .fontWeight(.black)<br/>     <br/>        HStack {<br/>                    <br/>        } //HStack<br/>    } //VStack<br/>            <br/>} //ZStack</span></pre><p id="51cf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在将下面的代码放在<code class="fe md me mf mg b">HStack</code>中:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="3f6b" class="no mo it mg b be np nq l nr ns">VStack {<br/>    Text("Basic")<br/>        .font(.system(.title, design: .rounded))<br/>        .foregroundColor(.black)<br/>        .fontWeight(.black)<br/>    Text("$9")<br/>        .font(.system(.title, design: .rounded))<br/>        .foregroundColor(.black)<br/>    Text("per month")<br/>        .font(.headline)<br/>        .foregroundColor(.black)<br/>} //VStack<br/>.frame(maxWidth: .infinity, minHeight: 150)<br/>.padding(30)<br/>.background(.white)<br/>.cornerRadius(20)<br/><br/>VStack {<br/>    Text("Gold")<br/>        .font(.system(.title, design: .rounded))<br/>        .foregroundColor(.black)<br/>        .fontWeight(.black)<br/>    Text("$49")<br/>        .font(.system(.title, design: .rounded))<br/>        .foregroundColor(.black)<br/>    Text("per month")<br/>        .font(.headline)<br/>        .foregroundColor(.black)<br/>} //VStack<br/>.frame(maxWidth: .infinity, minHeight: 150)<br/>.padding(30)<br/>.background(.yellow)<br/>.cornerRadius(20)</span></pre><h1 id="281c" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">提取视图</h1><p id="b189" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">尽管上面的代码有效，但这不是最佳实践，因为我们做了大量的代码重复。这使得整个程序效率低下。</p><p id="c058" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了消除代码重复，我们将把它们提取到一个单独的结构中。按住command键，然后点击<code class="fe md me mf mg b">VStack</code>。将出现一个上下文菜单，显示所有可用选项。选择<em class="oa">提取子视图</em>。下面的图10显示了如何执行这个动作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/794b67e8e094a5ce542ed82792fd79aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fu6Y-i2Q0jiXToDho7VtUA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图10。提取子视图</p></figure><p id="4a60" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Xcode将创建一个单独的结构，包含提取视图的代码。</p><p id="f188" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">名称<code class="fe md me mf mg b">ExtractedView()</code> <strong class="la iu"> <em class="oa"> </em> </strong>过于笼统，当我们添加更多提取的结构时，可能会引起一些混乱。</p><p id="be72" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以我们把它改名为<code class="fe md me mf mg b">SubscriptionView()</code>。另一件要做的重要事情是去掉另一个<code class="fe md me mf mg b">Gold</code>的<code class="fe md me mf mg b">VStack</code>标签。它应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/684bc47d026744cc80792a00dcf2a33e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lc66zLBsDOoxEYhz8sNAKQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图11。更改子视图的名称</p></figure><p id="13ee" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要做的下一件事是使<code class="fe md me mf mg b">SubscriptionView()</code> <strong class="la iu"> <em class="oa"> </em> </strong>可定制，以便我们可以为其他订阅重用该对象。这就是我们需要在结构中使用变量的地方。</p><p id="914d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将<code class="fe md me mf mg b">SubscriptionView()</code>结构下的代码更新为:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="dbb0" class="no mo it mg b be np nq l nr ns">struct SubscriptionView: View {<br/>    <br/>    var title: String<br/>    var price: String<br/>    var fontColor: Color<br/>    var bgColor: Color<br/>    <br/>    var body: some View {<br/>        VStack {<br/>            <br/>            Text(title)<br/>                .font(.system(.title, design: .rounded))<br/>                .foregroundColor(fontColor)<br/>                .fontWeight(.black)<br/>            <br/>            Text("$\(price)")<br/>                .font(.system(.title, design: .rounded))<br/>                .foregroundColor(fontColor)<br/>            <br/>            Text("per month")<br/>                .font(.headline)<br/>                .foregroundColor(fontColor)<br/>            <br/>        } //VStack<br/>        .frame(maxWidth: .infinity, minHeight: 150)<br/>        .padding(30)<br/>        .background(bgColor)<br/>        .cornerRadius(20)<br/>    }<br/>    <br/>}</span></pre><p id="839d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，会出现一个错误，因为您需要填写<code class="fe md me mf mg b">ContentView()</code>下的一些参数。</p><p id="c681" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这意味着该结构现在是可自定义的。所以，编辑成这样:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="d5aa" class="no mo it mg b be np nq l nr ns">HStack {<br/>    SubscriptionView(title: "Basic", price: "9", fontColor: .black, bgColor: .white)<br/>    <br/>    SubscriptionView(title: "Gold", price: "49", fontColor: .black, bgColor: .yellow)<br/>                    <br/>} //HStack</span></pre><p id="bf42" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你的<code class="fe md me mf mg b">ContentView()</code>现在应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/7489c28f91ff8665e115eaa7282807f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KcNarpEYG7yfXP3CTuFuYw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图12。填充订阅视图()</p></figure><p id="9ed4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">处理下一个SwiftUI视图现在变得更加容易和高效，因为我们已经为它创建了一个现成的对象。在<code class="fe md me mf mg b">HStack</code>下面添加以下代码，并确保它不在其中:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="cfc7" class="no mo it mg b be np nq l nr ns">SubscriptionView(title: "Titanium", price: "99", fontColor: .white, bgColor: .gray)</span></pre><p id="a35f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代码应该如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/f3c5f04230737c3426df3d96f2be463a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1brYEDr753MSuRL2lnVJ_Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图13。为titanium添加订阅视图。</p></figure><p id="43af" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要添加的最后一个对象是按钮。因为我们要添加两个看起来一样的按钮。</p><p id="1dba" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们为它创建一个单独的结构。在<code class="fe md me mf mg b">SubscriptionView()</code>下面添加以下代码:</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="91ff" class="no mo it mg b be np nq l nr ns">struct SubscriptionButton: View {<br/>    <br/>    var text: String<br/>    var color: Color<br/>    var topPadding: CGFloat<br/>    var action: () -&gt; Void<br/>    <br/>    var body: some View {<br/>        Button(action: action) {<br/>            Text(text)<br/>                .padding()<br/>                .font(.title)<br/>                .foregroundColor(.white)<br/>                .frame(maxWidth: .infinity, maxHeight: 75)<br/>                .background(color)<br/>                .cornerRadius(30)<br/>                .shadow(radius: 40)<br/>        }<br/>        .padding(.top, topPadding)<br/>        .padding(.horizontal)<br/>    }<br/>}</span></pre><p id="6073" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的代码允许我们轻松地创建多个具有相同布局的按钮。</p><p id="b6a3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">是时候敲定<code class="fe md me mf mg b">ContentView()</code> struct的代码了。</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="dee5" class="no mo it mg b be np nq l nr ns">struct ContentView: View {<br/>    <br/>    var body: some View {<br/>        <br/>        ZStack {<br/>            <br/>            //Background color<br/>            Color.black<br/>                .ignoresSafeArea(.all)<br/>            <br/>            VStack {<br/>                <br/>                Text("Choose your subscription")<br/>                    .font(.system(.title, design: .rounded))<br/>                    .foregroundColor(.white)<br/>                    .fontWeight(.black)<br/>                <br/>                HStack {<br/>                    <br/>                    SubscriptionView(title: "Basic", price: "9", fontColor: .black, bgColor: .white)<br/>                    SubscriptionView(title: "Gold", price: "49", fontColor: .black, bgColor: .yellow)<br/>                    <br/>                } //HStack<br/>                <br/>                SubscriptionView(title: "Titanium", price: "99", fontColor: .white, bgColor: .gray)<br/>                <br/>                SubscriptionButton(text: "Subscribe", color: .blue, topPadding: 40, action: {<br/>                    //Execute subscribe code<br/>                })<br/>                <br/>                SubscriptionButton(text: "Maybe next time", color: .red, topPadding: 10, action: {<br/>                    //Execute exit code<br/>                })<br/>                <br/>            } //VStack<br/>            <br/>        } //ZStack<br/>        <br/>    } //body<br/>    <br/>} //ContentView</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/7360c5865bb980ee287587b9a5864dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aTccnPi7QGwB5Wib-WAQIw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图14。ContentView()源代码</p></figure><p id="b977" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们结束了。对自己出色完成的工作给予鼓励。</p><p id="32fc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我为这个项目的全部源代码添加了一个GitHub链接:</p><div class="of og gp gr oh oi"><a href="https://github.com/athurion/SwiftUI-Tutorial-Working-with-Stacks---VStack-HStack-and-ZStack" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">GitHub-athurion/swift ui-Tutorial-使用-Stacks-v stack-h stack-and-z stack</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">github.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow ks oi"/></div></div></a></div><h1 id="b819" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">好处:嵌入堆栈</h1><p id="3063" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">如果您有一个需要嵌套或设置在另一个堆栈中的existingSwiftUI堆栈，您不需要重写或复制并粘贴代码。你需要的只是这个叫做<code class="fe md me mf mg b">embed</code>的快捷键。</p><p id="d7f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设您希望下面的代码在ZStack中。</p><pre class="kj kk kl km gt nk mg nl bn nm nn bi"><span id="a45e" class="no mo it mg b be np nq l nr ns">struct ContentView: View {<br/>    <br/>    var body: some View {<br/>            <br/>        VStack {<br/>            <br/>            Text("Choose your subscription")<br/>                .font(.system(.title, design: .rounded))<br/>                .fontWeight(.black)<br/>            <br/>        }<br/>        <br/>    }<br/>    <br/>}</span></pre><p id="9481" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">按住command键然后点按<code class="fe md me mf mg b">VStack</code>。将出现一个上下文菜单，显示所有可用选项。对于这个例子，我们希望它在<code class="fe md me mf mg b">ZStack</code>下。所以选择嵌入ZStack。下面的图15显示了如何执行这个动作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/f17f1b3775c88c3236a5514b99d1360d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R1wMG_wZAuxyvSQemR5tdA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图15。嵌入ZStack</p></figure><p id="c550" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，代码将如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/42196f697edf993054d954b59e7530e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F3jwvuu1XiOWVIOaoc9PRg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图16。嵌入ZStack</p></figure><p id="b139" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就是这样。在我们的下一个教程中，我们将讨论SwiftUI中的<a class="ae mm" href="https://arc-sosangyo.medium.com/swiftui-tutorial-working-with-list-using-foreach-a4b7451fbcf0" rel="noopener"> List和ForEach </a>。</p><p id="b4e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">愿法典与你同在。</p></div></div>    
</body>
</html>