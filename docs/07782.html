<html>
<head>
<title>6 Essential Python Tuple Unpacking Techniques You Can Use</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您可以使用的6种基本Python元组解包技术</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/6-essential-python-tuple-unpacking-techniques-you-can-use-fc5d56a2c5f4?source=collection_archive---------10-----------------------#2021-02-18">https://betterprogramming.pub/6-essential-python-tuple-unpacking-techniques-you-can-use-fc5d56a2c5f4?source=collection_archive---------10-----------------------#2021-02-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d1c5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用元组解包来编写更好的Python代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5a07099d8d09526fb38b8c4039bf55e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ch5Mlr1AgZbA0jGJ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@glaubersampaio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Gláuber Sampaio </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄。</p></figure><p id="1ccf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Python中，元组用于存储不同数量的元素。与可变的列表不同，元组是Python中不可变的数据容器。这意味着一旦它们被创建，你就不能改变它们的值。因此，Python开发人员经常使用它们来表明它们不打算被更改。此外，它们的不变性防止了意外的变化。此外，与列表相比，元组通常更小，因此更易于存储，因为列表的可变性需要额外的开销。</p><p id="8583" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当处理元组时，我们经常需要访问其中的单个项。Python为我们提供了以不同方式检索项目的灵活性。在这篇文章中，我想回顾一下最重要的。总的来说，它们被称为元组解包。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="25bf" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.一对一拆包</h1><p id="307f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">解包是在元组中检索一个或多个项目的过程。第一种解包技术是一对一解包。本质上，我们使用与元组中项的数量相对应的相同数量的变量。通过这样做，每个变量将在相应的位置保存项目。</p><p id="d80f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑下面的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一对一拆包</p></figure><ul class=""><li id="d43e" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated"><code class="fe nk nl nm nn b">user_data</code>元组包含三个保存用户信息的元素。</li><li id="92bb" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">在第3行，我们使用三个变量来解包这个元组:<code class="fe nk nl nm nn b">name</code>、<code class="fe nk nl nm nn b">age</code>和<code class="fe nk nl nm nn b">gender</code>。</li><li id="c7a3" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">从打印输出中，我们可以看到这三个变量中的每一个都被赋予了tuple对象中相应的元素。</li></ul><p id="16fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您访问另一个函数的返回值时，一对一的解包非常有用，因为有些函数会以元组的形式返回多个值。以下代码向您展示了一个示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">解析从函数返回的值</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7ad2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.用下划线表示不需要的项目</h1><p id="3d0a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们并不总是想使用一个元组对象中的所有条目。例如，我们可能只对访问用户的姓名和性别感兴趣。如前所述，这些数据包含在元组中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">不需要的项目的下划线</p></figure><ul class=""><li id="8cf9" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">我们在年龄信息对应的位置使用下划线。</li><li id="7c23" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">应该注意的是，下划线实际上是一个有效的Python变量名。实际上，它保存年龄数据，如下所示:</li></ul><pre class="kj kk kl km gt nt nn nu nv aw nw bi"><span id="2f6a" class="nx md it nn b gy ny nz l oa ob">&gt;&gt;&gt; print(f"Age: {_}")<br/>Age: 44</span></pre><ul class=""><li id="48dd" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">但是，建议使用这种用法，而不是使用显式变量名，因为它清楚地表明了不需要该特定位置的项的意图。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0291" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.使用星号(*)表示全部</h1><p id="1725" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">当元组包含多个项时，您可能希望在序列中的某个位置使用连续的项。在这种情况下，我们应该考虑使用星号(<code class="fe nk nl nm nn b">*</code>)，它可以通过其他变量捕获所有未指定的项目。</p><p id="c185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们考虑下面的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用星号</p></figure><ul class=""><li id="9c49" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated"><code class="fe nk nl nm nn b">first_num</code>和<code class="fe nk nl nm nn b">last_num</code>用于指定元组中的第一项和最后一项。</li><li id="7b27" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">我们在<code class="fe nk nl nm nn b">middle_nums</code>前面加了一个星号，它捕获除了元组中第一个和最后一个项目之外的所有剩余项目。</li><li id="ec67" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">应该注意的是，使用星号将生成一个包含剩余项目的列表，即使它包含一个或零个元素。下面是一些例子:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e9c6" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.组合下划线和星号</h1><p id="99dd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在前面的章节中，我们已经看到使用下划线和星号来表示不想要的项目和连续的项目。这两个符号可以结合在一起，条件是这些外延应该是一致的。</p><p id="d721" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段向您展示了这样的用法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用下划线和星号</p></figure><ul class=""><li id="5a9a" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">在第4行，我们结合使用了下划线和星号，这导致下划线捕捉中间的所有数字。</li><li id="7a01" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">当我们使用一个以上的星号时，解释者不知道每个星号试图表示的范围。更正式地说，这是一个<code class="fe nk nl nm nn b">SyntaxError</code>，因为两个所谓的明星表情。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0a74" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.在函数调用中使用打包和解包</h1><p id="1477" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在Python中，您可能见过具有以下调用签名的函数:</p><pre class="kj kk kl km gt nt nn nu nv aw nw bi"><span id="9745" class="nx md it nn b gy ny nz l oa ob">def do_something(*args):<br/>    pass</span></pre><p id="7246" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nk nl nm nn b">*args</code>的说法比较特殊。与其他命名参数不同，每个命名参数表示一个参数，<code class="fe nk nl nm nn b">*args</code>表示不确定数量的位置参数。换句话说，在调用这种函数时，可以传递任意数量的位置参数。</p><p id="f2d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑下面的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">元组打包和解包</p></figure><ul class=""><li id="80ef" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">在第8行，我们传递两个字符串对象来调用函数。</li><li id="a5d3" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">从第9行和第10行的打印输出中，我们可以看到这两个字符串对象被打包到一个元组对象中。</li><li id="25ce" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">值得注意的是，元组是可迭代的，因此我们可以使用一个<code class="fe nk nl nm nn b">for</code>循环(第5行和第6行)来顺序访问每一项。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1760" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">6.使用星号来解包整个元组</h1><p id="bfcf" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在处理现有元组时，有时我们希望创建包含现有元组中所有元素的新元组。在这种情况下，我们可以在元组之前使用星号，这将解包元组中的所有项。</p><p id="b0f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下代码向您展示了这样一个示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">全部拆包</p></figure><ul class=""><li id="ac9e" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">通过将星号放在<code class="fe nk nl nm nn b">grouping_factors1</code>之前，我们能够打开它的所有项目。</li><li id="4bc7" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated"><code class="fe nk nl nm nn b">grouping_factors</code>的打印输出揭示了这个事实。</li><li id="bfd8" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">需要注意的是，该语法(即带星号的表达式)不能单独使用，如下所示:</li></ul><pre class="kj kk kl km gt nt nn nu nv aw nw bi"><span id="ec68" class="nx md it nn b gy ny nz l oa ob">&gt;&gt;&gt; *grouping_factors1<br/>  File "&lt;input&gt;", line 1<br/>SyntaxError: can't use starred expression here</span></pre><ul class=""><li id="43aa" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">相反，它必须作为其他表达式的一部分使用。除了上面显示的例子之外，我们可以通过使用下面的代码使用它来创建元组的副本。带星号的表达式后面的逗号很重要，因为它构成了创建tuple对象的整个表达式。</li></ul><pre class="kj kk kl km gt nt nn nu nv aw nw bi"><span id="6379" class="nx md it nn b gy ny nz l oa ob">&gt;&gt;&gt; *grouping_factors1,<br/>('country', 'state')</span></pre><ul class=""><li id="7166" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">更广泛地说，我们应该知道带星号的表达式与任何iterable一起使用，以获得所有单个项。元组只是列表和字符串等其他可迭代类型中的一种。以下代码向您展示了一些相关的示例:</li></ul><pre class="kj kk kl km gt nt nn nu nv aw nw bi"><span id="cfd1" class="nx md it nn b gy ny nz l oa ob">&gt;&gt;&gt; *"HI", "T"<br/>('H', 'I', 'T')<br/>&gt;&gt;&gt; *[1, 2, 3], 4<br/>(1, 2, 3, 4)</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4b12" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="f00c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在本文中，我们回顾了与Python中元组相关的六种重要的解包技术。这里有一个快速回顾:</p><ul class=""><li id="c283" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">当元组没有太多的项并且我们想要使用所有的项时，我们可以使用一对一的解包来创建多个变量来表示每个项。</li><li id="4c9a" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">当有我们不想使用的项目时，我们使用下划线来明确表示我们不想要的项目。</li><li id="2f88" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">当我们对元组中的连续项感兴趣时，我们可以使用带星号的表达式来提取这些项。</li><li id="24a4" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">当不需要连续的项目时，我们可以将下划线和带星号的表达式结合起来。</li><li id="df40" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">元组打包和解包是声明和调用接受可变数量的位置参数的函数的有用技术。</li><li id="3e9a" class="nb nc it lb b lc no lf np li nq lm nr lq ns lu ng nh ni nj bi translated">带星号的表达式可以用来解包元组的所有项，就像其他可重复项一样。</li></ul></div></div>    
</body>
</html>