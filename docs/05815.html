<html>
<head>
<title>Deploy HTTP Services Written in Swift to AWS in Seconds</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在几秒钟内将Swift编写的HTTP服务部署到AWS</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/deploy-http-services-written-in-swift-to-aws-in-seconds-d9933206746a?source=collection_archive---------11-----------------------#2020-08-07">https://betterprogramming.pub/deploy-http-services-written-in-swift-to-aws-in-seconds-d9933206746a?source=collection_archive---------11-----------------------#2020-08-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c488" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">苹果新的Swift AWS Lambda运行时</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2a47b873d5626b288a31fd13248bbfcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C4Ph8n5lOZApdSFDAvkDkQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@lurm?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Adrien Converse </a>在<a class="ae ky" href="https://unsplash.com/s/photos/patterns?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="1157" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最近苹果公布了<a class="ae ky" href="https://swift.org/blog/aws-lambda-runtime/" rel="noopener ugc nofollow" target="_blank"> Swift AWS Lambda运行时</a>。现在可以使用与iOS开发相同的Swift编写在AWS上运行的自包含函数。这不仅让您可以重用您已经拥有的Swift知识，还可以在服务器和客户端之间共享代码。</p><p id="99e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，设置起来还是有点复杂。为了帮助您更快入门，我构建了一个用于在Swift 中编写HTTP服务的<a class="ae ky" href="https://github.com/GetStream/swift-lambda" rel="noopener ugc nofollow" target="_blank">起点，它在一个脚本中完成您需要的一切。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/f87519e3459c0ac0e86e9481790cec6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HyJZOpnTioTJ_pSA"/></div></div></figure><p id="d6a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Swift Lambda包含配置文件和脚本，使用<a class="ae ky" href="https://www.serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器框架</a>在几秒钟内完全自动部署到AWS。它基于来自<a class="ae ky" href="https://github.com/swift-server/swift-aws-lambda-runtime" rel="noopener ugc nofollow" target="_blank">swift-server/swift-AWS-lambda-runtime</a>的样本和文档。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="aaf7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">入门指南</h1><ol class=""><li id="e9e3" class="mv mw it lb b lc mx lf my li mz lm na lq nb lu nc nd ne nf bi translated">克隆存储库:<a class="ae ky" href="https://github.com/GetStream/swift-lambda" rel="noopener ugc nofollow" target="_blank">https://github.com/GetStream/swift-lambda</a></li><li id="52c6" class="mv mw it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated"><a class="ae ky" href="https://docs.docker.com/docker-for-mac/install/" rel="noopener ugc nofollow" target="_blank">安装对接器</a></li><li id="d328" class="mv mw it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated"><a class="ae ky" href="https://www.serverless.com/framework/docs/getting-started/" rel="noopener ugc nofollow" target="_blank">安装无服务器框架</a></li><li id="b771" class="mv mw it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated"><a class="ae ky" href="https://www.serverless.com/framework/docs/providers/aws/guide/credentials/" rel="noopener ugc nofollow" target="_blank">配置AWS凭证</a></li><li id="8555" class="mv mw it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated">在<code class="fe nl nm nn no b">Sources/Lambda/main.swift</code>中编写您的代码</li><li id="4dc0" class="mv mw it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated">通过运行<code class="fe nl nm nn no b">./Scripts/deploy.sh</code>进行部署</li><li id="d1f6" class="mv mw it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated">在浏览器中打开输出URL:</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/ecfc7a70fc8e6bb360fa3512fa184c02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oJ9DeyKZuX5-ocrp"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2a35" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">编写代码</h1><p id="e70d" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在<code class="fe nl nm nn no b">Sources/Lambda/main.swift</code>文件中已经有一些代码了。它只是简单地输出“你好，世界！”以纯文本格式。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="2279" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想输出一些HTML，只需将<code class="fe nl nm nn no b">Content-Type</code>头设置为<code class="fe nl nm nn no b">text/html; charset=UTF-8</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/d87d838f9bdc1e961d539a1ad04b849f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d6w22Z8JczfYa5Ya"/></div></div></figure><p id="c91c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有关可用设置和方法的更多信息，请参考<a class="ae ky" href="https://github.com/swift-server/swift-aws-lambda-runtime" rel="noopener ugc nofollow" target="_blank"> Swift AWS Lambda运行时自述文件</a>。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="f395" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">配置端点</h1><p id="d5fa" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">要改变HTTP端点的一些特性，比如期望的方法，您应该修改<code class="fe nl nm nn no b"><a class="ae ky" href="https://github.com/GetStream/swift-lambda/blob/main/serverless.yml#L70-L72" rel="noopener ugc nofollow" target="_blank">serverless.yml</a></code>文件。有关可用参数的更多信息，请参考<a class="ae ky" href="https://www.serverless.com/framework/docs/providers/aws/guide/serverless.yml/" rel="noopener ugc nofollow" target="_blank"> Serverless.yml参考</a></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="cd24" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">贡献的</h1><p id="9555" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">如果您有建议或错误报告，请<a class="ae ky" href="https://github.com/GetStream/swift-lambda/issues/new" rel="noopener ugc nofollow" target="_blank">在Swift Lambda存储库</a>中提交问题。如果你想尝试贡献代码，不要犹豫提交一份简历。喜欢的话别忘了留个星！</p></div></div>    
</body>
</html>