<html>
<head>
<title>How to Build a Rotation Animation in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中构建旋转动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-a-rotation-animation-in-swiftui-e8fb889ccf7e?source=collection_archive---------1-----------------------#2020-06-19">https://betterprogramming.pub/how-to-build-a-rotation-animation-in-swiftui-e8fb889ccf7e?source=collection_archive---------1-----------------------#2020-06-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="36ea" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">构建许多不同的旋转动画</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/eb41725c05e5fc66e67b631232b982af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TAiUDxuqmiEc-zHy"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@karsten_wuerth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Karsten Würth </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="d849" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于苹果提供了如此多的支持，动画在SwiftUI中比在UIKit中更容易实现。我不知道这将是一件好事还是坏事，但不管怎样，我们需要好好利用所提供的东西。</p><p id="ee38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，您将学习如何在SwiftUI中执行旋转动画。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d9a5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">先决条件</h1><p id="3137" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要学习本教程，您需要了解以下方面的一些基本知识:</p><ul class=""><li id="16fa" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">迅速发生的</li><li id="09a5" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">至少Xcode 11</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ef13" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">设置视图</h1><p id="4b43" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">你会得到一个按钮，当你点击按钮时，你将动画。首先要做的是创建一个变量来知道按钮是否被点击:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="2925" class="ns md it no b gy nt nu l nv nw">@State private var isRotated = false</span></pre><p id="556c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，您将创建另一个表示<code class="fe nx ny nz no b">Animation</code>的变量，这样就很容易从这里进行调整:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="5d8f" class="ns md it no b gy nt nu l nv nw">var animation: Animation {<br/>    Animation.easeOut<br/>}</span></pre><p id="6571" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你像我上面做的那样创建你的变量，你可以玩一会动画。您将创建一个按钮和一个矩形来模拟动画:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><ol class=""><li id="25cb" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu oc nf ng nh bi translated">当您点击按钮时，您将切换布尔值。</li><li id="2424" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu oc nf ng nh bi translated">创建一个矩形，并定义其属性。</li></ol></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9d70" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">旋转效应</h1><p id="87ff" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">您可以从这里通过替换动画来修改动画效果:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="54b7" class="ns md it no b gy nt nu l nv nw">var animation: Animation {<br/>    Animation.easeOut<br/>}</span></pre><p id="a1de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们探索多个不同的动画。第一个是<code class="fe nx ny nz no b">easeOut</code>，它将在动画结束时减速:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/22cbeb4f6bfbd02f887ebf6e203c222b.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*CYxcn8KejsfgoysVLtzndQ.gif"/></div></figure><p id="30c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一个动画是<code class="fe nx ny nz no b">easeIn</code>，它将开始缓慢，然后加速:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/6bc192edd2b1d4fb10ee680fb969cf86.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*rjihItLMGAKHsBRyIvgiuw.gif"/></div></figure><p id="d6d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一个动画是<code class="fe nx ny nz no b">linear</code>，它将在整个动画期间保持恒定的速度:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/74ce6b2cb449909fa30df77a7d0e2156.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*SXy9AsalrRwnrK1UomJGwQ.gif"/></div></figure><p id="1aee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一个是<code class="fe nx ny nz no b">easeInOut</code>，它会从慢开始，加速，最后在结尾慢下来:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/6057afac12110bb1a18325c7f819e632.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*JolUVV3u0lx6xfVgaasjQw.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="10ce" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">不间断动画</h1><p id="b64e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在，你需要不停地旋转矩形。我知道它看起来像个正方形——我应该给它更大的宽度。无论如何，让我们稍微调整一下动画。</p><p id="9a0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您需要修改两行代码来实现这一点。使用<code class="fe nx ny nz no b">repeatForever</code>，它将不停地播放动画。通过包含<code class="fe nx ny nz no b">false</code>，它将不会复位，而是继续旋转:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="b047" class="ns md it no b gy nt nu l nv nw">var animation: Animation {<br/>    Animation.linear<br/>    .repeatForever(autoreverses: false)<br/>}</span></pre><p id="a5a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一行代码是将度数改为360度:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="c182" class="ns md it no b gy nt nu l nv nw">.rotationEffect(Angle.degrees(isRotated ? 360 : 0))</span></pre><p id="146e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">效果如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/e51962963c9ce5862427a401d66b7486.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*B0dxroARQ_bze2TbDZPZqQ.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3f74" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3D旋转动画</h1><p id="7fa8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">3D旋转怎么样？接受挑战。在这里，您将取出<code class="fe nx ny nz no b">rotationEffect</code>并用<code class="fe nx ny nz no b">rotation3DEffect</code>替换它:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="f0c4" class="ns md it no b gy nt nu l nv nw">.rotation3DEffect(Angle.degrees(isRotated ? 180 : 0), axis: (x: 1, y: 0, z: 0))</span></pre><p id="c65d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">180度旋转效果呢？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/517a6e3b2d1eada657df2defaf1c2aa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*hOCJTx-k7qAgdmThtCOLQg.gif"/></div></figure><p id="284f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看无限制的3D旋转:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/410c1e271eb03b7a744370b6b7301870.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/1*XxVUqr0X8Fk8QqFVqm72GQ.gif"/></div></figure><p id="6dbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SwiftUI无疑将动画带到了一个全新的水平。我爱SwiftUI！</p></div></div>    
</body>
</html>