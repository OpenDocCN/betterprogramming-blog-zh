<html>
<head>
<title>Bundling Up Your Phaser 3 Games Using Parcel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用包裹捆绑你的Phaser 3游戏</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/bundling-up-your-phaser-3-games-using-parcel-f3c9c962718?source=collection_archive---------23-----------------------#2022-04-12">https://betterprogramming.pub/bundling-up-your-phaser-3-games-using-parcel-f3c9c962718?source=collection_archive---------23-----------------------#2022-04-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="246f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">直观的布局节省了安装时间</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/479ad10df2cac04e66fda4a09b951187.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CtXtjxfjwREX3tWRKmxhAw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@nateggrant?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">内特·格兰特</a>在<a class="ae kv" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="c2b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为初学者，当你想发展Phaser 3技能时，有时很难找到合适的资源。但它们仍然存在:教程让你兴奋地构建你一直梦想构建的平台。很多时候这些教程已经有几年的历史了。就我个人而言，我花了很多时间试图调试旧的、无人维护的教程，而我想做的就是直接进入Phaser。</p><p id="7f69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本教程中，我想向您展示我当前的Phaser 3设置，它可以在几秒钟内启动我的项目，并依靠Parcel将一切打包得干净整洁。您应该能够将此设置应用于任何您想要的现有Repo，或者替换Webpack配置，或者只是更新Parcel。我们将使用package 2 . 4 . 1，这是撰写本文时的最新版本。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5313" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">先决条件</h1><p id="0b08" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们将在项目中使用两个包，我们将使用<code class="fe mw mx my mz b">yarn</code>或<code class="fe mw mx my mz b">npm</code>来安装它们。如果你不确定用哪一个，它可能是<code class="fe mw mx my mz b">npm</code>。在本文的其余部分，我将使用<code class="fe mw mx my mz b">yarn</code>，尽管它应该不会有太大的影响！</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="1852" class="ne ma iq mz b gy nf ng l nh ni">yarn add -D parcel parcel-reporter-static-files-copy</span><span id="27d4" class="ne ma iq mz b gy nj ng l nh ni">npm i --save-dev parcel parcel-reporter-static-files-copy</span></pre><p id="0002" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这两种方法都会同时安装两个依赖项。如果一切进展顺利，我们可以跳到下一部分，看看应该如何设置项目来处理即将到来的示例。</p><h2 id="c296" class="ne ma iq bd mb nk nl dn mf nm nn dp mj lf no np ml lj nq nr mn ln ns nt mp nu bi translated">文件夹结构</h2><p id="135a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我当前的文件夹结构看起来像这样。当然，随着你在旅程中的进展，你的可能会看起来不一样，但对我来说，这是我每次开始的方式。</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="25f3" class="ne ma iq mz b gy nf ng l nh ni">├── .parcelrc<br/>├── .gitignore<br/>├── package.json<br/>├── src<br/>│   ├── app.js<br/>│   ├── assets<br/>│   │   ├── audio<br/>│   │   ├── fonts<br/>│   │   └── images<br/>│   │       └── example.png<br/>│   ├── configs<br/>│   │   ├── constants.js<br/>│   │   └── phaserConfig.js<br/>│   ├── index.html<br/>│   ├── scenes<br/>│   │   └── StartScene.js<br/>│   └── styles.css<br/>└── yarn.lock</span></pre><h1 id="ce16" class="lz ma iq bd mb mc nv me mf mg nw mi mj jw nx jx ml jz ny ka mn kc nz kd mp mq bi translated">配置宗地</h1><p id="839c" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们将在两个地方配置包，从您的<code class="fe mw mx my mz b">package.json</code>文件开始。下面你会发现我的文件的完整版本。注意，如果您要将内容复制到您自己的package.json中，您需要在之后运行一个<code class="fe mw mx my mz b">npm install</code>。但是一般来说，我们不想这样做，因为最大的一部分<code class="fe mw mx my mz b">package.json</code>应该被生成而不是被粘贴。</p><h2 id="acf4" class="ne ma iq bd mb nk nl dn mf nm nn dp mj lf no np ml lj nq nr mn ln ns nt mp nu bi translated">package.json</h2><p id="2001" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们的<code class="fe mw mx my mz b">start</code>-脚本包含启动我们的开发环境的调用，在源文件夹中使用我们的<code class="fe mw mx my mz b">index.html</code>。<code class="fe mw mx my mz b">--open</code>参数会提示你的浏览器自己打开，这样你就可以马上开始了。</p><p id="06c5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mw mx my mz b">build</code>做了更多的事情:<code class="fe mw mx my mz b">rm -rf .dist</code>确保每次我们创建一个新文件夹时，我们的<code class="fe mw mx my mz b">dist</code>文件夹都会被删除。这样我们避免了旧版本的大量堆积，并且只有最新的版本可用。请注意，如果您使用的是Windows，您可能会在这一点上遇到问题。去掉<code class="fe mw mx my mz b">rm -rf .dist &amp;&amp;</code>就应该可以出发了。</p><p id="a4d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mw mx my mz b">--no-source-maps</code>告诉宗地不要建，嗯——来源地图。我个人不需要我的dist文件夹中的额外文件，但是如果你想知道为什么你可能需要它们，<a class="ae kv" href="https://firefox-source-docs.mozilla.org/devtools-user/debugger/how_to/use_a_source_map/index.html" rel="noopener ugc nofollow" target="_blank">这个</a>是给你的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="e1e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要注意的第二部分是我们的<code class="fe mw mx my mz b">package.json</code>中的<code class="fe mw mx my mz b">staticFiles</code>部分。这些选项对于处理我们的资产是必不可少的，所以当在我们的游戏中使用它们时，它们会出现在正确的地方。在我们的例子中，我们将整个<code class="fe mw mx my mz b">assets</code>文件夹从我们的源目录复制到我们新创建的<code class="fe mw mx my mz b">dist</code>文件夹的顶层。这是不言自明的，尤其是如果您让脚本运行并检查在<code class="fe mw mx my mz b">dist</code>文件夹中发生了什么。</p><h2 id="e485" class="ne ma iq bd mb nk nl dn mf nm nn dp mj lf no np ml lj nq nr mn ln ns nt mp nu bi translated">。parcelrc</h2><p id="f6c7" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们的最后一步是让package知道我们想要使用<code class="fe mw mx my mz b">parcel-reporter-static-files-copy</code>插件。为此，我们在项目的根目录下创建一个. parcelrc文件，并用以下信息填充它:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="aa41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您不需要完全理解这一点，但是如果您很好奇，可以查看package文档中的<a class="ae kv" href="https://parceljs.org/features/plugins/#plugins" rel="noopener ugc nofollow" target="_blank">插件部分</a>。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="acd4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这给了你一个关于如何有效地组织你的下一个项目的广泛概述。在我的<a class="ae kv" href="https://github.com/kpotschi/phaser-parcel-template" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上，整个库可以作为模板获得。</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="3213" class="ne ma iq mz b gy nf ng l nh ni"><strong class="mz ir">Got any ideas?</strong></span><span id="eb57" class="ne ma iq mz b gy nj ng l nh ni">Make sure to reach out via <a class="ae kv" href="https://twitter.com/MelodyConnor2" rel="noopener ugc nofollow" target="_blank">Twitter</a> if you have ideas for future guides or find any bugs along the way.</span></pre></div></div>    
</body>
</html>