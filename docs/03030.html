<html>
<head>
<title>4 JavaScript Trick Questions Using typeof()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4使用typeof()的JavaScript技巧问题</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/javascript-trick-questions-using-typeof-d9500288676e?source=collection_archive---------20-----------------------#2020-01-15">https://betterprogramming.pub/javascript-trick-questions-using-typeof-d9500288676e?source=collection_archive---------20-----------------------#2020-01-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cb96" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不要被这些基本但偷偷摸摸的JavaScript情况所迷惑</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/eb8de494e344506f285f30eb1768b162.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5IVmxQk8nIcC_qJ4n2fWBw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/@olly?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> bruce mars </a>从<a class="ae ky" href="https://www.pexels.com/photo/photo-of-a-woman-thinking-941555/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>拍摄</p></figure><p id="2e13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">英语起初可能很难学，因为它并不总是遵循自己的规则。类似地，JavaScript也不总是遵循自己的规则。这可能会导致一些令人惊讶和困惑的场景！</p><p id="0708" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这些情况中的大部分不会出现在你作为开发人员的日常生活中，但是我将会分解一些你可能在面试中遇到的或者来自其他试图胜过你的开发人员的问题。让我们开始吧！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a5c5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><code class="fe mu mv mw mx b">null</code>的类型是什么？</h1><p id="991a" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">如果您console.log以下代码:</p><pre class="kj kk kl km gt nd mx ne nf aw ng bi"><span id="ac43" class="nh md it mx b gy ni nj l nk nl">console.log(typeof(null)); </span></pre><p id="98ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你觉得会有什么回报？肯定不是<code class="fe mu mv mw mx b">object</code>吧？不对！</p><p id="54ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据JavaScript，这个<code class="fe mu mv mw mx b">typeof</code>T3就是<code class="fe mu mv mw mx b">object</code>。你不同意吗？我也是，事实证明我们都是对的。</p><p id="e685" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nm"> Null不是宾语。</em></p><p id="4781" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是语言中一个<a class="ae ky" href="https://2ality.com/2013/10/typeof-null.html" rel="noopener ugc nofollow" target="_blank">古老错误</a>的结果，这个错误不值得深究，但是你要知道<code class="fe mu mv mw mx b">typeof(null)</code>的输出永远是<code class="fe mu mv mw mx b">object</code>。</p><p id="df59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么这很重要？如果您想要构建一个只接受<code class="fe mu mv mw mx b">object</code>而不接受<code class="fe mu mv mw mx b">null</code>值的测试，那么按照<code class="fe mu mv mw mx b">if (typeof arg === "object")</code>的思路编写一些东西可能不会如您所愿。</p><p id="a643" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，你需要更加具体地阐述你的<code class="fe mu mv mw mx b">if</code>陈述。比如:<code class="fe mu mv mw mx b">if ((arg !== null) &amp;&amp; (typeof arg === “object”))</code>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d9ae" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">数组的类型是什么？</h1><p id="c99a" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">如果您控制台. log以下内容:</p><pre class="kj kk kl km gt nd mx ne nf aw ng bi"><span id="cb72" class="nh md it mx b gy ni nj l nk nl">let newArr = [];<br/>console.log(typeof(newArr));</span></pre><p id="9192" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你认为输出会是什么？这次你可能没被骗；这里的输出也是<code class="fe mu mv mw mx b">object</code>。</p><p id="f256" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很奇怪，对吧？在JavaScript中，数组是一个对象。</p><p id="144d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，当我们需要测试更具体的东西时，这可能是一个问题。解决问题的方法是使用<code class="fe mu mv mw mx b">Array.isArray()</code>方法:</p><pre class="kj kk kl km gt nd mx ne nf aw ng bi"><span id="fe89" class="nh md it mx b gy ni nj l nk nl">let newArr = [];<br/>console.log(Array.isArray(newArr)) // true</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ebed" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">NaN是什么类型的？</h1><p id="d3c0" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">这个例子特别反直觉。这是我们的代码:</p><pre class="kj kk kl km gt nd mx ne nf aw ng bi"><span id="3efb" class="nh md it mx b gy ni nj l nk nl">console.log(typeof(NaN)) // "number"</span></pre><p id="b6c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所料，在JavaScript中，<code class="fe mu mv mw mx b">NaN</code>代表非数字的类型是..一个号码？嗯。</p><p id="3d45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的问题是<code class="fe mu mv mw mx b">NaN</code>代表一个数值结果，它的值不能用合法的数字来表示。</p><p id="f7dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mu mv mw mx b">NaN</code>是JavaScript <code class="fe mu mv mw mx b">Math</code>的产品，所以在某种程度上，尽管它的定义不是数字，但它的类型是<code class="fe mu mv mw mx b">“number”</code>是有意义的，因为它是JavaScript数学的结果，是使用数字计算的。</p><p id="f630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们的替代测试是使用<code class="fe mu mv mw mx b">isNaN()</code>方法。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d6f3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">函数的类型是什么？</h1><p id="4782" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">任何不是原语的东西(未定义、null、boolean、number、string、bigInt和symbol)都是对象。所以，函数应该是一个对象，对吗？</p><pre class="kj kk kl km gt nd mx ne nf aw ng bi"><span id="f362" class="nh md it mx b gy ni nj l nk nl">let foo = () =&gt; {};<br/>console.log(typeof(foo)); // "function" </span></pre><p id="61e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">而<code class="fe mu mv mw mx b">typeof</code>混乱再次来袭！</p><p id="1d50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，<em class="nm">函数是一个对象。</em>JavaScript中没有“函数”类型。</p><p id="2556" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也就是说，<code class="fe mu mv mw mx b">typeof</code>返回八个不同的值:对象、布尔、函数、数字、字符串、未定义、bigInt和符号。</p><p id="1877" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">返回<code class="fe mu mv mw mx b">“function”</code>的选项虽然可能令人困惑，但对开发人员来说只是一个有用的规范。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a227" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">感谢阅读</strong></h1><p id="d9fa" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">欢迎在下面的评论中添加任何更棘手的<code class="fe mu mv mw mx b">typeof</code>情况。</p><p id="d7ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果关于JavaScript中对象的讨论让你困惑，看看我的博客文章，解释为什么JavaScript中的所有东西都是(不是)对象。</p></div></div>    
</body>
</html>