<html>
<head>
<title>SwiftUI’s GroupBox, OutlineGroup, and DisclosureGroup in iOS 14</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 14中SwiftUI的GroupBox、OutlineGroup和DisclosureGroup</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftuis-groupbox-outlinegroup-and-disclosuregroup-in-ios-14-cf9fb127cdc0?source=collection_archive---------6-----------------------#2020-07-13">https://betterprogramming.pub/swiftuis-groupbox-outlinegroup-and-disclosuregroup-in-ios-14-cf9fb127cdc0?source=collection_archive---------6-----------------------#2020-07-13</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="9bf8" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">让我们看看新的风格化组控件</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/cffb230d1bc168061a6ff392e251569d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aAhiy-B3zVwF--2i"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@kawin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kawin Harasai </a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="7c4d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">iOS 13中引入了SwiftUI组。它们充当包装不同视图类型的容器，并允许您在VStack和HStack的10 ChilidItem限制附近工作。</p><p id="3127" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI在WWDC 2020的第二次迭代中，为我们提供了一些新的分组控制。即<code class="fe lw lx ly lz b">GroupBox</code>、<code class="fe lw lx ly lz b">DisclosureGroup</code>、<code class="fe lw lx ly lz b">OutlineGroup</code>现在iOS 14及以上版本都有。</p><p id="7949" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们逐一介绍一下。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="9bdb" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">分组框</h1><p id="02e0" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated"><code class="fe lw lx ly lz b">GroupBox</code>是一个风格化的容器视图，带有一个可选的<code class="fe lw lx ly lz b">Label</code>，早期它只在macOS中可用。现在，您可以使用它对视图进行逻辑分组，并构建类似登录屏幕、自定义警告对话框等内容。</p><p id="1f31" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">下面的代码展示了如何在SwiftUI中创建一个<code class="fe lw lx ly lz b">GroupBox</code>:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="34a6" class="ni mi iu lz b gz nj nk l nl nm">GroupBox(label: Label("Enter Details"), content: {</span><span id="6152" class="ni mi iu lz b gz nn nk l nl nm"> VStack{<br/>  TextField("Username", text: $text)<br/>  Button(action: {}) {Text("Submit")}<br/> }</span><span id="7226" class="ni mi iu lz b gz nn nk l nl nm">})</span></pre><p id="7392" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">视图修改器在<code class="fe lw lx ly lz b">GroupBox</code>上的工作方式和在其他视图上一样。例如，您可以设置阴影。下面的截屏显示了SwiftUI中<code class="fe lw lx ly lz b">GroupBox</code>的外形设计:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/12a656a6548e2b5093208c4d2cf76ac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e5nuXG0iL6L0WHQNN64D6A.png"/></div></div></figure><p id="e45b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="np">神经变形</em>是关于设置灯光和阴影，以给出一个突出的外观，这就是上面的代码通过使用强大的视图修改器所做的。该代码可在<a class="ae kz" href="https://gist.github.com/anupamchugh/8c7c09848a2964016df11011eeb55da0" rel="noopener ugc nofollow" target="_blank">本要点</a>中找到。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="e91d" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">OutlineGroup</h1><p id="4a8d" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">大纲对于显示文件层次结构或者任何结构都非常方便。<code class="fe lw lx ly lz b">OutlineGroup</code>结构主要用于显示嵌套的<code class="fe lw lx ly lz b">ForEach</code>视图。</p><p id="5884" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这意味着每个父视图或顶级视图都是一个由零个或多个子视图组成的公开视图，正如数据结构中所定义的那样。</p><p id="82b8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">OutlineGroup</code>按需加载。</p><p id="94ff" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了使<code class="fe lw lx ly lz b">OutlineGroup</code>正常工作，您需要:</p><ul class=""><li id="e493" class="nq nr iu lc b ld le lg lh lj ns ln nt lr nu lv nv nw nx ny bi translated">传递符合<code class="fe lw lx ly lz b">Identifiable</code>协议的数据集合</li><li id="4c87" class="nq nr iu lc b ld nz lg oa lj ob ln oc lr od lv nv nw nx ny bi translated">确保在<code class="fe lw lx ly lz b">OutlineGroup</code>的初始化器中用嵌套子数组的所需对象属性设置了<code class="fe lw lx ly lz b">\.children</code> keypath</li></ul><p id="dbac" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下代码显示了如何在SwiftUI中创建<code class="fe lw lx ly lz b">OutlineGroup</code>视图的示例。</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="1070" class="ni mi iu lz b gz nj nk l nl nm">OutlineGroup(array, children: \.children) { <br/>item in<br/>Text(item.name)<br/>}</span></pre><p id="57d9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们看看<code class="fe lw lx ly lz b">OutlineGroup</code>在虚拟阵列中的表现:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oe"><img src="../Images/8b8fdcb0a93eb459d69fcd2246ee482e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Tmn74ooF-HxkGFrEsUT6AA.gif"/></div></div></figure><p id="8c68" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">正如你在GIF中看到的，当<code class="fe lw lx ly lz b">children</code>参数被忽略时，没有公开组。</p><p id="3518" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI列表为iOS 14中的<code class="fe lw lx ly lz b">OutlinedGroup</code>提供了<a class="ae kz" href="https://medium.com/better-programming/whats-new-in-swiftui-lists-for-ios-14-e6aed43ca134" rel="noopener">开箱即用的支持</a>。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="d9cf" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">披露小组</h1><p id="0f39" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">虽然<code class="fe lw lx ly lz b">DisclosureGroup</code>已经嵌入到了<code class="fe lw lx ly lz b">OutlineGroup</code>中，但是你也可以独立使用它们。</p><p id="44f3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">DisclosureGroup</code>用于显示或隐藏基于<code class="fe lw lx ly lz b">Binding</code>控件的内容，在下拉菜单中非常方便。</p><p id="7b1a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">s的一个很好的特性是你可以将它们嵌套在一起。</p><p id="b185" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们看一个SwiftUI <code class="fe lw lx ly lz b">DisclosureGroup</code>的例子:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="3012" class="ni mi iu lz b gz nj nk l nl nm">DisclosureGroup("Planets", isExpanded: $isExpanded) {      <br/>Text("Mecury")        <br/>Text("Venus")        <br/>Text("Earth")    <br/>}</span></pre><p id="60c1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们也可以使用多重闭包语法以不同的方式设置<code class="fe lw lx ly lz b">DisclosureGroup</code>标题，如下所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oe"><img src="../Images/aaf0334c497ef2c77beb7db29594889a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tDxxbQrJs2oip60DhlENOw.gif"/></div></div></figure><p id="a350" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您还可以通过使用<code class="fe lw lx ly lz b">Binding</code>属性以编程方式切换<code class="fe lw lx ly lz b">DisclosureGroup</code>。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="f260" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">结论</h1><p id="5338" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">我们看到iOS 14的SwiftUI中引入了不同类型的组。我希望它们对您有用，尤其是在构建基于文档的应用程序时。</p><p id="86f1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI组的一个很酷的秘密是对它们设置的视图修饰符被应用到所有包含的视图。</p><p id="1140" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这一次到此为止。感谢阅读。</p></div></div>    
</body>
</html>