<html>
<head>
<title>How To Convert PDFs to Images From Your Terminal</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从您的终端将pdf转换为图像</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-convert-pdfs-to-images-from-your-terminal-3786ebc798c8?source=collection_archive---------9-----------------------#2021-03-29">https://betterprogramming.pub/how-to-convert-pdfs-to-images-from-your-terminal-3786ebc798c8?source=collection_archive---------9-----------------------#2021-03-29</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="7f9c" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">让您的生活更轻松的现成工具</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/73499106cd501ef52a1752e2b8609233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jXGEqycdfhaAq4vZ"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@goshua13?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Joshua Aragon </a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片。</p></figure><p id="c48c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我妻子有许多pdf文件，她与她的博客订阅者分享。她让我从每个PDF的第一页创建缩略图。我找到波普勒帮我做这项工作。该指南很容易理解，但对她来说并不容易，因为她没有终端/编程经验。所以我创建了一个包装器来方便她。</p><p id="d209" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><a class="ae kz" href="https://poppler.freedesktop.org/" rel="noopener ugc nofollow" target="_blank"> Poppler </a>是一个PDF转换器和实用工具。它将<a class="ae kz" href="https://www.mankier.com/1/pdftoppm" rel="noopener ugc nofollow" target="_blank"> PDF转换为图像(pdftoppm) </a>、<a class="ae kz" href="https://www.mankier.com/1/pdftotext" rel="noopener ugc nofollow" target="_blank">文本</a>和<a class="ae kz" href="https://www.mankier.com/1/pdftops" rel="noopener ugc nofollow" target="_blank">后记</a>并且<a class="ae kz" href="https://www.mankier.com/1/pdfattach" rel="noopener ugc nofollow" target="_blank">附加</a>或<a class="ae kz" href="https://www.mankier.com/1/pdfdetach" rel="noopener ugc nofollow" target="_blank">提取</a>文件、<a class="ae kz" href="https://www.mankier.com/1/pdffonts" rel="noopener ugc nofollow" target="_blank">分析PDF字体</a>、<a class="ae kz" href="https://www.mankier.com/1/pdfimages" rel="noopener ugc nofollow" target="_blank">从PDF中提取图像</a>、<a class="ae kz" href="https://www.mankier.com/package/poppler-utils" rel="noopener ugc nofollow" target="_blank">更多</a>。</p><p id="ad15" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，您将学习如何使用<code class="fe lw lx ly lz b"><a class="ae kz" href="https://www.mankier.com/1/pdftoppm" rel="noopener ugc nofollow" target="_blank">pdftoppm</a></code>将pdf转换成图像，以及一个名为<code class="fe lw lx ly lz b">pdftoimg</code>的Bash脚本，它是<code class="fe lw lx ly lz b">pdftoppm</code>的包装器。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="a0c6" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">安装Poppler</h1><p id="e0ff" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">Ubuntu:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="dd94" class="ni mi iu lz b gz nj nk l nl nm">$ sudo apt-get install poppler-utils</span></pre><p id="19ad" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">macOS:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="2415" class="ni mi iu lz b gz nj nk l nl nm">$ brew install poppler</span></pre><p id="0e3b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Windows用户可以使用<a class="ae kz" href="http://blog.alivate.com.au/poppler-windows/" rel="noopener ugc nofollow" target="_blank"> Poppler for Windows </a>。</p><p id="aad2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">安装后，检查它是否工作:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="efab" class="ni mi iu lz b gz nj nk l nl nm">$ pdftoppm -h</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nn"><img src="../Images/31997a7e498c4d9172449dbb9c195b37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*5SaPTfTTsZ4seWCmfWQPQQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">pdftoppm -h输出的一部分。图片由作者提供。</p></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="f7f2" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">波普勒基础</h1><p id="6ae1" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">Poppler的一个模块叫做<code class="fe lw lx ly lz b"><a class="ae kz" href="https://www.mankier.com/1/pdftoppm" rel="noopener ugc nofollow" target="_blank">pdftoppm</a></code>:</p><blockquote class="no np nq"><p id="b505" class="la lb nr lc b ld le jv lf lg lh jy li ns lk ll lm nt lo lp lq nu ls lt lu lv in bi translated"><strong class="lc iv"> Pdftoppm </strong>将可移植文档格式(PDF)文件转换为可移植像素图(ppm)格式的彩色图像文件、可移植灰度图(PGM)格式的灰度图像文件或可移植位图(PBM)格式的单色图像文件</p></blockquote><h2 id="3584" class="ni mi iu bd mj nv nw dn mn nx ny dp mr lj nz oa mt ln ob oc mv lr od oe mx of bi translated">波普勒选项</h2><p id="50e8" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">默认情况下，<code class="fe lw lx ly lz b">pdftoppm</code>将所有PDF页面转换为PPM文件。您可以使用<code class="fe lw lx ly lz b">-png</code>或<code class="fe lw lx ly lz b">-jpeg</code>标志转换成PNG或JPEG文件。</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="21cb" class="ni mi iu lz b gz nj nk l nl nm">$ ls<br/>test.pdf<br/>$ pdftoppm test.pdf test -png<br/>$ ls<br/>test-1.png  test-2.png test-3.png  test.pdf</span></pre><p id="90c1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">test.pdf</code>有三页，所以<code class="fe lw lx ly lz b">pdftoppm</code>为每页创建一个PNG文件。上例中的第二个<code class="fe lw lx ly lz b">test</code>参数是一个新文件名。你可以把它改成你喜欢的任何东西。</p><ul class=""><li id="49b8" class="og oh iu lc b ld le lg lh lj oi ln oj lr ok lv ol om on oo bi translated"><code class="fe lw lx ly lz b">-f</code>接受起始页码。</li><li id="4713" class="og oh iu lc b ld op lg oq lj or ln os lr ot lv ol om on oo bi translated"><code class="fe lw lx ly lz b">-singlefile</code>创建单页。</li><li id="7659" class="og oh iu lc b ld op lg oq lj or ln os lr ot lv ol om on oo bi translated"><code class="fe lw lx ly lz b">-scale-to-x 200</code>将图像宽度设置为200像素。</li><li id="6192" class="og oh iu lc b ld op lg oq lj or ln os lr ot lv ol om on oo bi translated"><code class="fe lw lx ly lz b">-scale-to-y</code>设置图像高度。使用<code class="fe lw lx ly lz b">-1</code>按比例缩放高度。</li><li id="8620" class="og oh iu lc b ld op lg oq lj or ln os lr ot lv ol om on oo bi translated"><code class="fe lw lx ly lz b">-r 100</code>指定了<em class="nr"> X </em>和<em class="nr"> Y </em>的图像分辨率。默认值为150 DPI。</li><li id="c480" class="og oh iu lc b ld op lg oq lj or ln os lr ot lv ol om on oo bi translated"><code class="fe lw lx ly lz b">-scale-to 200</code>将最长的一边缩放至200像素，并按比例缩放另一边。</li></ul><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="07ff" class="ni mi iu lz b gz nj nk l nl nm">$ pdftoppm file.pdf file1 -png -f 1 -singlefile -scale-to-x 160 -scale-to-y -1</span></pre><p id="11fb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将把<code class="fe lw lx ly lz b">file.pdf</code>的第一页转换成PNG文件，宽度为160像素，长度按比例缩放。</p><p id="ac91" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">pdftoppm</code>也可以裁剪PDF，您可以在<a class="ae kz" href="https://www.mankier.com/1/pdftoppm" rel="noopener ugc nofollow" target="_blank">手册</a>中找到更多详细信息。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="cc89" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">一个pdftoppm包装程序:pdftoimg</h1><p id="9cb6" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">因为我的妻子很难用不同的选项输入上面的命令，所以我做了一个名为<code class="fe lw lx ly lz b">pdftoimg</code>的<code class="fe lw lx ly lz b">pdftoppm</code>包装器。她只需要输入<code class="fe lw lx ly lz b">pdftoimg path/to/directory</code>就可以将指定目录下的所有pdf转换成PNG文件。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="d712" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">装置</h1><p id="f162" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">创建一个名为<code class="fe lw lx ly lz b">~/bin</code>的目录，并将其路径添加到您的终端配置文件(<code class="fe lw lx ly lz b">~/.zshrc</code>或<code class="fe lw lx ly lz b">~/.bashrc</code>):</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="9f80" class="ni mi iu lz b gz nj nk l nl nm"># ~/.zshrc or ~/.bashrc<br/>export PATH="$HOME/bin:$PATH"</span></pre><p id="85ec" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在<code class="fe lw lx ly lz b">~/bin</code>目录中，用下面的代码创建一个名为<code class="fe lw lx ly lz b">pdftoimg</code>的文件。您可以将<code class="fe lw lx ly lz b">height</code>和<code class="fe lw lx ly lz b">width</code>值更改为默认值。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ou ov l"/></div></figure><p id="2ca5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">使文件可执行:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="bd37" class="ni mi iu lz b gz nj nk l nl nm">$ cd ~/bin<br/>$ chmod u+x pdftoimg</span></pre><p id="e08b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">检查它是否工作:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="7e26" class="ni mi iu lz b gz nj nk l nl nm">$ pdftoimg -v<br/>v0.0.2<br/>$ pdftoimg -h</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ow"><img src="../Images/a8e3608154a88eb9e131bffb70f16b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*dms8qaxqQleZAiy-W7qR6Q.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">pdftoimg -h输出的一部分。图片由作者提供。</p></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="ca66" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">替换它</h1><p id="0a1d" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">她所有的PDF文件名都有空格。为了使它们URL安全，我使用<a class="ae kz" href="https://towardsdatascience.com/4-bash-script-helpers-to-get-more-done-4144046be13#bce6" rel="noopener" target="_blank"> replaceit </a>将所有空格替换为下划线。</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="66f0" class="ni mi iu lz b gz nj nk l nl nm">$ ls<br/>file 1.pdf file 2.pdf file 3.pdf</span><span id="2cdb" class="ni mi iu lz b gz ox nk l nl nm">$ replaceit<br/>$ ls<br/>file_1.pdf file_2.pdf file_3.pdf</span></pre></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="a4ca" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">如何使用pdftoimg</h1><p id="d0c9" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">默认操作是将当前目录中所有PDF文件的第一页转换为PNG文件(默认图像格式为PNG)。</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="5e4a" class="ni mi iu lz b gz nj nk l nl nm">$ pdftoimg</span></pre><p id="5c44" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以设置一个目录:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="2eac" class="ni mi iu lz b gz nj nk l nl nm">$ pdftoimg Downloads/dir </span></pre><p id="44a6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以使用<code class="fe lw lx ly lz b">-s</code>开关将当前目录下所有PDF文件的第一页转换为尺寸为200x250px的PNG文件:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="ae6e" class="ni mi iu lz b gz nj nk l nl nm"># currrent dir<br/>$ pdftoimg -s 200 250<br/># or set a dir<br/>$ pdftoimg -s 200 250 path/to/dir</span></pre><p id="2da2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以在其他选项之前或之后添加<code class="fe lw lx ly lz b">path/to/dir</code>。</p><p id="bd3a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以使用<code class="fe lw lx ly lz b">-j</code>标志将所有PDF文件的首页转换为尺寸为200x250px的JPEG文件:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="ced9" class="ni mi iu lz b gz nj nk l nl nm"># current dir<br/>$ pdftoimg -j -s 200 250<br/># or set a dir<br/>$ pdftoimg -j -s 200 250 path/to/diir</span></pre><p id="c4ca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以使用<code class="fe lw lx ly lz b">-a</code>标志转换目标目录中的所有PDF页面:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="6c98" class="ni mi iu lz b gz nj nk l nl nm"># current dir<br/>$ pdftoimg -a<br/># or set a dir<br/>$ pdftoimg -a path/to/dir</span></pre><p id="b2fb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你也可以使用<code class="fe lw lx ly lz b">pdftoppm</code>的选项。例如，您可以使用<code class="fe lw lx ly lz b">pdftoppm</code>的<code class="fe lw lx ly lz b">-grey</code>标志转换为灰色图像:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="3c8c" class="ni mi iu lz b gz nj nk l nl nm">$ pdftoimg path/to/dir -s 200 250 -grey</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oy"><img src="../Images/c6156f085104631872829ee6fc58551a.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*n3isA6BeIEu5LvlvwJ6-bg.jpeg"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">pdftoimg -j -s 200 250次下载/测试的结果-灰色</p></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="6ced" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">结论</h1><p id="b7f8" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">如果您正在处理PDF文件，Poppler是一个有用的工具。语法很简单，而且<code class="fe lw lx ly lz b">man pdftoppm</code>有你需要的所有信息。</p><p id="1aca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果你需要一个更简单的解决方案，试试<code class="fe lw lx ly lz b">pdftoimg</code>，在评论区告诉我你的想法。<code class="fe lw lx ly lz b">pdftoimg</code>适用于对终端没有多少经验的新手。希望老婆觉得好用。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><p id="ee60" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">通过</strong> <a class="ae kz" href="https://blog.codewithshin.com/membership" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv">成为</strong> </a> <strong class="lc iv">会员，可以完全访问媒体上的每个故事。</strong></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oz"><img src="../Images/0be3ee559fee844cb75615290e4a8b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*DjTM9iFtVc2wlcWcOms7VQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://blog.codewithshin.com/subscribe" rel="noopener ugc nofollow" target="_blank">https://blog.codewithshin.com/subscribe</a></p></figure></div></div>    
</body>
</html>