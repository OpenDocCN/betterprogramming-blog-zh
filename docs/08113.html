<html>
<head>
<title>What’s AWS S3 Anyway?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS S3到底是什么？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/whats-aws-s3-anyway-49bd3809b336?source=collection_archive---------6-----------------------#2021-03-26">https://betterprogramming.pub/whats-aws-s3-anyway-49bd3809b336?source=collection_archive---------6-----------------------#2021-03-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ee18" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于AWS简单存储服务，您需要了解的一切</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/08d074517408b40e6aae9bed5d80c90f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8rJSBdd3W6Mpsl2x"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@pixtolero2?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Daniel Eledut </a>拍摄的照片。</p></figure><p id="c5ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，您将了解一个名为<a class="ae kv" href="https://aws.amazon.com/s3/" rel="noopener ugc nofollow" target="_blank">简单存储服务</a>的核心AWS服务。AWS简单存储服务(或S3)是一个非常通用和有用的服务。它也是最古老的AWS服务之一。这意味着它是你应该知道的——尤其是为了考试。</p><p id="2ba5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，让我们先来看看这个服务的一些用例。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1f53" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">AWS S3使用案例</h1><p id="4e12" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">AWS S3的一些使用案例包括:</p><ul class=""><li id="5bf1" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">静态网站托管= &gt;你可以使用S3来存储像盖茨比这样的静态网站。</li><li id="dd0c" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">存档数据= &gt;多亏了S3冰川，您可以低成本地存档万亿字节的数据。</li><li id="d769" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">Backups = &gt;正如您将在本文后面看到的，S3提供了最大的持久性和可用性。这意味着这是一个完美的地方来存储您的备份。</li><li id="d364" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">网站资产= &gt;您可以存储您的网站资产，如徽标、媒体、照片、视频等。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="48ab" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是AWS S3？</h1><p id="fe67" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">S3是最古老和最基本的AWS服务之一。这项服务允许您在世界任何地方存储和检索任何数量的数据。</p><p id="8446" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简单来说，这是一个托管服务，你可以在这里存储你的平面文件。对于平面文件，我指的是不变的文件(例如图片、视频等。).因此，您不能在S3上存储数据库，因为它在不断变化。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="db91" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">对象和桶</h1><p id="3050" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">S3是一个对象存储服务，这意味着对象存储在桶中。桶是目录的另一个术语，对象是文件的另一个术语。对象(文件)包含以下信息:</p><ul class=""><li id="1e6b" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">key = &gt;文件的名称</li><li id="6421" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">value = &gt;文件的内容</li><li id="1723" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">版本ID = &gt;启用版本控制时</li><li id="424f" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">元数据= &gt;关于对象的附加数据</li></ul><p id="39b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个存储桶可以包含多个对象，每个存储桶可以包含其他文件夹，而这些文件夹又包含其他对象。此外，每个存储桶都有一个唯一的名称。把它想象成一个域名:不能有两个同名的网站。因此，您的存储桶名称必须是唯一的。</p><p id="e346" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们快速回顾一下。AWS S3是一种存储服务，它将您的数据存储为键-值对，其中键是文件的名称，值是文件的内容。此外，它使用桶(目录)来存储您的对象(文件)。</p><h2 id="9443" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">基本要点</h2><ul class=""><li id="7903" class="mw mx iq ky b kz mr lc ms lf nw lj nx ln ny lr nb nc nd ne bi translated">它是基于对象的。</li><li id="1dbd" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">文件大小从0字节到5 TB不等。</li><li id="dd61" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">你有无限的存储空间。</li><li id="dc6b" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">数据存储在桶中。</li><li id="4ef0" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">桶必须有唯一的名称，因为S3命名空间是通用的。这意味着世界上不能有两个同名的桶。</li><li id="49c3" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">当一个对象成功上传到bucket中时，它返回状态代码200。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="acd1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">S3存储类</h1><p id="ac4b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">AWS S3是一项复杂的服务，您可以将它用于不同的用例，例如归档您的数据、简单地存储您的数据等等。因此，对于不同的使用情形，它有不同的存储类别。</p><h2 id="c9d9" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated"><strong class="ak"> S3标准</strong></h2><ul class=""><li id="714c" class="mw mx iq ky b kz mr lc ms lf nw lj nx ln ny lr nb nc nd ne bi translated">该存储级别具有99.99%的可用性和99.999999999%的耐用性。</li><li id="5655" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">它将您的数据存储在跨多个设施的多个系统上，以承受同时失去两个设施的情况。</li><li id="1546" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">它跨至少三个可用性区域复制数据。</li></ul><h2 id="9dcd" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated"><strong class="ak"> S3 IA(不常访问)</strong></h2><ul class=""><li id="f5e3" class="mw mx iq ky b kz mr lc ms lf nw lj nx ln ny lr nb nc nd ne bi translated">此存储类别适用于不常访问但在需要时需要快速访问的数据。</li><li id="79ed" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">尽管它比标准存储便宜，但它对每次文件检索都要收费。</li></ul><h2 id="6ffc" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated"><strong class="ak"> S3一区IA </strong></h2><ul class=""><li id="8893" class="mw mx iq ky b kz mr lc ms lf nw lj nx ln ny lr nb nc nd ne bi translated">这和S3 IA几乎是一样的，唯一的区别是你的数据只存储在一个地方。</li><li id="194a" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">当您检索数据时，它会收取检索费。</li></ul><h2 id="2291" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated"><strong class="ak"> S3智能分层</strong></h2><ul class=""><li id="32f3" class="mw mx iq ky b kz mr lc ms lf nw lj nx ln ny lr nb nc nd ne bi translated">此存储类别会自动将您的数据移动到最经济高效的存储层。例如，它可以将您的数据从S3标准推到S3 One Zone IA以降低成本。</li><li id="d6b8" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">它不会影响性能。</li></ul><h2 id="60c3" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated"><strong class="ak"> S3冰川</strong></h2><ul class=""><li id="0d7b" class="mw mx iq ky b kz mr lc ms lf nw lj nx ln ny lr nb nc nd ne bi translated">S3冰川适用于数据存档，检索时间在几分钟到几小时之间是可以接受的。</li><li id="3b81" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">它是成本第二低的存储类别。</li></ul><h2 id="66a3" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated"><strong class="ak"> S3冰川深处档案馆</strong></h2><ul class=""><li id="e572" class="mw mx iq ky b kz mr lc ms lf nw lj nx ln ny lr nb nc nd ne bi translated">它和S3一样，有一个显著的区别:数据检索需要12个小时。</li><li id="85b7" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">它也是成本最低的存储类别。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="37be" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">S3安全</h1><p id="ead8" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">默认情况下，您创建的所有S3存储桶都是私有的。换句话说，它们是不公开的。如果你给他们链接，没有人可以访问他们。您必须更改权限，以允许他人访问您的S3对象。</p><p id="d471" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有三种方法可以控制对AWS S3资源的访问:</p><ul class=""><li id="51bc" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">IAM policies = &gt;指定特定用户的访问权限(例如，该用户允许哪些API调用)。</li><li id="cd51" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">木桶策略= &gt;在S3木桶上能做什么和不能做什么。它支持对存储桶的跨帐户访问。</li><li id="6af6" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">访问控制列表= &gt;规则在对象级别设置。</li></ul><h2 id="b920" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">访问控制列表</h2><p id="3b94" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这三者有什么区别？首先，ACL是控制对对象和桶的访问的遗留机制。但是，它们并没有被弃用，如果您发现它们足以控制访问，您仍然可以使用它们。</p><p id="4a9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">什么是ACL？您可以将ACL附加到您的S3存储桶或对象，它定义了可以访问它们的帐户和组。它还指定了这些帐户和组对您的存储桶和对象的访问类型。请务必注意，您可以将不同的ACL附加到同一个存储桶中的对象。</p><h2 id="81dd" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">木桶策略</h2><p id="1b95" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">然而，AWS建议使用S3存储桶策略或IAM策略来控制对对象和存储桶的访问。正如您可以从名称中推断的那样，时段策略仅适用于S3时段。因此，您不能将存储桶策略应用于单个对象。</p><p id="8f89" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用AWS S3时段策略，您可以允许或拒绝人们对您附加这些策略的时段执行不同的操作。例如，您可以允许用户将对象放入(上传)存储桶中，但是您可以拒绝他们从存储桶中删除对象的能力。让我们看看下面的JSON代码片段:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="fdfb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以查看<code class="fe ob oc od oe b">Action</code>、<code class="fe ob oc od oe b">Effect</code>、<code class="fe ob oc od oe b">Resource</code>和<code class="fe ob oc od oe b">Principal</code>字段来了解该策略的作用。查看<code class="fe ob oc od oe b">Action</code>和<code class="fe ob oc od oe b">Resource</code>字段，我们可以看到它是关于创建存储桶的。该资源还告诉我们，它适用于名为<code class="fe ob oc od oe b">catalinsbucket</code>的桶。然后，<code class="fe ob oc od oe b">Effect</code>和<code class="fe ob oc od oe b">Principal</code>字段告诉我们，它允许每个人创建buckets。</p><p id="c58a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，政策可能会变得更复杂，但你会明白的。</p><h2 id="ed82" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">IAM策略</h2><p id="fb28" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">IAM策略有点不同，因为您使用它们来允许或拒绝对各种AWS资源的操作。您可以将这些策略应用于IAM用户、组或角色。简而言之，这些策略指定了用户、组或角色在您的AWS环境中可以做什么。</p><p id="6cca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，IAM和存储桶策略之间的区别是什么？您将存储桶策略应用于存储桶。另一方面，您将IAM策略应用于用户/组/角色。让我们看另一个例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="5d37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从代码片段中，我们可以推断出这个策略是关于什么的——非常类似于上面的bucket策略。然而，有一点不同。对于IAM策略，我们没有<code class="fe ob oc od oe b">Principal</code>，因为该策略应用于用户/组/角色。这样做的原因是我们将策略应用于一个主体，因此指定它是多余的。同样，通过查看策略，我们可以看到特定的用户/组/角色被允许上传文件到<code class="fe ob oc od oe b">catalinsbucket</code>。</p><h2 id="9e02" class="nk ma iq bd mb nl nm dn mf nn no dp mj lf np nq ml lj nr ns mn ln nt nu mp nv bi translated">何时使用一个而不是另一个</h2><p id="b73a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果您想控制用户在您的AWS环境中可以做什么，您可能应该使用IAM策略。如果您想控制谁可以访问您的S3存储桶，您可能应该使用存储桶策略。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7692" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">S3加密</h1><p id="62e2" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果您想控制用户在您的AWS环境中可以做什么，您可能应该使用IAM策略。如果您想控制谁可以访问您的S3存储桶，您可能应该使用存储桶策略。</p><p id="f771" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它允许您为您的S3存储桶设置必要的加密行为。加密至关重要，因为它可以保护您的数据不被窃取。举个例子，假设有人入侵了AWS服务器并获得了您的数据。你不希望他们读取你的数据。因此，AWS提供了多种加密S3数据的方法。默认情况下，AWS S3使用SSL/TSL。</p><p id="fd62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有四种类型的服务器端加密:</p><ul class=""><li id="3d90" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">SSE-S3 = &gt;它使用AES-256算法，由AWS处理密钥。S3使用唯一的密钥来加密每个对象。</li><li id="66c5" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">SSE-KMS = &gt;您可以选择您可以创建和管理的CMK(客户主密钥)，或者您可以选择由AWS管理的CMK。加密数据的密钥与它们保护的数据一起存储。如果您需要满足与加密相关的合规性要求，AWS KMS中的安全控制非常有用。</li><li id="3e79" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">SSE-C —作为客户，您管理密钥，这意味着AWS S3不存储密钥。您必须跟踪哪个对象使用哪个加密密钥。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/f80e3b57630af28dbb5093c703853ea4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wufST-DoBDZvHXBM.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingEncryption.html" rel="noopener ugc nofollow" target="_blank"> AWS文档</a></p></figure><p id="f9c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了这些选项之外，还有客户端加密，这意味着您在将数据上传到S3之前对其进行加密。使用客户端加密，您可以将主密钥(CMK)存储在AWS的密钥管理服务(AWA KMS)中，或者将主密钥保存在您的应用程序中。您全权负责加密和解密数据。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="f7e1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">S3数据一致性</h1><p id="9aad" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">数据一致性是一个至关重要的话题。我们有两个问题:</p><ul class=""><li id="fb1f" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">当我们上传一个新的对象到S3时会发生什么？</li><li id="1019" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">当我们从S3更新/删除现有对象时会发生什么？</li></ul><p id="68ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们从上传新对象到S3开始。为此，我们有“写后读一致性”更简单地说，这意味着我们可以在上传后立即访问这些对象。你上传一张图片，你就可以直接访问它。</p><p id="35ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们更新或删除现有对象时会发生什么？在这种情况下，我们有“最终一致性”换句话说，这意味着我们可能在更新旧对象后得到它。此外，在删除一个对象后，我们可能仍然能够在一段时间内访问它。为什么会这样？这是因为，由于S3存储桶中的数据分散在多个设备和设施中，传播这些变化需要时间。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="ad90" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">跨区域复制(CRR)</h1><p id="5cf8" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">此功能允许您更容易地在不同的AWS区域中复制S3对象。要使用“跨区域复制”功能，您必须启用版本控制，因为它是建立在该功能之上的。</p><p id="7291" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">启用此功能后，您可以从另一个AWS区域选择一个目标存储桶，以自动复制上载到特定S3存储桶的所有对象。这个特性的美妙之处在于，它还将元数据和访问控制列表与对象一起复制。</p><p id="9f8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">跨区域复制是一项了不起的功能，因为它为您的数据提供了更高的持久性、更低的访问延迟和潜在的灾难恢复。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="ee56" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">S3版本控制</h1><p id="8c4f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">所有“版本控制”意味着在同一个桶中保存同一个对象的多个变体。你为什么要这么做？使用同一对象的不同版本，您可以从应用程序故障和意外删除或覆盖中快速恢复。请注意，一旦启用该功能，就无法将其禁用。只能暂停。</p><p id="25e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">启用该功能后，每个对象都有一个唯一的版本ID。例如，相同的图像(例如catalin_profile.jpg)具有不同的版本id。您可以多次上传同一个对象，并且会有许多具有不同id的实例。当您覆盖对象时，会产生一个新的对象版本。删除对象时，S3会插入一个删除标记，而不是永久删除对象。</p><p id="f564" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了获得额外的安全性，您可以启用多因素身份验证(MFA)。这意味着S3需要额外的身份验证来更改存储桶的版本状态并永久删除对象版本。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="f4d6" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">S3生命周期管理</h1><p id="60cb" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">每个人都关心成本，有时您的对象可能会使用低成本的存储类。此功能允许您自动将对象移动到更具成本效益的存储类别，或者完全删除对象。</p><p id="1563" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过转换操作，您可以定义对象何时应该转换到另一个存储类。例如，您可能希望在一年后将数据移动到S3冰川。通过到期操作，您可以定义对象何时到期。一旦对象过期，S3就会删除它们。</p><p id="8098" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此功能便于有效管理您的成本。它会自动将您的数据移动到更高效的存储级别，帮助您节省资金。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5c1c" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">转移加速度</h1><p id="1f69" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">简而言之，AWS S3传输加速允许在最终用户和存储桶之间进行更快的长距离文件传输。传输加速利用分布在全球的CloudFront边缘位置，实现快速、安全的长距离文件传输。</p><p id="658a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是怎么回事？用户使用边缘位置URL来上传文件，而不是上传到存储桶。一旦文件到达特定的边缘位置，S3使用优化的网络路径将数据发送到用户的存储桶。</p><p id="0e26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您为什么会使用此功能？</p><ul class=""><li id="edd4" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">你有来自世界各地的用户上传到一个桶。</li><li id="2271" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">你定期在各大洲之间传输千兆字节或兆兆字节的数据。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/0baf4d49b06bdc8b49eba15dd9e19ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/0*GUIr2KkM-QiPHryq.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://medium.com/awesome-cloud/aws-amazon-s3-transfer-acceleration-overview-6baa7b029c27" rel="noopener">阿什什·帕特尔</a></p></figure><p id="8aa9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上图更好地说明了这一特征。用户将文件上传到离他们最近的边缘位置，AWS负责通过优化的网络路径将数据从边缘位置路由到S3存储桶。仅此而已。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="c168" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="7520" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">总之，AWS S3是一项你需要熟悉的服务——尤其是如果你想参加考试的话。在本文中，您了解了:</p><ul class=""><li id="cfbd" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">S3是什么</li><li id="aab6" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">S3用例</li><li id="d09b" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">S3存储类</li><li id="30d1" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">S3的安全和加密</li><li id="5d98" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">生命周期管理</li><li id="5ca3" class="mw mx iq ky b kz nf lc ng lf nh lj ni ln nj lr nb nc nd ne bi translated">数据一致性</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="ff6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">如果对JavaScript教程感兴趣，我推荐</em> <a class="ae kv" href="https://catalins.tech/frontend-masters-membership-is-it-worth-it" rel="noopener ugc nofollow" target="_blank"> <em class="oh">前端高手</em> </a> <em class="oh">！</em></p><p id="5e7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">如果你想用技术写作赚钱，就去查查</em> <a class="ae kv" href="https://catalins.tech/websites-that-pay-you-to-write-technical-articles" rel="noopener ugc nofollow" target="_blank"> <em class="oh">那些付钱让你写</em> </a> <em class="oh">技术文章的网站吧！</em></p><p id="3d5e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">如果你想学习JavaScript，我推荐这些</em> <a class="ae kv" href="https://catalins.tech/5-best-resources-to-learn-javascript-as-a-beginner" rel="noopener ugc nofollow" target="_blank"> <em class="oh"> 5资源作为初学者学习JavaScript</em></a><em class="oh">！</em></p><p id="3d54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">谈判你的工资是必不可少的——学习</em> <a class="ae kv" href="https://catalins.tech/how-to-negotiate-your-salary-as-a-developer" rel="noopener ugc nofollow" target="_blank"> <em class="oh">作为一名开发者如何谈判你的工资</em> </a> <em class="oh">！</em></p><p id="274e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">用</em> <a class="ae kv" href="https://catalins.tech/git-aliases-what-are-they-and-how-to-use-them" rel="noopener ugc nofollow" target="_blank"> <em class="oh"> Git别名</em> </a> <em class="oh">加速你的开发。</em></p><p id="3170" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">如果你想</em> <a class="ae kv" href="https://catalins.tech/how-to-start-your-blog-as-a-developer" rel="noopener ugc nofollow" target="_blank"> <em class="oh">以开发者身份开博客</em> </a> <em class="oh">，我推荐你阅读《</em> <a class="ae kv" href="https://catalins.tech/how-to-start-your-blog-as-a-developer" rel="noopener ugc nofollow" target="_blank"> <em class="oh">如何以开发者身份开博客</em> </a> <em class="oh">》一文！</em></p><p id="43fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你是否很难跟上科技领域的最新消息？参见 <a class="ae kv" href="https://catalins.tech/one-way-to-stay-up-to-date-as-developer" rel="noopener ugc nofollow" target="_blank"> <em class="oh">作为开发者保持最新状态的一种方法</em> </a> <em class="oh">！</em></p><p id="daf1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">学习</em> <a class="ae kv" href="https://catalins.tech/how-to-use-asyncawait-in-javascript" rel="noopener ugc nofollow" target="_blank"> <em class="oh">如何在JavaScript </em> </a> <em class="oh">中使用Async/Await！</em></p><p id="cc99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">GitHub简介目前风靡一时。了解 <a class="ae kv" href="https://catalins.tech/how-to-create-a-kickass-github-profile-page" rel="noopener ugc nofollow" target="_blank"> <em class="oh">如何创建GitHub个人资料页面</em> </a> <em class="oh">！</em></p><p id="a074" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">查看这7个</em> <a class="ae kv" href="https://catalins.tech/7-github-repositories-to-help-you-crush-your-job-interviews" rel="noopener ugc nofollow" target="_blank"> <em class="oh">资源，帮你通过求职面试</em> </a> <em class="oh">！</em></p><p id="99c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">查看</em> <a class="ae kv" href="https://catalins.tech/javascript-es2021-you-need-to-see-these-ecmascript-2021-features" rel="noopener ugc nofollow" target="_blank"> <em class="oh">新特性JavaScript ECMAScript 2021 es 2021</em></a><em class="oh">！</em></p><p id="649a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">你是初学程序员吗？查看这些</em> <a class="ae kv" href="https://catalins.tech/10-programming-project-ideas-for-beginners" rel="noopener ugc nofollow" target="_blank"> <em class="oh">编程项目思路</em> </a> <em class="oh">！</em></p><p id="7188" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你是在学习编码还是打算做编码？查看 <a class="ae kv" href="https://catalins.tech/20-best-places-to-learn-programming-for-free" rel="noopener ugc nofollow" target="_blank"> <em class="oh">免费学习编程的最佳地点</em> </a> <em class="oh">！</em></p><p id="90ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://catalins.tech/my-9-must-have-browser-extensions-for-increased-developer-productivity" rel="noopener ugc nofollow" target="_blank"> <em class="oh">用这9个浏览器扩展提高你的开发者生产力</em> </a> <em class="oh">！</em></p><p id="af49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">如果你是Node.js的开发者，我建议你去Node.js </em>  <em class="oh">查看一下这些</em> <a class="ae kv" href="https://catalins.tech/the-4-creational-design-patterns-in-nodejs-you-should-know" rel="noopener ugc nofollow" target="_blank"> <em class="oh"> 4个创造性的设计模式！</em></a></p><p id="7cee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="oh">查看这些惊人的</em><a class="ae kv" href="https://catalins.tech/javascript-es2020-the-features-you-should-know" rel="noopener ugc nofollow" target="_blank"><em class="oh">JavaScript ECMAScript 2020特性</em> </a> <em class="oh">！</em></p></div></div>    
</body>
</html>