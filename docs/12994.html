<html>
<head>
<title>The Comprehensive Guide to Deno — An Alternative to Node</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Deno综合指南Node的替代产品</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-comprehensive-guide-to-deno-an-alternative-to-node-ea0db4fdec77?source=collection_archive---------7-----------------------#2022-07-18">https://betterprogramming.pub/the-comprehensive-guide-to-deno-an-alternative-to-node-ea0db4fdec77?source=collection_archive---------7-----------------------#2022-07-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c4e1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">JavaScript和TypeScript的现代运行时</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/eee1c1ecd31f724ef4e37ad333e4a914.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*376S6KRDWi_yCD2RkF01Fw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="3570" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">什么是德诺？</h2><p id="c9c7" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><a class="ae mn" href="https://en.wikipedia.org/wiki/Deno_(software)" rel="noopener ugc nofollow" target="_blank"> Deno </a>(读作<code class="fe mo mp mq mr b">dee-no</code>)是基于V8 JavaScript引擎和Rust编程语言的JavaScript、TypeScript和WebAssembly的运行时。它有安全的默认值和良好的开发者体验。名字是node的变位词，也是DEstroy NOde的首字母缩写。</p><p id="1833" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">Deno由Ryan Dahl创建，他是<a class="ae mn" rel="noopener ugc nofollow" target="_blank" href="/5-major-features-of-node-js-18-5f4a164cc9fc"> Node.js </a>的原创者，专注于生产力。这是Ryan Dahl在2018年在<a class="ae mn" href="https://2018.jsconf.eu/" rel="noopener ugc nofollow" target="_blank"> JSConf EU </a>的演讲<a class="ae mn" href="https://www.youtube.com/watch?v=M3BM9TB-8yA" rel="noopener ugc nofollow" target="_blank">中宣布的关于Node.js </a>我后悔的10件事。</p><p id="e88c" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">根据<a class="ae mn" href="https://stackshare.io/deno" rel="noopener ugc nofollow" target="_blank">https://stackshare.io/deno</a>的统计，有14家公司在他们的技术堆栈中使用了Deno，包括<code class="fe mo mp mq mr b">cloudless</code>、<code class="fe mo mp mq mr b">Appwrite</code>、<code class="fe mo mp mq mr b">The Lonero Foundation</code>、<code class="fe mo mp mq mr b">Development</code>和<code class="fe mo mp mq mr b">Huel</code>。</p><p id="61db" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">以下是Deno功能列表:</p><ul class=""><li id="af2e" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated"><a class="ae mn" href="#2db0" rel="noopener ugc nofollow"> Deno是一个单独的可执行文件</a>。</li><li id="5965" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><a class="ae mn" href="#eb72" rel="noopener ugc nofollow">支持开箱打字稿</a>。</li><li id="b29b" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><a class="ae mn" href="#17cd" rel="noopener ugc nofollow">默认安全</a>。</li><li id="ef53" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><a class="ae mn" href="#caac" rel="noopener ugc nofollow">没有集中的官方包管理器</a>。</li><li id="14c5" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><a class="ae mn" href="#ca07" rel="noopener ugc nofollow">提供内置开发工具</a>。</li><li id="c402" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><a class="ae mn" href="#30be" rel="noopener ugc nofollow">支持现代网络平台标准和功能</a>。</li><li id="880d" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><a class="ae mn" href="#c660" rel="noopener ugc nofollow">托管第三方模块</a>。</li></ul><h1 id="2db0" class="nl kz it bd la nm nn no ld np nq nr lg jz ns ka lk kc nt kd lo kf nu kg ls nv bi translated">Deno是一个单独的可执行文件</h1><p id="9e95" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">Deno可以在macOS、Linux和Windows上运行。Deno是一个单一的二进制可执行文件，没有外部依赖性。它也被称为Deno CLI。</p><p id="a0ac" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">在macOS上，我们可以用brew安装Deno。</p><pre class="kj kk kl km gt nw mr nx ny aw nz bi"><span id="0723" class="ky kz it mr b gy oa ob l oc od">% brew install deno</span></pre><p id="1cfc" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">与节点支持命令<code class="fe mo mp mq mr b">node</code>、<code class="fe mo mp mq mr b">npm</code>和<code class="fe mo mp mq mr b">npx</code>不同，Deno只有一个可执行文件<code class="fe mo mp mq mr b">deno</code>。</p><p id="3a7b" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">以下是我们安装的Deno版本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="e0cb" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">以下命令将现有Deno升级到最新版本。</p><pre class="kj kk kl km gt nw mr nx ny aw nz bi"><span id="4099" class="ky kz it mr b gy oa ob l oc od">% deno upgrade</span></pre><p id="d5a6" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">或者，我们可以将其升级到特定版本，比如<code class="fe mo mp mq mr b">1.0.0</code>。</p><pre class="kj kk kl km gt nw mr nx ny aw nz bi"><span id="b003" class="ky kz it mr b gy oa ob l oc od">% deno upgrade --version 1.0.0</span></pre><p id="46ee" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">以下是列出所有Deno命令的帮助手册:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><h1 id="eb72" class="nl kz it bd la nm nn no ld np nq nr lg jz ns ka lk kc nt kd lo kf nu kg ls nv bi translated">支持现成的类型脚本</h1><p id="5b6b" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">Deno在运行代码时将TypeScript视为一级语言。我们可以直接运行或导入TypeScript，无需安装除Deno可执行文件之外的任何东西。它让用户体验变得简单明了。</p><p id="972f" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">创建Hello World的类型脚本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="4c5a" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">我们可以执行现成的类型脚本——无需设置<code class="fe mo mp mq mr b">tsconfig.json</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="927a" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno info</code>显示缓存信息或源文件相关信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="5ab1" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">Deno缓存在目录下，<code class="fe mo mp mq mr b">$DENO_DIR</code>，其中包含以下文件和目录:</p><ul class=""><li id="4259" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">$DENO_DIR/gen</code>:编译成JavaScript的文件缓存。</li><li id="78df" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">$DENO_DIR/deps</code>:远程URL导入文件的缓存。</li><li id="2372" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">$DENO_DIR/registries</code>:它是语言服务器的缓存，提供特定于语言的智能，并通过支持进程间通信的协议与开发工具通信，如自动完成、转到定义或悬停文档。</li><li id="29f7" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">$DENO_DIR/location_data</code>:本地存储的缓存。</li></ul><p id="df3a" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">在幕后，Deno通过TypeScript编译器和名为<a class="ae mn" href="https://swc.rs/" rel="noopener ugc nofollow" target="_blank"> swc </a>的Rust库的结合，将TypeScript(包括TSX和JSX)转换成JavaScript。代码经过类型检查和转换后，将被存储在缓存中。除非代码被修改或者用<code class="fe mo mp mq mr b">--reload</code>标志运行，否则缓存的代码已经为下一次运行做好了准备，无需再次转换。</p><p id="a56d" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno info hello-world.ts</code>显示本地文件，<code class="fe mo mp mq mr b">hello-world.ts</code>，并发出文件信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="3e71" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">执行<code class="fe mo mp mq mr b">hello-world.ts</code>会在<code class="fe mo mp mq mr b">$DENO_DIR/gen/file/Users/jenniferfu/denoStuff</code>下生成三个文件:</p><ul class=""><li id="dc49" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">hello-world.ts.js</code>:生成的JavaScript文件，带有源图。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="c033" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">hello-world.ts.meta</code>:包含关于文件的元数据，包含管理缓存失效的源模块的散列。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="0650" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">hello-world.ts.buildinfo</code>:TypeScript编译器增量编译信息文件，有助于加快类型检查。下面是一个例子:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="d494" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">Deno的内置TypeScript配置相当不错，但是可以针对编译器、格式化程序和linter进行定制。通常是<a class="ae mn" rel="noopener ugc nofollow" target="_blank" href="/exploring-json-json5-and-circular-references-2b5b0c5de532"> JSON格式</a>，命名为<code class="fe mo mp mq mr b">deno.json</code>或<code class="fe mo mp mq mr b">deno.jsonc</code>。</p><p id="af0a" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">配置文件可以放在当前工作目录或父目录之一中。也可以用标志<code class="fe mo mp mq mr b">--config path/to/file.json</code>手动指定。</p><p id="e87f" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">这里有一个<code class="fe mo mp mq mr b">deno.json</code>的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><h1 id="17cd" class="nl kz it bd la nm nn no ld np nq nr lg jz ns ka lk kc nt kd lo kf nu kg ls nv bi translated">默认安全</h1><p id="7e7c" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">Deno是JavaScript和TypeScript的安全运行时。代码在沙盒中运行，用于环境访问、网络访问、文件系统读写访问、高分辨率时间测量、加载动态库和运行子进程。它要求用户明确指定允许的访问或全部允许。</p><p id="a839" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno run —-help</code>列出所有允许选项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="a3fc" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">让我们试试<code class="fe mo mp mq mr b">hello-world2.ts</code>——Hello World网页的应用服务器:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="4b8d" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">执行Deno命令，可以通过三种方式授予网络访问权限:</p><ul class=""><li id="56e2" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">通过键入<code class="fe mo mp mq mr b">y</code>交互允许:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="ed14" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">--allow-net:</code>的执行标志</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="ed59" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated"><code class="fe mo mp mq mr b">--allow-all:</code>的执行标志</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="4805" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">Hello World网页已启动并运行:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/deec3854d9ab8f737ac6e5cc6dba81f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*dWn4g1XxV5qqmsoJKGsbjg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="caac" class="nl kz it bd la nm nn no ld np nq nr lg jz ns ka lk kc nt kd lo kf nu kg ls nv bi translated">没有集中的官方软件包管理器</h1><p id="c030" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">Deno可以从多个来源获取脚本，一个文件名、一个URL和从stdin读取文件的<code class="fe mo mp mq mr b">-</code>。后者对于与其他应用程序的集成非常有用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="0b54" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">使用URL运行官方示例<code class="fe mo mp mq mr b">welcome.ts</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="fa63" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">表示<a class="ae mn" href="https://deno.land/std/examples/welcome.ts" rel="noopener ugc nofollow" target="_blank">https://deno.land/std/examples/welcome.ts</a>的最新版本是<code class="fe mo mp mq mr b">0.148.0</code>版本，已下载。该命令被执行并输出<code class="fe mo mp mq mr b">Welcome to Deno</code>。</p><p id="4757" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">这里是网址上的<code class="fe mo mp mq mr b">deno info</code>，<code class="fe mo mp mq mr b">https://deno.land/std/examples/welcome.ts</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="73b9" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">文件下载后，直到最新版本增加或带<code class="fe mo mp mq mr b">--reload</code>标志运行，才会再次下载。执行缓存的文件并输出消息。</p><p id="9ded" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">这个<code class="fe mo mp mq mr b">welcome.ts</code>文件是什么？我们可以使用以下命令调用<code class="fe mo mp mq mr b">curl</code>下载文件并查看它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="b851" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">什么是<code class="fe mo mp mq mr b">std@0.148.0</code>？</p><p id="d23a" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">Deno有一个<a class="ae mn" href="https://github.com/denoland/deno_std" rel="noopener ugc nofollow" target="_blank">标准库</a>，里面包含了所有Deno项目都可以无畏使用的高质量代码的模块。每个模块都没有外部依赖性，它们由Deno核心团队审查。</p><p id="bbd4" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">标准库目前独立于Deno版本进行标记。一旦库稳定下来，这种情况就会改变。<code class="fe mo mp mq mr b">std@0.148.0</code>是指<code class="fe mo mp mq mr b">0.148.0</code>版本的标准库。这里是所有版本的列表。</p><p id="8251" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated"><code class="fe mo mp mq mr b"><a class="ae mn" href="https://deno.land/std@0.148.0" rel="noopener ugc nofollow" target="_blank">https://deno.land/std@0.148.0</a></code>列出了<code class="fe mo mp mq mr b">std@0.148.0</code>中的所有模块:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/563b86a6e8ac40f64d00910324048ee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GEG9XpeQPr8cpJHiF5y0-Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="ca07" class="nl kz it bd la nm nn no ld np nq nr lg jz ns ka lk kc nt kd lo kf nu kg ls nv bi translated">提供内置的开发工具</h1><p id="d0a4" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">Deno提供了一套开发工具。它集成了Visual Studio代码和JetBrains IDEs。它还有一组用于安装、格式化、编译、捆绑、lint、文档和测试的命令。让我们用例子来看看它们。</p><h2 id="eacd" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">安装</h2><p id="97fd" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno install</code>安装脚本作为可执行文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="fb41" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">在1号线，安装了遥控器<code class="fe mo mp mq mr b">welcome.ts</code>。</li><li id="9fdd" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第4–5行，它展示了如何在需要时将Deno可执行文件添加到<code class="fe mo mp mq mr b">$PATH</code>中。</li><li id="df3e" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第7行，调用可执行文件。</li></ul><h2 id="b6b1" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">格式</h2><p id="ba67" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno fmt</code>格式化源文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="92bf" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">在第1–2行，它显示了一个格式错误的文件。</li><li id="6fd4" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第4行，执行<code class="fe mo mp mq mr b">deno fmt</code>以格式化<code class="fe mo mp mq mr b">formatExample.ts</code>。</li><li id="8e66" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第8–9行，它显示了一个格式良好的文件。</li></ul><h2 id="e396" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">编制</h2><p id="cb7f" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno compile</code>将脚本编译成可执行文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="f8ee" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">在第1行，<code class="fe mo mp mq mr b">hello-world.ts</code>被编译成可执行文件，<code class="fe mo mp mq mr b">hello-world</code>(第4行)。</li><li id="7485" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第6行，执行<code class="fe mo mp mq mr b">hello-world</code>。</li></ul><h2 id="a95c" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">捆</h2><p id="7b60" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">在下面的例子中，我们创建了多个文件，其中<code class="fe mo mp mq mr b">file3.ts</code>从<code class="fe mo mp mq mr b">file1.ts</code>和<code class="fe mo mp mq mr b">file2.ts</code>导入。<code class="fe mo mp mq mr b">deno run</code>执行<code class="fe mo mp mq mr b">file3.ts</code>输出一个方程式。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="83d9" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">在第1–2行，它显示<code class="fe mo mp mq mr b">file1.ts</code>。</li><li id="7503" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第4–5行，它显示<code class="fe mo mp mq mr b">file2.ts</code>。</li><li id="8a1c" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第7-10行，显示了<code class="fe mo mp mq mr b">file3.ts</code>，它使用了从<code class="fe mo mp mq mr b">file1.ts</code>和<code class="fe mo mp mq mr b">file2.ts</code>导入的变量。</li><li id="efb0" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第12行，执行<code class="fe mo mp mq mr b">file3.ts</code>。</li></ul><p id="ebf2" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno bundle</code>可以将模块和依赖项捆绑成一个文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="b02f" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">在第1行，<code class="fe mo mp mq mr b">files3.ts</code>被捆绑到<code class="fe mo mp mq mr b">file.bundle.js</code>(第4行)。</li><li id="479d" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第6–11行，它显示了捆绑文件，其中导入的变量被替换为实际值(第11行)。</li><li id="7bf2" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第13–14行，执行捆绑文件等同于执行原始文件。</li></ul><h2 id="a6b6" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">线头</h2><p id="8342" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno lint</code> lints源文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="d832" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">在第1-4行，它显示<code class="fe mo mp mq mr b">lintExample.ts</code>。</li><li id="95ed" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第6行，在<code class="fe mo mp mq mr b">lintExample.ts</code>运行<code class="fe mo mp mq mr b">deno lint</code>。</li><li id="8dc6" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第7–12行，它显示了<code class="fe mo mp mq mr b">no-var</code>违规。</li><li id="d396" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第14–20行，它显示了<code class="fe mo mp mq mr b">no-explicit-any</code>违例。</li></ul><h2 id="4a24" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">文件</h2><p id="53f4" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno doc</code>显示文档。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="6d6d" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">在第1-10行，它显示<code class="fe mo mp mq mr b">documentExample.ts</code>。</li><li id="b03f" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第12–21行，它显示了<code class="fe mo mp mq mr b">deno doc</code>内容。</li><li id="8b20" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第23–87行，它以<code class="fe mo mp mq mr b">—-json</code>格式显示<code class="fe mo mp mq mr b">deno doc</code>内容。</li></ul><h2 id="1a39" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">试验</h2><p id="0946" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated"><code class="fe mo mp mq mr b">deno test</code>运行测试。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="b002" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">第1-10行显示<code class="fe mo mp mq mr b">testExample.ts</code>，包括两个测试:<code class="fe mo mp mq mr b">Equation Test 1</code>和<code class="fe mo mp mq mr b">Equation Test 2</code>。</li><li id="299b" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第12行，在<code class="fe mo mp mq mr b">testExample.ts</code>上运行<code class="fe mo mp mq mr b">deno test</code>。</li><li id="98ce" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第14行，显示<code class="fe mo mp mq mr b">Equation Test 1</code>正常。</li><li id="5ce0" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">第15行显示<code class="fe mo mp mq mr b">Equation Test 2</code>失效。</li><li id="dfce" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第17–26行，它显示了<code class="fe mo mp mq mr b">Equation Test 2</code>失败的原因。</li></ul><h1 id="30be" class="nl kz it bd la nm nn no ld np nq nr lg jz ns ka lk kc nt kd lo kf nu kg ls nv bi translated">支持现代网络平台标准和功能</h1><p id="a45d" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">当Node.js构建时，它缺乏一些现代web平台标准和功能，如promises和async/await、<a class="ae mn" rel="noopener ugc nofollow" target="_blank" href="/what-might-be-coming-in-npm-9-6985cf2678a6"> ES模块</a>和TypeScript。Deno是一个改进，因为它支持所有现代web平台标准和功能。</p><p id="8d74" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">下面是<code class="fe mo mp mq mr b">echo_server.ts</code>的出处:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="2728" class="mx my it lw b lx ms ma mt lh mz ll na lp nb mm nc nd ne nf bi translated">在第3行，它使用es模块中的<code class="fe mo mp mq mr b">import</code>，而不是<code class="fe mo mp mq mr b">require</code>。</li><li id="5983" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">在第11行，承诺使用<code class="fe mo mp mq mr b">await</code>。</li><li id="3f44" class="mx my it lw b lx ng ma nh lh ni ll nj lp nk mm nc nd ne nf bi translated">代码本身是类型脚本。</li></ul><p id="87b8" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">在<code class="fe mo mp mq mr b">echo_server</code>上运行<code class="fe mo mp mq mr b">deno info</code>。它检查ES模块及其所有依赖项。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="b814" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">在第2–9行，它下载了七个依赖项。</p><p id="bd02" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">在第14–21行，它显示了依赖层次结构。</p><p id="5010" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">我们使用一个<a class="ae mn" rel="noopener ugc nofollow" target="_blank" href="/introduction-to-byobu-a-window-manager-and-terminal-multiplexer-d8ef0cc278d9"> byobu </a>分割窗口来执行代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oi of l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者提供的视频</p></figure><p id="cb2d" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">在顶部窗口，我们执行<code class="fe mo mp mq mr b">deno run — allow-net https://deno.land/std@0.148.0/examples/echo_server.ts</code>。</p><p id="ff6d" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">在底部窗口，我们执行<code class="fe mo mp mq mr b">nc localhost 8080</code>来运行<a class="ae mn" href="https://en.wikipedia.org/wiki/Netcat" rel="noopener ugc nofollow" target="_blank"> netcat </a>(仅限Linux/MacOS)，这是一个用于读写网络的计算机网络实用程序。每当键入enter时，当前消息都会在下一行出现。</p><h1 id="c660" class="nl kz it bd la nm nn no ld np nq nr lg jz ns ka lk kc nt kd lo kf nu kg ls nv bi translated">托管第三方模块</h1><p id="a9c5" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">Deno为Deno脚本提供托管服务<code class="fe mo mp mq mr b"><a class="ae mn" href="https://deno.land/x" rel="noopener ugc nofollow" target="_blank">https://deno.land/x</a></code>。它缓存存储在GitHub上的开源模块，并在一个易于记忆的域中提供服务。</p><p id="03ad" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">至此，共有4895个第三方模块。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/03ba91869034efef794550e1b3d1a585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*QcTBeqrGHHTdjpUCH4bMmQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="e46e" class="nl kz it bd la nm nn no ld np nq nr lg jz ns ka lk kc nt kd lo kf nu kg ls nv bi translated">结论</h1><p id="a061" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">Deno相当新，目前发布的版本是<code class="fe mo mp mq mr b">1.23.3</code>。Deno是一个单独的可执行文件，它支持现成的TypeScript。Deno提供内置的开发工具，并支持现代web平台标准和功能。它没有集中的官方软件包管理器，同时托管许多第三方模块。</p><p id="7a49" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">Deno是一个单独的可执行文件，它支持现成的TypeScript。Deno提供内置的开发工具，并支持现代web平台标准和功能。它没有集中的官方软件包管理器，同时托管许多第三方模块。</p><p id="42eb" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">一些框架是建立在Deno之上的，包括<a class="ae mn" href="https://github.com/denoland/fresh" rel="noopener ugc nofollow" target="_blank"> Fresh </a>，它是为速度、可靠性和简单性而构建的下一代web框架。</p><p id="4a89" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">在下一篇文章中，我们将深入探讨Deno的Web框架Fresh。Deno Deploy可以轻松地将生产应用程序部署为全球可访问。</p><p id="57ef" class="pw-post-body-paragraph lu lv it lw b lx ms ju lz ma mt jx mc lh mu me mf ll mv mh mi lp mw mk ml mm im bi translated">感谢阅读。如果你有兴趣，可以看看<a class="ae mn" href="https://jenniferfubook.medium.com/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener">我的其他媒体文章</a>。</p></div></div>    
</body>
</html>