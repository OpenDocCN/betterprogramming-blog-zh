<html>
<head>
<title>Host Your App in the Cloud for Less Than $5 a Month</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">以每月不到5美元的价格在云中托管您的应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/host-your-app-in-the-cloud-for-less-than-5-a-month-cba15cdb6cd8?source=collection_archive---------9-----------------------#2022-05-31">https://betterprogramming.pub/host-your-app-in-the-cloud-for-less-than-5-a-month-cba15cdb6cd8?source=collection_archive---------9-----------------------#2022-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="de0e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这是一种在云中部署和托管NodeJs、Python、Java或Ruby应用程序的简单而廉价的方式，几乎不需要开发运维技能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0c130c0808808049da0a6d5312e27d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PnCE0Ds-4SZfhmggWRlg3Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者制作的图像</p></figure><p id="a895" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我找不到关于在云中托管自己的应用程序的完整指南。因此，在花了一些时间研究并亲自动手之后，我认为在这里收集所有这些信息对未来的我会有所帮助，当然，对所有更好的编程读者也是如此。</p><p id="27d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我使用<a class="ae lu" href="https://www.hetzner.com/cloud" rel="noopener ugc nofollow" target="_blank"> Hetzner Cloud </a>提供商来托管我的<a class="ae lu" href="https://github.com/vladmykol/mando-chatbot" rel="noopener ugc nofollow" target="_blank">项目</a>。如果你想知道为什么，看看我在<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/aws-vs-digital-ocean-vs-hetzner-cloud-which-has-the-best-value-for-money-bd9cb3c06dee">之前的文章</a>，在那里我比较了其他流行的选择。</p><h1 id="23fa" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.登录赫茨纳并获得Linux VPC</h1><p id="a31d" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">您需要先注册并指定您的付款方式。当我以前自己做的时候，我被要求提供我的ID和20美元的信用来激活我的帐户。不用担心；它将用于您将来与海兹纳的发票。注册流程非常简单明了，但是如果您需要一步一步的指导，请点击这里:</p><div class="ms mt gp gr mu mv"><a href="https://www.banjocode.com/post/hosting/setup-server-hetzner/" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">如何在Hetzner上设置Linux (Ubuntu)服务器</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">远程linux服务器可能非常有用。Hetzner提供便宜可靠且易于维护的服务器。这个…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">www.banjocode.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj ks mv"/></div></div></a></div><p id="cac8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">*不要错过SSH密钥设置。否则，您将无法连接到您的服务器。即使你做了，删除它，并再次启动一个新的服务器。在这里只需要几分钟。</p><h1 id="13f0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.安装Dokku</h1><p id="7c76" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">Dokku是一个开源的PaaS，可以自动创建Docker容器、日志、数据库管理、Git部署等。这些都是您的应用程序在远程服务器上运行所需的东西。Dokku在零成本自动化许多DevOps任务方面表现出色。</p><p id="7e92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">来自赫茨纳的新服务器只不过是一台空的远程机器(VPC)。您将需要使用SSH连接到您的服务器，并从现在开始做所有必要的设置。逐一运行以下命令来安装Dokku:</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="b700" class="np lw it nl b gy nq nr l ns nt">ssh root@&lt;ip-address&gt;</span></pre><blockquote class="nu nv nw"><p id="5d48" class="ky kz nx la b lb lc ju ld le lf jx lg ny li lj lk nz lm ln lo oa lq lr ls lt im bi translated">其中<ip-address>是您在Hetzner Cloud dashboard中新创建的服务器的IPv4地址。</ip-address></p></blockquote><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="3359" class="np lw it nl b gy nq nr l ns nt">wget <a class="ae lu" href="https://raw.githubusercontent.com/dokku/dokku/v0.27.5/bootstrap.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/dokku/dokku/v0.27.5/bootstrap.sh</a></span></pre><blockquote class="nu nv nw"><p id="cc9b" class="ky kz nx la b lb lc ju ld le lf jx lg ny li lj lk nz lm ln lo oa lq lr ls lt im bi translated">其中v0.27.5是Dokku的最新版本。当你读到这篇文章时，那里可能有一个更新的版本，所以检查一下这个并使用最新的版本。</p></blockquote><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="d0f1" class="np lw it nl b gy nq nr l ns nt">sudo DOKKU_TAG=v0.27.5 bash bootstrap.sh</span></pre><p id="6690" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，您可以将您的“互联网地址”(域名)分配给未来的应用程序。如果您没有域名，可以稍后配置。我现在将使用IP地址。</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="130d" class="np lw it nl b gy nq nr l ns nt">dokku domains:set-global <!-- -->&lt;ip-address or domain-name&gt;</span></pre><blockquote class="nu nv nw"><p id="423b" class="ky kz nx la b lb lc ju ld le lf jx lg ny li lj lk nz lm ln lo oa lq lr ls lt im bi translated">其中<ip-address>是您在Hetzner Cloud dashboard中新创建的服务器的IPv4地址。</ip-address></p></blockquote><p id="f086" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">*如果您在上述安装过程中遇到错误，请尝试遵循另一个指南，特别是来自<a class="ae lu" href="https://medium.com/@auth0/hosting-applications-using-digitalocean-and-dokku-48ab2af1f885#:~:text=Inside%20the%20terminal%3A" rel="noopener">这一步</a>，因为它可能会提供更详细的解释和示例。</p><h1 id="7a81" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.创建您的应用基础设施</h1><p id="c9d9" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">如果您使用下列编程语言之一:</p><ul class=""><li id="12bf" class="ob oc it la b lb lc le lf lh od ll oe lp of lt og oh oi oj bi translated">红宝石</li><li id="cbdb" class="ob oc it la b lb ok le ol lh om ll on lp oo lt og oh oi oj bi translated">节点. js</li><li id="439a" class="ob oc it la b lb ok le ol lh om ll on lp oo lt og oh oi oj bi translated">Clojure</li><li id="67e7" class="ob oc it la b lb ok le ol lh om ll on lp oo lt og oh oi oj bi translated">计算机编程语言</li><li id="8392" class="ob oc it la b lb ok le ol lh om ll on lp oo lt og oh oi oj bi translated">Java 语言(一种计算机语言，尤用于创建网站)</li><li id="8951" class="ob oc it la b lb ok le ol lh om ll on lp oo lt og oh oi oj bi translated">斯卡拉</li><li id="90f8" class="ob oc it la b lb ok le ol lh om ll on lp oo lt og oh oi oj bi translated">服务器端编程语言（Professional Hypertext Preprocessor的缩写）</li></ul><p id="f305" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么你是幸运的，因为Dokku用Buildpacks自动检测，并在这种情况下自动完成许多任务。(构建、启动、联网和运行状况检查)。</p><p id="d501" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用SSH连接到Hetzner云服务器时运行以下命令(与之前所有命令的窗口相同):</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="eaf0" class="np lw it nl b gy nq nr l ns nt">dokku apps:create &lt;your-supper-app-name&gt;<br/>dokku mongo:create &lt;your-db-name&gt;<br/>dokku mongo:link &lt;your-db-name&gt; &lt;your-supper-app-name&gt;</span></pre><p id="9a28" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，我使用MongoDB，但是你可以选择任何其他的数据库引擎，比如MySQL或Postgress，只要它们在<a class="ae lu" href="https://dokku.com/docs/community/plugins/" rel="noopener ugc nofollow" target="_blank"> Dokku插件</a>中可用。</p><p id="4deb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最棒的是，现在只要你有足够的服务器容量，你就可以创建和托管任意多的应用程序。所有这些都是可能的，因为多库正在引擎盖下使用码头集装箱。</p><h1 id="7a5d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.释放它</h1><p id="60e6" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">发布您的应用程序和部署任何未来更新的最简单方法是将您的源代码保存在<a class="ae lu" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上，并创建您的个人<a class="ae lu" href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token#creating-a-token" rel="noopener ugc nofollow" target="_blank">访问令牌</a>。所有这些都是免费的，即使是私有库(不是开源代码)。</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="c410" class="np lw it nl b gy nq nr l ns nt">dokku git:allow-host github.com<br/>dokku git:auth github.com &lt;your-github-username&gt; &lt;your-github-access-token&gt;<br/>dokku git:sync --build &lt;your-supper-app-name&gt; &lt;your-github-repository-url&gt;</span></pre><p id="74f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Dokku可以在每次提交时运行自动部署，但是我不喜欢这样做，并且可以使用<code class="fe op oq or nl b">dokku git:sync</code>命令对在哪里部署我的更改进行更多的控制。如果一切正常，您将能够在此处看到您的应用程序日志:</p><pre class="kj kk kl km gt nk nl nm nn aw no bi"><span id="00d5" class="np lw it nl b gy nq nr l ns nt">dokku logs <!-- -->&lt;your-supper-app-name&gt;<!-- --> -t</span></pre><p id="1e25" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">查看my <a class="ae lu" href="https://github.com/vladmykol/mando-chatbot" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>获取Java应用程序部署过程的完整示例。</p><h1 id="5989" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">最后的想法</h1><p id="0240" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">这就是你如何用一个便宜的起始标签在云中托管多个应用程序，并在未来使用运行Dokku的Hetzner服务器轻松更新和扩展它。</p><p id="bac8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">尽管这里没有涉及到，而且它是可选的，我还是鼓励您购买一个便宜的域名，并与Dokku一起使用。然后，将来您可以更加透明地访问您部署的应用程序，并与任何人共享它们。</p><p id="24a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我试图让这个指南尽可能简单，但我可能错过了一些东西。</p><p id="48b6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得可以，我很乐意在评论里回答你的问题。</p><p id="62db" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">希望在我以后的文章中，我能够报道更多关于在云中运行我自己的应用程序的令人兴奋的事情。</p></div></div>    
</body>
</html>