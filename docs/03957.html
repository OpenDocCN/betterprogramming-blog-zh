<html>
<head>
<title>How to Use NgRx Schematics and NgRx Entity to Speed Up Your Development Process</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用NgRx原理图和NgRx实体来加速您的开发过程</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/angular-using-ngrx-schematics-ngrx-entity-to-speed-up-your-development-process-bb4edbab12d?source=collection_archive---------3-----------------------#2020-03-16">https://betterprogramming.pub/angular-using-ngrx-schematics-ngrx-entity-to-speed-up-your-development-process-bb4edbab12d?source=collection_archive---------3-----------------------#2020-03-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2056" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">好的开发者都很懒</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e0d761d86814629e427f39689e06def7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hwXuNEpCGf-4YiUiA3Ye_Q.png"/></div></div></figure><p id="1090" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如今，我们开发人员如此懒惰，以至于编码变得有压力和令人讨厌，但是如果有一种方法可以减轻这种痛苦呢？我敢打赌，你们都有一个“上标”,可以在你做其他工作时做任何需要的事情。</p><p id="c1e1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">今天，我将分享我使用<a class="ae lq" href="https://angular.io/guide/schematics" rel="noopener ugc nofollow" target="_blank">角度示意图</a>结合<a class="ae lq" href="https://ngrx.io/guide/schematics" rel="noopener ugc nofollow" target="_blank"> NgRx示意图</a>的经验，并触及一些NgRx主题，如商店、实体和效果。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="7eb1" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">什么是原理图？</strong></h1><p id="e6cd" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">Schematics是简单的命令，通过使用特定的模式可以更快地生成源代码的不同部分。</p><ul class=""><li id="59ec" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">例如:创建组件— <code class="fe ne nf ng nh b">ng generate component user-list</code>。</li><li id="486c" class="mv mw it kw b kx ni la nj ld nk lh nl ll nm lp na nb nc nd bi translated">例如:<code class="fe ne nf ng nh b">ng generate module user</code>。</li></ul><p id="b06d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面是非常基本的角度示意图。有关更多选项和细节，请参考<a class="ae lq" href="https://angular.io/cli" rel="noopener ugc nofollow" target="_blank">角度CLI </a>。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="fa85" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">为什么原理图好？</h1><p id="c1b6" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">Angular框架有严格的规则(MVC)，所以没有必要过分关注这个结构。这就是原理图有用的地方——它们和devs做得差不多；写代码，但是更快。</p><p id="c83e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果开发人员足够了解命令行界面，并使用它来键入代码，他们将很快完成新项目的设置，并将剩余的时间用于更复杂的事情。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="620d" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">主应用</strong></h1><p id="d691" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我将介绍一个使用NgRx创建、读取和删除的简单应用程序，它主要是使用Angular/NgRx Schematics创建的。</p><p id="9f08" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我应该提到，这个应用程序制作得非常快，旨在展示用较少的努力创建一个简单的CRUD是多么容易。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="01ef" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">为什么是NgRx？</strong></h1><ul class=""><li id="83f6" class="mv mw it kw b kx mq la mr ld nn lh no ll np lp na nb nc nd bi translated">很方便。</li><li id="916b" class="mv mw it kw b kx ni la nj ld nk lh nl ll nm lp na nb nc nd bi translated">它让你建立一个可读的结构。</li><li id="917f" class="mv mw it kw b kx ni la nj ld nk lh nl ll nm lp na nb nc nd bi translated">它有原理图，可以为你生成70%的代码。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/12a2c2884b91d7c8e90e61c650222e60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/0*aOf29EHfdacJFtRK"/></div></figure><p id="9e81" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">自定义代码写在下面的文件中:</p><h2 id="35a9" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated">服务</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/5ec415ae2d2ae7700cabb0e7709d36ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MxE9-WUX_sp66W9JaADvuw.png"/></div></div><p class="oe of gj gh gi og oh bd b be z dk translated"><a class="ae lq" href="https://gist.github.com/Lolibai/c217203ae1d918684c85cc25179d1a0a" rel="noopener ugc nofollow" target="_blank"> user.service.ts </a></p></figure><h2 id="06fb" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">效果</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/e4d4231c9de5a60c03063c3f495dc84f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DOlsEwgxtSZTRlZ2BSSdrA.png"/></div></div><p class="oe of gj gh gi og oh bd b be z dk translated"><a class="ae lq" href="https://gist.github.com/Lolibai/277e653375e15d0f1939b91f1eb2c66b" rel="noopener ugc nofollow" target="_blank">用户.效果. ts </a></p></figure><h2 id="19c6" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">用户列表组件</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/38147d07ddc5d2ef95c11b41ea29835c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NgHPOPIYTB9NkbgU9qNyJw.png"/></div></div><p class="oe of gj gh gi og oh bd b be z dk translated"><a class="ae lq" href="https://gist.github.com/Lolibai/c9fba1e8880b5aae3991c772cb650b0b" rel="noopener ugc nofollow" target="_blank">用户列表.组件. ts </a></p></figure><p id="df88" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">更重要的是，NgRx建议使用<a class="ae lq" href="https://ngrx.io/guide/entity" rel="noopener ugc nofollow" target="_blank"> @ngrx/entity </a>进行CRUD操作。</p><p id="50a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它有很多功能来帮助消除相同代码的重复。管理状态变得更容易，调度调用变得可读，因为它们确实如其名所言。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/83e25b16442f7de99bfadd7d6b7cb7cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2T81lL6ROMaF5ybaMCpdeg.png"/></div></div><p class="oe of gj gh gi og oh bd b be z dk translated">Redux实体缩减器</p></figure><h2 id="2192" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">是什么让他们按预期工作？</strong></h2><p id="b4a3" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">有<code class="fe ne nf ng nh b">@ngrx/effects</code> <strong class="kw iu"> </strong>和<code class="fe ne nf ng nh b">HttpServices</code>。</p><p id="d51a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">他们所做的是捕捉动作并执行生成的<code class="fe ne nf ng nh b">@ngrx/entity</code> <strong class="kw iu"> </strong>动作。每次为实体创建CRUD时都要遵循一个简单的流程，仅此而已。</p><p id="ac9c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是请记住，没有必要为功能的每个部分都使用一个实体。总的来说，都是关于reducer怎么写的。你可以完全忽略<em class="ol">实体样式</em>，使用<em class="ol">动作</em>、<em class="ol">效果</em>、<em class="ol">自定义缩减器</em>编写一个简单的缩减器。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="e9de" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">流程</strong></h1><h2 id="fe5a" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">创建动作</strong></h2><pre class="kj kk kl km gt om nh on oo aw op bi"><span id="196f" class="nr lz it nh b gy oq or l os ot">ng generate @ngrx/schematics:action users/Users — group</span></pre><h2 id="db43" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">创建减速器</strong></h2><pre class="kj kk kl km gt om nh on oo aw op bi"><span id="ce78" class="nr lz it nh b gy oq or l os ot">ng generate @ngrx/schematics: reducer users/User — group</span></pre><h2 id="0946" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">创建HTTP调用</strong></h2><p id="b6cc" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">它应该被定制。参见上面的例子。</p><h2 id="6d35" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">创造效果</strong></h2><pre class="kj kk kl km gt om nh on oo aw op bi"><span id="b377" class="nr lz it nh b gy oq or l os ot">ng generate @ngrx/schematics:effect users/Users -m users/users.module.ts — group</span></pre><h2 id="11b1" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">创建选择器</strong></h2><p id="bbc2" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">总是检查你是否需要一个自定义选择器，但是我建议总是创建从基本选择器继承的自定义选择器。</p><h2 id="248f" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">使用选择器</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/170bb10b5d561104bb8b26bc0c564b4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vICS-IElF_S0-sR0i6dXwg.png"/></div></div><p class="oe of gj gh gi og oh bd b be z dk translated"><a class="ae lq" href="https://gist.github.com/Lolibai/d31343c25298e637412aebf580247b15" rel="noopener ugc nofollow" target="_blank">选择器. ts </a></p></figure><h2 id="e397" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">调度动作</strong></h2><p id="612b" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">参见上面的例子。下面是用户的添加。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/db74c693b0474b043c236a77e775ac62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZhgU7XR5kwfV_IRcgET9A.png"/></div></div><p class="oe of gj gh gi og oh bd b be z dk translated"><a class="ae lq" href="https://gist.github.com/Lolibai/d3d7bb617ee4c7d245e602d0b51e6a6d" rel="noopener ugc nofollow" target="_blank">用户.组件. ts </a></p></figure><h2 id="2ce8" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated"><strong class="ak">连接视图(将收到的数据整合到模板中)</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/54b5d11740f2d43d33d040520e06e7eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_8ljICiHK2pooaXICg6LwA.png"/></div></div><p class="oe of gj gh gi og oh bd b be z dk translated"><a class="ae lq" href="https://gist.github.com/Lolibai/6c9f246ca1d2d3a2d1e450e559871a02" rel="noopener ugc nofollow" target="_blank">user-list.component.html</a></p></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="7dcc" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">总结</strong></h1><p id="807b" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">通过几个步骤，您可以获得一个完整的功能模块，它执行基本的CRUD操作。</p><p id="72c4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我100%确定高级设置不会成为问题。使用schematics，快速构建，并使用更少的努力开发出色的应用程序，因为有如此多有用的工具，但其中许多仍未使用。</p><p id="c083" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">想深入挖掘吗？<a class="ae lq" href="https://inveritasoft.com/blog/angular-using-ngrx-schematics-and-ngrx-entity-to-speed-up-your-startup" rel="noopener ugc nofollow" target="_blank">让我们知道</a>。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><p id="14ea" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="ol">原载于2020年3月17日</em><a class="ae lq" href="https://inveritasoft.com/blog/angular-using-ngrx-schematics-and-ngrx-entity-to-speed-up-your-startup" rel="noopener ugc nofollow" target="_blank"><em class="ol">inveritasoft.com</em></a><em class="ol"/></p></div></div>    
</body>
</html>