<html>
<head>
<title>4 Important pandas Library Operations You Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该知道的4个重要的熊猫图书馆操作</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/4-important-pandas-library-operations-you-should-know-a679348e9bae?source=collection_archive---------10-----------------------#2021-02-25">https://betterprogramming.pub/4-important-pandas-library-operations-you-should-know-a679348e9bae?source=collection_archive---------10-----------------------#2021-02-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="0e0b" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据分析</h2><div class=""/><div class=""><h2 id="9ec0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使您的探索性数据分析任务更容易</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/9eb84938c6b2640a76347da55a0736b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9W8Ubn394iIE-yFz"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">照片由<a class="ae lh" href="https://unsplash.com/@mbaumi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">米卡·鲍梅斯特</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="e430" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">任何数据建模过程的第一步都是分析数据。pandas 是一个非常著名和方便的用于完成数据分析的库。pandas代表面板数据分析。在这里，<em class="me">面板</em>代表我们的数据中不同种类的特征，我们比较这些特征或找到它们之间的关系。</p><p id="d630" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">熊猫图书馆的主要目标是操纵数据。这些操作可能涉及添加不同的列、删除列、更改数据集中的数据、合并其他数据集、填充缺失以及许多其他事情，这取决于您的业务。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="3d17" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">入门指南</h1><p id="5fc0" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">本文将涵盖我们在进行探索性数据分析时通常执行的前五项操作。</p><p id="9df0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们首先看看我们将用于应用不同的<code class="fe nj nk nl nm b">pandas</code>库操作的数据集。数据集可以在这里找到<a class="ae lh" href="https://github.com/pranjalAI/Walmart-Store-Sales-Forecasting/blob/master/SalesData.csv" rel="noopener ugc nofollow" target="_blank">。这是一个CSV文件，可以使用Python中的<code class="fe nj nk nl nm b">pandas</code>模块加载。</a></p><p id="1ecb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果您没有安装<code class="fe nj nk nl nm b">pandas</code>库，那么您可以使用命令<code class="fe nj nk nl nm b">pip install pandas</code>来安装库。最后，您可以使用以下命令导入它:</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="2e6f" class="nr mn it nm b gy ns nt l nu nv">import pandas as pd<br/>sales = pd.read_csv("SalesData.csv")</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nw"><img src="../Images/029fcb27817fad86f6b7ff8e243f6df5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WU1uIfqy6PBI8uJsbHrfjg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">用于分析的演示数据集</p></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="f804" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">获取数据集的子集</h1><p id="4e2f" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">我们经常需要根据列的重要性或者根据一定数量的行来创建数据的子集。</p><p id="0f1a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们首先看看如何基于列获取数据的子集。</p><p id="0880" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">从基于列的过滤开始，我们需要检查数据集中的各个列。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nx"><img src="../Images/7ee88255250cb0211dc86e3757c8fb8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N2fqzRxHR4PQmvlHxpTAVQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">列列表</p></figure><p id="af70" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">假设您只需要数据中的特定列来进行分析。这些列是<code class="fe nj nk nl nm b">AccountId</code>、<code class="fe nj nk nl nm b">AccountName</code>、<code class="fe nj nk nl nm b">Region</code>、<code class="fe nj nk nl nm b">Division</code>、<code class="fe nj nk nl nm b">City</code>和<code class="fe nj nk nl nm b">State</code>。</p><p id="01ae" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，让我们根据所选的列创建数据集的子集。</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="0997" class="nr mn it nm b gy ns nt l nu nv">selected_columns=['AccountId', 'AccountName', 'Region', 'Division', 'City', 'State']</span><span id="6555" class="nr mn it nm b gy ny nt l nu nv"><strong class="nm jd">new_sales=sales[selected_columns]</strong></span></pre><p id="02e5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，我们需要列出选定的列，然后将该列表传递到主数据集中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/909821fa006776049201bd69f58c23d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*0XisH_M4J1XXbi547GsOmg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">结果new_sales数据集</p></figure><p id="bc31" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，让我们看看如何基于行获取数据子集。</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="3a23" class="nr mn it nm b gy ns nt l nu nv">new_sales_top50=sales.iloc[12:22]</span></pre><p id="ba89" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">上面的命令将给出从索引12开始到索引21结束的数据。这里，22(结束索引)将被排除。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/b45c55f80f4de36f365e1e784b390316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tJiSJ-qV5LnqvBreKxvqMg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">合成数据集</p></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="f64c" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">合并不同的数据集</h1><p id="0028" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">在做数据分析的时候，我们通常会有很多数据来源。为了获得数据的全貌，我们需要尽可能地合并数据集。数据集的合并基于数据集中的共同特征或列。</p><p id="9932" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">假设我们有两个名为<code class="fe nj nk nl nm b">customers</code>和<code class="fe nj nk nl nm b">transactions</code>的数据集。在这两个数据集中，我们有一个名为<code class="fe nj nk nl nm b">customer id</code>的公共列。</p><div class="ks kt ku kv gt ab cb"><figure class="ob kw oc od oe of og paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/e822edefaa5efe00a01889705783f815.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*AR9-jvNgvsCo0f0X-6Vy3g.png"/></div></figure><figure class="ob kw oh od oe of og paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/e58e68641e4fae93e5cd93320fb3ec88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*eQHAqsSxwLVvEl4YQLSjyg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk oi di oj ok translated">客户和交易的数据集</p></figure></div><p id="d600" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以使用下面的命令来合并这两个数据集。我们可以根据需要选择连接的类型。在这里，我们正在进行<code class="fe nj nk nl nm b">left</code>连接。</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="df90" class="nr mn it nm b gy ns nt l nu nv">new1 = pd.merge(trans, cust,  how='left', left_on=['cust_id'], right_on = ['customer_Id'])</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ol"><img src="../Images/f768aea1c43bdda72f5dbec4645a65e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*59hTietYhZ2kmF3Lc5-J3A.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">合成联合数据集</p></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="67f1" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">删除列</h1><p id="d45c" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">这个操作经常用于从数据集中丢弃任何一组列。让我们假设我们发现<code class="fe nj nk nl nm b">Division</code>和<code class="fe nj nk nl nm b">City</code>列不适合我们的分析，我们想要删除它们。</p><p id="f206" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">按照以下命令完成工作:</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="69e8" class="nr mn it nm b gy ns nt l nu nv">to_be_deleted=['Division', 'City']<br/>sales=sales.drop(to_be_deleted, axis=1)</span></pre><p id="83ac" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们需要创建一个要删除的列的列表，并在drop函数中传递该列表。</p><div class="ks kt ku kv gt ab cb"><figure class="ob kw om od oe of og paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/13b054020ac3a4ea75a8daca2941a8d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*0K-kjHLegciPgFcY5dFADQ.png"/></div></figure><figure class="ob kw on od oe of og paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/d3a3ef301822d5bd9ea0abbf580ede73.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*Yqp1Hf9rFIUejbUvKS1Tjg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk oo di op ok translated">下落前与下落后</p></figure></div></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="3b11" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">获取类别计数</h1><p id="db81" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">当我们需要查找任何列中的类别数时，这个操作非常有用。这个操作在绘制数据的条形图时也很有用。</p><p id="7fd0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">假设我们必须在销售数据集中找到每个地区的观察次数。我们可以使用下面的代码。</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="24d7" class="nr mn it nm b gy ns nt l nu nv">sales.Region.value_counts()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/2237ab85b5ce5b126a50cdb5c50a3d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*3dAih82MuujOA6E7SWazUg.png"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">每个区域的观察次数</p></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="8711" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">结论</h1><p id="3b2d" class="pw-post-body-paragraph li lj it lk b ll ne kd ln lo nf kg lq lr ng lt lu lv nh lx ly lz ni mb mc md im bi translated">好了，这篇文章就到这里。这些是Python中数据分析最常用的操作。</p><p id="6beb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>