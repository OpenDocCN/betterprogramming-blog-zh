<html>
<head>
<title>How to Overwrite AssertionError in Python and Use Custom Exceptions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中覆盖AssertionError并使用自定义异常</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-overwrite-asserterror-in-python-and-use-custom-exceptions-c0b252989977?source=collection_archive---------7-----------------------#2022-10-31">https://betterprogramming.pub/how-to-overwrite-asserterror-in-python-and-use-custom-exceptions-c0b252989977?source=collection_archive---------7-----------------------#2022-10-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="92f2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python的assert语句使用AssertionError。了解如何使用不同的异常</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a5a807af690959085cd52bd5315ebc1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NjvBDACv1hIw11id"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马克·特里亚皮奇尼科夫在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ab7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您是PharmaDharma项目的Python开发人员。您正在使用<code class="fe lv lw lx ly b">pytest</code>为代码编写单元测试。<code class="fe lv lw lx ly b">pytest</code>是一个丰富的测试框架，但归根结底，大部分都要使用<code class="fe lv lw lx ly b">assert</code>，这是一个Python内置语句，使您能够检查条件是否有效。</p><p id="db46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您使用<code class="fe lv lw lx ly b">assert</code>语句进行测试时，您被迫使用<code class="fe lv lw lx ly b">AssertionError</code>。除了断言失败之外，它不携带任何其他信息。您可能想知道为什么您被迫使用它，即使您可能希望使用<code class="fe lv lw lx ly b">ValueError</code>或<code class="fe lv lw lx ly b">TypeError</code>——或者<a class="ae ky" href="https://towardsdatascience.com/should-we-use-custom-exceptions-in-python-b4b4bca474ac" rel="noopener" target="_blank">一个定制的异常，就此而言</a>。这些错误难道不比<code class="fe lv lw lx ly b">AssertionError</code>更能说明问题吗？</p><p id="e6ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，您可以使用带有<code class="fe lv lw lx ly b">AssertionError</code>的消息，但是一个定制的异常可能非常有用，即使没有消息。你想，为什么我一定要用<code class="fe lv lw lx ly b">AssertionError</code>？今天，我想用点别的！为什么我不能对每个模块使用不同的错误？或者甚至是每个类和函数？</p><p id="b783" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将向您展示让<code class="fe lv lw lx ly b">assert</code>语句引发不同的异常而不是<code class="fe lv lw lx ly b">AssertionError</code>有多简单。我想你可能会对这个戏法的简单感到惊讶。</p><p id="920e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一节将展示一个简单的例子，说明<code class="fe lv lw lx ly b">assert</code>如何在<code class="fe lv lw lx ly b">pytest</code>中工作。如果<code class="fe lv lw lx ly b">pytest</code>和<code class="fe lv lw lx ly b">assert</code>对您来说并不陌生，您可以直接跳到“如何使用自定义异常”一节。</p><h1 id="c224" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">pytest和assert</h1><p id="2c25" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">当你决定使用<code class="fe lv lw lx ly b">pytest</code>时，通常你会最终使用<code class="fe lv lw lx ly b">assert</code>语句作为测试的主要工具。假设我们的PharmaDharma由三个模块组成:</p><ul class=""><li id="7605" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nb nc nd ne bi translated">【PharmaDharma数据读取模块</li><li id="d5f2" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated"><code class="fe lv lw lx ly b">analyzer.py</code>:数据分析模块</li><li id="b776" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated"><code class="fe lv lw lx ly b">interpret.py</code>:用于解释和可视化数据的模块</li></ul><p id="32a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似地，我们将在三个相应的测试模块中收集单元测试:</p><ul class=""><li id="54fb" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nb nc nd ne bi translated"><code class="fe lv lw lx ly b">test_reader.py</code></li><li id="5ec0" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated"><code class="fe lv lw lx ly b">test_analyzer.py</code></li><li id="09e7" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated"><code class="fe lv lw lx ly b">test_interpret.py</code></li></ul><p id="d27a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个都将收集在相应模块中收集的所有函数和类的测试。为了简单起见，我们将使我们的模块过于简单，每个模块都由一个函数组成，或者说是它们的一些过于简化的<a class="ae ky" href="https://en.wikipedia.org/wiki/Mock_object" rel="noopener ugc nofollow" target="_blank">模仿</a>。例如:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="7888" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们将编写相应的测试文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="a063" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些都是过于简单的测试，没有什么意义。我没有使用过conftest文件或者参数化测试，只是简单的断言。</p><p id="6c94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">三项测试全部通过:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/9a8afdfd2aa1db59b8a58a056de687a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I0bM_5u0JY4Vd2Olaz2qyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们的<em class="nn"> PharmaDharma应用程序的pytest输出，编辑后删除了路径。来源:图片由作者提供。</em></p></figure><p id="3c2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这是您第一次使用<code class="fe lv lw lx ly b">pytest</code>，并且您想要运行这个例子，那么本文末尾的附录展示了如何组织项目和运行测试。</p><p id="9cc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看测试失败时的输出是什么样的。为此，我们来改变一下<code class="fe lv lw lx ly b">test_read</code>测试:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="a8f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您将看到以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/1fc228f1db43c5e5b3fb111209f73fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AfIBAJ6W_iBedaMoMpePIg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们的PharmaDharma应用程序的pytest输出，编辑后删除了路径。有一项测试没有通过。来源:图片由作者提供。</p></figure><p id="74fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在把注意力集中在失败上。我们看到模块<code class="fe lv lw lx ly b">reader</code>的测试失败了，因为<code class="fe lv lw lx ly b">test_read()</code>失败了(正如我们预料的那样)。失败是因为10不是11。因此我们看到红色的<code class="fe lv lw lx ly b">E assert 10 == 11</code>，其中<code class="fe lv lw lx ly b">E</code>代表错误。然后我们看到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/93c6d1050c381eafe2cd5439ea42a382.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*S8nRfkyP-pu5zMM2e-h5Pw.png"/></div></figure><p id="4846" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，这是第5行的<code class="fe lv lw lx ly b">test_reader.py</code>文件，<code class="fe lv lw lx ly b">AssertionErorr</code>被提出。</p><p id="5cb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们再介绍一个错误，这次是关于<code class="fe lv lw lx ly b">test_analyzer.py</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="3503" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行测试后，我们看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/e2093b9754570c8e7dcd2d22393f0f37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*Wx53VeTXQhDAQ6lbPNVD-w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们的PharmaDharma应用程序的pytest输出，编辑后删除了路径。两次测试都没有通过。来源:图片由作者提供。</p></figure><p id="beb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经说到点子上了:两个测试都通过了，因为完全相同的<code class="fe lv lw lx ly b">AssertionError</code>，它并没有告诉我们太多，不是吗？</p><h1 id="6f5d" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">如何使用自定义异常来代替？</h1><p id="58f1" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">要使用一个定制的异常来代替<code class="fe lv lw lx ly b">AssertionError</code>，你可以使用一个如下所示的小技巧。在<code class="fe lv lw lx ly b">test_reader.py</code>中，在导入后添加以下行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="9c4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此后，您将看到以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/bee0202dd501ae9315a53d6cf95a6764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*qlc_6LK3bYbmEfNn7Nt_Fg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们的PharmaDharma应用程序的pytest输出，编辑后删除了路径。两个测试都没有通过，但是这一次test_reader.py的测试没有抛出AssertionError而是ReadingError。来源:图片由作者提供。</p></figure><p id="5f1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我想给你看的魔术。归结起来就是这句话:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="c4aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是如何使用这一技巧的例子:</p><ul class=""><li id="b42e" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nb nc nd ne bi translated">用项目的通用自定义异常覆盖<code class="fe lv lw lx ly b">AssertionError</code>，如<code class="fe lv lw lx ly b">PharmaDharmaError</code></li><li id="718a" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">在每个模块中独立地重写<code class="fe lv lw lx ly b">AssertionError</code>，就像我们为<code class="fe lv lw lx ly b">test_reader.py</code>所做的那样；同样，我们可以在<code class="fe lv lw lx ly b">test_analyzer.py</code>中用<code class="fe lv lw lx ly b">AnalyzingError</code>覆盖<code class="fe lv lw lx ly b">AssertionError</code></li><li id="52ba" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">为每个函数/类覆盖<code class="fe lv lw lx ly b">AssertionError</code>；这将需要创建特定于函数或类的错误，并在专用的测试模块或内部测试函数中覆盖它们。</li><li id="6017" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">用内置的异常来覆盖<code class="fe lv lw lx ly b">AssertionError</code>,这些异常更多地说明了特定测试中发生了什么；如上所述，这意味着在每个测试函数中覆盖<code class="fe lv lw lx ly b">AssertionError</code>。</li></ul><p id="125f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您在代码中使用<code class="fe lv lw lx ly b">assert</code>语句时，您也可以使用这个技巧——除非出于开发目的，否则您很少会这样做。我认为这是一种特定的情况，在这种情况下，内置或自定义错误比<code class="fe lv lw lx ly b">AssertionError</code>更能提供信息。</p><p id="c45f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在生产代码中，如果您想要运行断言，您可能希望使用不同的工具——原因很简单，在生产代码中不应该使用<code class="fe lv lw lx ly b">assert</code>。这是因为代码中所有的<code class="fe lv lw lx ly b">assert</code>实例都可以用一个<code class="fe lv lw lx ly b">-O</code>标志关闭，就像这个调用:<code class="fe lv lw lx ly b">python -O my_app.py</code>。</p><p id="7b22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个标志将关闭所有断言(例如，你将在这里读到更多的<a class="ae ky" href="https://towardsdatascience.com/should-we-use-custom-exceptions-in-python-b4b4bca474ac" rel="noopener" target="_blank"/>)。在这种情况下，您可能希望使用专门用于这种情况的<a class="ae ky" href="https://github.com/nyggus/easycheck/" rel="noopener ugc nofollow" target="_blank"/><code class="fe lv lw lx ly b"><a class="ae ky" href="https://github.com/nyggus/easycheck/" rel="noopener ugc nofollow" target="_blank">easycheck</a></code><a class="ae ky" href="https://github.com/nyggus/easycheck/" rel="noopener ugc nofollow" target="_blank">Python包</a>。你可以在这篇关于比较浮点数的文章中找到使用这个包的例子。</p><h1 id="5c44" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">结论</h1><p id="bb9e" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">我给你展示了一个覆盖<code class="fe lv lw lx ly b">AssertionError</code>的小技巧。当断言失败时，如果您希望错误消息更有意义，它可以帮助您。正如我在上面展示的，您可以在各种场景中这样做，有些场景没有其他场景复杂。</p><p id="5b5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管如此，你应该三思而后行使用这种伎俩。只有当你知道自己在做什么，并且有目的时，才使用它。虽然我不相信它能破坏任何东西，但使用它会改变Python的典型行为，这至少会导致混乱。当你知道自己在做什么时，这种改变的行为不会让你感到惊讶，但你的同事可能会感到惊讶——有些是积极的，有些是消极的。</p></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="4e3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。总而言之，我写这篇文章并不是为了说服你用其他内置异常或自定义异常来覆盖<code class="fe lv lw lx ly b">AssertionError</code>。但是我认为这一招的知识可以帮助你发展你的Python编程技能。几年来，我不知道这样的事情是可能的。我当然知道覆盖是Python中一个强大的工具，但不知何故，我没有想到我可以覆盖内置的异常，或者为什么我应该这样做。</p><p id="8ca3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我知道了如何去做和它是如何工作的，我觉得我知道了Python的另一个复杂之处，因此我更好地了解了这门语言。如果你觉得这个技巧很有趣，最重要的是，如果你已经在你的项目中成功地使用了它，请在评论中告诉我。</p><h1 id="4160" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">附录:PharmaDharma项目组织机构</h1><p id="3023" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">在本文中，我使用了一个非常简化的Python项目结构，这是我自己的项目中没有使用的结构。这是因为我想避免<code class="fe lv lw lx ly b">pytest</code>出现任何问题。这是因为<code class="fe lv lw lx ly b">pytest</code>有时会抛出难以在另一台机器上复制的错误。我在这里使用的组织非常简单，我不认为任何人会在使用<code class="fe lv lw lx ly b">pytest</code>运行测试时遇到问题，除非是由于不正确的虚拟环境。</p><p id="88da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的项目中，我几乎总是打包代码。我很快会写一篇关于这个的文章。为了简化事情，可以使用<a class="ae ky" href="https://github.com/nyggus/makepackage/" rel="noopener ugc nofollow" target="_blank"/><code class="fe lv lw lx ly b"><a class="ae ky" href="https://github.com/nyggus/makepackage/" rel="noopener ugc nofollow" target="_blank">makepackage</a></code><a class="ae ky" href="https://github.com/nyggus/makepackage/" rel="noopener ugc nofollow" target="_blank">Python包</a>，这样事情就简单了。你可以使用shell命令<code class="fe lv lw lx ly b">pip install makepackage</code>从<a class="ae ky" href="https://pypi.org/project/makepackage/" rel="noopener ugc nofollow" target="_blank"> PyPI </a>安装它。</p><p id="c124" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转到机器中您想要创建项目的特定位置。创建一个<code class="fe lv lw lx ly b">PharmaDharma</code>文件夹:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="0114" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在您已经在里面了，创建一个Python虚拟环境。然后激活并安装<code class="fe lv lw lx ly b">pytest</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="499f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">shell提示符前的<code class="fe lv lw lx ly b">(venv-ph-dh)</code>(这里是<code class="fe lv lw lx ly b">&gt;</code>)表示你正在<code class="fe lv lw lx ly b">venv-ph-dh</code>虚拟环境中工作。如果您没有看到它，请检查发生了什么。还有一个小概率是，您的机器有一个格式奇怪的定制提示，不显示虚拟环境(如果您计划使用Python，您应该更改这种格式)。这些主题远远超出了本文的范围，所以我不得不离开你。</p><p id="da94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个源文件夹，我们将在其中保存我们的代码和测试文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="870e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，将所有文件保存在这个<code class="fe lv lw lx ly b">src</code>文件夹中。要运行测试，在项目的根文件夹中使用下面的简单命令，在我们的例子中是<code class="fe lv lw lx ly b">src</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="9915" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">仅此而已。</p><p id="baae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:通常情况下，我们应该将测试保存在一个专用的<code class="fe lv lw lx ly b">tests</code>文件夹中，这样我们就可以对你的项目进行如下组织:</p><pre class="kj kk kl km gt nz ly oa ob aw oc bi"><span id="4adc" class="od ma it ly b gy oe of l og oh">PharmaDharma<br/>+-- venv-ph-dh<br/>+-- pharma_dharma<br/>|  +-- src<br/>|  +-- tests</span></pre><p id="a910" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个文件夹组织中，<code class="fe lv lw lx ly b">pharma_dharma</code>是项目的根文件夹，而不是<code class="fe lv lw lx ly b">PharmaDharma</code>。您不应该将虚拟环境保存在您的根目录中。</p><p id="09c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，如果你想了解更多，你可以阅读<a class="ae ky" href="https://github.com/nyggus/makepackage/" rel="noopener ugc nofollow" target="_blank"/><code class="fe lv lw lx ly b"><a class="ae ky" href="https://github.com/nyggus/makepackage/" rel="noopener ugc nofollow" target="_blank">makepackage</a></code>的文档，或者一篇我发表后会链接到这里的文章。</p><h1 id="6811" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">资源</h1><p id="448c" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated"><a class="ae ky" href="https://towardsdatascience.com/should-we-use-custom-exceptions-in-python-b4b4bca474ac" rel="noopener" target="_blank">我们应该在Python中使用自定义异常吗？</a></p><p id="aff3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/nyggus/makepackage/" rel="noopener ugc nofollow" target="_blank"> GitHub — nyggus/makepackage:用于轻松打包Python代码的包</a></p><p id="5562" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://pypi.org/project/makepackage/" rel="noopener ugc nofollow" target="_blank">制作包</a></p><p id="b532" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/nyggus/easycheck/" rel="noopener ugc nofollow" target="_blank"> GitHub — nyggus/easycheck </a></p><p id="48e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://towardsdatascience.com/comparing-floating-point-numbers-with-easycheck-dcbae480f75f" rel="noopener" target="_blank">用easycheck比较浮点数</a></p><p id="086e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Mock_object" rel="noopener ugc nofollow" target="_blank">模拟对象—维基百科</a></p></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><div class="kj kk kl km gt oi"><a href="https://medium.com/@nyggus/membership" rel="noopener follow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">加入我的介绍链接媒体-马尔钦科萨克</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">阅读马尔钦·科萨克(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">medium.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow ks oi"/></div></div></a></div></div></div>    
</body>
</html>