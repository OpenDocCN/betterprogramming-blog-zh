<html>
<head>
<title>Build Complex Stacked Layouts With the Safe Area</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用安全区域构建复杂的堆叠布局</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-complex-stacked-layouts-with-the-safe-area-fd2cef780d75?source=collection_archive---------9-----------------------#2020-08-27">https://betterprogramming.pub/build-complex-stacked-layouts-with-the-safe-area-fd2cef780d75?source=collection_archive---------9-----------------------#2020-08-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="da36" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让您的设计在任何设备上看起来都很棒</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/52facef6c90f133e14ece7c51375de54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5TtVC9raeYQ0un7NHB2Vgg.gif"/></div></div></figure><p id="5166" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">自从苹果发布iPhone X以来，使用安全区域一直是开发者的必做之事。你不希望你的作品藏在凹槽下面，或者夹在状态栏下面，或者圆角下面，等等。</p><p id="03dd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">iPhone X和安全区的推出是在2017年，所以我认为可以肯定地说每个iOS开发者都知道如何使用它——如果不知道，这里有<a class="ae lq" href="https://developer.apple.com/documentation/uikit/uiview/positioning_content_relative_to_the_safe_area" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="fc3d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但有时你需要潜得更深。您可能希望安全区域出现在某些视图中，而不出现在其他视图中——可能是状态栏下方的一个模糊区域，其高度足以包含一个按钮。谢天谢地，你用安全区建造的任何东西真的很容易！</p><p id="8e91" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这篇文章中，我将回顾其中的一些设计以及如何构建它们。所有的事情都将在故事板中完成，没有一行代码…所以坐下来，放松，享受吧！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="d5ea" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">延伸到顶部的自定义页眉</h1><p id="227a" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">让我们从一个普通的<code class="fe mv mw mx my b">UIView</code>开始——从现在开始我就叫它<code class="fe mv mw mx my b">View</code>。将它的背景颜色改为白色以外的颜色，这样更容易看到。我们将把<code class="fe mv mw mx my b">top</code>、<code class="fe mv mw mx my b">leading</code>和<code class="fe mv mw mx my b">trailing</code>限制在“安全区域”内。现在，也将<code class="fe mv mw mx my b">height</code>约束到<code class="fe mv mw mx my b">100</code>。</p><div class="kj kk kl km gt ab cb"><figure class="mz kn na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/a4ee7fbd247a0ed3ac40c9c7755bc1c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*hakLioS-_z0eomxbjPb2GA.png"/></div></figure><figure class="mz kn nf nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/408e34bf42861e5f9e901f3c94052d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*-pm5TDOgIevsBzWrDqkUhg.png"/></div></figure></div><p id="a94f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我们在<code class="fe mv mw mx my b">View</code>里面加一个<code class="fe mv mw mx my b">UILabel</code>。将<code class="fe mv mw mx my b">top</code>、<code class="fe mv mw mx my b">leading</code>和<code class="fe mv mw mx my b">bottom</code>约束到<code class="fe mv mw mx my b">View</code>，偏移量为<code class="fe mv mw mx my b">16</code>。</p><div class="kj kk kl km gt ab cb"><figure class="mz kn ng nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/f48343a257cdca47f2794b9200f466a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*LXPe2vXI4aTgPofh0Ssjww.png"/></div></figure><figure class="mz kn nh nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/4b3dfcfe3c9b33db8ff7c0038305fae7.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*73O4JwfyLCwGHGO4IcZsvw.png"/></div></figure></div><p id="655e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有一种叫做<a class="ae lq" href="https://www.hackingwithswift.com/example-code/uikit/what-is-a-views-intrinsic-content-size#:~:text=For%20example%2C%20the%20intrinsic%20content,height%20without%20us%20forcing%20one." rel="noopener ugc nofollow" target="_blank">内在内容大小</a>的东西，基本上就是它们理想的宽度和高度。目前，只有<code class="fe mv mw mx my b">Label</code>的固有宽度是活动的——因为顶部和底部被约束到<code class="fe mv mw mx my b">View</code>，固有高度被覆盖。</p><p id="3cd0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们启用固有高度！只需删除<code class="fe mv mw mx my b">View</code>对<code class="fe mv mw mx my b">100</code>的高度约束。现在<code class="fe mv mw mx my b">Label</code>可以自由选择它的理想尺寸，而<code class="fe mv mw mx my b">View</code>将会收缩以适应。</p><div class="kj kk kl km gt ab cb"><figure class="mz kn ni nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/50f860c59dc81aa8779d5a4b13a23468.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*jeGIj08D0qB1rb49jvQx_w.png"/></div></figure><figure class="mz kn nj nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/ab33dcb07368224aeda02975fe0bd710.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*XBzBJBqyclegO7JPv7-K7w.png"/></div><p class="nk nl gj gh gi nm nn bd b be z dk no di np nq translated">左:之前。右:后。</p></figure></div><p id="ef2e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好的，看起来不错……但是如果你建造并运行，绿色<code class="fe mv mw mx my b">View</code>上方的空白区域会变得非常明显。这是因为我们将<code class="fe mv mw mx my b">View</code>的顶部限制在了安全区域，而安全区域正好在缺口下方停止。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/5380cbacb9b6e96355f298c24d44c22f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OBbJGC1FSfQzw9Iv2hQoJg.png"/></div></div></figure><p id="8103" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">把绿色延伸到屏幕顶部不是很好吗？大概是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/ad9f49293bb368b65fe9460cd098e7c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uACEr52hsMWVLENW1NOg-A.png"/></div></div></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><p id="a46b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个快速的解决方法是将标题的顶部限制在<code class="fe mv mw mx my b">Superview</code>而不是安全区域。这是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/8408c06476ef5237a3969ae2cb6dc5a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I9DEavW8lxTG2TJfv7lxwA.png"/></div></div></figure><p id="d26c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是后来标签被盖住了！嗯，我们可以通过将<code class="fe mv mw mx my b">Label</code>的<code class="fe mv mw mx my b">top</code>约束从<code class="fe mv mw mx my b">16</code>改为类似于<code class="fe mv mw mx my b">40</code>的东西来解决这个问题:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/55eda2710d89a5dac12b7b8625e844f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1uirmk-tmPOLSmY8WLS6rQ.png"/></div></div></figure><p id="fc09" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好吧，看起来不错——但是在没有凹槽的手机上运行看起来怎么样？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/386a206a1ad9263e252fd1f240988ed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Y7HEvDCJb3M_YTqqy-OgQ.png"/></div></div></figure><p id="43cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">嗯，还不错…但是，你不应该使用硬编码的值。假设我们横向旋转，这里没有状态栏:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/d44764d37a105254b94a693c1507f727.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mig-u4qJgAItiHSjYqVFdA.png"/></div></div></figure><p id="f70e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">那是对空间的巨大浪费！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="81dd" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">安全区域布局指南</h1><p id="64ca" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">那么我们如何将绿色的<code class="fe mv mw mx my b">View</code>约束到<code class="fe mv mw mx my b">Superview</code>(这样它就可以在凹槽和状态栏下面)但仍然将<code class="fe mv mw mx my b">Label</code>约束到安全区域呢？答案就在一个名为“安全区域布局指南”的属性中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/d7459c6542c212a5b25097b3ea7fd02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tWcPieitLb3R2eRz6g41fQ.png"/></div></div></figure><p id="aa4f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">默认情况下，这是未选中的。那么检查的时候会发生什么呢？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/190b910316b4a5da9b18586214e780a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AAI2Uve-6f0IyaTtYOHMwg.png"/></div></div><p class="nk nl gj gh gi nm nn bd b be z dk translated">一个安全区域出现了！</p></figure><p id="e38b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">哇——我们现在在绿色的<code class="fe mv mw mx my b">View</code>里面有一个安全区域<em class="nt">！</em></p><p id="e346" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">安全区域布局指南为每个视图启用/禁用安全区域。这就是为什么当你第一次创建项目时有一个安全区域——默认情况下，基础<code class="fe mv mw mx my b">UIView</code>选中了“安全区域布局指南”。</p><p id="2dc4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在让我们比较一下原始的默认安全区域和新的安全区域:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/d1cc4111c5fb22b5605717eafd9ffb32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pnApzu7amm09hiHAST6OTQ.png"/></div></div></figure><p id="b77f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">显然，原来的那个要大得多——但是如果我告诉你它们是一样的，你会相信吗？</p><p id="4903" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">原来的安全区域属于每个<code class="fe mv mw mx my b">UIViewController</code>自带的底座<code class="fe mv mw mx my b">UIView</code>。新的、更小的安全区域属于我们添加的绿色<code class="fe mv mw mx my b">View</code>。然而，它们只是同一个安全区的一些片段。这就像一个维恩图——只要安全区域和视图重叠，重叠的部分就是切片。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/74c54617309ab0f0836e15f6115241a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zhTAQ_-CcP_Y1s67Q_oGsA.png"/></div></div></figure><p id="45db" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">根据视图与安全区域重叠的位置，切片可能会更大或更小，但安全区域将始终相同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/87e7b4a07c7f594ba228b059756a0f0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aV0aB-1eKcse1FwSKUkRvg.png"/></div></div></figure><p id="6fbc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们已经有了安全区域布局指南，我们可以适当地约束我们的标题！还记得<code class="fe mv mw mx my b">Label</code>的硬编码<code class="fe mv mw mx my b">top</code>约束吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/55eda2710d89a5dac12b7b8625e844f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1uirmk-tmPOLSmY8WLS6rQ.png"/></div></div></figure><p id="a590" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">既然我们已经为绿色<code class="fe mv mw mx my b">View</code>启用了安全区域，我们可以将<code class="fe mv mw mx my b">Label</code>的<code class="fe mv mw mx my b">top</code>约束固定到安全区域！要编辑约束，首先双击它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/3bbbf25e16ddd07fb76976fe9278eef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rVU6HP5mMt-LEw85A6Kv8w.png"/></div></div></figure><p id="0b14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，选择“第二项”下的“安全区域”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/702b9456bafb4df72b774c2508f4fd46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xpHp3NNUErrSbivJVNAxLA.png"/></div></div></figure><p id="f4e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，将“常量”从<code class="fe mv mw mx my b">-4</code>改为具有更多填充的值，比如<code class="fe mv mw mx my b">16</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/84c3cae16bcea9afe12ffacfa98c1d55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4suPEp1WboSNsVsBQpa-zg.png"/></div></div></figure><p id="a4db" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">太好了！现在，构建并运行—它可以在任何方向和设备上完美运行。</p><div class="kj kk kl km gt ab cb"><figure class="mz kn nx nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/e573dc6db3e741bd7fc52b80978f43c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*1ZjKTpzo__mRbcYEw6gpMg.png"/></div></figure><figure class="mz kn ny nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/38033733433cd904474ff4464bb5cb69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1514/format:webp/1*8Z7O_xzqI0WuFmH956pRHw.png"/></div></figure></div><div class="ab cb"><figure class="mz kn nz nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/b5933d9aa4361c17c23c31373dd745ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1498/format:webp/1*5q6CV_-neNe5IzTXqiaqwA.png"/></div></figure><figure class="mz kn oa nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/7f46d54550c3ca7d2dbd1a7674932828.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*yeB5rw9pGKz6qbaOD_ouPQ.png"/></div></figure></div><p id="0014" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还有一件事:注意到在iPhone X上，绿色标题的两侧有一个缺口吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/2b277d7141b59b11edf42f70b76e3ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Z7O_xzqI0WuFmH956pRHw.png"/></div></div></figure><p id="d25f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是因为绿色<code class="fe mv mw mx my b">View</code>的电流限制是:</p><ul class=""><li id="5f7b" class="oc od it kw b kx ky la lb ld oe lh of ll og lp oh oi oj ok bi translated"><code class="fe mv mw mx my b">Top</code>至<code class="fe mv mw mx my b">Superview</code></li><li id="6e0e" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><code class="fe mv mw mx my b">Leading</code>到安全区域</li><li id="f426" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><code class="fe mv mw mx my b">Trailing</code>到达安全区域</li></ul><p id="6b69" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们希望左侧和右侧延伸到安全区域并进入设备的边缘，我们只需将<code class="fe mv mw mx my b">leading</code>和<code class="fe mv mw mx my b">trailing</code>设置为<code class="fe mv mw mx my b">Superview</code>即可！</p><div class="kj kk kl km gt ab cb"><figure class="mz kn oq nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/81a29dbbd65a3e392bed735abf3431d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*KNKEBTdy9d34btRUbl2Oag.png"/></div></figure><figure class="mz kn oq nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/84d6f8a290bff6117f3739e940363b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*HbbtYn6CIzEQ-i_GTR37Ww.png"/></div></figure></div><p id="a226" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因为安全区域总是相同的，将绿色<code class="fe mv mw mx my b">View</code>的<code class="fe mv mw mx my b">leading</code>和<code class="fe mv mw mx my b">trailing</code>更改为<code class="fe mv mw mx my b">Superview</code>根本不会影响<code class="fe mv mw mx my b">Label</code>的约束！让我证明一下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/e16db7c26fea473c6563245a01c0e434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aFa1wlLmGAQrqFOv0MjBTA.png"/></div></div></figure><p id="5fb8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">等等，哎呀…绿色的<code class="fe mv mw mx my b">View</code>现在延伸到两侧，但是<code class="fe mv mw mx my b">Label</code>也跟着延伸。那是因为我们忘记更新<code class="fe mv mw mx my b">Label</code>的<code class="fe mv mw mx my b">leading</code>约束:目前，它仍然被约束到<code class="fe mv mw mx my b">Superview</code>。我们希望那里成为安全区。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/63f01d1378d722a4b0a9a1c019c37714.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nZUVRWjBv3RXJot8Qk6bQA.png"/></div></div></figure><p id="3ddd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">到目前为止，您可能已经是改变约束的专家了！连按，选择“第二项”，并将其更改为“安全区域”结果如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/2c22df5e9ba4c67174b66e0f3da2f150.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xYYT3BJqHgINQI1wJ9CwKw.png"/></div></div></figure><p id="93dd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">厉害！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="9395" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">无尽的设计可能性</h1><p id="b1f9" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">从现在开始，一帆风顺。因为我们已经了解并知道如何激活安全区域布局指南，所以设计的可能性是无穷无尽的！以下是一些例子:</p><h2 id="e4cb" class="or lz it bd ma os ot dn me ou ov dp mi ld ow ox mk lh oy oz mm ll pa pb mo pc bi translated">自定义标签栏</h2><div class="kj kk kl km gt ab cb"><figure class="mz kn nx nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/4f82665ae00394d3d97741d0626d5d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*P6-muY5HwGn_UAR5wkmHNg.png"/></div></figure><figure class="mz kn ny nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/05b64a0375a76ce2a1fe4145b3f8d983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1514/format:webp/1*LMQFdDNVUfosA7_EB8eWmA.png"/></div></figure></div><h2 id="ef14" class="or lz it bd ma os ot dn me ou ov dp mi ld ow ox mk lh oy oz mm ll pa pb mo pc bi translated">自定义导航栏</h2><div class="kj kk kl km gt ab cb"><figure class="mz kn nx nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/ee6e8d5d4fb418982e75698c5a2b1272.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*3gTK_zUW0X2Plux8GoL7jg.png"/></div></figure><figure class="mz kn ny nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/30bc8f4685b63d7fdc99a89443d8b41b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1514/format:webp/1*k1W6YpQWDBhy_BWDx6wbkQ.png"/></div></figure></div><h1 id="e894" class="ly lz it bd ma mb pd md me mf pe mh mi jz pf ka mk kc pg kd mm kf ph kg mo mp bi translated">自定义相机应用程序</h1><div class="kj kk kl km gt ab cb"><figure class="mz kn nx nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/503b751e3a174db1cb1a6e6077027315.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*z_rJ69bWZX63Ei0ABAQrZA.png"/></div></figure><figure class="mz kn ny nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/952fae83646c09eaa35c223b42d164ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1514/format:webp/1*P93tOknO_pyDNkPkn77oyQ.png"/></div></figure></div><p id="6efa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你能想到什么就造什么！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="97bf" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">在你走之前，我要提醒你一下…</h1><p id="d3d4" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">每当你制作一个将启用“安全区域布局指南”的<code class="fe mv mw mx my b">UIView</code>时，它<strong class="kw iu">需要被约束在所有4个边上</strong>。这意味着钉住<code class="fe mv mw mx my b">leading</code>、<code class="fe mv mw mx my b">trailing</code>、<code class="fe mv mw mx my b">top</code>和<code class="fe mv mw mx my b">bottom</code>——或者，用它们中的一个来代替<code class="fe mv mw mx my b">width</code>或<code class="fe mv mw mx my b">height</code>约束。</p><ul class=""><li id="2dbb" class="oc od it kw b kx ky la lb ld oe lh of ll og lp oh oi oj ok bi translated">这样就可以了:<code class="fe mv mw mx my b">leading = 0</code>、<code class="fe mv mw mx my b">trailing = 0</code>、<code class="fe mv mw mx my b">top = 0</code>、<code class="fe mv mw mx my b">bottom = 0</code></li><li id="d13b" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated">这将起作用:<code class="fe mv mw mx my b">leading = 0</code>、<code class="fe mv mw mx my b">trailing = 0</code>、<code class="fe mv mw mx my b">top = 0</code>、<code class="fe mv mw mx my b">height = 100</code></li><li id="ad15" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated">这个不行:<code class="fe mv mw mx my b">leading = 0</code>、<code class="fe mv mw mx my b">trailing = 0</code>、<code class="fe mv mw mx my b">top = 0</code></li></ul><p id="0ca7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您必须在添加任何子视图之前完成此操作<strong class="kw iu">。还记得在添加<code class="fe mv mw mx my b">UILabel</code>之前，将<code class="fe mv mw mx my b">leading = 0</code>、<code class="fe mv mw mx my b">trailing = 0</code>、<code class="fe mv mw mx my b">top = 0</code>和<code class="fe mv mw mx my b">height = 100</code>约束到绿色<code class="fe mv mw mx my b">View</code>吗？这是为了满足Xcode——没有<code class="fe mv mw mx my b">height</code> , <code class="fe mv mw mx my b">View</code>的安全区不能正确激活……没有安全区，<code class="fe mv mw mx my b">Label</code>的固有内容大小就没用了。</strong></p><p id="a1c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果视图没有被完全约束，就会出现这种情况:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pi pj l"/></div></figure><p id="58a1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">呀！但是在添加了<code class="fe mv mw mx my b">height</code>约束(正确激活安全区域)之后，您可以安全地添加子视图并使用它们固有的内容大小。就像我们在本文开头所做的，您可以添加一个<code class="fe mv mw mx my b">UILabel</code>，约束它的<code class="fe mv mw mx my b">top</code>和<code class="fe mv mw mx my b">bottom</code> …然后，您可以安全地移除<code class="fe mv mw mx my b">height</code>约束。</p><p id="4bba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这一次就到此为止。感谢阅读！</p></div></div>    
</body>
</html>