<html>
<head>
<title>A Quick Alexa Skill to Play Any Hosted Videos in Your Echo Show</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个快速的Alexa技能，可以在你的Echo Show中播放任何托管的视频</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-quick-alexa-skill-to-play-any-hosted-videos-in-your-echo-show-3c2b422b9199?source=collection_archive---------17-----------------------#2022-07-07">https://betterprogramming.pub/a-quick-alexa-skill-to-play-any-hosted-videos-in-your-echo-show-3c2b422b9199?source=collection_archive---------17-----------------------#2022-07-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dab6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何播放视频从你的Alexa完整的源代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ab3c37e3e056483a3852d6ac5c37b3b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4JHqqeti4bfkd924oXBzkw.jpeg"/></div></div></figure><h1 id="7372" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">介绍</h1><p id="4c95" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">你有没有想过在你的Alexa Echo Show中播放你托管的视频？</p><p id="f8aa" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">在本教程中，我将指导你如何建立一个Alexa技能来播放亚马逊Echo Show云中托管的视频。</p><p id="293f" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">最棒的是，只需要几行代码就可以做到。我的视频将在AWS S3托管，但它可以托管在任何地方，通过公共网址访问。</p><h1 id="00ec" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">设置</h1><p id="0da3" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">为了让事情变得简单，我将使用Alexa技能工具包命令行界面(ASK CLI)来生成我们的样板技能。您可以使用ASK开发人员控制台或ASK命令行界面(CLI)来创建、管理、测试和发布您的技能。</p><p id="e211" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">如果您还不熟悉ASK-CLI，我鼓励您阅读我以前的一篇文章，这篇文章解释了如何设置和快速运行这个程序。</p><div class="mn mo gp gr mp mq"><a href="https://medium.com/swlh/quickly-build-an-alexa-skill-using-ask-cli-8ab2977bd126" rel="noopener follow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">使用ASK CLI快速建立Alexa技能</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">从命令行创建、管理、测试和发布你的Alexa技能</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne ks mq"/></div></div></a></div><h1 id="7954" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">创造技能</h1><p id="ae8f" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">要创建一个新技能，运行<code class="fe nf ng nh ni b">ask new</code>，它会提示你为你的技能选择一个语言运行时。我将使用Node.js作为首选语言:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/8d8caef7801d837907f0339a63c6c0f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2EM4a1Dzsd1-GehJ.png"/></div></figure><p id="2b9d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">然后选择托管技能后端资源的位置。我将使用AWS Lambda:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/199774bf2175f4604671b447acb8377c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MoA8bMTuYhEFT6Ue.png"/></div></figure><p id="ab9b" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">然后选择你的模板。选择Hello World:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/afefeedaea0bd188cb6d03baeb9b929a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*76E9QGA51XcYHMbI.png"/></div></figure><p id="abbd" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">选择您的技能名称和文件夹名称，或者保留下面的默认选项。我的技能名是<code class="fe nf ng nh ni b">alexa-skill-video</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/353a285ee0531e420f92cd0abc23ffed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*05BW2nPeHVvbK0U9R8OdAw.png"/></div></div></figure><p id="2bdb" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">项目已创建！</p><p id="e469" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在，导航到你的新的<code class="fe nf ng nh ni b">Skill</code>文件夹:<code class="fe nf ng nh ni b">$ cd alexa-skill-video</code></p><p id="2330" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">在您最喜欢的IDE中打开文件夹。我使用的是Visual Studio代码，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/a22891853e1c25a16a40dbe81934e8d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cxUcv049kSyFU7c7iqrPHw.png"/></div></div></figure><pre class="kj kk kl km gt nm ni nn no aw np bi"><span id="78f4" class="nq kv it ni b gy nr ns l nt nu"><em class="nv">- infrastructure:</em>     <br/>    AWS CloudFormation used for deployment. No need for changes in this folder<em class="nv">- lambda:<br/>    </em>All of your lambda source code goes in this folder. <br/>    <em class="nv">index.js</em> / index.handler is the default starting handler.<br/>    This includes installing the skill's dependencies and producing any build artifacts. <br/>    For a skill written for Node.js, this means running npm install to install dependencies declared in package.json and packaging it with the JavaScript source code<em class="nv">- skill-package:<br/>    </em>Reference to Skill Package API to interact with your skill<br/>    <br/>    <em class="nv">- assets:<br/>         </em>Images associated with your Skill to show in the Alexa Store and any other files referenced by your skill<br/>    <br/>    - <em class="nv">interactionModels / custom:<br/>         </em>These define the voice user interface for your skill which includes the invocation name, intents, slots, and so forth. Only custom skills include interaction models, with one model for each <em class="nv">locale</em> that the skill supports. The name of the interaction model is &lt;locale&gt;.json, for example en-US.json. In the <a class="ae nw" href="https://developer.amazon.com/en-US/docs/alexa/smapi/skill-package-api-reference.html#skill-package-format" rel="noopener ugc nofollow" target="_blank">skill package format</a>, the interaction models must be in a folder named custom, which itself must be in a folder named interactionModels.<br/>     <br/>    - <em class="nv">skill.json:<br/>         </em>Skill Manifest Schema - JSON representation of your skill.<br/>         The complete Schema definition is available here:<br/>         <a class="ae nw" href="https://developer.amazon.com/en-US/docs/alexa/smapi/skill-manifest.html" rel="noopener ugc nofollow" target="_blank">https://developer.amazon.com/en-US/docs/alexa/smapi/skill-manifest.html</a> - <em class="nv">ask-resources.json</em><br/>     Configuration details of your skill</span></pre><p id="2174" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我将从交互模型/自定义开始。我的Alexa是English-GB，所以我会复制en-US，并将其重命名为en-GB。确保重命名为您的Alexa语言:</p><ul class=""><li id="c758" class="nx ny it lo b lp mi ls mj lv nz lz oa md ob mh oc od oe of bi translated">选择“invocationName”:“视频应用”</li><li id="d801" class="nx ny it lo b lp og ls oh lv oi lz oj md ok mh oc od oe of bi translated">删除:“HelloWorldIntent”部分</li><li id="7e72" class="nx ny it lo b lp og ls oh lv oi lz oj md ok mh oc od oe of bi translated">添加“播放视频意图”</li></ul><p id="85a3" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这样可以让Alexa理解你什么时候要求播放视频。</p><p id="40cf" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">这是我的<code class="fe nf ng nh ni b">en-GB.json</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="6595" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在打开你的<code class="fe nf ng nh ni b">skill.json:</code></p><ul class=""><li id="ecf0" class="nx ny it lo b lp mi ls mj lv nz lz oa md ob mh oc od oe of bi translated">地区将引用交互模型文件夹中的JSON文件。您可以创建额外的。</li><li id="82db" class="nx ny it lo b lp og ls oh lv oi lz oj md ok mh oc od oe of bi translated">为您的语言创建区域设置部分，并更新摘要、描述和名称。</li><li id="fbb6" class="nx ny it lo b lp og ls oh lv oi lz oj md ok mh oc od oe of bi translated">在API部分添加<code class="fe nf ng nh ni b">VIDEO_APP</code>的接口</li></ul><p id="5ba8" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我的文件<code class="fe nf ng nh ni b">skill.json:</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="fedb" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在是最后一部分。让我们在lambda部分添加代码。</p><p id="99e2" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在打开你的<code class="fe nf ng nh ni b">lambda/index.js</code>文件。</p><p id="96fb" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">编辑<code class="fe nf ng nh ni b">LaunchRequestHandler </code>包括播放视频文件的指令。</p><p id="6c38" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">网址应该是你的视频。我把我的视频文件放在AWS S3桶里。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><h1 id="7f21" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">部署视频技能</h1><p id="8c12" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">要使用您的技能，只需输入:</p><p id="91ba" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><code class="fe nf ng nh ni b">$ ask deploy</code></p><p id="fc0a" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">会自动提问:</p><ul class=""><li id="29de" class="nx ny it lo b lp mi ls mj lv nz lz oa md ob mh oc od oe of bi translated">部署技能元数据:使用<a class="ae nw" href="https://developer.amazon.com/en-US/docs/alexa/smapi/skill-package-api-reference.html" rel="noopener ugc nofollow" target="_blank">技能包API </a>将技能的<code class="fe nf ng nh ni b">skill-package/</code>目录内容打包上传到Alexa Skills。如果这是您第一次部署技能，该命令会在已配置的Amazon开发人员帐户中创建一个新技能。</li><li id="db52" class="nx ny it lo b lp og ls oh lv oi lz oj md ok mh oc od oe of bi translated">构建技能代码:在<code class="fe nf ng nh ni b">lambda/</code>目录下，并打包构建工件以部署到AWS。这包括安装技能的依赖项和生产任何构建工件。对于为Node.js编写的技能，这意味着运行<code class="fe nf ng nh ni b">npm install</code>来安装在<code class="fe nf ng nh ni b">package.json</code>中声明的依赖项，并将其与JavaScript源代码打包在一起。</li><li id="50a8" class="nx ny it lo b lp og ls oh lv oi lz oj md ok mh oc od oe of bi translated">部署技能基础设施:为配置好的AWS Lambda函数构建工件。如果这是第一次部署技能并且没有配置Lambda ARN，该命令将创建一个新的Lambda函数</li><li id="42ac" class="nx ny it lo b lp og ls oh lv oi lz oj md ok mh oc od oe of bi translated">启用技能</li></ul><p id="175c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">过了一会儿，您的技能就部署在AWS中了，可以在开发模式中使用了。尚未公开发布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/0e8fc582fea5596b7797ced30bda410b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*chsxo6aBfAIcL7UGVUFSsw.png"/></div></div></figure><h1 id="8d7a" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">测试第一个技能</h1><p id="dc6e" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">要测试你的技能，只需问你的Alexa:</p><p id="f938" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">用户&gt; Alexa播放视频应用</p><p id="adcd" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">您应该会看到您的视频开始在您的Alexa Echo Show中播放</p><p id="9832" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">你的技能完成了。就这么简单。</p><p id="f622" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">所有源代码都可以在我的<a class="ae nw" href="https://github.com/mlomboglia/alexa-skill-video" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得:</p><div class="mn mo gp gr mp mq"><a href="https://github.com/mlomboglia/alexa-skill-video" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">GitHub-mlomboglia/Alexa-Skill-video:Alexa播放AWS S3视频的技能</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">github.com</p></div></div><div class="mz l"><div class="oo l nb nc nd mz ne ks mq"/></div></div></a></div><p id="986c" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">当部署到AWS时，ASK CLI在<code class="fe nf ng nh ni b">.ask/</code>目录下生成构建工件。为了从Git中排除这些工件，将<code class="fe nf ng nh ni b">.ask/</code>添加到技能项目的<code class="fe nf ng nh ni b">.gitignore</code>中。</p><p id="2900" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">看看我的其他Alexa技能:</p><div class="mn mo gp gr mp mq"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-play-youtube-audio-from-your-alexa-e2d4fb8b5ce9"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">建立一个Alexa技能来播放YouTube视频中的音频</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">建立一个Alexa技能来播放YouTube视频中的音频</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">better编程. pub</p></div></div><div class="mz l"><div class="op l nb nc nd mz ne ks mq"/></div></div></a></div><div class="mn mo gp gr mp mq"><a rel="noopener  ugc nofollow" target="_blank" href="/a-complete-alexa-skill-to-play-multi-track-audio-from-youtube-videos-9518d5219aa"><div class="mr ab fo"><div class="ms ab mt cl cj mu"><h2 class="bd iu gy z fp mv fr fs mw fu fw is bi translated">一个完整的Alexa技能，从YouTube视频播放多轨音频</h2><div class="mx l"><h3 class="bd b gy z fp mv fr fs mw fu fw dk translated">从YouTube到您的Alexa Echo播放、暂停、继续、下一个、上一个和循环播放音频</h3></div><div class="my l"><p class="bd b dl z fp mv fr fs mw fu fw dk translated">better编程. pub</p></div></div><div class="mz l"><div class="oq l nb nc nd mz ne ks mq"/></div></div></a></div><p id="ea17" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">快乐编码。</p></div></div>    
</body>
</html>