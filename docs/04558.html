<html>
<head>
<title>RxSwift: Have a UITextField Set a Value for a UILabel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RxSwift:让UITextField为UILabel设置一个值</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/rxswift-have-a-uitextfield-set-a-value-for-a-uilabel-31b5eb8c8a8d?source=collection_archive---------7-----------------------#2020-04-21">https://betterprogramming.pub/rxswift-have-a-uitextfield-set-a-value-for-a-uilabel-31b5eb8c8a8d?source=collection_archive---------7-----------------------#2020-04-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1bcd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何将文本字段链接到对用户输入做出反应的标签</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/82e4aa0f603245e5f68bb4735a2b2f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uynqnn86rHmJ_bBj-ZXlog.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@atgranberry?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">艾丹·格兰贝里</a>在<a class="ae ky" href="https://unsplash.com/s/photos/type?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="7a67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">RxSwift 是反应式编程的一个例子。您将使用RxSwift和<a class="ae ky" href="https://github.com/ReactiveX/RxSwift/tree/master/RxCocoa" rel="noopener ugc nofollow" target="_blank"> RxCocoa </a>来实现一个<code class="fe lv lw lx ly b">UITextField</code>和一个<code class="fe lv lw lx ly b">UILabel</code>。你将在<code class="fe lv lw lx ly b">UITextField</code>中输入你最喜欢的食物，然后在<code class="fe lv lw lx ly b">UILabel</code>中看到它。</p><p id="4b47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这么简单。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="e546" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">先决条件</h1><p id="be76" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">要跟随本教程，您需要:</p><ul class=""><li id="f45b" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">对Swift的基本熟悉</li><li id="2e75" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu ni nj nk nl bi translated">至少Xcode 11</li><li id="1db9" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu ni nj nk nl bi translated">Pod安装RxSwift和RxCocoa</li></ul></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="41ba" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">导入</h1><p id="1b54" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">永远记住导入必要的库，在本例中是RxSwift和RxCocoa。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="d4b7" class="nv mh it ly b gy nw nx l ny nz">import RxSwift<br/>import RxCocoa</span></pre></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="b280" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">有约束力的</h1><p id="0816" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">通常，在RxSwift中，您会将组件绑定在一起，如下所示:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="53bc" class="nv mh it ly b gy nw nx l ny nz">// 1<br/>foodTextField.rx<br/>// 2<br/>.controlEvent(.editingDidEnd)<br/>// 3<br/>.withLatestFrom(foodTextField.rx.text.orEmpty)<br/>//4<br/>.subscribe(onNext: { text in<br/>    // 5<br/>    self.foodLabel.text = "My favorite food is \(text)"<br/>// 6<br/>}).disposed(by: disposeBag)</span></pre><ol class=""><li id="9d27" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu oa nj nk nl bi translated"><code class="fe lv lw lx ly b">foodTextField</code>其实是<code class="fe lv lw lx ly b">UITextField</code>的一个<code class="fe lv lw lx ly b">@IBOutlet</code>。为了使用RxSwift，你必须在它后面插入<code class="fe lv lw lx ly b">rx</code>。</li><li id="f052" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu oa nj nk nl bi translated">只有在完成编辑后，您才能触发该功能。您可以更改控制事件。</li><li id="a3dc" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu oa nj nk nl bi translated">这是一个运算符，它每次都使用第二个序列中的最新元素将两个可观测序列合并为一个可观测序列。然而，在这种情况下，您可以假设它总是采用最新的值。另一方面，<code class="fe lv lw lx ly b">rx.text.orEmpty</code>基本上解开了可选。</li><li id="c814" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu oa nj nk nl bi translated"><code class="fe lv lw lx ly b">onNext</code>将返回可观察到的序列，基本上就是你在<code class="fe lv lw lx ly b">UITextField</code>上输入的任何东西。</li><li id="1673" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu oa nj nk nl bi translated">这是您将值分配到<code class="fe lv lw lx ly b">UILabel</code>的地方。</li><li id="7f43" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu oa nj nk nl bi translated">这基本上是内存管理，当你使用完内存后，由<code class="fe lv lw lx ly b">deinit</code>为你处理内存。</li></ol></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="695b" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">点燃它</h1><p id="3e1e" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">是时候点亮它了，这样你就能看到RxSwift的魔力了。您可能会得到一个错误，上面写着“使用未解析的标识符<code class="fe lv lw lx ly b">disposeBag</code>”您需要首先声明该变量。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="e052" class="nv mh it ly b gy nw nx l ny nz">let disposeBag = DisposeBag()</span></pre><p id="a531" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将您的函数放在一个名为<code class="fe lv lw lx ly b">setupBinding</code>的新函数中，并将它放在<code class="fe lv lw lx ly b">viewDidLoad</code>中。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="f7f2" class="nv mh it ly b gy nw nx l ny nz">override func viewDidLoad() {<br/>    super.viewDidLoad()<br/>    setupBinding()<br/>}</span></pre><p id="67e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一切就绪后，您就为RxSwift效应做好了准备。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/90bf7a80f4353053ac868da11db1057c.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/0*3hgfBod3kSMH7u0L.gif"/></div></figure></div></div>    
</body>
</html>