<html>
<head>
<title>How to Check Your Globally Installed npm Packages</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何检查全球安装的npm软件包</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-check-your-globally-installed-npm-packages-32a14469b95a?source=collection_archive---------2-----------------------#2020-03-09">https://betterprogramming.pub/how-to-check-your-globally-installed-npm-packages-32a14469b95a?source=collection_archive---------2-----------------------#2020-03-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="002b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">有时候清理我们的机器是有好处的</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6207a72d9a7619b62ed66dbca043a9ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJLQ5QyizNp_nSmoTiNICQ.png"/></div></div></figure><p id="9948" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您是一名经验丰富的节点开发人员，回想一下您刚刚开始使用npm的时候。你是否盲目地跟随教程，在任何时候被告知添加<code class="fe ln lo lp lq b">-g</code>标志？</p><p id="7642" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你知道那面旗到底做了什么吗？你认为你已经在全球范围内安装了多少软件包，它们只是坐在那里，除了占用空间什么也不做？</p><p id="14f6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于阅读这篇文章的新手来说，<code class="fe ln lo lp lq b">-g</code>标志会在全球范围内安装你的包，这意味着它们在任何地方都是可用的。</p><p id="7113" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">虽然这对于您将在许多项目中重复使用的Angular CLI或TypeScript非常有用，但是删除单个项目并不能消除这些包。他们和他们所有的依赖者一起留在一个全球空间中，耐心地等待你再次召唤他们。</p><p id="d80c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我敢肯定，在这个全球空间中，至少有几个包是你可以不用的。让我们看看如何检查包，并删除我们不再需要的包。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="441a" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">检查您的全球包裹</h1><p id="eeec" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">几乎每个npm软件包都有一组依赖项，它依赖这些依赖项才能正常工作。</p><p id="da94" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，当查看您的全局软件包时，有两个选项:查看您在全局空间中的每个软件包，或者仅查看您个人安装的顶层软件包。</p><p id="b084" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">查看这两个选项的命令非常相似，但最终输出会有很大不同。</p><h2 id="fde7" class="mv lz iq bd ma mw mx dn me my mz dp mi la na nb mk le nc nd mm li ne nf mo ng bi translated">查看每个全局包(包括依赖项)</h2><p id="e6c4" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">如果您想查看您全局安装的每个软件包，包括那些只是依赖关系的软件包，请在终端中运行以下命令:</p><pre class="kg kh ki kj gt nh lq ni nj aw nk bi"><span id="1f25" class="mv lz iq lq b gy nl nm l nn no">npm list -g</span></pre><p id="4cb5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这可能需要一点时间来完成，取决于您安装了多少个全局软件包。该命令将为所有全局安装的软件包及其依赖项构建一个树，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/b80f309eb7b92ea05d2643016012a45c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NuG_92iUqdCsvIkMWPEP0A.png"/></div></div><p class="nq nr gj gh gi ns nt bd b be z dk translated">不容易读懂</p></figure><p id="79ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">虽然这对于查看系统上的所有内容和理解整个包结构很有用，但它并不是最用户友好的。</p><p id="846b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有可能一些树结构会很深，并且不容易弄清楚你个人安装了什么。</p><h2 id="e09d" class="mv lz iq bd ma mw mx dn me my mz dp mi la na nb mk le nc nd mm li ne nf mo ng bi translated">仅查看顶层包</h2><p id="7571" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">为了更好地理解您已经安装的顶层包，有一个您可以运行的命令的修改版本。</p><p id="affe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这将产生一个不太密集的树(同样，取决于您实际上有多少个包)，这将更容易阅读。</p><pre class="kg kh ki kj gt nh lq ni nj aw nk bi"><span id="aa0d" class="mv lz iq lq b gy nl nm l nn no">npm list -g --depth 0</span></pre><p id="6516" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">包含<code class="fe ln lo lp lq b">--depth 0</code>标志意味着npm将只在树的顶层列出包。</p><p id="d9d6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行这个命令可能还需要一些时间，但是一旦完成，您应该会看到类似下面的输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/f257f8ce66360dcf50649ffb39f2ef23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pQ3-xWizcOEOjpETzRonnw.png"/></div></div><p class="nq nr gj gh gi ns nt bd b be z dk translated">更容易阅读</p></figure><p id="3e1e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从这里，您将能够以一种更加用户友好的方式看到您在全球范围内安装的npm包。使用这个列表，您可以确定您想要删除哪些包，从而在您的系统上释放一些空间。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="90b2" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">删除全局包</h1><p id="c0b2" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">现在你已经看到了你安装了什么，是时候决定你需要什么和不需要什么了。</p><p id="ebae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从我的全球安装包列表中，你可以看到我已经安装了<code class="fe ln lo lp lq b">moment</code>。这是一个可能应该在单个项目级别使用的包，因为我可能不会在我创建的每个项目中都使用它。让我们摆脱它，并节省一些宝贵的磁盘空间。</p><p id="d237" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">很容易删除全球安装的软件包；只需运行下面的命令(很可能使用<code class="fe ln lo lp lq b">sudo</code>权限)，用您想要删除的包替换<code class="fe ln lo lp lq b">moment</code>:</p><pre class="kg kh ki kj gt nh lq ni nj aw nk bi"><span id="b205" class="mv lz iq lq b gy nl nm l nn no">sudo npm uninstall -g moment</span></pre><p id="4cae" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦执行了这个命令，您将会看到这个包已经被成功地删除了，您可以在本地项目级别安装它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/3c4eea99a322bce622d7221cf85e1a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bWOKzmgtH5bDFZde-Ev4pQ.png"/></div></div><p class="nq nr gj gh gi ns nt bd b be z dk translated">包裹不见了</p></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="132c" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">结论</h1><p id="8be2" class="pw-post-body-paragraph kr ks iq kt b ku mq jr kw kx mr ju kz la ms lc ld le mt lg lh li mu lk ll lm ij bi translated">开始使用任何工具都不容易，总有很多东西要学。对于CLI命令来说尤其如此，因为很难弄清楚标志告诉工具做什么。</p><p id="c6af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一点点的知识可以走很长的路，所以现在你应该知道如何保持你的包有序。您可以跟踪您已经安装的内容，并删除任何不再需要的内容。</p><p id="8411" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这不仅会为你节省大量的磁盘空间，也意味着你的npm生态系统更容易维护。这两个简短的命令会让你在以后免去很多头疼的事情。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="35ec" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">资源</h1><ul class=""><li id="f8f5" class="nw nx iq kt b ku mq kx mr la ny le nz li oa lm ob oc od oe bi translated"><a class="ae of" href="https://docs.npmjs.com/cli-documentation/cli" rel="noopener ugc nofollow" target="_blank"> npm CLI文档</a></li></ul></div></div>    
</body>
</html>