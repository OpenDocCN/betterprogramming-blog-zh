<html>
<head>
<title>Why Redux Is More Relevant Than Ever Today</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么Redux比以往任何时候都更重要</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/why-redux-is-more-relevant-than-ever-today-6654f38df539?source=collection_archive---------2-----------------------#2021-08-31">https://betterprogramming.pub/why-redux-is-more-relevant-than-ever-today-6654f38df539?source=collection_archive---------2-----------------------#2021-08-31</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="4ab6" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">Redux与Context API的渗透思考</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/25ccd9494cabe2070119bfb065d0734d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GAG4mQOmR60q9RzS"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kz" href="https://unsplash.com/@hadijasaidi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">哈迪贾·赛义迪</a>拍摄</p></figure><p id="fcd2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在过去一年左右的时间里，我遇到了一些意见，表明React生态系统建议在他们的项目中弃用Redux，转而使用Context API实现“现代React”。在<a class="ae kz" href="https://reactpodcast.simplecast.com/" rel="noopener ugc nofollow" target="_blank">的React播客</a>中有几集提到了这一点(比如“你把你的Redux迁移到上下文中了吗？”)并且已经有<a class="ae kz" href="https://medium.com/@jasonleehodges/list/redux-haters-f4e857d76bed" rel="noopener">多篇文章发表</a>例证了这一观点。我从训练营的毕业生那里听说，他们的导师匆匆忙忙地完成了他们课程中重复的内容，因为这些内容“太复杂了”，“反正人们也不再使用它们了。”此外，我听说这种情绪蔓延到一个全新的自学成才的开发人员，他在我们公司开始一个新项目:</p><blockquote class="lw"><p id="a9c9" class="lx ly iu bd lz ma mb mc md me mf lv dk translated">“我认为人们有点远离Redux，而倾向于上下文…”匿名自学开发人员</p></blockquote><p id="8dd3" class="pw-post-body-paragraph la lb iu lc b ld mg jv lf lg mh jy li lj mi ll lm ln mj lp lq lr mk lt lu lv in bi translated">我自己甚至提出，也许Thunks，一个用于进行异步动作调用的工具，已经过时了——由于<a class="ae kz" href="https://redux-toolkit.js.org/" rel="noopener ugc nofollow" target="_blank"> Redux Toolkit </a>和我在项目中只使用定制钩子时经历的一些不便，我不再这样认为。老实说，我认为我们都对React的新特性感到兴奋，并认为“这就是未来！”他们很酷，他们赋予了很多有用的东西。但摆脱Redux不在其中。</p><div class="ml mm gq gs mn mo"><a href="https://javascript.plainenglish.io/are-thunks-obsolete-2652681c39af" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fp"><div class="mq ab mr cl cj ms"><h2 class="bd iv gz z fq mt fs ft mu fv fx it bi translated">Thunks过时了吗？</h2><div class="mv l"><h3 class="bd b gz z fq mt fs ft mu fv fx dk translated">为什么React-Redux挂钩可以取代React项目中对Thunks的需求。</h3></div><div class="mw l"><p class="bd b dl z fq mt fs ft mu fv fx dk translated">javascript.plainenglish.io</p></div></div><div class="mx l"><div class="my l mz na nb mx nc kt mo"/></div></div></a></div><p id="b7bd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">也许这种情绪是从少数有争议的标题中产生的，没有经过大量真正深入的分析，但Redux没有死。事实上，我认为它比以往任何时候都更有意义。当然，我并不是想在这个问题上多管闲事。它可能并不适用于每个项目。事实上，Redux的创造者<a class="nd ne ep" href="https://medium.com/u/a3a8af6addc1?source=post_page-----6654f38df539--------------------------------" rel="noopener" target="_blank">丹·阿布拉莫夫</a>早在2016年的一篇文章中就提出，也许你的项目不需要Redux。但是对于我的组织来说，我发现了在可预见的未来我们将继续使用Redux的几个原因。希望<a class="ae kz" href="https://medium.com/@jasonleehodges/list/mentoring-new-engineers-b2550ac0faab" rel="noopener">新的react开发者</a>也会考虑这些，而不是简单地附和最近围绕上下文API的情绪。</p><p id="6dfc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我的工作性质允许我构建许多复杂程度不同的全新应用程序。这让我对什么有用什么没用有了某种独特的看法。我抓住了这个机会，当时我的队列中突然出现了许多新项目，我测试了状态管理的各种实现，以帮助我的组织确定我们在哪些地方过度投资了时间，以及哪些项目对于捕获bug和构建可靠的架构解决方案真正有用。这些变化包括构建应用程序:</p><ul class=""><li id="6b6b" class="nf ng iu lc b ld le lg lh lj nh ln ni lr nj lv nk nl nm nn bi translated">只有<code class="fe no np nq nr b">useState</code>挂钩(试图以这样一种方式设计，以避免尽可能多的支柱钻孔)。</li><li id="fdd5" class="nf ng iu lc b ld ns lg nt lj nu ln nv lr nw lv nk nl nm nn bi translated">Redux的一个完全普通的实现。</li><li id="b538" class="nf ng iu lc b ld ns lg nt lj nu ln nv lr nw lv nk nl nm nn bi translated">只有上下文API。</li><li id="cb40" class="nf ng iu lc b ld ns lg nt lj nu ln nv lr nw lv nk nl nm nn bi translated">Redux工具包的一个实现。</li></ul><p id="684f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我发现，即使在我的应该很小的应用程序中，不可避免地会出现范围蔓延和边缘情况，最终使它们变得更大、更复杂。上下文API的一个主要优点是它更简单，对于较小的应用程序更有意义。但有了这次经历后，我会争辩说，不存在神话中的“小应用”这种东西。</p><p id="a57e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">此外，我团队中第一次接触上下文的开发人员开始遇到与使用可变变量实现上下文相关的错误。重构他们的代码以使其安全地不可变，这导致了基本上重新实现Redux API(通过reducers函数)，但是没有令人敬畏的Redux Dev工具的好处。说真的，Redux Dev工具非常好，我在调试时从来不需要使用断点或<code class="fe no np nq nr b">console.log</code>。为了上下文API的“简单性”,不值得放弃追溯每个已调度的动作、在实时应用中手动调度新动作、准确跟踪代码中动作被调度的位置以及查看每个调度的完整状态和状态差异的能力。</p><p id="7336" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">关于简单性——之所以说上下文API比Redux简单，主要是因为减少了样板代码。然而，一个安全实现的上下文应用程序的样板文件并不比Redux少多少。现在，Redux Toolkit已经大大减少了样板文件。Redux Toolkit是这场辩论中的一大优势。我可能在游戏后期偶然发现了它，但是它相对于Redux的普通实现的简单性基本上完全消除了上下文API的争论。</p><h1 id="cdff" class="nx ny iu bd nz oa ob oc od oe of og oh ka oi kb oj kd ok ke ol kg om kh on oo bi translated">TL；速度三角形定位法(dead reckoning)</h1><ol class=""><li id="ad31" class="nf ng iu lc b ld op lg oq lj or ln os lr ot lv ou nl nm nn bi translated">没有“小应用”这样的东西，这是上下文API应该发光的地方。</li><li id="ed92" class="nf ng iu lc b ld ns lg nt lj nu ln nv lr nw lv ou nl nm nn bi translated">Redux开发工具不值得为了样板代码的少量减少而放弃。</li><li id="582c" class="nf ng iu lc b ld ns lg nt lj nu ln nv lr nw lv ou nl nm nn bi translated">Redux Toolkit降低了Redux实现的复杂性，使其与上下文API的复杂性相当。</li></ol><h1 id="5b90" class="nx ny iu bd nz oa ob oc od oe of og oh ka oi kb oj kd ok ke ol kg om kh on oo bi translated">结论</h1><p id="d204" class="pw-post-body-paragraph la lb iu lc b ld op jv lf lg oq jy li lj ov ll lm ln ow lp lq lr ox lt lu lv in bi translated">在我看来，Redux不仅没有消亡，而且比以往任何时候都更有意义。随着Redux Toolkit的加入，围绕Redux的状态管理能力比以往任何时候都要好。Redux Toolkit中引入的新特性，比如<a class="ae kz" href="https://redux-toolkit.js.org/rtk-query/overview" rel="noopener ugc nofollow" target="_blank"> RTK Query </a>，看起来相当有杀伤力(我还没有尝试过，但是我真的很想尝试)。为Redux Toolkit做出贡献的人们做了如此出色的工作，我的组织将在可预见的未来密切关注该库，因为我们将他们视为业界的思想领袖。</p></div></div>    
</body>
</html>