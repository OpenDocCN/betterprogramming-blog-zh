<html>
<head>
<title>Display Modal View with SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI显示模式视图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/modal-view-in-swiftui-3f9faf910249?source=collection_archive---------0-----------------------#2019-09-28">https://betterprogramming.pub/modal-view-in-swiftui-3f9faf910249?source=collection_archive---------0-----------------------#2019-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/2db1ae61a595297b9c8674598e8c6d2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kaFIDyzt682yCdS3683kZA.png"/></div></div></figure><div class=""/><div class=""><h2 id="d2d0" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">如何用SwiftUI呈现标准的iOS模态视图？</h2></div><p id="9cbd" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">SwiftUI是一个新的框架，使应用程序开发快如闪电。它是由苹果公司在今年6月的WWDC 2019上推出的。</p><p id="ebdc" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我很确定这将在SwiftUI的新版本中有所改变，但现在，这里有一个开源包，供每个人方便地呈现模态视图。该库可以作为Swift包添加到项目中，并从更新中受益，或者如果该功能已经覆盖了您项目的所有边缘情况，则只需复制文件。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h2 id="dbf4" class="lt lu jb bd lv lw lx dn ly lz ma dp mb kz mc md me ld mf mg mh lh mi mj mk ml bi translated">步骤1:将<a class="ae mm" href="https://github.com/diniska/modal-view" rel="noopener ugc nofollow" target="_blank"> ModalView </a>库作为Swift包添加到Xcode中</h2><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mn"><img src="../Images/028aac41ac6aaf9af434d5c593b3016c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1QOOJJNcyZzKhKHxZ2kilw.gif"/></div></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">使用Swift Package Manager添加SwiftUI模式视图</p></figure><p id="d0b4" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">下面是链接:<a class="ae mm" href="https://github.com/diniska/modal-view" rel="noopener ugc nofollow" target="_blank">https://github.com/diniska/modal-view</a></p><div class="ip iq gp gr ir mw"><a href="https://github.com/diniska/modal-view" rel="noopener  ugc nofollow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd jc gy z fp nb fr fs nc fu fw ja bi translated">迪尼斯卡/莫代尔景观</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">在SwiftUI中显示模态视图的良好抽象，无需额外的状态管理和绑定</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">github.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk ix mw"/></div></div></a></div><p id="cfc0" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在库中，我们使用与现有导航API的类比:</p><ul class=""><li id="c9e7" class="nl nm jb ks b kt ku kw kx kz nn ld no lh np ll nq nr ns nt bi translated"><code class="fe nu nv nw nx b">ModalPresenter</code>类似于<code class="fe nu nv nw nx b">NavigationView</code></li><li id="dae8" class="nl nm jb ks b kt ny kw nz kz oa ld ob lh oc ll nq nr ns nt bi translated"><code class="fe nu nv nw nx b">ModalLink</code>类似于<code class="fe nu nv nw nx b">NavigationLink</code></li></ul><p id="0a54" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">因此，模态API对于每个已经处理过导航的人来说都是熟悉的。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h2 id="e529" class="lt lu jb bd lv lw lx dn ly lz ma dp mb kz mc md me ld mf mg mh lh mi mj mk ml bi translated">步骤2:类似于NavigationView创建ModalPresenter</h2><p id="8c61" class="pw-post-body-paragraph kq kr jb ks b kt od kc kv kw oe kf ky kz of lb lc ld og lf lg lh oh lj lk ll ij bi translated">让我们把<code class="fe nu nv nw nx b">ModalPresenter</code>添加到靠近我们视图根的某个地方。</p><p id="2eca" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">它不必是根——只要确保它不在一个<code class="fe nu nv nw nx b">List</code>、<code class="fe nu nv nw nx b">Form</code>或类似的动态创建子视图的视图中。</p><figure class="mo mp mq mr gt is"><div class="bz fp l di"><div class="oi oj l"/></div></figure></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h2 id="6694" class="lt lu jb bd lv lw lx dn ly lz ma dp mb kz mc md me ld mf mg mh lh mi mj mk ml bi translated">步骤3:类似于NavigationLink添加ModalLink</h2><p id="f8e6" class="pw-post-body-paragraph kq kr jb ks b kt od kc kv kw oe kf ky kz of lb lc ld og lf lg lh oh lj lk ll ij bi translated">我们正在包装想要用<code class="fe nu nv nw nx b">NavigationLink</code>触发模态视图的<code class="fe nu nv nw nx b">Text</code>。</p><figure class="mo mp mq mr gt is"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="0267" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">给你:</p><figure class="mo mp mq mr gt is gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/1e565b66fbccffab6b6e78825e8751e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/1*83RHb-g74UVwzgksLlk4dQ.gif"/></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">带有ModalPresenter和ModalLink的SwiftUI模式视图</p></figure><p id="da98" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在复杂的层次结构中，比如带有按钮的导航视图，这是<code class="fe nu nv nw nx b">ModalPresenter</code>视图与默认API相比的亮点。</p><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ol"><img src="../Images/144f99218c5e3e00b97e742f1869c730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*si9-UjpV4yZfRLeuZUEUww.gif"/></div></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">在Swift UI中显示表单视图中的模式视图</p></figure><figure class="mo mp mq mr gt is"><div class="bz fp l di"><div class="oi oj l"/></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">使用导航视图、窗体和节实现复杂的层次结构</p></figure><p id="39c5" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">简而言之，这很方便。现在让我们看看如果没有这个库，我们将如何实现它，看看它会给我们的<code class="fe nu nv nw nx b">List</code>和<code class="fe nu nv nw nx b">Form</code>视图带来什么隐藏的结果。</p></div><div class="ab cl lm ln hu lo" role="separator"><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr ls"/><span class="lp bw bk lq lr"/></div><div class="ij ik il im in"><h1 id="dda0" class="om lu jb bd lv on oo op ly oq or os mb kh ot ki me kk ou kl mh kn ov ko mk ow bi translated">如果不使用Modal View库，如何显示模式视图？</h1><p id="0455" class="pw-post-body-paragraph kq kr jb ks b kt od kc kv kw oe kf ky kz of lb lc ld og lf lg lh oh lj lk ll ij bi translated">默认的方法是使用<code class="fe nu nv nw nx b"><a class="ae mm" href="https://developer.apple.com/documentation/swiftui/view/3352792-sheet" rel="noopener ugc nofollow" target="_blank">sheet</a></code> API。一个工作表需要绑定到一个布尔值，该值控制对话框是显示还是隐藏。</p><p id="e800" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">此外，不要忘记切换按钮点击的状态。在一个简单的例子中，结果看起来像这样。</p><figure class="mo mp mq mr gt is"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="ef15" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">很好，是吧？难的部分在物品清单上。让我们试试:</p><figure class="mo mp mq mr gt is"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="5762" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">你可能已经明白了。</p><p id="86ec" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">代码更长也更不安全，因为仅仅因为复制粘贴，很容易在一个地方写<code class="fe nu nv nw nx b">isPresented5</code>而在另一个地方写<code class="fe nu nv nw nx b">isPresented6</code>。</p><p id="f3fc" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">不过，这不是一个大问题。一个大问题是，这里的每个按钮只能工作一次。不要问我为什么。</p><figure class="mo mp mq mr gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ol"><img src="../Images/871c96d634ebf2c9ef275cac3e056e7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-PBkL_Zd9VSpN27rQJB1KQ.gif"/></div></div><p class="ms mt gj gh gi mu mv bd b be z dk translated">使用SwiftUI表和表单。按钮只在第一次使用时有效。</p></figure><p id="5b5c" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">总之，就我个人而言，我现在会在我的项目中使用新的ModalView库，因为这个框架提供了一个更简单的API，并使代码编写体验更快。</p><p id="fa83" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">如果您知道其他边缘案例，欢迎在<a class="ae mm" href="https://github.com/diniska/modal-view" rel="noopener ugc nofollow" target="_blank">包回购</a>中提出请求和问题。</p><p id="91c7" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">享受您的SwiftUI体验——全世界都迫不及待地想看到您的新应用。</p></div></div>    
</body>
</html>