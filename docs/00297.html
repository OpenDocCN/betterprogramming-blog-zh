<html>
<head>
<title>It’s-a Me, a Core ML Object Detector Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这是一个我，一个核心ML对象检测器模型</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/learning-coreml-with-fun-6e4b0fdfbbd?source=collection_archive---------0-----------------------#2019-02-27">https://betterprogramming.pub/learning-coreml-with-fun-6e4b0fdfbbd?source=collection_archive---------0-----------------------#2019-02-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dffd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用Turi Create、注释工具和Python识别世界上最著名的水管工</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/950225a9b70baf6fc6f70248da8e6bd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yq2DR93ZscKispNcwyjHiA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Cláudio Luiz Castro 在<a class="ae kv" href="https://unsplash.com/s/photos/mario?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="7aa2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从游戏的第一个街机版本开始，我就是一个马里奥迷。自从iPhone时代开始以来，我一直是一名移动应用软件开发人员。而且我一直对机器学习这样的新技术很感兴趣。本教程将结合所有这些兴趣，使用<a class="ae kv" href="https://apple.github.io/turicreate/docs/api/" rel="noopener ugc nofollow" target="_blank"> Turi Create </a>、注释工具和Python，带您从零开始了解一个可用的<a class="ae kv" href="https://developer.apple.com/machine-learning/" rel="noopener ugc nofollow" target="_blank"> Core ML </a>对象检测器模型。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0d33" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">开始</h1><p id="b43d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Core ML是苹果公司在2017年推出的一种新的机器学习框架。开发人员现在只需几行代码就可以在他们的应用程序中实现机器学习，这使得Core ML成为向您介绍使用它的最佳框架。就我个人而言，自从2017年WWDC<a class="ae kv" href="https://developer.apple.com/videos/wwdc2017/" rel="noopener ugc nofollow" target="_blank">第一次核心ML会议以来，我就对机器学习着迷了。</a></p><p id="381d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在过去的两年里，我跟踪了所有的核心ML会议，并做了一些基于核心ML框架进展的概念证明，主要是关于图像和对象检测。</p><p id="2f13" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，当我使用各种来源的预编译模型时，一切都很顺利。这是一个经常更新的列表:</p><div class="mw mx gp gr my mz"><a href="https://github.com/likedan/Awesome-CoreML-Models" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">likedan/Awesome-CoreML-Models</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">Core ML最大型号列表(iOS 11以上)。通过创建……为likedan/Awesome-CoreML-Models开发做出贡献</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">github.com</p></div></div><div class="ni l"><div class="nj l nk nl nm ni nn kp mz"/></div></div></a></div><p id="f260" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但几个月前，我决定深入调查。我的目标是从头开始创建一个自定义模型，以便在iOS应用程序中使用。经过几天的学习，我学会了如何用“简单的方法”来做这件事:使用Core ML 2和<a class="ae kv" href="https://www.apple.com/swift/playgrounds/" rel="noopener ugc nofollow" target="_blank"> Swift Playgrounds创建一个苹果教程中看到的图像检测器模型。</a></p><p id="e639" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://developer.apple.com/documentation/createml/creating_an_image_classifier_model" rel="noopener ugc nofollow" target="_blank">这个</a>对于“图像分类”来说是一个非常简单明了的解决方案，但是一个能够从视频流中实时检测出一些东西的模型怎么样呢？我意识到我需要一个物体探测器模型！关于这个还有另一个很好的教程，但是我想要的东西不见了…</p><div class="mw mx gp gr my mz"><a href="https://developer.apple.com/documentation/vision/recognizing_objects_in_live_capture" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">在实时拍摄中识别对象</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">借助视觉框架，您可以识别实时捕捉中的对象。从iOS 12、macOS 10.14和tvOS 12开始…</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">developer.apple.com</p></div></div></div></a></div><p id="3b3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该模型已经完成并经过测试，但没有关于如何从头构建您自己的模型的具体信息。</p><p id="c47f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">经过几天的研究，我终于找到了正确的道路:<a class="ae kv" href="https://github.com/apple/turicreate" rel="noopener ugc nofollow" target="_blank">turi create</a>+<a class="ae kv" href="https://github.com/VolkerBb/turi-annotate-od" rel="noopener ugc nofollow" target="_blank">turi annotate OD</a>+<a class="ae kv" href="https://www.jetbrains.com/pycharm/download/" rel="noopener ugc nofollow" target="_blank">PyCharmCE</a>=马里奥模型。</p><p id="4ab8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们通过一步一步的指导来深入创建我们的第一个定制模型。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="c7e2" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">准备您的图像数据集</h1><p id="a358" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">创建一个名为<code class="fe no np nq nr b">MarioML</code>的目录来保存您想要用来训练您的模型的所有图像，并划分到每个主题的子文件夹中。在这个例子中，我选择了马里奥、桃子、布瑟和蟾蜍。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/b5d726440d46ef0f8d59842ace59f8b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rS2zJTvbuZqCpMExT_o6Ow.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建<code class="fe no np nq nr b">MarioML</code>目录，为我们想要识别的每个主题创建一个文件夹</p></figure><p id="c718" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重要提示:使用最大1024x768的JPEGs，每组至少20张不同角度和位置的图像。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/af64d2f4d75a4255eb3c11e55cba2bd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EmUISKu-cyoPP3eDHFakwQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">识别马里奥的一个很好的“开始集”</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8da7" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">为您的图像添加注释以进行对象检测</h1><p id="ef1e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">没有快速的解决方案来做到这一点。有一些商业选项，如<a class="ae kv" href="https://itunes.apple.com/us/app/rectlabel-for-object-detection/id1210181730?mt=12" rel="noopener ugc nofollow" target="_blank"> RectLabel </a>、<a class="ae kv" href="http://diffgram.com" rel="noopener ugc nofollow" target="_blank"> Diffgram </a>和<a class="ae kv" href="https://labelbox.com" rel="noopener ugc nofollow" target="_blank"> Labelbox </a>，但是我想要完全免费、简单、即时的东西，不需要订阅或应用内购买:一个简单的对象注释器。</p><p id="150a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/VolkerBb/turi-annotate-od" rel="noopener ugc nofollow" target="_blank"> Turi Annotated OD </a>，<a class="ae kv" href="https://github.com/VolkerBb" rel="noopener ugc nofollow" target="_blank"> Volker Bublitz </a>的“一个简单的Mac应用程序，使用Turi Create为对象检测训练创建注释和准备图像”很好地满足了需求。</p><p id="4d86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，克隆repo，打开Xcode项目，编译应用程序，然后运行。您应该有这样的用户界面:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/274d3c1c9101c32b3268b85edd72df1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_xDHOM8l6p0G2Ap2U64Mww.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">这款Mac OS应用非常简单，而且运行正常</p></figure><p id="5ef5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击“文件”&gt;“导入图片”并选择正确的文件夹，开始在<code class="fe no np nq nr b">mario</code>文件夹中添加标签和注释。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/309f6c573963ae0ca5d3eb251ba8183c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2WkSwjQfF6Nzd7NeSRJdZw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从mario文件夹导入图片</p></figure><p id="b578" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，您必须为每个图像标记并创建一个正确的边界框注释，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/02ecabe58e5662f886edf60b523a8215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z2XTzFsqkxbTGusETTF_-g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">模型数据准备:标签和注释。</p></figure><p id="c5a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您完成所有的图像(您可以使用左右箭头轻松地从一个图像移动到另一个图像)时，您就可以导出您的数据了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/6e3497eaa821a48f954ecacb5de8c410.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*weIv-ViFKd5zf0zGeGyHaQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">导出ML数据过程自动创建所有必要的文件来完成我们的定制模型</p></figure><p id="8d62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">点击“导出ML数据”并选择一个项目名称。之后，您应该有一个名为<code class="fe no np nq nr b">MLExport</code>的新文件夹，其中包含所有正确的文件，可以继续创建模型。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c195b42cff4ee89cdf0408ec49a59637.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*XZEIHqmBxAM4_b9-VOR6GA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">MLExport，为我们的定制核心ML模型准备好所有文件</p></figure><p id="2a90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于<code class="fe no np nq nr b">MLExport</code>目录内容的说明:</p><ul class=""><li id="b91f" class="nz oa iq ky b kz la lc ld lf ob lj oc ln od lr oe of og oh bi translated"><code class="fe no np nq nr b">annotations.json</code>包含我们之前定义的带有标签和边界框的JSON文件；</li><li id="b29e" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated"><code class="fe no np nq nr b">images folder</code>是创建模型所需图像的原始副本；</li><li id="29e9" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated"><code class="fe no np nq nr b">MLCreate.ipynb</code>是一个<a class="ae kv" href="https://jupyter.org" rel="noopener ugc nofollow" target="_blank">项目Jupyter </a>笔记本模板。它可以用于运行所有Python代码的逐步调试；</li><li id="5549" class="nz oa iq ky b kz oi lc oj lf ok lj ol ln om lr oe of og oh bi translated"><code class="fe no np nq nr b">MLCreate.py</code>是我们将用来创建定制模型的Python代码。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="07b3" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">运行Python代码</h1><p id="40f7" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">下载<a class="ae kv" href="https://www.jetbrains.com/pycharm/download/" rel="noopener ugc nofollow" target="_blank"> PyCharm CE </a>，这是一个Python的IDE，它有一个很好的UI来管理插件、模板和Python虚拟环境。</p><div class="mw mx gp gr my mz"><a href="https://www.jetbrains.com/pycharm/" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">py charm:JetBrains为专业开发人员提供的Python IDE</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">Python &amp; Django IDE具有智能代码完成、动态错误检查、快速修复等等...</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">www.jetbrains.com</p></div></div><div class="ni l"><div class="on l nk nl nm ni nn kp mz"/></div></div></a></div><p id="191e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装完成后，打开创建的<code class="fe no np nq nr b">MLCreate.py</code>文件或将其与PyCharm CE App关联。双击该文件，PyCharm将打开以下屏幕:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/94a93d236fc103d392a159bdaf5ed056.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gqcOXaDA_gBPSbdBGJNyOQ.png"/></div></div></figure><p id="8af3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您没有配置Python解释器，不要担心！只需双击“配置Python解释器”，选择Python 2.7版或以上作为虚拟环境。有了这个特性，您可以轻松地为演示更改Python版本，而无需修改操作系统上的Python版本。</p><p id="45cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您在导入行中出现错误，请打开PyCharm首选项，转到“Project Interper”，添加所有需要的包。管理包和版本的UI很简单。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/d80afca83680158a698b513517ff7450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0opU0Anc6kefrUD2bXFGSA.png"/></div></div></figure><p id="bea9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在单击“确定”并选择Python文件来运行脚本:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/b0cfdfb845f3fd0b23323159535ffa02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*plkCUiyaHAOSLRXj5md7BA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">运行MLCreate启动脚本</p></figure><p id="fc55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个演示只有20次迭代。然而，为了达到最佳效果，我的建议是从100个或更多的开始训练(取决于你的范围)。通过改变迭代次数和测试数据的百分比来尝试不同的设置，以优化您的最终模型。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/fa4ec117d99c69c682f8e0ae8136f4b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_u5oi0P5KgzBtjcuLcNQYA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">运行Python脚本</p></figure><p id="e0f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从日志中可以看出，MAP(平均精度)不高。一个建议是增加迭代次数。最后，您应该在同一个目录中找到生成的核心ML模型<code class="fe no np nq nr b">Mymodel.mlmodel</code>，准备集成到您的iOS项目中。<strong class="ky ir"/>Turi Create生成的模型是一个流水线<a class="ae kv" href="https://towardsdatascience.com/yolo-you-only-look-once-real-time-object-detection-explained-492dc9230006" rel="noopener" target="_blank">暗网YOLO </a>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/f5f7d1bbbef60453efa438f2a1150fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*QMbEojuNSIWXjRp9RmbWyw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">MyModel.mlmodel已准备好用于iOS项目集成</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="76c6" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">将您的定制模型集成到现有的iOS项目中</h1><p id="9a9d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">对于这个演示，我使用了前面提到的由苹果公司使用<a class="ae kv" href="https://developer.apple.com/documentation/vision" rel="noopener ugc nofollow" target="_blank"> Vision </a>框架和核心ML对象检测制作的演示项目:</p><div class="mw mx gp gr my mz"><a href="https://developer.apple.com/documentation/vision/recognizing_objects_in_live_capture" rel="noopener  ugc nofollow" target="_blank"><div class="na ab fo"><div class="nb ab nc cl cj nd"><h2 class="bd ir gy z fp ne fr fs nf fu fw ip bi translated">在实时拍摄中识别对象</h2><div class="ng l"><h3 class="bd b gy z fp ne fr fs nf fu fw dk translated">借助视觉框架，您可以识别实时捕捉中的对象。从iOS 12、macOS 10.14和tvOS 12开始…</h3></div><div class="nh l"><p class="bd b dl z fp ne fr fs nf fu fw dk translated">developer.apple.com</p></div></div></div></a></div><p id="8c51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下载示例代码，并通过将文件拖放到主项目目录中，将您的定制核心ML模型导入到这个项目中。如果一切顺利，您应该在项目中拥有新的模型和新生成的模型类，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/c025aa333b61f38db6797648daef9cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fBkO4lva2uhP5rF72GqQ0w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将mlmodel拖放到您的xCode项目中</p></figure><p id="8056" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的设备上运行演示之前的最后一件事，打开文件<code class="fe no np nq nr b">VisionObjectRecognitionViewController.swift</code>并找到从<code class="fe no np nq nr b">Bundle</code>示例中加载模型的行:<code class="fe no np nq nr b">guard let modelURL = Bundle.main.url(forResource: “ObjectDetector”, withExtension: “mlmodelc”)</code>。</p><p id="4f55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将资源名替换为您的模型名:<code class="fe no np nq nr b">guard let modelURL = Bundle.main.url(forResource: “MyModel”, withExtension: “mlmodelc”)</code>，并在您的设备上编译。演示的结果将类似于下面的视频:马里奥的面部被检测到，置信度为1.0。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/4f2307d11fbb7bc0a22fb67a9fbeb21a.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/1*6OBlrjNd1dk2Wlpc4MWJOQ.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">探测马里奥！妈妈咪呀！</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="ca5b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">版权说明</strong>:马里奥和本演示中提到的所有角色都是<a class="ae kv" href="https://www.nintendo.com" rel="noopener ugc nofollow" target="_blank">任天堂</a>的财产，仅用于在机器学习上创造一个有趣的旋转。</p></div></div>    
</body>
</html>