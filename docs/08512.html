<html>
<head>
<title>How To Clean Your Dirty Data as a Data Scientist</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为数据科学家，如何清理您的脏数据</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-clean-your-dirty-data-152d859dc417?source=collection_archive---------2-----------------------#2021-05-09">https://betterprogramming.pub/how-to-clean-your-dirty-data-152d859dc417?source=collection_archive---------2-----------------------#2021-05-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cda1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用熊猫清理数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7eed7b7d44d053f32a14d8e5422bfbf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lUBM61FJimeGoOiU"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@thecreative_exchange?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上创意交流</a>的照片。</p></figure><p id="1f47" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据很少干净到足以进行分析。数据分析的很大一部分涉及清理数据，因为现实生活中的数据是“脏的”下面是一些有用的技术，可以用来清除数据中的污垢。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="83ca" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">消除多余字符</h1><p id="fba1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在分析数据时，密切注意某些变量是否包含额外的字符是很重要的。</p><p id="8ee1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个额外的字符可能会改变数据集的性质。例如，它可以将数字字符转换为字符串。</p><p id="ac7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然<code class="fe mw mx my mz b">1,000</code>是一个数值，但大多数编程语言和软件会将<code class="fe mw mx my mz b">$1000</code>解释为一个字符串，从而无法对其执行操作。当务之急是除掉<code class="fe mw mx my mz b">$</code>。</p><p id="610e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<a class="ae kv" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas </a> ' <code class="fe mw mx my mz b">str replace</code>函数删除Python中多余的字符:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="bb85" class="ne ma iq mz b gy nf ng l nh ni">df['A'] = df['B'].str.replace('$', '')</span></pre><p id="6db3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也可以通过使用<code class="fe mw mx my mz b">.strip</code>方法去掉不必要的空格(开头和结尾):</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="cd2b" class="ne ma iq mz b gy nf ng l nh ni">df1['Gender'] = df1['Gender'].str.strip()</span></pre><p id="8e04" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，数据集中的一个额外字符会让我们丢失重要信息。例如，“<code class="fe mw mx my mz b">Female</code>”不同于“<code class="fe mw mx my mz b"> Female</code>”或“<code class="fe mw mx my mz b">Female </code>”如果我们想回答的问题是“一个班里有多少个<code class="fe mw mx my mz b">Females</code>？”，这可能会给我们一个不正确的结果然后有必要去掉多余的字符(在这个例子中包括空格),这样我们就有了一个干净的数据集。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="31c5" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">重复记录</h1><p id="7267" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">去杜平可以定义为从数据集中删除重复或相同记录的过程。几个因素可能会导致数据集中出现重复记录。可能是打字错误，数据输入了不止一次。这可能是数据收集错误，从同一来源多次收集数据。也可能是编程错误，程序不止一次提交记录。</p><p id="76e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重复的记录可能会给我们的数据增加偏见，并阻止我们正确地解释数据集。因此，识别数据集中的唯一值并去除所有重复值非常重要。</p><p id="a709" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe mw mx my mz b">unique</code>功能可以获得熊猫的唯一记录:</p><pre class="kg kh ki kj gt na mz nb nc aw nd bi"><span id="0019" class="ne ma iq mz b gy nf ng l nh ni">df['A'].unique() #For the Unique Records<br/>df['A'].nunique() #For the number of Unique Records.</span><span id="576e" class="ne ma iq mz b gy nj ng l nh ni">df.duplicated() #Checks the duplicates in the dataset<br/>df.drop_duplicates(inplace=True) #This drops the duplicates in the dataset</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4cf6" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">缺失数据</h1><p id="5698" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">最常见的数据问题之一是处理缺失数据。通常，缺失数据可以表示为:</p><ul class=""><li id="35eb" class="nk nl iq ky b kz la lc ld lf nm lj nn ln no lr np nq nr ns bi translated">一片空白</li><li id="055f" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated">破折号(<code class="fe mw mx my mz b">-</code>)</li><li id="700a" class="nk nl iq ky b kz nt lc nu lf nv lj nw ln nx lr np nq nr ns bi translated"><code class="fe mw mx my mz b">NaN</code>、<code class="fe mw mx my mz b">N/A</code>或<code class="fe mw mx my mz b">Null</code></li></ul><p id="fbff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">解决这个数据问题很重要，因为当存在缺失数据时，许多统计分析无法进行。缺失数据也会给我们的数据增加偏差。</p><h2 id="a11a" class="ne ma iq bd mb ny nz dn mf oa ob dp mj lf oc od ml lj oe of mn ln og oh mp oi bi translated"><strong class="ak"> <em class="oj">处理缺失数据的方式</em> </strong></h2><p id="b084" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">处理丢失数据的一种方法是删除丢失的数据。通常不鼓励删除包含缺失数据的行/列，尤其是当许多行/列包含缺失值时。插补是处理缺失数据的另一种方法。插补是用替代值替换缺失数据的过程。我们可以用数字变量的平均值或中值或定性变量的众数来代替这些缺失值。</p><p id="50e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mw mx my mz b">isna</code>和<code class="fe mw mx my mz b">notna</code>可用于识别数据集中变量的缺失数据:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7ffe" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">极端值</h1><p id="1615" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">从统计学上来说，异常值是与其他观察值显著不同的数据点。异常值可能是类型/数据输入错误。例如，包含一名199岁高中生的学生记录。这也可能不是一个错误。例如，包含一个州的公民收入的收入数据可以使大多数公民的收入在$10K和$30K之间。在这种情况下，一个在该州收入100万美元的公民可以作为一个离群值。</p><p id="28f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">识别异常值的一种方法是可视化数据。通常，这是使用盒须图来完成的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/802cb59d380e0a2e76107f2bf77077fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F3jqwvHijwn-KeMZ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">学分:<a class="ae kv" href="http://publiclab.org" rel="noopener ugc nofollow" target="_blank">公共实验室</a></p></figure><p id="7445" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也可以通过统计得到。我们数据集中的异常值是任何大于<em class="on"> Q3 + 1.5 IQR </em> <strong class="ky ir"> </strong>或小于<em class="on"> Q1 -1.5 IQR </em>的数据。</p><p id="edd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">处理异常值的一种方法是识别数据源。例如，在学校记录数据中，可能是输入了<code class="fe mw mx my mz b">19</code>而输入了<code class="fe mw mx my mz b">199</code>。然而，在大多数情况下，不可能得到来源，所以我们要么删除，要么估算。</p><p id="c9a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据数据的不同，删除记录可能不会影响我们数据的整体结构。但是，在某些情况下，删除记录可能会影响数据集的结构。建议您观察移除异常值的效果。</p><p id="ddaf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在异常值未被删除的情况下，可能有必要进行估算。然后用替代值替换异常值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/491befc1e213e6c10ecc07266a1bbd5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*EvHw9dwY16EZAVUArKnWxA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:作者</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/53024d98d89258b5074389e3f1d74b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*KiAPToMZSnmdYS56deQC_A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:作者</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b4a8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="eb6e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如前所述，数据清理是数据分析的一个重要部分。同样重要的是，要知道数据清理并不局限于本文中提到的内容。数据污垢可能以各种方式出现，需要优秀的数据分析师来检测和清除数据中的污垢。</p></div></div>    
</body>
</html>