<html>
<head>
<title>How To Remove Committed Files From Git Version Control</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从Git版本控制中移除提交的文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-remove-committed-files-from-git-version-control-b6533b8f9044?source=collection_archive---------0-----------------------#2019-11-01">https://betterprogramming.pub/how-to-remove-committed-files-from-git-version-control-b6533b8f9044?source=collection_archive---------0-----------------------#2019-11-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2f8d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这样做时，不要删除不应该推送到存储库的文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d412c99ccfd8c265ac7775a846ff9146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3VgS0M64qoiOP4_8"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Yancy Min </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="5ff7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们中的大多数人可能已经将我们不想要的东西提交给了存储库，甚至可能是公共的存储库:凭证、构建文件、临时文件。潜在问题:</p><ul class=""><li id="0f8d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">已发布的敏感数据(例如，包含数据库登录凭据或API密钥的环境文件)</li><li id="9410" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">建立不需要就定期更改的文件</li><li id="7876" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">特定于用户的文件(例如，个人IDE设置)</li></ul><p id="c230" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个很好的例子是。如果您使用JetBrains制作的ide(例如IntelliJ idea)，则会创建IDEA文件夹。让我们假设有人不小心添加了这个文件夹，这使得它受到版本控制。每当有人对他的个人IntelliJ配置进行更改时，Git都会告诉我们已经更改了这个文件。但是其他开发者不应该被迫使用相同的配置。此外，这使得合并/重定基础更加困难。</p><p id="eeb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我想从版本控制中删除这个文件夹，并确保没有人可以再将它添加到存储库中。但是，我不希望它从我的本地机器上被删除，因为需要这个文件夹。因此，我们不能简单地删除文件并提交它，因为这也会在本地删除这些文件。</p><p id="8821" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们需要一种方法，在不修改本地数据的情况下，从版本控制中删除提交的文件。幸运的是，使用Git，我们可以很容易地解决这个问题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/f5869f729b60d6d3e7bf9c0ab39d7eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BCZkmZR1_YzDZy22Vn4uUw.png"/></div></div></figure><h2 id="f2bb" class="mk ml it bd mm mn mo dn mp mq mr dp ms li mt mu mv lm mw mx my lq mz na nb nc bi translated">如何从Git版本控制中移除提交的文件</h2><ol class=""><li id="4f74" class="lv lw it lb b lc nd lf ne li nf lm ng lq nh lu ni mb mc md bi translated">创建一个<code class="fe nj nk nl nm b">.gitignore</code>文件，如果你还没有的话</li><li id="53c4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ni mb mc md bi translated">编辑<code class="fe nj nk nl nm b">.gitignore</code>以匹配您想要忽略的文件/文件夹</li><li id="1427" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ni mb mc md bi translated">执行以下命令:<code class="fe nj nk nl nm b">git rm --cached <em class="nn">path/to/file</em></code>。Git将列出它已经删除的文件。如果您想要保留本地副本，但是要从存储库中删除它，那么应该使用<code class="fe nj nk nl nm b">--cached</code>标志。</li><li id="ecbc" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ni mb mc md bi translated">使用<code class="fe nj nk nl nm b">git status</code>验证这些文件正在从版本控制中删除</li><li id="0cc3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ni mb mc md bi translated">将更改推送到存储库</li></ol><p id="ca4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成这些步骤后，这些文件应该从版本控制中移除，但不能从任何本地机器上移除。任何其他开发人员在你推送你的更改后再次拉应该没有问题。</p><p id="084c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:仍然可以从Git历史中检索这样的数据。因此，如果它是您想要删除的敏感数据，您需要将其从Git历史中删除。如果您想从Git存储库中删除这些数据，请查看<a class="ae ky" href="https://github.com/dxa4481/truffleHog" rel="noopener ugc nofollow" target="_blank"> huffleHog </a>。</p></div></div>    
</body>
</html>