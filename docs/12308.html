<html>
<head>
<title>How to Dump SwiftUI Environment Efficiently</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何高效转储SwiftUI环境</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-dump-swiftui-environment-efficiently-1bdf12ef37ed?source=collection_archive---------10-----------------------#2022-05-26">https://betterprogramming.pub/how-to-dump-swiftui-environment-efficiently-1bdf12ef37ed?source=collection_archive---------10-----------------------#2022-05-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f96e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何为调试目的有效地打印环境值</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e571f4f2a4ea135f1a9f7c29163fa2a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E6MaUeNFBjzkeHMv"/></div></div></figure><p id="7814" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这篇博客文章将解释如何有效地打印环境值用于调试目的。因此，您可以检查在特定的视图层次结构级别上使用了哪个实际值。</p><h1 id="4ad7" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">快速回顾SwiftUI环境</h1><p id="5105" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">SwiftUI使用环境将<a class="ae mk" href="https://www.fivestars.blog/articles/swiftui-environment-values/" rel="noopener ugc nofollow" target="_blank">预定义类型</a>的值向下传递到视图层次结构。</p><p id="0e0d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过使用<code class="fe ml mm mn mo b">@Environment</code>属性包装器，我们可以读取和订阅所选值的更改。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="03f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们还可以<a class="ae mk" href="https://useyourloaf.com/blog/swiftui-custom-environment-values/" rel="noopener ugc nofollow" target="_blank">创建您的自定义环境值</a>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="de70" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们使用环境视图修饰符将我们的自定义环境值注入SwiftUI环境。可以在较低的视图层次结构级别上覆盖值。这里有一个例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h1 id="933c" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">转储一个简单值</h1><p id="ffe3" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">低调调试选项是结合使用Swift标准库中的<code class="fe ml mm mn mo b">transformEnvironment</code>函数和<code class="fe ml mm mn mo b">dump</code>函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="4a21" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ml mm mn mo b">Dump</code>将给定对象的内容使用其镜像打印到标准输出。Xcode调试控制台中的打印结果显示，在这个视图层次级别上，神奇的颜色是<code class="fe ml mm mn mo b">blue</code>(如预期)。</p><pre class="kg kh ki kj gt mr mo ms mt aw mu bi"><span id="78ba" class="mv lo iq mo b gy mw mx l my mz">▿ blue<br/>  ▿ provider: SwiftUI.(unknown context at $7fff5dc005b0).ColorBox&lt;SwiftUI.SystemColorType&gt; #0<br/>    - super: SwiftUI.AnyColorBox<br/>      - super: SwiftUI.AnyShapeStyleBox<br/>    - base: SwiftUI.SystemColorType.blue</span></pre><h1 id="c5dc" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">转储所有值</h1><p id="28ec" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Chris Eidhoff在他的文章<a class="ae mk" href="https://www.objc.io/blog/2019/10/29/swiftui-environment/" rel="noopener ugc nofollow" target="_blank"> SwiftUI:设置环境值</a>中分享了一段代码，使用下面的实用包装器视图检查视图的当前环境:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="9d9c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">例如，我们可以为上面视图的叶节点转储环境:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="ae09" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这个解决方案运行良好，可以很容易地复制并用于其他项目。但是当我们运行代码时，它打印出一个巨大的序列化属性列表树。</p><pre class="kg kh ki kj gt mr mo ms mt aw mu bi"><span id="3ffe" class="mv lo iq mo b gy mw mx l my mz">▿ _plist: [EnvironmentPropertyKey&lt;MagicColorKey&gt; = blue, EnvironmentPropertyKey&lt;MagicColorKey&gt; = red, EnvironmentPropertyKey&lt;RedactionReasonsKey&gt; = RedactionReasons(rawValue: 2), EnvironmentPropertyKey&lt;SceneStorageValuesKey&gt; = Optional(SwiftUI.WeakBox&lt;SwiftUI.SceneStorageValues&gt;(base: Optional(SwiftUI.SceneStorageValues))), EnvironmentPropertyKey&lt;StoreKey&lt;SceneBridge&gt;&gt; = Optional(SceneBridge: rootViewController = Optional(&lt;_TtGC7SwiftUI19UIHostingControllerGVS_15ModifiedContentVS_7AnyViewVS_12RootModifier__: 0x7f915800c530&gt;)), EnvironmentPropertyKey&lt;AppNavigationAuthorityKey&gt; = Optional(SwiftUI.WeakBox&lt;SwiftUI.AppNavigationAuthority&gt;(base: Optional(SwiftUI.AppNavigationAuthority))), EnvironmentPropertyKey&lt;EditModeKey&gt; = Optional(SwiftUI.Binding&lt;SwiftUI.EditMode&gt;(transaction: SwiftUI.Transaction(plist: []), location: SwiftUI.StoredLocation&lt;SwiftUI.EditMode&gt;, _value: SwiftUI.EditMode.inactive)), EnvironmentPropertyKey&lt;InputAccessoryKey&gt; = WeakBox&lt;InputAccessoryGenerator&lt;SwiftUIToolbar&gt;&gt;(base: nil), EnvironmentPropertyKey&lt;CanTakeFocusKey&gt; = false, EnvironmentPropertyKey&lt;IsPlatformFocusSystemEnabled&gt; = false, EnvironmentPropertyKey&lt;IsFocusedKey&gt; = false, EnvironmentPropertyKey&lt;FocusBridgeKey&gt; = WeakBox&lt;FocusBridge&gt;(base: Optional(SwiftUI.FocusBridge)), EnvironmentPropertyKey&lt;AllowedBehaviorsKey&gt; = HostingControllerAllowedBehaviors(rawValue: 16), EnvironmentPropertyKey&lt;ActiveContextMenuKey&gt; = ViewIdentity(seed: 0), EnvironmentPropertyKey&lt;Key&gt; = Optional(SwiftUI.NavigationAuthority(host: Optional(&lt;_TtGC7SwiftUI14_UIHostingViewGVS_15ModifiedContentVS_7AnyViewVS_12RootModifier__: 0x7f91581066f0; frame = (0 0; 390 844); autoresize = W+H; gestureRecognizers = &lt;NSArray: 0x600003b52fa0&gt;; layer = &lt;CALayer: 0x6000035073c0&gt;&gt;))), EnvironmentPropertyKey&lt;PresentationModeKey&gt; = Binding&lt;PresentationMode&gt;(transaction: SwiftUI.Transaction(plist: []), location: SwiftUI.LocationBox&lt;SwiftUI.FunctionalLocation&lt;SwiftUI.PresentationMode&gt;&gt;, _value: SwiftUI.PresentationMode(isPresented: false)), EnvironmentPropertyKey&lt;AccessibilityRequestFocusKey&gt; = AccessibilityRequestFocusAction(onAccessibilityFocus: nil), EnvironmentPropertyKey&lt;AccentColorKey&gt; = Optional(#007AFFFF), EnvironmentPropertyKey&lt;HostingViewOpenURLActionKey&gt; = Optional(SwiftUI.OpenURLAction(handler: SwiftUI.OpenURLAction.Handler.system((Function)), isDefault: false)), EnvironmentPropertyKey&lt;UndoManagerKey&gt; = Optional(&lt;NSUndoManager: 0x60000161a620&gt;), EnvironmentPropertyKey&lt;SceneSessionKey&gt; = Optional(SwiftUI.WeakBox&lt;__C.UISceneSession&gt;(base: Optional(&lt;UISceneSession: 0x600002066140; scene = &lt;UIWindowScene: 0x7f9158008d60; sceneIdentifier: "sceneID:us.eidinger.DateExample-F8369E9A-67DA-48FC-BAB6-EC1A5D8D56CC"&gt;; role = UIWindowSceneSessionRoleApplication; sceneConfiguration = &lt;UISceneConfiguration: 0x600002066240&gt;; persistentIdentifier = F8369E9A-67DA-48FC-BAB6-EC1A5D8D56CC; userInfo = &lt;(null): 0x0&gt;))), EnvironmentPropertyKey&lt;SystemColorSchemeKey&gt; = light, EnvironmentPropertyKey&lt;ExplicitPreferredColorSchemeKey&gt; = nil, EnvironmentPropertyKey&lt;AccessibilityLargeContentViewerKey&gt; = false, EnvironmentPropertyKey&lt;EnabledTechnologiesKey&gt; = AccessibilityTechnologies(technologySet: SwiftUI.(unknown context at $7fff5dc3e438).AccessibilityTechnologySet(rawValue: 0)), EnvironmentPropertyKey&lt;AccessibilityButtonShapesKey&gt; = false, EnvironmentPropertyKey&lt;AccessibilityPrefersCrossFadeTransitionsKey&gt; = false, EnvironmentPropertyKey&lt;AccessibilityInvertColorsKey&gt; = false, EnvironmentPropertyKey&lt;AccessibilityReduceMotionKey&gt; = false, EnvironmentPropertyKey&lt;AccessibilityReduceTransparencyKey&gt; = false, EnvironmentPropertyKey&lt;AccessibilityDifferentiateWithoutColorKey&gt; = false, EnvironmentPropertyKey&lt;BackgroundInfoKey&gt; = BackgroundInfo(layer: 0, groupCount: 0), EnvironmentPropertyKey&lt;VerticalUserInterfaceSizeClassKey&gt; = Optional(SwiftUI.UserInterfaceSizeClass.regular), EnvironmentPropertyKey&lt;HorizontalUserInterfaceSizeClassKey&gt; = Optional(SwiftUI.UserInterfaceSizeClass.compact), EnvironmentPropertyKey&lt;DisplayScaleKey&gt; = 3.0, EnvironmentPropertyKey&lt;ColorSchemeKey&gt; = light, EnvironmentPropertyKey&lt;ColorSchemeContrastKey&gt; = standard, EnvironmentPropertyKey&lt;DisplayGamutKey&gt; = displayP3, EnvironmentPropertyKey&lt;LegibilityWeightKey&gt; = Optional(SwiftUI.LegibilityWeight.regular), EnvironmentPropertyKey&lt;DynamicTypeSizeKey&gt; = large, EnvironmentPropertyKey&lt;LayoutDirectionKey&gt; = leftToRight, EnvironmentPropertyKey&lt;ScenePhaseKey&gt; = inactive, EnvironmentPropertyKey&lt;TimeZoneKey&gt; = America/Los_Angeles (fixed (equal to current)), EnvironmentPropertyKey&lt;CalendarKey&gt; = gregorian (current), EnvironmentPropertyKey&lt;LocaleKey&gt; = en_US (current)]<br/>    ▿ elements: Optional(EnvironmentPropertyKey&lt;MagicColorKey&gt; = blue)<br/>      ▿ some: EnvironmentPropertyKey&lt;MagicColorKey&gt; = blue #0<br/>        ▿ super: SwiftUI.PropertyList.Element<br/>          - keyType: SwiftUI.(unknown context at $7fff5dca9ff0).EnvironmentPropertyKey&lt;DateExample.(unknown context at $1011eaf88).MagicColorKey&gt; #1<br/>          - before: nil<br/>          ▿ after: Optional(EnvironmentPropertyKey&lt;MagicColorKey&gt; = red)<br/>            ▿ some: EnvironmentPropertyKey&lt;MagicColorKey&gt; = red #2<br/>              ▿ super: SwiftUI.PropertyList.Element<br/>                - keyType: SwiftUI.(unknown context at $7fff5dca9ff0).EnvironmentPropertyKey&lt;DateExample.(unknown context at $1011eaf88).MagicColorKey&gt; #1<br/>                - before: nil<br/>                ▿ after: Optional(EnvironmentPropertyKey&lt;RedactionReasonsKey&gt; = RedactionReasons(rawValue: 2))<br/>                  ▿ some: EnvironmentPropertyKey&lt;RedactionReasonsKey&gt; = RedactionReasons(rawValue: 2) #3<br/>                    ▿ ...</span></pre><p id="932b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">太大了！</p><p id="0d10" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">整个环境及其所有层次级别上的所有值都被转储。</p><p id="ccbf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要从上到下读取输出，并忽略同一个<code class="fe ml mm mn mo b">EnvironmentPropertyKey</code>的后续条目(因为<code class="fe ml mm mn mo b">EnvironmentPropertyKey</code>的顶层值是使用的值)</p><p id="0bd8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在大多数情况下，更有效的方法是使用自定义函数打印出环境值。</p><p id="a409" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我最初的方法是将<code class="fe ml mm mn mo b">EnvironmentValues</code>的<code class="fe ml mm mn mo b">description</code>作为<code class="fe ml mm mn mo b">EnvironmentValues</code>符合<code class="fe ml mm mn mo b">CustomStringConvertible</code>。</p><p id="aa44" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是，这对于包含逗号的值描述不正确，并且打印输出仍然包含同一个键的多个条目。</p><p id="f8a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我最终得到了下面这个“足够好”的实现</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="6c33" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在~ 50行(而不是~ 1160行！！！)被打印出来。</p><p id="adca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">示例:</p><pre class="kg kh ki kj gt mr mo ms mt aw mu bi"><span id="c25f" class="mv lo iq mo b gy mw mx l my mz">--- Environment Values - BEGIN ---<br/>EnvironmentPropertyKey&lt;MagicColorKey&gt; = blue<br/>EnvironmentPropertyKey&lt;SceneStorageValuesKey&gt; = Optional(SwiftUI.WeakBox&lt;SwiftUI.SceneStorageValues&gt;(base: Optional(SwiftUI.SceneStorageValues)))<br/>EnvironmentPropertyKey&lt;StoreKey&lt;SceneBridge&gt;&gt; = Optional(SceneBridge: rootViewController = Optional(&lt;_TtGC7SwiftUI19UIHostingControllerGVS_15ModifiedContentVS_7AnyViewVS_12RootModifier__: 0x7f97bcb0aef0&gt;))<br/>EnvironmentPropertyKey&lt;AppNavigationAuthorityKey&gt; = Optional(SwiftUI.WeakBox&lt;SwiftUI.AppNavigationAuthority&gt;(base: Optional(SwiftUI.AppNavigationAuthority)))<br/>EnvironmentPropertyKey&lt;EditModeKey&gt; = Optional(SwiftUI.Binding&lt;SwiftUI.EditMode&gt;(transaction: SwiftUI.Transaction(plist: []), location: SwiftUI.StoredLocation&lt;SwiftUI.EditMode&gt;, _value: SwiftUI.EditMode.inactive))<br/>EnvironmentPropertyKey&lt;InputAccessoryKey&gt; = WeakBox&lt;InputAccessoryGenerator&lt;SwiftUIToolbar&gt;&gt;(base: nil)<br/>EnvironmentPropertyKey&lt;CanTakeFocusKey&gt; = true<br/>EnvironmentPropertyKey&lt;IsPlatformFocusSystemEnabled&gt; = false<br/>EnvironmentPropertyKey&lt;IsFocusedKey&gt; = false<br/>EnvironmentPropertyKey&lt;FocusBridgeKey&gt; = WeakBox&lt;FocusBridge&gt;(base: Optional(SwiftUI.FocusBridge))<br/>EnvironmentPropertyKey&lt;AllowedBehaviorsKey&gt; = HostingControllerAllowedBehaviors(rawValue: 16)<br/>EnvironmentPropertyKey&lt;ActiveContextMenuKey&gt; = ViewIdentity(seed: 0)<br/>EnvironmentPropertyKey&lt;Key&gt; = Optional(SwiftUI.NavigationAuthority(host: Optional(&lt;_TtGC7SwiftUI14_UIHostingViewGVS_15ModifiedContentVS_7AnyViewVS_12RootModifier__: 0x7f97bcb0b670; frame = (0 0; 390 844); autoresize = W+H; gestureRecognizers = &lt;NSArray: 0x600000d47cf0&gt;; layer = &lt;CALayer: 0x60000032e980&gt;&gt;)))<br/>EnvironmentPropertyKey&lt;PresentationModeKey&gt; = Binding&lt;PresentationMode&gt;(transaction: SwiftUI.Transaction(plist: []), location: SwiftUI.LocationBox&lt;SwiftUI.FunctionalLocation&lt;SwiftUI.PresentationMode&gt;&gt;, _value: SwiftUI.PresentationMode(isPresented: false))<br/>EnvironmentPropertyKey&lt;AccessibilityRequestFocusKey&gt; = AccessibilityRequestFocusAction(onAccessibilityFocus: nil)<br/>EnvironmentPropertyKey&lt;AccentColorKey&gt; = Optional(#007AFFFF)<br/>EnvironmentPropertyKey&lt;HostingViewOpenURLActionKey&gt; = Optional(SwiftUI.OpenURLAction(handler: SwiftUI.OpenURLAction.Handler.system((Function)), isDefault: false))<br/>EnvironmentPropertyKey&lt;UndoManagerKey&gt; = Optional(&lt;NSUndoManager: 0x600002039270&gt;)<br/>EnvironmentPropertyKey&lt;SceneSessionKey&gt; = Optional(SwiftUI.WeakBox&lt;__C.UISceneSession&gt;(base: Optional(&lt;UISceneSession: 0x600001641200; scene = &lt;UIWindowScene: 0x7f97bcb0a040; sceneIdentifier: "sceneID:us.eidinger.DateExample-F8369E9A-67DA-48FC-BAB6-EC1A5D8D56CC"&gt;; role = UIWindowSceneSessionRoleApplication; sceneConfiguration = &lt;UISceneConfiguration: 0x600001641300&gt;; persistentIdentifier = F8369E9A-67DA-48FC-BAB6-EC1A5D8D56CC; userInfo = &lt;(null): 0x0&gt;)))<br/>EnvironmentPropertyKey&lt;SystemColorSchemeKey&gt; = light<br/>EnvironmentPropertyKey&lt;ExplicitPreferredColorSchemeKey&gt; = nil<br/>EnvironmentPropertyKey&lt;AccessibilityLargeContentViewerKey&gt; = false<br/>EnvironmentPropertyKey&lt;EnabledTechnologiesKey&gt; = AccessibilityTechnologies(technologySet: SwiftUI.(unknown context at $7fff5dc3e438).AccessibilityTechnologySet(rawValue: 0))<br/>EnvironmentPropertyKey&lt;AccessibilityButtonShapesKey&gt; = false<br/>EnvironmentPropertyKey&lt;AccessibilityPrefersCrossFadeTransitionsKey&gt; = false<br/>EnvironmentPropertyKey&lt;AccessibilityInvertColorsKey&gt; = false<br/>EnvironmentPropertyKey&lt;AccessibilityReduceMotionKey&gt; = false<br/>EnvironmentPropertyKey&lt;AccessibilityReduceTransparencyKey&gt; = false<br/>EnvironmentPropertyKey&lt;AccessibilityDifferentiateWithoutColorKey&gt; = false<br/>EnvironmentPropertyKey&lt;BackgroundInfoKey&gt; = BackgroundInfo(layer: 0, groupCount: 0)<br/>EnvironmentPropertyKey&lt;VerticalUserInterfaceSizeClassKey&gt; = Optional(SwiftUI.UserInterfaceSizeClass.regular)<br/>EnvironmentPropertyKey&lt;HorizontalUserInterfaceSizeClassKey&gt; = Optional(SwiftUI.UserInterfaceSizeClass.compact)<br/>EnvironmentPropertyKey&lt;DisplayScaleKey&gt; = 3.0<br/>EnvironmentPropertyKey&lt;ColorSchemeKey&gt; = light<br/>EnvironmentPropertyKey&lt;ColorSchemeContrastKey&gt; = standard<br/>EnvironmentPropertyKey&lt;DisplayGamutKey&gt; = displayP3<br/>EnvironmentPropertyKey&lt;LegibilityWeightKey&gt; = Optional(SwiftUI.LegibilityWeight.regular)<br/>EnvironmentPropertyKey&lt;DynamicTypeSizeKey&gt; = large<br/>EnvironmentPropertyKey&lt;LayoutDirectionKey&gt; = leftToRight<br/>EnvironmentPropertyKey&lt;ScenePhaseKey&gt; = active<br/>EnvironmentPropertyKey&lt;TimeZoneKey&gt; = America/Los_Angeles (fixed (equal to current))<br/>EnvironmentPropertyKey&lt;CalendarKey&gt; = gregorian (current)<br/>--- Environment Values - END ---</span></pre><p id="9673" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SwiftUI环境处理的内部工作是隐藏的。这在大多数情况下是可以的。一个明显的缺点是<code class="fe ml mm mn mo b">Font</code>的打印结果没有帮助，因为它的描述不包含字体名称/样式信息。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><pre class="kg kh ki kj gt mr mo ms mt aw mu bi"><span id="e897" class="mv lo iq mo b gy mw mx l my mz"><strong class="mo ir">Want to Connect?</strong></span><span id="3483" class="mv lo iq mo b gy nh mx l my mz">Originally published at <a class="ae mk" href="https://blog.eidinger.info/dump-swiftui-environment-efficiently" rel="noopener ugc nofollow" target="_blank">https://blog.eidinger.info</a>.</span></pre></div></div>    
</body>
</html>