<html>
<head>
<title>Canvas, Colour, and Blending in SwiftUI With iOS 15</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 15 swift ui中的画布、颜色和混合</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/canvas-colour-and-blending-in-swiftui-with-ios-15-cbb2bf6bddc5?source=collection_archive---------10-----------------------#2021-10-06">https://betterprogramming.pub/canvas-colour-and-blending-in-swiftui-with-ios-15-cbb2bf6bddc5?source=collection_archive---------10-----------------------#2021-10-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cff7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">看看新的画布视图以及新的形状、颜色和混合</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/24aec3a84cdfe89c0c31c252ae4abeb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*alo-vhd-kNDrfcVm4S_TtQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@michael_marais?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">迈克尔·马莱</a>在<a class="ae ky" href="https://unsplash.com/s/photos/star-wars?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="54d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在20世纪70年代中期，一个叫阿尔维·雷·史密斯三世的人共同发明了阿尔法通道的概念，并对施乐PARC公司的HSV色彩空间的创建做出了重大贡献。十年后，那个空间已经成为一个研究领域，两个人<a class="ae ky" href="https://en.wikipedia.org/wiki/Thomas_Porter_(Pixar)" rel="noopener ugc nofollow" target="_blank">托马斯·波特</a>和<a class="ae ky" href="https://en.wikipedia.org/wiki/Tom_Duff" rel="noopener ugc nofollow" target="_blank">汤姆·达夫</a>做出了非常显著的贡献，他们在卢卡斯影业【星球大战名声】<a class="ae ky" href="https://en.wikipedia.org/wiki/Alpha_compositing" rel="noopener ugc nofollow" target="_blank">一起工作，发展了波特-达夫作曲技术</a>。</p><p id="a0ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，混合颜色、改变它们的饱和度、亮度和色调是设计应用程序的一个重要方面。这不仅从吸引力/诱惑的角度来看是一个关键的方面，而且也是一个可及性的方面。</p><p id="566b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着SwiftUI 3.0中Canvas的推出，颜色混合图像再次成为焦点。在WWDC关于这个主题的演讲中，我们被告知Swift UI中静态/标准颜色的数量增加了一倍多，因为它直接支持三种主要类型的颜色<code class="fe lv lw lx ly b">CGColors</code>、<code class="fe lv lw lx ly b">NSColor</code>和UIColor。颜色是我去年夏天写的一个主题。你可以在下面阅读更多内容:</p><div class="lz ma gp gr mb mc"><a rel="noopener  ugc nofollow" target="_blank" href="/colour-hue-saturation-and-brightness-24661bb809a3"><div class="md ab fo"><div class="me ab mf cl cj mg"><h2 class="bd iu gy z fp mh fr fs mi fu fw is bi translated">颜色、色调、饱和度和亮度</h2><div class="mj l"><h3 class="bd b gy z fp mh fr fs mi fu fw dk translated">在SwiftUI中使用颜色</h3></div><div class="mk l"><p class="bd b dl z fp mh fr fs mi fu fw dk translated">better编程. pub</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq ks mc"/></div></div></a></div><p id="b6df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是等等。我不想过多地谈论颜色；这篇文章是关于混合的。混合使用标准模式和新的画布视图，以及一个使用Port-Duff模式的例子，它们有自己的混合模式。请和我一起浏览新的可用选项。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/d57d6d3bf7690ddce74d0ebda5cc068c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5kc0PxiSMuEe_q41G6o--g.gif"/></div></div></figure><p id="d17d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我先从两种绝对是一对的混合物开始。你现在看到的动画GIF是一个<code class="fe lv lw lx ly b">TimelineView</code>,我在它的周围循环切换了大约17种文字的前景色，并把这些文字和从蓝色到红色的渐变混合在一起。下面是它运行的基本代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="3bc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用<code class="fe lv lw lx ly b">ContentView</code>如下图所示:</p><pre class="kj kk kl km gt mu ly mv mw aw mx bi"><span id="d47e" class="my mz it ly b gy na nb l nc nd">struct ContentView: View {<br/>  var body: some View {<br/>    BlendS()<br/>      .foregroundColor(.white)<br/>  }<br/>}</span></pre><p id="0540" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来是另一对，这很有趣，因为它说明了一些组合就是不起作用。我很想给你一些规则，但不幸的是，这是一个试一试的情况。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/a318533bcc99712fc95cc5eb519b85e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iPQmZJn-8pVR735g4gEcNA.gif"/></div></div></figure><p id="6b8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">展示这一点的代码与已经展示的代码是相同的。现在一些滤镜的效果非常明显，所以我不打算用动画gif来展示它们，只是把它们列在这里。您得到了如下过滤器:</p><ul class=""><li id="d652" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">色彩</li><li id="112b" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">浸透</li><li id="c6fc" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">光度</li><li id="5075" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">常态</li></ul><p id="8dc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我要展示的下一对是<code class="fe lv lw lx ly b">colorBurn</code>和<code class="fe lv lw lx ly b">colorDodge</code>，如你所见，它们也适用于某些组合，但不适用于其他组合。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/cbf6d0d6aa917d8ce6bc1ffd6db90d7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uQjAZVfzh0HZRFZhaN6ZWw.gif"/></div></div></figure><h1 id="6c99" class="ns mz it bd nt nu nv nw nx ny nz oa ob jz oc ka od kc oe kd of kf og kg oh oi bi translated">波特-达夫模式</h1><p id="d0b6" class="pw-post-body-paragraph kz la it lb b lc oj ju le lf ok jx lh li ol lk ll lm om lo lp lq on ls lt lu im bi translated">现在谈谈波特-达夫混合模式，这几乎需要一篇独立的文章。这些过滤器将一些数学应用到图像的颜色，以获得完全不同的颜色和/或使重叠部分消失。</p><p id="cab5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了展示这些，我将使用带有两个圆圈的维恩图:白色背景上的橙色和蓝色圆圈。同样，我将使用<code class="fe lv lw lx ly b">TimelineView</code>来循环选择选项。</p><p id="d63f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是在我向您展示结果之前，这里是生成它们的代码。注意:我最初没有使用任何过滤器，但在第二个图像上应用了过滤器来获得结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="f570" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以看到下面所有的过滤器。你画的第一个圆被认为是目的地；第二是来源。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/5a674b9b481718547b408dac7f7bf525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*b6Bxx5CzkTDxk-A43CZDTw.gif"/></div></div></figure><p id="9563" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是等等——事情没那么简单——因为你可以用同样形状的第二个滤镜来得到不同的结果。让我们再看一遍这些。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/c475d1322570cadaca6f817cb36eb9b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W048iat8NieeQ3F07ysRQQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">圆上没有滤镜。我们先画蓝色的。注意:如果你先画橙色，你会得到不同的结果。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/bb299befcf157d80f7ed5f013cbcd3b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2j-tZrgsGazkd4hdreUDVg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。第二个圆圈上的destinationOut过滤器[橙色]</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/b5ad2ae212ab376d30bc6c7166e75f5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4YzuLj7rPyPhIJk-jnocyg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。sourceOut或。第二个圆上的xor过滤器[橙色]</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/4db0fce122837e3e0a0c40b24a4dd4e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XBxSlqyQoume-ND6Twcvtg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。sourceIn或。第二个圆圈上的源顶部过滤器[橙色]</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/c475d1322570cadaca6f817cb36eb9b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W048iat8NieeQ3F07ysRQQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第二个圆圈上的目的地顶部过滤器[橙色]</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/9ebba7706ae612b9dc4ebd7207b2a3f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rUKkRE_lglZm0msUq0IHNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。第二个圆圈上的排除过滤器[橙色]</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/f75c3d54428da5bbdcde0dab2fa6a796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aom_szxhoj13yCtrFmHEPg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。第二个圆上的乘法滤镜[橙色]</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/0aac334af0bbe8cd33f64962193dd14b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NFAv5osf09T0P37ePtzg2g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。第二个圆圈顶部的目的地[橙色]</p></figure><h2 id="b322" class="my mz it bd nt ov ow dn nx ox oy dp ob li oz pa od lm pb pc of lq pd pe oh pf bi translated">不止一个过滤器</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/c8b23e527c6b515eea646dd0a92089ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oXEdMUIMkYubjotP3pdG4Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。橙色，然后第二个蓝色。清场还是。目的地输出</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/6a31be5f681f7aac27b1fdba24d04066.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QPNbsWrpxc5cELGPSRD_og.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。橙色，然后第二个蓝色。异或运算</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/7cc9bf09c6ea0ffb7676e9d5544c9d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g1_qDHq0iS8JTLWS3dp3ZA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。橙色上的源顶部过滤器，然后第二个蓝色<strong class="bd pi">但是</strong>用。目的地过滤器</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/b9326c2926e77079b346aaeddad7e2b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Og1Tbuc_G9rCy6YNRJovsQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。目的地在橙色，然后第二个蓝色。外包</p></figure><p id="6fcd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，最有用的过滤器[组合]肯定是那些根据它们与其他部分的相互作用来帮助你删除图像部分的过滤器——所以，就像你在上面看到的蓝色形状。</p><p id="9521" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你几乎拥有了所有你想要的东西，只有一个例外，我想请你弄清楚:你没有一只橙色的眼睛，就像上面显示的蓝色眼睛。你怎么能做这一套？</p><p id="1400" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至此，我将结束这篇论文。花点时间玩玩过滤器，看看你能否回答我问的最后一个问题。</p></div><div class="ab cl pj pk hx pl" role="separator"><span class="pm bw bk pn po pp"/><span class="pm bw bk pn po pp"/><span class="pm bw bk pn po"/></div><div class="im in io ip iq"><p id="c55e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面给出了实现这一点的代码。我已经改变了<code class="fe lv lw lx ly b">rectA</code>和<code class="fe lv lw lx ly b">rectB</code>，使它们在彼此的顶部对齐。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="eebc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有这些都让我想到了这篇文章的结尾。尝试一下过滤器，看看如何让它们为你服务。</p></div></div>    
</body>
</html>