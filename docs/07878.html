<html>
<head>
<title>Making Beautiful Charts With ChartJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用图表制作漂亮的图表</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/making-beautiful-charts-with-chartjs-46a045465c24?source=collection_archive---------10-----------------------#2021-03-01">https://betterprogramming.pub/making-beautiful-charts-with-chartjs-46a045465c24?source=collection_archive---------10-----------------------#2021-03-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3bad" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">简单灵活的JavaScript图表</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/400bf6882d5a6146059be8375a05d185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mpyrgqwMjfclV2oN1U2VIA.jpeg"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">照片由<a class="ae kw" href="https://unsplash.com/@lukechesser?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">卢克·切瑟</a>在<a class="ae kw" href="https://unsplash.com/s/photos/chart?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="e417" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">到处都是图表。广告信息图、媒体统计数据、YouTube统计数据、你的锻炼统计数据，甚至你的K/D比率都可以在图表中看到。如果您正在开发一个带有仪表板的应用程序，我确信您将需要一些图表来显示各种统计数据。</p><p id="8210" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">有许多不同的图表、图表库和创建图表的方法。ChartJS是最大的HTML5 / Canvas图表创建库之一。它有一些漂亮的图表，也有很好的个性化。而且是开源的！</p><p id="575a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我将使用一个NextJS项目作为一个基于React的开始网页，但是你可以使用你喜欢的任何东西，因为ChartJS是本文的主题，所以我不会说得太详细。</p><h1 id="4cfb" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">装置</h1><p id="92ff" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated">让我们从初始化npm开始，通过逐个运行以下命令来安装我们需要的所有包，包括ChartJS。以下是命令:</p><pre class="kh ki kj kk gt mq mr ms mt aw mu bi"><span id="ba64" class="mv lu iq mr b gy mw mx l my mz">npm init<br/>npm i next react react-dom<br/>npm i <!-- -->chart.js --save</span></pre><p id="9ba0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">接下来的步骤是针对NextJS的。我们需要更新我们的<code class="fe na nb nc mr b">package.json</code>文件中的脚本，并创建一个<code class="fe na nb nc mr b">pages</code>目录，其中包含我们的<code class="fe na nb nc mr b">index.js</code>，我们将在其中使用图表。您可以使用以下命令:</p><pre class="kh ki kj kk gt mq mr ms mt aw mu bi"><span id="96af" class="mv lu iq mr b gy mw mx l my mz">"scripts": {  <br/>  "dev": "next dev",<br/>  "build": "next build",<br/>  "start": "next start"<br/>}</span></pre><p id="ee8d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在新的<code class="fe na nb nc mr b">pages/index.js</code>中，您可以复制粘贴最小页面的以下代码，如下所示:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="bf97" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">当你运行<code class="fe na nb nc mr b">npm run dev</code>时，你应该能够浏览到<code class="fe na nb nc mr b">localhost:3000</code>来查看你的最小页面。</p><h1 id="8b39" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">创建您的第一个图表</h1><p id="3f3a" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated">我们首先需要一块画布。HTML <code class="fe na nb nc mr b">canvas</code>元素就可以了。我们也需要参考它。在React中你会使用一个<code class="fe na nb nc mr b">ref</code>，在普通的HTML和JS中你会使用<code class="fe na nb nc mr b">document.getElementById('myChart')</code>。代码如下:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="6053" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们创建对canvas元素的引用，并将图表类型设置为条形图。如果运行这段代码，您将看到一个空的响应图表。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/dd8b6f5791000bff75d3e6bcefb9ec41.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*J8J3q7edZLxIlmX03uN-xA.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">如果你把屏幕变小，空的图表</p></figure><p id="e38e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">要添加数据，我们需要向图表对象添加一个<code class="fe na nb nc mr b">data</code>对象。在这个数据对象中，我们可以声明所有的统计数据、标签等等。让我们首先使用下面的代码添加一些关于我们每周吃的饼干数量的统计数据:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="c3b1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们添加了一个带有标签、颜色和数据的数据集。我们可以添加更多的数据集，以创建更有用的图表来比较数据。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/c5a67c7ef1afb87a0990c5c3f1f4f596.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*L25OIa3ql18LGHg17EAc1w.png"/></div></figure><p id="f22d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果我们复制粘贴当前的数据集对象并做一些修改，我们将得到这个图表。请注意，图表的最低值将决定最低的Y轴。把第二周的饼干数量换成另一个数字来看这个。</p><h1 id="444b" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">选择</h1><p id="f194" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated">要更改Y轴上的刻度或其他选项，我们需要使用图表对象中的<code class="fe na nb nc mr b">options</code>对象。对于这一部分，我们将使用<a class="ae kw" href="https://gist.github.com/mbvissers/1bf07733fa7d440fa31ae612b7249d2c" rel="noopener ugc nofollow" target="_blank">这个数据集</a>。它有一些细微的变化，我不会深入探讨。下面是一个简单的折线图，与上面的非常相似。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/cbdfaa2cc399425ca5fdba0b701ec086.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*fDwnXnxl9BE52e0I76bCHQ.png"/></div></figure><p id="f1f1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">你现在可以注意到Y轴从两点开始。但是当然，我们希望它从零开始。为此，我们需要添加<code class="fe na nb nc mr b">options.scales.yAxes.ticks.beginAtZero</code>选项。这些都是嵌套对象。代码如下:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="7cac" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">你可以看到这个物体可以快速增长。幸运的是，您可以像预期的那样以编程方式添加、更改和删除这些值。它甚至将大多数数据操作动画化，并提供开箱即用的工具提示。</p><h1 id="4f60" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">结论</h1><p id="d3c3" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated">ChartJS是一个用于创建图表的漂亮且制作精良的库。这些图表看起来轻巧而结实，因为制作这些图表很容易。该对象可以快速增长，但非常易于管理，我肯定会在未来的项目中使用这个库。</p><p id="3703" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">想了解更多信息，我推荐看一下<a class="ae kw" href="https://www.chartjs.org/docs/latest/" rel="noopener ugc nofollow" target="_blank">官方文档</a>。</p><p id="1778" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">感谢您的阅读，祝您愉快。</p></div></div>    
</body>
</html>