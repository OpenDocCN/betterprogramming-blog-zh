<html>
<head>
<title>Build a Command Line Tool to Resize and Change Formats of Images Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python构建一个命令行工具来调整图像大小和更改图像格式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-command-line-tool-to-resize-and-change-formats-of-images-using-python-40c1149ea80e?source=collection_archive---------14-----------------------#2022-08-16">https://betterprogramming.pub/build-a-command-line-tool-to-resize-and-change-formats-of-images-using-python-40c1149ea80e?source=collection_archive---------14-----------------------#2022-08-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="50ce" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">看看像素工具</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/153b1d0fc8de48b61fdcdd7db34e69c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WVsgLM-TtOABYMgYd1Lozw.jpeg"/></div></div></figure><p id="2d8e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当我们上传一些文件到任何网站时，图像大小限制是最糟糕的部分之一。有许多免费网站允许你免费调整图片大小，但是我们不能因为上传图片到任何网站而失去隐私。</p><p id="8ca2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作为由<a class="ln lo ep" href="https://medium.com/u/8ea5869c4112?source=post_page-----40c1149ea80e--------------------------------" rel="noopener" target="_blank">小叮当基金会</a>主办的黑客马拉松的一部分。<a class="ln lo ep" href="https://medium.com/u/2bbd0f527267?source=post_page-----40c1149ea80e--------------------------------" rel="noopener" target="_blank"> Ajmal Mohad </a>和我已经建立了一个Python CLI工具，用于调整图像大小和改变图像格式。</p><h1 id="9abb" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">那么，Pixage是什么？</h1><p id="ef95" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">Pixage是一个命令行图像格式工具，我们可以使用它来转换图像格式，调整图像大小，以及其他可选的预处理。它支持所有常见的格式，包括PNG，JPEG和JPG。Pixage提供了一个简单的界面来定制各种参数，如分辨率、压缩等。</p><h1 id="1622" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated"><em class="mm">特性</em></h1><ol class=""><li id="90ba" class="mn mo iq kt b ku mh kx mi la mp le mq li mr lm ms mt mu mv bi translated">放大和降低图像分辨率</li><li id="1b23" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">转换图像格式</li></ol><h1 id="4abe" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">使用的库</h1><ol class=""><li id="65f4" class="mn mo iq kt b ku mh kx mi la mp le mq li mr lm ms mt mu mv bi translated">colorama==0.4.4</li><li id="418e" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">枕头==9.0.1</li><li id="a82a" class="mn mo iq kt b ku mw kx mx la my le mz li na lm ms mt mu mv bi translated">typer==0.4.0</li></ol><h1 id="dc28" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">源代码解释</h1><p id="a83c" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">首先，您需要导入所有的基本包并初始化它们</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="4962" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">由于这是一个CLI工具，我们需要创建一个函数，在运行脚本时充当参数</p><p id="6045" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">举个例子，</p><p id="9e63" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们正在创建一个函数来改变图像格式从JPG/JPEG到PNG</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="d94d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">类似地，我们正在创建多个函数，这些函数将在终端中执行脚本时充当参数。</p><ol class=""><li id="409c" class="mn mo iq kt b ku kv kx ky la nd le ne li nf lm ms mt mu mv bi translated">巴布亚新几内亚到JPG</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="8df2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.缩小图像的尺寸</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="ca41" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">3.放大图像的尺寸</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="a860" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">4.帮助命令</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="ad89" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在你一定想知道<code class="fe ng nh ni nj b">options()</code>函数在前面的代码块中会做什么。</p><p id="43cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么，现在让我们定义选项函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="e56a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，让我们定义一下<code class="fe ng nh ni nj b">main()</code>函数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="cdb1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">if条件将检查在执行脚本时是否传递了参数:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><h1 id="07ee" class="lp lq iq bd lr ls nr lu lv lw ns ly lz jw nt jx mb jz nu ka md kc nv kd mf mg bi translated">运行脚本</h1><p id="e22c" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">打开终端，将位置更改为包含Python文件的文件夹。</p><p id="075b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行以下命令来看看神奇之处:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/368eac2248421daa10e60ac83cf8537b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9IDXjz0u3HUNobxtsCqQiQ.png"/></div></div></figure><h1 id="a49d" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">例子</h1><pre class="kg kh ki kj gt nx nj ny nz aw oa bi"><span id="fd2b" class="ob lq iq nj b gy oc od l oe of">pixage.py topng /home/arjun-ms/Documents/Pixage/cat.jpeg</span><span id="a762" class="ob lq iq nj b gy og od l oe of">pixage.py reduce /home/arjun-ms/Documents/Pixage/cat.jpeg 2</span></pre></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><p id="02d5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以在我的<a class="ae oh" href="https://github.com/arjun-ms/Pixage" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>中找到开源项目(它对贡献开放)。</p></div><div class="ab cl nk nl hu nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="ij ik il im in"><pre class="kg kh ki kj gt nx nj ny nz aw oa bi"><span id="f570" class="ob lq iq nj b gy oc od l oe of"><strong class="nj ir">Want to Connect?</strong></span><span id="4b2e" class="ob lq iq nj b gy og od l oe of">Follow me on <a class="ae oh" href="https://twitter.com/Arjun_M_S_" rel="noopener ugc nofollow" target="_blank">Twitter</a>.</span></pre></div></div>    
</body>
</html>