<html>
<head>
<title>Take Your Angular Apps to the Next Level (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你的角度应用更上一层楼(第1部分)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/take-your-angular-apps-to-the-next-level-ee75b9655df4?source=collection_archive---------7-----------------------#2020-09-09">https://betterprogramming.pub/take-your-angular-apps-to-the-next-level-ee75b9655df4?source=collection_archive---------7-----------------------#2020-09-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="82c1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用有棱角的材料、灵活的布局、反应式的形式和路线动画来构建漂亮的、反应灵敏的应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e04dc905cbbde2e125647f3edab9f677.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hG5CpqF_bSMF1It-M_HdCA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://lipa.imranr.dev" rel="noopener ugc nofollow" target="_blank"> https://lipa.imranr.dev </a>简单展示棱角分明的材料——图片由Imran Remtulla提供</p></figure><p id="72e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Angular就是快速完成任务。路由和服务等开箱即用的功能使您可以轻松启动并运行应用程序的基本框架。当然，当涉及到应用程序的实际内容(HTML、CSS和TS)时，您只能靠自己。还是你？在本指南中，我们将探索一些库和特性，使构建好看的、可维护的应用程序变得容易；即使你和我一样，不擅长设计。</p><p id="cba6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">具体来说，我们将研究:</p><ul class=""><li id="496c" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">角状材料</li><li id="5ae7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">柔性布局</li><li id="53e3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">反应形式</li><li id="77a8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">路由动画</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2790" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">角状材料</h1><p id="715c" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated"><a class="ae ky" href="https://material.angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular Material </a>是一个遵循谷歌<a class="ae ky" href="https://material.io/design" rel="noopener ugc nofollow" target="_blank">材质设计</a>准则的漂亮组件库。除了各种按钮、表单字段、导航组件和其他样式化的UI项目之外，它还提供了一组非样式化的“行为原语”,使得构建拖放、覆盖和剪贴板交互等复杂功能变得非常简单。</p><p id="56da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何安装角材料，使用一个组件，并指定自定义主题，包括一个自动黑暗的主题。</p><h2 id="e89a" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">设置</h2><p id="6527" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">要安装这个库，在Angular项目中运行<code class="fe nz oa ob oc b">ng add @angular/material</code>。会问你几个问题。我建议选择“自定义”主题，然后对下面两个问题回答“是”,以启用字体样式和浏览器动画。</p><h2 id="28e0" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">使用组件</h2><p id="9199" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">要使用任何组件，您必须首先将它添加到您的<code class="fe nz oa ob oc b">app.module.ts</code>文件中的imports数组。例如，要使用mat按钮:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="fac2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，您应该能够在应用程序的任何地方使用该组件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/7434c4c401f05ddeb73db79c34e15b83.png" data-original-src="https://miro.medium.com/v2/resize:fit:208/format:webp/1*0xsPQ_ObJG9ByhCvzykNGA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">结果按钮</p></figure><p id="291b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经可以看到使用这个库的好处。按钮有颜色，阴影，点击动画，禁用时灰显——所有这些都不需要写一行CSS！</p><p id="241b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此处提供了角形材料成分的完整列表<a class="ae ky" href="https://material.angular.io/components/categories" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="1007" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">主题</h2><p id="3e47" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在上面的代码中，你可能注意到在按钮上添加<code class="fe nz oa ob oc b">color="primary"</code>会使它变成蓝色。为了保持一致的外观，棱角分明的材质主题使用三种颜色:</p><ul class=""><li id="1ace" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">原色:应用程序的主色。</li><li id="e4a5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">次要颜色:补充主要颜色，用于强调一些组件，以防止应用程序被单一颜色主导。</li><li id="763e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">警告:用于错误信息的颜色，通常为红色。</li></ul><p id="2153" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应用程序主题在<code class="fe nz oa ob oc b">styles.scss</code>或<code class="fe nz oa ob oc b">custom-theme.scss</code>中定义，取决于您的应用程序在安装Angular Material之前是否使用SCSS风格。</p><p id="1028" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要定义一个主题，首先需要定义它将使用的三种颜色。然后，使用这些颜色创建一个主题变量。最后，使用<code class="fe nz oa ob oc b">@include</code>指令告诉框架实际使用那个主题。</p><p id="6c4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认主题应该是这样的(默认评论被删除，我的被添加):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><h2 id="a0d0" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">黑暗主题</h2><p id="efcd" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">如今大多数操作系统都有黑暗主题功能，所以人们使用的任何应用程序都应该尊重主机平台的黑暗主题设置，这是有道理的。</p><p id="7885" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，在定义了上面的Angular主题之后，<code class="fe nz oa ob oc b">@include</code>关键字实际上是告诉应用程序使用该主题。这意味着我们可以定义任意数量的主题，然后根据我们当时想要使用的主题动态地使用<code class="fe nz oa ob oc b">@include</code>关键字。</p><p id="88a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在创建黑暗主题时，棱角分明的材质也有特殊的作用。这会使mat-menu等组件变暗。</p><p id="44a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们使用这些概念和<code class="fe nz oa ob oc b">prefers-color-scheme</code> CSS查询来实现自动黑暗模式:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="4610" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，该应用程序应该根据用户的设备设置从靛蓝/粉红色光主题切换到紫色/绿色暗主题！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="5319" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">柔性布局</h1><p id="d3c0" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">如果你讨厌处理CSS flexbox或设置媒体查询来重新安排不同屏幕尺寸的布局，你会喜欢<a class="ae ky" href="https://github.com/angular/flex-layout" rel="noopener ugc nofollow" target="_blank"> Angular Flex-Layout </a>库。</p><h2 id="e473" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">设置</h2><p id="76ab" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">通过运行<code class="fe nz oa ob oc b">npm i @angular/flex-layout @angular/cdk</code>安装柔性布局。然后，将其添加到<code class="fe nz oa ob oc b">app.module.ts</code>中的导入数组中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><h2 id="9fb0" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">使用</h2><p id="42d1" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">使用Flex-Layout非常简单。所有容器都可以按行或列排列它们的子容器。在这两种情况下，所有的孩子都可以聚集在容器的两端，或者均匀分布，或者根据具体情况给定一定的空间。根据屏幕是否属于五种尺寸类别之一，所有这些设置可能会有所不同。</p><p id="7936" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看一个简单的例子。假设我有一个表单域和一个按钮。在大屏幕上，我希望它们排成一行，但在较小的屏幕上，它们应该排成一列:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="a949" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用<code class="fe nz oa ob oc b">fxLayout</code>属性来指定div应该包含行。然后，我们使用带有<code class="fe nz oa ob oc b">.lt-sm</code>修饰符的相同属性来指定当屏幕小于小屏幕的阈值时，它应该包含列。这是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/ca14c3a17e3f189431d2e574522eb4e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/format:webp/1*_RyxKirdKVP_udvCHIornQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在小屏幕上。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/4ce3e55f8ef88dbc5cfde15b03098dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*r6_ur05fFz_Y0oJc8cjOnA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在更大的屏幕上。</p></figure><p id="38ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的，那可以，但是在大屏幕上看起来很奇怪。按钮被拉伸得太高，项目之间没有足够的空间。我们可以使用<code class="fe nz oa ob oc b">fxLayoutGap</code>和<code class="fe nz oa ob oc b">fxLayoutAlign</code>来解决这个问题:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="9c18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们现在在div中使用了六个flex-layout属性；三个用于小屏幕，三个用于所有其他屏幕。除了在小屏幕上看起来不错之外，这是它现在在大屏幕上的样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/cd1cdaab429476ebe73370b7a6650b4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*1lbdraETddrCf255NBff5A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">好多了。</p></figure><p id="9f22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一定要看看<a class="ae ky" href="https://github.com/angular/flex-layout/wiki/API-Documentation#containers" rel="noopener ugc nofollow" target="_blank">详细文档</a>才能真正解锁这个系统的威力！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2331" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">反应形式</h1><p id="d982" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">无论你在哪里学习Angular，你都可能被教导使用带有ngModel指令的模板驱动表单。另一种选择是使用反应形式。这两者之间有许多不同之处，但简单来说，反应式表单设置起来稍微困难一些，但是更加灵活和可伸缩。如果你的应用程序包含复杂的表单，我建议使用反应式表单。</p><h2 id="b7f2" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">设置</h2><p id="7cf3" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">从<code class="fe nz oa ob oc b">@angular/forms</code>导入<code class="fe nz oa ob oc b">ReactiveFormsModule</code>，并将其添加到<code class="fe nz oa ob oc b">app.module.ts</code>的导入数组中，就像我们在前面的例子中对其他模块所做的那样。</p><p id="6498" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用的是角度材质表单字段，也可以导入这些字段并将其添加到数组中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><h2 id="ff90" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">使用</h2><p id="cdfe" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们创建一个简单的反应式登录表单。在组件的<code class="fe nz oa ob oc b">.ts</code>文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="5524" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在组件中声明了两个表单控件/输入，并将它们组合成一个名为<code class="fe nz oa ob oc b">loginForm</code>的表单。每个FormControl可以有任意数量的验证器。虽然您可以编写自己的自定义验证器函数，但是我们使用了内置的<code class="fe nz oa ob oc b">required</code>函数来确保两个字段都不能为空。我们还使用了<code class="fe nz oa ob oc b">Validators.email</code>函数来确保用户在电子邮件字段中输入了电子邮件。</p><p id="cb69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们构建HTML:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/7222abd055231b1778cc5a65b2e7891e.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*3-WyXLhJjXpC6DvY2wKxMg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">结果表单</p></figure><p id="ab25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们使用<code class="fe nz oa ob oc b">form</code>元素上的<code class="fe nz oa ob oc b">[formGroup]</code>属性将表单连接到我们在<code class="fe nz oa ob oc b">.ts</code>文件中创建的<code class="fe nz oa ob oc b">FormGroup</code>。每个输入元素还有一个<code class="fe nz oa ob oc b">formControlName</code>属性，将它连接到适当的<code class="fe nz oa ob oc b">FormControl</code>。请注意，尽管我使用的是Angular Material和Flex-Layout库，但反应式表单并不依赖于它们。另外，请注意，即使我们在<code class="fe nz oa ob oc b">FormGroup</code>中使用了验证器函数，我们仍然需要向<code class="fe nz oa ob oc b">input</code>元素添加<code class="fe nz oa ob oc b">required</code>和<code class="fe nz oa ob oc b">type="email"</code> / <code class="fe nz oa ob oc b">type="password"</code>属性。这些不用于验证，但出于UI原因仍然需要存在，即屏蔽密码字符并将星号添加到必填字段。</p><p id="ec16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们需要做的就是当点击“提交”按钮时，让表单实际提交它的输入。将以下内容添加到组件的<code class="fe nz oa ob oc b">.ts</code>文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="d221" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，将该函数调用添加到HTML中表单元素上的一个<code class="fe nz oa ob oc b">(ngSubmit)</code>属性中，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="c9a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经告诉表单每当点击提交按钮时调用提交函数。submit按钮检查用户输入的有效性，如果输入有效，则将其打印到控制台。</p><p id="7dbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看当我尝试提交包含有效和无效输入的表单时会发生什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/3a9a9fbb3bf650c4add2b2d1943c5a91.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*lM9wxy_BX15BS4T2j3JDPg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">输入无效输入后，单击提交。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/b0a2b87ab7db8b9fef9aab88b632256b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*wnKqTj-YCYCKToKyYiL-9Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">尝试提交无效输入后，控制台为空。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/5e094a8dd43499c64f1bf2a4d0b4ec43.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*g8UIIWNPFqeTnYq_OFRuEA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">输入有效输入后，单击提交。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/816d2eec667a9bdb713c0de888de5f60.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*kf1TwLnNRi5ZHSGD3oMJZw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">有效提交后，输入被打印到控制台。</p></figure><p id="330a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，输入字段在无效时会变成红色，我们可以随时通过<code class="fe nz oa ob oc b">loginForm.valid</code>检查表单的有效性，包括单击提交按钮的时候。当然，在现实世界中，提交函数会连接到一些登录API，而不仅仅是打印到控制台。</p><p id="1ec2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">反应形式，特别是当与有角的物质结合时，比我在这里展示的有更多的力量。您可以显示自定义错误消息，订阅值更改，等等。点击可获得更深入的指南<a class="ae ky" href="https://angular.io/guide/reactive-forms" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="dc8e" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">路由动画</h1><p id="1d47" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">当用户在路线之间移动时，路线动画是添加过渡动画的简单方式。您可以为不同的路线过渡指定特定的动画，或者为多个路线过渡重复使用同一个动画。</p><p id="5a3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看如何在两条路线之间设置一个简单的淡入动画。我们有一个有两条路线的应用程序，<code class="fe nz oa ob oc b">/a</code>和<code class="fe nz oa ob oc b">/b</code>，包含在它们之间移动的按钮。我假设你对角度路由足够熟悉，能够理解并设置这样一个演示应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/87cbbc931922e60f4c7da5b7cfe41a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*afHEUQzu6_Ec-b1QmTaH4w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">路线动画演示应用程序的结构。</p></figure><p id="4e2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，确保<code class="fe nz oa ob oc b">BrowserAnimationsModule</code>在<code class="fe nz oa ob oc b">app.module.ts</code>的导入数组中。如果不是，就从<code class="fe nz oa ob oc b">@angular/platform-browser/animations</code>进口。</p><p id="9537" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们需要向每条路线添加一条额外的数据，以便在以后的动画中识别它:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="6cee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，创建一个名为<code class="fe nz oa ob oc b">route-animations.ts</code>的新文件。这是我们定义实际动画的地方:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="0f70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不会深入动画的细节，但让我们来看一个高层次的概述。我们正在定义一个<code class="fe nz oa ob oc b">fader</code>变量。在里面，我们为不同的路线转换定义了不同的动画。我们为从组件A到组件B的转换定义了一个动画(<code class="fe nz oa ob oc b">pageA =&gt; pageB</code>)，为所有其他转换定义了另一个动画(<code class="fe nz oa ob oc b">* &lt;=&gt; *</code>)。如您所见，我们通过之前添加的数据字符串来引用组件。动画本身只是为动画的开始指定一个CSS样式，为动画的结束指定一个CSS样式，为动画指定持续时间和<a class="ae ky" href="https://en.wikipedia.org/wiki/Inbetweening" rel="noopener ugc nofollow" target="_blank">补间</a>。</p><p id="b970" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好了，我们已经定义了动画和它们应该应用的过渡。剩下的就是实际使用它们了。</p><p id="4daf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将以下内容导入<code class="fe nz oa ob oc b">app.component.ts</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="8f25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在同一个文件中，在<code class="fe nz oa ob oc b">@component</code>指令下添加一个新的“animations”项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="693e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后将以下函数添加到App组件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="da0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，将<code class="fe nz oa ob oc b">router-outlet</code>包装在<code class="fe nz oa ob oc b">app.component.html</code>中的一个div中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="55e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！动画现在应该可以工作了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/35557c106a3b25968281e5136e808390.png" data-original-src="https://miro.medium.com/v2/resize:fit:328/1*Gkw_aUku8GkJD7fnnvgDPQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从组件A过渡到组件b。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7357ae9c112acebc60061361bf403a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:328/1*BnT2OLsyHM2Sw-56-9q32A.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从组件B过渡到组件a。</p></figure><p id="ddb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是对路由器动画的快速浏览，但它更侧重于完成任务，而不是解释它是如何工作的。更详细的解释，查看<a class="ae ky" href="https://angular.io/guide/route-animations" rel="noopener ugc nofollow" target="_blank">官方指南</a>。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="e4c4" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="0c7a" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我希望这个指南能帮助你把你的Angular应用程序提升到一个新的水平；你可能想看看第二部分。感谢阅读！</p></div></div>    
</body>
</html>