<html>
<head>
<title>Dealing With GitHub Password Authentication Deprecation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理GitHub密码认证不被接受</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/dealing-with-github-password-authentication-deprecation-1b59ced90065?source=collection_archive---------1-----------------------#2021-07-07">https://betterprogramming.pub/dealing-with-github-password-authentication-deprecation-1b59ced90065?source=collection_archive---------1-----------------------#2021-07-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="534c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不要等到最后一天才更新你的GitHub认证方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/751a6569ea0caa8fb56c947692d5a3b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wYrH8mnoPiIhcEJR"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae ky" href="https://unsplash.com/@franckinjapan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Franck </a>拍摄的照片。</p></figure><p id="1919" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如<a class="ae ky" href="https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/" rel="noopener ugc nofollow" target="_blank"> GitHub在2020年12月宣布</a>的那样，从2021年8月13日开始，将不再接受账号密码来认证Git操作。换句话说，密码身份验证已经过时，不再有效。</p><p id="2008" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它将被以下两种方法之一替换:</p><ol class=""><li id="2d3c" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><a class="ae ky" href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token" rel="noopener ugc nofollow" target="_blank">个人接入令牌认证</a></li><li id="5d63" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/connecting-to-github-with-ssh" rel="noopener ugc nofollow" target="_blank"> SSH密钥认证</a></li></ol><p id="5216" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看您需要做些什么来避免身份验证问题，并采用两个建议的解决方案之一。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="89b6" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">1.个人访问令牌认证</h1><p id="eec2" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">首先，让我们深入研究PATs(个人访问令牌)。然后，您将看到如何为GitHub存储库配置基于PAT的认证。正确的PAT具有以下四个特征:</p><ol class=""><li id="deb5" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">独特性:它与GitHub不同，可以根据设备或用途生成。</li><li id="84d3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">可撤销:可以在任何时候单独撤销，而无需更新任何凭据。</li><li id="33c0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">有限:根据定义，它的范围很窄，只提供对有限操作集的访问。</li><li id="fa1b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">Random: <strong class="lb iu"> </strong>与密码不同，它不受字典或蛮力攻击。</li></ol><p id="d2d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，您应该将pat视为密码。保持它们的秘密，将它们作为环境变量使用，而不是将它们硬编码到您的应用程序中。</p><p id="bfce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们看看如何将您的GitHub远程身份验证从密码更改为个人访问令牌。</p><ol class=""><li id="6007" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><a class="ae ky" href="https://docs.github.com/en/github/getting-started-with-github/verifying-your-email-address" rel="noopener ugc nofollow" target="_blank">验证您的电子邮件地址</a>。</li><li id="bec3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在任一GitHub页面的右上角，点击你的个人资料照片，然后点击“设置”</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/8ccd7d1c1a4e530ed27f39f35a9ad1a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*_BK7zRJ36Dy1qol7dKaozQ.png"/></div></figure><p id="7534" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.在“设置”页面的左侧栏中，点击“开发者设置”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/e88df6118ef42ba5e8993c40b3549628.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*yp5Uf9UE0mKgPCa86l5t3g.png"/></div></figure><p id="dea1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.在“开发者设置”页面的左侧栏中，点击“个人访问令牌”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/f589b2af804a9784b58c2f3e163bfdfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*xuLfW104KaHm5HF8AlXS0A.png"/></div></figure><p id="bcb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.点击“生成新令牌”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/df1f78f337aed144afe8a7a8b869abac.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*Rij5o4T3S4n7jmEFU0DvHg.png"/></div></figure><p id="4725" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">6.为您的令牌命名，并选择您想要授予它的范围和权限。请注意，如果您想使用您的令牌从命令行访问存储库，您必须选择“repo”<em class="nr"/>选项<em class="nr">。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/74adc6ce9dd5b382666cfd88d4f22bf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rWNPzlgHxn3pFX9pv3mavg.png"/></div></div></figure><p id="65c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">7.点击“生成令牌”<em class="nr"> </em>按钮，然后按照GitHub的要求输入您的密码。</p><p id="7d9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">8.将令牌复制到剪贴板，并将其存储在安全的地方。请记住，出于安全原因，离开此页面后，您将无法再次看到令牌。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/f720d04ad6903c815432fc91c176e010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4i23V_LuiWngCW4kMPx6xA.png"/></div></div></figure><p id="c691" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">定义一个有效的PAT后，在HTTPS上执行Git操作时，可以用它代替密码。</p><p id="de74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在命令行上，您可以输入以下内容:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="c4bb" class="nz mr it nv b gy oa ob l oc od">$ git clone https://github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git<br/>Username: <em class="nr">your_username</em><br/>Password: <em class="nr">your_token</em></span></pre><p id="427a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，您可以在本地更新遥控器。首先，通过启动<code class="fe oe of og nv b">git remote remove origin</code>移除你的旧遥控器(假设你的遥控器叫做<code class="fe oe of og nv b">origin</code>)。然后，以下列格式再次添加它:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="c10b" class="nz mr it nv b gy oa ob l oc od">git remote add origin https://&lt;TOKEN&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git</span></pre><p id="21f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊！在执行Git操作时，您将不再需要使用您的GitHub帐户密码。这样，当它停止工作时，你将避免问题。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="093f" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">2.SSH密钥认证</h1><p id="e1f2" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们看一下如何将GitHub远程认证从密码更改为SSH密钥的分步指南。</p><ol class=""><li id="871c" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><a class="ae ky" href="https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent" rel="noopener ugc nofollow" target="_blank">如果您还没有SSH密钥的话，生成一个SSH密钥</a>。</li><li id="6660" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">将您的SSH公钥复制到您的剪贴板。您应该能够在隐藏的<code class="fe oe of og nv b">.ssh</code>文件夹中找到它(如果您是Windows用户，请使用<code class="fe oe of og nv b">C:\Users\&lt;USERNAME&gt;\.ssh</code>)。移动到那里，打开<code class="fe oe of og nv b">.pub</code>文件，复制它的内容，同时注意不要添加新行或空白。</li><li id="b59f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在任一GitHub页面的右上角，点击你的个人资料照片，然后点击“设置”</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/8ccd7d1c1a4e530ed27f39f35a9ad1a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:458/format:webp/1*_BK7zRJ36Dy1qol7dKaozQ.png"/></div></figure><p id="44b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.在“设置”页面的左侧栏，点击“SSH和GPG键”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/22d513cf9ee0972e64610f7e9b1e99bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*AmnI3ZktDVT1Wyn9mMEzlw.png"/></div></div></figure><p id="d4a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.点击【新建SSH密钥】<em class="nr"> </em>按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/0aee2920e8b10b5253810f02189a67fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5OidfXAFtYx33XibDGNHSQ.png"/></div></div></figure><p id="21c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">6.给你的SSH密钥起一个描述性的标题，并将你在第2步中复制的内容粘贴到“密钥”文本区域。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/a9cd600464e6b6ab35523d8ca9fce6c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pLBIAm8USF0ZKN7alkI8eg.png"/></div></div></figure><p id="784c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">7.点击“添加SSH密钥”按钮，然后按照GitHub的要求输入您的密码。</p><p id="f28c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要测试一切是否按预期进行，请启动以下命令:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="8b07" class="nz mr it nv b gy oa ob l oc od">$ ssh -T git@github.com</span></pre><p id="f5fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该会收到以下消息:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="856e" class="nz mr it nv b gy oa ob l oc od">Hi &lt;USERNAME&gt;! You've successfully authenticated, but GitHub does not provide shell access.</span></pre><p id="6b8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，你所要做的就是在本地更新你的遥控器。首先，通过启动<code class="fe oe of og nv b">git remote remove origin</code>移除你的旧遥控器(假设你的遥控器叫做<code class="fe oe of og nv b">origin</code>)。然后，以下列格式再次添加它:</p><pre class="kj kk kl km gt nu nv nw nx aw ny bi"><span id="5980" class="nz mr it nv b gy oa ob l oc od">git remote add origin git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git</span></pre><p id="d75a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊！当尝试执行与您的GitHub帐户相关的Git操作时，现在将请求您的SSH私有密钥密码短语，而不是您的帐户密码。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="27f7" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="4c1b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">GitHub基于密码的认证已被弃用，很快将不再有效。从8月13日开始，如果你想在你的GitHub库上执行Git操作，你将使用两种方法中的一种来代替它。设置个人访问令牌认证或SSH密钥认证并不是一项复杂的任务，本文旨在解释如何做到这一点。</p><p id="4ba4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！我希望这篇文章对你有所帮助。如果有任何问题、意见或建议，请随时联系我。</p></div></div>    
</body>
</html>