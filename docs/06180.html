<html>
<head>
<title>Create Phone Number TextField With Country Codes and Flags in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中创建带有国家代码和标志的电话号码文本字段</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-phone-number-textfield-with-country-codes-and-flags-in-swiftui-fa3ad981c5f6?source=collection_archive---------2-----------------------#2020-09-08">https://betterprogramming.pub/create-phone-number-textfield-with-country-codes-and-flags-in-swiftui-fa3ad981c5f6?source=collection_archive---------2-----------------------#2020-09-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c955" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">向用户询问联系信息的好方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/165ea8f0855438298202bce25c78e7cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hES9hlCAqgsAFxoa5E2DTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="ffcb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将介绍两种创建显示国家代码及其标志的电话号码视图的方法。第一种方法包含所有国家代码的列表，供用户选择。第二种方法将在用户输入有效的国家代码时显示相关的标志。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="4b67" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">第一种方法</h1><h2 id="88a8" class="mt mc it bd md mu mv dn mh mw mx dp ml lh my mz mn ll na nb mp lp nc nd mr ne bi translated">国家代码功能</h2><p id="206c" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">创建一个视图结构，其中包含我们将拥有的所有国家代码的字典:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="1b84" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要在应用程序中包含完整的国家名称，请添加下面的函数，该函数接收国家代码并返回完整的名称:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="0c2f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要显示国家的国旗，请添加下面的函数，该函数接收国家代码并返回其相关的国旗表情符号:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="7d9f" class="mt mc it bd md mu mv dn mh mw mx dp ml lh my mz mn ll na nb mp lp nc nd mr ne bi translated">国家代码用户界面</h2><p id="7dab" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">我们需要一个列表视图。通过我国代码字典排序的列表。在列表中，我们将有一个<code class="fe nm nn no np b">HStack</code>包含国家的国旗、名称和代码的文本视图。添加一个<code class="fe nm nn no np b">onTapGesture</code>，它将被点击的行的数据分配给我们的绑定变量。绑定变量有助于我们将所选行的数据获取到下一步要创建的另一个struct视图中。为了消除视图，我们将偏移视图的<em class="nq"> y </em>位置。创建一个绑定的<code class="fe nm nn no np b">y</code>变量，当点击一行时，该变量将被改变。在列表视图的一半高度和0:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="f147" class="mt mc it bd md mu mv dn mh mw mx dp ml lh my mz mn ll na nb mp lp nc nd mr ne bi translated">电话号码文本字段用户界面</h2><p id="ab2a" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">为国家代码和国旗创建州变量。添加将用于偏移视图的变量<code class="fe nm nn no np b">y</code>。UI由一个包含文本视图和文本字段的<code class="fe nm nn no np b">HStack</code>组成。文本视图使用一个<code class="fe nm nn no np b">onTapGesture</code>来偏移<code class="fe nm nn no np b">y</code>。在<code class="fe nm nn no np b">ZStack</code>中添加<code class="fe nm nn no np b">HStack</code>，然后在<code class="fe nm nn no np b">HStack</code>下添加我们的<code class="fe nm nn no np b">CountryCodes</code>视图。将<code class="fe nm nn no np b">country code</code>和<code class="fe nm nn no np b">flag</code>状态变量连同<code class="fe nm nn no np b">y</code>变量一起传递给<code class="fe nm nn no np b">CountryCodes</code>视图:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/84a4cc444977a8a9e787937e959478a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/1*CxI3pjZuwZk7datrCcimVQ.gif"/></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="f1b3" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">第二种方法</h1><h2 id="4572" class="mt mc it bd md mu mv dn mh mw mx dp ml lh my mz mn ll na nb mp lp nc nd mr ne bi translated">电话号码文本字段函数</h2><p id="cf2a" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">创建一个结构视图，并添加上面的国家代码字典常量。我们将使用之前在这个结构视图中创建的相同的标志函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="c355" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">创建下面的函数，每当用户输入国家代码时，从字典中获取国家代码。该函数将获取国家代码，并返回与给定代码匹配的值的第一个键:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="a41b" class="mt mc it bd md mu mv dn mh mw mx dp ml lh my mz mn ll na nb mp lp nc nd mr ne bi translated">电话号码文本字段用户界面</h2><p id="ab36" class="pw-post-body-paragraph ky kz it la b lb nf ju ld le ng jx lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">创建下面的函数，每当用户输入国家代码时，从字典中获取国家代码。该函数将获取一个国家代码，然后返回字典中值与给定代码匹配的第一个键:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="e3c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">ObservableTextField是一个可观察的类对象。它包含一个已发布的变量，该变量通过返回didSet中的前三位数字来限制用户输入三位以上的数字。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/a8586c7e4d6f93b98fd921bdaa89c80a.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/1*ilZxyGrBVqVZJqLLJKNLeg.gif"/></div></figure><p id="848c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你查看国家代码字典，你会发现有多个国家有相同的代码。应用程序将返回它在字典中找到的第一个键。为了避免出现错误的标志，请使用第一种方法，或者允许用户在具有相同代码的标志中进行选择。</p><p id="6b75" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读。</p></div></div>    
</body>
</html>