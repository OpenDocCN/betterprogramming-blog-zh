<html>
<head>
<title>Mint Your Own NFTs With Web3.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Web3.js创建自己的NFT</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/mint-your-own-nfts-with-web3-js-f32f7b1cd8cc?source=collection_archive---------3-----------------------#2021-12-22">https://betterprogramming.pub/mint-your-own-nfts-with-web3-js-f32f7b1cd8cc?source=collection_archive---------3-----------------------#2021-12-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6c9e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建自己的NFT的分步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/fa98522f7f1a6996dd82c6c57edb9bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*jPdrjKBZrV_BhGpsR4E2Rw.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Substrapunk # 13</p></figure><p id="d760" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是由四部分组成的NFT创造者系列的第四部分:</p><ol class=""><li id="169e" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><a class="ae lz" rel="noopener ugc nofollow" target="_blank" href="/create-your-own-nft-collection-with-python-82af40abf99f"> <em class="ma">用Python </em> </a>创建自己的NFT收藏</li><li id="7718" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp lv lw lx ly bi translated"><a class="ae lz" rel="noopener ugc nofollow" target="_blank" href="/generate-your-nft-metadata-11a878c082b9"> <em class="ma">创建NFT元数据</em> </a></li><li id="396a" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp lv lw lx ly bi translated"><a class="ae lz" rel="noopener ugc nofollow" target="_blank" href="/how-to-deploy-nft-smart-contracts-9271ce5e91c0"> <em class="ma">部署NFT智能合约</em> </a></li><li id="19ad" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp lv lw lx ly bi translated"><strong class="kw iu"> NFT铸币</strong></li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi mg"><img src="../Images/7416addd5619cf5a2d9a3211ac6b072d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xK9j927xF51RUE1iyBF8Ww.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">NFT创造者系列的第四部分</p></figure><p id="672f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您想单独编写代码，可以在前面的部分中找到必备的代码。</p><h1 id="e235" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">什么是铸币？</h1><p id="1bcf" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">铸造是指在以太坊区块链上将数字文件转化为NFT的过程。该NFT存储在分散的数据库中，因此无法编辑、修改或删除。</p><h1 id="e1bd" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">安装WEB3库</h1><p id="1a78" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">你将需要炼金术库来与他们的API交互。因此，您应该安装它。</p><p id="56a7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="ma">在您的命令行中运行:</em></p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="38d6" class="nn mm it nj b gy no np l nq nr">chdir [INSERT HERE YOUR NFT PROJECT DIRECTORY]</span><span id="4371" class="nn mm it nj b gy ns np l nq nr">npm install @alch/alchemy-web3</span></pre><h1 id="d487" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">创建您的铸造脚本</h1><p id="02f4" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">在您的。/scripts目录包含下面的代码。</p><p id="b79a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该脚本由五个步骤组成:</p><h2 id="e5fa" class="nn mm it bd mn nt nu dn mr nv nw dp mv ld nx ny mx lh nz oa mz ll ob oc nb od bi translated">步骤1:定义变量</h2><p id="0f26" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">铸造过程需要一些变量，比如元掩码键和炼金术URL。</p><p id="603f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">确保相应地更新您在NFT创造者系列的<a class="ae lz" rel="noopener ugc nofollow" target="_blank" href="/how-to-deploy-nft-smart-contracts-9271ce5e91c0">第3部分创建的<code class="fe oe of og nj b">.env</code> <strong class="kw iu">文件</strong>。</a></p><p id="56c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">小复习:</p><ul class=""><li id="585f" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp oh lw lx ly bi translated"><a class="ae lz" href="https://docs.alchemy.com/alchemy/introduction/getting-started" rel="noopener ugc nofollow" target="_blank"> API_URL </a>:这是你的alchemy应用程序的URL</li><li id="c594" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated"><a class="ae lz" href="https://metamask.zendesk.com/hc/en-us/articles/360015289632-How-to-Export-an-Account-Private-Key" rel="noopener ugc nofollow" target="_blank">私有密钥</a>:你的私有元掩码密钥</li><li id="3f83" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated">PUBLIC_KEY:您的公共元掩码密钥</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/8ba8eab1292ce2540b4db9844f9fcd3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*gX1iclRzDAf-_7UlXbFqmQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">公钥示例</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">。环境文件</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="7593" class="nn mm it bd mn nt nu dn mr nv nw dp mv ld nx ny mx lh nz oa mz ll ob oc nb od bi translated">第二步:定义我们的ABI</h2><p id="8fc9" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated"><a class="ae lz" href="https://docs.alchemyapi.io/alchemy/guides/eth_getlogs#what-are-ab-is" rel="noopener ugc nofollow" target="_blank"> ABI </a>(应用程序二进制接口)是与您在第3部分中部署的智能合约进行交互的接口。</p><p id="8aad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">简而言之，Hardhat为我们的智能契约生成了一个ABI，存储在MyNFT.json文件中。</p><p id="be5c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请务必输入您在<a class="ae lz" rel="noopener ugc nofollow" target="_blank" href="/how-to-deploy-nft-smart-contracts-9271ce5e91c0">第3部分</a>中部署的智能合同地址。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi ol"><img src="../Images/e93fd848f191b65c3a208c117c3ec3a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_Ep2vc5h3FqTrK_P.png"/></div></div></figure><p id="5f12" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在上面的例子中，我们的合同地址是<code class="fe oe of og nj b">0x099D1751c33d75297c9f331a5Cd39275ff534f96</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="23f8" class="nn mm it bd mn nt nu dn mr nv nw dp mv ld nx ny mx lh nz oa mz ll ob oc nb od bi translated">步骤3:定义铸造函数</h2><p id="b115" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">您创建了一个名为mintNFT的函数，它需要一个参数“tokenURI”。让我们来分解一下:</p><ul class=""><li id="577a" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp oh lw lx ly bi translated"><code class="fe oe of og nj b"><strong class="kw iu">Nonce</strong></code> <strong class="kw iu"> </strong>用于跟踪从您的地址发出的交易数量。出于安全目的，这是防止重放攻击所必需的。</li><li id="bd37" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated"><code class="fe oe of og nj b">from</code>:交易的发起方/发起方。这是我们的公共地址。</li><li id="315b" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated"><code class="fe oe of og nj b">to</code>:我们希望与之互动的合同地址。</li><li id="e753" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated"><code class="fe oe of og nj b">gas</code>:完成交易所需的预计气体</li><li id="31e6" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated"><code class="fe oe of og nj b">maxPriorityFeePerGas</code>:每份天然气的预计投标费用</li><li id="c437" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated"><code class="fe oe of og nj b">data</code>:您要执行的计算，即生成一个nft</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="e768" class="nn mm it bd mn nt nu dn mr nv nw dp mv ld nx ny mx lh nz oa mz ll ob oc nb od bi translated">第四步:签署交易</h2><p id="227b" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">您仍然需要在交易上签名才能寄出。</p><p id="67b8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为此，您可以使用web3.eth函数。这将为您提供事务散列，以便验证您的事务被有效地挖掘，并且没有被网络丢弃。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="3d76" class="nn mm it bd mn nt nu dn mr nv nw dp mv ld nx ny mx lh nz oa mz ll ob oc nb od bi translated">步骤5:调用mintNFT函数</h2><p id="b518" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated"><code class="fe oe of og nj b">mintNFT</code>函数需要一个<code class="fe oe of og nj b">tokenURI</code>参数，该参数引用存储元数据(图像、属性、名称、描述等)的JSON文档。</p><p id="ad27" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请按照本教程第二部分<a class="ae lz" rel="noopener ugc nofollow" target="_blank" href="/generate-your-nft-metadata-11a878c082b9">的说明在云中生成&amp;主机元数据。复制链接作为输入参数。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="2ffe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您的mint-nft.js文件现在应该如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h1 id="30a7" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">调用你的mint-nft函数</h1><p id="2d81" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">现在，您可以通过在终端中运行<code class="fe oe of og nj b">mint-nft</code>脚本来创建您的NFT。</p><p id="81f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在您的终端中运行:</p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="5652" class="nn mm it nj b gy no np l nq nr">node scripts/mint-nft.js</span></pre><p id="a3a2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您正确地遵循了所有步骤，您应该会收到一张“交易收据”,其中规定了所有使用的参数。</p><p id="41b7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您也可以在Ropsten Etherscan上查看您的交易是否成功。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi om"><img src="../Images/910ab434b8e101c814f7a9ebba37e079.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r4rOt4TRTN5xbqSM"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Ropsten etherscan报告交易成功</p></figure><p id="1844" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了简单起见，您只创建了一个nft。</p><p id="a36c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因为您有99个想要创建的其他图像，所以您可以创建一个for循环来运行<code class="fe oe of og nj b">mint-nft</code>函数99次，每次运行一个不同的元数据链接。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oj ok l"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">for循环的示例</p></figure><h1 id="a6c1" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">查看您铸造的NFT</h1><ul class=""><li id="c87b" class="lq lr it kw b kx nd la ne ld on lh oo ll op lp oh lw lx ly bi translated">通过各自的应用商店将metamask扩展下载到您的手机上，并使用您的机密短语登录。</li><li id="6244" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated">将您的网络设置为Ropsten</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/072b2eba8b880b3bf0bd7dc67dcb6471.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/0*aJxSFkLo0y5L8Vyn.gif"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated"><a class="ae lz" href="https://static.slab.com/prod/uploads/7adb25ff/posts/images/OzyxsszqiZdQ6AiuRiCQmLh4.gif" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><ul class=""><li id="168a" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp oh lw lx ly bi translated">按“导入NFT”并填写以下参数，这些参数可在<a class="ae lz" href="https://ropsten.etherscan.io/tx/0xcb9fd421ade92155ec9f28c63d325224ceca96186e41844cbcf1c7a138d5e22d" rel="noopener ugc nofollow" target="_blank">以太扫描</a>上找到:</li><li id="4cbf" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated">地址(智能合同地址，这将因您而异):<em class="ma"> </em> <code class="fe oe of og nj b">0x099d1751c33d75297c9f331a5cd39275ff534f96</code></li><li id="67ae" class="lq lr it kw b kx mb la mc ld md lh me ll mf lp oh lw lx ly bi translated">ID (TokenID): <em class="ma"> 1 </em></li></ul><p id="a021" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">刷新元蒙版，你的新铸造的NFT应该会出现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="gh gi om"><img src="../Images/759e5c2a08eca039ec16dfb22081aed7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aJPeYDltXR2uijJK"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Metamask展示了新制作的nft</p></figure><p id="a9c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">编程快乐！</p><h1 id="6282" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">参考</h1><p id="eedd" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">本教程来源于炼金术团队的后续<a class="ae lz" href="https://ethereum.org/en/developers/tutorials/how-to-write-and-deploy-an-nft/" rel="noopener ugc nofollow" target="_blank">帖子</a>。炼金术团队功不可没，请务必查看！</p><p id="6e73" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lz" href="https://ethereum.org/en/" rel="noopener ugc nofollow" target="_blank">ethereum.org</a></p><div class="or os gp gr ot ou"><a href="https://www.alchemy.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">炼金术-区块链API和节点服务|以太坊、多边形、流量、Crypto.org+更多</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">炼金术超节点炼金术超节点是应用最广泛的区块链API，用于以太坊，多边形，预言，乐观…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">www.alchemy.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi ko ou"/></div></div></a></div></div></div>    
</body>
</html>