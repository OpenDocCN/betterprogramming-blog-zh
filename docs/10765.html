<html>
<head>
<title>Everything You Need to Know About YAML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于YAML你需要知道的一切</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/everything-you-need-to-know-about-yaml-fdbb7acf6db6?source=collection_archive---------10-----------------------#2022-01-26">https://betterprogramming.pub/everything-you-need-to-know-about-yaml-fdbb7acf6db6?source=collection_archive---------10-----------------------#2022-01-26</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="d5cc" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">语法、数据类型、样式、实用工具等等</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/5caa41938a27061bfc05a1a5072cff27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UtF8LFNSa8yaxiJC"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@skraidantisdrambliukas?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Gert RDA valasevi it</a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="d70f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">根据维基百科<strong class="lc iv"> YAML </strong> (/ˈjæməl/和<a class="ae kz" href="https://en.wikipedia.org/wiki/Help:Pronunciation_respelling_key" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> YAH-ml </em> </a>)是一种<a class="ae kz" href="https://en.wikipedia.org/wiki/Human-readable" rel="noopener ugc nofollow" target="_blank">人类可读的</a> <a class="ae kz" href="https://en.wikipedia.org/wiki/Serialization" rel="noopener ugc nofollow" target="_blank">数据序列化语言</a>。它通常用于<a class="ae kz" href="https://en.wikipedia.org/wiki/Configuration_file" rel="noopener ugc nofollow" target="_blank">配置文件</a>和存储或传输数据的应用中。</p><p id="a478" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">YAML的目标是许多与可扩展标记语言(XML)相同的通信应用，但有一个最小的语法，有意不同于SGML(T21)。它既使用了<a class="ae kz" href="https://en.wikipedia.org/wiki/Python_(programming_language)" rel="noopener ugc nofollow" target="_blank"> Python </a>风格的缩进来表示嵌套，又使用了一种更紧凑的格式，将<code class="fe lx ly lz ma b">[...]</code>用于列表，将<code class="fe lx ly lz ma b">{...}</code>用于地图，因此<a class="ae kz" href="https://en.wikipedia.org/wiki/JSON" rel="noopener ugc nofollow" target="_blank"> JSON </a>文件是有效的YAML。</p><p id="c57e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">学习YAML很重要，因为它被用于许多配置和编排工具中。</p><pre class="kk kl km kn gu mb ma mc md aw me bi"><span id="71b8" class="mf mg iu ma b gz mh mi l mj mk"><strong class="ma iv">Table of Contents</strong></span><span id="cd90" class="mf mg iu ma b gz ml mi l mj mk">What is YAML?<br/>JSON Vs YAML<br/>Tools Using YAML<br/>YAML Syntax<br/>Data Types<br/>Strings<br/>Timestamp<br/>Comments<br/>Sequences/Lists<br/>Dictionary<br/>Anchors and Alias<br/>Complex Keys<br/>Folded Style<br/>Literal Style<br/>Kubernetes YAML<br/>Docker Compose YAML<br/>Ansible YAML<br/>AWS Cloud Formation YAML<br/>Ansible YAML<br/>YAML Utilities<br/>Conclusion<br/>References</span></pre><h2 id="e085" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">什么是YAML？</h2><ul class=""><li id="d763" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv nk nl nm nn bi translated">最初，YAML代表另一种标记语言。</li><li id="a574" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">后来改成了<em class="lw"> YAML不是标记语言。</em></li><li id="de24" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML是一种人类可读的数据序列化标准，可以与所有编程语言结合使用，通常用于编写配置文件。</li><li id="a01b" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML是由其他语言的片断组成的。它具有源自Perl、C、HTML和其他语言的特性。</li><li id="9432" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML是JSON的超集。</li><li id="614b" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML类似于JSON或XML。</li><li id="a7bf" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML不包含任何命令或指令。</li><li id="0a60" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML可以转换成JSON，反之亦然。</li><li id="cac9" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML最常见的用途之一是创建配置文件。自动化工具Ansible也使用YAML来创建自动化流程，并用于Kubernetes资源和部署。</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nt"><img src="../Images/7388e660b1c6479d63d8672e370674ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ebzo3osrTyw9fDNgM4R-sA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="1d5b" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">JSON vs YAML</h2><p id="de81" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">YAML是容易和可读的格式。在<a class="ae kz" href="https://stackoverflow.com/questions/1726802/what-is-the-difference-between-yaml-and-json" rel="noopener ugc nofollow" target="_blank">链接中查看JSON和YAML的区别。</a></p><p id="6102" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">例如，检查YAML和JSON文件之间的差异。YAML是一种更加用户友好和可读的格式。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nx"><img src="../Images/2583184679f9ef28b8fe806af9679d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ScsQ2NXaSkLR9GIRMmYyA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="5c5b" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">YAML是JSON的超集。</li><li id="0ac6" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML能够使用“锚”引用YAML文件中的其他项目因此，它可以像在MySQL数据库中一样处理关系信息。</li><li id="7617" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML对于在YAML文件中嵌入JSON或XML等其他序列化格式更加稳健。</li></ul><h2 id="896c" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">使用YAML的工具:</h2><p id="fc5c" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">使用YAML的一些流行工具有</p><ul class=""><li id="1244" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">码头工人</li><li id="81a6" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">Ansible</li><li id="25a2" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">库伯内特斯</li><li id="c2d0" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">詹金斯</li><li id="dedf" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">自动气象站云的形成</li><li id="9786" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">Azure Devops</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ob"><img src="../Images/409a46b8eae9ffee79079a3cf61be215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Va8wUmE6A8tbUqmNgWJLqw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="b412" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">YAML语法</h2><ul class=""><li id="d524" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv nk nl nm nn bi translated">所有YAML文件都可以选择以<code class="fe lx ly lz ma b">---</code>开头，以<code class="fe lx ly lz ma b"><strong class="lc iv">...</strong></code> <strong class="lc iv">结尾。</strong>这是YAML格式的一部分，表示文件的开始和结束。</li><li id="ce07" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">一个文件可以包含多个文档。文档之间用——以<code class="fe lx ly lz ma b">---</code>开始，以<code class="fe lx ly lz ma b">...</code>结束</li><li id="37a0" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML像python编程一样使用缩进。允许空格，不允许制表符。</li><li id="4a0c" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML的文件扩展名是<strong class="lc iv">。yaml或者。yml </strong>。</li><li id="2130" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML区分大小写。姓名:马丁&lt;&gt;姓名:马丁&lt;&gt;姓名:马丁</li><li id="43cd" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">YAML使用<strong class="lc iv">键:值对</strong></li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oc"><img src="../Images/fd79942163381c8ba01d7eefe8c44f07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J7Ga-xQiAYyhiYep2WNeMA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="e36e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在上面的代码片段中:</p><ul class=""><li id="6133" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">名称:Martin是键-值对。</li><li id="13ee" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">“:”后面应该有空格，像<code class="fe lx ly lz ma b">name: Martin</code>。</li><li id="80df" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">标量是分配给键的单个值。</li><li id="5f6b" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">马丁是标量。</li></ul><h2 id="a314" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">数据类型</h2><p id="520e" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">YAML数据类型有</p><ul class=""><li id="74f7" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">数量</li><li id="1eb9" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">目录</li><li id="f335" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">词典</li></ul><p id="52a5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">标量类型有</p><ul class=""><li id="8ab7" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">用线串</li><li id="8a38" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">整数</li><li id="2ed7" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">浮动的</li><li id="5e23" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">布尔运算</li></ul><h2 id="95e6" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">用线串</h2><ul class=""><li id="2c62" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv nk nl nm nn bi translated">在YAML，你不需要给字符串加引号或双引号。</li><li id="c025" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">“是”和“否”应该用字符串括起来。否则，它们将被解释为布尔值。</li><li id="dd89" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">如果使用特殊字符，请使用单引号或双引号。比如邮箱:<code class="fe lx ly lz ma b">yaml@gmail.com</code> →邮箱:“<code class="fe lx ly lz ma b">yaml@gmail.com</code>”。</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="2b23" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated"><code class="fe lx ly lz ma b"><strong class="ak">!!timestamp</strong></code></h2><p id="8717" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">根据YAML文档，时间戳值代表一个时间点。这可以使用ISO8601格式的子集和W3C在<code class="fe lx ly lz ma b">DateTime</code>上提出的格式进行序列化。</p><p id="b399" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果省略时区，则假定时间戳以UTC格式指定。可以完全省略时间部分，从而得到日期格式。在这种情况下，时间部分假定为<code class="fe lx ly lz ma b">00:00:00Z</code>(一天的开始，UTC)。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="f55f" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">此外，YAML允许显式声明数据类型，如下所示，使用！！<code class="fe lx ly lz ma b">[DataTypeName]</code></li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="b237" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">评论</h2><ul class=""><li id="fa9d" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv nk nl nm nn bi translated">在YAML，可以用“#”号来表示意见。这和python类似。</li><li id="92b9" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">注释可以在行的任何地方开始。</li><li id="b0cd" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">可以在每行中使用#号对多行进行注释。</li><li id="8f96" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">JSON不允许评论。</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="1b9e" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">序列/列表</h2><ul class=""><li id="4760" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv nk nl nm nn bi translated">序列就像python中的列表。</li><li id="c999" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">该序列以一个“-”和一个空格开始。</li><li id="7fae" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">可以使用块样式或流样式来定义序列。</li><li id="495e" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">块样式是</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="3a97" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">流样式就像用Python列表样式写的一样，用方括号括起来。</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="9f39" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">词典</h2><ul class=""><li id="52fd" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv nk nl nm nn bi translated">字典是键值对的集合。</li><li id="7542" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">字典以简单的<code class="fe lx ly lz ma b"><strong class="lc iv">key: value</strong></code>形式表示(冒号后面必须跟一个空格)。</li><li id="cc52" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">列表成员由前导连字符(<code class="fe lx ly lz ma b"><strong class="lc iv">-</strong></code>)表示。请参考示例词典。</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="ad0d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">JSON中的同一个字典如下:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="24f3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">XML中的同一个字典:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="d3de" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在您可以看到，与JSON和XML相比，YAML的格式是多么简单和易读。</p><h2 id="9197" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">锚点和别名:</h2><ul class=""><li id="c86c" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv nk nl nm nn bi translated">锚由一个<code class="fe lx ly lz ma b">&amp;</code>字符标识，别名由一个<code class="fe lx ly lz ma b">*</code>字符标识。</li><li id="1221" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">锚就像<em class="lw">在YAML文档中用锚标识一个项目</em>，然后<em class="lw">在同一文档中用别名引用那个项目</em>。让我们看一个例子来理解。</li><li id="4322" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated"><code class="fe lx ly lz ma b">&amp;</code> / <code class="fe lx ly lz ma b">*</code>字符和下面的别名之间没有空格。</li><li id="4a39" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">例如，查看下面的示例</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="7ac3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这个例子看起来很简单。</p><p id="8cfc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们以下面的docker-compose文件为例:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="d2f4" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">在上面的例子中，我们声明了一个名为<code class="fe lx ly lz ma b">&amp;web</code>的锚。这里的<code class="fe lx ly lz ma b">&amp;web</code>指的是整个服务:</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="8e07" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在我们用alias *web引用anchor&amp;web，然后只需更改端口映射81:80和82:80。覆盖特定于&lt;&lt; with the characters before the Alias to add more values or existing values.</p><p id="3d8e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">If you don’t use the anchor and alias then your code looks long and repetitive like below:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Image by author</p></figure><h2 id="464b" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">Complex Keys</h2><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj of"><img src="../Images/8ab7f2bb6d18fd2017b0c526841d8f19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5E6KvS4uFZ43jpXV3FmCyw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Image by author</p></figure><p id="e1e1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">A complex key is created by first inserting a question mark followed by a space, followed by the <em class="lw">语言的</em>标签和键的最终值。</p><pre class="kk kl km kn gu mb ma mc md aw me bi"><span id="7a6c" class="mf mg iu ma b gz mh mi l mj mk">? - Tesla<br/>  - Honda<br/>: [Electric, Economy]</span></pre><h2 id="49cb" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated"><strong class="ak">折叠样式:</strong></h2><p id="3041" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">使用&gt;来保留换行符，如下所示</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="77e8" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">文字样式:</h2><p id="c80a" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">如果您想要换行，请使用|。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="3f3c" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">库伯内特YAML</h2><p id="3afa" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">Kubernetes资源是以声明的方式创建的，因此利用了YAML文件。Kubernetes资源，如pod、服务和部署都是通过使用YAML文件创建的。</p><p id="2c75" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们看看部署YAML文件:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><ul class=""><li id="d1f3" class="nd ne iu lc b ld le lg lh lj ny ln nz lr oa lv nk nl nm nn bi translated">部署名称<code class="fe lx ly lz ma b">nginx-deployment</code>被创建，由<code class="fe lx ly lz ma b">.metadata.name</code>字段指示。部署创建了三个复制的pod，由<code class="fe lx ly lz ma b">.spec.replicas</code>字段指示。有关Kubernetes <a class="ae kz" href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" rel="noopener ugc nofollow" target="_blank">的更多信息，请参考此链接。</a></li></ul><h2 id="6662" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">码头工人作曲YAML</h2><p id="e6e3" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">根据docker文档，docker-compose是一个定义和运行多容器docker应用程序的工具。使用Compose，您可以使用YAML文件来配置应用程序的服务。然后，只需一个命令，您就可以从您的配置中创建并启动所有服务。</p><p id="0c3c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们来看一个docker-compose YAML文件:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="7885" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请参考更多关于<a class="ae kz" href="https://docs.docker.com/compose/#:~:text=Compose%20is%20a%20tool%20for,the%20services%20from%20your%20configuration." rel="noopener ugc nofollow" target="_blank"> docker-compose YAML </a>的信息。</p><h2 id="2358" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">自动气象站云形成</h2><p id="3365" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">根据AWS文档，AWS CloudFormation是一项服务，<strong class="lc iv">为开发人员和企业</strong>提供了一种简单的方法来创建相关AWS和第三方资源的集合，并以有序和可预测的方式提供和管理它们。</p><p id="125e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">AWS云形成使用YAML或JSON。</p><p id="3562" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们来看一个AWS云信息YAML文件的例子:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="5856" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">Ansible YAML</h2><p id="995e" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">翻译剧本是在YAML写的。一个可行的剧本是一个YAML <strong class="lc iv">序列</strong>，它本身由<strong class="lc iv">映射</strong>和<strong class="lc iv">序列</strong>组成。更多信息请参考<a class="ae kz" href="https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html" rel="noopener ugc nofollow" target="_blank">相关文档</a>。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="od oe l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h2 id="caf3" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">YAML公用事业公司</h2><ol class=""><li id="fcdd" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv og nl nm nn bi translated">YAML·林特:检查你的YAML语法。</li><li id="46ed" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated">y<a class="ae kz" href="https://pypi.org/project/yamllint/" rel="noopener ugc nofollow" target="_blank">AML Lint-Python package</a>:YAML Lint不仅检查语法有效性，还检查奇怪的地方，比如键重复和外观问题，比如行长度、尾随空格、缩进等等。</li><li id="93d8" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated"><a class="ae kz" href="https://codebeautify.org/yaml-validator" rel="noopener ugc nofollow" target="_blank"> YAML验证器:</a>另一个验证你的语法的工具。</li><li id="7ffb" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated"><a class="ae kz" href="https://www.json2yaml.com/convert-yaml-to-json" rel="noopener ugc nofollow" target="_blank"> JSON到YAML </a>:将JSON转换成YAML，反之亦然。</li><li id="ff99" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated"><a class="ae kz" href="http://yaml-online-parser.appspot.com/" rel="noopener ugc nofollow" target="_blank"> YAML解析器:</a>另一个将JSON转换成YAML的工具。</li><li id="25d8" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated">全YAML :都在一个地方。</li></ol><h1 id="d110" class="oh mg iu bd mm oi oj ok mp ol om on ms ka oo kb mv kd op ke my kg oq kh nb or bi translated">结论</h1><p id="dbc5" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nu ll lm ln nv lp lq lr nw lt lu lv in bi translated">同样，YAML简单易用。此外，它还被用于docker-compose、Kubernetes、Ansible、Jenkins和cloud formation的所有云技术中。所以了解YAML是件好事。</p><p id="eee2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请随时在<a class="ae kz" href="http://linkedin.com/in/esenthil" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系</p><h2 id="3fbf" class="mf mg iu bd mm mn mo dn mp mq mr dp ms lj mt mu mv ln mw mx my lr mz na nb nc bi translated">参考</h2><ol class=""><li id="e169" class="nd ne iu lc b ld nf lg ng lj nh ln ni lr nj lv og nl nm nn bi translated"><a class="ae kz" href="https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html" rel="noopener ugc nofollow" target="_blank">https://docs . ansi ble . com/ansi ble/latest/reference _ appendencies/yamlsyntax . html</a></li><li id="d389" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated"><a class="ae kz" href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" rel="noopener ugc nofollow" target="_blank">https://kubernetes . io/docs/concepts/workloads/controllers/deployment/</a></li><li id="544e" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated"><a class="ae kz" href="https://www.redhat.com/en/topics/automation/what-is-yaml#:~:text=YAML%20is%20a%20data%20serialization,used%20for%20writing%20configuration%20files.&amp;text=YAML%20is%20a%20popular%20programming,conjunction%20with%20other%20programming%20languages" rel="noopener ugc nofollow" target="_blank">https://www.redhat.com/en/topics/automation/what-is-yam</a>l</li><li id="a155" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated"><a class="ae kz" href="https://en.wikipedia.org/wiki/YAML" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/YAML</a></li><li id="9c09" class="nd ne iu lc b ld no lg np lj nq ln nr lr ns lv og nl nm nn bi translated"><a class="ae kz" href="https://yaml.org/spec/1.2.2/" rel="noopener ugc nofollow" target="_blank">https://yaml.org/spec/1.2.2/</a></li></ol></div></div>    
</body>
</html>