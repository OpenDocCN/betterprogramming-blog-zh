<html>
<head>
<title>The TypeScript Guide I Wish I Had</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我希望我有打字指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-typescript-guide-i-wish-i-had-185087d66dd1?source=collection_archive---------0-----------------------#2022-08-18">https://betterprogramming.pub/the-typescript-guide-i-wish-i-had-185087d66dd1?source=collection_archive---------0-----------------------#2022-08-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="34c5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过可视化指南和简单的语言学习打字稿</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/717c74e40b881eb685ba438073ce6d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMxFaNz8ui1wLV_lw2SlIQ.jpeg"/></div></div></figure><p id="db93" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">斗争不必如此真实。</p><p id="7780" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Typescript伴随着一个严重的学习曲线，老实说，在早期阶段，它可能会感觉像一个你必须承担的负担，因为“行业”决定它是史诗般的新趋势…现在你需要学习这个新东西，只是为了在不久的将来保住(或获得)你的工作。</p><p id="10c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我是通过试错来学习TS的，顽固地磕磕绊绊，推高了我的编译器给我的痛苦之山，因为它一直对我大喊错误信息，甚至更糟的是，对于在Typescript出现之前绝对可以工作的代码。然而，经历这一切，其实是值得的；但是，如果有更多的视觉指南、简单的语言和具体的例子使它更容易理解，它就不会如此痛苦，这就是为什么我要写这个:我希望我有的打字稿指南。</p><p id="52eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本系列将分为许多部分，从使用Typescript的原因和一些介绍性概念开始。然后，我们将逐步转向我为各种平台构建的应用程序中遇到的高级用例。我们开始吧。</p><h2 id="870a" class="ln lo iq bd lp lq lr dn ls lt lu dp lv la lw lx ly le lz ma mb li mc md me mf bi translated"><strong class="ak">简介—从“为什么”开始</strong></h2><blockquote class="mg mh mi"><p id="0ee5" class="kr ks mj kt b ku kv jr kw kx ky ju kz mk lb lc ld ml lf lg lh mm lj lk ll lm ij bi translated">“我已经可以看着代码说出数据是什么了……用typescript有什么意义？”—我，当我被介绍给TS的时候</p></blockquote><p id="16f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从表面上看，这种说法似乎并不遥远，因为JavaScript内置了数据类型，而且很多时候，我们只要看一看就能知道它们是什么。</p><ul class=""><li id="1b10" class="mn mo iq kt b ku kv kx ky la mp le mq li mr lm ms mt mu mv bi translated"><code class="fe mw mx my mz b">"Hello"</code>是字符串</li><li id="d4eb" class="mn mo iq kt b ku na kx nb la nc le nd li ne lm ms mt mu mv bi translated"><code class="fe mw mx my mz b">2</code>是一个数字</li><li id="8012" class="mn mo iq kt b ku na kx nb la nc le nd li ne lm ms mt mu mv bi translated"><code class="fe mw mx my mz b">true/false</code>是一个布尔</li><li id="fe81" class="mn mo iq kt b ku na kx nb la nc le nd li ne lm ms mt mu mv bi translated"><code class="fe mw mx my mz b">{}</code>是一个物体</li><li id="1818" class="mn mo iq kt b ku na kx nb la nc le nd li ne lm ms mt mu mv bi translated"><code class="fe mw mx my mz b">[]</code>是一个阵</li><li id="080e" class="mn mo iq kt b ku na kx nb la nc le nd li ne lm ms mt mu mv bi translated"><code class="fe mw mx my mz b">NaN</code>不是数字</li><li id="f072" class="mn mo iq kt b ku na kx nb la nc le nd li ne lm ms mt mu mv bi translated"><code class="fe mw mx my mz b">null</code>为空或未知</li><li id="d154" class="mn mo iq kt b ku na kx nb la nc le nd li ne lm ms mt mu mv bi translated"><code class="fe mw mx my mz b">undefined</code>表示没有设置值</li></ul><p id="da9c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，大多数时候，数据驱动的应用程序并没有这么简单，因为数据通常是嵌套和抽象的。例如，假设您想从商店的数据库中获取某个商品的数量；让我们使用方法<code class="fe mw mx my mz b">getItemQuantity(“378982”, “128365”)</code>，其中第一个参数是商品的ID，第二个参数是商店的ID。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/65736804aa4e9fbb474e51c8cc3904fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zB87eqqbUjSGrb7mpRkaww.png"/></div></div></figure><p id="cb18" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，并不完全清楚从名称<code class="fe mw mx my mz b">getItemQuantity</code>返回的值是什么，它可能是一个数字，一个数组，一个字符串，甚至是未定义的或空的；这完全取决于设计API的人。如果您从这个数据库中收到一个类似“1”的值会怎么样？然后想象你在你的应用中把它加到一个实际的<strong class="kt ir"> <em class="mj">数字</em> </strong>上，比如1，也许是为了增加它的数量。嗯，在javascript中，“1”+1会给出“11”，而不是我们在将这些值相加时可能期望的2。现在，您或其他开发人员可能需要花时间对代码进行故障排除，以最终认识到您正在使用的API以字符串格式返回数字。</p><p id="d91e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">TypeScript可以帮助您准确地知道您应该(预期)处理哪种数据，因此您不必猜测某人是指“1”还是“1”，或者他们是否认为这两者都可以。请注意，这是一个简单的情况，数据会变得比这复杂得多，尤其是在处理对象、对象中的数组或对象中的数组时，哦，天哪(我们将在后面的文章中讨论这一点)。数据越复杂，TypeScript就变得越有用。</p><h1 id="73d3" class="ng lo iq bd lp nh ni nj ls nk nl nm lv jw nn jx ly jz no ka mb kc np kd me nq bi translated"><strong class="ak">工作原理</strong></h1><p id="c6a5" class="pw-post-body-paragraph kr ks iq kt b ku nr jr kw kx ns ju kz la nt lc ld le nu lg lh li nv lk ll lm ij bi translated">让我们来看更多的例子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b75b3b9f4aabd0ee845ac198c0d09bde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nLfKiZrsKWLzcyQOlOuYXg.jpeg"/></div></div></figure><p id="90df" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Typescript是用来描述事物的，它可以用来描述我们能想到的任何事物的特征。让我们从上面这个简单的房子插图开始。描述这一点的核心方法是使用TypeScript的接口工具。接口描述了事物的一个或多个属性。它让我们确切地知道某事是什么。</p><p id="97f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下是该房屋插图的示例界面:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="a3c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们来分解一下这个接口。</p><p id="23af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mw mx my mz b">Interface SimpleHouse {</code> ←这是我们用来描述上图中房子的名字。它可以是任何名字，比如CartoonHouse，TinyHouse，HouseIllustration，或者任何最能描述这个东西的名字。根据经验，我喜欢这样想——如果有人给你看这张图片，你会说它是什么？然后，尽量准确描述，尽量少用词。</p><p id="f4ad" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mw mx my mz b">price: number;</code><strong class="kt ir">↓</strong>这意味着价格可能是10000，而不是“$ 10000”这告诉我们，接口期望这个价格是一个数字，而不是其他。如果你想同时允许一个数字和一个字符串，你可以这样写<code class="fe mw mx my mz b">price</code>属性:<code class="fe mw mx my mz b">price: number | string</code>。我们稍后将更详细地介绍这个符号(<code class="fe mw mx my mz b">|</code>)的含义。</p><p id="baa6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mw mx my mz b">color: string;</code> <strong class="kt ir"> ← </strong>这意味着它可以是任何颜色:“红色”、“黑色”、“绿色”等等。只要确保它是一个字符串，如<code class="fe mw mx my mz b">undefined</code>或<code class="fe mw mx my mz b">null</code>等。</p><p id="ac22" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mw mx my mz b">numberOfWindows: 0 | 1 | 2;</code><strong class="kt ir">↓</strong>这意味着一个简单房屋允许的窗户数量是0、1或2……没有别的。在typescript中使用竖线(|)称为“联合”。我喜欢把一个联合看作是多项选择，其中允许竖线之间拆分的任何一个值。如果我们试图为<code class="fe mw mx my mz b">numberOfWindows</code>设置值3，typescript会在我们的文本编辑器中抛出一个错误警告。这是因为3不在<code class="fe mw mx my mz b">0 | 1 | 2</code>的并集中。我们可以像这样添加3个成员:<code class="fe mw mx my mz b">0 | 1 | 2 | 3</code>。</p><h2 id="ed09" class="ln lo iq bd lp lq lr dn ls lt lu dp lv la lw lx ly le lz ma mb li mc md me mf bi translated"><strong class="ak">重述</strong></h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="d949" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在下面的示例应用程序中，尝试编辑房屋插图的值以查看它的更新，以及typescript如何根据它的预期告诉您某个值是否不正确。例如，尝试为<code class="fe mw mx my mz b">numberOfWindows</code> <strong class="kt ir"> </strong>输入值3，看看TS如何处理警告。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nx l"/></div></figure><p id="4fbb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我真诚地希望这篇文章是即将到来的系列文章的第一部分。感谢阅读。</p></div></div>    
</body>
</html>