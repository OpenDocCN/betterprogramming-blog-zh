<html>
<head>
<title>Git Cherry-pick: Merge Only the Selected Commits in Git CLI and GUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git精选:在Git CLI和GUI中只合并选中的提交</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/git-cherry-pick-merge-only-the-selected-commits-in-git-cli-and-gui-99259de728e3?source=collection_archive---------7-----------------------#2022-02-01">https://betterprogramming.pub/git-cherry-pick-merge-only-the-selected-commits-in-git-cli-and-gui-99259de728e3?source=collection_archive---------7-----------------------#2022-02-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3737" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用Git挑选提交是什么意思？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/2e2edf60b52586a6ea03d13ca4f875fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rlboD7hx1gppn5wyErZVRQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="7c17" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">管理大型团队和项目中的开发和分支可能会令人疲惫不堪。您可能会将未完成的工作发送到生产环境中，从而导致错误。对于团队来说，拥有防止这种情况发生的心态和规则是非常重要的。</p><p id="4898" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">事实上，我的团队过去也遇到过类似的情况。当时，我们是一个新团队，总是急于向组织证明我们的价值，我们有一个开发思维，但有一些规则，如完成的定义、部署清单等。仍在进行中。</p><p id="18a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们有三个分支和环境；开发、试运行和生产。我们直接将开发与试运行以及试运行与生产相结合。</p><p id="bb9e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">开发环境中的一个特性是依赖于另一个团队的第三方API。另一个团队只在他们的开发环境中完成了他们的开发，但是由于某种原因(他们依赖于另一个客户或其他东西，我不记得确切的原因了)没有将这种改变推到他们的生产环境中。我们急着进行部署来修复一个生产缺陷。</p><p id="2f29" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这一点上，我们忘记了依赖关系，并将所有内容合并到生产分支。我们在一个小时内意识到并回滚到前一个版本，但由于是在工作日的中间，我们已经收到了用户报告的几个错误。</p><p id="d7b8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是我们对工作流程和规则的呼吁。根据这个要求，我们将git cherry-pick引入到我们的开发过程中。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="2397" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">什么是樱桃采摘？</h1><p id="f617" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">有时需要将一个特性进展到另一个分支，而不需要源分支中的其他提交。为此，git提供了<code class="fe mv mw mx my b">cherry-pick </code>命令。</p><p id="5ce5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Git中的精选意味着从一个分支中选择一个提交，并将其应用到另一个分支。这与其他方式形成对比，例如<code class="fe mv mw mx my b">merge</code>和<code class="fe mv mw mx my b">rebase</code>，它们通常将许多提交应用到另一个分支。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="98ff" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">Git CLI解决方案</h1><p id="bfc0" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">作为一个简单的开始，假设我们已经开发了一个特性，<strong class="kx ir"> C </strong>，目前在开发分支中与其他开发A、B和d一起可用。如果我们希望特性C在staging分支中，那么我们应该使用<code class="fe mv mw mx my b">cherry-pick</code>命令来实现这一点。</p><p id="0b31" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">采摘樱桃的步骤:</p><ol class=""><li id="825f" class="mz na iq kx b ky kz lb lc le nb li nc lm nd lq ne nf ng nh bi translated">首先，确定你的主管部门是发展部:</li></ol><pre class="kg kh ki kj gt ni my nj nk aw nl bi"><span id="39dd" class="nm lz iq my b gy nn no l np nq">git checkout development</span></pre><p id="11dc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">2.其次，您应该获得特性c的提交SHA id。您可以通过以下两种方式之一来完成此操作:</p><p id="4ea7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">a.提交功能C后，运行以下命令:</p><pre class="kg kh ki kj gt ni my nj nk aw nl bi"><span id="998e" class="nm lz iq my b gy nn no l np nq">git rev-parse development</span></pre><p id="9ed9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这将为您提供已经在开发分支上完成的<code class="fe mv mw mx my b">__latest__</code>提交id。</p><p id="7946" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">b.如果提交不是最新的，那么运行下面的命令来查看对开发的最后5次提交:</p><pre class="kg kh ki kj gt ni my nj nk aw nl bi"><span id="8f71" class="nm lz iq my b gy nn no l np nq">git log -5</span></pre><p id="5b14" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">复制要素的提交id。</p><p id="74cd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">3.现在把头换成staging。</p><pre class="kg kh ki kj gt ni my nj nk aw nl bi"><span id="42d6" class="nm lz iq my b gy nn no l np nq">git checkout stage</span></pre><p id="1bb0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">4.使用您的提交id运行以下精选命令:</p><pre class="kg kh ki kj gt ni my nj nk aw nl bi"><span id="eb0e" class="nm lz iq my b gy nn no l np nq">git cherry-pick -x b29e6aaxx0c315ba94afc0xx35ff7b2b76f9xx03</span></pre><p id="aefe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">-x参数提供了您为这个新提交执行的特性C输入的解释。在这一步，您已经完成了本地提交操作。</p><p id="e731" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">5.现在是推动的时候了</p><pre class="kg kh ki kj gt ni my nj nk aw nl bi"><span id="08ee" class="nm lz iq my b gy nn no l np nq">git push</span></pre><p id="8d79" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">6 -现在应该没问题了，您的更改应该被推送到登台分支。不要忘记使用下面的命令切换回开发分支:</p><pre class="kg kh ki kj gt ni my nj nk aw nl bi"><span id="ccdd" class="nm lz iq my b gy nn no l np nq">git checkout development</span></pre></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h1 id="c188" class="ly lz iq bd ma mb mc md me mf mg mh mi jw mj jx mk jz ml ka mm kc mn kd mo mp bi translated">Git GUI解决方案</h1><p id="146b" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">使用GUI会容易得多，现在几乎每个Git GUI应用程序都支持挑选。下面，我用Git的两个最流行的GUI应用程序演示了挑选。</p><p id="e900" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">假设我们在开发分支上有一个提交，我们希望将它转移到登台分支中。</p><h2 id="212f" class="nm lz iq bd ma nr ns dn me nt nu dp mi le nv nw mk li nx ny mm lm nz oa mo ob bi translated">基特克拉肯</h2><p id="e0c1" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">这部分是关于<a class="ae oc" href="https://www.gitkraken.com/" rel="noopener ugc nofollow" target="_blank"> GitKraken </a>中快乐采摘的说明。</p><p id="ec42" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第一个checkout stage分支，右键单击我们想要的commit并选择“Cherry-pick commit”选项。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/d57ab79dda43ffb527ad787fef881ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3fN2X0RsIMlJX2ULxFQ_ww.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="eea2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">像下面这样的通知会在应用程序的顶部弹出，你只需点击是，然后将更改推送到原点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/9d2fcef57ffd88bd792db918b32fc518.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*APX_zr-3wonftS6T_Xcumg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h2 id="4d6b" class="nm lz iq bd ma nr ns dn me nt nu dp mi le nv nw mk li nx ny mm lm nz oa mo ob bi translated">GitHub桌面</h2><p id="b229" class="pw-post-body-paragraph kv kw iq kx b ky mq jr la lb mr ju ld le ms lg lh li mt lk ll lm mu lo lp lq ij bi translated">这部分是关于<a class="ae oc" href="https://desktop.github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub桌面</a>中的快乐采摘说明。</p><p id="0e75" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第一个checkout stage分支，转到history选项卡，右键单击特定的提交(可以通过点击shift按钮选择多个提交)，然后选择“Cherry-pick commit”选项。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/287274e9abfbe07e5f073b33700d2214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pn6QZx7EdpCkdYV4UN7wHw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="3d1c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它将打开一个弹出窗口，您可以选择目标分支，然后将更改推送到服务器。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/e136b7900c6035b083756eaabd7c6555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tpB3i0d2ALyfgqJP0LpCjg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><p id="b65f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，您已经掌握了git cherry-pick的基本用法。Git cherry-pick有更多的选项可以满足您的需求。要了解更多信息，请查看下面链接的git精选文档:</p><div class="oh oi gp gr oj ok"><a href="https://git-scm.com/docs/git-cherry-pick" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">git-git-樱桃-pick文档</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">git cherry-pick master在master分支的顶端应用由commit引入的更改，并创建一个新的…</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">git-scm.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy kp ok"/></div></div></a></div><p id="e9ea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>