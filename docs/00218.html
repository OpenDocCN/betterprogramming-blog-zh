<html>
<head>
<title>New Angular Drag and Drop Feature — ngDragDrop</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新的角度拖放功能— ngDragDrop</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/new-angular-drag-and-drop-feature-ngdragdrop-8bbdcaa5f737?source=collection_archive---------0-----------------------#2018-10-30">https://betterprogramming.pub/new-angular-drag-and-drop-feature-ngdragdrop-8bbdcaa5f737?source=collection_archive---------0-----------------------#2018-10-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f7f9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何在Angular中实现DragDropModule</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/8f32004ebe553d32b7009d12c2a523fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*Y_p7_0Ptw0A4uAkJb1wx7w.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">ng拖放</p></figure><p id="3e43" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">众所周知，<a class="ae lq" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular 7 </a>推出了一些很酷的新功能。</p><p id="d385" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我要解释Angular 7的一个特性——拖放。</p><p id="5201" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文中，我们将构建一个从数据库获取数据并将其绑定到UI的应用程序。然后，它将执行多方向拖放。</p><p id="99fa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">开始吧！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="96ac" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">源代码</h1><p id="7bc7" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">源代码可以在<a class="ae lq" href="https://github.com/SibeeshVenu/ngDragDrop" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="1f48" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">安装Angular CLI</h1><p id="adaf" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">你可能已经猜到了，我们正在使用<a class="ae lq" href="https://cli.angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular CLI </a>。</p><p id="73af" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你还没有安装Angular CLI，我建议你现在就安装。这是一个很棒的Angular CLI工具，我相信你会喜欢它。</p><p id="b82d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以通过运行以下命令来安装它:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="de4b" class="na lz it mw b gy nb nc l nd ne">npm install -g @angular/cli</span></pre><p id="3e00" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦我们设置了这个项目，我们将使用Angular CLI命令。<a class="ae lq" href="https://cli.angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular CLI文档</a>将帮助您了解使用CLI可以做的所有事情。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="64f6" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">生成新项目</h1><p id="9f27" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">是时候生成我们的新项目了。我们可以使用下面的命令。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="54c0" class="na lz it mw b gy nb nc l nd ne">ng new ngDragDrop</span></pre><p id="3832" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您现在将能够看到CLI为我们所做的所有努力。</p><p id="7b0d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们已经创建了我们的应用程序，让我们运行它，看看它是否工作。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="0f79" class="na lz it mw b gy nb nc l nd ne">ng serve --open (if you need to open the browser by the app)<br/>ng serve (if you want to manually open the browser).<br/>You can always use 'ng s' as well</span></pre><p id="f10a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">该命令将构建您的应用程序，并在浏览器中运行它。</p><p id="afd1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">随着我们的发展，我们将使用棱角分明的材料进行设计。</p><p id="b242" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们现在可以安装它，连同动画和CDK。对于Angular 6+版本，您也可以使用此命令完成此操作:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="0bfe" class="na lz it mw b gy nb nc l nd ne">ng add @angular/material</span></pre></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="90a5" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">生成并设置标题组件</h1><p id="8022" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我们现在有了一个应用程序—让我们创建一个header组件。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="92d5" class="na lz it mw b gy nb nc l nd ne">ng g c header</span></pre><p id="b08c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面的命令将生成您需要使用的所有文件，它还会将这个组件添加到<code class="fe nf ng nh mw b">app.module.ts</code>。</p><p id="a30f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我只是为自己编辑了header组件的HTML，我不会添加任何逻辑。你可以添加任何你想添加的东西。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="3f3c" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">设置页脚组件</h1><p id="116f" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">通过运行以下命令创建页脚组件:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="7c61" class="na lz it mw b gy nb nc l nd ne">ng g c footer</span></pre><p id="5181" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以随意编辑它们或设置它们的样式。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="820b" class="na lz it mw b gy nb nc l nd ne">&lt;p&gt;<br/>  Copyright @SibeeshPassion 2018 - 2019 :)<br/>&lt;/p&gt;</span></pre></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="b481" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">设置app-routing.module.ts</h1><p id="7498" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我们只打算创建一条回家的路线。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="c199" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">在app.component.html设置路由器出口</h1><p id="c8f4" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我们现在有了一条路线，是时候设置出口了。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="5c85" class="na lz it mw b gy nb nc l nd ne">&lt;app-header&gt;&lt;/app-header&gt;<br/>&lt;router-outlet&gt;<br/>&lt;/router-outlet&gt;<br/>&lt;app-footer&gt;&lt;/app-footer&gt;</span></pre></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="d313" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">设置app.module.ts</h1><p id="58cd" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">每个Angular app至少会有一个<code class="fe nf ng nh mw b">NgModule</code>类— <code class="fe nf ng nh mw b">AppModule</code>驻留在<code class="fe nf ng nh mw b">app.module.ts</code>中。</p><p id="7d22" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以在Angular的网站了解更多关于<a class="ae lq" href="https://angular.io/guide/architecture-modules" rel="noopener ugc nofollow" target="_blank"> Angular架构的信息。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="c92a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你看到那里有一个<code class="fe nf ng nh mw b">DragDropModule</code>吗？</p><p id="7679" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您应该导入它以使用拖放功能——它驻留在<code class="fe nf ng nh mw b">@angular/cdk/drag-drop</code>中。</p><p id="e8e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可能已经注意到，我们已经在提供商的阵列中添加了一个名为<code class="fe nf ng nh mw b">MovieService</code>的服务。我们现在将创建它。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="29e1" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">创建电影服务</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="a008" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如您所见，我没有对服务类做太多工作，也没有实现错误机制和其他东西，因为我想让它尽可能简短。</p><p id="4538" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这项服务将从一个在线数据库获取电影:<a class="ae lq" href="https://www.themoviedb.org/" rel="noopener ugc nofollow" target="_blank"> TMDB </a>。在本文和知识库中，我使用我自己的。我强烈建议你创建你自己的，而不是使用这里提到的。</p><p id="1361" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在让我们设置配置文件。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="f1cb" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">设置配置</h1><p id="6c92" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">配置文件是一种以方便的方式安排事情的方式，您必须在您正在处理的所有项目中实现它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="83c5" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">创建电影组件</h1><p id="8137" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">现在让我们创建一个新的组件来加载电影。</p><p id="e2c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">基本上，我们将在<code class="fe nf ng nh mw b">cdkDropList</code> div中使用这个电影组件。</p><p id="7cf1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们的电影组件将有如下的HTML。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="6664" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我只是尽可能的简单。将来，我们可以为电影组件添加更多的属性，并在这里显示它们。</p><p id="bced" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">TypeScript文件将有一个带有<code class="fe nf ng nh mw b">@Input</code> decorator的属性，这样我们可以从home组件输入值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="ca5f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是我的模型电影:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="9deb" class="na lz it mw b gy nb nc l nd ne">export class Movie {<br/>    poster_path: string;<br/>}</span></pre><p id="ad04" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如我所说的，它目前只有一个属性，稍后我会添加几个。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="3ddf" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">设置本国组件</h1><p id="7fdf" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">这是主要部分；我们渲染电影和执行拖放操作的地方。</p><p id="4b0f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我将有一个父容器作为<code class="fe nf ng nh mw b">&lt;div style="display: flex;"&gt;</code>，这样内部div将被水平排列。</p><p id="8876" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我将有两个内部容器:一个显示所有的电影，另一个显示我要看的电影。我可以把电影从左边的容器拖到右边，反之亦然。</p><p id="7b5d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们来设计HTML。以下是全部电影合集。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="7e25" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如您所见，我为app-movie和app-movie容器分配了一些新属性。</p><ul class=""><li id="2242" class="nk nl it kw b kx ky la lb ld nm lh nn ll no lp np nq nr ns bi translated"><code class="fe nf ng nh mw b">cdkDropList</code>基本上是一个用于拖放项目的容器。</li><li id="ded2" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp np nq nr ns bi translated"><code class="fe nf ng nh mw b">#allmovies=”cdkDropList”</code>是源容器的ID。</li><li id="e2f1" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp np nq nr ns bi translated"><code class="fe nf ng nh mw b">[cdkDropListConnectedTo]=”[towatch]”</code>这是我们连接两个应用程序电影容器的方式。记住<code class="fe nf ng nh mw b">towatch</code>是另一个<code class="fe nf ng nh mw b">cdkDropList</code>容器的ID。</li><li id="9912" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp np nq nr ns bi translated"><code class="fe nf ng nh mw b">[cdkDropListData]=”movies”</code>是我们将源数据分配给列表的方式。</li><li id="200f" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp np nq nr ns bi translated"><code class="fe nf ng nh mw b">(cdkDropListDropped)=”drop($event)”</code>是每当有拖放事件时的回调事件。</li><li id="b3e9" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp np nq nr ns bi translated">在<code class="fe nf ng nh mw b">cdkDropList</code>容器中，我们遍历这些值，并将电影传递给我们自己的电影组件<code class="fe nf ng nh mw b">app-movie</code>。</li><li id="2a2c" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp np nq nr ns bi translated">我们还应该在我们的可拖动项目中添加属性<code class="fe nf ng nh mw b">cdkDrag</code>，它只不过是一部电影。</li></ul><p id="3241" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们创建另一个容器，它将包含我要观看的电影的集合。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="b310" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们几乎使用了与第一个容器完全相同的属性，除了id—<code class="fe nf ng nh mw b">cdkDropListData</code>和<code class="fe nf ng nh mw b">cdkDropListConnectedTo</code>。</p><p id="d4a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我们的<code class="fe nf ng nh mw b">home.component.html</code>将如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="9a63" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们需要通过调用我们的服务来获取一些数据。</p><p id="d694" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们打开我们的<code class="fe nf ng nh mw b">home.component.ts</code>文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="beb7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里我导入<code class="fe nf ng nh mw b">CdkDragDrop, moveItemInArray, and transferArrayItem from ‘@angular/cdk/drag-drop’</code>。这有助于我们执行拖放操作。</p><p id="e3ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在构造函数中，我们获取数据并将其赋给变量<code class="fe nf ng nh mw b">movies</code>。这些是电影的一个数组。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="324d" class="na lz it mw b gy nb nc l nd ne">private async getMovies() {<br/>    const movies = await this.movieService.get(config.api.topRated);<br/>    return this.formatDta(movies.json().results);<br/>}</span></pre><p id="d9e2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我将“要看的电影”集合设置如下，因为我已经计划好要看那部电影了。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="07f8" class="na lz it mw b gy nb nc l nd ne">moviesToWatch: Movie[] = [{<br/>    poster_path: '/uC6TTUhPpQCmgldGyYveKRAu8JN.jpg'<br/>  }];</span></pre><p id="c8fd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请记住，如果两个源中至少没有一个项目，那么拖放将不起作用。因为我已经在其中放了一部电影，所以在其他收藏中显示这部电影没有任何意义。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="21d7" class="na lz it mw b gy nb nc l nd ne">formatDta(_body: Movie[]): void {<br/>   this.movies = _body.filter(movie =&gt; movie.poster_path !== '/uC6TTUhPpQCmgldGyYveKRAu8JN.jpg');<br/>}</span></pre><p id="962b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面是我们的下降事件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="5295" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe nf ng nh mw b">home.component.ts</code>的完整代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="9c51" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">自定义样式</h1><p id="92fe" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我已经在一些组件上应用了自定义样式，你可以在下面看到。</p><h2 id="5b9e" class="na lz it bd ma ny nz dn me oa ob dp mi ld oc od mk lh oe of mm ll og oh mo oi bi translated">主页.组件. scss</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="f195" class="na lz it bd ma ny nz dn me oa ob dp mi ld oc od mk lh oe of mm ll og oh mo oi bi translated">电影.组件. scss</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="9d46" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">输出</h1><p id="86d1" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">完成上述所有步骤后，您将拥有一个使用Angular 7拖放实际服务器数据的应用程序。</p><p id="88f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们运行这个应用程序，看看它是如何工作的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oj"><img src="../Images/f907dc8e1fe43cc4751e4ee4672085dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/0*b9pKyEd8PpNKrRRf.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">ngDragDrop初始</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/7375b42b7e9402c2cff6c07d8f3a9985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/0*18mOJxQ3EPjJUX2p.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">添加后的ngDragDrop</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/641b5df85f97085fff71ee43e3b1f807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/0*ZC-CFf1o1VcSs_7G.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">ngDragDrop添加更多</p></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="eb29" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">演示</h1><p id="a3a1" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">可以在GitHub 上找到<a class="ae lq" href="https://sibeeshpassion.github.io/ngDragDrop/home" rel="noopener ugc nofollow" target="_blank">演示。</a></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="ac48" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">结论</h1><p id="3aa0" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在这篇文章中，我们学习了如何:</p><ol class=""><li id="7a17" class="nk nl it kw b kx ky la lb ld nm lh nn ll no lp oo nq nr ns bi translated">创建角度为7°的应用程序。</li><li id="18a6" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp oo nq nr ns bi translated">使用Angular CLI。</li><li id="dab1" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp oo nq nr ns bi translated">以角度生成服务。</li><li id="9350" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp oo nq nr ns bi translated">使用<code class="fe nf ng nh mw b">HttpModule</code>从服务器获取数据。</li><li id="8a9c" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp oo nq nr ns bi translated">以角度生成分量。</li><li id="1447" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp oo nq nr ns bi translated">使用材料设计。</li><li id="06f6" class="nk nl it kw b kx nt la nu ld nv lh nw ll nx lp oo nq nr ns bi translated">使用Angular 7的拖放功能处理真实的服务器数据。</li></ol><p id="59f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请随意使用GitHub库。</p><p id="3dbb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读。以后我会再写一篇同样主题的帖子。</p></div></div>    
</body>
</html>