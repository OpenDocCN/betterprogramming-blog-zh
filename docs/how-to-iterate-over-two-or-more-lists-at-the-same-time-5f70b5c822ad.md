# 如何同时迭代两个(或更多)列表

> 原文：<https://betterprogramming.pub/how-to-iterate-over-two-or-more-lists-at-the-same-time-5f70b5c822ad>

## 使用 zip()而不是手动并行遍历列表

![](img/2b270f7c42b791b18ebccfd19b09fe3a.png)

如果您有多个数据集需要联合计算或显示，那么您可能经历过并行迭代多个列表的痛苦。

这是传统上的样子…

# 传统的方法

取一个列表的长度，使用一个占位符索引变量，通常命名为`i`，手动访问列表中的每个位置。

```
a = [1,2,3,4,5]
b = [10,20,30,40,50]for i in range(len(a)):
   print(a[i],b[i])"""
1 10
2 20
3 30
4 40
5 50
"""
```

注意每个列表中的`[i]`。这看起来足够简单，并不复杂。

但是，如果您有大量的列表或更复杂的数据需要嵌套循环，那么您就很容易犯错误。

一定有更简单的方法…

# zip()函数

`zip()`功能消除了猜测，降低了出错的可能性。接受可变数量的 iterable 参数，该函数将返回一个 zip 对象，该对象根据索引对每个项目进行分组。

```
a = [1,2,3,4,5]
b = [10,20,30,40,50]
c = zip(a,b)print(c)        # <zip object at 0x7f0a064c4eb0>
```

请注意，该函数返回一个 zip 对象，这意味着您不能立即打印它。幸运的是，我们可以将它强制转换成我们想要的数据类型。

```
a = [1,2,3,4,5]
b = [10,20,30,40,50]
c = zip(a,b)print(c)        # <zip object at 0x7f0a064c4eb0>print(list(c))  # [(1, 10), (2, 20), (3, 30), (4, 40), (5, 50)]
print(dict(c))  # {1: 10, 2: 20, 3: 30, 4: 40, 5: 50}
print(tuple(c)) # ((1, 10), (2, 20), (3, 30), (4, 40), (5, 50))
```

将 zip 对象强制放入字典时要小心。正好需要两个参数，否则将会引发错误。

```
a = [1,2,3,4,5]
b = [10,20,30,40,50]
c = [100,200,300,400,500]
d = zip(a,b,c)print(dict(d))
# ValueError: dictionary update sequence element #0 has length 3; 2 is required
```

我们可以在一个`for loop`中使用这个函数作为可迭代的值。下面是使用`zip()`重构的传统并行索引技术。

```
a = [1,2,3,4,5]
b = [10,20,30,40,50]
c = [100,200,300,400,500]
for x,y,z in zip(a,b,c):
   print(x,y,z)"""
1 10 100
2 20 200
3 30 300
4 40 400
5 50 500
"""
```

你还发现了`zip()`功能的其他用途吗？你有另一种方法可以同时遍历多个列表吗？在评论中分享你的经历吧！