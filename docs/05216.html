<html>
<head>
<title>5 Ways to Make the Most of Destructuring in JavaScript to Write Cleaner Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">充分利用JavaScript中析构的5种方法来编写更简洁的代码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-ways-to-make-the-most-of-destructuring-in-javascript-to-write-cleaner-code-d674c00da9c7?source=collection_archive---------1-----------------------#2020-06-21">https://betterprogramming.pub/5-ways-to-make-the-most-of-destructuring-in-javascript-to-write-cleaner-code-d674c00da9c7?source=collection_archive---------1-----------------------#2020-06-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="66ac" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">析构是ES6最激动人心的特性之一</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7945577335efc45814beb858c1ccecd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LlMO2SdnMjZeX1Kv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@jordachelr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">劳伦提乌·约尔达切</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="5c01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">析构使我的代码更短更简洁。尤其是涉及到Redux的时候，我不得不处理不变性的概念，有了destructuring的帮助就更容易了。</p><p id="e360" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将向您展示析构的五个用例。让我们开始吧。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="391f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.从对象获取属性值</h1><p id="b305" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">析构一个对象是一种常见的情况。请看下面的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="8458" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，我们创建了一个变量名，并将<code class="fe nb nc nd ne b">person.name</code>的值赋给它。所以变量名的值是<code class="fe nb nc nd ne b">Amy</code>。</p><p id="6eca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可能想知道左边的变量名是否应该与对象的属性名相同。答案是肯定的。</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="e9de" class="nj md it ne b gy nk nl l nm nn">let { name, age } = person; // the same as: let { age, name } = person;</span><span id="2f02" class="nj md it ne b gy no nl l nm nn">console.log(name); // Amy</span><span id="be61" class="nj md it ne b gy no nl l nm nn">console.log(age); // 28</span></pre><p id="f388" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么如果你想使用不同的变量名呢？动态析构为你而生。让我们看看它是如何工作的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="f53f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最佳做法是，如果属性不存在，我们将添加默认值:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="6d02" class="nj md it ne b gy nk nl l nm nn">let { <br/>  [‘name’]: myName = ‘default name’, <br/>  [‘age’]: myAge = 0 <br/>} = person;</span></pre><p id="b45b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">明白了吗？</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9355" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.访问数组中的项目</h1><p id="d71c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">假设你想访问一个数组的一个特定项，并把它的值赋给一个变量。如果该项不存在，则分配一个默认值。对于这种任务，您曾经检查过数组的长度。例如，您想要访问第四项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="9b8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过使用析构:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="db4c" class="nj md it ne b gy nk nl l nm nn">let fruits = [‘banana’, ‘apple’, ‘orange’];</span><span id="ba15" class="nj md it ne b gy no nl l nm nn">let [ , , , selectedFruit = ‘mango’] = fruits;</span><span id="89ee" class="nj md it ne b gy no nl l nm nn">console.log(selectedFruit); // mango</span></pre><p id="7dd5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能会注意到在<code class="fe nb nc nd ne b">selectedFruit</code>变量之前有三个逗号。他们拆分了第一个、第二个和第三个元素，但是我在这里没有使用任何变量，所以它们被忽略了。你在这里关心的只有<code class="fe nb nc nd ne b">selectedFruit</code>。它被赋给数组的第四个元素(如果有的话)或者默认值<code class="fe nb nc nd ne b">mango</code>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f217" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.交换东西</h1><p id="1716" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要以传统方式交换两个变量的值，可以使用一个临时变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="6a7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多亏了析构，你可以只用一行代码就完成同样的任务:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="4259" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你看，你不需要一个临时变量。</p><p id="b18a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了更有趣，你甚至可以交换两个以上的变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c473" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.处理不可变操作</h1><p id="ea00" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">你知道不变性的概念吗？它指的是创建后不能修改的对象。乍一看你可能会觉得很难理解，但是鉴于<a class="ae ky" href="https://hackernoon.com/5-benefits-of-immutable-objects-worth-considering-for-your-next-project-f98e7e85b6ac" rel="noopener ugc nofollow" target="_blank">提供的所有好处</a>，这值得一试。</p><p id="79dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您有一个<code class="fe nb nc nd ne b">fruits</code>数组，并且您想要修改第一项的值。但是因为不变性规则，你不能直接在<code class="fe nb nc nd ne b">fruits</code>数组上改变它。您必须创建一个新的数组:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="12a1" class="nj md it ne b gy nk nl l nm nn">let fruits = [‘mango’, ‘banana’, ‘apple’];</span><span id="cc27" class="nj md it ne b gy no nl l nm nn">let copiedFruits = fruits;</span><span id="a7e4" class="nj md it ne b gy no nl l nm nn">copiedFruits[0] = ‘orange’;</span></pre><p id="14de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nb nc nd ne b">copiedFruits[0]</code>现在是橙色，但问题是<code class="fe nb nc nd ne b">fruits[0]</code>也是<code class="fe nb nc nd ne b">orange</code> <em class="np"> </em>因为引用类型。</p><p id="0899" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那你是做什么的？正确的代码应该是:</p><pre class="kj kk kl km gt nf ne ng nh aw ni bi"><span id="36b1" class="nj md it ne b gy nk nl l nm nn">let fruits = [‘mango’, ‘banana’, ‘apple’];</span><span id="4fc7" class="nj md it ne b gy no nl l nm nn">let [...copiedFruits] = fruits;</span><span id="b069" class="nj md it ne b gy no nl l nm nn">copiedFruits[0] = ‘orange’;</span><span id="b83a" class="nj md it ne b gy no nl l nm nn">console.log(copiedFruits[0]); // orange</span><span id="05d3" class="nj md it ne b gy no nl l nm nn">console.log(fruits[0]); // mango</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="18d7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.向函数传递参数</h1><p id="4df8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">用参数作为对象定义函数的老方法是:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="2244" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">新的更清晰的方法是:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5567" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="3333" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在本文中，我向您展示了在JavaScript中使用析构的五种方法。我错过了什么吗？如果你能填补空白就太好了。</p></div></div>    
</body>
</html>