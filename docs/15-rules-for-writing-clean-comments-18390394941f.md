# 撰写干净评论的 15 条规则

> 原文：<https://betterprogramming.pub/15-rules-for-writing-clean-comments-18390394941f>

## 作为程序员要避免的常见陷阱

![](img/fd8ee035907165a89933025942179c0b.png)

照片由 [Jason Leung](https://unsplash.com/@ninjason?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

代码中的注释从编程之初就存在了。但在当今世界，我们需要它们吗？有些人会认为我们根本不应该在代码中添加注释。

嗯，是真的。代码应该是自文档化的。但是，在某些情况下，我们需要添加注释。鲍勃叔叔说，

> "评论是一种不幸的必然，而不是伟大的成就."

今天，我们将看看编程时要遵循的一些规则和要避免的常见陷阱。

# 1.多行注释与单行注释

只要有可能，尽量将长注释写成多行注释。

以下评论不好:

相反，请这样做:

# 2.非局部注释

下面是一个差评的例子。默认的超时是`5000`，但是它没有指定这个值是在哪里设置的。

永远不要评论一些不存在的代码。相反，试着提供一些背景。

# 3.比起解释性注释，更喜欢长名字

有时候，我们尽量避免写长名字，在评论里解释。

相反，如果需要，请写长的解释性名称:

# 4.永远不要注释掉代码！

这是最丑陋的做法。我们有时注释掉代码，认为我们(或其他人)以后可能需要这段代码。

我们有版本控制系统是有原因的。用那个。

# 5.谎言评论

不要写没有说出全部真相的评论。

这里我们说我们没有被`0`除，但是我们在哪里确保了这一点呢？也许我们从来没有提供`0`作为`n`的值，但是从这个函数中不能理解。

所以永远不要评论令人困惑的事情——或者可能是谎言！

# 6.用代码解释，不要用注释

任何注释都无法弥补一段糟糕的代码。不评论一些逻辑。

相反，将逻辑提取到一个单独的、有意义的函数中。

# 7.不要让注释比代码更难

永远不要注释比代码本身更难的东西。比如下面这个:

# 8.不要评论显而易见的事情

有些评论太明显了，评论出来很可笑。

显然，在`catch`块中，我们捕捉到了一个异常。没有必要指出这一点。

# 9.避免待办事项评论

尽量避免`TODO`评论。因为历史表明我们几乎不会回头去做那件事。所以尽量避免`TODO`评论。

无论如何，你从来不做你的待办事项清单上的事情。

# 10.愚蠢的评论

以下是一些绝对愚蠢的评论的例子。我想我不需要解释为什么。

# 11.不要大喊大叫

不要在评论里大喊大叫。如果你大喊不必要的事情，你的其他评论会变得不那么重要

没必要大喊大叫。保持简单。

# 12.责备评论

一些代码库有一个规则，每个开发人员都应该把他们的名字放在文件的顶部，这样人们以后就可以发现谁做了什么。

这在 30-40 年前可能是有意义的，但在我们当前的版本控制时代，我们不再需要它了。所以不要那么做。

# 13.评论应该解释为什么，而不是如何

下面是一个不好的注释的例子，试图解释这个过程。

但是相同的代码可以重写如下:

# 14.文档注释

今天的现代语言给了我们一些很棒的工具，我们可以用它们从注释中生成 HTML 文档。这有时会诱使开发人员编写糟糕的文档注释。

# 15.不做评论

评论最重要的规则是首先避免它。

让代码自己说话。

尽可能避免对代码进行注释。遵循这条规则可以让你有一个更干净的代码库，你可以引以为豪。

# 结论

谢谢你读到这里。我希望你在这篇文章中找到一些有用的东西。

祝您愉快！

**通过** [**LinkedIn**](https://www.linkedin.com/in/56faisal/) **或我的** [**个人网站**](https://www.mohammadfaisal.dev/) **与我取得联系。**

# 资源

*   [“共同编码一个更美好的世界:第二课”鲍勃叔叔](https://www.youtube.com/watch?v=2a_ytyt9sf8&t=1186s)
*   [清晰的编码标准:注释每一行代码？](https://softwareengineering.stackexchange.com/questions/336430/coding-standard-for-clarity-comment-every-line-of-code)