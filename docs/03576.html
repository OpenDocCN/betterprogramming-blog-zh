<html>
<head>
<title>Test Flutter Apps on Android With GitHub Actions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用GitHub Actions测试Android上的Flutter应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/test-flutter-apps-on-android-with-github-actions-abdba2137b4?source=collection_archive---------15-----------------------#2020-02-18">https://betterprogramming.pub/test-flutter-apps-on-android-with-github-actions-abdba2137b4?source=collection_archive---------15-----------------------#2020-02-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3dc4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">满怀信心地交付跨平台应用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3789422ecc7e925f2d1cbb4f520b2092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xoC2aFUr2EVjhAhgeBNmDw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔纳森·肯珀在Unsplash<a class="ae ky" href="https://unsplash.com/s/photos/android?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">拍摄的照片</a></p></figure><p id="b60b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在之前的一篇文章中，我讨论了如何使用GitHub Action在iOS设备上测试Flutter应用程序:</p><div class="lv lw gp gr lx ly"><a href="https://medium.com/better-programming/monitor-your-flutter-apps-health-end-to-end-with-github-actions-8a9fb1889c6a" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">使用GitHub操作端到端监控您的Flutter应用程序的健康状况</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">详细的指南</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">medium.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="75cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，由于Android设备种类繁多(例如折叠屏和双屏)，测试Android设备也是有意义的。</p><p id="c048" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mn">注:我借用了我的边项目</em> <a class="ae ky" href="https://medium.com/minidonkey101/hooray-mini-donkey-is-here-82161aa948c9" rel="noopener"> <em class="mn">的代码，迷你驴</em> </a> <em class="mn">，一个帮助做加密隐写以保护隐私的实用程序。了解如何将代码应用到实际项目中的更多细节。请查看</em> <a class="ae ky" href="https://github.com/tianhaoz95/photochat" rel="noopener ugc nofollow" target="_blank"> <em class="mn">资源库</em> </a> <em class="mn">。</em></p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="3788" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">1:构建环境</h1><p id="abff" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">我们可以用Java 8搭建一个环境，用下面的GitHub动作配置在macOS上Flutter:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="b280" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有几个问题:</p><ul class=""><li id="6c94" class="nu nv it lb b lc ld lf lg li nw lm nx lq ny lu nz oa ob oc bi translated">模拟器运行的平台必须是“MAC OS-latest”——其他类型的容器不支持Android模拟器所需的加速器虚拟化。</li><li id="b92d" class="nu nv it lb b lc od lf oe li of lm og lq oh lu nz oa ob oc bi translated">Java版本必须是8，因为Java 9+和Android SDK管理器二进制文件有一个错误。</li></ul></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="2da0" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">2:定义感兴趣的设备矩阵</h1><p id="00d2" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">定义好环境后，我们可以使用以下配置列出想要验证我们的Flutter代码的设备:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><p id="723c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:随意添加更多设备，根据<a class="ae ky" href="https://github.com/marketplace/actions/android-emulator-runner" rel="noopener ugc nofollow" target="_blank"> android emulator runner </a>，可以使用<code class="fe oi oj ok ol b">avdmanager list</code>找到支持设备的完整列表。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="aab1" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">33:启动模拟器并运行集成测试</h1><p id="9b00" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">为Android Emulator Runner动作提供一个Flutter集成测试脚本将加速我们的测试:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><h1 id="5266" class="mv mw it bd mx my om na nb nc on ne nf jz oo ka nh kc op kd nj kf oq kg nl nm bi translated">4:坐下来喝杯咖啡</h1><p id="3c0c" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">万岁！下面快速浏览一下我们的设备测试矩阵:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/8dafabcaaef37a77d6055408ab45ca12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NHhyGJDgxdXrlhcRGJ3tGw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">信用:样品CI/CD结果来自<a class="ae ky" href="https://github.com/tianhaoz95/photochat" rel="noopener ugc nofollow" target="_blank">天昊95/photochatapp </a></p></figure><h2 id="ba89" class="os mw it bd mx ot ou dn nb ov ow dp nf li ox oy nh lm oz pa nj lq pb pc nl pd bi translated">感谢阅读！</h2><p id="3568" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">特别感谢<a class="ae ky" href="https://github.com/ychescale9" rel="noopener ugc nofollow" target="_blank">杨</a>和<a class="ae ky" href="https://github.com/rngadam" rel="noopener ugc nofollow" target="_blank">瑞奇</a>打造<a class="ae ky" href="https://github.com/marketplace/actions/android-emulator-runner" rel="noopener ugc nofollow" target="_blank">安卓模拟器Runner Action </a>。</p></div></div>    
</body>
</html>