<html>
<head>
<title>How To Shorten the URL on Your MERN Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何缩短你的MERN应用程序的网址</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-custom-slugs-in-your-url-instead-of-ids-on-your-mern-application-75d4e598081a?source=collection_archive---------5-----------------------#2019-08-24">https://betterprogramming.pub/how-to-use-custom-slugs-in-your-url-instead-of-ids-on-your-mern-application-75d4e598081a?source=collection_archive---------5-----------------------#2019-08-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d1fc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用自定义slugs代替id</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a5048aaf626b2c4a6042391d700358d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XZmp-G1UmYtdHdazkPN8Hg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@le_buzz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Le Buzz </a>在<a class="ae kv" href="https://unsplash.com/search/photos/blog?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="de9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">假设您正在创建一个博客，或者甚至是某种CRUD应用程序，并且您在URL中看到“www . your blog . com/1343324940234023423”。你难道不想看看像"www.yourblog.com/your-blog-title"这样的地方吗？</p><p id="fd9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我知道我会的！</p><p id="9b02" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">今天我将向你展示如何实现这一点。</p><p id="8f92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我假设你已经设置好了博客的后端和前端。我不会指导您如何设置您的服务器或客户端——让我们直接进入您的博客模型代码。</p><h2 id="2547" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">TL；速度三角形定位法(dead reckoning)</h2><p id="9865" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">包含在您的BlogModel中的代码，用于将您的博客标题转换为在您的URL中使用的slug:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/0a583fac922d58822c622c92bfe38060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*GcWa6rwXFed8fGnVy-NIPA.png"/></div></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="c771" class="my lt iq bd lu mz na nb lx nc nd ne ma jw nf jx md jz ng ka mg kc nh kd mj ni bi translated"><strong class="ak">后端</strong></h1><p id="056b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">好了，这是我创建的一个简单博客模型的片段。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/b866e2ea1b5d9733555bdd5e2e16d930.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*KzcMRYZRqx_BrUx5c3e_Rw.png"/></div></figure><p id="d793" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们想确保我们可以从来自客户的博客标题创建一个slug。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/8e8c6c1f934c907d2457c1b1f4ce5cbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*Ybmy4DNMzk44A_Lxc3T4kw.png"/></div></figure><p id="9b6d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nl nm nn no b">.pre</code>是猫鼬自带的钩子。具体来说，我们使用的是预保存挂钩，这是一个在文档保存到数据库后启动的中间件——非常简单明了。</p><p id="f648" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们定义之前添加到<code class="fe nl nm nn no b">BlogSchema</code>中的slug。这段代码说明我们正在获取博客标题，并把它转换成一个slug，这就是<em class="np">函数</em> <code class="fe nl nm nn no b">slugify</code>正在做的事情。</p><p id="dbca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们写出这个函数来修改博客标题:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/7b35186bf9c219b477e3d36a5f94ab2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*Yg35qhQSMBHT9qgEbzppxQ.png"/></div></figure><p id="e432" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过“强化”标题，我们基本上是把它从“这个博客标题”转换成“这个博客标题”。以下是博客模型的完整代码:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/0a583fac922d58822c622c92bfe38060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*GcWa6rwXFed8fGnVy-NIPA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">博客模型</p></figure><p id="5182" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们来看看路线。</p><p id="d3d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">展示一篇独特博文的基本途径:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/34f982a6ceb435dad32b1a6a82b687a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*qSNggQRXfKEcjJaFh0Ljzw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">博客. js</p></figure><p id="ebb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里我们有一个路由，它是一个<code class="fe nl nm nn no b">get</code> <strong class="ky ir"> </strong>路由，当被定向时，它将在url中以这种格式显示您的博客标题:“www . your blog . com/your-blog-title”。但这并不是它的全部功能:它还会找到你试图向客户展示的独特的博客文章，并将其与正确的slug进行匹配。我知道有些人也在网址中使用博客ID，所以这取决于你。我个人认为鼻涕虫是一个干净得多的外观！</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="ad5f" class="my lt iq bd lu mz na nb lx nc nd ne ma jw nf jx md jz ng ka mg kc nh kd mj ni bi translated"><strong class="ak">客户端(React和Redux) </strong></h1><p id="87b8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">快好了。现在我们所要做的就是改变<code class="fe nl nm nn no b">:slug</code>之前你的路线中可能使用的任何<code class="fe nl nm nn no b">:id</code>。在我的情况下，这包括任何链接到特定的博客文章。react-router中的路由可以保持为<code class="fe nl nm nn no b">:id</code>。该鼻涕虫仍然会出现在您的网址。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/091a21af5af8976810eb0a4dfdf55dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*ybEByoUtpcBY48g8C0DFcQ.png"/></div></figure><h2 id="214e" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">Redux</h2><p id="ce18" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">同样，如果你在你的应用程序中使用Redux，也包括在动作创建器中改变它。在操作创建器中，您应该使用ES6语法:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/62de59797bed109fcb4ad0a78ad40d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*UKbi_LCZyXKDOngrC_7LtQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">actionCreator.js</p></figure><p id="aaf6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并且:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/ea279b4267232d21888ce69dfe49f975.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*z6-XWtRlCDKciBd3eS4PzQ.gif"/></div></figure><p id="c3f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我知道有一百万个其他的npm包和其他的方法可以做到这一点，但是，对我来说，这是最简单最容易的方法。希望这对你有帮助！</p></div></div>    
</body>
</html>