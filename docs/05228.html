<html>
<head>
<title>Drawing in 3D Using SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI在3D中绘图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/drawing-in-3d-using-swiftui-ed211d7c2c91?source=collection_archive---------10-----------------------#2020-06-22">https://betterprogramming.pub/drawing-in-3d-using-swiftui-ed211d7c2c91?source=collection_archive---------10-----------------------#2020-06-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="35b7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用SwiftUI探索3D绘图的第2部分</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5e35ef65ea54c3e3c96ebcdc5bf2e1f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5rxwRvSk54eWo60v"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@teo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Teo Zac </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="690c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几周前，我<a class="ae ky" href="https://medium.com/better-programming/how-to-draw-in-3d-with-swiftui-7989cfcd35fc" rel="noopener">写了一篇文章</a>，其中我探索了SwiftUI中旋转对象的高级3D视图修改器。它很受欢迎，我想我会做一个简短的跟进，以探索这个主题多一点。</p><p id="244f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我做之前先做个纳米回顾吧。在那篇文章的结尾，我把下面的3D物体放在了一起:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/10809b347879cc23c78c27d6c9afefc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fB5eR7zJxCHEx-vSR2dm5Q.gif"/></div></div></figure><p id="7748" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上是四个正方形，我们慢慢地平行弯曲90度。我们添加了更多的视觉线索来欺骗我们的大脑，使其认为这是一个3D对象——即当立方体扭曲并改变不透明度时，数字会翻转过来。</p><p id="ade6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们做更多的探索。在前一篇文章中，我提到了两个参数，但并没有真正深入研究:透视和<code class="fe lw lx ly lz b">anchorZ</code>。</p><p id="c505" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，3D物体有一个2D物体通常没有的东西是阴影，SwiftUI中有一个视图修改器。它被称为<code class="fe lw lx ly lz b">shadow</code>——这并不奇怪。遗憾的是，它名不副实，我担心它实际上应该叫做<code class="fe lw lx ly lz b">smudge</code>。使用<code class="fe lw lx ly lz b">rotate</code>命令中的透视可以得到更好的阴影。除此之外，你可以设置你的影子的动画。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/16af944413f29dc1606d49b3c533f459.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*kab0nJLqNymlCJZpbVX3sg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用rotate3D创建的阴影</p></figure><p id="c30e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种微妙效果背后的代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="2033" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我几乎没有提到的另一个属性是<code class="fe lw lx ly lz b">anchorZ</code>。让我们停留在文本的主题上，使用<code class="fe lw lx ly lz b">anchorZ</code>来旋转地球仪上的文本。我们将添加一些彩色阴影来帮助图像欺骗:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/c0c741b672a3377142b4bd84fe327d1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*CZdO1qjOTW8xYYXAIIITMw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用文本和anchorZ值的SwiftUI globe</p></figure><p id="b12e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我肯定你同意它看起来很棒。我们有一个旋转的地球仪，看起来有点像3D。但是等等，让我们继续地球主题，看看我们如何创建一个线框地球。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="aafa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所料，这比我们的立方体要难做得多。为了让它工作，我们可以使用SwiftUI中一个不太为人所知的形状，椭圆。这看起来像是“少即是多”的经典案例仅仅使用我在x轴和y轴上旋转的四个椭圆，我们就可以得到一个迷人的视图。中间的文字再次帮了大忙。它看起来像是悬浮在我们地球内部的一个扁平圆盘上，当光线向四面八方延伸时，它为我们的眼睛提供了一个焦点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/5d02a1ecfa1934e321ce35472861f5e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*qe8j83R4KHeirW2TcvdaBg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SwiftUI使用椭圆生成的globe</p></figure><p id="f2fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是上面视图背后的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="068f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但我认为我们可以做得更好。为此，我们需要深入研究SwiftUI中的定制绘图原语，特别是<code class="fe lw lx ly lz b">addArc</code>。使用它，我们可以通过使用半圆来创建一个3D地球，我将绘制半圆，然后在x轴和y轴上制作动画。<code class="fe lw lx ly lz b">addArc</code>的基本代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="3e58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我用显示的代码画出弧线，得到南北走向的圆环，然后旋转90度得到东西走向的圆环。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/fd88275d0cfa490324e3848572e82a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*b0I6VGaXeurDpF1SwOX5MA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">混合使用角度和角度的圆弧</p></figure><p id="f33e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在所示的动画中，我们从四个呈90度角的圆环开始。然后我们以45度角进入六个环。然后我们移动到30度的12个环，15度的24个环，最后是10度的36个环。</p><p id="ec0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以自己决定哪个效果最好。下面是上面的代码，除了它已经被调整为使用四种颜色在六度角上做不少于60个环，而不仅仅是两种颜色:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="04af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像这样。您可以花几个小时来改变颜色、不透明度、弧线数量、线条粗细和动画时间。请在评论中告诉我，你是否遇到了一个效果很好或让你惊讶的组合。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/ffdd1223351bab978240af48bed4b142.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*oht70RwTuwe2uFgQUH0Bqg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">两个方向都有60度弧的球体</p></figure><p id="f1e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就把我带到了文章的结尾。我希望你喜欢读这篇文章，就像我喜欢写它一样。保持冷静，继续编码。</p></div></div>    
</body>
</html>