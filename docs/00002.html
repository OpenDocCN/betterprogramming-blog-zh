<html>
<head>
<title>Improving Font Rendering With CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用CSS改进字体呈现</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/improving-font-rendering-with-css-3383fc358cbc?source=collection_archive---------5-----------------------#2016-01-05">https://betterprogramming.pub/improving-font-rendering-with-css-3383fc358cbc?source=collection_archive---------5-----------------------#2016-01-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/cc9aea9301b8847094636aee9166ad41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NLYPNT5exbQkr-nYiEL1bQ.jpeg"/></div></div></figure><p id="c685" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我认为大多数前端开发人员已经接受了浏览器中的字体，尤其是那些大标题上的字体，看起来与我们在Photoshop中看到的非常不同。</p><p id="26b7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">PS版的字体更薄、更光滑，总体来说也更好。我们不能真正改变字体在浏览器中的呈现方式，但对于其中一些字体，我们可以使用一个简单的CSS技巧来实现类似Photoshop的质量。在WebKit中，我们将使用<code class="fe kz la lb lc b"> -webkit-font-smoothing</code>属性。Firefox也实现了一个类似的属性，名为<code class="fe kz la lb lc b">-moz-osx-font-smoothing</code>，从版本25开始可用。尝试将这些属性添加到标题标签或整个正文中:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="eca1" class="ll lm it lc b gy ln lo l lp lq">-webkit-font-smoothing: antialiased;<br/>-moz-osx-font-smoothing: grayscale;</span></pre><p id="faf4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们来看看这给OSX带来的巨大变化:</p><figure class="ld le lf lg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/83e1073d3fc3606e1045d900110151dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sQ1tfuc0j3kyG3A8r4mMTg.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">不使用和使用抗锯齿</p></figure><p id="77e8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这在麦金塔电脑上的Chrome、Safari和Firefox上都能很好地工作。如果你的文本在WebKit浏览器中有点太细太模糊(尤其是对容器应用CSS变换的时候)，可以尝试添加一些值低于半个像素的<code class="fe kz la lb lc b"> -webkit-text-stroke</code>。大约0.15-0.45像素应该可以。对于其他字体大小或颜色，添加一个类似的细<code class="fe kz la lb lc b">text-shadow</code>也可能有效。最后，对于一些字体，抗锯齿属性可能有点太戏剧化了，所以试试<code class="fe kz la lb lc b">subpixel-antialiased.</code></p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="be36" class="ll lm it lc b gy ln lo l lp lq">-webkit-text-stroke: 0.45px;<br/>// or<br/>-webkit-text-stroke: 0.45px rgba(0, 0, 0, 0.1);<br/>// or<br/>text-shadow: #fff 0px 1px 1px;</span></pre><p id="0703" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这也将改善移动浏览器上的文本，但不幸的是，这些技巧在Windows上不起作用。在实际项目中使用这些技术之前，请记住这些只是变通方法和技巧。它们并不是跨浏览器的糟糕和不一致的渲染的实际解决方案。他们可能会在新版本中修复或更改您的文本呈现方式，因此您必须在未来关注该项目。另一方面，我在我所有的项目中使用<code class="fe kz la lb lc b">-webkit-font-smoothing</code>,用漂亮的字体来对待我所有的Mac访客。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c0f0" class="mc lm it bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">改进Windows上的渲染</h1><p id="f261" class="pw-post-body-paragraph kb kc it kd b ke mz kg kh ki na kk kl km nb ko kp kq nc ks kt ku nd kw kx ky im bi translated">不幸的是，我们在不同的操作系统中也有同样的不一致性，不仅仅是浏览器。我第一次研究这个问题是当我的一个项目在质量控制期间被退回时，因为“字体看起来很块状，与Photoshop的设计非常不同。”QA测试人员甚至质疑我是否使用了正确的字体。</p><p id="5988" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我做了一些研究，发现在大多数情况下，Windows并没有对文本应用多少抗锯齿功能。好消息是，在微软最新的浏览器中，情况看起来相当不错。与Chrome和Firefox相比，字体渲染要好得多。</p><p id="0b9c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">有一个技巧可以解决Windows上的问题，我们需要使用SVG来解决这个问题。<strong class="kd iu"> SVG字体</strong>具体来说。事实证明，实际上没有办法控制EOT，WOFF或TTF字体的抗锯齿。但是默认情况下，SVG在两种操作系统上都是抗锯齿的！</p><p id="93af" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">以下是您的常规字体声明:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="d2c3" class="ll lm it lc b gy ln lo l lp lq"><a class="ae ne" href="http://twitter.com/font" rel="noopener ugc nofollow" target="_blank">@font</a>-face {<br/>  font-family: ‘MyWebFont’;<br/>  src: url(‘webfont.eot’);<br/>  src: url(‘webfont.eot?#iefix’) format(‘embedded-opentype’),<br/>       url(‘webfont.woff’) format(‘woff’),<br/>       url(‘webfont.ttf’) format(‘truetype’),<br/>       url(‘webfont.svg#svgFontName’) format(‘svg’);<br/> }</span></pre><p id="5263" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如你所看到的，在声明的末尾有SVG字体。我们要强迫Windows使用它，唯一要做的就是将它添加到这个列表中。</p><figure class="ld le lf lg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7081bb6567c14fad860334a68a3f04bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ylmaF4PeSGgsrzTzz-aPqw.jpeg"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">左:Chrome/Win 7中的TTF字体右:Chrome/Win 7中的SVG字体</p></figure><p id="1924" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，这看起来不错，但不幸的是，正如预期的那样，有几个问题。这些问题是我决定不在我的项目中使用这种方法的原因。</p><p id="cfb9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，SVG字体的文件很大，所以这是需要考虑的。每个文件可能高达200kb。在改变字距或行距方面，这种字体也不像TTF那样灵活。最后，对于长正文文本，它的渲染性能可能太慢。</p><p id="1952" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，尽管这可能不是大多数网站的理想方法，但绝对要记住。例如，这种解决方案可能非常适合网站围绕一个80px的大标题构建的项目，这是网站最重要的元素(2016年平面网站的平均值)。如果你只是希望标题在尽可能多的浏览器和操作系统上看起来不错，并且不介意它增加的额外文件大小，这个解决方案将会起作用。或者，也许有一天你会在Windows PC上为Chrome开发一个kiosk web应用程序。</p></div></div>    
</body>
</html>