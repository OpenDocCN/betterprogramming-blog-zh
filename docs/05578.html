<html>
<head>
<title>Learn About SwiftUI Text and Label in iOS 14</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解iOS 14中的SwiftUI文本和标签</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/learn-about-swiftui-text-and-label-in-ios-14-bfee41252117?source=collection_archive---------9-----------------------#2020-07-20">https://betterprogramming.pub/learn-about-swiftui-text-and-label-in-ios-14-bfee41252117?source=collection_archive---------9-----------------------#2020-07-20</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="ce44" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">让我们来探索这些强大的文本控件</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/e3fde0fe93d1af77d58bb5379c597484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ooJiyXobPr83YYhC"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@prateekkatyal?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Prateek Katyal </a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="21aa" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">苹果没有确切地将SwiftUI的第二次迭代称为2.0，但在WWDC 2020期间确实有一些噼噼啪啪的更新。</p><p id="c2fc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">除了<code class="fe lw lx ly lz b">Grids</code>和<code class="fe lw lx ly lz b">MatchedGeometryEffect</code>的推出，SwiftUI <code class="fe lw lx ly lz b">Text</code>也得到了巨大的推动。除此之外，<code class="fe lw lx ly lz b">Label</code>、<code class="fe lw lx ly lz b">Link</code>和<code class="fe lw lx ly lz b">TextEditor</code>的引入使得表单、按钮和漂亮文本的构建变得更加容易。</p><p id="8025" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在接下来的几节中，我们将看看你可以在iOS 14的SwiftUI中使用新的<code class="fe lw lx ly lz b">Text</code>控件实现什么。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="4699" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">SwiftUI文本现在支持强大的插值</h1><p id="6a52" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">SwiftUI <code class="fe lw lx ly lz b">Text</code>今年已经升级了新的初始化器，允许你格式化日期，用图像插入字符串，并在<code class="fe lw lx ly lz b">Text</code>中添加<code class="fe lw lx ly lz b">Text</code>。</p><p id="6899" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们看看如何在SwiftUI <code class="fe lw lx ly lz b">Text</code>中用SF符号包装图像:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="07bb" class="ni mi iu lz b gz nj nk l nl nm">Text("Hello, \(Image(systemName: "heart.fill"))</span><span id="d55c" class="ni mi iu lz b gz nn nk l nl nm">Text(Image(systemName:))</span></pre><p id="df65" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">下面的例子展示了通过连接几个SwiftUI <code class="fe lw lx ly lz b">Text</code>我们可以实现什么:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/3d09eaf5aab5f9e55fea5c27ccb2bd15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SfNGGiAV9nVfBhNJGrp15A.png"/></div></div></figure><p id="034e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI <code class="fe lw lx ly lz b">Text</code>也有两个用于在字符串中包装日期的初始化器——即日期间隔和日期范围，并带有一个可选参数来设置样式。</p><p id="faad" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们看看在Swift <code class="fe lw lx ly lz b">Text</code>中设置和格式化日期的不同方式:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="15ff" class="ni mi iu lz b gz nj nk l nl nm">Text(Date().addingTimeInterval(600))<br/>Text(Date().addingTimeInterval(3600),style: .time)</span></pre><p id="6202" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">addTimeInterval</code>只接受绝对值，所以上面两个代码片段以不同的样式将日期设置在<code class="fe lw lx ly lz b">T + 10</code>分钟和<code class="fe lw lx ly lz b">T + 1</code>小时。</p><p id="8665" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">新语义API的惊人之处在于，它允许您使用样式<code class="fe lw lx ly lz b">relative</code>、<code class="fe lw lx ly lz b">timer</code>和<code class="fe lw lx ly lz b">offset</code>在SwiftUI <code class="fe lw lx ly lz b">Text</code>初始化器中设置计数器或计时器。</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="86d2" class="ni mi iu lz b gz nj nk l nl nm">//countdown timer to update every minute<br/>Text(Date().addingTimeInterval(60),style: .offset)</span></pre><p id="6e05" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，您可能想知道设置计时器是否会触发SwiftUI视图主体每秒刷新一次，但事实并非如此。</p><p id="734f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI <code class="fe lw lx ly lz b">Text</code>认为计数器是一个动画，这意味着它在开始和结束日期之间插入值。让我们来看看不同种类的<code class="fe lw lx ly lz b">Text</code> s:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj np"><img src="../Images/afa784240fe1c217e8cb6f3f40892339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*O75Bp3RQwMUsiQrHytKPSw.gif"/></div></div></figure><p id="92f6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">注意三种不同风格的<code class="fe lw lx ly lz b">Timer</code>的不同表现。并且它们在计数器的末端自动反转。</p><p id="a284" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI <code class="fe lw lx ly lz b">Text</code>也使得在<code class="fe lw lx ly lz b">Text</code>中插入<code class="fe lw lx ly lz b">Text</code>成为可能，同时保留他们各自的身份。比如《盗梦空间》。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="16ea" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">SwiftUI标签可同时显示文本和图像</h1><p id="9205" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">SwiftUI <code class="fe lw lx ly lz b">Label</code>是我们经常使用的视图的现成替代品:在<code class="fe lw lx ly lz b">stack</code>中包装文本和图像</p><p id="e86e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">下面是如何定义全新的SwiftUI <code class="fe lw lx ly lz b">Label</code>:</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="f23b" class="ni mi iu lz b gz nj nk l nl nm">Label("Hello Label", systemImage: "sun.min")</span><span id="5c70" class="ni mi iu lz b gz nn nk l nl nm">Label("Hello Label", image: "asset_image")</span><span id="7466" class="ni mi iu lz b gz nn nk l nl nm">Label(title: {Text("..")}, icon: {Image(..)})</span></pre><p id="e91b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">标签还提供了一个<code class="fe lw lx ly lz b">labelStyle</code>修饰符，它有两个内置的变体— <code class="fe lw lx ly lz b">TitleOnlyLabelStyle</code>和<code class="fe lw lx ly lz b">IconOnlyLabelStyle</code>。尽管您也可以创建自己的自定义标签样式配置。</p><p id="7a6c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在下面的屏幕截图中，我们展示了不同类型的<code class="fe lw lx ly lz b">Label</code>以及如何在<code class="fe lw lx ly lz b">ContextMenu</code>中使用它们:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nq"><img src="../Images/bc061b3ccba5bf3a6601ae8ad9d6b13e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*wtKfv_zgpAc83QGdmkWJww.gif"/></div></div></figure><p id="dc49" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">大大减少了我们不得不在<code class="fe lw lx ly lz b">ContextMenu</code>按钮中定义的不必要的<code class="fe lw lx ly lz b">Text</code>和<code class="fe lw lx ly lz b">Image</code>视图。</p><p id="996c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">虽然得到一个SwiftUI按钮初始化器让我们也能设置图像是一个梦想。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="b61c" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">创建自己的标签样式</h1><p id="8503" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">我们可以根据<code class="fe lw lx ly lz b">LabelStyle</code>为我们的标签创建定制样式。</p><p id="018a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">下面的代码试图垂直设置图标和文本，而不是水平对齐。</p><pre class="kk kl km kn gu ne lz nf ng aw nh bi"><span id="d3a2" class="ni mi iu lz b gz nj nk l nl nm">struct VLabelStyle: LabelStyle {<br/>        func makeBody(configuration: Configuration) -&gt; some View {<br/>            VStack {<br/>                configuration.icon<br/>                configuration.title<br/>            }<br/>        }<br/>}</span></pre><p id="7ec7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，您可以在视图修改器中将它设置为<code class="fe lw lx ly lz b">.labelStyle(VLabelStyle())</code>。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="ed55" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">结论</h1><p id="0f70" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">SwiftUI <code class="fe lw lx ly lz b">Text</code>现在支持更强大的插值，让你在一行中设置定时器(事实上，只有几个字)。</p><p id="1a35" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI <code class="fe lw lx ly lz b">Label</code>在列表和上下文菜单中非常方便。</p><p id="0989" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以从这个<a class="ae kz" href="https://gist.github.com/anupamchugh/e4df9b9734634a5cf59b51f784e08610" rel="noopener ugc nofollow" target="_blank">要点链接</a>查看或下载我们所涉及的所有内容的源代码。</p><p id="8bcf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这一次到此为止。感谢阅读。</p></div></div>    
</body>
</html>