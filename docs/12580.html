<html>
<head>
<title>Create a Segmented Pie Chart Using SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI创建分段饼图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-a-segmented-pie-chart-using-swiftui-7b0adbbc4ef6?source=collection_archive---------19-----------------------#2022-06-14">https://betterprogramming.pub/create-a-segmented-pie-chart-using-swiftui-7b0adbbc4ef6?source=collection_archive---------19-----------------------#2022-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6af9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">最大限度地利用路径</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/42b13a77d17aa0e7c6dd1caad489948c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z51kCPtvYhURXExeVb8ukA.png"/></div></div></figure><p id="d525" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文结束时，您将了解到:</p><ul class=""><li id="4c65" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">如何使用<code class="fe lw lx ly lz b">Path</code></li><li id="aa4c" class="ln lo iq kt b ku ma kx mb la mc le md li me lm ls lt lu lv bi translated">如何添加一个<code class="fe lw lx ly lz b">Arc</code></li><li id="1ac9" class="ln lo iq kt b ku ma kx mb la mc le md li me lm ls lt lu lv bi translated">关于<code class="fe lw lx ly lz b">Arc</code>的参数</li><li id="8876" class="ln lo iq kt b ku ma kx mb la mc le md li me lm ls lt lu lv bi translated">如何创建饼图</li><li id="d434" class="ln lo iq kt b ku ma kx mb la mc le md li me lm ls lt lu lv bi translated">如何在饼图中拆分线段</li></ul><h1 id="c03f" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">让我们开始吧</h1><p id="dbe9" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">我们将首先抽出我们的Pacman。开玩笑，我们先试着给我们的<code class="fe lw lx ly lz b">PieChart</code>画一个简单的弧线。</p><p id="1fc3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了画一个简单的弧线，我们将利用<code class="fe lw lx ly lz b">Path</code>并编写以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="829e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要画一个<code class="fe lw lx ly lz b">Arc</code>，首先要为我们的绘制路径设置一个起点。<br/>我们通过使用<code class="fe lw lx ly lz b">move</code>来设置绘制路径的起点。</p><p id="b29d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们将从起点画一个圆弧。为此，我们将利用<code class="fe lw lx ly lz b">addArc</code>,这里你可以看到<code class="fe lw lx ly lz b">addArc</code>接受了几个参数</p><ul class=""><li id="6a7f" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated"><code class="fe lw lx ly lz b"><strong class="kt ir">center</strong></code>-<strong class="kt ir">-</strong>指定圆的中心点(在当前坐标系中)用来定义圆弧</li><li id="b32c" class="ln lo iq kt b ku ma kx mb la mc le md li me lm ls lt lu lv bi translated"><code class="fe lw lx ly lz b"><strong class="kt ir">radius</strong></code> <strong class="kt ir"> - </strong>指定用于定义圆弧的圆的半径</li><li id="193b" class="ln lo iq kt b ku ma kx mb la mc le md li me lm ls lt lu lv bi translated"><code class="fe lw lx ly lz b"><strong class="kt ir">startAngle</strong></code> <strong class="kt ir"> - </strong>指定圆弧的起始角度(以弧度为单位)</li><li id="adf4" class="ln lo iq kt b ku ma kx mb la mc le md li me lm ls lt lu lv bi translated"><code class="fe lw lx ly lz b"><strong class="kt ir">endAngle</strong></code> <strong class="kt ir"> - </strong>指定圆弧的结束角度(以弧度为单位)</li><li id="ded8" class="ln lo iq kt b ku ma kx mb la mc le md li me lm ls lt lu lv bi translated"><code class="fe lw lx ly lz b"><strong class="kt ir">clockwise</strong></code> <strong class="kt ir"> - </strong>画圆弧的方向</li></ul><p id="bebd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">输入上面的代码后，我们可以看到类似下面的内容。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/920d91c3b60b5b211cc9a903ec8b614a.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*H6eTsuraP1hAy4fKTFslOA.png"/></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">初始电弧</p></figure></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h2 id="2679" class="nq mg iq bd mh nr ns dn ml nt nu dp mp la nv nw mr le nx ny mt li nz oa mv ob bi translated">填充其他段</h2><p id="a9fc" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">现在，您已经了解了如何使用<code class="fe lw lx ly lz b">addArc</code>，您可以轻松创建包含不同部分的饼图。</p><p id="32fe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要实现一个包含不同线段的饼图，我们需要做的就是覆盖每个新的弧线，或者将每个线段放在另一个的上面。这可以使用<code class="fe lw lx ly lz b">ZStack</code>轻松完成。</p><p id="98e4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们只需要创建一些具有不同开始和结束角度的圆弧。为了适应这种变化，我们将添加几个圆弧，并稍微修改初始圆弧的起始角度为150度，而不是270度。</p><p id="c39f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">添加了3个新路径并修改了初始路径后，我们的代码看起来如下。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/dd2038ef62fad90fef6747d4bd83b80d.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/1*n39p4mjOfajDNoVKp5S2Eg.png"/></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">分段分离</p></figure></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h1 id="8922" class="mf mg iq bd mh mi od mk ml mm oe mo mp jw of jx mr jz og ka mt kc oh kd mv mw bi translated">突出显示某个片段</h1><p id="1548" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">为了从饼图中突出显示某个特定部分或移动/隔离某个特定部分，我们需要对该特定部分应用<code class="fe lw lx ly lz b">offset</code>修改器。</p><p id="1047" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">作为一个曼联球迷，我会把红色段从饼状图中隔离出来。为此，我将为红色的路径设置一个负的偏移值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="b14e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们的饼状图看起来像下面这样。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/8004a2c95536a03c8ac95faf3130e9df.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*QKjS3hl4alifKmqGN35JVQ.png"/></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">添加了偏移量</p></figure></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h2 id="cd36" class="nq mg iq bd mh nr ns dn ml nt nu dp mp la nv nw mr le nx ny mt li nz oa mv ob bi translated">细分市场</h2><p id="76cf" class="pw-post-body-paragraph kr ks iq kt b ku mx jr kw kx my ju kz la mz lc ld le na lg lh li nb lk ll lm ij bi translated">我们可以在这个饼图上做很多细节。为了让它看起来更吸引人，我会给它一个<code class="fe lw lx ly lz b">Title</code>和一个偏移边框，这样分割的部分看起来会更突出。</p><p id="4be4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了添加一个边界，我们将简单地做一个<code class="fe lw lx ly lz b">stroke</code>，为了给出一个<code class="fe lw lx ly lz b">Title</code>，我们将为路径创建一个<code class="fe lw lx ly lz b">Overlay</code>，并添加<code class="fe lw lx ly lz b">Text</code>，与下面的代码相同。</p><p id="00df" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但这不应该在现有的部分，我们将复制我们需要用边界颜色分割的部分。所以代码看起来会像这样。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/858b030779b2ec122f11e18c0513fc47.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*_WqEKgKzXgBF5-v_2wPLTA.png"/></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">添加了边框</p></figure><p id="512d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">检查代码，你可以看到我已经复制了红色的路径。但是在我使用的第一个例子中，<code class="fe lw lx ly lz b">fill</code>我给了<code class="fe lw lx ly lz b">overlay</code>和<code class="fe lw lx ly lz b">Text</code>，在我使用<code class="fe lw lx ly lz b">stroke</code>的第二个例子中，我没有给覆盖图，而是按照相同的偏移量。</p><p id="c111" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如你所看到的，这里有一些问题，我们要给出的笔画没有覆盖底部。那我们怎么解决呢？<br/>我们只需要告诉<code class="fe lw lx ly lz b">Path</code>关闭它的<code class="fe lw lx ly lz b">Subpath</code>。</p><p id="c145" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过编写:<code class="fe lw lx ly lz b">path.closeSubpath()</code>，代码现在将如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/74afa7e501a31042050257f5d98647b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/1*Q_dP65BZhl_E5vN-Q4rCXw.png"/></div><p class="nf ng gj gh gi nh ni bd b be z dk translated">最终输出</p></figure></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><p id="4354" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最终的代码可以从我的GitHub库获得:</p><div class="ol om gp gr on oo"><a href="https://github.com/Nikilicious09/PieChart" rel="noopener  ugc nofollow" target="_blank"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd ir gy z fp ot fr fs ou fu fw ip bi translated">GitHub - Nikilicious09/PieChart</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">github.com</p></div></div><div class="ox l"><div class="oy l oz pa pb ox pc kp oo"/></div></div></a></div></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><p id="70cc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望您理解了如何使用SwiftUI创建分段饼图。如果你有任何疑问或建议，请告诉我。</p></div></div>    
</body>
</html>