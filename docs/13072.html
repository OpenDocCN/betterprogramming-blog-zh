<html>
<head>
<title>A pyproject.toml Developer’s Cheat Sheet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pyproject.toml开发人员备忘单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-pyproject-toml-developers-cheat-sheet-5782801fb3ed?source=collection_archive---------0-----------------------#2022-07-26">https://betterprogramming.pub/a-pyproject-toml-developers-cheat-sheet-5782801fb3ed?source=collection_archive---------0-----------------------#2022-07-26</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><div class=""><h2 id="aabb" class="pw-subtitle-paragraph jo iq ir bd b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf dk translated">关于如何建立pyproject.toml文件的想法和注意事项</h2></div><figure class="kh ki kj kk gu kl gi gj paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gi gj kg"><img src="../Images/52b5f52a3e399caa20cc65be80f87719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yu6yd54ZP1PdFqyAXgn9cA.png"/></div></div><p class="ks kt gk gi gj ku kv bd b be z dk translated">背景图片由<a class="ae kw" href="https://unsplash.com/@klerwonder?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Klára Vernarcová </a>在<a class="ae kw" href="https://unsplash.com/s/photos/package?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="2d4d" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">大约三年前，我写了一篇关于设计干净的Python包结构的指南，它依赖于<code class="fe lt lu lv lw b">setup.py</code>和<code class="fe lt lu lv lw b">setup.cfg</code>文件，以及<a class="ae kw" href="https://setuptools.pypa.io/" rel="noopener ugc nofollow" target="_blank"> Setuptools </a>构建系统。Python生态系统在不断发展，如今，开发人员可以更加灵活地选择更适合他们需求的构建系统——例如，<a class="ae kw" href="https://cournape.github.io/Bento/" rel="noopener ugc nofollow" target="_blank"> Bento </a>、<a class="ae kw" href="https://flit.pypa.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Flit </a>或<a class="ae kw" href="https://python-poetry.org/" rel="noopener ugc nofollow" target="_blank">poem</a>。</p><p id="d677" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">PEP 517提出了一种标准的方法来定义Python项目的可选构建系统。多亏了<a class="ae kw" href="https://peps.python.org/pep-0518/" rel="noopener ugc nofollow" target="_blank"> PEP 518 </a>，开发者可以使用<code class="fe lt lu lv lw b">pyproject.toml</code>配置文件来建立项目的构建需求。</p><p id="7424" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">PEP 517还引入了构建前端和后端的概念。根据规范，构建前端是一个工具，它可以获取任意代码并从中构建轮子。实际的构建是由构建后端完成的。在类似<code class="fe lt lu lv lw b">pip wheel some-directory/</code>的命令中，Pip充当构建前端。从这个意义上说，PEP 517推动的一个根本变化是Pip不再“硬编码”使用Setuptools作为构建后端。然后，正如第一段中提到的，新的构建工具正在出现，并且有一个官方的编程接口来确保它们之间的兼容性。</p><p id="25e4" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">本文描述了如何使用<code class="fe lt lu lv lw b">pyproject.toml</code>和<a class="ae kw" href="https://flit.pypa.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Flit </a>来获得与之前的包设置指南相似的结果。我使用Flit有两个不同的原因:</p><ol class=""><li id="479f" class="lx ly ir kz b la lb ld le lg lz lk ma lo mb ls mc md me mf bi translated">演示如何使用Setuptools之外的另一个构建系统。<a class="ae kw" href="https://flit.pypa.io/en/latest/rationale.html" rel="noopener ugc nofollow" target="_blank"> Flit声称更容易使用</a>。</li><li id="3908" class="lx ly ir kz b la mg ld mh lg mi lk mj lo mk ls mc md me mf bi translated">它符合<a class="ae kw" href="https://peps.python.org/pep-0517/" rel="noopener ugc nofollow" target="_blank"> PEP 517 </a>和<a class="ae kw" href="https://peps.python.org/pep-0660/" rel="noopener ugc nofollow" target="_blank"> PEP 660 </a>，支持可编辑的安装——这对开发者非常有用——无需进一步配置。在2022年7月撰写本文时，Setuptools需要一个小的变通方法。</li></ol><h1 id="9bcb" class="ml mm ir bd mn mo mp mq mr ms mt mu mv jx mw jy mx ka my kb mz kd na ke nb nc bi translated">干净的包装结构</h1><p id="afd7" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">建议的包装结构如下所示:</p><pre class="kh ki kj kk gu ni lw nj nk aw nl bi"><span id="ab93" class="nm mm ir lw b gz nn no l np nq">project-root<br/>├──src/<br/>   └──package_name/<br/>      └──__init__.py<br/>├──tests/<br/>   └──package_name/<br/>├──.gitignore<br/>├──LICENSE<br/>├──pyproject.toml<br/>└──README.md</span></pre><p id="91d1" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">你会注意到<code class="fe lt lu lv lw b">pyproject.toml</code>取代了<code class="fe lt lu lv lw b">setup.py</code>和<code class="fe lt lu lv lw b">setup.cgf</code>。以下代码片段提供了该文件的初始工作版本:</p><figure class="kh ki kj kk gu kl"><div class="bz fq l di"><div class="nr ns l"/></div><p class="ks kt gk gi gj ku kv bd b be z dk translated">pyproject.toml备忘单—初始版本</p></figure><p id="8f57" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">尽管采用了<a class="ae kw" href="https://toml.io/" rel="noopener ugc nofollow" target="_blank"> TOML </a>格式，但内容与<code class="fe lt lu lv lw b">setup.py</code>非常相似，除了<code class="fe lt lu lv lw b">[build-system]</code>部分(或表，因为这种键/值对在TOML规范中被调用)。它用于指定项目的构建系统——在本例中，Flit作为后端。</p><p id="ea85" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated"><code class="fe lt lu lv lw b">pyproject.toml</code>文件由构建系统处理，根据您选择的后端，其内容可能会有所不同。比如，诗歌需要<code class="fe lt lu lv lw b">authors</code>数组元素作为<code class="fe lt lu lv lw b">name &lt;email&gt;</code>字符串(<a class="ae kw" href="https://python-poetry.org/docs/pyproject/#authors" rel="noopener ugc nofollow" target="_blank">源</a>)，而Flit需要一个带有<code class="fe lt lu lv lw b">name</code>和<code class="fe lt lu lv lw b">email</code>键的表列表(<a class="ae kw" href="https://flit.pypa.io/en/latest/pyproject_toml.html#new-style-metadata" rel="noopener ugc nofollow" target="_blank">源</a>)。在编写<code class="fe lt lu lv lw b">pyproject.toml</code>文件时，请始终参考构建后端文档，以避免语法问题。通过谷歌搜索<code class="fe lt lu lv lw b">&lt;build backend&gt; pyproject.toml</code>(例如<code class="fe lt lu lv lw b">flit pyproject.toml</code>或<code class="fe lt lu lv lw b">poetry pyproject.toml</code>)可以很容易地找到这样的文档。</p><h1 id="9a16" class="ml mm ir bd mn mo mp mq mr ms mt mu mv jx mw jy mx ka my kb mz kd na ke nb nc bi translated">附加功能</h1><p id="f979" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">在接下来的章节中，您将会看到如何向项目中添加一些不错的特性，比如开发依赖管理、自动化测试和林挺。一个完整的工作示例可以在配套的资源库中找到:</p><div class="nt nu gq gs nv nw"><a href="https://github.com/ricardolsmendes/pyproject-toml-cheat-sheet" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fp"><div class="ny ab nz cl cj oa"><h2 class="bd is gz z fq ob fs ft oc fv fx iq bi translated">GitHub-ricardolsmendes/py project-toml-cheat-sheet:关于clean pyproject.toml的想法和注释…</h2><div class="od l"><h3 class="bd b gz z fq ob fs ft oc fv fx dk translated">关于clean pyproject.toml设计的思考与笔记。pyproject.toml:包的描述符文件，其中有多个…</h3></div><div class="oe l"><p class="bd b dl z fq ob fs ft oc fv fx dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok kq nw"/></div></div></a></div><p id="f53a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">为了将Flit用作构建前端(<code class="fe lt lu lv lw b">flit</code>命令)，正如我接下来将要展示的，您需要从PyPI 安装<a class="ae kw" href="https://pypi.org/project/flit/" rel="noopener ugc nofollow" target="_blank"> Flit。运行<code class="fe lt lu lv lw b">pip install flit~=3.7.1</code>来这样做，以防万一，用您喜欢的版本替换<code class="fe lt lu lv lw b">3.7.1</code>。如果Pip用作前端，则不需要此步骤。</a></p><h2 id="46be" class="nm mm ir bd mn ol om dn mr on oo dp mv lg op oq mx lk or os mz lo ot ou nb ov bi translated">开发依赖性</h2><p id="b655" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">Flit的<code class="fe lt lu lv lw b">pyproject.toml</code>文档描述了如何向给定的项目添加可选的依赖项。在这个上下文中，Optional意味着依赖项不是包完成其核心工作所必需的，而是出于测试或文档的目的。</p><blockquote class="ow"><p id="58e4" class="ox oy ir bd oz pa pb pc pd pe pf ls dk translated"><code class="fe lt lu lv lw b">[project.optional-dependencies]</code>表包含每个可选特性所需的包列表。(<a class="ae kw" href="https://flit.pypa.io/en/latest/pyproject_toml.html#pyproject-project-dependencies" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></blockquote><p id="2d90" class="pw-post-body-paragraph kx ky ir kz b la pg js lc ld ph jv lf lg pi li lj lk pj lm ln lo pk lq lr ls ik bi translated">以下代码在配套项目中用于枚举开发依赖项:</p><pre class="kh ki kj kk gu ni lw pl bn pm pn bi"><span id="0fee" class="po mm ir lw b be pp pq l pr nq">[project.optional-dependencies]<br/>dev = [<br/>    "pylint ~=2.14.0",<br/>    "toml ~=0.10.2",<br/>    "yapf ~=0.32.0",<br/>]<br/>test = [<br/>    "pytest-cov ~=3.0.0",<br/>]</span></pre><p id="13e4" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">要将它们与您的软件包一起安装，只需运行<code class="fe lt lu lv lw b">flit install --deps=develop</code>。</p><h2 id="a615" class="nm mm ir bd mn ol om dn mr on oo dp mv lg op oq mx lk or os mz lo ot ou nb ov bi translated">自动化测试</h2><p id="b6de" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">Pytest 6.0 中引入了对<code class="fe lt lu lv lw b">pyproject.toml</code>的支持<a class="ae kw" href="https://docs.pytest.org/en/6.2.x/customize.html#pyproject-toml" rel="noopener ugc nofollow" target="_blank">。此后，可以使用<code class="fe lt lu lv lw b">[tool.pytest.ini_options]</code>表为给定的项目设置Pytest。在配套的存储库中，我使用了下面几行来设置默认选项:</a></p><pre class="kh ki kj kk gu ni lw pl bn pm pn bi"><span id="8e09" class="po mm ir lw b be pp pq l pr nq">[tool.pytest.ini_options]<br/>addopts = "--cov --cov-report html --cov-report term-missing --cov-fail-under 95"</span></pre><p id="e9b2" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">和下表来确定在计算测试覆盖率时应该考虑哪个目录<code class="fe lt lu lv lw b">pytest-cov</code>:</p><pre class="kh ki kj kk gu ni lw pl bn pm pn bi"><span id="c514" class="po mm ir lw b be pp pq l pr nq">[tool.coverage.run]<br/>source = ["src"]</span></pre><p id="02c0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后，从根文件夹运行<code class="fe lt lu lv lw b">pytest</code>即可。</p><h2 id="7595" class="nm mm ir bd mn ol om dn mr on oo dp mv lg op oq mx lk or os mz lo ot ou nb ov bi translated">代码格式</h2><p id="961d" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated"><a class="ae kw" href="https://github.com/google/yapf" rel="noopener ugc nofollow" target="_blank"> YAPF </a>是已经<a class="ae kw" href="https://github.com/google/yapf/issues/708" rel="noopener ugc nofollow" target="_blank">支持</a> <code class="fe lt lu lv lw b"><a class="ae kw" href="https://github.com/google/yapf/issues/708" rel="noopener ugc nofollow" target="_blank">pyproject.toml</a></code>的代码格式化工具的一个例子，提供了<code class="fe lt lu lv lw b">setup.cfg</code>的替代方案。下面的代码片段显示了如何使用它:</p><pre class="kh ki kj kk gu ni lw pl bn pm pn bi"><span id="56fa" class="po mm ir lw b be pp pq l pr nq">[tool.yapf]<br/>blank_line_before_nested_class_or_def = true<br/>column_limit = 88</span></pre><p id="6f7c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">从项目的根文件夹运行<code class="fe lt lu lv lw b">yapf --in-place --recursive ./src ./tests</code>，然后<em class="ps">瞧</em>！</p><p id="5db2" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">请参考您首选的格式化程序文档，以确保它们也支持<code class="fe lt lu lv lw b">pyproject.toml</code>。</p><h2 id="89b0" class="nm mm ir bd mn ol om dn mr on oo dp mv lg op oq mx lk or os mz lo ot ou nb ov bi translated">林挺</h2><p id="b41b" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">鉴于林挺的简单，它通常是我的第一选择。不幸的是，当我写这篇博文时，它仍然不支持<code class="fe lt lu lv lw b">pyproject.toml</code>的配置，所以我决定使用<a class="ae kw" href="https://github.com/PyCQA/pylint" rel="noopener ugc nofollow" target="_blank"> Pylint </a>:</p><pre class="kh ki kj kk gu ni lw pl bn pm pn bi"><span id="eeb3" class="po mm ir lw b be pp pq l pr nq">[tool.pylint]<br/>max-line-length = 88<br/>disable = [<br/>    "C0103", # (invalid-name)<br/>    "C0114", # (missing-module-docstring)<br/>    "C0115", # (missing-class-docstring)<br/>    "C0116", # (missing-function-docstring)<br/>    "R0903", # (too-few-public-methods)<br/>    "R0913", # (too-many-arguments)<br/>    "W0105", # (pointless-string-statement)<br/>]</span></pre><p id="bd0a" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">从根文件夹运行<code class="fe lt lu lv lw b">pylint ./src ./tests</code>来查看结果。</p><p id="3870" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">同样，请参考您首选的linter文档，以确保它们支持<code class="fe lt lu lv lw b">pyproject.toml</code>。</p><h2 id="a24c" class="nm mm ir bd mn ol om dn mr on oo dp mv lg op oq mx lk or os mz lo ot ou nb ov bi translated">可编辑安装</h2><p id="272a" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">使用Pip的开发人员依靠<code class="fe lt lu lv lw b">pip install -e .</code>(又名可编辑安装或开发模式)来模拟从源代码安装他们的包，并动态测试更改。如果你有Flit作为构建后端，它将会工作，因为Flit符合PEP 660。</p><p id="2872" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">Flit的CLI通过<code class="fe lt lu lv lw b">flit install -s</code>提供了类似的特性。你可以在<a class="ae kw" href="https://flit.pypa.io/en/latest/cmdline.html#flit-install" rel="noopener ugc nofollow" target="_blank">官方文件</a>中找到更多关于<code class="fe lt lu lv lw b">flit install</code>的信息。</p><p id="d266" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">Sidenote:我注意到当使用Flit安装包时，<code class="fe lt lu lv lw b">pytest-cov</code>要求项目的源代码在安装时使用<code class="fe lt lu lv lw b">-s</code>标志来报告覆盖率，这意味着即使在CI管道上运行测试时也应该使用该标志。</p><h1 id="0874" class="ml mm ir bd mn mo mp mq mr ms mt mu mv jx mw jy mx ka my kb mz kd na ke nb nc bi translated">构建并发布</h1><p id="4695" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">用Flit构建很简单，你可以在<a class="ae kw" href="https://flit.pypa.io/en/latest/cmdline.html#flit-build" rel="noopener ugc nofollow" target="_blank">官方文档</a>中找到可用的选项。让我们做一个本地构建并安装生成的包，看看它是什么样子的。</p><ol class=""><li id="325e" class="lx ly ir kz b la lb ld le lg lz lk ma lo mb ls mc md me mf bi translated">从以前的安装中删除工作包:<code class="fe lt lu lv lw b">pip uninstall -y pyproject-toml-cheat-sheet stringcase</code>(我没有找到使用Flit CLI来做这件事的方法)。</li><li id="b376" class="lx ly ir kz b la mg ld mh lg mi lk mj lo mk ls mc md me mf bi translated">从源代码:<code class="fe lt lu lv lw b">flit build</code>构建一个轮子和一个sdist (tarball)。当构建完成时，您应该在控制台中看到类似于<code class="fe lt lu lv lw b">Buit wheel: dist/pyproject_toml_cheat_sheet-1.0.0-py3-none-any.whl</code>的消息。</li><li id="c922" class="lx ly ir kz b la mg ld mh lg mi lk mj lo mk ls mc md me mf bi translated">使用Pip安装以确保软件包与Pip兼容:<code class="fe lt lu lv lw b">pip install dist/pyproject_toml_cheat_sheet-1.0.0-py3-none-any.whl</code>。</li></ol><p id="b8e6" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">现在，让我们使用Python交互式Shell调用<code class="fe lt lu lv lw b">pyproject_cheat_sheet.StringFormatter.format_to_snakecase</code>方法:</p><pre class="kh ki kj kk gu ni lw nj nk aw nl bi"><span id="1881" class="nm mm ir lw b gz nn no l np nq">python<br/>&gt;&gt;&gt; from pyproject_cheat_sheet import StringFormatter<br/>&gt;&gt;&gt; print(StringFormatter.format_to_snakecase('FooBar'))<br/>foo_bar<br/>&gt;&gt;&gt; exit()</span></pre><p id="20eb" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">正如您所看到的，<code class="fe lt lu lv lw b">foo_bar</code>是<code class="fe lt lu lv lw b">StringFormatter.format_to_snakecase('FooBar')</code>的输出，这意味着包按预期工作。</p><p id="7ba0" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">发布也很简单。详情请参考<a class="ae kw" href="https://flit.pypa.io/en/latest/cmdline.html#flit-publish" rel="noopener ugc nofollow" target="_blank"> Flit文档</a>。</p><h1 id="ce2e" class="ml mm ir bd mn mo mp mq mr ms mt mu mv jx mw jy mx ka my kb mz kd na ke nb nc bi translated">还想用Setuptools吗？</h1><p id="5e3f" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">我们很擅长使用Flit，但是如果您出于某种原因仍然想要使用Setuptools，比如避免对现有的构建管道进行破坏性的更改，该怎么办呢？不用担心…这只是一个通过<code class="fe lt lu lv lw b">pyproject.toml</code>配置构建系统的问题，从以下内容开始:</p><pre class="kh ki kj kk gu ni lw pl bn pm pn bi"><span id="daac" class="po mm ir lw b be pp pq l pr nq">[build-system]<br/>build-backend = "setuptools.build_meta"<br/>requires = [<br/>    "setuptools ~=63.2.0",<br/>    "wheel ~=0.37.1",<br/>]</span></pre><p id="0e83" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">然后你可能想检查特定于Setuptools的配置，在<a class="ae kw" href="https://setuptools.pypa.io/en/latest/userguide/pyproject_config.html" rel="noopener ugc nofollow" target="_blank">他们的文档</a>中有大量信息。</p><h1 id="9623" class="ml mm ir bd mn mo mp mq mr ms mt mu mv jx mw jy mx ka my kb mz kd na ke nb nc bi translated">结束语</h1><p id="467d" class="pw-post-body-paragraph kx ky ir kz b la nd js lc ld ne jv lf lg nf li lj lk ng lm ln lo nh lq lr ls ik bi translated">我们向代码库添加的功能和依赖越多，它就变得越复杂，但我们可以合理地做到这一点。保持代码尽可能干净的一些关键好处是让新的团队成员加入进来，促进长期维护，减轻相关人员的负担。我真的相信它始于我们如何设置我们的包，这就是为什么我分享这样的想法。</p><p id="fe8c" class="pw-post-body-paragraph kx ky ir kz b la lb js lc ld le jv lf lg lh li lj lk ll lm ln lo lp lq lr ls ik bi translated">我希望你喜欢它！</p></div><div class="ab cl pt pu hv pv" role="separator"><span class="pw bw bk px py pz"/><span class="pw bw bk px py pz"/><span class="pw bw bk px py"/></div><div class="ik il im in io"><h1 id="6971" class="ml mm ir bd mn mo qa mq mr ms qb mu mv jx qc jy mx ka qd kb mz kd qe ke nb nc bi translated">参考</h1><ul class=""><li id="b0a5" class="lx ly ir kz b la nd ld ne lg qf lk qg lo qh ls qi md me mf bi translated"><a class="ae kw" href="https://github.com/carlosperate/awesome-pyproject" rel="noopener ugc nofollow" target="_blank"><strong class="kz is">Carlos perate/awesome-py project</strong></a>:一个使用<code class="fe lt lu lv lw b">pyproject.toml</code> Python配置文件的Awesome项目列表。</li></ul></div></div>    
</body>
</html>