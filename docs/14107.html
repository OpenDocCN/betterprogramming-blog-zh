<html>
<head>
<title>Build a Spam Checker With OpenAI and GPT-3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用OpenAI和GPT-3构建一个垃圾邮件检查器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-spam-checker-with-openai-and-gpt-3-8d12188780a2?source=collection_archive---------4-----------------------#2022-11-07">https://betterprogramming.pub/build-a-spam-checker-with-openai-and-gpt-3-8d12188780a2?source=collection_archive---------4-----------------------#2022-11-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8b96" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用微调的API创建垃圾邮件过滤器的简单教程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cc84d1b14e9217c8fdeacbff1bc4d012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hzI4ckOb6LS2dq4xN18_Yg.png"/></div></div></figure><p id="be2f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">缺省情况下，OpenAI API会给你不同的AI模型或引擎来适应不同的情况。</p><p id="153d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://beta.openai.com/docs/guides/fine-tuning" rel="noopener ugc nofollow" target="_blank">微调</a>功能允许采用OpenAI的模型/引擎，为它们提供新的训练数据，并构建一个新的“微调”模型<br/>我们将使用这一微调功能来构建我们的垃圾邮件检查器。</p><p id="0918" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">但是首先，为了建立我们的微调模型，我们需要一些训练数据。<br/>在<a class="ae ln" href="https://www.callassistant.ai" rel="noopener ugc nofollow" target="_blank">呼叫助手</a>中，我们可以使用用户筛选过的现有机器人呼叫的数据。</p><p id="bdab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要电话推销员和机器人电话以及合法电话的例子，以便该模型可以更好地将文本分类为垃圾邮件</p><p id="57f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是一个电话推销员试图向用户推销某种信贷解决方案的例子:</p><blockquote class="lp lq lr"><p id="cb2b" class="kr ks lo kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">你好，我是信用专家莎拉。我给你打了几次电话，都没有接通。我们已经帮助成千上万的人提高了他们的信用，我们也很乐意帮助你。所以尽快用这个号码给我回电话。期待聊天。谢了。</p></blockquote><p id="6049" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里有一个合法看涨期权的例子</p><blockquote class="lp lq lr"><p id="a0e8" class="kr ks lo kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">嗨，我是儿童牙医波特医生办公室的斯潘塞，是关于史密斯先生的。他下个月会去做卫生检查。你想预约吗？拜托了。请致电XXX–XXX–XXX联系我们。再说一遍，我们的电话号码是xxx-xxx-xxx。祝你有美好的一天。再见。</p></blockquote><p id="0429" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要在提示和结果之间添加一个分隔符。对于这个例子，我们将使用OpenAI在其教程中建议的<code class="fe lv lw lx ly b">\n\n###\n\n</code>。使用这些数据，我们需要上传一个<code class="fe lv lw lx ly b">JSONL</code>文件，按照要求格式化数据。这是一个例子。你应该尽可能多地增加例子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="cf88" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">编译完文件后，我们需要开始微调过程。你需要大量的数据、OpenAI CLI和API密匙</p><pre class="kg kh ki kj gt mb ly mc md aw me bi"><span id="5055" class="mf mg iq ly b gy mh mi l mj mk">openai api -<!-- -->k sk-YOUR_KEY <!-- -->fine_tunes.create -t file.jsonl -m ada</span></pre><p id="f9c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据模型和训练数据量的不同，完成微调可能需要一些时间。要跟踪进度，您可以使用以下命令:</p><pre class="kg kh ki kj gt mb ly mc md aw me bi"><span id="d3fa" class="mf mg iq ly b gy mh mi l mj mk">openai api -<!-- -->k sk-YOUR_KEY<!-- --> fine_tunes.follow -i <!-- -->ft-aBcDeFgHiJkLmNoP<br/>...<br/>[18:26:40] Fine-tune enqueued. Queue number: 0<br/>[18:26:40] Fine-tune is in the queue. Queue number: 0<br/>[18:29:14] Fine-tune started<br/>[18:30:52] Completed epoch 1/4<br/>[18:32:11] Completed epoch 2/4<br/>[18:33:30] Completed epoch 3/4<br/>[18:34:49] Completed epoch 4/4<br/>[18:35:08] Uploaded model: <strong class="ly ir">ada:ft-x-xxxx-xx-xx</strong><br/>[18:35:09] Uploaded result file: file-aBcDeFgHiJ<br/>[18:35:09] Fine-tune succeeded</span></pre><p id="0afb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们现在已经有了可以使用的新模型。在下面的例子中，我使用了一个类似的句子，引擎会将文本分类为<code class="fe lv lw lx ly b">spam</code>:</p><pre class="kg kh ki kj gt mb ly mc md aw me bi"><span id="31b5" class="mf mg iq ly b gy mh mi l mj mk">openai api<!-- --> -<!-- -->k sk-YOUR_KEY completions.create -m ada:ft-x-xxxx-xx-xx -M 4 -p "Hello, this is John from Finance Plus. I've called before,  We've helped other individuals like you improve their credit. Please give me a call later.</span><span id="faaa" class="mf mg iq ly b gy ml mi l mj mk">###</span><span id="acf1" class="mf mg iq ly b gy ml mi l mj mk">"</span></pre><p id="bfea" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">答案应该是这样的:</p><pre class="kg kh ki kj gt mb ly mc md aw me bi"><span id="2786" class="mf mg iq ly b gy mh mi l mj mk">Hello, this is John from Finance Plus. I've called before,  We've helped other individuals like you improve their credit. Please give me a call later.</span><span id="be78" class="mf mg iq ly b gy ml mi l mj mk">###</span><span id="c9eb" class="mf mg iq ly b gy ml mi l mj mk"><strong class="ly ir">spam</strong></span></pre><p id="b305" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你使用Java，你可以尝试这样做</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="b62f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从性能角度来看，执行完成API似乎需要500-900毫秒，但是根据我的经验，你用得越多，它就变得越快。</p><p id="ca45" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">将这种方法与人工智能和GPT-3结合使用，我们能够在筛选电话的同时扫描垃圾邮件，并实时通知我们的<a class="ae ln" href="https://www.callassistant.ai" rel="noopener ugc nofollow" target="_blank">呼叫助理</a>用户，他们存在垃圾电话。</p><p id="5df6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢阅读。</p></div></div>    
</body>
</html>