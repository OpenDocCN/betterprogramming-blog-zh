<html>
<head>
<title>Neumorphic Animated Toggle in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI中的神经形态动画切换</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/neumorphic-animated-toggle-in-swiftui-af697ba17f5f?source=collection_archive---------13-----------------------#2022-02-18">https://betterprogramming.pub/neumorphic-animated-toggle-in-swiftui-af697ba17f5f?source=collection_archive---------13-----------------------#2022-02-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a22c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何创建可定制的切换视图</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1bd860600c1655a86b53e02dc6bd9ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A9bbpeg8cjC6n8yL3eEoDg.jpeg"/></div></div></figure><p id="0e33" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在之前的一篇文章中，我们使用神经形态设计原则构建了一个音频播放器，它使用了Michal Malewicz的文章中的调色板。</p><p id="f29b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有关文章使用的颜色和整篇文章的参考，请查看下面的链接:</p><div class="lr ls gp gr lt lu"><a rel="noopener  ugc nofollow" target="_blank" href="/creating-neuromorphic-designs-in-swiftui-290c01331738"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd iu gy z fp lz fr fs ma fu fw is bi translated">在SwiftUI中创建神经形态设计</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">打造时尚简约的音乐播放器</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">better编程. pub</p></div></div><div class="md l"><div class="me l mf mg mh md mi ks lu"/></div></div></a></div><p id="16a0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在开始本教程之前，将神经形态颜色添加到资源中，并为这三种颜色创建一个结构。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div></figure></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="ad02" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">凹面视图</h1><p id="30c3" class="pw-post-body-paragraph ku kv it kw b kx nk ju kz la nl jx lc ld nm lf lg lh nn lj lk ll no ln lo lp im bi translated">为了制作一个凹形视图，我们将使用圆角矩形作为切换视图的形状，我们将尝试通过模仿阴影(颜色，半径，x，y)修改器来创建内部阴影，如下所示:</p><ul class=""><li id="5720" class="np nq it kw b kx ky la lb ld nr lh ns ll nt lp nu nv nw nx bi translated">对于颜色:使用<code class="fe ny nz oa ob b">.fill()</code>修改器</li><li id="af10" class="np nq it kw b kx oc la od ld oe lh of ll og lp nu nv nw nx bi translated">半径:使用模糊修改器。</li><li id="8ff5" class="np nq it kw b kx oc la od ld oe lh of ll og lp nu nv nw nx bi translated">x和y:使用偏移修改器。</li></ul><p id="e961" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要使圆角矩形的角变尖，请用另一个圆角矩形遮罩它。下面的代码创建了一个浅凹的视图。为了使这个视图更加可定制，为<code class="fe ny nz oa ob b">roundedRectangle</code>的<code class="fe ny nz oa ob b">cornerRadius</code>设置一个变量，我们将从自定义切换视图中传递cornerRadius。</p><h2 id="2ad3" class="oh mt it bd mu oi oj dn my ok ol dp nc ld om on ne lh oo op ng ll oq or ni os bi translated">浅薄:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="c9d3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于一个深凹的视图，添加两个圆角矩形，并使它们比我们上面创建的浅阴影偏移更多。</p><h2 id="3057" class="oh mt it bd mu oi oj dn my ok ol dp nc ld om on ne lh oo op ng ll oq or ni os bi translated">深度:</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div></figure></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="47f0" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">自定义动画切换</h1><p id="39cd" class="pw-post-body-paragraph ku kv it kw b kx nk ju kz la nl jx lc ld nm lf lg lh nn lj lk ll no ln lo lp im bi translated">在这一部分，我们将完成切换视图并制作动画。从添加下面的常量变量开始，这些变量将从我们的ContentView传递过来:</p><ul class=""><li id="f28d" class="np nq it kw b kx ky la lb ld nr lh ns ll nt lp nu nv nw nx bi translated"><code class="fe ny nz oa ob b">width</code>:切换视图的宽度。</li><li id="19c2" class="np nq it kw b kx oc la od ld oe lh of ll og lp nu nv nw nx bi translated"><code class="fe ny nz oa ob b">height</code>:切换视图的高度。</li><li id="57e1" class="np nq it kw b kx oc la od ld oe lh of ll og lp nu nv nw nx bi translated"><code class="fe ny nz oa ob b">toggleWidthOffset</code>:作为拨动开关的<code class="fe ny nz oa ob b">roundedRectangle</code>的宽度。</li><li id="f4c7" class="np nq it kw b kx oc la od ld oe lh of ll og lp nu nv nw nx bi translated">定制我们所有圆角矩形的圆度。</li><li id="dd55" class="np nq it kw b kx oc la od ld oe lh of ll og lp nu nv nw nx bi translated"><code class="fe ny nz oa ob b">padding</code>:定制我们的拨动开关在凹面视图中的适合度。</li><li id="e5df" class="np nq it kw b kx oc la od ld oe lh of ll og lp nu nv nw nx bi translated"><code class="fe ny nz oa ob b">isToggled</code>:将我们的开关从开切换到关，反之亦然。</li><li id="e673" class="np nq it kw b kx oc la od ld oe lh of ll og lp nu nv nw nx bi translated"><code class="fe ny nz oa ob b">switchWidth</code>:通过拉伸拨动开关来激活它的运动。</li></ul><p id="4d76" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在ZStack中，添加一个凹面视图。接下来，您可以在<code class="fe ny nz oa ob b">HStack</code>中添加“开”和“关”文本，或者添加符号。</p><p id="4b37" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于切换开关，添加一个圆角矩形，其边框等于或小于切换开关的高度。你可以用<code class="fe ny nz oa ob b">onAppear</code>来确定<code class="fe ny nz oa ob b">switchWidth</code>的大小。给圆角矩形添加阴影，使其凸起。</p><p id="8c93" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<code class="fe ny nz oa ob b">.onTapGesture()</code>中，将<code class="fe ny nz oa ob b">isToggled</code>的值改为相反的值，并将<code class="fe ny nz oa ob b">switchWidth</code>动画化两次。这将使开关拉伸，然后在第二个动画结束时恢复其大小。</p><p id="a382" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要从左向右移动开关，反之亦然，添加由<code class="fe ny nz oa ob b">isToggled</code>值控制的<code class="fe ny nz oa ob b">Spacer() </code>。最后，将<code class="fe ny nz oa ob b">animation( .spring)</code>添加到<code class="fe ny nz oa ob b">roundedRectangle</code>中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div></figure></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="6626" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">内容视图</h1><p id="9089" class="pw-post-body-paragraph ku kv it kw b kx nk ju kz la nl jx lc ld nm lf lg lh nn lj lk ll no ln lo lp im bi translated">确保背景色与切换视图的主色相同，以满足外观设计要求。添加带有所需值的自定义开关。以下是不同值的示例。</p><h2 id="2bcd" class="oh mt it bd mu oi oj dn my ok ol dp nc ld om on ne lh oo op ng ll oq or ni os bi translated">衬垫开关</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/1952a4e4fa64f48e02abce2d4dd375c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*tSFKqj40-zoL9kZXoNEQVA.gif"/></div></figure><h2 id="27fa" class="oh mt it bd mu oi oj dn my ok ol dp nc ld om on ne lh oo op ng ll oq or ni os bi translated">无填充</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/4c5d89186d38cf3383b1730fd6f8ac85.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*Z9wEswKL_pPO6S4Kub37EA.gif"/></div></figure><h2 id="b3f8" class="oh mt it bd mu oi oj dn my ok ol dp nc ld om on ne lh oo op ng ll oq or ni os bi translated">近似方形的</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/a35dbace6cf6f57b8f573423e5dc7620.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*nOlc-8ImnTyscpF9GXocyw.gif"/></div></figure><h2 id="a306" class="oh mt it bd mu oi oj dn my ok ol dp nc ld om on ne lh oo op ng ll oq or ni os bi translated">浅凹视图示例</h2><div class="kj kk kl km gt ab cb"><figure class="ou kn ov ow ox oy oz paragraph-image"><img src="../Images/2f85a9b3030e3c065d857b1b4d2ea0ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*niu4uUXS4ffM47SnyWxuqg.gif"/></figure><figure class="ou kn ov ow ox oy oz paragraph-image"><img src="../Images/0249c666f38fcbeaa0e9ad28845fcf9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*gGYO0uKIMAG8s62ankxeVA.gif"/></figure></div></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><p id="27aa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读！</p></div></div>    
</body>
</html>