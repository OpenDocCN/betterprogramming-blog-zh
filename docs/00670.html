<html>
<head>
<title>Guide to Implementing Typeahead in Meteor and Bootstrap</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Meteor和Bootstrap中实现Typeahead的指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/guide-to-implementing-typeahead-in-meteor-and-bootstrap-b3f999df5df4?source=collection_archive---------10-----------------------#2019-06-27">https://betterprogramming.pub/guide-to-implementing-typeahead-in-meteor-and-bootstrap-b3f999df5df4?source=collection_archive---------10-----------------------#2019-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a024" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我将解释如何在Meteor/Bootstrap环境中简单地实现typeahead</h2></div><p id="08ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，在这里下载<a class="ae lb" href="https://github.com/bassjobsen/Bootstrap-3-Typeahead" rel="noopener ugc nofollow" target="_blank"> Bootstrap 3 Typeahead库</a>。如果您阅读了他们的自述文件，您可能会想写这样的代码</p><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="3d3f" class="ll lm iq lh b gy ln lo l lp lq">&lt;template name="myTemplate"&gt;<br/>    &lt;input data-provide="typeahead" id="blah" type="text" /&gt;<br/>&lt;/template&gt;</span></pre><p id="510b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和</p><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="4a65" class="ll lm iq lh b gy ln lo l lp lq">Meteor.startup(function () {<br/>  $('#blah').typeahead(getTypeaheadData());<br/>});</span></pre><p id="2a17" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是不好的做法。如果您有任何代码可以两次创建<code class="fe lr ls lt lh b">myTemplate</code>模板，它将不再工作。同一个模板的两个渲染不指向同一个元素。例如:</p><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="ceeb" class="ll lm iq lh b gy ln lo l lp lq">{{#if flag}}<br/>  {{&gt;myTemplate}}<br/>{{else}}<br/>  {{&gt;myTemplate}}<br/>{{/if}}</span></pre><p id="cb53" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个例子中，启动功能只应用于一个<code class="fe lr ls lt lh b">{{&gt;myTemplate}}</code>渲染。如果<code class="fe lr ls lt lh b">flag</code>被翻转，另一个<code class="fe lr ls lt lh b">myTemplate</code>将没有提前输入功能。</p><p id="7c97" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可能会尝试用一个<code class="fe lr ls lt lh b">Template.myTemplate.rendered</code>函数来破解它，但那太麻烦了。相反，本着反应式编程的精神，您应该使用数据属性。</p><p id="bb83" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">正确的方法</strong>是用JSON形式的typeahead数据创建一个助手。</p><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="0c9f" class="ll lm iq lh b gy ln lo l lp lq">Template.myHelper.helper({<br/>  typeahead : function(){<br/>    return JSON.stringify(Session.get("typeahead"));<br/>  }<br/>});</span></pre><p id="347f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不要忘记<code class="fe lr ls lt lh b">Session.set("typeahead",getTypeaheadData());</code>你可以把它放在你的启动函数中，但是如果运行<code class="fe lr ls lt lh b">getTypeaheadData()</code>需要时间，最好也把:<code class="fe lr ls lt lh b">Session.setDefault("typeahead",[]);</code></p><p id="095d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，在您的模板中，您只需执行以下操作:</p><pre class="lc ld le lf gt lg lh li lj aw lk bi"><span id="8705" class="ll lm iq lh b gy ln lo l lp lq">&lt;template name="myTemplate"&gt;<br/>    &lt;input data-source="{{typeahead}}" data-provide="typeahead" id="blah" type="text" /&gt;<br/>&lt;/template&gt;</span></pre><p id="5a78" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">恭喜你，你现在有了一个反应式提前输入字段！</p></div></div>    
</body>
</html>