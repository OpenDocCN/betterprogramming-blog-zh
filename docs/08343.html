<html>
<head>
<title>Getters and Setters Made Simple in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift简化了Getters和Setters</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/getters-and-setters-made-simple-in-swift-ee8b56beb66?source=collection_archive---------3-----------------------#2021-04-20">https://betterprogramming.pub/getters-and-setters-made-simple-in-swift-ee8b56beb66?source=collection_archive---------3-----------------------#2021-04-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2e10" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何以及何时按需计算属性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/efa0656062c317b5d252fac72bd88cc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hbiqcIlZYQ4DAAC2wsB6vA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="3050" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Swift中，最常见的属性是存储属性和计算属性。</p><ul class=""><li id="6d7b" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">存储属性存储一个值供以后使用(例如，属于类实例的变量)。</li><li id="e777" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">计算属性不存储值。相反，它只在被请求时才进行计算。</li></ul><p id="1d65" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从语法上来说，访问计算属性看起来就像访问任何属性一样。例如，访问权重实例的计算属性<code class="fe mi mj mk ml b">kilos</code>:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="17ad" class="mq mr it ml b gy ms mt l mu mv">weight.kilos</span></pre></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="f507" class="nd mr it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">在Swift中使用计算属性</h1><p id="880a" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">为了创建计算属性，Swift为您提供了一个getter和(可选的)setter方法。</p><ul class=""><li id="269f" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">getter方法用于在请求时执行计算。</li><li id="590c" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">setter方法是可选的方法。它可用于修改相关属性。</li></ul><p id="6753" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了更好地理解setter，假设您有一个可以称之为<code class="fe mi mj mk ml b">weight.kilograms</code>和<code class="fe mi mj mk ml b">weight.pounds</code>的权重。然而，在更新权重时有一个问题:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="6b11" class="mq mr it ml b gy ms mt l mu mv">weight.pounds = 150 </span></pre><p id="8549" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，<code class="fe mi mj mk ml b">weight.kilograms</code>不再是最新的，因为只有<code class="fe mi mj mk ml b">pounds</code>得到了更新。</p><p id="07f3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这就是setter方法有用的地方。您可以使用它来修改相关属性。在setter方法的帮助下，调用<code class="fe mi mj mk ml b">weight.pounds = 150</code>会自动更新<code class="fe mi mj mk ml b">weight.kilograms</code>。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="d912" class="nd mr it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">Swift中计算属性的简单示例</h1><p id="d51f" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">假设您正在使用砝码，并且希望轻松地在千克和磅之间进行转换。</p><p id="4098" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在编写任何代码之前，让我们想象一下代码应该如何工作:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="3fb5" class="mq mr it ml b gy ms mt l mu mv"><strong class="ml iu">let</strong> weight = Weight()    // Initialize a weight</span><span id="1a43" class="mq mr it ml b gy nz mt l mu mv">weight.kilograms = 100   // Set the weight in kilos<br/>print(weight.pounds)     // Kilos as pounds</span><span id="b10a" class="mq mr it ml b gy nz mt l mu mv">weight.<strong class="ml iu">pounds</strong> = 315      // Assign a new weight in <strong class="ml iu">pounds</strong>...<br/>print(weight.kilograms)  // ...and also update <strong class="ml iu">kilos</strong> automatically</span></pre><p id="6b1a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简而言之，您希望能够用一次赋值来指定一个新的重量(千克或磅),以便自动更新这两个重量。</p><p id="3f33" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了实现这一点，让我们利用计算属性:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="2fd5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们更仔细地检查一下上面的代码。<code class="fe mi mj mk ml b">Weight</code>是一个类，而<code class="fe mi mj mk ml b">kilograms</code>只是一个属于类实例的常规变量。那里没什么特别的。</p><p id="9db0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe mi mj mk ml b">pounds</code>变量是“神奇”发生的地方:</p><ul class=""><li id="c68b" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><code class="fe mi mj mk ml b">pounds</code>是一个计算属性。它的值仅在被请求时计算。</li><li id="94b8" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe mi mj mk ml b">get</code>块执行按需计算:当您调用<code class="fe mi mj mk ml b">weight.pounds</code>时，<code class="fe mi mj mk ml b">kilograms</code>属性被转换为磅。</li><li id="e3a9" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">当重量以磅为单位改变时，<code class="fe mi mj mk ml b">set</code>模块负责更新千克。注意setter中的<code class="fe mi mj mk ml b">newWeight</code>参数。它只是指您分配给<code class="fe mi mj mk ml b">pounds</code>的新权重。</li></ul><p id="5996" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">干得好！现在，代码就像您希望的那样工作:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="7801" class="mq mr it ml b gy ms mt l mu mv"><strong class="ml iu">let</strong> weight = Weight()</span><span id="3ac4" class="mq mr it ml b gy nz mt l mu mv">weight.kilograms = 100<br/>print(weight.pounds)        // The getter method is invoked</span><span id="c565" class="mq mr it ml b gy nz mt l mu mv">weight.pounds = 315         // The setter method is invoked<br/>print(weight.kilograms) </span></pre><p id="d2f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="kj kk kl km gt mm ml mn mo aw mp bi"><span id="b042" class="mq mr it ml b gy ms mt l mu mv">220.5<br/>142.85715</span></pre><p id="fac6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">恭喜你。现在您知道了什么是计算属性，以及如何自己创建一个计算属性。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="93bb" class="nd mr it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">什么时候应该使用计算属性？</h1><p id="647d" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">您可能已经注意到，没有什么可以阻止您用方法替换计算属性。对于何时应该或不应该使用计算属性，没有正确或错误的答案，但这里有一些建议:</p><p id="bf3b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下列情况下，计算属性很有用:</p><ul class=""><li id="2490" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">该属性依赖于其他属性(就像前面的权重示例一样)。</li><li id="7599" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">您正在定义一个<a class="ae oc" href="https://medium.com/codex/swift-basics-introduction-to-extensions-47c7c96b1e7a" rel="noopener">扩展</a>中的属性。</li></ul><p id="035a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果计算出的属性满足以下条件，则选择该属性上的方法:</p><ul class=""><li id="2ce7" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">需要论据。计算属性不能接受参数。</li><li id="a056" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">需要执行计算量大的任务。</li><li id="2615" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">抛出错误。</li></ul></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="21bb" class="nd mr it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">结论</h1><p id="7f05" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">在Swift中，计算属性不存储值，而是在尝试访问时按需计算。</p><p id="2354" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">计算属性的一个常见用例是从另一个相关属性中派生一个值(例如，从千克到磅)。</p><p id="6f61" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Swift中使用计算属性时，您可以使用getter方法来计算属性。可选的setter方法也可以用来更新相关的属性(例如，<code class="fe mi mj mk ml b">weight.kilograms = 100</code>自动更新<code class="fe mi mj mk ml b">weight.pounds</code>)。</p><p id="4503" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读。我希望你觉得这有用！</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="02ee" class="nd mr it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">进一步阅读</h1><div class="od oe gp gr of og"><a href="https://www.codingem.com/swift-interview-questions/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">50个Swift面试问答- Codingem</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">这里列出了50个Swift面试问题和答案。这些问题侧重于Swift编程和iOS应用程序…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">www.codingem.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><h1 id="2350" class="nd mr it bd ne nf ov nh ni nj ow nl nm jz ox ka no kc oy kd nq kf oz kg ns nt bi translated">资源</h1><div class="od oe gp gr of og"><a href="https://swift.org/documentation/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">Swift.org</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">您可以将此页面上的资源用作Swift语言的文档。苹果公司拥有额外的资源…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">swift.org</p></div></div></div></a></div></div></div>    
</body>
</html>