<html>
<head>
<title>Opinionated React: Use State Co-Location</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">固执己见的反应:使用状态协同定位</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/opinionated-react-use-state-co-location-8123b904a971?source=collection_archive---------14-----------------------#2020-04-29">https://betterprogramming.pub/opinionated-react-use-state-co-location-8123b904a971?source=collection_archive---------14-----------------------#2020-04-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5933" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为什么你应该把你的状态放在尽可能靠近它被使用的地方</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dc2dd8e43741bfd2ac11d963f7745776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6a3CxyDnJKAUZv9r"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@jordanmadrid?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乔丹马德里</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="aabc" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">介绍</h1><p id="97e5" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我已经和React合作了四年多。在这段时间里，我形成了一些我认为应用程序应该是什么样子的观点。这是这类固执己见的文章系列的第4部分。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="69d0" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">为什么</h1><p id="3a5f" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">状态位置有助于降低应用程序的复杂性。在某些情况下，它实际上可以提高性能。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="2daa" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">你所在的州是什么意思？</h1><p id="f7c1" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">简单地说，这意味着把你的状态尽可能地放在它被使用的地方。除非绝对必要，否则应该避免全局状态。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="9064" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">一个例子</h1><p id="fa2e" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这里有一些我在职业生涯中遇到过几次的代码。我会避免这样做:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="c3f9" class="pw-post-body-paragraph ly lz it ma b mb mw ju md me mx jx mg mh my mj mk ml mz mn mo mp na mr ms mt im bi translated">我发现这段代码过于复杂，难以理解。值得注意的是，这样做的性能会很差，因为每次输入值改变时，我们都要重新渲染整个状态树。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="eeba" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">使用协同定位来简化代码</h1><p id="3d64" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我会这样写:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="7aac" class="pw-post-body-paragraph ly lz it ma b mb mw ju md me mx jx mg mh my mj mk ml mz mn mo mp na mr ms mt im bi translated">我总是从状态协同定位开始，然后在需要时提升状态。保持简单！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="e083" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">问与答(Question and Answer)</h1><p id="5ea5" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在每一篇文章里，我都会回答一个我在Twitter上收到的问题。这是本周的问题:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nb mv l"/></div></figure><p id="3b84" class="pw-post-body-paragraph ly lz it ma b mb mw ju md me mx jx mg mh my mj mk ml mz mn mo mp na mr ms mt im bi translated">我认为<em class="nc">全球化</em>的事情很少。大多数状态应该在它被使用的地方共存。这里有一些我认为是全球性的事情:</p><ul class=""><li id="517e" class="nd ne it ma b mb mw me mx mh nf ml ng mp nh mt ni nj nk nl bi translated">当前用户</li><li id="fe3e" class="nd ne it ma b mb nm me nn mh no ml np mp nq mt ni nj nk nl bi translated">语言设置</li><li id="b459" class="nd ne it ma b mb nm me nn mh no ml np mp nq mt ni nj nk nl bi translated">一个主题</li></ul><p id="85d2" class="pw-post-body-paragraph ly lz it ma b mb mw ju md me mx jx mg mh my mj mk ml mz mn mo mp na mr ms mt im bi translated">除了这三个，我不确定还有什么需要全球化。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="9043" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">包扎</h1><p id="596b" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这是我正在撰写的系列文章的第四部分。如果你喜欢这个，请在下面评论。你还想让我报道什么？一如既往，我欢迎反馈和建议。</p><p id="110d" class="pw-post-body-paragraph ly lz it ma b mb mw ju md me mx jx mg mh my mj mk ml mz mn mo mp na mr ms mt im bi translated">感谢阅读。</p></div></div>    
</body>
</html>