<html>
<head>
<title>6 Reasons Why Elixir Is Better Than Ruby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">仙丹优于红宝石的6个理由</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/6-reasons-why-elixir-is-better-than-ruby-8f5ef8edc40e?source=collection_archive---------3-----------------------#2020-01-18">https://betterprogramming.pub/6-reasons-why-elixir-is-better-than-ruby-8f5ef8edc40e?source=collection_archive---------3-----------------------#2020-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="36dd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何以及为什么长生不老药是为程序员的快乐而设计的</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3595bf2558f3ab85249145f68d0439a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EL9lo3QX2jWbD2mH"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马克斯·尼尔森在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="20a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的团队在过去的24个月里一直在使用Elixir，我认为写下我对Elixir和Ruby的看法，以及为什么我们的工程团队决定完全停止使用Ruby编程，并把我们所有的精力放在Elixir上是一个好主意。</p><p id="daf7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://foxbox.com/blog/elixir-vs-ruby/" rel="noopener ugc nofollow" target="_blank">我会在这里详细介绍我们的Elixir vs. Ruby体验</a>，但对于这篇文章，我想重点介绍以下内容:</p><ol class=""><li id="d536" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">发展速度</li><li id="c752" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">安全性和正确性</li><li id="a6b0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">表演</li><li id="1da6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">简易并发编程</li><li id="849b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">成熟</li><li id="905b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">招聘质量</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/906d686eff92cbc4ca73539ee2576dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*arZ5JxkjH3E6ODAjMxdt1Q.jpeg"/></div></div></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="9276" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">1.发展速度</h1><p id="1d92" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">老实说，我们对Elixir轻松处理并发感到兴奋，但这不是我们坚持使用它的主要原因。灵药是一种高产的语言。以下是这种说法的一些理由:</p><p id="8279" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">简化的开发设置</strong>——利用BEAM虚拟机，人们可以在几乎任何机器上获得一致的开发体验——甚至是Windows。虽然对于Ruby来说也是如此，但是随着项目的进展，Ruby中典型的web应用程序会积累更多的依赖项，使得它的启动和运行变得越来越困难，而Elixir web应用程序的安装仍然相对容易。</p><p id="eef2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">可预测的代码库</strong> — Elixir实施真正的词法范围并鼓励显式代码。这在代码级别意味着，Elixir使数据转换、代码组织和应用程序接口更加可预测，也更容易推理——从而节省了大量开发时间。</p><p id="6f55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">轻量级和快速测试</strong>——这可能是使用长生不老药最少被提及却又最强大的好处。Elixir为开发人员提供了对硬件性能影响相对最小的超快速并发测试。另一方面，Ruby测试可能非常慢，而且是硬件密集型的——对于那些性能不佳的机器来说，它可能会使整个系统陷入瘫痪。酏剂通过加快测试速度完全消除了头痛。</p><p id="87fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">有用的内置特性</strong> —我们已经使用Elixir构建了一个快速的MVP项目来构建大型项目。在这两种场景中，Elixir都提供了强大的内置特性来满足典型的现代web应用程序的需求，比如缓存、后台处理和进程监控。在Ruby on Rails这样的平台上，这些解决方案通常与Redis、Resque和Foreman等服务紧密相关。</p><p id="8097" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我承认，起初，我对长生不老药非常失望。</p><p id="a702" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我与模式匹配作斗争，它被吹捧为这个革命性的新概念。不过，在习惯了它和Elixir的所有其他优点之后，我发现自己用更少的努力和挫折来编码，以获得与Ruby完全相同的输出。这有两个原因。</p><h2 id="6260" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated">这是一种函数式语言</h2><p id="731a" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">与Ruby等面向对象的语言不同，函数式语言非常漂亮，并且简化了编程。我非常喜欢函数式语言，原因有几个:</p><ul class=""><li id="4c96" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu oa mb mc md bi translated">它们导致编码更快和更可预测</li><li id="272f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu oa mb mc md bi translated">没有要跟踪的州。国家使得追踪问题变得极其困难。没有引用错误。一切都是纯函数，很奇妙。</li></ul><h2 id="8e6e" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated">它有模式匹配</h2><p id="57cc" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">Elixir最大的优势和与众不同之处之一是模式匹配。模式匹配来源于Erlang，并且是您希望其他语言也能采用的东西之一。</p><p id="d72f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的一位非常有才华的工程师<a class="ae ky" href="https://gist.github.com/fschuindt/d1174ac8f490bfdef8abf9629fa8ecaf" rel="noopener ugc nofollow" target="_blank">使用一个简单的排名例子，在Elixir和Ruby之间做了一个代码样本比较</a>。</p><p id="82f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个例子中，模式匹配使代码更优雅、更有表现力、更易读。这似乎是一件小事，但我发现自己一有机会就会使用模式匹配。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="7f2e" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">2.安全特性导致更少的错误</h1><p id="b444" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">编程是乐趣和挫折的混合体。我发现长生不老药比红宝石更有趣，更少让人沮丧。Elixir是一种动态类型语言，它内置了类型安全和保护功能，以及模式匹配，这大大减少了错误。</p><p id="8037" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这导致更少的编译器错误。对于确实存在的错误，由于编译器的原因，它们更容易被发现。编译代码是一个巨大的安全特性。在Ruby中，bug可以保持隐藏状态，直到有人击中它们；在Elixir中，编译器会找到其中的大部分。</p><p id="21e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总结:<br/>安全→更少的bug→更容易追踪bug→更好玩→更快乐的团队→更快乐的我</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="e418" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">3.它很快——真的很快</h1><p id="cca3" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">Elixir编译成BEAM字节码，因此它继承了Erlang的所有性能优势，而代价几乎为零。另一方面，Ruby需要一个解释器，在运行时逐行读取它的代码。虽然为您的应用程序选择合适的生产就绪的Ruby解释器本身已经是一项艰巨的任务，但是从Ruby中挤出更多的性能通常需要严格遵守Ruby的注意事项。想要连接字符串吗？当然可以。想让它跑得更快？请改用字符串插值。</p><p id="9d9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Elixir将程序员从为了让他们的代码运行得更快一点而不得不根据无止境的最佳实践列表精心编写代码中解放出来，并更加专注于生成满足您的业务需求的代码。</p><p id="e77a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">公平地说，Elixir可能也有类似的一长串性能最佳实践，但它们是在开发的后期阶段出现的。此外，由于Elixir是一种编译语言，大多数性能问题都可以被编译器自动捕获，从而减少了编写高效、高性能代码所需的时间和精力。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="1469" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">4.简易并发编程</h1><p id="689e" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">记得我说过长生不老药很有趣吗？</p><p id="c6e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，Elixir中处理并发的方式是我不使用其他语言编程的原因之一(除非我绝对需要)。</p><p id="bedb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你曾经不得不处理<a class="ae ky" href="https://web.mit.edu/6.005/www/fa14/classes/17-concurrency/" rel="noopener ugc nofollow" target="_blank">并发</a>，你就会明白这是多么令人沮丧。如果处理不当，相同的程序会产生不同的结果。您必须处理锁定、竞争条件和难以解决的错误。</p><p id="c309" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Elixir的美妙之处在于语言内置了并发库。你不需要依赖第三方来实现可伸缩的、安全的、并发的编程。</p><p id="3e80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两个原因是仙丹的一个巨大卖点。</p><h2 id="f5f6" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated">易于大规模处理的数据</h2><p id="47d3" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">建立在Elixir基础上的WhatsApp<a class="ae ky" href="https://www.cnet.com/news/whatsapp-65-billion-messages-sent-each-day-and-more-than-2-billion-minutes-of-calls/" rel="noopener ugc nofollow" target="_blank">拥有超过10亿活跃用户，每天处理超过650亿条消息</a>。</p><h2 id="203f" class="no ms it bd mt np nq dn mx nr ns dp nb li nt nu nd lm nv nw nf lq nx ny nh nz bi translated">运行成本更低:用更少的硬件实现更多</h2><p id="763a" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">Ruby应用程序在服务器上占用大量内存，因为你必须运行该应用程序的许多实例来处理多个请求。为什么？Ruby实际上是单线程的，因为它有一个叫做<a class="ae ky" href="https://realpython.com/python-gil/" rel="noopener ugc nofollow" target="_blank">的全局解释器锁</a>，一次只能运行一个线程。</p><p id="3e1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Elixir应用程序每个实例可以处理多得多的请求，因为它是并发的和编译的(执行时间快得多)。您可以在服务器上运行一个Elixir应用程序的单个实例来处理大量的请求。这大大降低了你的内存利用率。</p><p id="2495" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当谈到数据处理时，与C、Rust和Go等语言相比，Elixir和Ruby都被认为是在内存方面昂贵的解决方案。但是在并发数据处理领域，Elixir和Erlang有一个健壮的预建基础设施。</p><p id="7db7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于较小的门(红宝石)，你将不得不等待更长的时间让你前面的人进来。在更宽的门上(长生不老药)，可以同时有更多的人进去。</p><p id="26d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Elixir以一种非常有效的方式处理并发性，允许在相同的硬件上有更多的并发连接。</p><h1 id="b6bd" class="mr ms it bd mt mu ob mw mx my oc na nb jz od ka nd kc oe kd nf kf of kg nh ni bi translated">5.很成熟</h1><p id="c6bf" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">Elixir建立在Erlang之上，这是一种历经40年考验的语言。Erlang运行高度并发的应用程序，如WhatsApp。</p><p id="14a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个标题和引用自<em class="og"> Wired </em>是一个很好的Erlang案例研究:</p><p id="96bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.wired.com/2015/09/whatsapp-serves-900-million-users-50-engineers/" rel="noopener ugc nofollow" target="_blank">“为什么WhatsApp的9亿用户只需要50名工程师</a>”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/aa34ffa3433136f18143150906dc0a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aQuijK5g2SOSFvaZ.jpg"/></div></div></figure><p id="55f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，Elixir拥有Phoenix，这是一个基于Rails的现代web应用程序的世界级web框架，我们都知道并喜欢它。</p><p id="23c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Elixir有一个<a class="ae ky" href="https://hex.pm/packages" rel="noopener ugc nofollow" target="_blank">大型软件包生态系统</a>，您可以在构建应用程序时利用它。并不是所有的东西都可以在一个Elixir包中获得，对于这些情况，您可以从您的Elixir应用程序中本地运行任何Erlang包。</p><p id="46e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.hntrends.com/2019/oct-no-sign-of-react-falling-back.html?compare=Ruby&amp;compare=Elixir&amp;compare=&amp;compare=" rel="noopener ugc nofollow" target="_blank">它也在成长</a>。就黑客新闻上的职位而言，它还没有赶上Ruby，但它呈上升趋势，而Ruby呈下降趋势。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="8ab5" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">6.招聘质量</h1><p id="a106" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">从我的经验来看，由于Ruby已经存在了很长时间，而且更容易学习，所以有很多优秀的Ruby程序员，而且还有很多东西需要学习。这使得雇佣Ruby工程师有点困难，因为你会有更多的候选人需要筛选。</p></div></div>    
</body>
</html>