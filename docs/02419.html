<html>
<head>
<title>Get More Productive by Writing Better Python Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过编写更好的Python代码提高工作效率</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/get-more-productive-by-writing-better-python-code-86c2b255572b?source=collection_archive---------1-----------------------#2019-11-29">https://betterprogramming.pub/get-more-productive-by-writing-better-python-code-86c2b255572b?source=collection_archive---------1-----------------------#2019-11-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d62f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">我在Python中学到的每一个技巧都是为了写出更好更快的代码</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6ad860d395c16e03502d75bcf72a1e27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DmcBI22L4h0_VIGT"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@carlheyerdahl?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卡尔·海尔达尔</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="9493" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">代表长数字</h1><p id="b4ca" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">很难记住某个长度之后的零或数字的数量。现在，这里有一个窍门:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="54f0" class="mp kx iq ml b gy mq mr l ms mt">&gt;&gt; digit_1 = 10_00_000<br/>&gt;&gt; digit_2 = 10_12_500</span></pre><p id="b13e" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">用<code class="fe mz na nb ml b">_</code>分隔数字。这将帮助您跟踪您输入的数字或零。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="41a7" class="kw kx iq bd ky kz nj lb lc ld nk lf lg jw nl jx li jz nm ka lk kc nn kd lm ln bi translated">解包值</h1><p id="a1c5" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">代码可重用性是每个开发人员都必须遵循的原则，但是如果一个函数返回的值多于您实际需要的值，该怎么办呢？您可能会获取它们，但是您会不断得到关于未使用变量的警告。所以这里有些东西可能会派上用场。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="e32e" class="mp kx iq ml b gy mq mr l ms mt">&gt;&gt; a, b, _ = (1, 2, 3)<br/>&gt;&gt; a<br/>   1</span></pre><p id="a86a" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">使用<code class="fe mz na nb ml b">_</code>告诉Python你不需要这个变量，它不会显示任何警告。</p><p id="c399" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">如果你有多个返回值，但是你只对其中一个感兴趣呢？</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="2237" class="mp kx iq ml b gy mq mr l ms mt">&gt;&gt; a, *_ = (1, 2, 3, 4)<br/>&gt;&gt; a<br/>   1</span></pre><p id="03c5" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">只要在任何变量前加上<code class="fe mz na nb ml b">*</code>，它就可以接受任意数量的值。</p><p id="0c9e" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">如果您是数据科学家或机器学习实践者，您可以查看这篇文章:</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="b286" class="kw kx iq bd ky kz nj lb lc ld nk lf lg jw nl jx li jz nm ka lk kc nn kd lm ln bi translated">字符串格式</h1><p id="ebf7" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Python 3.6引入了一种新的字符串格式化方法。概念其实是从JavaScript买的。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="8ffd" class="mp kx iq ml b gy mq mr l ms mt">&gt;&gt; lst = [1,2,3]<br/>&gt;&gt; print(f"List = {lst}")</span></pre><p id="f07a" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">字符串格式化的另一种方式是:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="7977" class="mp kx iq ml b gy mq mr l ms mt">&gt;&gt; lst = [1, 2, 3]<br/>&gt;&gt; print("List = {}".format(lst))</span></pre></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="7b70" class="kw kx iq bd ky kz nj lb lc ld nk lf lg jw nl jx li jz nm ka lk kc nn kd lm ln bi translated">编写单行If语句</h1><p id="25cf" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在一行中编写<code class="fe mz na nb ml b">if</code>语句是干净代码的标志。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="66d0" class="mp kx iq ml b gy mq mr l ms mt"># BAD CODE<br/>&gt;&gt; status = False<br/>&gt;&gt; if status:<br/>&gt;&gt;    # dosomething<br/>&gt;&gt; else:<br/>&gt;&gt;    # dosomething</span></pre><p id="d5e2" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">你实际上应该做的是:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="6786" class="mp kx iq ml b gy mq mr l ms mt"># GOOD CODE<br/>&gt;&gt; status = False<br/>&gt;&gt; c = dosomething if status else dosomething</span></pre><p id="8c13" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">这段代码看起来可读性更好。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="e807" class="kw kx iq bd ky kz nj lb lc ld nk lf lg jw nl jx li jz nm ka lk kc nn kd lm ln bi translated">列表理解</h1><p id="a0c8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">列表理解是Python中一个非常流行的概念。</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="f64c" class="mp kx iq ml b gy mq mr l ms mt"># BAD CODE<br/>&gt;&gt; digit_list = [1, 2, 3]<br/>&gt;&gt; for item in digit_list:<br/>&gt;&gt;     digit_list[digit_list.index(item)] = item*2<br/>&gt;&gt; digit_list<br/>   [2, 4, 6]</span></pre><p id="e6fb" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">现在，让我们来看看更好的方法:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="aba3" class="mp kx iq ml b gy mq mr l ms mt"># GOOD CODE<br/>&gt;&gt; digit_list = [1, 2, 3]<br/>&gt;&gt; digit_list = [item*2 for item in digit_list]</span></pre></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="217e" class="kw kx iq bd ky kz nj lb lc ld nk lf lg jw nl jx li jz nm ka lk kc nn kd lm ln bi translated">命令的别名</h1><p id="6e9c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">别名是某物的不同名称。当你需要输入很长的命令时，它就派上了用场。</p><p id="0785" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">示例:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="8756" class="mp kx iq ml b gy mq mr l ms mt">$ nlp</span></pre><p id="44b2" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">这个命令的背后是:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="2424" class="mp kx iq ml b gy mq mr l ms mt">$ source activate nlp</span></pre><p id="61d7" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">以下是我日常使用的最喜欢的别名列表:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="a1e9" class="mp kx iq ml b gy mq mr l ms mt">$ nlp (my nlp conda environment)<br/>$ root (my default conda environment)<br/>$ pg (postgres installed via pip)<br/>$ jl (jupyter lab)</span></pre><p id="80a6" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">要设置这些别名，请在终端中键入以下内容:</p><pre class="kg kh ki kj gt mk ml mm mn aw mo bi"><span id="d311" class="mp kx iq ml b gy mq mr l ms mt">$ sudo nano ~/.bashrc</span></pre><p id="b780" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">并添加如下别名:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/9f4a38e4035015bf8b0cacda2accf722.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*smUocizWB-ggyZWlnyiYJA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">别名</p></figure></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h1 id="30d7" class="kw kx iq bd ky kz nj lb lc ld nk lf lg jw nl jx li jz nm ka lk kc nn kd lm ln bi translated">结论</h1><p id="e2a9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这里还有一些资源可供你参考:</p><div class="np nq gp gr nr ns"><a href="https://medium.com/@gaganmanku96/make-your-python-code-bug-free-ce917d0705b5" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd ir gy z fp nx fr fs ny fu fw ip bi translated">让您的Python代码摆脱Bug</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">类型检查如何帮助我减少90%的生产级错误。</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kp ns"/></div></div></a></div><p id="cc8b" class="pw-post-body-paragraph lo lp iq lq b lr mu jr lt lu mv ju lw lx mw lz ma mb mx md me mf my mh mi mj ij bi translated">快乐学习！</p></div></div>    
</body>
</html>