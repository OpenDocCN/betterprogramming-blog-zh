<html>
<head>
<title>Securely Transfer Files From or to a Remote Server Using SCP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SCP安全地从远程服务器传输文件或将文件传输到远程服务器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/securely-transfer-files-from-or-to-a-remote-server-using-scp-f776c42c42a4?source=collection_archive---------13-----------------------#2020-04-14">https://betterprogramming.pub/securely-transfer-files-from-or-to-a-remote-server-using-scp-f776c42c42a4?source=collection_archive---------13-----------------------#2020-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fe1b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用安全复制协议</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1efc6c5a7ae6b8b5733db4200b8834ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P5zGsK5ucDVLHkHpQ3G9hA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@laikanotebooks?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">莱卡笔记本</a>在<a class="ae ky" href="https://unsplash.com/s/photos/transfer-file?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="ae99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Secure_copy" rel="noopener ugc nofollow" target="_blank"> SCP </a>(安全复制协议)是一种基于BSD RCP协议的网络协议，支持网络上主机之间的文件传输。SCP使用安全外壳(SSH)进行数据传输，并使用相同的机制进行身份验证。</p><p id="677d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用SCP，您可以从以下位置复制文件/目录:</p><ul class=""><li id="1f0e" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">您的本地机器到远程系统</li><li id="ffff" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">本地系统的远程系统</li><li id="9f66" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">从本地系统的一个远程系统到另一个远程系统</li></ul><p id="0e50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当使用SCP传输数据时，文件和密码被加密，这样任何窥探流量的人都不会得到任何敏感信息。</p><p id="7a77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始前需要记住的事项:</p><ul class=""><li id="9b42" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe mj mk ml mm b">scp</code>命令依赖SSH来传输数据，因此它需要SSH密钥或密码来在远程系统上进行身份验证。</li><li id="3c81" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">要能够复制文件/目录，您必须至少拥有源文件的读取权限和目标系统的写入权限。</li></ul></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="dcaa" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">句法</h1><p id="4e61" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated"><code class="fe mj mk ml mm b">scp</code>命令的语法是:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="b4fd" class="nv mv it mm b gy nw nx l ny nz">scp [options] username@source_host:directory/filename  /where/to/put</span></pre><p id="e255" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的例子中，我递归地复制整个目录。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="ecbe" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">例子</h1><h2 id="c81a" class="nv mv it bd mw oa ob dn na oc od dp ne li oe of ng lm og oh ni lq oi oj nk ok bi translated">从远程到本地</h2><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="f746" class="nv mv it mm b gy nw nx l ny nz">scp -r username@ipaddress:/directory/to/send /local/where/to/put</span></pre><h2 id="25e8" class="nv mv it bd mw oa ob dn na oc od dp ne li oe of ng lm og oh ni lq oi oj nk ok bi translated">从本地到远程</h2><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="be37" class="nv mv it mm b gy nw nx l ny nz">scp -r /local/directory/to/send username@ipaddress:/where/to/put</span></pre><h2 id="a646" class="nv mv it bd mw oa ob dn na oc od dp ne li oe of ng lm og oh ni lq oi oj nk ok bi translated">在两台远程主机之间拷贝</h2><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="719b" class="nv mv it mm b gy nw nx l ny nz">scp -r username@ipaddress1:/file/to/send username@ipaddress2:/where/to/put</span></pre><p id="e6b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据您的要求，您可以将<code class="fe mj mk ml mm b">scp</code>与以下选项一起使用。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="f6d7" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">选择</h1><p id="0599" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated"><code class="fe mj mk ml mm b">scp –P port</code> —一般情况下，<code class="fe mj mk ml mm b">scp</code>的默认端口为22。您也可以指定特定的端口。<br/> <code class="fe mj mk ml mm b">scp –p</code> —预计时间和连接速度会出现在屏幕上。<br/> <code class="fe mj mk ml mm b"><strong class="lb iu">scp –q</strong></code> —禁用进度表和警告。<br/> <code class="fe mj mk ml mm b">scp –r</code> —递归复制整个目录。<br/> <code class="fe mj mk ml mm b">scp –v</code> —将调试信息打印到屏幕上。它可以帮助您调试连接、身份验证和配置问题。<br/> <code class="fe mj mk ml mm b">scp -c</code> —默认情况下，SCP使用AES-128加密文件。如果想换一个密码器加密，可以用<code class="fe mj mk ml mm b">-c</code>。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="a161" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望您现在已经理解了如何最好地利用<code class="fe mj mk ml mm b">scp</code>命令在系统之间安全地传输文件。</p><p id="18c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有什么建议，请在评论中告诉我。如果你知道<code class="fe mj mk ml mm b">scp</code>命令的任何其他令人敬畏的特性，请与我们分享。</p></div></div>    
</body>
</html>