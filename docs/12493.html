<html>
<head>
<title>How To Build a Strongly Typed Angular 14 Super Form</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何构建强类型的Angular 14超形式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-a-strongly-typed-angular-14-super-form-86837965a0e5?source=collection_archive---------1-----------------------#2022-06-09">https://betterprogramming.pub/how-to-build-a-strongly-typed-angular-14-super-form-86837965a0e5?source=collection_archive---------1-----------------------#2022-06-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1ab6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过您的数据模型实施表单控件类型</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1f7f942a5ae7231dc8683ba19f83b9cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QJ3h8Z11EVkxS4XmsVxjuQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在角度14创造你的第一个超级形态(📷:<a class="ae kv" href="https://www.admecindia.co.in/web-design/why-angular-superheroic-web-framework/" rel="noopener ugc nofollow" target="_blank"> Admec </a></p></figure><h1 id="e466" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">键入的表单</h1><blockquote class="lo lp lq"><p id="11bb" class="lr ls lt lu b lv lw jr lx ly lz ju ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated"><a class="ae kv" href="https://angular.io/guide/typed-forms" rel="noopener ugc nofollow" target="_blank">"类型化表单</a>确保表单控件、组和数组内部的值在整个API表面上是类型安全的。这支持更安全的表单，尤其是对于深度嵌套的复杂情况。<em class="iq">——</em><a class="ae kv" href="https://blog.angular.io/angular-v14-is-now-available-391a6db736af" rel="noopener ugc nofollow" target="_blank"><em class="iq">棱角分明的博客</em> </a></p></blockquote><p id="853d" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">现在，<code class="fe mr ms mt mu b">FormControls</code>和<code class="fe mr ms mt mu b">FormGroups</code>是强类型的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">强类型表单示例</p></figure><p id="50e4" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">注意上面的例子，我们可以通过<code class="fe mr ms mt mu b">addShirtToCartRequested</code>直接发出<code class="fe mr ms mt mu b">this.formGroup.getRawValue()</code>的值，因为返回值的类型与我们的<code class="fe mr ms mt mu b">Item&lt;Shirt&gt;</code>接口匹配。在Angular形式中添加强类型使我们能够更快地编写代码，并且错误更少。</p><p id="81ea" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">此外，编辑器现在可以为我们的表单的<code class="fe mr ms mt mu b">value</code>属性提供预输入建议:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/cde568db9ea0a98645d0a434d5eeaa45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*2DqZXKXHn9D53eQTB6MPHw.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">带角度14表单的提前输入建议</p></figure><p id="251b" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">当我们访问不存在的属性或以与其类型定义冲突的方式使用属性时，类型安全的形式值将导致编译器发出错误。</p><p id="a6af" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">我们上面的例子中缺少了一部分。如果我们想在声明<code class="fe mr ms mt mu b">formGroup</code>时强制<code class="fe mr ms mt mu b">formGroup</code>匹配<code class="fe mr ms mt mu b">Item&lt;Shirt&gt;</code>接口，该怎么办？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi my"><img src="../Images/a4caf237eb94d86b7d05d3b90a06c82b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*wdr-uNUTS4qK1dsK0rxZqQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">哎呀！我们忘记了一个表单控件！</p></figure><p id="6b89" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">如果我们能够在声明时显式地键入<code class="fe mr ms mt mu b">formGroup</code>来匹配我们的<code class="fe mr ms mt mu b">Item&lt;Shirt&gt;</code>接口，那不是很好吗？不要害怕，超级形态在这里！</p><h1 id="c9e7" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">超级表单</h1><p id="2e68" class="pw-post-body-paragraph lr ls iq lu b lv mz jr lx ly na ju ma mo nb md me mp nc mh mi mq nd ml mm mn ij bi translated">超级表单是一个虚构的术语，用来描述与数据模型接口相匹配的<a class="ae kv" href="https://angular.io/guide/typed-forms#formgroup-and-formrecord" rel="noopener ugc nofollow" target="_blank">表单组</a>接口。多亏了这个来自<a class="ae kv" href="https://netbasal.com/typed-reactive-forms-in-angular-no-longer-a-type-dream-bf6982b0af28" rel="noopener ugc nofollow" target="_blank"> Netanel Basel </a>的“附加”片段，在Angular 14中输入和输出表单可以通过引入一个漂亮的<code class="fe mr ms mt mu b">ControlsOf</code>类型来完成:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">表单组声明的类型控件</p></figure><p id="b159" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">现在，您可以在声明时强制使用<code class="fe mr ms mt mu b">formGroup</code>的类型，并通过使用<code class="fe mr ms mt mu b">ControlsOf</code>赋予您的<code class="fe mr ms mt mu b">FormGroup</code>超能力，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">超级表单实现</p></figure><p id="1adc" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">现在，如果您忘记在<code class="fe mr ms mt mu b">formGroup</code>中包含一个属性，您将在声明时得到一个错误。该错误可能是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/04959ea07cb44886eebbcc73cad12e5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Td2FX3G16vW4D41uKL-RJA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">声明时出错</p></figure><h1 id="29e6" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">堆栈闪电战</h1><p id="d53a" class="pw-post-body-paragraph lr ls iq lu b lv mz jr lx ly na ju ma mo nb md me mp nc mh mi mq nd ml mm mn ij bi translated">下面的嵌入式Stack Blitz中提供了一个完整的示例，展示了一个14°角的超级表单:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf mw l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">堆栈闪电战超级表单示例</p></figure><p id="e590" class="pw-post-body-paragraph lr ls iq lu b lv lw jr lx ly lz ju ma mo mc md me mp mg mh mi mq mk ml mm mn ij bi translated">如果你想了解更多关于Angular 14类型的表单，请查看Angular 14发布的<a class="ae kv" href="https://blog.angular.io/angular-v14-is-now-available-391a6db736af" rel="noopener ugc nofollow" target="_blank">博客文章</a>。祝你好运！</p><pre class="kg kh ki kj gt ng mu nh ni aw nj bi"><span id="7891" class="nk kx iq mu b gy nl nm l nn no"><strong class="mu ir">Want to connect?</strong></span><span id="065a" class="nk kx iq mu b gy np nm l nn no">If you found the information in this tutorial valuable, follow me on <a class="ae kv" href="https://twitter.com/bobbyg603" rel="noopener ugc nofollow" target="_blank">Twitter</a>.</span></pre></div></div>    
</body>
</html>