<html>
<head>
<title>How To Use Python To Post on Popular Blogging Websites</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python在流行的博客网站上发帖</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-python-to-post-on-popular-blogging-websites-bae27407335f?source=collection_archive---------13-----------------------#2022-09-26">https://betterprogramming.pub/how-to-use-python-to-post-on-popular-blogging-websites-bae27407335f?source=collection_archive---------13-----------------------#2022-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7682" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建一次；多次发布。使用Python自动化手动工作</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9758b70a458fcf1fabebf72582c07d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L95uRZye1DmaKq_QQRSQNA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">显示自动化流程的屏幕截图</p></figure><p id="b0bb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将使用Python来自动化以下任务:</p><ul class=""><li id="ef49" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">为代码片段创建gists</li><li id="8ba3" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">将gists嵌入到对WordPress、Medium、Dev.to和Hashnode有不同要求的文章中</li><li id="76b5" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">在WordPress上发布文章</li><li id="d0ce" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">用WordPress规范链接在媒体上发布文章</li><li id="a9a3" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">用WordPress规范链接在Dev.to上发布文章</li><li id="f4d7" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">用WordPress规范链接在Hashnode上发布文章</li></ul><p id="fb88" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本质上，我们将使用Python来自动交叉发布到多个网站。我们将使用各种API来完成上述任务。</p><p id="62af" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在我的GitHub repo 里找到所有的代码<a class="ae mi" href="https://github.com/rahulbanerjee26/Automate_Cross_Poster" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="cf30" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">设置项目</h1><p id="a7cc" class="pw-post-body-paragraph ky kz it la b lb nb ju ld le nc jx lg lh nd lj lk ll ne ln lo lp nf lr ls lt im bi translated">首先，为项目创建一个新文件夹:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="c3fd" class="nl mk it nh b gy nm nn l no np">mkdir crossPoster<br/>cd crossPoster</span></pre><p id="8a6a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，创建一个虚拟环境并激活它，如下所示:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="1e9e" class="nl mk it nh b gy nm nn l no np">python3 -m venv venv</span><span id="dc70" class="nl mk it nh b gy nq nn l no np">source venv/bin/activate</span></pre><p id="eb09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">安装所需的库，如下所示:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="dc99" class="nl mk it nh b gy nm nn l no np">pip3 install requests, Markdown, python-dotenv</span></pre><p id="5eaa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在根目录下创建一个名为<code class="fe nr ns nt nh b">.env</code>的文件。这将用于存储您的所有凭据。您还需要一个测试降价文件，以便能够交叉发布。在本教程中，我将假设所有的图像都有公共URL，并且不是从本地文件加载的。</p><h1 id="730f" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">1️.如何使用GitHub API为代码片段创建Gists</h1><p id="f825" class="pw-post-body-paragraph ky kz it la b lb nb ju ld le nc jx lg lh nd lj lk ll ne ln lo lp nf lr ls lt im bi translated">在继续之前，我们需要一个GitHub令牌。前往<a class="ae mi" href="https://github.com/settings/tokens" rel="noopener ugc nofollow" target="_blank">您的开发者设置令牌页面</a>获取您的GitHub令牌。创建令牌时，确保选中“创建要点”选项。这允许您使用GitHub令牌创建gists。复制令牌并将其保存在您的。环境文件。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="fabe" class="nl mk it nh b gy nm nn l no np">GITHUB_TOKEN = "YOUR_GITHUB_TOKEN"</span></pre><p id="ac78" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们需要编写一个函数来从markdown文件中获取所有代码片段。我们将使用正则表达式模式来获取代码片段块。现在，忽略函数“getSnippetName”假设它返回一个由文件名和实际代码组成的元组。如果代码片段有语言“bash”，我们忽略它。您可以扩展要忽略的语言列表。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="3376" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将假设用户将以注释开始他们的代码片段，并且注释将具有要点的名称(基本上类似于上面的代码片段)。如果没有提供这样的注释，gist将有一个默认的名称，例如，<code class="fe nr ns nt nh b">index.js</code>代表JavaScript文件，<code class="fe nr ns nt nh b">init.py</code>代表Python文件。现在，让我们看看<code class="fe nr ns nt nh b">getSnippetName</code>功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="75e4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它在代码片段的第一行搜索注释。如果有注释，它会从第一行提取文件名。如果没有注释，它使用字典返回默认文件名。您可以扩展代码以支持其他语言的注释。</p><p id="deb9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们有了一个元组数组。元组中的第一个元素是要点的名称，第二个元素是要点的内容。我们可以用这个来创作我们的gists。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="43f7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将向以下端点发出post请求:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="1813" class="nl mk it nh b gy nm nn l no np"><a class="ae mi" href="https://api.github.com/gists" rel="noopener ugc nofollow" target="_blank">https://api.github.com/gists</a></span></pre><p id="33b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果希望创建的gists是私有的，可以将参数“public”设置为<code class="fe nr ns nt nh b">False</code>。该函数将返回创建的gists的所有URL。</p><p id="bf1d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们需要用相关的gist URLs替换markdown文件中的代码片段。Medium、WordPress、Dev.to和Hashnode有不同的格式来嵌入gists，所以让我们为此创建一个字典。它看起来是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="2462" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个lambda函数将接受gist URL作为参数，并返回相应的embed元素。替换代码片段的逻辑类似于获取所有代码片段的逻辑。它看起来是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="328f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们保留一个计数器来跟踪哪个代码片段对应于哪个gist URL。因为我们在创建gists时忽略了“bash ”,所以我们将计数器增加了<code class="fe nr ns nt nh b">1</code>,而没有实际替换任何东西。在所有其他情况下，我们在“计数器”索引处用gist URL替换代码片段，并将计数器递增<code class="fe nr ns nt nh b">1</code>。这个函数将为WordPress、Medium、Dev.to和Hashnode创建新文件。</p><p id="4914" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">检查下面的代码片段，它使用了上面创建的函数。它将为出现在<code class="fe nr ns nt nh b">index.md</code>中的代码片段创建public gists，并为WordPress、Medium等创建一个markdown。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><h1 id="1fae" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">2️.如何使用WordPress API创建文章</h1><p id="fbe9" class="pw-post-body-paragraph ky kz it la b lb nb ju ld le nc jx lg lh nd lj lk ll ne ln lo lp nf lr ls lt im bi translated">你可以在这里找到<a class="ae mi" href="https://developer.wordpress.org/rest-api/using-the-rest-api/global-parameters/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="78dc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你必须安装一个插件来为你的帐户生成一个应用程序密码。搜索插件<a class="ae mi" href="https://wordpress.org/plugins/application-passwords/" rel="noopener ugc nofollow" target="_blank">应用密码</a>，并安装。安装好之后，进入你的<code class="fe nr ns nt nh b">Users&gt;Profile</code>。应该有一个叫<code class="fe nr ns nt nh b">Application Passwords</code>的选项和一个到<code class="fe nr ns nt nh b">Add new application password</code>的按钮。给它一个名称，并创建一个新的应用程序密码。复制新密码。</p><p id="e4d2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">更新您的。环境文件</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="5b9e" class="nl mk it nh b gy nm nn l no np">WP_USERNAME = "YOUR ADMIN USERNAME"<br/>WP_PASSWORD = "YOUR NEW APPLICATION PASSWORD"</span></pre><p id="a52b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你的WordPress用户名显示在<code class="fe nr ns nt nh b">Users&gt;Profile</code>中。</p><p id="9c31" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将创建一个类来发布到WordPress。WordPress API端点的格式如下:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="26b7" class="nl mk it nh b gy nm nn l no np">{Your Website Domain}/wp-json/wp/v2/{route}</span></pre><p id="3da8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">查看下面创建该类的代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="7376" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们将不得不添加一些方法到这个类中，这些方法将用于发布到WordPress。</p><p id="6fd4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第一种方法将用于上传我们的封面图片或标题图片到WordPress。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="6d0a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它有三个输入:图像路径、可选文本和图像标题。必须向以下端点发出post请求:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="2d45" class="nl mk it nh b gy nm nn l no np">{Your Website Domain}/wp-json/wp/v2/media</span></pre><p id="6122" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">响应将有一个名为<code class="fe nr ns nt nh b">id</code>的字段。这将在我们发布文章时使用。它将有另一个名为<code class="fe nr ns nt nh b">jetpack_featured_media_url</code>的字段，包含图像的URL。</p><p id="d4cf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们需要一个方法来为我们的文章创建标签id。看起来是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="79b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它有一个输入—标签列表。对于每个标签，它将尝试创建一个新标签。响应要么包含新创建的标签的id。如果标签已经存在，响应将包含现有的标签id。我们将组合id并返回它们。</p><p id="a49b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">也可以为类别创建类似的函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="d57b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们将添加一个方法来发布到WordPress。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="ffb6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">函数逻辑本身非常简单，让我们看看将要添加到post请求中的JSON数据:</p><ul class=""><li id="5903" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">title</code>:你文章的标题字符串</li><li id="de33" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">content</code>:HTML格式的文章内容。(我将向您展示如何将您的markdown文件转换为HTML)</li><li id="755e" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">status</code>:字符串“发布”或“草稿”，取决于你是否想把你的文章作为草稿发布</li><li id="1934" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">categories</code>:由<code class="fe nr ns nt nh b">get_category_ids</code>方法返回的类别id</li><li id="e1b2" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">tags</code>:由<code class="fe nr ns nt nh b">get_category_ids</code>方法返回的标签id</li><li id="921c" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">featured_media</code>:由<code class="fe nr ns nt nh b">upload_media</code>方法返回的封面/页眉图像的ID</li></ul><p id="44f3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了将你的markdown文件转换成HTML，我们将使用一个名为<code class="fe nr ns nt nh b">markdown</code>的库:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="cd3a" class="nl mk it nh b gy nm nn l no np">pip3 install Markdown</span></pre><p id="7660" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要编写下面的助手函数来完成转换。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="c585" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是<code class="fe nr ns nt nh b">wordpress class</code>的使用示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="35f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您正在发布草稿，您可以创建一个新变量来存储post slug。文章链接是文章发表后的链接。该段应该出现在响应对象中。</p><h1 id="c59d" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">3️.如何使用Medium API创建帖子</h1><p id="6a97" class="pw-post-body-paragraph ky kz it la b lb nb ju ld le nc jx lg lh nd lj lk ll ne ln lo lp nf lr ls lt im bi translated">这部分我们将使用Medium的REST API。你可以在这里找到文档<a class="ae mi" href="https://github.com/Medium/medium-api-docs" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="02a3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要获取您的访问令牌，请转到您的<a class="ae mi" href="https://medium.com/me/settings" rel="noopener">简档设置</a>并转到<code class="fe nr ns nt nh b">Integration Tokens</code>。输入描述，然后单击“获取集成令牌”按钮。</p><p id="fb3f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将令牌保存在您的中。环境文件。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="2535" class="nl mk it nh b gy nm nn l no np">MEDIUM_TOKEN = "Your Meidum Token"</span></pre><p id="f45c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">类似于我们为WordPress创建的类，我们也将为Medium创建一个类。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="dd92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们定义一下<code class="fe nr ns nt nh b">getUserID</code>方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="d327" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这只是向下面的端点发出一个GET请求，并返回您的用户ID。注意:这与您的用户名不同。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="593e" class="nl mk it nh b gy nm nn l no np"><a class="ae mi" href="https://api.medium.com/v1/me" rel="noopener">https://api.medium.com/v1/me</a></span></pre><p id="9c43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们可以添加方法来创建一个中等职位。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="c9a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看看添加到post请求中的JSON数据。</p><ul class=""><li id="5a6c" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">你文章的标题</li><li id="3bcb" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">content</code>:HTML格式的文章内容</li><li id="3aba" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">publishStatus</code>:字符串“草稿”、“已发布”或“未列出”</li><li id="0869" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">contentFormat</code>:在我们的例子中，这将是“HTML”</li><li id="7907" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">tags</code>:文章标签的字符串列表。</li><li id="4444" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">notifyFollowers</code>:布尔值</li><li id="5b8c" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">canonicalUrl</code>:如果适用，规范的URL。在我的例子中，我将把它设置为WordPress文章的URL。</li></ul><p id="770b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们来看看这个类的一个示例用法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><h1 id="f55d" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">4️.如何使用Dev.to API创建帖子</h1><p id="7d79" class="pw-post-body-paragraph ky kz it la b lb nb ju ld le nc jx lg lh nd lj lk ll ne ln lo lp nf lr ls lt im bi translated">Dev.to实现非常相似，我不打算详细介绍。您可以在这里找到您的令牌<a class="ae mi" href="https://dev.to/settings/extensions" rel="noopener ugc nofollow" target="_blank"/>。滚动到底部以生成令牌并更新您的。环境文件。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="b78b" class="nl mk it nh b gy nm nn l no np">DEVTO_TOKEN = "GCP1itdmDAmVzfTjEQRRnnFc"</span></pre><p id="d8ed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在这里找到文档<a class="ae mi" href="https://developers.forem.com/api/v0" rel="noopener ugc nofollow" target="_blank"/></p><p id="bf00" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面显示了dev.to类:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="ac63" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于dev.to，我们不需要将markdown文件转换成HTML。我们可以直接使用降价内容。</p><h1 id="cb54" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">5️.如何使用Hashnode API创建帖子</h1><p id="cfb9" class="pw-post-body-paragraph ky kz it la b lb nb ju ld le nc jx lg lh nd lj lk ll ne ln lo lp nf lr ls lt im bi translated">hashnode有一个GraphQL API，我花了相当多的时间才弄清楚正确的查询以及如何发出正确的请求。您应该能够直接使用本节中显示的代码片段。你可以在这里生成你的令牌<a class="ae mi" href="https://hashnode.com/settings/developer" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="cbe4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在这里玩他们的API。</p><p id="6cc3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是<code class="fe nr ns nt nh b">Hashnode</code>类的实现:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nu nv l"/></div></figure><p id="cd97" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您不熟悉GraphQL，可以尝试在他们的API游乐场中使用该API。让我们看看传递给查询的一些变量:</p><ul class=""><li id="8704" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">title</code>:你文章的标题。</li><li id="d027" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">content</code>:你的文章内容在markdown。类似于dev.to，不需要转换成HTML。</li><li id="e1ad" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">publicationID</code>:这是一个必需的参数。如果您不将其添加到您的查询中，您的文章将不会列在您的个人资料下，但仍会被发布。它将在<code class="fe nr ns nt nh b">hashnode.com</code>下，而不是你的个人博客或账户。要查找您的出版物ID，请转到您的仪表板并从URL复制它。</li></ul><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="7a85" class="nl mk it nh b gy nm nn l no np">https://hashnode.com/{YOUR PUBLICATION ID}/dashboard</span></pre><ul class=""><li id="376e" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">tags</code>:标签列表</li><li id="a65a" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">canonicalUrl</code>:文章的规范URL</li><li id="99cd" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><code class="fe nr ns nt nh b">hideFromHashnodeFeed</code>:API不支持张贴草稿(或者至少我找不到张贴草稿的方法)。将<code class="fe nr ns nt nh b">hideFromHashnodeFeed</code>设置为<code class="fe nr ns nt nh b">True</code>会发布文章，但它不会显示在其他任何人的订阅源上。您也可以在hashnode编辑器中进行切换。</li></ul><h1 id="f843" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">未来的改进</h1><p id="4654" class="pw-post-body-paragraph ky kz it la b lb nb ju ld le nc jx lg lh nd lj lk ll ne ln lo lp nf lr ls lt im bi translated">您可以在repo 中的这个<a class="ae mi" href="https://github.com/rahulbanerjee26/Automate_Cross_Poster/blob/main/sample.py" rel="noopener ugc nofollow" target="_blank">文件中找到所有上述类创建“自动化管道”的示例用法。</a></p><p id="570c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以将此视为自动化流程的概念验证。它显然没有涵盖所有用例。你可以随意克隆和编辑回购协议。以下是一些可以改进的地方:</p><ul class=""><li id="ccca" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">对本地图像的支持——逻辑应该类似于代码片段如何转换成gists。既可以使用现有的API，也可以使用像Imgur这样的新API</li><li id="6698" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">扩展它，自动将你的文章分享到各种子网站或Twitter上</li><li id="3a3c" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">添加对其他博客编辑器的支持</li></ul><p id="7022" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请在评论中告诉我你是否觉得这篇文章有用，或者你是否对可以自动化、改进的特性有任何建议。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="ed98" class="nl mk it nh b gy nm nn l no np"><strong class="nh iu">Want to Connect?</strong></span><span id="06cd" class="nl mk it nh b gy nq nn l no np">Find me on LinkedIn at <a class="ae mi" href="https://www.linkedin.com/in/rahulbanerjee2699/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/rahulbanerjee2699/</a></span><span id="d9bc" class="nl mk it nh b gy nq nn l no np">This article was originally posted on <a class="ae mi" href="https://www.realpythonproject.com/how-to-use-python-to-post-on-popular-blogging-websites/" rel="noopener ugc nofollow" target="_blank">https://www.realpythonproject.com/how-to-use-python-to-post-on-popular-blogging-websites/</a></span></pre></div></div>    
</body>
</html>