<html>
<head>
<title>Making Generative Board Games</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作生成性棋盘游戏</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/making-generative-board-games-1778d6267d8b?source=collection_archive---------12-----------------------#2020-09-28">https://betterprogramming.pub/making-generative-board-games-1778d6267d8b?source=collection_archive---------12-----------------------#2020-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ce7a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">当你给一个神经网络一些棋盘游戏规则会发生什么？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4cb8e066f08eee599b20885ea2c5cffc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kbN-sBxNVuH4wYxq-KvlFg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">生成性棋盘游戏封面艺术</p></figure><h1 id="acca" class="kv kw iq bd kx ky kz la lb lc ld le lf jw lg jx lh jz li ka lj kc lk kd ll lm bi translated">这个想法</h1><p id="86b0" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">在某个时候，<a class="ae mj" href="https://www.juliusingemann.com/" rel="noopener ugc nofollow" target="_blank"> Julius </a>有了用一些棋盘游戏规则训练一个神经网络的想法，看看会发生什么。快进两个月左右，<a class="ae mj" href="https://www.generativeboard.games/" rel="noopener ugc nofollow" target="_blank">和</a>发生了生财棋盘游戏。</p><p id="8041" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">Julius是一个桌游爱好者，也是我以前合作过的交互设计师，他把我介绍给了<a class="ae mj" href="https://lucasterra.com/" rel="noopener ugc nofollow" target="_blank"> Lucas Terra </a>，一个来自圣保罗的超级天才设计师，他在Nubank工作。我们共同决定，利用人工智能生成棋盘游戏的想法值得探索，因此我们开始构建一个服务，使您能够创建自己的游戏，浏览以前制作的游戏库，当然，还可以玩游戏。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="ff6e" class="kv kw iq bd kx ky mw la lb lc mx le lf jw my jx lh jz mz ka lj kc na kd ll lm bi translated">RunwayML</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/6bac1c2fda89854eb4feec3390053588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7hXWL3oS-okCRguESi7vIw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">RunwayML应用程序</p></figure><p id="37e6" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">整个项目是围绕RunwayML构建的。它们提供了一个平台，这使得与机器学习的交互像创建Instagram故事一样简单(某种程度上)。单击您想要用作基础的模型(或创建您自己的模型)，用数据集训练它(或保持原样)，将其添加到您的工作区，并开始使用它。一切都运行在他们的服务器上，你不用担心CPU，GPU等等。</p><p id="ff95" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">他们最近增加了一个功能，您可以将您的模型作为服务托管在他们的服务器上。(AIaaS？)这是我们最后决定用的。我们将数据作为请求传递给API端点，并获取模型给我们的任何数据。太棒了！</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="ac56" class="kv kw iq bd kx ky mw la lb lc mx le lf jw my jx lh jz mz ka lj kc na kd ll lm bi translated">样机研究</h1><p id="764f" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">在开始构建实际的应用程序之前，我们必须做一些原型设计来获得概念证明。RunwayML应用程序可以让您在五分钟内建立并运行一个模型，这有助于您快速获得一些结果。</p><p id="0e9f" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">为训练一个模型产生第一批棋盘游戏样本获取数据需要更长的时间。首先，我们必须获得模型的实际训练数据。幸运的是，许多网站提供了一个很大的棋盘游戏规则和封面库。为他们建立一个网页抓取工具并没有你想象的那么难。<a class="ae mj" href="https://medium.com/@florian.porada/create-an-ai-powered-podcast-generator-based-on-gpt-2-ad08b4bf3099" rel="noopener">我之前写过一篇关于这个话题的文章</a>。如果你打算朝那个方向做点什么，可以去看看。</p><p id="842a" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">一旦有了数据，就可以将它添加到RunwayML中，并开始训练模型。一般来说，训练步骤越多，输出就越精确(越好)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/442c237af3b8e6cdfd100e5b9b9f2f66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4nVVCYPfHDv70pVVedSk8g.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在RunwayML中测试模型</p></figure><p id="379a" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">经过一些测试和调整，我们有两个训练模型。一个改进的GPT2模型使用超过2，500个游戏规则进行训练，一个StyleGAN模型使用超过15，000个棋盘游戏封面进行再训练。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="1050" class="kv kw iq bd kx ky mw la lb lc mx le lf jw my jx lh jz mz ka lj kc na kd ll lm bi translated">建筑物</h1><h2 id="c8ad" class="nd kw iq bd kx ne nf dn lb ng nh dp lf lw ni nj lh ma nk nl lj me nm nn ll no bi translated">环境</h2><p id="30c9" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">最终，我们决定继续这个想法，用它做一个实际的东西。完全远程协作面临一些挑战，但克服这些挑战并不难。</p><p id="76ef" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">管理<a class="ae mj" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中的代码，并使用他们自己的项目管理功能，可以让你很好地了解谁在做什么，以及目前处于什么状态。将任务链接到“拉”请求有助于您跟踪项目的实施并检查团队的工作。</p><p id="6f42" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated"><a class="ae mj" href="https://figma.com" rel="noopener ugc nofollow" target="_blank"> Figma </a>是我们玩视觉游戏的主要场所。您可以立即为页面创建UI元素、用户流、情绪板或资源。此外，讨论这些想法并添加意见或评论对协调所有事情大有帮助。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/cb596b16c4f1097a2d1f895f2480f614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zlGsnI8pZ8zwtluMjlUJEQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">完全遥控</p></figure><p id="5833" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">通过适应不同的时区，团队电话当然也是可能的，并提供了一个很好的机会来赶上和有一点数字咖啡休息。</p><h2 id="fe05" class="nd kw iq bd kx ne nf dn lb ng nh dp lf lw ni nj lh ma nk nl lj me nm nn ll no bi translated">技术</h2><p id="ef07" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">对于该应用程序，我们使用了带有自定义Express.js服务器的<a class="ae mj" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React.js </a>框架<a class="ae mj" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a>和用于保存创建的游戏的<a class="ae mj" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB </a>。</p><p id="ca7f" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">我喜欢能够将前端代码移动到后端的概念，反之亦然。它使您能够非常快速地绘制和原型化特征，并四处移动它们。如果某些东西需要更多的计算能力或者数据量很大，就把它移到后端，以减轻客户端的负担。</p><h2 id="f50a" class="nd kw iq bd kx ne nf dn lb ng nh dp lf lw ni nj lh ma nk nl lj me nm nn ll no bi translated">规则生成</h2><p id="5eac" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">生成棋盘游戏文本部分的API有一个<code class="fe nq nr ns nt b">max_characters</code>限制。这意味着，在这种情况下，一次API调用只能生成1，024个字符。</p><p id="9d41" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">对于一个完整的规则集来说，这个数量太短了。一种解决方案是将多个请求链接在一起，并将结果合并为一个。这里你必须知道人工智能文本生成器需要一些输入来构建。最初，你必须为你想玩的游戏提供一个名字——例如，“个人太空入侵者”这将用于第一批生成的文本。</p><p id="de2d" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">这里有一个问题:为了获取下一个调用的上下文，我们从RunwayML获取响应，并将其用作下一个调用的输入。这样做允许模型将已经生成的文本合并到后续调用中，从而创建一个连续的内容片段。</p><pre class="kg kh ki kj gt nu nt nv nw aw nx bi"><span id="576b" class="nd kw iq nt b gy ny nz l oa ob">// some pseudo code for handling the context</span><span id="82c3" class="nd kw iq nt b gy oc nz l oa ob">let counter = 0;</span><span id="a0bd" class="nd kw iq nt b gy oc nz l oa ob">if (counter === 0) {<br/>  input = gameName;<br/>  counter += 1;<br/>} else if (counter &lt;= 3) {<br/>  input = response.data.generatedText;<br/>  counter += 1;<br/>} else {<br/>  counter = 0;<br/>}</span><span id="3861" class="nd kw iq nt b gy oc nz l oa ob">getRules(input);</span></pre><p id="7c30" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">只要API允许，您就可以将这些请求链接在一起，从而绕过<code class="fe nq nr ns nt b">max_character</code>边界。</p><p id="6dcd" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">感谢RunwayML团队在开发期间和之后的支持！</p><h2 id="d817" class="nd kw iq bd kx ne nf dn lb ng nh dp lf lw ni nj lh ma nk nl lj me nm nn ll no bi translated"><strong class="ak">封面艺术一代</strong></h2><p id="46a3" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">为了获得游戏的封面，我们创建了一个包含512个随机浮点数的请求，作为来自RunwayML的托管模型API的输入。StyleGAN的工作方式是，512个浮动中的每一个都将被用作我们想要的图像的样式指南。你可以在这里阅读更多关于这是如何工作的细节<a class="ae mj" href="https://nanonets.com/blog/stylegan-got/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="0ea2" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">对于每个请求，一个新的随机数组将被构造并传递给宿主模型。由于这是非常随机的，封面不会从您提供的游戏名称中获得任何上下文。有很多方法可以解决这个问题，比如说，通过实现某种<a class="ae mj" href="https://github.com/taoxugit/AttnGAN" rel="noopener ugc nofollow" target="_blank">at ngan</a>来解决，但是我们还没有到那一步。</p><h2 id="ead7" class="nd kw iq bd kx ne nf dn lb ng nh dp lf lw ni nj lh ma nk nl lj me nm nn ll no bi translated">把它放在一起</h2><p id="2654" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">现在我们有了两种关键成分，我们需要一些漂亮的包装。<br/>在Figma，我们已经准备好实施设计。Figma提供了导出组件和复制样式的特性，这在大多数时候加速了组件的构建过程。</p><p id="3367" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">在<a class="ae mj" href="https://threejs.org/" rel="noopener ugc nofollow" target="_blank"> three.js </a>和<a class="ae mj" href="https://github.com/pmndrs/react-three-fiber" rel="noopener ugc nofollow" target="_blank">spring-three-fiber</a>(React的three.js包装器)的帮助下，我们添加了一个简单(但很漂亮)的数字盒子，我们在上面加载了生成的图像作为纹理。</p><p id="a30f" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">所有数据出现在客户端后，可以发布到以前生成的游戏列表中，下载成PDF格式，打印出来带到下一个游戏之夜，或者丢弃，这样就没人知道这个游戏了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/54f677100cc0a3f7b2d0457c7825859e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KyhvPWAJeaBeWGWKFrSGPQ.png"/></div></div></figure><h2 id="0611" class="nd kw iq bd kx ne nf dn lb ng nh dp lf lw ni nj lh ma nk nl lj me nm nn ll no bi translated">部署</h2><p id="ceb4" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">多亏了<a class="ae mj" href="https://github.com/features/actions" rel="noopener ugc nofollow" target="_blank"> GitHub Actions </a>和<a class="ae mj" href="https://www.docker.com/" rel="noopener ugc nofollow" target="_blank"> Docker </a>，部署变得非常简单。一旦一个新标签被推送到存储库，构建过程就会被触发。它将所有内容打包在一个Docker映像中，并将其推送到Docker hub。之后，新的Docker图像将被自动拉入web空间，服务将重新启动。</p><p id="4786" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">我考虑过使用Kubernetes集群，但是在这种情况下，开销太大了。现在，编写一个小的Bash脚本来处理拉取和更新就可以了。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="308a" class="kv kw iq bd kx ky mw la lb lc mx le lf jw my jx lh jz mz ka lj kc na kd ll lm bi translated">我们学到了什么</h1><p id="c2f5" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">总的来说，我学到了很多关于与神经网络的互动，以及不同类型的神经网络如何以不同的方式使用。机器学习有其有用的一面，但就目前而言，在我看来，它更多的是支持创造性的过程，而不是完全接管它。</p><p id="3db7" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">一般来说，在安排任务和沟通时，与一个完全处于不同时区的远程团队一起工作是一种很好的体验。</p><p id="6d53" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">此外，我确实了解了React和Next中的一些新特性，这总是一个很大的优势。</p><p id="d8cc" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">发布一个对公众开放和可用的项目肯定伴随着应对人们创造的挑战。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="005e" class="kv kw iq bd kx ky mw la lb lc mx le lf jw my jx lh jz mz ka lj kc na kd ll lm bi translated">后续步骤</h1><p id="9bf2" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">这个项目没有具体的下一步。在我们发布它之后，我们将处理一些反馈，增加一些改进，看看它会如何发展。这一直是一个有趣的附带项目，没有任何附加条件。如果我们碰巧获得了GPT-3 API或其他一些可以改善体验的有趣的东西，我相信我们也会找到一些时间来玩它。</p><p id="19fb" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">网站上有一个<a class="ae mj" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=F3RLUZYGXM8RY&amp;source=url" rel="noopener ugc nofollow" target="_blank">捐赠</a>按钮，因为主持模特和应用程序正在花费我们的真金白银。如果你喜欢这个项目，你可以帮助我们保持在线和工作一段时间。</p><p id="f5f1" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">现在生成你自己的游戏，别忘了玩得开心。</p></div></div>    
</body>
</html>