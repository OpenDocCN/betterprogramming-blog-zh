<html>
<head>
<title>5 Tips That’ll Improve Your JavaScript Debugging Skills and Save You Hours</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提高JavaScript调试技能并节省时间的5个技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-tips-thatll-improve-your-javascript-debugging-skills-and-save-you-hours-7410a59afb64?source=collection_archive---------7-----------------------#2021-01-07">https://betterprogramming.pub/5-tips-thatll-improve-your-javascript-debugging-skills-and-save-you-hours-7410a59afb64?source=collection_archive---------7-----------------------#2021-01-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e334" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Chrome DevTools有效地解决您的JavaScript问题</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6885fc1947f18cc3f6fa09fe5bc84366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XcMzn67CSHio4Hjlf_KNyA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@f_portella?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">菲利佩·波特拉</a>在<a class="ae kv" href="https://unsplash.com/@f_portella?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="fc23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你是否曾经对导致你的网络应用崩溃的原因感到困惑？或者，您可能对如何追溯一个看似断断续续的bug的根本原因感到困惑。也许你已经因为看到这条消息而大脑爆炸了太多次。所有这些事情在我身上肯定发生过很多次了！</p><p id="4ea8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我希望帮助改进您的JS调试技术，并通过这样做，从长远来看，为您节省数小时甚至数周的时间。既然你可以不拉头发了，你甚至可以把头发长回来！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/3153c5d2cc29cd01edd19368ab49f958.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D4yUhw6AIUX-p4JCiqlLtw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">臭名昭著的红色错误信息在开发过程中不时出现，有时甚至出现在生产中</p></figure><p id="a054" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你是一个经验丰富的web开发人员，你可能已经熟悉了这些技巧中的大部分；在这种情况下，您可以快速浏览并验证您已经掌握了调试游戏。对于其他人，尤其是在职业生涯早期进入前端或前端开发的后端开发人员，我希望这篇文章能让你感觉特别好！</p><p id="18ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是时候停止猜测，停止<code class="fe ls lt lu lv b">console.logging</code>，停止无休止的尝试和错误了。相反，您可以使用一致且系统的方法来进行JS调试。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="d06b" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">1.用条件断点解开循环</h1><p id="69d9" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">我想你已经熟悉了如何使用Chrome DevTools在调试器中设置常规断点，所以这里有一个巧妙的技巧来改进它们。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/f5e289aaca081d3fde703f1e299ef967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Okjt6dyLsEgk0PNTAUOXQg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在每次迭代中都会停止的常规断点。</p></figure><p id="c2ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你曾经试着调试过一个<code class="fe ls lt lu lv b">for</code>循环，你就会知道得到正确的迭代是相当痛苦的。如果你正在迭代的数据集包含超过100个条目，你可能要进行一次严重的跳跃练习——请进行下一次函数调用！如果没有结构化的方法，您可能会几个小时都无法跳过函数调用。</p><p id="295c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，一个聪明的技巧是使用条件断点，让调试器只在特定的迭代中停止——例如，当<code class="fe ls lt lu lv b">i === 143</code>时。要将常规断点转换为条件断点，只需右键单击它，然后选择“编辑断点”现在只需输入您想要的循环条件，重新加载页面，并观察调试器只在您想要的迭代上暂停。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/5f599c4b282e8b3f3e7154bedaa45b20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LYWBAS1eo5NUWscJ-PZfSw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">基于迭代器的条件断点—当i === 3时，这个特定的断点停止</p></figure></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="1c0f" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">2.使用高级表达式中断</h1><p id="19c6" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">如果您不知道在哪个迭代中停止，但是有另一个您感兴趣的可变条件，该怎么办？没问题，条件断点可以用来计算(和暂停)任何表达式。</p><p id="c181" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，假设您想在某个对象属性为<code class="fe ls lt lu lv b">undefined</code>时停止。在这种情况下，下面的表达式就足够了:<code class="fe ls lt lu lv b"> myObject.interestingValue === undefined</code>。甚至可以让断点评估多个条件，就像任何常规的<code class="fe ls lt lu lv b">if</code>语句一样——例如<code class="fe ls lt lu lv b">myObject.interestingValue === 200 &amp;&amp; myObject.anotherValue !== 'foo'</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/34d5d710a84e870fdb4afafd6eea31bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DXkZilghk9aKSLq7sF5nw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用多个条件的条件断点</p></figure><p id="3e86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只有你的想象力设定了界限。您甚至可以评估函数执行的返回值，例如<code class="fe ls lt lu lv b">myObject.getParent().id === 97</code>。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="0ede" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">3.从观察面板检查变量(跨重新加载)</h1><p id="9c85" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">在寻找bug(或者更确切地说是bug修复)时，有时有必要在页面重新加载时检查变量——例如，如果您更改了代码或者更新了底层数据源。</p><p id="a53b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以将变量添加到变量监视列表中，而不是在调试器停止时通过鼠标悬停或通过控制台来手动检查变量。这将使变量随时可供检查，并自动更新和显示其当前值——如果您需要在重载期间同时检查多个变量，这将非常有用。</p><p id="1e00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在监视列表中，您甚至可以通过点击变量来交互式地检查变量。每当我调试更复杂的JS对象时，我都会用到这个技巧。</p><p id="44f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要将变量添加到观察列表中，只需点击观察面板上的加号，然后输入您感兴趣的变量的名称。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/9120c80ed88a6d8aebe7979361de5a4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a605BSO05nYc235HU9pYHg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">通过单击加号将您的变量添加到调试器监视列表中，并观察它们的值自动更新！</p></figure></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="d4d7" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">4.遍历调用堆栈以找到根本原因</h1><p id="b153" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">每当您调试和检查一个变量时，例如作为一个参数传递给一个函数，您可能会意识到这个值是不正确的。在JS中看到<code class="fe ls lt lu lv b">undefined</code>是很常见的，即使你希望变量已经被赋值。一个常见的根本原因是变量从来没有在执行序列的早期被赋值。</p><p id="d6ba" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过遍历调用堆栈，您可以轻松地回溯到导致当前断点的所有步骤，检查变量和赋值以验证问题最初源自何处；像这样的时间旅行，一般不需要很长时间就能找到那条冒犯的线！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/c24c32d0e19a43d8777937ea6ce850a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wo2RYkxe7bjaHN4vkbIIoA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">通过遍历调用堆栈，我们能够在执行的早期检查变量。在这种情况下，调试器已经停止在第2行，但是从调用堆栈中，我们可以及时返回；如您所见，startValue从一开始就没有被赋值。</p></figure></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="7a9a" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">5.异常时自动暂停</h1><p id="cfb1" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">DevTools调试器中的另一个致命特性是在异常发生前自动暂停的可能性。</p><p id="9203" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可能已经目睹过，每当一个异常被抛出太多次时，您的控制台就会出现令人尖叫的红色错误消息。如果您有点像我，发现这些日志通常会让您直接进入bug-hunting模式，找出导致异常的原因。</p><p id="c030" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果幸运的话，错误消息(或打印的调用堆栈)在某种程度上是描述性的，允许我们在更接近错误的假定来源的地方开始我们的故障诊断会话。在其他情况下，可能很难准确理解问题发生在代码中的什么地方，但在web应用程序本身中重现它却很简单。</p><p id="5e23" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过激活“异常时暂停”特性，您可以让调试器在从UI再现错误时暂停，就在执行将要终止之前；这允许您检查变量或遍历调用堆栈来找出导致错误的原因。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/eb08b769f3c6f3d09eb4de7970315884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vb9MPX9fiOXL9_pMbW4IUQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用停止图标激活“异常时暂停”，让调试器在抛出异常时自动停止</p></figure><p id="21d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">见鬼，如果你觉得有用的话，你甚至可以让调试器“暂停被捕获的异常”。</p><p id="705f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以下次你不确定在崩溃后从哪里开始调试会话时，激活“异常暂停”，从那里开始！</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="5acb" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">奖金</h1><p id="43e2" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">作为奖励，这里有一个小提示，可以与前面的所有提示结合使用。</p><p id="58e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当深入调试会话时，在对代码进行故障排除时，经常会出现分散在代码中的多个断点。如果你因为某种原因被迫停止当前的会话，也许是跳到其他紧迫的问题上，比如生产事故，而不是删除所有的断点，你可以简单地停用它们。</p><p id="813d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当你准备好重新开始你的bug搜索会话时，只需再次激活所有断点，并从你停止的地方重新开始！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/0eb17c814a9312d55d3a09d1de21160d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PADvraSh78Bwp7XBmaqdtw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用此切换按钮激活或取消激活所有断点</p></figure></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><h1 id="f4c7" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">结论</h1><p id="5e07" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">现在有了这些技巧，你就可以用一种更加可控和有效的方式来追踪bug了！</p><p id="3053" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于99%的软件开发都是关于识别错误的，通常只有1%花在编写代码上，所以对调试技术的任何改进都是值得花时间的，因为它会在你的整个职业生涯中为你带来回报。</p><p id="11e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读，祝您好运，提高您的JS调试技能！</p></div></div>    
</body>
</html>