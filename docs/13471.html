<html>
<head>
<title>MySQL 5.7 Does Not Have an Official Docker Image on ARM/M1 Mac</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MySQL 5.7在ARM/M1 Mac上没有官方的Docker映像</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/mysql-5-7-does-not-have-an-official-docker-image-on-arm-m1-mac-e55cbe093d4c?source=collection_archive---------1-----------------------#2022-08-30">https://betterprogramming.pub/mysql-5-7-does-not-have-an-official-docker-image-on-arm-m1-mac-e55cbe093d4c?source=collection_archive---------1-----------------------#2022-08-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="91de" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">以下是你如何运行它的方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/305fa8d108869c51090c87aadf9dacf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gMzTNC5YRN6eCoIb2luVSA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">MySQL和Apple M1的徽标|由作者创作</p></figure><p id="ec87" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你试图在一台新的Mac电脑上运行官方的mysql:5.7 ，5.6或者5.5版本的图片，你会得到这条消息:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/8308e33e4f44393baa2dc643a187078c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*npJF33bmzrUN-IUFpiAHrg.png"/></div></div></figure><p id="2e1e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Oracle不正式支持ARM上的旧MySQL 5.x版本。您可以在他们的支持平台概述中看到:</p><div class="lt lu gp gr lv lw"><a href="https://www.mysql.com/de/support/supportedplatforms/database.html" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">支持的平台:MySQL数据库</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">编辑描述</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">www.mysql.com</p></div></div></div></a></div><p id="562f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">那么我们能做什么呢？</p><h1 id="d01e" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">运行MySQL 8</h1><p id="5399" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">较新的MySQL 8在ARM上支持，docker官方镜像也有支持。</p><p id="3942" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是，如果您的项目不打算迁移到较新的MySQL版本，您可能不应该在本地运行MySQL 8作为解决方法。</p><h1 id="e87a" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">运行MariaDB</h1><p id="8454" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">MySQL的分叉是<a class="ae lr" href="https://mariadb.com/kb/en/compatibility-differences/" rel="noopener ugc nofollow" target="_blank">与其兄弟</a>大部分兼容，可以作为替代品。而且<a class="ae lr" href="https://mariadb.com/docs/deploy/os-compatibility/#mariadb-community-server" rel="noopener ugc nofollow" target="_blank">确实官方支持ARM64 </a>。</p><p id="acfe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是在这里，您必须意识到您的本地环境可能与真实环境不完全相同。</p><p id="ddcc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我无法回答的问题是选择哪个版本的MySQL 5.7支持最好。我尝试了最新的10版本(10.8)，它对我的用例非常有效。</p><h1 id="50ef" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">非正式运行MySQL 5.7</h1><p id="e9f7" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">MySQL的源代码是开放的，没有什么可以阻止你只为ARM64编译它。Debian和Ubuntu为arm提供mysql-server-5.7映像已经有很多年了，尽管它们比x86的变体要过时一些。</p><p id="a865" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">那里也已经有预制的图像了。我非常幸运地使用了<a class="ae lr" href="https://github.com/biarms/mysql" rel="noopener ugc nofollow" target="_blank"> biarms/mysql:5.7 </a>图像。它具有与官方docker映像相同的选项和环境变量，因此它可以是一个替代产品。</p><div class="lt lu gp gr lv lw"><a href="https://github.com/biarms/mysql" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">GitHub — biarms/mysql:又一个面向ARM设备的Docker MySQL项目</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">这是Mysql Docker官方镜像的Git repo的一个分支。请参阅Docker Hub页面，获取完整的自述文件，网址为…</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">github.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh kp lw"/></div></div></a></div><p id="0799" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你甚至可以在本地标记它，这样它就可以代替官方的Docker图像。</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="08a6" class="nn mg iq nj b gy no np l nq nr"># docker pull biarms/mysql:5.7<br/># docker tag biarms/mysql:5.7 mysql:5.7</span></pre><p id="3367" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然后，每个引用<code class="fe ns nt nu nj b">mysql:5.7</code>的项目都会自动地不知不觉地使用biarms图像。</p><h1 id="9880" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">使用仿真运行MySQL 5.7</h1><p id="54cc" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">由于性能的原因，这应该是最后的手段，但是如果您在其他地方需要相同的版本，而此时性能并不重要，docker完全能够模拟x86。</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="e3e4" class="nn mg iq nj b gy no np l nq nr">docker run --rm \<br/>  --platform linux/amd64 \<br/>  -e MYSQL_ROOT_PASSWORD=password \<br/>  -p 3306:3306 \<br/>  mysql:5.7</span></pre><p id="a7a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请注意，这个仿真在现有的Linux VM中使用了<a class="ae lr" href="https://www.qemu.org/" rel="noopener ugc nofollow" target="_blank"> QEMU </a>。所以不是罗塞塔2在做翻译。但它的实用性令人惊讶。</p><h1 id="2b28" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">在不同的机器上运行Docker</h1><p id="3741" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">这是欺骗，但它仍然是一个选项，特别是如果您有多个没有x86版本的映像。我有完整的指南来教你怎么做:</p><div class="lt lu gp gr lv lw"><a href="https://medium.marco.zone/seamless-vps-docker-dev-environment-33d970b80b42" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">VPS上的无缝docker开发环境</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">使用云计算资源来提高项目的性能。</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">中等宏观区域</p></div></div><div class="nc l"><div class="nv l ne nf ng nc nh kp lw"/></div></div></a></div><h1 id="9e8f" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">结论</h1><p id="4bb8" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">正如你所看到的，你有很多选择。尤其是非官方的方式大概是要走的路。</p><p id="c743" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是模拟的方式也很有趣。这意味着您可以在必要时运行一切，即使不是最理想的。</p></div></div>    
</body>
</html>