# 编程语言中的类型系统:静态与动态，强与弱

> 原文：<https://betterprogramming.pub/type-systems-in-programming-languages-static-vs-dynamic-and-strong-vs-weak-ed1bb542b06>

## 结束对这些概念的混淆

![](img/aa6a55fa0b282b71ca8d990830530949.png)

丹尼尔·明戈金在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

## 介绍

在高层次上，我们使用不同的原则对各种编程语言进行分类。除了是否面向对象编程的分类(例如，过程的或函数的)，一个常见的分类与类型系统有关，它可以应用于数据结构、表达式、函数和模块，这取决于个别语言的微妙之处。

尽管如此，根据这个原则，您可能听说过统计类型、动态类型、强类型以及它们的组合。在这篇文章中，我想澄清这些概念。

为了简化讨论，我将主要关注这些分类对变量(广义上)或数据结构的影响。还请注意，在这些类型概念上没有普遍的共识。我就坚持被更多人接受的观点。

## 静态打字

顾名思义，在静态类型语言中，**变量在它们的生命周期中有固定的类型**。这意味着当我们创建一个新变量时，我们必须指定变量的类型。在一些古老的语言中，我们必须明确类型。然而，对于许多现代语言，如 Kotlin 和 Swift，类型将尽可能地被推断出来。即使你不懂这些语言中的任何一种，这些概念仍然成立——你可以简单地把它们看作伪代码。以下是 Swift 中的一些例子。

```
var number: Int  = 100var text: String  = "Hello"var another_text = "World"   // the type is automatically inferred
```

静态类型的一个重要含义/优点是类型安全。通常，使用静态类型的语言会在代码执行前编译代码。在编译期间，将检查类型。如果在输入方面发现任何问题，程序就不能被编译，这有助于防止失败程序的交付。

在静态类型语言中，使用上面显示的例子，我们有变量`number`，它是一个`Int`。如果我们试图给这个变量赋一个`String`值，就会出现类型错误。

```
number = "Text Data"
error: cannot assign value of type 'String' to type 'Int'
```

然而，应该注意的是，即使在静态类型语言中，也存在动态类型检查。例如，特定的场景是向下转换，这意味着将父类的变量转换为更具体的子类。因为无法确定在编译期间哪些变量将被向下转换，所以将在运行时动态检查。

## 动态打字

在动态类型语言中，在变量的生命周期中，我们可以更自由地改变变量的类型。一些流行的语言是动态类型化的，比如 Python 和 JavaScript。当我们用这些语言创建变量时，我们不需要指定变量的类型。下面是一些用 JavaScript 创建变量的例子。

```
var num = 100
var text = "text data"
```

假设我们首先创建一个整数变量，例如，示例中的`num`变量。稍后，如果我们将文本数据赋给整型变量，这是允许的。

```
num = "one hundred"
```

## 强力打字

强类型和弱类型是一组不同于静态类型和动态类型的概念。因为它们是不同的分类集合，所以编程语言可以是静态类型或动态类型，同时，它也可以是强类型或弱类型。我们不应该对这些组合感到困惑。

在强类型语言中，变量有明确的数据类型。例如，Python 是动态类型的，也是强类型的。它提供了一个方便的函数来检查变量的数据类型。下面是一些例子。

```
>>> num = 123
>>> text = "text"
>>> type(num)
>>> <class 'int'>
>>> type(text)
>>> <class 'str'>
```

强类型的一个主要含义是，不同数据类型之间的操作可能是不允许的。例如，在 Python 中，我们不能将一个字符串与一个数字连接起来，因为这两个操作数都绑定到一个不同的数据类型，并且这两个数据类型之间的加法没有定义。考虑下面的例子。

```
>>> num + text
Traceback (most recent call last):
  File "<input>", line 1, in <module>
**TypeError**: unsupported operand type(s) for +: 'int' and 'str'
```

## 弱类型化

与强类型语言不同，弱类型语言具有与特定类型不太紧密耦合的变量。当然，这并不是说这些语言没有类型，它们的变量可以有类型。例如，JavaScript 就是弱类型语言的一个例子。言外之意，不同数据类型的变量之间的运算是合法的。下面是一个例子。

```
> var intNumbers = 123
> var textNumbers = "one two three"
> intNumbers + textNumbers
< "123one two three"
```

在弱类型语言中，变量可以被隐式地转换成其他数据类型，以允许特殊的操作，否则这是不可能发生的。在该示例中，整数被隐式转换为字符串，从而可以执行字符串连接。

## 讨论

编程语言可以根据它们是静态类型还是动态类型来分类。同时，可以根据它们是强类型还是弱类型来对它们进行分类。这两种分类是截然不同的，因此我们可以使用这两个概念来对编程语言进行分类。

例如，Kotlin 是一种静态的强类型语言，而 Python 是一种动态的强类型语言。再比如，C 是静态弱类型的，而 JavaScript 是动态弱类型的。

当你学习一门新的编程语言时，了解这些区别会很有帮助，因为你可以预料到在这门新语言中什么是允许的，什么是不允许的。