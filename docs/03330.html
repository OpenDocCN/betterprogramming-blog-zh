<html>
<head>
<title>Stop Abusing *args and **kwargs in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">停止在Python中滥用*args和**kwargs</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/stop-abusing-args-and-kwargs-in-python-560ce6645e14?source=collection_archive---------3-----------------------#2020-02-04">https://betterprogramming.pub/stop-abusing-args-and-kwargs-in-python-560ce6645e14?source=collection_archive---------3-----------------------#2020-02-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="93ae" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Python初学者</h2><div class=""/><div class=""><h2 id="06d0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">他们会回来缠着你…</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/f08623f8bfa28f8c6f2dea0d111c3274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*02aJnOluIRck75OS"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@matthewhenry?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马太·亨利</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="bf39" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">网上有很多教程旨在教你在Python中定义函数时如何使用<code class="fe me mf mg mh b">*args</code>和<code class="fe me mf mg mh b">**kwargs</code>。也许你已经花了几个小时试图找出如何释放他们的潜力。也许，在所有的研究之后，你现在对他们有信心了。</p><p id="119a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="mi">不要！</em></p><p id="245c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">强大的工具是危险的。你可能让你的一天变得轻松了，但是记住我的话，它以后会回来困扰你。</p><p id="819b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="mi">但是为什么呢？</em></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="e5a8" class="mq mr it bd ms mt mu mv mw mx my mz na ki nb kj nc kl nd km ne ko nf kp ng nh bi translated">一些基础知识</h1><p id="9582" class="pw-post-body-paragraph li lj it lk b ll ni kd ln lo nj kg lq lr nk lt lu lv nl lx ly lz nm mb mc md im bi translated">Python函数中的参数可以接受两种类型的参数:</p><ul class=""><li id="a145" class="nn no it lk b ll lm lo lp lr np lv nq lz nr md ns nt nu nv bi translated">按位置传递的位置参数。</li><li id="e1e6" class="nn no it lk b ll nw lo nx lr ny lv nz lz oa md ns nt nu nv bi translated">由关键字提供的带关键字的参数。</li></ul><pre class="ks kt ku kv gt ob mh oc od aw oe bi"><span id="69e6" class="of mr it mh b gy og oh l oi oj">def foo(start, end):<br/>    print(start, end)</span></pre><p id="0e3b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，<code class="fe me mf mg mh b">foo('Hi', end='Bye!')</code>向函数<code class="fe me mf mg mh b">foo</code>提供一个位置参数<code class="fe me mf mg mh b">'Hi'</code>和一个带有关键字<code class="fe me mf mg mh b">end</code>的关键字参数<code class="fe me mf mg mh b">'Bye!'</code>。函数的参数是预定义的；函数中接受的参数数量是固定的。然而，情况并非总是如此。</p><p id="5535" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">允许你传递任意数量的位置参数给你的函数。星号<code class="fe me mf mg mh b">*</code>是一个解包参数。它们被打包成函数中的一个可迭代元组。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="2420" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">另一方面，<code class="fe me mf mg mh b">**kwargs</code>允许您向函数传递不同数量的关键字参数。因为每个带关键字的参数都有一个关键字和值，所以它被分组为函数中的一个可迭代字典。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi om"><img src="../Images/f8fc48cfc9fdcd907017ab6d8f543854.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rZJ1TJ5MbzBec2_G"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">苏珊·霍尔特·辛普森在Unsplash<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">上的照片</a></p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2ff3" class="mq mr it bd ms mt mu mv mw mx my mz na ki nb kj nc kl nd km ne ko nf kp ng nh bi translated">问题是</h1><p id="cc8c" class="pw-post-body-paragraph li lj it lk b ll ni kd ln lo nj kg lq lr nk lt lu lv nl lx ly lz nm mb mc md im bi translated">在大多数情况下，你并不真的需要<code class="fe me mf mg mh b">*args</code>和<code class="fe me mf mg mh b">**kwargs</code>。您是否经常不知道预定义函数应该接收多少个参数？</p><p id="67af" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你滥用它们，代码就很难调试，因为你让任意数量的参数传递给函数，函数可能会有不可预知的行为。</p><blockquote class="on oo op"><p id="8491" class="li lj mi lk b ll lm kd ln lo lp kg lq oq ls lt lu or lw lx ly os ma mb mc md im bi translated">显性比隐性好。Python的禅</p></blockquote></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="4b71" class="mq mr it bd ms mt mu mv mw mx my mz na ki nb kj nc kl nd km ne ko nf kp ng nh bi translated">什么时候用？</h1><p id="95cd" class="pw-post-body-paragraph li lj it lk b ll ni kd ln lo nj kg lq lr nk lt lu lv nl lx ly lz nm mb mc md im bi translated">简而言之:在你真正需要的时候使用它们。例如，一个函数有许多可选字段，其中一些字段只在某些情况下使用。比方说，一个函数绘制了一个图形，你可以传递各种可选参数来修改它的颜色、样式、大小等等。</p><p id="5ed6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">每次你使用<code class="fe me mf mg mh b">*args</code>和/或<code class="fe me mf mg mh b">**kwargs</code>时，确保你做了非常清楚的文档以避免混淆。</p><p id="1a18" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在一种情况下，它们的使用可能是不可避免的。如果您正在为一个带有未知参数的函数创建一个包装器，那么您必须接受任意数量的位置和关键字参数，然后将它们传递给该函数。</p><p id="a1c1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，Python中的decorators作为包装器工作，它改变代码的行为，而不改变函数代码本身，因此增加了额外的功能。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ot"><img src="../Images/0f234c485d212dce80cdcb9c15089073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*afCQEjeUvg4bzGI4"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Alexander Schimmeck 在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="222f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在下面的例子中，我们构建了<code class="fe me mf mg mh b">trace</code>,它打印出执行函数的名称作为健全性检查。在函数的顶部使用<code class="fe me mf mg mh b">@trace</code>将装饰器应用于函数，如下所示。因为我们想将这个装饰器应用于任何具有任意数量参数的函数，所以我们需要使用<code class="fe me mf mg mh b">*args</code>和<code class="fe me mf mg mh b">**kwargs</code>。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ok ol l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7f5f" class="mq mr it bd ms mt mu mv mw mx my mz na ki nb kj nc kl nd km ne ko nf kp ng nh bi translated">外卖食品</h1><p id="f44c" class="pw-post-body-paragraph li lj it lk b ll ni kd ln lo nj kg lq lr nk lt lu lv nl lx ly lz nm mb mc md im bi translated"><strong class="lk jd"> <em class="mi">可能的话避开他们</em> </strong> <em class="mi">。</em></p><p id="5d15" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">注意<code class="fe me mf mg mh b">args</code>和<code class="fe me mf mg mh b">kwargs</code>只是约定俗成的命名。你可以给它们起任何你喜欢的名字。星号<code class="fe me mf mg mh b">*</code>和<code class="fe me mf mg mh b">**</code>让它们变得强大。</p><p id="8aca" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">感谢阅读！你可以<a class="ae lh" href="http://edenau.mailchimpsites.com/" rel="noopener ugc nofollow" target="_blank">注册我的时事通讯</a>来接收我的新文章的更新。如果您对进一步提高Python技能感兴趣，以下文章可能会有所帮助:</p><div class="ou ov gp gr ow ox"><a href="https://towardsdatascience.com/5-python-features-i-wish-i-had-known-earlier-bc16e4a13bf4" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jd gy z fp pc fr fs pd fu fw jc bi translated">我希望我能早点知道的5个Python特性</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">超越lambda、map和filter的Python技巧</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl lb ox"/></div></div></a></div><div class="ou ov gp gr ow ox"><a href="https://towardsdatascience.com/4-common-mistakes-python-beginners-should-avoid-89bcebd2c628" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jd gy z fp pc fr fs pd fu fw jc bi translated">Python初学者应该避免的4个常见错误</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">我很艰难地学会了，但你不需要</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="pm l pi pj pk pg pl lb ox"/></div></div></a></div><div class="ou ov gp gr ow ox"><a href="https://towardsdatascience.com/4-hidden-python-features-that-beginners-should-know-ec9de65ff9f8" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd jd gy z fp pc fr fs pd fu fw jc bi translated">初学者应该知道的4个隐藏的Python特性</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">如何轻松增强您的Python代码</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">towardsdatascience.com</p></div></div><div class="pg l"><div class="pn l pi pj pk pg pl lb ox"/></div></div></a></div></div></div>    
</body>
</html>