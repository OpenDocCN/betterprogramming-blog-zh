<html>
<head>
<title>Is Vite the Killer of Webpack?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vite是Webpack的黑仔吗？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/is-vite-the-killer-of-webpack-a515d9e77a4?source=collection_archive---------2-----------------------#2022-01-24">https://betterprogramming.pub/is-vite-the-killer-of-webpack-a515d9e77a4?source=collection_archive---------2-----------------------#2022-01-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ed41" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">或者为什么应该为React/Angular/Vue使用模块捆绑器</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/777e955427f53d315b242586042316e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3ImVQaGtUD7sX9Y_"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@lautaroandreani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">劳塔罗·安德烈亚尼</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="8576" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要建立一个网站，你需要HTML、CSS和JavaScript。这似乎很简单，但没有人只是坚持这三个。您可能希望将JS转换为TypeScript，为UI添加React之类的前端库，使用SASS之类的CSS处理器和一系列其他模块，这样您就不必从头开始了。</p><p id="4606" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这才是模块捆扎机真正闪光的地方。Vite是一个新的工具，支持主要的框架和高速可能是前端开发人员现在最好的工具之一。Vite有时被认为是Webpack的T4杀手。在这个快速阅读中，我们将了解你是应该开始使用Vite还是坚持使用Webpack来完成你的所有项目。</p><h1 id="a1fe" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">什么是模块捆绑器？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/7927a33a655e1c50e4712aec89427186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*imAO6I3_pP9u9lxn"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">沃洛季米尔·赫里先科在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="2d33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们讨论Vite之前，我们首先应该理解什么是模块包。</p><blockquote class="mp"><p id="ab60" class="mq mr it bd ms mt mu mv mw mx my lu dk translated">捆绑器将多个JavaScript文件合并成一个可以在浏览器中运行的文件。</p></blockquote><p id="3e68" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">这个JS包包含所有源代码以及所有导入的依赖项。</p><p id="5aaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们试图在我们的网站上添加一个模块而不使用这样的捆绑器，我们可能会得到一个错误，因为浏览器不知道在哪里可以找到这个模块。这就是像Webpack这样的东西可以帮助我们的地方。</p><p id="fb5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好的，我们可以使用Webpack来处理JS模块，但是一些网站样式怎么样呢？比如你想给这个项目添加一些SASS。它不仅不是JavaScript，还需要由SASS编译器编译。如果您尝试使用它，您会得到一个错误，说没有配置加载程序。</p><p id="06bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">那么装载机到底是什么？</strong>基本上是对非JS的文件进行预处理的一种方式。对于我们的CSS (SASS)用例，它将把代码注入到文档对象模型(也称为HTML DOM)中，这将满足我们的样式需求。</p><p id="9cfd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更重要的是，我们可以使用插件系统直接进入bundler的生命周期。一个非常有用的插件是bundle analyzer，它可以让我们看到哪些包花费了最多的时间来加载。</p><p id="5b09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你曾经开发过一个没有模块捆绑器的网站，你会知道要看到变化，你必须在终端重新运行命令。像Webpack这样的工具可以监视变化并更新网站，而开发人员无需运行任何命令。</p><h1 id="9847" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">为什么要Vite？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/c2c822a2182800c815dd15dfa12f99ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xJ3N-VNHBlxEGFAS"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马库斯·温克勒在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><blockquote class="nf ng nh"><p id="e5cc" class="kz la lv lb b lc ld ju le lf lg jx lh ni lj lk ll nj ln lo lp nk lr ls lt lu im bi translated"><strong class="lb iu"> Vite </strong>是下一代前端工具。它声称拥有即时服务器启动、快速模块替换、优化构建、通用插件<em class="it"> </em>等等。它是由Vue的创建者开发的，支持所有主要的框架。</p></blockquote><p id="66e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">现在，这些事情到底意味着什么？作为开发人员，我们为什么要关心这些事情？对于大多数打包程序，你必须在每次保存时构建整个应用程序。如果你有一个大的应用程序，你可能需要<strong class="lb iu">几分钟</strong>来反映任何基本的变化。</strong></p><p id="49fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看捆绑的典型过程，这是Webpack和其他流行工具所使用的。从应用入口点<strong class="lb iu">开始，所有的</strong>路径和模块被捆绑在一起，之后服务器就准备好了。</p><p id="dede" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vite采取了不同的方法。它会立即启动服务器，然后获取不经常更改的依赖项，并使用esbuild预捆绑它们。Esbuild是用Golang编写的，这使得它比基于JavaScript的捆绑器快了100倍。</p><p id="bc0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vite使用基于路径的代码分割来理解代码的哪些部分实际上需要被加载。因此，它不必重新捆绑所有东西。</p><p id="0a93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vite还使用现代浏览器中的本地ES模块支持来交付代码，这让浏览器承担开发中的捆绑工作。至于生产，Vite使用Rollup来捆绑和实现各种性能优化。</p><h2 id="fea3" class="nl lx it bd ly nm nn dn mc no np dp mg li nq nr mi lm ns nt mk lq nu nv mm nw bi translated">Snowpack怎么样？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/8fad0d87650b9bb071699a6152f8c554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JzPNH3tPNfqgEHmW"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@albertorestifo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Alberto Restifo </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="bb26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Snowpack也是一个无捆绑的原生ESM服务器，和Vite很像。事实上，Vite的灵感来自Snowpack v1。</p><p id="cb28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Snowpack也是一个很棒的工具，它在开发者社区获得了喜爱。虽然有一些关键的不同，这使我与Vite的经历更加愉快。</p><p id="ee01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vite的一个特性是自动CSS代码分割，它将只加载特定页面的相关CSS。这甚至可以进一步提高捆扎机的速度。</p><p id="f852" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vite支持多页面，不需要任何额外的模块。你可以简单地添加一个带有页面名称和index.html文件的文件夹，Vite会让这个URL不需要任何额外的步骤就能工作。</p><p id="b42e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Vite还有一个遗留模式插件，可以处理不支持原生es模块的浏览器。虽然，这只有在你必须支持Internet Explorer时才有用，但希望你不支持。</p><h2 id="ad59" class="nl lx it bd ly nm nn dn mc no np dp mg li nq nr mi lm ns nt mk lq nu nv mm nw bi translated">速度呢？</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/5ee7261d76477b6666ce7feedb1e8a83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0Op6m_pXabu9uwHk"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">乔伊·班克斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="131a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">鉴于React的流行程度，我们可以对比一下用Vite和Create-react-app创建新项目的速度。</p><p id="64a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个新的Vite项目需要更多的步骤，因为您需要选择框架，然后安装依赖项。但是速度差异真的让我震惊。</p><p id="037f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">启动并运行一个Vite项目只花了我<strong class="lb iu">30秒</strong>。这很快，但真正的理解来自比较。标准的create-react-app用了大约<strong class="lb iu"> 2分20秒</strong>才启动并运行。</p><p id="2f92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">常用的Webpack甚至不能远程比较。这种差异确实令人惊讶，也是促使我开始使用Vite的原因。</p><h1 id="9806" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">最后的想法</h1><p id="698d" class="pw-post-body-paragraph kz la it lb b lc nz ju le lf oa jx lh li ob lk ll lm oc lo lp lq od ls lt lu im bi translated">总之，Vite对于开发者来说是一个很好的工具，可以大大加快捆绑过程。难怪它能够在社区中获得如此多的喜爱，成为我的首选。尝试一下，看看你的开发过程会变得更加无缝。</p><h1 id="756a" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated"><strong class="ak">其他资源</strong></h1><div class="oe of gp gr og oh"><a href="https://vitejs.dev/guide/why.html" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">为什么邀请|邀请</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">下一代前端工具</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">vitejs.dev</p></div></div><div class="oq l"><div class="or l os ot ou oq ov ks oh"/></div></div></a></div><div class="oe of gp gr og oh"><a href="https://news.ycombinator.com/item?id=26972400" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">为什么我们从Webpack转向Vite |黑客新闻</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">完全取代webpack不是Vite的目标。可能有少量的特性/功能…</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">news.ycombinator.com</p></div></div></div></a></div></div></div>    
</body>
</html>