# 应该切换到 TypeScript 吗？是啊！

> 原文：<https://betterprogramming.pub/should-you-switch-to-typescript-yes-73bd517ff74d>

## *为什么以及如何开始打字的指南*

![](img/a1293f307d0e5a7350068b33605c71bf.png)

Unsplash 的背景图像

这纯粹是基于我第一次开始使用 TypeScript 这两个月来的亲身经历。在文章的最后，我还将分享如何为 TypeScript 配置您的项目，以帮助您入门。您将看到初始配置是关于 TypeScript 的唯一困难的部分。

为了客观地看待问题，我也不是 JavaScript 或 TypeScript 的忠实粉丝。然而，有时我需要制作一个 web 应用程序。那是我重温我的反应技能并开始工作的时候。在我的最新项目 [FELT Labs](https://feltlabs.ai/) (区块链上的联邦学习解决方案)中，我像往常一样使用 React 和 JavaScript 构建我的 dApp UI。然后我的朋友菲利普加入了这个项目，他推荐尝试 TypeScript。现在整个项目是用打字稿写的，老实说，我认为这是值得的！

# 以打字打的文件

TypeScript 通过添加类型语法构建在 JavaScript 之上。在构建过程中，它被编译成 JavaScript。因此，与 JavaScript 相比，它没有速度优势，但是它可以在 JavaScript 可以运行的任何地方运行。因此，TypeScript 的主要优势是错误检查、更好的建议以及与代码编辑器的全面集成。

与动态类型语言(例如 JavaScript、Python)相比，强类型语言通常允许在编译期间进行更好的优化。因此，TypeScript 没有被编译成更快的东西，感觉就像错过了一个机会。

然而，这允许保持 JavaScript 的兼容性。另外，TypeScript 提供了特殊的类型，如`any`，这使得您的变量表现得像标准的 JavaScript 变量。

你可以在官方网站[typescriptlang.org](https://www.typescriptlang.org/)上了解更多。

# 为什么？

以下是我们坚持使用 TypeScript 的三加一理由，您也应该考虑它。

## 更好的建议和更轻松的协作

您已经使用了自动补全、建议、函数定义预览，那么这个巨大的好处是什么呢？TypeScript 更进一步。它检查函数参数的类型是否与函数定义兼容。它还检查函数没有对变量调用任何不支持的方法。我对 TypeScript 检查的范围感到非常惊讶。例如，它强迫你检查像`null`或`undefined`变量这样的极限情况(如果类型指定的话)。

我发现这在团队工作时特别有用。当使用由你的开发伙伴定义的函数时，你确切地知道什么类型是期望的，什么将由函数返回，并且不会发生一些意外的类型或`null`值将破坏你的代码的其余部分。在某种程度上，这取代了文档，因为每个人都必须编写类型。然后，每个人都可以利用更好的建议，并依赖将由其他人的代码返回的类型。

相信我，在一个拥有未记录的 JavaScript 代码的团队中工作是你不想经历两次的事情。TypeScript 使这种体验更加愉快。

## 随着时间的推移逐渐切换

老实说，这个事实让我信服了。你不必一次就重写你的整个代码库。您可以混合使用 TypeScript 和 JavaScript 文件，一切都会很好。然后我设定了一个目标，每次提交至少重写一个文件。这在几天内就产生了完整的 TypeScript 代码。

## 简单易学

我承认我之前听说过一个打字稿。然而，我一直认为它是一种不同的语言。由于我对 JavaScript 的使用有限，我只是认为不值得学习另一种语言。我大错特错了。老实说，如果你有使用任何其他静态类型语言的经验，并且你理解 JavaScript，那么只需浏览几个例子，你就可以上手了。

当然，一些极限情况可能会在开始时阻止您，但这并不是堆栈溢出不能解决的问题。我最大的困难是加载一个 JSON 配置文件并访问它的键。令人惊讶的是，我不得不先检查 JSON 中是否存在这个密钥，然后一切都正常。

## 初始设置是最难的部分。复制它！

我发现许多库/语言/工具都有这个问题。一开始，你在学习新的东西。您仍然不知道事情是如何工作的，但是您应该设置好所有的配置文件，这样一切都可以很好地协同工作。这可能会令人沮丧。如果说这些年来我学到了什么，那就是最好的方法就是复制它们。每当我开始新的东西时，我总是使用我过去项目中的配置。

# 初始类型脚本设置(用于 React)

最后，我想分享一下我们的设置，这样你就可以很容易地将它包含在你当前或未来的项目中。这是 React 应用程序的设置，因此您可能需要根据您的项目进行更改。以下所有文件都应该位于您的项目的根目录下(与`package.json`相同的级别)...)

**1。**将`typescript`添加到你的`package.json`文件中(我们完整的 [package.json](https://github.com/Breta01/federated-learning-token/blob/main/webapp/package.json) )。以下是您必须添加到您的`package.json`中特定字段的行(确保使用最新版本)。之后，您需要在您的项目中运行`npm install`或`yarn install`。

有些包只用 JavaScript 编写，但通常存在额外的类型定义。如你所见，这些通常被命名为`@types/...`

**2。**将`tsconfig.json`文件添加到项目的根目录。

**3。**添加 Eslint 配置文件`.eslintrc.json`，这有助于自动格式化，并使你的代码更好看。你可能想改变的一点是最大长度，因为 120 可能很长。随着时间的推移，你可能需要添加一些额外的规则，但你会发现随着你的前进。

**4。**最后，你可能想忽略一些文件，所以不要对所有东西都应用林挺。只需添加内容如下的`.eslintignore`。这也允许随着时间的推移重写 JS 文件。

如果可能的话，还应该在编辑器中安装 TypeScript 和 ESLint 扩展(VS Code 两者都有)。仅此而已！现在，您可以像以前一样使用`npm start`和其他命令来使用 react 应用程序。可以用`.ts`或者`.tsx`开始添加 TypeScript 文件(对于包含 React 组件的文件)。

# 结论

我很高兴我终于被迫学习打字稿。到目前为止，我看到的主要是积极的方面，我将把它用于我未来的所有项目。我肯定会建议花一两天时间来学习它。在我当前项目的整个开发过程中，请关注我以获得更多开发者见解: [@FELT_labs](https://twitter.com/FELT_labs) 。

*原载于*[*https://bretahajek.com*](https://bretahajek.com/2022/01/should-you-switch-to-typescript-yes/)