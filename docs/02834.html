<html>
<head>
<title>Build a Bot to Communicate With Your Smart Home Over Telegram</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建造一个机器人，通过电报与你的智能家居通信</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/communicating-with-your-smart-home-over-telegram-76850522759?source=collection_archive---------17-----------------------#2020-01-03">https://betterprogramming.pub/communicating-with-your-smart-home-over-telegram-76850522759?source=collection_archive---------17-----------------------#2020-01-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="21ea" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">树莓派和电报的力量</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/deb97b99f82d34b0860c6c1c3b4bdce2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sJh0LhawttmrRytlGL7zjg.jpeg"/></div></div></figure><p id="7482" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq">这篇文章的更新版本可以在</em> <a class="ae lr" href="https://blog.platypush.tech/article/Build-a-bot-to-communicate-with-your-smart-home-over-Telegram" rel="noopener ugc nofollow" target="_blank"> <em class="lq"> Platypush博客</em> </a> <em class="lq">上免费获得。</em></p><p id="54a4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你已经完全设置好了你的智能家居。你经常喜欢和你的朋友炫耀打开灯泡、播放视频和电影并向你的语音助手发出提示、煮咖啡，以及在应用程序上点击一下来调节恒温器是多么酷。恭喜你！</p><p id="27ae" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但如果你是一个很少定居的自动化爱好者，你可能已经对你必须下载的应用程序的数量和你必须掌握的控制你的小工具的界面的数量感到沮丧。</p><p id="3030" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可能会有一个关于灯光的应用程序，一个关于媒体中心的应用程序，一个关于智能窗帘的应用程序，一个关于恒温器的应用程序，还有一个Google Home应用程序，它热切地(也无可救药地)试图将所有这些应用程序放在同一个地方。</p><p id="72e8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很可能，这些应用程序中的大多数不会与其他应用程序进行通信，而且如果你与你的小工具不在同一个网络上，它们中的许多可能也不会工作。</p><p id="23e6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们可以从同一个界面控制一切，而不用让我们的手机或电脑塞满大量的应用程序，通过一个既可以从移动设备和桌面设备访问又可以通过外部脚本/集成访问的界面，无论您是在家庭网络中还是在户外，这不是很酷吗？一个既轻便又简单易用的界面？</p><p id="086f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是等等，这样的界面不是已经存在一段时间了吗，以消息或聊天的名义？毕竟，通过我们用来向朋友发送猫图片的相同界面，并通过完全根据我们的需求定制的机器人来控制我们的房子、小工具和云服务，而没有第三方机器人通常带来的所有样板文件/挫折，这难道不是很酷吗？</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="d133" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">基于聊天机器人的智能家居</h1><p id="2a04" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">进入基于聊天机器人的智能家居世界。</p><p id="5a20" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这个故事中，我将向您展示如何在现有的智能家居安装基础上轻松设置命令和例程。本教程中使用的两个主要工具是:</p><h2 id="556a" class="mw ma it bd mb mx my dn mf mz na dp mj ld nb nc ml lh nd ne mn ll nf ng mp nh bi translated"><a class="ae lr" href="https://telegram.org" rel="noopener ugc nofollow" target="_blank">电报</a></h2><p id="a6db" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">有许多消息应用和平台存在，但迄今为止，他们中的许多人(Facebook Messenger，Whatsapp，Hangouts等)的努力。)在提供可用的开发人员API方面的表现令人失望。</p><p id="22df" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">每个人都使用XMPP或IRC作为他们的消息主干的黄金时代已经一去不复返了，它很容易与所有说同一种语言的服务集成:今天的消息应用程序的世界非常分散。</p><p id="d673" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，由于创建不与外界交流的围墙花园符合许多大玩家的利益，因此最常用的解决方案没有官方支持的APIs开发人员接口。</p><p id="c547" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不仅如此:一些大玩家积极阻止用户使用官方应用程序以外的任何东西与平台互动(<a class="ae lr" href="https://news.softpedia.com/news/WhatsApp-Permanently-Bans-Users-of-Unofficial-Clients-475013.shtml" rel="noopener ugc nofollow" target="_blank">邪恶的Whatsapp，我正看着你</a>)。</p><p id="132e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这个由几个互不相连的岛屿组成的极度分裂的世界中，<a class="ae lr" href="https://telegram.org" rel="noopener ugc nofollow" target="_blank"> Telegram </a>代表了一个受欢迎的例外:他们的<a class="ae lr" href="https://core.telegram.org/bots/api" rel="noopener ugc nofollow" target="_blank">官方bot API </a>得到了很好的记录和支持，任何懂一点编程的人都可以很容易地构建集成。</p><h2 id="c34b" class="mw ma it bd mb mx my dn mf mz na dp mj ld nb nc ml lh nd ne mn ll nf ng mp nh bi translated"><a class="ae lr" href="https://github.com/BlackLight/platypush/" rel="noopener ugc nofollow" target="_blank">平推</a></h2><p id="73a9" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">那些已经关注我一段时间的人可能听说过我的自动化极客平台。(对于那些没有看过的人，你可以通过阅读我对Platypush 的<a class="ae lr" href="https://medium.com/swlh/automate-your-house-your-life-and-everything-else-around-with-platypush-dba1cd13e3f6" rel="noopener">介绍文章、</a><a class="ae lr" href="https://github.com/BlackLight/platypush/wiki" rel="noopener ugc nofollow" target="_blank"> wiki </a>或<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">集成文档</a>来结束本文)。</p><p id="6dfb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">除此之外，Platypush还带有一个电报<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/plugins/chat.telegram.html" rel="noopener ugc nofollow" target="_blank">插件</a>和<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/backend/chat.telegram.html" rel="noopener ugc nofollow" target="_blank">后端</a>。</p><p id="399d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以，让我们开始做你的第一个家庭自动化机器人吧！</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="94d0" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">创建电报机器人</h1><p id="e1fc" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">在Telegram上创建一个新的机器人非常容易:</p><ol class=""><li id="932e" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp nn no np nq bi translated">与父亲展开对话。</li><li id="11c7" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">键入<code class="fe nw nx ny nz b">/start</code>,然后键入<code class="fe nw nx ny nz b">/newbot</code>,创建一个新的机器人。给你的机器人一个显示名和用户名。</li><li id="9aad" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp nn no np nq bi translated">您将获得一个链接来开始与您的机器人和一个唯一的API密钥的对话。把它存放在某个地方，因为我们很快就会用它来配置Platypush插件。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/5e065dad7925437fa2eac33a429072fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8GSwKPyTDJAaJqwn2JAIMA.png"/></div></div><p class="ob oc gj gh gi od oe bd b be z dk translated">用机器人父亲的三个命令创建新的电报机器人。</p></figure></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="1a2c" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">在Platypush中配置您的机器人</h1><ul class=""><li id="70cc" class="ni nj it kw b kx mr la ms ld of lh og ll oh lp oi no np nq bi translated">安装Platypush，包括主扩展和电报集成:</li></ul><pre class="kj kk kl km gt oj nz ok ol aw om bi"><span id="af46" class="mw ma it nz b gy on oo l op oq">pip install 'platypush[http,db,telegram]'<br/>apt-get install redis-server<br/>[sudo] systemctl start redis<br/>[sudo] systemctl enable redis</span></pre><ul class=""><li id="4a00" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated">如果您还没有这样做，请尝试一下。找到一些你想要管理/自动化的东西——灯光、音乐、媒体、传感器、数据库、机器人、智能插头……并安装/配置相关的扩展。</li></ul><p id="075a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文中，我们将了解如何配置我们新创建的bot来控制Philips Hue灯、音乐播放和PiCamera流。</p><ul class=""><li id="5c02" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated">将电报配置添加到您的<code class="fe nw nx ny nz b">~/.config/platypush/config.yaml</code>文件中:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="3b09" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/backend/chat.telegram.html" rel="noopener ugc nofollow" target="_blank">后端</a>使您能够接收事件(如新消息、附件、请求等)。)并在其上创建自定义挂钩。</p><p id="8af6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/plugins/chat.telegram.html" rel="noopener ugc nofollow" target="_blank">插件</a>可以让你写聊天记录，编程发送消息和附件，管理频道等。</p><p id="d46c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">假设我们希望机器人实现以下命令:</p><ul class=""><li id="c85b" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/start</code>:欢迎新用户。</li><li id="cdb9" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/help</code>:显示可用命令。</li><li id="19e1" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/lights_on</code>:开灯。</li><li id="2486" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/lights_off</code>:关灯。</li><li id="9f82" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/music_play</code>:播放音乐资源/网址。</li><li id="1a62" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/music_pause</code>:切换播放暂停状态。</li><li id="18e1" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/music_next</code>:播放下一首歌。</li><li id="fda1" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/music_prev</code>:播放上一首歌曲。</li><li id="ccd6" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/start_streaming</code>:在PiCamera上启动远程流媒体。</li><li id="cb23" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated"><code class="fe nw nx ny nz b">/stop_streaming</code>:停止PiCamera上的远程流媒体播放。</li></ul><p id="a747" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们所要做的就是在Platypush <code class="fe nw nx ny nz b">config.yaml</code>中创建事件挂钩。在这种情况下，您需要:</p><ul class=""><li id="b3c3" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated">安装并配置<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/plugins/light.hue.html" rel="noopener ugc nofollow" target="_blank">飞利浦Hue </a>、<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/plugins/music.mpd.html" rel="noopener ugc nofollow" target="_blank"> mopidy </a>和<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/plugins/camera.pi.html" rel="noopener ugc nofollow" target="_blank"> PiCamera </a>插件:</li></ul><pre class="kj kk kl km gt oj nz ok ol aw om bi"><span id="71a9" class="mw ma it nz b gy on oo l op oq">pip install 'platypush[hue,mpd,picamera]'</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or os l"/></div></figure><ul class=""><li id="75fa" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated">为了让你的<code class="fe nw nx ny nz b">config.yaml</code>更干净，创建一个名为<code class="fe nw nx ny nz b">~/.config/platypush/include/bot.yaml</code>的新文件:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or os l"/></div></figure><ul class=""><li id="a95e" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated">在<code class="fe nw nx ny nz b">config.yaml</code>中包含您的bot配置:</li></ul><pre class="kj kk kl km gt oj nz ok ol aw om bi"><span id="ef0a" class="mw ma it nz b gy on oo l op oq">include:<br/>    - include/bot.yaml</span></pre><ul class=""><li id="490c" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated">开始平板推:</li></ul><pre class="kj kk kl km gt oj nz ok ol aw om bi"><span id="e7ca" class="mw ma it nz b gy on oo l op oq"># Manual start<br/>platypush</span><span id="7ed0" class="mw ma it nz b gy ot oo l op oq"># Service start<br/>systemctl start platypush.service</span></pre><ul class=""><li id="5487" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated">通过机器人父亲提供的链接在Telegram上打开与您的机器人的对话，并开始玩它:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/2f971a08511d9ec6631a48eb0308deeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4jccKhoyMnCQMTxws8tb9A.png"/></div></div><p class="ob oc gj gh gi od oe bd b be z dk translated">通过电报聊天控制你的房子</p></figure><p id="e711" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，任何人都可以访问这个机器人——你可能不希望这样。您可以配置电报后端，使其仅接受来自特定聊天id列表的消息。(在Telegram中，<code class="fe nw nx ny nz b">chat_id</code>既用于私人用户，也用于群组)。</p><p id="2cea" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">向bot发送一条消息并打开Platypush日志或检查它的标准输出:您应该会看到如下消息:</p><pre class="kj kk kl km gt oj nz ok ol aw om bi"><span id="f985" class="mw ma it nz b gy on oo l op oq">2020-01-03 19:09:32,701| INFO|platypush|Received event: {"type": "event", "target": "turing", "origin": "turing", "id": "***", "args": {"type": "<strong class="nz iu">platypush.message.event.chat.telegram.CommandMessageEvent</strong>", "chat_id": <strong class="nz iu">your_chat_id</strong>, "message": {"text": "/help", <em class="lq">...</em>}, "user": {"user_id": <strong class="nz iu">your_user_id</strong>, "username": "****", "is_bot": false, "link": "<a class="ae lr" href="https://t.me/blacklight86" rel="noopener ugc nofollow" target="_blank">https://t.me/</a>you", "language_code": "en", "first_name": "***", "last_name": "***"}, "command": "help", "cmdargs": []}}</span></pre><p id="c2e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在后端配置中复制与您的用户相关联的<code class="fe nw nx ny nz b">chat_id</code>:</p><pre class="kj kk kl km gt oj nz ok ol aw om bi"><span id="3af9" class="mw ma it nz b gy on oo l op oq">backend.chat.telegram:<br/>    authorized_chat_ids:<br/>        - your_user_id</span></pre><p id="0082" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你试图从一个未授权的用户那里发送信息，机器人将会回复一个错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/241f9c7dd792ed2061fabb9510c651cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GCNnEek3E-HViXvp3S-KIA.png"/></div></div><p class="ob oc gj gh gi od oe bd b be z dk translated">对不起，你不能乱搞我的家</p></figure><p id="7676" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你愿意，你也可以邀请你的机器人加入群聊，让你的朋友在你的房子里闪烁灯光！</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="8330" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">下一步是什么？</h1><p id="4b07" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">在本文中，我们只探讨了电报集成的一个具体特性:机器人对<code class="fe nw nx ny nz b"><a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/events/chat.telegram.html#platypush.message.event.chat.telegram.CommandMessageEvent" rel="noopener ugc nofollow" target="_blank">CommandMessageEvent</a></code>事件作出反应、运行动作和回复文本消息的能力。</p><p id="5068" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/events/chat.telegram.html" rel="noopener ugc nofollow" target="_blank">支持的电报事件列表</a>中可以看出，您可以做更多事情，例如:</p><ul class=""><li id="cd1a" class="ni nj it kw b kx ky la lb ld nk lh nl ll nm lp oi no np nq bi translated">当有人分享联系信息时创建挂钩。有没有想过让机器人自动存储朋友通过聊天发送给你的新联系人？</li><li id="b86b" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated">共享照片、视频或图像文件时创建挂钩。例如，将发送到聊天室的所有媒体文件自动下载到您的硬盘或远程Dropbox文件夹中。</li><li id="bfc1" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated">对文本消息运行操作，而不是命令。例如，如果您喜欢键入“打开灯”而不是“/lights_on”，您可以使用<code class="fe nw nx ny nz b"><a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/events/chat.telegram.html#platypush.message.event.chat.telegram.TextMessageEvent" rel="noopener ugc nofollow" target="_blank">TextMessageEvent</a></code>。</li><li id="f7e7" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated">从相机中拍摄一张照片，并通过<code class="fe nw nx ny nz b"><a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/events/chat.telegram.html#platypush.message.event.chat.telegram.TextMessageEvent" rel="noopener ugc nofollow" target="_blank">send_photo</a></code>动作发送给自己。</li><li id="e3c0" class="ni nj it kw b kx nr la ns ld nt lh nu ll nv lp oi no np nq bi translated">您还可以部署多个机器人，例如每个设备，这样您就可以通过相关的聊天在特定设备上运行操作，或者使用单个机器人作为入口点，通过<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/backend/mqtt.html" rel="noopener ugc nofollow" target="_blank"> MQTT </a>、<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/backend/kafka.html" rel="noopener ugc nofollow" target="_blank"> Kafka </a>或<a class="ae lr" href="https://platypush.readthedocs.io/en/latest/platypush/backend/http.html" rel="noopener ugc nofollow" target="_blank"> HTTP API </a>向其他设备发送消息。</li></ul><p id="9ea3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">只要有插件，你现在就可以通过你的聊天机器人做到这一点。</p></div></div>    
</body>
</html>