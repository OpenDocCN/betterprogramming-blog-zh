<html>
<head>
<title>Create 3D Graphs on iOS With Plot3d</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Plot3d在iOS上创建3D图形</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-3d-graphs-on-ios-with-plot3d-22f2237dbcc1?source=collection_archive---------13-----------------------#2020-01-23">https://betterprogramming.pub/create-3d-graphs-on-ios-with-plot3d-22f2237dbcc1?source=collection_archive---------13-----------------------#2020-01-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="22ad" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为你的用户构建漂亮的可视化效果</h2></div><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="kk kl l"/></div><p class="km kn gj gh gi ko kp bd b be z dk translated">使用Plot3d在iOS上的3D空间中绘图</p></figure><p id="e852" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">如果数据绘制得很好，那么以三维方式绘制数据是一种很好的可视化数据的方式。要想出一个有用的三维数据图，需要创造力和蛮力迭代。</p><p id="59c4" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在iOS上，三维绘图更具挑战性，因为没有太多的框架可供使用——我找到的唯一一个框架也不是免费的！</p><p id="8647" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">Plot3d是一个开源项目，我一直致力于在iOS上绘制三维数据。<a class="ae ln" href="https://cocoapods.org/pods/Plot3d" rel="noopener ugc nofollow" target="_blank">cocoa pods上有plot 3d</a>。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="e71a" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">它是如何工作的</h1><p id="8670" class="pw-post-body-paragraph kq kr iq ks b kt mn jr kv kw mo ju ky kz mp lb lc ld mq lf lg lh mr lj lk ll ij bi translated">Plot3d使用<a class="ae ln" href="https://developer.apple.com/documentation/scenekit" rel="noopener ugc nofollow" target="_blank"> SceneKit </a>来表示三维数据。接下来的两节将简要总结这些框架。</p><h2 id="b974" class="ms lw iq bd lx mt mu dn mb mv mw dp mf kz mx my mh ld mz na mj lh nb nc ml nd bi translated"><strong class="ak">场景概述</strong></h2><p id="0efb" class="pw-post-body-paragraph kq kr iq ks b kt mn jr kv kw mo ju ky kz mp lb lc ld mq lf lg lh mr lj lk ll ij bi translated">在<code class="fe ne nf ng nh b">SceneKit</code>中，<code class="fe ne nf ng nh b">SCNScene</code>是3D的一切所在。场景中的任何视觉对象都是一个<code class="fe ne nf ng nh b">SCNGeometry</code>。</p><p id="d8bf" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">一个几何图形被附加到一个<code class="fe ne nf ng nh b">SCNNode</code>，它是一个场景的结构元素，代表一个位置和在3D坐标空间中的变换。</p><h2 id="01f8" class="ms lw iq bd lx mt mu dn mb mv mw dp mf kz mx my mh ld mz na mj lh nb nc ml nd bi translated"><strong class="ak"> Plot3d概述</strong></h2><p id="c18d" class="pw-post-body-paragraph kq kr iq ks b kt mn jr kv kw mo ju ky kz mp lb lc ld mq lf lg lh mr lj lk ll ij bi translated">Plot3d提供了一个<code class="fe ne nf ng nh b">PlotView</code>来管理一个场景，该场景包含在3d中绘制数据所需的所有节点和几何体。A <code class="fe ne nf ng nh b">PlotView</code>是<code class="fe ne nf ng nh b">UIView</code>的子类，场景中的所有东西都被添加到a <code class="fe ne nf ng nh b">PlotSpaceNode</code>中。</p><p id="74c0" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">一个<code class="fe ne nf ng nh b">PlotSpaceNode</code>是一个<code class="fe ne nf ng nh b">PlotView</code>中场景的根节点。大多数3D工作都是由一个绘图空间处理的，这个空间对开发者是隐藏的。</p><p id="e5b4" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">使用类似于<code class="fe ne nf ng nh b">UITableView</code>工作方式的数据源和委托模式确定要在绘图空间中绘制的数据。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="7c32" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">使用Plot3d</h1><p id="c3ec" class="pw-post-body-paragraph kq kr iq ks b kt mn jr kv kw mo ju ky kz mp lb lc ld mq lf lg lh mr lj lk ll ij bi translated">首先，用给定的配置创建一个视图，然后提供数据。下面所有的代码都被假定在一个<code class="fe ne nf ng nh b">UIViewController</code>中。</p><h2 id="0d34" class="ms lw iq bd lx mt mu dn mb mv mw dp mf kz mx my mh ld mz na mj lh nb nc ml nd bi translated"><strong class="ak">创建绘图视图</strong></h2><p id="d17c" class="pw-post-body-paragraph kq kr iq ks b kt mn jr kv kw mo ju ky kz mp lb lc ld mq lf lg lh mr lj lk ll ij bi translated">使用自定义配置初始化<code class="fe ne nf ng nh b">PlotView</code>，并设置轴标题以开始。</p><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="ni kl l"/></div></figure><h2 id="e771" class="ms lw iq bd lx mt mu dn mb mv mw dp mf kz mx my mh ld mz na mj lh nb nc ml nd bi translated">三维绘图</h2><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="nj kl l"/></div><p class="km kn gj gh gi ko kp bd b be z dk translated">使用类似于UITableView的数据源和委托模式在3D中绘制点。</p></figure><p id="2b8d" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">绘图空间使用<code class="fe ne nf ng nh b">PlotDataSource</code>和<code class="fe ne nf ng nh b">PlotDelegate</code>绘制数据。由于没有暴露<code class="fe ne nf ng nh b">PlotSpaceNode</code>，数据源和代理通过<code class="fe ne nf ng nh b">PlotView</code>分配。</p><p id="3aaa" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">要打印数据，请扩展视图控制器以实现数据源和委托协议，然后将它们分配给打印视图。</p><pre class="kf kg kh ki gt nk nh nl nm aw nn bi"><span id="bb84" class="ms lw iq nh b gy no np l nq nr">plotView.dataSource = self<br/>plotView.delegate = self<br/>plotView.reloadData()</span></pre><h2 id="c245" class="ms lw iq bd lx mt mu dn mb mv mw dp mf kz mx my mh ld mz na mj lh nb nc ml nd bi translated"><strong class="ak">绘图数据源</strong></h2><p id="cfaa" class="pw-post-body-paragraph kq kr iq ks b kt mn jr kv kw mo ju ky kz mp lb lc ld mq lf lg lh mr lj lk ll ij bi translated">数据源用于指定要绘制的点数和要建立的连接。基础绘图空间将遍历给定的数量，并相应地绘制每个点和连接。</p><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="ni kl l"/></div></figure><h2 id="44c8" class="ms lw iq bd lx mt mu dn mb mv mw dp mf kz mx my mh ld mz na mj lh nb nc ml nd bi translated"><strong class="ak"> PlotDelegate </strong></h2><p id="b1ff" class="pw-post-body-paragraph kq kr iq ks b kt mn jr kv kw mo ju ky kz mp lb lc ld mq lf lg lh mr lj lk ll ij bi translated">下面是一些可以被实现来向绘图空间提供数据的委托方法。</p><ol class=""><li id="d77e" class="ns nt iq ks b kt ku kw kx kz nu ld nv lh nw ll nx ny nz oa bi translated">为每个要绘制的点提供一个<code class="fe ne nf ng nh b">PlotPoint</code>(一个3D坐标)。(需要实现。)</li><li id="24c8" class="ns nt iq ks b kt ob kw oc kz od ld oe lh of ll nx ny nz oa bi translated">提供在每个绘制点使用的几何图形。(需要实现。)</li><li id="a145" class="ns nt iq ks b kt ob kw oc kz od ld oe lh of ll nx ny nz oa bi translated">提供在每个刻度线使用的<code class="fe ne nf ng nh b">PlotText</code>。(实现是可选的。)</li></ol><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="ni kl l"/></div></figure><h2 id="987a" class="ms lw iq bd lx mt mu dn mb mv mw dp mf kz mx my mh ld mz na mj lh nb nc ml nd bi translated"><strong class="ak">添加连接</strong></h2><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi og"><img src="../Images/ace903bfe24d0cedfb67c13c42ff431f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FEIFtsbMaAgP9oHcHQ7RpQ.png"/></div></div><p class="km kn gj gh gi ko kp bd b be z dk translated">可以通过指定需要连接的绘制点的索引来添加连接。</p></figure><p id="94ea" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我们可以通过在绘制的点之间添加连接来进一步帮助数据更容易可视化。</p><p id="8a22" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">将以下代码添加到<code class="fe ne nf ng nh b">PlotDataSource</code>将指定要建立的连接数。</p><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="ni kl l"/></div></figure><p id="0f8b" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">将以下代码添加到<code class="fe ne nf ng nh b">PlotDelegate</code>将指定要连接的点，以及每个连接应该是什么样子。</p><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="ni kl l"/></div></figure></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="7912" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">结束</h1><p id="df1e" class="pw-post-body-paragraph kq kr iq ks b kt mn jr kv kw mo ju ky kz mp lb lc ld mq lf lg lh mr lj lk ll ij bi translated">Plot3d的目标是使在iOS上开发数据的3d可视化更加容易。</p><p id="ca56" class="pw-post-body-paragraph kq kr iq ks b kt ku jr kv kw kx ju ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">我承认，iPhones上对3D图形的需求可能不是很大，但现在我可以更放心地睡觉了，因为我知道开发者可以选择开源。你可以在GitHub 上查看<a class="ae ln" href="https://github.com/stokatyan/Plot3D" rel="noopener ugc nofollow" target="_blank">源代码。</a></p></div></div>    
</body>
</html>