<html>
<head>
<title>Getting Started With GraphQL — AWS AppSync, DynamoDB, and Postman</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL入门— AWS AppSync、DynamoDB和Postman</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/getting-started-with-graphql-aws-appsync-dynamodb-and-postman-503828a65971?source=collection_archive---------4-----------------------#2021-03-19">https://betterprogramming.pub/getting-started-with-graphql-aws-appsync-dynamodb-and-postman-503828a65971?source=collection_archive---------4-----------------------#2021-03-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6983" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">GraphQL APIs的实践介绍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/d40f432693978bb4f050dfea9b6b0a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*_JdcrOWa3BNmGntOx32Jmg.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="eb50" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">GraphQL是一种用于API的查询语言。但是这到底意味着什么，它是如何工作的？最简单地说，GraphQL就是询问对象上的特定字段。在本文中，我们将采用实践的方法，使用AppSync、DynamoDB和Postman快速入门GraphQL。我们开始吧！</p><h2 id="35f0" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">先决条件</h2><ul class=""><li id="9660" class="mj mk it kw b kx ml la mm ld mn lh mo ll mp lp mq mr ms mt bi translated">自动警报系统</li><li id="0472" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp mq mr ms mt bi translated">邮递员</li></ul><h2 id="919f" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">服务</h2><ul class=""><li id="1727" class="mj mk it kw b kx ml la mm ld mn lh mo ll mp lp mq mr ms mt bi translated"><strong class="kw iu"> AppSync </strong>是AWS上的一个完全托管的服务，使得开发GraphQL APIs变得容易</li><li id="a461" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp mq mr ms mt bi translated"><strong class="kw iu"> DynamoDB </strong>是AWS上一个快速灵活的NoSQL数据库服务</li><li id="bf90" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp mq mr ms mt bi translated">Postman是一个API开发的协作平台</li></ul><h1 id="adcc" class="mz lr it bd ls na nb nc lv nd ne nf ly jz ng ka mb kc nh kd me kf ni kg mh nj bi translated">AppSync</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nk"><img src="../Images/565e2e07e187bf08e6ef79ce7eb7be65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EDl93Y1Zmwpmhdj6.png"/></div></div></figure><p id="9166" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们要做的第一件事是使用AWS AppSync设置我们的GraphQL服务器。幸运的是，这可以很快完成，因为AWS有一个样本模板，我们可以使用它来完成繁重的工作。要开始这样做，请访问AWS AppSync并遵循以下步骤:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/5569a3cd50f7f1127f39b2606ab70472.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/format:webp/1*twQ6ylY0WUq6CErqaAmA_g.png"/></div></figure><ol class=""><li id="82c6" class="mj mk it kw b kx ky la lb ld nq lh nr ll ns lp nt mr ms mt bi translated">[AppSync]单击创建API</li><li id="e800" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">【入门】点击<strong class="kw iu">用向导创建</strong></li><li id="4d01" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">[创建模型]单击创建</li><li id="a586" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">[创建资源]单击创建</li></ol><p id="1dab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这样！我们刚刚创建了第一个GraphQL API <em class="nu">和与之相连的</em> DynamoDB。接下来我们要做的是运行一些查询来读写我们的表。以下是这些查询的图片:</p><h2 id="c753" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">问题</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nv"><img src="../Images/43e4c6bc8bfe15a494a8dd3698dbdd18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jgdkep9Q8y_-PjEl4pj5oQ.png"/></div></div></figure><p id="e056" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在AppSync UI中，单击左侧面板上的<strong class="kw iu">查询</strong> <em class="nu"> </em>，将进入查询屏幕。这是您可以编写、验证和测试GraphQL查询的地方。这里有几个不同的面板，为了更容易理解，让我们把它分成三个不同的部分。以下是这些部分的图像:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi nw"><img src="../Images/d3ea0726b50cb8267904fa207c6c6961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O2EpL__qleOOcSJzl0tjdw.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">AWS AppSync查询页面</p></figure><ol class=""><li id="7a03" class="mj mk it kw b kx ky la lb ld nq lh nr ll ns lp nt mr ms mt bi translated">第一部分是查询浏览器。您可以在这里选择要使用的字段或属性。<strong class="kw iu">变异</strong>用GraphQL的术语来说就是修改数据或将数据写入数据源。<strong class="kw iu">查询</strong>用GraphQL的术语来说就是从数据源中取出数据或者读取<em class="nu"> </em>。</li><li id="74de" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">第二部分是查询浏览器的预览。尝试选中第一部分的一些框:你会看到预览随着你的选择而更新。这也是我们将在《邮差》中用到的。</li><li id="b576" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">最后一部分是对您的请求的输出或响应。</li></ol><h2 id="4425" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">变化</h2><p id="eaf2" class="pw-post-body-paragraph ku kv it kw b kx ml ju kz la mm jx lc ld nx lf lg lh ny lj lk ll nz ln lo lp im bi translated">点击▶️播放按钮，它会打开一个下拉菜单。选择<code class="fe oa ob oc od b"><em class="nu">createMyModelType</em></code>，您应该在第三部分看到一个响应，表明您成功地将一条记录插入到DynamoDB中。这是一张图片:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi oe"><img src="../Images/1b6c8ce1705e3ff9b71ee74870ce1dd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XH93kpU92GedQ7fanwwIiA.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">执行变异<em class="of"> createMyModelType </em></p></figure><p id="d6c8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尝试更改变量，再次点击播放选择<code class="fe oa ob oc od b"><em class="nu">createMyModelType</em></code>。您应该会在响应中看到您的新变量。这是一张图片:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi og"><img src="../Images/fc99e048ff086af99da3a41df509c9d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QdPerGQPymhFfrkn7v0PpQ.png"/></div></div></figure><h2 id="5446" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">询问</h2><p id="3725" class="pw-post-body-paragraph ku kv it kw b kx ml ju kz la mm jx lc ld nx lf lg lh ny lj lk ll nz ln lo lp im bi translated">太好了！既然我们已经写入了数据源，那么让我们试着从数据源中读取数据，以确保我们的记录确实在那里。为此，您将再次单击play按钮，但这次从下拉菜单<code class="fe oa ob oc od b"><em class="nu">listMyModelTypes</em></code>中选择，您应该会看到一个显示我们刚刚创建的记录的响应。这是一张图片:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi oh"><img src="../Images/a7a0420f4cca88a14942af0179744790.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMcUBdDAaYtka7r5Ze5WBg.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated"><em class="of">执行查询listMyModelTypes </em></p></figure><p id="12ff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">值得注意的是，从play下拉列表中进行选择实际上会触发预览部分中显示的查询。一起使用所有部分来开发和测试GraphQL查询。</p><h1 id="4d44" class="mz lr it bd ls na nb nc lv nd ne nf ly jz ng ka mb kc nh kd me kf ni kg mh nj bi translated">DynamoDB</h1><p id="ff5a" class="pw-post-body-paragraph ku kv it kw b kx ml ju kz la mm jx lc ld nx lf lg lh ny lj lk ll nz ln lo lp im bi translated">让我们导航到DynamoDB，验证我们在GraphQL中创建的记录确实存在于我们的表中。执行以下五个步骤:</p><ol class=""><li id="3d49" class="mj mk it kw b kx ky la lb ld nq lh nr ll ns lp nt mr ms mt bi translated">导航到DynamoDB</li><li id="2f49" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">点击左侧面板上的<strong class="kw iu">表格</strong></li><li id="18b3" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">单击您创建的表</li><li id="c7cb" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">点击<strong class="kw iu">项</strong></li><li id="e0b3" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">确认记录在那里</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi oi"><img src="../Images/8b03a01299052921b5d27953cd24b577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jgfNGD4jYEoKkYjRrmiiPw.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">验证DynamoDB中的记录</p></figure><h1 id="21b8" class="mz lr it bd ls na nb nc lv nd ne nf ly jz ng ka mb kc nh kd me kf ni kg mh nj bi translated">邮递员</h1><p id="df7e" class="pw-post-body-paragraph ku kv it kw b kx ml ju kz la mm jx lc ld nx lf lg lh ny lj lk ll nz ln lo lp im bi translated">本文的最后一步是使用Postman向我们的GraphQL服务器发送读/写数据库的请求。我使用Postman的原因是，它是用于开发、测试和协作API的事实上的GUI工具。</p><p id="d4ec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，在Postman中发送GraphQL请求并不像看起来那么直观。因此，我在这一节专门讨论了使用<strong class="kw iu">Content-Type</strong><em class="nu">application/graph QL</em>和<em class="nu"> application/json </em>的请求配置以及API调用的执行。</p><p id="bbce" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意:对于每个请求，我都包含了一个CURL脚本，您可以导入和/或引用它。</p><h2 id="44e5" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">API URL和API密钥</h2><p id="2ff6" class="pw-post-body-paragraph ku kv it kw b kx ml ju kz la mm jx lc ld nx lf lg lh ny lj lk ll nz ln lo lp im bi translated">要获取调用我们的GraphQL服务器的配置，请返回AWS AppSync设置页面。从这里，我们将获取API URL和API密钥，以便在我们的Postman请求中使用。这是图片:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi oj"><img src="../Images/3875bc349e82fe2aaf1c79b43e948989.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dewF29UwlGOiJ4D8BrP6Ug.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">AWS AppSync设置</p></figure><h2 id="2f52" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">配置</h2><p id="653c" class="pw-post-body-paragraph ku kv it kw b kx ml ju kz la mm jx lc ld nx lf lg lh ny lj lk ll nz ln lo lp im bi translated">现在我们已经有了API URL和API KEY，是时候在Postman中设置我们的请求了。为此，请回到Postman并遵循以下步骤:</p><ol class=""><li id="a8d4" class="mj mk it kw b kx ky la lb ld nq lh nr ll ns lp nt mr ms mt bi translated">创建新请求</li><li id="ee69" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">确保类型为POST</li><li id="0e65" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">在请求URL中输入API URL</li><li id="d02d" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp nt mr ms mt bi translated">在<strong class="kw iu">标题</strong>标签中输入<code class="fe oa ob oc od b">x-api-key</code> : <code class="fe oa ob oc od b">{{API KEY}} </code></li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi ok"><img src="../Images/a0b4749639648410581b5fb9a95bd2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rQV1E3wYC8AoZsRtQedlGg.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">邮递员请求配置</p></figure><h2 id="4ef0" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated"><strong class="ak">内容类型:</strong>应用程序/图表ql</h2><p id="9587" class="pw-post-body-paragraph ku kv it kw b kx ml ju kz la mm jx lc ld nx lf lg lh ny lj lk ll nz ln lo lp im bi translated"><strong class="kw iu"> <em class="nu">读</em> </strong></p><p id="e90c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我们将发出第一个使用Postman获取数据的GraphQL请求。为此，我们将使用<em class="nu"> Content-Type </em>作为键，使用<em class="nu"> application/graphql </em>作为值添加到我们的头中。</p><p id="6f1d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们将前往<strong class="kw iu"> Body </strong>选项卡并选择GraphQL。这是一张图片:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi ol"><img src="../Images/3b986861a16cac02a91367e0bd92cceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8dWQfTz7i-lzroe2GenB4w.png"/></div></div></figure><p id="7e3e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了获得查询的内容，我们将返回AppSync查询页面，在预览部分复制<code class="fe oa ob oc od b"><em class="nu">listMyModelTypes</em></code> <em class="nu"> </em>。这里有一张图片可供参考。代码在它下面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/d89e84585afca4e7cede5f172550df0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*ua79KF8QTRu8BC-VPK-KhQ.png"/></div></figure><pre class="kj kk kl km gt on od oo op aw oq bi"><span id="f066" class="lq lr it od b gy or os l ot ou">query listMyModelTypes {<br/>  listMyModelTypes {<br/>    items {<br/>      id<br/>      title<br/>    }<br/>  }<br/>}</span></pre><p id="7cc4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">回到Postman，粘贴到<strong class="kw iu">主体</strong>标签的查询部分，点击发送。下图将有所帮助:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi ov"><img src="../Images/31d09034a5ca8bc2cc8a212206ead3e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iw62Bpp8pgZJNpGI9imdMw.png"/></div></div></figure><p id="42fb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您做的一切都正确，那么您应该会看到一个来自DynamoDb的成功响应；该响应应该如下所示:</p><blockquote class="ow ox oy"><p id="1393" class="ku kv nu kw b kx ky ju kz la lb jx lc oz le lf lg pa li lj lk pb lm ln lo lp im bi translated">curl-location-request POST ' API _ URL ' \<br/>-header ' x-API-KEY:API _ KEY ' \<br/>-header ' Content-Type:application/graph QL ' \<br/>-data-raw ' { " query ":" query listMyModelTypes { \ n listMyModelTypes { \ n items { \ n \ n title \ n } \ n } \ n }、" variables":{}} '</p></blockquote><p id="e840" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="nu">写</em> </strong></p><p id="c396" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">通过Postman写入数据库类似于读取，但有一些不同。我们首先返回AppSync查询页面，在预览部分复制<code class="fe oa ob oc od b"><em class="nu">createMyModelType</em></code>。这里有一个图像可以帮助你，它的代码在下面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/b537d5ef42ec0a8b5ce28c0ce9c84e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*XWSAgHG4eGJ4mTqtaNX1hA.png"/></div></figure><pre class="kj kk kl km gt on od oo op aw oq bi"><span id="ade0" class="lq lr it od b gy or os l ot ou">mutation createMyModelType($createmymodeltypeinput: CreateMyModelTypeInput!) {<br/>  createMyModelType(input: $createmymodeltypeinput) {<br/>    title<br/>    id<br/>  }<br/>}</span></pre><p id="4be1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">回到Postman，粘贴到<strong class="kw iu"> Body </strong>选项卡的查询部分，点击发送。如果您遵循了上面的步骤，那么您应该会看到一个带有错误消息的成功响应。下面是该错误消息的图像:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi pd"><img src="../Images/169b3e55f4dba9d2136c5cee2891b333.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JhF21HzbspyYoDR7azXbuw.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">错误！缺少变量。</p></figure><p id="ddd9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是因为我们缺少GraphQL变量。要获取语法，请返回AppSync查询页面，在预览部分查询变量中复制<code class="fe oa ob oc od b"><em class="nu">createmymodeltypeinput</em></code>。下图显示了该流程，其代码如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/a7226e0de917e2f3ec398a7fc57d3d18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*tknYwHGfvmOJQr7cyWdfPA.png"/></div></figure><pre class="kj kk kl km gt on od oo op aw oq bi"><span id="d0d1" class="lq lr it od b gy or os l ot ou">{<br/>  "createmymodeltypeinput": {<br/>    "title": "Hello, Medium! - <a class="ae pe" href="http://twitter.com/songthamtung" rel="noopener ugc nofollow" target="_blank">@songthamtung</a>"<br/>  }<br/>}</span></pre><p id="ed46" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">返回Postman，将其粘贴到<strong class="kw iu"> Body </strong>选项卡的GraphQL变量部分，然后单击Send。这张图片将帮助您:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi pf"><img src="../Images/be54fe64b339366ce6842583e8bd3577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0v6ZJJec9DSsH5eE_TP4XQ.png"/></div></div></figure><p id="85fd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您做的一切都正确，那么您应该会看到一个成功的响应，从我们的变量中新建了一个项目。以下是消息:</p><blockquote class="ow ox oy"><p id="9829" class="ku kv nu kw b kx ky ju kz la lb jx lc oz le lf lg pa li lj lk pb lm ln lo lp im bi translated">curl-location-request POST ' API _ URL ' \<br/>-header ' x-API-KEY:API _ KEY ' \<br/>-header ' Content-Type:application/graph QL ' \<br/>-data-raw ' { " query ":" mutation createMyModelType($ CreateMyModelTypeInput:CreateMyModelTypeInput！){ \ n createMyModelType(input:＄createmymodeltypeinput){ \ n title \ n id \ n } \ n }“，”变量“:{ " createmymodeltypeinput ":{ " title ":“您好，中！— @songthamtung(通过邮递员发送)" }} '</p></blockquote><h2 id="3b0d" class="lq lr it bd ls lt lu dn lv lw lx dp ly ld lz ma mb lh mc md me ll mf mg mh mi bi translated">内容类型:应用程序/json</h2><p id="1ea1" class="pw-post-body-paragraph ku kv it kw b kx ml ju kz la mm jx lc ld nx lf lg lh ny lj lk ll nz ln lo lp im bi translated"><strong class="kw iu"> <em class="nu">读作</em> </strong></p><p id="be60" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个部分用于在请求体中传递JSON数据。它建立在请求配置的基础上，但是使用<em class="nu">内容类型</em>作为键，使用<em class="nu">应用程序/json </em>作为<strong class="kw iu">标题</strong>选项卡中的值。</p><p id="794a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里需要注意的重要一点是语法，如下所示:</p><pre class="kj kk kl km gt on od oo op aw oq bi"><span id="c49f" class="lq lr it od b gy or os l ot ou">{</span><span id="b861" class="lq lr it od b gy pg os l ot ou">"query": "{listMyModelType{items{id,title}}}"</span><span id="d703" class="lq lr it od b gy pg os l ot ou">}</span></pre><p id="8860" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们很大程度上采用了前面几节中的查询，并将其压缩成一行，作为键查询的值。将此粘贴到Postman中的<strong class="kw iu"> Body </strong>选项卡，勾选“raw”，并在下拉列表中选择JSON。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi pf"><img src="../Images/bcc5047bc54d7b0444dfa9f6b4dc23d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*abS80i1XgiYPT2bxQ7K0lw.png"/></div></div></figure><p id="6b66" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您做的一切都正确，那么您应该会看到一个成功的响应，其中包含来自DynamoDb的条目。它看起来会像这样:</p><blockquote class="ow ox oy"><p id="6615" class="ku kv nu kw b kx ky ju kz la lb jx lc oz le lf lg pa li lj lk pb lm ln lo lp im bi translated">curl-location-request POST ' API _ URL ' \<br/>-header ' x-API-KEY:API _ KEY ' \<br/>-header ' Content-Type:application/JSON ' \<br/>-data-raw ' {<br/>" query ":" { listMyModelTypes { items { id，title}}}" <br/> } '</p></blockquote><p id="cab1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="nu">写</em> </strong></p><p id="f4db" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在将有效负载压缩为一行的上下文中，使用JSON写入数据库类似于使用JSON读取，如下所示:</p><pre class="kj kk kl km gt on od oo op aw oq bi"><span id="0318" class="lq lr it od b gy or os l ot ou">{ "query": "mutation {createMyModelType(input:{title:\"JSON body\"}){title}}" }</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi ph"><img src="../Images/2c6603c2ff7902f669948d643626b21f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mDA5GphIypIAIm4Jw-uuGA.png"/></div></div></figure><p id="3a61" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您做的一切都正确，那么您应该会看到一个成功的响应，其中包含一个来自JSON payload的新创建的条目。</p><blockquote class="ow ox oy"><p id="f789" class="ku kv nu kw b kx ky ju kz la lb jx lc oz le lf lg pa li lj lk pb lm ln lo lp im bi translated">curl-location-request POST ' API _ URL ' \<br/>-header ' x-API-KEY:API _ KEY ' \<br/>-header ' Content-Type:application/JSON ' \<br/>-data-raw ' { " query ":" mutation { createMyModelType(input:{ title:\ " JSON body \ " }){ title } } " } '</p></blockquote><h1 id="d24a" class="mz lr it bd ls na nb nc lv nd ne nf ly jz ng ka mb kc nh kd me kf ni kg mh nj bi translated">关闭</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nl nm di nn bf no"><div class="gh gi pi"><img src="../Images/f182c759eb4974c655fac8ff33266c15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zYYN5jRPc5szGMA8"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">照片由<a class="ae pe" href="https://unsplash.com/@krakenimages?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> krakenimages </a>在<a class="ae pe" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="ab4b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">恭喜你已经走到这一步了！这并不容易。我们刚刚使用AWS AppSync创建了一个GraphQL服务器，它读取/写入DynamoDB。最重要的是，我们能够使用Postman对GraphQL服务器进行API调用。</p><p id="ae50" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我希望您能够对它的工作原理有一个基本的了解，并将它们应用到您自己的应用程序中。我们只了解了GraphQL的冰山一角。还有很多我们在本简介中没有涉及的主题，比如模式设计、解析器、实时订阅、导入数据源、与lambda函数集成、身份验证、分页、与客户端应用程序连接等等。</p><p id="d005" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将把这些留到以后的文章中；).</p><p id="93d2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">编码快乐！</p><h1 id="0577" class="mz lr it bd ls na nb nc lv nd ne nf ly jz ng ka mb kc nh kd me kf ni kg mh nj bi translated">资源</h1><ul class=""><li id="33e7" class="mj mk it kw b kx ml la mm ld mn lh mo ll mp lp mq mr ms mt bi translated"><a class="ae pe" href="https://aws.amazon.com/appsync/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/appsync/</a></li><li id="0b2a" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp mq mr ms mt bi translated"><a class="ae pe" href="https://aws.amazon.com/appsync/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/appsync/</a></li><li id="a7c0" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp mq mr ms mt bi translated"><a class="ae pe" href="https://graphql.org/" rel="noopener ugc nofollow" target="_blank">https://graphql.org/</a></li><li id="6a72" class="mj mk it kw b kx mu la mv ld mw lh mx ll my lp mq mr ms mt bi translated"><a class="ae pe" href="https://postman.com/" rel="noopener ugc nofollow" target="_blank">https://postman.com/</a></li></ul></div></div>    
</body>
</html>