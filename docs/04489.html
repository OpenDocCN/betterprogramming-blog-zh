<html>
<head>
<title>Introducing mdjs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">mdj简介</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/introducing-mdjs-6bedba3d7c6f?source=collection_archive---------1-----------------------#2020-04-16">https://betterprogramming.pub/introducing-mdjs-6bedba3d7c6f?source=collection_archive---------1-----------------------#2020-04-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dba9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Markdown和JavaScript编写交互式演示</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/92bcd742227f584400ef41e5380b7eb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2N2y5rrOJsYuYtwsE-D0vg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com/s/photos/programming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kv" href="https://unsplash.com/@taskinhoo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Taskin Ashiq </a>拍摄的照片</p></figure><p id="fedc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有共享的代码都应该有书面的文档来显示它的用途和背后的想法。用户至少应该能够从高层次上理解他们在使用什么，他们使用它的目的是什么，以及为什么。</p><p id="c129" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在网络上，我们有很多很多不同的方式来写文档。然而，他们几乎都有一个共同点，那就是他们依赖于<a class="ae kv" href="https://en.wikipedia.org/wiki/Markdown" rel="noopener ugc nofollow" target="_blank">降价</a>或它的某种变体。</p><p id="8b35" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这并不奇怪，因为Markdown几乎在任何地方都受支持(VS Code、Atom、GitHub、GitLab、Dev.to、npm等等。)</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="97df" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">不同工具的降价使用</h1><h2 id="9c25" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">对于不在浏览器中运行的工具</h2><p id="2518" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">在这种情况下，你将主要分享人们将需要在他们自己的项目中运行的代码片段，在这种情况下，传统的静态站点生成器，如<a class="ae kv" href="https://docusaurus.io/" rel="noopener ugc nofollow" target="_blank"> Docusaurus </a>、<a class="ae kv" href="https://vuepress.vuejs.org/" rel="noopener ugc nofollow" target="_blank"> VuePress </a>、<a class="ae kv" href="https://www.gatsbyjs.org/" rel="noopener ugc nofollow" target="_blank"> Gatsby </a>等，工作得很好。它们都完全支持Markdown，并允许您轻松创建带有代码片段/突出显示的漂亮文档页面，等等。</p><p id="0659" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">坦率地说，如果这是你的用例，只要你对这个生态系统/框架感到满意，你需要的几乎所有东西都应该可以用这些工具来实现。</p><h2 id="4aad" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">对于在浏览器中运行的(可视)组件</h2><p id="b1f7" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">在这种情况下，用户可能希望有一个现场演示来查看组件的所有不同选项。因此，纯粹的降价通常是不够的，因为我们现在希望实际执行代码，并以某种方式将工作组件插入到文档中。这需要对每个框架进行专门的处理。</p><h2 id="07d8" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">某视频剪辑软件</h2><p id="6d7d" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">例如，对于Vue，您可以使用VuePress，它会自动注册某个文件夹中的所有Vue组件。然后你可以使用普通的HTML标签，因为Markdown支持HTML。</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="769b" class="mr ma iq nj b gy nn no l np nq">.<br/>└─ .vuepress<br/>  └─ components<br/>      ├─ demo-1.vue</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><ul class=""><li id="69e6" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">支持Vue组件并对它们有“神奇的”导入</li><li id="4c37" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">不支持通用JavaScript或向组件传递属性</li></ul><h2 id="d02b" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">反应</h2><p id="c3ae" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">对于React，您可以使用<a class="ae kv" href="https://mdxjs.com/" rel="noopener ugc nofollow" target="_blank"> MDX </a>，它通过JSX支持扩展了Markdown。MDX可通过多种工具获得，如<a class="ae kv" href="https://www.gatsbyjs.org/" rel="noopener ugc nofollow" target="_blank"> Gatsby </a>、<a class="ae kv" href="https://www.docz.site/" rel="noopener ugc nofollow" target="_blank"> Docz </a>、<a class="ae kv" href="https://storybook.js.org/" rel="noopener ugc nofollow" target="_blank"> Storybook </a>等。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><ul class=""><li id="56bd" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">支持导入/导出JavaScript</li><li id="c2d8" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">通过JSX传递一切</li><li id="e568" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">在GitHub上看起来不太好；需要编辑器中的特殊工具来突出显示</li></ul><h2 id="b42b" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">限制</h2><p id="6c88" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">所有这些专用工具的共同点是它们需要特定的构建工具设置才能工作。对于web组件，实际上不需要这些。Markdown已经允许HTML。唯一缺失的部分是如何通过JavaScript加载web组件。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8f23" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">JavaScript Markdown简介(mdjs)</h1><p id="aa7e" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">主要目标是:</p><ul class=""><li id="5146" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">最小化复杂性</li><li id="c2c5" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">遵循渐进增强</li><li id="9bcf" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">坚持使用有效的降价语法</li><li id="4102" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">在编辑器中突出显示代码，无需其他工具</li><li id="cafe" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">在GitHub/git lab/任何源代码管理工具上都好看</li></ul><p id="7869" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个基本想法似乎太简单了，难以置信。我们用额外的元数据<code class="fe oh oi oj nj b">js script</code>来增强代码栅栏块。</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="89c3" class="mr ma iq nj b gy nn no l np nq">```js script<br/>import './my-component.js';<br/>```<br/># This is my component<br/>&lt;my-component&gt;&lt;/my-component&gt;</span></pre><p id="ba46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样！</p><p id="34a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好了，说够了，你可以在这里看到现场:<a class="ae kv" href="https://webcomponents.dev/edit/aPQdZ4FtAiqJ7YXnRe2s?pm=1&amp;sv=1" rel="noopener ugc nofollow" target="_blank">链接到可编辑的演示</a></p><h2 id="cb72" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">它是如何工作的</h2><p id="3dc7" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">mdjs挂钩到<a class="ae kv" href="https://remark.js.org/" rel="noopener ugc nofollow" target="_blank">注释</a>并提取所有标记的<code class="fe oh oi oj nj b">js</code>块。最终HTML和JavaScript是分开的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="23e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，它可以被任何工具组合/处理，以创建实际的文档页面。</p><p id="fc84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该过程如下所示:</p><ol class=""><li id="ad3a" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ok nz oa ob bi translated">提取<code class="fe oh oi oj nj b">js script</code>并将其从Markdown中分离出来。</li><li id="3769" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ok nz oa ob bi translated">渲染降价。</li><li id="dce6" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ok nz oa ob bi translated">提供HTML和JavaScript。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/93e2ccc6d0c83555a23c52f7cefae95d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MGQBGjulXLxvj1El.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">mdjs脚本转换</p></figure><p id="173a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有一个链接，链接到作为幻灯片的动画。</p><p id="baa2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这已经足够强大，可以直接包含JavaScript并呈现带有属性的web组件。</p><h2 id="9038" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">使用演示格式增强mdjs</h2><p id="04e5" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">既然我们可以在Markdown中执行JavaScript，这就为更高级的特性打开了大门。</p><p id="3783" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的第一步是创建另一个增强的JavaScript代码块，即<code class="fe oh oi oj nj b">js story</code>。从这个代码块中，您可以导出一个按需执行的函数:</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="7904" class="mr ma iq nj b gy nn no l np nq">```js script<br/>import './my-component.js';<br/>```<br/># This is my component<br/>```js preview-story<br/>export const demo = () =&gt; `&lt;my-component header="from attribute"&gt;&lt;/my-component&gt;`<br/>```</span></pre><p id="91d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想添加一个边框和一个按钮来显示/隐藏实际的源代码，你可以使用<code class="fe oh oi oj nj b">js preview-story</code>。</p><p id="61b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你得到的看起来像这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="4105" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在引擎盖下，这增加了额外的处理步骤:</p><ol class=""><li id="92c5" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ok nz oa ob bi translated">提取<code class="fe oh oi oj nj b">js script</code>并与降价分离。</li><li id="8884" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ok nz oa ob bi translated">抽出<code class="fe oh oi oj nj b">js story</code>和<code class="fe oh oi oj nj b">js preview-story</code>并与降价分离。</li><li id="c71e" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ok nz oa ob bi translated">在它的位置放一个占位符<code class="fe oh oi oj nj b">&lt;mdjs-story mdjs-story-name="demo"&gt;&lt;/mdjs-story&gt;</code>或<code class="fe oh oi oj nj b">mdjs-preview</code>。</li><li id="283f" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ok nz oa ob bi translated">渲染降价。</li><li id="013b" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ok nz oa ob bi translated">提供HTML、JavaScript和故事。</li></ol><p id="782c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我们完全从Markdown创建完整的JavaScrip和演示页面所需的所有信息。</p><p id="2701" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认情况下，mdjs通过支持一个实际的模板系统——即<a class="ae kv" href="https://lit-html.polymer-project.org/" rel="noopener ugc nofollow" target="_blank"> lit-html </a>,更进一步。</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="465b" class="mr ma iq nj b gy nn no l np nq">```js script<br/>import './demo-wc-card.js';<br/>import { html } from 'lit-html';<br/>```<br/># This is my component<br/>```js story<br/>export const demo = () =&gt; html`<br/>  &lt;demo-wc-card header="HEADER"&gt;&lt;/demo-wc-card&gt;<br/>`;<br/>```</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/d8d59c8bdecbc55948e20966cd234b7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vaURXREV0MQief6X.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">mdjs故事转换</p></figure><p id="d1f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有一个链接，链接到作为幻灯片的动画。</p><p id="97ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是另一个模仿完整文档页面的游乐场:<a class="ae kv" href="https://webcomponents.dev/edit/PqrQkg3abvFJ7vxyZuqa?pm=1&amp;sv=1" rel="noopener ugc nofollow" target="_blank">链接到可编辑演示</a>。</p><h2 id="ced1" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">mdjs默认文档页面</h2><p id="2a11" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">一旦所有这些元信息都可用，就可以呈现特定的文档页面。</p><p id="43c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它基本上归结为生成这段代码，这段代码将演示功能分配给实际的web组件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="b252" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有这些都发生在你的引擎盖下。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="864a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">哪里可以用mdjs？</h1><h2 id="f2ff" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">您可以通过es-dev-server在本地使用它</h2><p id="5e79" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">在这里，我将向您展示如何为您所有的本地Markdown文件创建一个类似GitHub的Markdown视图，包括现场演示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/02f4db649bef1de2f96e4f173abdec67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QFLhpx1SKykmv9vq.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">es-dev-服务器截图</p></figure><ul class=""><li id="8ee7" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">通过运行<code class="fe oh oi oj nj b">npm i -D es-dev-server</code>将<code class="fe oh oi oj nj b">es-dev-server</code>安装为依赖项。</li><li id="1d5d" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">将以下脚本添加到您的<code class="fe oh oi oj nj b">package.json</code>中:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><ul class=""><li id="6f8e" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">在你的回购根中创建一个<code class="fe oh oi oj nj b">es-dev-server.config.js</code>。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="3e1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">执行完<code class="fe oh oi oj nj b">npm run start</code>之后，你就可以愉快地通过<a class="ae kv" href="http://localhost:8000/README.md" rel="noopener ugc nofollow" target="_blank">http://localhost:8000/readme . MD</a>浏览你的live文档了。</p><p id="a578" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在<a class="ae kv" href="https://github.com/daKmoR/demo-wc-card" rel="noopener ugc nofollow" target="_blank">演示中看到一个设置示例——WC卡回购</a>。</p><h2 id="29bf" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">你可以通过故事书来使用它</h2><p id="a9ab" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">如果你想在单个组件上工作或者得到所有演示的列表，你可以使用Storybook。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/1e7a3a21a45a199a4a9e0483fb97a1b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ffYFlSEIUE11QNTz.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">故事书截图</p></figure><ul class=""><li id="1c86" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">安装依赖关系<code class="fe oh oi oj nj b">npm i -D @open-wc/demoing-storybook</code>。</li><li id="d599" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">添加到您的<code class="fe oh oi oj nj b">package.json</code>:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><ul class=""><li id="e2ea" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">调整<code class="fe oh oi oj nj b">.storybook/main.js</code>载入降价文件:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><ul class=""><li id="3631" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">通过以下方式为Storybook中的每个降价文件添加一个名称:</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="b701" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就这样，你可以走了。不需要对任何文件进行额外的更改；一个插件将会通过转换你的降价文件来支持Storybook的MDX格式。</p><p id="1c6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更多详细信息，请见<a class="ae kv" href="https://open-wc.org/demoing-storybook/" rel="noopener ugc nofollow" target="_blank">https://open-wc.org/demoing-storybook/</a>。</p><h2 id="f0f0" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">在GitHub上展示</h2><p id="d439" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">由于GitHub支持现成的Markdown，我们可以通过使用mdjs做得更好。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/eeeca8f7c7686dcc4a488a996d8ede16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NiX55Sg8QxXQHWBv.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">github截图</p></figure><p id="b8f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于GitHub不直接支持它，你将需要一个名为<a class="ae kv" href="https://chrome.google.com/webstore/detail/mdjs-viewer/ifkkmomkjknligelmlcnakclabgohafe" rel="noopener ugc nofollow" target="_blank"> mdjs-viewer </a>的Chrome扩展。</p><ul class=""><li id="8daa" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">您想在不打开不同页面的情况下观看演示吗？<br/> mdjs-viewer！</li><li id="e145" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">您想展示您遇到的问题的真实例子吗？<br/>mdjs-查看器！</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq ns l"/></div></figure><p id="4600" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">几乎看起来像黑魔法，是吧？你所做的只是安装了一个Chrome扩展，GitHub突然就有了超能力。</p><p id="02a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你所需要的只是一些带有正确代码栏的Markdown文件，并让你的代码在<a class="ae kv" href="https://unpkg.com" rel="noopener ugc nofollow" target="_blank">unpkg.com</a>上运行。</p><p id="a74d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">它实际上是如何工作的？</strong></p><p id="e08f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">扩展检测你在哪个GitHub页面。如果它发现一个Markdown文件或mdjs代码的问题，那么它会添加一个Show Demo按钮来激活它。如果您单击该按钮，它将开始收集所有需要的信息:</p><ul class=""><li id="4fda" class="nt nu iq ky b kz la lc ld lf nv lj nw ln nx lr ny nz oa ob bi translated">找到最近的<code class="fe oh oi oj nj b">package.json</code>。</li><li id="7a6a" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">阅读实际的降价文件/问题内容。</li><li id="d8e7" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">用<code class="fe oh oi oj nj b">unpkg.com</code>导入替换所有裸导入。</li><li id="c6ef" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">用<code class="fe oh oi oj nj b">unpkg.com</code>和它的package.json +相对路径替换所有相对导入。</li><li id="e9a9" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">创建安全iframe。</li><li id="639e" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">将iframe absolute定位为覆盖。</li><li id="2d7e" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">将JavaScript和HTML代码放在iframe中。</li><li id="ab11" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">该按钮变成显示/隐藏iframe的开关。</li></ul><p id="93be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有些任务更复杂，需要一些额外的工作来确保它的安全，但本质上就是这样。</p><p id="abc8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有了它，你就可以把带有实例的文档放到GitHub上。甚至演示显示代码中的实际错误的问题也是可能的。</p><p id="c6f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这听起来确实是一个改进文档和发行复制的好工具，不是吗？尤其是自述文件和问题内容即使没有扩展也仍然有用。</p><p id="3293" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更多详细信息，请参见<a class="ae kv" href="https://github.com/open-wc/mdjs-viewer" rel="noopener ugc nofollow" target="_blank">https://github.com/open-wc/mdjs-viewer</a>。</p><h2 id="ba80" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">受webcomponents.dev支持</h2><p id="5f46" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">它完全由这个令人敬畏的在线编辑器支持。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/a440e77d3d581f130681ab8bd91145ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iwvBGF50n_qg10va.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">webcomponent.dev截图</p></figure><p id="c2ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在浏览器中直接编辑您的文档、演示和代码。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/eea18a6b4a25c8e4ed36ab83fdaaffd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oq_L0iQsKg5m7sxN.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">webcomponent.dev截图</p></figure><p id="ae8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以直接从文档开始，就像上面的截图一样。更好的是，你可以在每个降价文件或<code class="fe oh oi oj nj b">README.md</code>中使用它。</p><p id="a46b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">试一试，记录下你的组件的辉煌。</p><p id="5fe9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有的演示链接都来自<a class="ae kv" href="https://webcomponents.dev/edit/collection/lsZ2eaviDNwy6pIBEDeL/tS7JYfymt6yeshma8Gn1?pm=1&amp;sv=1" rel="noopener ugc nofollow" target="_blank"> webcomponents.dev </a>。一定要去<a class="ae kv" href="https://webcomponents.dev/" rel="noopener ugc nofollow" target="_blank">看看</a>。</p><h2 id="ad34" class="mr ma iq bd mb ms mt dn mf mu mv dp mj lf mw mx ml lj my mz mn ln na nb mp nc bi translated">如何添加对mdj的支持</h2><p id="912e" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">请在<a class="ae kv" href="https://open-wc.org/mdjs/" rel="noopener ugc nofollow" target="_blank">https://open-wc.org/mdjs/</a>查看官方文档页面。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4086" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">摘要</h1><p id="1768" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">现在你知道了——mdjs是一种可以用多种不同方式显示的格式。这是您在任何地方都能找到好看文档的唯一来源。无论是本地出版的故事书，还是GitHub或npm上的故事书，看起来都很不错，即使没有对它的直接支持，但在可能的情况下，它会通过渐进的增强变得与演示互动。</p><p id="daab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在出去为你的组件写好文档吧！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3562" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">将来的</h1><ul class=""><li id="d7ee" class="nt nu iq ky b kz nd lc ne lf ot lj ou ln ov lr ny nz oa ob bi translated">有一个单独的GitHub repo(也可能是group)</li><li id="4aed" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">有专门的主页</li><li id="cf87" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">默认的故事预览框应该看起来更好一点</li><li id="2f16" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">支持多个渲染器—在<a class="ae kv" href="https://github.com/open-wc/open-wc/issues/1498" rel="noopener ugc nofollow" target="_blank">期</a>中讨论</li><li id="107c" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">突出显示代码片段</li><li id="8c04" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">在故事中使用更多助手</li><li id="56ea" class="nt nu iq ky b kz oc lc od lf oe lj of ln og lr ny nz oa ob bi translated">…(请随意在相应的项目中打开问题)</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="fc8a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">感谢</h1><p id="b984" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">感谢<a class="ae kv" href="https://twitter.com/passle_" rel="noopener ugc nofollow" target="_blank"> Pascal </a>的反馈，并帮助将我的涂鸦变成一个可追随的故事。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="7813" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">想在Markdown中的介质上书写吗？试试<a class="ae kv" href="https://markdium.dev/" rel="noopener ugc nofollow" target="_blank">马克迪</a>！</p></div></div>    
</body>
</html>