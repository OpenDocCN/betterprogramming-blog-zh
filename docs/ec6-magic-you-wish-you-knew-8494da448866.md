# 3 个简洁的 Ec6 技巧，加快编码速度

> 原文：<https://betterprogramming.pub/ec6-magic-you-wish-you-knew-8494da448866>

## 你希望知道的魔法

![](img/12f1526b8b7cba926cef5ae399f20658.png)

曾经从 API 中得到错误的数据吗？我有。

假设我们使用一个旧的预先存在的 API，它返回的用户是这个旧银行的客户，但当时的开发人员并不知道得更好，所以他们非常奇怪地将每个用户创建为一个数组，其中包含我们所知道的 6 个不同的元素`name, surName, country, state, joined, age`。一个用户看起来像这样:

```
['John, Doe, USA, Florida, 1995, 50']
```

如果我们需要遍历所有用户，并能够过滤出在佛罗里达注册的所有用户，然后返回一个在佛罗里达未注册的用户的新数组，并使用正确的命名约定将每个数组转换为它自己的对象，然后将它们插入到数据库中，会怎么样呢？

嗯，这将是一个有点长的过程与 ec5。

但是 ec6 数组析构非常简单。

让我们开始吧。

1.  我们需要访问用户数组中的所有元素。
2.  将每个元素转换成一个属性，该属性包含具有正确命名约定的元素。
3.  我们需要能够调用返回新用户对象的函数。

# 1.

所以我们能做的就是通过使用`.split()`把每个元素变成它自己的数组

然后使用数组析构来访问数组中的每个元素并为它们命名，所以:

为了能够访问数组中的所有元素，我们使用了数组析构:

# 2.

现在，如果我们控制台记录所有元素，我们将只获得值，所以:

现在，真正酷的事情是，我们可以返回一个只包含我们的元素的对象，它将返回一个包含这些元素的属性的对象。

所以我们唯一需要做的就是:

嘣，我们得到了一个用户对象，它包含了我们的命名和所有元素。

# 3.

这有点像伪代码，所以让我们把它分成两个函数，一个函数将返回我们的用户对象，另一个函数将充当一个函数，在这个函数中，我们遍历来自 API 的所有用户数组，并调用将数组作为对象返回的函数，并使用正确的命名约定作为属性。

所以析构是非常有用的。

现在，假设我们想要过滤掉居住在佛罗里达州的用户，那么我们可以使用像`filter`这样的`higher order function`，让我们开始吧。

它的作用是，返回满足回调函数中条件的数组元素，在我们的例子中，条件是，如果状态不等于`Florida.`

如果我们只想检查用户是否住在佛罗里达，我们可以使用`.includes()`函数，如果佛罗里达出现在我们的字符串中，它将返回 true。为此，我们可以调用我们的用户数组并直接访问字符串，就像这样:

可能你已经知道了，但是我想我可以为我们程序员演示一下 ec6 可以加速什么！