<html>
<head>
<title>How to Make a Dribbble-like Side Menu in iOS Using Swift 5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Swift 5在iOS中制作类似Dribbble的侧菜单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-make-a-nice-side-menu-for-your-ios-app-using-swift-5-8868adafbee0?source=collection_archive---------2-----------------------#2022-02-10">https://betterprogramming.pub/how-to-make-a-nice-side-menu-for-your-ios-app-using-swift-5-8868adafbee0?source=collection_archive---------2-----------------------#2022-02-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3c2e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为你的应用程序设计漂亮的侧菜单界面！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/c34b37f0ea84ffcdbf95d054a81a7354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*0oXCfh0vuTFPq2NpC7cJNA.gif"/></div></figure><p id="1ea1" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在2010年代，配菜曾经是一件大事。尤其是那些曾经从屏幕的右边滑出来的。那些有多酷？</p><p id="94f1" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">但是时代变了。设计在发展。对于我们的现代图形来说，滑动菜单并不总是看起来很酷，对吗？我的意思是，想象一个设计精美的应用程序，只有一个常规的滑动菜单。呃。过时了。</p><p id="f395" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">坏消息是，有时我们仍然需要一个菜单来为用户导航。那么，我们能不能让它适合我们的应用程序，而不要让它看起来像是十年前发布的？我觉得可以！如果你喜欢我的侧边菜单的外观，请继续阅读，用你的应用程序实现我的代码，看看它看起来怎么样，并让我知道你的反馈！</p><p id="8895" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">如果你想浏览视频教程，请打开下面的链接:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lm ln l"/></div></figure><h1 id="4213" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz lz ka ma kc mb kd mc kf md kg me mf bi translated">步骤1:创建菜单</h1><p id="fe7c" class="pw-post-body-paragraph kq kr it ks b kt mg ju kv kw mh jx ky kz mi lb lc ld mj lf lg lh mk lj lk ll im bi translated">首先，我们需要设置一系列我们希望包含在侧边菜单中的选项。每个选项都应该有一个用户可以看到的标题和一个相应的选择执行顺序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml ln l"/></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">该列表将是侧菜单上的可用选项。</p></figure><p id="613a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这是它们将在教程结束时出现的位置:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mq"><img src="../Images/e3f5cfce718fe119c6d7b63ad4b219d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0i8Nfsvivwo35H0vtMxcfg.png"/></div></div></figure><p id="f729" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">将视图的背景颜色设置为您想要的颜色，并在其中添加一个表格视图。这是我们的菜单选项将出现的地方，因此，你应该将它对齐到屏幕的左侧，并使它的宽度超过屏幕大小的一半，以确保当主视图移动到右侧时，它是完全可见的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mv"><img src="../Images/56c65a15b08730140e29ccb02f4a76a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ICyyHcX7s3ZHsTuGjPdsHQ.gif"/></div></div></figure><p id="62d7" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><strong class="ks iu">在表格视图中添加表格视图单元格</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mw"><img src="../Images/a1ef21896ae8d226e09690fa37481115.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DuH_fqu74T10y0kK_01KuQ.gif"/></div></div></figure><p id="9cdb" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">将表格视图连接到视图控制器，并将其命名为<code class="fe mx my mz na b">menuTableView</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mv"><img src="../Images/cbdc04ee9cdfcff2d4b3487dd170927d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nL80XhLuZsTTna7BTdtxTg.gif"/></div></div></figure><p id="f9b8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">用类型<code class="fe mx my mz na b">UITableViewCell</code>创建一个名为<code class="fe mx my mz na b">tableViewCell</code>的类，并为你的菜单添加任何你可能需要的元素。我将只使用一个标签来显示选项的名称。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml ln l"/></div></figure><p id="765b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">将该类分配给表格视图单元格<em class="nb">。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mv"><img src="../Images/f213f5f58318f2b48518a5cc4ef88185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ZxZif3tebx7REAnzAUaCHw.gif"/></div></div></figure><p id="37db" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">就在表格视图单元格的标识符下面，有一个选择选项。它会自动设置为“默认”。这意味着您的单元格的背景将在选择时变成白色。我决定不使用它，稍后设置我自己的自定义选择动画，因此，我将选择从“默认”改为“无”以避免不必要的自动动画。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/ca2ffb0d631c05a1cd28712f57ac8d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*uAufMvb980M2PGmHi9lAKQ.png"/></div><p class="mm mn gj gh gi mo mp bd b be z dk translated">选择“无”作为您的选择动画，并设置自定义动画。</p></figure><p id="c5a8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">接下来，在您的视图控制器中，在<code class="fe mx my mz na b">viewDidLoad()</code>函数中添加以下代码:</p><pre class="kj kk kl km gt nd na ne nf aw ng bi"><span id="b14b" class="nh lp it na b gy ni nj l nk nl">menuTableView.delegate = <strong class="na iu">self<br/></strong>menuTableView.dataSource = <strong class="na iu">self<br/></strong>menuTableView.backgroundColor = .clear</span></pre><p id="0ff7" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">现在，我们需要做的就是设置表视图，这可以通过使用以下代码向视图控制器的类添加扩展来完成:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml ln l"/></div></figure><p id="81e7" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">构建项目并确保您的结果类似于以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nm"><img src="../Images/e81168115509cfa6330d011572571900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6SolTQgnHo3q2HVyL_9DNg.png"/></div></div></figure><h1 id="7ffc" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz lz ka ma kc mb kd mc kf md kg me mf bi translated">步骤2:设置主视图</h1><p id="b4ca" class="pw-post-body-paragraph kq kr it ks b kt mg ju kv kw mh jx ky kz mi lb lc ld mj lf lg lh mk lj lk ll im bi translated">现在我们已经创建了侧菜单，是时候创建我们的主视图了。我们需要做的第一件事是向故事板添加一个视图，并使它适合整个屏幕。确保还将其顶部、底部、前导和尾随约束设置为零。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi mv"><img src="../Images/08bc3bd0d5cb099bfe90042d6414e207.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pnupap3XgAUvNvR6kqRJoQ.gif"/></div></div></figure><p id="7166" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">根据应用的用途定制您的视图。我的视图将包含一个植物图像和阿尔法设置为0，15和虚拟图像和标签作为演示背景的大小的图像视图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nn"><img src="../Images/2dfc0dd84b3250e10638911f1d8d7817.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C_rHdlvLbGLWl9Kh03MMZw.png"/></div></div></figure><p id="1f58" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">将容器视图连接到视图控制器，并将其命名为<code class="fe mx my mz na b">containerView</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi no"><img src="../Images/6ee871699a32ede14eb971fe889a5605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qxN345HLN-EYhv5nzdQptQ.gif"/></div></div></figure><p id="7fb5" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">下一步是添加手势识别器，我们将使用它来识别用户何时试图显示或隐藏侧菜单。打开库，在容器视图中添加一个点击手势识别器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi np"><img src="../Images/2967927d0e73077f39c1f3c6bdfea44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ho3D6wmECqxorDQucnmoEw.gif"/></div></div></figure><p id="d001" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">使用同样的方法，给你的容器视图添加一个滑动手势识别器，只是这次你要把它连接到ViewController并命名为<code class="fe mx my mz na b">swipeGesture</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi np"><img src="../Images/8410ce8abb666260a8cdf139ef63f352.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ltCsm6E42xcC8zbGt2-TcQ.gif"/></div></div></figure><p id="854a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">一旦你的视图都设置好了，你就为动画代码做好了准备！</p><h1 id="f7ba" class="lo lp it bd lq lr ls lt lu lv lw lx ly jz lz ka ma kc mb kd mc kf md kg me mf bi translated">步骤3:动画代码</h1><p id="3b25" class="pw-post-body-paragraph kq kr it ks b kt mg ju kv kw mh jx ky kz mi lb lc ld mj lf lg lh mk lj lk ll im bi translated">我们要做的第一件事是设置一个布尔值来决定我们的菜单何时显示。现在，我们将它设置为false，直到用户滑动以显示侧菜单:</p><pre class="kj kk kl km gt nd na ne nf aw ng bi"><span id="dec0" class="nh lp it na b gy ni nj l nk nl">var menu = <strong class="na iu">false</strong></span></pre><p id="e299" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我们还将为屏幕边界设置一个快捷方式，以使我们的代码更加简洁:</p><pre class="kj kk kl km gt nd na ne nf aw ng bi"><span id="da62" class="nh lp it na b gy ni nj l nk nl">let screen = UIScreen.main.bounds</span></pre><p id="63a4" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了记住视图的初始位置，我们还需要设置一个属性，这样我们就可以很容易地回到它:</p><pre class="kj kk kl km gt nd na ne nf aw ng bi"><span id="dc11" class="nh lp it na b gy ni nj l nk nl">var home = CGAffineTransform()</span></pre><p id="6a3c" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在<code class="fe mx my mz na b">viewDidLoad()</code>中，home将对应于容器视图的当前位置:</p><pre class="kj kk kl km gt nd na ne nf aw ng bi"><span id="757e" class="nh lp it na b gy ni nj l nk nl">home = self.containerView.transform</span></pre><p id="7ec3" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我们现在已经为动画做好了准备。我创建了两个不同的函数，一个叫做<code class="fe mx my mz na b">showMenu()</code>，另一个叫做<code class="fe mx my mz na b">hideMenu()</code>。我将使用<code class="fe mx my mz na b">CGAffineTransform()</code>来缩放视图，并在一个持续0.7秒的动画中将视图的x位置移动0.8，我将使用<code class="fe mx my mz na b">home</code>属性将视图快速移回其初始位置:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml ln l"/></div></figure><p id="d36a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">将滑动手势识别器连接到视图控制器以创建动作。这将是触发菜单显示的手势。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nq"><img src="../Images/4f49e1e6fb33d3b3c70726349e5bd3a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VVEPANRrWMBTaRx2-3WUpA.gif"/></div></div></figure><p id="1903" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">其次，将轻击手势识别器连接到视图控制器，以创建关闭侧边菜单的动作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="gh gi nq"><img src="../Images/3a543fc3d072e5d568d78c2785380aff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AsL-IY180S-1Mrdly_5jgw.gif"/></div></div></figure><p id="6b59" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">快好了！</p><p id="069a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我们的最后一步:当<code class="fe mx my mz na b">menu</code>属性设置为<code class="fe mx my mz na b">false</code>时，每当用户向右滑动时，我们的滑动手势识别器动作应该被触发，这意味着菜单还没有显示。当这种情况发生时，我们的<code class="fe mx my mz na b">showMenu()</code>函数将执行，我们的<code class="fe mx my mz na b">menu</code>属性将被设置为<em class="nb"> true </em>。</p><p id="5a11" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">相反，当我们的用户在菜单显示时点击视图，我们的点击手势识别器将触发一个动作来执行我们的<code class="fe mx my mz na b">hideMenu()</code>功能，并将我们的<code class="fe mx my mz na b">menu</code>属性设置回<em class="nb"> false </em>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ml ln l"/></div></figure><p id="0a6b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我们都完成了！现在构建您的项目并进行测试:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/c34b37f0ea84ffcdbf95d054a81a7354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*0oXCfh0vuTFPq2NpC7cJNA.gif"/></div></figure><p id="7dff" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">你可以在<a class="ae nr" href="https://github.com/Margels/swift-side-menu" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上下载完整代码！</p><p id="9e81" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">你喜欢这个教程吗？它和你的项目合作得好吗？感谢阅读。</p><pre class="kj kk kl km gt nd na ne nf aw ng bi"><span id="986b" class="nh lp it na b gy ni nj l nk nl"><strong class="na iu">Want to Connect?</strong></span><span id="d5dd" class="nh lp it na b gy ns nj l nk nl">Follow me on…<br/>❤️ <a class="ae nr" href="https://www.youtube.com/channel/UC5hqYiHxie458KSO1PAnA8Q" rel="noopener ugc nofollow" target="_blank">YouTube</a><br/>💖 <a class="ae nr" href="https://dribbble.com/margelss" rel="noopener ugc nofollow" target="_blank">Dribbble</a><br/>💜 <a class="ae nr" href="https://www.instagram.com/itsmargels/" rel="noopener ugc nofollow" target="_blank">Instagram</a><br/>💙 <a class="ae nr" href="https://ko-fi.com/margelss" rel="noopener ugc nofollow" target="_blank">Ko-Fi</a><br/>🖤 <a class="ae nr" href="https://github.com/Margels" rel="noopener ugc nofollow" target="_blank">GitHub</a></span></pre></div></div>    
</body>
</html>