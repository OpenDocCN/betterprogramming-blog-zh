<html>
<head>
<title>What Are the Different Purposes of Deep Links?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深度链接的不同目的是什么？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/what-are-the-different-purposes-of-deep-links-253ee1118b06?source=collection_archive---------12-----------------------#2020-07-08">https://betterprogramming.pub/what-are-the-different-purposes-of-deep-links-253ee1118b06?source=collection_archive---------12-----------------------#2020-07-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3a63" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">找出深层链接</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/61a393f717c1685f581a48076c22cd22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HDhaS8ed285Bb9L80C5U0g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">汉斯-彼得·高斯特在<a class="ae ky" href="https://unsplash.com/s/photos/confusion?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="4ee2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是一个移动开发者，你应该熟悉深层链接。它们为您的应用程序带来了导航机制。有了它们，您可以:</p><ul class=""><li id="1460" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">将你的用户从任何地方重定向到你的移动应用。</li><li id="0d60" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在您的移动应用程序中导航至特定页面。</li></ul><p id="4ccd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么为什么人们经常对它们感到困惑呢？为什么在交流深层链接时准确是如此重要？</p><p id="1df7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要回答第一个问题，我需要解释什么是深层链接以及它们是如何表现的。因为有不同类型的深层链接，你会想要更深入地挖掘以清除混乱。</p><p id="bd6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为这就引出了第二点:深度链接可以变成对付获取和留存的有力武器。他们把你的用户吸引到你的应用上。</p><p id="76c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，你将与非技术人员打交道——大部分来自你的产品/营销团队。你必须注意如何传达你的需求。否则，你最终会交付一些意想不到的东西。</p><p id="caec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们解开这些链接是什么，以及如何利用它们。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="a918" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">深度链接有哪些不同的类型？</h1><p id="99bb" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">您可以看到深层链接作为带标记的URL打开您的移动应用程序，而不是浏览器。我们可以把它们分为三类。</p><h2 id="155b" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">1.深层链接</h2><p id="3b5e" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">您可以通过它们的语法来识别它们:它们从您选择的定制方案开始。让我们与一个常规的URL进行比较:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="b723" class="nn mr it oa b gy oe of l og oh">https://www.myawesomewebsite.com/amazingpath  // Regular URL<br/>mycustomscheme://myawesomewebsite/amazingpath // Deep link URL</span></pre><p id="aeb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">把深层链接看作是为你的应用程序定制的URL。</p><h2 id="7644" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">2.通用链接</h2><p id="f23c" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">苹果首先为iOS 9推出了<a class="ae ky" href="https://developer.apple.com/ios/universal-links/" rel="noopener ugc nofollow" target="_blank">通用链接</a>。当在你的浏览器上导航时，它们在你的移动电话上提供无缝导航。</p><p id="83e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本质上，它们是你拥有的常规URL——比如上面例子中的那个。想象一下，除了手机应用程序，你还有一个网络应用程序。在浏览web应用程序时，您可能希望将用户重定向到您的移动应用程序。</p><p id="2f06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与深层链接一样，您必须在移动应用程序中声明这个URL。此外，您的web应用程序必须证明它允许您的移动应用程序拦截其URL。否则，这将是一个重大的安全漏洞。想象一下，你声明谷歌是一个通用链接。每次你的用户在手机浏览器上打开谷歌，你的手机应用程序就会启动！</p><p id="ce28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">认证采用JSON文件的形式，您必须上传到web应用程序根目录下的<code class="fe oi oj ok oa b">.well-known</code>文件夹中。根据您正在开发的平台，该文件将具有不同的名称:</p><ul class=""><li id="4060" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe oi oj ok oa b">apple-app-site-association.json</code>为<a class="ae ky" href="https://developer.apple.com/library/archive/documentation/General/Conceptual/AppSearch/UniversalLinks.html" rel="noopener ugc nofollow" target="_blank"> iOS </a></li><li id="4cbd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><code class="fe oi oj ok oa b">assetlinks.json</code>为<a class="ae ky" href="https://developer.android.com/training/app-links/verify-site-associations" rel="noopener ugc nofollow" target="_blank">安卓</a></li></ul><h2 id="ba6b" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">3.应用链接</h2><p id="abdd" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">它们只不过是Android开发者用来称呼通用链接的术语。如果你想在Android开发者中使用这个术语，那很好。但是为了你的读者的理智，我建议避开这个名字，坚持使用通用链接。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7427" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">它们是如何工作的？</h1><p id="55f4" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们可以把如何接近它们分成两个阶段。</p><h2 id="8139" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">1.侦查</h2><p id="4049" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">检测阶段依赖于您的移动应用程序是否支持深度链接，或者通用链接。您必须声明您支持手机应用程序中的给定链接。</p><p id="2683" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您必须声明一个包含scheme(下面的红色部分)和host(绿色部分)的对。如果您希望您的移动应用程序拦截链接，两者必须匹配。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/a4d0b2cd2b9c18198d590ec2061efaf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BtM_9DIXkuccLs0RFlrxeA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="c681" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，当你的移动应用程序拦截一个链接时，它会根据它是深度链接还是通用链接而有不同的行为。我在下面举例说明了两种情况:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/3ef424bcd6e65eea68b4f3d60c6717d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ra9gwKxvJKdNzzl4W8jjw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="cbb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以观察深层链接有多简单。如果有匹配，他们要么打开你的手机应用程序，要么什么都不做。</p><p id="4121" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于通用链接来说，就比较棘手了。主要优势在于万一你的移动应用不支持URL时的后备。它将打开浏览器，因为链接仍然是一个常规的URL。</p><p id="cdd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您的移动应用程序支持该URL，系统将执行检查以确保您的证书有效。你的手机应用会拦截链接并自行打开，或者退回到浏览器。</p><p id="453a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，Android操作系统的行为有所不同。即使证书不是决定性的，系统也会提示一个消除歧义的对话框，让用户选择如何继续。因此，如果您没有在web应用程序中认证您的通用链接，您仍然可以打开您的移动应用程序。</p><h2 id="069a" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">2.从语法上分析</h2><p id="46dd" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">到目前为止，你的移动应用程序可以拦截所有与你支持的方案和主机匹配的URL。除此之外，你的应用程序将仅仅启动并登陆你的主页。您需要将用户重定向到移动应用程序中的特定页面。</p><p id="2910" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，您需要解析附加到您的URL的路径(上面的蓝色部分)。根据它，你的应用程序必须处理到你的页面的路由。这部分完全由开发者决定。</p><h2 id="7898" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">深度链接与通用链接处理</h2><p id="01f9" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">当您想要支持深度链接或通用链接时，您必须同时处理检测和解析步骤。但是考虑一下这个:</p><ul class=""><li id="4f62" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">从功能上来说，你看不出它们有什么区别。</li><li id="546f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">从技术上来说，检测部分也会差不多。然而，解析会因为它们的URL格式而有所不同，这给开发人员带来了额外的成本。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="a03a" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">添加深度/通用链接的成本是多少？</h1><p id="e572" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">检测部分不会花多少钱。开发人员需要在移动应用程序的清单中添加新支持的URL。该任务围绕着解析和路由到您的移动应用程序中想要的目的地。</p><p id="2b0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您正在为iOS开发，并且想要支持另一个通用链接，那么您需要更新您的认证JSON文件，并将其重新加载到您的web应用程序中。Android平台不需要这一步。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="1c7b" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">如何选择深度链接或通用链接</h1><p id="6eb9" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">尽管这些链接有一个共同的目标——将你的用户重定向到你的移动应用中——但它们有不同的目的。</p><p id="45c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在引入通用链接之前，深度链接是唯一可以用来填充这个角色的工具。现在两者是互补的。</p><p id="b71c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将希望支持围绕您的产品进行全球交流的通用链接。它们确保正确地重定向到您的手机或web应用程序。</p><p id="f884" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你会更喜欢深度链接，只针对你的移动应用程序。你可以想象以下场景:</p><ul class=""><li id="291f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">在推送通知有效负载中插入深层链接。</li><li id="dbfa" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在邮件活动中包含深层链接，以重新激活您的用户。</li><li id="cdb6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">让一个API给你发送一个深层链接，让你的移动应用知道在一个特定事件上导航到哪里。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d737" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="b107" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">记住这些原则，我希望你能更好地理解深层链接的概念以及链接背后的东西。</p><p id="e63c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所看到的，只要你理解它们的细微差别以及如何使用它们，它们并不复杂。但是请确保在与不同的相关团队交谈时采用适当的术语。</p></div></div>    
</body>
</html>