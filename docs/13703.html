<html>
<head>
<title>Create an End-to-End SwiftUI Application With Swift Playgrounds on IPad</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在IPad上使用Swift Playgrounds创建端到端SwiftUI应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swift-playgrounds-create-a-full-application-on-ipad-by-adding-a-server-side-back-end-c20c37a411ac?source=collection_archive---------5-----------------------#2022-09-18">https://betterprogramming.pub/swift-playgrounds-create-a-full-application-on-ipad-by-adding-a-server-side-back-end-c20c37a411ac?source=collection_archive---------5-----------------------#2022-09-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="314b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过添加服务器端后端</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/609edfa3935a6818094d27a1d7ab7dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-PYzMFF3CL86YDdaHc5S_g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@danielkorpai?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹尼尔·科尔派</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="c3c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于某种莫名其妙的原因，能够在iPad上编写iPad应用程序一直是我的一个目标。为什么？没人能说清楚。我认为不受MacBook束缚的想法。我可以拿着我的平板电脑在任何地方写一些代码。</p><p id="5cff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">去年12月，随着Swift Playgrounds 4的发布，这似乎可能成为现实。这一版本允许用户创建基本的应用程序，编译它们，查看控制台，并且在准备好的时候，甚至将它们提交到应用程序商店。仅此一项就是一大进步。然而，应用程序所需的一些最基本的功能却缺失了。</p><p id="5570" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">经过彻底审查，我得出结论，用户可以完全在iPad上创建一个iPad应用程序，但应用程序本身必须相当简单。</p><p id="9714" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">游乐场的Swift包裹支持是一项改变游戏规则的举措。简单地将一个包添加到一个项目中，你就可以立即使用框架带来的所有功能。带上洛蒂。通过添加这个框架，我可以将动画抓取到我的应用程序中，作为一个非设计师，我立即拥有了一个看起来专业且有吸引力的应用程序。</p><p id="0feb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">经过更多的实验后，我发现只有当包中包含的所有文件都是Swift文件时，包才会在playgrounds中加载。如果Objective-C文件包含在包中，包加载将会失败。这立即减少了可用于Swift Playgrounds的兼容包的数量。最大的问题是:没有支持后端服务器的软件包。</p><p id="7eb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">BAAS(后端即服务)通常用于处理用户注册、认证和用户管理，将数据存储在数据库中或运行服务器端代码和分析。通过在服务器上运行，用户只需编写所谓的“客户端应用程序”——实际上是一个具有权限的应用程序，可以在服务器上搜索一些信息，并返回显示。这可以扩展到编辑值。</p><p id="ac3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是大多数应用程序的基础，但直到现在，这在Swift Playgrounds中是不可能的。</p><p id="4a0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">答案是什么？传球！(不，解析)。</p><p id="839a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Parse server是一个开源服务器，主要用于这种类型的应用程序。用户可以托管他们的解析服务器，或者可以使用back4app(我将在本演示中使用它)等服务为您托管这些服务器。</p><p id="1756" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，一个名为<code class="fe lv lw lx ly b">ParseSwift</code>的专用解析Swift包支持与解析服务器的通信，并与Swift Playgrounds兼容！</p><p id="f94b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户第一次有机会在iPad上创建与服务器完全集成的本地应用。</p><h1 id="34ee" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">这是如何实现的？</h1><h2 id="461d" class="mr ma it bd mb ms mt dn mf mu mv dp mj li mw mx ml lm my mz mn lq na nb mp nc bi translated">创建解析服务器</h2><p id="5287" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">首先，您需要一个托管解析服务器的地方。我将方便地跳过这一部分，使用一个名为back4app的服务。有一个免费层非常适合开发和学习/试验。当每月有更多的用户和请求时，付费层就发挥作用了。</p><p id="71ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前往www.Back4app.com<a class="ae ky" href="http://www.Back4app.com" rel="noopener ugc nofollow" target="_blank">并报名。(我不是附属机构，你可以谷歌解析服务器，并使用这些服务或托管自己的)。之后，按照说明创建一个应用程序。</a></p><h2 id="674f" class="mr ma it bd mb ms mt dn mf mu mv dp mj li mw mx ml lm my mz mn lq na nb mp nc bi translated">创建一个Swift playground应用程序并添加ParseSwift包</h2><p id="6707" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">如题，打开Swift Playgrounds，新建一个app。点击新文件图标，并选择“Swift package”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ni"><img src="../Images/60bea4f42cca2e6301d3e3f4f72e78ba.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Kyn6YmNAX-FLiqAQhhEqWQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从“新建文件”菜单添加Swift包</p></figure><p id="cc02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的窗口中，输入<code class="fe lv lw lx ly b">ParseSwift</code>包的地址:<a class="ae ky" href="https://github.com/parse-community/Parse-Swift" rel="noopener ugc nofollow" target="_blank">https://github.com/parse-community/Parse-Swift</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ni"><img src="../Images/27e8c83e57c1b24528f0844cf367983c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*9suecxnyUQj5eIOiFeqPSg.jpeg"/></div></figure><h2 id="112c" class="mr ma it bd mb ms mt dn mf mu mv dp mj li mw mx ml lm my mz mn lq na nb mp nc bi translated">初始化ParseSwift(告诉应用程序服务器在哪里，使用什么密钥)</h2><p id="f8e8" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">导航到Parse-Swift的GitHub地址(见上一步)，您将看到如何使用该框架的简要总结。唯一要做的关键事情是用正确的密钥将您的客户端应用指向服务器。</p><p id="0fdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是通过下面的代码实现的。文档声明将它放在AppDelegate中(对于构建在Xcode上的传统应用程序)，但是对于Playgrounds，这是不同的。将这段代码放在最顶层的某个地方，这样它就可以在应用程序的生命周期内存在。</p><pre class="kj kk kl km gt nj ly nk nl aw nm bi"><span id="a22e" class="mr ma it ly b gy nn no l np nq">ParseSwift.initialize(applicationId: "xxxxxxxxxx", clientKey: "xxxxxxxxxx", serverURL: URL(string: "https://example.com")!)</span></pre><p id="56b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我将把它放在一个在初始视图出现时执行的函数中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="fa5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要在这里输入三条信息来与服务器通信:<code class="fe lv lw lx ly b">applicationId</code>、<code class="fe lv lw lx ly b">clientKey </code>和<code class="fe lv lw lx ly b">serverURL</code>。这些可以在Back4app.com的应用程序设置中找到。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ni"><img src="../Images/ade6a077ea9391140ac28ae69112a71a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*XBJGIW14Uo6TgvGYdeXZsQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Back4App键</p></figure><p id="7688" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在应用的仪表盘上，单击菜单，导航至“应用设置”，然后单击“安全性和密钥”在显示的窗口中，将<code class="fe lv lw lx ly b">applicationId </code>和<code class="fe lv lw lx ly b">clientKey </code>复制到Swift Playgrounds的初始化代码中。</p><p id="674b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这之后，你只需要<code class="fe lv lw lx ly b">serverURL</code>。对于Back4app，这是<a class="ae ky" href="https://parseapi.back4app.co" rel="noopener ugc nofollow" target="_blank">https://parseapi.back4app.com/</a>。如果您托管了此地址，它将是托管的地址。</p><p id="fbc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样。跨过去。您现在有了一个可以与服务器通信的客户端应用程序！如果您返回到GitHub页面查看<code class="fe lv lw lx ly b">ParseSwift</code>，点击查看代码，在<code class="fe lv lw lx ly b">ParseSwift.playground</code>文件夹中查找，然后点击页面。您将看到23种不同类别的函数用于解析服务器。您可以从用户注册、身份验证开始，然后创建查询和查看结果。</p><p id="846f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为本文的总结，我们将创建一个用户来证明我们有通信。这可以在GitHub的3号游乐场“3-用户-注册”中找到</p><p id="0423" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这给了我们两件事，首先，一个定义用户是什么的结构。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="e209" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二个是注册用户的功能。我把它放在一个叫做<code class="fe lv lw lx ly b">userSignUp</code>的函数中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="1941" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，通过按下应用程序中的按钮来调用功能<code class="fe lv lw lx ly b">userSignUp</code>。最终的代码应该如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="4785" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行应用程序时，我看到一个空白屏幕，上面有我的注册按钮。按下按钮创建新帐户并打印到控制台，这样我就可以看到退货确认。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ni"><img src="../Images/beab9782413e35ae6ef5bd6ad3c2e1a9.png" data-original-src="https://miro.medium.com/v2/format:webp/1*82L0oiniL1HF0dTFy9rTfQ.png"/></div></figure><p id="7a79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以检查我们的解析服务器，以确认帐户已创建。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ni"><img src="../Images/e71022320350156b0ff996997be136e8.png" data-original-src="https://miro.medium.com/v2/format:webp/1*0y65ggHGutxur4AXYV2FYw.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我添加的用户</p></figure><p id="1ea3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可能性是无限的。就个人而言，这是只在iPad上编程以创建原生应用的最后一大障碍。现在，您可以开始保护服务器上的数据。或者运行服务器端代码，获取并更新其数据，以供您的客户端应用程序显示。</p><p id="b745" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>