<html>
<head>
<title>Understand Distributed Computing…With Ducks!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解分布式计算…用鸭子！</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understand-distributed-computing-through-ducks-d4d11b93f8e0?source=collection_archive---------7-----------------------#2021-08-17">https://betterprogramming.pub/understand-distributed-computing-through-ducks-d4d11b93f8e0?source=collection_archive---------7-----------------------#2021-08-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b9c7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">分布式计算是一种高级软件策略，对许多人来说很难理解。现在可以简单用鸭子来解释了</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/51c11143ffdd5a355e58eb004fc2f8dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zxWWf0Xe9Mz5f6oW"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">S. Tsuchiya 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="2a82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我一直是<a class="ae ky" href="https://allenheltondev.medium.com/the-mighty-metaphor-your-new-secret-weapon-in-tech-a483957d72f0" rel="noopener">的粉丝，这是一个很好的比喻</a>。这是让人们理解复杂问题的最佳方式之一。如果你能找到一些你的听众能理解的东西，你就有很高的可能性让他们理解你所说的。</p><p id="46a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你谈论像分布式计算这样的高级技术术语时，尤其如此。如果你是云的新手，你或你的一些同事可能听说过短语<em class="lv">分布式计算</em>，但可能不知道它的确切含义。</p><p id="1822" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要害怕，今天我们将通过一个比喻来学习什么是分布式计算。一个很好的鸭子。</p><h1 id="0c95" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">什么是分布式计算？</h1><p id="9792" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">简而言之，分布式计算是“多台计算机作为一个系统一起工作”的一种奇特说法。当工作量变大时，计算机在它们之间分配工作，使事情变得快速有效。</p><p id="c22e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于云原生应用程序，您通常会在消息传递系统中看到这种情况。如果您向队列添加一些工作，多台计算机/服务器会查看同一个队列并一起处理它。</p><h2 id="a285" class="mt lx it bd ly mu mv dn mc mw mx dp mg li my mz mi lm na nb mk lq nc nd mm ne bi translated">鸭子呢？</h2><p id="b2f6" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">好了，现在我们明白了我们要解释什么，让我们把鸭子带进来。</p><p id="0b22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想象你在公园给鸭子喂面包(<em class="lv">提示:不要真的给鸭子喂面包，这对它们的饮食来说</em> <a class="ae ky" href="https://www.thespruce.com/is-feeding-ducks-bread-bad-386564" rel="noopener ugc nofollow" target="_blank"> <em class="lv">不是最好的</em> </a>)。你拿着你的面包，走向一群鸭子。</p><p id="4ff2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你把面包一片一片扔给他们，他们会抓着吃。你扔出面包的速度更快，不同的鸭子可以在其他鸭子吃的时候抓住面包片。</p><p id="de4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几分钟后，你的整条面包就没了。那些鸭子真的很快就能撕开面包。如果只有一只鸭子，那要花更长的时间才能吃完面包。你必须等着孤独的鸭子吃完那片面包，然后再把下一片扔给她。</p><p id="0da0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是分布式计算。当一个消息或工作单元进来时，服务器看到它，捡起它，并处理工作。服务器越多，在负载下完成工作的速度就越快。</p><h1 id="c055" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">分布式计算的常见问题</h1><p id="16b2" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">表面上看，这听起来很棒。把更多的服务器扔出去，把它们连接起来，你就有了一个超级快的容错系统，对吗？</p><p id="10e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Weeeeeellll，是也不是。</p><p id="b02a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大量负载过重的服务器将开始相互竞争工作。Mathias Verraes说得好:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/aa2b7993035455dd7e3c2da515dcf324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hqkluhUO_NKzAi6CYcYN2A.png"/></div></div></figure><p id="e362" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么这些难题很难解决？让我们回到鸭子身上。</p><h2 id="6061" class="mt lx it bd ly mu mv dn mc mw mx dp mg li my mz mi lm na nb mk lq nc nd mm ne bi translated">恰好一次交货</h2><p id="c6fa" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">恰好一次传递保证消息只被处理一次。听起来应该很容易。</p><p id="b4ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一圈鸭子都在等你扔出一片面包。你扔一片，两只鸭子同时抓住它。他们打了一分钟，但最终，面包碎了，两只鸭子分享了同一块面包。这真的是为了一只鸭子，但你不能控制他们。时机恰到好处，他们俩同时抓住它，最后把它分开了。</p><p id="eff9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是分布式计算很难一次交付的原因。你不能让服务器互相关注，看谁得到了什么。有时候时机刚刚好，两台机器会拿起同一个消息处理两次。</p><h2 id="0157" class="mt lx it bd ly mu mv dn mc mw mx dp mg li my mz mi lm na nb mk lq nc nd mm ne bi translated">保证消息顺序</h2><p id="ad5c" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">保证订单听起来很像。如果我分别用字母A、B、C和D发送消息，我希望首先处理A，然后是B，然后是C，最后是D。</p><p id="f1b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的鸭子场景中，我们又回到了一片一片地扔面包片。鸭子喜欢它，所以我们更快地扔出面包。但是有几只鸭子比其他的大。他们抓起面包，一口吞下，而其他鸭子可能需要几秒钟才能吃完。</p><p id="1a45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一只小鸭子抓起一片面包开始吃。然后大鸭子抓起下一片，整个吞下。几秒钟后，小鸭子吃完了它的一片面包。你扔的面包是按正确的顺序拿的，但它是按不同的顺序完成的。</p><p id="d388" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对电脑来说，这很重要。如果这一系列消息相互依赖才能完成，那么您可能会遇到一些问题。</p><p id="3bf5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你不能保证机器处理信息的速度有多快。即使系统中的所有服务器都具有完全相同的规格，环境或网络相关的因素也会阻止它在其他服务器之前完成。这就是分布式系统中难以保证顺序的原因。</p><h1 id="f313" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">最后的想法</h1><p id="f286" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">分布式计算是实现大规模性能的一种不可思议的方式。如果你使用像<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/7-aws-serverless-design-principles-for-solutions-architects-2be22717713b">无服务器</a>这样的云原生技术，管理成百上千台机器的复杂性将从你身上抽离。您将获得规模和性能的优势，而无需担心如何保持计算机的最新和同步。</p><p id="276b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你还没有，鼓励你的团队考虑为你的软件实现一个分布式系统。你的顾客会感谢你的。希望能够以一种有趣而简单的方式描述什么是分布式计算将有助于您建立一种共同的理解，并使您的团队更愿意解决它。</p><p id="9ae1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">祝你好运，记得永远开心！</p></div></div>    
</body>
</html>