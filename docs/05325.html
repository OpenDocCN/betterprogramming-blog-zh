<html>
<head>
<title>How to Extract Data From PDFs Using AWS Textract With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过Python使用AWS Textract从pdf中提取数据</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/extract-data-from-pdf-files-using-aws-textract-with-python-12ba62fde1b0?source=collection_archive---------0-----------------------#2020-06-30">https://betterprogramming.pub/extract-data-from-pdf-files-using-aws-textract-with-python-12ba62fde1b0?source=collection_archive---------0-----------------------#2020-06-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ae0e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从任何PDF获取您需要的数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/40254a632b1c054f3e3adef049e4dfdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3PxqkkVTxmb-qIP7XS0jng.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2831949" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="ed7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论您尝试到什么程度，总有一些业务流程难以自动化。自动化有助于在速度、准确性、可靠性和一致性等许多方面改善业务管道。例如，在当今的全球市场中，几乎每家公司都感受到了压力，要快速有效地将商品和服务推向市场，并尽可能在市场上独占鳌头。</p><p id="e4b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">技术充当业务流程自动化(BPA)的使能器，BPA在不同领域的大多数业务中提供全自动工作流或半自动流程。任何必须将纸质表单或电子文档(如PDF文件)中的数据输入到数据库中的组织都可以通过自动化数据输入获得非常高的投资回报，这可以显著减少花费的时间。</p><p id="964a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一切都是为了减少您花在处理纸张、管理纸张和输入数据上的时间，以便您可以与客户进行有意义的对话。</p><p id="c527" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些PDF文件可以是发票、财务报表或任何其他形式的文档。这些文档中的数据需要进行处理。但是在工作流程中，手动将这些数据输入到自动化流程中会产生瓶颈。如果你真的发现了，你会惊讶于把这些数据输入计算机系统所花费的时间。</p><p id="6c5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您要自动化此过程，在自动化过程中需要执行一些任务:</p><ul class=""><li id="e827" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">OCR可识别扫描的图像/ PDF文件。</li><li id="57f3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">匹配算法定位文本中的数据元素。</li><li id="3a31" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">未通过验证检查的字段将呈现给操作员进行手动检查和更正。</li><li id="bdb2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">纠正所有错误后，数据将被导出到最终目的地，以便进一步处理或存储。</li></ul><p id="8845" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，为了让你的生活更轻松，AWS已经提供了<a class="ae ky" href="https://aws.amazon.com/textract/" rel="noopener ugc nofollow" target="_blank"> AWS Textract </a>，一个文档文本提取服务。如<a class="ae ky" href="https://docs.aws.amazon.com/it_it/textract/latest/dg/what-is.html" rel="noopener ugc nofollow" target="_blank">文档</a>中所述:</p><blockquote class="mj mk ml"><p id="1c71" class="kz la mm lb b lc ld ju le lf lg jx lh mn lj lk ll mo ln lo lp mp lr ls lt lu im bi translated">“Amazon Textract基于同样经过验证、高度可扩展的深度学习技术，该技术由亚马逊的计算机视觉科学家开发，用于每天分析数十亿张图像和视频。你不需要任何机器学习专业知识来使用它。”</p></blockquote><p id="2d92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以可用性处于一个更高的水平。它将降低日常业务中OCR技术的准入门槛。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/77ac345411855f9d0448c525eaddb99a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*duubTsbnX9pedj-oxn5WTA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS文本摘要</p></figure><p id="57ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AWS Textract包含比普通光学字符识别(OCR)系统更高的功能。从存储在亚马逊S3桶中的文件中，它能够提取字段和表格的内容以及这些信息呈现的上下文，比如税单中的姓名和社会保险号，或者照片收据中的总额。Textract支持扫描、pdf和照片等图像格式，并吸收了一系列文档格式，包括那些特定于金融服务、保险和医疗保健的格式。</p><p id="4aeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过连接许多其他Amazon Web服务，您可以自动化提取、处理和存储相关数据的工作流，或者将这些数据输入另一个管道。下图是您可以在中使用Textract来自动化该过程的方法之一。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/2968b3e59a88efbd57f71021ab0296fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0cPbw5zStVG96zMSt4tgjQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS Textract的可能应用(图片来源:作者)</p></figure><p id="e64c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了使用Amazon DynamoDB，您还可以使用MongoDB实例甚至S3存储桶本身来存储结果数据。这里，一个批处理作业将在AWS Lambda上运行。根据您的需要和限制(例如，如果作业运行超过15分钟)，您可以很容易地用AWS Fargate实例替换它。相反，您可以在Lambda函数和Textract服务之间使用AWS SNS，Textract服务是一种完全托管的发布/订阅消息服务，使您能够分离服务。</p><p id="cfe4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谈到AWS Textract，我们可以获得三种主要类型的结果。第一个是获取原始文本形式的结果提取。第二种方法是获取恰好在相应文档中的键值对。第三种方法是提取表数据。输出将是一个逗号分隔值(CSV)文件。</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="e9d1" class="mz na it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated"><strong class="ak"> 1。提取原始文本</strong></h1><p id="0bda" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">以下是Python中的示例代码，可用于使用AWS Textract从PDF文档中提取文本。这也支持多页PDF文件。这将适合作为提取自由格式报告、票据和发票的方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="80e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想从图像文件中提取原始文本数据，可以使用下面的代码。当涉及到需要以更易分析和组织的方式存储信息的扫描文档时，使用这种实现会很方便。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="c449" class="mz na it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated"><strong class="ak"> 2。提取键值对</strong></h1><p id="afd1" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">在通过从数字填充表单的PDF文件中提取键值对的自动化表单处理中，Textract非常有用。抛开人工检查、输入相关数据和处理Textract帮助我们实现了整个流水线的自动化，无需任何人工干预。但是在关键应用程序中，作为一种实践，我们可以提示提取的表单信息，以便用户在必要时进行任何更正，并在继续之前进行验证。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="8a5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>如果您想将pdf文件转换成图像以运行上面的代码片段，您可以使用<a class="ae ky" href="https://pypi.org/project/pdf2image/" rel="noopener ugc nofollow" target="_blank"> pdf2image </a>或任何Python包。(您可能还需要安装<a class="ae ky" href="https://python-pillow.org/" rel="noopener ugc nofollow" target="_blank">枕头</a>。这可能只适用于Linux。)</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="5e8c" class="mz na it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated"><strong class="ak"> 3。提取表格数据</strong></h1><p id="390b" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">如果您的文档包含更多的表格数据，这就更合适了。OCR Textract以有序的方式检测文档中的表格及其内容。这有助于识别带有格式的相关内容，以便以CSV文件的形式返回提取的信息。这在处理基于PDF的财务报告和发票时非常有用。这将为自动化过程铺平道路，从而大大减少整个管道中的人工干预。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="4a3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>如果您想将pdf文件转换成图像以运行上述代码片段，您可以使用<a class="ae ky" href="https://pypi.org/project/pdf2image/" rel="noopener ugc nofollow" target="_blank"> pdf2image </a>或任何Python包。(您可能还需要安装<a class="ae ky" href="https://python-pillow.org/" rel="noopener ugc nofollow" target="_blank">枕头</a>。这可能只适用于Linux。)</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="7adc" class="mz na it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated">结论</h1><p id="a02a" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated">如上所述，使用AWS Textract将是减少您业务中日常流程延迟的一个好方法。根据您的需要，您可以使用三种提取方法中的一种或多种。例如，在极少数情况下，Textract无法提取某些表格数据或某个键的值，您可以使用原始文本提取和一些使用Python regex的手动文本挖掘来提取这些数据。</p><p id="a9b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了单纯的提取，Textract还支持一些NLP任务，当组织需要为理解各种语言的用户本地化他们的电子文档、内容和网站时。作为一种解决方案，Textract提供集成了提取功能的文档翻译，这为原始服务增加了价值。</p><p id="22fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一篇有趣的文章再见！</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="d174" class="mz na it bd nb nc nd ne nf ng nh ni nj jz nk ka nl kc nm kd nn kf no kg np nq bi translated">参考</h1><p id="f449" class="pw-post-body-paragraph kz la it lb b lc nr ju le lf ns jx lh li nt lk ll lm nu lo lp lq nv ls lt lu im bi translated"><a class="ae ky" href="https://aws.amazon.com/blogs/machine-learning/automatically-extract-text-and-structured-data-from-documents-with-amazon-textract/" rel="noopener ugc nofollow" target="_blank">https://AWS . Amazon . com/blogs/machine-learning/automatically-extract-text-and-structured-data-from-documents-with-Amazon-text ract/</a></p></div></div>    
</body>
</html>