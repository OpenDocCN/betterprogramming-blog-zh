<html>
<head>
<title>Autoscale Your Application For Unexpected Traffic Using Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Kubernetes针对意外流量自动调整您的应用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/autoscale-your-application-for-unexpected-traffic-using-kubernetes-ff5ee7d9f22?source=collection_archive---------5-----------------------#2021-12-27">https://betterprogramming.pub/autoscale-your-application-for-unexpected-traffic-using-kubernetes-ff5ee7d9f22?source=collection_archive---------5-----------------------#2021-12-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="331e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于可伸缩性的实用分步指南，包含有趣的故事。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b2716d9e915e9e14187e51104b0adbbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ijuq2Fbs9t8pEZUc"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://www.pexels.com/photo/man-performing-on-stage-2102568/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/@gabrielsantosfotografia?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">加布里埃尔·桑托斯·福托格拉菲亚</a>的照片</p></figure><p id="fd2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们如何在睡觉时处理来自黑色星期五或11.11等营销活动的意外流量？对于不可预测的数据大小，我们如何在生产环境中提供可伸缩的API？</p><p id="6211" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本系列教程结束时，我们将实现如下可扩展设计:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/7db0b4f296a3fd3d93687fd06fae0e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YFWoVLeZs75bmr8a.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="4097" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">1.背景</h1><p id="dbb7" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">容器化的应用程序代码为我们提供了扩展的基础。要横向扩展应用程序，应用程序必须是可横向扩展的。</p><p id="e155" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们建议您阅读<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-scale-your-application-for-unexpected-traffic-or-model-training-a8b0a0c44d80">How To contained And Scale Your Application For Unexpected Traffic或Model Training </a>，如果您尚未了解我们如何从头构建一个应用程序并将其容器化，作为我们未来扩展的构建模块。</p><p id="87a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上一篇文章中，我们手动修改了代码，以启动另一个监听不同连接端口的容器。但是，该方法有一些限制:</p><ul class=""><li id="ae67" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">我们修改了应用程序代码，使每个应用程序都有单独的端口。</li><li id="d80e" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">我们用不同的容器名构建容器，并且必须维护它们。</li><li id="9a2a" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><code class="fe nh ni nj nk b">request</code>需要确切地知道调用哪个端点、<code class="fe nh ni nj nk b">localhost:3000</code>和<code class="fe nh ni nj nk b">localhost:3001</code>，最终是同一个服务。我们期望调用者知道同一服务的端点吗？</li><li id="5089" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">我们如何用一个命令来缩放容器呢？</li><li id="50d7" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">我们如何自动缩放容器？</li></ul><p id="2a14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kubernetes解决了所有这些限制/问题，它是最流行的容器编排平台，基本上是容器音乐会的指挥。</p><h1 id="17f7" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">2.履行</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/02a86cd14bd33ba5ae3b9a7e4c9caa6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*z6R2hjDHUoNI7lC1rzOxJQ.png"/></div></figure><p id="ab6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们看到魔法之前，一切都没有意义，稍后会有解释。</p><p id="41e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-scale-your-application-for-unexpected-traffic-or-model-training-a8b0a0c44d80"> LAB1 </a>中下载了Docker Desktop(lab 1是来自<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-scale-your-application-for-unexpected-traffic-or-model-training-a8b0a0c44d80">如何为意外流量或模型训练</a>封装和扩展您的应用程序的实验部分)，我们只需要在上面启用Kubernetes。</p><h2 id="cc93" class="nm lx it bd ly nn no dn mc np nq dp mg li nr ns mi lm nt nu mk lq nv nw mm nx bi translated">在Kubernetes上运行LAB2.1</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/dd6e3d3685cec026da5496ad9d8e667c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ou_N3OPoU3B1gBNB39x67Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Docker桌面</p></figure><ol class=""><li id="4059" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu nz mz na nb bi translated">打开<strong class="lb iu"> Docker桌面</strong>点击设置。</li><li id="7e17" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated">转到<strong class="lb iu"> Kubernetes </strong>并勾选“启用Kubernetes”复选框。</li></ol><p id="8df5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe nh ni nj nk b">~/medium-scalability</code>中新建一个名为<code class="fe nh ni nj nk b">scalability-deployment.yaml</code>的YAML文件，文件夹结构如下:</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="75a7" class="nm lx it nk b gy oe of l og oh">medium-scalibility<br/>├── .dockerignore               #Created in LAB1.2<br/>├── Dockerfile                  #Created in LAB1.2<br/>├── log<br/>│   └── log.txt                 #Created in LAB1.1<br/>├── package.json                #Created in LAB1.1<br/>├── <strong class="nk iu">scalability-deployment.yaml #Created in LAB2.1</strong><br/>└── server.js                   #Created in LAB1.1</span></pre><p id="9b12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nh ni nj nk b">scalability-deployment.yaml</code>如下图所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="d939" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行命令:</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="0b75" class="nm lx it nk b gy oe of l og oh">$kubectl apply -f <!-- -->scalability-deployment.yaml<br/>$docker ps</span></pre><p id="58dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们应该看到一个名称从<code class="fe nh ni nj nk b">k8s_scalability-deployment_scalability-deployment-*hex*</code>开始的容器</p><p id="998a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们发送一个<code class="fe nh ni nj nk b">request</code>到<code class="fe nh ni nj nk b">localhost:30007</code>并检查输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/acac8fa22aaee67a1cf04612d4db6f9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*86leWOR2LxDkv1B5oP48Sg.png"/></div></figure><p id="703f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到它是由一个单独的容器<code class="fe nh ni nj nk b">scalability-deployment-f8d9f7c47-wv2gv</code>接收的。</p><p id="a83b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行呢</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="8557" class="nm lx it nk b gy oe of l og oh">$kubectl scale deployment/scalability-deployment --replicas=3<br/>$docker ps</span></pre><p id="96b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在单子上有多少集装箱？<strong class="lb iu">三个</strong>。</p><p id="660e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。Kubernetes为我们节省了很多麻烦，让我们测试一下这个请求是否平衡。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/da8aadf27b6f2071cad893343ba16f91.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*QWJ2higXuA03l98PNL8Dbw.png"/></div></figure><p id="4fb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们注意到3个不同的容器收到了相同的<code class="fe nh ni nj nk b">address:port</code>请求。</p><p id="9085" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与第1部分中的<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-scale-your-application-for-unexpected-traffic-or-model-training-a8b0a0c44d80">旋转一个额外的容器相比，这是多么容易。使用Kubernetes只需要一个命令就可以改变副本的数量。</a></p><h1 id="2e8f" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">3.魔术揭秘</h1><p id="28e0" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">是什么让只需一个命令就能轻松扩展应用程序？答案是Kubernetes。</p><p id="411b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确切地说，我们使用Kubernetes <strong class="lb iu">部署</strong>和<strong class="lb iu">服务</strong>来实现这种扩展和负载平衡。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/e20f296d29d8f4a16607d45c29a8966c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f8Dmf9_yurDJZ3Q3rNBHTQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">部署和服务。图片作者。</p></figure><ol class=""><li id="3e85" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu nz mz na nb bi translated">部署是容器的管理者，或者为了简单起见，我们在Kubernetes空间中将容器称为pod。但是，集装箱和豆荚在技术上不是一回事。部署为<a class="ae ky" href="https://kubernetes.io/docs/concepts/workloads/pods/" rel="noopener ugc nofollow" target="_blank"> Pods </a>提供声明性更新，或者在我们的示例中，我们想要1个副本，后来将其更改为3个。</li><li id="e723" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated">服务是将运行在一组<a class="ae ky" href="https://kubernetes.io/docs/concepts/workloads/pods/" rel="noopener ugc nofollow" target="_blank"> pods </a>上的应用程序公开为网络服务的抽象方式，或者是跨Pods进行负载平衡并公开部署在一组Pods上的应用程序的抽象方式。</li></ol><p id="8b1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用Kubernetes服务作为负载平衡器，在所有容器之间路由客户端请求，以便它们能够在速度、可用性和容量利用率方面以最高效率满足所有传入请求。此外，该服务还可以确保没有单个容器超负荷工作，这可能会降低性能。</p><h2 id="b9c8" class="nm lx it bd ly nn no dn mc np nq dp mg li nr ns mi lm nt nu mk lq nv nw mm nx bi translated">故事时间—部署和服务</h2><p id="106e" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们可以将服务视为面向客户的角色，或者将客户支持和部署视为工程经理。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/4c44017593e3a3d82f42954bc36eeb87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8kLUmjrnqFoXFuYZ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/@pnw-prod?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> PNW制作</a>来自<a class="ae ky" href="https://www.pexels.com/photo/person-holding-silver-and-black-laptop-computer-9218657/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a></p></figure><p id="c103" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们在预订机票时出错。在不知道确切问题的情况下，我们联系客户支持，客户支持将根据他们的能力将问题转发给适当的工程经理。</p><p id="4ff7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们声明了期望的状态之后，工程经理将处理底层问题，而无需我们担心实现步骤。</p><p id="70a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论是支付系统还是订单管理系统的问题，作为客户，我们只需联系客户支持(Kubernetes服务)。此外，工程经理(Kubernetes部署)将在管理层批准后负责招聘流程。</p></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><p id="cc56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了验证管理人员的能力，我们尝试手动关闭3个正在运行的容器中的一个。</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="6c59" class="nm lx it nk b gy oe of l og oh">$docker ps #Select one container's ID<br/>$docker kill CONTAINER_ID<br/>$docker ps #The container killed is absent from the list</span></pre><p id="27c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几秒钟后，当我们运行<code class="fe nh ni nj nk b">$docker ps</code>时，我们将看到<code class="fe nh ni nj nk b">medium-scalability</code>的数量再次回到3。Kubernetes部署执行并监控我们声明的内容，将副本设为3。</p><p id="c640" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们宣布了什么？让我们回顾一下我们之前创建的YAML文件。</p></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><p id="76f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们<strong class="lb iu">使用YAML文件<code class="fe nh ni nj nk b">scalability-deployment.yaml</code>声明了</strong>Kubernetes的理想状态，我们将讨论YAML文件中的属性。请特别注意YAML的档案。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/342bc7a6d55067579f21cb9744395b15.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*lLJ3ihW8RT0Rp5F6yYlycg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<code class="fe nh ni nj nk b">scalability-deployment.yaml (line 1-6)</code>的部分片段</p></figure><ul class=""><li id="ef0b" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">第2行表明我们正在使用Kubernetes部署。</li><li id="d20f" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">第4行命名这个Kubernetes对象。</li><li id="6d14" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">第6行标记这个Kubernetes对象。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/18704010e8f46328006bc769de64dc6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*S0lZ_MdOc2ykn5vZbwE2Qg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<code class="fe nh ni nj nk b">scalability-deployment.yaml (line 7-15)</code>的部分片段</p></figure><ul class=""><li id="5c19" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">第8行表示容器/箱的复制品的数量。</li><li id="0e50" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">第9行选择要复制的基本容器</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/7c35e5547551ff46c7403c703b06e2bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*FJ5l3gRL4QY6-eiV1FYkPg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<code class="fe nh ni nj nk b">scalability-deployment.yaml (line 16-27)</code>的部分片段</p></figure><ul class=""><li id="620c" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">第19行显示了构建容器的图像。</li><li id="53bc" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">第20行告诉Kubernetes从local获取图像，而不是从DockerHub获取。</li><li id="449d" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">第21–23行为本地主机挂载容器的目录。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/bc090615879a20ec4b80abaf2209f3dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*VFrsRl0f0wCx0FEhurHP0g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<code class="fe nh ni nj nk b">scalability-deployment.yaml (28-42)</code>的部分片段</p></figure><p id="71b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从第29行开始，我们使用Kubernetes <strong class="lb iu">服务</strong>，它通常在部署文件中被<strong class="lb iu">声明</strong>并被<code class="fe nh ni nj nk b">---</code>分隔，因为用<code class="fe nh ni nj nk b">deployment</code>声明网络层是有意义的。</p><ul class=""><li id="f65e" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">第30行表示我们正在使用Kubernetes服务。</li><li id="663f" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">第34行选择类型为<code class="fe nh ni nj nk b">NodePort</code>。我们有Kubernetes支持的<code class="fe nh ni nj nk b">ClusterIP</code>、<code class="fe nh ni nj nk b">LoadBalancer</code>和<code class="fe nh ni nj nk b">ExternalName</code>。</li><li id="5ef0" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">第40和41行用于端口转发。(<code class="fe nh ni nj nk b">targetPort</code>:容器接受流量的端口，<code class="fe nh ni nj nk b">port</code>:抽象服务端口，可以是其他pod用来访问服务的任何端口)</li><li id="b252" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">第42行声明<code class="fe nh ni nj nk b">nodePort</code>为30007，没有标记的默认端口在30000-32767范围内。</li></ul></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/577cd1c7b38b8affc60790865e3de638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NarzS8S5v7n4Vr4n.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kubernetes徽标来自<a class="ae ky" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> kubernetes.io </a></p></figure><p id="285e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kubernetes，也称为K8s，是一个自动化容器操作的开源平台。它消除了部署、扩展和管理容器化应用程序所涉及的许多手动流程。</p><p id="121f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它最初是由谷歌设计的，现在由云原生计算基金会维护。</p><p id="ec21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">有趣的事实。</strong>你可能看到的是K8s，它是把“ubernete”的八个字母换成数字8得来的。同样适用于著名的风险投资A16Z，它是Andreessen Horowitz的缩写。</p><p id="cb74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除此之外,“Kubernetes”这个名字来自一个希腊词，意思是领航员或舵手。</p></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><p id="0a13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，我们应该已经对Kubernetes有了一些基本的了解，是时候学习一些基本的命令了:</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="6a5f" class="nm lx it nk b gy oe of l og oh">kubectl get pods       <em class="pa"># List all pods in the namespace</em><br/>kubectl get deployments <em class="pa"># List all deployments in the namespace</em><br/>kubectl get services   <em class="pa"># List all services in the namespace</em></span><span id="b1e4" class="nm lx it nk b gy pb of l og oh">kubectl describe pods my-pod <em class="pa"># To show the verbose output of the pod</em></span><span id="b402" class="nm lx it nk b gy pb of l og oh">kubectl delete pod POD_NAME               <em class="pa"># Delete a pod using the pod name</em><br/>kubectl delete deployment DEPLOYMENT_NAME <em class="pa"># Delete a deployment using the pod name</em><br/>kubectl delete service SERVICE_NAME       <em class="pa"># Delete a service using the service name</em></span><span id="5762" class="nm lx it nk b gy pb of l og oh">kubectl logs my-pod                       <em class="pa"># Dump pod logs (stdout)</em></span><span id="6b41" class="nm lx it nk b gy pb of l og oh">kubectl apply -f CONFIGURATION_FILE_NAME <em class="pa"># Apply a configuration to a resource by file name</em></span></pre><p id="2b7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以从kubectl cheat sheet中了解更多信息。</p><div class="pc pd gp gr pe pf"><a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" rel="noopener  ugc nofollow" target="_blank"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd iu gy z fp pk fr fs pl fu fw is bi translated">kubectl备忘单</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">这个页面包含一个常用kubectl命令和标志的列表。Kubectl自动完成BASH源代码&gt; ~/。bashrc #…</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">kubernetes.io</p></div></div><div class="po l"><div class="pp l pq pr ps po pt ks pf"/></div></div></a></div><p id="4f12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更新Kubernetes对象的两种方法:</p><ul class=""><li id="4a67" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated"><strong class="lb iu">声明性<em class="pa"> : </em> </strong>使用JSON或YAML(好的做法)。</li><li id="3b8c" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><strong class="lb iu">命令式:</strong>使用命令行界面(CLI)进行更新。</li></ul><p id="ef54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可能注意到在本文中多次突出显示了“declare”这个词。</p><p id="daf6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">声明式编程是一种编程范式，我们编写的代码描述了我们想要什么，但不一定是如何得到它(<strong class="lb iu">声明</strong>我们想要的结果，但不是一步一步来)。</p><p id="5b79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，命令式编程一步一步地告诉编译器我们想要实现什么。</p><h1 id="b83e" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">奖金—自动缩放</h1><p id="f4fb" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们如何在睡觉时处理来自黑色星期五或11.11等营销活动的意外流量？</p><p id="edae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">kubernetes<strong class="lb iu">HorizontalPodAutoscaler(HPA)</strong>是值得信赖的飞行员/魔术师，当我们玩得开心时，它会支持我们。</p><p id="52ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它自动更新工作负载资源(例如<a class="ae ky" href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" rel="noopener ugc nofollow" target="_blank">部署</a>)，目的是自动扩展工作负载以满足需求。</p><p id="5fbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始魔术表演。</p><h2 id="9f7b" class="nm lx it bd ly nn no dn mc np nq dp mg li nr ns mi lm nt nu mk lq nv nw mm nx bi translated">实验室2.2自动缩放</h2><p id="e73e" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">仅通过添加第22–25行来修改<code class="fe nh ni nj nk b">scalability-deployment.yaml</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oi oj l"/></div></figure><p id="ff05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kubernetes至少为该容器专门保留请求数量的系统资源。</p><p id="0b62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果运行Pod的节点有足够的可用资源，容器就有可能(也允许)使用比它的<code class="fe nh ni nj nk b">request</code>指定的更多的资源。然而，一个容器不允许使用超过它的资源<code class="fe nh ni nj nk b">limit</code>。</p><p id="e39e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们需要200个毫核来运行每个pod。</p><p id="feae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行以下命令以应用新的更改，并覆盖我们之前将副本更改为3的事实:</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="686a" class="nm lx it nk b gy oe of l og oh">$kubectl apply -f <!-- -->scalability-deployment.yaml</span></pre><p id="4488" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">副本应该回到1，运行<code class="fe nh ni nj nk b">$kubectl get pods</code>进行验证，我们应该只看到1个pod在运行。</p><p id="91b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">招募负责监控工作负载和自动扩展的HPA试点/魔术师:</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="07a7" class="nm lx it nk b gy oe of l og oh">$kubectl autoscale deployment scalability-deployment --cpu-percent=50 --min=1 --max=10</span></pre><p id="33ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该命令创建一个HorizontalPodAutoscaler，它维护由我们创建的<code class="fe nh ni nj nk b">scalability-deployment</code>部署控制的pod的1到10个副本。</p><p id="e7f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">HPA将增加和减少副本的数量(通过更新部署),以保持所有单元的平均CPU利用率为50%,即100毫核。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pu"><img src="../Images/60b77ad1fd1836cd5c9376321bd6304c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*boe00SHoPwAG1bGOQBiEOw.png"/></div></div></figure><p id="9a48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个无限的while循环，每10毫秒请求一次<code class="fe nh ni nj nk b">localhost:30007</code>。</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="0d0e" class="nm lx it nk b gy oe of l og oh">$while sleep 0.01; do curl localhost:30007; done</span></pre><p id="adc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一分钟左右的时间内，我们应该会看到目标发生变化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pv"><img src="../Images/dd63c2fe18bae3c7bce5228e9a798871.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eEySGwYqWgcYbVp5Jkn0wg.png"/></div></div></figure><p id="b34c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它创建了3个副本，运行<code class="fe nh ni nj nk b">kubectl get pod</code>显示根据年龄新创建了2个pod。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pw"><img src="../Images/f60ad6a9ac860a0afe942a40ce34eefb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R4abj_fN9f9TdwkyVaq5zQ.png"/></div></div></figure><p id="db96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">副本的数量由以下公式确定:</p><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="4ca3" class="nm lx it nk b gy oe of l og oh">desiredReplicas = ceil[currentReplicas * ( currentMetricValue / desiredMetricValue )]</span></pre><p id="5b8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的例子中，我们看到149% / 50%和<code class="fe nh ni nj nk b">desiredReplicas</code>在撞击我们的头部后将是3。</p><p id="2b6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过检查第32行定义的日志<code class="fe nh ni nj nk b">path: /Users/oneway/medium-scalability/log</code>，验证3个pod收到请求。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/1da8eb22c00fffb4a52dc258965b6897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2M6Rq7683Z7FjUo0_eeulg.png"/></div></div></figure><p id="61ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它显示在容器的主机名<code class="fe nh ni nj nk b">wv2gv</code>、<code class="fe nh ni nj nk b">dv9lz</code>和<code class="fe nh ni nj nk b">bpwrp</code>接收到的请求。</p><p id="eab7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们实现了如下可扩展设计:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/67b34666555a6a1e046b0ad77302a62b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SxuFqQ_JGMsCtUNA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="3ba1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以参考Kubernetes官网的另一个自动缩放演练:</p><div class="pc pd gp gr pe pf"><a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale-walkthrough/" rel="noopener  ugc nofollow" target="_blank"><div class="pg ab fo"><div class="ph ab pi cl cj pj"><h2 class="bd iu gy z fp pk fr fs pl fu fw is bi translated">HorizontalPodAutoscaler漫游</h2><div class="pm l"><h3 class="bd b gy z fp pk fr fs pl fu fw dk translated">HorizontalPodAutoscaler(简称HPA)自动更新工作负载资源(例如部署或…</h3></div><div class="pn l"><p class="bd b dl z fp pk fr fs pl fu fw dk translated">kubernetes.io</p></div></div><div class="po l"><div class="py l pq pr ps po pt ks pf"/></div></div></a></div><h1 id="7530" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">关键要点</h1><p id="83e1" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们已经在第1部分中学习了开发可伸缩应用程序和容器化应用程序，Kubernetes编排了容器，并消除了部署、伸缩和管理容器化应用程序所涉及的许多手动过程。</p><p id="0210" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您能否解决本文第一部分提出的限制，即我们在第1部分中仅使用Docker进行伸缩？</p><ul class=""><li id="58ec" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">我们修改了应用程序代码，使每个应用程序都有单独的端口。</li><li id="a678" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">我们用不同的容器名构建容器，并且必须维护它们。</li><li id="1dd7" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated"><code class="fe nh ni nj nk b">request</code>需要确切地知道调用哪个端点，<code class="fe nh ni nj nk b">localhost:3000</code>和<code class="fe nh ni nj nk b">localhost:3001</code>，最终是同一个服务。我们期望调用者知道同一服务的端点吗？</li><li id="e9ee" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">我们如何用一个命令来缩放容器呢？</li><li id="5f35" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu my mz na nb bi translated">我们如何自动缩放容器？</li></ul><p id="1239" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只需在YAML文件中声明期望的状态:</p><ol class=""><li id="ae6a" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu nz mz na nb bi translated">部署是容器的管理者，或者为了简单起见，我们在Kubernetes空间中将容器称为pod，但它们不是一回事。部署为<a class="ae ky" href="https://kubernetes.io/docs/concepts/workloads/pods/" rel="noopener ugc nofollow" target="_blank">pod</a>提供声明性更新。</li><li id="885a" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated">服务是将运行在一组<a class="ae ky" href="https://kubernetes.io/docs/concepts/workloads/pods/" rel="noopener ugc nofollow" target="_blank"> pods </a>上的应用程序公开为网络服务的抽象方式，或者是跨Pods进行负载平衡并公开部署在一组Pods上的应用程序的抽象方式。</li><li id="557d" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated"><code class="fe nh ni nj nk b">HorizontalPodAutoscaler</code> (HPA)自动更新工作负载资源，目的是自动扩展工作负载以满足需求。</li></ol><blockquote class="pz"><p id="18b0" class="qa qb it bd qc qd qe qf qg qh qi lu dk translated">"船长，这篇文章应该能让你掌握环球航行的技能."</p></blockquote><p id="5407" class="pw-post-body-paragraph kz la it lb b lc qj ju le lf qk jx lh li ql lk ll lm qm lo lp lq qn ls lt lu im bi translated">这篇文章的目的是给你更多的信心，帮助你开始使用Kubernetes。更多信息，请参见<a class="ae ky" href="https://kubernetes.io/docs/home/" rel="noopener ugc nofollow" target="_blank"> Kubernetes文档</a>。</p><h1 id="f6a4" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">放弃</h1><p id="3be0" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">这不是一篇供您深化技能集的科学论文或深入的技术文章，而是一个有趣而实用的系列，供您构建您的第一个可扩展应用程序，并为您提供另一个角度来理解。</p><h1 id="b895" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">参考</h1><ol class=""><li id="8582" class="mt mu it lb b lc mo lf mp li qo lm qp lq qq lu nz mz na nb bi translated"><a class="ae ky" href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/" rel="noopener ugc nofollow" target="_blank">https://kubernetes . io/docs/tasks/run-application/horizontal-pod-auto scale/</a></li><li id="e41d" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated"><a class="ae ky" href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/" rel="noopener ugc nofollow" target="_blank">https://kubernetes . io/docs/concepts/configuration/manage-resources-containers/</a></li><li id="1264" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated"><a class="ae ky" href="https://kubernetes.io/docs/concepts/services-networking/service/" rel="noopener ugc nofollow" target="_blank">https://kubernetes . io/docs/concepts/services-networking/service/</a></li><li id="f703" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated"><a class="ae ky" href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" rel="noopener ugc nofollow" target="_blank">https://kubernetes . io/docs/concepts/workloads/controllers/deployment/</a></li><li id="686f" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated"><a class="ae ky" href="https://stackoverflow.com/questions/1784664/what-is-the-difference-between-declarative-and-imperative-paradigm-in-programmin" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/1784664/声明式和命令式编程范式的区别是什么</a></li><li id="82e4" class="mt mu it lb b lc nc lf nd li ne lm nf lq ng lu nz mz na nb bi translated"><a class="ae ky" href="https://kubernetes.io/docs/concepts/services-networking/connect-applications-service/" rel="noopener ugc nofollow" target="_blank">https://kubernetes . io/docs/concepts/services-networking/connect-applications-service/</a></li></ol><pre class="kj kk kl km gt oa nk ob oc aw od bi"><span id="3ed5" class="nm lx it nk b gy oe of l og oh"><strong class="nk iu">Want to Connect With Author?</strong></span><span id="8864" class="nm lx it nk b gy pb of l og oh">Love connecting with friends all around the world on <a class="ae ky" href="https://www.linkedin.com/in/teowangwei/" rel="noopener ugc nofollow" target="_blank">Linkedin</a>.</span></pre></div></div>    
</body>
</html>