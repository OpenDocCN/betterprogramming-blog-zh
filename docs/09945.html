<html>
<head>
<title>5 Unix Terminal Tips To Boost Your Coding Speed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提高编码速度的5个Unix终端技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-unix-terminal-tips-to-boost-your-coding-speed-c85f880606ed?source=collection_archive---------1-----------------------#2021-11-04">https://betterprogramming.pub/5-unix-terminal-tips-to-boost-your-coding-speed-c85f880606ed?source=collection_archive---------1-----------------------#2021-11-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="10e6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用这些实践可以更快地完成编程任务</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9131d807f7c7375530a8a0b34831e701.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jgtYTCicT7xsVoED2rIMFA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@jantined?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Jantine Doornbos </a>在<a class="ae ky" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄，用Canva编辑。</p></figure><p id="4c4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">程序员经常在编程期间使用终端应用程序来完成各种活动，例如输入Git命令、运行构建脚本和执行自动化脚本。几乎所有的GUI操作系统都有内置的终端程序，让用户通过命令行界面(CLI)完成任务。</p><p id="c847" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个终端程序通常将用户输入的命令发送到命令行解释程序以获得输出。例如，当您输入<code class="fe lv lw lx ly b">mkdir</code>来创建一个新目录时，终端程序通过Bash这样的命令行解释器使用输入参数执行<code class="fe lv lw lx ly b">/usr/bin/mkdir</code>进程。接下来，<code class="fe lv lw lx ly b">mkdir</code>二进制文件用<code class="fe lv lw lx ly b">mkdir</code> syscall创建一个新目录，并将输出返回到终端。</p><p id="3112" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在终端上运行各种命令来执行不同的操作。这些命令在GNU/Linux和macOS等类Unix操作系统上几乎是相同的。大多数程序员在编程时更喜欢基于终端的与操作系统的交互。因此，您使用终端程序的方式直接影响您的编程速度。</p><p id="af7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将解释几个Unix终端技巧来提高您的编程速度。</p><h1 id="b360" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">有效地使用后台任务</h1><p id="dcfc" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">我们通常在终端上输入短时命令。例如，<code class="fe lv lw lx ly b">git status</code>命令会立即显示当前的存储库状态并退出。有时，我们必须运行命令来执行长时间运行的任务，例如打开GUI文本编辑器来编辑文件、安装新的软件包以及通过互联网克隆存储库。在这些情况下，大多数程序员通常倾向于打开带有更多选项卡的多个shell实例。但是，几乎所有的命令行解释器都提供了在一个shell实例中管理这些长期运行任务的特性。</p><p id="5ab9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在类Unix操作系统中有不同的后台任务模式。最简单和最有帮助的后台任务类型是我们可以从&amp;符号(<code class="fe lv lw lx ly b">&amp;</code>)字符开始的类型。我经常使用以下命令用gedit应用程序打开一个文本文件:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="9029" class="na ma it ly b gy nb nc l nd ne">gedit myFile.py &amp;</span></pre><p id="30f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该命令打开文本编辑器，而不阻塞当前shell。因此，我可以在不关闭文本编辑器的情况下输入另一个命令。然而，这种方法不适合将内容打印到控制台的长时间任务——因为当进程打印一些文本时，shell会被阻塞。在这些场景中，我们可以使用以下命令将输出/错误流从shell中分离出来:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="0fbd" class="na ma it ly b gy nb nc l nd ne">./download.sh &amp;&gt; /dev/null &amp;</span></pre><p id="c29c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果上面的语法看起来很长，你可以在<code class="fe lv lw lx ly b">.bashrc</code>中创建一个函数，如下所示:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="b7c3" class="na ma it ly b gy nb nc l nd ne">function bgt() {<br/>  <!-- -->"$@" <!-- -->&amp;&gt; /dev/null &amp;<br/>}<br/>....<br/>....</span><span id="3cec" class="na ma it ly b gy nf nc l nd ne">bgt ./download.sh # will do the same!</span></pre><p id="40e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用内置的<code class="fe lv lw lx ly b">jobs</code>命令检查后台任务的状态。如果您需要在关闭终端后保持进程活动，可以通过<code class="fe lv lw lx ly b">nohup</code>命令生成一个进程。</p><h1 id="536c" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">学习更快地检索和输入命令</h1><p id="d21c" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">练习打字更快并不是程序员能够更快输入终端命令的唯一秘诀。每个终端应用程序都提供了一组键盘快捷键，让您在输入终端命令时更有效率。每个开发人员都知道用箭头键获取先前输入的命令，并用tab键自动完成。但是你知道如何在编辑命令时更快地移动光标吗？试着分别按下<code class="fe lv lw lx ly b">Ctrl + A</code>和<code class="fe lv lw lx ly b">Ctrl + E</code>进入开始和结束。</p><p id="788f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时候，我们经常要找到我们前段时间输入的一个命令。有两种方法可以选择一个旧的命令，而不需要多次按向上箭头键。如果您喜欢使用鼠标，将<code class="fe lv lw lx ly b">grep</code>命令和<code class="fe lv lw lx ly b">history</code>命令组合在一起，如下所示:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="d6fe" class="na ma it ly b gy nb nc l nd ne">history | grep git</span></pre><p id="7d4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的命令显示了您之前输入的所有<code class="fe lv lw lx ly b">git</code>命令，因此您可以复制并再次运行。如果你不喜欢用鼠标，可以反向搜索。按下<code class="fe lv lw lx ly b">Ctrl + R</code>并输入命令的一部分。接下来，按<code class="fe lv lw lx ly b">Ctrl + R</code>直到找到需要的命令。</p><h1 id="2c54" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">尝试在终端内进行所有文件操作</h1><p id="7973" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">在编程任务中，我们经常需要创建新文件、删除文件夹和复制文件。你不需要离开你的终端去做这些文件操作。尽管内置的GUI文件浏览器提供了更好的文件可视化概览，但它降低了文件操作的生产率，因为我们必须进行大量的点击和鼠标移动。您最喜欢的代码编辑器可能会提供一些特性来执行文件操作，但是您仍然需要使用GUI。</p><p id="266f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">练习使用<code class="fe lv lw lx ly b">touch</code>、<code class="fe lv lw lx ly b">cp</code>、<code class="fe lv lw lx ly b">mv</code>、<code class="fe lv lw lx ly b">rm</code>和<code class="fe lv lw lx ly b">mkdir</code>命令，而不是使用GUI文件管理器应用程序。但是，使用像<code class="fe lv lw lx ly b">rm</code>这样的命令要小心，因为一旦你使用了强制选项，它不会要求你确认。</p><p id="f9e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我们可以在终端应用程序上更快地执行文件搜索和文本模式搜索。例如，以下命令显示了包含<code class="fe lv lw lx ly b">unistd.h</code>头文件的所有位置:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="0ca1" class="na ma it ly b gy nb nc l nd ne">grep -rn "#include &lt;unistd.h&gt;"</span></pre><p id="41fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这些命令看起来有点长，您总是可以在<code class="fe lv lw lx ly b">.bashrc</code>文件中将这些命令定义为函数，如下所示:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="06ea" class="na ma it ly b gy nb nc l nd ne">function sp() {<br/>    grep -rn "$@"<br/>}<br/>....<br/>....</span><span id="2326" class="na ma it ly b gy nf nc l nd ne">sp "#include &lt;unistd.h&gt;" # will do the same!</span></pre><p id="8428" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，我们有时不得不使用GUI文件管理器。然后输入以下命令，在不离开终端应用程序的情况下打开它:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="c2ed" class="na ma it ly b gy nb nc l nd ne">xdg-open ~/folder # Linux<br/>open ~/folder # macOS</span></pre><h1 id="2b94" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">使用JavaScript或Python编写现代自动化脚本</h1><p id="17e1" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">当我们每天必须在终端上输入重复的命令时，我们通常会编写一个包含所有命令的shell脚本。大多数程序员使用Bash来编写他们的自动化脚本。Bash非常适合shell脚本，但是不适合构建所有的自动化脚本。如果需要用多行字符串模板创建一个文件呢？Bash是一种命令语言。因此，它没有提供所有开发人员友好的语法和特性来编写现代自动化脚本。</p><p id="7876" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尝试选择一种替代的编程语言来编写现代自动化脚本。JavaScript和Python是很好的替代品。每个类似Unix的操作系统都预装了Python版本。还有，很多程序员在自己的电脑上安装了Nodejs。因此，您可以用Python和JavaScript编写类似于Bash的可移植自动化脚本。您也可以使用这些替代方法为CI/CD服务器编写自动化脚本。</p><p id="c733" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用<a class="ae ky" href="https://github.com/google/zx" rel="noopener ugc nofollow" target="_blank"> zx </a>或<a class="ae ky" href="https://github.com/shelljs/shelljs" rel="noopener ugc nofollow" target="_blank"> shelljs </a>让您的JavaScript实用程序脚本看起来类似于Bash。另一方面，<a class="ae ky" href="https://github.com/lamerman/shellpy" rel="noopener ugc nofollow" target="_blank"> shellpy </a>帮助您编写类似Bash的Python脚本。下面的故事进一步解释了shell脚本语言:</p><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/bash-vs-python-vs-javascript-which-is-better-for-automation-92a277ef49e"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">Bash vs. Python vs. JavaScript:自动化哪个更好？</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">比较Bash、Python和基于JavaScript的Shell脚本的优缺点</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">better编程. pub</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ks nj"/></div></div></a></div><h1 id="a5cf" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">始终检查命令选项和可能的组合</h1><p id="02a2" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">特定的终端命令通常执行一个操作。例如，<code class="fe lv lw lx ly b">tac</code>命令以相反的顺序显示所提供文件的行。此外，一些外部命令带有子命令。几乎所有命令通常都支持几个命令行选项来控制内部行为。有时，这些命令行选项通过跳过额外的命令来帮助我们加快工作速度。</p><p id="02ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，您可以使用以下命令一次创建多个子目录:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="385a" class="na ma it ly b gy nb nc l nd ne">mkdir -p ./src/core/filesystem</span></pre><p id="d1b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Shell解释器支持在一行中运行一系列命令的两种方式:用分号(<code class="fe lv lw lx ly b">;</code>)或两个&amp;符号(<code class="fe lv lw lx ly b">&amp;&amp;</code>)和管道分隔命令。我们确实可以创建一行程序来提高我们的生产率，而不是一次键入一个命令。以下一行程序递归地创建一组目录，并将当前工作目录设置为最近创建的目录:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="7947" class="na ma it ly b gy nb nc l nd ne">mkdir -p ./src/core/filesystem &amp;&amp; cd $_</span></pre><p id="f2d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时，我们可以通过将特定命令的输出作为另一个命令的命令行参数发送(而不是通过管道作为标准输入)来加快速度。看看下面的例子，它一次删除所有Docker容器:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="5684" class="na ma it ly b gy nb nc l nd ne">docker rm -f $(docker ps -a -q)</span></pre><p id="09a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我们可以构建数组，并立即将它们用作命令行参数。以下一行程序将创建五个具有顺序命名的Python脚本:</p><pre class="kj kk kl km gt mw ly mx my aw mz bi"><span id="21c9" class="na ma it ly b gy nb nc l nd ne">touch script_{1..5}.py</span></pre><p id="41b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">试着用你自己的命令组合来一次做一些事情，而不是一直一次输入一个命令。</p></div></div>    
</body>
</html>