<html>
<head>
<title>How To Adjust Views To Fit the Keyboard in iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在iOS中调整视图以适应键盘</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-adjust-views-to-fit-the-keyboard-in-ios-63bcf42163b8?source=collection_archive---------14-----------------------#2021-03-08">https://betterprogramming.pub/how-to-adjust-views-to-fit-the-keyboard-in-ios-63bcf42163b8?source=collection_archive---------14-----------------------#2021-03-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2423" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用NSLayoutConstraint子类</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d7600cc272a0a9c26157bab8ffd81c69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBA5i1nza196JCk76ic3SA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者照片。</p></figure><p id="3109" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于可滚动视图，无论是<code class="fe lr ls lt lu b">UITableView</code>、<code class="fe lr ls lt lu b">UIScrollView</code>，甚至是<code class="fe lr ls lt lu b">UIView</code>，当键盘出现时，它会占用空间，通常意味着您必须根据键盘的可见性调整视图以动态响应。</p><p id="6436" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最常见的处理方式是使用<code class="fe lr ls lt lu b">NotificationCenter</code>来响应以下事件:</p><pre class="kg kh ki kj gt lv lu lw lx aw ly bi"><span id="1f55" class="lz ma iq lu b gy mb mc l md me">UIResponder.keyboardWillHideNotification<br/>UIResponder.keyboardWillChangeFrameNotification</span></pre><p id="6eca" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是可行的，但是您必须在每个使用键盘处理它的类中添加代码。<a class="ae mf" href="https://www.hackingwithswift.com/example-code/uikit/how-to-adjust-a-uiscrollview-to-fit-the-keyboard" rel="noopener ugc nofollow" target="_blank"> Hacking与Swift </a>提出的一个选项是:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="e811" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个很好用，没毛病。然而，让我们看看是否有另一种处理方法。</p><p id="7209" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我的偏好是让我的<code class="fe lr ls lt lu b">UIView</code>和<code class="fe lr ls lt lu b">UIViewController</code>的逻辑尽可能具体到那个视图，并尽可能抽象出共同的逻辑。我发现它提高了代码的可读性，提高了你理解一个不熟悉的类的速度。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h1 id="c900" class="mp ma iq bd mq mr ms mt mu mv mw mx my jw mz jx na jz nb ka nc kc nd kd ne nf bi translated">NSLayoutConstraint子类简介</h1><p id="7571" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">这就是子类化一个<code class="fe lr ls lt lu b">NSLayoutConstraint</code>变得有用的地方。根据键盘是显示还是隐藏来放置扩展和收缩的所有逻辑允许我们简单地设置一个约束，而不必担心处理它的逻辑。</p><p id="57b7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您使用<code class="fe lr ls lt lu b">AutoLayout</code>，那么您可以简单地将类设置为项目中的子类变量，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/52986dd1c16ffe950d3e27c5f299a7a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*LisLgyHR1SuD0cfrwYZLLQ.png"/></div></figure><p id="7014" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">或者，您可以通过编程来创建约束，尽管我更喜欢在适当的地方使用<code class="fe lr ls lt lu b">AutoLayout</code>。</p><p id="57b5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这种方法的唯一缺点是，如果有人最终用一个非子类化的约束替换这个约束，就会破坏视图。也就是说，类似这样的事情应该被开发人员发现，或者，在最坏的情况下，被良好的测试实践发现。我相信这种方法的好处远远大于坏处。</p><p id="1cb3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是我的子类的变体，它是对由<a class="ae mf" href="https://raw.githubusercontent.com/MengTo/Spring/master/Spring/KeyboardLayoutConstraint.swift" rel="noopener ugc nofollow" target="_blank"> Meng到</a>创建的子类的修改，非常欢迎您在您的项目中使用:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="7b21" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">就是这样！感谢阅读这篇文章。希望它教会了你一些新的东西。</p></div></div>    
</body>
</html>