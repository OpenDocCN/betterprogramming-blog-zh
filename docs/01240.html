<html>
<head>
<title>Angular 8 Series Part 4: Add Angular Material</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">角度8系列第4部分:添加角度材料</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/angular-8-series-part-4-add-angular-material-6501e91041d8?source=collection_archive---------0-----------------------#2019-08-26">https://betterprogramming.pub/angular-8-series-part-4-add-angular-material-6501e91041d8?source=collection_archive---------0-----------------------#2019-08-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3157" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建企业级应用程序系列的第四部分</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f18dcfda8080b10b57e3dc9d65b93ae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BgGE5PEBVbW8yn0oh9WO4w.png"/></div></div></figure><p id="262d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">作为Angular 8系列的一部分，在这个作品中，我将在我们的项目中添加<a class="ae lq" href="https://material.angular.io/" rel="noopener ugc nofollow" target="_blank">角状材料</a>。</p><p id="a8ad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为此，我将创建一个名为<code class="fe lr ls lt lu b">material</code>的库，正如我们在<a class="ae lq" href="https://medium.com/better-programming/angular-7-series-part-2-create-custom-library-8d7a0494b2cc" rel="noopener"> Angular 7系列第2部分:创建自定义库</a>中计划的那样，以保持Angular材质模块的导入是独立的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cde2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">添加角形材料的步骤</h1><h2 id="6ff0" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">1.创建新分支</h2><p id="0c8f" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">我用这个命令在<a class="ae lq" href="https://github.com/mkhan004/angular7-series?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Angular 7系列</a> repo中添加一个新的分支<code class="fe lr ls lt lu b">part-4/add-angular-material</code>:<code class="fe lr ls lt lu b">git checkout -b part-4/add-angular-material</code>。</p><h2 id="582d" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">2.创建素材库</h2><p id="c52c" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">由于我们已经将我们的项目升级到Angular 8，从现在开始，如果我们创建一个新的库，我将使用前缀<code class="fe lr ls lt lu b">@ng8</code>而不是<code class="fe lr ls lt lu b">@ng7</code>。</p><p id="8677" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了创建<code class="fe lr ls lt lu b">@ng8/material</code>库，我将遵循<a class="ae lq" href="https://medium.com/better-programming/angular-7-series-part-2-create-custom-library-8d7a0494b2cc" rel="noopener"> Angular 7系列第2部分:创建自定义库</a>中解释的步骤。如果你还没有读过那篇文章，请读一读。</p><p id="9b1f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我用下面的命令创建这个库:<code class="fe lr ls lt lu b">ng g library ng8-material —-prefix=ng8-material</code>。</p><p id="73da" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如您所见，我们的库已经创建:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/ef93ddc0ef0d580e8da369c2ed48ee00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UZv-V2wCzXRulLAknvRbqg.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">添加ng8-素材库</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/3d841c9e3bb3a62ee5fcc26f83383486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CfXuw-2xUQewuLqbx6NzCQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">为ng8-素材库生成的文件</p></figure><h2 id="5b72" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">3.图书馆清理</h2><p id="5170" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">基于步骤6:库清理，在<a class="ae lq" href="https://medium.com/better-programming/angular-7-series-part-2-create-custom-library-8d7a0494b2cc" rel="noopener"> Angular 7系列第2部分:创建自定义库</a>中，我现在将删除不必要的文件(组件、服务)及其导入/导出引用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/1105977ab2fbb45560db502f453e5e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q9uusl8bmbXlYjmJ4riTaA.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">已清理的文件</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/03e08bc3795dec7a44e214bb2ead52e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L7YgCxRUdhoMnUHZOxZOIQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">导入/导出引用清理</p></figure><p id="2a47" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你发现很难弄清楚哪些文件被删除和更新了，你可以查看Git <a class="ae lq" href="https://github.com/mkhan004/angular7-series/commits/part-4/add-angular-material" rel="noopener ugc nofollow" target="_blank">提交</a>。</p><h2 id="74a8" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">4.更新包名</h2><p id="79b8" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">目前在<code class="fe lr ls lt lu b">ng8-material</code>库内的<code class="fe lr ls lt lu b">package.json</code>中，是:<code class="fe lr ls lt lu b">"name": ng8-material</code>。但是，我们将把它重命名为<code class="fe lr ls lt lu b">"name": @ng8/material</code>。</p><p id="0268" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你不知道我为什么重命名库，请阅读我之前的文章<a class="ae lq" href="https://medium.com/better-programming/angular-7-series-part-2-create-custom-library-8d7a0494b2cc" rel="noopener"> Angular 7系列第二部分:创建自定义库</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/42ad56f01a326c0ba37a4acd0c4be7cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sY5FqanQFXPxFeKBneglvA.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">重命名<code class="fe lr ls lt lu b">ng8-material to @ng8/material</code></p></figure><h2 id="fb62" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">5.构建ng8材料库</h2><p id="902b" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">在添加<code class="fe lr ls lt lu b">npm</code>脚本之前，我们将使用命令<code class="fe lr ls lt lu b">ng build ng8-material</code>构建我们的新库。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/3894c8f512288c43d001cfe6dab83421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tc_74vIgQn1QONzZkt2uvQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">成功构建</p></figure><h2 id="e852" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">6.添加有角度的材料</h2><p id="0638" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">现在，我们准备添加角材料到我们的项目。</p><p id="c2ce" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我将使用Angular CLI命令添加材料。<code class="fe lr ls lt lu b">ng add @angular/material</code>。运行该命令后，您将看到一个关于预构建主题选择的CLI提示。</p><p id="77ec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我的情况下，我选择<code class="fe lr ls lt lu b">Indigo/Pink</code>，然后点击<code class="fe lr ls lt lu b">enter</code>。</p><p id="fb1e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你现在会得到另一个关于设置<code class="fe lr ls lt lu b"><a class="ae lq" href="https://hammerjs.github.io/" rel="noopener ugc nofollow" target="_blank">HammerJS</a></code>的提示，我们需要这个，回复<code class="fe lr ls lt lu b">yes</code>。下一个提示是关于设置浏览器动画。回复<code class="fe lr ls lt lu b">yes</code>就完事了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/ac47b12fa56d3add4c90c4d6a74d600c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uuLBRJbIbixiKFoKe1mZJA.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">添加@角度/材料</p></figure><p id="9a76" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如你所看到的，我们的项目中现在有棱角的材料。我们已经成功添加了<code class="fe lr ls lt lu b">@angular/cdk</code>、<code class="fe lr ls lt lu b">@angular/material</code>和<code class="fe lr ls lt lu b">hammerjs</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/9475e7e15e7fc783c49b79efc46b4a6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*66Kso8OCVFWMCkOMZH0cDA.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">角状材料</p></figure><p id="b5f1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它还为<code class="fe lr ls lt lu b">home</code>应用程序在<code class="fe lr ls lt lu b">angular.json</code>中添加了<code class="fe lr ls lt lu b">Indigo/Pink</code>主题。但是，它没有在我们的<code class="fe lr ls lt lu b">profile</code>应用程序中添加这个主题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/4b94cbe25679768b8d8c924cd52235ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mql5tISpa7lg7Z6aCX0Ltw.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">添加预构建主题</p></figure><p id="5c14" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意<strong class="kw iu"> : </strong>如果你想知道<code class="fe lr ls lt lu b">ng add @angular/material</code>为什么不更新<code class="fe lr ls lt lu b">profile</code>应用，那是因为任何<code class="fe lr ls lt lu b">ng add</code>命令只会更新<code class="fe lr ls lt lu b">default</code>项目。在我们的例子中，它是<code class="fe lr ls lt lu b">home</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/1b9c583ade5310aff62e017a9d1c2641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IpmBJac4jjYUy5G52NJ7EQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">默认项目主页</p></figure><p id="0f1a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们将回顾一下<code class="fe lr ls lt lu b">home</code>应用程序中<code class="fe lr ls lt lu b">ng add @angular/material</code>命令所做的其他更改。在<code class="fe lr ls lt lu b">app.module.ts</code>中，已经导入了<code class="fe lr ls lt lu b">BrowserAnimationsModule</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/aaeb43364a1276ae701456c0d9c2a730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gM3NWVjdSP2v4CAuh_BUDQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">应用程序模块</p></figure><p id="d3a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<code class="fe lr ls lt lu b">main.ts</code>中导入了<code class="fe lr ls lt lu b">hammerjs</code>，并在<code class="fe lr ls lt lu b">styles.scss</code>文件中添加了自定义<code class="fe lr ls lt lu b">css</code>样式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/2da70a0089924d17f3579d204fbb8980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aSgtza3BaqhN2bwPuFpzPg.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">生成的样式</p></figure><p id="f836" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，在<code class="fe lr ls lt lu b">index.html</code>中，它为材质<code class="fe lr ls lt lu b">icons</code>和<code class="fe lr ls lt lu b">Roboto</code>字体添加了<code class="fe lr ls lt lu b">stylesheet</code>链接，这是角材质的默认设置。</p><p id="518c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦我们在接下来的文章中增加了对<code class="fe lr ls lt lu b">theming</code>的支持，我们将学习如何改变这个默认的字体系列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/852deb59a24d5e035cccb97cf211a0be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*157S7pNbMooSZmnFZagu8A.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated"><code class="fe lr ls lt lu b">Stylesheet links</code></p></figure><h2 id="3508" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">7.为特定项目添加角形材料</h2><p id="b080" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">问题是:“我们如何对其他非默认项目，如<code class="fe lr ls lt lu b">profile</code>应用程序，进行与步骤6中对<code class="fe lr ls lt lu b">home</code>应用程序相同的更改？我们需要手动操作吗？”</p><p id="ad89" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">否，因为Angular CLI添加了一个<code class="fe lr ls lt lu b">--project=your-project-name</code>标志。</p><p id="a562" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我将运行<code class="fe lr ls lt lu b">ng add @angular/material --project=<strong class="kw iu">profile</strong></code>命令，在<code class="fe lr ls lt lu b">profile</code>应用程序中应用相同的更改。</p><p id="4703" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可能已经注意到，这一次它没有添加/更新<code class="fe lr ls lt lu b">package.json</code>，因为在上一个命令中，它已经添加了所需的包。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/832950a7b2457c65c3d302708fe25d09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vsTfYGt1lBhJEeQE60IFXA.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">提示交互</p></figure><h2 id="4b1b" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">8.添加npm构建脚本</h2><p id="8e61" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">现在，我将为<code class="fe lr ls lt lu b">ng8-material</code>添加构建脚本，与<code class="fe lr ls lt lu b">ng7-common</code>相同。我还会更新<code class="fe lr ls lt lu b">library:build</code>脚本。</p><p id="4e09" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以下是我所做的更改:</p><pre class="kj kk kl km gt od lu oe of aw og bi"><span id="6038" class="mu md it lu b gy oh oi l oj ok">"ng8-material:build": "ng build ng8-material &amp;&amp; npm i dist/ng8-material --save-optional",<br/>"library:build": "npm run ng7-common:build &amp;&amp; npm run ng8-material:build"</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/1fb145851cf16cd9bc8ef2488ff45aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GqcYCkzV83vvpOaxd9krCQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">ng8-材料的新脚本</p></figure><p id="86d1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我将运行<code class="fe lr ls lt lu b">npm run library:build</code>命令到<code class="fe lr ls lt lu b">build</code>和<code class="fe lr ls lt lu b">install</code>我们的新库。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/bdcada207fe007e31aed226a4a889a4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1hKw-Ffvfm3JCkIt8SFOoA.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">npm运行库:构建</p></figure><h2 id="a146" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">9.在ng8-材料库中添加角度材料模块</h2><p id="72a4" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">为了尽量减少库的变化，我将导入<code class="fe lr ls lt lu b">ng8-material</code>库中所有可用的材料模块。但是，在你的情况下，你应该只添加需要的模块，否则，它会给你编译的<code class="fe lr ls lt lu b">dist</code>增加额外的负担，这是你应该避免的。</p><p id="1190" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从这个StackBlitz <a class="ae lq" href="https://stackblitz.com/angular/lngdalpggar?file=app%2Fmenu-position-example.ts" rel="noopener ugc nofollow" target="_blank">示例</a>中，我复制了<code class="fe lr ls lt lu b">ng8-material.module.ts</code>中的材料模块。</p><p id="3e2b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">确保你也列出了<code class="fe lr ls lt lu b">@NgModule</code>的<code class="fe lr ls lt lu b">export</code>模块中的所有模块。否则，客户端应用程序将无法使用材料组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/9c78d5ff3326c9d21d127b8083bbb634.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0rB8hG1x249jqMW6R_eblQ.png"/></div></div></figure><h2 id="434f" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">10.添加角度材料顶部导航</h2><p id="728e" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">为了测试我们的角度材质实现，我使用<code class="fe lr ls lt lu b">MatToolbarModule</code>添加了一个简单的顶部导航。</p><p id="ab10" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由于相同的顶部导航组件将在<code class="fe lr ls lt lu b">home</code>和<code class="fe lr ls lt lu b">profile</code>应用程序中使用，我使用命令<code class="fe lr ls lt lu b">ng g component TopNav --project=ng7-common</code>将这个<code class="fe lr ls lt lu b">TopNav</code>组件添加到<code class="fe lr ls lt lu b">ng7-common</code>库中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/03aed65792286edcbc62904562a52cf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xxLvbJ88SSmc8KwqYaHSGQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">添加顶部导航</p></figure><p id="7666" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我需要将<code class="fe lr ls lt lu b">Ng8MaterialModule</code>导入到<code class="fe lr ls lt lu b">Ng7CommonModule</code>中，这样我就可以访问<code class="fe lr ls lt lu b">@ng7-common</code>库中的所有角度材料组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/ea35689d7c170538dcb065aefedbfe11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h33xN_UzZZjEGsxzUPdDKQ.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">导入Ng8MaterialModule</p></figure><p id="24ab" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，让我们使用<code class="fe lr ls lt lu b">MatToolbar</code>组件创建<code class="fe lr ls lt lu b">TopNavComponent</code>模板。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="7670" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我还在<code class="fe lr ls lt lu b">top-nav.component.scss</code>中添加了一行<code class="fe lr ls lt lu b">css</code>代码来合成导航按钮的位置。</p><pre class="kj kk kl km gt od lu oe of aw og bi"><span id="cc6c" class="mu md it lu b gy oh oi l oj ok">.menu-spacer {<br/>  flex: 1 1 auto;<br/>}</span></pre><p id="ee37" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我从<code class="fe lr ls lt lu b">Ng7CommonModule</code>导出这个<code class="fe lr ls lt lu b">TopNavComponent</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/a5440f85483ee18c0d4fac216c836bab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DXCg-JAsqpzZXpNhyJi-Aw.png"/></div></div></figure><p id="7578" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们还需要通过<code class="fe lr ls lt lu b">public_api.ts</code>导出<code class="fe lr ls lt lu b">TopNavComponent</code>。有关详细信息，请学习<a class="ae lq" href="https://medium.com/better-programming/angular-7-series-part-2-create-custom-library-8d7a0494b2cc" rel="noopener"> Angular 7系列第2部分:创建自定义库</a>中的步骤10:从库中导出组件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/732897650ac1ec49fcd89689abe8135e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6sHoWlLcwDx4VADG70BVBA.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">导出顶部导航组件</p></figure><h2 id="896e" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">11.构建库</h2><p id="9478" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">现在，我使用<code class="fe lr ls lt lu b">npm run library:build</code>命令构建我们两个库。构建成功，但有一个警告日志:</p><pre class="kj kk kl km gt od lu oe of aw og bi"><span id="f308" class="mu md it lu b gy oh oi l oj ok">No name was provided for external module '<a class="ae lq" href="http://twitter.com/ng8/material" rel="noopener ugc nofollow" target="_blank">@ng8/material</a>' in output.globals – guessing 'material'</span></pre><p id="cc53" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">要解决这个问题，您可以遵循<a class="ae lq" href="https://medium.com/better-programming/angular-7-series-part-2-create-custom-library-8d7a0494b2cc" rel="noopener"> Angular 7系列第2部分:创建自定义库</a>中的“一些难点”一节。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/67b241c25bb9d63c4a7e34c74df3563c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FXE8SsceFGO6s1Z32tpX3g.png"/></div></div></figure><h2 id="c0b7" class="mu md it bd me mv mw dn mi mx my dp mm ld mz na mo lh nb nc mq ll nd ne ms nf bi translated">12.在主应用程序中包含TopNavComponent</h2><p id="15bf" class="pw-post-body-paragraph ku kv it kw b kx ng ju kz la nh jx lc ld ni lf lg lh nj lj lk ll nk ln lo lp im bi translated">我正在<code class="fe lr ls lt lu b">app.component.html</code>模板的顶部添加<code class="fe lr ls lt lu b">&lt;ng7-common-top-nav&gt;&lt;/ng7-common-top-nav&gt;</code>。最后，使用<code class="fe lr ls lt lu b">npm run home:client</code>命令运行<code class="fe lr ls lt lu b">home</code>应用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/30853c2329a1f33e9829bc20c376caac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*clQ20cDrcNOdaNTXGVc5Hg.png"/></div></div><p class="nm nn gj gh gi no np bd b be z dk translated">民用</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c721" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">资源</h1><ul class=""><li id="4dde" class="ow ox it kw b kx ng la nh ld oy lh oz ll pa lp pb pc pd pe bi translated"><a class="ae lq" href="https://github.com/mkhan004/angular7-series" rel="noopener ugc nofollow" target="_blank">这一块的源代码</a>。</li><li id="2a0f" class="ow ox it kw b kx pf la pg ld ph lh pi ll pj lp pb pc pd pe bi translated">要了解更多关于角状材料的信息，请访问他们的文档。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3092" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">其他文章</h1><ul class=""><li id="735c" class="ow ox it kw b kx ng la nh ld oy lh oz ll pa lp pb pc pd pe bi translated"><a class="ae lq" href="https://medium.com/better-programming/angular-7-series-part-1-create-enterprise-level-application-36c84786fa27?source=post_page---------------------------" rel="noopener"> Angular 7系列第1部分:创建企业级应用</a></li><li id="f62c" class="ow ox it kw b kx pf la pg ld ph lh pi ll pj lp pb pc pd pe bi translated"><a class="ae lq" href="https://medium.com/better-programming/angular-7-series-part-2-create-custom-library-8d7a0494b2cc" rel="noopener"> Angular 7系列第2部分:创建自定义库</a></li><li id="727a" class="ow ox it kw b kx pf la pg ld ph lh pi ll pj lp pb pc pd pe bi translated"><a class="ae lq" href="https://medium.com/better-programming/angular-8-series-part-3-upgrade-to-angular-8-c08745131cb6" rel="noopener"> Angular 8系列第3部分:升级到Angular 8 </a></li><li id="21ca" class="ow ox it kw b kx pf la pg ld ph lh pi ll pj lp pb pc pd pe bi translated">Angular 8系列第5部分:添加角度路由(即将推出)</li></ul></div></div>    
</body>
</html>