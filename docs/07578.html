<html>
<head>
<title>7 Must-Know Typescript Transpiled Features</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">7个必须知道的打字稿翻译功能</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/7-must-know-typescript-transpiled-features-e2365cce17e2?source=collection_archive---------9-----------------------#2021-01-28">https://betterprogramming.pub/7-must-know-typescript-transpiled-features-e2365cce17e2?source=collection_archive---------9-----------------------#2021-01-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3887" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将最新的ECMAScript功能与Typescript一起使用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8c4b1cbe7e1f472a4ead64310c3d1f5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uRYLv7uBLfIPLUgurNGYZg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@ikukevk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">凯文·Ku</a>在<a class="ae ky" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="1064" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Typescript是一种由微软开发和维护的编程语言。它是Javascript的超集，为语言增加了输入功能。它具有很酷的特性，如<a class="ae ky" href="https://medium.com/better-programming/master-typescripts-type-guards-1fd5436bc6f2" rel="noopener">型防护装置</a>、<a class="ae ky" href="https://medium.com/better-programming/mastering-typescripts-mapped-types-5fa5700385eb" rel="noopener">映射型</a>和<a class="ae ky" href="https://medium.com/better-programming/mastering-typescripts-mapped-types-5fa5700385eb" rel="noopener">联合型</a>。它非常适合处理大型代码库，因为它的类型化为您的接口提供了一些更全面的契约。</p><p id="e5a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Typescript将文件转换成Javascript。在您的<code class="fe lv lw lx ly b">tsconfig</code>配置文件中，您可以指定您想要将它转换成哪种<code class="fe lv lw lx ly b">target</code>语言。这意味着您已经可以开箱即用先进的ECMAScript功能。</p><p id="6b62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看Typescript可以传输的7大特性。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="dbae" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">1.可选链接</h1><blockquote class="my mz na"><p id="d2ad" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated"><em class="it"/><strong class="lb iu"><em class="it">可选链接</em> </strong> <em class="it">操作符(</em> <code class="fe lv lw lx ly b"><strong class="lb iu"><em class="it">?.</em></strong></code> <em class="it">)允许读取位于连接对象链深处的属性值，而不必明确验证链中的每个引用是否有效。</em> <code class="fe lv lw lx ly b"><em class="it">?.</em></code> <em class="it">操作符的功能与</em> <code class="fe lv lw lx ly b"><em class="it">.</em></code> <em class="it">链接操作符类似，只是如果引用是</em><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Glossary/Nullish" rel="noopener ugc nofollow" target="_blank"><em class="it">nullish</em></a><em class="it">(</em><code class="fe lv lw lx ly b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" rel="noopener ugc nofollow" target="_blank"><em class="it">null</em></a></code><em class="it">或</em> <code class="fe lv lw lx ly b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" rel="noopener ugc nofollow" target="_blank"><em class="it">undefined</em></a></code> <em class="it">)，则表达式会短路，返回值为</em> <code class="fe lv lw lx ly b"><em class="it">undefined</em></code> <em class="it">。用于函数调用时，如果给定函数不存在，则返回</em> <code class="fe lv lw lx ly b"><em class="it">undefined</em></code> <em class="it">。”</em></p><p id="2622" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated"><em class="it"> — MDN </em></p></blockquote><p id="7d39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">ECMAScript 2020</code>带来了这个牛逼的功能。它在早期的Typescript语言中是可用的，并且非常方便。</p><p id="c305" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可选属性如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="1c1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可选方法如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="586f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">堆栈可选赋值器包括:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="a630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💁当您将Typescript配置切换到<code class="fe lv lw lx ly b">strict: true</code>时，这种可选的链接很方便。它将以一种快速而优雅的方式解决所有这些问题。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="c2c5" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">2.零合并</h1><p id="ffe7" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">这是<code class="fe lv lw lx ly b">ECMAScript 2020</code>规格中附带的新功能。在<code class="fe lv lw lx ly b">Typescript 3.7</code>中介绍过。你不需要一个最小的<code class="fe lv lw lx ly b">target</code>来传输这个文件。可以配合<code class="fe lv lw lx ly b">ES3/ES5</code>使用。</p><blockquote class="my mz na"><p id="2030" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated"><strong class="lb iu">无效合并运算符(</strong> <code class="fe lv lw lx ly b"><strong class="lb iu"><em class="it">??</em></strong></code> <strong class="lb iu"> ) </strong>是一个逻辑运算符，当其左侧操作数为<code class="fe lv lw lx ly b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null" rel="noopener ugc nofollow" target="_blank"><em class="it">null</em></a></code>或<code class="fe lv lw lx ly b"><a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined" rel="noopener ugc nofollow" target="_blank"><em class="it">undefined</em></a></code>时，返回其右侧操作数，否则返回其左侧操作数</p><p id="8a67" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated">— MDN</p></blockquote><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="11cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">⚠️注意到，合并运算符没有考虑像<code class="fe lv lw lx ly b">0</code>这样虚假值。它将被计为一个实际变量。当用这个替换基于<code class="fe lv lw lx ly b">truthy/falsy</code>的操作符时，你必须小心。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="6b7f" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">3.逻辑赋值运算符</h1><p id="f14f" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">Javascript很早就支持<code class="fe lv lw lx ly b">assignment operators</code>对数字进行操作。使用<code class="fe lv lw lx ly b">ES2021</code>，将支持逻辑运算符。</p><p id="f8aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从Typescript <code class="fe lv lw lx ly b">4.0</code>开始支持这个特性，并且不需要最小的<code class="fe lv lw lx ly b">target</code>配置。</p><p id="10d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面让我们来看看它的实际应用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="894f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你已经习惯了<code class="fe lv lw lx ly b">assignment operators</code>，你会发现它使用起来既简单又直观。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="d90a" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">4.众所周知的ES6功能</h1><h2 id="81a3" class="nm mh it bd mi nn no dn mm np nq dp mq li nr ns ms lm nt nu mu lq nv nw mw nx bi translated">Const and let</h2><p id="b1e5" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated"><code class="fe lv lw lx ly b">const</code>和<code class="fe lv lw lx ly b">let</code>是对<code class="fe lv lw lx ly b">ES6</code>非常著名的补充。有很多人使用这个特性，然后使用<a class="ae ky" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> Babel </a>将其传输到<code class="fe lv lw lx ly b">ES5</code>。Typescript将免费为您完成这项工作。你只需要在<code class="fe lv lw lx ly b">tsconfig</code>上设置相应的<code class="fe lv lw lx ly b">target</code>。下面是一些代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="a1ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您的目标是<code class="fe lv lw lx ly b">ES5</code>，这是输出:</p><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="d8f2" class="nm mh it ly b gy oc od l oe of">var MAX_ATTEMPTS = 1;<br/>var createTask = function () {<br/>    var attempts = 0;<br/>    return function () {<br/>        if (attempts &lt; MAX_ATTEMPTS) {<br/>            console.log('success');<br/>            attempts++;<br/>            return;<br/>        }<br/>        console.log('error');<br/>    };<br/>};<br/>var task = createTask();<br/>task(); // success<br/>task(); // error</span></pre><h2 id="8a8d" class="nm mh it bd mi nn no dn mm np nq dp mq li nr ns ms lm nt nu mu lq nv nw mw nx bi translated">模板字符串</h2><p id="d239" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated"><code class="fe lv lw lx ly b">ES6</code>推出这一众所周知的功能。</p><blockquote class="my mz na"><p id="d1ae" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated">模板文字是允许嵌入表达式的字符串文字。您可以使用多行字符串和字符串插值功能。”</p><p id="cc1d" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated">— MDN</p></blockquote><p id="3208" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它可以在<code class="fe lv lw lx ly b">tsconfig</code>中没有任何最小值<code class="fe lv lw lx ly b">target</code>的情况下用于打字稿。</p><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="5d7b" class="nm mh it ly b gy oc od l oe of">const logParam = (param: string) =&gt; {<br/>  console.log(`param ${param}`);<br/>}</span><span id="e047" class="nm mh it ly b gy og od l oe of">logParam('Hello World');</span></pre><p id="90bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">ES5</code>的输出将为:</p><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="e527" class="nm mh it ly b gy oc od l oe of">var logParam = function (param) {<br/>    console.log("param " + param);<br/>};</span><span id="441a" class="nm mh it ly b gy og od l oe of">logParam('Hello World');</span></pre><h2 id="aa0a" class="nm mh it bd mi nn no dn mm np nq dp mq li nr ns ms lm nt nu mu lq nv nw mw nx bi translated">箭头功能</h2><blockquote class="my mz na"><p id="0bcc" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated">“箭头函数表达式是传统<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" rel="noopener ugc nofollow" target="_blank">函数表达式</a>的紧凑替代形式，但有局限性，不能在所有情况下使用。”</p><p id="8b07" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated">— MDN</p></blockquote><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="6b41" class="nm mh it ly b gy oc od l oe of">const trueArrowFunction = () =&gt; true;</span><span id="d9af" class="nm mh it ly b gy og od l oe of">console.log(trueArrowFunction();); // true</span></pre><p id="b09e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">⚠️注意，滥用箭头函数可能会对内存使用产生一些影响。如果你想保持高性能，只在需要的时候使用它们。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="59b2" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">5.私有访问器</h1><p id="37d8" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">当处理类时，拥有一些私有属性可能是有用的。Typescript允许通过使用<code class="fe lv lw lx ly b">private</code>修饰符来使用它。这样，类中唯一的方法将访问该成员。</p><p id="f292" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，这只是糖语法，属性将在Javascript对象中。如果您尝试访问Typescript，它将在编译时失败。下面是一些代码示例:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="b88f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个特性很快就会在<code class="fe lv lw lx ly b">ECMAScript</code>中出现。你可以在这里找到提案。它已经可供您在Typescript中使用；但是，您需要将<code class="fe lv lw lx ly b">target</code>设置为<code class="fe lv lw lx ly b">ES6</code>或更高。下面是一些代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="0bc6" class="nm mh it ly b gy oc od l oe of">Property '#lives' is not accessible outside class 'Cat' because it has a private identifier.</span></pre><p id="e0b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以选择使用<code class="fe lv lw lx ly b">private</code>修改器或者使用<code class="fe lv lw lx ly b">ECMAScript</code>方法。这取决于您的<code class="fe lv lw lx ly b">target</code> javascript版本以及您是否正在使用polyfill。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="21e1" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">6.异步和等待</h1><p id="2367" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated"><code class="fe lv lw lx ly b">async/await</code>的特点是围绕承诺的甜言蜜语。它允许您以同步的方式处理异步JavaScript代码。它防止你陷入回调地狱，并使你的代码更具可读性。Typescript要求最少的<code class="fe lv lw lx ly b">target</code>为<code class="fe lv lw lx ly b">ES6</code>，少于该规范发布时的原始<code class="fe lv lw lx ly b">ES7</code>。</p><p id="4323" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">ES6</code>支持<code class="fe lv lw lx ly b">97.29%</code>，所以你可以决定是否要为此添加一个多填充。</p><p id="b401" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">async/await</code>的例子:</p><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="3682" class="nm mh it ly b gy oc od l oe of">const fetchAllData = async () =&gt; {<br/>  await Promise.resolve(true);<br/>  await Promise.resolve(true);</span><span id="2f15" class="nm mh it ly b gy og od l oe of">  return true;<br/>}</span></pre><p id="4e0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，<code class="fe lv lw lx ly b">Top level async/await</code>是作为<code class="fe lv lw lx ly b">ES2020</code>的一部分发货的。为了使用这个特性，您需要一些配置设置:</p><ul class=""><li id="ca93" class="oh oi it lb b lc ld lf lg li oj lm ok lq ol lu om on oo op bi translated">打字稿<code class="fe lv lw lx ly b">3.8</code>或更高版本</li><li id="ed86" class="oh oi it lb b lc oq lf or li os lm ot lq ou lu om on oo op bi translated"><code class="fe lv lw lx ly b">target</code>编译器选项必须是<code class="fe lv lw lx ly b">ES2017</code>或更高版本</li><li id="ed24" class="oh oi it lb b lc oq lf or li os lm ot lq ou lu om on oo op bi translated"><code class="fe lv lw lx ly b">module</code>编译器选项必须是<code class="fe lv lw lx ly b">esnext</code>或<code class="fe lv lw lx ly b">system</code>。</li></ul><p id="cc5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">之所以需要移植到<code class="fe lv lw lx ly b">ES2017</code>或更新的环境，是因为它需要一个支持<code class="fe lv lw lx ly b">ES</code>模块的环境。</p><p id="442b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看一个<code class="fe lv lw lx ly b">Top Level Await</code>的例子:</p><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="c568" class="nm mh it ly b gy oc od l oe of">const featureEnabled = await Promise.resolve(true);</span><span id="31fe" class="nm mh it ly b gy og od l oe of">export const isFeatureEnabled = () =&gt; featureEnabled;</span></pre><p id="f7d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击<a class="ae ky" href="https://www.typescriptlang.org/play?ssl=3&amp;ssc=54&amp;pln=1&amp;pc=1#code/MYewdgzgLgBAZgUwIZQK4CcEFExIEYA2CAJjALwxIDuSAlrAArogC2tECAdJhCAQG4IAFFHSoEASgDcAKBkIAHgAcQ6WKEix2AMWRpMOfEVIUhE8gD54ejNlyESUoA" rel="noopener ugc nofollow" target="_blank">这里</a>查看Typescript Playground上的现场演示。</p><p id="c9fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">⚠️你需要有一个<code class="fe lv lw lx ly b">export/import</code>语句，因为这个特性只有模块支持。</p><p id="f85e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">⚠️如果您的Typescript配置没有正确设置，您将在使用顶级<code class="fe lv lw lx ly b">async</code>时面临以下错误:</p><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="2936" class="nm mh it ly b gy oc od l oe of">Top-level 'await' expressions are only allowed when the 'module' option is set to 'esnext' or 'system', and the 'target' option is set to 'es2017' or higher.</span></pre><p id="92f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击<a class="ae ky" href="https://www.typescriptlang.org/play?target=3#code/MYewdgzgLgBAZgUwIZQK4CcEFExIEYA2CAJjALwxIDuSAlrAArogC2tECAdJhCAQG4IAFFHSoEASgDcAKBkIAHgAcQ6WKEix2AMWRpMOfEVIUhE8gD54ejNlyESUoA" rel="noopener ugc nofollow" target="_blank">查看Typescript Playground上的现场演示</a>。</p><p id="4d04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个常见的用例是，当应用程序加载时，您希望延迟加载模块上的信息。这样，您可以生成一个较小的包，通过网络发送，并延迟加载所有可以等待的服务和功能。注意不要影响UX体验——滥用惰性加载是有害的。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="5cc6" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">7.装修工</h1><blockquote class="my mz na"><p id="2341" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated">随着TypeScript和ES6中类的引入，现在存在某些需要附加功能来支持注释或修改类和类成员的场景。Decorators提供了一种为类声明和成员添加注释和元编程语法的方法。</p><p id="63c5" class="kz la nb lb b lc ld ju le lf lg jx lh nc lj lk ll nd ln lo lp ne lr ls lt lu im bi translated">—类型脚本语言</p></blockquote><p id="d652" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">装饰器是一种众所周知的模式，在许多编程语言中都可以使用。他们目前处于第二阶段提案阶段，但他们已经在打字稿中存在了相当长的时间。这是谷歌和微软团队的首次合作之一。它们在<code class="fe lv lw lx ly b">Angular</code>库中被大量使用。</p><p id="525a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看启用该功能所需的<code class="fe lv lw lx ly b">tsconfig</code>参数:</p><pre class="kj kk kl km gt ny ly nz oa aw ob bi"><span id="7f04" class="nm mh it ly b gy oc od l oe of">{<br/>  "<a class="ae ky" href="https://www.typescriptlang.org/tsconfig#compilerOptions" rel="noopener ugc nofollow" target="_blank">compilerOptions</a>":<br/>  {<br/>    "<a class="ae ky" href="https://www.typescriptlang.org/tsconfig#target" rel="noopener ugc nofollow" target="_blank">target</a>": "ES5",<br/>    "<a class="ae ky" href="https://www.typescriptlang.org/tsconfig#experimentalDecorators" rel="noopener ugc nofollow" target="_blank">experimentalDecorators</a>": true<br/>  }<br/>}</span></pre><p id="c945" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有3种主要的装饰者:</p><ul class=""><li id="63fd" class="oh oi it lb b lc ld lf lg li oj lm ok lq ol lu om on oo op bi translated">类装饰者</li><li id="609f" class="oh oi it lb b lc oq lf or li os lm ot lq ou lu om on oo op bi translated">方法装饰者</li><li id="21e5" class="oh oi it lb b lc oq lf or li os lm ot lq ou lu om on oo op bi translated">物业装饰</li></ul><p id="d9f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了简单起见，我们将看到一个基本的方法装饰器。我们将创建一个装饰器来记录哪个<code class="fe lv lw lx ly b">method</code>被调用及其参数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="6285" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">包裹</h1><p id="1e0b" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">我们已经简要地看了开箱即用的Typescript transpiles的主要特性。这些<code class="fe lv lw lx ly b">ECMAScript</code>特性出现在类型脚本世界比Javascript世界早得多。</p><p id="479e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Typescript之所以出色有很多原因，能够使用前沿特性无疑是一个重要原因。不要认为Typescript只是将类型引入JavaScript代码，而是将类型+特性引入代码。</p><p id="10eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多的Typescript内容将会出现。</p><p id="fac9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">干杯</p><h1 id="8b7d" class="mg mh it bd mi mj ov ml mm mn ow mp mq jz ox ka ms kc oy kd mu kf oz kg mw mx bi translated">有关系的</h1><div class="pa pb gp gr pc pd"><a rel="noopener  ugc nofollow" target="_blank" href="/top-5-typescript-features-you-should-master-2358db9ab3d5"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd iu gy z fp pi fr fs pj fu fw is bi translated">您应该掌握的五大打字稿功能</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">使用这些必须知道的特性来提高您的打字稿知识</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">better编程. pub</p></div></div><div class="pm l"><div class="pn l po pp pq pm pr ks pd"/></div></div></a></div><div class="pa pb gp gr pc pd"><a href="https://medium.com/better-programming/getting-strict-with-typescript-2e906b48c0a" rel="noopener follow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd iu gy z fp pi fr fs pj fu fw is bi translated">对类型脚本越来越严格</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">使您的类型脚本代码更具可读性和类型安全</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">medium.com</p></div></div><div class="pm l"><div class="ps l po pp pq pm pr ks pd"/></div></div></a></div></div></div>    
</body>
</html>