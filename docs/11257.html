<html>
<head>
<title>Lightweight and Efficient Database Alternatives For Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python的轻量级高效数据库替代方案</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/lightweight-efficient-database-alternatives-for-python-bb990eee752?source=collection_archive---------0-----------------------#2022-03-03">https://betterprogramming.pub/lightweight-efficient-database-alternatives-for-python-bb990eee752?source=collection_archive---------0-----------------------#2022-03-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d06f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你并不总是需要一个庞大的关系数据库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/110e6acbb8e53eb4e3f7746d41d3f8dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_kc3Rj0zRuAnGguu2Kt1pg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@project2204?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">叶小开·克里斯托弗·古特瓦尔德</a>在<a class="ae ky" href="https://unsplash.com/s/photos/database?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="b889" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不管你喜不喜欢，在你作为软件开发人员的职业生涯中，总有一天你会不得不写一些SQL。无论您使用的是MySQL、Postgres还是任何其他类型的数据库，管理这些解决方案的开销可能会高得令人难以置信。如果您需要的只是存储一些基本值，那么您可能会想，您是否真的需要这个又大又坏的数据库。</p><p id="eaf6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">你可能不知道。</em></p><p id="3d7b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从事需要从磁盘读写数据的项目并不一定需要传统的数据库。如果数据复杂性相对较低，并且不需要复制之类的高级特性，那么对于成熟的关系数据库有很多替代方案。</p><p id="40f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们探索其中一些简单的替代方案，看看它们如何帮助您快速启动并运行数据存储，同时减少管理开销。</p><h1 id="43ee" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">罢免</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/8b88a3754f26bf7649ff1b4844191b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/0*uzXSw_6l9occN8zl.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.python.org/community/logos/" rel="noopener ugc nofollow" target="_blank">来源</a>。</p></figure><p id="6a1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您正在寻找用Python存储一些持久数据的最简单的方法，这可能就是您要找的。使用Shelve，您可以以简单、高效的方式存储简单的Python对象。Shelve最棒的地方在于它已经默认包含在Python标准库中。你甚至不需要安装任何东西。</p><p id="a52b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在引擎盖下，Shelve利用了古老的Unix数据库系统DBM。尽管如此，搁置与DBM仍然是足够快的简单项目。如果您希望简单地使用低复杂度的纯Python对象，这是一个很好的选择。</p><p id="e350" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个在搁板内存放简单词典的简单例子:</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="993b" class="mu lx it mq b gy mv mw l mx my">#!/usr/bin/env python3</span><span id="9d66" class="mu lx it mq b gy mz mw l mx my">import shelve</span><span id="e973" class="mu lx it mq b gy mz mw l mx my">store = shelve.open('store')</span><span id="5917" class="mu lx it mq b gy mz mw l mx my">store['data'] = {'one':1, 'two': 2}</span><span id="9c28" class="mu lx it mq b gy mz mw l mx my">print(store['data']['one'])</span><span id="432d" class="mu lx it mq b gy mz mw l mx my">store.close()</span></pre><p id="6b9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看<a class="ae ky" href="https://docs.python.org/3/library/shelve.html" rel="noopener ugc nofollow" target="_blank">官方Python文档</a>了解更多货架使用和配置选项。</p><h1 id="d687" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">PickleDB</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/ec83d9088804afb32bf7affa57fb504b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/0*kA_D85uWF7d1oZEb.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://pythonhosted.org/pickleDB/" rel="noopener ugc nofollow" target="_blank">来源</a>。</p></figure><p id="7bd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谁不爱吃咸菜！谁知道它们也是绝佳的储物选择。虽然从技术上讲，pickleDB的名称中确实有“数据库”这个词，但它还远远不是一个成熟的数据库。这个Python模块实际上被认为是一个<a class="ae ky" href="https://en.wikipedia.org/wiki/Key%E2%80%93value_database" rel="noopener ugc nofollow" target="_blank">键值存储</a>。</p><p id="e8c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用pickleDB，您可以存储类似于散列表的简单数据。这种超轻量存储解决方案的好处是配置非常少。您将不会与权限或冗长的配置文件发生冲突。</p><p id="31ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个使用pickleDB快速启动和运行的例子:</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="74b9" class="mu lx it mq b gy mv mw l mx my">import pickledb</span><span id="df3a" class="mu lx it mq b gy mz mw l mx my">store = pickledb.load('store.db', auto_dump=False)</span><span id="be0e" class="mu lx it mq b gy mz mw l mx my">store.set('name', 'bob')</span><span id="8673" class="mu lx it mq b gy mz mw l mx my">name = store.get('name')</span><span id="8142" class="mu lx it mq b gy mz mw l mx my">print(name)</span></pre><p id="ae0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在官方pickleDB网站查看更多信息。</p><h1 id="1d18" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">TinyDB</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/306e064a43fbb993f0f65ff3382bb977.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/0*fWqBCAlJNH9yNGnp.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://tinydb.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">来源</a>。</p></figure><p id="944f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与pickleDB和Shelve类似，TinyDB是另一种快速、轻量级的键值存储。TinyDB以其超薄、速度快和使用简单而自豪。TinyDB的接口类似于许多键值存储，但是提供了许多额外的特性，比如编写自己的存储中间件的能力。</p><p id="844e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与pickleDB之类的东西相比，TinyDB有更健壮的API和更活跃的开发社区。</p><p id="9d1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是TinyDB入门的一个片段:</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="8ad5" class="mu lx it mq b gy mv mw l mx my">import tinydb</span><span id="cb20" class="mu lx it mq b gy mz mw l mx my">store = tinydb.TinyDB('store.json')</span><span id="976f" class="mu lx it mq b gy mz mw l mx my">store.insert({'name':'bob'})</span><span id="f27e" class="mu lx it mq b gy mz mw l mx my">results = store.all()</span><span id="cb75" class="mu lx it mq b gy mz mw l mx my">print(results)</span></pre><p id="cabb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看<a class="ae ky" href="https://tinydb.readthedocs.io" rel="noopener ugc nofollow" target="_blank"> TinyDB文档</a>获取使用说明和精彩的入门指南。</p><h1 id="b40c" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">H5py</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/f0ed0366ccf87f59aa21b41c686ab966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*SLGiFUrKpQ1yacM3"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.hdfgroup.org" rel="noopener ugc nofollow" target="_blank">来源</a>。</p></figure><p id="d778" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">分层数据格式(或<a class="ae ky" href="https://en.wikipedia.org/wiki/Hierarchical_Data_Format" rel="noopener ugc nofollow" target="_blank"> HDF5 </a>)是一种存储大量数据的高性能方式。这最初是作为一种标准化大量科学数据的分发和共享的方式而开发的。</p><p id="9207" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不过，使用这种方法在Python中存储数据，你不必是超级计算机科学家。事实上，h5py项目让开始变得非常简单。</p><p id="98a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看以下代码，了解在Python中快速存储和读取HDF5数据的方法:</p><pre class="kj kk kl km gt mp mq mr ms aw mt bi"><span id="4345" class="mu lx it mq b gy mv mw l mx my">#!/usr/bin/python3</span><span id="9ba2" class="mu lx it mq b gy mz mw l mx my">import h5py</span><span id="cc27" class="mu lx it mq b gy mz mw l mx my">store = h5py.File("store.hdf5", "w")<br/>dataset = store.create_dataset("test", (10,), dtype='i')</span><span id="9888" class="mu lx it mq b gy mz mw l mx my">dataset[0] = 1<br/>dataset[1] = 2<br/>dataset[2] = 3</span><span id="a7d6" class="mu lx it mq b gy mz mw l mx my">print(dataset[0])<br/>print(dataset[1])<br/>print(dataset[2])</span></pre><p id="0ca3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用Numpy并处理大量数字，那么这个快速高效的数据存储是一个更好的选择。您也可以直接在存储中设置Numpy数据类型。</p><p id="d58a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开发和参与HDF项目的官方组织HDF小组写了一篇精彩的博客文章，标题为:<a class="ae ky" href="https://www.hdfgroup.org/2015/03/hdf5-as-a-zero-configuration-ad-hoc-scientific-database-for-python/" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> HDF5作为一个用于Python </em> </a>的零配置、专用科学数据库。这篇文章展示了HDF5和h5py项目对于运行一个简单的数据存储是多么有用。</p><p id="ec45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">官方的h5py GitHub也有丰富的信息。</p><h1 id="245a" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">ZODB</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/7f0aff2dcb079b983f0b6a20dd25e25b.png" data-original-src="https://miro.medium.com/v2/resize:fit:178/format:webp/0*oyalJQ2F5SzM1t6Y.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://zodb-docs.readthedocs.io/en/latest/_static/zodb.png" rel="noopener ugc nofollow" target="_blank">来源</a>。</p></figure><p id="afac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ZODB是一个稍微复杂一些的面向对象的存储选项。这个项目是<a class="ae ky" href="https://en.wikipedia.org/wiki/Zope" rel="noopener ugc nofollow" target="_blank"> Zope </a>家族的一部分，该家族提供许多开源web应用服务器。</p><p id="c445" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用ZODB，您可以利用多种存储类型和配置选项。该系统的模块化程度令人难以置信，允许您轻松更换不同的存储后端，以适应不断发展的应用程序。您还可以非常快速地启动像内存数据库这样的东西。</p><p id="0365" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管ZODB总体上是一个更复杂的选项，但它提供了很大的灵活性，如果您希望您的项目在未来增长更多，它会是一个很好的选项。拥有一个库解决许多不同数据库问题的能力确实可以简化大型项目的开发。</p><p id="c6b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ZODB的设置和配置有点复杂，因此需要更多的步骤才能起步。前往<a class="ae ky" href="https://zodb-docs.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">官方文档</a>，那里有很棒的入门教程。</p><p id="3170" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还可以查看<a class="ae ky" href="https://github.com/zopefoundation/ZODB" rel="noopener ugc nofollow" target="_blank"> ZODB GitHub </a>了解更多信息。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="897f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！如果你喜欢这篇文章，请浏览我的其他帖子:</p><ul class=""><li id="6811" class="nl nm it lb b lc ld lf lg li nn lm no lq np lu nq nr ns nt bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/10-free-public-apis-and-databases-you-should-try-acab88bdbfee"> <em class="lv"> 9免费公共API和数据库你应该试试</em> </a></li><li id="9110" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/obscure-python-syntax-you-should-try-831dbc96777e"> <em class="lv"> 5种晦涩难懂的Python语法你应该试试</em> </a></li></ul></div></div>    
</body>
</html>