<html>
<head>
<title>Build an Auto Karaoke System With React and Vercel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React和Vercel构建自动卡拉ok系统</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-an-auto-karaoke-system-with-react-and-vercel-d66ac2ca3b50?source=collection_archive---------7-----------------------#2022-12-19">https://betterprogramming.pub/build-an-auto-karaoke-system-with-react-and-vercel-d66ac2ca3b50?source=collection_archive---------7-----------------------#2022-12-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="468f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">构建这个有趣系统的深入指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/759431aca7d1e4b4a0c8ac016d07a6db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZzmqmhwroAeaWhwG"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/fr/@othentikisra?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> israel palacio </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="0d2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你好，又见面了。今天，我们将使用React和Vercel创建一个自动卡拉ok系统。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="89c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的项目包括从音频样本中识别一首歌曲，然后显示它的歌词。我们可以使用ACRCloud进行音频识别，使用Musixmatch提供歌词。此外，我们将需要后端代码与这两个服务进行交互。这就是为什么我们将学习如何用Vercel设置无服务器功能，这样我们就不必创建服务器了。</p><h1 id="ed57" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">项目设置</h1><p id="d74d" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">让我们从用React和TypeScript初始化Vite项目开始。</p><p id="5e3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们将使用以下NPM软件包来启动和运行:</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="f3fa" class="mw lv iq ms b be mx my l mz na">npm i acrcloud formidable formidable-serverless jotai react-feather react-input-slider react-media-recorder<br/><br/>npm i -D @vercel/node @types/formidable</span></pre><h1 id="66ea" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">歌曲识别</h1><h1 id="ee93" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">使用ACRCloud API</h1><p id="d64d" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">在访问ACRCloud API之前，我们需要一些凭证。如果您还没有，请在<a class="ae kv" href="http://acrcloud.com/" rel="noopener ugc nofollow" target="_blank">acrcloud.com</a>创建一个帐户，然后导航到您的<a class="ae kv" href="https://console.acrcloud.com/avr#/projects/online" rel="noopener ugc nofollow" target="_blank">音频和视频识别项目</a>。在自由层帐户中，您只能参与一个项目。因此，如果您已经有一个项目，请使用那里的凭证。如果没有，用提供的配置创建一个新项目。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/8299425bd886d110691bb019c803da18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tAVR5yXWLkSqE076Xuy2CQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在ACRCloud建立一个音频和视频识别项目</p></figure><p id="65d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择所需铲斗后，确保检查<code class="fe nc nd ne ms b">isrc</code>。这个以后会有帮助的。</p><p id="7d8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">复制主机、访问密钥和秘密密钥，然后将它们粘贴到项目根目录下的一个<code class="fe nc nd ne ms b">.env</code>文件中。</p><pre class="kg kh ki kj gt mr ms mt bn mu mv bi"><span id="0ff4" class="mw lv iq ms b be mx my l mz na">...<br/>ACR_HOST="identify-eu-west-1.acrcloud.com"<br/>ACR_ACCESS_KEY="INSERT_ACCESS_KEY"<br/>ACR_SECRET="INSERT_SECRET_KEY"</span></pre><h1 id="abb5" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">无服务器功能设置</h1><p id="44dc" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">使用<code class="fe nc nd ne ms b">npm i -g vercel</code>安装Vercel CLI。现在运行<code class="fe nc nd ne ms b">npx vercel link</code>将文件夹与一个Vercel项目链接起来。您可以链接现有项目，也可以从命令行创建新项目。</p><p id="8105" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦项目被链接，创建一个<code class="fe nc nd ne ms b">api</code>文件夹，为我们的每个无服务器功能存储单独的文件。让我们创建第一个函数来识别一首歌曲并返回它的ISRC。</p><p id="e6d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个文件夹中创建一个名为<code class="fe nc nd ne ms b">acr-identify.ts</code>的新文件，其中包含我们的代码，可以在<code class="fe nc nd ne ms b">http://localhost:[PORT]/api/acr-identify</code>处访问前端。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="0410" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">获取歌词</h1><h1 id="cf77" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">设置Musixmatch</h1><p id="8177" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">像ACRCloud一样，如果你还没有的话，在<a class="ae kv" href="https://developer.musixmatch.com/" rel="noopener ugc nofollow" target="_blank"> Musixmatch Developers </a>创建一个账户。一旦你创建了一个应用程序，进入<a class="ae kv" href="https://developer.musixmatch.com/admin/applications" rel="noopener ugc nofollow" target="_blank">应用程序</a>页面找到API密匙。现在，将API密钥添加到您的<code class="fe nc nd ne ms b">.env</code>文件中。</p><h1 id="f7da" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">创建函数</h1><p id="7cd3" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我们将使用<code class="fe nc nd ne ms b">axios</code>请求API，首先请求给定ISRC的Musixmatch曲目ID，然后请求曲目的歌词。我们使用和以前一样的方法来创建一个函数，但是现在在<code class="fe nc nd ne ms b">/api/find-lyrics</code>。将以下代码添加到新文件中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><p id="b5b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">未指定无服务器功能使用的HTTP方法。因此，我们假设客户端发出GET请求，因此我们读取URL参数来获取ISRC。</p><h1 id="d972" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">原子</h1><p id="c916" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我们使用<code class="fe nc nd ne ms b">jotai</code>来管理React应用程序的状态。创建一个<code class="fe nc nd ne ms b">/src/store.ts</code>文件，并添加以下atom配置:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="93c5" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">构建应用程序组件</h1><p id="0a1a" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">如果没有歌词被返回，我们为用户显示一个麦克风按钮。如果没有，我们显示歌词和其他歌曲信息。在<code class="fe nc nd ne ms b">/src/App.tsx</code>中使用以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><p id="ab96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意我们代码中歌曲速率的使用。稍后，我们将看到如何突出显示歌词，以便用户可以跟随。</p><h1 id="1285" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">显示错误</h1><p id="d87d" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我们的自动卡拉ok系统的错误通常涉及未找到的歌曲或歌词。因此，我们可以使用一个新组件<code class="fe nc nd ne ms b">/src/ErrorMessage.tsx</code>向用户提供这个反馈。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="c362" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">录制音频</h1><p id="3d2a" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">让我们在/ <code class="fe nc nd ne ms b">src/MicrophoneInput.tsx</code>处创建一个新的<code class="fe nc nd ne ms b">MicrophoneInput</code>组件。这里，我们将使用<code class="fe nc nd ne ms b">react-media-recorder</code>录制一定长度的音频，并将样本发送到我们的无服务器函数。</p><h1 id="3583" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">文件结构</h1><p id="1c12" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">首先定义文件的结构。看起来是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="8908" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">挂钩用法</h1><p id="d9d1" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我们需要函数在与无服务器函数交互时更新状态。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><p id="46f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nc nd ne ms b">react-media-recorder</code>为我们提供了在React中简化媒体录制的钩子。这里我们添加了一个提交音频的停止事件处理程序。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="ed8d" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">开始录音</h1><p id="eef4" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">点击按钮时记录开始，经过<code class="fe nc nd ne ms b">RECORD_DURATION</code>毫秒后记录停止。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="b0a6" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">动画录制进度</h1><p id="0014" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我们必须使用<code class="fe nc nd ne ms b">requestAnimationFrame</code>来更新进度动画的状态。从上面的代码中，动画显示了一个在录制过程中降低高度的条。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/1b485a4b997a482181d5ed77e33ad4ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:204/format:webp/1*M3fNPLnQk9mCCpuYVnNnRA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">麦克风录音动画(如演示中所示)</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><p id="83e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们用这个函数更新动画的进度:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="b7a9" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">提交音频数据</h1><p id="f3a6" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">现在，我们可以创建一个函数来提交音频文件，如前所述。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="6d6e" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">渲染动画</h1><p id="c6fb" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">现在让我们来呈现一个包含了上面解释的所有代码的按钮。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="8d3a" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">显示歌曲标题</h1><p id="c66c" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">在<code class="fe nc nd ne ms b">/src/SongTitle.tsx</code>中，创建一个组件来显示识别出的歌曲的标题。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="99e6" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">改变歌唱速度</h1><p id="ae4a" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我们将使用<code class="fe nc nd ne ms b">react-input-slider</code>创建一个滑块组件来控制歌曲速率。在现实中，歌词不会以相同的速度演唱，但用户仍然可以控制他们想唱卡拉ok的速度。</p><p id="cf93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您对更精确的歌词跟踪感兴趣，请查看Musixmatch的<a class="ae kv" href="https://developer.musixmatch.com/documentation/api-reference/track-richsync-get" rel="noopener ugc nofollow" target="_blank"> Rich sync </a>。</p><p id="86fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建文件<code class="fe nc nd ne ms b">/src/SongRateInput.tsx</code>，并为组件添加以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="b355" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">显示歌词</h1><p id="313e" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">要跟着歌词走，每个单词都必须单独突出显示，如演示中所示。</p><h1 id="520b" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">更新当前单词</h1><p id="e591" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">我们可以在<code class="fe nc nd ne ms b">src</code>中创建一个名为<code class="fe nc nd ne ms b">lyrics</code>的文件夹。这里三个的第一档会是<code class="fe nc nd ne ms b">LyricsBody.tsx</code>。该组件负责显示歌词的所有单词，并更新当前突出显示的单词。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><p id="767f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在这里再次使用<code class="fe nc nd ne ms b">requestAnimationFrame</code>来使更新每个单词的高亮颜色变得更加平滑。</p><p id="8f09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是请注意我们是如何在呈现歌词之前将它们解析成片段的。这一步是至关重要的，这样每个单词都可以单独设计。</p><h1 id="d9ec" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">解析歌词</h1><p id="f46f" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">在<code class="fe nc nd ne ms b">lyrics</code>文件夹中创建<code class="fe nc nd ne ms b">parser.tsx</code>文件。记得保留<code class="fe nc nd ne ms b">.tsx</code>扩展名，以便我们可以使用JSX组件。</p><p id="156e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个文件将导出下面的函数，将歌词分成单个单词的组成部分。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="b32f" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">显示歌词的每个单词</h1><p id="6b41" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">在<code class="fe nc nd ne ms b">/src/lyrics/LyricWord.tsx</code>创建一个新组件。它需要单词的索引和单词本身的值。</p><p id="5d65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，如果索引匹配当前单词的索引，类名被应用到呈现的<code class="fe nc nd ne ms b">&lt;span&gt;</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf lt l"/></div></figure><h1 id="6cfc" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">最终注释</h1><p id="83b2" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">总之，我们使用Vercel无服务器功能来识别音乐和查找歌词。然后，我们创建了一个前端界面来逐个突出显示单词，并将所有内容联系在一起。</p><p id="2647" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行项目时，使用<code class="fe nc nd ne ms b">npx vercel dev</code>确保无服务器功能可用。</p><p id="d48f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里还有一些需要考虑的事情:</p><p id="dedc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Musixmatch返回的歌词不完整。他们的免费计划只包括每首歌30%的歌词，只有通过企业计划才能获得全部访问权限。</p><p id="0b38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Musixmatch的替代产品可能是<a class="ae kv" href="https://genius.com/" rel="noopener ugc nofollow" target="_blank">genius.com</a>，因为他们有一个API可以返回歌曲歌词的URL。我们所要做的就是访问他们的API并抓取歌词。我可能很快会发表一篇文章解释网络抓取和这个API。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="74e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这篇文章，并想进一步探索，你可以在这里得到完整的代码<a class="ae kv" href="https://github.com/WoolDoughnut310/KaraokeNow" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="3972" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以加个按钮重置歌词吗？阅读我的<a class="ae kv" href="https://cs310.hashnode.dev/why-jotai-is-the-key-to-better-state-management-in-react" rel="noopener ugc nofollow" target="_blank">文章</a>解释Jotai来找出如何解释。</p><h1 id="f1b0" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">参考</h1><p id="5f11" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated"><a class="ae kv" href="https://vitejs.dev/guide/" rel="noopener ugc nofollow" target="_blank">入门| Vite(</a><a class="ae kv" href="http://vitejs.dev/" rel="noopener ugc nofollow" target="_blank">vitejs . dev</a><a class="ae kv" href="https://vitejs.dev/guide/" rel="noopener ugc nofollow" target="_blank">)</a></p><p id="ecaa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://docs.acrcloud.com/reference/identification-api" rel="noopener ugc nofollow" target="_blank">识别API — ACRCloud </a></p><p id="9f80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://developer.musixmatch.com/documentation" rel="noopener ugc nofollow" target="_blank">文档(</a><a class="ae kv" href="http://musixmatch.com/" rel="noopener ugc nofollow" target="_blank">)musixmatch.com</a><a class="ae kv" href="https://developer.musixmatch.com/documentation" rel="noopener ugc nofollow" target="_blank">)</a></p><p id="d9bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.npmjs.com/package/react-media-recorder" rel="noopener ugc nofollow" target="_blank">反应-媒体-记录器-NPM(【npmjs.com】</a><a class="ae kv" href="http://npmjs.com/" rel="noopener ugc nofollow" target="_blank"/><a class="ae kv" href="https://www.npmjs.com/package/react-media-recorder" rel="noopener ugc nofollow" target="_blank">)</a></p><p id="ac60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://tailwindcss.com/docs/guides/vite" rel="noopener ugc nofollow" target="_blank">用Vite安装顺风CSS—顺风CSS </a></p><p id="29ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://virtualspeech.com/blog/average-speaking-rate-words-per-minute" rel="noopener ugc nofollow" target="_blank">平均语速和每分钟字数(</a><a class="ae kv" href="http://virtualspeech.com/" rel="noopener ugc nofollow" target="_blank">virtualspeech.com</a><a class="ae kv" href="https://virtualspeech.com/blog/average-speaking-rate-words-per-minute" rel="noopener ugc nofollow" target="_blank">)</a></p><p id="2c25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://jotai.org/docs/guides/composing-atoms" rel="noopener ugc nofollow" target="_blank">构成原子——约泰</a></p><p id="b751" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://css-tricks.com/using-requestanimationframe-with-react-hooks/" rel="noopener ugc nofollow" target="_blank">使用带有React挂钩的request animation frame | CSS-Tricks—CSS-Tricks</a></p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><p id="52d3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="no">原发布于</em><a class="ae kv" href="https://cs310.hashnode.dev/build-an-auto-karaoke-system-with-react-and-vercel" rel="noopener ugc nofollow" target="_blank"><em class="no">https://cs 310 . hash node . dev</em></a><em class="no">。</em></p></div></div>    
</body>
</html>