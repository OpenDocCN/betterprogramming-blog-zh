<html>
<head>
<title>Using SwiftUI View Modifiers to Display Empty State</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI视图修饰符显示空状态</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/using-swiftui-view-modifiers-to-display-empty-state-5145f220de56?source=collection_archive---------9-----------------------#2021-12-14">https://betterprogramming.pub/using-swiftui-view-modifiers-to-display-empty-state-5145f220de56?source=collection_archive---------9-----------------------#2021-12-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7434" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建有意义的空状态</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5ba280e81eade972ac2c668141565d24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgFBhh0b97mnx9Hm2E916Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者根据科幻符号绘制</p></figure><p id="a70a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">空态是UX 的一个<a class="ae lu" href="https://www.toptal.com/designers/ux/empty-state-ux-design" rel="noopener ugc nofollow" target="_blank">重要方面——这是用户第一次打开你的应用时看到的，俗话说，没有第二次机会留下第一印象——所以最好是好的。向用户展示一个有意义的空状态会让他们感到受欢迎，这是你教育他们如何开始使用应用程序的一个好机会。</a></p><p id="617e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到目前为止，Make It So没有显示有意义的空状态，在本文中，我们将研究实现这一点的几个选项。</p><h1 id="477f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">我们将要建造的</h1><p id="0b02" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">首先，让我们来看看苹果的提醒应用程序(因为这是我们试图复制的应用程序):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/860e06914640491cb153033961a111ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/0*I0C89aakDbLTpo7Y.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">苹果提醒应用中的空状态</p></figure><p id="1eaa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">实现空状态的一个简单方法是使用Xcode的<em class="mt"> Make Conditional </em>重构(<em class="mt"> CMD +在一个视图上点击</em>，然后选择<em class="mt"> Make Conditional </em>)。这会将视图包装在一个<code class="fe mu mv mw mx b">if ... else</code>语句中，并将整个结构包装在一个<code class="fe mu mv mw mx b">VStack</code>语句中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="c46c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不算太坏，但是这给我们的视图代码增加了视觉噪声——让我们看看是否可以改进这一点。</p><h1 id="8d29" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">使用ViewModifier管理空状态</h1><p id="6a41" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">视图修饰符是SwiftUI的主要特性之一，它使编写SwiftUI代码成为一种愉快的体验。如果没有视图修饰符，配置视图的唯一方式就是它们的初始化器，这会导致非常糟糕的开发体验。</p><p id="441b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">多亏了视图修改器，我们可以像这样配置视图:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="052a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代替这个(假设的代码):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="7e54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在调用点，用于向视图添加空状态的视图修饰符可能如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="ff54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们来看看如何建立这个。视图修改器通常由两部分组成:视图修改器本身，以及使其更易于使用的扩展。让我们从视图修改器开始。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="9b15" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有视图修改器都可以通过<code class="fe mu mv mw mx b">body</code>功能的<code class="fe mu mv mw mx b">content: Content</code>参数访问他们操作的视图。此外，我们还声明了两个属性:</p><ul class=""><li id="230b" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt nf ng nh ni bi translated"><code class="fe mu mv mw mx b">isEmpty</code>让呼叫者表明是否显示空状态</li><li id="48ea" class="na nb it la b lb nj le nk lh nl ll nm lp nn lt nf ng nh ni bi translated"><code class="fe mu mv mw mx b">emptyContent</code>是一个闭包，当<code class="fe mu mv mw mx b">isEmpty</code>为<code class="fe mu mv mw mx b">true</code>时，它返回我们想要显示的视图</li></ul><p id="0568" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要在视图上使用这个修饰符，我们必须编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="5757" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这看起来不太用户友好。</p><h1 id="2a1d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">添加扩展以改善开发人员的体验</h1><p id="2bf2" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">让我们在<code class="fe mu mv mw mx b">View</code>上定义一个扩展，让它更容易使用:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="4942" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们可以像预期的那样使用视图修改器了。这是Make It So的主列表视图，应用了视图修改器:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mz l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/8ee3cfaccd85b65b75824dc2894baedb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/0*YjyKy3hhOrrDYxhC.png"/></div></figure><p id="4fc9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在<a class="ae lu" href="https://github.com/peterfriese/MakeItSo/tree/develop" rel="noopener ugc nofollow" target="_blank">这个GitHub repo </a>的<a class="ae lu" href="https://github.com/peterfriese/MakeItSo/tree/develop" rel="noopener ugc nofollow" target="_blank"> develop </a>分支中找到Make It So的源代码，包括视图修改器。</p><p id="cc1d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p><pre class="kj kk kl km gt no mx np nq aw nr bi"><span id="c240" class="ns lw it mx b gy nt nu l nv nw"><strong class="mx iu">Want to Connect With the Author?</strong></span><span id="dfd7" class="ns lw it mx b gy nx nu l nv nw">If you’re interested in following along with the further development of the app, <a class="ae lu" href="https://www.getrevue.co/profile/peterfriese" rel="noopener ugc nofollow" target="_blank">subscribe to my newsletter</a>, <a class="ae lu" href="https://twitter.com/peterfriese/status/1453467058302291975" rel="noopener ugc nofollow" target="_blank">follow this Twitter thread</a> — and feel free to join the conversation!</span><span id="42fe" class="ns lw it mx b gy nx nu l nv nw"><em class="mt">Originally published at </em><a class="ae lu" href="https://peterfriese.dev/swiftui-empty-state/" rel="noopener ugc nofollow" target="_blank"><em class="mt">https://peterfriese.dev</em></a><em class="mt">.</em></span></pre></div></div>    
</body>
</html>