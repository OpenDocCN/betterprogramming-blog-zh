<html>
<head>
<title>Build a React App Using AWS Amplify in Simple Steps (Part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过简单的步骤使用AWS Amplify构建一个React应用程序(第2部分)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-react-app-using-aws-amplify-in-simple-steps-part-2-59812ea29192?source=collection_archive---------7-----------------------#2020-01-06">https://betterprogramming.pub/build-a-react-app-using-aws-amplify-in-simple-steps-part-2-59812ea29192?source=collection_archive---------7-----------------------#2020-01-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d207" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将AWS AppSync GraphQL API添加到React应用程序中</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f3d66e47fffc2ea4a5a7b63a252fb3f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YD3ygZD30y8c4A6Md5XT_g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS Amplify + AWS AppSync + GraphQL</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="8983" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated"><strong class="ak">简介</strong></h1><p id="0bce" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">在之前的<a class="ae mt" href="https://medium.com/better-programming/build-a-react-app-with-authentication-using-aws-amplify-49db1dfdc290" rel="noopener">帖</a>中，我们从零开始安装配置了<a class="ae mt" href="https://aws.amazon.com/amplify/" rel="noopener ugc nofollow" target="_blank"> AWS Amplify </a>。然后，创建了一个React应用程序，并通过简单的步骤添加了一个完整的身份验证流程。</p><p id="d21e" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">在第二部分中，我将向应用程序添加AWS AppSync GraphQL API。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="8174" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">GraphQL</h1><p id="258d" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">GraphQL是API的一种查询语言，也是一种服务器端运行时，通过使用您为数据定义的类型系统来执行查询。</p><p id="a4a0" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">GraphQL不依赖于任何特定的数据库或存储引擎，而是由您现有的代码和数据提供支持。</p><p id="206d" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">您可以在此了解有关GraphQL的更多信息:</p><div class="mz na gp gr nb nc"><a href="https://graphql.org/learn/" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">GraphQL:一种API查询语言。</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">在本系列文章中了解GraphQL，它是如何工作的，以及如何使用它。寻找关于如何…</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">graphql.org</p></div></div><div class="nl l"><div class="nm l nn no np nl nq ks nc"/></div></div></a></div></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="b91a" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">AWS AppSync</h1><p id="0ac4" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">为GraphQL API构建后端可能涉及大量的编码工作。</p><p id="332e" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated"><a class="ae mt" href="https://aws.amazon.com/appsync/" rel="noopener ugc nofollow" target="_blank"> AWS AppSync </a>允许开发人员卸载构建GraphQL后端所涉及的复杂性和时间，只需担心构建他们的应用程序，并且它通过实时和离线功能做到了这一点。</p><p id="e9fb" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">借助AppSync，您可以在一系列数据源(如NoSQL数据存储、关系数据库、HTTP APIs和带有<a class="ae mt" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda </a>的自定义数据源)上构建可扩展的应用程序，包括需要实时更新的应用程序。</p><p id="19a4" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">对于移动和web应用程序，AppSync还在设备离线时提供本地数据访问，并在设备恢复在线时通过可定制的冲突解决方案提供数据同步。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/2e558fcb91cc736f32fda2899bd3fb2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Np0bJdxWBuWn0ZpZRk0g3A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自AWS AppSync</p></figure><p id="7acf" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">通过访问<a class="ae mt" href="https://docs.aws.amazon.com/appsync/latest/devguide/welcome.html" rel="noopener ugc nofollow" target="_blank"> AWS AppSync开发者指南</a>了解更多关于<a class="ae mt" href="https://aws.amazon.com/appsync/" rel="noopener ugc nofollow" target="_blank"> AWS AppSync </a>的信息。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="f176" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">我们开始吧</h1><p id="47b6" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">起点是第一部分的完整代码。</p><p id="f088" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">克隆回购:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="d4d5" class="nx lg it nt b gy ny nz l oa ob">$ git clone <a class="ae mt" href="mailto:git@github.com" rel="noopener ugc nofollow" target="_blank">git@github.com</a>:mlomboglia/react-amplify.git<br/>cd react-amplify<br/>cd part1-authentication<br/>npm install</span></pre><p id="ae16" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">测试您的应用程序并确保它正在运行:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="f8d0" class="nx lg it nt b gy ny nz l oa ob">npm start</span></pre><p id="e635" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">您应该会看到用户登录屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/86d1a88e3139e945617ae56843399b4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T5s1szyaiOTyCkElkcPqRw.png"/></div></div></figure><p id="9c48" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">登录或创建一个新用户来访问您的主屏幕仪表板。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="5493" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">向应用程序添加API支持</h1><p id="c2fd" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">为了创建API，我们将使用<a class="ae mt" href="https://aws.amazon.com/appsync/" rel="noopener ugc nofollow" target="_blank"> AWS AppSync </a>。</p><p id="9fee" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">AWS AppSync允许您创建灵活的API来安全地访问、操作和组合来自一个或多个数据源的数据，从而简化了应用程序开发。</p><p id="ba07" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">AppSync是一个托管服务，它使用GraphQL使应用程序可以轻松地准确获得它们需要的数据。</p><p id="7dd2" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">让我们使用Amplify CLI从以下命令开始:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="83f0" class="nx lg it nt b gy ny nz l oa ob">$ <!-- -->amplify add api</span></pre><p id="2513" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">这将启动一系列步骤来帮助我们创建第一个AWS AppSync GraphQL API。</p><p id="53c2" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">进行以下选择，并按<em class="od">回车</em>完成API创建。我推荐使用第一部分中设置的<em class="od"> Cognito用户池</em> <strong class="lz iu"> </strong>进行认证。您可以使用一个<em class="od"> API键</em>进行测试，但是不建议在生产环境中使用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/c5a7c149ae8b7ad39351dfd60195949b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wLPNDEMDWrSX2itXq4zsHw.png"/></div></div></figure><p id="9ce8" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">对于本教程，我将使用AWS Amplify建议的带有字段的单个对象(例如，带有ID、名称、描述的“Todo”)。将在以下路径自动创建<code class="fe of og oh nt b">graphql.schema</code>文件:<code class="fe of og oh nt b">/amplify/backend/api/todo</code>。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="e13d" class="nx lg it nt b gy ny nz l oa ob">type Todo <a class="ae mt" href="http://twitter.com/model" rel="noopener ugc nofollow" target="_blank">@model</a> {<br/>  id: ID!<br/>  name: String!<br/>  description: String<br/>}</span></pre><p id="a97f" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">Amplify CLI附带了一个GraphQL转换器，可以根据您的数据需求将带注释的GraphQL模式文件转换为适当的AWS CloudFormation模板。</p><p id="112d" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">这包括如下选项:</p><ul class=""><li id="75de" class="oi oj it lz b ma mu md mv mg ok mk ol mo om ms on oo op oq bi translated"><code class="fe of og oh nt b">@model</code>用于在Amazon DynamoDB中存储类型。</li><li id="8f90" class="oi oj it lz b ma or md os mg ot mk ou mo ov ms on oo op oq bi translated"><code class="fe of og oh nt b">@auth</code>定义不同的授权策略。</li><li id="fbe1" class="oi oj it lz b ma or md os mg ot mk ou mo ov ms on oo op oq bi translated"><code class="fe of og oh nt b">@connection</code>用于指定<code class="fe of og oh nt b">@model</code>对象类型之间的关系。</li><li id="63b7" class="oi oj it lz b ma or md os mg ot mk ou mo ov ms on oo op oq bi translated"><code class="fe of og oh nt b">@searchable</code>用于将<code class="fe of og oh nt b">@model</code>对象类型的数据流式传输到Amazon <a class="ae mt" href="https://aws.amazon.com/elasticsearch-service/" rel="noopener ugc nofollow" target="_blank"> Elasticsearch </a>服务。</li></ul><p id="d0c8" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">您可以在此了解有关GraphQL转换的更多信息:</p><div class="mz na gp gr nb nc"><a href="https://aws-amplify.github.io/docs/cli-toolchain/graphql" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">GraphQL变换</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">GraphQL转换提供了一个简单易用的抽象，可以帮助您快速地为您的web和……</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">aws-amplify.github.io</p></div></div><div class="nl l"><div class="ow l nn no np nl nq ks nc"/></div></div></a></div><p id="26c7" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">现在，将模式推送到AWS。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="a269" class="nx lg it nt b gy ny nz l oa ob">$ amplify push </span></pre><p id="8af9" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">保留生成GraphQL操作的所有默认选项——查询、变异和订阅</p><p id="379e" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">AWS AppSync将根据您的文件夹结构创建AWS CloudFormation。这个过程需要一些时间。在以后的文章中，我们将着眼于本地调用来加速开发。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/effad84c729ecf2671e263b1c7763587.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8mc0GOBLGq9p2d_eBo8vcA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GraphQL端点</p></figure><p id="b8b4" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">完成该过程后，它将显示您新创建的端点。您可以随时编辑您的模式并推送新的更改。</p><p id="8cb2" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">您的新amplify文件夹结构现在包含您的后端文件夹，其中包含<em class="od"> todo api和auth </em>，您的<code class="fe of og oh nt b">schema.graphql</code>，以及AWS CloudFormation信息。在<code class="fe of og oh nt b">src</code>文件夹中，您将找到<code class="fe of og oh nt b">graphql</code>文件夹，其中包含所有可以使用的生成代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/b4781f9a315fb1b5047798628a9800cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*EWfGXcHhzMWgfgOG4z79jg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">项目结构</p></figure><p id="fb6f" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">转到AWS控制台→ AWS AppSync以查看部署的模式。您也可以从<em class="od">查询</em>部分运行查询。</p><p id="28f2" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">在<em class="od">数据源</em>部分，您还可以在DynamoDB中看到您新创建的TodoTable。是的，它是自动创建来存储您的数据的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/1710f48ceff7b85958d7f979867e4396.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hQ-zpmwS3HaAdrqnRqLWCA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS AppSync控制台</p></figure><p id="71bf" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">如果您想要更新您的API，请打开您项目的<code class="fe of og oh nt b">backend/api/todo/schema.graphql</code>文件(<em class="od">而不是<code class="fe of og oh nt b">backend/api/blog/build</code>文件夹中的</em>)并编辑它。</p><p id="612a" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">您可以通过运行以下命令来编译<code class="fe of og oh nt b">backend/api/todo/schema.graphql</code>:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="c04b" class="nx lg it nt b gy ny nz l oa ob">$ amplify api gql-compile<br/>$ amplify push</span></pre><p id="e7c7" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">别忘了推新变化。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="5021" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">将Todo GraphQL添加到React应用程序中</h1><p id="e985" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">现在，让我们将Todo GraphQL添加到React应用程序中。Amplify CLI已经在<code class="fe of og oh nt b">src/aws-exports.js</code>中包含AppSync API所需的配置。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="ea9e" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">添加GraphQL后端</h1><p id="8b79" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">打开<code class="fe of og oh nt b">App.js</code>,添加导入以包含<code class="fe of og oh nt b">API</code>类别和<code class="fe of og oh nt b">graphqlOperation</code>方法，如下所示:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="1e89" class="nx lg it nt b gy ny nz l oa ob">import { API, graphqlOperation } from 'aws-amplify';</span></pre><p id="fb4e" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">将应用程序更改为类组件。别忘了在顶部加上进口。</p><p id="5550" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">在您的代码中添加下面的查询和突变，<em class="od">在</em>之前，<code class="fe of og oh nt b">class App extends Component {...}</code>定义如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pa pb l"/></div></figure><p id="4d04" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">现在，在<code class="fe of og oh nt b">App</code>组件中，在<code class="fe of og oh nt b">render()</code>方法之前添加以下两个方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pa pb l"/></div></figure><p id="680d" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">现在可以从应用程序中调用GraphQL了。更新<code class="fe of og oh nt b">render()</code>方法，使其具有以下按钮来调用变异和查询:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pa pb l"/></div></figure><p id="a66c" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">这是您完成的<code class="fe of og oh nt b">App.js</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pa pb l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">App.js</p></figure><p id="bb67" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">运行应用程序:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="239a" class="nx lg it nt b gy ny nz l oa ob">$ npm run start</span></pre><p id="d158" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">登录或创建新用户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/d8aa78f5152a8e95598fbe8f6f467180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4kao56xM-80_h9XiVmAuYg.png"/></div></div></figure><p id="cab0" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">现在，单击<em class="od"> GraphQL Todo变异</em>来添加一个虚拟项目:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/598eaf49f9071eac1ffd33bd193caed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0AkbIE4vlbNjeKRPbPGu8g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GraphQL Todo突变</p></figure><p id="8a2c" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">点击<em class="od"> GraphQL列表查询</em>来列出你的物品:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/221c8e3ebdd58058cb190256df7af211.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QarNQrKkTVjvHZ2N1sZI6Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GraphQL列表查询</p></figure><p id="66bd" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">您可以检查您的项目存储在AWS控制台→ DynamoDB中</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/3184fbfe8d2a2acb93faabb64c1cfe44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WbXWFdSwcc7ps69Z4nClA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AWS控制台→ DynamoDB</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="42e3" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">后续步骤</h1><p id="cf33" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">这只是使用Amplify with React的开始。在接下来的文章中，我将扩展应用程序，添加:</p><ul class=""><li id="378a" class="oi oj it lz b ma mu md mv mg ok mk ol mo om ms on oo op oq bi translated">用<a class="ae mt" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI:一个流行的React UI框架</a>让应用看起来更好。</li><li id="7d8b" class="oi oj it lz b ma or md os mg ot mk ou mo ov ms on oo op oq bi translated">分析:跟踪用户会话、属性和应用内指标的嵌入式分析。</li><li id="e2e6" class="oi oj it lz b ma or md os mg ot mk ou mo ov ms on oo op oq bi translated">存储:在云中或设备上安全地管理用户内容。</li></ul><p id="15e1" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">所有的源代码都在我的<a class="ae mt" href="https://github.com/mlomboglia/react-amplify" rel="noopener ugc nofollow" target="_blank"> GitHub </a>里。</p><ul class=""><li id="38a3" class="oi oj it lz b ma mu md mv mg ok mk ol mo om ms on oo op oq bi translated">第一部分。认证</li><li id="18e7" class="oi oj it lz b ma or md os mg ot mk ou mo ov ms on oo op oq bi translated">第二部分。GraphQL API </li></ul></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="573d" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">更新</h1><p id="4219" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">现在可以使用AWS Amplify通过简单的步骤(<a class="ae mt" href="https://medium.com/better-programming/build-a-react-app-using-aws-amplify-in-simple-steps-part-3-12c1b7746450" rel="noopener">第3部分</a>)构建一个React应用程序。向React应用添加分析和存储。</p><p id="ec89" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">2020年5月21日:更新为使用Amplify版本3</p><p id="7b14" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">编码快乐！</p></div></div>    
</body>
</html>