<html>
<head>
<title>How To Run Multiple Versions of Node.js on Linux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Linux上运行Node.js的多个版本</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-run-multiple-versions-of-node-js-on-linux-c3833f9c9234?source=collection_archive---------10-----------------------#2019-08-21">https://betterprogramming.pub/how-to-run-multiple-versions-of-node-js-on-linux-c3833f9c9234?source=collection_archive---------10-----------------------#2019-08-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="34be" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">nvm是管理多个Node.js版本的最简单的程序之一</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/88b4369f100341b5bbcf9f5e92477849.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cQHWV5c1xsQJN1pL0FOizw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@tfrants?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">泰勒·弗兰塔</a>在<a class="ae ky" href="https://unsplash.com/search/photos/computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ac89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您管理多个Node.js项目，它们可能运行不同版本的Node.js。</p><p id="4c95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Node.js不支持同时运行不同版本的运行库。这意味着你必须使用第三方软件来完成。</p><p id="1eb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要在Linux上做到这一点，你所要做的就是安装一些额外的包，然后你就可以在你的电脑上安装不同版本的Node.js了。在您的计算机上获得不同版本的Node.js的最简单方法之一是使用<code class="fe lv lw lx ly b"><a class="ae ky" href="https://github.com/nvm-sh/nvm" rel="noopener ugc nofollow" target="_blank">nvm</a></code>。</p><p id="3e94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">nvm</code>可供任何人免费下载。要下载它，用<code class="fe lv lw lx ly b">curl</code>下载并安装:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="3ed3" class="md me it ly b gy mf mg l mh mi">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash</span></pre><p id="e199" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，你可以用<code class="fe lv lw lx ly b">wget</code>做同样的事情:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="d7bf" class="md me it ly b gy mf mg l mh mi">wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash</span></pre><p id="e3db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该脚本所做的是将nvm库克隆到<code class="fe lv lw lx ly b">~/.nvm</code>，并将源代码行添加到您的概要文件(<code class="fe lv lw lx ly b">~/.bash_profile</code>、<code class="fe lv lw lx ly b">~/.zshrc</code>、<code class="fe lv lw lx ly b">~/.profile</code>或<code class="fe lv lw lx ly b">~/.bashrc</code>)。</p><p id="5aff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要加载<code class="fe lv lw lx ly b">nvm</code>，将以下内容放入您的配置文件(<code class="fe lv lw lx ly b">~/.bash_profile</code>、<code class="fe lv lw lx ly b">~/.zshrc</code>、<code class="fe lv lw lx ly b">~/.profile</code>或<code class="fe lv lw lx ly b">~/.bashrc</code>):</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="5340" class="md me it ly b gy mf mg l mh mi">export NVM_DIR="${XDG_CONFIG_HOME/:-$HOME/.}nvm"<br/>[ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh" # This loads nvm</span></pre><p id="1d05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果在<code class="fe lv lw lx ly b">nvm.sh</code>后添加<code class="fe lv lw lx ly b">--no-use</code>，则<code class="fe lv lw lx ly b">--no-use</code>选项可用，这样它就不会选择Node.js的默认版本。</p><p id="9bc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过运行<code class="fe lv lw lx ly b">nvm -v</code>来检查<code class="fe lv lw lx ly b">nvm</code>版本。</p><p id="eec5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，您可以手动克隆<code class="fe lv lw lx ly b">nvm</code>的Git存储库并安装它。您可以通过运行以下命令来实现:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="c299" class="md me it ly b gy mf mg l mh mi">$ cd ~/<br/>$ git clone https://github.com/nvm-sh/nvm.git .nvm</span></pre><p id="9f1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，将以下内容添加到您的<code class="fe lv lw lx ly b">~/.bashrc</code>、<code class="fe lv lw lx ly b">~/.profile</code>或<code class="fe lv lw lx ly b">~/.zshrc</code>文件中，让它在登录时运行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="0e17" class="md me it ly b gy mf mg l mh mi">export NVM_DIR="$HOME/.nvm"<br/>[ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh"  # This loads nvm<br/>[ -s "$NVM_DIR/bash_completion" ] &amp;&amp; \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion</span></pre><p id="c321" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装至少一个版本的Node.js后，就可以使用了。</p><p id="caf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要安装最新版本，运行<code class="fe lv lw lx ly b">nvm install node</code>，或者要安装早期版本，运行<code class="fe lv lw lx ly b"> nvm install 6.14.4</code>。第一个安装的Node.js版本将是默认版本。</p><p id="6f29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要列出已安装的Node.js版本，请运行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="1d9a" class="md me it ly b gy mf mg l mh mi">nvm ls-remote</span></pre><p id="a3ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你打开一个新的外壳时，你必须再次运行<code class="fe lv lw lx ly b">nvm</code>。</p><p id="05ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以用<code class="fe lv lw lx ly b">nvm run</code>运行<code class="fe lv lw lx ly b">node</code>命令。</p><p id="9a2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比如<code class="fe lv lw lx ly b">nvm run node -v</code>。要选择您想要运行的版本，请运行<code class="fe lv lw lx ly b">nvm exec 4.2 node — v</code>。</p><p id="5027" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要安装Node.js运行时的一个版本的路径，请运行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="9d4e" class="md me it ly b gy mf mg l mh mi">nvm which 10.16</span></pre><p id="8038" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以安装最新的长期支持(LTS)版本，而无需指定版本。为此，运行<code class="fe lv lw lx ly b">nvm install --lts</code>。</p><p id="f831" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要安装Node.js的其他LTS版本，可以通过它们的代码名来指定，例如<code class="fe lv lw lx ly b">nvm install — lts=carbon</code>。</p><p id="b2ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他示例命令包括:</p><ul class=""><li id="2d56" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm install lts/carbon</code>:安装Node.js的最新8.x版本。</li><li id="90af" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm uninstall --lts</code>:删除最新的LTS版本。</li><li id="6b2a" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm uninstall --lts=carbon</code>:删除Node.js最新的8.x版本。</li><li id="0d48" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm uninstall 'lts/*'</code>:卸载Node.js的所有LTS版本</li><li id="934e" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm uninstall lts/carbon</code>:卸载Node.js最新的8.x版本。</li><li id="aedd" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm use --lts</code>:使用Node.js的最新LTS版本</li><li id="0066" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm use --lts=carbon</code>:使用Node.js最新的8.x版本。</li><li id="6659" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm use 'lts/*'</code>:使用最新安装的Node.js版本。</li><li id="2c77" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm use lts/carbon</code>:使用Node.js的8.x版本。</li><li id="9eb9" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm exec --lts</code>:使用Node.js的最新LTS版本运行Node.js脚本</li><li id="3653" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm exec --lts=carbon</code>:使用Node.js最新的8.x版本运行Node.js脚本。</li><li id="efd4" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm exec 'lts/*'</code>:使用Node.js的最新LTS版本运行Node.js脚本</li><li id="df27" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm exec lts/carbon</code>:用Node.js最新的8.x版本运行Node.js脚本</li><li id="f058" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm run --lts</code>:使用Node.js的最新LTS版本运行Node.js脚本</li><li id="609d" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm run --lts=carbon</code>:使用Node.js最新的8.x版本运行Node.js脚本。</li><li id="71d2" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm run 'lts/*'</code>:使用Node.js的最新LTS版本运行Node.js脚本</li><li id="195f" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm run lts/carbon</code>:使用Node.js最新的8.x版本运行Node.js脚本。</li><li id="d00d" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm ls-remote --lts</code>:列出Node.js的所有LTS版本</li><li id="3858" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm ls-remote --lts=carbon</code>:列出Node.js的所有8.x版本。</li><li id="44f8" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm ls-remote 'lts/*'</code>:列出Node.js的所有LTS版本</li><li id="d9a8" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm ls-remote lts/carbon</code>:列出Node.js的所有8.x版本。</li><li id="5cc1" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm version-remote --lts</code>:列出Node.js的最新LTS版本</li><li id="4011" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm version-remote --lts=carbon</code>:列出Node.js最新的8.x版本。</li><li id="5963" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm version-remote 'lts/*'</code>:列出Node.js的最新LTS版本</li><li id="f868" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe lv lw lx ly b">nvm version-remote lts/carbon</code>:列出Node.js最新的8.x版本。</li></ul><p id="37f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要在安装<code class="fe lv lw lx ly b">nvm</code>时迁移全局包，请运行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="dc68" class="md me it ly b gy mf mg l mh mi">nvm install node --reinstall-packages-from=node</span></pre><p id="3339" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它将通过在迁移前运行<code class="fe lv lw lx ly b">nvm version node</code>来识别您正在迁移的节点的版本。然后，它将运行<code class="fe lv lw lx ly b">nvm reinstall-packages</code>将包重新安装到您的新环境中。</p><p id="ca21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以指定Node.js迁移到和迁移自的版本:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="2855" class="md me it ly b gy mf mg l mh mi">nvm install 8--reinstall-packages-from=5<br/>nvm install 8--reinstall-packages-from=argon</span></pre><p id="5a9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用Node.js的系统版本，请运行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="d9c8" class="md me it ly b gy mf mg l mh mi">nvm use system</span></pre><p id="d590" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要列出已安装的Node.js版本，请运行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="0bdf" class="md me it ly b gy mf mg l mh mi">nvm ls</span></pre><p id="968d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要查看您可以安装的可用版本，请运行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="e838" class="md me it ly b gy mf mg l mh mi">nvm ls-remote</span></pre><p id="f51a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，<code class="fe lv lw lx ly b">nvm ls</code>、<code class="fe lv lw lx ly b">nvm ls-remote</code>和<code class="fe lv lw lx ly b">nvm alias</code>以彩色文本输出。您可以通过运行以下命令来禁用彩色文本输出:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="94e0" class="md me it ly b gy mf mg l mh mi">nvm ls --no-colors</span></pre><p id="2a49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行<code class="fe lv lw lx ly b">nvm deactivate</code>以停用<code class="fe lv lw lx ly b">nvm</code>并恢复您原来的<code class="fe lv lw lx ly b">PATH</code>环境变量。</p><p id="6c12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，要为新的shell设置默认的Node.js版本，运行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="0bce" class="md me it ly b gy mf mg l mh mi">nvm alias default node</span></pre><p id="c989" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">nvm</code>是在Linux计算机上管理多个Node.js版本的最简单的程序之一。它还可以与Linux的Windows子系统一起工作。</p></div></div>    
</body>
</html>