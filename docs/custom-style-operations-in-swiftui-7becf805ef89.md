# SwiftUI 中的自定义风格操作

> 原文：<https://betterprogramming.pub/custom-style-operations-in-swiftui-7becf805ef89>

## 视图协议的有用扩展

![](img/a773d7cd3dd1445291946b287e1d11c9.png)

由 [AdobeStock](https://stock.adobe.com/) 上的 [Vander](https://stock.adobe.com/contributor/206761448/vander?load_type=author&prev_url=detail&asset_id=176613772) 拍照。

SwiftUI 提供了几种组织常用样式的方法。视图修饰符是最常被谈论的，但是让我们看看其他一些清理样式代码的方法。

# **通过扩展视图协议进行全局视图操作**

假设我们想在圆角视图上创建一个内部笔划。我们可以做的一个方法是用一个`RoundedRectangle`覆盖我们的视图。

如果我们发现自己不断地向视图中添加这些代码，我们可以扩展视图，使它对我们所有的视图都可用。

现在，我们可以简单地通过使用我们的自定义操作来重新创建我们的`innerStroke`:

# **自定义组件中的作用域样式操作**

与上面的方法类似，我们可以确定只适用于特定组件的操作的范围。

让我们看看如何将它应用到一个名为`FocusableElement`的定制元素中。这个元素简单地应用不同的样式，给出一个布尔值，`isFocused`。

如你所见，这个组件有一个庞大的初始化器。让我们通过将样式参数转移到自定义样式操作中来简化它。

首先，让我们用我们的`isFocussed`属性创建一个新的初始化器，并将我们之前的初始化器标记为私有。

通过将我们之前的初始化器标记为 private，我们可以确保我们的自定义样式只能通过自定义操作来修改。

此外，让我们将所有的样式属性标记为私有。

最后，让我们添加我们的作用域操作来访问和更改这些属性。

请注意，我们可以简单地通过在自定义视图中重新声明函数来覆盖预先存在的视图协议操作(如`cornerRadius`)的行为。

现在，我们可以将自定义元素操作付诸实施了:

请注意，一旦您使用了自定义元素操作范围之外的操作，您将无法访问组件的自定义操作。

因此，在包含任何全局操作之前，请确保包含任何限定范围的操作。

希望你喜欢这篇文章！