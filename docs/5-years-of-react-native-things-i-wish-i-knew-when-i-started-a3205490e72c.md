# 5 年的 React Native:我希望在开始时就知道的事情

> 原文：<https://betterprogramming.pub/5-years-of-react-native-things-i-wish-i-knew-when-i-started-a3205490e72c>

## *TL；DR: React Native 很棒，我打算继续使用它。但是，条款和条件适用于*

![](img/20a2ed7f170172fe49ac6f1efd1c7846.png)

[巴别塔](https://en.wikipedia.org/wiki/The_Tower_of_Babel_(Bruegel))作者[老彼得·布鲁格尔](https://en.wikipedia.org/wiki/Pieter_Bruegel_the_Elder)(1563)——来源:维基百科

当我在 2016 年开始使用 React Native 时，我非常怀疑。PhoneGap 和 Cordova 等框架已经存在了一段时间，但似乎没有人认真对待混合开发。一切都像是权宜之计，需要本地专业知识来做任何超出基础的事情。

一些项目——有些成功，有些不太成功——完全接受了 React Native 的优点、注意事项和缺陷。在本文中，我将总结这些经验，以及它们是如何反映混合应用程序开发的。

为了更加客观，我将使用这些[系统质量属性](https://en.wikipedia.org/wiki/List_of_system_quality_attributes)作为指导原则:

*   简单
*   易测性
*   可量测性
*   稳健性
*   展开性
*   可维护性
*   响应性
*   易懂

# 消除复杂性比增加复杂性更难

简单是关键。当然，也有例外，但总的来说，最好尽可能简单地处理事情。想想你作为 MVP 打造的一切。任何新的复杂性在添加之前都必须经过验证。

一旦你的项目达到一定的临界质量，复杂性就开始滚雪球，如果没有大规模的重构，一些改变就变得不可能。你可能更愿意花时间开发令人兴奋的新特性，而不是重写旧代码。

# 从一开始就编写测试

许多新项目在开始时“忘记”了单元测试。随着项目变得越来越复杂，您需要确保您的底层基础是稳固的。

从一开始就编写测试会让你安心，让你向前看，而不是一直向后看。

此外，可测试性是 React Native 的最佳特性之一，也是使用它的最佳理由之一。不写测试有点违背了初衷。

# 现在扩大规模，否则以后会遭受损失

当项目已经成熟，获得了用户基础，并开始赚钱时，有些事情在开始时比以后更容易做对。从一开始就考虑到可扩展性来构建您的应用程序是值得的。

这并不意味着抛弃精益开发原则，从成熟的应用程序而不是 MVP 开始。这仅仅意味着让你的物流变得正确，这样你就不必随着应用规模的扩大而不断重做。

# 有一个集中的方法来捕捉和记录所有的错误

持久性和不向用户泄露任何错误不是一回事。构建一个真正持久的应用程序需要团队的一些规划和纪律。

即使您不需要立即做任何事情，您也宁愿通过在一个地方捕获和记录所有错误来完全控制您的错误。

# 让可扩展性成为你的指导原则

您是否曾经遇到过这样的情况:在您开始添加新功能之前，添加新功能似乎是一项微不足道的任务，但却发现您必须重构相当大一部分代码才能使其无缝匹配？

这些成长的烦恼是这个过程中不可避免的一部分，但它们不应该经常发生。当你发现自己又一次陷入困境时，是时候后退一步，重新思考你的应用程序结构了。

# 在添加本机代码之前请三思

有时候，让某些东西本地化是正确的，尤其是如果你的背景是本地移动开发。你得到的性能，无缝，和接近金属的感觉。

然而，请记住，任何原生的东西都必须构建两次(针对 Android 和 iOS)，这需要额外的开发时间和资源，并使维护工作量加倍。

React Native 有一个活跃的社区，正在快速发展，新的更新不断填补缺失的功能。因此，在求助于 native 之前，请查阅文档并在网上搜索。

# 慢总是杀死有用的

随着设备变得越来越快，框架允许更高级的功能，人们很容易利用这些新的可能性来构建让用户满意的漂亮功能。

然而，新的特性必须经过验证。但是有一个特性是不需要证明的，你可以确定你的用户想要的:响应。

随着 CPU 的增长，它们的使用也在增长。随着时间的推移，开发人员往往会对他们的应用程序速度缓慢感到自满——特别是如果他们投资于自己开发的功能。

确定用户的响应截止点可能需要一些时间。更安全的做法是从一开始就把性能放在首位，并权衡新特性。

# 保持国家清洁，遵守习俗

你的团队很可能会改变。新的开发人员将加入，可能具有不同的背景和经验水平。项目会变得越来越复杂，人们会改变你没有意识到的事情。

当一个团队在一个项目上工作一段时间后，代码的熵必然会增加。坚持可理解的原则有助于让它慢下来，不至于失控。

遵循官方文档(这样你就不用自己写了)是一种方法。这有时也被称为遵从:满足规则或标准。

保持全局状态的整洁和可读性是使代码更容易理解的另一种方式。把你的全局状态看作是你的应用程序的一个简明的描述。不是所有东西都要在里面。

# 结论

如果你愿意跳出传统的移动开发模式，React Native 是一个强大的工具。它可以帮助您缩短从概念到生产的时间，并为您节省大量的维护工作。

就像任何其他混合框架一样，它有权衡和警告，但它们被它的优势大大抵消了。如果使用正确，它可以确保代码健康和项目长寿。