<html>
<head>
<title>Meet Chromatic — A Cloud-Based Toolchain for Storybook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">遇见彩色——基于云的故事书工具链</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/meet-chromatic-a-cloud-based-toolchain-for-storybook-f76d9b2b6f24?source=collection_archive---------9-----------------------#2021-07-20">https://betterprogramming.pub/meet-chromatic-a-cloud-based-toolchain-for-storybook-f76d9b2b6f24?source=collection_archive---------9-----------------------#2021-07-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ea30" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一步一步的指南来设置色度并使用它来发布故事书和运行可视化回归测试</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8b9878e87f6257ff958dffd16b35a1b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Tu4zDVBEn9QtBxZh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@leslielopezholder?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">莱斯利·洛佩兹·霍尔德</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="dbd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Storybook 是一个UI工具，用于简化开发、测试和文档的组件构建。<a class="ae ky" href="https://www.chromatic.com/docs/" rel="noopener ugc nofollow" target="_blank"> Chromatic </a>是一个基于云的故事书工具链。它简化了运送高质量UI组件的过程。</p><p id="96ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在之前的一篇文章中，我们解释了如何建立故事书。今天，我们将介绍设置半音阶的步骤，并探索以下主要功能:</p><ul class=""><li id="7ead" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">执行一个简单的命令来发布故事书。</li><li id="8a6a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">启用可视化回归测试。</li><li id="efb1" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">授权UX设计师审查视觉差异。</li><li id="bdcd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">维护一个文档化的、版本化的、可搜索的库。</li><li id="af93" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">与GitHub和持续集成(CI)服务集成。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="6a80" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">建立一个彩色帐户</h1><p id="82ac" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">为了使用Chromatic，需要设置一个帐户。去<a class="ae ky" href="https://www.chromatic.com/" rel="noopener ugc nofollow" target="_blank"> Chromatic的网站</a>。我们可以使用现有的<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-recover-from-a-git-merge-mess-9070395df249"> GitHub </a>、<a class="ae ky" href="https://bitbucket.org/product" rel="noopener ugc nofollow" target="_blank"> Bitbucket </a>、<a class="ae ky" href="https://about.gitlab.com/" rel="noopener ugc nofollow" target="_blank"> GitLab </a>账户，或者通过电子邮件注册。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/d93897d1b759862b0f2ebb1bf126f768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NlosIcnRcik2_wK5NuVtDg.png"/></div></div></figure><p id="8e26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们用GitHub证书注册，并选择使用免费帐户进行评估。免费帐户有一些令人印象深刻的功能，如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/4cc509734607cc3572b4e2eb93cc48a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xh9BQrSG_VYcLZCNzTJ_yA.png"/></div></div></figure><p id="41fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">后来，随着项目的发展，我们可以考虑升级到高级计划。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/4ce4dad1fb9a1745886380476285348c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0MP5vSWrvsTE2wrC77PnlA.png"/></div></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="a464" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">创建一个彩色项目</h1><p id="19ce" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">创建帐户后，我们需要将我们的项目添加到Chromatic帐户中。有两个选择:“从GitHub中选择”和“创建项目”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/ea6c7cbada02002ef061dc875c64fb1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5ufQYfI_TZRWf3rwiR4NTg.png"/></div></div></figure><p id="af47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选择现有的GitHub项目更容易。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/e841a2ce2bff51c5a855655d4c1eaf3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FmmGlmkhDp3RDZKbDVuEMQ.png"/></div></div></figure><p id="4326" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们选择添加一个现有的Git存储库<code class="fe np nq nr ns b"><a class="ae ky" href="https://github.com/JenniferFuBook/storybook-chromatic" rel="noopener ugc nofollow" target="_blank">storybook-chromatic</a></code>，它已经设置了Storybook。通过从项目列表中选择它，名为<code class="fe np nq nr ns b">storybook-chromatic</code>的项目被创建。此时，项目状态是未完成的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/b903f7d3a48cf0591c9d29e6d8ea49ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTAXWaYrXXRn4Lzz3puCwg.png"/></div></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="c5e4" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">将故事书出版为彩色</h1><p id="9af1" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">对于未完成的项目<code class="fe np nq nr ns b">storybook-chromatic</code>，我们单击黄色按钮“完成设置”Chromatic站点提供了两个命令:一个用于安装Chromatic，一个用于发布故事书。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/01e777ba7ac66e1d0e3e89ff91ca9def.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4xNu41kzRyEGbf8u6OSRxA.png"/></div></div></figure><p id="b714" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe np nq nr ns b">storybook-chromatic</code>的本地Git存储库中，我们执行命令<code class="fe np nq nr ns b">npm install —-save-dev chromatic</code>。<code class="fe np nq nr ns b">chromatic</code>成为<code class="fe np nq nr ns b">package.json</code>中<code class="fe np nq nr ns b"><a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/package-jsons-dependencies-in-depth-a1f0637a3129">devDependencies</a></code>的一部分:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="bb75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们运行命令来发布故事书:</p><pre class="kj kk kl km gt nv ns nw nx aw ny bi"><span id="552b" class="nz mr it ns b gy oa ob l oc od">npx chromatic —-project-token=7546514bdbaa</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="d195" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第25行，它询问我们是否希望安装半音阶脚本。我们回答是，下面的脚本被添加到<code class="fe np nq nr ns b">package.json</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="a888" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下一次，我们还可以键入<code class="fe np nq nr ns b">npm run chromatic</code>将故事书发布到Chromatic的安全内容交付网络(CDN)。</p><p id="567a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">彩色网站确认故事书已经出版。它有三个组成部分和八个故事。它还显示了聚合故事的概述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/9439e477d775428e32945eff25ffa17e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O2z_75pSPJIal7t9URhTJw.png"/></div></div></figure><p id="77d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经演示了如何执行一个命令来将故事书发布到Chromatic。与下面的<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/build-advanced-react-input-fields-using-styled-components-and-storybook-js-a231b9b2438#e765-bf98276875df">将Storybook部署到不带Chromatic的GitHub</a>相比，这个过程要简单得多:</p><ul class=""><li id="7bb6" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">运行一个命令(<code class="fe np nq nr ns b">npm run build-storybook</code>)来构建一本故事书。</li><li id="35fa" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">向GitHub提交并推送更改(在我们的示例中是20个文件<a class="ae ky" href="https://github.com/JenniferFuBook/react-components/tree/master/docs" rel="noopener ugc nofollow" target="_blank">)。</a></li><li id="c9c2" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">设置GitHub页面站点的链接。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="75a5" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">启用可视化回归测试</h1><p id="0d65" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Regression_testing" rel="noopener ugc nofollow" target="_blank">回归测试</a>是重新运行功能性和非功能性测试，以确保之前开发和测试的软件在变更后仍能运行。如果没有，这将被称为倒退。</p><p id="3c01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">视觉测试在一致的浏览器环境中捕获每个UI组件的图像。新截图会自动与之前接受的基线截图进行比较。当存在视觉差异时，我们会收到通知，以决定这些更改是要修复的回归，还是我们接受这些更改并将其作为新的基线截图。</p><p id="1573" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Chromatic支持故事书的视觉回归测试。每个故事同时在Chrome、Firefox和Internet Explorer 11中呈现，然后与最后一个已知良好状态的截图进行比较，以检测漏洞。</p><p id="e0cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe np nq nr ns b">storybook-chromatic</code>中，有组件<code class="fe np nq nr ns b">Header.jsx</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/c51722457577f87d171c986ede9e5648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*E6zV0N-vuXQhmK3JSJVXiA.png"/></div></figure><p id="5e16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将背景颜色改为<code class="fe np nq nr ns b">red</code>(第15行)，并制作文本<code class="fe np nq nr ns b">New Acme</code>(第27行)。实际的变更集是GitHub 上的<a class="ae ky" href="https://github.com/JenniferFuBook/storybook-chromatic/commit/905b912e62a0c7f0866bcefb6708e1011bbd4056#diff-8dfa0d1728a9cddd1274849696c232e7d19f6534c01987bc478c967cae890569" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/df889bf4b785731c908469141ff5788f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d3JSwFspxFZNO-T7u6LJPA.png"/></div></div></figure><p id="c967" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过执行<code class="fe np nq nr ns b">npm run chromatic</code>发布变更。</p><p id="8e2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">半音阶站点显示两个构件行，并添加了新构件<code class="fe np nq nr ns b">Build 2</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/d25503092d0059517d9fcf09a07f262a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P51iyQvRxhB7j0vRnlPA_w.png"/></div></div></figure><p id="8640" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe np nq nr ns b">Build 2</code>有一个黄色图标，表示有视觉退化。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="34c4" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">授权UX设计师审查视觉差异</h1><p id="8e27" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">对等代码审查是一种系统化的方法，用于检查彼此的代码是否有错误。有许多成熟的工具来检查代码差异/变更。然而，比较UI组件的视觉差异/变化仍然是一个挑战。</p><p id="f20a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">彩色捕捉故事书的视觉变化，并授权UX设计师审查和批准视觉变化。</p><p id="6e6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点击<code class="fe np nq nr ns b">storybook-chromatic</code>构建中的构建2行。然后显示构件2的详细信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/6c6915687c31815a3e1c7a75266e4246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t2OyJYYYyFFRz9oZLBPwvA.png"/></div></div></figure><p id="9a75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">顶部屏幕显示自上次发布以来发现了四个视觉变化。系统会提示我们要么接受它们作为新的基线截图，要么发布另一个版本来撤销这些更改。</p><p id="e1d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">屏幕的下一部分显示了影响四个故事的变化:<code class="fe np nq nr ns b">Header/Logged In</code>、<code class="fe np nq nr ns b">Header/Logged Out</code>、<code class="fe np nq nr ns b">Page/Logged In</code>和<code class="fe np nq nr ns b">Page/Logged Out</code>。</p><p id="7ec0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">底部屏幕显示新的汇总故事。</p><p id="c31a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个Build 2详细页面有很多信息和操作。我们可以点击蓝色按钮“查看修改”或点击灰色按钮“查看故事书”</p><p id="0c5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们单击蓝色按钮“查看更改”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/e0e36a4f94ed9714911a094f5f8a2e56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v75POcj0ODrwz88eaNyJ1Q.png"/></div></div></figure><p id="89df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前半个屏幕突出显示了视觉差异:图标和文本。</p><p id="d4e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二个半屏幕突出显示代码差异:<code class="fe np nq nr ns b">#FFF =&gt; red</code>和<code class="fe np nq nr ns b">Acme =&gt; New Acme</code>。</p><p id="9137" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这为UX设计师提供了足够的信息，让他们点击蓝色按钮“接受”或灰色按钮“拒绝”</p><p id="dd82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想查看更多信息？</p><p id="1013" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到Build 2详细页面，点击灰色按钮“查看故事书”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/dec0f5caba6ecdef7532e6828e19f928.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4cxpyB_NQmZjhFDyT0mq6A.png"/></div></div></figure><p id="dda8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于这本故事书是从半音阶网站上启动的，我们可以点击左下角的按钮“回到半音阶”</p><p id="27ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Chromatic扩展了代码审查，也包括UI可视化审查。利益相关者可以是UX设计师，也可以是技术领导、产品经理、质量保证工程师等。</p><p id="e188" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想进一步将审核流程与GitHub的pull请求集成在一起吗？</p><p id="404e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">点按按钮“在GitHub上安装半音阶”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/1a4126ee38ebb333bf70ff0088e803a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_RmUAtYAzUSdMtD4JMcD2A.png"/></div></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="6886" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">维护一个文档化的、版本化的、可搜索的库</h1><p id="387c" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">它是如此的伟大，以至于所有的建筑都保存在半音阶网站上。对于UI组件，我们有一个文档化的、版本化的、可搜索的库。我们可以通过单击相关的行来访问任何构建的详细信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/b306055a669831a857df86e1ff0c256f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oELdV7JxBQwViZVI4mheuQ.png"/></div></div></figure><p id="7161" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于上面的例子，有超过700个构建。我们可以在去年建造的Build 200上发布故事书，这不是很好吗？或者甚至是三年前的东西？</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2a2f" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">与GitHub集成和持续集成</h1><p id="bf46" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">持续集成是维护现代web应用程序的实际方法。在合并任何拉请求之前，它必须通过测试、分析和部署的特定标准。Chromatic可以与GitHub和CI服务集成。</p><p id="0235" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个从<a class="ae ky" href="https://storybook.js.org/tutorials/design-systems-for-developers/react/en/review/" rel="noopener ugc nofollow" target="_blank"> Storybook的官方网站</a>复制的例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/98983a6b3c89128c9082a554495cbfc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LikUqlL9K7ZI2-iv.png"/></div></div></figure><p id="3c97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当有拉入请求时，CI作业都会启动三项任务:</p><ul class=""><li id="634d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">半音阶/测试(按压):按压变为半音阶。</li><li id="9e4c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">UI测试:在色度上运行视觉回归测试。单击该链接将转到彩色构建详细信息。</li><li id="5d9b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">故事书发布:用变化更新故事书。点击链接将查看新出版的故事书。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="b28b" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="1bc1" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在本文中，我们介绍了设置Chromatic的步骤，并使用它来发布故事书和运行可视化回归测试。我们展示了一个如何检查视觉差异的例子。</p><p id="06bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Storybook + Chromatic是构建UI组件的强大组合。</p><p id="0850" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。我希望这有所帮助。如果你有兴趣，可以看看<a class="ae ky" href="https://jenniferfubook.medium.com/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener">我的其他媒体文章</a>。</p><p id="9add" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oh">注:感谢菲利克斯·德斯罗彻斯和乔希·布隆伯格向我介绍了半音阶并给我展示了一个令人印象深刻的演示！</em></p></div></div>    
</body>
</html>