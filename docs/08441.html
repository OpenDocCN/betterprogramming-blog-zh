<html>
<head>
<title>Build a Chrome Extension With Mint</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Mint构建一个Chrome扩展</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-chrome-extension-with-mint-e993355b5d5d?source=collection_archive---------12-----------------------#2021-04-29">https://betterprogramming.pub/build-a-chrome-extension-with-mint-e993355b5d5d?source=collection_archive---------12-----------------------#2021-04-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="45ee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一种用于构建web的弱势语言</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6616990059192c2065f283cec42f8be0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFkMRNgfOS19YkQNAPwoRA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="2519" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我的<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/leave-javascript-aside-mint-is-a-great-language-for-building-web-apps-3ce5a6873d48">上一篇文章</a>中，我讨论了为什么我喜欢使用<a class="ae lu" href="https://www.mint-lang.com/" rel="noopener ugc nofollow" target="_blank"> Mint </a>来构建一个小的网络应用程序——更确切地说，是构建一个Chrome扩展弹出窗口。</p><p id="fa9e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用Mint构建一个Chrome扩展非常简单，但是在这个过程中我遇到了一些障碍。今天，我将解释如何:</p><ol class=""><li id="001a" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">快速设置开发薄荷铬扩展。</li><li id="81de" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">使用Chrome存储API添加一些功能。</li></ol><p id="e601" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将构建一个演示Chrome扩展。代码可从GitHub 上的<a class="ae lu" href="https://github.com/cpv123/mint-chrome-extension-example" rel="noopener ugc nofollow" target="_blank">获得。</a></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="8e4f" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">我们在建造什么？</h1><p id="222f" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">我们的演示Chrome扩展将是一个简单的计数器，其中的计数值存储在Chrome的浏览器存储中。当浏览器关闭时，计数器值将在选项卡之间保持不变，甚至会同步到用户登录的其他Chrome浏览器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/8041da75ce85369718595badb1f63d46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*AN9FdevU8-RPgL7PpTutDg.png"/></div></figure><p id="3d57" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要查看用Mint构建的更复杂的Chrome扩展，请看一下GitHubGo 的<a class="ae lu" href="https://github.com/cpv123/github-go-chrome-extension/tree/master/mint" rel="noopener ugc nofollow" target="_blank">代码。它是一个扩展，使用Chrome的Omnibox和存储API，并展示了Mint用于构建web应用程序的更多内置功能。</a></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="fdfe" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">如何用Mint构建Chrome扩展</h1><p id="96d5" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">用Mint构建Chrome扩展可以分为三个部分:</p><ol class=""><li id="3aac" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">设置一个普通的Mint web应用程序作为扩展的弹出窗口——当你点击工具栏中的扩展图标时显示的小UI</li><li id="d77c" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">通过定制默认的Mint产品版本，将应用程序构建成Chrome扩展格式</li><li id="cd80" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">利用<a class="ae lu" href="https://www.mint-lang.com/guide/reference/javascript-interop" rel="noopener ugc nofollow" target="_blank"> Mint与JavaScript的互操作性</a>为Chrome APIs添加一些功能</li></ol><h2 id="ab4f" class="no mr it bd ms np nq dn mw nr ns dp na lh nt nu nc ll nv nw ne lp nx ny ng nz bi translated">1.启动一个新的Mint应用程序</h2><p id="dd55" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">搭建一个新的Mint应用程序很容易。首先，<a class="ae lu" href="https://www.mint-lang.com/install" rel="noopener ugc nofollow" target="_blank">安装Mint </a>，然后按照这些指令<a class="ae lu" href="https://www.mint-lang.com/guide/getting-started/using-the-cli" rel="noopener ugc nofollow" target="_blank">使用<code class="fe oa ob oc od b">mint init</code>和<code class="fe oa ob oc od b">mint start</code>命令初始化并运行新的应用程序。</a></p><p id="be7f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您的终端现在应该看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/f58befac5407cc8d786c139ec84a9ea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfUUW2aAVxB0ND_xpciosw.png"/></div></div></figure><p id="af61" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<a class="ae lu" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>，你应该有一句“你好薄荷！”来自运行Mint应用程序的欢迎消息。</p><p id="3ca3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们把它变成一个基本的计数器应用程序。在<code class="fe oa ob oc od b">Main.mint</code>文件中，定义一个<code class="fe oa ob oc od b">counter</code>状态来保存计数值，并显示该值以及增加和减少计数的按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/ec6ffa787b91d15ac907c08e22668ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*mSvawo7laD4GqDKwqQ9deg.png"/></div></figure><p id="da62" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你对Mint语言、组件或风格不熟悉，那么看一看文档。</p><p id="723a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在对按钮应用了一些额外的样式(样式不包括在上面的代码中)之后，应用程序看起来应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/36bfe108c5516c88fc8a732874f2c64d.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*aOP5YrVW40s_CFH8gB3bSQ.png"/></div></figure><h2 id="6083" class="no mr it bd ms np nq dn mw nr ns dp na lh nt nu nc ll nv nw ne lp nx ny ng nz bi translated">2.将应用程序构建成Chrome扩展格式</h2><p id="7e01" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">我们可以用<code class="fe oa ob oc od b">mint build</code>命令构建我们的Mint应用程序，它会将所有生产就绪资产捆绑到一个<code class="fe oa ob oc od b">dist</code>目录中。这些资产将是HTML和JavaScript文件、一个清单JSON文件和许多图标。</p><p id="3d97" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们需要从这个构建中删除一些东西:</p><ol class=""><li id="94dc" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">服务工作者，因为在<code class="fe oa ob oc od b">index.html</code>文件中，服务工作者在一个内联脚本中注册。根据<a class="ae lu" href="https://developer.chrome.com/docs/apps/contentSecurityPolicy/" rel="noopener ugc nofollow" target="_blank">内容安全政策</a>，Chrome扩展中不允许内嵌脚本。</li><li id="1942" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">图标只是因为Mint生成了许多不同大小的图标，但我们现在只需要其中的一个。</li></ol><p id="2d30" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">方便的是，我们可以将一些标志传递给<code class="fe oa ob oc od b">build</code>命令来处理这两种情况:</p><pre class="kj kk kl km gt oh od oi oj aw ok bi"><span id="764a" class="no mr it od b gy ol om l on oo">mint build --skip-service-worker --skip-icons</span></pre><p id="58ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">即使我们已经删除了所有生成的图标，我们仍然希望有一个图标被用作扩展的favicon，这样它就可以在工具栏中被识别。选择一个小图片(最好是正方形或者圆形)，保存在项目根目录下，然后复制到<code class="fe oa ob oc od b">dist</code>目录下:</p><pre class="kj kk kl km gt oh od oi oj aw ok bi"><span id="441e" class="no mr it od b gy ol om l on oo">cp icon.png ./dist</span></pre><p id="725e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们需要用定义Chrome扩展的文件替换生成的<code class="fe oa ob oc od b">manifest.json</code>文件。</p><p id="54b9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有Chrome扩展都需要一个<code class="fe oa ob oc od b">manifest.json</code>文件来描述扩展(它的名称、版本、所需的浏览器权限等等)。在项目根中定义一个<code class="fe oa ob oc od b">manifest.json</code>文件，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/e44712ccb7eaae8c307673798d8c26e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xNLba0p7ur74VH63fAsEYQ.png"/></div></div></figure><p id="f7ec" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意，它将<code class="fe oa ob oc od b">index.html</code>定义为<code class="fe oa ob oc od b">default_popup</code>，并将<code class="fe oa ob oc od b">icon.png</code>文件用作扩展favicon。稍后，我们将回来添加更多的属性，如所需的浏览器权限。</p><p id="f1a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将这个新的清单文件复制到<code class="fe oa ob oc od b">dist</code>目录中，以替换新生成的文件:</p><pre class="kj kk kl km gt oh od oi oj aw ok bi"><span id="8882" class="no mr it od b gy ol om l on oo">cp manifest.json ./dist</span></pre><p id="992f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们刚刚为Chrome扩展准备的所有工作都可以由一个简单的<a class="ae lu" href="https://gist.github.com/cpv123/6a8511f5484c5851196c3898e1e3b32e" rel="noopener ugc nofollow" target="_blank"> shell脚本</a>来处理，我们称之为<code class="fe oa ob oc od b">build.sh</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/257f0eafd7c545858a302db4d526c980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MerxElUodWsNXUzGyepXrA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">build.sh</p></figure><p id="2c74" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">记住允许对这个脚本文件(<code class="fe oa ob oc od b">chmod 755 build.sh</code>)的执行权限后，我们可以通过运行<code class="fe oa ob oc od b">./build.sh</code>来构建我们的应用程序。到<code class="fe oa ob oc od b">dist</code>目录的构建输出现在可以在Chrome中测试了。</p><p id="3560" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在Chrome中，进入<code class="fe oa ob oc od b">chrome://extensions</code>，确保你处于“开发者模式”单击“Load unpacked”按钮并选择包含我们最新构建的计数器应用程序的<code class="fe oa ob oc od b">dist</code>目录。</p><p id="8851" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">计数器扩展现在应该可以测试了。单击工具栏中的扩展图标，并更改计数值。该值将按预期变化，但每次关闭并重新打开扩展模块的弹出窗口时，计数将重置为零。</p><p id="de7f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文的下一部分，也是最后一部分，我们将使用Chrome存储API使计数值持久化。</p><h2 id="2bec" class="no mr it bd ms np nq dn mw nr ns dp na lh nt nu nc ll nv nw ne lp nx ny ng nz bi translated">3.使它对JavaScript和Chrome存储API有用</h2><p id="8bb9" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">此时，我们需要暂时离开Mint，写一些普通的JavaScript。这个JavaScript将使用<a class="ae lu" href="https://developer.chrome.com/docs/extensions/reference/storage/" rel="noopener ugc nofollow" target="_blank"> Chrome存储API </a>做两件事:</p><ol class=""><li id="c0a4" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">将“计数”值保存到Chrome存储器中。</li><li id="c701" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">从Chrome存储器中检索“计数”值。</li></ol><p id="3d78" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">创建一个名为<code class="fe oa ob oc od b">js/index.js</code>的文件，并为每个目的编写一个函数——由于存储API的异步特性，这两者都应该返回一个承诺:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/0dfa7261c1cc0752340c4b2bd7efc70d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*euACx6T2-ksuEdeQBgu9ZQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">js/索引. js</p></figure><p id="5626" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们的扩展可以使用这些JavaScript函数之前，我们需要更新<code class="fe oa ob oc od b">mint.json</code>和<code class="fe oa ob oc od b">manifest.json</code>文件中的一些配置。</p><p id="659a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">告诉Mint应用程序在构建中包含这个新的JavaScript文件。在<code class="fe oa ob oc od b">mint.json</code>中，添加“外部JavaScript”部分:</p><pre class="kj kk kl km gt oh od oi oj aw ok bi"><span id="424c" class="no mr it od b gy ol om l on oo">"external": {<br/>  "javascripts": [<br/>    "js/index.js"<br/>  ]<br/>}</span></pre><p id="de89" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">并告诉Chrome，我们的扩展现在需要使用Chrome存储的权限。在<code class="fe oa ob oc od b">manifest.json</code>中，添加“权限”部分:</p><pre class="kj kk kl km gt oh od oi oj aw ok bi"><span id="3422" class="no mr it od b gy ol om l on oo">"permissions": [<br/>  "storage"<br/>]</span></pre><p id="53f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，我们的Mint扩展已经准备好开始使用Chrome的浏览器存储。我们定义的<code class="fe oa ob oc od b">chromeGetCount</code>和<code class="fe oa ob oc od b">chromeSetCount</code>函数(作为“外部JavaScript”包含在构建中)在应用程序的最终JavaScript构建中是全局可用的。这意味着在我们的Mint代码中，我们可以在任何地方调用这些函数，只要我们告诉Mint编译器它是JavaScript，用反斜杠将它包装起来。像这样在Mint代码中调用JavaScript函数是Mint的<a class="ae lu" href="https://www.mint-lang.com/guide/reference/javascript-interop" rel="noopener ugc nofollow" target="_blank"> JavaScript互操作性</a>的一个例子。</p><p id="f70d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的计数器应用程序现在正在处理“计数”的两个实例:作为本地状态存储在<code class="fe oa ob oc od b">Main.mint</code>组件中的值和将保存在Chrome浏览器存储中的值。应用程序需要保持这两个值同步，这意味着当调用<code class="fe oa ob oc od b">increment</code>或<code class="fe oa ob oc od b">decrement</code>函数时，两个地方的计数都需要更新:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi os"><img src="../Images/95d821e1230b588c0ef44630cf68beeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*5ZVHNcZh4pX1uYzDZw5H_A.png"/></div></figure><p id="5ec3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在<a class="ae lu" href="https://www.mint-lang.com/guide/reference/control-expressions/parallel" rel="noopener ugc nofollow" target="_blank">文档</a>中阅读更多关于Mint的<code class="fe oa ob oc od b">parallel</code>表达。</p><p id="0e54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在Chrome存储器是一个<em class="ot">持久</em>的真实来源，我们可以从这里读取计数值，并用它初始化组件的<code class="fe oa ob oc od b">counter</code>状态值。这需要在每次打开扩展的弹出窗口时发生(即当组件第一次挂载时):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/9341d23c6cf2b8664e98996e14f46c31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zV9du7kIimI3YJkMNAaeFg.png"/></div></div></figure><p id="b674" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">另一个可能不熟悉的Mint表达式是<code class="fe oa ob oc od b">sequence</code>，你可以在文档中读到更多关于<a class="ae lu" href="https://www.mint-lang.com/guide/reference/control-expressions/sequence" rel="noopener ugc nofollow" target="_blank">的内容。在这里使用它可以确保在下一行代码将<code class="fe oa ob oc od b">counter</code>状态设置为某个值之前，<code class="fe oa ob oc od b">chromeGetCount()</code>承诺已经解析为该值。用JavaScript术语来说，该函数类似于:</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/4dd1834d02a4bd8e247d03b8aa1a87d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_gq8CCEJinVvJ5l4r-yfFQ.png"/></div></div></figure><p id="3394" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，扩展的行为符合预期:</p><ul class=""><li id="34d4" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ow mb mc md bi translated">当扩展的弹出窗口打开时，可以更改计数，更新本地状态值和Chrome存储值。</li><li id="fd1b" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ow mb mc md bi translated">通过从Chrome的存储器中读取当前值，弹出窗口将始终显示当前值。</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ae76" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="2863" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">虽然Mint可能不是构建Chrome扩展的显而易见的选择，但它肯定是一个不错的选择。</p><p id="11bd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用Mint构建web应用程序(比如Chrome扩展弹出窗口)既简单又快速，Mint处理JavaScript代码的能力意味着它是一种装备良好的Chrome扩展语言。</p></div></div>    
</body>
</html>