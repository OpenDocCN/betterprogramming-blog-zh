# 24 小时学习 Golang

> 原文：<https://betterprogramming.pub/learning-golang-in-24-hours-ec7bb5e24c78>

## 我是如何通过用 Go、MySQL 和 Swagger 构建 REST 服务在 24 小时内学会 Golang 的

![](img/1adb9af1a5b408a072d88b266c93ffe9.png)

JOSHUA COLEMAN 在 [Unsplash](https://unsplash.com/s/photos/modernism?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

马尔科姆·格拉德威尔普及了一种观念，即掌握任何技能都需要 10，000 个小时。然而，它来自一个研究机构，该机构研究了几个领域的顶尖高手在“刻意训练”中花费了多少时间来达到他们的技能水平。这个数字代表了为获得世界级专业知识所付出的努力。

然而，当学习一项新技能时，这不是我们的目标。我们关注的是功能能力，仅仅是执行技能的基本能力。在篝火旁弹奏五首足够好的和弦就可以称得上是学会了吉他——用牙齿独奏[自由鸟](https://www.youtube.com/watch?v=kgkYN3QjD5M)没有必要。一些人声称，达到这种水平的技能只需要 24 小时。

学习一门新的编程语言也不例外。掌握一门编程语言需要花费相当多的时间和精力——在野外有效地使用它更是如此。

这是我在 24 小时内学习 [Golang](https://golang.org/) 的故事。

![](img/9b229d6a858556a0723564aca5916395.png)

地鼠

我以前曾试图通过学习规则来学习 Golang(这是一种语言，所以你必须学习语法，对吗？)并使用优秀的 [Go Tour](https://tour.golang.org/welcome/1) 。但是，即使 Go 有非常简洁的语法(IIRC 整个 Golang 规范大约 55 页，Java 规范可以用它的重量压碎一个成年人的头骨)，过了一会儿它还是变得很无聊，所以我停止了。这种情况发生了两次后，我决定看看“24 小时内学会一项技能”的事情是否有效，并给自己设定了一个非常具体的目标。

我将构建一个 MySQL+ORM 支持的、Swagger 文档化的 REST 服务，使用 Go 对一个简单的实体执行 CRUD 操作——不多也不少。目标的明确性让我可以专注于我想学的东西(不是整个语言，但希望是最常用的部分)。到目前为止，我已经构建了一百万个 CRUD 服务，所以不需要担心领域学习。我不是在造新东西，只是用新工具造同样的旧东西。

我很高兴地宣布，这真的成功了。我现在对 Golang 有了一个功能性的了解，可以用它来构建一些基本的东西。这也很有趣！实现这些特定的里程碑保持了强大的动力，让我逐渐熟悉语言，并让我足够投入，以至于我最终编写了一些与日志记录和上下文传播相关的中间件，这是我最初没有计划的(我忍不住！当你可以编写 CRUD 服务框架时，为什么有人只编写 CRUD 服务[？).](https://www.kislayverma.com/post/choosing-a-service-framework-for-your-organization)

在整个练习过程中，我一直在推特上记录事情发生的过程。点击这里查看[。](https://twitter.com/kislayverma/status/1236188176965763077)

完整的代码在 [Github](https://github.com/kislayverma/go-crud) 上——你可以随意试用和评论它。

以下是我从这个过程中获得的一些经验。让我知道你的想法，如果你有不同的经历，请在评论中告诉我。这些不是 Golang 的优点和缺点(或者不仅仅是优点和缺点)——这些是我通过用它构建东西来学习一门新语言的整个经历的笔记。

# 好人

## 总是通过构建来学习

通过构建东西来学习比学习规则要有效得多。游乐场真的很酷，但是一个接一个地学习语法很快就会过时。看到有形的东西被建造的动机不能被夸大。

## 博客圈真的帮了大忙

除了学习语言之外，还有更多针对具体事物的方法资源。通过博客和论坛提供给初学者的资源非常有力量。非常感谢所有帮助我快速复制粘贴的人。我也在代码中给出了学分，但是这两个系列的文章确实帮助了我:

*   [在 GO 中休息服务](https://medium.com/@supun.muthutantrige/lets-go-create-an-awesome-rest-api-in-go-part-ii-c3c9f19377da)
*   [goroutines 和 http 调用](https://medium.com/@gauravsingharoy/asynchronous-programming-with-go-546b96cd50c1)

在我完成服务并开始接触这门语言后，我偶然发现了 Rob Pike 的几次演讲，他是 Google Golang 的创始人之一。如果你还没有机会听他讲话，你一定要听。我最喜欢的是他的演讲[“并发不是并行”](https://www.youtube.com/watch?v=cN_DpYBzKso)和[“简单是复杂的”](https://www.youtube.com/watch?v=rFejpH_tAHM)

## Golang 很简单

构建 CRUD 应用程序可能是程序员 90%的工作，在这之后，我可以自信地说，它在任何语言中都是平庸的。然而，Golang 的简单性使体验变得容易。在 Java 中需要很多行的东西在 Golang 中可以表达得如此简洁明了，以至于再次“按 id 查找”和“插入记录”是一件令人愉快的事情。事实上，在代码中没有很多不同的方法来做某件事，这给了你信心，你以某种方式写的东西会工作，或者编译器会呕吐。

我学到的:

*   变量声明和赋值。
*   方法和功能。
*   接口和实现。
*   使用包构建代码。
*   基本部署。
*   数组/列表/映射操作。
*   循环和 if 条件。
*   Goroutines 和频道。

虽然这看起来很基本(除了 goroutines)，但它实际上是该语言的一个大子集。从语言的角度来看，没有太多东西需要介绍(显然，如果您想了解 Golang 的内部，还有很多东西需要介绍)。

## Golang 很强大

Golang 实际上是一种*新的*语言，被开发用来在云中实现基础设施相关的特性。它不是现有语言特性的融合，而是以全新的视角看待当今世界最常见的需求，并提供现成的解决方案。

*   垃圾收集器——GC 在 Go 中是完全无缝的。开发者没有办法修改它。没有`finalize()`等等，它就是工作。
*   内置的服务器包——Golang 对于今天的 API 繁重的世界是明智的，它有一个内置的包来启动不同类型的服务器。启动一个 HTTP 服务器大约需要五行代码。
*   全新的并发性——并发性管理已经融入到语言中。这一点的重要性怎么夸大都不为过。开发人员可以构建可伸缩的并发系统，而无需额外的框架或编程范式转换(在大多数语言中，当从同步转换到异步时，您必须这样做)。
*   循环依赖检测——这真是太棒了。任何在大型组织中处理过保持依赖图直线的人都会理解这一点。如果检测到循环依赖，编译器实际上*会使构建*失败。这迫使开发人员要小心代码的结构以及上游和下游是什么。这可能会在设计过程中花费一些额外的时间，但从长远来看，这肯定会使软件更易于维护。

所有这些都来自语言——我甚至还没有检查过太多的框架！

## OSS FTW！

像往常一样，开源社区让一切变得简单多了！我使用了我所关注的博客推荐的几个框架，毫无疑问，每个框架的文档都是一流的。我经常在几个小时内从打开文档到特性完成。

*   请求路由:[戈里尔多路复用器](http://www.gorillatoolkit.org/pkg/mux)
*   语境传播:[大猩猩语境](https://www.gorillatoolkit.org/pkg/context)
*   ORM: [gorm](http://gorm.io/)
*   文档:[招摇](https://github.com/go-swagger/go-swagger)

# 坏事

## 弱调试本能

作为一个初学者，调试是困难的，因为当查看代码时，没有发生什么的视觉直觉。看起来没什么问题，因为我对什么是问题没有直觉。IDE 当然有所帮助，随着我对代码的布局越来越熟悉，这种帮助也就越来越少了。

## 为了清晰而放弃简洁

我认为 Golang 在很大程度上是正确的，但在某些情况下，我觉得语法可以更明确。

*   公共/私有访问的大写/小写约定对我来说似乎有点“神奇”。我更喜欢更明确的东西(比如在私有方法前放一个`_`)。
*   很难区分哪个结构实现了哪个接口。在大型代码库中，这可能会导致发现问题。

# 丑陋的

map.exists 语法非常糟糕。考虑到这在任何一段代码中使用的频率，我敦促语言所有者清理它。

*如果你喜欢这篇文章，你可以订阅* [*我的邮件列表*](https://www.kislayverma.com/) *了解最新消息。*