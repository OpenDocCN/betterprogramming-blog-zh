<html>
<head>
<title>Build a Simple Pomodoro Web App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建一个简单的番茄红素网络应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-a-simple-pomodoro-web-app-a-beginners-guide-a30f98649977?source=collection_archive---------5-----------------------#2020-08-13">https://betterprogramming.pub/creating-a-simple-pomodoro-web-app-a-beginners-guide-a30f98649977?source=collection_archive---------5-----------------------#2020-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="fa70" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">初学者指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/baec8cf07bed3153d1ff1905a794c552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yO2AKozTPVTjDKg4"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Tetiana SHYSHKINA 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0205" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们这个过度联系、充斥着通知的世界里，注意力似乎是一种货币，一种太容易被浪费却同样难以获得的货币。我一生都在学习，我可以证明，在任何学习领域，阻碍我进步的最大障碍就是分心。毕竟，似乎总有无尽的猫咪视频等着你去欣赏，有熟人的照片等着你去浏览，有电子邮件等着你去浏览，有通知铃声等着你去点击……你懂的。</p><p id="2d32" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">帮助我的大脑克服这种持续不断的技术噪音带来的注意力分散的诅咒的是一种简单的时间管理技术，名叫<a class="ae kv" href="https://francescocirillo.com/pages/pomodoro-technique" rel="noopener ugc nofollow" target="_blank">波莫多罗</a>，归功于弗朗西斯科·西里洛。这个过程大致是这样的:1)选择一项任务，2)设置一个25分钟的计时器，3)将这25分钟专注于这项任务，并且只专注于这项任务，4)短暂休息，5)冲洗并重复。</p><p id="eeb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我不久前开始学习如何编码时，我知道一个利用番茄工作法的简单应用程序在我的尝试清单上。创建这个应用程序的过程教会了我很多关于如何操作文档对象模型，如何识别事件，以及如何在浏览器上创建动态变化，所有这些都不需要页面刷新。查看下面的应用程序的简短演示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="49f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这款应用的设计归功于天才的多纳特·普拉纳。虽然样式对于让你的应用程序看起来像样和用户友好非常重要，但是为了节省时间，我将只向你介绍我是如何为这个单页应用程序创建功能的。您可以通过<a class="ae kv" href="https://codepen.io/nhtvng/pen/eYZJZqd?editors=1010" rel="noopener ugc nofollow" target="_blank"> CodePen </a>访问源代码。请随意跟随。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="bb1c" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">规划过程:用户故事</h1><p id="891a" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">首先，我头脑风暴用户故事，这是从用户的角度对我的应用程序功能的简单描述。作为用户，我希望:</p><ol class=""><li id="aedb" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated">能够进入应用程序的页面，看到显示的几个选项的重点分钟选择</li><li id="3e7c" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">点击聚焦分钟选项后，会显示一个倒计时</li><li id="ad0e" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">能够取消我的焦点会议</li><li id="097f" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">当我成功完成我的焦点会议时，奖励我一个随机的励志音乐视频</li><li id="5a83" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">可以选择完成另一个焦点会议或休息五分钟</li></ol></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="2393" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">开始HTML:查看分钟选项</h1><p id="5146" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">我的<code class="fe no np nq nr b">index.html</code> <em class="ns"> </em>文件开始是这样的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt lt l"/></div></figure><p id="d797" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我创建了包含以下项目的元素:带有应用程序名称的主标题、描述、倒计时、取消按钮、视频、聚焦分钟按钮和休息选项。我给每个元素分配了唯一的id，以便以后容易地引用它们，并且还将它们包装在<code class="fe no np nq nr b">&lt;div&gt;</code> <em class="ns"> </em>容器中，以便于样式化。默认情况下，我隐藏了取消按钮和“休息一下”选项当链接到我的<code class="fe no np nq nr b">index.js</code>文件时，我确保添加了“延迟”,以确保在运行任何JS代码之前先加载HTML。</p><p id="54de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个分钟按钮的ID和<code class="fe no np nq nr b">take-break</code>跨度被设置为相应的分钟。稍后，ID将被传递给一个负责设置适当开始时间的函数。我最初将分钟按钮25的ID设置为0.05，以避免每次测试我的应用程序都要等待整整25分钟。</p><p id="6b94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，用户可以看到以下内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/88b6bc2b591aa6cab9311d907abe6617.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/0*KwPI73UdA_OtliLI"/></div></figure><p id="49fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用户故事1:已完成。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="59f3" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">看到一个倒计时显示</h1><p id="3339" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">当用户点击一个焦点分钟选项时，应该会显示一个倒计时器，从指定的分钟开始计时。为了实现这一点，我使用了<a class="ae kv" href="https://dmitripavlutin.com/javascript-event-delegation/" rel="noopener ugc nofollow" target="_blank">事件委托</a>。首先，我创建了变量，并给它们分配了从DOM中选择的稳定元素。这允许我在代码中轻松地引用它们。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt lt l"/></div></figure><p id="f6ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我给<code class="fe no np nq nr b">selectionContainer</code><em class="ns"/>添加了一个事件监听器，调用一个名为<code class="fe no np nq nr b">renderCountdown()</code>的函数。实际上，我是在告诉浏览器，如果我在<code class="fe no np nq nr b">selectionContainer</code>中点击的东西恰好是一个带有类<code class="fe no np nq nr b">set-time</code>的元素，就开始倒计时。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt lt l"/></div></figure><p id="2e3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过使用助手功能<code class="fe no np nq nr b">hideElements()</code>和<em class="ns"/><code class="fe no np nq nr b">unhideElements()</code><em class="ns"/>，我能够轻松显示我希望用户看到的内容。这些函数利用了<a class="ae kv" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters" rel="noopener ugc nofollow" target="_blank"> rest参数</a>，它允许您传递未知数量的参数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt lt l"/></div></figure><p id="ce06" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来是应用程序的核心功能。<code class="fe no np nq nr b">startCountdown()</code>以整数形式接收一个分钟变量，并在<code class="fe no np nq nr b">countdownContainer</code>中显示一个变化的倒计时时钟。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt lt l"/></div></figure><p id="7fbf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我编写了显示适当倒计时时间的逻辑，利用了<code class="fe no np nq nr b">setInterval()</code>，它将运行您传递给它的任何回调函数，持续指定的毫秒数。(在这种情况下，我们告诉它让<code class="fe no np nq nr b">totalTimeInSeconds</code>每过一秒就减1)。用户现在会看到:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/0f85b474193861fc4a5c25d90d030feb.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*z2GMsliOP-jB2EDunF5dfg.png"/></div></figure><p id="2be0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用户故事2:已完成。接下来，出现了两个选项:如果计时器到达0，以及如果用户单击Cancel按钮。在任一情况下，倒计时间隔应该停止，并且应该呈现音乐视频或者用户被带回到开始。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="5e8f" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">取消会话</h1><p id="ec2b" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">如果用户取消会话，则调用功能<code class="fe no np nq nr b">renderBackToStart()</code> <em class="ns"> </em>。该函数再次使用助手<code class="fe no np nq nr b">hideElements()</code>和<code class="fe no np nq nr b">unhideElements()</code>使用户再次看到以下显示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/88b6bc2b591aa6cab9311d907abe6617.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/0*KwPI73UdA_OtliLI"/></div></figure><pre class="kg kh ki kj gt nw nr nx ny aw nz bi"><span id="aa4e" class="oa me iq nr b gy ob oc l od oe"><br/>function renderBackToStart() {<br/>  hideElements(countdownContainer, cancelContainer, videoContainer, takeBreak);<br/>  unhideElements(description, selectionContainer, timeButtonsContainer);<br/>}</span></pre><p id="c31d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用户故事3:已完成。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h1 id="dc05" class="md me iq bd mf mg mh mi mj mk ml mm mn jw mo jx mp jz mq ka mr kc ms kd mt mu bi translated">杀不死你的会让你变得更强</h1><p id="4622" class="pw-post-body-paragraph kw kx iq ky b kz mv jr lb lc mw ju le lf mx lh li lj my ll lm ln mz lp lq lr ij bi translated">如果用户成功完成会话，我们调用<code class="fe no np nq nr b">renderVideo()</code>函数，该函数从一组URL中取出一个随机视频URL(附带指定的开始时间和自动播放参数),并使用<code class="fe no np nq nr b">iframe</code>将其附加到<code class="fe no np nq nr b">videoContainer</code>。是的，其中一首歌是心爱的凯莉·克莱森的更强。这算不算是一种祝贺的动力？</p><p id="66cd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该功能还利用<code class="fe no np nq nr b">hideElement()</code>和<code class="fe no np nq nr b">unhideElement()</code>来显示选项，供用户开始另一个会话或休息五分钟。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt lt l"/></div></figure><p id="510e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用户看到的内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/35aabf22c432f41deee8c403eb06e6fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*w3XzEIGBdujVPDQV05SezA.png"/></div></figure><p id="29ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用户情景4和5:已完成。嘣嘣。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="3ce1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过开发这个应用程序，我了解到:</p><ol class=""><li id="05b1" class="na nb iq ky b kz la lc ld lf nc lj nd ln ne lr nf ng nh ni bi translated">通过使用<em class="ns"> </em> <code class="fe no np nq nr b">.querySelector()</code>、<code class="fe no np nq nr b">.addEventListener()</code>、<code class="fe no np nq nr b"> .setInterval()</code>等方法操作DOM</li><li id="8ed4" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">创建助手功能，并尽可能地将单个职责委托给每个功能</li><li id="19bb" class="na nb iq ky b kz nj lc nk lf nl lj nm ln nn lr nf ng nh ni bi translated">使用ES6语法，如rest参数和arrow函数语法</li></ol><p id="8855" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你一直读到最后。我希望这有所帮助。为不断学习干杯，尽管路上有干扰！</p></div></div>    
</body>
</html>