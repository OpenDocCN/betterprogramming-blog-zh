<html>
<head>
<title>4 Uncommon Python Tricks You Should Learn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该学习的4个不常见的Python技巧</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/4-uncommon-python-tricks-you-should-learn-2d3a156c10f2?source=collection_archive---------5-----------------------#2020-02-11">https://betterprogramming.pub/4-uncommon-python-tricks-you-should-learn-2d3a156c10f2?source=collection_archive---------5-----------------------#2020-02-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="811d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">帮助您掌握Python的工具</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/50af6f1168d7f3478ca58ad2dde2cc5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LOWDg-jryi7YKWnh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@maxcodes?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Max Nelson </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="8e0b" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">1.多重赋值</h1><p id="d820" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">当您想给几个变量赋予相同的值时，您经常会看到为每个变量重复赋值语句的代码。</p><p id="738b" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">它可能类似于下面的代码，对每个变量使用一个单独的赋值:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="06fd" class="ne lh it na b gy nf ng l nh ni">a = 1<br/>b = 1<br/>c = 1</span></pre><p id="9966" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">在Python中，我们可以简化这一点，并一次给每个变量赋值。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="9a2d" class="ne lh it na b gy nf ng l nh ni">a = b = c = 1<br/># a == 1<br/># b == 1<br/># c == 1</span></pre><p id="451d" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这样做之后，每个变量都被赋予了链中最右边的值。因为它只取最右边的值，所以我们也可以用一个变量代替<code class="fe nj nk nl na b">1</code>。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="39f8" class="ne lh it na b gy nf ng l nh ni">val = 1<br/>a = b = c = val<br/># a == 1<br/># b == 1<br/># c == 1</span></pre></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="087d" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">2.序列解包</h1><p id="6b94" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">在Python中，如果我们有一个序列，比如一个列表，我们可以直接将该序列的元素分配给单个变量，而不必使用循环或单独索引该序列的每个元素。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="5fcc" class="ne lh it na b gy nf ng l nh ni">our_list = [1, 2, 3]<br/>a, b, c = our_list<br/># a == 1<br/># b == 2<br/># c == 3</span></pre><p id="1a91" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">这里我们看到<code class="fe nj nk nl na b">our_list</code>中的每个元素都被赋给了相应的变量。注意，只有当我们在左侧提供了正确数量的变量时，这才有效——对于<code class="fe nj nk nl na b">our_list</code>中的每个元素都必须有一个变量。</p><h2 id="685b" class="ne lh it bd li nm nn dn lm no np dp lq mh nq nr ls ml ns nt lu mp nu nv lw nw bi translated">变量交换</h2><p id="9004" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">这样做的一个好结果是，我们可以交换变量，而不需要使用临时变量。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f650" class="ne lh it na b gy nf ng l nh ni">a, b = (1, 2)<br/># a == 1<br/># b == 2</span><span id="f32c" class="ne lh it na b gy nx ng l nh ni">a, b = b, a<br/># a == 2<br/># b == 1</span></pre><p id="4858" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">由于<code class="fe nj nk nl na b">b, a</code>等同于元组<code class="fe nj nk nl na b">(b, a)</code>，我们可以解包这个序列，并像上面所做的那样将其重新分配给<code class="fe nj nk nl na b">a</code>和<code class="fe nj nk nl na b">b</code>。通过更改右边的元组，我们可以将这些变量重新分配给任何其他值集。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="c6c8" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">3.扩展切片</h1><p id="24a7" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">您可能已经知道如何用<code class="fe nj nk nl na b">our_list[begin:end]</code>符号获得序列的一部分，这将创建原始序列的一个子序列。但是使用<a class="ae ky" href="https://python-reference.readthedocs.io/en/latest/docs/brackets/slicing.html" rel="noopener ugc nofollow" target="_blank">扩展切片</a>可以更进一步，它提供了控制步长的第三个参数。</p><p id="3dd7" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">扩展切片语法是<code class="fe nj nk nl na b">our_list[begin:end:step]</code>。</p><p id="cfc4" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated"><code class="fe nj nk nl na b">step</code>参数可以是正的，也可以是负的。正值将从开头开始，一次跳过<code class="fe nj nk nl na b">step</code>个元素，直到到达结尾。</p><p id="3302" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">相反，负值将从末尾开始，一次跳过<code class="fe nj nk nl na b">step</code>个元素，直到到达开头。</p><h2 id="4b72" class="ne lh it bd li nm nn dn lm no np dp lq mh nq nr ls ml ns nt lu mp nu nv lw nw bi translated">反转列表</h2><p id="0007" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我们可以使用扩展的slice语法来快速反转列表。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="7d3d" class="ne lh it na b gy nf ng l nh ni">our_list = [1, 2, 3]<br/>reversed_list = our_list[::-1]<br/># reversed_list == [3, 2, 1]</span></pre><p id="a3cd" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">通过提供-1的步长，它从<code class="fe nj nk nl na b">our_list</code>中的最后一个元素开始，一次后退一个元素，直到到达开头。这将创建一个与原始列表相反的列表。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="a080" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">4.所有和任何</h1><p id="7ded" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">Python提供了两个独特的内置函数，允许我们检查iterable中的所有元素是否都是<code class="fe nj nk nl na b">True</code>，以及任何<em class="ny">元素是否都是<code class="fe nj nk nl na b">True</code>。这些功能被恰当地命名为<a class="ae ky" href="https://docs.python.org/3/library/functions.html#all" rel="noopener ugc nofollow" target="_blank"> all </a>和<a class="ae ky" href="https://docs.python.org/3/library/functions.html#any" rel="noopener ugc nofollow" target="_blank"> any </a>。</em></p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f3ce" class="ne lh it na b gy nf ng l nh ni">all_true = [True, True, 1, 'hello']<br/>any_true = [0, False, True, '', []]</span><span id="ee9b" class="ne lh it na b gy nx ng l nh ni"># all(all_true) == True<br/># any(all_true) == True</span><span id="675e" class="ne lh it na b gy nx ng l nh ni"># all(any_true) == False<br/># any(any_true) == True</span></pre><p id="faaf" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">注意，在Python中，一切都有真值，包括字符串、数字和列表。每种类型都以不同的方式实现这一点。</p><p id="cdfa" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">比如在整数中，任何非零的都是<code class="fe nj nk nl na b">True</code>，对于字符串和列表，任何非空的都是<code class="fe nj nk nl na b">True</code>。</p><p id="9333" class="pw-post-body-paragraph ly lz it ma b mb mu ju md me mv jx mg mh mw mj mk ml mx mn mo mp my mr ms mt im bi translated">我希望这有所帮助。感谢阅读！</p></div></div>    
</body>
</html>