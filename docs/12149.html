<html>
<head>
<title>Creating a PGP Encryption Tool With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python创建PGP加密工具</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-a-pgp-encryption-tool-with-python-19bae51b7fd?source=collection_archive---------2-----------------------#2022-05-16">https://betterprogramming.pub/creating-a-pgp-encryption-tool-with-python-19bae51b7fd?source=collection_archive---------2-----------------------#2022-05-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7ccb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过代码开始学习网络安全和加密</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5558406c2183ae37062005a89891378f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ygtll2KTYTXNG3cmaAafHQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自unsplash</p></figure><h1 id="6b66" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">什么是PGP</h1><p id="4f12" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">相当好的隐私，通常被称为PGP，是一个广泛使用的加密程序。PGP用于创建数字签名，加密和解密大量数据，并增加电子邮件通信的安全T2。</p><p id="475b" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">PGP加密使用一系列组合的<a class="ae mm" href="https://en.wikipedia.org/wiki/Cryptographic_hash_function" rel="noopener ugc nofollow" target="_blank">哈希</a>、<a class="ae mm" href="https://en.wikipedia.org/wiki/Data_compression" rel="noopener ugc nofollow" target="_blank">数据压缩</a>、<a class="ae mm" href="https://en.wikipedia.org/wiki/Symmetric-key_cryptography" rel="noopener ugc nofollow" target="_blank">对称密钥加密</a>，最后是<a class="ae mm" href="https://en.wikipedia.org/wiki/Public-key_cryptography" rel="noopener ugc nofollow" target="_blank">公钥加密</a>。每一步都使用几种受支持的<a class="ae mm" href="https://en.wikipedia.org/wiki/Algorithm" rel="noopener ugc nofollow" target="_blank">算法</a>中的一种。每个公钥都绑定到一个用户名或电子邮件地址。</p><p id="6b89" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">幸运的是，大多数PGPs加密协议都可以通过开源Python库pgpy供开发人员使用。发现了这个库之后，我又开始了另一个周六下午的开源探索，并创建了另一个小程序——一个使用PGP的命令行加密工具。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/17ede918c4b8dbb000cfe9463ec4c6cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*cpujyjx39rxe1gld-tj3uA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我的代码的命令行片段</p></figure><p id="4329" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">下面，我将带您了解在终端PGP加密工具中创建基本小程序的基本步骤。需要对文件流和编程有基本的了解。</p><h2 id="fe4e" class="mt kz it bd la mu mv dn le mw mx dp li lz my mz lk md na nb lm mh nc nd lo ne bi translated">创建命令行小程序</h2><p id="b8bd" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">首先，我们将编写五个基本函数，它们在创建我们的软件时起着关键作用，该软件将提供以下功能:获取和设置密钥，读取和写入特定文件的密钥，以及生成一个密钥。</p><p id="de10" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">因为get、setting、read、write是基本功能，下面会把它们包含在主旨里，不做解释。<code class="fe nf ng nh ni b">genKey</code>函数更有趣一点。虽然它是pgpy“样板”，但它值得探索。</p><p id="9b1e" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">下面要点中的第42行使用RSA协议生成一对大小为4096的公钥和私钥，而第45行的后续命令将它绑定到一个虚构的电子邮件——在本例中是Abe Lincoln的——如简介中所要求的。</p><p id="b7d6" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">第50行允许我们指定用例的整个范围(电子邮件加密、磁盘加密等。)和用于加密文档的预定义哈希、密码和压缩算法。在以下情况下，没有删除任何选项或标志:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="038a" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">我们的下一步包括将pgpy的加密命令与Python的文件流调用相结合。需要四个函数:<code class="fe nf ng nh ni b">pgp_encrypt</code>对文本进行加密；<code class="fe nf ng nh ni b">pgp_decrypt</code>解密(显然)；<code class="fe nf ng nh ni b">encrypt_file</code>，和<code class="fe nf ng nh ni b">decrypt_file</code>。关于文件加密和解密的功能将简单地结合使用加密命令和文件流功能。如下图所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><p id="e72a" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">现在，用一个有趣的主命令把所有的东西串起来，如下图所示，这将给我们一个有效的加密软件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="8c8f" class="mt kz it bd la mu mv dn le mw mx dp li lz my mz lk md na nb lm mh nc nd lo ne bi translated">结论</h2><p id="869d" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">尽管对PGP的探索并不十分深入，但对于初学程序员和对网络安全和加密感兴趣的人来说，这是一个有趣的起点。</p><p id="b4ce" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">探索开源软件并使用它来创建有趣的小项目是增强你对某个主题的理解的好方法。我强烈鼓励那些对密码学或网络安全感兴趣的人遵循类似的思路，为自己尝试类似的项目。</p></div></div>    
</body>
</html>