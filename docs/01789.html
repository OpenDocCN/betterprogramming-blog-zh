<html>
<head>
<title>Why You Shouldn’t Use JSON.stringify to Compare Objects in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么不应该使用JSON.stringify来比较JavaScript中的对象</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/why-you-shouldnt-use-json-stringify-to-compare-objects-in-javascript-c9a16b7331e?source=collection_archive---------7-----------------------#2019-10-14">https://betterprogramming.pub/why-you-shouldnt-use-json-stringify-to-compare-objects-in-javascript-c9a16b7331e?source=collection_archive---------7-----------------------#2019-10-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="280c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不要忘记你钥匙的顺序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0f67a8767f97bfbd40937a47c1f41202.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*41Cr5TqOa6NwPeY329PIOQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@adeolueletu?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Adeolu Eletu </a>在<a class="ae ky" href="https://unsplash.com/s/photos/javascript?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0dc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript中的等式是最令人困惑的方面之一，会让你抓耳挠腮。不像其他语言，你会认为相等操作符<code class="fe lv lw lx ly b"><strong class="lb iu">==</strong></code>或<code class="fe lv lw lx ly b"><strong class="lb iu">===</strong></code>会有它们应有的行为，但令你惊讶的是，它们并没有。</p><p id="519e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为对象是引用类型，所以不能使用普通的等式运算符，即<code class="fe lv lw lx ly b"><strong class="lb iu">==</strong></code> <strong class="lb iu"> </strong>或<strong class="lb iu"> </strong> <code class="fe lv lw lx ly b"><strong class="lb iu">===</strong></code>。</p><p id="a173" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么如何检查对象的相等性呢？有几个方法你可以采用(查看文章末尾)，但是这篇文章的重点是为什么你不应该使用<code class="fe lv lw lx ly b">JSON.stringify</code>。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="5774" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated"><strong class="ak">为什么不是</strong> <code class="fe lv lw lx ly b"><strong class="ak">JSON.stringify</strong></code> <strong class="ak">？</strong></h1><p id="443d" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated"><code class="fe lv lw lx ly b">JSON.stringify</code>似乎是最明显和最容易的比较选择，因为不需要外部依赖。</p><p id="06d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是等等！顾名思义，这种方法首先将对象转换成字符串，然后再进行比较。</p><p id="e1fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript不保证键的顺序。示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/832d545cf4930a30bb487d3a453921cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kghNXLTy3u3EES850x7U2A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">查看代码:https://gist . github . com/zainzafar 90/919 FD 3088 a 912860847 CDC 2d 33159 a 24</p></figure><p id="c252" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如果要比较的对象具有以相同顺序输入的属性，比较将正常工作，但是在后一种情况下，如果顺序发生了变化，则相等失败。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="e069" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">结论</h1><p id="7ee8" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">尽管它不需要安装来自<a class="ae ky" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> npm </a>的库或包，但<code class="fe lv lw lx ly b">JSON.stringify</code>肯定不是比较对象的最佳选择。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="7f80" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">可供比较的备选方案</h1><p id="1e0f" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">JavaScript社区有一些其他的对象比较方法:</p><ul class=""><li id="5be4" class="ne nf it lb b lc ld lf lg li ng lm nh lq ni lu nj nk nl nm bi translated">深渊的<code class="fe lv lw lx ly b"><a class="ae ky" href="https://www.npmjs.com/package/deep-equal" rel="noopener ugc nofollow" target="_blank">Equal</a></code>。</li><li id="f119" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">洛达什的<code class="fe lv lw lx ly b"><a class="ae ky" href="https://lodash.com/docs/4.17.15#isEqual" rel="noopener ugc nofollow" target="_blank">isEqual</a></code>。</li><li id="387c" class="ne nf it lb b lc nn lf no li np lm nq lq nr lu nj nk nl nm bi translated">快速的<code class="fe lv lw lx ly b"><a class="ae ky" href="https://www.npmjs.com/package/fast-equals" rel="noopener ugc nofollow" target="_blank">Equals</a></code>。</li></ul></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="c481" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">资源</h1><div class="ns nt gp gr nu nv"><a href="https://www.samanthaming.com/tidbits/33-how-to-compare-2-objects" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">如何比较JavaScript | SamanthaMing.com中的两个对象</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">对象是引用类型，所以不能只使用===或==来比较两个对象。一种快速比较两个对象的方法…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">www.samanthaming.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj ks nv"/></div></div></a></div><div class="ns nt gp gr nu nv"><a href="http://adripofjavascript.com/blog/drips/object-equality-in-javascript.html" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">JavaScript中的对象相等性</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">相等性是JavaScript最容易混淆的方面之一。==对===的行为，类型的顺序…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">adripofjavascript.com</p></div></div></div></a></div></div></div>    
</body>
</html>