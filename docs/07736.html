<html>
<head>
<title>How To Add an SSH Key to GitHub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向GitHub添加SSH密钥</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-add-an-ssh-key-to-github-96d934d09d35?source=collection_archive---------0-----------------------#2021-02-14">https://betterprogramming.pub/how-to-add-an-ssh-key-to-github-96d934d09d35?source=collection_archive---------0-----------------------#2021-02-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8e8d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">正确部署SSH密钥</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f5dcdb300841e976ccf49ce078bcb4c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vk8E86YKsmoibS6v"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@brina_blum?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Brina Blum </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><div class="kz la gp gr lb lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="4379" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当使用Git和GitHub时，您可以与HTTPS或SSH进行交互。今天，我们将提供一个关于如何将SSH密钥部署到GitHub存储库的教程。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/89422310a32a2b63b5c9713cb24ef4cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/0*UOCRVwjKzsJDOwEh.png"/></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="dd3f" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">设置SSH密钥</h1><p id="ee0e" class="pw-post-body-paragraph lr ls it lt b lu nn ju lw lx no jx lz ma np mc md me nq mg mh mi nr mk ml mm im bi translated">您可以通过在您的计算机上运行<code class="fe ns nt nu nv b"><a class="ae ky" href="https://docs.github.com/en/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#generating-a-new-ssh-key" rel="noopener ugc nofollow" target="_blank">ssh-keygen</a></code> <a class="ae ky" href="https://docs.github.com/en/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#generating-a-new-ssh-key" rel="noopener ugc nofollow" target="_blank">过程</a>来生成SSH密钥。您需要记住您将生成的公钥和私钥对保存在哪里。生成新SSH密钥的步骤是:</p><ul class=""><li id="0eb6" class="nw nx it lt b lu lv lx ly ma ny me nz mi oa mm ob oc od oe bi translated">打开Git bash。</li><li id="2892" class="nw nx it lt b lu of lx og ma oh me oi mi oj mm ob oc od oe bi translated">通过输入您的GitHub电子邮件地址，复制粘贴以下命令:</li></ul><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="7cf6" class="oo mw it nv b gy op oq l or os">$ ssh-keygen -t ed25519 -C "<a class="ae ky" href="https://predictivehacks.com/cdn-cgi/l/email-protection" rel="noopener ugc nofollow" target="_blank">[email protected]</a>"</span></pre><p id="db25" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><em class="ot">注意:如果您使用的是不支持Ed25519算法的传统系统，请使用:</em></p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="f634" class="oo mw it nv b gy op oq l or os">$ ssh-keygen -t rsa -b 4096 -C "<a class="ae ky" href="https://predictivehacks.com/cdn-cgi/l/email-protection" rel="noopener ugc nofollow" target="_blank">[email protected]</a>"</span></pre><p id="daf5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这将使用提供的电子邮件作为标签创建一个新的SSH密钥。</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="8743" class="oo mw it nv b gy op oq l or os">&gt; Generating public/private ed25519 key pair.</span></pre><ul class=""><li id="408b" class="nw nx it lt b lu lv lx ly ma ny me nz mi oa mm ob oc od oe bi translated">当提示您“输入保存密钥的文件”时，接受默认文件位置:</li></ul><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="52e1" class="oo mw it nv b gy op oq l or os">&gt; Enter a file in which to save the key (/c/Users/you/.ssh/id_ed25519):[Press enter]</span></pre><ul class=""><li id="f6a4" class="nw nx it lt b lu lv lx ly ma ny me nz mi oa mm ob oc od oe bi translated">然后会要求您输入密码。你可以让它空着。你可以看看文档中的<a class="ae ky" href="https://docs.github.com/en/github/authenticating-to-github/working-with-ssh-key-passphrases" rel="noopener ugc nofollow" target="_blank">密码。</a></li></ul><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="37f6" class="oo mw it nv b gy op oq l or os">&gt; Enter passphrase (empty for no passphrase): [Type a passphrase] <br/>&gt; Enter same passphrase again: [Type passphrase again]</span></pre></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="463c" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">检查现有的SSH密钥</h1><p id="8f5c" class="pw-post-body-paragraph lr ls it lt b lu nn ju lw lx no jx lz ma np mc md me nq mg mh mi nr mk ml mm im bi translated">在生成SSH密钥之前，您应该检查您是否已经有一个现有的SSH密钥。您可以通过使用Git bash并输入下面的命令来检查现有的SSH密钥，该命令列出了<code class="fe ns nt nu nv b">.ssh</code>目录中的文件:</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="3643" class="oo mw it nv b gy op oq l or os">ls -al ~/.ssh</span></pre><p id="b56b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">默认情况下，公钥的文件名是下列之一:</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="cddd" class="oo mw it nv b gy op oq l or os">id_rsa.pub id_ecdsa.pub id_ed25519.pub</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/0e8b4614d74d7d0c2469c24cfb85f922.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HSkVoOKzP-NREGDj.png"/></div></div></figure><p id="0e6e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如你所见，我有一个<code class="fe ns nt nu nv b">id_rsa.pub</code>文件。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="609d" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">将您的SSH密钥添加到ssh-agent</h1><p id="df5a" class="pw-post-body-paragraph lr ls it lt b lu nn ju lw lx no jx lz ma np mc md me nq mg mh mi nr mk ml mm im bi translated">您可以通过键入以下命令在后台启动<code class="fe ns nt nu nv b">ssh-agent</code>:</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="29b4" class="oo mw it nv b gy op oq l or os">$ eval `ssh-agent -s`</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/66ee98810ed512990a9d17aa54411562.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/0*WyE_d874o-4FYXPu.png"/></div></figure><p id="2c77" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">然后，您可以通过键入以下命令来添加已经生成的私钥文件:</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="786b" class="oo mw it nv b gy op oq l or os">$ ssh-add ~/.ssh/id_rsa</span></pre></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="ddd4" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">将SSH密钥添加到GitHub中</h1><p id="fad6" class="pw-post-body-paragraph lr ls it lt b lu nn ju lw lx no jx lz ma np mc md me nq mg mh mi nr mk ml mm im bi translated">您必须复制SSH公共密钥。有两种选择。一种选择是使用<code class="fe ns nt nu nv b">cat</code>命令并从终端复制它:</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="d35d" class="oo mw it nv b gy op oq l or os">$ cat ~/.ssh/id_rsa.pub</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/0381810db84a7e620ce4467405cc5756.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*N9ycCHtpakt06NTJ.png"/></div></div></figure><p id="a008" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">另一个选项是通过键入以下内容将其复制到剪贴板:</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="559f" class="oo mw it nv b gy op oq l or os">$ clip &lt; ~/.ssh/id_rsa.pub</span></pre><p id="8dbd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">然后，转到您想要处理的存储库，并单击“设置”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/def2ad76ad1401dc121c29921dfffbaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*836JM9LoY_DQTHiK.png"/></div></div></figure><p id="f4e2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">然后转到“部署密钥”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/588e52a6bcc75cf9ca8ddb752889df85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bojjxPvNApUkxo36.png"/></div></div></figure><p id="c61e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">然后单击“添加部署密钥”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/d4569db10d350f65ef1ec905e0650872.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_q4gJdiJ3WjmLbJY.png"/></div></div></figure><p id="1cf4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在标题部分，你想写什么就写什么。在密钥部分，粘贴您的公钥，勾选“允许写访问”复选框，然后单击“添加密钥”你准备好了！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/ccf5c40bdb0d93750456eed8b2c850f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*BZgQG1r2hexWfNXu.png"/></div></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="2a79" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">使用多个存储库</h1><p id="0e83" class="pw-post-body-paragraph lr ls it lt b lu nn ju lw lx no jx lz ma np mc md me nq mg mh mi nr mk ml mm im bi translated">如果您在一台服务器上使用多个存储库，您将需要为每个存储库生成一个专用的密钥对。您不能对多个存储库重复使用一个部署密钥。</p><p id="9633" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在服务器的SSH配置文件(通常是<code class="fe ns nt nu nv b">~/.ssh/config</code>)中，为每个存储库添加一个别名条目。例如:</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="76f2" class="oo mw it nv b gy op oq l or os">Host github.com-repo-0<br/>        Hostname github.com<br/>        IdentityFile=/home/user/.ssh/repo-0_deploy_key<br/><br/>Host github.com-repo-1<br/>        Hostname github.com<br/>        IdentityFile=/home/user/.ssh/repo-1_deploy_key</span></pre><ul class=""><li id="ae06" class="nw nx it lt b lu lv lx ly ma ny me nz mi oa mm ob oc od oe bi translated"><code class="fe ns nt nu nv b">Host github.com-repo-0</code>是存储库的别名。</li><li id="725c" class="nw nx it lt b lu of lx og ma oh me oi mi oj mm ob oc od oe bi translated"><code class="fe ns nt nu nv b">Hostname github.com</code>配置主机名和别名。</li><li id="899c" class="nw nx it lt b lu of lx og ma oh me oi mi oj mm ob oc od oe bi translated"><code class="fe ns nt nu nv b">IdentityFile=/home/user/.ssh/repo-0_deploy_key</code>给别名分配一个私钥。</li></ul><p id="ec07" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">然后，您可以使用主机名的别名通过SSH与存储库进行交互，SSH将使用分配给该别名的唯一部署密钥。例如:</p><pre class="kj kk kl km gt ok nv ol om aw on bi"><span id="44d0" class="oo mw it nv b gy op oq l or os">$ git clone<a class="ae ky" href="https://predictivehacks.com/cdn-cgi/l/email-protection" rel="noopener ugc nofollow" target="_blank">[email protected]</a>:OWNER/repo-1.git</span></pre><p id="8888" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果你没有一个<code class="fe ns nt nu nv b">config</code>文件，你可以在栈溢出时生成一个新的<a class="ae ky" href="https://stackoverflow.com/questions/56287059/how-to-set-up-an-ssh-config-file-for-beginners" rel="noopener ugc nofollow" target="_blank">文件。另外，</a><a class="ae ky" href="https://stackoverflow.com/questions/49587932/i-dont-have-ssh-config-file-but-multiple-github-accounts-works-how" rel="noopener ugc nofollow" target="_blank">这个帖子</a>可能会有帮助。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><div class="kj kk kl km gt lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="ox l ln lo lp ll lq ks lc"/></div></div></a></div></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><p id="cdc0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><em class="ot">原载于</em> <a class="ae ky" href="https://predictivehacks.com/how-to-add-an-ssh-key-to-github/" rel="noopener ugc nofollow" target="_blank"> <em class="ot">预测黑客</em> </a> <em class="ot">。</em></p></div></div>    
</body>
</html>