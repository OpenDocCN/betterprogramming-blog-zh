<html>
<head>
<title>Building an Offline Flutter App With MongoDB Realm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用MongoDB Realm构建离线Flutter应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/building-an-offline-app-with-mongodb-realm-8d4d00f8646f?source=collection_archive---------6-----------------------#2022-04-27">https://betterprogramming.pub/building-an-offline-app-with-mongodb-realm-8d4d00f8646f?source=collection_archive---------6-----------------------#2022-04-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2045" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">对于Flutter开发人员来说，为移动应用程序选择数据存储可能是一个令人畏惧的经历</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/041e59427a4919054274cfe76c8c822f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5-TYwC0tt3y8QbMt"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">卡斯帕·卡米尔·鲁宾在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="773e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Realm的移动数据库是KeyValue pairs、SQLite和Firestore的开源、开发人员友好的替代产品。几分钟内开始，为自己节省数周的工作。</p><p id="b1db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Realm首先是离线的，面向对象的，直观的，为移动设备而建。</p><p id="ab11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将使用Flutter和Realm SDK构建一个离线移动应用程序。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="a099" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">我们将建造什么？</h2><p id="0cf7" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">我们将建立一个非常简单的购物清单应用程序，用户可以查看项目列表，添加新项目，切换和删除现有项目。</p><div class="kg kh ki kj gt ab cb"><figure class="mx kk my mz na nb nc paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/56afd822e5b3c787a3430b4f61daaad7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*MX-J0Q4BqRr3jxkXempgAw.png"/></div></figure><figure class="mx kk my mz na nb nc paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/6474d07cafafd118b209a95493daabe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*mMYDCngMmnxz0wcqLoWr2g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk nd di ne nf translated">应用程序屏幕</p></figure></div><h2 id="0a6f" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">你需要什么？</h2><ul class=""><li id="5cf1" class="ng nh iq ky b kz ms lc mt lf ni lj nj ln nk lr nl nm nn no bi translated">颤振安装和配置</li><li id="c02d" class="ng nh iq ky b kz np lc nq lf nr lj ns ln nt lr nl nm nn no bi translated">你最喜欢的IDE</li></ul><h2 id="60cc" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">我们开始吧</h2><p id="0330" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">首先在你的终端上使用下面的命令创建一个flutter应用程序。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="36ed" class="lz ma iq nv b gy nz oa l ob oc">flutter create shoppinglist</span></pre><p id="2ce7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将在您当前的工作目录中创建一个名为shoppinglist的文件夹，其中将包含您的flutter应用程序的源代码，看起来如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/c3806546ded93ad789a3a43fd71a544b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*beDDSoQAXrKqElckOvzjrQ.png"/></div></div></figure><p id="c922" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您喜欢的IDE中将目录作为项目打开。</p><h2 id="b121" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">将领域作为依赖项安装</h2><p id="f19a" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">接下来，我们将把realm作为依赖项添加到我们的<code class="fe oe of og nv b">pubspec.yaml</code>中。这可以使用下面的命令来完成</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="92c6" class="lz ma iq nv b gy nz oa l ob oc">flutter pub add realm</span></pre><p id="8226" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者，您可以打开<code class="fe oe of og nv b">pubspec.yaml</code>文件并添加realm作为依赖项:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="fe21" class="lz ma iq nv b gy nz oa l ob oc">dependencies:<br/>  # other dependecies here<br/>  realm: ^<!-- -->0.2.1+alpha</span></pre><p id="2ffb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">添加上述内容后，您需要运行下面的命令:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="d81b" class="lz ma iq nv b gy nz oa l ob oc">flutter pub get</span></pre><p id="05fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样。现在您已经拥有了开始使用Realm所需的一切。</p><h2 id="bb54" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">创建模式</h2><p id="24c3" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">模式是任何领域应用程序中最简单的单元。模式定义了应用程序将使用的数据结构。</p><p id="f0c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，我们购物清单中的一个<code class="fe oe of og nv b">Item</code>可以有两个属性</p><ul class=""><li id="642a" class="ng nh iq ky b kz la lc ld lf oh lj oi ln oj lr nl nm nn no bi translated">文本:字符串</li><li id="0da2" class="ng nh iq ky b kz np lc nq lf nr lj ns ln nt lr nl nm nn no bi translated">完成:布尔型</li></ul><p id="c99d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了在我们的应用程序中表示一个项目，我们将创建一个模式。为此，在<code class="fe oe of og nv b">lib</code>目录中创建一个名为<code class="fe oe of og nv b">schemas</code>的目录。该目录将包含应用程序中使用的所有模式。</p><p id="dea2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在用下面的内容创建一个名为<code class="fe oe of og nv b">item.dart</code>的文件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><blockquote class="om on oo"><p id="d359" class="kw kx op ky b kz la jr lb lc ld ju le oq lg lh li or lk ll lm os lo lp lq lr ij bi translated"><code class="fe oe of og nv b">@RealmModel</code>是一个<code class="fe oe of og nv b">Annotation</code>类，用于定义<code class="fe oe of og nv b">Realm</code>数据模型类及其属性。</p><p id="b928" class="kw kx op ky b kz la jr lb lc ld ju le oq lg lh li or lk ll lm os lo lp lq lr ij bi translated"><code class="fe oe of og nv b">@PrimaryKey</code>表示主键属性。启用对象的快速查找并强制值的唯一性。它可以是</p><p id="fd6c" class="kw kx op ky b kz la jr lb lc ld ju le oq lg lh li or lk ll lm os lo lp lq lr ij bi translated">应用于<code class="fe oe of og nv b">RealmModel</code>类中的单个属性</p><p id="ad58" class="kw kx op ky b kz la jr lb lc ld ju le oq lg lh li or lk ll lm os lo lp lq lr ij bi translated"><code class="fe oe of og nv b">String</code>或<code class="fe oe of og nv b">int</code></p></blockquote><h2 id="2c78" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">从<code class="fe oe of og nv b">RealmModel</code>类生成模式</h2><p id="7f2a" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">现在我们已经定义了模式类，我们需要生成领域模式。领域模式是通过组合<code class="fe oe of og nv b">_Item</code>和<code class="fe oe of og nv b">RealmObject</code>类生成的。Realm简化了我们的任务。我们需要做的就是运行下面的命令</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="01d1" class="lz ma iq nv b gy nz oa l ob oc">flutter pub run realm generate</span></pre><p id="94a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的命令将生成一个包含类<code class="fe oe of og nv b">Item</code>的新文件<code class="fe oe of og nv b">item.g.dart</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><h2 id="c722" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">使用领域</h2><p id="3c39" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">配置并打开一个领域</p><p id="d851" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要使用Realm，我们首先需要定义一个<code class="fe oe of og nv b">Configuration</code>对象。构造函数接受您希望领域使用的模式列表。可选地，您可以传递一个<code class="fe oe of og nv b">readOnly</code>和<code class="fe oe of og nv b">inMemory</code>标志，指示您希望领域以只读模式打开或者领域被加载到内存中。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="2fc6" class="lz ma iq nv b gy nz oa l ob oc">Configuration _config =<br/>      Configuration([Item.schema], readOnly: false, inMemory: false);<br/>Realm _realm = Realm(_config);</span></pre><p id="a152" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">阅读所有项目</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="79f3" class="lz ma iq nv b gy nz oa l ob oc">RealmResults&lt;Item&gt; items = _realm.all&lt;Item&gt;();</span></pre><p id="07ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">写/更新/删除操作在<code class="fe oe of og nv b">transaction</code>块中完成。要创建一个事务块，使用<code class="fe oe of og nv b">write()</code>并提供一个回调作为参数。我们在回调中执行写/更新/删除操作。</p><p id="8309" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">写一个项目</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="4f12" class="lz ma iq nv b gy nz oa l ob oc">_realm.write(() {<br/>    _realm.add&lt;Item&gt;(Item(text, false));<br/>});</span></pre><p id="01a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更新项目</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="cfbf" class="lz ma iq nv b gy nz oa l ob oc">_realm.write(() {<br/>    item.done = true;<br/>});</span></pre><p id="a64d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">删除项目</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="b33c" class="lz ma iq nv b gy nz oa l ob oc">_realm.write(() {<br/>    _realm.delete(item);<br/>});</span></pre><p id="7803" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关闭一个领域</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="2273" class="lz ma iq nv b gy nz oa l ob oc">if (!_realm.isClosed) {<br/>    _realm.close();<br/>}</span></pre><h2 id="9599" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">为领域操作创建服务</h2><p id="ea22" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">为了管理我们的领域，我们将创建一个服务类，它将公开打开/关闭领域以及在我们的领域上执行查询/更新/删除操作的方法。</p><p id="a696" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe oe of og nv b">lib</code>目录下创建一个目录<code class="fe oe of og nv b">services</code>。使用以下代码添加一个新文件<code class="fe oe of og nv b">item_service.dart</code></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="2683" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然我们的核心业务逻辑已经准备好了，我们将继续构建UI组件和屏幕。</p><h2 id="774b" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">创建UI组件</h2><blockquote class="om on oo"><p id="ce3d" class="kw kx op ky b kz la jr lb lc ld ju le oq lg lh li or lk ll lm os lo lp lq lr ij bi translated">在<code class="fe oe of og nv b">lib</code>目录下创建一个目录<code class="fe oe of og nv b">components</code>。这个目录将包含我们的ShoppingList应用程序中使用的所有UI组件。</p></blockquote><p id="36f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">项目列表视图</p><p id="327e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oe of og nv b">ItemListView</code>本质上是一个ListView，呈现我们购物清单中的项目列表。<code class="fe oe of og nv b">ItemListView</code>组件需要三个参数:</p><ul class=""><li id="7c49" class="ng nh iq ky b kz la lc ld lf oh lj oi ln oj lr nl nm nn no bi translated"><code class="fe oe of og nv b">items</code> -项目对象列表</li><li id="c97e" class="ng nh iq ky b kz np lc nq lf nr lj ns ln nt lr nl nm nn no bi translated"><code class="fe oe of og nv b">onToggle</code> -切换项目时调用的回调函数</li><li id="169d" class="ng nh iq ky b kz np lc nq lf nr lj ns ln nt lr nl nm nn no bi translated"><code class="fe oe of og nv b">onDelete</code> -删除项目时调用的回调函数</li></ul><p id="859f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe oe of og nv b">components</code>目录下添加一个名为<code class="fe oe of og nv b">item_list_view.dart</code>的新文件，代码如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="27b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">AddItemView</p><p id="c55f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oe of og nv b">AddItemView</code>由一个输入框和一个按钮组成。用户可以在输入字段中输入一个项目，当他们单击按钮时，应该会创建一个新项目。</p><p id="cc4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oe of og nv b">AddItemView</code>组件采用一个必需的参数:</p><ul class=""><li id="731c" class="ng nh iq ky b kz la lc ld lf oh lj oi ln oj lr nl nm nn no bi translated"><code class="fe oe of og nv b">onAdd</code> -添加项目时调用的回调函数</li></ul><p id="51ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe oe of og nv b">components</code>目录下添加一个名为<code class="fe oe of og nv b">add_item_view.dart</code>的新文件，代码如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="ea7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">购物列表视图</p><p id="0838" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oe of og nv b">ShoppingListView</code>由之前创建的组件<code class="fe oe of og nv b">ItemListView</code>和<code class="fe oe of og nv b">AddItemView</code>组成，并呈现一个聚合视图，用户可以在其中添加一个项目并查看现有项目的列表。</p><p id="1fb7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oe of og nv b">ShoppingListView</code>组件需要四个参数:</p><ul class=""><li id="7331" class="ng nh iq ky b kz la lc ld lf oh lj oi ln oj lr nl nm nn no bi translated"><code class="fe oe of og nv b">onAdd</code> -添加项目时调用的回调函数</li><li id="e5ec" class="ng nh iq ky b kz np lc nq lf nr lj ns ln nt lr nl nm nn no bi translated"><code class="fe oe of og nv b">onToggle</code> -当项目被切换时调用的回调函数</li><li id="64c4" class="ng nh iq ky b kz np lc nq lf nr lj ns ln nt lr nl nm nn no bi translated"><code class="fe oe of og nv b">onDelete</code> -删除项目时调用的回调函数</li><li id="bd43" class="ng nh iq ky b kz np lc nq lf nr lj ns ln nt lr nl nm nn no bi translated"><code class="fe oe of og nv b">items</code> -项目对象列表</li></ul><p id="79ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe oe of og nv b">components</code>目录下添加一个名为<code class="fe oe of og nv b">shopping_list_view.dart</code>的新文件，代码如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><h2 id="36d0" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">创建主屏幕</h2><p id="e282" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">现在我们已经准备好了UI组件和Realm服务，我们可以在主屏幕上将它们缝合在一起。在我们的主屏幕上，我们将呈现我们的主应用程序和小时候的ShoppingList。我们还将创建回调函数<code class="fe oe of og nv b">onAdd</code>、<code class="fe oe of og nv b">onToggle</code>和<code class="fe oe of og nv b">onDelete</code>，并在这些函数中处理各种领域操作。</p><p id="c01b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">打开<code class="fe oe of og nv b">lib</code>目录中的<code class="fe oe of og nv b">main.dart</code>,用以下代码替换现有代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ok ol l"/></div></figure><h2 id="c296" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">运行应用程序</h2><p id="bcff" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">就是这样。我们的应用程序已经准备好启动了。保存所有代码文件。</p><p id="e9ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要启动flutter应用程序，我们将首先启动模拟器。让我们找到可用模拟器的列表。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="1c45" class="lz ma iq nv b gy nz oa l ob oc">flutter emulators</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/1bd45bcc9740e1c68c7dc2794feaa0ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fQ3dR9dcjx9B1Klu.png"/></div></div></figure><p id="3187" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从上面的输出中选择一个仿真器id，并使用下面的命令启动一个:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="73a9" class="lz ma iq nv b gy nz oa l ob oc">flutter emulators --launch Pixel4_API30</span></pre><p id="3c9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">模拟器启动后，您可以使用下面的命令找到它的设备id:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="3f61" class="lz ma iq nv b gy nz oa l ob oc">flutter devices</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/1621c9e1a995cc0294e39d8760c25485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TxjLfDZ8sjvp9hLo.png"/></div></div></figure><p id="b61f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">复制设备id ( <code class="fe oe of og nv b">emulator-5554</code>)，并使用以下命令运行flutter应用程序:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="68f2" class="lz ma iq nv b gy nz oa l ob oc">flutter run -d emulator-5554</span></pre><blockquote class="om on oo"><p id="396e" class="kw kx op ky b kz la jr lb lc ld ju le oq lg lh li or lk ll lm os lo lp lq lr ij bi translated">如果您不喜欢命令，您可以使用IDE启动模拟器并运行Flutter应用程序。</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/b9994994e7ada0ebb4d21e3ccc8bd1fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kted_CSzbtAJIgbe.png"/></div></div></figure><h2 id="cbb2" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">提示和更多资源</h2><p id="adbb" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">现在您已经有了一个正在运行的领域应用程序，您可以继续添加更多的模式或更新现有的模式。</p><p id="2fa5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每当您对模式进行更改时，您都需要运行下面的命令来基于您的模式定义生成RealmObjects。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="792e" class="lz ma iq nv b gy nz oa l ob oc">flutter pub run realm generate</span></pre><p id="f648" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您更新模式时，您可以运行带有watch选项的上述命令来生成/更新RealmObjects。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="d4de" class="lz ma iq nv b gy nz oa l ob oc">flutter pub run realm generate --watch</span></pre><p id="40a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，当您更新您的领域方案时，您需要删除您当前的领域。要做到这一点，只需在打开您的领域之前执行以下代码。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="3001" class="lz ma iq nv b gy nz oa l ob oc">Realm.deleteRealm(Configuration.defaultPath);</span></pre><p id="2c2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该应用程序的源代码可从<a class="ae kv" href="https://github.com/markandeyp/flutter-shopping-list" rel="noopener ugc nofollow" target="_blank">这里</a>获得</p><p id="7512" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe oe of og nv b">Realm Flutter</code>目前处于<code class="fe oe of og nv b">Alpha</code>阶段。Realm是一个非常强大的生态系统，它不仅仅是应用程序的一个简单的离线数据存储。MongoDB的领域团队正在努力制作各种领域特性，比如<code class="fe oe of og nv b">Realm Sync</code>、<code class="fe oe of og nv b">Realm Authentication</code>、<code class="fe oe of og nv b">Realm Functions</code>等等。可供Flutter开发者使用。</p><p id="e037" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要进一步探索MongoDB领域，您可以访问官方文档<a class="ae kv" href="https://www.mongodb.com/realm" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div></div>    
</body>
</html>