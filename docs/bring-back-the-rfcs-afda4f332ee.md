# 把 RFC 带回来

> 原文：<https://betterprogramming.pub/bring-back-the-rfcs-afda4f332ee>

## 我们如何在我的团队中记录架构决策

![](img/7d1949676ea6a5d82d3cb417a380e808.png)

照片由[沈佳凝·帕帕里斯](https://unsplash.com/@danaepaparis?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

你知道过了一段时间后，你回头看一段代码，你想知道你为什么以某种方式实现它吗？你可能会联系你的同事，但是他们都不记得了。您想要提出一个不同的解决方案，只是您不确定业务逻辑是否已经改变，并且您不确定导致当前状态的推理是否仍然有效。

我发现自己经常问自己这样的问题，通常是针对我不常接触的代码库部分。

这个问题已经有解决方案了。工程师们在 50 年前发现了它，它被称为征求意见稿(RFC)。

几个月前，我们开始在我的团队中使用 RFC，我想向您展示我们到目前为止是如何使用它们的，目的是什么。

# 什么是 RFC？

RFC 是描述某个问题或功能的大纲文档。我们会考虑当前状态以及业务或技术限制。在 RFC 中，我们通常会探索一些解决方案。然后与我们的同事分享 RFC，并开始讨论。

你可以把它想象成一份规划文件；它起草了可能的解决方案，而不是我们必须严格遵守的严格规范。

# 我们如何编写 RFC

我们的 RFC 作为文档存储在 GitHub repo 中。您可以使用您的团队已经可用的工具；也许你的团队使用 Google Docs 或者 Confluence。

它们遵循特定的模板:

## **问题描述**

我们试图清楚地解释这个问题，并确定开发人员(或未来的我们)需要知道的其他细节。我们试图描述背景，到目前为止已经做了什么，以及代码的当前状态。

问题本身的描述帮助我们理解范围，就像一种[橡皮鸭调试](https://en.wikipedia.org/wiki/Rubber_duck_debugging)。它也是一条线索，我们可以在将来追溯，以理解我们当时的推理，并查看什么约束和需求已经改变。

即使我不一定熟悉背景，我的同事也会通过他们的评论帮助我澄清背景。然后，我返回并完成问题描述。

## **可能的方法**

在这一节中，我们描述了我们考虑过的两三种可能的方法。我们评估每个解决方案的优缺点。我们解释什么是不可行的，什么实施起来更快。

有时，我们甚至链接到正在进行中的 PRs(或 Pre-Rs ),它是我们解决方案的原型。Pre-Rs 并不是一个完整的实现。它们不是正确的代码，通常没有实现和运行所有的测试。它们只是作为讨论的基础——交换意见，解释我们已经尝试过的和我们认为可行的方法。

## **结论**

在结论部分，我们解释了我们认为哪个解决方案是最佳选择。必要时，我们还会概述解决方案的不同迭代步骤。

## **未解决的问题**

如果有任何未解决的问题——无论是技术问题还是产品相关问题——我们通常会在这里提出。

# 共享 RFC

一旦文档完成，我们通常会在 GitHub 中制作一个 PR，并指定我们特别想要其反馈的任何人。我们还会在 Slack 中分享给其他可能想做出贡献的同事。

我的同事们通常会在背景中加入见解，或者对我可能忽略的事情提出建设性的反馈。

我们迭代 RFC，直到每个人都满意这个提议，一旦它被接受，我们就合并它。

由于我们的 RFC 在 GitHub 中，我们可以在相关的问题、评论和提交消息中链接到它们。我们，以及未来的员工，都有一条可以追溯的线索，并且明白为什么我们接受了一个给定的解决方案。

另一个优点是通信是异步的；我们不需要安排一个会议来讨论它。团队中的任何人都可以阅读和评论。

# RFC 五十年

去年 4 月是 RFC 成立 50 周年。1969 年 4 月 7 日，[史蒂夫·克罗克](https://en.wikipedia.org/wiki/Steve_Crocker)发表了第一份 [RFC](https://www.rfc-editor.org/rfc/rfc1.txt) : `rfc1.txt`，他在其中概述了他和其他几个人讨论的关于如何连接他们的计算机的解决方案。

自那以后，已经写了 8，700 多份 RFC。我们今天仍然可以回过头来理解他们做出的每个重大决定背后的推理和约束。

他们打算公开这些文件。任何人都可以在世界任何地方阅读和评论它们——这使得互联网成为今天的样子。

你可以在这里阅读全部内容[。](https://www.rfc-editor.org/history/fifty-years-of-rfcs/)

说到开源，这里有一些使用 RFC 的开源项目。您可以查看他们的模板，看看如何将它们应用到您的项目中。

*   [反应堆](https://github.com/reactjs/rfcs)
*   [生锈](https://github.com/rust-lang/rfcs)