<html>
<head>
<title>Build a Simple Badge Icon Component With React Native, Navigation, and Redux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用React Native、Navigation和Redux构建一个简单的徽章图标组件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-a-simple-badge-icon-component-with-react-native-navigation-and-redux-843bcb5c2cb7?source=collection_archive---------14-----------------------#2020-01-08">https://betterprogramming.pub/build-a-simple-badge-icon-component-with-react-native-navigation-and-redux-843bcb5c2cb7?source=collection_archive---------14-----------------------#2020-01-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cae5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为您的用户制作徽章图标</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/012cbe5e8b277c9517fcad4bf0d84deb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-k7f9MgYeIsncASI"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@sebbb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> seabass创意人员</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0958" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了揭开序幕，让我分享一个我在开发一两个应用程序的过程中学到的小秘密:创建可重用的组件！</p><p id="50b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这并不意味着你的应用程序会有相同的外观和感觉，但你会发现有些组件在所有的移动应用程序中都很关键。仅列出几个，即:酒吧(底部，顶部，抽屉)，图标，输入，标题，按钮，徽章，认证等。明白了吗？</p><p id="0a7a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好了，让我们开始研究我们的徽章吧！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1419" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">入门指南</h1><p id="fc4e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">为了创建我们的组件，您需要安装以下软件包:</p><p id="4b93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mw mx my mz b">yarn add styled-components react-native-vector-icons react-redux</code></p><h2 id="4613" class="na ma iq bd mb nb nc dn mf nd ne dp mj lf nf ng ml lj nh ni mn ln nj nk mp nl bi translated">让我们创建IconWithBadge组件</h2><p id="e570" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><strong class="ky ir">免责声明</strong>:在这篇文章中，我不会涉及应用程序的创建、文件夹结构和redux设置，因为我假设如果你正在阅读这篇文章，你已经想好了所有这些步骤。</p><ol class=""><li id="02c2" class="nm nn iq ky b kz la lc ld lf no lj np ln nq lr nr ns nt nu bi translated">在组件结构中创建一个名为<code class="fe mw mx my mz b">IconWithBadge</code>的文件夹，然后创建两个独立的文件<code class="fe mw mx my mz b">index.js</code>和<code class="fe mw mx my mz b">styles.js</code>。</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><h2 id="17f1" class="na ma iq bd mb nb nc dn mf nd ne dp mj lf nf ng ml lj nh ni mn ln nj nk mp nl bi translated">式样</h2><p id="86ea" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">2.使用我喜欢的样式化方法(样式化组件)，让我们只创建三个元素。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="b052" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">提示:</strong>在我所有的项目中，我都使用一个<code class="fe mw mx my mz b">DesignSystem.js</code>文件，在那里我将所有的尺寸、颜色、重量以及与应用程序的全局设计相关的所有东西分组。</p><h2 id="c490" class="na ma iq bd mb nb nc dn mf nd ne dp mj lf nf ng ml lj nh ni mn ln nj nk mp nl bi translated">但是坚持住！下面我们一起来了解一下组件逻辑。</h2><p id="88f4" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">总之，我只是从<code class="fe mw mx my mz b">react-native-vector-icon</code>包中包装了一个图标，并添加了一个名为<code class="fe mw mx my mz b">routeName</code>的属性和一个名为<code class="fe mw mx my mz b">badgeCount</code>的局部变量，好吗？</p><p id="4c2e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如所料，只有当您的计数器(<code class="fe mw mx my mz b"><em class="nx">badgeCounter</em></code>)大于0时，徽章才可见。此外，我还使用了<code class="fe mw mx my mz b">routerName</code>属性来控制路由器的可见性。</p><h2 id="91ea" class="na ma iq bd mb nb nc dn mf nd ne dp mj lf nf ng ml lj nh ni mn ln nj nk mp nl bi translated">哦，我差点忘了！Redux部分。</h2><p id="db9b" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果你注意到我正在使用来自<code class="fe mw mx my mz b">react-redux</code>的<code class="fe mw mx my mz b">useSelector</code>钩子来获取订单列表的值。只有当订单状态为<code class="fe mw mx my mz b">READY_FOR_PICKUP</code>时，我的徽章计数器才会增加。</p><pre class="kg kh ki kj gt ny mz nz oa aw ob bi"><span id="ddce" class="na ma iq mz b gy oc od l oe of">orders.map(<em class="nx">item</em> =&gt; {<br/>if (item.status === ‘READY_FOR_PICKUP’) {<br/>return badgeCount++;<br/>}});</span></pre><p id="dbe4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦您的值列表与我的不同，这几乎是唯一需要更改的代码。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2b47" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">通过反应导航使用组件</h1><p id="6cff" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">为了在您的应用程序中使用<code class="fe mw mx my mz b">IconWithBadge</code>组件，您可以用全新的方法替换普通的<code class="fe mw mx my mz b">Icon</code>方法，如下所示。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4997" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">决赛成绩</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/84d491267f4bdae929b7fdfbcce64ed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*XBiUtLB02FB0BL3Bzp5H5w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者提供的截图。</p></figure></div></div>    
</body>
</html>