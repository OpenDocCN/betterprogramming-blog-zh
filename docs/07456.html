<html>
<head>
<title>Save Time Using the Command-Line: Glob Patterns and Wildcards</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用命令行节省时间:Glob模式和通配符</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/save-time-using-the-command-line-glob-patterns-and-wildcards-17befd6a02c8?source=collection_archive---------12-----------------------#2021-01-15">https://betterprogramming.pub/save-time-using-the-command-line-glob-patterns-and-wildcards-17befd6a02c8?source=collection_archive---------12-----------------------#2021-01-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5eb7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用模式匹配文件名</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b0b82f3a05e3b7ecabf87bf190639b4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KMeTSTz2TZNV3JbUyopl9A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@chuttersnap?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> CHUTTERSNAP </a>在<a class="ae ky" href="https://unsplash.com/s/photos/clock?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="bab2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在计算机最常见的操作系统是Windows、Linux和OS X，它们都配有终端——也叫shell。Linux和OS X是类似Unix的操作系统。因为这个系统经常被数据科学家使用，所以我将关注Bash — <strong class="lb iu"> </strong>，它是一种Unix shell [1]。那么，我们开始吧。</p><p id="deea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果在使用命令行时，您知道如何复制、创建和查找文件的唯一方法是向<code class="fe lv lw lx ly b"><strong class="lb iu">cp</strong></code>传递参数——或者完全避免传递参数——那么请继续阅读。通配符用于创建匹配文件名组的模式。这些模式被称为glob模式，其工作方式类似于正则表达式(又名regex)，但规则不同。好消息是glob模式结合其他命令将成为避免重复命令的有用工具。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="9548" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated"><strong class="ak">为什么您应该关注</strong></h1><p id="b74f" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">假设您必须在命令行中复制数百个文件。将每个文件名作为参数传递给<code class="fe lv lw lx ly b"><strong class="lb iu">cp</strong></code>显然不是对时间的最佳利用。有些人很可能会花很多时间试图找出一个替代方案，而不是处理命令行语法。然而，终端通过创建模式来匹配文件名，为您提供了一种指定文件组的方法。您可以使用特殊字符(通配符)和标准字符<strong class="lb iu"> </strong>(字母和数字)生成匹配文件名的glob模式。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="6490" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">如何使用全局模式和通配符</h1><p id="83f0" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">下面是一个命令列表，它将帮助您了解glob模式和通配符。经过一些练习，您将能够匹配任何字符、字符串或数字，而无需避开命令行。你是这样搭配的:</p><h2 id="aa70" class="nd mh it bd mi ne nf dn mm ng nh dp mq li ni nj ms lm nk nl mu lq nm nn mw no bi translated"><strong class="ak"> 1。单个字符</strong></h2><p id="a2ea" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">通配符<code class="fe lv lw lx ly b"><strong class="lb iu">?</strong></code>匹配任何单个字符。例如，如果您想要查找包含<code class="fe lv lw lx ly b"><strong class="lb iu">its</strong></code>的文件，那么使用模式<code class="fe lv lw lx ly b"><strong class="lb iu">?its</strong></code>。输出将显示四个字符长的文件名，如hits.jpg、fits.png或kits.docx</p><p id="901b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个使用<code class="fe lv lw lx ly b"><strong class="lb iu">ls</strong></code>命令的例子，它用于列出一个目录的内容。在下面的例子中，我使用了模式<code class="fe lv lw lx ly b"><strong class="lb iu">b??t</strong></code>，它匹配任何以<strong class="lb iu"> b </strong>开始并以<strong class="lb iu"> t </strong>结束的四字单词。结果shell返回了一个名为<em class="np"> best </em>的文件。</p><p id="24f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b"><strong class="lb iu">/home/a_folder$ ls b??t</strong></code></p><p id="31e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b"><strong class="lb iu">best</strong></code></p><p id="ef22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，您可能想知道当文件名中包含字符<code class="fe lv lw lx ly b"><strong class="lb iu">?</strong></code>时会发生什么。像正则表达式一样，您可以通过包含反斜杠<code class="fe lv lw lx ly b"><strong class="lb iu">\</strong></code>来使用字符的字面含义(与其特殊含义相反)。在这些情况下，一个反斜杠被称为一个<em class="np">转义字符</em>【2】。</p><h2 id="f59b" class="nd mh it bd mi ne nf dn mm ng nh dp mq li ni nj ms lm nk nl mu lq nm nn mw no bi translated"><strong class="ak"> 2。一串字符</strong></h2><p id="5e88" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">字符<code class="fe lv lw lx ly b"><strong class="lb iu">*</strong></code>充当任何单词的占位符。它是任意数量字符的占位符，包括空格。这意味着<code class="fe lv lw lx ly b"><strong class="lb iu">*</strong></code>可以用来匹配多个单词。通配符<code class="fe lv lw lx ly b"><strong class="lb iu">*</strong></code>将匹配任意次数的任意字符，除了前导点<code class="fe lv lw lx ly b"><strong class="lb iu">.</strong></code>。</p><p id="1efd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将<code class="fe lv lw lx ly b"><strong class="lb iu">*</strong></code>作为参数传递给<code class="fe lv lw lx ly b"><strong class="lb iu">ls</strong></code>将列出工作目录中所有<em class="np">非隐藏的</em>文件和目录，以及所列目录根目录下的所有文件。它看起来是这样的:</p><p id="719f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b"><strong class="lb iu">/home/a_folder$ ls *</strong></code></p><p id="63fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b"><strong class="lb iu">file_A</strong> <strong class="lb iu">file_B Pic_C</strong></code></p><p id="9c68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">后台发生了什么？</p><ul class=""><li id="e167" class="nq nr it lb b lc ld lf lg li ns lm nt lq nu lu nv nw nx ny bi translated">对于每个文件或目录，shell会检查<code class="fe lv lw lx ly b"><strong class="lb iu">*</strong></code>是否与其名称匹配。它将适合除隐藏文件以外的每个单词。</li><li id="792f" class="nq nr it lb b lc nz lf oa li ob lm oc lq od lu nv nw nx ny bi translated">匹配的名称作为参数传递给<code class="fe lv lw lx ly b"><strong class="lb iu">ls</strong></code>。因为匹配的名字是<code class="fe lv lw lx ly b"><strong class="lb iu">file_A</strong></code>、<code class="fe lv lw lx ly b"><strong class="lb iu">file_B</strong></code>和<code class="fe lv lw lx ly b"><strong class="lb iu">Pic_C</strong></code>，所以在这个实例中运行<code class="fe lv lw lx ly b"><strong class="lb iu">ls *</strong></code>和运行<code class="fe lv lw lx ly b"><strong class="lb iu">ls file_A file_B Pic_C</strong></code>是一样的。</li><li id="7fa8" class="nq nr it lb b lc nz lf oa li ob lm oc lq od lu nv nw nx ny bi translated">为了让结果更容易阅读，你可以阅读更多关于<em class="np">pretty print</em>【3】。</li></ul><p id="8388" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更重要的是，您可以将通配符与其他字符结合使用，形成更复杂的模式，就像您使用正则表达式一样。这是通过将通配符与其他字符连接起来以匹配您要搜索的内容来实现的。</p><p id="7c63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个例子:假设你想列出<code class="fe lv lw lx ly b"><strong class="lb iu">/home/a_folder</strong></code>中所有文件名以<code class="fe lv lw lx ly b"><strong class="lb iu">ics</strong></code>结尾的文件(或目录内容)。这可以通过运行<code class="fe lv lw lx ly b"><strong class="lb iu">ls *ics</strong></code>来完成。</p><p id="390a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b"><strong class="lb iu">/home/learn$ ls *ics</strong></code></p><p id="5426" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b"><strong class="lb iu">Statistics Analytics</strong></code></p><p id="da3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的模式将文件名与<code class="fe lv lw lx ly b"><strong class="lb iu">*ics</strong></code>匹配。它是通配符<code class="fe lv lw lx ly b"><strong class="lb iu">*</strong></code>和<code class="fe lv lw lx ly b"><strong class="lb iu">ics</strong></code>的串联。字符<code class="fe lv lw lx ly b"><strong class="lb iu">*</strong></code>与<em class="np"> Statist </em>(在统计中)和<em class="np"> Analyt </em>(在分析中)都匹配，并且<code class="fe lv lw lx ly b"><strong class="lb iu">ics</strong></code>与两个文件名中的<code class="fe lv lw lx ly b"><strong class="lb iu">ics</strong></code>都匹配。如果没有返回其他内容，这是因为没有其他文件名或目录名以<code class="fe lv lw lx ly b"><strong class="lb iu">ics</strong></code>结尾。</p><h2 id="0f56" class="nd mh it bd mi ne nf dn mm ng nh dp mq li ni nj ms lm nk nl mu lq nm nn mw no bi translated"><strong class="ak"> 3。字母、数字或两者都有</strong></h2><p id="3b25" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">也可以使用<em class="np">字符类</em>如<code class="fe lv lw lx ly b"><strong class="lb iu">[[:alpha:]]</strong></code>(字母)<code class="fe lv lw lx ly b"><strong class="lb iu">[[:digit:]]</strong></code>(0到9的数字)<code class="fe lv lw lx ly b"><strong class="lb iu">[[:lower:]]</strong></code>(小写字母)<code class="fe lv lw lx ly b"><strong class="lb iu">[[:upper:]] </strong></code>(大写字母)<code class="fe lv lw lx ly b"><strong class="lb iu">[[:alnum:]]</strong></code>(字母和数字都有)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/9f154179b91e965fc72ebe9a2f26d913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p9xyN6_JUvQMNfRdT7S2Lw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马科斯·费雷拉在<a class="ae ky" href="https://unsplash.com/s/photos/keyboard-computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="225e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">字符类不是方括号通配符。它们和<code class="fe lv lw lx ly b"><strong class="lb iu">?</strong></code>或<code class="fe lv lw lx ly b"><strong class="lb iu">*</strong></code>一样都是通配符，但必须用在方括号内；否则，shell将按字面意思解释它们，并返回其他内容。以下是一些例子:</p><ul class=""><li id="6763" class="nq nr it lb b lc ld lf lg li ns lm nt lq nu lu nv nw nx ny bi translated">列出工作目录中所有文件名以<code class="fe lv lw lx ly b"><strong class="lb iu">.</strong></code>结尾，后面直接跟三个小写字母(例如。jpg或者。pdf)，我们可以运行<code class="fe lv lw lx ly b"><strong class="lb iu">ls *.[[:lower:]][[:lower:]][[:lower:]]</strong></code>。</li><li id="4ce4" class="nq nr it lb b lc nz lf oa li ob lm oc lq od lu nv nw nx ny bi translated">要列出工作目录中名称不以大写字母开头、以数字结尾的所有文件(以及目录的内容)，我们可以运行<code class="fe lv lw lx ly b"><strong class="lb iu">ls [![:upper:]]*[[:digit:]]</strong></code>。感叹号字符<code class="fe lv lw lx ly b"><strong class="lb iu">!</strong></code>代表<strong class="lb iu">而不是</strong>。</li></ul><p id="e692" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然本文中只有通配符与<code class="fe lv lw lx ly b"><strong class="lb iu">ls</strong></code>命令的例子，但是通配符可以与您可能熟悉的大多数命令一起使用，比如<code class="fe lv lw lx ly b"><strong class="lb iu">cp</strong></code>、<code class="fe lv lw lx ly b"><strong class="lb iu">mv</strong></code>、<code class="fe lv lw lx ly b"><strong class="lb iu">rm</strong></code>和<code class="fe lv lw lx ly b"><strong class="lb iu">rmdir</strong></code>。</p><p id="95aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在命令<code class="fe lv lw lx ly b"><strong class="lb iu">rm</strong></code>、<code class="fe lv lw lx ly b"><strong class="lb iu">cp</strong></code>和<code class="fe lv lw lx ly b"><strong class="lb iu">mv</strong></code>中使用通配符时要格外小心，因为它们可能会产生负面影响。在使用任何带有通配符的文件系统更改命令之前，首先通过使用<code class="fe lv lw lx ly b"><strong class="lb iu">ls</strong></code>来尝试它们，确保它们会如您所愿地工作。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="e0bb" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated"><strong class="ak">结论</strong></h1><p id="f08d" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">通配符允许我们创建匹配文件名组的模式。这些模式像正则表达式一样工作——被称为glob模式——但是具有不同的规则。在使用命令行或终端时，Glob模式与其他命令的结合可以使您的生活更加轻松。以下是帮助您熟悉通配符的摘要:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/df29ade6a3605576e04e998abecc3387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cnIPtZNOYvFyrkHn6HVMVg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者复制的表格。</p></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="b384" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">资源:</h1><p id="8209" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">[1]痛击:<a class="ae ky" href="https://tiswww.case.edu/php/chet/bash/bashtop.html" rel="noopener ugc nofollow" target="_blank">https://tiswww.case.edu/php/chet/bash/bashtop.html</a></p><p id="978a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">【2】逃亡人物:【https://en.wikipedia.org/wiki/Escape_character】T2</p><p id="848e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[3]pretty print:【https://en.wikipedia.org/wiki/Prettyprint】T4</p></div></div>    
</body>
</html>