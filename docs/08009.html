<html>
<head>
<title>3 Fun JavaScript Code Snippets That Might Surprise You</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3个有趣的JavaScript代码片段可能会让你大吃一惊</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/3-fun-javascript-code-snippets-that-might-surprise-you-33be87c7fbd5?source=collection_archive---------7-----------------------#2021-03-15">https://betterprogramming.pub/3-fun-javascript-code-snippets-that-might-surprise-you-33be87c7fbd5?source=collection_archive---------7-----------------------#2021-03-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="27bb" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">虽然这些输出真的很神奇，但我不建议在生产中使用它们</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e69e66a8ab95aee0f04c60f26f723b16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PnCveKT70pQqoqf8"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@acharki95?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Aziz Acharki </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="a456" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在过去的七年里，我一直是一名JavaScript开发人员，但即使在今天，我仍然会遇到一些令我惊讶的代码片段。有时候我想知道JavaScript是一种编程语言还是一种魔法。</p><p id="70f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道很多人认为JavaScript是一种愚蠢的语言，有许多错误，使这些“神奇的片段”能够工作(可能是因为<a class="ae ky" href="https://en.wikipedia.org/wiki/Brendan_Eich" rel="noopener ugc nofollow" target="_blank"> Brendan Eich </a>在十天内创造了这种语言)，但我觉得JavaScript是一种多功能和有趣的语言。还有，这是我的饭碗。</p><p id="009e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将通过几个“神奇”的片段。但是，我不建议在您的生产应用程序中使用这些代码，因为这些代码片段只是为了理解概念和敬畏JavaScript。另外，如果你是一名JavaScript面试官，请不要问这样的问题，因为这不能证明你懂JavaScript。这些只是您在任何生产应用程序中可能不会遇到的语言怪癖。</p><p id="85c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于生产应用程序，我建议使用TypeScript，正如我在上一篇文章中提到的:</p><div class="lv lw gp gr lx ly"><a rel="noopener  ugc nofollow" target="_blank" href="/how-an-anti-typescript-javascript-developer-like-me-became-a-typescript-fan-a4e043151ad7"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">像我这样的反类型脚本“JavaScript开发人员”是如何成为类型脚本爱好者的</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">我从不喜欢TypeScript到喜欢它的旅程</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">better编程. pub</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="d79d" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">1.平等</h1><p id="d46c" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">我不确定在其他编程语言中是否可能，但在JavaScript中，下面的代码片段将为变量<code class="fe nr ns nt nu b">a</code>的某个值返回<code class="fe nr ns nt nu b">true</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="c7ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要知道它是如何工作的，我推荐阅读<a class="ae ky" href="https://codeburst.io/javascript-can-a-1-a-2-a-3-ever-evaluate-to-true-aca13ff4462d" rel="noopener" target="_blank">这篇详细的文章</a>。</p><p id="bc87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你读过它，你会知道它的工作原理是因为松散的等式(例如，<code class="fe nr ns nt nu b">==</code>被用于比较)，这会导致JavaScript强制比较其中一个值的类型。</p><p id="1a82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的片段呢？你认为它能为<code class="fe nr ns nt nu b">a</code>的任意值返回<code class="fe nr ns nt nu b">true</code>吗？</p><p id="9143" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nx">注意:我这里使用的是严格的类型检查(即</em> <code class="fe nr ns nt nu b"><em class="nx">===</em></code> <em class="nx">)。</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="9a29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你一定认为这是完全不可能的，因为没有类型强制，它应该返回<code class="fe nr ns nt nu b">false</code>。但是等等，这是JavaScript。</p><p id="ff1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要知道如何让上面的代码工作，我推荐阅读<a class="ae ky" href="https://theanubhav.com/2018/11/7/understanding-primitive-and-getter-setters/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="0fb5" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">2.查找闰年</h1><p id="293c" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">要判断一年是否是闰年，需要满足两个条件:</p><ul class=""><li id="f53e" class="ny nz it lb b lc ld lf lg li oa lm ob lq oc lu od oe of og bi translated">年份应该是400的倍数。</li><li id="122f" class="ny nz it lb b lc oh lf oi li oj lm ok lq ol lu od oe of og bi translated">年份是4的倍数，而不是100的倍数。</li></ul><p id="a3db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基于这些条件，你可以<a class="ae ky" href="https://www.geeksforgeeks.org/program-check-given-year-leap-year/" rel="noopener ugc nofollow" target="_blank">用任何编程语言写一个简单的程序</a>来找出给定的年份是否是闰年。</p><p id="7b1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您甚至可以用JavaScript编写相同的逻辑来实现这一结果，但是JavaScript也有一种神奇的方式来实现这一点——实际上是一行程序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="bb43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">魔法？</p><p id="6370" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它之所以有效，是因为当你将非闰年如<code class="fe nr ns nt nu b">2019</code>传递给<code class="fe nr ns nt nu b">isLeapYear </code>函数时，<code class="fe nr ns nt nu b">getDate</code>函数会返回下个月的第二天，即3月1日，而不是2月29日。你可以说这个片段的工作是由于JavaScript <code class="fe nr ns nt nu b">Date</code>实现中的一种错误。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="11f3" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">3.睡眠排序</h1><p id="5a46" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">有多种排序算法可以用来以任意顺序对数字数组进行排序，甚至可以使用JavaScript的内置<code class="fe nr ns nt nu b">sort</code>函数来完成同样的操作。然而，我最近看到了下面的代码片段，它利用<code class="fe nr ns nt nu b">setTimeout</code>对一组数字进行升序排序:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="ef35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">惊讶吗？</p><p id="be84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，这个片段并不总是保证能够工作和伸缩。由于JavaScript的异步特性以及JavaScript 中<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop" rel="noopener ugc nofollow" target="_blank">事件循环的工作方式，这种方法可能行得通(也可能行不通)。</a></p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="5134" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">结论</h1><p id="2586" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">这些片段只是为了好玩，所以请不要在您的生产应用程序中使用它们，甚至不要作为技术面试的问题。</p><p id="afd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有任何这样神奇的JavaScript片段分享，那么请在下面评论。</p><p id="024c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>