<html>
<head>
<title>How To Programmatically Navigate Using React Router 6</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React Router 6以编程方式导航</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-programmatically-navigate-using-react-router-6-93e9ad5ecd5c?source=collection_archive---------11-----------------------#2022-11-22">https://betterprogramming.pub/how-to-programmatically-navigate-using-react-router-6-93e9ad5ecd5c?source=collection_archive---------11-----------------------#2022-11-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d36e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这个紧迫问题的简要指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fbce6ca89b161febc03ff349d839e7ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XpLjEZYHOLZfm6iQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@lautaroandreani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">劳塔罗·安德烈亚尼</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="f42a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，当您在React中构建应用程序时，您需要在单击事件或操作后将用户路由到新页面。React Router 6提供了<code class="fe lv lw lx ly b">useNavigate</code>钩子来处理这种需要编程导航的情况。</p><p id="4b6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们先从一个叫做<code class="fe lv lw lx ly b">Home.js</code>的基本功能组件开始，它有一个按钮。代码如下:</p><pre class="kj kk kl km gt lz ly ma bn mb mc bi"><span id="42ac" class="md me it ly b be mf mg l mh mi">import React from 'react';<br/><br/>function Home() {<br/><br/>    return (<br/>        &lt;div&gt;<br/>            &lt;button&gt;NAVIGATE TO DESTINATION&lt;/button&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}<br/><br/>export default Home;</span></pre><p id="5ef0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将把<code class="fe lv lw lx ly b">useNavigate</code>钩子添加到组件的顶部。(注意:钩子的<a class="ae ky" href="https://reactjs.org/docs/hooks-rules.html" rel="noopener ugc nofollow" target="_blank">规则</a>声明钩子需要在组件的顶层调用。所以，如果你试图在一个函数内部声明<code class="fe lv lw lx ly b">useNavigate</code>，你会得到一个错误)。</p><pre class="kj kk kl km gt lz ly ma bn mb mc bi"><span id="0f8e" class="md me it ly b be mf mg l mh mi">function Home() {<br/><br/>    let navigate = useNavigate();<br/><br/>    return (<br/>        &lt;div&gt;<br/>            &lt;button&gt;NAVIGATE TO DESTINATION&lt;/button&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}<br/></span></pre><p id="c7ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后在一个函数中(或者如果你愿意的话，甚至是内联的)，我们可以添加导航函数调用，并将用户指引到'/destination '路径，React Router已经将该路径定义为一个路径(在一个<code class="fe lv lw lx ly b">App.js</code>文件中，未显示)。</p><pre class="kj kk kl km gt lz ly ma bn mb mc bi"><span id="0866" class="md me it ly b be mf mg l mh mi">    let navigate = useNavigate();<br/><br/>    const navigateToDestination = () =&gt; {<br/>        navigate("/destination")<br/>    }<br/><br/>    return (<br/>        &lt;div&gt;<br/>            &lt;button onClick={() =&gt; navigateToDestination()}&gt;<br/>                NAVIGATE TO DESTINATION<br/>            &lt;/button&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span></pre><p id="b877" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，按下按钮将导航到目标组件。</p><h1 id="30c7" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">如果我需要向导航目的地传递道具怎么办？</h1><p id="4aba" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">将道具传递到目的地很容易实现，只需在navigate函数中用state键添加一个对象作为参数。</p><pre class="kj kk kl km gt lz ly ma bn mb mc bi"><span id="a09f" class="md me it ly b be mf mg l mh mi">const navigateToDestination = () =&gt; {<br/>    navigate("/destination", {state: "Destination Reached"})<br/>}</span></pre><p id="eca6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后在目的地组件中，可以使用<code class="fe lv lw lx ly b">useLocation</code>钩子访问这个状态对象:</p><pre class="kj kk kl km gt lz ly ma bn mb mc bi"><span id="ae84" class="md me it ly b be mf mg l mh mi">function Destination() {<br/><br/>    const location = useLocation()<br/><br/>    return (<br/>        &lt;div&gt;<br/>            {location.state}<br/>        &lt;/div&gt;<br/>    )<br/>}</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="c623" class="mj me it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">使用历史呢？</h1><p id="dbab" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated"><code class="fe lv lw lx ly b">useHistory</code>，其功能与<code class="fe lv lw lx ly b">useNavigate</code>非常相似，在React路由器6中被弃用，现在仅与React路由器5一起使用。这是一篇<code class="fe lv lw lx ly b">useHistory </code>迁移到<code class="fe lv lw lx ly b">useNavigate</code>的<a class="ae ky" href="https://stackoverflow.com/questions/72474436/how-to-migrate-usehistory-replacex-y-with-usenavigate-in-react-router-v6" rel="noopener ugc nofollow" target="_blank">大帖</a>。</p><p id="a152" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。敬请关注更多内容。</p></div></div>    
</body>
</html>