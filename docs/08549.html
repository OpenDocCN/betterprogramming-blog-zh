<html>
<head>
<title>How To Use AWS DynamoDB in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中使用AWS DynamoDB</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-aws-dynamodb-in-react-70b55ffff93e?source=collection_archive---------2-----------------------#2021-05-13">https://betterprogramming.pub/how-to-use-aws-dynamodb-in-react-70b55ffff93e?source=collection_archive---------2-----------------------#2021-05-13</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="31b7" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">让我们尝试从React应用程序访问DynamoDB</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/d2feb606d6be5339481765884afc840c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QlMEnSEdEqi4rPdx"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@tannerboriack?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">坦纳·博瑞克</a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</p></figure><p id="d8e9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">掌握一些云知识变得越来越重要。如果您主要是前端开发人员，那么拥有AWS知识可以让您在竞争中保持领先。</p><p id="c665" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">今天，我们将学习如何从React应用程序中使用<a class="ae kz" href="https://aws.amazon.com/dynamodb/" rel="noopener ugc nofollow" target="_blank"> AWS DynamoDB </a>。这是AWS最受欢迎的服务之一，绝对值得学习。</p><p id="73f4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要跟进，您应该:</p><ul class=""><li id="5c1f" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">AWS帐户</li><li id="faf3" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">React的基础知识</li></ul><p id="8596" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们开始吧！</p></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="d0f2" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">1.创建一个DynamoDB表</h1><p id="fc98" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">前往AWS管理控制台，搜索DynamoDB。然后点击“创建新表”按钮，你会看到这个屏幕。</p><ul class=""><li id="b110" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">给出您选择的表名。</li><li id="48d4" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">添加一个主键。这是您打算用作唯一标识符的字段。</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/31724f54ece889391a3fe705463a8816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UByouIH7SmM4a5LxktSj4Q.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">创建DynamoDB表</p></figure><p id="cb31" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">点击“创建”，你就完成了。由于DynamoDB存储JSON数据，您不需要提供任何其他模式。</p><p id="6c7d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">走向表，手动添加一些数据，这样当我们取数据时，就能得到一些东西。</p></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="2c29" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">2.获取用户详细信息</h1><p id="6379" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">现在，为了从前端或服务器访问DynamoDB，我们需要获得授权。AWS使用IAM角色的概念对此进行管理。</p><ul class=""><li id="61a1" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">转到IAM控制台并创建一个新用户。</li><li id="699c" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">为他们提供AWS DynamoDB访问的完全权限。</li><li id="956f" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">然后得到<code class="fe np nq nr ns b">secret access key</code>和<code class="fe np nq nr ns b">access key ID</code>。</li><li id="e9d7" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">将它们存储在安全的地方，永远不要与任何人或通过源代码控制来共享它们！</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/00932cc11447b726dc891e1d962f79be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mbb4CIdg9up7HLO5cbCqtg.png"/></div></div></figure></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="2749" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">3.安装依赖项</h1><p id="784d" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">我想你已经有了一个正在运行的React项目。如果没有，那就去你的终端，搭建一个新的应用程序:</p><pre class="kk kl km kn gu nt ns nu nv aw nw bi"><span id="1163" class="nx ms iu ns b gz ny nz l oa ob">npm create-react-app dynamodb-with-react</span></pre><p id="eeec" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在我们将需要另一个依赖项来访问AWS服务。那就是<code class="fe np nq nr ns b">aws-sdk</code>。在项目中安装它:</p><pre class="kk kl km kn gu nt ns nu nv aw nw bi"><span id="c515" class="nx ms iu ns b gz ny nz l oa ob">yarn add aws-sdk</span></pre></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="bfee" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">4.配置您的项目</h1><p id="252a" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">转到您的根文件(可能是<code class="fe np nq nr ns b">index.js</code>)并将您的项目配置为与AWS一起使用。</p><ul class=""><li id="05d0" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">提供您所在的地区。</li><li id="4c61" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">和上一步得到的两把钥匙。</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="0f65" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">5.创建一个函数来访问你的对象</h1><p id="1c7f" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">现在创建一个名为<code class="fe np nq nr ns b">AwsFunctions.js</code>的新文件，并放入以下代码。这段代码从DynamoDB获取数据，并在控制台中打印出来。你可以在这里做各种新奇的事情。在这篇文章中，我保持了简单。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div></figure><p id="80f8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">从某处调用此函数:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">用于检查功能的代码</p></figure></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="0b16" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">6.将数据添加到迪纳摩数据库</h1><p id="c51c" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">这很好，但是我们也需要从前端添加数据。不然也没那么有用！</p><p id="c3fe" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在您的<code class="fe np nq nr ns b">AwsFunctions.js</code>文件中添加以下函数，并从某处调用它，将数据直接添加到DynamoDB中。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Put函数</p></figure><p id="03b4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">稍后，您可以再次获取并验证它的工作！让我们更新我们的<code class="fe np nq nr ns b">App.js</code>来验证这一点:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="oc od l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">更新的App.js</p></figure><p id="9758" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">给你。现在你知道如何使用React中的DynamoDB了。</p></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="c7f7" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">放弃</h1><p id="3fde" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">本文纯属学习目的。你不应该在你的前端代码中存储你的AWS秘密。</p><p id="5cdc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您想构建任何严肃的应用程序，可以考虑将AWS Lambda与AWS的API网关一起使用，或者构建一个定制的后端。</p><p id="5c7b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">但是，如果您只是在玩DynamoDB和React，而不想增加访问数据的复杂性或试图构建某种快速演示，那么您可以尝试这种方法。</p><p id="0a72" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我希望你喜欢这篇文章。祝您愉快！</p><p id="36d9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">有什么话要说？</strong></p><p id="f410" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">通过</strong><a class="ae kz" href="https://www.linkedin.com/in/56faisal/" rel="noopener ugc nofollow" target="_blank"><strong class="lc iv">LinkedIn</strong></a><strong class="lc iv">或我的</strong> <a class="ae kz" href="https://www.mohammadfaisal.dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv">个人网站</strong> </a> <strong class="lc iv">与我取得联系。</strong></p></div></div>    
</body>
</html>