<html>
<head>
<title>Build, Test, and Deploy a Flask Application: Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建、测试和部署Flask应用程序:第1部分</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-test-and-deploy-an-interactive-flask-application-part-i-templates-53a7b0cbe760?source=collection_archive---------7-----------------------#2019-11-17">https://betterprogramming.pub/build-test-and-deploy-an-interactive-flask-application-part-i-templates-53a7b0cbe760?source=collection_archive---------7-----------------------#2019-11-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="843c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">烧瓶中的模板</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d327a7fd98d080bfc1e43faa167b663a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8RQ5vx_MUvg--Bng"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@freestocks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">freestocks.org</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="6452" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">关于本教程的元信息</h1><h2 id="92e0" class="lv le iq bd lf lw lx dn lj ly lz dp ln ma mb mc lp md me mf lr mg mh mi lt mj bi translated">学习目标</h2><ul class=""><li id="fedd" class="mk ml iq mm b mn mo mp mq ma mr md ms mg mt mu mv mw mx my bi translated">了解Flask中的模板</li></ul><p id="a24b" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">注:本教程是<a class="ae kv" href="https://medium.com/@neohao/learn-flask-in-a-scientific-way-baf4d8055f6e" rel="noopener"> <em class="no">系列</em> </a> <em class="no">科学学烧瓶的一部分。</em></p><h2 id="ce59" class="lv le iq bd lf lw lx dn lj ly lz dp ln ma mb mc lp md me mf lr mg mh mi lt mj bi translated">源代码</h2><ul class=""><li id="3c60" class="mk ml iq mm b mn mo mp mq ma mr md ms mg mt mu mv mw mx my bi translated">本教程的源代码可以在<a class="ae kv" href="https://github.com/Neo-Hao/mean-review-collector" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获取。</li><li id="5f43" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">该演示可在<a class="ae kv" href="https://pacific-fortress-91193.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://pacific-fortress-91193.herokuapp.com/</a>获得。</li><li id="3071" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">仅涵盖本教程的版本可在此处访问<a class="ae kv" href="https://github.com/Neo-Hao/mean-review-collector/tree/816e41c65f77a62eb97ddb0db0377c60771b9304" rel="noopener ugc nofollow" target="_blank">。</a></li></ul></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="1c1c" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">规划和设计</h1><p id="e15a" class="pw-post-body-paragraph mz na iq mm b mn mo jr nc mp mq ju ne ma nu ng nh md nv nj nk mg nw nm nn mu ij bi translated">在开始构建我们的应用程序之前，我们必须制定一个好的计划。我们的应用程序至少需要七页才能工作:</p><ul class=""><li id="1165" class="mk ml iq mm b mn nb mp nd ma nx md ny mg nz mu mv mw mx my bi translated">主页:展示不同投稿人的平均评论列表。</li><li id="e004" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">关于页面:介绍我们的服务。</li><li id="5729" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">404页面:当访问者请求一个不存在的页面时。</li><li id="9d55" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">注册帐户页面:允许人们注册一个帐户。</li><li id="5c94" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">登录页面:允许用户登录。</li><li id="2519" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">添加评论页面:允许用户添加评论(需要登录)。</li><li id="42ea" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">更新评论页面:允许用户更新评论(需要登录)。</li></ul><p id="39bc" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">“添加评论页面”和“更新评论页面”都需要首先进行用户验证。为了简洁起见，我们将在第1部分教程中省略这两页。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="d4ca" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">项目设置</h1><p id="79b1" class="pw-post-body-paragraph mz na iq mm b mn mo jr nc mp mq ju ne ma nu ng nh md nv nj nk mg nw nm nn mu ij bi translated">这里我们假设你已经安装了Flask和<a class="ae kv" href="https://docs.python.org/3/library/venv.html" rel="noopener ugc nofollow" target="_blank"> venv </a>，并了解它们的基本用法。如果没有，请先阅读<a class="ae kv" href="https://medium.com/better-programming/build-test-and-deploy-a-mini-flask-application-1d9ca6c45115" rel="noopener"> <em class="no">构建并测试一个迷你烧瓶应用</em> </a>。</p><ol class=""><li id="ce36" class="mk ml iq mm b mn nb mp nd ma nx md ny mg nz mu oa mw mx my bi translated">在GitHub上创建一个名为<code class="fe ob oc od oe b">flask-app</code>的空存储库，并将其下载到本地环境中(并通过命令行导航到下载的空文件夹)。</li></ol><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="1d4b" class="lv le iq oe b gy oj ok l ol om">git clone https://github.com/<em class="no">your-username</em>/mean-review-collector<br/>cd mean-review-collector</span></pre><p id="7386" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">2.在下载的空文件夹中创建虚拟环境:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="972a" class="lv le iq oe b gy oj ok l ol om">python3 -m venv env<br/>source env/bin/activate</span></pre></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="34cd" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">入门指南</h1><p id="2ecb" class="pw-post-body-paragraph mz na iq mm b mn mo jr nc mp mq ju ne ma nu ng nh md nv nj nk mg nw nm nn mu ij bi translated">根据我们从<a class="ae kv" href="https://medium.com/better-programming/build-test-and-deploy-a-mini-flask-application-1d9ca6c45115" rel="noopener"> <em class="no">构建和测试一个迷你Flask应用程序</em> </a>中学到的，我们至少需要两个Python文件用于这个应用程序:</p><ul class=""><li id="c5d8" class="mk ml iq mm b mn nb mp nd ma nx md ny mg nz mu mv mw mx my bi translated">这是我们应用程序的逻辑所在；应用程序处理所有的路由和查看功能。</li></ul><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="25d3" class="lv le iq oe b gy oj ok l ol om">from flask import Flask, make_response</span><span id="9659" class="lv le iq oe b gy on ok l ol om">app = Flask(__name__)</span><span id="7acd" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/')<br/>def home():<br/>    return 'home page'</span><span id="2c5c" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/about')<br/>def about():<br/>    return 'about page'</span><span id="f3d3" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/register')<br/>def register():<br/>    return 'register page'</span><span id="b973" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/login')<br/>def login():<br/>    return 'login page'</span><span id="c364" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/&lt;page_name&gt;')<br/>def other_page(page_name):<br/>    response = make_response('The page named %s does not exist.' \<br/>                            % page_name, 404)<br/>    return response</span><span id="d37a" class="lv le iq oe b gy on ok l ol om">if __name__ == '__main__':<br/>    app.run(debug=True)</span></pre><ul class=""><li id="6277" class="mk ml iq mm b mn nb mp nd ma nx md ny mg nz mu mv mw mx my bi translated"><code class="fe ob oc od oe b">app.test.py</code>:这是测试上述路由和查看功能的地方。</li></ul><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="7e22" class="lv le iq oe b gy oj ok l ol om">import unittest</span><span id="d12b" class="lv le iq oe b gy on ok l ol om">from app import app</span><span id="b753" class="lv le iq oe b gy on ok l ol om">class BasicTestCase(unittest.TestCase):</span><span id="2d51" class="lv le iq oe b gy on ok l ol om">def test_home(self):<br/>        tester = app.test_client(self)<br/>        pages = ['/', 'about', 'register', 'login']<br/>        for page in pages:<br/>            response = tester.get(page, content_type='html/text')<br/>            self.assertEqual(response.status_code, 200)</span><span id="ebaa" class="lv le iq oe b gy on ok l ol om">def test_other(self):<br/>        tester = app.test_client(self)<br/>        response = tester.get('test', content_type='html/text')<br/>        self.assertEqual(response.status_code, 404)</span><span id="f80b" class="lv le iq oe b gy on ok l ol om">if __name__ == '__main__':<br/>    unittest.main()</span></pre><p id="4223" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">即使所有的测试用例都通过了，你也不会在每个页面上呈现出预期的效果(当你通过浏览器检查它们的时候)，而且你也缺少一个导航栏。</p><p id="5c3a" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">要达到这样的效果，你需要Flask中模板的帮助。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="a1ea" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">模板</h1><p id="5d36" class="pw-post-body-paragraph mz na iq mm b mn mo jr nc mp mq ju ne ma nu ng nh md nv nj nk mg nw nm nn mu ij bi translated">Flask中的模板是管理表示逻辑的工具。每个模板中的部分内容是HTML代码，而另一部分是逻辑(例如，确定是否向未经身份验证的用户显示页面)。</p><p id="a5e6" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">Flask使用<a class="ae kv" href="https://jinja.palletsprojects.com/" rel="noopener ugc nofollow" target="_blank"> Jinja 2 </a>作为模板引擎来管理这样的逻辑。最简单的形式，Jinja 2模板只是一个包含静态HTML代码的文件:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="8c2f" class="lv le iq oe b gy oj ok l ol om">&lt;h1&gt;Hello world!&lt;/h1&gt;</span></pre><p id="a19e" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">在更复杂的形式中，Jinja 2模板可以只是一个包含HTML代码、变量和逻辑以实现各种目的的文件。</p><p id="01dd" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">例如，下面的代码根据访问者是否经过身份验证呈现不同的文本:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="6bd0" class="lv le iq oe b gy oj ok l ol om">{% if user %}  <br/>   &lt;h1&gt;Hello, {{ username }}! &lt;/h1&gt;<br/>{% else %}  <br/>   &lt;h1&gt;Hello, Stranger! &lt;/h1&gt;<br/>{% endif %}</span></pre><p id="6d40" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated"><code class="fe ob oc od oe b">{{ … }}</code>包含变量名，如果你需要混合HTML和变量(在Python代码中)。</p><p id="01eb" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated"><code class="fe ob oc od oe b">{% … %}</code>包含逻辑(比如条件执行或者循环)。里面的基本上是Python代码，因为Jinja 2是纯Python。这里适用左括号和右括号的概念。</p><p id="8cda" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">换句话说，每个开口<code class="fe ob oc od oe b">{%…%}</code>需要在结束时用另一个<code class="fe ob oc od oe b">{%…%}</code>关闭。</p><p id="5278" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">对于Flask应用程序，所有模板都位于名为“templates”的文件夹下(以便Flask将它们识别为模板)。换句话说，当您扩展Flask应用程序以包含每个计划页面的模板时，它将具有以下结构:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="f6d4" class="lv le iq oe b gy oj ok l ol om">--- app.py<br/>--- app.test.py<br/>--- templates<br/>       --- home.html<br/>       --- about.html<br/>       --- register.html<br/>       --- login.html<br/>       --- 404.html</span></pre><p id="94de" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated"><em class="no">除了语法，理解模板的可扩展性也很重要。</em></p><p id="a4ba" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">同一应用程序的网页可以共享某些元素。例如，我们希望我们的五个页面共享完全相同的导航栏。</p><p id="43a8" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">在这种情况下，我们可以将公共元素切割出来，放在不同的HTML文件(基本文件)中，并让其他HTML文件扩展基本文件。</p><p id="d3e7" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">在我们的例子中，我们称这个基础文件为<code class="fe ob oc od oe b">base.html</code>,并把它放在templates文件夹下。我们的应用程序的结构将是:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="bb03" class="lv le iq oe b gy oj ok l ol om">--- app.py<br/>--- app.test.py<br/>--- templates<br/>       --- home.html<br/>       --- about.html<br/>       --- register.html<br/>       --- login.html<br/>       --- 404.html<br/>       --- base.html</span></pre><p id="f0d0" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">基本模板包含:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="7060" class="lv le iq oe b gy oj ok l ol om">&lt;!doctype html&gt;<br/>&lt;nav&gt;<br/>  &lt;h1&gt;Mean Review Collector&lt;/h1&gt;<br/>  &lt;ul&gt;<br/>    &lt;li&gt;&lt;a href="{{ url_for('home') }}"&gt;Home&lt;/a&gt;&lt;/li&gt;<br/>    &lt;li&gt;&lt;a href="{{ url_for('about') }}"&gt;About&lt;/a&gt;&lt;/li&gt;<br/>    &lt;li&gt;&lt;a href="{{ url_for('register') }}"&gt;Register&lt;/a&gt;&lt;/li&gt;<br/>    &lt;li&gt;&lt;a href="{{ url_for('login') }}"&gt;Login&lt;/a&gt;&lt;/li&gt;<br/>  &lt;/ul&gt;<br/>&lt;/nav&gt;<br/>&lt;section class="content"&gt;<br/>  &lt;header&gt;<br/>    {% block header %}{% endblock %}<br/>  &lt;/header&gt;<br/>  {% block content %}{% endblock %}<br/>&lt;/section&gt;</span></pre><p id="4dad" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated"><code class="fe ob oc od oe b"><a class="ae kv" href="https://flask.palletsprojects.com/en/1.1.x/api/#flask.url_for" rel="noopener ugc nofollow" target="_blank">url_for</a></code>是为给定端点生成URL的Flask方法。</p><p id="4b35" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">例如，<code class="fe ob oc od oe b">url_for(‘home’)</code>将返回主页的URL。我们的导航栏中有四个链接(目前还没有)，这就是这个文件包含的全部内容。section块定义了扩展base的其他模板应该遵循的结构——既有标题又有内容块。</p><p id="e50b" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">例如，我们主页的模板将扩展base:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="8c8e" class="lv le iq oe b gy oj ok l ol om">{% extends 'base.html' %}</span><span id="9fdc" class="lv le iq oe b gy on ok l ol om">{% block header %}<br/>  &lt;h1&gt;{% block title %}Mean Reviews{% endblock %}&lt;/h1&gt;<br/>{% endblock %}</span><span id="6ab5" class="lv le iq oe b gy on ok l ol om">{% block content %}<br/>  &lt;blockquote&gt;<br/>    This paper is more appropriate for a speciality journal. Like, <br/>    one that specializes in terrible papers. - From <a class="ae kv" href="http://twitter.com/thirdreviewer" rel="noopener ugc nofollow" target="_blank">@thirdreviewer</a><br/>  &lt;/blockquote&gt;<br/>  &lt;blockquote&gt;<br/>    Before I can recommend acceptance, I request the following 272 <br/>    changes to the manuscript. - From <a class="ae kv" href="http://twitter.com/thirdreviewer" rel="noopener ugc nofollow" target="_blank">@thirdreviewer</a><br/>  &lt;/blockquote&gt;<br/>  &lt;blockquote&gt;<br/>    Let me begin by apologizing for being so late with this review – <br/>    it took me much longer than expected to figure out how best to <br/>    insult all the authors. - From <a class="ae kv" href="http://twitter.com/thirdreviewer" rel="noopener ugc nofollow" target="_blank">@thirdreviewer</a><br/>  &lt;/blockquote&gt;<br/>{% endblock %}</span></pre><p id="8ac9" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">第一行<code class="fe ob oc od oe b">{% extends ‘base.html’ %}</code>表示扩展名。</p><p id="1252" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">以下部分遵循基础模板设置的结构，并填写了三个平均评审。为了呈现这个模板，我们需要更新我们在<code class="fe ob oc od oe b">app.py</code>中的代码:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="bbe2" class="lv le iq oe b gy oj ok l ol om">from flask import Flask, render_template, make_response</span><span id="53b8" class="lv le iq oe b gy on ok l ol om">app = Flask(__name__)</span><span id="217c" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/')<br/>def home():<br/>    return render_template('home.html')</span><span id="24b6" class="lv le iq oe b gy on ok l ol om">// more</span></pre><p id="3429" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">我们导入了<code class="fe ob oc od oe b"><a class="ae kv" href="https://flask.palletsprojects.com/en/1.1.x/api/#flask.render_template" rel="noopener ugc nofollow" target="_blank">render_template</a></code>方法，所以我们可以在返回语句中使用它来呈现模板中定义的效果。当此方法采用一个参数时，该参数必须是模板名称。</p><p id="48a0" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">让我们启动应用程序:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="8428" class="lv le iq oe b gy oj ok l ol om">python3 app.py</span></pre><p id="b6cf" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">你会看到:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/580e1d8fafc95d0f0d79f926fd57472c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*dNEo_WyMK11r-BuM_dNtgA.png"/></div></figure><p id="c8d1" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">其他模板也扩展了基本模板。要查看他们的代码是什么样子，请参考<a class="ae kv" href="https://github.com/Neo-Hao/mean-review-collector/tree/6ac5d30e8db109dd75f4f1dd3b5aecd7fe6407c9" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的这个页面。<code class="fe ob oc od oe b">app.py</code>也需要更新:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="c2ce" class="lv le iq oe b gy oj ok l ol om">from flask import Flask, render_template, make_response</span><span id="2c2a" class="lv le iq oe b gy on ok l ol om">app = Flask(__name__)</span><span id="c004" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/')<br/>def home():<br/>    return render_template('home.html')</span><span id="64a8" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/about')<br/>def about():<br/>    return render_template('about.html')</span><span id="d6a8" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/register')<br/>def register():<br/>    return render_template('register.html')</span><span id="7b5f" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/login')<br/>def login():<br/>    return render_template('login.html')</span><span id="ab64" class="lv le iq oe b gy on ok l ol om"><a class="ae kv" href="http://twitter.com/app" rel="noopener ugc nofollow" target="_blank">@app</a>.route('/&lt;page_name&gt;')<br/>def other_page(page_name):<br/>    response = make_response(render_template('404.html'), 404)<br/>    return response</span><span id="33a1" class="lv le iq oe b gy on ok l ol om">if __name__ == '__main__':<br/>    app.run(debug=True)</span></pre><p id="028d" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">到目前为止，我们已经实现了所有的模板和一个功能导航栏(还不是一个酒吧)。我们仍然怀念这个应用程序的风格。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="5524" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">添加样式</h1><p id="1755" class="pw-post-body-paragraph mz na iq mm b mn mo jr nc mp mq ju ne ma nu ng nh md nv nj nk mg nw nm nn mu ij bi translated">为了给我们的应用程序添加样式，我们将使用<a class="ae kv" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank"> Bootstrap </a>来代替编写CSS文件。</p><p id="dda6" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">Bootstrap是Twitter的一个开源框架，它可以帮助你创建有吸引力的网页，并且兼容所有现代浏览器。有关引导程序的更多信息，请参见<a class="ae kv" href="https://getbootstrap.com/" rel="noopener ugc nofollow" target="_blank">getbootstrap.com</a>。</p><p id="b6e9" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">要将引导风格添加到您的基础模板，您只需将以下内容添加到您的基础模板的开头(<a class="ae kv" href="https://getbootstrap.com/docs/4.3/getting-started/introduction/" rel="noopener ugc nofollow" target="_blank">参见此处的快速入门说明</a>):</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="39a1" class="lv le iq oe b gy oj ok l ol om">&lt;link rel="stylesheet" href="<a class="ae kv" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="noopener ugc nofollow" target="_blank">https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css</a>" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"&gt;<br/>&lt;script src="<a class="ae kv" href="https://code.jquery.com/jquery-3.3.1.slim.min.js" rel="noopener ugc nofollow" target="_blank">https://code.jquery.com/jquery-3.3.1.slim.min.js</a>" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"&gt;&lt;/script&gt;<br/>&lt;script src="<a class="ae kv" href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js</a>" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"&gt;&lt;/script&gt;<br/>&lt;script src="<a class="ae kv" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" rel="noopener ugc nofollow" target="_blank">https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js</a>" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"&gt;&lt;/script&gt;</span></pre><p id="dee4" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">之后，您需要对模板文件进行一些更改。例如，第一个报价的HTML代码将从:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="1292" class="lv le iq oe b gy oj ok l ol om">&lt;blockquote&gt;<br/>    This paper is more appropriate ... in terrible papers. -From <br/>    @thirdreviewer<br/>&lt;/blockquote&gt;</span></pre><p id="c90f" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">对此:</p><pre class="kg kh ki kj gt of oe og oh aw oi bi"><span id="4659" class="lv le iq oe b gy oj ok l ol om">&lt;blockquote class="blockquote"&gt;<br/>    &lt;p class="mb-0"&gt;This paper is more appropriate ... in terrible <br/>                    papers.&lt;/p&gt;<br/>    &lt;footer class="blockquote-footer"&gt;From @thirdreviewer&lt;/footer&gt;<br/>&lt;/blockquote&gt;</span></pre><p id="8bbe" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">在这里记任何东西都没有意义。你需要做的就是参考<a class="ae kv" href="https://getbootstrap.com/docs/4.0/getting-started/introduction/" rel="noopener ugc nofollow" target="_blank">Bootstrap</a>的文档，仔细搜索你需要的东西。</p><p id="a5c8" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">在上面的例子中，我搜索了<a class="ae kv" href="https://getbootstrap.com/docs/4.0/content/typography/#blockquotes" rel="noopener ugc nofollow" target="_blank"> blockquotes </a>。所有更新模板的代码都可以在<a class="ae kv" href="https://github.com/Neo-Hao/mean-review-collector" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。当您再次启动该应用程序时，您将看到:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/859c2054dec3e660874ad9e1eb5cf2b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uHzQxtXpMb-1t-4dAcBdAg.png"/></div></div></figure><p id="0aba" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">Bootstrap使我们的风格适应不同尺寸的屏幕。在手机、平板电脑或更小的屏幕上，我们的应用程序将看起来像:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/a14f9bc1af077d4bf0c2886416c73e99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*eM27_e_cJ4sh9_SFv_3KlA.png"/></div></figure><p id="63f6" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">现在，您已经成功地设计了Flask应用程序。别忘了把你的代码推送到GitHub。</p><p id="9df9" class="pw-post-body-paragraph mz na iq mm b mn nb jr nc mp nd ju ne ma nf ng nh md ni nj nk mg nl nm nn mu ij bi translated">这就完成了我们的第二个教程<a class="ae kv" href="https://medium.com/@neohao/learn-flask-in-a-scientific-way-baf4d8055f6e" rel="noopener">科学地学习烧瓶</a>。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="a71c" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">教程列表</h1><ul class=""><li id="d8fc" class="mk ml iq mm b mn mo mp mq ma mr md ms mg mt mu mv mw mx my bi translated"><a class="ae kv" href="https://medium.com/@neohao/build-test-and-deploy-a-mini-flask-application-1d9ca6c45115" rel="noopener">构建并测试迷你烧瓶应用</a></li><li id="e240" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated"><a class="ae kv" href="https://medium.com/better-programming/build-test-and-deploy-an-interactive-flask-application-part-i-templates-53a7b0cbe760" rel="noopener">构建、测试和部署Flask应用程序:第1部分—模板</a></li><li id="ada3" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated"><a class="ae kv" href="https://medium.com/better-programming/build-test-and-deploy-a-flask-application-part-2-53f2c8df3ebc" rel="noopener">构建、测试和部署Flask应用程序:第2部分—认证</a></li><li id="78c5" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated"><a class="ae kv" href="https://medium.com/@neohao/build-test-and-deploy-a-flask-application-part-3-3a2abfe4be21" rel="noopener">构建、测试和部署Flask应用程序:第3部分——应用程序工厂和蓝图</a></li><li id="c985" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated"><a class="ae kv" href="https://medium.com/@neohao/build-test-and-deploy-a-flask-application-part-4-5aa4f079fadb" rel="noopener">构建、测试和部署Flask应用程序:第4部分——重构测试</a></li><li id="0517" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated"><a class="ae kv" href="https://medium.com/@neohao/build-test-and-deploy-a-flask-application-part-5-4a3c0bc36b8e" rel="noopener">构建、测试和部署Flask应用程序:第5部分—认证(续)</a></li><li id="0eca" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated">构建、测试和部署Flask应用程序:第6部分——评审系统</li><li id="9c0b" class="mk ml iq mm b mn np mp nq ma nr md ns mg nt mu mv mw mx my bi translated"><a class="ae kv" href="https://medium.com/@neohao/build-test-and-deploy-a-flask-application-part-7-60dde9080330" rel="noopener">构建、测试和部署Flask应用程序:第7部分——部署</a></li></ul></div></div>    
</body>
</html>