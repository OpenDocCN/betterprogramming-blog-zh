<html>
<head>
<title>How to Create and Customize react-content-loader</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建和定制react-content-loader</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-and-customize-react-content-loader-c630a3b917ac?source=collection_archive---------3-----------------------#2020-06-08">https://betterprogramming.pub/create-and-customize-react-content-loader-c630a3b917ac?source=collection_archive---------3-----------------------#2020-06-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0829" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建一些有趣的东西，供用户在数据加载时查看</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b285f737a92d792ecaf40c7219c3dcea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uat2F_hBTPm-gi4KxhI5xA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@nordwood?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">诺德伍德主题</a>在<a class="ae kv" href="https://unsplash.com/s/photos/waiting?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="4290" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在React和React Native或一般的单页面应用程序中构建应用程序的一个优点是，我们可以非常快速地在页面之间导航。然而，在某些情况下，当我们需要<code class="fe ls lt lu lv b">fetch</code>和<code class="fe ls lt lu lv b">Get</code>来自API或后端的数据时，我们需要等待<code class="fe ls lt lu lv b">respond</code>。有一个伟大的设计原则表明，当事情需要一段时间时，我们应该让用户知道。</p><p id="6257" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<a class="ae kv" href="https://github.com/danilowoz/react-content-loader" rel="noopener ugc nofollow" target="_blank"> react-content-loader </a>或者一个框架屏幕，你可以向用户展示它已经快完成了，并且正在发生一些事情。在这篇博客中，我将演示如何使用脸书和Instagram等react-content-loader预置，或者创建和定制一个SVG驱动的组件，以与实际内容相似的形状显示页面的加载元素。</p><p id="8624" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">优点:</strong></p><ul class=""><li id="5ca3" class="lw lx iq ky b kz la lc ld lf ly lj lz ln ma lr mb mc md me bi translated">您可以使用任何SVG形状来创建加载器元素。</li><li id="4593" class="lw lx iq ky b kz mf lc mg lf mh lj mi ln mj lr mb mc md me bi translated">创建一个从左到右发光的动画占位符很容易。</li><li id="9004" class="lw lx iq ky b kz mf lc mg lf mh lj mi ln mj lr mb mc md me bi translated">它有一些预先设计好的内容加载器(比如脸书，Instagram)。</li><li id="a734" class="lw lx iq ky b kz mf lc mg lf mh lj mi ln mj lr mb mc md me bi translated">因为SVG支持许多形状，所以它可以用于任何复杂的UI。</li></ul></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="20b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我从应用程序中的预设内容加载器开始。首先，我们需要安装软件包(npm):</p><pre class="kg kh ki kj gt mr lv ms mt aw mu bi"><span id="8a46" class="mv mw iq lv b gy mx my l mz na">npm i react-content-loader — save</span></pre><p id="5928" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者</p><pre class="kg kh ki kj gt mr lv ms mt aw mu bi"><span id="b6ee" class="mv mw iq lv b gy mx my l mz na">yarn add react-content-loader</span></pre><p id="ca81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们从react-content-loader导入内容:</p><pre class="kg kh ki kj gt mr lv ms mt aw mu bi"><span id="3c06" class="mv mw iq lv b gy mx my l mz na">import ContentLoader, {  Instagram } from 'react-content-loader';</span><span id="7f2a" class="mv mw iq lv b gy nb my l mz na">class Bookings extends React.Component {</span><span id="b6c4" class="mv mw iq lv b gy nb my l mz na"> return requests ? (<br/>    &lt;div&gt;<br/>      //<br/>      //<br/>   &lt;/div&gt;</span><span id="a2cc" class="mv mw iq lv b gy nb my l mz na">   ):(<br/>      &lt;&gt;<br/>        &lt;h3&gt;Loading ...&lt;/h3&gt;</span><span id="0ec9" class="mv mw iq lv b gy nb my l mz na">        &lt;Instagram /&gt;</span><span id="e9a0" class="mv mw iq lv b gy nb my l mz na">      &lt;/&gt;</span><span id="16ee" class="mv mw iq lv b gy nb my l mz na">)}</span></pre><p id="94e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它看起来会像这样:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/0e6f31aa25a56e02be4b412b0a54b449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F00QRbBTq8Io4byrxtpcvQ.png"/></div></div></figure><p id="f4ad" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是一些预设示例，您可以通过导入来使用它们。你可以<a class="ae kv" href="https://github.com/danilowoz/react-content-loader#examples" rel="noopener ugc nofollow" target="_blank">看到这里的形状</a>:</p><pre class="kg kh ki kj gt mr lv ms mt aw mu bi"><span id="67e4" class="mv mw iq lv b gy mx my l mz na">import { Facebook } from 'react-content-loader'<br/><br/>const MyFacebookLoader = () =&gt; &lt;Facebook /&gt;</span><span id="3ff8" class="mv mw iq lv b gy nb my l mz na">-------------------------------------</span><span id="f18f" class="mv mw iq lv b gy nb my l mz na">import { Instagram } from 'react-content-loader'<br/><br/>const MyInstagramLoader = () =&gt; &lt;Instagram /&gt;</span><span id="7849" class="mv mw iq lv b gy nb my l mz na">-------------------------------------</span><span id="33b7" class="mv mw iq lv b gy nb my l mz na">import { Code } from 'react-content-loader'<br/><br/>const MyCodeLoader = () =&gt; &lt;Code /&gt;</span><span id="6e03" class="mv mw iq lv b gy nb my l mz na">--------------------------------------</span><span id="8bf8" class="mv mw iq lv b gy nb my l mz na">import { List } from 'react-content-loader'<br/><br/>const MyListLoader = () =&gt; &lt;List /&gt;</span><span id="da89" class="mv mw iq lv b gy nb my l mz na">---------------------------------------</span><span id="550f" class="mv mw iq lv b gy nb my l mz na">import { BulletList } from 'react-content-loader'<br/><br/>const MyBulletListLoader = () =&gt; &lt;BulletList /&gt;</span></pre><p id="dc98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想基于你的容器风格创建你自己的加载器，你可以很容易地使用这个在线工具:<a class="ae kv" href="https://danilowoz.com/create-content-loader/" rel="noopener ugc nofollow" target="_blank">React内容加载器的创建者</a>。你只需要使用画布或代码进行实时编辑。</p><p id="3cff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用这个SVG生成器创建内容加载器非常容易。您可以简单地根据页面设计加载器，并编辑大小、背景和前景。此外，您可以为边框添加半径，添加或删除矩形和圆形等形状，以及选择动画的速度。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/db8be0ff111c71392405c2e0d44cc4b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EWcZXA9v-8NAi8kzlnkWOA.png"/></div></div></figure><p id="ec98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，它会为您生成代码，准备好作为组件进行复制和添加，以便导入和使用:</p><pre class="kg kh ki kj gt mr lv ms mt aw mu bi"><span id="0eda" class="mv mw iq lv b gy mx my l mz na">import React from "react"<br/>import ContentLoader from "react-content-loader"</span><span id="8991" class="mv mw iq lv b gy nb my l mz na">const MyLoader = (props) =&gt; (<br/>  &lt;ContentLoader <br/>    speed={10}<br/>    width={404}<br/>    height={75}<br/>    viewBox="0 0 404 75"<br/>    backgroundColor="#1766ab"<br/>    foregroundColor="#b9d2e4"<br/>    {...props}<br/>  &gt;<br/>    &lt;rect x="118" y="91" rx="0" ry="0" width="1" height="0" /&gt; <br/>    &lt;rect x="4" y="-21" rx="0" ry="0" width="336" height="110" /&gt; <br/>    &lt;circle cx="68" cy="199" r="28" /&gt; <br/>    &lt;rect x="121" y="183" rx="0" ry="0" width="237" height="19" /&gt; <br/>    &lt;rect x="123" y="216" rx="0" ry="0" width="235" height="18" /&gt; <br/>    &lt;rect x="271" y="170" rx="0" ry="0" width="1" height="21" /&gt; <br/>    &lt;rect x="219" y="35" rx="0" ry="0" width="4" height="32" /&gt;<br/>  &lt;/ContentLoader&gt;<br/>)</span><span id="7a53" class="mv mw iq lv b gy nb my l mz na">export default MyLoader</span></pre><p id="3d78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在您想要显示内容加载器的页面上使用它:</p><pre class="kg kh ki kj gt mr lv ms mt aw mu bi"><span id="e888" class="mv mw iq lv b gy mx my l mz na">{image ? &lt;img onClick={()=&gt; setOpen(true)} className={classes.image} src={image} alt={title} /&gt; : &lt;MyLoader/&gt;}</span></pre><p id="38ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很简单，对吧？一旦你学会了如何用卡片加载来替换内容(也称为<em class="ne"> skeleton UI </em>)，你就可以建立一个适应性很强的类库来替换加载器内容，并快速创建加载器屏幕。</p><p id="fec0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>