<html>
<head>
<title>Exploring Google Cloud Vision API and Feature Demonstration With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python探索Google Cloud Vision API和特性演示</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-google-cloud-vision-api-and-feature-demonstration-with-python-1f02e1dbdfd3?source=collection_archive---------4-----------------------#2019-06-17">https://betterprogramming.pub/exploring-google-cloud-vision-api-and-feature-demonstration-with-python-1f02e1dbdfd3?source=collection_archive---------4-----------------------#2019-06-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dee1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">赋予无限的应用可能性以生命…</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c67b458134f2f85e421a37d29127e305.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V8OQTlptq9o9FQQFNpdmGQ.jpeg"/></div></div></figure><p id="a06e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lq" href="https://cloud.google.com/vision/" rel="noopener ugc nofollow" target="_blank"> Google Cloud Vision API </a>是一个非常强大的工具，结合Python库，可以赋予无限的应用可能性以生命。</p><p id="ba68" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Vision API是谷歌预先训练的模型，可以检测物体和人脸，执行图像识别、分类、标记以及从图像中提取打印或手写文本。它允许开发人员轻松集成内置功能。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="eef9" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">谷歌云视觉API的特性</strong></h1><h2 id="18d4" class="mq lz it bd ma mr ms dn me mt mu dp mi ld mv mw mk lh mx my mm ll mz na mo nb bi translated"><strong class="ak"> 1。面部检测</strong></h2><p id="c218" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">Vision API可以对本地图像文件和远程图像URL执行功能检测。<code class="fe nh ni nj nk b">DETECT_FACES</code>和<code class="fe nh ni nj nk b">DETECT_FACES_URI</code>功能可以在图像中执行多张人脸检测，以及相关的关键人脸属性，如情绪状态和头饰。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/a1ba75f16dd86838b9acbcada3d380aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p6zz1XSlIHUWvAyKdAHALg.png"/></div></div></figure><h2 id="2d13" class="mq lz it bd ma mr ms dn me mt mu dp mi ld mv mw mk lh mx my mm ll mz na mo nb bi translated"><strong class="ak"> 2。图像属性</strong></h2><p id="2b13" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">检测图像的一般属性，如主色和适当的裁剪提示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/e656433e726f29ede619a23b010ca1df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GSHxfSuJRVNviBuKb16M8w.png"/></div></div></figure><h2 id="399d" class="mq lz it bd ma mr ms dn me mt mu dp mi ld mv mw mk lh mx my mm ll mz na mo nb bi translated"><strong class="ak"> 3。检测标签</strong></h2><p id="76f5" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">Vision API可以检测和提取图像中各种类别的实体信息。标签可以识别一般对象、位置、活动、动物种类、产品等等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/771ae1daba08446ce0c1ef612469e0c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C9hRGv7D2uNlsorUpgm_YA.png"/></div></div></figure><h2 id="b6df" class="mq lz it bd ma mr ms dn me mt mu dp mi ld mv mw mk lh mx my mm ll mz na mo nb bi translated"><strong class="ak"> 4。光学字符识别</strong></h2><p id="a544" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">从图像中检测和提取文本。<code class="fe nh ni nj nk b">TEXT_DETECTION</code>和<code class="fe nh ni nj nk b">DOCUMENT_TEXT_DETECTION</code>标注支持OCR。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/832770eef574129bb13c34f8305db5f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BCbA8yh4jONf2vkl9SWLaA.png"/></div></div></figure><h2 id="a78d" class="mq lz it bd ma mr ms dn me mt mu dp mi ld mv mw mk lh mx my mm ll mz na mo nb bi translated"><strong class="ak"> 5。网页检测</strong></h2><p id="b641" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">Web检测检测对图像的web引用。在web上搜索最佳猜测标签和具有完全和部分匹配图像的页面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/57e6817473036f63c5523c3df39bd3df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3EOBzNnWo3x1Sw_Fhy_zg.png"/></div></div></figure><h2 id="5231" class="mq lz it bd ma mr ms dn me mt mu dp mi ld mv mw mk lh mx my mm ll mz na mo nb bi translated">6。检测多个物体</h2><p id="5081" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">云视觉API可以使用<em class="nq">对象定位— </em> <strong class="kw iu"> </strong>模块检测和提取图像中的多个对象，该模块可以识别关于对象、对象位置以及包含对象的图像区域的矩形边界的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/03bf4829b8b9185675638cfbfb3cc213.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BPXb2lNpnMXOk4z6fnVWew.png"/></div></div></figure><h2 id="be4f" class="mq lz it bd ma mr ms dn me mt mu dp mi ld mv mw mk lh mx my mm ll mz na mo nb bi translated">7。检测不良内容(安全搜索)</h2><ul class=""><li id="3e42" class="ns nt it kw b kx nc la nd ld nu lh nv ll nw lp nx ny nz oa bi translated">检测图像中的露骨内容，如成人内容或暴力内容。该特性使用五个类别(<code class="fe nh ni nj nk b">adult</code>、<code class="fe nh ni nj nk b">spoof</code>、<code class="fe nh ni nj nk b">medical</code>、<code class="fe nh ni nj nk b">violence</code>和<code class="fe nh ni nj nk b">racy</code>，并返回每个类别出现在给定图像中的可能性。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/6abe5e191b31bac6643abb926efa955f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PrPMyw6sOz2w4K7pIuM0sw.png"/></div></div></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="5286" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated"><strong class="ak">Python的Vision API客户端库</strong></h1><p id="966c" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">用<code class="fe nh ni nj nk b">!pip install google-cloud-vision</code>安装Vision API的Python变种，用<code class="fe nh ni nj nk b">from google.cloud import vision</code>验证安装成功。</p><h2 id="ee0e" class="mq lz it bd ma mr ms dn me mt mu dp mi ld mv mw mk lh mx my mm ll mz na mo nb bi translated">8.检测图像属性</h2><p id="ee48" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">此功能可让您检测一般图像属性，如主色或裁剪提示。</p><p id="2fd1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，我们设置Google云平台凭证并调用<code class="fe nh ni nj nk b">ImageAnnotatorClient()</code>，它包含提取图像属性的实用程序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/2f467aa672907e3b8ecca5aa0d137595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tbf6xPcQARmCLpGN8sRTUQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/49108a7eedf431fce7d35e3e7b562661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*9q7ejvZuKq9JrlYaDSx_rg.jpeg"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/99c405d8774a152e952068305a83ab45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*rNTqAwkobS7sWH-uZ3ICtQ.png"/></div><p class="of og gj gh gi oh oi bd b be z dk translated">输出</p></figure></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="5cdb" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">使用Python下载谷歌图片</h1><p id="f594" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">Python有一个名为<code class="fe nh ni nj nk b">google_images_download</code>的模块，它提供了一个平台来搜索网页并将符合条件的图片下载到我们的本地文件夹中。</p><p id="c42a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe nh ni nj nk b">!pip install google_images_download</code></p><p id="5fbe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后我们导入<code class="fe nh ni nj nk b">google_images_download</code>模块。</p><p id="8dd5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">TK是' response = '代码的一部分？我们创建一个<code class="fe nh ni nj nk b">response</code>对象:<code class="fe nh ni nj nk b">response = google_images_download.googleimagesdownload()</code></p><p id="debd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">列出搜索查询:</p><p id="fb3b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe nh ni nj nk b">search_queries =[‘dogs playing with balloons’,<br/> ‘cats playing with yarns’,<br/> ‘funny ducks’]</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/c4974e48cf4893d8f7edf43a12bcde2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5KRwQoaJLqkXQUK_2aPmvw.png"/></div></div></figure><p id="67c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们可以通过设置参数属性来创建更详细的搜索。</p><ul class=""><li id="1a1e" class="ns nt it kw b kx ky la lb ld ok lh ol ll om lp nx ny nz oa bi translated"><strong class="kw iu">关键词</strong>是搜索查询。</li><li id="524f" class="ns nt it kw b kx on la oo ld op lh oq ll or lp nx ny nz oa bi translated"><strong class="kw iu">格式</strong>是图像文件格式。</li><li id="35d9" class="ns nt it kw b kx on la oo ld op lh oq ll or lp nx ny nz oa bi translated"><strong class="kw iu">限制</strong>是要下载的图像数量。</li><li id="e79a" class="ns nt it kw b kx on la oo ld op lh oq ll or lp nx ny nz oa bi translated"><strong class="kw iu">打印URL</strong>是打印图像文件的URL。</li><li id="fce9" class="ns nt it kw b kx on la oo ld op lh oq ll or lp nx ny nz oa bi translated"><strong class="kw iu">尺寸</strong>是可以手动指定的图像尺寸(<code class="fe nh ni nj nk b">large</code>、<code class="fe nh ni nj nk b">medium</code>、<code class="fe nh ni nj nk b">icon</code>)。</li><li id="fb9f" class="ns nt it kw b kx on la oo ld op lh oq ll or lp nx ny nz oa bi translated"><strong class="kw iu">纵横比</strong>表示要下载的图像的高宽比。(<code class="fe nh ni nj nk b">tall</code>、<code class="fe nh ni nj nk b">square</code>、<code class="fe nh ni nj nk b">wide</code>、<code class="fe nh ni nj nk b">panoramic</code>)</li></ul><p id="98f8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当我们运行上面的Python查询时，它将打印目录中带有搜索查询名称的三个文件夹，每个文件夹将包含相关的图像。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="1f4a" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">摘要</h1><p id="448a" class="pw-post-body-paragraph ku kv it kw b kx nc ju kz la nd jx lc ld ne lf lg lh nf lj lk ll ng ln lo lp im bi translated">在本教程中，我解释了Google Cloud Vision API的属性，演示了Python的特性，并在您的目录中为Google图片搜索结果创建了本地文件夹。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="b89b" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">资源<em class="os"> : </em></h1><ul class=""><li id="4bf4" class="ns nt it kw b kx nc la nd ld nu lh nv ll nw lp nx ny nz oa bi translated"><a class="ae lq" href="https://cloud.google.com/vision" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/vision</a></li></ul></div></div>    
</body>
</html>