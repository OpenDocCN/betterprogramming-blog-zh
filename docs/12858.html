<html>
<head>
<title>Caching in Deno using Zoic Cache</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用野象小姐缓存在Deno中进行缓存</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/caching-in-deno-using-zoic-cache-d1ea48892f23?source=collection_archive---------21-----------------------#2022-07-06">https://betterprogramming.pub/caching-in-deno-using-zoic-cache-d1ea48892f23?source=collection_archive---------21-----------------------#2022-07-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1911" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由<a class="ae kl" href="https://github.com/jmborrow" rel="noopener ugc nofollow" target="_blank">乔·陋居</a>、<a class="ae kl" href="https://github.com/celenachan" rel="noopener ugc nofollow" target="_blank">塞莱娜·陈</a>、<a class="ae kl" href="https://github.com/AaronDreyfuss" rel="noopener ugc nofollow" target="_blank">亚伦·德莱弗斯</a>、<a class="ae kl" href="https://github.com/hankthetank27" rel="noopener ugc nofollow" target="_blank">汉克·杰克森</a>和<a class="ae kl" href="https://github.com/jnarvil3" rel="noopener ugc nofollow" target="_blank">贾斯珀·纳维尔</a></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/4deb72b0254ccc16295417e4d612e300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cY2_2yJ-Pv2Pa2cDySmRSQ.png"/></div></div></figure><p id="28ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">缓存是一项重要的技术，对于许多向外扩展的应用程序或希望向外扩展的应用程序来说是必不可少的。寻找Deno运行时缓存解决方案的开发人员应该看看野象小姐缓存，它集成了Oak中间件。在这篇文章中，我们将通过野象小姐的基础知识，并概述了一些快速和简单的步骤，以利用我们的Deno / Oak应用程序中的野象小姐缓存库。</p><p id="65c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">野象小姐缓存是Deno运行时中Oak的一个快速、轻量级的中间件库，允许用户使用可配置的内置LRU驱逐策略快速设置RESTful服务器端API web缓存。野象小姐缓存库允许用户抽象出大量出现在自主开发的缓存解决方案中的样板文件，并允许他们使用流行的缓存备用设计模式快速启动缓存。或者，对于那些寻找Redis缓存实例的用户，野象小姐缓存通过其配置设置使其可用。让我们在典型配置中完成野象小姐缓存实例的设置。</p><p id="bb0b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如我们前面提到的，野象小姐的缓存库符合中间件设计模式。因此，野象小姐专门用于缓存后端的服务器端请求。最好的部分是，它的超级容易进口野象小姐和开始！</p><p id="27db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://deno.land/x/zoic@v1.0.2" rel="noopener ugc nofollow" target="_blank">在这里下载</a>！</p></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="322f" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">入门</strong></h1><h2 id="7a9c" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated">Deno内置的模块导入功能直观、轻量。</h2><p id="4ee0" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">简单地在你的服务器脚本的顶部输入以下内容(例如。您的server.js或server.ts文件)</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mu"><img src="../Images/39a6080330e415dd0ae7fd2fda2512c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RZ0tDgLGWrUVVW5D"/></div></div></figure><p id="b1a7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您是Deno运行时的新手，请注意，第一次使用野象小姐时，Deno必须在您的系统上安装并缓存它，以便将来可以很容易地再次调用它。所有Deno模块都是如此。还要注意，如果Deno的Oak库还没有安装在您的机器上，那么当您使用野象小姐库时，它将作为一个依赖项安装。</p><p id="3058" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">导入库之后，就可以实例化缓存了。幸运的是，您有相当多的可选定制:</p><ul class=""><li id="c66f" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated"><strong class="jp ir">缓存类型(默认为“LRU”)</strong>—这可以是LRU(最近最少使用的驱逐策略)或Redis(请务必关注近期的新版本— LFU支持即将推出！).<br/>–选择<em class="ne"> Redis缓存类型</em>将允许您将Redis实例集成到缓存中，允许您利用与Redis部署相关的所有方法和其他好处。(*注意—如果您选择Redis缓存类型，请确保将您的端口号作为最终参数)<br/>—另一方面，选择<em class="ne"> LRU缓存</em>类型虽然功能较少，但性能更高，因为它具有恒定的时间复杂性。</li><li id="718c" class="mv mw iq jp b jq nf ju ng jy nh kc ni kg nj kk na nb nc nd bi translated"><strong class="jp ir">到期时间(默认为无穷大)</strong> —您可能会猜到这是什么意思。到期时间是您希望数据在被删除之前在缓存中存在的时间。较短的到期时间值可能适合具有非常动态、快速变化的响应的应用程序，因为您不希望将陈旧或过时的数据提供给前端。您可以选择以毫秒为单位输入该值，以逗号分隔的字符串表示“h”(小时)、“m”(分钟)和“s”(秒)，如下例所示。</li><li id="6b29" class="mv mw iq jp b jq nf ju ng jy nh kc ni kg nj kk na nb nc nd bi translated"><strong class="jp ir">容量(默认为无穷大)——</strong>想要限制缓存的大小？capacity属性允许您指定缓存将容纳多少个键/值对(即响应的数量)。</li><li id="345d" class="mv mw iq jp b jq nf ju ng jy nh kc ni kg nj kk na nb nc nd bi translated"><strong class="jp ir">点击时响应(默认为真)</strong> —需要加速？这个布尔值告诉我们的库，您是否希望通过自动向前端发送响应来提高性能，而没有机会在缓存检查后使用额外的中间件来编辑这些响应。</li></ul><p id="8cbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是缓存初始化的一个示例:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/bb8e1d671e646f596e0e4710639e216f.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/0*2QnFS3oWt3XNKySF"/></div><p class="nl nm gj gh gi nn no bd b be z dk translated">正在初始化您的野象小姐缓存</p></figure><p id="cb71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将野象小姐的缓存方法嵌入您的Oak中间件链非常简单</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/94592d22b1a7bd7735d96fce46c0e2dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/0*ewn67ReSnDxk5iSR"/></div><p class="nl nm gj gh gi nn no bd b be z dk translated">如何在您的Oak中间件链中嵌入野象小姐</p></figure></div><div class="ab cl ky kz hu la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="ij ik il im in"><h1 id="0703" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated"><strong class="ak">野象小姐开发工具</strong></h1><p id="e45b" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">要从基于GUI的角度了解野象小姐缓存中间件实例中发生的事情，请使用Chrome网络商店中的免费开源野象小姐开发工具。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nq"><img src="../Images/fb110b1df974a47f6c69b9073e0723d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CSJqCi71_N1aisjZ"/></div></div></figure><p id="8859" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们希望每个使用野象小姐的人都能够看到他们的应用程序的改进，所以我们制作了一个简单易用的谷歌Chrome开发工具，让您跟踪所有关键指标，如条目数量、处理的读/写和延迟，让您看到您的应用程序工作效率有多高。</p><h2 id="286d" class="md lg iq bd lh me mf dn ll mg mh dp lp jy mi mj lt kc mk ml lx kg mm mn mb mo bi translated"><strong class="ak">如何安装和配置野象小姐缓存开发工具</strong></h2><p id="4ea3" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">要使用我们的Chrome开发工具，只需从Chrome网上商店<a class="ae kl" href="https://chrome.google.com/webstore/detail/zoic-dev-tools/cnoohkfilnjedjeamhmpokfgaadgkgcl" rel="noopener ugc nofollow" target="_blank">这里</a>下载它。一旦你安装了它(你可能需要重启Chrome)，在你的开发者工具中打开野象小姐。首先，通过dev工具面板上的输入字段，插入您的服务器地址和端点，您将在该处提供缓存指标。其次，在您的服务器路由中，创建一个与dev工具中指定的端点相匹配的新路由。在这个路径中添加中间件Zoic.getMetrics(假设您已经导入了野象小姐中间件库并实例化了一个新的缓存实例)。</p><p id="6638" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意:此路由将启用CORS。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nr"><img src="../Images/567f4a0fdeb11ee81d5bc7ce74ac0d60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lOS4SOLrZH6Y4hIcgMe8Jw.png"/></div></div><p class="nl nm gj gh gi nn no bd b be z dk translated">服务器路由中的配置示例</p></figure><p id="320a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">野象小姐成熟的性能、可用性和多功能性使其成为满足您所有Deno缓存需求的完美选择。<a class="ae kl" href="https://deno.land/x/zoic" rel="noopener ugc nofollow" target="_blank">这里下载</a>！</p><p id="f709" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果有任何关于野象小姐的问题，请随时联系野象小姐团队。我们欢迎任何反馈！</p><pre class="kn ko kp kq gt ns nt nu nv aw nw bi"><span id="33ba" class="md lg iq nt b gy nx ny l nz oa"><a class="ae kl" href="https://github.com/oslabs-beta/zoic" rel="noopener ugc nofollow" target="_blank">Zoic Github</a> | <a class="ae kl" href="https://www.zoiccache.com" rel="noopener ugc nofollow" target="_blank">Website</a></span><span id="91de" class="md lg iq nt b gy ob ny l nz oa">Joe Borrow: <a class="ae kl" href="https://www.linkedin.com/in/joe-borrow/" rel="noopener ugc nofollow" target="_blank">Linkedin</a> | <a class="ae kl" href="https://github.com/jmborrow" rel="noopener ugc nofollow" target="_blank">Github</a></span><span id="4eb2" class="md lg iq nt b gy ob ny l nz oa">Celena Chan: <a class="ae kl" href="http://www.linkedin/in/celenachan" rel="noopener ugc nofollow" target="_blank">Linkedin</a> | <a class="ae kl" href="http://www.github.com/celenachan" rel="noopener ugc nofollow" target="_blank">Github</a></span><span id="db60" class="md lg iq nt b gy ob ny l nz oa">Aaron Dreyfuss: <a class="ae kl" href="https://www.linkedin.com/in/aaron-dreyfuss-708b9bb4/" rel="noopener ugc nofollow" target="_blank">Linkedin</a> | <a class="ae kl" href="https://github.com/AaronDreyfuss" rel="noopener ugc nofollow" target="_blank">Github</a></span><span id="678a" class="md lg iq nt b gy ob ny l nz oa">Hank Jackson: <a class="ae kl" href="https://www.linkedin.com/in/hank-jackson-10345317/" rel="noopener ugc nofollow" target="_blank">Linkedin</a> | <a class="ae kl" href="https://github.com/hankthetank27" rel="noopener ugc nofollow" target="_blank">Github</a></span><span id="99a1" class="md lg iq nt b gy ob ny l nz oa">Jasper Narvil: <a class="ae kl" href="https://www.linkedin.com/in/jaspernarvil/" rel="noopener ugc nofollow" target="_blank">Linkedin</a> | <a class="ae kl" href="https://github.com/jnarvil3" rel="noopener ugc nofollow" target="_blank">Github</a></span></pre></div></div>    
</body>
</html>