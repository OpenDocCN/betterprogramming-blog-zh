<html>
<head>
<title>How to Debug Angular Ivy Apps in the Browser Console With ng</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用ng在浏览器控制台中调试Angular Ivy应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-debug-angular-ivy-apps-in-the-browser-console-with-ng-950facb490c7?source=collection_archive---------14-----------------------#2020-02-24">https://betterprogramming.pub/how-to-debug-angular-ivy-apps-in-the-browser-console-with-ng-950facb490c7?source=collection_archive---------14-----------------------#2020-02-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="17f2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">直接在浏览器中检查和修改角度零部件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ddf2a7c597d57d90759ac1bc2059c648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3FynclD83RxpBjsRFbftMg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Andrew Scherle 在<a class="ae ky" href="https://unsplash.com/s/photos/ivy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="dac0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Ivy是Angular的下一代编译和渲染管道的代号。Ivy自动用于新的Angular项目和现有项目，这些项目通过Angular CLI更新到Angular 9。</p><p id="1070" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，我还没有遇到与Ivy 相关的问题，但是如果你遇到问题，你可以在你的<code class="fe lv lw lx ly b">tsconfig.json</code>文件中暂时禁用它。</p><p id="b10c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">调试web应用程序有许多方法。一些人在他们的代码中插入日志记录语句，许多人使用包括强大调试器的浏览器开发工具，一些人甚至使用额外的工具和web扩展(例如用于Angular应用的<a class="ae ky" href="https://augury.rangle.io/" rel="noopener ugc nofollow" target="_blank"> Augury </a>)。</p><p id="387f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，如果你正在使用Angular框架，那么我可以推荐另一种调试Angular应用程序的方法。</p><p id="b185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Angular公开了一个名为<code class="fe lv lw lx ly b">ng</code>的全局变量。这个变量允许我们访问相应的角度分量。我们不仅可以看到组件属性和功能，我们甚至可以在控制台中修改它们并触发更改检测。</p><p id="58f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这样做，您可以避免在代码中插入不必要的日志记录语句，因为您可以直接在浏览器中查看组件状态，而无需任何其他工具。</p><p id="4e54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住<code class="fe lv lw lx ly b">ng</code>只在开发模式下工作。将您的应用发布到生产环境时，您应该使用<a class="ae ky" href="https://angular.io/guide/aot-compiler" rel="noopener ugc nofollow" target="_blank"> AOT(提前)编译</a>和<a class="ae ky" href="https://angular.io/api/core/enableProdMode" rel="noopener ugc nofollow" target="_blank">启用生产模式</a>，这也会移除调试功能。</p><p id="83b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">ng</code>自最初发布以来一直是Angular的一部分。有了Ivy，<code class="fe lv lw lx ly b">ng</code>的API就变了。在这篇文章中，我想告诉你如何使用这个全局变量来调试Angular应用程序，不管你是否使用Ivy。</p><p id="c5df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的例子中，我使用了<code class="fe lv lw lx ly b">$0</code>，一个由Google Chrome等浏览器公开的全局变量，它返回最近选择的DOM元素。这与Angular没有直接关系，但是对于在开发模式下调试Angular应用程序非常有用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/cbbb581e0a193e8664c237b793672d6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kDHk_DNBq0lxKyzLBktRSg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">$0表示当前选中的DOM元素(在本例中是一个<ul>元素)</ul></p></figure></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="85ee" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">如何获得没有角藤的组件实例</h1><p id="e054" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">如果您的Angular版本早于第9版或Angular中禁用了Ivy，则需要运行以下命令来检查选定的Angular组件:</p><pre class="kj kk kl km gt ne ly nf ng aw nh bi"><span id="a97c" class="ni mi it ly b gy nj nk l nl nm">ng.probe($0).componentInstance</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/32ba97e4d89aed5ba32a5b3221fbb4da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e6WAoPjyQ2VFUo1Lbcy9Gg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检查角形部件(不使用Ivy)</p></figure><p id="f291" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们可以在控制台中看到所选组件的属性和功能。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="94d4" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">如何获得有角常春藤的组件实例</h1><p id="08af" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">如果在启用Ivy的情况下使用Angular 9和更高版本，则需要运行以下命令来检查选定的角度组件:</p><pre class="kj kk kl km gt ne ly nf ng aw nh bi"><span id="fd96" class="ni mi it ly b gy nj nk l nl nm">ng.getComponent($0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/75e18bdf25d13752bda4e9b04732ab7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H4FKK3ywbPUeT4bRv15F1Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检查角形部件(使用Ivy)</p></figure><p id="91cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，使用上的差别相当小。然而，我发现新的API更容易理解，也更容易向其他开发者解释。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="6467" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">ng在Ivy中提供的其他有用功能</h1><p id="fb6e" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">除了<code class="fe lv lw lx ly b">ng.getComponent(el)</code>之外，新的API还有一些很好的功能，有时非常有用:</p><ul class=""><li id="d0d9" class="np nq it lb b lc ld lf lg li nr lm ns lq nt lu nu nv nw nx bi translated"><code class="fe lv lw lx ly b"><a class="ae ky" href="https://angular.io/api/core/global/ngGetOwningComponent" rel="noopener ugc nofollow" target="_blank">ng.getOwningComponent(el)</a></code>返回所选组件的父组件。与<code class="fe lv lw lx ly b">ng.getComponent(el)</code>相比，你不需要在DOM树中选择确切的组件。</li><li id="96cd" class="np nq it lb b lc ny lf nz li oa lm ob lq oc lu nu nv nw nx bi translated"><code class="fe lv lw lx ly b"><a class="ae ky" href="https://angular.io/api/core/global/ngGetDirectives" rel="noopener ugc nofollow" target="_blank">ng.getDirectives(el)</a></code>返回所选元素的相关指令。</li><li id="d17a" class="np nq it lb b lc ny lf nz li oa lm ob lq oc lu nu nv nw nx bi translated"><code class="fe lv lw lx ly b"><a class="ae ky" href="https://angular.io/api/core/global/ngApplyChanges" rel="noopener ugc nofollow" target="_blank">ng.applyChanges(el)</a></code>触发所选组件的变化检测。</li></ul></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="6000" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">结论</h1><p id="71d2" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">感谢您阅读这篇关于调试Angular应用程序的短文。</p><p id="d8f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，Angular Ivy通过使<code class="fe lv lw lx ly b">ng</code>的功能更容易理解来改进现有的API。你是如何调试角度应用的？请在评论中告诉我。</p></div></div>    
</body>
</html>