<html>
<head>
<title>How To Use Lambda Expressions in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中使用Lambda表达式</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-lambda-expressions-in-python-a96330b513d4?source=collection_archive---------4-----------------------#2019-11-27">https://betterprogramming.pub/how-to-use-lambda-expressions-in-python-a96330b513d4?source=collection_archive---------4-----------------------#2019-11-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a0c9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">它们一开始看起来可能很吓人，但其实很简单</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/87bea2e5066f59b8d85c669ef00020c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WB9HtGsQCh_eWfNkMjyW1Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">aaron Blanco Tejedor在<a class="ae ky" href="https://unsplash.com/s/photos/expression?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="ba4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Lambda表达式总是让我抓狂。我不知道为什么……我认为这个名字——纪念阿隆佐·邱奇对lambda微积分的介绍——让它们听起来复杂或者太“数学化”了。</p><p id="5b9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，可能是因为我没有遇到一个好的用例来了解为什么它们是必要的。</p><p id="3e4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">术语<em class="lv">匿名函数/表达式</em>也用来迷惑我。它的行为是否不同于普通的<code class="fe lw lx ly lz b">def</code>函数？它们的利弊是什么？兰姆达斯如何融入？</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="7d6f" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">我是如何理解兰达斯的</h1><p id="5c92" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">直到我重温了一些JavaScript并开始实现<a class="ae ky" href="https://medium.com/better-programming/learning-javascript-arrow-functions-36cce13351c2" rel="noopener">箭头函数</a>时，我才恍然大悟。</p><p id="3009" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它帮助我学会了抛弃lambdas的匿名性，并开始将它们理解为用于编写简单函数的精简语法。</p><p id="22de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们快速看一下转换成lambda表达式的传统函数。</p><pre class="kj kk kl km gt ne lz nf ng aw nh bi"><span id="2c08" class="ni mi it lz b gy nj nk l nl nm"># traditionally defined function to multiply a number by itself<br/>def traditional_square(n):<br/>   return n ** 2</span><span id="780a" class="ni mi it lz b gy nn nk l nl nm"># lambda function to multiply a number by itself<br/>lambda_square = lambda n: n ** 2</span><span id="e14f" class="ni mi it lz b gy nn nk l nl nm">print(traditional_square(5)) # 25<br/>print(lambda_square(5)) # 25</span></pre><p id="c0e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们所做的只是重新安排了一些组件并清理了不必要的语法。没有使用<code class="fe lw lx ly lz b">def</code>来定义一个函数，而是使用了<code class="fe lw lx ly lz b">lambda</code>这个词，后面紧跟着参数列表。</p><p id="ad02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，省略了关键字<code class="fe lw lx ly lz b">return</code>，进一步压缩了语法。最后，虽然定义是匿名的，但我们将它存储到变量<code class="fe lw lx ly lz b">lambda_square</code>中，有效地命名了它。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="4bd0" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">函数与Lambdas的异同</h1><p id="3624" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">既然我们已经通过将lambdas与传统的函数定义联系起来，弄清楚了它们的基本语法，那么让我们来看看两者之间的一些关键的相似之处和不同之处。</p><ul class=""><li id="3d5c" class="no np it lb b lc ld lf lg li nq lm nr lq ns lu nt nu nv nw bi translated"><em class="lv">函数和lambdas都可以接受零个、一个或多个参数。在lambda表达式中，只需在关键字<code class="fe lw lx ly lz b">lambda</code>后列出参数，用逗号分隔。</em></li><li id="9b92" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated">从技术上来说，Lambdas  <strong class="lb iu"> </strong>是表达式，因此它们只能包含其体内的其他表达式。这应该有助于理解为什么lambdas不使用<code class="fe lw lx ly lz b">return</code>关键字。</li><li id="f6f2" class="no np it lb b lc nx lf ny li nz lm oa lq ob lu nt nu nv nw bi translated"><em class="lv">只有功能</em>可以有多行。从技术上来说，一个lambda可以用反斜杠(<code class="fe lw lx ly lz b">\</code>)写跨多行；然而，子弹的本质是，只有函数可以有多个语句，有效地做多件事。Lambdas仅限于正文中的单个表达式。</li></ul></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="83b8" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">我什么时候用兰姆达斯？</h1><p id="0e77" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">有三个机会开始将lambda表达式编织到您的编程实践中。</p><h2 id="ae66" class="ni mi it bd mj oc od dn mn oe of dp mr li og oh mt lm oi oj mv lq ok ol mx om bi translated"><strong class="ak">将“一行程序”函数重构为lambda符号</strong></h2><p id="f037" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">这是最容易实现的，也是熟悉语法的好方法。</p><p id="bc9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于已经是单个语句或者可以简化为单个语句的函数，尝试将它们重写为lambda表达式，类似于我上面展示的。</p><h2 id="89d4" class="ni mi it bd mj oc od dn mn oe of dp mr li og oh mt lm oi oj mv lq ok ol mx om bi translated"><strong class="ak"> 2。</strong> <code class="fe lw lx ly lz b"><strong class="ak">.sort()</strong></code> <strong class="ak">列表方法</strong></h2><p id="88c0" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">与其他接受lambda表达式的方法相比，<code class="fe lw lx ly lz b">.sort()</code>没有什么特别之处；在我的经验中，这只是一个常见的用例。</p><p id="bb30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在原始值列表中——想想整数或字符串——列表自然会按值排序。</p><pre class="kj kk kl km gt ne lz nf ng aw nh bi"><span id="7038" class="ni mi it lz b gy nj nk l nl nm">scores = [54,36,75,85,13,46]</span><span id="eef7" class="ni mi it lz b gy nn nk l nl nm">scores.sort()</span><span id="5984" class="ni mi it lz b gy nn nk l nl nm">print(scores) # [13,36,46,54,75,85]</span></pre><p id="a7fb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是像元组、字典或类这样的复杂数据类型呢？</p><p id="c795" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用lambda表达式来指定您希望如何执行排序。</p><pre class="kj kk kl km gt ne lz nf ng aw nh bi"><span id="40b6" class="ni mi it lz b gy nj nk l nl nm">scores = [("Jade",21),("Rab",110),("Sylvando",39),("Erik",19)]</span><span id="968f" class="ni mi it lz b gy nn nk l nl nm">scores.sort(key=lambda t: t[1]) # sort by 2nd value in tuple</span><span id="b4e3" class="ni mi it lz b gy nn nk l nl nm">print(scores)<br/>"""<br/>[<br/>  ("Erik",19),<br/>  ("Jade",21),<br/>  ("Sylvando,39),<br/>  ("Rab",110))<br/>]</span></pre><p id="ca22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，我们将排序的关键字定义为lambda表达式的结果。列表中的每一项都被设置为<code class="fe lw lx ly lz b">t</code>，并且<code class="fe lw lx ly lz b">t[1]</code>中的值用于对元组进行排序。</p><h2 id="82f4" class="ni mi it bd mj oc od dn mn oe of dp mr li og oh mt lm oi oj mv lq ok ol mx om bi translated"><strong class="ak"> 3。</strong> <code class="fe lw lx ly lz b"><strong class="ak">filter()</strong></code> <strong class="ak">功能</strong></h2><p id="d405" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">类似于<code class="fe lw lx ly lz b">.sort()</code>，这个函数以一个函数作为第一个参数。第二个参数是可迭代的，比如list。采用上面的元组列表，我们可以创建一个过滤迭代器。</p><pre class="kj kk kl km gt ne lz nf ng aw nh bi"><span id="14f3" class="ni mi it lz b gy nj nk l nl nm">scores = [("Jade",21),("Rab",110),("Sylvando",39),("Erik",19)]</span><span id="ebff" class="ni mi it lz b gy nn nk l nl nm">result = filter(lambda t: t[1] &gt; 25, scores)</span><span id="3139" class="ni mi it lz b gy nn nk l nl nm">print(list(result)) # [("Rab",110),("Sylvando",39)]</span></pre><p id="c54e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想澄清一下<code class="fe lw lx ly lz b">filter()</code>函数的一些细微差别。</p><p id="b99f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">函数的结果存储在变量<code class="fe lw lx ly lz b">result</code>中，因为与<code class="fe lw lx ly lz b">.sort()</code>方法不同，<code class="fe lw lx ly lz b">filter()</code>不修改原始数据。</p><p id="1d17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">需要创建一个列表是因为返回了一个过滤器对象，它指向迭代器的过滤版本。如果我们试图在不创建列表的情况下打印，输出将类似于<code class="fe lw lx ly lz b">&lt;filter object at 0x7f3fb03ce7d0&gt;</code>。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="bb86" class="mh mi it bd mj mk ml mm mn mo mp mq mr jz ms ka mt kc mu kd mv kf mw kg mx my bi translated">结论</h1><p id="96ad" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">我希望对lambda表达式的介绍有助于消除一些恐惧和忧虑。如果你有其他简单的帮助你克服困难的例子，请分享它们！</p></div></div>    
</body>
</html>