# 如何在 JavaScript 中使用去抖动和节流

> 原文：<https://betterprogramming.pub/debouncing-throttling-explained-c7c2daed9e3>

## 优化 web 应用中的 API 调用

![](img/91c439a2ea99b49b077984448d34f731.png)

Sam Moqadam 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片。

在本文中，我们将讨论去抖动和节流技术，通过防止服务器上不必要的 API 调用和负载来优化 web 应用程序的性能。

这些技术可能看起来很相似，但事实并非如此。它们的用例实际上非常不同。

# 去抖动

去抖是一种将被调用函数的执行延迟一段特定时间的技术。如果在这段时间内再次调用了同一个函数，那么它会通过放弃之前的函数调用，将这个新调用的函数的执行延迟一段特定的时间。

换句话说，函数的执行被延迟，直到它在指定的时间间隔聚集函数的输入，以节省频繁的和不必要的服务器调用。这可以通过将实际函数传递给去抖函数来实现，因此我们说该函数正在去抖。

让我们看看普通 JavaScript 中的一般`debounce`函数:

这里，`debounce`是一个高阶函数，它接受一个实际的函数，等待一段特定的时间，然后返回另一个函数。这样做是为了关闭实际功能以及等待时间和`timeoutId`。

该`debounce`功能可以如下使用:

每当用户点击窗口时，附加在事件上的功能不会立即执行。这个`debounce`函数将等待一秒钟，看看这个函数是否再次被调用。如果没有，那么该功能将在一秒钟后执行。如果用户在一秒钟内再次点击，则倒计时定时器复位，并且`debounce`功能将再次等待另一秒钟，通过取消之前的功能调用来执行该功能。这是通过`clearTimeout`功能在前面功能的`timeoutId`的帮助下完成的。

# 节流

节流是一种在给定的时间间隔内只执行一次附加函数的技术。无论用户触发事件多少次，只有第一次触发的事件会立即执行。

节流使我们能够控制函数的执行速度。这样，我们可以通过限制每个时间间隔的调用次数来优化应用程序的性能。

## 这项技术的表现

假设我们为节流设置了三秒的时间间隔。一旦第一次调用该函数，它将立即执行，计时器开始计时三秒钟。如果在这段时间内再次调用该函数，则它不会被执行。只有在三秒钟后，才会执行下一个功能。这是我们控制函数执行速度的方法。

但是这个解释并不完整。如果事件在两秒钟后被触发，并且没有被执行，该怎么办？计时器结束时会执行吗？是啊！如果在等待期间再次被调用，该函数将在计时器结束后执行。节流的思想是在固定的时间间隔后执行一次函数。

## 普通 JavaScript 中的节流实现

# 结论

去抖动和节流只是可以用来解决一组特定问题的概念或技术。它们不是由 JavaScript 本身提供的。我不会在这里提供用例场景，因为我不想限制任何人的思维。这些概念是抽象的，可以用来解决不同领域的问题。

写这篇文章的目的是为了给你一个更清晰的解释，这两个技术是我绞尽脑汁想出来的。随时欢迎反馈！

感谢阅读。