<html>
<head>
<title>An Introduction to pyttsx3: A Text-To-Speech Converter for Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pyttsx3简介:Python的文本到语音转换器</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/an-introduction-to-pyttsx3-a-text-to-speech-converter-for-python-4a7e1ce825c3?source=collection_archive---------1-----------------------#2019-12-04">https://betterprogramming.pub/an-introduction-to-pyttsx3-a-text-to-speech-converter-for-python-4a7e1ce825c3?source=collection_archive---------1-----------------------#2019-12-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c808" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个基于Python的文本到语音转换的替代方案，可以脱机工作</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/28564ca0f87f8ba00e70e45aa5c89a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2fuCgJwvOUitmBtKAS19ww.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@meymigrou?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">帕诺斯·萨卡拉基斯</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="eaeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章是一个傻瓜学习Python中文本到语音转换的指南。通过阅读本文，您将了解设置它的正确步骤，并了解该模块中可用的一些基本功能。根据<a class="ae ky" href="https://github.com/nateshmbhat/pyttsx3" rel="noopener ugc nofollow" target="_blank">官方网站为pyttsx3 </a>:</p><blockquote class="lv lw lx"><p id="2681" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated">“…是Python中的文本到语音转换库。与其他库不同，它可以离线工作，并且与Python 2和3兼容。”</p></blockquote><p id="244f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，该模块已经过测试，已知可在以下系统上运行:</p><ul class=""><li id="59ce" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mh mi mj mk bi translated">Windows XP、Windows Vista和Windows 8、8.1、10上的SAPI5</li><li id="665c" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">Mac OS X 10.5 (Leopard)和10.6 (Snow Leopard)上的NSSpeechSynthesizer</li><li id="8b1c" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">eSpeak on Ubuntu桌面版8.10(无畏)、9.04(活泼)和9.10(业力)</li></ul><p id="5218" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将使用以下语言演示本模块的功能:</p><ul class=""><li id="42d7" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mh mi mj mk bi translated">英语(男，女)</li><li id="2c62" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">中国人(女性)</li><li id="5007" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">日本人(女性)</li></ul><p id="3ed6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程有四个部分:</p><ol class=""><li id="8390" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mq mi mj mk bi translated">设置</li><li id="41e2" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mq mi mj mk bi translated">基本API</li><li id="23c0" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mq mi mj mk bi translated">结果</li><li id="161a" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mq mi mj mk bi translated">结论</li></ol><p id="574a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们进入下一部分，了解更多信息。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="d039" class="my mz it bd na nb nc nd ne nf ng nh ni jz nj ka nk kc nl kd nm kf nn kg no np bi translated">1.设置</h1><p id="7c84" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">安装该模块的正确方法是克隆存储库并通过安装Python文件进行安装。</p><p id="8330" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这主要是因为在撰写本文时，PyPI中发布的版本不是最新版本。如果开发人员在PyPi上发布了最新版本，您可以在将来进行pip安装。<strong class="lb iu">编辑</strong>:包已经更新到2020年7月。您可以通过以下命令轻松安装它。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="b091" class="oa mz it nw b gy ob oc l od oe">pip install pyttsx3</span></pre><h2 id="171b" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">Python模块</h2><p id="b0ca" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">首先，从官方GitHub站点克隆<a class="ae ky" href="https://github.com/nateshmbhat/pyttsx3" rel="noopener ugc nofollow" target="_blank">库</a>，并将其解压缩到您选择的目录中。</p><p id="04bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，打开命令行，激活您喜欢的虚拟环境。完成后，将目录改为主文件夹的根目录。它应该有一个名为<code class="fe oq or os nw b">setup.py</code>的文件。运行以下命令:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="de0a" class="oa mz it nw b gy ob oc l od oe">python setup.py install</span></pre><p id="0d36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装完成后，请检查您是否有以下模块:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="61cc" class="oa mz it nw b gy ob oc l od oe">pip show pyttsx3</span></pre><p id="acaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用的是Windows，您还需要验证<code class="fe oq or os nw b">pypiwin32</code>模块。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="65d3" class="oa mz it nw b gy ob oc l od oe">pip show  pypiwin32</span></pre><p id="0bdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果该模块不存在，请使用以下命令安装它:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="bf4c" class="oa mz it nw b gy ob oc l od oe">pip install  pypiwin32</span></pre><h2 id="7e9f" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">文本到语音</h2><p id="bca3" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">本模块的文本到语音转换功能基于您的操作系统中安装的语言。</p><p id="c757" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，它应该在操作系统安装期间与语言包一起提供。如果您打算使用其他语言，您需要手动安装语言包。</p><p id="1452" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于Windows用户，请转到语言设置。您应该能够看到下面的用户界面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/8e57848925aa492d2b3429818e47e7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HPNuiKSxS9HuSi6mZwTcyA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3cdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了默认的语言包(英语)，我还安装了其他语言(如中文和日语)。单击“添加”按钮添加首选语言。您应该会看到以下弹出窗口。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/9dc2c9b107d8006ed58e7b6b3d210160.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*0SFIGdo4iiv7wFXD6ro9vw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="4937" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保语言包具有文本到语音转换图标。</p><p id="8ba5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面给出的例子中，我们可以看到语言包中的法语(法国)支持文本到语音转换。您可以选择它，然后单击“下一步”安装语言包。</p><p id="b749" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们进入下一节，开始测试可用的API。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="2c39" class="my mz it bd na nb nc nd ne nf ng nh ni jz nj ka nk kc nl kd nm kf nn kg no np bi translated">2.基本API</h1><p id="fc69" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">在这一部分，我们将探索模块中提供的一些有用的功能。如果您通过pip方法安装此模块，某些功能将不可用。在继续之前，请参考上一节进行正确的安装。</p><h2 id="5cad" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">导入</h2><p id="e639" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">让我们从一个简单的导入语句开始</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="b03d" class="oa mz it nw b gy ob oc l od oe">import pyttsx3</span></pre><h2 id="1331" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">初始化</h2><p id="23e2" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">初始化非常简单，您只需键入以下代码:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="f6d8" class="oa mz it nw b gy ob oc l od oe">engine = pyttsx3.init()</span></pre><p id="d713" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果遇到与缺少驱动程序相关的错误，可以尝试传入驱动程序的名称。有四种可用的内置驱动程序:</p><ul class=""><li id="7053" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mh mi mj mk bi translated"><code class="fe oq or os nw b"><a class="ae ky" href="https://github.com/nateshmbhat/pyttsx3/blob/master/pyttsx3/drivers/dummy.py" rel="noopener ugc nofollow" target="_blank">dummy.py</a></code> —测试无所作为的驱动程序。您可以使用该结构作为参考来实现自己的驱动程序。</li><li id="5746" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b"><a class="ae ky" href="https://github.com/nateshmbhat/pyttsx3/blob/master/pyttsx3/drivers/espeak.py" rel="noopener ugc nofollow" target="_blank">espeak.py</a></code> —其他平台的驱动程序，如Ubuntu</li><li id="56af" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b"><a class="ae ky" href="https://github.com/nateshmbhat/pyttsx3/blob/master/pyttsx3/drivers/nsss.py" rel="noopener ugc nofollow" target="_blank">nsss.py</a></code>—MAC OS的驱动程序</li><li id="0036" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b"><a class="ae ky" href="https://github.com/nateshmbhat/pyttsx3/blob/master/pyttsx3/drivers/sapi5.py" rel="noopener ugc nofollow" target="_blank">sapi5.py</a></code>—Windows操作系统的驱动程序</li></ul><p id="565f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用驱动程序名称进行初始化的示例如下:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="ef8a" class="oa mz it nw b gy ob oc l od oe">engine = pyttsx3.init("sapi5")</span></pre><h2 id="13e8" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">文本到语音</h2><p id="9717" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">让我们试着用下面的代码来说一些简单的事情。将它保存在Python文件中，然后运行它。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="7e82" class="oa mz it nw b gy ob oc l od oe">import pyttsx3<br/>engine = pyttsx3.init()</span><span id="0fd8" class="oa mz it nw b gy ov oc l od oe">engine.say('Welcome to Medium')<br/>engine.runAndWait()</span></pre><p id="2ce9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该能听到那个声音在说，“欢迎来到灵媒。”</p><h2 id="ec01" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">财产</h2><p id="3feb" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">引擎对象具有以下可以微调的变量:</p><ul class=""><li id="292d" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mh mi mj mk bi translated"><code class="fe oq or os nw b">rate</code> —以每分钟字数为单位的整数语速。基本值是200。</li><li id="829e" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b">voice</code> —活动语音的字符串标识符</li><li id="75d9" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b">volume</code>—0.0到1.0范围内的浮点量</li><li id="f175" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b">voices</code>—<code class="fe oq or os nw b"><a class="ae ky" href="https://pyttsx3.readthedocs.io/en/latest/engine.html#pyttsx3.voice.Voice" rel="noopener ugc nofollow" target="_blank">pyttsx3.voice.Voice</a></code>描述符对象列表</li></ul><p id="b020" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过<code class="fe oq or os nw b">setProperty</code>功能进行设置。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="6502" class="oa mz it nw b gy ob oc l od oe">engine.setProperty('rate', 150)</span></pre><p id="606d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用<code class="fe oq or os nw b">getProperty</code>函数获取属性的值。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="aec3" class="oa mz it nw b gy ob oc l od oe">engine.getProperty('volume')</span></pre><h2 id="8ab3" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">语音属性</h2><p id="3c8c" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">voice属性具有以下变量:</p><ul class=""><li id="478d" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mh mi mj mk bi translated"><code class="fe oq or os nw b">age</code> —以年为单位的声音的整数年龄。如果未知，默认为<code class="fe oq or os nw b">None</code>。</li><li id="6968" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b">gender</code> —声音的字符串性别:男性、女性或中性。如果未知，默认为<code class="fe oq or os nw b">None</code>。</li><li id="1130" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b">id</code> —声音的字符串标识符。用于通过<code class="fe oq or os nw b">pyttsx3.engine.Engine.setPropertyValue()</code>设置活动声音。该属性始终是定义的。</li><li id="5e48" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b">languages</code> —该语音支持的字符串语言列表。默认为未知的空列表。</li><li id="2000" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b">name</code> —声音的人类可读名称。如果未知，默认为<code class="fe oq or os nw b">None</code>。</li></ul><p id="e48a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用下面的代码来识别系统中所有可用的声音。在<code class="fe oq or os nw b">init</code>函数后添加以下代码。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="86ce" class="oa mz it nw b gy ob oc l od oe">voices = engine.getProperty('voices')<br/>for voice in voices:<br/>    print("Voice: %s" % voice.name)<br/>    print(" - ID: %s" % voice.id)<br/>    print(" - Languages: %s" % voice.languages)<br/>    print(" - Gender: %s" % voice.gender)<br/>    print(" - Age: %s" % voice.age)<br/>    print("\n")</span></pre><p id="1305" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行它时，您应该会看到以下输出(取决于您安装的语言包)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/168a271e7000af339f4d7ffbe14af062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f8DG-enFtt5ZTOi1NoKJ5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="cece" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们试试把声音改成Zira(女版)。您需要使用ID作为参数，订单将与我们刚才打印的完全一样。我将根据以下顺序传递1作为Zira的索引:</p><ul class=""><li id="ad9f" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mh mi mj mk bi translated">大卫(英国男性)</li><li id="a136" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">齐拉(英国男性)</li><li id="f9db" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">相户爱(日语)</li><li id="236c" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">惠惠(中文)</li></ul><p id="6a73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在for循环之后和<code class="fe oq or os nw b">say</code>函数之前添加以下代码。</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="c268" class="oa mz it nw b gy ob oc l od oe">engine.setProperty("voice", voices[1].id)</span></pre><p id="7190" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重新运行文件，你应该会听到一个女声说“欢迎来到媒体”随意输入你自己的文本并测试文本到语音的转换。</p><h2 id="60d4" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">保存到文件</h2><p id="09af" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">开发人员增加了一个新功能，可以将音频流保存到MacOS和Windows的文件中。您可以通过<code class="fe oq or os nw b">save_to_file</code>函数轻松调用它。确保将其置于<code class="fe oq or os nw b">engine.runAndWait()</code>功能之前。我们来试试吧！</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="8d6e" class="oa mz it nw b gy ob oc l od oe">engine.save_to_file("How do you do?", "output.mp3")</span></pre><p id="9082" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该函数接受两个参数:</p><ul class=""><li id="7b88" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mh mi mj mk bi translated"><code class="fe oq or os nw b">text </code> —文本到语音转换的文本</li><li id="0458" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><code class="fe oq or os nw b">filename</code> —文件的名称。您可以使用mp3或wav扩展名。</li></ul></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="043b" class="my mz it bd na nb nc nd ne nf ng nh ni jz nj ka nk kc nl kd nm kf nn kg no np bi translated">3.结果</h1><p id="7673" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">我刚刚用各种语言对以下数据进行了测试:</p><ul class=""><li id="68b3" class="mc md it lb b lc ld lf lg li me lm mf lq mg lu mh mi mj mk bi translated">简单的问候</li><li id="2d8d" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">随机文本</li><li id="a7fc" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">短篇故事或通俗小说中的一段</li><li id="a04b" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">新闻文章中的一段</li></ul><p id="b4ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将结果链接到我的GitHub <a class="ae ky" href="https://github.com/wfng92/medium-repo/tree/master/pyttsx3" rel="noopener ugc nofollow" target="_blank">库</a>。请随意查看。</p><h2 id="52e9" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">英语(男性)</h2><ul class=""><li id="3f5b" class="mc md it lb b lc nq lf nr li ox lm oy lq oz lu mh mi mj mk bi translated"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/0-greetings.mp3" rel="noopener ugc nofollow" target="_blank">欢迎来到媒体</a></li><li id="ba32" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/0-random.mp3" rel="noopener ugc nofollow" target="_blank">与其他库不同，它可以离线工作，并且兼容Python 2和3 </a></li><li id="1e0d" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">兔子对和乌龟赛跑的想法很感兴趣，但为了好玩，他同意了。于是，同意充当裁判的狐狸标出了距离，开始赛跑。</li><li id="1d41" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">人类基因组计划始于1988年，旨在绘制23条染色体，为人类提供蓝图。</li></ul><h2 id="8f33" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">英语(女性)</h2><ul class=""><li id="5e8e" class="mc md it lb b lc nq lf nr li ox lm oy lq oz lu mh mi mj mk bi translated"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/1-greetings.mp3" rel="noopener ugc nofollow" target="_blank">欢迎来到媒体</a></li><li id="2db2" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/1-random.mp3" rel="noopener ugc nofollow" target="_blank">与其他库不同，它可以离线工作，并且兼容Python 2和3 </a></li><li id="4520" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">兔子对和乌龟赛跑的想法很感兴趣，但为了好玩，他同意了。于是，同意充当裁判的狐狸标出了距离，开始赛跑。</li><li id="cd09" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi translated">人类基因组计划始于1988年，旨在绘制23条染色体，为人类提供蓝图。</li></ul><h2 id="9076" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">日本人</h2><ul class=""><li id="f56d" class="mc md it lb b lc nq lf nr li ox lm oy lq oz lu mh mi mj mk bi"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/2-greetings.mp3" rel="noopener ugc nofollow" target="_blank">こんにちは！今日はいい天気ですね。</a></li><li id="1c66" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/2-random.mp3" rel="noopener ugc nofollow" target="_blank">その店は若い人たちで混んでいた。</a></li><li id="c1b2" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/2-story.mp3" rel="noopener ugc nofollow" target="_blank">２７日付の、南ア紙タイムズによると、２人は、貴重な野生動物の所持などを、禁じた同国の法律に、違反した疑いがあるとして、９月に逮捕されていた。</a></li><li id="2691" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/2-news.mp3" rel="noopener ugc nofollow" target="_blank">そのデタラメな思考をもとに、不自然なほど進は、半ばウキウキで、草原を歩く。それも、この旅先に、来る前は、仕事仕事でプライベートも、まともに充実していなかった。</a></li></ul><h2 id="35d2" class="oa mz it bd na of og dn ne oh oi dp ni li oj ok nk lm ol om nm lq on oo no op bi translated">中国人</h2><ul class=""><li id="ab21" class="mc md it lb b lc nq lf nr li ox lm oy lq oz lu mh mi mj mk bi"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/3-greetings.mp3" rel="noopener ugc nofollow" target="_blank">您好，欢迎光临</a></li><li id="6135" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/3-random.mp3" rel="noopener ugc nofollow" target="_blank">老娘叫安娜斯塔西亚尼古拉耶维奇切尔亚尼克伊凡诺夫娜亚历山大彼得罗夫斯基康斯坦丁萨维里奥诺维奇波波莎奥尔良基伊万诺耶夫娜</a></li><li id="0af8" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/3-story.mp3" rel="noopener ugc nofollow" target="_blank">走了一段路，该穿越森林了。林子里空气新鲜，味道甜美。还没走到一百码远，公主见到四棵大树之间，极粗的银链上吊着一座美丽的银制城堡。吊得非常稳当，如有一阵微风吹过，就会轻微摆动，催人入眠。</a></li><li id="34cf" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mh mi mj mk bi"><a class="ae ky" href="https://github.com/wfng92/medium-repo/blob/master/pyttsx3/3-news.mp3" rel="noopener ugc nofollow" target="_blank">12月4日消息，当地时间12月3日，在巴黎世界教育论坛上，马云呼吁改变教育前先改革考试。他表示文凭只是学费的收据，真正的文凭是生活中奋斗来的。</a></li></ul><p id="a63f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据结果，这个模块非常适合新闻和专业文章。情感相当缺乏，节奏也不是很好——尤其是对日本人来说。我特意在句子之间放了很多逗号，以便进一步分隔句子。请自行测试。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="4b3c" class="my mz it bd na nb nc nd ne nf ng nh ni jz nj ka nk kc nl kd nm kf nn kg no np bi translated">4.结论</h1><p id="28ea" class="pw-post-body-paragraph kz la it lb b lc nq ju le lf nr jx lh li ns lk ll lm nt lo lp lq nu ls lt lu im bi translated">让我们回顾一下今天所学的内容。首先，我们开始安装Python模块和我们想要的语言的语言包。</p><p id="7b1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们继续学习该模块提供的一些可用功能。我们学习了设置和获取对象的属性以及文本到语音转换功能。此外，我们还尝试输出操作系统中的可用语音。</p><p id="1e12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除此之外，我还链接了一些我在三种语言的四个不同领域中测试过的例子。</p><p id="f174" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">祝您在自己的测试中获得乐趣，并希望您喜欢这篇文章。下一篇文章再见。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="f785" class="my mz it bd na nb nc nd ne nf ng nh ni jz nj ka nk kc nl kd nm kf nn kg no np bi translated">参考</h1><ol class=""><li id="48b1" class="mc md it lb b lc nq lf nr li ox lm oy lq oz lu mq mi mj mk bi translated"><a class="ae ky" href="https://pyttsx3.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">https://pyttsx3.readthedocs.io/en/latest/index.html</a></li><li id="02ab" class="mc md it lb b lc ml lf mm li mn lm mo lq mp lu mq mi mj mk bi translated">https://github.com/nateshmbhat/pyttsx3<a class="ae ky" href="https://github.com/nateshmbhat/pyttsx3" rel="noopener ugc nofollow" target="_blank"/></li></ol></div></div>    
</body>
</html>