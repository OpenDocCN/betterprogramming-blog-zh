# 同步与异步、并发与并行

> 原文：<https://betterprogramming.pub/sync-vs-async-vs-concurrent-vs-parallel-5754cdb60f66>

## 关于执行的典型面试问题

![](img/28e6229d5a21c966c0e60e3eadeb28af.png)

[扎克·卢塞洛](https://unsplash.com/@zlucerophoto?utm_source=medium&utm_medium=referral)在[号航天飞机](https://unsplash.com?utm_source=medium&utm_medium=referral)上的照片

> "您如何区分同步与异步、并发与并行？"

这是一个你可能会在第一次技术面试中被问到的问题。

在目睹了许多受访者的回答后，我发现人们知道这些术语，但很少理解它们的概念。

了解用例至关重要。然而，仅仅了解用例也将自己局限于那些用例。这就是为什么面试官想问你这个 question⁠——他们想看看你是否能为新的用例引入解决方案。

现在，让我们破译密码。

![](img/7e57eac6b12d810f2297a92e0253ea59.png)

[奥拉夫·阿伦斯·特纳在](https://unsplash.com/@olav_ahrens?utm_source=medium&utm_medium=referral) [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄的照片

# 同步与*异步*

Sync 和 async 是两种不同的编程模型，它们涉及编程风格、应该如何编写代码以及代码将如何运行。

在 sync 编程模型中，您按步骤编写代码——您的代码从上到下，一步一步地执行，当它完成第一步时，它才进入第二步。

```
**func** step1() { print("1") }
**func** step2() { print("2") }**func** main() {
    step1()
    step2()
}*// Result: "12"*
```

由于其可预测的行为，sync 也被称为*可预测编程模型*。大多数编程语言使用 sync 作为其基本编程模型。

在异步编程模型中，您将代码编写为任务，然后这些任务同时执行。并发执行是指所有任务可能同时执行。

```
**func** task1() { print("1") }
**func** task2() { print("2") }**func** main() {
    task1()
    task2()
}*// Result: "12" or "21" (not predictable)*
```

正如您在示例的结果中所看到的，因为任务是同时执行的，所以您无法预测结果。由于这种行为，异步也被称为*不可预测的编程模型*。它对于您执行彼此不依赖的任务并且不关心执行顺序的用例很有用。

# 并发与并行

在讨论异步编程模型时，我们曾经提到并发行为。在异步编程模型中，任务被视为运行多个任务的单个步骤，它们不关心这些任务是如何排序的或如何相互运行的。它们可以同时运行，或者在某些情况下，会有一些任务先运行后暂停，以及其他轮流进行的任务等。这种行为被称为*并发*。

举一个现实生活中的例子:有一项挑战要求你既要吃掉一整块大蛋糕，又要唱一整首歌。如果你最快唱完整首歌并吃完蛋糕，你就赢了。所以规则是你边唱边吃。你怎么做那件事不符合规定。你可以吃整个蛋糕，然后唱整首歌，或者你可以吃半个蛋糕，然后唱半首歌，然后再这样做，等等。

这同样适用于计算机科学。有两个任务同时执行，但是它们在单核 CPU 中运行，因此 CPU 将决定先运行一个任务，然后运行另一个任务，或者运行一半任务，另一半任务，等等。这完全取决于系统架构。

如果我们继续同一个例子，规则仍然是边唱边吃**，**，但是这次，你们两人一组。你可能会吃东西，让你的朋友唱歌(因为她唱得更好，你吃得更好)。所以这一次，这两个任务是真正同时执行的，它被称为*并行*。并行性是一种特殊的并发性，任务实际上是同时执行的。在计算机科学中，并行只能在多核环境中实现。

# 摘要

同步和异步是编程模型。

并发和并行是执行任务的方式，其中并行是并发的狭义版本。

在 sync 中，您将代码编写为从上到下按顺序执行的步骤。这里没有并发或并行。

在 async 中，您将代码编写为并发执行的任务。您永远不知道哪些任务将首先开始，这取决于执行的上下文，是并行运行任务，还是先完成一部分任务，然后再继续执行另一个任务。