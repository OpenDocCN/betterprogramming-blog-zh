<html>
<head>
<title>2 Use Cases of Python Pre-commit Hooks to Tidy Up Your Git Repositories</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python预提交钩子的2个用例来整理您的Git库</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/2-use-cases-of-python-pre-commit-hooks-to-tidy-up-your-git-repositories-8d86c9c4f06b?source=collection_archive---------3-----------------------#2022-04-13">https://betterprogramming.pub/2-use-cases-of-python-pre-commit-hooks-to-tidy-up-your-git-repositories-8d86c9c4f06b?source=collection_archive---------3-----------------------#2022-04-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d918" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">更好地组织代码库的策略</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f0ed2ce249ebed4a92bdfc8de5e9edab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XmWA8PANUzbnFfBq"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">凯莉·西克玛在<a class="ae kv" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> unsplash </a>上的照片</p></figure><p id="ded5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">组织良好的回购导致组织良好的代码和更好的开发人员体验。</p><p id="6ff6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将向您展示预提交的两个用例，以维护更好的存储库。</p><h1 id="628a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">引入预提交？</h1><p id="f065" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">预提交是一个基于python的工具，它允许您“挂钩”到您的git库，并在提交更改时触发一个简单的代码。</p><p id="43c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它由出色的python开发人员和YouTuber Anthony Sottile编写和维护。</p><p id="b202" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过预提交，开发人员可以利用gits分布式架构，在提交代码审查之前进行简短的代码检查。</p><p id="ad66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这省去了许多重复的和适得其反的团队间的交流，并允许代码评审者关注实际的代码实现，而不是表面上的问题。</p><p id="3c38" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过在运行ci\cd构建之前使用git提交和代码审查，我们可以节省交付时间和一些相关成本。</p><h1 id="0b99" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">快速启动</h1><p id="50db" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">从git提交开始，你只需要3个步骤:</p><ol class=""><li id="dacc" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">从pip安装预提交:</li></ol><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="2a6c" class="nd lt iq mz b gy ne nf l ng nh">pip install pre-commit</span></pre><p id="41dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.在您的存储库中创建预提交配置文件(稍后介绍)</p><p id="6c5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.将提交配置安装到git repo中:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="d221" class="nd lt iq mz b gy ne nf l ng nh">pre-commit install</span></pre><p id="dfb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从那时起，每次提交新代码时，钩子都将根据您的配置文件执行。</p><h1 id="9b3c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">用例1:干净的输出</h1><p id="7624" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们以<code class="fe ni nj nk mz b">Jupyter notebooks.</code>为例</p><p id="7b8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Jupyter笔记本包含JSON格式的源代码及其输出材料。</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="af67" class="nd lt iq mz b gy ne nf l ng nh">pip install pandas plotly jupyter</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="b2fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您按原样提交笔记本，您将提交它的输出，有时它会占用太多空间并污染存储库。</p><p id="0f83" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，让我们创建一个钩子来在提交时清理存储库。</p><p id="ea1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.让我们启动我们的git回购:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="9b0f" class="nd lt iq mz b gy ne nf l ng nh">git init</span></pre><p id="5ea3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.现在，让我们添加一个预提交配置文件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="1801" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.安装挂钩:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="1a10" class="nd lt iq mz b gy ne nf l ng nh">pre-commit install</span><span id="3014" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>pre-commit installed at .git\hooks\pre-commit</span></pre><p id="d953" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.运行git状态</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="7080" class="nd lt iq mz b gy ne nf l ng nh">git status</span><span id="6405" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>On branch main</span><span id="fc26" class="nd lt iq mz b gy nn nf l ng nh">No commits yet</span><span id="1ee7" class="nd lt iq mz b gy nn nf l ng nh">Untracked files:<br/>  (use "git add &lt;file&gt;..." to include in what will be committed)<br/>        .gitignore<br/>        .pre-commit-config.yaml<br/>        notebooks/</span></pre><p id="5e77" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我已经把笔记本放在了<code class="fe ni nj nk mz b">notebooks</code>目录下</p><p id="66ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.跟踪所有文件</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="e8c5" class="nd lt iq mz b gy ne nf l ng nh">git add --all</span><span id="2652" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>warning: LF will be replaced by CRLF in .gitignore.<br/>The file will have its original line endings in your working directory<br/>warning: LF will be replaced by CRLF in notebooks/notebook.ipynb.     <br/>The file will have its original line endings in your working directory</span></pre><p id="6b8d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">6.提交更改</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="adfd" class="nd lt iq mz b gy ne nf l ng nh">git commit -m "good commit"</span><span id="48ee" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>jupyter-nb-clear-output..................................................Failed<br/>- hook id: jupyter-nb-clear-output<br/>- exit code: 1</span><span id="8a59" class="nd lt iq mz b gy nn nf l ng nh">C:\workspace-vscode\pre-commit-demo\venv\Scripts\python.EXE: No module named nbconvert</span></pre><p id="9307" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的预提交失败了，因为它找不到<code class="fe ni nj nk mz b">nbconvert</code>模块。<br/>我们需要安装它:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="6a26" class="nd lt iq mz b gy ne nf l ng nh">pip install nbconvert</span></pre><p id="797b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并再次提交:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="3253" class="nd lt iq mz b gy ne nf l ng nh">git commit -m "good commit"</span><span id="0de0" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>jupyter-nb-clear-output..................................................Failed<br/>- hook id: jupyter-nb-clear-output<br/>- files were modified by this hook</span><span id="4611" class="nd lt iq mz b gy nn nf l ng nh">[NbConvertApp] Converting notebook notebooks/notebook.ipynb to notebook<br/>[NbConvertApp] Writing 878 bytes to notebooks\notebook.ipynb</span></pre><p id="7013" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，预提交通知我们文件已被修改。<br/>它清除了笔记本的输出。<br/>现在我们需要添加更改:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="e057" class="nd lt iq mz b gy ne nf l ng nh">git add --all</span></pre><p id="35fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并提交:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="0d1e" class="nd lt iq mz b gy ne nf l ng nh">git commit -m "good commit"</span><span id="3ebb" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>jupyter-nb-clear-output..................................................Passed<br/>[main(root-commit) 8560ba3] good commit<br/> 4 files changed, 379 insertions(+)<br/> create mode 100644 .gitignore<br/> create mode 100644 .pre-commit-config.yaml<br/> create mode 100644 notebooks/notebook.ipynb<br/> create mode 100644 requirements.txt</span></pre><h1 id="118c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">用例2:静态代码分析</h1><p id="4d4c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">这可以分为两个领域:</p><h2 id="3d44" class="nd lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">林挺</h2><p id="051c" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">让我们创建一个名为<code class="fe ni nj nk mz b">scripts</code>的新目录，并添加一个名为<code class="fe ni nj nk mz b">mainapp.py</code>的文件</p><p id="671e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个文件里，我们会写一些无用的代码:)</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="57ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我已经在这里写了林挺<a class="ae kv" href="https://medium.com/better-programming/how-to-easily-extend-pylint-with-plugins-d8ead26a68ac" rel="noopener">的好处</a>，现在是时候把林挺加入我们的工作流程了。</p><ol class=""><li id="b28b" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">运行git状态:</li></ol><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="7eec" class="nd lt iq mz b gy ne nf l ng nh">git status</span><span id="94b0" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>On branch main<br/>Untracked files:<br/>  (use "git add &lt;file&gt;..." to include in what will be committed)<br/>        scripts</span></pre><p id="187e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.向预提交配置文件添加新的挂钩:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="c4aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在预提交配置中添加了一个id为<code class="fe ni nj nk mz b">pylint</code>的新钩子。</p><p id="02f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.安装新的吊钩配置:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="77f7" class="nd lt iq mz b gy ne nf l ng nh">pre-commit install</span><span id="cc7d" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>pre-commit installed at .git\hooks\pre-commit<br/></span></pre><p id="0163" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.跟踪更改:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="0a2e" class="nd lt iq mz b gy ne nf l ng nh">git add --all</span></pre><p id="298b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.犯罪</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="5c73" class="nd lt iq mz b gy ne nf l ng nh">git commit -m "commit #2"</span><span id="ab71" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>jupyter-nb-clear-output..............................(no files to check)Skipped<br/>pylint...................................................................Failed<br/>- hook id: pylint<br/>- exit code: 16</span><span id="49c2" class="nd lt iq mz b gy nn nf l ng nh">PYLINTHOME is now 'C:\Users\user\AppData\Local\pylint\pylint\Cache' but obsolescent 'C:\Users\user\.pylint.d' is found; you can safely remove the latter<br/>************* Module somescript<br/>scripts\somescript.py:1:0: C0114: Missing module docstring (missing-module-docstring)</span><span id="22c2" class="nd lt iq mz b gy nn nf l ng nh">-----------------------------------<br/>Your code has been rated at 5.00/10<br/></span></pre><p id="57af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于pylint中缺少模块docstring错误，提交失败。<br/>现在让我们添加一个模块docstring。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="459d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">添加更改</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="e936" class="nd lt iq mz b gy ne nf l ng nh">git add --all</span></pre><p id="6018" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并提交:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="d48e" class="nd lt iq mz b gy ne nf l ng nh">git commit -m "commit #2"<br/>jupyter-nb-clear-output..............................(no files to check)Skipped<br/>pylint...................................................................Passed<br/>[master b2d3105] commit #2<br/> 2 files changed, 8 insertions(+), 2 deletions(-)</span></pre><p id="24f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">提交已通过:)</p><p id="5806" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意—</strong>Jupyter笔记本的挂钩被跳过，因为没有对笔记本进行任何更改。这使得预提交非常高效。</p><h2 id="c73c" class="nd lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">格式化</h2><p id="83f2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">就像林挺一样，我们可以触发自动格式化软件包，比如黑色的<a class="ae kv" href="https://github.com/psf/black" rel="noopener ugc nofollow" target="_blank">和黑色的</a></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="59fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们在原始脚本中添加了函数<code class="fe ni nj nk mz b">function</code>，但是foo的格式很难看。</p><ol class=""><li id="c8e5" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">添加挂钩配置:</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="a8f1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.安装新挂钩</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="d38f" class="nd lt iq mz b gy ne nf l ng nh">pre-commit install</span><span id="111a" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>pre-commit installed at .git\hooks\pre-commit</span></pre><p id="f8a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.跟踪更改:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="7445" class="nd lt iq mz b gy ne nf l ng nh">git add --all<br/></span></pre><p id="5f2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.犯罪</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="1bca" class="nd lt iq mz b gy ne nf l ng nh">git commit -m "add function"</span><span id="c175" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>jupyter-nb-clear-output..............................(no files to check)Skipped<br/>pylint...................................................................Passed<br/>black....................................................................Failed<br/>- hook id: black<br/>- exit code: 1</span><span id="2321" class="nd lt iq mz b gy nn nf l ng nh">Executable `black` not found</span></pre><p id="f09a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的提交失败，因为找不到black。<br/>让我们安装它:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="5fc7" class="nd lt iq mz b gy ne nf l ng nh">pip install black</span></pre><p id="e4bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并再次提交:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="0611" class="nd lt iq mz b gy ne nf l ng nh">git commit -m "add function"</span><span id="02aa" class="nd lt iq mz b gy nn nf l ng nh">&gt;&gt;&gt;<br/>jupyter-nb-clear-output..............................(no files to check)Skipped<br/>pylint...................................................................Passed<br/>black....................................................................Failed<br/>- hook id: black<br/>- files were modified by this hook</span><span id="2663" class="nd lt iq mz b gy nn nf l ng nh">reformatted scripts\somescript.py</span><span id="76fb" class="nd lt iq mz b gy nn nf l ng nh">All done! \u2728 \U0001f370 \u2728<br/>1 file reformatted.</span></pre><p id="53ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">文件已经格式化！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="1e1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好多了！</p><p id="194d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们添加更改:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="f61b" class="nd lt iq mz b gy ne nf l ng nh">git add --all</span></pre><p id="9d7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并提交:</p><pre class="kg kh ki kj gt my mz na nb aw nc bi"><span id="f719" class="nd lt iq mz b gy ne nf l ng nh">git commit -m "add function"<br/>jupyter-nb-clear-output..............................(no files to check)Skipped<br/>pylint...................................................................Passed<br/>black....................................................................Passed<br/>[master 4bd3217] add function<br/> 2 files changed, 12 insertions(+)</span></pre><h1 id="1262" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="e758" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">预提交可以帮助您快速识别代码的本地克隆上的问题，而不需要一直进行ci/cd构建或代码审查。</p><p id="ede0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它允许您在整个组织中有效地实施编码标准和约定，并拥有组织得更好的代码库。</p></div></div>    
</body>
</html>