<html>
<head>
<title>A Simple Git Workflow: Releaseflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个简单的Git工作流:Releaseflow</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/a-simple-git-workflow-releaseflow-1d036539ac44?source=collection_archive---------2-----------------------#2022-03-24">https://betterprogramming.pub/a-simple-git-workflow-releaseflow-1d036539ac44?source=collection_archive---------2-----------------------#2022-03-24</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="6cf1" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">让我们简化Git工作流程吧！</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/3ddfb1a2e7e8a325733b9530ce0fd4ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3KRHv1owvEzpW7gMewe8Iw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Git Releaseflow的可视化(作者)</p></figure><p id="d144" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我见过很多组织使用Gitflow策略来使用Git。这不是一个糟糕的策略，但它可以更简单。这就是我很高兴找到Releaseflow的原因。在这篇文章中，我想告诉你它是如何工作的，以及为什么它会给你的组织带来好处。</p><blockquote class="lv lw lx"><p id="a32a" class="kz la ly lb b lc ld jv le lf lg jy lh lz lj lk ll ma ln lo lp mb lr ls lt lu in bi translated"><a class="ae mc" href="https://devblogs.microsoft.com/devops/release-flow-how-we-do-branching-on-the-vsts-team/" rel="noopener ugc nofollow" target="_blank">“Git release flow</a>”这个工作流的名字来自微软。(看<a class="ae mc" href="https://youtu.be/t_4lLR6F_yk?t=924" rel="noopener ugc nofollow" target="_blank"> Youtube </a>上的演讲)发布流程比<a class="ae mc" href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow" rel="noopener ugc nofollow" target="_blank"> gitflow </a>简单多了。gitflow有许多不同类型的分支，而release flow只有4个分支。</p></blockquote><h1 id="69d9" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">Git发布流支持</h1><ul class=""><li id="896f" class="mv mw iu lb b lc mx lf my li mz lm na lq nb lu nc nd ne nf bi translated">真理的一个来源(主要分支)</li><li id="9a36" class="mv mw iu lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated">以简单的方式管理版本</li><li id="3ef1" class="mv mw iu lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated">从特征分支直接到主分支</li><li id="a689" class="mv mw iu lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated">每次冲刺后的发布</li></ul><h1 id="cf89" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">分支</h1><p id="41fa" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">在发布流程中，我们有两种类型的分支。</p><ol class=""><li id="30ff" class="mv mw iu lb b lc ld lf lg li no lm np lq nq lu nr nd ne nf bi translated">长寿树枝</li><li id="9c6b" class="mv mw iu lb b lc ng lf nh li ni lm nj lq nk lu nr nd ne nf bi translated">短寿命分支</li></ol></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h1 id="91f7" class="md me iu bd mf mg nz mi mj mk oa mm mn ka ob kb mp kd oc ke mr kg od kh mt mu bi translated">1.长寿树枝</h1><p id="0142" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">git发布流程中的长期分支是<code class="fe oe of og oh b">main</code>或<code class="fe oe of og oh b">master</code>分支。每个功能、修补程序或发布分支都将从主分支中创建。此外，这些分支将通过一个拉请求合并到主分支中。</p><p id="f5a6" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">假设您需要部署不同的环境，但是这些环境不同于生产版本。在后端或前端应用程序中引入特性标志是一个好主意。</p></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h1 id="ed74" class="md me iu bd mf mg nz mi mj mk oa mm mn ka ob kb mp kd oc ke mr kg od kh mt mu bi translated">2.短寿命分支</h1><p id="e30b" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">这些短期分支看起来类似于git-flow。但在这种情况下，我们只有3个。</p><ol class=""><li id="baa3" class="mv mw iu lb b lc ld lf lg li no lm np lq nq lu nr nd ne nf bi translated">特征</li><li id="1a76" class="mv mw iu lb b lc ng lf nh li ni lm nj lq nk lu nr nd ne nf bi translated">修补程序</li><li id="aa84" class="mv mw iu lb b lc ng lf nh li ni lm nj lq nk lu nr nd ne nf bi translated">释放；排放；发布</li></ol></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h2 id="17be" class="oi me iu bd mf oj ok dn mj ol om dp mn li on oo mp lm op oq mr lq or os mt ot bi translated">2.1功能</h2><p id="e7de" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">每当一个开发者需要创建一个新的特性时，就会有一个分支<code class="fe oe of og oh b">feature/{PBI-number}-descriptive-name</code>。(<em class="ly"> PBI =产品Backlog Item </em>)在开发阶段，需要定期与主分支更新，防止不同步。</p><p id="9c62" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">当特性被开发和测试时，在所有注释被解决之后，一个拉请求将被创建并合并到主分支中。</p></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h2 id="d5dd" class="oi me iu bd mf oj ok dn mj ol om dp mn li on oo mp lm op oq mr lq or os mt ot bi translated">2.2修补程序</h2><p id="82ec" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">构建不引入bug的软件是一个梦想，所以bug要尽快修复。</p><p id="82a5" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在scrum板上尽可能好地描述了bug之后，就创建了一个热修复分支。hotfix分支将看起来像这个<code class="fe oe of og oh b">hotfix/{PBI-number}-descriptive-name</code>，并且将通过一个pull请求合并回主分支。因此，所有未来的版本也会得到该缺陷修复。</p></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h2 id="edd9" class="oi me iu bd mf oj ok dn mj ol om dp mn li on oo mp lm op oq mr lq or os mt ot bi translated">2.3发布</h2><p id="7ca0" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">在每个sprint的末尾，都会有一个新的发布分支，就像这个` release/{ prefix }-{ sprint-number }。这个分支是从主分支创建的，并部署到生产环境中。</p><p id="403b" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">比如sprint 29结束了。我们创建一个分支<code class="fe oe of og oh b">release/sprint-29</code>。该分支将被部署到生产中。几周后，我们完成了sprint 30。我们做一个分支<code class="fe oe of og oh b">release/sprint-30</code>。将这个分支部署到生产环境中，如果需要的话，删除以前的发布分支。这样可以保持树枝干净。</p></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h2 id="76b5" class="oi me iu bd mf oj ok dn mj ol om dp mn li on oo mp lm op oq mr lq or os mt ot bi translated">2.4生产中的高优先级错误</h2><p id="03f0" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">有时我们在生产中会遇到严重的问题。如果我们需要修复它，我们可以创建一个修复分支。通过主分支机构的拉取请求进行合并。在合并之后，我们可以创建一个拉请求，并将其合并到发布分支中。</p><p id="2b28" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">通过这种方式，我们确保我们的主分支总是有错误修正。</p></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h1 id="65c3" class="md me iu bd mf mg nz mi mj mk oa mm mn ka ob kb mp kd oc ke mr kg od kh mt mu bi translated">承诺</h1><p id="fd14" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">以获得更多正在开发和发布的工作的跟踪信息。必须有明确的提交消息，其中包括对PBI或任务的引用。例如，在下面的提交消息中(用000000代替PBI或任务号)。</p><pre class="kk kl km kn gu ou oh ov ow aw ox bi"><span id="469d" class="oi me iu oh b gz oy oz l pa pb">Changed the if statement to conditionally load a new feature on test environment #000000</span></pre><p id="2252" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果你使用Azure DevOps，你会在开发标题下面看到参考。Github也有和这个一样的功能。</p></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h1 id="cb35" class="md me iu bd mf mg nz mi mj mk oa mm mn ka ob kb mp kd oc ke mr kg od kh mt mu bi translated">不同的环境</h1><p id="4e81" class="pw-post-body-paragraph kz la iu lb b lc mx jv le lf my jy lh li nl lk ll lm nm lo lp lq nn ls lt lu in bi translated">许多公司出于多种目的使用不同的环境。不要试图通过发布多种版本来解决这个问题。尝试通过创建功能标志在代码中解决这个问题。</p><p id="1ea8" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">例如，通过特性标志，您可以确保在测试环境中，打开一个新开发的特性，而生产用户还不能看到它。</p><h1 id="d581" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">谢谢！</h1><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj pc"><img src="../Images/2bd571bb1ce9f466ae279fa98111b086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7pa1RpRxXqdkgYAJ"/></div></figure><p id="6169" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">读完这个故事后，我希望你学到了一些新的东西，或者受到启发去创造一些新的东西！🤗</p><p id="dc24" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果我给你留下了问题或一些要说的话作为回应，向下滚动并给我键入一条消息。如果你想保密，请在Twitter @DevByRayRay 上给我发一条<a class="ae mc" href="https://twitter.com/@devbyrayray" rel="noopener ugc nofollow" target="_blank"> DM。我的DM永远是开放的😁</a></p></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><p id="2ca9" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><a class="ae mc" href="https://byrayray.medium.com/subscribe" rel="noopener"> <strong class="lb iv">通过电子邮件获取我的文章点击这里</strong> </a> <strong class="lb iv"> | </strong> <a class="ae mc" href="https://byrayray.medium.com/membership" rel="noopener"> <strong class="lb iv">购买5美元中等会员</strong> </a></p></div><div class="ab cl ns nt hy nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="in io ip iq ir"><h1 id="7b53" class="md me iu bd mf mg nz mi mj mk oa mm mn ka ob kb mp kd oc ke mr kg od kh mt mu bi translated">阅读更多</h1><div class="pd pe gq gs pf"><div role="button" tabindex="0" class="ab bv gw cb fq pg ph bn pi kt ex"><div class="pj l"><div class="ab q"><div class="l di"><img alt="RayRay" class="l de bw pk pl fe" src="../Images/992af170033696163d6cc0269218aedd.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*1fUwrIRcFq3paK71SLifMw.png"/><div class="fb bw l pk pl fc n aw fd"/></div><div class="hi l fp"><p class="bd b dl z fq fr fs ft fu fv fw fx dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://byrayray.medium.com/?source=post_page-----1d036539ac44--------------------------------" rel="noopener follow" target="_top">雷雷</a></p></div></div><div class="po pp gx l"><h2 class="bd iv ut mv fq uu fs ft uv fv fx it bi translated">饭桶</h2></div><div class="ab q"><div class="l fp"><a class="bd b be z bi uw au ux uy uz ri va an eh ei vb vc vd el em eo de bk ep" href="https://byrayray.medium.com/list/git-3319a5048fc7?source=post_page-----1d036539ac44--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="ve l fp"><span class="bd b dl z dk">5 stories</span></div></div></div><div class="qb dh qc fq ab qd fp di"><div class="di pt bv pu pv"><div class="dh l"><img alt="" class="dh" src="../Images/7ca97c51974e30237941152cd1dfe2dc.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*3KRHv1owvEzpW7gMewe8Iw.png"/></div></div><div class="di pt bv pw px py"><div class="dh l"><img alt="" class="dh" src="../Images/e585d08a1ecbbe11fefdab3711be3048.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*akdfCnzi1rRhgp-wy4EOsA.png"/></div></div><div class="di bv pz qa py"><div class="dh l"><img alt="" class="dh" src="../Images/e3b14c614352ecb18dec8a504574e810.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*f3D8HRoJx4eYRNp5D1HAiw.png"/></div></div></div></div></div></div></div>    
</body>
</html>