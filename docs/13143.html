<html>
<head>
<title>Understanding SwiftUI’s ViewThatFits container</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解适合容器的SwiftUI视图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understanding-swiftuis-viewthatfits-container-e69d4c7e61e4?source=collection_archive---------18-----------------------#2022-08-01">https://betterprogramming.pub/understanding-swiftuis-viewthatfits-container-e69d4c7e61e4?source=collection_archive---------18-----------------------#2022-08-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4efa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习使用SwiftUI的适合容器的视图构建自适应布局。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a709b51ff619078105f3acc97dacb041.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8Wz7Kpdsrldns3CX"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">埃里克·卡里姆·科内利斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="4b8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从iOS 16开始，SwiftUI提供了一个适合的新布局容器<em class="lv">视图，帮助我们构建适应性布局。</em></p><p id="3340" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">容器允许我们提供多个视图，同时自动选择第一个适合可用空间的视图。</p><p id="d401" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们直接看一个例子，看看容器如何给我们带来好处。</p><p id="945b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们得到了一个想要显示在彼此下面的消息列表。如果一条消息适合一行，我们就显示它。如果不合适，我们只想显示消息的一部分和一个打开完整消息的按钮。大概是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ma"><img src="../Images/9a825c6dc186c1032e8a541536213c92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1zJ05aU_jV9WjBJa.png"/></div></div></figure><p id="e0e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在上面看到的，第一条消息适合可用空间，所以我们不需要按钮。第二行只显示了消息的一部分，并带有一个显示完整消息的按钮。</p><p id="e615" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了达到这个结果，<code class="fe lw lx ly lz b">ViewThatFits</code>容器就派上了用场。我们只需要提供两个不同的视图，一个只包含文本，另一个包含文本和按钮。<code class="fe lw lx ly lz b">ViewThatFits</code>容器会自动为我们挑选合适的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="5191" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如上例所示，我们为<code class="fe lw lx ly lz b">ViewThatFits</code>容器提供了两个视图，一个文本视图和一个包含文本和按钮视图的<code class="fe lw lx ly lz b">HStack</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="f2e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为第一步，<code class="fe lw lx ly lz b">ViewThatFits</code>容器检查文本视图是否适合其父容器。由于第一条消息是合适的，所以在显示消息时就到此为止了。</p><p id="22b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，通过应用<code class="fe lw lx ly lz b">fixedSize</code>修饰符，我们告诉文本视图不要换行或截断。</p><p id="a053" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当更长的第二条消息进来时——这不合适——<code class="fe lw lx ly lz b">ViewThatFits</code>容器转到我们提供的下一个视图，HStack。<code class="fe lw lx ly lz b">HStack</code>的内容被设计为总是适合的，因为文本现在允许被截断，所以容器选择那个视图，并在按钮旁边向用户显示被截断的文本。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="bb44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">原载于</em><a class="ae ky" href="https://tanaschita.com/20220627-understanding-swiftuis-viewthatfits-container" rel="noopener ugc nofollow" target="_blank"><em class="lv">https://tanaschita.com</em></a><em class="lv">。</em></p></div></div>    
</body>
</html>