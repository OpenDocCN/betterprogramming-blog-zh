<html>
<head>
<title>Functional vs Object-Oriented Programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">函数式编程与面向对象编程</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/functional-vs-object-oriented-programming-e5939c8105ff?source=collection_archive---------1-----------------------#2019-08-13">https://betterprogramming.pub/functional-vs-object-oriented-programming-e5939c8105ff?source=collection_archive---------1-----------------------#2019-08-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f368" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何确定何时何地使用每种方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a41aae5aaedcf88984c9b1f2d439f86f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*unQOXscTVbV16EvNeK_Z4A.gif"/></div></div></figure><p id="37cc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">关于首选语言的争论(C++对Java，JavaScript对Ruby，等等。)在编程社区中一直很流行，然而，程序员们不仅仅在语言上有分歧。关于哪种编写代码的风格更优有很多争论:面向对象还是函数式编程。虽然OOP是目前最流行的编程设计，但许多人甚至没有听说过函数式编程。我们将解释面向对象和函数式编程之间的根本区别，并描述每种风格的优缺点。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="0b6a" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated"><strong class="ak">什么是面向对象编程？</strong></h1><p id="e665" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">OOP是过程化编程，它使用类将代码和数据组合在一起，以实现可重用性和简单性。通过将程序分成几个类，可以更容易地单独修改程序的各个部分。每个类都是一种对象类型的模板或该类的一个实例。当将方法放入不同的类中时，每个类的实例可以很容易地被修改、替换和重用。然而，对于较大的数据集，变更类实例会变得复杂，因为很难跟踪每个实例在哪里被更改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/96588c5ba297e421839bc7adf9f58700.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*brrcAJ52x4kN3m1Vu7ohnQ.png"/></div></div><p class="mv mw gj gh gi mx my bd b be z dk translated"><em class="mz">通过在类中实现方法，很容易改变类的实例。(JavaScript) </em></p></figure><h2 id="d7ec" class="na ly it bd lz nb nc dn md nd ne dp mh ld nf ng mj lh nh ni ml ll nj nk mn nl bi translated"><strong class="ak">OOP的优势</strong></h2><p id="55f4" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">自从20世纪80年代开始流行以来，面向对象已经成为软件工程的主要设计概念。Java、C++、Python和Ruby是最常用的OOP语言，但是还有100多种其他编程语言支持OOP。这些语言已经被用来开发一些历史上最广泛使用的程序。Gmail和《我的世界》是用Java写的，Instagram和Spotify是用Python写的，Windows和OSX是用C &amp; C++写的。我们将讨论使OOP成为流行设计策略的四个重要概念:直觉问题解决、封装、继承和多态。</p><p id="d978" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">直觉解决问题</strong></p><p id="a13f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">程序员喜欢OOP，因为它易于学习和概念化。OOP将类放在父类及其子类的层次结构中。人类以类似的等级方式组织事物。例如，车辆是移动东西的东西。汽车是在道路上行驶的交通工具。混合动力车是一种除了使用汽油还使用电力的汽车。普锐斯是丰田生产的五座混合动力车。请注意，在每个句子中，我们使用先前定义的对象来帮助概念化新的、更具体的对象。简而言之，OOP对我们来说是有意义的。</p><p id="508d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">继承</strong></p><p id="7d3d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">大概使用OOP最大的好处就是继承，或者说重用代码。回到普锐斯的例子，假设你是一家汽车制造商。如果你想从生产普锐斯转向本田Insight，你不必研究如何制造汽车、轿车或混合动力车。为什么？你可以带着你的制作和工作蓝图，而不是从零开始。在OOP中，类相当于蓝图。你可以继承一个包含你需要的任何方法或属性的类(或者一个混合体)，然后在它上面添加新的特性(Prius，Insight)，而不是从头开始每一个程序。继承类使你的代码保持干爽(不要重复)并节省你大量的时间。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/7528ce6b951906e5e90bc94231ec10e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cfE-n4neaHnh3Lb_3gmaXQ.png"/></div></div><p class="mv mw gj gh gi mx my bd b be z dk translated"><em class="mz">混合类继承了所有的汽车类方法，同时保持对自己的类方法的访问。(JavaScript) </em></p></figure><p id="b4f3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">封装</strong></p><p id="022f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">OOP允许我们创建某个类的对象。许多OOP编程语言都有一种防止外部访问变量的方法，迫使程序员只能通过特定的方法与类进行交互。这允许我们将我们的实现隐藏在一个接口后面(保护对象免受程序员的错误),并通过这些行为良好的接口与程序的其他部分进行交互。除了提供这种安全性之外，封装还有助于我们编写易于更改和维护的灵活代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ca"><img src="../Images/0726b51fbdcda8043299a501f359eb56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZViOwK8EiI4JpjwAiZ1RCA.png"/></div></div><p class="mv mw gj gh gi mx my bd b be z dk translated"><em class="mz">封装防止对象属性被直接修改。(红宝石)</em></p></figure><p id="504d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">多态性</strong></p><p id="118a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">多态性的字面定义是以几种不同形式出现的情况。在面向对象程序设计中，多态性是指一个变量、函数或对象具有多种形式和多种行为的能力。这允许我们以类似于继承的方式重用代码。回到我们之前的例子，假设我们有一个带有方法<code class="fe nn no np nq b">move</code>的vehicle类。vehicle的所有子类都可以重用这个方法<code class="fe nn no np nq b">move</code> <em class="nr"> </em>但是行为不同。汽车子类将开始旋转它的轮子，船子类将开始旋转它的螺旋桨，飞机子类将开始旋转它的涡轮。这减少了开发人员的工作，因为他们现在可以创建一个具有特定行为的通用类，并在需要更具体的东西时对子类进行小的修改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/76fe5374c51e2d27fd989470bd8a6227.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xEP9Ww2QOI8OL9V0jHKgsg.png"/></div></div><p class="mv mw gj gh gi mx my bd b be z dk translated">多态性允许我们在不同的功能(C++)中重用move()</p></figure><p id="c4ca" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在我们用于网络的动态语言中，这种行为是某种内置的。接受“类似车辆”的物体的功能已经表现出多形态，旋转汽车的轮子和船的螺旋桨。在其他语言中，多态性同样重要，但需要显式实现。</p><p id="c7f2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果没有OOP，实现这种多态性会变得非常难看。模拟它的“简单”方法通常包括跟踪类型，并在需要多态的地方编写if语句<em class="nr">。随着多态性“级别”的增加，其他不使用OOP实现多态性的常见方法变得越来越复杂。</em></p><h2 id="d777" class="na ly it bd lz nb nc dn md nd ne dp mh ld nf ng mj lh nh ni ml ll nj nk mn nl bi translated">面向对象的缺点</h2><p id="fd3d" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">虽然OOP是最流行的程序设计，但是开发人员确实遇到了一些问题。在许多情况下，OOP的优势伴随着副作用和额外的负担。在这一节中，我们将讨论这些负担以及它们如何影响程序。</p><p id="ccbe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">猴子香蕉问题</strong></p><p id="8414" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">继承是OOP中最重要的概念之一。它通过将对象或类基于其他对象并实现父类中定义的方法，允许代码的重用。通过继承来重用代码减少了冗余代码，并使OOP编程看起来很容易，这应该是每种编程语言的一部分。但是就像生活中的所有事情一样，继承也会带来权衡。ERLANG语言的创造者乔·阿姆斯特朗对这个主要问题提出了著名的观点。</p><blockquote class="nt"><p id="7f50" class="nu nv it bd nw nx ny nz oa ob oc lp dk translated">你想要一根香蕉，但你得到的是一只大猩猩拿着香蕉和整个丛林。</p></blockquote><p id="926d" class="pw-post-body-paragraph ku kv it kw b kx od ju kz la oe jx lc ld of lf lg lh og lj lk ll oh ln lo lp im bi translated">OOP中的类可能是深度嵌套的，这意味着它们有一长串依赖的父类。当继承一个深度嵌套的类时，还必须继承它的父类、该父类的父类以及该父类的父类，依此类推。只有继承了所有必需的父类，程序才能编译。对此的一个解决方案是避免编写深度嵌套的类，但是这会降低继承带来的可重用性。</p><p id="bd27" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">封装问题</strong></p><p id="2fb6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">继承在父类和子类之间创建了一些依赖关系。如果不打开父类，就很难理解子类中发生了什么。此外，子类可以访问父类方法，并可能覆盖这些方法。封装是为了防止对象变量被子类修改。Javascript中的父类构造函数制作对象的深层副本，然后通过引用传递它。制作每个父类的副本会降低程序的效率。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="cfb4" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">什么是函数式编程？</h1><p id="3877" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">函数式编程类似于“纯”数学函数。函数式程序不是指定一个过程来解决一个问题，而是在不使用“状态”的情况下组合函数来产生期望的结果。对这些功能及其关系的评估比对象和关系重要得多。函数式编程也很少使用变量。变量依赖于状态，状态根据程序过去的路径而改变。一旦涉及到状态，函数就不能被孤立地评估——使得它不再是纯粹的<em class="nr">。</em></p><h2 id="52be" class="na ly it bd lz nb nc dn md nd ne dp mh ld nf ng mj lh nh ni ml ll nj nk mn nl bi translated">函数式编程的优势</h2><p id="7ade" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">令人惊讶的是，函数式编程也有许多与OOP相同的好处。许多这些优势都没有OOP带来的负担。</p><p id="8815" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">消除种族制约</strong></p><p id="c9d5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当两个不同的功能依赖于一个公共资源时，就存在竞争情况。当事件的发生顺序与程序员的预期不同时，就会出现故障。从API获取数据时可能会出现这种情况。例如，假设你有一个方法<code class="fe nn no np nq b">displayData(data)</code>使用来自API的<code class="fe nn no np nq b">data</code>和另一个方法<code class="fe nn no np nq b">retrieveData()</code> <em class="nr"> </em>获取它。如果您运行<code class="fe nn no np nq b">displayData(retrieveData())</code> <em class="nr">，</em>获取可能无法及时完成，并且<code class="fe nn no np nq b">displayData</code>将尝试在<code class="fe nn no np nq b">retrieveData</code> <em class="nr"> </em>完成之前运行，从而导致错误。函数式程序不会以这种方式共享资源和创建依赖关系，从而完全避免了竞争条件。</p><p id="32a4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">多态性</strong></p><p id="2e96" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">等等，多态性不是应该是OOP的一个优势吗？是的，它仍然是，但事实是你不需要使用OOP来实现多态性。接口会给你这些，而不需要所有的猴子、香蕉和面向对象的丛林。</p><p id="6081" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">简单调试</strong></p><p id="412e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">函数式编程中的函数是<em class="nr">‘纯’</em>，即给定相同的输入，你期望相同的输出。功能方法强调提供一项功能的简单功能。更大的任务被模块化成多个更简单的功能。理论上，缺少状态使得调试这些程序容易得多。</p><p id="0223" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">可重用性</strong></p><p id="b8ed" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">用乔·阿姆斯特朗的话说:</p><blockquote class="nt"><p id="f578" class="nu nv it bd nw nx ny nz oa ob oc lp dk translated">“如果你有引用透明的代码，如果你有纯函数——所有的数据都以输入参数的形式出现，所有的数据都被输出，没有留下任何状态——这是难以置信的可重用性。”</p></blockquote><p id="1ca0" class="pw-post-body-paragraph ku kv it kw b kx od ju kz la oe jx lc ld of lf lg lh og lj lk ll oh ln lo lp im bi translated">因为每个函数都是纯函数，所以可以重用它们而不必担心状态。在面向对象程序设计中，类的状态可能会改变，不管是有意的还是无意的，并影响实例或类方法的结果。</p><h2 id="7a76" class="na ly it bd lz nb nc dn md nd ne dp mh ld nf ng mj lh nh ni ml ll nj nk mn nl bi translated"><strong class="ak">功能编程的缺点</strong></h2><p id="39f2" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">你不能把函数式编程的缺点分成不同的类别。函数式编程的一个主要问题很简单:很难。因为我们没有OOP自带的结构和组织，编写和阅读复杂的函数式程序相当困难。当函数式编程的爱好者声称它比面向对象编程更容易调试，更可重用时，你必须半信半疑。虽然纯函数不依赖于状态，但它们仍然会变得复杂、难以理解和调试。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="b6c0" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">结论</h1><p id="1d8e" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">显然，在OOP和函数式编程之间选择一方并不容易。好消息是，你不必这样做。您唯一需要确定的是在哪里使用每种方法。一些程序用面向对象的设计可能更好，而另一些程序用功能设计可能更好。有些程序结合使用两者可能会更好。作为一名程序员，做出这些选择是你的工作。希望你现在能做出明智的选择。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/c2156090ef395470e40d2ab7813bf2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*s5FUtoWDPvWr8ThyN5QIUA.jpeg"/></div></figure><p id="f899" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">作者:托马斯·恩奎斯特、哈珀·哥特拉和亚历山大·里奇奥</p></div></div>    
</body>
</html>