<html>
<head>
<title>Too Many If-Elif Conditions in Python? Use Dictionaries Instead</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中If-Elif条件太多？请改用字典</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/too-many-if-elif-conditions-in-python-use-dictionaries-instead-5486299af27e?source=collection_archive---------2-----------------------#2021-06-22">https://betterprogramming.pub/too-many-if-elif-conditions-in-python-use-dictionaries-instead-5486299af27e?source=collection_archive---------2-----------------------#2021-06-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ce7f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python字典清理代码的一种非常规方式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e8861ccd02041096269f32359b200316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8UXMsvEwD105KMKw"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡尔·牛顿在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="3c83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我想分享一个快速但有用的技巧，我从未在关于Python字典的文章中看到过。我经常使用它。</p><p id="c4a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你已经熟悉Python字典，你可以直接跳到第二部分(尽管评论从来都不是坏事)。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9607" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.Python词典</h1><p id="9cee" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">字典是一组无序的术语和定义。在Python中，我们用花括号来定义它们。下面是字典的一个例子:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="3229" class="ne md it na b gy nf ng l nh ni">me_dict = {<br/>    "name": "Tommaso",<br/>    "medium_handle": "tdep",<br/>    "github_handle": "heytdep"<br/>}</span></pre><p id="54d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，有一个标识符或键(例如<code class="fe nj nk nl na b">"name”</code>)和一个定义或值(例如<code class="fe nj nk nl na b">"Tommaso”</code>)。它们的行为就像数据库返回给定键的值。</p><p id="d364" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nm">注意:虽然字典最初看起来与JSON格式相似，但是记住这两者是完全不同的。JSON是一种数据格式(字符串)，而字典是一种数据结构。</em></p><p id="f096" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码示例中，如果我想为我的<code class="fe nj nk nl na b">name</code>获取<em class="nm">值</em>，我会做如下操作:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="0c2e" class="ne md it na b gy nf ng l nh ni">&gt;&gt;&gt; me_dict.get("name")<br/>'Tommaso'</span></pre><p id="8ebf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者如果我想得到我的<code class="fe nj nk nl na b">medium_handle</code>，我会这样做:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="0a18" class="ne md it na b gy nf ng l nh ni">&gt;&gt;&gt; me_dict.get("medium_handle")<br/>'tdep'</span></pre><p id="c11c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，您可以使用方括号(<code class="fe nj nk nl na b">[]</code>)来访问字典中的数据:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="80cb" class="ne md it na b gy nf ng l nh ni">&gt;&gt;&gt; me_dict["medium_handle"]<br/>'tdep'</span></pre><p id="4460" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，更好的做法是使用<code class="fe nj nk nl na b">get()</code>方法，因为它可以处理键错误:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1080" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.字典&gt;(许多)if语句</h1><p id="d5d4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">听我说完:你是否曾经遇到过有很多<code class="fe nj nk nl na b">if</code>陈述的情况？</p><p id="1f0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，我有。我从中学到了一些东西。</p><p id="db16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您有一个问题需要解决:给定用户输入，如果该输入匹配某个值，则执行一些代码。考虑到有许多输入情况。</p><p id="19f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一些程序员最初会想到的(除了代码中有十个或更多的语句，而不是四种情况):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="1c7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">诸如此类。嗯，那是个相当糟糕的主意。这不仅消耗内存(尽管使用了<code class="fe nj nk nl na b">elif</code>语句来“阻止”)，而且在代码可读性方面也很差。</p><p id="4e65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是Python字典派上用场的地方:它们存储<em class="nm">引用，</em>意味着它们也可以存储对函数的引用。</p><p id="61e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将完成工作:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="4f40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它确实看起来更长，但是当处理大量案例时，它写起来更快，更好看，并且更节省内存。</p><p id="e23a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，在<code class="fe nj nk nl na b">colors_dict</code>字典中，我们为每个术语引用了一个特定的函数。记住不要包括圆括号。你实际上并不想调用这个函数，而是想引用它。</p><p id="9dae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，使用用户输入来引用其中一个函数，我们用用户输入作为<code class="fe nj nk nl na b">color</code>参数来调用它。</p><p id="5dec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">忘了说上面的代码挺没用的，但是应该能帮你抓住重点。</p><p id="50fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行它:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="31bf" class="ne md it na b gy nf ng l nh ni">&gt;? blue<br/>blue 1</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="317e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="2521" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">就是这样！一个简单而快速的技巧，你现在就可以开始使用，去除代码中许多嘈杂的<code class="fe nj nk nl na b">if</code>语句。</p></div></div>    
</body>
</html>