<html>
<head>
<title>Flutter + Flame: An Introduction To Making Games With Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤动+火焰:用颤动制作游戏入门</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/flutter-flame-intro-to-making-games-with-flutter-c4f5b2209a34?source=collection_archive---------10-----------------------#2022-03-15">https://betterprogramming.pub/flutter-flame-intro-to-making-games-with-flutter-c4f5b2209a34?source=collection_archive---------10-----------------------#2022-03-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3304" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">这听起来好得令人难以置信，对吗？如果我告诉你不是呢。不相信我？别走远，你会看到的。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c5940f0bffe23ea4886c18e0289d25dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*13ysA8s_qY60y3r8"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">安德烈·梅特列夫在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="7247" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="ef1c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">先说这里的真题，为什么会有人想在Flutter里做游戏？有很多成熟的游戏引擎，如Unity、Unreal Engine、Godot等，它们在这方面做得很好，那么为什么有人想在Flutter中开发游戏呢？</p><p id="8460" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我将开门见山地说，你将不能在Flutter中制作AAA游戏(至少现在不能),但你可以在使用你最喜欢的编程语言Dart的同时，用出色的性能和所有这些好东西来制作好的2D游戏。因此，回答这个问题，它只是为了好玩，或者可能在所有平台上获得大量观众，这取决于你有多认真。</p><p id="429b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">你将能够像你创建的任何其他Flutter应用程序一样为所有平台导出游戏。火焰已经有了稳定的版本(<a class="ae kv" href="https://docs.flame-engine.org/1.0.0/" rel="noopener ugc nofollow" target="_blank"> v.1.0.0 </a>)，并准备好了生产应用。他们提供了一个2D游戏引擎，以及2D物理、音频、动画等等(注意不是所有的组件都已经可以生产了，查看详情<a class="ae kv" href="https://pub.dev/publishers/flame-engine.org/packages" rel="noopener ugc nofollow" target="_blank">这里</a>)。</p><h1 id="755d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">了解火焰</h1><p id="eda6" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">到目前为止，我在创作第一个游戏时的经历既令人惊奇又令人困惑。Flame有一个名为<strong class="lq ir">的组件</strong>，类似于Flutter组件，因此来回切换以了解何时何地使用什么可能会很麻烦。</p><p id="2f01" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">也就是说，<em class="mp">这并不意味着它们是可以互换的，你不能把火焰组件直接放在一个颤动的树里面，反之亦然！</em>要将一个火焰组件放到Flutter小部件树中，我们必须使用一个名为<em class="mp"> GameWidget </em>的“桥接”小部件。</p><p id="3958" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我只能说，这不一样！有时你需要打破规则，跟随你的直觉，而其他时候你只需要重构你所做的。这仍然是一个新的未知领域，所以我们需要一些时间来适应它！但是伙计，就像开发一个普通的应用程序一样，开发速度非常快(特别是如果我把它与Unity或Unreal相比，后者要慢得多)。</p><p id="b4ee" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我构建了一个简单的气球popper游戏，有背景图像、不同的气球类型、背景音乐、气球流行效果，并且在不到一天的时间内完成了分数，对Flames engine没有任何经验。(PS。抱歉粉红猪小妹主题，这游戏是我给儿子做的)。如果你对代码的外观感兴趣，可以在这里<a class="ae kv" href="https://github.com/dbacic/flutter-flame-balloon-popper" rel="noopener ugc nofollow" target="_blank">亲自看看。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/c0dd685f86bb0a2e567a15604afa53b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/1*TDC48yjb0r9834YbgTrHfQ.gif"/></div></figure><h1 id="d254" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">挑战</h1><p id="0ead" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我在开发这款游戏时遇到的一个挑战是，不要以一个狂热的开发者的身份思考，而要以一个游戏/应用混合开发者的身份思考。</p><p id="d7da" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">添加背景很容易，你只需要使用一个sprite组件，设置它的大小和优先级，这样它就不会出现在其他元素的前面，但是我花了一些时间来找出合适的图像大小和位置。</p><p id="fa4e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在另一边使用Flames <code class="fe mr ms mt mu b">Bloc</code> <strong class="lq ir"> </strong>实现是完全不同的，感觉很粗糙。当使用<a class="ae kv" href="https://pub.dev/packages/flutter_bloc" rel="noopener ugc nofollow" target="_blank">颤动阻挡</a>时，您可以使用<code class="fe mr ms mt mu b">BlocProvider</code>提供肘/阻挡，这与火焰阻挡相同。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="80bd" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">当使用cubit/bloc时，引用是通过调用小部件中的<code class="fe mr ms mt mu b">context.read()</code>方法获得的，而在Flame中，它需要有对<code class="fe mr ms mt mu b">FlameBlocGame</code>的引用(在组件中，这是通过扩展<code class="fe mr ms mt mu b"><a class="ae kv" href="https://pub.dev/documentation/flame/latest/components/HasGameRef-mixin.html" rel="noopener ugc nofollow" target="_blank">HasGameRef</a></code> <a class="ae kv" href="https://pub.dev/documentation/flame/latest/components/HasGameRef-mixin.html" rel="noopener ugc nofollow" target="_blank"> </a> mixin) <em class="mp">来实现的)。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="f87a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">监听变化需要扩展mixin <code class="fe mr ms mt mu b">BlocComponent</code>并覆盖一旦状态变化就调用的<code class="fe mr ms mt mu b">onNewState</code> <em class="mp"> </em>方法<em class="mp"> </em>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mv mw l"/></div></figure><p id="cacd" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Flame在<a class="ae kv" href="https://github.com/flame-engine/flame" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上有很好的文档和例子，我只是希望它能更多地关注新来者，而不是从一开始就在那里的老手。总之，这是一次愉快的经历，我相信旋舞和火焰有一个美好的未来！</p><p id="53cf" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在下一篇文章中，我将关注如何在火焰中创建一个Flappy Bird克隆体。</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><p id="3f2e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢阅读。</p></div></div>    
</body>
</html>