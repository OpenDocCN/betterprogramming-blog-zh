<html>
<head>
<title>15 Kafka CLI Commands For Everyday Programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于日常编程的15个Kafka CLI命令</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/kafka-cli-commands-1a135a4ae1bd?source=collection_archive---------1-----------------------#2022-03-16">https://betterprogramming.pub/kafka-cli-commands-1a135a4ae1bd?source=collection_archive---------1-----------------------#2022-03-16</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="6296" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">演示最常用的Kafka命令行界面命令的使用</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/19d2a61d963a0ef0b82298d85cc9d54a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RpyIfQ1l_-sxXScDgXynbg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">布莱克·康纳利在<a class="ae kz" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="c3fa" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">介绍</h1><p id="f888" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Apache Kafka是促进均匀流架构的最常用技术之一。尽管经常被视为仅仅是一个消息代理人(比如RabbitMQ)，Kafka绝对不仅仅是这样。</p><p id="6cb1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">Kafka是LinkedIn的一个内部项目，于2011年开源，并迅速从一个消息代理演变为一个完整的平台，以高度可扩展、容错的分布式方式实现流媒体。</p><p id="72c1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在今天的文章中，我们将浏览Kafka命令行界面中一些最常用的命令。请确保将本教程加入书签，因为在Kafka集群上执行某些管理任务时，您可能需要经常引用某些部分。</p><h1 id="0426" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">1.如何列出Kafka集群中的所有主题</h1><p id="8402" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">如果您想要列出特定代理中包含的主题，下面的命令将会达到目的:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="507d" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>  --bootstrap-server localhost:9092 \<br/>  --list</span></pre><p id="8394" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">请注意，在旧版本中，您也可以使用Zookeeper端点，如下所示:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="6764" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>  --zookeeper localhost:2181 \<br/>  --list</span></pre><p id="6f53" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">由于最近的Kafka版本将删除Zookeeper依赖，我建议使用第一个命令。</p><p id="7129" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">最后，如果您想列出整个集群的主题，那么请确保将所有代理都包含在<code class="fe nd ne nf mu b">--bootstrap-server</code>中:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="3629" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>  --bootstrap-server localhost:9092,localhost:9093,localhost:9094 \<br/>  --list</span></pre><h1 id="5983" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">2.如何删除卡夫卡的一个话题</h1><p id="0193" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">为了从集群中删除主题，您需要传递<code class="fe nd ne nf mu b">--delete</code>标志以及代理和要删除的主题名称。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="935c" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>   --bootstrap-server localhost:9092,localhost:9093,localhost:9094 \<br/>   --delete \<br/>   --topic topic_for_deletion</span></pre><h1 id="e698" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">3.使用正则表达式从Kafka中删除多个主题</h1><p id="a83a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">当从Kafka brokers中删除主题时，您甚至可以指定类似regex的表达式，以便一次删除多个主题。例如，假设我们想要删除所有以前缀<code class="fe nd ne nf mu b">test-</code>开头的主题。以下命令应该可以解决问题:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="ff1e" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>    --bootstrap-server localhost:9092,localhost:9093,localhost:9094 <br/>    --delete \<br/>    --topic 'test-.*'</span></pre><h1 id="03e4" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">4.如何创造一个卡夫卡主题</h1><p id="bead" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在，如果你想创建一个新的主题，你可以简单地使用<code class="fe nd ne nf mu b">kafka-topics</code> runner的<code class="fe nd ne nf mu b">--create</code>选项。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="a1c9" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>  --bootstrap-server localhost:9092 \<br/>  --create \<br/>  --topic topic-name</span></pre><p id="8a9a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">请注意，在创建主题时，您可以提供一些额外的配置选项，例如分区数量和/或复制因子。例如，为了创建一个包含三个分区、复制因子为2的主题，下面的命令就可以完成:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="f09d" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>  --bootstrap-server localhost:9092 \<br/>  --create \<br/>  --topic topic-name \<br/>  --partitions 3 \<br/>  --replication-factor 2</span></pre><h1 id="4764" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">5.获取Kafka主题的详细信息(分区计数、副本等。)</h1><p id="bc8e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">如果您想要检索特定主题的配置细节，您可以使用带有<code class="fe nd ne nf mu b">kafka-topics</code> runner的<code class="fe nd ne nf mu b">--describe</code>选项。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="733f" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>  --bootstrap-server localhost:9092 \<br/>  --describe \<br/>  --topic topic-name</span></pre><p id="68fc" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">该命令的输出将为您提供诸如分区数量、复制因子、前导、副本和ISR以及附加配置(如保留期，如果缺省值已更改)等信息。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="eca4" class="my lb iu mu b gz mz na l nb nc">Topic:topic-name  PartitionCount:1    ReplicationFactor:1 Configs:<br/>    Topic: topic-name Partition: 0    Leader: 0   Replicas: 0 Isr: 0</span></pre><h1 id="6b91" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">6.如何为一个卡夫卡主题产生数据</h1><p id="1d6a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在让我们来看看数据生成。为了生成特定主题的一些数据，您所需要的就是<code class="fe nd ne nf mu b">kafka-console-consumer</code>跑步者:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="50e2" class="my lb iu mu b gz mz na l nb nc">$ <!-- -->kafka-console-producer \ <br/>  --bootstrap-server localhost:9092 \<br/>  --topic topic-name</span><span id="3af8" class="my lb iu mu b gz ng na l nb nc">&gt; One event<br/>&gt; Oh, another event!</span></pre><p id="ba2a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果您还想为生成的每条消息设置键，那么您可以使用一些附加选项(即，启用键和键分隔符)，如下所示:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="98eb" class="my lb iu mu b gz mz na l nb nc">$ <!-- -->kafka-console-producer \ <br/>  --bootstrap-server localhost:9092 \<br/>  --topic topic-name \<br/>  --property "parse.key=true" \<br/>  --property "key.separator=:"</span><span id="0af7" class="my lb iu mu b gz ng na l nb nc">&gt; key1:One event<br/>&gt; key2:Oh, another event!</span></pre><h1 id="b195" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">7.如何从Kafka主题中消费数据</h1><p id="035e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">另一方面，如果您想在终端中消费来自特定Kafka主题的消息，那么您所需要的就是<code class="fe nd ne nf mu b">kafka-console-consumer</code>:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="0899" class="my lb iu mu b gz mz na l nb nc">$ kafka-console-consumer \<br/>  --bootstrap-server localhost:9092 \<br/>  --topic topic-name \<br/>  --from-beginning</span><span id="63ae" class="my lb iu mu b gz ng na l nb nc"><em class="nh">One event<br/>Oh, another event!</em></span></pre><p id="2e46" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果您还想打印出键，那么您可能还想指定键分隔符、启用键和值打印的标志，以及键和值反序列化程序。</p><p id="f497" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">举个例子，</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="ccd3" class="my lb iu mu b gz mz na l nb nc">$ kafka-console-consumer \<br/>  --bootstrap-server localhost:9092 \<br/>  --topic topic-name \<br/>  --from-beginning \<br/>  --property key.separator="-" \<br/>  --property print.key=true \<br/>  --property print.value=true \<br/>  --property  key.deserialzer=org.apache.kafka.common.serialization.StringDeserializer \<br/>  --property value.deserializer=org.apache.kafka.common.serialization.LongDeserializer</span></pre><h1 id="1c48" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">8.如何净化卡夫卡主题</h1><p id="3a41" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在，为了清除Kafka主题并删除所有消息，您可以简单地将保留期临时更改为一秒，然后再改回来。</p><p id="109a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">要将保留时间更改为一秒，您只需将<code class="fe nd ne nf mu b">--add-config</code>旗与<code class="fe nd ne nf mu b">kafka-configs</code>赛跑运动员配合使用:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="0e85" class="my lb iu mu b gz mz na l nb nc">$ kafka-configs \<br/>  --bootstrap-server localhost:9092 \<br/>  --alter \<br/>  --entity-type topics \<br/>  --entity-name topic-name \<br/>  --add-config retention.ms=1000</span></pre><p id="5598" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">要恢复它，只需删除此配置(以便使用默认保留):</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="6e70" class="my lb iu mu b gz mz na l nb nc">$ kafka-configs \<br/>  --bootstrap-server localhost:9092 \<br/>  --alter \<br/>  --entity-type topics \<br/>  --entity-name topic-name \<br/>  --delete-config retention.ms</span></pre><h1 id="6df2" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">9.如何列出所有主题的所有消费者群体</h1><p id="b2b1" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">每一个卡夫卡的话题都可能有无数的消费群体。为了列出Kafka集群中所有主题的所有消费者群体，您可以简单地使用带有<code class="fe nd ne nf mu b">kafka-consumer-groups</code> runner的<code class="fe nd ne nf mu b">--list</code>标志。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="2c95" class="my lb iu mu b gz mz na l nb nc">$ kafka-consumer-groups \<br/>  --bootstrap-server localhost:9092 \<br/>  --list</span></pre><p id="a4ba" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">输出将包含所有使用者组的名称:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="12f6" class="my lb iu mu b gz mz na l nb nc">test-consumer-group-1<br/>test-consumer-group-2<br/>test-consumer-group-3<br/>...</span></pre><h1 id="14cb" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">10.获取特定消费者群体的详细信息(补偿、滞后等)。)</h1><p id="b17f" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在，为了获得关于特定使用者组的更多细节，您可以使用<code class="fe nd ne nf mu b">--describe</code>标志和使用者组名称(可以使用我们在上一节中演示的命令推断出来)。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="ece6" class="my lb iu mu b gz mz na l nb nc">$ kafka-consumer-groups \<br/>  --bootstrap-server localhost:9092 \<br/>  --describe \<br/>  --group my-group</span></pre><p id="ec11" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">输出将包含以下信息:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="46dd" class="my lb iu mu b gz mz na l nb nc">TOPIC <br/>PARTITION <br/>CURRENT-OFFSET <br/>LOG-END-OFFSET <br/>LAG <br/>CONSUMER-ID <br/>HOST <br/>CLIENT-ID</span></pre><h1 id="926e" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">11.获取使用者组中所有活动成员的列表</h1><p id="0fd2" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><code class="fe nd ne nf mu b">--describe</code>选项还可以与其他选项结合使用，以获得特定消费者群体的更多详细信息。</p><p id="2cda" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">为了列出特定使用者组中的所有活动成员，您还可以指定<code class="fe nd ne nf mu b">--members</code>标志:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="1730" class="my lb iu mu b gz mz na l nb nc">$ kafka-consumer-groups \<br/>  --bootstrap-server localhost:9092 \<br/>  --describe \<br/>  --group my-group \<br/>  --members</span></pre><p id="4bcb" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">以下是上述命令的输出示例:</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="2b60" class="my lb iu mu b gz mz na l nb nc"><strong class="mu iv">CONSUMER-ID          HOST           CLIENT-ID       #PARTITIONS</strong><br/>consumer1-3fc8d..   /127.0.0.1      consumer1       2<br/>consumer4-117fe..   /127.0.0.1      consumer4       1<br/>consumer2-e76ea..   /127.0.0.1      consumer2       3<br/>consumer3-ecea4..   /127.0.0.1</span></pre><p id="e8c1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">要获得更多细节，您还可以使用<code class="fe nd ne nf mu b">--verbose</code>选项，该选项还将报告分配给每个成员的分区。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="2a44" class="my lb iu mu b gz mz na l nb nc">$ kafka-consumer-groups \<br/>  --bootstrap-server localhost:9092 \<br/>  --describe \<br/>  --group my-group \<br/>  --members \<br/>  --verbose</span></pre><p id="c47e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">输出应该像下面这样。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="6c25" class="my lb iu mu b gz mz na l nb nc">CONSUMER-ID HOST       CLIENT-ID  #PARTITIONS ASSIGNMENT<br/>..          /127.0.0.1 consumer1  2           topic1(0), topic2(0)<br/>..          /127.0.0.1 consumer4  1           topic3(2)<br/>..          /127.0.0.1 consumer2  3           topic2(1), topic3(0,1)<br/>..          /127.0.0.1  consumer3 0           -</span></pre><h1 id="f20d" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">12.增加卡夫卡主题分区的数量</h1><p id="5dba" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">如果出于某种原因，您需要增加特定主题的分区数量，那么您可以使用<code class="fe nd ne nf mu b">--alter</code>标志来指定新的——增加的——分区数量。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="8588" class="my lb iu mu b gz mz na l nb nc">$ kafka-topics \<br/>  --bootstrap-server localhost:9092 \<br/>  --alter \<br/>  --topic topic-name \<br/>  --partitions 40</span></pre><h1 id="5c7a" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">13.在Kafka代理中添加配置</h1><p id="8a48" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">您可能需要做的另一件常见事情是向特定(甚至所有)代理添加更多配置选项。</p><p id="9a6b" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">例如，假设我们想要指定用于日志清理的后台线程的数量。这种行为可以通过<code class="fe nd ne nf mu b">log.cleaner.threads</code>配置选项进行调整。</p><p id="725a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">为此，您可以运行<code class="fe nd ne nf mu b">kafka-configs</code> runner以及代理细节和<code class="fe nd ne nf mu b">--add-config</code>，如下所示。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="3999" class="my lb iu mu b gz mz na l nb nc">$ kafka-configs \<br/>  --bootstrap-server localhost:9092 \<br/>  --entity-type brokers \<br/>  --entity-name 0<br/>  --alter \<br/>  --add-config log.cleaner.threads=2</span></pre><p id="4bb8" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果您想为集群中的所有代理添加一个配置，那么您可以使用<code class="fe nd ne nf mu b">--entity-default</code>标志(而不是通过(<code class="fe nd ne nf mu b">--entity-name broker-id</code>)指定一个特定的代理)，如下所示。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="f916" class="my lb iu mu b gz mz na l nb nc">$ kafka-configs \<br/>  --bootstrap-server localhost:9092 \<br/>  --entity-type brokers \<br/>  --entity-default \<br/>  --alter \<br/>  --add-config log.cleaner.threads=2</span></pre><p id="9591" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">这里需要注意的是，一些有效的配置可能需要重新启动代理。您可以在官方文档的<a class="ae kz" href="https://kafka.apache.org/documentation/#brokerconfigs" rel="noopener ugc nofollow" target="_blank">相关章节中查看每个单独代理配置的更新模式。</a></p><h1 id="b57d" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">14.从Kafka代理中删除配置</h1><p id="65ca" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">另一方面，您可能还想从特定的代理中删除一些配置。您只需要指定代理id，(<code class="fe nd ne nf mu b">--entity-name</code>)和<code class="fe nd ne nf mu b">--delete-config</code>标志来指定您希望删除的选项。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="cfc5" class="my lb iu mu b gz mz na l nb nc">$ kafka-configs \<br/>  --bootstrap-server localhost:9092 \<br/>  --entity-type brokers \<br/>  --entity-name 0 \<br/>  --alter \<br/>  --delete-config log.cleaner.threads</span></pre><p id="c65c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">同样，如果您希望删除对集群中的每个代理都有效，您可以提供<code class="fe nd ne nf mu b">--entity-default</code>标志，而不是通过<code class="fe nd ne nf mu b">--entity-name</code>指定代理id。</p><h1 id="e882" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">15.描述Kafka代理的当前动态代理配置</h1><p id="a48e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在，为了获得特定代理的当前配置，您可以在执行<code class="fe nd ne nf mu b">kafka-configs</code> runner时指定代理id(即<code class="fe nd ne nf mu b">--entity-name</code>)和<code class="fe nd ne nf mu b">--describe</code>标志。</p><pre class="kk kl km kn gu mt mu mv mw aw mx bi"><span id="bfd9" class="my lb iu mu b gz mz na l nb nc">$ kafka-configs \<br/>  --bootstrap-server localhost:9092 \<br/>  --entity-type brokers \<br/>  --entity-name 0 <br/>  --describe</span></pre></div><div class="ab cl ni nj hy nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">您可能也会喜欢的相关文章:</p><div class="np nq gq gs nr ns"><a href="https://towardsdatascience.com/kafka-no-longer-requires-zookeeper-ebfbf3862104" rel="noopener follow" target="_blank"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">卡夫卡不再需要动物园管理员了</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">2.8.0版本让你提前接触到没有动物园管理员的卡夫卡</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kt ns"/></div></div></a></div></div><div class="ab cl ni nj hy nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu ns"><a href="https://towardsdatascience.com/kafka-monitoring-tools-704de5878030" rel="noopener follow" target="_blank"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">Kafka UI监控工具(2021年更新)</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">探索Apache Kafka集群的一些最强大的UI监控工具</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oh l od oe of ob og kt ns"/></div></div></a></div></div><div class="ab cl ni nj hy nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu ns"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-fetch-specific-messages-in-apache-kafka-4133dad0b4b8"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">如何在阿帕奇卡夫卡中获取特定信息</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">掌握Kafka控制台消费者和kafkacat</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">better编程. pub</p></div></div><div class="ob l"><div class="oi l od oe of ob og kt ns"/></div></div></a></div></div></div>    
</body>
</html>