<html>
<head>
<title>Design, Diagram, and Deploy a 3-tier Architecture Using AWS Console</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用AWS控制台设计、绘制和部署3层架构</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/aws-console-creating-a-3-tier-architecture-f44e226e5842?source=collection_archive---------0-----------------------#2022-05-01">https://betterprogramming.pub/aws-console-creating-a-3-tier-architecture-f44e226e5842?source=collection_archive---------0-----------------------#2022-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e1cf" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建高度可扩展的架构</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/28b7c5a803e3e84b488a87f5a2f4fa11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G05UpWwhE3oEPPqm8qsD7A.png"/></div></div></figure><h1 id="ad5d" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">三层架构</h1><p id="317d" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">作为客户机-服务器软件设计的一种流行实现，三层体系结构包括表示层(客户机的web层)、逻辑层(应用层)和数据层(包含数据库层)。</p><h2 id="4cbb" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">好处:</h2><ul class=""><li id="4d58" class="mr ms iq ll b lm ln lp lq ls mt lw mu ma mv me mw mx my mz bi translated">可伸缩性—每一项都可以水平伸缩，应用服务器可以部署在多台机器上</li><li id="7cdd" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me mw mx my mz bi translated">数据库完整性和安全性—客户端不能通过它们和数据库之间的应用层直接访问数据</li><li id="36e5" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me mw mx my mz bi translated">改进的性能—表示层可以缓存请求，最大限度地减少网络使用和负载</li><li id="fbba" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me mw mx my mz bi translated">更易于维护和修改——一个层的修改或替换不会影响其他层(解耦),多个开发人员可以在不同的层上工作，减少了集成更改所需的成本和时间</li></ul></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="e8af" class="kr ks iq bd kt ku nm kw kx ky nn la lb jw no jx ld jz np ka lf kc nq kd lh li bi translated"><strong class="ak">步骤概述</strong></h1><ol class=""><li id="c69e" class="mr ms iq ll b lm ln lp lq ls mt lw mu ma mv me nr mx my mz bi translated">创建VPC、子网、互联网网关，并编辑路由表。</li><li id="275b" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me nr mx my mz bi translated">为web层(面向互联网)和应用层创建应用程序负载平衡器。</li><li id="3818" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me nr mx my mz bi translated">使用EC2自动扩展组创建应用程序和web层。配置安全组，使web层只接受来自ALB(应用程序负载平衡器)的流量，应用层只接受来自web层安全组的流量。</li><li id="5d58" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me nr mx my mz bi translated">使用RDS创建数据库层(自由层)。</li><li id="5394" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me nr mx my mz bi translated">验证web层可以从Internet访问，并且可以ping应用层。</li></ol></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="4cea" class="kr ks iq bd kt ku nm kw kx ky nn la lb jw no jx ld jz np ka lf kc nq kd lh li bi translated">创造一个VPC</h1><ol class=""><li id="d8df" class="mr ms iq ll b lm ln lp lq ls mt lw mu ma mv me nr mx my mz bi translated">在AWS管理控制台中，导航到<strong class="ll ir"> VPC </strong> → <strong class="ll ir">创建VPC →VPC设置</strong> → <strong class="ll ir">创建资源</strong> →仅VPC(包括名称)<strong class="ll ir"> IPV4 CIDR块</strong> → <code class="fe ns nt nu nv b">10.0.0.0/16</code> → <strong class="ll ir">创建VPC </strong></li><li id="b7fc" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me nr mx my mz bi translated"><strong class="ll ir">子网→创建子网→ VPC → VPC ID → </strong>选择上一步创建的VPC。命名每个子网，并为每个子网提供一个CIDR。** <strong class="ll ir">提示</strong>:使用类似<a class="ae nw" href="https://www.site24x7.com/tools/ipv4-subnetcalculator.html" rel="noopener ugc nofollow" target="_blank">这个</a>的在线子网计算器来确定每个子网的CIDRs。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/625fb7b92ea7351bdd2c39290a34cb13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HjND1jvHA3ECrUi2LI8HFg.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">为了能够将每个层包含在其自己的子网中，我为每个可用性分区创建了一组1个公共子网和3个私有子网。对于公共子网，我选择使用操作→“编辑子网设置”自动分配一个公共IPV4 ip。</p></figure><p id="5b4f" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">4.<strong class="ll ir">互联网网关</strong> →创建并命名以允许VPC的公共子网流量接入互联网。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/ba338cb2c0f464b468c4743f8a63410a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dV5BwRjZyIv7l6wkDDaaBg.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">确保附上在第一步中创建的VPC。</p></figure><p id="aae3" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">5.<strong class="ll ir"> NAT网关:</strong>在本练习中，使用具有公共访问权限的网络地址转换(NAT)网关将允许私有子网中的实例连接到互联网，但不允许未经请求的入站连接。因为应用层将包含私有子网中的实例，所以NAT网关是必要的，以确保这些实例可以与web层通信。从<strong class="ll ir"> VPC仪表板中选择<strong class="ll ir"> NAT网关</strong></strong>→<strong class="ll ir">创建NAT网关→ </strong>提供名称(可选)，指定一个公共子网，并选择<strong class="ll ir"> Public </strong>作为<strong class="ll ir">连接类型</strong>。选择“<strong class="ll ir">分配弹性IP </strong>”以生成一个IP地址，作为实例的源IP的替换，并将地址转换回源IP。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/49b206fc6ea0e42445eab0cd05f50bab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oy3uXTXzeNoF6_HN459Wug.png"/></div></div></figure><p id="b6e7" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">6.<strong class="ll ir">路由表</strong> →创建两个路由表，一个用于公共子网，一个用于私有子网。使用公共路由表的<strong class="ll ir">路线</strong>选项卡→“编辑路线”,确保路线<strong class="ll ir">目的地</strong>设置为我们的CIDR区块(<code class="fe ns nt nu nv b">10.0.0.0/16</code>)和互联网网关(<code class="fe ns nt nu nv b">0.0.0.0/0</code>)。对于私有路由表，目的地应该设置为我们的CIDR块(<code class="fe ns nt nu nv b">10.0.0.0/16</code>)，并且<strong class="ll ir">目标</strong>指向我们创建的NAT网关。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="e82b" class="kr ks iq bd kt ku nm kw kx ky nn la lb jw no jx ld jz np ka lf kc nq kd lh li bi translated"><strong class="ak">创建应用负载平衡器</strong></h1><p id="7744" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">面向Internet的应用程序负载平衡器提供了额外的安全层，防止客户端直接访问web层中的EC2实例。内部ALB将允许web层与部署在私有子网中的应用层进行通信。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/603e3871589972b9a1d6be713ba46675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*taIuQf60VbaBDH4gcXDTHQ.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">ALB至少需要两个az，允许客户端通过ALB访问应用程序</p></figure><ol class=""><li id="b11c" class="mr ms iq ll b lm oc lp od ls ok lw ol ma om me nr mx my mz bi translated">导航至<code class="fe ns nt nu nv b"><strong class="ll ir">EC2</strong> in the <strong class="ll ir">AWS Management Console. Load Balancing → Load Balancers → Create Load Balancer</strong></code>T30。</li><li id="d193" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me nr mx my mz bi translated"><code class="fe ns nt nu nv b"><strong class="ll ir">Basic Configuration</strong> → <strong class="ll ir">Load balancer name </strong>(CityWatch) , <strong class="ll ir">Scheme </strong>→select “<strong class="ll ir">Internet-facing</strong>”, <strong class="ll ir">IP address typ</strong>e → select <strong class="ll ir">IPV4</strong></code> <strong class="ll ir">。</strong></li><li id="b216" class="mr ms iq ll b lm na lp nb ls nc lw nd ma ne me nr mx my mz bi translated"><code class="fe ns nt nu nv b"><strong class="ll ir">Network mapping</strong> → <strong class="ll ir">VPC</strong> (select the one created in the previous section), <strong class="ll ir">Mappings</strong> → select each AZ and the public subnets associated with each</code>。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/0fc8e6b6bb2434cffa55a2b7c568695a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U_U-PjeFqyW6qSq1IUtwvQ.png"/></div></div></figure><p id="8631" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">4.<code class="fe ns nt nu nv b"> <strong class="ll ir">Security groups</strong> → <strong class="ll ir">Create new security group</strong> (this will open a new tab)<strong class="ll ir">→ Basic details → </strong>Create a<strong class="ll ir"> Security group name</strong> (KingsGuard)<strong class="ll ir">, Description </strong>(allow public traffic to Internet)<strong class="ll ir"> </strong>and select the <strong class="ll ir">VPC </strong>(Westeros)<strong class="ll ir"> </strong>created earlier. <strong class="ll ir">Inbound rules</strong> must be configured to allow any IPV4 traffic through <strong class="ll ir">ports 80</strong> (http) → <strong class="ll ir">Create security group</strong></code></p><p id="353c" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">5.<strong class="ll ir">监听器和路由</strong> →监听器应该在<strong class="ll ir">端口80 </strong> <strong class="ll ir">上使用<strong class="ll ir"> HTTP </strong>协议→创建目标组</strong>(这将打开一个新标签)→ <strong class="ll ir">选择目标类型</strong> →选择<strong class="ll ir">实例→ </strong>创建<strong class="ll ir">目标组名称</strong> (Andals) →接受所有其他默认设置，然后单击<strong class="ll ir">下一步</strong>。由于我们在这个阶段还没有创建EC2实例，我们现在将跳过<strong class="ll ir">注册目标</strong>和<strong class="ll ir">创建目标组</strong>。* *确保返回负载平衡器页面，选择新的目标组并<strong class="ll ir">创建负载平衡器</strong>。</p><p id="068f" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">**对于<strong class="ll ir">内部ALB </strong>(学士)，使用每个可用性分区中的私有子网(维斯特洛(私有1)和维斯特洛(私有2))重复上述步骤。内部负载平衡器将在web层和应用层之间进行通信，只接收来自面向internet的ALB的流量。必须先创建应用层，然后才能向此ALB注册目标实例组。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h2 id="31c2" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">为Web和应用程序层配置启动模板和自动扩展组</h2><ol class=""><li id="8092" class="mr ms iq ll b lm ln lp lq ls mt lw mu ma mv me nr mx my mz bi translated"><strong class="ll ir"> Web Tier: EC2 </strong> → <code class="fe ns nt nu nv b">Instances → Launch Templates → Create launch template → create a Launch template name (MotherofDragons), Template version description (app tier)</code>，选择<code class="fe ns nt nu nv b">Auto Scaling guidance. AMI → Amazon Linux 2 Kernel 5.10 with a t2.micro Instance type</code>下的框。创建新的密钥对或选择现有的密钥对。<code class="fe ns nt nu nv b">Network Settings → do not specify a subnet in this template</code>。<code class="fe ns nt nu nv b">Security groups → Create security group → Create a Security group name (TheUnsullied)</code>，描述(web-sg)，VPC(维斯特洛)，规则允许流量通过端口80 (HTTP)和22 (SSH)。在“高级网络配置”下，我还选择了“自动分配公共IP”。为了轻松地更新所有包并安装“Apache”web服务器，我还在单击“创建启动模板”之前，在启动模板的“高级详细信息”下的“用户数据”下添加了以下引导。</li></ol><pre class="kg kh ki kj gt oo nv op oq aw or bi"><span id="7189" class="mf ks iq nv b gy os ot l ou ov"><strong class="nv ir">#!/bin/bash<br/>yum update -y<br/>yum install httpd -y<br/>systemctl start httpd<br/>systemctl enable httpd</strong></span></pre><p id="80dc" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">2.<code class="fe ns nt nu nv b">Auto Scaling group for Web Tier: EC2 → Auto Scaling groups → Create Autoscaling group (Dothraki)</code>使用为web层创建的“启动模板”(MotherofDragons)。继续为web层创建“自动缩放组”(参见我的另一篇文章<a class="ae nw" rel="noopener ugc nofollow" target="_blank" href="/aws-creating-a-vpc-with-an-auto-scaling-group-using-t2-micro-instances-4ac2c5c7795b">来看看我是如何完成的！).</a></p><p id="464b" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">然而，在第3步:“配置高级选项”中，我选择了将这个组连接到我的“面向Internet的应用程序Web平衡器”的可选步骤。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/3bd24de9c87648e680c8b5546b1b5d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p3RhT3U_BrV64zy7aT2ETw.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">我将这个<strong class="bd ox">自动缩放组</strong>附加到我为web层(MotherofDragons)创建的模板上。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/61f7ce487c569ab12fbbac4a64fdf395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fX_c9cxGNDo_onPZ8fj-OA.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">因为我在这个练习中使用了一个ALB，所以我配置了这个选项。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/d17e17348ebed293b40de3405fe99642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1u2l_pDMsj6Wn3z3MAgsgQ.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">我还启用了使用目标跟踪比例策略的可选特性，这将允许在平均CPU使用率达到50%或更高时创建另一个实例。我将我的度量保持在相对较低的水平，因为我不打算将实例留到本练习之后。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/86151af00552607625b4eeac203c5e47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fn13ShZPvD55JODZFPaBgA.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">使用web层中运行的一个实例的公共IP，我确认Apache安装成功。</p></figure><p id="68a9" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">3.<strong class="ll ir">应用层</strong>:对于这一层，因为我没有任何代码来运行真正的应用程序，所以我重复了web层的步骤，但是使用了自动扩展组的私有子网。我还通过只允许web层的安全组访问来配置应用程序安全组。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/277a69252afde80dd61dc5a89ced2e64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KiPQGV-5buKnn3xnNe_DsA.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">通常，自定义ICMP-IPV4“回应回复”将被禁用，以使设备不太可能被未授权用户发现；但是，我在这里包含了允许我从web层ping(测试)连接。</p></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h2 id="d9e8" class="mf ks iq bd kt mg mh dn kx mi mj dp lb ls mk ml ld lw mm mn lf ma mo mp lh mq bi translated">创建数据库层并验证与应用层的连接</h2><ol class=""><li id="2adf" class="mr ms iq ll b lm ln lp lq ls mt lw mu ma mv me nr mx my mz bi translated">在“AWS管理控制台<strong class="ll ir">”→“</strong>创建数据库<strong class="ll ir">”→</strong>中导航至“RDS<strong class="ll ir">”</strong>，选择“标准创建”并选择以下选项来配置数据库层:<code class="fe ns nt nu nv b">MySQL → Free tier → DB cluster identifier (FreeCities) → Master username (defaulted to admin) → Master password (specify and confirm) → Instance configuration → Burstable classes (db.t3.micro) → (continue with defaults until Connectivity)</code>。选择正确的VPC(维斯特洛)并创建一个新的VPC安全组(无面人),注意3306端口已添加。保留所有其他默认设置，然后单击“创建数据库”。创建数据库后，需要修改VPC安全组，方法是删除默认规则，选择数据库端口3306，并将应用程序层的安全组标识为源→ <code class="fe ns nt nu nv b">Create rule</code>。</li></ol><ul class=""><li id="ed44" class="mr ms iq ll b lm oc lp od ls ok lw ol ma om me mw mx my mz bi translated">注意:要启用“RDS<strong class="ll ir">”</strong>实例的“多AZ部署”，请选择一个正在运行的RDS实例，然后单击“修改”→“启用多AZ部署”，并确定是否需要备用实例(用于生产)，以及何时要安排修改。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/605480d5935a2b871efb941154e77371.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W4GGOhWmv92LTYQoavnXBA.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">此配置将允许从应用层访问，但不允许从web层访问。</p></figure><p id="6ce0" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">2.返回到“EC2<strong class="ll ir">”</strong>并找到一个公共实例(这些实例已经被确认具有Internet连接，如本文前面部分的步骤2所示)。在您的本地终端中，使用<code class="fe ns nt nu nv b">$ cd &lt;name_of_directory&gt;</code>更改目录以确保您与密钥对在同一个目录中。pem文件。如有必要，使用命令<code class="fe ns nt nu nv b">$chmod 400 &lt;nameofkeypair&gt;.pem</code>保护其不被看到。然后，使用以下命令登录到一个正在运行的公共EC2实例:</p><pre class="kg kh ki kj gt oo nv op oq aw or bi"><span id="3d6b" class="mf ks iq nv b gy os ot l ou ov">$ ssh -i "&lt;nameofkeypair&gt;.pem" ec2-user@&lt;public_ip_of_instance&gt;</span></pre><p id="02ec" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">使用以下命令测试网络连接:</p><pre class="kg kh ki kj gt oo nv op oq aw or bi"><span id="c41a" class="mf ks iq nv b gy os ot l ou ov">$ ping &lt;ip_of_instance&gt;</span></pre><p id="76aa" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">我首先使用我的另一个web层实例的公共IP测试了这个命令，收到了以下输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/65a9f889d55d102c8f5084c5b04fca3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MBXjRHtkhFmwDwJRBIL8dQ.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">因为我知道这个IP具有网络连接性，所以我想看看成功的结果是什么样的。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pe"><img src="../Images/894fa0422429e9c9b80834858e81e6b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IUn3YFcQ_BHsJ5ixqKrIBA.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">上面的例子发生在没有网络连接的时候。</p></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="7cb5" class="pw-post-body-paragraph lj lk iq ll b lm oc jr lo lp od ju lr ls oe lu lv lw of ly lz ma og mc md me ij bi translated">确保通过禁用“EC2”中的自动扩展组来终止实例，终止“RDS”实例，并删除为“VPC”创建的“NAT网关”,以避免产生费用。</p></div></div>    
</body>
</html>