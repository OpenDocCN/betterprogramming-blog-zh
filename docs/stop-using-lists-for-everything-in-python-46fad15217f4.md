# 不要在 Python 中对任何东西都使用列表

> 原文：<https://betterprogramming.pub/stop-using-lists-for-everything-in-python-46fad15217f4>

## 元组和集合介绍

![](img/867271c63bfd783231b272017080a9dc.png)

照片由[熊伟·桑多斯](https://unsplash.com/@vtrsnts?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/list?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄

当你学习新的东西时，你对所有的可能性都不熟悉，一旦某样东西有效，你就会坚持下去……在 Python 中，这种东西就是列表。

我对此深感内疚——列表是如此的方便、语法清晰和灵活。再加上学习列表理解的纯粹乐趣，你会觉得自己中了数据类型大奖。

使用列表感觉就像在 Smash Bros 中无休止地发送你最喜欢的特殊动作。

正如许多 Python 的东西一样，有绝对的宝石，隐藏在明显的地方，这将提升你作为 Pythonista 的技能。这些宝石中的两个是元组和集合。

让我们仔细检查一下这些特殊的数据类型，并找出为什么应该使用它们而不是列表。

# 元组

元组是不可变的有序项目序列。最后一个词——*不可改变的*——是这里的秘方。元组一旦定义，就不能更改。

使用元组的语法与列表几乎相同，只是使用了圆括号而不是方括号。此外，您可以获取一个列表并将其转换为一个元组。

```
# how to define a list
num_list = [1,2,3,4]# how to define a tuple
num_tuple = (1,2,3,4)# use tuple() to convert
num_convert = tuple(num_list)
```

不可变有什么特别的？起初，这可能看起来不方便；然而，每次恰当地使用元组而不是列表时，您都在做两件事。

*   编写更加语义化和安全的代码。当你将一个变量定义为一个元组时，你是在告诉你自己和你代码的任何其他查看者:“这不会改变”。万一您错过了备忘录，任何修改变量的尝试都会遇到错误。
*   提高性能。对元组的迭代将比列表更快。元组比列表更节省内存。由于元组中的项数不变，所以它的内存占用更简洁。

如果列表的大小没有被修改，或者只是为了被迭代，那么尝试用 tuple 替换它。

# 设置

集合是一个无序的、唯一的项目集合。集合不能有重复值，这是它与列表的区别。

若要定义集合，请使用大括号将逗号分隔的项目列表括起来。不要将这与创建字典混淆，后者有键值对。与元组一样，可以通过转换另一种数据类型来创建集合。

```
# how to define a list
num_list = [1,2,3,4]# how to define a set
num_set = {1, 2, 3, 4}# use set() to convert
num_convert = set(num_list)
```

那么，如果两个项目相同会发生什么？

```
nums = {1,2,3,4,4}
print(nums) # 1,2,3,4
```

可以看到，第二个`4`被去掉了。如果我们的原始值是重复项的列表，也会发生同样的情况。

那么，为什么应该使用集合而不是列表呢？首先，转换为集合是删除重复值的最简单方法。此外，与任何数据类型一样，集合也有自己的一套方法。

当比较多个集合时，集合是很棒的——想想维恩图。`union()`、`intersection()`和`difference()`函数将分别告诉您两个集合之间的组合值、共享值和不同值。

# 结论

Python 就是为每个问题找到合适的工具。

虽然列表是舒适的、可靠的，并且很早就学会了，但是可能有更好的工具。

开始使用元组来加速处理和保护您声明的数据结构。开始使用集合来确保唯一的值并利用比较方法。