<html>
<head>
<title>Introduction to Styled-Components in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的样式化组件介绍</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/introduction-to-styled-components-in-react-d84583c28dde?source=collection_archive---------3-----------------------#2021-10-27">https://betterprogramming.pub/introduction-to-styled-components-in-react-d84583c28dde?source=collection_archive---------3-----------------------#2021-10-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="10c7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何创建样式组件、全局主题和通行证道具</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3af9448f5ef07c07e30d8bbf9ac5a4ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UkKdmWbRBdIg_LEx"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@element5digital?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">元素5数码</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="4d63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Styled-components是一个流行的库，用于对React应用程序进行样式化。它允许您通过在JavaScript中编写实际的CSS来构建自定义组件。</p><p id="0658" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将了解如何在React应用程序中使用样式化组件。</p><p id="6a65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文结束时，您应该对如何执行以下操作有所了解:</p><ul class=""><li id="0e36" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">创建样式化组件</li><li id="18be" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">将属性传递给样式化的组件</li><li id="9cac" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">创建和使用主题</li></ul><p id="717f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们深入研究代码之前，让我们先快速概述一下样式组件库，并理解使用它的好处。</p><h1 id="888e" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">什么是样式组件？</h1><p id="6ec0" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在设计React应用程序的样式时，有许多选项可供选择。传统的方法是创建一个外部CSS文件，然后将属性作为字符串传递给<code class="fe ng nh ni nj b">className</code> prop。</p><p id="695e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以使用CSS-in-JS技术，在JavaScript文件中编写CSS。样式化组件采用这种方法。</p><blockquote class="nk"><p id="8baf" class="nl nm it bd nn no np nq nr ns nt lu dk translated">"使用ES6和CSS的精华来设计你的应用，没有压力."—风格化组件网站</p></blockquote><h2 id="a7a6" class="nu mk it bd ml nv nw dn mp nx ny dp mt li nz oa mv lm ob oc mx lq od oe mz of bi translated">使用样式化组件的好处</h2><ul class=""><li id="fb0b" class="lv lw it lb b lc nb lf nc li og lm oh lq oi lu ma mb mc md bi translated"><strong class="lb iu">自动关键CSS </strong> —样式化组件跟踪页面上呈现的组件，并且只添加它们的样式</li><li id="b76c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">没有类名错误</strong> —样式化组件为样式生成唯一的类名</li><li id="2096" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">更容易删除CSS </strong> —样式绑定到特定的组件，而不是作为类名添加</li><li id="a9f0" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">简单的动态样式</strong> —可以基于道具或主题向组件添加样式</li><li id="6a56" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">轻松维护</strong> —添加到组件的样式在一个地方完成，而不是跨越多个文件</li><li id="736c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">自动供应商前缀</strong>——样式化组件处理所有这些</li></ul><h1 id="aeee" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">创建样式化组件</h1><p id="4454" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">首先，让我们创建第一个样式化的组件。我将在一个基本的<code class="fe ng nh ni nj b">create-react-app</code>项目上工作，支持TypeScript。您可以跟随或不跟随TypeScript。</p><p id="689e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用样式化组件命名文件的传统方式是<code class="fe ng nh ni nj b"><em class="oj">componentName</em>.styled.ts</code>。其中“<em class="oj">组件名”</em>替换为组件名。</p><p id="a699" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我将创建一个名为<code class="fe ng nh ni nj b">/src/components/styles/Button.styled.ts</code>的新文件。这是我将创建我的<code class="fe ng nh ni nj b">&lt;Button&gt;</code>组件的地方。</p><p id="1443" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个文件中，首先是<code class="fe ng nh ni nj b">import styled from 'styled-components';</code>。然后，您可以使用<code class="fe ng nh ni nj b">styled</code>来创建一个样式化的组件。</p><blockquote class="ok ol om"><p id="de8b" class="kz la oj lb b lc ld ju le lf lg jx lh on lj lk ll oo ln lo lp op lr ls lt lu im bi translated">"样式化组件利用标记的模板文字来样式化你的组件."—风格化组件网站</p></blockquote><p id="201d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，当您定义样式时，您实际上是在创建一个组件，该组件使用模板文字附加了样式。</p><p id="c64c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，键入<code class="fe ng nh ni nj b">styled.</code>，后跟一个有效的React组件或标记名，如<em class="oj"> 'div' </em>。对于这个例子，我们将创建一个样式化的按钮组件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="5f9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以像应用程序中任何普通的<code class="fe ng nh ni nj b">&lt;button&gt;</code>元素一样使用这个<code class="fe ng nh ni nj b">Button</code>组件。</p><pre class="kj kk kl km gt os nj ot ou aw ov bi"><span id="f488" class="nu mk it nj b gy ow ox l oy oz">&lt;Button&gt;Styled Button&lt;/Button&gt;</span></pre><p id="b079" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们呈现按钮时，它现在将包含所有的样式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/cee19e279fe3315b7ad23b3170e36a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*DKZy4tQ4UH7cYpROAp9__g.png"/></div></figure><p id="c040" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以嵌套规则、添加媒体查询和添加伪类来指定元素的特定状态。例如，在我的<code class="fe ng nh ni nj b">Button</code>组件中，我将添加一个悬停伪类，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="8ba1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当我们悬停在按钮上时，我们可以看到背景颜色和文本颜色相应地改变。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/118dc6a1616e502304b1becb9bc897c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*ZsNSmpavLLXz-UHqXowwJw.gif"/></div></figure><h1 id="7646" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">将属性传递给样式化的组件</h1><p id="3093" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">我们也可以在样式组件中传递道具。您可以向<code class="fe ng nh ni nj b">Button</code>组件传递任何属性，然后在样式化的组件中访问它。</p><p id="7bd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比如我会把一个叫<code class="fe ng nh ni nj b">bgcolor="springGreen"</code>的道具传给我的<code class="fe ng nh ni nj b">Button</code>。然后，在<code class="fe ng nh ni nj b">Button.styled.ts</code>文件中，我可以访问这个道具。</p><pre class="kj kk kl km gt os nj ot ou aw ov bi"><span id="e31c" class="nu mk it nj b gy ow ox l oy oz">background-color: ${props =&gt; props.bgcolor};</span></pre><p id="d201" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你使用的是JavaScript，这就很好了。但是如果你使用TypeScript，你会遇到一个错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/7ca4b0ceec3ce0ebbf589ac0d380e00d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rJNapBHIkWisEKhonjp6ag.png"/></div></div></figure><p id="4ec3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要修复这个错误，您需要为这个<code class="fe ng nh ni nj b">Button</code>组件创建一个接口。在这个界面中，您可以定义您将传递给<code class="fe ng nh ni nj b">Button</code>的道具。</p><pre class="kj kk kl km gt os nj ot ou aw ov bi"><span id="a617" class="nu mk it nj b gy ow ox l oy oz">interface ButtonProps {<br/>  bgcolor: string;<br/>}</span></pre><p id="d76e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们可以将这个接口传递给<code class="fe ng nh ni nj b">Button</code>组件。现在我们可以访问<code class="fe ng nh ni nj b">bgcolor</code> prop，TypeScript不会显示错误。</p><pre class="kj kk kl km gt os nj ot ou aw ov bi"><span id="5aa2" class="nu mk it nj b gy ow ox l oy oz">export const Button = styled.button<strong class="nj iu">&lt;ButtonProps&gt;</strong>`<br/>  <strong class="nj iu">background-color: ${props =&gt; props.bgcolor};<br/>  </strong>...other styles<strong class="nj iu"><br/></strong>`;</span></pre><p id="1036" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以使用析构来使它变得更简洁。</p><pre class="kj kk kl km gt os nj ot ou aw ov bi"><span id="3fe6" class="nu mk it nj b gy ow ox l oy oz">export const Button = styled.button<strong class="nj iu">&lt;ButtonProps&gt;</strong>`<br/>  <strong class="nj iu">background-color: ${({ bgcolor }) =&gt; bgcolor};<br/>  </strong>...other styles<strong class="nj iu"><br/></strong>`;</span></pre><h1 id="c919" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">创建和使用主题</h1><p id="d754" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">您还可以创建一个带有样式组件的全局主题。在这个主题中，我们可以在任何样式的组件中存储我们想要访问的不同值。</p><p id="449b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在我们的<code class="fe ng nh ni nj b">Button</code>组件中，我们从主题中访问值，而不是向我们使用的每个按钮传递一个道具。</p><p id="020b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用主题，我们首先需要用<code class="fe ng nh ni nj b">&lt;ThemeProvider&gt;</code>包装我们的应用程序。</p><p id="0165" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe ng nh ni nj b">App.tsx</code>文件中，<code class="fe ng nh ni nj b">import { ThemeProvider } from 'styled-components'</code>。然后用<code class="fe ng nh ni nj b">ThemeProvider</code>包装整个应用程序。这个<code class="fe ng nh ni nj b">ThemeProvider</code>需要一个叫做主题的道具。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="2c19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ng nh ni nj b">theme</code>道具将接受一个定义<code class="fe ng nh ni nj b">props.theme</code>外观的对象。</p><p id="910c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个例子，我创建了一个单独的文件<code class="fe ng nh ni nj b">src/styles/theme.ts</code>。在这个文件中，我创建了一个<code class="fe ng nh ni nj b">theme</code>对象。</p><pre class="kj kk kl km gt os nj ot ou aw ov bi"><span id="df44" class="nu mk it nj b gy ow ox l oy oz">export const theme = {<br/>  color: {<br/>    primary: 'springGreen',<br/>  },<br/>};</span></pre><p id="0742" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，回到我的<code class="fe ng nh ni nj b">Button.styled.ts</code>组件，我可以更新我的<code class="fe ng nh ni nj b">Button</code>组件。我可以从主题中获取颜色，而不是使用我们之前传递的<code class="fe ng nh ni nj b">bgcolor</code>道具。</p><pre class="kj kk kl km gt os nj ot ou aw ov bi"><span id="079d" class="nu mk it nj b gy ow ox l oy oz">export const Button = styled.button`<br/>  <strong class="nj iu">background-color: ${props =&gt; props.theme.color.primary};<br/>  </strong>...other styles<strong class="nj iu"><br/></strong>`;</span></pre><p id="a7bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，我也可以在这里使用析构来使它看起来更干净一点。</p><pre class="kj kk kl km gt os nj ot ou aw ov bi"><span id="917e" class="nu mk it nj b gy ow ox l oy oz">export const Button = styled.button`<br/>  <strong class="nj iu">background-color: ${({ theme }) =&gt; theme.color.primary};</strong><br/>  ...other styles<br/>`;</span></pre><p id="b496" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以在我们创建的任何样式化组件中使用这个<code class="fe ng nh ni nj b">theme.color.primary</code>值。如果我们决定以后改变我们的原色，我们只需要更新主题。</p><h1 id="1652" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">结论</h1><p id="ad92" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">感谢阅读！我希望这篇文章有助于您开始使用React的样式化组件。Styled-components是对React项目进行样式化的一个很好的选择，因为它易于使用并且能够创建可重用的组件。</p><p id="df4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想了解另一种设计React应用程序样式的方法，请查看下面这篇关于Tailwind CSS的文章。</p><div class="pd pe gp gr pf pg"><a href="https://javascript.plainenglish.io/introduction-to-using-tailwind-css-with-next-js-d609be5b6e91" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">将Tailwind CSS用于Next.js的介绍</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">为什么应该在Next.js应用程序中使用Tailwind CSS</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu ks pg"/></div></div></a></div><h1 id="17bc" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">资源</strong></h1><ul class=""><li id="494f" class="lv lw it lb b lc nb lf nc li og lm oh lq oi lu ma mb mc md bi translated"><a class="ae ky" href="https://styled-components.com/" rel="noopener ugc nofollow" target="_blank">https://styled-components.com/</a></li></ul></div></div>    
</body>
</html>