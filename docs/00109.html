<html>
<head>
<title>TypeScript — JavaScript with Superpowers — Part II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript —具有超级能力的JavaScript第二部分</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/typescript-javascript-with-superpowers-part-ii-69a6bd2c6842?source=collection_archive---------6-----------------------#2018-03-08">https://betterprogramming.pub/typescript-javascript-with-superpowers-part-ii-69a6bd2c6842?source=collection_archive---------6-----------------------#2018-03-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/238b64c62877f2c685c85a0296b3fda5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ijxYcfk-rHyfAWLq6bPr1Q.png"/></div></div></figure><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi kb"><img src="../Images/d049e6d31b983acf636b85dacc50e3fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lrVNbYOEn_ni9NNRTY0r7w.png"/></div></div></figure><p id="a576" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">枚举(<strong class="ki iu">enum</strong>operations)允许您将值与更友好的名称组合在一起。</p><p id="bdf7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">想象你有一个名单。下面是如何构建<code class="fe le lf lg lh b">enum</code>:</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi li"><img src="../Images/4117e1b0dcf627d9d698b6c374496b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4qFIKpovAtDdkA0HkrqEVw.png"/></div></div></figure><p id="517f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以像这样从<code class="fe le lf lg lh b">enum</code>中获取值:</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lj"><img src="../Images/df1b03874c2261a3fb8b182d6486035b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KaoKC7ZCuXwLPR_1ntY9SQ.png"/></div></div></figure><p id="37b6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是等等…它返回代表值的索引的整数。像数组一样，枚举从<code class="fe le lf lg lh b">0</code>开始索引它们的成员。</p><p id="c1f7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们如何得到值<code class="fe le lf lg lh b">"Indrek"</code>而不是<code class="fe le lf lg lh b">0</code>？</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lk"><img src="../Images/8f63a4bcf9d510ae1a8d6d3434915692.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ymUuAzpdwzeMc3522yb0MA.png"/></div></div></figure><p id="0837" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意这些值是如何显示为字符串的。</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ll"><img src="../Images/d9801dbfc83dabdddc0fc0023b2b9807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XnRIFhuCMpJFp8CmVUnf3g.png"/></div></div></figure><p id="a043" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个很好的例子是使用枚举来存储应用程序状态。</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lm"><img src="../Images/079006e69a13d6e4f8a46b3b7d037a28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nOLoMIf6YLl0XbFoPWeHmw.png"/></div></div></figure><p id="6582" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你有兴趣了解更多关于枚举的知识——我在<code class="fe le lf lg lh b">enum</code>中找到了一个<a class="ae ln" href="https://stackoverflow.com/a/28818850/5073961" rel="noopener ugc nofollow" target="_blank">伟大的答案</a>。</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi kb"><img src="../Images/5f4905f367ce345a3b70b50b2df54bb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKPVSnf7PVjrdDY_Fvz6EQ.png"/></div></div></figure><p id="c9f9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设我们从一个API获取了一些数据。我们总是期望数据被获取—但是如果我们不能获取它呢？</p><p id="283e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">返回<code class="fe le lf lg lh b">never</code>类型的最佳时间(特殊情况):</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lo"><img src="../Images/3f733d20e88582c3f4b70dcc75f0db51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lkfWaSP6G8YfqWjoFWqh4w.png"/></div></div><p class="lp lq gj gh gi lr ls bd b be z dk translated">注意我们传递的错误消息</p></figure><p id="8fba" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以在另一个函数内部调用<code class="fe le lf lg lh b">error</code>函数(回调):</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lt"><img src="../Images/7fec45ab5fbc1bd13d06b383b704f20f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oZ4Ya3w5ypd6BM3AeF1nRA.png"/></div></div></figure><p id="ee82" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，我们没有使用<code class="fe le lf lg lh b">void</code>而是使用了<code class="fe le lf lg lh b">never</code>，因为推断的返回类型是<code class="fe le lf lg lh b">never</code>。</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi kb"><img src="../Images/7d7b8e229c23a1b50a77ec5e0aae9f03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bgzesRZpes2KJYFRWRgFkw.png"/></div></div></figure><ul class=""><li id="1748" class="lu lv it ki b kj kk kn ko kr lw kv lx kz ly ld lz ma mb mc bi translated"><strong class="ki iu"> null </strong> —没有任何值</li><li id="e3e9" class="lu lv it ki b kj md kn me kr mf kv mg kz mh ld lz ma mb mc bi translated"><strong class="ki iu">未定义</strong> —变量已经声明，但尚未赋值</li></ul><p id="48bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它们本身不是很有用:</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mi"><img src="../Images/96895010037623fbd384b534dcfb2c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PwsNVPPzy7qav43uRHKBRg.png"/></div></div></figure><p id="de26" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">默认情况下，<code class="fe le lf lg lh b">null</code>和<code class="fe le lf lg lh b">undefined</code>是所有其他类型的子类型。这意味着您可以将<code class="fe le lf lg lh b">null</code>和<code class="fe le lf lg lh b">undefined </code>分配给类似于<code class="fe le lf lg lh b">number</code>的东西。</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mj"><img src="../Images/1baf4770d032699ca86b95461bc1bb33.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*q6FsoxR0Qou54lG040J2KQ.jpeg"/></div></div><p class="lp lq gj gh gi lr ls bd b be z dk translated"><a class="ae ln" href="https://stackoverflow.com/a/44388246/5073961" rel="noopener ugc nofollow" target="_blank">来源</a></p></figure><p id="63a0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Axel Rauschmayer博士写了一篇关于<code class="fe le lf lg lh b">null</code>和<code class="fe le lf lg lh b">defined</code>的很棒的文章。</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi kb"><img src="../Images/2dfb15da294464f64f38a2bac8d4a0ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x3Y773t23Pc1VlhYWXB0TQ.png"/></div></div></figure><p id="7304" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您知道某个实体的类型可能比其当前类型更具体，通常会发生类型断言。</p><p id="e57b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">类型断言没有运行时影响，纯粹由编译器使用。TypeScript假定您(程序员)已经执行了您需要的任何特殊检查。</p><p id="9026" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一个快速演示:</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mk"><img src="../Images/e793da5b23c6a4ec87f92880cf406a08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LGa_fcmyWZSCzduOKqHgpw.png"/></div></div></figure><p id="849a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">括号<code class="fe le lf lg lh b">&lt;&gt;</code>语法与<a class="ae ln" href="https://reactjs.org/docs/jsx-in-depth.html" rel="noopener ugc nofollow" target="_blank"> JSX </a>冲突，所以我们使用<code class="fe le lf lg lh b">as</code>语法代替。</p><figure class="kc kd ke kf gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ml"><img src="../Images/54660651f53ab8401c046b04bb41c9ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgrkjRVkPhwu7hHAacWwaQ.png"/></div></div></figure><p id="ceb3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有更多关于<a class="ae ln" href="https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html" rel="noopener ugc nofollow" target="_blank">类型断言</a>的内容。</p><p id="fa73" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">万一你想深入学习TypeScript，这里有一本</strong> <a class="ae ln" href="https://amzn.to/2lfpdeg" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu">书我推荐</strong> </a>。</p><p id="20aa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对你的JavaScript游戏感到不舒服，不用担心！这里有一本关于掌握JavaScript的<a class="ae ln" href="https://amzn.to/2lJS62r" rel="noopener ugc nofollow" target="_blank">书</a>！</p><h1 id="851c" class="mm mn it bd mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj bi translated">值得考虑的好东西</h1><ul class=""><li id="a16b" class="lu lv it ki b kj nk kn nl kr nm kv nn kz no ld lz ma mb mc bi translated"><a class="ae ln" href="https://basarat.gitbooks.io/typescript/docs/types/interfaces.html" rel="noopener ugc nofollow" target="_blank">接口</a> s</li><li id="f6ab" class="lu lv it ki b kj md kn me kr mf kv mg kz mh ld lz ma mb mc bi translated"><a class="ae ln" href="https://github.com/DefinitelyTyped/DefinitelyTyped" rel="noopener ugc nofollow" target="_blank">明确类型化</a></li><li id="b576" class="lu lv it ki b kj md kn me kr mf kv mg kz mh ld lz ma mb mc bi translated"><a class="ae ln" href="https://basarat.gitbooks.io/typescript/docs/types/discriminated-unions.html" rel="noopener ugc nofollow" target="_blank">工会</a></li><li id="1020" class="lu lv it ki b kj md kn me kr mf kv mg kz mh ld lz ma mb mc bi translated"><a class="ae ln" href="https://www.typescriptlang.org/docs/handbook/classes.html" rel="noopener ugc nofollow" target="_blank">班级</a></li><li id="3f9f" class="lu lv it ki b kj md kn me kr mf kv mg kz mh ld lz ma mb mc bi translated"><a class="ae ln" href="https://github.com/dzharii/awesome-typescript" rel="noopener ugc nofollow" target="_blank">牛逼的打字稿</a></li></ul><p id="30fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在——用Typescript构建一些很棒的东西！这里有一个有趣的应用程序列表。</p><p id="a307" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你准备好深入研究TypeScript，我建议你从阅读“<a class="ae ln" href="https://amzn.to/315nW8Z" rel="noopener ugc nofollow" target="_blank"> <em class="np">编程TypeScript:让你的JavaScript应用程序伸缩</em> </a>”这本书开始。</p><h1 id="45cd" class="mm mn it bd mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj bi translated">感谢阅读，保持敬畏！❤</h1></div></div>    
</body>
</html>