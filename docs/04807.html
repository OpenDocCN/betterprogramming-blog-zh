<html>
<head>
<title>5 Risks That Should Be Avoided in Software Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">软件项目中应该避免的5种风险</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/five-risks-that-should-be-avoided-for-software-projects-d4609b1cba39?source=collection_archive---------15-----------------------#2020-05-11">https://betterprogramming.pub/five-risks-that-should-be-avoided-for-software-projects-d4609b1cba39?source=collection_archive---------15-----------------------#2020-05-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2b79" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过降低已知的安全风险来保护应用程序的源代码和环境</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2a883d80e2042586f6dfa330181814ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*07wQZ8uO0jht8ftG"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@loicleray?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Loic Leray </a>拍摄的照片</p></figure><p id="9266" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安全性是计算世界中最重要的话题之一，包括软件工程。安全主题涵盖了广泛的领域，从基础设施的物理安全到应用程序安全领域。解决这些安全问题并防范已知的安全问题是每个软件项目必须做的事情。</p><p id="f1f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，需要在项目生命周期的早期解决安全性问题，并将其与开发过程集成，以确保开发安全的软件应用程序，并减少从安全角度提高软件质量所需的工作。</p><p id="b4ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，建议您在软件开发周期中以敏捷的方式考虑安全性主题，而不是在以后的单个一次性阶段中考虑。</p><p id="bdf8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将讨论五个常见的风险或安全问题，它们需要在项目的生命周期中定期讨论和考虑。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5203" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">第一个风险:开放接入基础设施</strong></h1><p id="0628" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">从基础设施安全的角度出发，我们需要考虑用于构建基础设施的所有工具和第三方服务。</p><p id="0e84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了进一步解释，每个软件项目都需要一些基础设施服务来管理软件开发周期，并使用持续集成、交付和部署工具来支持自动化。这类工具的例子有Jenkins、Docker Registry、软件包管理器和存储库等。</p><p id="c12f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些工具的主要使用案例包括:</p><ul class=""><li id="b766" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">管理、存储软件包并对其进行版本控制</li><li id="1b28" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">运行CI/CD管道</li><li id="584d" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">将软件包交付或部署到相应的环境中</li></ul><p id="e6db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开放访问(无认证)的情况下运行上述工具和基础设施服务会暴露以下安全风险:</p><ul class=""><li id="a1b9" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">注入恶意代码很容易，因为任何能够访问软件库的人都能够在没有任何身份验证的情况下注入代码</li><li id="680c" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">未经授权的操作很容易实现。例如，使用开放访问的Jenkins服务器，任何人都可以触发任务并部署到生产环境中。</li><li id="cc13" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">不可能追踪执行这些操作的个人。换句话说，很难找出这些行为的责任人。</li></ul><p id="7d28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了能够降低开放存取风险，请实施以下措施:</p><ul class=""><li id="ed3f" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">每个工具或第三方服务都必须受到身份验证机制的保护。使用集中的身份验证服务器(如Active Directory或OpenLDAP)来管理用户帐户，而不是使用几种分散的机制。用户和管理员都会对这样的解决方案感到满意，因为用户不需要记住很多密码，管理员也不需要管理多个用户群。</li><li id="c17a" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">需要实现动作授权，以防止未经授权的动作</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ae37" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">第二个风险:硬编码配置</strong></h1><p id="aa5b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">软件应用程序由三个部分组成:业务逻辑(由实际代码表示)、应用程序数据(理想情况下，存储在数据库中)和应用程序配置(影响应用程序行为的数据值的属性)。配置项的一个例子是数据库IP、必需的依赖项和应用程序支持的语言。</p><p id="3da3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将应用程序数据和配置与应用程序的源代码混合有以下缺点:</p><ul class=""><li id="b297" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">重新配置应用程序需要更新源代码、构建应用程序和重新部署——这是一项繁重的工作</li><li id="32cb" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">任何有权访问应用程序源代码的人都可以看到这些配置。这是一个安全风险，因为它可能会导致向客户暴露意外的信息。例如，如果一个应用程序硬编码了与内部基础设施相关的配置项，然后被发送到外部客户端或发布在GitHub上，该软件的客户将能够找到关于该基础设施的内部信息。</li></ul><p id="bc1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了能够降低开放存取风险，请实施以下措施:</p><ul class=""><li id="fdfd" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">必须禁止硬编码的配置，并将其从源代码中删除</li><li id="6919" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">应该在运行时从数据库加载和管理配置(这是理想的解决方案，因为它可以在不重新部署的情况下动态更改)，或者在部署时从一组预定义的环境变量加载和管理配置(在我看来，这应该仅限于应用程序能够启动所需的配置，比如数据库URL)</li><li id="eeac" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">应该尽可能避免构建时配置</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9af7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">第三种风险:明文秘密</strong></h1><p id="bbf2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在应用程序的源代码中存储敏感数据(如密码或秘密)比存储常规配置项目要危险得多。</p><p id="75e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在应用程序中存储数据库IP暴露了关于项目基础设施的信息。然而，存储数据库密码将暴露对数据库的访问，任何能够阅读源代码并能够连接到数据库服务器的人都可以访问它。</p><p id="b73a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，避免在应用程序源代码中存储明文机密或密码。为了充分降低这种风险，需要实施以下行动项目”</p><ul class=""><li id="9fa7" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">密码、秘密或任何其他敏感数据(也包括配置项)不得被管理或提交给应用程序源代码或存储库。应该使用专用的存储库来管理和维护应用程序的机密和敏感数据。只有负责运行环境的工程师才能访问这个存储库。</li><li id="898a" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">密码、机密或任何敏感数据应以加密形式存储，而不是以纯文本数据的形式存储</li><li id="da38" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">加密密钥不应该在工程师之间分发或共享，它应该只对相应的环境可用</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="e033" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">第四个风险:未受保护的应用端点</strong></h1><p id="0509" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">出于管理目的开发和实现API和web端点是很常见的。这些端点用于重新配置应用程序以及操作和检查应用程序数据库。虽然这些端点可能对开发和测试环境非常有帮助，但是它们会给生产环境带来安全风险。</p><p id="8845" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，所有可能导致数据泄露或为最终用户提供管理员界面来重新配置或操作应用程序数据的API或web端点都需要受到保护。以下是减轻这种风险的一些建议。</p><ul class=""><li id="abcd" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">仅在生产环境中公开所需的端点。为开发和调试目的而开发的端点不应该在生产环境中公开。</li><li id="496a" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">使用基本的身份验证凭证，或者更好的是，使用适当的身份验证和授权解决方案，保护部署到生产环境的公开终端或管理界面</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="bfa1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">第五个风险:没有TLS通信</strong></h1><p id="a21a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">软件应用程序相互通信，尤其是遵循微服务架构模式的软件应用程序。此外，应用程序还与基础设施服务和应用程序(如数据库、邮件服务器和消息代理)进行通信。</p><p id="b6de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果在没有TLS支持的情况下实现这些通信，通信数据将以明文格式在服务之间传输。因此，攻击者将能够嗅探通信数据，并能够根据获取的信息执行攻击。</p><p id="2b5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，建议支持并使用服务间的TLS通信来防范此类攻击。下面是在实施这种改变时应该考虑的一些准则。</p><ul class=""><li id="70ad" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">在服务之间使用基于HTTP的HTTPS通信，并启用verify-SSL特性以确保服务器具有有效的SSL证书</li><li id="d4f0" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">为您的服务使用支持的TLS协议。例如，截至2020年3月31日，<a class="ae ky" href="https://blog.pcisecuritystandards.org/are-you-ready-for-30-june-2018-sayin-goodbye-to-ssl-early-tls" rel="noopener ugc nofollow" target="_blank"> TLS 1.0和1.1将不再受支持</a>。在此之后，所有终端都将被要求支持TLS 1.2，以便与许多服务正常运行，如<a class="ae ky" href="https://support.umbrella.com/hc/en-us/articles/360033350851-End-of-Life-for-TLS-1-0-1-1-" rel="noopener ugc nofollow" target="_blank">思科保护伞</a>。而且，<a class="ae ky" href="https://security.googleblog.com/2018/10/modernizing-transport-security.html" rel="noopener ugc nofollow" target="_blank">谷歌</a>，<a class="ae ky" href="https://blogs.windows.com/msedgedev/2018/10/15/modernizing-tls-edge-ie11/" rel="noopener ugc nofollow" target="_blank">微软</a>，<a class="ae ky" href="https://webkit.org/blog/8462/deprecation-of-legacy-tls-1-0-and-1-1-versions/" rel="noopener ugc nofollow" target="_blank">苹果</a>，<a class="ae ky" href="https://blog.mozilla.org/security/2018/10/15/removing-old-versions-of-tls/" rel="noopener ugc nofollow" target="_blank"> Mozilla </a>都已经宣布，自2020年3月起，他们的浏览器将不再支持TLS 1.0和1.1。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0a72" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated"><strong class="ak">结论</strong></h1><p id="4b4f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在软件应用程序的生命周期中，应该定期解决和考虑安全性问题。应用程序中引入的每个更改都应该从安全的角度进行评估。</p><p id="3f86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文强调了大多数软件应用程序和环境基础设施设置应该避免和减轻的五种不同风险。</p></div></div>    
</body>
</html>