<html>
<head>
<title>How to Make Sure Your Website Doesn’t Suck After Google’s Core Vitals Update</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何确保你的网站在谷歌核心指标更新后不会很烂</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-make-sure-your-website-doesnt-suck-after-google-s-core-vitals-update-f4dd66d795f8?source=collection_archive---------5-----------------------#2020-12-18">https://betterprogramming.pub/how-to-make-sure-your-website-doesnt-suck-after-google-s-core-vitals-update-f4dd66d795f8?source=collection_archive---------5-----------------------#2020-12-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8b94" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">停下手头的工作，打开Chrome，导航到灯塔工具——你会需要它的</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d1033188d00091ac103e190e1b71875a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vZY-NGIBOmtgppmjfmQMvA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">米切尔·罗在<a class="ae ky" href="https://unsplash.com/s/photos/google?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="368f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谷歌早在2020年5月就宣布，“核心生命体征”将很快成为搜索排名信号。这意味着拥有良好核心指标的网站有潜力排在那些不具备核心指标的网站之上。</p><p id="0f5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你管理一个网站，并且有SEO意识，那么我敢肯定你已经花了大量的时间试图安抚我们的搜索引擎霸主——从关键词分析和反向链接到网站地图和丰富的片段。用来提高你在Google SERPs(搜索引擎结果页面)中的地位的技术是不断变化的，你会很高兴地知道你现在需要学习另外三种。</p><p id="4159" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来介绍他们:</p><ul class=""><li id="6733" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">最大内容绘制(LCP):这是页面加载所需的时间。当页面的主要内容在视窗(用户可以看到的区域)中完成渲染时。</li><li id="08c9" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">首次输入延迟(FID):这是从用户第一次与一个元素交互开始到它做出响应的时间长度。</li><li id="a23f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">累积布局偏移(CLS):这是随着页面加载而移动的元素的度量。一个很好的例子是，当一个页面被加载后，当你点击某个东西时，它会移动。</li></ul><p id="976f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么我有什么权利写这个呢？</p><p id="a779" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我是一名12年以上的网络开发人员，多年来已经实施了很多SEO建议。我最近执行了一项任务，以获得完美的灯塔评分，并且非常接近，但有几件事一直困扰着我——我想与你分享这些小信息。我尽可能地保持高水平，因为有很多方法可以解决问题，我不想把我的建议局限于一种技术。</p><p id="1b32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mj">注意:这些要点的技术实现可能需要你重新思考你的整个网站的工作方式。</em></p><p id="e2be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看当谷歌核心要害(GCV)开始发挥作用时，我们的网站会在哪些典型的地方让我们失望。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="a0d4" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">从分析开始</h1><p id="7227" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">我第一次通过Lighthouse打开我当前的WordPress网站时，它显示了很多红色，感觉有点像《闪亮的T7》中的电梯场景。</p><p id="07d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于那些不知道Lighthouse是什么的人来说，当你在Chrome中打开开发者工具，让你在自己的网站上运行测试，看看你的GCV怎么样时，这是最正确的选择。简单来说，绿色是好的，橙色可能更好，红色是坏的。非常糟糕。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/f10c12048584c034e37afbe73c3e33ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*p53ST1seeeJXYPUigUcPXA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">灯塔反馈例子。</p></figure><p id="8969" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的网站因性能(或多或少涵盖了GCV的一切)而红了之后，我流下了轻微的眼泪。当我注意到30个CSS和JavaScript文件都是前所未闻的插件时，我该如何解决这个问题呢？</p><p id="ea17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，Lighthouse给了你一个有用而详细的是非分类。阅读它，消化它，然后开始思考如何修复它。其中一些看起来很简单。在其他部分，您将不知道它在谈论什么或从哪里开始。这就是你作为谷歌搜索大师的高超技能派上用场的地方。</p><p id="444f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在请在Lighthouse测试你的网站。我想你会感到不愉快的惊讶。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="fab3" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">尽量减少JavaScript和CSS的使用</h1><p id="8750" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">这包括两个部分:</p><ul class=""><li id="e898" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">一个是减少页面加载时呈现阻塞文件的数量</li><li id="e72a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">另一个是确保只加载需要的CSS和JavaScript。对两者进行分类将有助于LCP和FID。</li></ul><p id="d4bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解决这个问题的一个很好的方法是将CSS和JavaScript合并成一个文件。更进一步，将输出源代码中的代码，以便根本不调用任何文件。</p><p id="67c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二部分有点棘手，因为GCV会因为你加载了你不需要的JavaScript和CSS而惩罚你。这里的想法是“如果它没有被使用，你为什么要加载它，浪费宝贵的页面下载时间？”</p><p id="ea6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">涵盖这两个问题的理想解决方案是在页面加载时调用一个小的JavaScript和CSS文件。这些文件将只初始化用户视窗中显示的内容所需的样式和代码。然后，在页面加载之后，您将加载另外两个文件，以引入其他所有内容。</p><p id="7202" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你的网站使用了很多插件或框架(比如jQuery)，那么你将会有大量不必要的文件、样式和代码用于初始页面加载。不幸的是，没有简单的方法可以解决这个问题，除非你卸载所有的插件，消除对框架的依赖，否则你可能永远无法到达绿色的圣地。</p><p id="a1cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是这并不完全是悲观的。</p><p id="5b06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着对性能更好的网站需求的增长，WordPress/plugin/framework开发者在开发他们的应用程序时必须注意这一点。从长远来看，这种新的关注点将惠及所有网站(包括你的网站)。</p><p id="e428" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，当你坐在那里等待你的插件制造商赶上后废弃的谷歌世界时，你的竞争对手可能已经在实现一个解决方案了。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="9621" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">对WebP使用延迟加载</h1><p id="f603" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">延迟加载图像并不是什么新鲜事。多年来，这一直是改善网站加载时间的主要手段。但是结合谷歌的WebP格式，你会得到一个强大的配对，因为WebP图像的磁盘大小可以比png小26%。</p><p id="824b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于没有听说过WebP的人，这里有一个简单的解释:</p><blockquote class="np nq nr"><p id="e082" class="kz la mj lb b lc ld ju le lf lg jx lh ns lj lk ll nt ln lo lp nu lr ls lt lu im bi translated">“WebP是一种现代图像格式，为web上的图像提供了卓越的无损和有损压缩。使用WebP，网站管理员和web开发人员可以创建更小、更丰富的图像，使web速度更快。”— <a class="ae ky" href="https://developers.google.com/speed/webp" rel="noopener ugc nofollow" target="_blank">谷歌开发者</a></p></blockquote><p id="6e0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">惰性加载的概念是为一个项目使用一个占位符，然后当屏幕上需要这个项目时，它将图像调用到占位符中。例如，如果一个页面上有10个图像，其中两个可能只在页面加载时可见，那么为什么还要加载另外八个呢？延迟加载——通常通过JavaScript完成——会在您向下滚动页面时拉入剩余的八个，减少LCP，因为您只加载您需要的信息。</p><p id="eb12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">延迟加载时要考虑确保占位符有一个设定大小的区域。这将有助于最小化CLS，这当然你不想打乱。WebP也不能在所有的浏览器上工作(例如，旧的Safari浏览器)，所以确保使用PNG/JPEG回退，利用<code class="fe nv nw nx ny b">&lt;picture&gt;</code> HTML标签。</p><p id="79f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你甚至可以更进一步，懒惰地加载其他可能损害你的LCP的东西，比如谷歌地图，因为谷歌地图极大地损害了你的性能分数。</p><p id="dd76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的关键是，只要不影响用户体验(即网站在被浏览时仍然有意义)，那么GCV就会给你竖起大拇指。当然，拥抱也很好，但是我们必须一步一步来。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="9a72" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">检查您的服务器</h1><p id="e3cf" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">再多节省时间的调整也无法从缓慢的服务器上挽救您的LCP。</p><p id="5733" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你的网站加载缓慢，可能是因为服务器很难呈现它。如果输出一个页面需要进行大量的处理，那么检查一下以确保没有瓶颈是值得的。</p><p id="e72b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有足够的处理能力，内存，或有一个缓慢的硬盘驱动器(即不是固态硬盘)可以迅速降低您的网站。如果你的网站加载速度仍然没有你想象的那么快，一定要检查你的服务器。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="f878" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">当心谷歌的软件套件</h1><p id="b76a" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">谷歌，我们永远亲切的搜索引擎大师，不仅给我们增加了更多的障碍，还让我们欲盖弥彰。</p><p id="8a04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的网站使用了最受欢迎的谷歌产品，如地图、分析和AdSense，但由于谷歌的存在，这三个产品都红了。</p><p id="26a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">延迟加载解决了地图问题，但是其他两个呢？</p><p id="5319" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在用于标准谷歌分析的谷歌标签管理器毁了我的LCP，因为它的JavaScript文件太大了，很多都是不需要的。对此的部分解决方案是使用原始的Analytics JavaScript代码，并使用<code class="fe nv nw nx ny b">&lt;link href="//www.google-analytics.com" rel="preconnect" /&gt;</code>预加载域。如果您将Tag Manager用于其他用途，那么这可能是一个更具挑战性的问题。</p><p id="3fd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AdSense有点像野兽，因为它需要图像和其他文件来组成它所服务的广告(我找不到这个问题的解决方案，所以如果你有，请在评论中分享)。但我开始怀疑我从AdSense获得的收入是否超过了拥有一个了不起的GCV分数的好处。我认为是的。AdSense是我收入的一大部分，因为沉迷于取悦谷歌而失去它似乎是不明智的。这里的好处是，如果GCV确实成为谷歌排名系统的一个突出部分，我可以很快关闭AdSense，重新收获我努力工作的所有好处。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="cee0" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">结论</h1><p id="429b" class="pw-post-body-paragraph kz la it lb b lc nj ju le lf nk jx lh li nl lk ll lm nm lo lp lq nn ls lt lu im bi translated">谷歌将一种精益方法应用于网站基础，将通过提高页面速度和用户体验来提升标准。</p><p id="b562" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，精益的三个核心理念与GCV的更新非常契合:</p><ul class=""><li id="2d49" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">向客户交付价值=更好的用户体验。</li><li id="cb36" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">消除浪费=只使用网站需要的代码和文件。</li><li id="d645" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">持续改进= GCV自然会实施改进。</li></ul><p id="1eca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谷歌的更新不仅仅是一个“新的搜索引擎优化信号”。这是一种精神状态，感觉使用任何旧的框架或插件来完成工作的日子将慢慢消失。</p><p id="fe71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">未来的web开发将需要额外的审查和测试，以便不破坏为获得完美的性能分数所付出的努力。这也将鼓励网站管理员和网站开发人员更加认真地审视他们的网站，对他们管理的代码提出更具挑战性的问题。</p><p id="c3dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谷歌搜索引擎优化的竞争从未如此激烈，如果你的业务依赖于一个体面的排名，GCV应该是你的搜索引擎优化的重要组成部分。</p><p id="eef0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有一个击败竞争对手的绝好机会。别浪费了。</p></div></div>    
</body>
</html>