<html>
<head>
<title>Understanding Content Projection in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从角度理解内容投影</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understanding-content-projection-in-angular-81c9a40d63dc?source=collection_archive---------5-----------------------#2019-06-06">https://betterprogramming.pub/understanding-content-projection-in-angular-81c9a40d63dc?source=collection_archive---------5-----------------------#2019-06-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="592b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">内容投影，是什么？</h2></div><p id="aa54" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">内容投影(也称为transclusion)是一种从组件外部导入HTML内容并将该内容插入到组件模板中指定位置的方法。</p><p id="404b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，使用内容投影，您可以获得下图所示的结果。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/e0f6897ffc59dca8aa14b5468f2ad497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4WsQ3ww9rk2K7zmY.png"/></div></div></figure><p id="e357" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，该组件像镜子一样工作。另一个更复杂的示例如下图所示，其中配置了一封包含用户数据的信函。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi lq"><img src="../Images/cb491b48bf9020ee1ceac7aad9a082d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*K-a_YvW5BmDIqe2c.png"/></div></div></figure><h2 id="5dd2" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">什么是ng容器？</h2><p id="c441" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">Angular ng-container是一个分组元素(语法元素),它不会干扰样式或布局，因为Angular没有把它放在DOM中。</p><p id="eeba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用<strong class="kk iu">结构指令</strong>来处理它。</p><p id="d8ba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结构化指令通过添加、移除或操作DOM元素来更改DOM布局。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mp"><img src="../Images/dd98d0dfa3bce76c6d1ec82f60c8efcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VoCmlu_pAqH6XFMX.png"/></div></div></figure><p id="f4fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mq mr ms mt b">am-icon</code>是以下组件:</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi mu"><img src="../Images/5f567f770c44ef99ec09d367c91f442b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GPArrg3qDWVEsM2L7hHkzA.png"/></div></div></figure><p id="13ef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果是一个图标，而不是四个，正如我们所料。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="07a3" class="nc ls it bd lt nd ne nf lw ng nh ni lz jz nj ka mc kc nk kd mf kf nl kg mi nm bi translated">ng-content是如何工作的？</h1><ul class=""><li id="f44a" class="nn no it kk b kl mk ko ml kr np kv nq kz nr ld ns nt nu nv bi translated"><code class="fe mq mr ms mt b">ng-content</code>不产生内容。它只是投射现有的内容</li><li id="7a6a" class="nn no it kk b kl nw ko nx kr ny kv nz kz oa ld ns nt nu nv bi translated">期望的一致性</li><li id="c948" class="nn no it kk b kl nw ko nx kr ny kv nz kz oa ld ns nt nu nv bi translated">表演</li><li id="587f" class="nn no it kk b kl nw ko nx kr ny kv nz kz oa ld ns nt nu nv bi translated">根据前面的规则，它既不能创建也不能破坏计划的组件(生命周期)。</li><li id="f7bb" class="nn no it kk b kl nw ko nx kr ny kv nz kz oa ld ns nt nu nv bi translated">只有最后的<code class="fe mq mr ms mt b">ng-content</code>项目内容。</li></ul><p id="3daa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还有…我能做什么？这里<code class="fe mq mr ms mt b">ng-template</code>来救援了…</p><h2 id="8d68" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated"><strong class="ak">什么是ng模板？</strong></h2><p id="298c" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">顾名思义，它是一个模板元素:一个可以实例化的模型。因此，您可以将模板设置为组件的输入，这非常有用。</p><h2 id="b2ac" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated"><strong class="ak">星号(*)语法</strong></h2><p id="eb9c" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">星号是稍微复杂一点的语法糖。</p><p id="5ac1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你通常会看到:<code class="fe mq mr ms mt b">*ngIf</code>、<code class="fe mq mr ms mt b">*ngFor</code>、<code class="fe mq mr ms mt b">*anyDirective</code>、…</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ob"><img src="../Images/90e9083cc47a3d1cae4610a1bf0580dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*It_YBGVJBxRvIdqC.png"/></div></div></figure><p id="de98" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么我们的重复成分呢？</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi oc"><img src="../Images/0fbbd43127cc0ed3d50bd372afc4f975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XI4UgqiHedvIr33D.png"/></div></div></figure><h2 id="c902" class="lr ls it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated"><strong class="ak">那ngTemplateOutlet是什么？</strong></h2><p id="332f" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated"><code class="fe mq mr ms mt b">ngTemplateOutlet</code> <strong class="kk iu"> </strong>指令接收一个ng模板。它负责创建实例并将其插入DOM。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi od"><img src="../Images/a8134427a46738c1a82897dc45106341.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0nf7-yJglL59RXkR.png"/></div></div></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="f4ba" class="nc ls it bd lt nd ne nf lw ng nh ni lz jz nj ka mc kc nk kd mf kf nl kg mi nm bi translated">是啊，就像JS里的上下文！</h1><p id="b9d5" class="pw-post-body-paragraph ki kj it kk b kl mk ju kn ko ml jx kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">我们可以给实例一个对象，它是由ng模板的<code class="fe mq mr ms mt b">ngTemplateOutlet</code>创建的。该对象可以包含您想要传递给模板的任何内容。在这里，我们揭露了很多库组件的神奇之处(<code class="fe mq mr ms mt b">datatables</code>、<code class="fe mq mr ms mt b">angular-material</code>、<code class="fe mq mr ms mt b">ng-bootstrap</code>等)。).</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="232e" class="nc ls it bd lt nd ne nf lw ng nh ni lz jz nj ka mc kc nk kd mf kf nl kg mi nm bi translated">我们可以做很棒的事情！</h1><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi od"><img src="../Images/197d17b57e966220c5c6edf1c9677215.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pk5PbZUuW8FGwFmS.png"/></div></div></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="bea7" class="nc ls it bd lt nd ne nf lw ng nh ni lz jz nj ka mc kc nk kd mf kf nl kg mi nm bi translated">更多更多…</h1><ul class=""><li id="d003" class="nn no it kk b kl mk ko ml kr np kv nq kz nr ld ns nt nu nv bi translated"><a class="ae oe" href="https://caballerog.github.io/ng-transclusion/slides/" rel="noopener ugc nofollow" target="_blank">演示文稿</a></li><li id="c388" class="nn no it kk b kl nw ko nx kr ny kv nz kz oa ld ns nt nu nv bi translated">这个岗位的GitHub分支是<a class="ae oe" href="https://github.com/Caballerog/ng-transclusion/" rel="noopener ugc nofollow" target="_blank">https://github.com/Caballerog/ng-transclusion/</a></li></ul></div></div>    
</body>
</html>