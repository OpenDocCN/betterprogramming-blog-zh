<html>
<head>
<title>Arrow Function vs Function in JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">箭头函数与JS中的函数</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/arrow-function-vs-function-in-js-81f7a70b1295?source=collection_archive---------1-----------------------#2019-07-05">https://betterprogramming.pub/arrow-function-vs-function-in-js-81f7a70b1295?source=collection_archive---------1-----------------------#2019-07-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d6fac33457aae083178cd1eae915051f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G6zvXMZc4UZ73rdpc4r5nQ.png"/></div></div></figure><p id="f708" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ES6中引入的最受欢迎的功能之一是箭头功能(也称为<em class="kz">胖箭头功能</em>)。这是定义函数的简洁方法。</p><p id="4b37" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">考虑下面的例子:</p><figure class="la lb lc ld gt ju"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="19ab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但这并不是箭头函数如此流行的唯一原因。</p><p id="4ee4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">arrow函数解决了JavaScript的一个非常令人困惑的方面——我喜欢称之为<em class="kz"> this </em>指针不确定性。</p><p id="8c3e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们先来了解一下<em class="kz">这个</em>指针不确定性是什么。看看下面的代码:</p><figure class="la lb lc ld gt ju"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="5ccd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里发生了什么？</p><p id="367a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在JavaScript中，考虑一个附加到对象的函数。对于该函数，<em class="kz"> this </em>指针指向定义该函数的同一个对象(在我们的例子中是<code class="fe lg lh li lj b">jsObject</code>)。</p><p id="5a27" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以，当我们的代码在<code class="fe lg lh li lj b">jsObject</code>中寻找名为<em class="kz"> message </em>的变量时，它找不到。让我们修改代码并在我们的对象中添加<code class="fe lg lh li lj b">message</code>变量。</p><figure class="la lb lc ld gt ju"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="f232" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">注意对象中的变量赋值。</p><p id="0575" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我们给内部消息变量<code class="fe lg lh li lj b">jsObject</code>赋值时，<em class="kz"> this </em>指针仍然指向全局对象。</p><p id="eb9f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是早些时候，当同一个<em class="kz">这个</em>指针在函数内部使用时，它指向了别的地方，也就是指向我们的<code class="fe lg lh li lj b">jsObject</code>。</p><p id="fd5e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当在JavaScript中调用函数时，这个指针将要指向的<em class="kz">的位置并不是由函数定义的编写位置决定的。相反，重要的是如何调用函数。</em></p><p id="bfcc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，在一个大的应用程序中，很难跟踪这个指针以及将所需的值传递给适当的函数。这就是箭头函数语法的用武之地。</p><p id="41ae" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你正在访问函数中的这个指针，并且你想让它指向函数定义的周围代码，使用箭头语法。</p><p id="34d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们用箭头语法写<code class="fe lg lh li lj b">printMessage</code>，看看会发生什么。</p><p id="91c4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">同样，改变内部变量<code class="fe lg lh li lj b">message</code>的值，这样我们就知道当我们调用函数时这个指针指向哪里。</p><figure class="la lb lc ld gt ju"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="5822" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是粗箭头函数解决<em class="kz">和</em>指针不确定性问题的方法。</p><p id="2b0f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在使用arrow函数时，不要假设<em class="kz">这个</em> <strong class="kd iu"> </strong>指针总是指向全局对象。</p><p id="ead8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">重要的是要注意，当你使用箭头函数定义函数时，这个指针将指向<em class="kz">的什么地方完全取决于函数定义的周围代码。</em></p><p id="58a4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>