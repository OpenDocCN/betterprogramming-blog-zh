<html>
<head>
<title>An Easy To Use Guide for Twitter Search API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Twitter搜索API的易用指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/an-easy-to-use-guide-for-twitter-search-api-5e1f4835d841?source=collection_archive---------13-----------------------#2022-04-08">https://betterprogramming.pub/an-easy-to-use-guide-for-twitter-search-api-5e1f4835d841?source=collection_archive---------13-----------------------#2022-04-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9815" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">搜索、过滤等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/340906f0ec56faf704cc93abc19ba127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z6u7LPwSJ9BMoeoV"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">布雷特·乔丹在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="c63c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="078c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">脸书、Instagram和Twitter被认为是顶级的社交媒体平台。根据<a class="ae ky" href="https://www.businessofapps.com/data/instagram-statistics/" rel="noopener ugc nofollow" target="_blank"> BusinessofApps </a>的数据，脸书、Instagram和Twitter每月分别拥有2700、1160和3.3亿估计活跃用户。通过观察这些数字，我们可以说社交媒体已经成为最大的数据来源之一。</p><p id="c8db" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">尽管脸书和Instagram拥有更多活跃用户，Twitter仍然是学术研究人员和开发者最受欢迎的平台。主要原因可能是Twitter提供的数据的可用性和洞察力。</p><p id="e9f8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">据Oberlo 称，截至2018年，每天有5亿条推文被发送。这相当于每秒5787条推文。起初，Twitter只是被用作一个文本平台，但随着越来越受欢迎，它也被用于分享照片和视频。除了分享他们的想法和创意，许多人把Twitter作为一个教程和社区平台。</p><h1 id="7115" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">Twitter开发者账户</h1><p id="8d8a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在使用Twitter API之前，我们需要设置一个开发人员帐户，并需要创建一个项目来获取API密钥。如果您没有Twitter账户，您需要创建一个，然后前往<a class="ae ky" href="https://developer.twitter.com/en/portal/dashboard" rel="noopener ugc nofollow" target="_blank"> Twitter开发者仪表板</a>并登录。您将看到如下图所示的控制面板:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/a387c236913779702f31b9edbb0a3a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q6fdTsOgbh4Bsw3N"/></div></div></figure><p id="cb72" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">点击创建项目按钮；它会带你到下面的屏幕。命名您的项目。你可以给它取任何名字，但是它应该是唯一的。我以项目MyBlogProject命名。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/9ea10779fedbfb1f6ed4cca17142dca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x6_bW4k0ZOeBkGJ-"/></div></div></figure><p id="ae22" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">之后，选择这个项目的原因，写下一些关于这个项目的描述。(我猜，没必要，反正他们就是问这些。)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/44da1452208a6bacd17a15c36d1796ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Bq9wyJ_BoZoNNC4_"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/4e6735c495df7b5016f4fe67f1e3e1d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZqDiVGUlu-JfXudm"/></div></div></figure><p id="fc2c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，您只需要给出应用程序的名称。同样，这并不重要，但它应该是唯一的。一旦您按下“完成”,您将获得API密钥，如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/160ba0a448d7f4649a914d7a64ffb060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RvZYWXprwfOpS9C_"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/d0b078f4804f6723139dadf039200fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5YRw-Qe6ILVzD3XY"/></div></div></figure><p id="e1f9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你可以现在复制这些密钥，也可以以后再得到它们。</p><p id="1997" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">不要和任何人分享你的钥匙。</p><p id="de28" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，如果你点击“项目和应用”，然后从左侧面板概览，你会看到你所有的项目和独立应用。您可以使用“项目”或“独立应用程序”中的两个或任何一个</p><p id="953c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于本教程，我们将使用我们在Project中创建的应用程序。你可以看到，我有两个项目内的应用程序和一个独立的应用程序。更早的时候，Twitter API只有一种，那就是V1.1，但当时我正在写博客，新的V2还处于早期接入阶段。因此，对于这个项目，我可以访问两个版本，而对于独立的应用程序，我只能访问1.1版。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/7772ca30ba3d3804a7f36fb33b3d78cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qOjUuHR7opoM0zdv"/></div></div></figure><h1 id="ab9d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">探索1.1版</h1><p id="01e2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">1.1版API中的每个端点都以<a class="ae ky" href="https://api.twitter.com/1.1/search/tweets.json" rel="noopener ugc nofollow" target="_blank">api.twitter.com/1.1/search/tweets.json</a>开始。我们可以根据需要使用不同的查询参数。在本教程中，我们使用的是标准API，它对使用有一些限制。根据<a class="ae ky" href="https://developer.twitter.com/en/docs/twitter-api/v1/tweets/search/api-reference/get-search-tweets" rel="noopener ugc nofollow" target="_blank">官方文件</a>，有多种查询参数可供选择，分别是:</p><ol class=""><li id="5648" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm my mz na nb bi translated"><code class="fe nc nd ne nf b">q</code></li><li id="39d0" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">geocode</code></li><li id="bd72" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">lang</code></li><li id="08e1" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">result_type</code></li><li id="0143" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">count</code></li><li id="274f" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">include_entities</code></li><li id="779a" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">until</code></li><li id="9ea6" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">since_id</code>和<code class="fe nc nd ne nf b">max_id</code></li><li id="7fc5" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">locale</code>(目前只有<code class="fe nc nd ne nf b">ja</code>有效，我们就避开这个。)</li><li id="d2f8" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><code class="fe nc nd ne nf b">tweet_mode</code>(这在官方文件中没有记录。)</li></ol><p id="ef8d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从上述参数中，只有<code class="fe nc nd ne nf b">q</code>是必需的查询参数，其他都是可选参数。</p><h1 id="b3ba" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">1.查询参数:q</h1><p id="4045" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">查询参数<code class="fe nc nd ne nf b">q</code>用于搜索特定的术语、标签和用户。例如，我们可以使用<code class="fe nc nd ne nf b">#python</code>来获取所有包含#python的tweet，或者我们可以使用<code class="fe nc nd ne nf b">"web development"</code>作为一个单词来检索所有包含“web development”的tweet。而且，通过使用<code class="fe nc nd ne nf b">@elonmusk</code>，我们可以获得用户埃隆·马斯克(Elon Musk)的所有推文和转发。</p><blockquote class="nl nm nn"><p id="950c" class="lr ls no lt b lu mn ju lw lx mo jx lz np mp mc md nq mq mg mh nr mr mk ml mm im bi translated"><em class="it">注意:标准API将只获取最近七天的数据，如果不使用count，它将只返回15个数据。</em></p></blockquote><ol class=""><li id="2fca" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm my mz na nb bi translated">用hashtag获取tweets的例子:python <br/> <code class="fe nc nd ne nf b"><a class="ae ky" href="https://api.twitter.com/1.1/search/tweets.json?q=%23python" rel="noopener ugc nofollow" target="_blank">https://api.twitter.com/1.1/search/tweets.json?q=%23python</a></code></li><li id="109d" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated">获取包含“web开发”的推文示例<code class="fe nc nd ne nf b">https://api.twitter.com/1.1/search/tweets.json?q="web development"</code></li><li id="9029" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated">用用户名elonmusk <code class="fe nc nd ne nf b"><a class="ae ky" href="https://api.twitter.com/1.1/search/tweets.json?q=@elonmusk" rel="noopener ugc nofollow" target="_blank">https://api.twitter.com/1.1/search/tweets.json?q=@elonmusk</a></code>获取tweets的例子</li></ol><p id="4117" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在这里，在第一个例子中，你可以看到我们使用了<code class="fe nc nd ne nf b">%23</code>而不是符号<code class="fe nc nd ne nf b">#</code>。我们需要使用这样的表示，因为我们不能在我们的URI中直接使用一些符号。默认情况下，Twitter API给出截断的tweet数据。因此，要获得完整的tweets，我们必须传递<code class="fe nc nd ne nf b">tweet_mode=extended</code>查询参数。</p><h1 id="b7e6" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">2.查询参数:“地理编码”</h1><p id="c0b9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一旦我们决定了要搜索什么，以及要搜索哪个标签、关键词或用户，我们就可以使用<code class="fe nc nd ne nf b">geocode</code>参数搜索特定地理位置的推文。这个查询参数是可选的，所以可以根据需要使用它。</p><p id="22d1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，如果我想搜索关键字“班加罗尔周围的python”，我需要传递纬度、经度和半径。因此，我将把查询参数作为<code class="fe nc nd ne nf b">geocode=12.97194,77.59369,1mi</code>传递。这里，<code class="fe nc nd ne nf b">12.97194,77.59369</code>和<code class="fe nc nd ne nf b">1mi</code>分别是纬度、经度和半径。其中1英里表示1英里。我们也可以用公里。</p><p id="b931" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要获得包含python关键字且在Bangalore一英里范围内的推文，可以使用以下URI: <code class="fe nc nd ne nf b"><a class="ae ky" href="https://api.twitter.com/1.1/search/tweets.json?q=python&amp;geocode=12.97194,77.59369,1mi" rel="noopener ugc nofollow" target="_blank">https://api.twitter.com/1.1/search/tweets.json?q=python&amp;geocode=12.97194,77.59369,1mi</a></code></p><h1 id="8c01" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">3.查询参数:“郎”</h1><p id="1451" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以获得特定语言的推文。例如，我们可以获得包含关键字“印度”且语言为印地语的推文。为了获取这种数据，我们可以使用如下所示的lang查询参数:<code class="fe nc nd ne nf b"><a class="ae ky" href="https://api.twitter.com/1.1/search/tweets.json?q=India&amp;lang=hi" rel="noopener ugc nofollow" target="_blank">https://api.twitter.com/1.1/search/tweets.json?q=India&amp;lang=hi</a></code></p><p id="5ccd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">人们可以使用下面的<a class="ae ky" href="https://en.wiktionary.org/wiki/Index:All_languages" rel="noopener ugc nofollow" target="_blank">维基百科</a>页面获得所有语言及其各自代码的列表。</p><h1 id="06e3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">4.查询参数:“结果类型”</h1><p id="0925" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">有些情况下，我们想要最近的推文，而有些情况下，我们想要最流行的推文。在这种情况下，我们可以使用查询参数<code class="fe nc nd ne nf b">result_type</code>。这个查询参数是可选的，就像<code class="fe nc nd ne nf b">geocode</code>一样。</p><p id="5e54" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们可以使用mixed、recent或popular作为<code class="fe nc nd ne nf b">result_type</code>，其中mixed是默认值。</p><h1 id="bdee" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">5.查询参数:“计数”</h1><p id="c0be" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当我们想要特定数量的tweets时，使用count参数。默认情况下，我们将获得15条推文，但是在一个请求中，我们最多可以获得100条推文。</p><h1 id="202d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">6.查询参数:“包含实体”</h1><p id="5ee3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">通过将查询参数<code class="fe nc nd ne nf b">include_entities</code>设为true，可以获得一些额外的数据。</p><p id="d8c5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">使用下图所示的URI给出了额外的<code class="fe nc nd ne nf b">entities</code>字段数据。<br/>T3】</p><p id="cfbe" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">实体数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ns nt l"/></div></figure><blockquote class="nl nm nn"><p id="efc3" class="lr ls no lt b lu mn ju lw lx mo jx lz np mp mc md nq mq mg mh nr mr mk ml mm im bi translated">这里需要注意的一点是，我用%22代替了双引号(")，用%20代替了空格。</p></blockquote><h1 id="6654" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">7.查询参数:“直到”</h1><p id="3b39" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">要获取特定日期之前创建的所有tweets，我们可以使用until查询参数。日期格式应为YYYY-MM-DD。请记住，搜索索引有七天的限制(对于标准API)。换句话说，超过一周的日期将找不到推文。</p><p id="697a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">当我写这个博客时，它是<code class="fe nc nd ne nf b">2021-03-28</code>，所以，我可以请求数据到<code class="fe nc nd ne nf b">2021-03-22</code>。如果我请求日期<code class="fe nc nd ne nf b">2021-03-21</code>，它会给我一个空数组。可以使用下面的格式来使用until参数:<br/> <code class="fe nc nd ne nf b">https://api.twitter.com/1.1/search/tweets.json?q=python&amp;until=2021-03-22</code></p><h1 id="16bd" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">8.查询参数:“自_id”和“最大_id”</h1><p id="3636" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">说真的，在文档中，我找不到我们如何获取/生成<code class="fe nc nd ne nf b">since_id</code>和<code class="fe nc nd ne nf b">max_Id</code>。</p><p id="5fb1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">根据文档，如果我们<code class="fe nc nd ne nf b">use _since<em class="no">id</em></code>，它将返回ID大于(即比)指定ID的结果。另一方面，<code class="fe nc nd ne nf b">_max<em class="no">id</em></code>将返回ID小于(即早于)或等于指定ID的结果。</p><h1 id="9300" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">布尔语法</h1><p id="185e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以使用布尔运算符和分组机制来获得更具体的tweets。我们可以使用逻辑And、OR和NOT(-)运算符。我们可以用<code class="fe nc nd ne nf b">use _round</code>括号对多个关键字和过滤器进行分组。</p><p id="0be8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果我们想搜索包含python和开发者的tweets，那么我们可以写<code class="fe nc nd ne nf b">q=python%20developer</code>。这将搜索带有关键词python和developer的tweets。这里，注意python和开发者不需要走到一起。</p><p id="4220" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果我们希望它们在一起，我们可以写<code class="fe nc nd ne nf b">q=%22python%20developer%22</code>或<code class="fe nc nd ne nf b">q="python developer"</code>。如果我们想要用python或者开发者的tweets，那么我们可以写<code class="fe nc nd ne nf b">q=(python OR developer)</code>。</p><p id="a633" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果我们想忽略带有某些关键字的推文，我们可以使用连字符(-)。因此，要获得带有关键字python或Django的tweets并忽略developer，我们可以编写一个类似于<code class="fe nc nd ne nf b">q=(python OR Django) -developer</code>的查询。</p><p id="849c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">注意</strong>:我们可以在查询中使用多个OR和negation。要使用多重否定而不是使用<code class="fe nc nd ne nf b">-(iPhone OR iMac OR MacBook)</code>，请使用下面的:<code class="fe nc nd ne nf b">-iPhone -iMac -MacBook</code>。</p><p id="a771" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">使用多重操作时可能会有一些不确定性。例如:</p><ul class=""><li id="84e6" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm nu mz na nb bi translated"><code class="fe nc nd ne nf b">apple OR iPhone iPad</code>将被评估为<code class="fe nc nd ne nf b">apple OR (iPhone iPad)</code></li><li id="d55a" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm nu mz na nb bi translated"><code class="fe nc nd ne nf b">iPad iPhone OR android</code>将被评估为<code class="fe nc nd ne nf b">(iPhone iPad) OR android</code></li></ul><p id="211c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了消除不确定性并确保您的规则得到预期的评估，请在适当的地方用括号将术语组合在一起。例如:</p><ul class=""><li id="2f6f" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm nu mz na nb bi translated"><code class="fe nc nd ne nf b">(apple OR iPhone) iPad</code></li><li id="27a4" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm nu mz na nb bi translated"><code class="fe nc nd ne nf b">iPhone (iPad OR android)</code></li></ul><h1 id="946e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">更多过滤器</h1><p id="c64b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">根据其他在线资源和官方文档，我们可以通过回复、转发以及基于帐户验证与否来过滤数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/d79331f9a1dcc4be9c2df7691c54019a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*5sZrL-kMzQomLoZPKCazJQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Twitter API的过滤器选项</p></figure><p id="9745" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要使用这些过滤器，我们需要逻辑AND和OR运算符。顾名思义，它的作用是一样的。要了解更多，我们可以通过一些例子。</p><ol class=""><li id="dd42" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm my mz na nb bi translated">获取带有关键词python的推文，排除转发:<code class="fe nc nd ne nf b">https://api.twitter.com/1.1/search/tweets.json?q=python AND -filter:retweets</code> <br/>或<br/> <code class="fe nc nd ne nf b">https://api.twitter.com/1.1/search/tweets.json?q=python AND exclude:retweets</code></li><li id="96c3" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated">获取带有关键词python的推文，排除回复:<code class="fe nc nd ne nf b">https://api.twitter.com/1.1/search/tweets.json?q=python AND -filter:replies</code> <br/>或<br/> <code class="fe nc nd ne nf b">https://api.twitter.com/1.1/search/tweets.json?q=python AND exclude:replies</code></li><li id="ee9a" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated">获取带有关键词python的推文，排除转发和回复:<code class="fe nc nd ne nf b">https://api.twitter.com/1.1/search/tweets.json?q=python AND -filter:retweets AND -filter:replies</code></li><li id="8ee9" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated">从一个经过验证的账户获取带有关键词“苹果iPad”的推文:<code class="fe nc nd ne nf b">https://api.twitter.com/1.1/search/tweets.json?q="apple iPad" AND filter:verified</code></li></ol><p id="15bd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">其他一些文件管理器包括:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/6436a6982dd5d6b1dc34685ec7934787.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PdfUydkqufNCZwS7wubAhw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Twitter API的过滤器选项</p></figure><p id="cd92" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">还有许多其他的过滤器，但是在这里把它们都提到并不是一个好主意。你可以在官方文档中找到所有其他的过滤器。</p><blockquote class="nl nm nn"><p id="b2a8" class="lr ls no lt b lu mn ju lw lx mo jx lz np mp mc md nq mq mg mh nr mr mk ml mm im bi translated"><strong class="lt iu"> <em class="it">注:</em> </strong> <em class="it">这里，写用户名不用@了</em></p></blockquote></div><div class="ab cl nx ny hx nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="im in io ip iq"><p id="3602" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后一个例子:假设我们想通过忽略flask来获得最近50条带有关键字“python developer”和Django的tweets。我们只想要推文和回复(换句话说，我们不想要转发)。我们需要班加罗尔周围的英语(en)语言的完整推文，我们不想要额外的实体。</p><p id="522a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">解决方案:</p><pre class="kj kk kl km gt oe nf of og aw oh bi"><span id="aed1" class="oi la it nf b gy oj ok l ol om">https://api.twitter.com/1.1/search/tweets.json?q=("python developer" AND  django) -flask AND exclude:retweets&amp;tweet_mode=extended&amp;lang=en&amp;count=50&amp;geocode=12.97194,77.59369,10mi</span></pre><h1 id="8cbf" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="65b7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我尝试解释了使用Twitter API获取tweets的所有方法和过滤器。我写这篇博客是为了向开发者介绍标准的Twitter API。可能还有许多其他查询参数和过滤器没有在这里提到。</p><h1 id="acea" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">参考</h1><p id="6da9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我感谢下面提到的所有资源。这些是帮助我写这篇博客的资源:</p><ol class=""><li id="6b11" class="mt mu it lt b lu mn lx mo ma mv me mw mi mx mm my mz na nb bi translated"><a class="ae ky" href="http://thesocialchic.com/2013/04/26/how-to-master-twitter-search/" rel="noopener ugc nofollow" target="_blank">如何掌握Twitter搜索:基本布尔运算符和过滤器</a></li><li id="6f72" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><a class="ae ky" href="https://stackoverflow.com/questions/27941940/how-to-exclude-retweets-and-replies-in-a-search-api" rel="noopener ugc nofollow" target="_blank">堆栈溢出</a></li><li id="6095" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><a class="ae ky" href="https://developer.twitter.com/en/docs/twitter-api/v1/tweets/search/api-reference/get-search-tweets" rel="noopener ugc nofollow" target="_blank">搜索推文</a></li><li id="9ffd" class="mt mu it lt b lu ng lx nh ma ni me nj mi nk mm my mz na nb bi translated"><a class="ae ky" href="https://developer.twitter.com/en/docs/twitter-api/premium/rules-and-filtering/using-premium-operators" rel="noopener ugc nofollow" target="_blank">规则和过滤:Premium v1.1 </a></li></ol><pre class="kj kk kl km gt oe nf of og aw oh bi"><span id="3fce" class="oi la it nf b gy oj ok l ol om"><strong class="nf iu">Want to Connect?</strong></span><span id="5890" class="oi la it nf b gy on ok l ol om">Let me know if you need any help or want to discuss something. Reach out to me on <a class="ae ky" href="https://bit.ly/3KjwgZV" rel="noopener ugc nofollow" target="_blank">Twitter</a> or <a class="ae ky" href="https://bit.ly/3JbsPDm" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>.</span></pre><p id="dc1f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你想知道如何在JavaScript 中使用<strong class="lt iu"> Twitter搜索API，可以看看这个博客👇</strong></p><div class="oo op gp gr oq or"><a href="https://javascript.plainenglish.io/best-path-to-twitter-api-using-javascript-3-clear-steps-ca3eba503115" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">使用JavaScript通过三个清晰的步骤获得Twitter API的最佳途径</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">关于如何用JavaScript从Twitter API获取数据的初学者指南。</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf ks or"/></div></div></a></div><div class="oo op gp gr oq or"><a href="https://blog.sahilfruitwala.com/guide-to-extract-tweets-using-tweepy" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd iu gy z fp ow fr fs ox fu fw is bi translated">使用Tweepy获取推文的综合指南</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">Twitter是这个人工智能时代最受欢迎的数据来源之一。如今，数据几乎是…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">blog.sahilfruitwala.com</p></div></div><div class="pa l"><div class="pg l pc pd pe pa pf ks or"/></div></div></a></div></div></div>    
</body>
</html>