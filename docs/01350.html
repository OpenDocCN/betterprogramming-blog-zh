<html>
<head>
<title>7 Out-of-the-Box Use Cases for AWS Lambda</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS Lambda的7个现成用例</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/7-out-of-the-box-use-cases-for-aws-lambda-30d7dc5c99f7?source=collection_archive---------1-----------------------#2019-09-03">https://betterprogramming.pub/7-out-of-the-box-use-cases-for-aws-lambda-30d7dc5c99f7?source=collection_archive---------1-----------------------#2019-09-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fe2a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">无服务器应用的灵感</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1d3b99f16ae1af09f1f5d84b94108bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6KPGFNR6UdTaSVWLAOYNw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">何塞·安东尼奥·加列戈·巴斯克斯在<a class="ae ky" href="https://unsplash.com/s/photos/out-of-the-box?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a03d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda </a>自2014年以来一直存在。如果这是您第一次阅读AWS Lambda，我们可以将其总结为一种无服务器计算服务，让您(开发人员)在不提供或管理服务器的情况下运行代码。</p><p id="ae1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AWS运营和支持团队负责运营和管理任务，例如资源供应和扩展、监控系统运行状况、对底层资源应用安全补丁以及代码部署。</p><p id="0a96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你，开发者，写代码上传到云端。AWS Lambda服务会执行您的代码，并在您的负载增加或减少时自动处理自动缩放的所有复杂细节。</p><p id="c389" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用AWS Lambda运行您的代码来响应事件。由于AWS Lambda在AWS生态系统中运行，这些事件可以链接到您编写的Lambda函数，例如Amazon S3桶或Amazon DynamoDB表中的数据更改，或者使用Amazon API Gateway响应HTTP请求的事件触发器。</p><p id="2798" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开发人员只为他们使用的计算时间付费。当你的代码没有执行的时候，没有额外的费用，如果你想在预算有限的情况下开发应用程序，这是一笔非常划算的交易。告别开发人员和运营管理员。</p><p id="3db8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Lambda自带了对许多编程语言的原生支持，比如Java、Node.js和Python等等。语言的选择取决于您的语言天赋以及其他因素，如派生时间和模块依赖性支持。</p><p id="8e94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些语言可能优于其他语言。有一系列允许快速开发和部署的开源框架，如<a class="ae ky" href="http://serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器</a>(以前称为JAWS)<a class="ae ky" href="http://apex.run/" rel="noopener ugc nofollow" target="_blank">Apex</a>、<a class="ae ky" href="http://gosparta.io/" rel="noopener ugc nofollow" target="_blank"> Sparta </a>、<a class="ae ky" href="https://github.com/Miserlou/Zappa" rel="noopener ugc nofollow" target="_blank"> Zappa </a>等。</p><p id="7abe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，这一切听起来很棒，但当使用Lambda时，并不全是玫瑰和阳光。在撰写本文时，还存在一些局限性。以下限制直接摘自AWS网站。</p><p id="b6f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意经常查看AWS网站的更新，因为这些限制可能会随着时间的推移而调整。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2288" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">AWS Lambda限制</h1><p id="90ef" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">截至2020年1月21日的运行时环境限制:</p><ul class=""><li id="b344" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">磁盘空间限制为512 MB。</li><li id="e2c0" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">默认部署包大小为50 MB。</li><li id="3829" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">内存范围从128到3008 MB。以前，您的函数可用的最大内存量是1536 MB。</li><li id="bc62" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">一个函数的最大执行超时是15分钟。</li><li id="811e" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">Lambda的请求限制:请求和响应主体有效负载大小最大为6 MB。</li><li id="d3f8" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">事件请求正文最大可达128 KB。</li><li id="20ca" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">λ<em class="nn">冷启动。</em>Lambda函数需要一些时间来处理第一个请求，因为Lambda必须启动该函数的一个新实例。这意味着不常使用的无服务器代码可能会遭受更大的响应<a class="ae ky" href="https://en.wikipedia.org/wiki/Latency_(engineering)" rel="noopener ugc nofollow" target="_blank">延迟</a>。(这可以通过定期ping您的函数来缓解。)</li><li id="4371" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">应用程序依赖可能会很麻烦，尤其是如果第三方库链接到外部包，如Python代码的C程序。这成为50 MB包大小限制的一个问题。</li><li id="6e9b" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">如果你需要这样的东西，通过云监控日志来监控Lambda会很昂贵。</li></ul><p id="0cde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">取决于你如何看待这个限制，它并不都是悲观的。这些限制可以从不同的角度来看，作为AWS的设计选择。</p><p id="d80d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了拥有无服务器模型和架构，拥有一个快速且可扩展的系统是必不可少的。这意味着必须实施限制，以达到最佳平衡，即权衡取舍。</p><p id="2068" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，如果你决定使用Lambda，你需要确保你的用例在限制范围之内。</p><p id="f906" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有解决这些限制的变通方法，比如持久化数据或状态机，但是本文的目的不是解决这些限制或提供解决方案。</p><p id="75c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，我们想深入了解Lambda在限制范围内可以做的7件开箱即用的事情。关于无服务器架构的更多信息，请看这个<a class="ae ky" href="https://en.wikipedia.org/wiki/Serverless_computing#Elasticity_versus_scalability" rel="noopener ugc nofollow" target="_blank"> Wiki </a>页面，获得更多本文可能没有涉及的见解。</p><p id="aef1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经介绍了基础知识，让我们深入一些开箱即用的用例，在这些用例中，无服务器Lambda是用来完成工作的合适工具。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3b3d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.无服务器网站应用程序</h1><p id="2505" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">用Lambda构建一个无服务器的网站或电子商务网站非常简单，并能让你在高峰时刻爆发。为了充分利用Lambda，对Lambda的每次调用都应该是无状态的；这是为了降低复杂性。</p><p id="312b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用无状态，您的请求执行，响应应该在一个执行周期内完成。对于一个基本的网站，你只需要AWS API Gateway、DynamoDB/RDS、亚马逊S3和亚马逊Cognito用户池。</p><p id="f8ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了说明此类网站的流程，如下所示:</p><ul class=""><li id="63b8" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">网站内容HTML、CSS、JavaScript，托管在AWS S3和<a class="ae ky" href="https://aws.amazon.com/cloudfront/" rel="noopener ugc nofollow" target="_blank"> CloudFront </a> CDN上，用于分布式多区域内容缓存。UI之间的通信通过JavaScript进行，后端API通过API Gateway和AWS Lambda构建。</li><li id="f079" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">DynamoDB NoSQL数据库或RDS ( <a class="ae ky" href="https://www.postgresql.org/" rel="noopener ugc nofollow" target="_blank"> Postgres </a>，<a class="ae ky" href="https://www.mysql.com/" rel="noopener ugc nofollow" target="_blank"> MySQL </a>，<a class="ae ky" href="https://www.microsoft.com/en-us/sql-server/default.aspx" rel="noopener ugc nofollow" target="_blank"> SQL Server </a>)用于通过API的Lambda函数持久化数据。从UI到后端API的所有执行应该在15分钟或更短时间内完成。你的Lambda函数和数据库的托管可以被VPC隔离，将它们与其他网络隔离开来，增强你的应用程序的安全性。</li><li id="40a2" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">Amazon Cognito在安全后端API的帮助下用于用户认证和管理。</li></ul><p id="74a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当使用AWS服务时，这里的关键是理解如何将服务链接在一起以构建您的解决方案。只要您了解每个服务的功能，就可以像拼图游戏一样将各个部分组合起来。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="25ac" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.计划的、Cron的、定期的作业</h1><p id="47c1" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这些可以是任何事情，从定期支付，将你的Lambda连接到PayPal Stripe等第三方服务，到运行后台脚本来执行重复任务或向订户群发送大量电子邮件。</p><p id="29b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以进一步利用S3事件，例如，将新文件拖放或上传到AWS S3可以触发Lambda事件，进而处理文件或将图像文件转换为缩略图或压缩它们。</p><p id="7fa7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了实现预定的作业，我们可以利用CloudWatch事件，<strong class="lb iu"> </strong>这些事件<strong class="lb iu"/>支持类似cron的表达式，可以用来定期触发Lambda函数。</p><p id="d4d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">向占用大量JVM内存的<a class="ae ky" href="https://spring.io/projects/spring-batch" rel="noopener ugc nofollow" target="_blank"> Spring Batch </a> cron作业和Python <a class="ae ky" href="http://www.celeryproject.org/" rel="noopener ugc nofollow" target="_blank"> Celery </a>的周期性作业说再见吧，至少对于短期任务是这样。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2c5a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.用Kinesis数据流和Lambda流大数据</h1><p id="ac2e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Lambda是高度可按需扩展的；它非常适合在S3、<a class="ae ky" href="https://aws.amazon.com/redshift/" rel="noopener ugc nofollow" target="_blank">红移</a>、<a class="ae ky" href="https://aws.amazon.com/kinesis/streams/" rel="noopener ugc nofollow" target="_blank"> Kinesis </a>和数据库服务之间转换数据，并进行动态过滤。您可以轻松地将Lambda放在服务之间，根据需要转换和加载数据。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0ebd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.向亚马逊Alexa问好</h1><p id="ea73" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Alexa是亚马逊基于云的智能语音控制代理。亚马逊提供的语音产品是没有脸或UI的无头设备。例如:Echo、Echo Plus、Echo Dot和Tap。</p><p id="7e12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Alexa是一种允许我们与设备对话并让它响应我们请求的技术。Alexa利用的技能是可以执行的命令。</p><p id="f342" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每次你问Alexa一个请求，本质上有一个技能被触发，然后可以链接到你的Lambda函数来处理一个事件。为了实现这一点，你说出一个神奇的词:“Alexa”，然后是你的声音信息，这些信息被传输到云端进行分析。</p><p id="9a0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“Alexa”之后的任何东西都是用亚马逊建立的自然语言处理系统处理的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cf97" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.实时通知</h1><p id="2894" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">随着我们走向一个更加互联的世界，即使在发展中国家，宽带也变得相对实惠，为用户提供这种实时体验变得更加容易。</p><p id="2e02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了Lambda、SQS、SNS和AWS Lex，我们可以构建实时响应的聊天机器人。如果你不熟悉Lex，它是一个AWS服务，用于在任何使用语音和文本的应用程序中构建对话式界面。</p><p id="c025" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Lex利用自动语音识别(ASR)的深度学习功能将语音转换为文本，并利用自然语言理解(NLU)来识别文本的意图。</p><p id="f2a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这使您能够构建具有高度吸引人的用户体验和逼真的对话式交互的应用程序。Lex利用了亚马逊Alexa使用的相同深度学习技术。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="78a7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">6.中间件</h1><p id="c8bb" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">无服务器中间件组件是充当其他服务之间桥梁的服务。一个简单的用例是促进交易的中间件。</p><p id="db5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这可能是执行区块链支付发送以太币到目标钱包地址或检查您的以太余额。我们还可以构建一个基于另一个中间件的输入来执行业务流程的中间件。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c0b5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">7.工作流程</h1><p id="8173" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">工作流是我们构建的任何应用程序的关键部分。我们需要通过逻辑条件编排一个可重复的活动模式，以便执行动作或任务。</p><p id="2941" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们使用lambdas时，我们需要引入AWS步骤函数来实现工作流的概念。AWS Step Function服务使分布式应用程序的组件作为可视化工作流中的一系列步骤进行协调变得很容易。</p><p id="b031" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着你可以链接你的lambdas来完成每一步的特定任务。</p><p id="268b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们以构建一个需要多级审批的应用程序为例，以防保险公司需要根据索赔请求支付资金。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="57fc" class="nt md it np b gy nu nv l nw nx">GIVEN we have a manager who receives a request for first-level approval THEN approves request, send the request to the second-level manager for second-level approval THEN send request for CEO review THEN on final review initiate reimbursement and send out notification.</span><span id="03c3" class="nt md it np b gy ny nv l nw nx">GIVEN User rejects the request THEN initiate rejection process.</span></pre><p id="dcfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这种将步骤函数引入lambda mix的能力，您可以快速构建和运行状态机，以可靠和可伸缩的方式执行应用程序的步骤。</p><p id="8511" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有这些都不需要配置第二台服务器。这使您能够构建相当复杂的应用程序。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5e2c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">二等奖；荣誉奖；H奖</h1><p id="d77b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">作为一种无状态的计算功能即服务，Lambda为用户提供了一个可以利用分布式计算的单一进程。Lambda的大多数用例都集中在一个预先定义的时间段内执行一个任务，现在image已经能够批量处理所有这些Lambda来执行一些分布式工作。</p><p id="947e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您曾经使用过Dask、Apache Spark，那么相同的概念可以在一定程度上应用于lambda——前提是所执行的工作属于相同的约束lambda限制，例如参数调整。想象一下，使用python中的cloudpickle或某种序列化反序列化技术将数据上传到s3 bucket，该bucket触发向单个lambda发送代码和数据，以执行x N个lambda事件。Lambda然后执行工作，然后通过预定义的媒介(例如，通过消息队列节流)将这些结果的子集推回给调用用户——本质上，您拥有的是一个执行<a class="ae ky" href="http://pywren.io/" rel="noopener ugc nofollow" target="_blank">分布式计算</a>的平台。</p><h1 id="871c" class="mc md it bd me mf nz mh mi mj oa ml mm jz ob ka mo kc oc kd mq kf od kg ms mt bi translated">最后的想法</h1><p id="6c61" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果您到现在还没有注意到，这些用例中的大多数都可以在不使用Lambda的情况下解决，如果不是全部的话，但是它们是独特的属性，正如本文开始时概述的那样，它们确实使Lambda变得很好。</p><p id="e4ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Lambda不是一个万能的工具。用例非常广泛，我们几乎没有提到所有的可能性。需要时刻牢记的是，您需要度量和评估您的用例，权衡利弊，并做出Lambda是否是这项工作的正确工具的逻辑决定。</p><p id="383c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您需要一个高度异步、分布式、高度并发的服务，并且有不频繁的使用需求。有节省成本的要求，它不需要总是打开，有时是零星的，有不可预测的流量需要扩展，是高度无状态和动态的，那么无服务器可能是您想要考虑的事情。</p><p id="91e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要记住的一个关键规则是从小处着手，不断重复。如果Lambda变得太受限制，就扩展并利用更传统的部署风格。</p><p id="2e3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它们总是随着AWS服务不断更新。如果您想了解这些服务的最新信息，请查看即将发布的<a class="ae ky" href="https://aws.amazon.com/new/?whats-new-content-all.sort-by=item.additionalFields.postDateTime&amp;whats-new-content-all.sort-order=desc&amp;wn-featured-announcements.sort-by=item.additionalFields.numericSort&amp;wn-featured-announcements.sort-order=asc" rel="noopener ugc nofollow" target="_blank">公告</a>。</p></div></div>    
</body>
</html>