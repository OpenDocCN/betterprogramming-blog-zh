<html>
<head>
<title>Create a GraphQL API in 60 Seconds — With No Code — Using Hasura</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Hasura在60秒内创建一个GraphQL API无需任何代码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-a-graphql-api-in-60-seconds-with-no-code-using-hasura-fba06c8159c0?source=collection_archive---------17-----------------------#2019-11-18">https://betterprogramming.pub/create-a-graphql-api-in-60-seconds-with-no-code-using-hasura-fba06c8159c0?source=collection_archive---------17-----------------------#2019-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6cf0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">无需编写任何代码，即可获得几乎即时的GraphQL引擎</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3428181af2db2425c62efc75093075c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MubRTPrlR6aabpZ7rbpWeg.png"/></div></div></figure><h1 id="e52a" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">哈苏拉是什么？</h1><p id="fce7" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">Hasura是一个<a class="ae mi" href="https://github.com/hasura/graphql-engine" rel="noopener ugc nofollow" target="_blank">开源</a>项目，它连接你的数据库和微服务，并立即给你一个生产就绪的GraphQL API。</p><p id="82cb" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">通过在几秒钟内从PostgreSQL数据库为您的团队提供强大的实时GraphQL API，缩短您的上线时间。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="4a81" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">为什么是哈苏拉？</h1><p id="89e5" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">该项目在GitHub 上完全<a class="ae mi" href="https://github.com/hasura/graphql-engine" rel="noopener ugc nofollow" target="_blank">开源，每周都有新的改进。</a></p><p id="2c39" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">使用50MB RAM，您可以获得每秒1，000次以上的查询——仅使用免费Heroku dyno上的一个容器。</p><p id="9cf7" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">您可以与微服务集成和交互，通过基于数据库事件的webhooks连接它们，或者合并多个GraphQL外部端点。</p><p id="4173" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">你得到了一个全功能的JWT或webhook用户管理系统，可以连接到其他认证提供商，如<a class="ae mi" href="https://blog.hasura.io/authentication-and-authorization-using-hasura-and-firebase/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>或<a class="ae mi" href="https://docs.hasura.io/1.0/graphql/manual/guides/integrations/auth0-jwt.html" rel="noopener ugc nofollow" target="_blank"> Auth0 </a>。</p><p id="9115" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">您可以获得完全兼容的订阅，这意味着由于WebSocket，您可以从后端到前端获得数据的即时更新，而除了编写GraphQL查询来获取数据之外，无需处理任何事情。</p><p id="5b9b" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">您可以在不到一分钟或60秒的时间内完成所有这些工作。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="b2c4" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">我们开始吧！</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://heroku.com/deploy?template=https://github.com/hasura/graphql-engine-heroku"><div class="gh gi na"><img src="../Images/50ee42d208a6b6d745a9ac03b621cb7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:418/format:webp/1*pEIKhNSiiFwkH_keAmFcJw.png"/></div></a><p class="nb nc gj gh gi nd ne bd b be z dk translated"><a class="ae mi" href="https://heroku.com/deploy?template=https://github.com/hasura/graphql-engine-heroku" rel="noopener ugc nofollow" target="_blank">https://heroku.com/deploy?template = https://github . com/hasura/graph QL-engine-heroku</a></p></figure><p id="d76e" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">只要按下<a class="ae mi" href="https://heroku.com/deploy?template=https://github.com/hasura/graphql-engine-heroku" rel="noopener ugc nofollow" target="_blank">“部署到Heroku。”</a>这将自动向您的帐户添加一个新应用程序，并为您配置一个免费的PostgreSQL数据库。</p><p id="04f2" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">如果您没有Heroku帐户，您需要注册一个。你不需要信用卡，一旦你注册，你将被自动重定向到你的Heroku应用程序创建页面。</p><p id="ae32" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">Heroku上的所有这些步骤大约需要30秒，所以我们还有30秒来准备Hasura。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="9df5" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">让我们给你的数据库添加一些信息</h1><ol class=""><li id="f91c" class="nf ng it lo b lp lq ls lt lv nh lz ni md nj mh nk nl nm nn bi translated"><strong class="lo iu">添加星球大战SQL: </strong>转到数据选项卡，您将从那里添加<a class="ae mi" href="https://gist.github.com/Giorat/da73805f337435b40bb41877af4d4980" rel="noopener ugc nofollow" target="_blank"> SQL </a>。</li></ol><p id="e782" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated"><strong class="lo iu">记住</strong>:勾选“跟踪这个”复选框，自动将这些表格添加到Hasura处理的表格中，而不需要手动添加。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/8ad5b3e00e77f9c67d24e856a544d6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DJ8t8iS-gM17jrGvRzm1g.png"/></div></div></figure><p id="f1f6" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">2.<strong class="lo iu"> Relationships: </strong>添加完表之后，您还需要做最后一件事:将关系添加到每个表中，这样您就能够查询嵌套在一起的表以及基于外键的数据。</p><div class="kj kk kl km gt ab cb"><figure class="np kn nq nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/8639a92ba6e691e105f693130e2c68f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*Cqfz_0PTtZ8xI9V0wKPsCg.png"/></div></figure><figure class="np kn nv nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/bb72e527c7d7ef41251ee66ce46034da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*WknxLdMOvJ_iuvDv-GQVvg.png"/></div></figure></div><p id="7945" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">3.<strong class="lo iu">我们来做一个查询:</strong>进入GraphQL页面，插入这个查询，按play按钮，显示这两个表合并在一起的结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="33fb" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">让我们从您的前端进行一个GraphQL查询</h1><p id="ab95" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">让我们展示一下您前端的数据。在本教程中，我将使用一个简单的React应用程序的修改版本和Apollo客户端。</p><p id="4abb" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">记得用Heroku应用程序的URL替换GraphQL服务器的URL <strong class="lo iu"> </strong>，在我的例子中是<code class="fe ny nz oa ob b">starwars-hasura.herokuapp.com</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc nx l"/></div><p class="nb nc gj gh gi nd ne bd b be z dk translated"><a class="ae mi" href="https://codesandbox.io/s/star-wars-hasura-x7bt9" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/star-wars-hasura-x7bt9</a></p></figure><h2 id="76b2" class="od kv it bd kw oe of dn la og oh dp le lv oi oj lg lz ok ol li md om on lk oo bi translated"><strong class="ak">用来自Hasura的数据完成代码sanbox:</strong></h2><p id="0c38" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae mi" href="https://codesandbox.io/s/star-wars-hasura-x7bt9" rel="noopener ugc nofollow" target="_blank">https://codesandbox.io/s/star-wars-hasura-x7bt9</a></p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="9ff9" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">现在呢？</h1><p id="45e4" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae mi" href="https://docs.hasura.io/1.0/graphql/manual/deployment/securing-graphql-endpoint.html" rel="noopener ugc nofollow" target="_blank">保护您的Hasura终点</a>就像Hasura右上角的警告信息提醒您那样做。</p><p id="a880" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">您可以添加用户验证。我建议你使用Firebase，因为他们对你的应用程序中可以拥有的用户数量没有任何硬性限制。</p><p id="dea4" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">然后，您还可以转到Remote Schemas选项卡，尝试向您的Hasura实例添加一个外部端点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/835549fa7956735ef356eaa0297a5035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bsFzre1ZsYDer3OO.png"/></div></div></figure><p id="03fe" class="pw-post-body-paragraph lm ln it lo b lp mj ju lr ls mk jx lu lv ml lx ly lz mm mb mc md mn mf mg mh im bi translated">之后，您可以通过调用微服务将每个更新链接到表中的一行，以检查用户输入是否包含垃圾邮件或钓鱼文字。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/80c99d0e6395b9d7f514468efb6a22b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*te7pfJLYYPUSCMHp.png"/></div></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="8a36" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">我不想用哈苏拉</h1><p id="74b6" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">当然，您也可以对其他软件包做类似的事情，比如:</p><ul class=""><li id="33eb" class="nf ng it lo b lp mj ls mk lv or lz os md ot mh ou nl nm nn bi translated">如果你使用PostgreSQL并且想要比Hasura更简单的东西，那么<br/>可以随意使用<a class="ae mi" href="https://www.graphile.org/postgraphile/" rel="noopener ugc nofollow" target="_blank">PostgreSQL</a>。</li><li id="977a" class="nf ng it lo b lp ov ls ow lv ox lz oy md oz mh ou nl nm nn bi translated"><a class="ae mi" href="https://supergraph.dev/" rel="noopener ugc nofollow" target="_blank">另一个更简单的版本像Hasura </a>。</li><li id="7b0b" class="nf ng it lo b lp ov ls ow lv ox lz oy md oz mh ou nl nm nn bi translated"><a class="ae mi" href="https://github.com/remorses/mongoke" rel="noopener ugc nofollow" target="_blank">如果想用MongoDB得到一个即时API </a>。</li></ul></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="9e55" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">资源和参考资料:</h1><ul class=""><li id="d64b" class="nf ng it lo b lp lq ls lt lv nh lz ni md nj mh ou nl nm nn bi translated"><a class="ae mi" href="https://hasura.io/" rel="noopener ugc nofollow" target="_blank">https://hasura.io/</a></li><li id="5345" class="nf ng it lo b lp ov ls ow lv ox lz oy md oz mh ou nl nm nn bi translated"><a class="ae mi" href="https://medium.com/better-programming/use-graphql-query-hooks-with-react-d440c6dcb57d?source=friends_link&amp;sk=e88407b33a8747d34fc7d931b2354843" rel="noopener">https://medium . com/better-programming/use-graph QL-query-hooks-with-react-d 440 c 6 dcb 57d？source = friends _ link&amp;sk = e 88407 b 33 a 8747d 34 fc 7d 931 b 2354843</a></li><li id="950e" class="nf ng it lo b lp ov ls ow lv ox lz oy md oz mh ou nl nm nn bi translated"><a class="ae mi" href="https://docs.hasura.io/1.0/graphql/manual/getting-started/heroku-simple.html" rel="noopener ugc nofollow" target="_blank">https://docs . hasura . io/1.0/graph QL/manual/getting-started/heroku-simple . html</a></li><li id="dfba" class="nf ng it lo b lp ov ls ow lv ox lz oy md oz mh ou nl nm nn bi translated"><a class="ae mi" href="https://docs.hasura.io/1.0/graphql/manual/deployment/securing-graphql-endpoint.html" rel="noopener ugc nofollow" target="_blank">https://docs . hasura . io/1.0/graph QL/manual/deployment/securing-graph QL-endpoint . html</a></li><li id="3ece" class="nf ng it lo b lp ov ls ow lv ox lz oy md oz mh ou nl nm nn bi translated"><a class="ae mi" href="https://gist.github.com/Giorat/da73805f337435b40bb41877af4d4980" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/Giorat/da 73805 f 337435 b 40 bb 41877 af4d 4980</a></li></ul></div></div>    
</body>
</html>