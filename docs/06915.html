<html>
<head>
<title>What's New in Angular 11?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular 11有什么新功能？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/whats-new-in-angular-11-3f7309acc02d?source=collection_archive---------1-----------------------#2020-11-17">https://betterprogramming.pub/whats-new-in-angular-11-3f7309acc02d?source=collection_archive---------1-----------------------#2020-11-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8bad" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">快速回顾Angular的最新功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/929631f69db55861d695ab8a9d5728f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*acoVQHpy2qgALnhv"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@exxteban?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Esteban Lopez </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="1c66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Angular刚刚发布了其卓越框架的第11版，所以让我们来探索Angular的最新特性。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b787" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">组件测试线束</h1><p id="0574" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">组件测试工具允许测试使用支持的API与组件进行交互。这是在Angular 9中首次引入的。这些API能够以类似于终端用户的方式与组件进行交互，测试可以将自己与DOM中的变化隔离开来。</p><p id="a4f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当时这个机构只支持有角的材料。但是在最新版本中，所有组件都可以使用组件线束。</p><p id="36cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下示例显示了<code class="fe mz na nb nc b">MatButtonHarness</code>在角形材料中的用法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8b06" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">更新了热模块更换(HMR)支持</h1><p id="98d2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">热模块替换是一种允许在不完全刷新浏览器的情况下替换模块的机制。HMR对Angular来说并不是一个全新的东西，开发者也可以在以前的版本中使用它。但是有了Angular 11，您需要配置HMR的工作量大大减少了，他们为此提供了CLI命令。</p><p id="8f0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在您可以简单地使用带有<code class="fe mz na nb nc b">hmr</code>标签的<code class="fe mz na nb nc b">ng serve</code> <em class="nf"> </em>命令来启用HMR:</p><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="02f9" class="nk md it nc b gy nl nm l nn no">ng serve --hmr</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8d65" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">TypeScript 4.0支持</h1><p id="77b0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在这个最新的更新中，Angular团队已经放弃了对TypeScript 3.9的支持。现在Angular 11只支持TypeScript 4.0。</p><p id="2599" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这次升级的主要原因之一是为了加快构建速度。Angular 11确保比以前的版本更快的构建。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5a75" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Webpack 5支持</h1><p id="0168" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如你所知，webpack用于将大量文件编译成单个包或单个文件。Webpack 5是最新版本，在上个月发布。它还没有完全稳定。</p><p id="3a46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，Angular 11为webpack 5提供了实验性支持，您可以将它与Angular 11一起使用来尝试新事物。根据发行说明，Angular团队相信，一旦事情稳定下来，他们可以扩展这种实验性支持，以实现更快的构建和更小的捆绑包。</p><p id="e5fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您准备尝试webpack 5，您可以从将以下几行添加到您的<code class="fe mz na nb nc b">package.json</code>文件开始:</p><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="0813" class="nk md it nc b gy nl nm l nn no">“resolutions”: {<br/> “webpack”: “5.4.0”<br/>}</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a773" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">搬到ESLint</h1><p id="0689" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在很长一段时间里，TSLint是开发人员中最受欢迎的林挺工具之一。但它最近被弃用，职责移交给了ESLint。</p><p id="ccf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着版本11的更新，Angular也从TSLint迁移到ESLint，您将无法在Angular中再次使用TSLint进行林挺。Angular推出了从TSLint迁移到ESLint的三步方法。</p><h2 id="883f" class="nk md it bd me np nq dn mi nr ns dp mm li nt nu mo lm nv nw mq lq nx ny ms nz bi translated"><strong class="ak"> 1。添加相关依赖关系</strong></h2><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="5c01" class="nk md it nc b gy nl nm l nn no">ng add @angular-eslint/schematics</span></pre><h2 id="c948" class="nk md it bd me np nq dn mi nr ns dp mm li nt nu mo lm nv nw mq lq nx ny ms nz bi translated"><strong class="ak"> 2。在项目</strong>上运行 <code class="fe mz na nb nc b"><strong class="ak">convert-tslint-to-eslint</strong></code> <strong class="ak">原理图</strong></h2><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="662e" class="nk md it nc b gy nl nm l nn no">ng g @angular-eslint/schematics:convert-tslint-to-eslint {{YOUR_PROJECT_NAME_GOES_HERE}}</span></pre><h2 id="39d8" class="nk md it bd me np nq dn mi nr ns dp mm li nt nu mo lm nv nw mq lq nx ny ms nz bi translated"><strong class="ak"> 3。移除根TSLint配置，仅使用ESLint </strong></h2><p id="1fba" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">移除根级<code class="fe mz na nb nc b">tslint.json</code>。</p><p id="772d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以从以下网址找到有关迁移的更多详细信息:</p><ul class=""><li id="e3b0" class="oa ob it lb b lc ld lf lg li oc lm od lq oe lu of og oh oi bi translated"><a class="ae ky" href="https://github.com/angular-eslint/angular-eslint#migrating-from-codelyzer-and-tslint" rel="noopener ugc nofollow" target="_blank">迁移指南</a></li><li id="b22a" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><a class="ae ky" href="https://github.com/typescript-eslint/typescript-eslint" rel="noopener ugc nofollow" target="_blank"> typescript-eslint </a></li><li id="0879" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><a class="ae ky" href="https://github.com/angular-eslint/angular-eslint" rel="noopener ugc nofollow" target="_blank">角度限制</a></li><li id="d7b0" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><a class="ae ky" href="https://github.com/typescript-eslint/tslint-to-eslint-config" rel="noopener ugc nofollow" target="_blank">tslint-to-eslint-config</a></li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="de14" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">更新的语言服务预览</h1><blockquote class="oo op oq"><p id="1f44" class="kz la nf lb b lc ld ju le lf lg jx lh or lj lk ll os ln lo lp ot lr ls lt lu im bi translated">Angular语言服务为代码编辑器提供了一种在Angular模板中获得完成、错误、提示和导航的方法。它可以在单独的HTML文件中使用外部模板，也可以使用内嵌模板。”— <a class="ae ky" href="https://angular.io/guide/language-service" rel="noopener ugc nofollow" target="_blank"> Angular的文件</a></p></blockquote><p id="9f95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以前，这种语言服务是基于视图引擎的。Angular 11提供了一个新的更加强大和准确的基于Ivy的语言服务。</p><p id="e6eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这项功能仍在开发中，但它具有类似于TypeScript编译器的行为能力。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ae25" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">其他变化</h1><p id="5d03" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">除此之外，Angular 11带来了大量的小变化，例如:</p><ul class=""><li id="2df0" class="oa ob it lb b lc ld lf lg li oc lm od lq oe lu of og oh oi bi translated">新的自动化迁移和示意图。</li><li id="ace4" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated">服务人员的改进。</li><li id="8cb7" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated">命名出口的延迟加载支持。</li><li id="94a0" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated">Angular CLI现在可以生成resolve guards。</li><li id="7196" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated">更严格的管道内置类型。</li><li id="8df3" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><code class="fe mz na nb nc b">formatDate</code>函数现在支持ISO 8601周数年份格式。</li></ul><h2 id="a2a6" class="nk md it bd me np nq dn mi nr ns dp mm li nt nu mo lm nv nw mq lq nx ny ms nz bi translated"><strong class="ak">一些突破性的变化</strong></h2><ul class=""><li id="d50d" class="oa ob it lb b lc mu lf mv li ou lm ov lq ow lu of og oh oi bi translated">Angular 11完全移除IE 9，10，IE移动支持。</li><li id="2082" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated">不再支持TypeScript 3.9。</li><li id="dc4c" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated"><code class="fe mz na nb nc b">preserveQueryParams</code>已从路由器中移除，可以使用<code class="fe mz na nb nc b">queryParamsHandling=”preserve”</code>代替。</li><li id="cf21" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated">ICU中的表达式现在再次进行类型检查。</li><li id="7ce5" class="oa ob it lb b lc oj lf ok li ol lm om lq on lu of og oh oi bi translated">异步管道不再声称为类型为<code class="fe mz na nb nc b">undefined</code>的输入返回<code class="fe mz na nb nc b">undefined</code>。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="79e3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="84ec" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我想你现在已经对Angular 11的一些重要特性有所了解了。但这些只是Angular 11提供的功能的子集，你也可以在他们的博客上找到更多细节。</p><p id="96b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，如果您愿意将您的项目更新到Angular 11，您只需要运行以下命令:</p><pre class="kj kk kl km gt ng nc nh ni aw nj bi"><span id="7f5a" class="nk md it nc b gy nl nm l nn no">ng update @angular/cli @angular/core</span></pre><p id="7a7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2d1a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">资源</h1><ul class=""><li id="c1e6" class="oa ob it lb b lc mu lf mv li ou lm ov lq ow lu of og oh oi bi translated"><a class="ae ky" href="https://blog.angular.io/version-11-of-angular-now-available-74721b7952f7" rel="noopener ugc nofollow" target="_blank">棱角分明的博客</a></li></ul></div></div>    
</body>
</html>