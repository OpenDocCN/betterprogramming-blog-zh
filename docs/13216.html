<html>
<head>
<title>Tools and Integrations To Significantly Improve Code Review in GitHub</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">显著改善GitHub中代码审查的工具和集成</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/tools-and-integrations-to-significantly-improve-code-review-in-github-b6cb67014fea?source=collection_archive---------9-----------------------#2022-08-08">https://betterprogramming.pub/tools-and-integrations-to-significantly-improve-code-review-in-github-b6cb67014fea?source=collection_archive---------9-----------------------#2022-08-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2b3a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Travis CI、CircleCI、Codecov、SonarQube、CodeSee、GitHub Actions等等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3f88c197c0ad45bcc5079550b5728e65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MTiO-R31BScczOg5"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码查看有关拉取请求的查看映射示例</p></figure><p id="40d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为软件工程师，我们喜欢自动化。然而，代码审查通常是一个相当手工的过程，占用了我们很大一部分时间。我们如何改善这一点？有大量的<a class="ae lu" rel="noopener ugc nofollow" target="_blank" href="/7-ways-to-dramatically-reduce-your-time-in-code-review-febe05e9f38c">提示和技巧</a>可以让<a class="ae lu" href="https://google.github.io/eng-practices/review/" rel="noopener ugc nofollow" target="_blank">有效地进行代码评审</a>，所以我们在这里就不赘述了。相反，让我们专注于我们可以自动化的代码审查部分。</p><p id="71ef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将考虑五种工具和集成，它们可以显著改善您在GitHub中的代码审查体验。</p><h1 id="5622" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">特拉维斯CI或CircleCI</h1><p id="7920" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">首先，我们来谈谈持续集成(CI)。为您的repos设置CI是自动化代码审查流程的第一步。有了CI管道，您可以运行任何您想运行的东西！至少，您应该让您的CI管道包含格式化、林挺和单元测试的工作。您还可以考虑创建额外的工作来构建工件，部署评审应用程序，或者运行端到端测试。</p><p id="03d4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">持续集成有助于您保持主分支处于良好状态。它还通过处理计算机擅长而人类不擅长的所有繁琐的事情来加速您的代码审查过程。在代码评审期间，不再为代码风格或最佳实践争吵不休！有了CI管道，您可以为您创建的每个新的拉请求运行自动检查。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/27ca488f71424dbf6e22eff0f79aa04b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ujESnycSU7a7clzD"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Travis CI示例</p></figure><p id="9a9e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://www.travis-ci.com/" rel="noopener ugc nofollow" target="_blank"> Travis CI </a>和<a class="ae lu" href="https://circleci.com/" rel="noopener ugc nofollow" target="_blank"> CircleCI </a>都是持续集成的绝佳选择。两者都允许您使用YAML文件配置CI管道，使您能够将基础设施编写为代码。在YAML文件中，您可以指定要使用哪个Docker映像、要运行哪个版本的节点，以及要遵循哪些安装和构建步骤。</p><p id="e1ce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最棒的是，Travis CI和CircleCI可以免费用于开源项目。</p><h1 id="5b7d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">笑话和代码</h1><p id="9aa4" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">接下来，我们来看看测试覆盖率。单元测试很重要。它们有助于防止倒退，作为您的代码库的活文档，并使您能够自信地进行更改。</p><p id="6609" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">测试很容易在CI管道中实施。如果有任何测试失败，测试作业就会失败，并且在修复测试之前，拉请求不会被合并。</p><p id="65f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">重要的不仅仅是你的测试通过，还有你的代码覆盖率高。通过只覆盖20%代码库的测试并不能保证在进行任何给定的更改后，其余80%的代码库处于良好的状态。更高的代码覆盖率意味着更少的bug藏身之处。</p><p id="5921" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">像<a class="ae lu" href="https://jestjs.io/" rel="noopener ugc nofollow" target="_blank"> Jest </a>这样的测试框架允许您收集代码覆盖率结果，并强制执行某些代码覆盖率阈值。如果您想让这些覆盖报告更进一步，您可以在您的CI渠道中添加一个像<a class="ae lu" href="https://about.codecov.io/" rel="noopener ugc nofollow" target="_blank"> Codecov </a>这样的工具。</p><p id="f4b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Codecov获取Jest的数据，并将其转化为您可以在pull请求中内联查看的报告。Codecov可以让您深入了解如果覆盖率增加或减少，每个pull请求如何影响整体覆盖率，以及哪些文件受到了影响。Codecov很容易集成到您可能使用的任何CI工具中，无论是Travis CI、CircleCI、GitHub Actions、GitLab CI、Jenkins还是其他工具。</p><p id="b61d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">CodeCov可以免费用于开源项目。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6bd0ac74445c7de34cb9df2cbc88e31d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FAVU1W67gdD7SyBs"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Codecov报告示例</p></figure><h1 id="04b4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">SonarQube和SonarCloud</h1><p id="f98d" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">第三，我们来讨论一下静态分析检查器。像ESLint这样的棉绒对于任何项目都是必须的。Linters对于执行最佳实践和达成一致的编码风格非常有用。</p><p id="f73b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">像<a class="ae lu" href="https://www.sonarsource.com/products/sonarqube/" rel="noopener ugc nofollow" target="_blank">sonar cube</a>这样的静态分析工具，除了普通的linter可以发现的以外，还可以提供额外的见解。SonarQube可以帮助识别代码气味、代码复杂性、代码重复和安全问题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/c51bb45d1ed605f8e79c4e3d36e77148.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fXJfN_smXmMtPsZ3"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SonarQube示例</p></figure><p id="90a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">SonarQube可以作为自我管理的服务运行，或者您可以在云中作为<a class="ae lu" href="https://www.sonarsource.com/products/sonarcloud/" rel="noopener ugc nofollow" target="_blank"> SonarCloud </a>运行。您还可以将SonarQube集成到您的CI管道中，这样它就可以在您的pull请求上发布评论。</p><p id="78a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Sonar为企业公司和开源项目提供解决方案。像我们讨论的其他工具一样，SonarQube和SonarCloud可以免费用于开源项目。</p><h1 id="2c22" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">CodeSee审核地图</h1><p id="02fc" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">第四，让我们探索可视化我们的代码库和我们在拉请求中所做的更改的方法。知道每个改变的方法或文件如何影响应用程序的其余功能不是很好吗？</p><p id="5411" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://www.codesee.io/code-reviews" rel="noopener ugc nofollow" target="_blank"> CodeSee Review Maps </a>帮助您可视化哪些文件发生了更改，以及这些更改如何影响上游和下游的依赖关系。集成你的GitHub repo，CodeSee可以自动在每个pull请求上发布评论和图表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3f88c197c0ad45bcc5079550b5728e65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MTiO-R31BScczOg5"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码查看有关拉取请求的查看映射示例</p></figure><p id="465d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">CodeSee使您更容易按照逻辑顺序浏览更改的文件，而不仅仅是按字母顺序查看。它甚至可以让你——作为代码作者— <a class="ae lu" href="https://app.codesee.io/maps/review/github/Codesee-io/oss-port/pr/244?_ga=2.26313149.1847448165.1658437521-1515474781.1650061133" rel="noopener ugc nofollow" target="_blank">创建你的代码的互动之旅</a>,让审查者了解你的修改。</p><p id="99ab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">而且——你猜对了——CodeSee审查地图可以免费用于开源项目。</p><h1 id="51dc" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">GitHub操作</h1><p id="d2e2" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">第五，如果我们没有提到<a class="ae lu" href="https://github.com/features/actions" rel="noopener ugc nofollow" target="_blank"> GitHub动作</a>，这就不是一篇关于GitHub中代码审查自动化部分的合适文章。</p><p id="59b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">GitHub动作允许你创建任何你能想象的工作流程。这些工作流可以在GitHub中作为作业或检查运行，因此它们的功能类似于其他CI工具，如Travis CI或CircleCI。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5b020e00de43de66fa9ab7ba34b4b31c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4DYrCSSIJC3uHZyp"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作为CI管道的一部分运行单元测试的GitHub动作示例</p></figure><p id="593b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae lu" href="https://github.com/marketplace?type=actions&amp;query=sort%3Apopularity-desc+" rel="noopener ugc nofollow" target="_blank"> GitHub Actions Marketplace </a>非常适合在你的项目中寻找开源动作。您可以通过类别来过滤结果，比如“代码质量”、“代码评审”或者“持续集成”</p><p id="7035" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">仅仅作为一个引子，那些类别中吸引我眼球的一些有趣的动作是<a class="ae lu" href="https://github.com/marketplace/actions/semantic-pull-request" rel="noopener ugc nofollow" target="_blank">语义拉取请求</a>和<a class="ae lu" href="https://github.com/marketplace/actions/automatic-rebase" rel="noopener ugc nofollow" target="_blank">自动重置基础</a>动作。</p><p id="2bf7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">语义拉-请求动作“确保你的PR标题匹配<a class="ae lu" href="https://www.conventionalcommits.org/" rel="noopener ugc nofollow" target="_blank">常规提交规范</a>”，如果你挤压和合并你的拉请求，然后在你的发布过程中依赖那些提交消息来进一步自动化，这是非常有用的。</p><p id="6c7c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">automatic-rebase动作允许您简单地通过在pull请求上注释<code class="fe mt mu mv mw b">/rebase</code>来重新设置提交的基础。重置基础变得简单！</p><p id="0011" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有了GitHub Actions，我们可以自动化所有的事情！而且——剧透提醒——GitHub Actions可以免费用于公开回购。</p><h1 id="927b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论:改进GitHub中代码评审的5个工具</h1><p id="c5f8" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">总的来说，这里有五个工具可以改善你在GitHub中的代码审查体验:</p><ol class=""><li id="e20c" class="mx my it la b lb lc le lf lh mz ll na lp nb lt nc nd ne nf bi translated">Travis CI或CircleCI(用于持续集成)</li><li id="520e" class="mx my it la b lb ng le nh lh ni ll nj lp nk lt nc nd ne nf bi translated">Jest和Codecov(用于代码覆盖)</li><li id="fab0" class="mx my it la b lb ng le nh lh ni ll nj lp nk lt nc nd ne nf bi translated">SonarQube和SonarCloud(针对代码气味和安全问题)</li><li id="30d6" class="mx my it la b lb ng le nh lh ni ll nj lp nk lt nc nd ne nf bi translated">代码查看审核图(对于代码图)</li><li id="6e18" class="mx my it la b lb ng le nh lh ni ll nj lp nk lt nc nd ne nf bi translated">GitHub操作(用于其他所有操作)</li></ol><p id="7d4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢您的阅读，祝您编码愉快！</p></div></div>    
</body>
</html>