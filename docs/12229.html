<html>
<head>
<title>Create a LazyColumn With Indexing for Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为Jetpack撰写创建带索引的LazyColumn</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/lazycolumn-with-indexing-for-jetpack-compose-3456023d19d5?source=collection_archive---------8-----------------------#2022-05-20">https://betterprogramming.pub/lazycolumn-with-indexing-for-jetpack-compose-3456023d19d5?source=collection_archive---------8-----------------------#2022-05-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="21f1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在基于Jetpack Compose的android应用中复制RecyclerView</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/877b59cf8ad00d68d6b61312f90f0035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*es0iV77dvz4tvpPB"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@adrian_trinkaus?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Adrian Trinkaus </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="5eef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">RecyclerView</code>可能需要“这个”和“那个”文件以及其中的许多配置，但是没有人会不同意它是一个成熟的类，并且许多库都是在考虑<code class="fe ls lt lu lv b">RecyclerView</code>的情况下构建的。</p><p id="d3a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望我能对<code class="fe ls lt lu lv b">ListView</code>和<code class="fe ls lt lu lv b">ListActivity</code>说同样的话，但是我不会！关于我们过去的罪恶已经说得够多了，我们应该坚持面向未来，因为现在是<strong class="ky ir">时刻！</strong></p><p id="8904" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了<a class="ae kv" href="https://medium.com/@tsapalos.v/double-header-lazycolumn-in-jetpack-compose-5cbbcece75ec" rel="noopener">双头懒人柱</a>我真的很想念侧面有索引的<code class="fe ls lt lu lv b">RecyclerView</code> s。但是，现在是Jetpack编写时间，所以可以做一件事——用索引创建我自己的自定义<code class="fe ls lt lu lv b">LazyColumn</code>。</p><p id="94e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该方法有两个几乎相同的实现。两者的主要区别在于<code class="fe ls lt lu lv b">IndexedLazyColumn</code>实现需要一个完整的<code class="fe ls lt lu lv b">LazyColumn</code>及其<code class="fe ls lt lu lv b">LazyListState</code>作为参数，而<code class="fe ls lt lu lv b">IndexedDataLazyColumn</code>需要<code class="fe ls lt lu lv b">itemContent</code>参数，来自<code class="fe ls lt lu lv b">items</code>参数来自<code class="fe ls lt lu lv b">LazyColumn</code>。你感到困惑吗？别担心，我想在这篇文章结束时，你会对前面的句子有一个很好的观点。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h2 id="fbff" class="md me iq bd mf mg mh dn mi mj mk dp ml lf mm mn mo lj mp mq mr ln ms mt mu mv bi translated">简单的数据实现</h2><p id="d9f0" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">下面你可以看到没有主体的<code class="fe ls lt lu lv b">IndexedDataLazyColumn</code>功能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="3b5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">逐个读取参数:</p><ul class=""><li id="6e07" class="nd ne iq ky b kz la lc ld lf nf lj ng ln nh lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">indices</code>:索引项的简单列表(例如，1..10，A..z等)。</li><li id="e917" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">data</code>:包含您的数据项的列表(例如电影、姓名、汽车制造商、购物清单等)。</li><li id="3056" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">modifier</code>:只是另一个<code class="fe ls lt lu lv b">Modifier</code>就像你和其他组件一起使用的那个。</li><li id="d19b" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">predicate</code>:这里的这个λ，是<code class="fe ls lt lu lv b">indices</code>和<code class="fe ls lt lu lv b">data</code>之间的连接。您可以自由地编写自己的逻辑，但是您必须小心，总是从<code class="fe ls lt lu lv b">indices</code>列表中添加一个项目作为参数，并从<code class="fe ls lt lu lv b">data</code>返回一个项目的索引。</li><li id="773a" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">mainItemContent</code>:这是将在屏幕上显示<code class="fe ls lt lu lv b">data</code>项目的组件。</li><li id="135c" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">indexedItemContent</code>:这是将在屏幕上显示<code class="fe ls lt lu lv b">indices</code>项目的可组合组件。</li></ul><p id="e928" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有一个例子</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="79da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意<code class="fe ls lt lu lv b">predicate</code>将索引项(字母‘A’到‘Z’)与人名的第一个字母连接起来的方式。</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><h2 id="75b2" class="md me iq bd mf mg mh dn mi mj mk dp ml lf mm mn mo lj mp mq mr ln ms mt mu mv bi translated">全新LazyColumn实现</h2><p id="c1f1" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">下面你可以看到没有主体的<code class="fe ls lt lu lv b">IndexedLazyColumn</code>功能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="e26b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">逐个读取参数:</p><ul class=""><li id="e32c" class="nd ne iq ky b kz la lc ld lf nf lj ng ln nh lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">indices:</code>您的索引项的简单列表(例如，1..10，A..z等)。</li><li id="79a7" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">itemsListState</code>:正如我们所说的，你使用你的<code class="fe ls lt lu lv b">LazyColumn</code>，通过这个值它将与索引连接</li><li id="a60b" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">modifier</code>:只是另一个<code class="fe ls lt lu lv b">Modifier</code>，就像你和其他组件一起使用的那个。</li><li id="2f8f" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">predicate</code>:这里的这个λ，是<code class="fe ls lt lu lv b">indices</code>和<code class="fe ls lt lu lv b">data</code>之间的连接。您可以自由编写您自己的逻辑，但是您必须注意始终将来自<code class="fe ls lt lu lv b">indices</code>列表的项目作为参数添加，并从<code class="fe ls lt lu lv b">data</code>返回项目的索引。</li><li id="415d" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">lazyColumnContent: </code>这是可以在屏幕上显示你的<code class="fe ls lt lu lv b">LazyColumn</code>的组件。</li><li id="d1bf" class="nd ne iq ky b kz nm lc nn lf no lj np ln nq lr ni nj nk nl bi translated"><code class="fe ls lt lu lv b">indexedIntemContent</code>:这是将在屏幕上显示<code class="fe ls lt lu lv b">indices</code>项目的组件。</li></ul><p id="3029" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有一个例子</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="ab25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意<code class="fe ls lt lu lv b">predicate</code>将索引项(字母“A”到“Z”)与该人姓氏的第一个字母连接起来的方式。另外，请注意如何定义一个<code class="fe ls lt lu lv b">LazyListState</code>并将其传递给函数(<code class="fe ls lt lu lv b">itemsListState</code>参数)和您的<code class="fe ls lt lu lv b">LazyColumn</code> ( <code class="fe ls lt lu lv b">state</code>参数)。</p><h1 id="d89d" class="nr me iq bd mf ns nt nu mi nv nw nx ml jw ny jx mo jz nz ka mr kc oa kd mu ob bi translated">输出</h1><p id="dcc5" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">前面的两个示例都呈现相同的数据并具有相同的功能。下面的视频描述了所有这些代码在做什么！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oc nc l"/></div></figure><h1 id="9272" class="nr me iq bd mf ns nt nu mi nv nw nx ml jw ny jx mo jz nz ka mr kc oa kd mu ob bi translated">我只需要密码</h1><p id="b79f" class="pw-post-body-paragraph kw kx iq ky b kz mw jr lb lc mx ju le lf my lh li lj mz ll lm ln na lp lq lr ij bi translated">如果你想把这个库添加到你的模块依赖关系中，或者你需要一些如何使用它的例子，请随意浏览整个项目。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/519e4c073d54744c60d61ea08f33e81c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_tOGVb8nGA0AWZIjRo1deA.jpeg"/></div></div></figure></div></div>    
</body>
</html>