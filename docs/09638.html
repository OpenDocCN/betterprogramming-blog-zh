<html>
<head>
<title>How to Send Ethereum Transactions Using Web3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Web3发送以太坊交易</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-send-ethereum-transactions-using-web3-d05e0c95f820?source=collection_archive---------0-----------------------#2021-09-21">https://betterprogramming.pub/how-to-send-ethereum-transactions-using-web3-d05e0c95f820?source=collection_archive---------0-----------------------#2021-09-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b343" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Web3和Node.js执行事务的快速指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5bcd0c848f02303fa3703db9fc576a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a8erpgc8Sf66mXVF"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@rupixen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rupixen.com</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="accc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">向以太坊区块链发送交易有三个主要步骤:创建、签名和广播。</p><p id="536e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将浏览所有三个，希望能回答您可能有的任何问题！在本教程中，我们将使用炼金术将我们的交易发送到以太坊链，所以你可以<a class="ae kv" href="https://alchemy.com/?a=035d6ae2d0" rel="noopener ugc nofollow" target="_blank">创建一个免费帐户开始</a>。</p><p id="4d45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:<strong class="ky ir"> </strong>本指南用于在你的应用程序的后端签署你的交易，如果你想集成在前端签署你的交易，你需要集成一个<a class="ae kv" href="https://docs.alchemy.com/alchemy/documentation/alchemy-web3#with-a-browser-provider" rel="noopener ugc nofollow" target="_blank">浏览器提供者与Web3 </a>。​</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="156f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">基础知识</h1><p id="72c1" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">像大多数刚开始工作的区块链开发人员一样，您可能已经对如何发送事务做了一些研究(这应该很简单),并遇到了过多的指南，每个指南都说了不同的事情，让您有点不知所措和困惑。</p><p id="9519" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你在那条船上，不要担心；我们都曾有过这样的时刻！所以，在我们开始之前，让我们弄清楚一些事情。</p><h2 id="ff9a" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">1.Alchemy不会存储您的私钥</h2><ul class=""><li id="1ad0" class="ni nj iq ky b kz mr lc ms lf nk lj nl ln nm lr nn no np nq bi translated">这意味着Alchemy不能代表您签署和发送交易。这样做的原因是出于安全目的。Alchemy从不要求您共享私钥，您也不应该与托管节点(或任何人)共享您的私钥。</li><li id="637e" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">您可以使用Alchemy的核心API从区块链中读取数据，但是要向其中写入数据，您需要在通过Alchemy发送事务之前使用某种东西对其进行签名。</li></ul><h2 id="cc20" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">2.什么是“签名者”？</h2><ul class=""><li id="01fd" class="ni nj iq ky b kz mr lc ms lf nk lj nl ln nm lr nn no np nq bi translated">签名者将使用您的私钥为您签署交易。在本教程中，我们将使用Alchemy web3来签署我们的交易，但您也可以使用任何其他web3库。</li><li id="ad1f" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">在前端，签名者的一个很好的例子是<a class="ae kv" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">元掩码</a>，它将代表您签署和发送事务。</li></ul><h2 id="0153" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">3.为什么我需要签署我的交易？</h2><ul class=""><li id="c745" class="ni nj iq ky b kz mr lc ms lf nk lj nl ln nm lr nn no np nq bi translated">每个想要在以太网上发送交易的用户必须首先对交易进行签名，以验证交易的发起者是其所声称的那个人。</li><li id="9082" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">保护这个私钥是非常重要的，因为拥有它的访问权就可以完全控制你的以太坊账户，允许你(或任何有访问权的人)代表你进行交易。</li></ul><h2 id="cc97" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">4.如何保护我的私钥？</h2><ul class=""><li id="fd1c" class="ni nj iq ky b kz mr lc ms lf nk lj nl ln nm lr nn no np nq bi translated">有许多方法可以保护你的私钥，并使用它来发送交易。在本教程中，我们将使用一个<code class="fe nw nx ny nz b">.env</code>文件。但是，您也可以使用存储私钥的独立提供程序、使用密钥库文件或其他选项。</li></ul><h2 id="5526" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">5.eth_sendTransaction和eth_sendRawTransaction有什么区别？</h2><p id="9114" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><code class="fe nw nx ny nz b">eth_sendTransaction</code>和<code class="fe nw nx ny nz b">eth_sendRawTransaction</code>都是以太坊API函数，它们向以太坊网络广播一个事务，因此它将被添加到未来块中。它们在处理交易签名的方式上有所不同。</p><ul class=""><li id="a910" class="ni nj iq ky b kz la lc ld lf oa lj ob ln oc lr nn no np nq bi translated"><code class="fe nw nx ny nz b"><a class="ae kv" href="https://web3js.readthedocs.io/en/v1.2.0/web3-eth.html#eth-sendtransaction" rel="noopener ugc nofollow" target="_blank">eth_sendTransaction</a></code>用于发送未签名的交易，这意味着您要发送的节点必须管理您的私钥，以便它可以在将交易广播到链之前对交易进行签名。因为Alchemy不持有用户的私钥，所以我们不支持这种方法。</li><li id="20ed" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b"><a class="ae kv" href="https://docs.alchemyapi.io/documentation/alchemy-api-reference/json-rpc#eth_sendrawtransaction" rel="noopener ugc nofollow" target="_blank">eth_sendRawTransaction</a></code>用于广播已经签署的交易。这意味着您首先必须使用<code class="fe nw nx ny nz b"><a class="ae kv" href="https://web3js.readthedocs.io/en/v1.2.0/web3-eth.html#signtransaction" rel="noopener ugc nofollow" target="_blank">signTransaction(tx, private_key)</a></code>，然后将结果传入<code class="fe nw nx ny nz b">eth_sendRawTransaction</code>。</li></ul><p id="e7e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用web3时，通过调用函数<a class="ae kv" href="https://web3js.readthedocs.io/en/v1.2.0/web3-eth.html#sendsignedtransaction" rel="noopener ugc nofollow" target="_blank"> </a> <code class="fe nw nx ny nz b"><a class="ae kv" href="https://web3js.readthedocs.io/en/v1.2.0/web3-eth.html#sendsignedtransaction" rel="noopener ugc nofollow" target="_blank">web3.eth.sendSignedTransaction</a></code>访问<code class="fe nw nx ny nz b">eth_sendRawTransaction</code>。这是我们将在教程中使用的。</p><h2 id="ba69" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">6.什么是web3库？</h2><ul class=""><li id="575b" class="ni nj iq ky b kz mr lc ms lf nk lj nl ln nm lr nn no np nq bi translated">Web3是围绕标准JSON-RPC调用的包装器库，在以太坊开发中非常常用。</li><li id="e9ec" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">不同的语言有许多不同的web3库。在本教程中，我们将使用用JavaScript编写的Alchemy web3。你可以点击查看其他选项<a class="ae kv" href="https://docs.alchemy.com/alchemy/introduction/getting-started#other-web3-libraries" rel="noopener ugc nofollow" target="_blank">。</a></li></ul><p id="8559" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好了，现在我们已经解决了一些问题，让我们继续学习教程。</p><p id="7f1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:<strong class="ky ir"> </strong>本指南假设你有一个<a class="ae kv" href="https://alchemy.com/?a=035d6ae2d0" rel="noopener ugc nofollow" target="_blank">炼金术账户</a>，一个以太坊地址或元掩码钱包，NodeJs，并且安装了npm。如果没有，请创建一个并遵循以下步骤:</p><ol class=""><li id="beb3" class="ni nj iq ky b kz la lc ld lf oa lj ob ln oc lr od no np nq bi translated"><a class="ae kv" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">创建一个元掩码账户</a>(或者获得一个以太坊账户)</li><li id="bc4a" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr od no np nq bi translated"><a class="ae kv" href="https://docs.alchemy.com/alchemy/guides/alchemy-for-macs#1-install-nodejs-and-npm" rel="noopener ugc nofollow" target="_blank">安装节点JS和NPM </a></li></ol></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="f305" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> </strong>接下来，我们将了解如何通过几个步骤发送您的交易。</p><h2 id="51bf" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">1.在Rinkeby testnet上创建一个炼金术应用程序</h2><p id="a3dd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">导航到你的<a class="ae kv" href="https://dashboard.alchemyapi.io/" rel="noopener ugc nofollow" target="_blank"> Alchemy Dashboard </a>并创建一个新的应用程序，为你的网络选择Rinkeby(实际上，你可以使用你选择的任何一个<code class="fe nw nx ny nz b">testnet</code>，但是对于本指南，我们坚持使用Rinkeby)。</p><h2 id="9169" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">2.从Rinkeby水龙头请求Eth</h2><p id="3bbd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><a class="ae kv" href="https://faucet.rinkeby.io/" rel="noopener ugc nofollow" target="_blank">按照水龙头主页上的说明</a>接收Eth。你必须在社交媒体上分享你对这个特定水龙头的公开地址。确保包含您的Rinkeby以太坊地址(来自Metamask ),而不是其他网络。按照说明操作后，仔细检查你的钱包是否收到了Eth。</p><h2 id="8b45" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">3.设置新的项目目录</h2><p id="e694" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">从命令行创建一个新的项目目录，并导航到该目录:</p><pre class="kg kh ki kj gt oe nz of og aw oh bi"><span id="525b" class="mw ma iq nz b gy oi oj l ok ol">mkdir sendtx-example<br/>cd sendtx-example</span></pre><h2 id="1ad9" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">4.安装Alchemy Web3(或任何Web3库)</h2><p id="a325" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在项目目录中运行以下命令:</p><pre class="kg kh ki kj gt oe nz of og aw oh bi"><span id="23b3" class="mw ma iq nz b gy oi oj l ok ol">npm install @alch/alchemy-web3</span></pre><h2 id="b1e8" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">5.安装dotenv</h2><p id="72e9" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们将使用一个. env文件来安全地存储我们的API密钥和私有密钥。</p><pre class="kg kh ki kj gt oe nz of og aw oh bi"><span id="9f8d" class="mw ma iq nz b gy oi oj l ok ol">npm install dotenv — save</span></pre><h2 id="8adb" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">6.创建。环境文件</h2><p id="400e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在您的项目目录中创建一个<code class="fe nw nx ny nz b">.env</code>文件，并添加以下内容(替换<code class="fe nw nx ny nz b">your-api-key</code>和<code class="fe nw nx ny nz b">your-private-key</code></p><ul class=""><li id="d607" class="ni nj iq ky b kz la lc ld lf oa lj ob ln oc lr nn no np nq bi translated">要找到你的炼金术<code class="fe nw nx ny nz b">API URL</code>，导航到你刚刚在仪表板上创建的应用程序的应用程序详细信息页面，点击右上角的“查看密钥”，并获取HTTP URL。</li><li id="c1a2" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">要使用元掩码找到您的私钥，请查看本<a class="ae kv" href="https://metamask.zendesk.com/hc/en-us/articles/360015289632-How-to-Export-an-Account-Private-Key" rel="noopener ugc nofollow" target="_blank">指南</a>。</li></ul><pre class="kg kh ki kj gt oe nz of og aw oh bi"><span id="c0b0" class="mw ma iq nz b gy oi oj l ok ol">API_URL = “https://eth-rinkeby.alchemyapi.io/v2/your-api-key"<br/>PRIVATE_KEY = “your-private-key”</span></pre><h2 id="e298" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">7.创建sendTx.js文件</h2><p id="2962" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">很好，现在我们已经在一个<code class="fe nw nx ny nz b">.env</code>文件中保护了我们的敏感数据，让我们开始编码吧。对于我们的发送事务示例，我们将把Eth发送回Rinkeby水龙头。</p><p id="9845" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建一个<code class="fe nw nx ny nz b">sendTx.js</code>文件，我们将在其中配置和发送我们的示例事务，并向其中添加以下代码行:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="cdd2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请确保将第6行的地址替换为您自己的公共地址。</p><p id="af54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，在我们开始运行这段代码之前，让我们先来讨论一下这里的一些组件:</p><ul class=""><li id="dfa5" class="ni nj iq ky b kz la lc ld lf oa lj ob ln oc lr nn no np nq bi translated">nonce规范用于跟踪从您的地址发送的交易数量。出于安全目的，我们需要这样做，以防止<a class="ae kv" href="https://docs.alchemy.com/alchemy/resources/blockchain-glossary#account-nonce" rel="noopener ugc nofollow" target="_blank">重放攻击</a>。我们使用<a class="ae kv" href="https://docs.alchemy.com/alchemy/documentation/apis/ethereum#eth_gettransactioncount" rel="noopener ugc nofollow" target="_blank"> </a> <code class="fe nw nx ny nz b"><a class="ae kv" href="https://docs.alchemy.com/alchemy/documentation/apis/ethereum#eth_gettransactioncount" rel="noopener ugc nofollow" target="_blank">getTransactionCount</a></code>来获取从您的地址发送的交易数量。</li><li id="625d" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b">transaction</code>:交易对象有几个方面我们需要指定</li><li id="abe9" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b">to</code>:这是我们要发送Eth的地址。在这种情况下，我们会将Eth发送回我们最初请求的<a class="ae kv" href="https://faucet.rinkeby.io/" rel="noopener ugc nofollow" target="_blank"> Rinkeby水龙头</a>。</li><li id="c87d" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b">value</code>:这是我们希望发送的金额，在<code class="fe nw nx ny nz b">wei</code>中指定，其中<code class="fe nw nx ny nz b">10¹⁸ wei = 1 ETH</code></li><li id="fecf" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated">有很多种方法可以确定你的交易中应该包含多少汽油。Alchemy甚至有一个<a class="ae kv" href="https://docs.alchemy.com/alchemy/guides/using-notify#address-activity-1" rel="noopener ugc nofollow" target="_blank">气价webhook </a>来通知你气价何时降到某个阈值以内。对于<code class="fe nw nx ny nz b">mainnet</code>交易来说，检查像<a class="ae kv" href="https://ethgasstation.info/" rel="noopener ugc nofollow" target="_blank"> Eth加油站</a>这样的气体评估员是一个好的做法，以确定要包括的气体的正确数量。21000是以太坊操作使用的最小气体量，所以为了确保我们的交易被执行，我们在这里放了30000。</li><li id="be0c" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b">maxFeePerGas</code>:这是您愿意为执行交易支付的每份天然气的金额。由于EIP 1559这个字段或<code class="fe nw nx ny nz b">maxPriorityFeePerGas</code>字段是必需的。</li><li id="9a6d" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b">nonce</code>:参见上面的随机数定义。Nonce从零开始计数。</li><li id="fa5a" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b">data</code>:这是可选的，用于随转账发送附加信息，或调用智能合约，余额转账不需要，请查看下面的注释。</li><li id="04a4" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b">signedTx</code>:为了签署我们的交易对象，我们将使用<code class="fe nw nx ny nz b">signTransaction</code>方法和我们的<code class="fe nw nx ny nz b">PRIVATE_KEY</code></li><li id="0d56" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><code class="fe nw nx ny nz b">sendSignedTransaction</code>:一旦我们有了一个已签名的事务，我们可以通过使用<code class="fe nw nx ny nz b">sendSignedTransaction</code>将它发送到后续的块中</li></ul><h2 id="d1a2" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated"><strong class="ak">关于数据的注释</strong></h2><p id="a7a9" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">以太坊中可以发送两种主要类型的交易:</p><ul class=""><li id="1583" class="ni nj iq ky b kz la lc ld lf oa lj ob ln oc lr nn no np nq bi translated"><strong class="ky ir">余额转移:</strong>将eth从一个地址发送到另一个地址。没有数据字段是必需的，但是，如果您想在交易的同时发送附加信息，您可以在此字段中包含十六进制格式的信息。例如，假设我们想将IPFS文档的散列写到以太坊链中，以便给它一个不可变的时间戳。我们的数据字段应该看起来像<code class="fe nw nx ny nz b">data: web3.utils.toHex(‘IPFS hash‘)</code>。现在任何人都可以查询该链，并查看该文档是何时添加的。</li><li id="6eef" class="ni nj iq ky b kz nr lc ns lf nt lj nu ln nv lr nn no np nq bi translated"><strong class="ky ir">智能联系交易:</strong>在链上执行一些智能合约代码。在这种情况下，数据字段应该包含您希望执行的智能功能，以及任何参数。一个实际的例子，看看这个<a class="ae kv" href="https://docs.alchemy.com/alchemy/tutorials/hello-world-smart-contract#step-8-create-the-transaction" rel="noopener ugc nofollow" target="_blank"> Hello World教程</a>中的步骤8。</li></ul><h2 id="1043" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">8.使用节点sendTx.js运行代码</h2><p id="c533" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">导航回您的终端或命令行并运行:</p><pre class="kg kh ki kj gt oe nz of og aw oh bi"><span id="f7a9" class="mw ma iq nz b gy oi oj l ok ol">node sendTx.js</span></pre><h2 id="0a53" class="mw ma iq bd mb mx my dn mf mz na dp mj lf nb nc ml lj nd ne mn ln nf ng mp nh bi translated">9.在内存池中查看您的事务</h2><p id="9155" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在你的Alchemy dashboard中打开<a class="ae kv" href="https://dashboard.alchemyapi.io/mempool" rel="noopener ugc nofollow" target="_blank"> Mempool页面</a>，通过你创建的应用程序进行过滤，找到你的交易。在这里，我们可以看到我们的事务从pending状态转换到mined状态(如果成功)或者dropped状态(如果不成功)。</p><p id="228b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保将其保持在“All”上，以便捕获“mined”、“pending”和“dropped”事务。您也可以通过查找发送到地址<code class="fe nw nx ny nz b">0x31b98d14007bdee637298086988a0bbd31184523</code>(替换为您的地址)的交易来搜索您的交易。</p><p id="22a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">找到交易后，要查看交易的详细信息，请选择tx hash，这将带您进入如下所示的视图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/be25c7e785a5c59cd6d6406db906fa3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3UJ5aKuSaVlvZydM"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在Alchemy Mempool Watcher上查看您的交易</p></figure><p id="54b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，您可以通过点击用红色圈出的图标在Etherscan上查看您的交易！</p><p id="e8c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">恭喜你。您刚刚使用炼金术发送了您的第一笔以太坊交易。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="430d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="op">本文原载于</em> <a class="ae kv" href="https://docs.alchemy.com/alchemy/tutorials/sending-txs" rel="noopener ugc nofollow" target="_blank"> <em class="op">炼金术</em> </a> <em class="op">。</em></p></div></div>    
</body>
</html>