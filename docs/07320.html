<html>
<head>
<title>Create a Library Using Swift Package Manager in Xcode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Xcode中使用Swift Package Manager创建一个库</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-a-library-using-swift-package-manager-in-xcode-701d5586e953?source=collection_archive---------6-----------------------#2021-01-04">https://betterprogramming.pub/creating-a-library-using-swift-package-manager-in-xcode-701d5586e953?source=collection_archive---------6-----------------------#2021-01-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b489" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">轻松将您的代码转换成Swift包</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9ebff31d1e05fe6a112c44e8a78e8ac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bLm7KHJ5q4j84TYCRS3Mqg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Emile Guillemot 在<a class="ae kv" href="https://unsplash.com/s/photos/future?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="b907" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">什么是Swift Package Manager(又名SwiftPM或SPM)？</h1><ul class=""><li id="5907" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><code class="fe mg mh mi mj b">SwiftPM</code>是一个管理Swift代码分发的工具，就像<code class="fe mg mh mi mj b">CocoaPods</code>和<code class="fe mg mh mi mj b">Carthage</code>一样。</li><li id="ccb5" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">它与Swift构建系统相集成，可自动完成下载、编译和链接依赖关系的过程。</li><li id="1e46" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated"><code class="fe mg mh mi mj b">SwiftPM</code>包含在<code class="fe mg mh mi mj b">Swift 3.0</code>中，以上版本使我们能够管理Swift依赖性。</li><li id="834e" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">随着Swift 5和Xcode 11的发布，SwiftPM支持被添加到Xcode本身中。</li></ul><p id="6c84" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">以下是在Xcode中创建您的第一个swift包的分步指南。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/1f224bc459f12cb5de30f361e46f3259.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UgkhBpfpCKvTtgVzKdjL0A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片来源:作者</p></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="dd7e" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">创建您自己的Swift包</h1><p id="244e" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">创建您自己的swift包有两种方式。根据您的喜好，您可以使用<code class="fe mg mh mi mj b">Terminal</code>应用程序或<code class="fe mg mh mi mj b">Xcode (Version 11+)</code>应用程序。</p><h2 id="64c1" class="nu kx iq bd ky nv nw dn lc nx ny dp lg lv nz oa li lx ob oc lk lz od oe lm of bi translated">选项1:使用终端</h2><p id="1cba" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">要创建新的Swift包，请打开<code class="fe mg mh mi mj b">Terminal</code>应用程序(<code class="fe mg mh mi mj b">Applications &gt; Utilities &gt; Terminal.app</code>，并创建一个名为<code class="fe mg mh mi mj b">MyFirstSPMDemo/&gt;</code>的文件夹:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="2ede" class="nu kx iq mj b gy ok ol l om on">$ mkdir MyFirstSPMDemo<br/>$ cd MyFirstSPMDemo</span></pre><p id="4a5c" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">或者使用单行命令:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="8941" class="nu kx iq mj b gy ok ol l om on">$ mkdir MyFirstSPMDemo &amp;&amp; cd $_</span></pre><p id="03f2" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">现在，通过在您的终端中运行以下命令来初始化Swift包，以创建Swift包目录结构:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="9596" class="nu kx iq mj b gy ok ol l om on">$ swift package init</span></pre><p id="79ec" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">还可以通过提供子命令来指定要创建的包的类型:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="2595" class="nu kx iq mj b gy ok ol l om on">$ swift package init --type library</span></pre><p id="0ec2" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">默认情况下，<code class="fe mg mh mi mj b">init</code>会创建一个库包。要检查其他选项，请使用以下命令:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="5637" class="nu kx iq mj b gy ok ol l om on"><strong class="mj ir">$ swift package init --help</strong></span><span id="2bcc" class="nu kx iq mj b gy oo ol l om on">OVERVIEW: Initialize a new package</span><span id="99b6" class="nu kx iq mj b gy oo ol l om on">OPTIONS:</span><span id="8a52" class="nu kx iq mj b gy oo ol l om on">--name   Provide custom package name<br/>--type   empty|library|executable|system-module|manifest</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/92bdb3535f1c5a991f9c06b78691b1a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o4MlMdrfJYZckl0_PjWO_Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Swift包装结构</p></figure><p id="b0a6" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated"><strong class="lq ir"> <em class="oq">注意:</em> </strong> <em class="oq"> <br/>要在Xcode应用程序中打开您的库/swift包，双击</em> <code class="fe mg mh mi mj b"><em class="oq">Package.swift</em></code> <em class="oq">文件。</em></p><h2 id="01c1" class="nu kx iq bd ky nv nw dn lc nx ny dp lg lv nz oa li lx ob oc lk lz od oe lm of bi translated">选项2:使用Xcode(版本11以上)</h2><p id="ee6e" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">使用Xcode创建新的Swift包是一个简单的过程:</p><ul class=""><li id="5867" class="lo lp iq lq b lr mr lt mt lv or lx os lz ot mb mc md me mf bi translated">打开Xcode应用程序，选择<code class="fe mg mh mi mj b">File &gt; New &gt; Swift Package...</code>选项或使用<code class="fe mg mh mi mj b"><strong class="lq ir">⌃⇧⌘ </strong>N</code>快捷键。</li><li id="d3fe" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">或者，转到<code class="fe mg mh mi mj b">File &gt; New &gt; Project...</code>并选择<code class="fe mg mh mi mj b">Multiplatform</code>选项下的<code class="fe mg mh mi mj b">Swift Package</code>模板。</li><li id="1df7" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">键入您的包名，选择您的位置，然后点击<code class="fe mg mh mi mj b">Create</code>按钮</li><li id="01bd" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">搞定了。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/7e8a6ebb34f65e9603662f79290a729e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iX2L3OnseItRnugRou9ksA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用Xcode的Swift包(版本12.2)</p></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="82e1" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">Swift套餐概述</h1><ul class=""><li id="71af" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">包由Swift源文件和清单文件组成。名为<code class="fe mg mh mi mj b">Package.swift</code>的清单文件使用<code class="fe mg mh mi mj b">PackageDescription</code>模块定义了包名及其内容。</li><li id="5d6f" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">一个包有一个或多个目标。每个目标指定一个产品，并且可以声明一个或多个依赖项。</li></ul><p id="cdad" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">以下是完整的清单文件供参考(Swift工具版本将取决于我们用来创建Swift包的Xcode版本):</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ou ov l"/></div></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="6247" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">在包中编写源代码</h1><p id="db8f" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">我们已经为我们的Swift产品包创建了一个基本结构。现在是时候在我们的Swift包中编写/添加源代码了。</p><ul class=""><li id="7af3" class="lo lp iq lq b lr mr lt mt lv or lx os lz ot mb mc md me mf bi translated">将所有源文件复制到<code class="fe mg mh mi mj b">Sources\MyFirstSPMDemo</code>文件夹中。如果你愿意，你可以删除现有的<code class="fe mg mh mi mj b">Sources\MyFirstSPMDemo.swift</code>模板文件。</li><li id="4262" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">如果您有单元测试文件，将它们全部复制到<code class="fe mg mh mi mj b">Tests\MyFirstSPMDemoTests</code>文件夹中。</li></ul><p id="a2cb" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">还建议定期用有意义的内容更新你的<code class="fe mg mh mi mj b">README.md</code>文件。这有助于其他开发者了解如何使用您的Swift软件包。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="1d3c" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">更新默认清单(Package.swift)文件</h1><p id="feff" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">对于一个简单的包，您可能不需要更改默认的清单文件内容。</p><h2 id="c896" class="nu kx iq bd ky nv nw dn lc nx ny dp lg lv nz oa li lx ob oc lk lz od oe lm of bi translated">1.定义平台和版本</h2><p id="b16c" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">为您的swift产品包指定iOS的最低部署版本:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="aecd" class="nu kx iq mj b gy ok ol l om on">platforms: [<br/>  // Only add support for iOS 13 and up.<br/>  .iOS(.v13)<br/>],</span></pre><h2 id="7c58" class="nu kx iq bd ky nv nw dn lc nx ny dp lg lv nz oa li lx ob oc lk lz od oe lm of bi translated">2.导入其他包依赖项</h2><p id="1179" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">如果您的Swift包有其他依赖项，您可以在<code class="fe mg mh mi mj b">dependencies</code>标签下定义它们。在目标中添加所有的依赖项。</p><p id="964c" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">每个依赖项指定一个源URL和版本要求。</p><ul class=""><li id="0396" class="lo lp iq lq b lr mr lt mt lv or lx os lz ot mb mc md me mf bi translated">源URL是当前用户可访问的URL，它解析为Git存储库。</li><li id="c587" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">版本需求遵循<a class="ae kv" href="http://semver.org/" rel="noopener ugc nofollow" target="_blank">语义版本化(SemVer) </a>约定，用于确定检查哪个Git标签并使用它来构建依赖关系。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ou ov l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><strong class="ak">具有最低iOS版本和依赖关系的清单文件</strong></p></figure><p id="3ff5" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">在这个例子中，我们添加了<code class="fe mg mh mi mj b">Swifty-Extensions</code>框架，并告诉包管理器自动获取从<code class="fe mg mh mi mj b">1.0.1</code>开始的版本。这允许我们获取像<code class="fe mg mh mi mj b">1.0.2</code>或<code class="fe mg mh mi mj b">1.1.0</code>这样的版本，但不能获取<code class="fe mg mh mi mj b">2.0.0</code>，因为那是下一个可能包含重大变化的主要版本。</p><h2 id="c21b" class="nu kx iq bd ky nv nw dn lc nx ny dp lg lv nz oa li lx ob oc lk lz od oe lm of bi translated"><strong class="ak">其他选项</strong></h2><p id="f05d" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">还有其他选项可以为您的依赖项添加特定的需求，比如使用确切的版本或版本范围。</p><p id="4bfb" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">要获得准确的版本(不推荐):</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="72d2" class="nu kx iq mj b gy ok ol l om on">.package(<br/>url: "<a class="ae kv" href="https://github.com/milanpanchal/Swifty-Extensions" rel="noopener ugc nofollow" target="_blank">https://github.com/milanpanchal/Swifty-Extensions</a>", <br/>.exact("1.0.1")<br/>)</span></pre><p id="fdc8" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">要获得下一个主要/次要版本:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="5b1b" class="nu kx iq mj b gy ok ol l om on">.package(<br/>url: "<a class="ae kv" href="https://github.com/milanpanchal/Swifty-Extensions" rel="noopener ugc nofollow" target="_blank">https://github.com/milanpanchal/Swifty-Extensions</a>", <br/>.upToNextMajor(from: "2.0.0")<br/>)</span><span id="93cf" class="nu kx iq mj b gy oo ol l om on">.package(<br/>url: "<a class="ae kv" href="https://github.com/milanpanchal/Swifty-Extensions" rel="noopener ugc nofollow" target="_blank">https://github.com/milanpanchal/Swifty-Extensions</a>", <br/>.upToNextMinor(from: "1.2.0")<br/>)</span></pre><p id="e444" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">要获得一系列版本:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="2b00" class="nu kx iq mj b gy ok ol l om on">.package(<br/>url: "<a class="ae kv" href="https://github.com/milanpanchal/Swifty-Extensions" rel="noopener ugc nofollow" target="_blank">https://github.com/milanpanchal/Swifty-Extensions</a>", <br/>"1.0.1"..&lt;"1.1.0")</span></pre><p id="8215" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">使用特定分支或版本:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="6628" class="nu kx iq mj b gy ok ol l om on">.package(<br/>url: "<a class="ae kv" href="https://github.com/milanpanchal/Swifty-Extensions" rel="noopener ugc nofollow" target="_blank">https://github.com/milanpanchal/Swifty-Extensions</a>",<br/>.branch("development"))</span><span id="44cb" class="nu kx iq mj b gy oo ol l om on">.package(<br/>url: "<a class="ae kv" href="https://github.com/milanpanchal/Swifty-Extensions" rel="noopener ugc nofollow" target="_blank">https://github.com/milanpanchal/Swifty-Extensions</a>", .revision("<!-- -->51cc4b03d7a855633626f016f05706a4ae527d89<!-- -->"))</span></pre></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="1d1f" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">构建和测试包</h1><ul class=""><li id="8026" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">要构建您的Swift包，请在终端中运行<code class="fe mg mh mi mj b">swift build</code>命令。包管理器下载所有的依赖项(在<code class="fe mg mh mi mj b">Package.swift</code>中声明)，编译它们，然后将它们链接到包模块。</li><li id="dc7b" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">下载的源代码可以在项目根目录下的<code class="fe mg mh mi mj b">.build/checkouts</code>目录中找到，中间编译产品可以在项目根目录下的<code class="fe mg mh mi mj b">.build</code>目录中找到。</li><li id="c308" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">要运行您的Swift软件包的测试，请使用:<code class="fe mg mh mi mj b">swift test</code>。</li></ul><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="6dfb" class="nu kx iq mj b gy ok ol l om on">$ swift build<br/>$ swift test</span></pre></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="27f7" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">发布您的Swift包裹</h1><p id="4707" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">要发布您的Swift包，只需创建一个新的版本标签，并将其推送到您的Git存储库。您可以使用<code class="fe mg mh mi mj b">Xcode</code>或<code class="fe mg mh mi mj b">Terminal</code>应用程序来发布您的包。</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="5504" class="nu kx iq mj b gy ok ol l om on"><strong class="mj ir">$ git add -A<br/>$ git commit -m "My First Swift Package Demo"</strong></span><span id="ae2d" class="nu kx iq mj b gy oo ol l om on"><em class="oq">// git tagging</em><br/><strong class="mj ir">$ git tag 1.0.0</strong></span><span id="6010" class="nu kx iq mj b gy oo ol l om on"><br/><em class="oq">// To push the specific tag<br/></em><strong class="mj ir">$ git push origin 1.0.0</strong></span><span id="650e" class="nu kx iq mj b gy oo ol l om on"><em class="oq">// To push all the tags at once</em><br/><strong class="mj ir">$ git push origin --tags</strong></span></pre></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="70d2" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">构建可执行文件</h1><ul class=""><li id="569a" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">如果一个目标包含一个名为<code class="fe mg mh mi mj b">main.swift</code>的文件，则该目标被视为可执行文件。软件包管理器会将该文件编译成二进制可执行文件。</li><li id="a69d" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated">创建可执行文件的过程与我们创建库包的过程几乎相同。</li></ul><p id="281b" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">首先，创建并输入一个名为<code class="fe mg mh mi mj b">MyFirstSPMDemo</code>的目录:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="6904" class="nu kx iq mj b gy ok ol l om on">$ mkdir MyFirstSPMDemo &amp;&amp; cd $_</span></pre><p id="8521" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">现在运行swift包的<code class="fe mg mh mi mj b">init</code>命令，可执行类型为:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="1fbd" class="nu kx iq mj b gy ok ol l om on">$ swift package init --type executable</span></pre><p id="397a" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">使用<code class="fe mg mh mi mj b">swift build</code>和<code class="fe mg mh mi mj b">swift run</code>命令构建并运行可执行文件:</p><pre class="kg kh ki kj gt og mj oh oi aw oj bi"><span id="15db" class="nu kx iq mj b gy ok ol l om on">$ swift build<br/>$ swift run</span></pre></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="25b3" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">参考</h1><ul class=""><li id="d0e9" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><a class="ae kv" href="https://developer.apple.com/videos/play/wwdc2019/410/" rel="noopener ugc nofollow" target="_blank">https://developer.apple.com/videos/play/wwdc2019/410/</a></li><li id="57cb" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated"><a class="ae kv" href="https://github.com/apple/swift-package-manager" rel="noopener ugc nofollow" target="_blank">https://github.com/apple/swift-package-manager</a></li><li id="b74b" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated"><a class="ae kv" href="https://swift.org/getting-started/#using-the-package-manager" rel="noopener ugc nofollow" target="_blank">https://swift . org/getting-started/# using-the-package-manager</a></li><li id="5331" class="lo lp iq lq b lr mk lt ml lv mm lx mn lz mo mb mc md me mf bi translated"><a class="ae kv" href="https://swift.org/package-manager/" rel="noopener ugc nofollow" target="_blank">https://swift.org/package-manager/</a></li></ul></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="6071" class="kw kx iq bd ky kz nm lb lc ld nn lf lg jw no jx li jz np ka lk kc nq kd lm ln bi translated">有问题吗？</h1><p id="e8c3" class="pw-post-body-paragraph mp mq iq lq b lr ls jr ms lt lu ju mu lv nr mw mx lx ns mz na lz nt nc nd mb ij bi translated">如果你有任何问题，请在下面随意评论。</p><p id="abc4" class="pw-post-body-paragraph mp mq iq lq b lr mr jr ms lt mt ju mu lv mv mw mx lx my mz na lz nb nc nd mb ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>