<html>
<head>
<title>Why Flutter is Going to Be a Pivotal Moment for App Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么Flutter将成为应用程序开发的关键时刻</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/why-flutter-is-going-to-be-a-pivotal-moment-for-app-development-d6382a3f1aab?source=collection_archive---------3-----------------------#2022-04-04">https://betterprogramming.pub/why-flutter-is-going-to-be-a-pivotal-moment-for-app-development-d6382a3f1aab?source=collection_archive---------3-----------------------#2022-04-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0d9d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">唯一能让它消失的东西</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f361a0f5b9dd88b48c263ae3b0702c86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BNFZNOAqt3lxRguZQKuwYg.png"/></div></div></figure><p id="4ac3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你和我一样，你可能在过去几年里一直在追踪Flutter的进展。如果你更像我一样，你已经把农场押在了新项目上，T2在YouTube上开了一个频道，讨论Flutter的来龙去脉。</p><p id="bfc6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我几乎完全将我的开发负荷切换到了Flutter，我一点也不后悔。我已经将我的开发称为“抖动之前”和“抖动之后”，即“之前”的时间是非常痛苦的，并且很难以一种高性能的方式针对多个平台。</p><p id="da33" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是跨平台并不新鲜，那么为什么Flutter代表了软件开发中如此关键的时刻呢？</p><h1 id="1bf6" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">跨平台需求</h1><p id="0d0b" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">“一次编写，随处运行”的愿望已经存在很长时间了。这也是Java最初产生的原因之一，所以你可以拥有一个应用程序，你可以用一种语言编写它，然后在你选择的任何设备上运行它。</p><p id="ccf5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">考虑到DRY(不要重复自己)的概念已经烙进了每个软件开发人员的心中，用两种不同的语言和设计框架为iPhone和Android创建一个应用程序一直都很困难。这似乎是代码的终极复制，你的Android或iOS应用程序将调用相同的API，在屏幕上产生相同的文本，但两者都必须以自己的方式进行。</p><p id="fda9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">多年来，我们曾多次尝试纠正这种被认为效率低下的现象，我也尝试过很多次。任何来自Cordova、Ionic、NativeScript、React Native和Xamarin的形式，我都至少在其中写了一些东西，然后离开了它们。为什么？这里有一个简短的分类:</p><ul class=""><li id="af4f" class="mp mq it kw b kx ky la lb ld mr lh ms ll mt lp mu mv mw mx bi translated"><strong class="kw iu"> Cordova/Ionic — </strong>快速开发原型应用，但对于一般应用来说速度较慢。没有带来最好的用户体验。</li><li id="ee7d" class="mp mq it kw b kx my la mz ld na lh nb ll nc lp mu mv mw mx bi translated"><strong class="kw iu"> NativeScript — </strong>最初显示了一些希望，但是关键包的许可意味着它是不可行的(在我使用它的时候，我不能在商业产品中使用SQLite，除非我想付钱)</li><li id="ca14" class="mp mq it kw b kx my la mz ld na lh nb ll nc lp mu mv mw mx bi translated"><strong class="kw iu">反应自然— </strong>这不是一个足够好的理由，但我就是不喜欢把我的应用程序放在JSX那里。另外，JavaScript中的类型安全并不令人讨厌(当时——我知道TypeScript现在已经可以使用了)</li><li id="6e99" class="mp mq it kw b kx my la mz ld na lh nb ll nc lp mu mv mw mx bi translated"><strong class="kw iu">xa marin Forms/MAUI</strong>——一次非常沮丧、无趣的经历。只是因为我懂C#(坚持做某事的错误理由)才坚持下来</li></ul><p id="6ca3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所有上述框架还有一些共同之处。它们依赖于目标设备上“本机控制”的利用。因此，对于iOS或Android，框架将为我当时使用的东西绑定适当的系统控件，无论是标签、复选框还是其他控件。</p><p id="2194" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，如果checkbox的实现方式发生了变化，那么负责维护框架的人必须更新他们绑定到这些控件的方式。新控件也是如此——框架维护者(或开源包)将在框架内实现这些新控件。从我的角度来看，这相当于一个近乎持续的打地鼠游戏，在API中的新特性可用时追逐它们，并在各自的操作系统更新时修复现有绑定的问题。</p><p id="adf6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这也意味着将这些框架移植到新的平台是一个巨大的负担，因为您必须将框架提供的所有控件映射到设备本身的本机控件。然后，一旦完成，就会有人负责更新这些绑定。</p><p id="a563" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我不太喜欢我的某个应用程序在Android 7.0上没有以Xamarin形式显示任何<em class="lq">按钮</em>的背景。最后，这仅仅是因为框架本身的一个实现上的怪癖，但是这并不是你可以很容易地向客户解释的事情。相反，你必须花几个小时去追逐它(并编写一个自定义的渲染器！)只是为了解决这样的问题。</p><h1 id="6df0" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">Flutter如何解决这个问题</h1><p id="dbd8" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">Flutter通过不使用任何本地控件来解决这个问题，而是将自己的控件绘制到屏幕上。现在，就用户体验和电池寿命而言，这听起来对每个人来说都是最糟糕的结果。但是在你得出这个结论之前，考虑一下这就是<em class="lq">在过去二十年里几乎每款游戏都在做的事情</em>。我们没有“特定于平台”的游戏体验，我们有移植到多个平台的相同游戏。每个平台只更新接触点(向您展示如何在Xbox上使用Xbox控制器，在PlayStation上使用PlayStation控制器)。每个游戏都在各自的平台上本地运行，并且可以很好地执行。</p><p id="1b5e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让内容在独立平台上快速呈现是谷歌的核心业务之一，<a class="ae lr" href="https://www.google.com/intl/en_au/chrome/" rel="noopener ugc nofollow" target="_blank">谷歌还开发了一款你可能听说过的浏览器</a>。Chrome使用Skia进行几乎所有的图形操作<a class="ae lr" href="https://www.chromium.org/developers/design-documents/graphics-and-skia/" rel="noopener ugc nofollow" target="_blank"/>，包括文本布局，并且以一种非常高效的方式进行。仔细想想，这是有道理的。Chrome开发者不需要在Android、iOS、Windows等平台上布局文本。他们只需要让Skia以极快的速度执行该操作，然后跨平台实现该功能。</p><p id="a620" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Flutter还使用Skia进行渲染操作，这意味着它在布局应用程序和渲染动画方面的性能非常好，即使在较低规格的硬件上也是如此。</p><h1 id="9c6a" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">为什么这对软件开发来说是一件大事？</h1><p id="7abc" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">随着时间的推移，随着操作系统的发布，操作系统版本和为该平台编写的应用程序中可用的功能之间有着相当强的联系。随着时间的推移，更多的功能被添加到核心操作系统中，更多的控制被引入，现有的控制被更新。如果你的应用程序使用一组更新的API，它可能无法在同一操作系统的旧版本上运行，因为你的应用程序将依赖于那些特定的平台API。</p><p id="16a9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这只是在我们每天使用的计算机环境中。如果我们从更广泛的意义上考虑软件，甚至我们驾驶的汽车也对软件有着真正的依赖。信息娱乐系统都有特定的风格，并且在外观上保持一致。</p><p id="0a7e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个故事的要点是<em class="lq">很多时间都花在了让东西以一种表演的方式呈现在屏幕上。无论你现在正在阅读这篇文章，你都已经在按钮、文本、标签和其他视觉元素的外观上投入了大量的时间。一旦它们被渲染到用户界面，其他视觉效果，如阴影和渐变，就会花费更多的精力来尝试快速渲染，以减少操作中的抖动或缓慢。</em></p><p id="d0f2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从这个意义上来说，Flutter是革命性的，因为它完全解除了对父操作系统的依赖。如果你可以将Flutters的渲染引擎移植到你的手机、汽车、爆米花机或咖啡机上，那么你就可以访问一个非常棒的控件库，让你制作的任何应用程序看起来都非常棒。因此，对平台开发人员的要求不是为按钮、文本和其他东西创建一组控件，而是确保他们的东西能够运行。那很酷。</p><p id="4d50" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这可能意味着平台开发人员可以创建一个操作系统，并选择完全接受Flutter附带的可视化设计语言，而不是实际设计任何自己的原生控件。只要他们的东西可以支持在屏幕上渲染Flutter应用程序，一切都应该正常。大量的开发工作被简单地删除了。</p><h1 id="1e12" class="ls lt it bd lu lv lw lx ly lz ma mb mc jz md ka me kc mf kd mg kf mh kg mi mj bi translated">但它并不完美</h1><p id="07bf" class="pw-post-body-paragraph ku kv it kw b kx mk ju kz la ml jx lc ld mm lf lg lh mn lj lk ll mo ln lo lp im bi translated">我们永远不会得到一个完美的跨平台框架。在这个过程中，我们将不得不做出妥协，因为我们正在创建一个跨平台的应用程序。诚然，我发现这些与Flutter本身的妥协是相当小的。</p><p id="ea46" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在Flutter中注意到的一件事是大量我称之为<em class="lq">稳定特性滑动的东西。</em>当Flutter来到Android和iOS，变得稳定后，用<em class="lq">有状态热重装</em>落地。您可能已经听说过这一点，但您可以对应用布局和服务层进行更改，应用的状态将会保持不变，但您的应用将会神奇地更新。这大大缩短了开发周期，也是Flutter的主要特性之一。</p><p id="ad47" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">去年，Flutter for Web进入了稳定状态，而且是在<em class="lq">没有</em>状态热重装的情况下进入的。本期追踪这个特殊的问题。毫无疑问，web热重装是一个很难解决的问题，根据关于这个问题的一个评论。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/2af0bd1cddb7813761e4b13832ec5895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VhH4zP3EfUVw10f5d9f0FA.png"/></div></div></figure><p id="3861" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是，Windows/Android和iOS的Flutter由于支持热重装而变得稳定。使用Flutter的人可能会有一个概念，是什么让一个软件变得“稳定”,一旦Flutter达到稳定，他们就有理由期待一个热重载，因为这是之前每个平台都附带的。</p><p id="aa68" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如我们在这里看到的，这显然不是颤振网页的情况。要明确的是，这不是我喊“来吧，你noobs！这能有多难！”因为我认识到并接受，即使在非web平台上，启用热重载也是一个非常复杂的命题。但这并不能改变这样一个事实，即Flutter Stable根据你开发的平台不同，在特性上有差异，这感觉很奇怪。</p><p id="3f33" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一个例子是Windows平台上的Flutter。iOS、Android和macOS提供了用一种语言编写平台代码的能力，你可以合理地期望该平台的开发者知道这种语言。iOS让你用Swift或者Objective C写平台代码，Android让你用Kotlin或者Java写平台代码。我希望这些平台的开发者了解这些语言。</p><p id="d27b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">那么，你希望Windows开发人员知道什么语言呢？我会说. NET。当然，你可能知道Python或JavaScript或其他一些语言，但作为一名原生Windows开发人员，你可能会在. NET中淘汰WPF或UWP应用程序。这是有道理的-它与各种Windows API和大量Nuget包进行了很好的集成，使原生平台功能非常容易使用。</p><p id="e1a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">很自然，你会希望Windows上的Flutter能让你使用。NET作为您的平台特定的代码，尽管C#和。NET被世界上数百万的开发人员使用，并且是显而易见的选择，Windows功能必须用C++实现。</p><p id="2332" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在Flutter之前，为什么Windows开发人员需要了解C++？如果他们正在编写一个非常高性能的时间关键的本地应用程序，他们可能知道这一点。但这不是常态，这绝对是例外。因此，与相比，C++开发人员相对较少(甚至更少“优秀”)。Windows开发人员。</p><p id="a9af" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因为Flutter是为iOS和Android推出的，支持最流行的语言，所以我认为它缺乏。NET对Windows平台特定功能的支持是另一个稳定特性的例子。因此，在Windows上开发和发布Flutter插件变得更加困难，并从整体上影响了Flutter在Windows上的价值定位。</p><p id="5ec2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">再说一遍，我并不是说这样做很容易。在任何规模上做这些都是非常困难的。但是仅仅因为有些东西很难，这就意味着你应该宣布像Flutter这样的东西的平台稳定性，并且当你这样做的时候随机地放弃某些特性吗？我不认为这有什么意义，因为它开创了一个先例，一个平台可以在没有普遍接受的功能可用的情况下保持稳定。毕竟，稳定只是一个词，可能最好让平台处于测试阶段，直到它们拥有其他平台的功能。</p><p id="fd0d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果这种趋势继续下去，这意味着颤振对于任何平台都可能变得稳定，任何特性都可能存在或不存在。从长远来看，这是一个问题，因为Flutters的功能集因平台而异。这是一件可能影响Flutters作为跨平台框架选择的可行性的事情，因为你不会真正知道在你选择的平台上，你会在Flutter的稳定版本中获得什么功能。</p><p id="4818" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尽管如此，Flutter确实代表了一个非常棒的框架，如果你还没有开始使用它，那么你绝对应该尝试一下。不过，请注意，不同平台之间的情况可能会有所不同。</p></div></div>    
</body>
</html>