<html>
<head>
<title>3 Neglected Features in Python 3 That Everyone Should Be Using</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 3中每个人都应该使用的3个被忽视的特性</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/3-neglected-features-in-python-3-that-everyone-should-be-using-65cffc96f235?source=collection_archive---------1-----------------------#2020-08-04">https://betterprogramming.pub/3-neglected-features-in-python-3-that-everyone-should-be-using-65cffc96f235?source=collection_archive---------1-----------------------#2020-08-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0e3c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">枚举、fstrings和数据类</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5565dba1cb5a9ace1fc965ebf38feeac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XA7D3mea-p4zk_2zoLvOJw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@hishahadat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">沙哈达特拉赫曼</a>在<a class="ae ky" href="https://unsplash.com/s/photos/python?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片。</p></figure><p id="1adb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python 3已经问世一段时间了，大多数开发人员——尤其是第一次接触编程的开发人员——已经在使用它了。但是，尽管Python 3推出了许多新特性，但似乎有许多新特性是未知的或未被充分利用的。在今天的文章中，我将讨论三个鲜为人知但非常有用的特性。我开始了解并喜欢其他语言的这些特性，我真的认为这些特性让Python 3变得很棒。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9e69" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">列举</h1><p id="d394" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">枚举是我在Java和Swift中经常使用的东西，我对它们的使用扩展到了Python。</p><p id="10f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用Python声明一个enum非常简单，在Python 3之前也可以完成(尽管功能更有限):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="a0ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，您可以看到通过声明一个类并使其成为<code class="fe nb nc nd ne b">Enum</code>的子类，可以很容易地声明一个枚举。从这里开始，您只需在下面几行中定义您的每个状态。</p><p id="a8cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的例子中，我有<code class="fe nb nc nd ne b">AIR</code>、<code class="fe nb nc nd ne b">LAND</code>和<code class="fe nb nc nd ne b">SEA</code>可用。</p><p id="2485" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python 3中增加的功能是执行<code class="fe nb nc nd ne b">.value</code>和<code class="fe nb nc nd ne b">.name</code>的能力。这些将允许您获得与状态相关联的整数值或与之相关联的字符串。</p><p id="313b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，打印<code class="fe nb nc nd ne b">State.LAND.name</code>将返回<code class="fe nb nc nd ne b">LAND</code>，所以功能不仅仅是一个整数。</p><p id="deb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您需要常量的描述性表示时，枚举在代码中很有用。比如，与其检查一个状态是<code class="fe nb nc nd ne b">0</code>还是<code class="fe nb nc nd ne b">1</code>，不如检查是<code class="fe nb nc nd ne b">State.MOVING</code>还是<code class="fe nb nc nd ne b">State.STATIONARY</code>好得多。你的常量可能会改变，如果有人在看你的代码，<code class="fe nb nc nd ne b">MOVING</code>比<code class="fe nb nc nd ne b">0</code>更有意义。因此，可读性大大提高。</p><p id="aeb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多阅读请点击查看<code class="fe nb nc nd ne b">Enum</code> <a class="ae ky" href="https://docs.python.org/3/library/enum.html" rel="noopener ugc nofollow" target="_blank">上的官方Python 3文档。</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ac8b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">格式</h1><p id="9e5a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在Python 3.6中添加的<code class="fe nb nc nd ne b">fstrings</code>是一种格式化文本的好方法。它们提供了更好的可读性，并且不容易出错(我当然喜欢这一点，因为它来自Java这样的语言)。</p><p id="959f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nb nc nd ne b">fstrings</code>比之前在Python中使用的<code class="fe nb nc nd ne b">format</code>可读性更好。下面是一个使用<code class="fe nb nc nd ne b">format</code>的例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="5a8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，字符串中有空括号，然后我们按顺序列出每个变量的名字。</p><p id="02a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在在同样的代码上花了很多时间，但是使用<code class="fe nb nc nd ne b">fstring</code>它可读性更好，非常类似于在Swift中格式化一个字符串。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="3ac0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了完成这个更简洁的字符串，我们只需在引号前加上字母<code class="fe nb nc nd ne b">f</code>，然后我们不再使用空括号，而是将变量或数据直接放入括号中。因为变量是写在括号内的，所以你不需要计算格式中的项数就能知道什么变量放在哪里——变量就在它们将要被放置的地方。</p><p id="5ef3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">做<code class="fe nb nc nd ne b">fstrings</code>比做类似字符串连接或格式化字符串的事情产生更可读和更可靠的代码。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f801" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">数据类别</h1><p id="bd01" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">数据类可能是一个比我接触过的其他主题更晦涩的主题，所以我将简要地解释它们。在Kotlin中，数据类是我越来越喜欢的东西，所以我也很喜欢尝试在Python中使用它们。</p><p id="a27d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据类实际上是一个唯一的目的就是保存数据的类。该类将拥有可以访问和写入的变量，但是在它上面没有额外的逻辑。</p><p id="e2c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设你有一个程序，你在不同的类之间传递一个字符串和一个数字数组。您可以只使用类似<code class="fe nb nc nd ne b">pass(str, arr)</code>的方法，但是更好的方法是创建一个只包含一个字符串作为字段和一个数组的数据类。</p><p id="9f90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过创建一个数据类，你正在做的事情会更加清晰，单元测试也会更加容易。</p><p id="0220" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将举例说明如何创建一个表示三维向量的简单数据类，但这可以很容易地扩展到表示不同数据的任意组合:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="b484" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，你可以看到一个数据类的定义非常类似于声明一个普通的类，除了我们在它前面使用了<code class="fe nb nc nd ne b">@dataclass</code>，然后每个字段都像<code class="fe nb nc nd ne b">name: type</code>一样被声明。</p><p id="9436" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然我们创建的<code class="fe nb nc nd ne b">Vector3D</code>的功能有限，但data类的目的只是提高效率，减少代码中的错误。传递一个<code class="fe nb nc nd ne b">Vector3D</code>比传递<code class="fe nb nc nd ne b">int</code>变量要好得多。</p><p id="a959" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于<code class="fe nb nc nd ne b">@dataclass</code>的更多细节，请点击查看官方Python 3文档<a class="ae ky" href="https://docs.python.org/3/library/dataclasses.html" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8a2d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="2460" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你尝试过这些新功能，请在评论中告诉我！我很想听听您对它们的不同使用案例。编码快乐！</p></div></div>    
</body>
</html>