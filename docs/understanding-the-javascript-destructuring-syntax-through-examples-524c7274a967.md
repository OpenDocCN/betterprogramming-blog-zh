# 通过例子理解 JavaScript 的析构语法

> 原文：<https://betterprogramming.pub/understanding-the-javascript-destructuring-syntax-through-examples-524c7274a967>

## 数组析构、对象析构等等

![](img/a53b19226632ef10d479d569cb332d7c.png)

照片由 [Fotis Fotopoulos](https://unsplash.com/@ffstop?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄。

JavaScript 具有析构赋值语法，允许您将对象和数组解包到变量中。我仍然看到许多代码，要么是开发人员没有意识到这种语言特性，要么就是没有使用它。该特性是在 ES6 中添加的，它使代码更加简洁，而不会丢失意图。

接下来是对语法以及如何使用它的简短介绍。

# 数组析构

数组析构允许你根据数组中元素的位置定义变量。一个简单的例子是:

为了析构数组值，您将看到变量是通过在一组方括号中声明它们来定义的。它们是按照它们映射到数组元素的顺序来定义的。如果变量还不存在，那么您需要在声明前加上前缀`let`或`const`。因为位置用于析构数组中的值，所以需要处理不想要的值的位置。你会看到在`a`、`e`和`g`析构中声明了一个空的空间。

如果您对数组中的前几个元素感兴趣，那么您可以应用“rest”模式，将剩余的元素组合成一个变量。这是通过在声明的最终变量前加上三个句点来实现的，如下例所示:

```
const numbers = [1,2,3,4];
const [ one, two, ...remainder ] = numbers;

console.log(one);       // 1
console.log(two);       // 2
console.log(remainder); // [3,4]
```

您可以对 iterables 使用这种数组析构方法，如下所示:

# 对象析构

析构对象的工作方式与我们上面看到的几乎相同。变量不是绑定在位置上，而是绑定在对象属性上，如下所示:

一个更清楚的方法是使用提供的快捷方式，如果您给变量取了与属性相同的名称:

你会注意到，对象析构使用花括号来包围变量声明，而不是方括号。

为了解构更复杂的对象，比如`person`对象中的`address`数据，您可以根据对象的结构嵌套变量声明。您用父属性的名称作为每个变量析构块的前缀，并用大括号将它们的子声明括起来，如下所示:

通过继续该模式，您可以将数据的析构嵌套到您想要的深度，如下所示:

# 析构默认值

如果您试图析构不存在的数组元素或对象属性，您的变量将被设置为`undefined`，如下所示:

如果不确定要析构的属性，可以在声明变量时设置默认值:

# 包扎

希望您能看到析构的好处，以及它如何减少从对象和数组中检索数据所做的变量声明的数量。除了变量声明之外，您还可以在其他方面使用该语法。

您可以定义一个函数来接受单个对象作为参数，并使用析构语法从您需要的对象中提取实际值:

您还可以使用语法来处理从函数返回的多个值: