<html>
<head>
<title>Dynamic SVG Markers for Google Maps in Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js中Google地图的动态SVG标记</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/dynamic-svg-markers-for-google-maps-in-vue-js-7541fa1a54a?source=collection_archive---------5-----------------------#2019-08-02">https://betterprogramming.pub/dynamic-svg-markers-for-google-maps-in-vue-js-7541fa1a54a?source=collection_archive---------5-----------------------#2019-08-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3805" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">分步教程:使用动态生成的颜色创建标记并将其显示在地图上</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6979108bc6c7b40b04d9903b5724aac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*13kxuB-O0iXC9T7yq7_4eA.png"/></div></div></figure><p id="c86c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">谷歌地图很棒，<a class="ae ln" href="https://developers.google.com/maps/documentation/" rel="noopener ugc nofollow" target="_blank">谷歌地图API </a>更棒。</p><p id="de58" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">突然，几年前，我所有的项目都与谷歌地图相关，你可能会说我已经成为一名真正的谷歌地图API专家。</p><p id="4b4a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我已经向支持和开发团队提交了很多请求，我认识一些在谷歌地图团队工作的人，我也是<a class="ae ln" href="https://tomchentw.github.io/react-google-maps/" rel="noopener ugc nofollow" target="_blank">react-谷歌地图</a>回购的贡献者之一。</p><p id="7bff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">没有一个API是我没用过的，可悲的是，最令人沮丧的事情之一是<em class="lo">标记</em>。</p><p id="f12c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">与极度可定制的<a class="ae ln" href="https://docs.mapbox.com/help/tutorials/markers/" rel="noopener ugc nofollow" target="_blank">地图框</a>标记不同，谷歌地图不允许你做一些简单的事情，比如旋转标记图像，在其中插入多个字符，或者在地图上制作标记移动的动画。</p><p id="b4c5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">很奇怪，对吧？</p><p id="acc6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我使用谷歌地图的这些年里，我已经看到了几十个使用案例，在这些案例中，这个功能是必不可少的，我不得不找出我自己的卑鄙手段。</p><p id="ae66" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于其中的大多数，我最终使用了<a class="ae ln" href="https://developers.google.com/maps/documentation/javascript/examples/overlay-simple" rel="noopener ugc nofollow" target="_blank"> <em class="lo">自定义覆盖图</em> </a>，这是一个很棒的工具，允许你在地图上放置任何HTML元素，正如你所知，这给了你无限的机会来创建自定义标记。</p><p id="0659" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这有几个问题，例如，失去了<a class="ae ln" href="https://developers.google.com/maps/documentation/javascript/marker-clustering" rel="noopener ugc nofollow" target="_blank">集群</a>功能和街道视图上显示标记的功能(是的，有些客户非常喜欢这个功能)。</p><p id="de40" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个主题中，我将向您展示如何使用SVG通过<a class="ae ln" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue.js </a>生成动态标记。</p><p id="d32b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于Vue，我一直在使用<a class="ae ln" href="https://github.com/xkjyeah/vue-google-maps#readme" rel="noopener ugc nofollow" target="_blank"><em class="lo">Vue 2-Google-maps</em></a><strong class="kt ir"/>包，以便更容易地与地图进行交互。如果您选择不同的库，或者您只是使用没有包装器的纯API，那么这篇文章仍然对您有用。</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="67d9" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">编码</h1><p id="6686" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">首先，让我们创建一个SVG文件，我们将使用它作为我们的标记。</p><p id="0bdb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">希望你的团队有一个设计师，他们为你提供了一个不错的SVG文件。我通常从通过<a class="ae ln" href="https://jakearchibald.github.io/svgomg/" rel="noopener ugc nofollow" target="_blank"> SVGOMG </a>工具运行文件开始，清除代码中的垃圾。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div><p class="mv mw gj gh gi mx my bd b be z dk translated">LocationIcon.vue</p></figure><p id="f0d5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我们想把一些道具传递给这个马克笔，比如笔画颜色和填充颜色。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div><p class="mv mw gj gh gi mx my bd b be z dk translated">LocationIcon.vue</p></figure><p id="cee1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要将该组件用作标记图像，必须将其转换成一个<code class="fe mz na nb nc b">base64</code> <em class="lo"> URL字符串</em>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div><p class="mv mw gj gh gi mx my bd b be z dk translated">图标-url-generator.js</p></figure><p id="cda6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，让我们为标记创建一个图标。</p><p id="a8eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你正在阅读这篇文章，你很可能熟悉<a class="ae ln" href="https://developers.google.com/maps/documentation/javascript/reference/marker" rel="noopener ugc nofollow" target="_blank">谷歌地图的标记API </a>，并且知道如何将它添加到你的地图中，所以我将跳过这一部分，只向你展示结束标记对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div><p class="mv mw gj gh gi mx my bd b be z dk translated">marker.js</p></figure><p id="e365" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">就是这样！您有一个动态生成颜色的标记，显示在地图上。</p><p id="8571" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如你所想象的，你可以实现的修改是无止境的——旋转、移动、缩放……通过向你的Vue组件传递不同的道具来做你需要做的任何事情。</p></div><div class="ab cl lp lq hu lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ij ik il im in"><h1 id="b03b" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">结论</h1><p id="aff9" class="pw-post-body-paragraph kr ks iq kt b ku mo jr kw kx mp ju kz la mq lc ld le mr lg lh li ms lk ll lm ij bi translated">请注意，当您想要在地图上显示的标记数量不是非常多时，这种方法很好。</p><p id="0669" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您有大量的标记，您可能希望将您的SVG URL字符串格式化为PNG，因为Google强烈建议在高标记负载时使用PNG而不是SVG。</p><p id="c52b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有很多方法可以做到这一点。根据我的经验，最有效的方法是使用<a class="ae ln" href="http://bl.ocks.org/biovisualize/8187844" rel="noopener ugc nofollow" target="_blank"> <em class="lo">画布</em>作为中间人</a>。</p><p id="251a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我以后的文章中，我会描述更多我使用<a class="ae ln" href="https://developers.google.com/maps/documentation/javascript/tutorial" rel="noopener ugc nofollow" target="_blank">谷歌地图的JavaScript API </a>学到的技巧。</p><p id="9d00" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我仍然在争论我更喜欢哪个框架——<a class="ae ln" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank">React</a>还是Vue——但是对于那些正在使用React的人来说，这里有一个简短的提示，告诉他们如何做和我上面描述的一样的事情:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mt mu l"/></div><p class="mv mw gj gh gi mx my bd b be z dk translated">react-mark . js</p></figure><p id="093b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你有任何与谷歌地图相关的问题，请随时联系我，我很可能面临同样的问题，并找到了一个解决方案。感谢阅读！</p></div></div>    
</body>
</html>