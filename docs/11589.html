<html>
<head>
<title>JavaScript Spread and Rest Operators: When To, Why To, and How to Use Them</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript Spread和Rest操作符:何时使用、为何使用以及如何使用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/javascript-spread-and-rest-operators-when-to-why-to-and-how-to-use-them-bfd65436c8f1?source=collection_archive---------10-----------------------#2022-04-01">https://betterprogramming.pub/javascript-spread-and-rest-operators-when-to-why-to-and-how-to-use-them-bfd65436c8f1?source=collection_archive---------10-----------------------#2022-04-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f6d0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">理解两个最有用的JavaScript特性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/975819309f2343b20976a22c0ca0e48b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QOPcDX_cdxBHsJBtJtXl3g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@scottwebb?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">斯科特·韦伯</a>在<a class="ae ky" href="https://unsplash.com/s/photos/spread?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="8276" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Ecmascript在几年前引入了rest和spread操作符。这是一个强大的工具，帮助我们的代码更加简洁和干净。</p><p id="6114" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，一开始并不容易理解它是如何工作的，以及它们没有相同名称的主要原因是什么。</p><p id="73ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇博文中，我将解释它的命名，它是如何工作的，以及在什么情况下它可以节省时间。</p><h1 id="76c0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">分配快捷方式</h1><p id="f0cc" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在我们讨论rest操作符之前，您需要理解一个新的变量赋值方法来缩短代码声明。</p><p id="74a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它包括在赋值的声明部分使用数组或对象。</p><p id="7079" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="b368" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们正在创建一个数组，直接在赋值部分命名索引。这段代码实际上是一个快捷方式，与下面的代码相同:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="fd34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果这段代码非常简单，那么当数组中有十几个条目时，它可能会有点长，因此会很复杂。</p><p id="c49e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对象也是如此。代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="4dc9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数组的唯一区别是命名非常重要，因为我们是从对象的键中提取对象的。</p><p id="b47a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果出于某种原因，您需要更改名称(它可能是一个重复的键)，您可以使用<code class="fe mu mv mw mx b">:</code>操作符来更改名称。这里有一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="e5f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所看到的，我们有一个复制的红色键，我们把它分配给了一个<code class="fe mu mv mw mx b">frenchRed</code>变量和一个<code class="fe mu mv mw mx b">belgianRed</code>变量。</p><p id="1e66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您认识到这一点，现在就可以开始下一部分关于rest操作符的内容了，它使用了这个变量赋值方法。</p><h1 id="44e9" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">rest运算符</h1><p id="2a51" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">名称选择得很明智，rest操作符是一种选择尚未赋值的其余数据的方法。</p><p id="f6aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个操作符使用三个点<code class="fe mu mv mw mx b">...</code>作为符号来告诉JavaScript解析器我们正在使用rest特性。</p><p id="a542" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是有一点理解起来非常重要:rest操作符只用于JavaScript代码的赋值部分。我们在前一章中看到了新的赋值方法，但是将rest和赋值联系起来的重要性将在后面讨论。</p><p id="cfbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">rest操作符从特性介绍开始就对数组起作用，稍后对对象起作用。如果您设法让它在其他JavaScript类型上工作，您正在使用强制，我建议您不要使用。但这可能是另一篇博文的内容。</p><p id="90df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在基本的东西都好了，让我们来看看它看起来怎么样的一些代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="05e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你在前面的代码中看到的，赋值与第一章相同，但是我们添加了一个带有三个点<code class="fe mu mv mw mx b">...</code>的变量名，而不是剩下的所有元素。</p><p id="9759" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将告诉JavaScript解析器在第一次赋值时创建一个数组，在第二次赋值时创建一个对象。</p><h1 id="987b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">为什么我们需要rest操作符？</h1><p id="524d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们主要需要这个操作符为特定的行为提取数组的一部分，并将剩余部分用于其他事情。</p><p id="b3f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想象一下，你有一个阵列，里面有一个队的每个足球运动员，你想把守门员和场上队员分开，这样你就可以给他们发出全力进攻的指令。您可以使用以下代码来实现:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="7dc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，如果你想让一个防守队员留在场上，你可以选择两个项目:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="54d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在赋值中添加尽可能多的变量声明，但是不能跳过rest参数中的一些变量。为此，您将需要我们稍后将看到的传播方法。</p><p id="7a03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于对象，当您想要从要转发的对象中移除元素时，rest操作符非常有用。</p><p id="3a1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您正在开发一个Node.js服务来管理用户，并且您希望向客户端发送来自对象的所有内容，除了密码和密码的salt...在这种情况下，rest运算符将帮助您。</p><p id="d4e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="72a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，您就可以简单地根据客户端的请求返回正确的数据</p><h1 id="36b9" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">扩展运算符</h1><p id="3e2b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">像rest操作符一样，spread操作符也使用三个点<code class="fe mu mv mw mx b">...</code>作为语法。</p><p id="e488" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">区别的方法是理解扩展操作符将在变量赋值的操作部分。</p><p id="ff44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目标与rest操作符非常相似，但是我们不是恢复变量的其余部分，而是将另一个变量的其余部分添加到一个声明中。</p><p id="125a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码说得更好，下面是它如何工作的一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="03c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在前面的例子中，我们用rest操作符组合了两个对象。如果还不清楚，这里有一个例子可以帮助你。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="9e96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该语法不是有效的JavaScript，但它说明了幕后所做的事情。</p><p id="8034" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如在这个例子中所看到的，使用spread就像是从变量中去掉了括号。因为它在JavaScript中是无效的，我们需要把它放在另一个数组中，同时复制一个数组。</p><p id="381b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在数组中，rest操作符的位置非常重要，因为它将元素放置在指定的位置。</p><p id="bd9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="f957" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在前一个示例中，我的数组中还有另一个项，它是非扩展操作符数据。如果你想用一个酉值来完成你的对象，这是一个完全有效的方法。它可以是一个数组，包含最后一次执行的结果，以及之前的结果。</p><p id="ad57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于对象，spread运算符的工作原理相同。然而，由于对象是键值项目，顺序并不重要，但是您需要确保您的键没有重复，否则它们将被删除。</p><p id="b94f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="ca7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您在前面的示例中看到的，在出现重复键的情况下，spread操作符的位置非常重要。</p><p id="2e34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">和数组的情况一样，spread操作符从对象中删除了大括号，但是由于它是无效的语法，我们将它放回另一个对象中，同时复制它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h1 id="2a21" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">我们什么时候需要扩展操作符？</h1><p id="eee8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">正如我们在前面的一个例子中看到的，spread操作符主要用于合并来自不同源的数组，或者在使用对象时使用默认的键/值。</p><p id="1562" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开发JavaScript应用程序时，您可能会发现许多其他用法。</p><h1 id="e7f1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结合休息和伸展等等</h1><p id="ab6c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">因为它的rest和spread不在赋值的同一个部分，所以可以在同一行代码中组合使用它们。然而，你应该注意不要用这种方式来增加代码的可读性:这将会适得其反。</p><p id="dd80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以在函数返回时应用spread运算符，只要返回的值与数组或对象匹配，具体取决于您的用途。</p><p id="db94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h1 id="9f1f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="b930" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Rest和spread操作符是非常强大的特性，从今天开始，您可以将它们应用到您的web应用程序中。</p><p id="7398" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一开始有点难以理解，它会让你的代码更干净、更健壮。</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="4285" class="nj lw it mx b gy nk nl l nm nn"><strong class="mx iu">Want to Connect?</strong></span><span id="37bc" class="nj lw it mx b gy no nl l nm nn">If you want to learn more about JavaScript and React, feel free to follow me on <a class="ae ky" href="https://twitter.com/brunosabot" rel="noopener ugc nofollow" target="_blank">Twitter</a>.</span></pre></div></div>    
</body>
</html>