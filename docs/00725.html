<html>
<head>
<title>How To Fix Your Angular App When It’s Not Working in IE11</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在IE11中修复不工作的Angular应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-fix-your-angular-app-when-its-not-working-in-ie11-eb24cb6d9920?source=collection_archive---------0-----------------------#2019-07-07">https://betterprogramming.pub/how-to-fix-your-angular-app-when-its-not-working-in-ie11-eb24cb6d9920?source=collection_archive---------0-----------------------#2019-07-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8214" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用聚合填充支持旧浏览器中的新功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/293971ddf2e38f0af60ccc6c1dfd1dd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mA-MZtbamU2iyZ-bJTTcLQ.png"/></div></div></figure><p id="9e67" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">虽然Internet Explorer 11已经被弃用了一段时间，但微软仍然提供安全更新和技术支持。然而，IE11不支持许多已经在其他浏览器中工作的新功能，如谷歌Chrome，或未来将推出的新功能。这就是为什么如果你还想让你的应用程序在IE11中工作，就必须使用polyfills。</p><p id="08b3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有时，您的应用程序可能会在IE11中抛出错误，即使它在其他浏览器中工作正常。角度应用程序不工作的原因有很多，包括:</p><ul class=""><li id="2975" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated"><code class="fe lz ma mb mc b">polyfills.ts</code>中缺少聚合填充。</li><li id="2e27" class="lq lr it kw b kx md la me ld mf lh mg ll mh lp lv lw lx ly bi translated">使用IE11不支持的<a class="ae mi" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank">类型脚本</a> <code class="fe lz ma mb mc b">target</code>版本</li><li id="3b07" class="lq lr it kw b kx md la me ld mf lh mg ll mh lp lv lw lx ly bi translated">使用IE11不支持的TypeScript <code class="fe lz ma mb mc b">target</code>版本导入第三方依赖项</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="4204" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated"><strong class="ak">传统浏览器缺失的聚合填充(IE11) </strong></h1><p id="55bd" class="pw-post-body-paragraph ku kv it kw b kx ni ju kz la nj jx lc ld nk lf lg lh nl lj lk ll nm ln lo lp im bi translated"><strong class="kw iu"> IE11需要poly fill</strong>，因为<a class="ae mi" href="http://es6-features.org/#Constants" rel="noopener ugc nofollow" target="_blank">不支持ES2015及以后的特性</a>。存在于每个<a class="ae mi" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular </a>项目中的<em class="nn"> </em> <code class="fe lz ma mb mc b">polyfills.ts</code>文件是导入所有必需的多面填充的合适位置。一些聚合填充可能会被注释掉，因为现代浏览器不需要它们，所以您需要删除注释。此外，您可能需要安装额外的聚合填充，以支持IE11不支持的功能(例如<a class="ae mi" href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*" rel="noopener ugc nofollow" target="_blank"> CSS自定义属性</a>)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="7eac" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">聚合填料的不同负载</h1><p id="cbba" class="pw-post-body-paragraph ku kv it kw b kx ni ju kz la nj jx lc ld nk lf lg lh nl lj lk ll nm ln lo lp im bi translated">从Angular CLI 8开始，有一个新功能叫做<a class="ae mi" href="https://blog.ninja-squad.com/2019/05/29/angular-cli-8.0/" rel="noopener ugc nofollow" target="_blank">差动加载</a>。如果你是通过CLI更新的，默认情况下运行<code class="fe lz ma mb mc b">ng serve</code>会针对ES2015，IE11和更老的浏览器都不支持。当运行产品构建时，您将获得两种包:一种用于现代浏览器，另一种用于IE11之类的遗留浏览器。这意味着现代浏览器将不得不下载更少的数据，因为它们支持最新的ES特性。请记住，以下步骤仅在开发时需要，在部署时不需要。以下是在IE11中进行开发的方法:</p><ol class=""><li id="d667" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp nq lw lx ly bi translated">添加一个新的<code class="fe lz ma mb mc b">tsconfig-es5.app.json</code>文件。</li><li id="b396" class="lq lr it kw b kx md la me ld mf lh mg ll mh lp nq lw lx ly bi translated">更新<code class="fe lz ma mb mc b">angular.json</code>配置。</li><li id="7c40" class="lq lr it kw b kx md la me ld mf lh mg ll mh lp nq lw lx ly bi translated">运行您的应用程序:<code class="fe lz ma mb mc b">ng serve --configuration es5</code>。为了方便起见，我建议在<code class="fe lz ma mb mc b">package.json</code>中添加一个运行脚本。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="e8f7" class="nr mr it bd ms ns nt dn mw nu nv dp na ld nw nx nc lh ny nz ne ll oa ob ng oc bi translated">使用不支持的JavaScript功能</h2><p id="bdd0" class="pw-post-body-paragraph ku kv it kw b kx ni ju kz la nj jx lc ld nk lf lg lh nl lj lk ll nm ln lo lp im bi translated">我们已经了解了polyfills，它帮助我们在最初不支持现代JavaScript特性的浏览器中使用这些特性。但是，如果不在每个浏览器中进行手动测试，你怎么能预先知道某个特性在特定的浏览器上是否受支持呢？</p><p id="1f53" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae mi" href="https://developer.mozilla.org/en-US/#" rel="noopener ugc nofollow" target="_blank">MDN(Mozilla Developer Network)</a>是一个伟大的资源，不仅包含web开发相关教程，还包含JavaScript参考，包括浏览器兼容性数据。<a class="ae mi" href="https://caniuse.com/#home" rel="noopener ugc nofollow" target="_blank">我可以使用</a>为您提供浏览器兼容性数据和浏览器使用数据。使用这些网站，你会知道你所使用的功能是否在网络浏览器中被本地支持。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/a5a96630126e2a9d94417840041505c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*91shJpMLAT3eQtPrXmhxoA.png"/></div></div></figure><p id="f55d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还有像linters这样的静态代码分析工具，它可以让你知道这个API并不是在所有的浏览器中都可用。</p><p id="6884" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我最近偶然发现了<a class="ae mi" href="https://github.com/dollarshaveclub/es-check" rel="noopener ugc nofollow" target="_blank"> es-check </a>，这是一个小的JavaScript库，用shell命令对照特定版本的ECMAScript检查JavaScript文件。如果指定文件的ES版本与ES Check命令中传递的ES版本参数不匹配，ES Check将抛出错误并记录与检查不匹配的文件。我已经写了一篇关于如何在应用程序开发过程中结合这一点的文章。</p><div class="oe of gp gr og oh"><a href="https://medium.com/better-programming/check-your-javascript-bundles-for-browser-support-d769c1fca4c" rel="noopener follow" target="_blank"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd iu gy z fp om fr fs on fu fw is bi translated">检查您的JavaScript包以获得浏览器支持</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">不要向使用旧浏览器的用户发送损坏的代码</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">medium.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov ks oh"/></div></div></a></div></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="7540" class="nr mr it bd ms ns nt dn mw nu nv dp na ld nw nx nc lh ny nz ne ll oa ob ng oc bi translated">如何处理IE11及更老版本浏览器中的CSS问题？</h2><p id="6fd6" class="pw-post-body-paragraph ku kv it kw b kx ni ju kz la nj jx lc ld nk lf lg lh nl lj lk ll nm ln lo lp im bi translated">CSS问题不是这篇文章的主要焦点，这就是为什么我只简单地谈论它。通常，如果浏览器不支持CSS属性，样式看起来会很奇怪(例如，元素定位错误)，但页面很可能仍然工作。</p><p id="fd3c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于像<a class="ae mi" href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox" rel="noopener ugc nofollow" target="_blank"> Flexbox </a>这样的属性，您可以使用供应商前缀<strong class="kw iu">。有像<a class="ae mi" href="https://github.com/postcss/autoprefixer" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> Autoprefixer </strong> </a>这样的工具可以帮助你编写在大多数浏览器中都能工作的CSS。幸运的是，Angular可以自动添加厂商前缀，如果配置的话。</strong></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="9ecb" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="48ed" class="pw-post-body-paragraph ku kv it kw b kx ni ju kz la nj jx lc ld nk lf lg lh nl lj lk ll nm ln lo lp im bi translated">感谢你阅读这篇文章。如您所见，在IE11中测试您的应用程序时，有一些问题。虽然概述的步骤是针对角度应用程序的，但是解决方案的思想也适用于其他框架。如果你有问题，请在评论中告诉我。</p></div></div>    
</body>
</html>