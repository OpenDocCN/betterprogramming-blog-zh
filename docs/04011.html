<html>
<head>
<title>4 Kubernetes CLI Gems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4颗Kubernetes CLI宝石</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/4-kubernetes-cli-gems-c47a72e6fab0?source=collection_archive---------11-----------------------#2020-03-18">https://betterprogramming.pub/4-kubernetes-cli-gems-c47a72e6fab0?source=collection_archive---------11-----------------------#2020-03-18</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="041a" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">日常监控和浏览工具，以避免错误</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/7735628cee2b3b0ee8613067bd5e4413.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HsKNlDUHiHcGu043"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@samthewam24?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Samuel Sianipar </a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="e5fb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">众所周知，Kubernetes主导着容器编排市场。StackRox最近的一项研究证实，Kubernetes的采用率比其他竞争解决方案高出86%,创历史新高。Kubernetes已经存在，所以让我们准备好开发/管理环境，以便在使用Kubernetes时获得最大的灵活性和效率。</p><p id="6e56" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，我将向您展示我在与Kubernetes集群交互时日常使用的四个命令行实用程序。我真的无法想象自己离开它们去机场，所以我希望它们对你也有用。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="2fe3" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">增强你的提示</h1><p id="0a9d" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">我看到人们在与Kubernetes交互时最常犯的一个错误是对错误的集群或错误的名称空间发出命令。</p><p id="3e28" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">即使你认为自己比别人更小心，并且在发布终端命令之前会仔细检查所有的命令，在压力大的时候——当生产舱出现问题时——犯错误并不困难。您是否曾经按下Enter键后才意识到，<em class="na">糟糕，我将测试命令发送给了生产集群，而不是演示</em>？我们都经历过。</p><p id="c3b8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们来拯救kube-ps1。通过使用kube-ps1，CLI提示符通过始终显示Kubernetes集群以及kubectl运行的名称空间而得到增强:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nb"><img src="../Images/5a766c4f56c7af50fb041fd828b23d44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*M1szzd6d53Z41kJBKAMx9A.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">使用kube-ps1增强了CLI提示符(图片由作者提供)</p></figure><p id="b051" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">由于kube-ps1修改了你的提示，当你不需要的时候，你可能想暂时关闭它。在会话期间，您可以发出<code class="fe nc nd ne nf b">kubeon</code>和<code class="fe nc nd ne nf b">kubeoff</code>来分别打开和关闭它。</p><p id="6d71" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您想知道如何实际更改您正在使用的默认上下文和名称空间，请继续阅读。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="1953" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">kubens和kubectx:切换集群和名称空间</h1><p id="c601" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">Kubernetes的内置实用程序，<a class="ae kz" href="https://kubernetes.io/docs/tasks/tools/install-kubectl" rel="noopener ugc nofollow" target="_blank"> kubectl </a>，是一个强大的实用程序——允许您对您的Kubernetes集群发出命令。但是，如果您针对多个集群和名称空间进行工作或测试，那么每次都必须定义命令的目标，这将变得非常繁琐，而且容易出错。</p><p id="317f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这就是来自<a class="ng nh ep" href="https://medium.com/u/2cac56571879?source=post_page-----c47a72e6fab0--------------------------------" rel="noopener" target="_blank"> Ahmet Alp Balkan </a>的<a class="ae kz" href="https://github.com/ahmetb/kubectx" rel="noopener ugc nofollow" target="_blank"> kubectx </a>和<a class="ae kz" href="https://github.com/ahmetb/kubectx" rel="noopener ugc nofollow" target="_blank"> kubens </a>实用程序派上用场的地方。</p><p id="08c2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">第一个实用程序kubectx允许您在不同的Kubernetes集群之间切换，并且再次让您将来所有的kubectl命令都针对该集群执行:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ni"><img src="../Images/535330b5101c12430ede56f754097cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RSk9pbApNcG-hz9ijo3InA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">使用kubectx(图片由作者提供)</p></figure><p id="9dc6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">第二个实用程序kubens允许您切换Kubernetes名称空间，并让您将来所有的kubectl命令都针对这个新名称空间执行:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nj"><img src="../Images/b451f73ca31351d6951a4d970cbd3f20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vhTcaw6_BKigvhGDhFNowg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">使用kubens(图片由作者提供)</p></figure><p id="dd8f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有了kubectx和kubens，再加上kube-ps1，您现在可以随时看到提示，告诉您下一个kubectl命令的目标是什么，并允许您在上下文和名称空间之间快速切换。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="b7a7" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">K9s:资源浏览器</h1><p id="40fd" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">Kubernetes提供了一个默认的、基于web的仪表板，它既强大又有效。Fernand Galiana 的K9s 为CLI带来了许多这种力量:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nk"><img src="../Images/ba16c8fbea3c3320b3a146ee1e21e251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NBNudXJ7yTy5MBfPsIzNhA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">跑步K9s(图片由作者提供)</p></figure><p id="4daa" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">使用K9s，您可以快速启动一个针对Kubernetes集群的CLI监视器来导航、观察和管理您的应用程序。K9s之外发生在您的集群上的所有更改都会被实时监控和更新，因此您总是可以看到最新的视图，而不必手动更新/刷新。</p><p id="1d7e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">浏览并不是K9s唯一允许你做的事情。您还可以删除/删除pod，编辑YAML表示，将壳放入pod，以及利用许多其他功能:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nl"><img src="../Images/523a78943fb7937a4d8dfbd137d3e46c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2X4v8SkwiBalS22TARaZtg.gif"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">K9s的快速演示(作者提供的视频)</p></figure></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="c139" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">结论</h1><p id="12b7" class="pw-post-body-paragraph la lb iu lc b ld mv jv lf lg mw jy li lj mx ll lm ln my lp lq lr mz lt lu lv in bi translated">当您有多个集群和名称空间要与之交互时，在CLI上使用Kubernetes会变得很有挑战性。在本文中，我介绍了我在Kubernetes集群上工作时经常使用的四个有用的实用程序。我希望这些对你也有帮助。</p><p id="e9a7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">感谢您的阅读。希望下一部能见到你。</p></div></div>    
</body>
</html>