<html>
<head>
<title>Having a Docker Container As Your Private NPM Registry — The Easy Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">拥有一个Docker容器作为你的私人NPM注册表——简单的方法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/having-a-docker-container-as-your-private-npm-registry-the-easy-way-68159fa94cc4?source=collection_archive---------0-----------------------#2018-11-10">https://betterprogramming.pub/having-a-docker-container-as-your-private-npm-registry-the-easy-way-68159fa94cc4?source=collection_archive---------0-----------------------#2018-11-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2dc5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Azure Container Registry将您的Azure Docker容器实例更改为私有的NPM注册表</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/b1ca82b8fca731b5d6807f99f3204d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*1JWWVJoVPuQ15LhuPlUomQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Azure Docker容器实例</p></figure><h1 id="1829" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">介绍</h1><p id="7790" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">在生活中的某些时候，我们需要私人范围内的几乎所有东西，这包括你的NPM包。您可能已经为您的公司或您自己创建了一个私人NPM包，并希望在某个地方托管它。您可能已经看到了付费版本的npm，但在本文中，我们将把Docker容器实例更改为私有的npm注册表，一旦准备就绪，您就可以在该注册表上托管您的私有NPM包。让我们开始吧。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="d6f4" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">背景</h1><p id="550f" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">正如我前面提到的，我将创建一个容器实例，并将其更改为私有的NPM注册表。我将使用<a class="ae mu" href="https://sibeeshpassion.com/category/azure/" rel="noopener ugc nofollow" target="_blank">微软Azure </a>。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="ada6" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">设置Docker私人NPM注册中心</h1><p id="9158" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">要创建Azure容器注册表，您应该拥有有效的Azure订阅。如果你没有，请得到一个；它会帮助你理解这篇文章。一旦您获得Azure订阅，您就可以开始了。</p><h2 id="137e" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">创建Azure容器注册表</h2><p id="14f4" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">有了GitHub，我们可以上传我们的项目/源代码，进行版本控制，创建分支，等等。你可以把Azure容器注册中心看作一个类似的服务。Azure容器注册中心或ACR是一个私有的Docker注册中心，在这里你可以很容易地从同一个地方管理你所有的Docker容器映像。是不是很酷？根据微软的说法，你可以使用Azure容器注册来:</p><ul class=""><li id="ff35" class="nh ni it lo b lp nj ls nk lv nl lz nm md nn mh no np nq nr bi translated">跨所有类型的Azure部署存储和管理容器映像</li><li id="76b2" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">使用熟悉的开源Docker命令行界面(CLI)工具</li><li id="434e" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">将容器映像保存在部署附近，以减少延迟和成本</li><li id="edc5" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">使用Azure Active Directory简化注册表访问管理</li><li id="71f3" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">在单个Docker注册表中维护Windows和Linux容器映像</li></ul><p id="3026" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">登录到门户后，单击<code class="fe oa ob oc od b">+</code>图标，创建一个资源，并搜索容器注册表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/b6731c526574973b4b6553c884bb9472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*RTLE-1FMQ4jpnPq5.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">搜索容器注册表</p></figure><p id="fb70" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">当您单击容器注册表时，会要求您提供上图中显示的详细信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/3c8d69e55fec1b678e24687569c02f3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/0*XcwJzi2XNgHQ6k6n.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">容器注册详细信息</p></figure><p id="60b1" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">记住要启用admin用户，因为只有启用了它，您才能使用注册表名称作为用户名，使用Admin用户访问密钥作为密码登录Docker。我将在下一节进一步解释这一点。</p><p id="2074" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">一旦您创建了您的容器注册表，您将获得一个登录服务器作为<code class="fe oa ob oc od b">yourregistryname.azurecr.io</code>。您可以随时在概览部分查看其他信息。如果您点击设置下的访问键链接，您可以看到您的容器注册表的用户名和密码。记住，我们在创建容器注册表时已经启用了Admin用户属性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/da63e75c75c5d5bd1151da86700844d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/0*akQpsQXZqGE8BjmN.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">容器注册表设置</p></figure><p id="92ef" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">请注意，注册表名称和管理员用户名是相同的。</p><h2 id="2966" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">创建本地Docker容器</h2><p id="b381" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">对于这一步，您应该在您的机器上下载并安装Docker。安装后，请确保它正在您的机器上运行。让我们一起开始一些令人惊奇的事情吧。</p><p id="8984" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">让我们先试试Docker version命令，以确保它工作正常。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/4ce7f7620d3aa5b85a9b8d67819ecd01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/0*WvnbQ30uSz5Ac7OG.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Docker版本</p></figure><p id="18c4" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">现在Docker工作正常，我们可以开始创建我们本地的NPM注册中心了。为此，我将从Verdaccio的Docker hub提取一个包。</p><p id="8b2f" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">Verdaccio是构建在Node.js之上的私有npm代理注册表。</p><ul class=""><li id="d18a" class="nh ni it lo b lp nj ls nk lv nl lz nm md nn mh no np nq nr bi translated">这是一个基于Node.js的web应用程序</li><li id="43b8" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">这是一个私人的国家预防机制登记处</li><li id="c67c" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">这是一个本地网络代理</li><li id="aea2" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">这是一个可插拔的应用程序</li><li id="93f2" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">这是一个相当容易的安装和使用</li><li id="3b72" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">它与纱线、npm和pnpm完全兼容</li><li id="a9d6" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh no np nq nr bi translated">它是基于<strong class="lo iu"> </strong>分叉的，并且<code class="fe oa ob oc od b">sinopia@1.4.0</code> 100%向后兼容。</li></ul><p id="3722" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">我们来拉一下Verdaccio的图像:</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="1ea5" class="mv kv it od b gy om on l oo op">docker pull verdaccio/verdaccio</span></pre><p id="63db" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">完成后，运行“docker images”来查看您的Verdaccio映像。</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="c7a2" class="mv kv it od b gy om on l oo op">verdaccio/verdaccio           latest              c542d9e516e4        3 weeks ago         659MB</span></pre><p id="e651" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">提取整个图像可能需要几分钟时间。因为我已经提取了最新的图像，所以我很快就会得到下面的输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/0a6307514610f380ebe20a9db6150038.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*gNvlLL3KygiMK84M.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">码头工人</p></figure><p id="337c" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">您还可以标记您需要的版本:</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="b499" class="mv kv it od b gy om on l oo op">docker pull verdaccio/verdaccio:3</span></pre><p id="817d" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">现在是时候开始跑步了，你准备好了吗？</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="95d2" class="mv kv it od b gy om on l oo op">docker run -it --rm --name verdaccio -p 4873:4873 verdaccio/verdaccio</span></pre><p id="ae45" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">最后一个参数是我们的图像名称，如果您的本地文件中没有这样的图像，它将从Docker hub中提取。您可能已经注意到，我们正在使用端口4873，稍后当我们创建容器实例时，这个端口将被映射到容器实例端口。确保您得到了所示的输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/e54105a0abc421be54a00494289e3bbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*H-YeMUse9YkSjwkQ.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Verdaccio码头运行</p></figure><p id="0a13" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">您现在应该能够转到<a class="ae mu" href="http://localhost:4873" rel="noopener ugc nofollow" target="_blank"> http://localhost:4873 </a>并看到Verdaccio正在成功运行。</p><h2 id="d0fc" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">将本地容器推送到Azure容器注册中心</h2><p id="aa33" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">既然我们已经有了一个运行中的Azure容器注册中心和一个可以充当私有NPM注册中心的本地容器，让我们把它推送到ACR。从登录Azure容器注册服务器开始。</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="00b2" class="mv kv it od b gy om on l oo op">docker login sibeeshpassion.azurecr.io</span></pre><p id="73dd" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">一旦您使用正确的凭证运行以上命令，您将看到下面的输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/44e8e906b750e3b1befd7785183b7bff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*atlNyx29bM5fj2o1.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Docker登录Azure容器注册表</p></figure><p id="1121" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">现在让我们标记我们的图像，因为这将帮助我们在容器注册表中轻松管理我们的图像。</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="fa8a" class="mv kv it od b gy om on l oo op">docker tag &lt;image name&gt; &lt;login server&gt;/&lt;repository name&gt;/&lt;name&gt;:v1</span></pre><p id="d4bc" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">例如，我使用了下面的命令:</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="2f7e" class="mv kv it od b gy om on l oo op">docker tag verdaccio/verdaccio sibeeshpassion.azurecr.io/verdaccio/verdaccio:v1</span></pre><p id="3822" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">将您的映像推送到容器注册表:</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="e8d3" class="mv kv it od b gy om on l oo op">docker push sibeeshpassion.azurecr.io/verdaccio/verdaccio:v1</span></pre><p id="92d2" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">如果一切正常，您将看到以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/cd89c2d07fbb2338ea86d30b0bed0778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*0t2pRCS8gN1uG3vc.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">推送到容器注册表</p></figure><p id="4d23" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">现在，你可以登录到你的Azure门户，并检查你的Azure容器注册库。您应该能够看到您的图像与我们提供的标签。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/90663cc2df393c76b13a03c0ef022422.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*ijuUULZw_8e1EjQ7.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Azure容器注册表中的存储库</p></figure><h2 id="289c" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">创建容器实例</h2><p id="3acb" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">我们有一个有效的容器注册中心，它可以作为一个私有的NPM注册中心，但是我们还没有完成。我们需要一个地方来运行这个注册表。谢天谢地，Azure拥有我们需要的一切。我们将创建一个容器实例，这是运行单个容器的最简单、最快的方法。创建容器实例时，您必须经历三个步骤:</p><ol class=""><li id="11a4" class="nh ni it lo b lp nj ls nk lv nl lz nm md nn mh oq np nq nr bi translated">配置基本设置</li><li id="a587" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh oq np nq nr bi translated">指定容器要求</li><li id="deb9" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh oq np nq nr bi translated">最终确定容器实例</li></ol><p id="1e8e" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated"><strong class="lo iu">配置基础设置</strong></p><p id="0a4b" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">您可以配置设置来满足您的需求，我的配置如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/18ab9cc9d7d1adcde5bba7a61ebe13c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/0*368NMf68HC6H_GRc.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">容器实例基本设置</p></figure><p id="ff8b" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">请注意，我已经将容器图像类型设置为Private。</p><p id="baa9" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated"><strong class="lo iu">指定集装箱要求</strong></p><p id="24c1" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">在这里，我将公共IP地址设置为“Yes”，这样我就可以在配置时设置DNS标签。我还将端口设置为4873。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/ed3fbea62299977a97660d3d658cc7c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/0*SRu5MYLCnm7oEMlR.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">Azure容器实例中的网络设置</p></figure><h2 id="8a57" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">最终确定容器实例</h2><p id="49cd" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">在这一步，你可以验证你的所有设置，Azure将在后台验证它们。如果它们有效，将启用“确定”按钮。启用后，单击确定。构建您的资源可能需要一些时间，一旦完成，您可以随时转到容器实例的概述，并使用端口4873运行它。例如，我可以在这个URL中看到我的容器【http://sibeeshpassion.westeurope.azurecontainer.io:4873/#/. T4】</p><h2 id="31cb" class="mv kv it bd kw mw mx dn la my mz dp le lv na nb lg lz nc nd li md ne nf lk ng bi translated">将您自己的私人NPM软件包推送到Docker private NPM注册表</h2><p id="c07d" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">哇，我们现在有一个私人码头NPM登记处了！让我们将我们的私人NPM包推送到这个注册表。几天前我创建了自己的NPM包，如果你想知道如何，你可以阅读这篇文章。我将在vscode中打开我的包。</p><p id="35e7" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">在我们发布包之前，添加用户:</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="03b9" class="mv kv it od b gy om on l oo op">npm adduser --registry=http://sibeeshpassion.westeurope.azurecontainer.io:4873/#/</span></pre><p id="c28e" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">系统将提示您输入用户名和密码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/c03cb7faa004f50fb3e4682080e5ee12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/0*Xl6xLj3sGXA6Cf_j.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">NPM用私有注册地址发布</p></figure><p id="58ef" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">运行我们的发布命令:</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="018a" class="mv kv it od b gy om on l oo op">npm publish dist --registry=http://sibeeshpassion.westeurope.azurecontainer.io:4873/#/</span></pre><p id="c7c1" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">如果发布成功，您将获得以下输出:</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="35e2" class="mv kv it od b gy om on l oo op">npm notice === Tarball Details ===<br/>npm notice name:          org-npm-package<br/>npm notice version:       1.1.1<br/>npm notice package size:  7.8 kB<br/>npm notice unpacked size: 37.9 kB<br/>npm notice shasum:        f1d8e033bb6d2545502802510258cf9f8bcc9ab3<br/>npm notice integrity:     sha512-3MuplP75D0gpj[...]Z5KFo0DNbzGFw==<br/>npm notice total files:   22<br/>npm notice<br/>+ org-npm-package@1.1.1</span></pre><p id="9308" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">还等什么，快去Docker看看你的包裹吧！我急切地等待着这一时刻，并通过导航到我的容器来查看我的包:<a class="ae mu" href="http://sibeeshpassion.westeurope.azurecontainer.io:4873/#/detail/org-npm-package." rel="noopener ugc nofollow" target="_blank">http://sibeesh passion . westeurope . azure container . io:4873/#/detail/org-NPM-package。</a></p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="2927" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">使用您的私人软件包从Docker私人NPM注册表</h1><p id="05ab" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">运行以下命令，您的私有包将从您的私有Docker NPM注册表中提取:</p><pre class="kj kk kl km gt oi od oj ok aw ol bi"><span id="7290" class="mv kv it od b gy om on l oo op">npm install org-npm-package --registry=http://sibeeshpassion.westeurope.azurecontainer.io:4873</span></pre></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="94df" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">结论</h1><p id="4ad3" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">祝贺你，我们已经成功地创建了一个私人码头NPM注册。继续创建尽可能多的私有包，并将它们移动到您的私有NPM注册表中。非常感谢您关注/阅读这篇文章。我真的很感谢你的时间和努力。我们刚刚学习了如何:</p><ol class=""><li id="5e86" class="nh ni it lo b lp nj ls nk lv nl lz nm md nn mh oq np nq nr bi translated">创建Azure容器注册表</li><li id="236a" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh oq np nq nr bi translated">创建一个本地Docker容器</li><li id="0b8c" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh oq np nq nr bi translated">创建Verdaccio映像，并在本地docker容器中运行它</li><li id="5926" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh oq np nq nr bi translated">将本地Verdaccio映像推送到Azure容器注册表</li><li id="95c2" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh oq np nq nr bi translated">使用Azure容器注册中心设置Docker容器实例</li><li id="3beb" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh oq np nq nr bi translated">把NPM的包裹推给私人码头工人NPM登记处</li><li id="dba5" class="nh ni it lo b lp ns ls nt lv nu lz nv md nw mh oq np nq nr bi translated">从私有注册表中提取包</li></ol><p id="345e" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">你可以随时在Medium和Twitter上关注我。</p><div class="os ot gp gr ou ov"><a href="https://medium.com/@sibeeshvenu" rel="noopener follow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">Sibeesh Venu -培养基</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">在介质上阅读Sibeesh Venu的作品。职业上是工程师，热情上是作家。微软MVP…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">medium.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj ko ov"/></div></div></a></div><div class="os ot gp gr ou ov"><a href="https://twitter.com/SibeeshVenu" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd iu gy z fp pa fr fs pb fu fw is bi translated">sibeesh Venu(@ sibeesh Venu)| Twitter</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">Sibeesh Venu的最新推文(@SibeeshVenu)。https://t.co/qgUFdZS3Zb,微软MVP @MVPAward，@CsharpCorner…</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">twitter.com</p></div></div><div class="pe l"><div class="pk l pg ph pi pe pj ko ov"/></div></div></a></div></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="17f3" class="ku kv it bd kw kx mp kz la lb mq ld le jz mr ka lg kc ms kd li kf mt kg lk ll bi translated">轮到你了。你怎么想呢?</h1><p id="10dd" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">非常感谢你的阅读。我很快会带着同一主题的另一篇文章回来。我遗漏了什么吗？不要忘记与我分享您的反馈！</p><p id="f1a7" class="pw-post-body-paragraph lm ln it lo b lp nj ju lr ls nk jx lu lv nx lx ly lz ny mb mc md nz mf mg mh im bi translated">最亲切的问候</p></div></div>    
</body>
</html>