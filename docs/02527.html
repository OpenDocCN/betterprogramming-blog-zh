<html>
<head>
<title>Google Maps and Places in a Real-World React Native App (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">真实世界中的Google地图和地点React本地应用程序(第1部分)</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/google-map-and-places-in-a-real-world-react-native-app-83540430ee36?source=collection_archive---------6-----------------------#2019-12-06">https://betterprogramming.pub/google-map-and-places-in-a-real-world-react-native-app-83540430ee36?source=collection_archive---------6-----------------------#2019-12-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ab42" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个完整的React原生指南，用于在Android上使用Expo从头开始构建应用程序</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/661e5bb3c78019f977409f86132151fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*qyu2inkTli2OX3LIZVHVQA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">React本机应用程序—要构建的仪表板</p></figure><p id="8a18" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是关于使用Expo在真实世界React原生应用程序中集成谷歌地图和地点的系列帖子的第一篇。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="70db" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">原因</h1><p id="a632" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我最近的副业项目中需要的一个功能是使用Expo在真实世界的React原生应用程序中实现谷歌地图和地点。我找了几个教程，但是都没用，至少对我来说是这样。实施它是一场艰苦的战斗。</p><p id="ae2d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我花了很多时间尝试实现谷歌地图和地点，得到了很多错误。我还花了大量时间搜索堆栈溢出，但没有任何成功的结果。经过这场艰苦的斗争，我终于达到了目的。然后我想，我应该写一个帖子系列，在那里我将详细介绍如何实现这个特性的所有步骤，甚至更多。所以在这篇文章中，我们将创建一个集成了谷歌地图和地点的React原生应用。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="bbfa" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">要求</h1><p id="0f07" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">让用户能够寻找他们附近的地方，并获得他们的所有信息，如照片，邻近地区，地址，评级，评论，营业时间，最后，在新版本中，添加功能来寻找过滤器。除此之外，添加允许用户点击特定餐馆并获得与该餐馆相关的菜肴的功能。这部分不是这篇文章的目的——我们将在以后的另一篇文章中讨论它。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="0ed5" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">将问题分解成称为用户故事的小块</h1><h2 id="539a" class="my mc it bd md mz na dn mh nb nc dp ml lh nd ne mn ll nf ng mp lp nh ni mr nj bi translated">我们的MVP(最低可行产品)</h2><p id="8384" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated"><strong class="la iu">先规划，再编码。</strong></p><p id="6902" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，让我们把需求分解成更小的部分，称为用户故事，看看我们作为一个可交付成果要完成什么。接下来的每个故事都可以被分解成更具体的任务，但我认为现在这样就可以了。</p><ul class=""><li id="d533" class="nk nl it la b lb lc le lf lh nm ll nn lp no lt np nq nr ns bi translated">作为一个最终用户，我希望看到一个带有菜单选项的仪表板，可以找到银行、ATM、酒吧、咖啡馆、酒店、公交车站和健身房等地方。</li><li id="38a5" class="nk nl it la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated">我想在底部有一个选项卡导航菜单:主页，个人资料和设置。</li><li id="0bdb" class="nk nl it la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated">我想有能力点击银行，酒吧，咖啡，酒店，公交车站，或健身房，并得到我点击的当前位置的结果列表。</li><li id="1c11" class="nk nl it la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated">我想看到每个地方的评级，位置，名称，描述，明星，和附近地区。</li><li id="0db9" class="nk nl it la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated">我想有一个搜索栏来寻找一个地方的关键字，名称，或城市。</li><li id="ee35" class="nk nl it la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated">我想了解一个地方，并获得它的详细信息。</li></ul><p id="7968" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">注意:<em class="ny"> </em> </strong> <em class="ny">我假设你已经有了一点使用React原生应用和React.js主要概念的经验</em></p><p id="722c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将在Expo.io工具的帮助下从头开始构建应用程序，为您提供一步一步的指导。</p><p id="b386" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">那么，让我们开始动手干脏活吧。</strong></p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="8512" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">举办世博会</h1><p id="34d4" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">要使用Expo，您需要两样东西:一个本地开发(Expo CLI)工具和一个移动客户端(Expo client)来打开您的应用程序。</p><h2 id="25af" class="my mc it bd md mz na dn mh nb nc dp ml lh nd ne mn ll nf ng mp lp nh ni mr nj bi translated">先决条件:</h2><ul class=""><li id="56a6" class="nk nl it la b lb mt le mu lh nz ll oa lp ob lt np nq nr ns bi translated"><strong class="la iu"> <em class="ny"> Node.js </em> </strong></li><li id="2a66" class="nk nl it la b lb nt le nu lh nv ll nw lp nx lt np nq nr ns bi translated"><strong class="la iu"> <em class="ny"> Git </em> </strong></li></ul><h2 id="8941" class="my mc it bd md mz na dn mh nb nc dp ml lh nd ne mn ll nf ng mp lp nh ni mr nj bi translated"><strong class="ak">安装世博CLI </strong></h2><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="24f9" class="my mc it od b gy oh oi l oj ok"> npm install -g expo-cli</span></pre><h2 id="aacf" class="my mc it bd md mz na dn mh nb nc dp ml lh nd ne mn ll nf ng mp lp nh ni mr nj bi translated">在您的Android设备上安装Expo客户端工具</h2><p id="90b5" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">这是启动世博会项目的最快方式。我们需要这个工具，因为它允许我们运行应用程序，并显示我们正在开发的变化的预览。</p><p id="a285" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以从Play Store<a class="ae ol" href="https://play.google.com/store/apps/details?id=host.exp.exponent" rel="noopener ugc nofollow" target="_blank">下载世博客户端app </a>。然而，如果你喜欢在本地机器上运行Expo应用程序，你需要安装一个<a class="ae ol" href="https://docs.expo.io/versions/latest/workflow/android-studio-emulator/" rel="noopener ugc nofollow" target="_blank">模拟器或仿真器</a>。</p><p id="7cac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你需要更多关于世博会设置的信息，我强烈推荐你去官方网站。</p><h2 id="852b" class="my mc it bd md mz na dn mh nb nc dp ml lh nd ne mn ll nf ng mp lp nh ni mr nj bi translated">创建Expo帐户</h2><p id="7f84" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">你需要在Expo.io上注册。所以，去<a class="ae ol" href="https://expo.io/login" rel="noopener ugc nofollow" target="_blank"> Expo登录页面</a> e并创建你的账户。下一步你会用到它。</p><p id="4258" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们已经安装了Expo CLI，所以下一步是通过Expo命令创建应用程序。</p><h2 id="7899" class="my mc it bd md mz na dn mh nb nc dp ml lh nd ne mn ll nf ng mp lp nh ni mr nj bi translated">创建项目</h2><p id="9418" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我用的是Windows Powershell。如果使用Gitbash，在非交互模式下需要额外的参数。</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="a84e" class="my mc it od b gy oh oi l oj ok">expo init rn-google-maps-places</span></pre><p id="5a96" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">运行该命令后，选择一个模板—您可以使用箭头键上下导航。之后在<code class="fe om on oo od b">name</code>属性中添加一个世博名app。这将是最终输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/e6826baab6f7fe314f268db655a19242.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AFhgi4boSPhI2zKYQJi8Dw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe om on oo od b">Expo init rn-google-maps-places</code></p></figure><p id="18be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">按下<code class="fe om on oo od b">ENTER</code>后，你将进入下一个屏幕。键入<code class="fe om on oo od b">Y</code>接受通过 <code class="fe om on oo od b">Yarn</code>下载所有项目的依赖关系<strong class="la iu">。并且只需等待一段时间，直到它们全部下载完毕！</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/42fcc2137557ad5bfbfbf06cadd8149e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b-dlj12fEA49gmw-HU0wLg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">下载依赖项</p></figure><p id="7272" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，打开一个命令提示符(我用的是Powershell)登录Expo。系统会提示您输入刚才创建的用户名和密码。</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="d662" class="my mc it od b gy oh oi l oj ok">expo login</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/6f8747fd6f30f720deb58fe1d157ec89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O0yH5F7c79OxWzR91ly0lA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Expo登录命令</p></figure><h2 id="75b1" class="my mc it bd md mz na dn mh nb nc dp ml lh nd ne mn ll nf ng mp lp nh ni mr nj bi translated">启动开发服务器</h2><p id="5c29" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">完成这些之后，现在我们需要启动开发服务器。您只需要运行下一个命令。不要忘记进入您在前面的步骤中刚刚创建的项目的根目录。</p><pre class="kj kk kl km gt oc od oe of aw og bi"><span id="4c0d" class="my mc it od b gy oh oi l oj ok">npm start</span></pre><p id="6ec1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">之后，你会看到这个屏幕。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/f82c309ad3db6229c99fa8959ee4254d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6EX2FdEDU7lw91PKdsMWEQ.png"/></div></div></figure><h2 id="81d3" class="my mc it bd md mz na dn mh nb nc dp ml lh nd ne mn ll nf ng mp lp nh ni mr nj bi translated">Google云平台设置</h2><p id="d422" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">我们必须建立谷歌云平台。登录<a class="ae ol" href="https://console.developers.google.com/apis/dashboard?project=rock-sublime-142804&amp;angularJsUrl=" rel="noopener ugc nofollow" target="_blank">谷歌</a>，然后，创建项目。您应该能够看到类似下一个屏幕的内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/cfa5fe769f2f3989cc3b3b6c595379be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qzq5x6W2qNTIpTW8dlNTIQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Google项目创建</p></figure><p id="bcbb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们需要启用两个API:<code class="fe om on oo od b">Maps SDK for Android</code>和<code class="fe om on oo od b">Places API</code>。进入<code class="fe om on oo od b">library</code>菜单，搜索这些API，然后启用它们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/e8480194bd0d7cae944f80fa3a29161b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eMBjVZnGrwmVArjKGA5oJw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">为Android启用地图SDK</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/f3a6148df145f3180d57296f2123fde5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ErlO0gGF5XzUwON3aOx69w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启用地点API</p></figure><p id="157f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦您确定两者都已启用，就该创建凭证了。由此，我们将需要API密钥来将我们的应用程序与这两个服务连接起来。所以请把它保存在某个地方——我们以后会需要它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/e8fd31d8700505e9582ca2cff974833a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oYGqPLfAvLZaIru3FWnzOg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">凭据创建</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/d98153b6043d630f7064bc1a4e1fee6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uMo9sCMcTHwZ_FzyI45oZw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Google API密钥</p></figure><p id="3cf2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到目前为止，我们已经设置了Expo应用程序及其工具，我们还创建了Google项目来获取API密钥。在下一篇文章中，我们将开始动手编程。</p><p id="7757" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae ol" href="https://medium.com/better-programming/google-maps-and-places-in-a-real-world-react-native-app-100eff7474c6" rel="noopener">谷歌地图和真实世界中的地点React本地应用(第二部分)</a></p><p id="cff4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>