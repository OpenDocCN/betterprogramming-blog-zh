<html>
<head>
<title>The Ultimate Guide to Architectural Decision Records</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建筑决策记录的最终指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-ultimate-guide-to-architectural-decision-records-6d74fd3850ee?source=collection_archive---------2-----------------------#2022-06-21">https://betterprogramming.pub/the-ultimate-guide-to-architectural-decision-records-6d74fd3850ee?source=collection_archive---------2-----------------------#2022-06-21</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="20a7" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">ADR简介，包括示例、模板和管理工具</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/17da597fd12708f15db30cf234d1075c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2Alwn4r_rpaatoxt"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">劳拉·卡弗在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="7c9d" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">什么是架构决策记录(ADR)</h1><p id="c9e8" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">架构决策记录(ADRs)记录了重要的架构决策及其背景和结果。迈克尔·尼加德在2011年的<a class="ae kz" href="https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions" rel="noopener ugc nofollow" target="_blank">博客文章</a>中首次介绍了它们。</p><p id="5a2e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">ADR通常由描述特定架构决策的简短文本文件组成。您可以用纯文本、AsciiDoc/Markdown格式编写它们，或者使用wiki页面模板。</p><h1 id="d91f" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">使用ADR的好处</h1><p id="cadf" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">让我们看看使用ADR的一些主要好处:</p><ul class=""><li id="9fc3" class="mt mu iu lu b lv mo ly mp mb mv mf mw mj mx mn my mz na nb bi translated">它们捕获了关于软件的基本信息，可以随时查看。</li><li id="c782" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">它们可以作为记录软件架构的有效手段。发展成果评估强调了做出特定决定的原因。它还描述了权衡分析，例如，选择性能而不是可伸缩性。</li><li id="2be0" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">如果开发人员想了解为什么为给定的项目选择了特定的技术，他们可以在ADR中找到解释。这减少了内部争论。开发人员具有批判性思维，所以让他们理解为什么是至关重要的。这导致团队内部更多的信任。</li><li id="4e4f" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">他们帮助新团队成员熟悉架构思维方式。新来者将理解哪些方面在基础设施中起着最重要的作用。他们将了解过去做了些什么。</li><li id="8212" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">如果有人想提出一项新技术，结果可能是这个话题已经讨论过了，被否决了。原因在ADR。因此，他们可以投入时间寻找新的解决方案。</li><li id="c773" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">保持团队内外的透明度。任何对这个话题感兴趣的人都可以阅读决策过程。这样，不同的小组可以互相学习。</li></ul><h1 id="b479" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">ADR结构</h1><p id="6876" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">ADR应该简洁明了。</p><h2 id="838a" class="nh lb iu bd lc ni nj dn lg nk nl dp lk mb nm nn lm mf no np lo mj nq nr lq ns bi translated">标题</h2><p id="9e42" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">标题包含一个描述架构决策的简短短语。</p><p id="f84c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">示例:</p><p id="3f29" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我们前端的编程语言和框架。</p><h2 id="83c0" class="nh lb iu bd lc ni nj dn lg nk nl dp lk mb nm nn lm mf no np lo mj nq nr lq ns bi translated">状态</h2><p id="51ff" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">状态可以是:</p><ul class=""><li id="55b6" class="mt mu iu lu b lv mo ly mp mb mv mf mw mj mx mn my mz na nb bi translated">提议(正在审查中)</li><li id="7a5c" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">接受(批准并准备实施)</li><li id="1b8b" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">被取代(被另一项决定取代)</li></ul><h2 id="12ee" class="nh lb iu bd lc ni nj dn lg nk nl dp lk mb nm nn lm mf no np lo mj nq nr lq ns bi translated">语境</h2><p id="6bff" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">上下文解释了我们为什么需要做出决定。它还描述了替代方案及其优缺点。</p><p id="c0db" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">示例:</p><p id="5510" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我们需要为我们的前端选择一种编程语言。它需要适合web和移动应用程序。我们的UI需要大量的细节定制。</p><h2 id="7f01" class="nh lb iu bd lc ni nj dn lg nk nl dp lk mb nm nn lm mf no np lo mj nq nr lq ns bi translated">决定</h2><p id="40f8" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">决策描述了接受特定解决方案的理由。它更强调为什么，而不是如何。</p><p id="0d12" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">示例(这只是一个技术决策的示例；不认同也行):</p><p id="31fa" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我们将使用Flutter作为前端框架。</p><p id="3dec" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我们考虑了以下框架:</p><ul class=""><li id="b5a0" class="mt mu iu lu b lv mo ly mp mb mv mf mw mj mx mn my mz na nb bi translated">摆动</li><li id="6ae0" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">反应自然</li></ul><p id="543a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">自变量</strong></p><p id="13d2" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">flutter——fast，提供了许多现成的UI组件，无需我们自己实现这些组件，就可以加快开发速度。它有一个内置的材料设计。尽管它是一个年轻的框架，但它是有据可查的。</p><p id="cd7c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">本地反应——我们必须自己实现大部分组件。文档不是很详细。整体性能不如Flutter的。</p><h2 id="259f" class="nh lb iu bd lc ni nj dn lg nk nl dp lk mb nm nn lm mf no np lo mj nq nr lq ns bi translated">结果</h2><p id="4992" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">后果部分包含关于架构决策的总体影响的信息。每个决定都有取舍。这就是为什么包含分析以提供清晰的画面是至关重要的。</p><p id="fdb0" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">示例:</p><p id="4d24" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">它有一个学习曲线:开发人员必须学习Dart编程语言才能使用Flutter框架。</p><h1 id="a92b" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">何时撰写ADR</h1><p id="ddae" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">你可能会问自己:我应该总是写ADR吗？不一定，但以下几点可以帮助您决定是否值得创建ADR:</p><ul class=""><li id="20b0" class="mt mu iu lu b lv mo ly mp mb mv mf mw mj mx mn my mz na nb bi translated">你是否听到人们不断地问同样的问题:为什么做出这个特别的决定？为什么建筑师选择这项技术而不是这项技术？当前的实现有一些缺点，比如性能较低，那么他们为什么选择这种体系结构呢？</li><li id="e685" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">你想提出一个影响整个软件的改变吗？这是一个合适的开始讨论的方式，在这里可以回顾利弊。</li></ul><h1 id="4d77" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">管理ADR</h1><h2 id="915e" class="nh lb iu bd lc ni nj dn lg nk nl dp lk mb nm nn lm mf no np lo mj nq nr lq ns bi translated">储存；储备</h2><p id="3763" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">您可以将ADR存储在Git存储库中的一个单独的ADR文件夹中。然而，并不是每个人都可以访问Git，例如，业务分析师、产品负责人等。所以，这并不是最优的选择。最简单的方法是将ADR存储在一个共享的Wiki页面中，每个人都可以看到它们。</p><h2 id="0a34" class="nh lb iu bd lc ni nj dn lg nk nl dp lk mb nm nn lm mf no np lo mj nq nr lq ns bi translated">模板</h2><p id="d8a6" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">如果您不确定如何开始，不要担心，因为已经存在大量ADR模板。最广泛使用的是迈克尔·尼加德的作品:</p><div class="nt nu gq gs nv nw"><a href="https://github.com/joelparkerhenderson/architecture-decision-record/blob/main/templates/decision-record-template-by-michael-nygard/index.md" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fp"><div class="ny ab nz cl cj oa"><h2 class="bd iv gz z fq ob fs ft oc fv fx it bi translated">主joelparkerhenderson/architecture-decision-record/index . MD</h2><div class="od l"><h3 class="bd b gz z fq ob fs ft oc fv fx dk translated">这是记录架构决策的模板。您可以使用adr工具来管理ADR…</h3></div><div class="oe l"><p class="bd b dl z fq ob fs ft oc fv fx dk translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok kt nw"/></div></div></a></div><p id="48f4" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">查看GitHub上的这个<a class="ae kz" href="https://github.com/joelparkerhenderson/architecture-decision-record#adr-example-templates" rel="noopener ugc nofollow" target="_blank">系列</a>，了解更多创意和风格。</p><h2 id="4c14" class="nh lb iu bd lc ni nj dn lg nk nl dp lk mb nm nn lm mf no np lo mj nq nr lq ns bi translated">工具</h2><p id="3182" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">有各种工具可以帮助您跟踪您的ADR。这里有一个方便的轻量级工具可以帮助你:【https://github.com/mrwilson/adr-viewer<a class="ae kz" href="https://github.com/mrwilson/adr-viewer" rel="noopener ugc nofollow" target="_blank"/></p><p id="7596" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">这个基于Python的工具显示本地web服务器上的ADR或生成的静态内容。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ol"><img src="../Images/67477a06b970594eee56dd33b86c8276.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gq0HTDalEL5G4ui5lz3PtQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">ADR查看器官方演示</p></figure><p id="dcfb" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">完整的演示可以在这里找到:<a class="ae kz" href="https://mrwilson.github.io/adr-viewer/index.html" rel="noopener ugc nofollow" target="_blank">https://mrwilson.github.io/adr-viewer/index.html</a></p><p id="b8dd" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果你已经有一些ADR，考虑创建一个日志。<a class="ae kz" href="https://github.com/adr/adr-log" rel="noopener ugc nofollow" target="_blank"> Adr-Log工具</a>生成ADRS的架构决策日志:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj om"><img src="../Images/172841bee2c84e6098326b6c18419723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*ov38oZmcC-iCRTspiwK-sw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">截图来自原出处:【https://github.com/adr/adr-log/blob/master/docs/index.md T4】</p></figure><p id="75ca" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">为了处理ADR日志，我推荐一个名为<a class="ae kz" href="https://github.com/npryce/adr-tools" rel="noopener ugc nofollow" target="_blank"> Adr-tools </a>的命令行工具。它运行命令来创建基于模板的ADR，例如像<a class="ae kz" href="https://github.com/npryce/adr-tools/blob/master/doc/adr/0002-implement-as-shell-scripts.md" rel="noopener ugc nofollow" target="_blank">这样的</a>一个:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj on"><img src="../Images/a2c7404aad335d4ea73f643c41032425.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RuPxm6UpMRF3PHjIfMHrzQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">ADR模板</p></figure><h1 id="e641" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">最后的想法</h1><p id="1455" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">恭喜你！你学习了药品不良反应的原理。现在你知道为什么、何时以及如何使用它们了。我还列出了一些管理ADR的有用工具。</p><p id="3cc1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我希望你今天学到了一些新东西。感谢您的阅读，下次再见！</p></div></div>    
</body>
</html>