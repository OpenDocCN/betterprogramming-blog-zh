<html>
<head>
<title>Analyze Your iOS Health Data With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python分析您的iOS健康数据</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/analyze-your-icloud-health-data-with-pandas-dd5e963e902f?source=collection_archive---------3-----------------------#2019-07-18">https://betterprogramming.pub/analyze-your-icloud-health-data-with-pandas-dd5e963e902f?source=collection_archive---------3-----------------------#2019-07-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6fe8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用Python和Pandas分析来自iPhone健康应用程序的数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/75823ac7d716b81d020c75c2db470609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MkTjDdq259aqF0azbIpXzw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/photo/computer-desk-laptop-stethoscope-48604/" rel="noopener ugc nofollow" target="_blank">像素</a>上的<a class="ae ky" href="https://www.pexels.com/photo/computer-desk-laptop-stethoscope-48604/" rel="noopener ugc nofollow" target="_blank">负空间</a>拍摄</p></figure><p id="0e75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将展示如何使用Python和Pandas分析从iPhone苹果健康应用程序导出的数据。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ac57" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">先决条件</h1><p id="7775" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我假设如下:</p><ul class=""><li id="57f4" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">你拥有一台iOS设备(iPhone、iPad等。)并且您有一些数据要导出。</li><li id="a4f9" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">你已经知道了用Python编写<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">熊猫</a>的基础知识。</li><li id="58ac" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">您已经安装了Python解释器，包括所有必需的库。如果不确定，在你的电脑上安装Anaconda 。</li><li id="1d68" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">我也建议用<a class="ae ky" href="https://jupyter.org" rel="noopener ugc nofollow" target="_blank"> Jupyter </a>。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ae28" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">将健康数据导出为XML</h1><p id="d9f7" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">这里就不描述如何导出你的苹果健康数据的细节了。整个过程在<a class="ae ky" href="https://www.idownloadblog.com/2015/06/10/how-to-export-import-health-data/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>中有描述。总结一下:</p><ul class=""><li id="9e9f" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">打开健康app。</li><li id="761d" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">轻按您的个人资料图标，然后选择“导出健康数据”</li><li id="d8e0" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">选择如何“共享”您的数据；即发送到您的电子邮件地址。</li><li id="f31a" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">将导出的数据(应该是一个ZIP文件)下载到您的PC并解压缩。然后，找到一个通常名为<strong class="lb iu"> <em class="nn"> export.xml </em> </strong>的XML文件(该名称可能会根据您的操作系统的语言而变化)。存档可能包括两个XML文件，但是包含您的数据的文件应该是<em class="nn">较大的那个。</em></li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b7fc" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">将数据读入熊猫</h1><p id="1343" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Pandas默认不导入XML文件。在Python中有很多方法可以做到这一点，比如手动解析XML。</p><p id="f8f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在这里选择使用<a class="ae ky" href="https://github.com/martinblech/xmltodict" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="nn">xmltodict</em></strong></a>导入XML文件。这个模块将把输入文件转换成Python字典。</p><p id="ecfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，必须通过在终端键入以下命令，将<em class="nn"> xmltodict </em>模块安装在您当前的Python环境中:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="ab4d" class="nt md it np b gy nu nv l nw nx">pip install xmltodict</span></pre><p id="dcf7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您的输入文件名为<em class="nn"> export.xml </em>，并且位于您运行Python的当前工作目录中，执行以下代码:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="127e" class="nt md it np b gy nu nv l nw nx">import pandas as pd<br/>import xmltodict</span><span id="a01a" class="nt md it np b gy ny nv l nw nx">input_path = './export.xml'<br/>with open(input_path, 'r') as xml_file:<br/>    input_data = xmltodict.parse(xml_file.read())</span></pre><p id="6c88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变量<code class="fe nz oa ob np b">input_data</code>是一个字典，包含来自原始XML文件的全部数据。实际的健康记录存储在<code class="fe nz oa ob np b">HealthData</code>字典的<code class="fe nz oa ob np b">Record</code>键中:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="95e2" class="nt md it np b gy nu nv l nw nx">records_list = input_data['HealthData']['Record']</span></pre><p id="1f95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个可以直接导入熊猫数据框的<code class="fe nz oa ob np b">list</code>字典:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="3589" class="nt md it np b gy nu nv l nw nx">df = pd.DataFrame(records_list)</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="5d4a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">数据结构检查</h1><p id="78d6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">您可以通过运行以下命令来可视化导入的记录列表的所有字段:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="cedf" class="nt md it np b gy nu nv l nw nx">df.columns</span></pre><p id="f077" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该命令将返回类似以下内容的输出:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="efff" class="nt md it np b gy nu nv l nw nx">Index(['<a class="ae ky" href="http://twitter.com/type" rel="noopener ugc nofollow" target="_blank">@type</a>',<br/>       '<a class="ae ky" href="http://twitter.com/sourceName" rel="noopener ugc nofollow" target="_blank">@sourceName</a>',<br/>       '<a class="ae ky" href="http://twitter.com/sourceVersion" rel="noopener ugc nofollow" target="_blank">@sourceVersion</a>',<br/>       '<a class="ae ky" href="http://twitter.com/unit" rel="noopener ugc nofollow" target="_blank">@unit</a>',<br/>       '<a class="ae ky" href="http://twitter.com/creationDate" rel="noopener ugc nofollow" target="_blank">@creationDate</a>',<br/>       '<a class="ae ky" href="http://twitter.com/startDate" rel="noopener ugc nofollow" target="_blank">@startDate</a>',<br/>       '<a class="ae ky" href="http://twitter.com/endDate" rel="noopener ugc nofollow" target="_blank">@endDate</a>',<br/>       '<a class="ae ky" href="http://twitter.com/value" rel="noopener ugc nofollow" target="_blank">@value</a>',<br/>       'MetadataEntry',<br/>       '<a class="ae ky" href="http://twitter.com/device" rel="noopener ugc nofollow" target="_blank">@device</a>'], dtype='object')</span></pre><p id="b5eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:所有字段名都以<code class="fe nz oa ob np b"><strong class="lb iu">@</strong></code> <strong class="lb iu">符号</strong>开头。为了简单起见，我将简单地用它们的名字来指代它们，而不用这个前缀字符。</p><p id="c4c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">若要显示字段的所有不同值，请执行以下代码:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="fd48" class="nt md it np b gy nu nv l nw nx">df['<a class="ae ky" href="http://twitter.com/type" rel="noopener ugc nofollow" target="_blank">@type</a>'].unique()</span></pre><p id="6395" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将显示<em class="nn">类型</em>字段的所有值。输出将类似于以下内容:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="448a" class="nt md it np b gy nu nv l nw nx">array(['HKQuantityTypeIdentifierHeight',<br/>       'HKQuantityTypeIdentifierBodyMass',<br/>       'HKQuantityTypeIdentifierStepCount',<br/>       'HKQuantityTypeIdentifierDistanceWalkingRunning',<br/>       'HKQuantityTypeIdentifierActiveEnergyBurned',<br/>       'HKQuantityTypeIdentifierFlightsClimbed'], dtype=object)</span></pre><p id="2e87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将考虑以下几个方面:</p><ul class=""><li id="ef8a" class="mz na it lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="nn">类型</em> </strong>字段代表记录的指标。例如，步数或体重。</li><li id="7106" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="nn"> sourceName </em> </strong>字段表示记录来自哪里。这可以是特定的应用程序名称或设备(例如，“iPhone XS”)。</li><li id="69ae" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="nn">单位</em> </strong>字段是记录的计量单位。这取决于类型。“步数”的单位是<em class="nn">计数</em>,“消耗的有功能量”的单位是<em class="nn">千卡</em>，以此类推。</li><li id="544b" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="nn"> creationDate </em> </strong>，<strong class="lb iu"> <em class="nn"> startDate </em> </strong>，<strong class="lb iu"> <em class="nn"> endDate </em> </strong>是记录的时间戳。对于给定的指标和<em class="nn">创建日期</em>，可能有多个<em class="nn">开始日期</em> / <em class="nn">结束日期</em>。我认为指标的生成和创建频率取决于设备和/或应用程序。出于本分析的目的，这是不相关的。</li><li id="98c6" class="mz na it lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated"><strong class="lb iu"> <em class="nn">值</em> </strong>字段代表记录的测量单位的数量。例如，一个单位等于<em class="nn">千卡</em>的<em class="nn">值</em>为42，意味着燃烧了42千卡热量。该字段的类型因设备而异。它可以是整数、浮点数等等。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="add2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">步数分析</h1><p id="49c0" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在本例中，我将重点关注“步数”指标。您可以非常容易地将相同的逻辑应用于其他指标。</p><p id="769c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们按类型筛选:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="6be9" class="nt md it np b gy nu nv l nw nx">step_counts = df[df['<a class="ae ky" href="http://twitter.com/type" rel="noopener ugc nofollow" target="_blank">@type</a>'] == 'HKQuantityTypeIdentifierStepCount']</span></pre><p id="2ac1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后将时间戳字符串转换成实际的<code class="fe nz oa ob np b">datetime</code>对象是很有用的:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="96d2" class="nt md it np b gy nu nv l nw nx">format = '%Y-%m-%d %H:%M:%S %z'</span><span id="c990" class="nt md it np b gy ny nv l nw nx">df['<a class="ae ky" href="http://twitter.com/creationDate" rel="noopener ugc nofollow" target="_blank">@creationDate</a>'] = pd.to_datetime(df['<a class="ae ky" href="http://twitter.com/creationDate" rel="noopener ugc nofollow" target="_blank">@creationDate</a>'],<br/>                                     format=format)</span><span id="d925" class="nt md it np b gy ny nv l nw nx">df['<a class="ae ky" href="http://twitter.com/startDate" rel="noopener ugc nofollow" target="_blank">@startDate</a>'] = pd.to_datetime(df['<a class="ae ky" href="http://twitter.com/startDate" rel="noopener ugc nofollow" target="_blank">@startDate</a>'],<br/>                                  format=format)</span><span id="66a0" class="nt md it np b gy ny nv l nw nx">df['<a class="ae ky" href="http://twitter.com/endDate" rel="noopener ugc nofollow" target="_blank">@endDate</a>'] = pd.to_datetime(df['<a class="ae ky" href="http://twitter.com/endDate" rel="noopener ugc nofollow" target="_blank">@endDate</a>'],<br/>                                format=format)</span></pre><p id="51a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还想将该值转换为该指标的特定类型:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="712f" class="nt md it np b gy nu nv l nw nx">step_counts.loc[:, '<a class="ae ky" href="http://twitter.com/value" rel="noopener ugc nofollow" target="_blank">@value</a>'] = pd.to_numeric(<br/>    step_counts.loc[:, '<a class="ae ky" href="http://twitter.com/value" rel="noopener ugc nofollow" target="_blank">@value</a>'])</span></pre><p id="6506" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在步数的情况下，值总是整数。让我们检查以下情况是否属实:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="7229" class="nt md it np b gy nu nv l nw nx">&gt;&gt;&gt; step_counts.dtypes</span><span id="d01e" class="nt md it np b gy ny nv l nw nx">@type                                            object<br/>@sourceName                                      object<br/>@sourceVersion                                   object<br/>@unit                                            object<br/>@creationDate     datetime64[ns, pytz.FixedOffset(120)]<br/>@startDate        datetime64[ns, pytz.FixedOffset(120)]<br/>@endDate          datetime64[ns, pytz.FixedOffset(120)]<br/>@value                                            <strong class="np iu">int64</strong><br/>MetadataEntry                                    object<br/>@device                                          object<br/>dtype: object</span></pre><p id="9ba8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意<em class="nn">值</em>为<em class="nn"> int64 </em>。还要注意时间戳的类型。</p><p id="259a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">可选步骤</strong>:下面，我没有考虑到你可能有多个设备(iPhone，iPod，iWatch等。)都在向iCloud发送健康记录。在这种情况下，您可能希望按单个设备进行过滤。例如:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="fcb4" class="nt md it np b gy nu nv l nw nx">df = df[df['@sourceName'] == 'iPhone XS']</span></pre><p id="2997" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我按天计算步数。有很多方法可以做到这一点。在这里，我选择通过<em class="nn"> creationDate </em>和sum值进行聚合:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="ef78" class="nt md it np b gy nu nv l nw nx">step_counts_by_creation = step_counts.groupby('<a class="ae ky" href="http://twitter.com/creationDate" rel="noopener ugc nofollow" target="_blank">@creationDate</a>').sum()</span></pre><p id="10c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果是一个Pandas系列，其中索引是时间戳，元素是合计值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/83e282004c478f16adecae4a5d6bbbba.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*YPZ_GoIBDxBTDQaEqIoBZA.png"/></div></figure><p id="29ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要按天获取<strong class="lb iu">计数，</strong>使用带<code class="fe nz oa ob np b">D</code>参数的<code class="fe nz oa ob np b">resample</code>方法:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="1263" class="nt md it np b gy nu nv l nw nx">by_day = step_counts_by_creation['<a class="ae ky" href="http://twitter.com/value" rel="noopener ugc nofollow" target="_blank">@value</a>'].resample('D').sum()</span></pre><p id="e822" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您现在可以显示<strong class="lb iu">前十天:</strong></p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="0cf9" class="nt md it np b gy nu nv l nw nx">by_day.sort_values(ascending=False)[:10]</span></pre><p id="bc15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以通过按<code class="fe nz oa ob np b">M</code>重新取样并计算平均值来检查<strong class="lb iu">前十个月</strong>:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="7762" class="nt md it np b gy nu nv l nw nx">means_by_distinct_month = by_day.resample('M').mean()<br/>means_by_distinct_month.sort_values(ascending=False)[:10]</span></pre><p id="822b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设你的<strong class="lb iu">最好的一个月</strong>是2017年6月。您可以显示该月中所有日子的步数:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="3705" class="nt md it np b gy nu nv l nw nx">by_day[(by_day.index.year == 2017) &amp; (by_day.index.month == 6)]</span></pre><p id="72b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以按月份计算一些关于你<strong class="lb iu">表现的统计数据:</strong></p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="4f2f" class="nt md it np b gy nu nv l nw nx">import calendar</span><span id="165e" class="nt md it np b gy ny nv l nw nx">means_by_month = means_by_distinct_month.groupby(<br/>    means_by_distinct_month.index.month).mean()</span><span id="14d7" class="nt md it np b gy ny nv l nw nx">means_by_month.index = list(calendar.month_name)[1:]</span></pre><p id="9fdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我通常在八月份平均走得更多:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="7138" class="nt md it np b gy nu nv l nw nx">means_by_month.plot(kind='bar')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/93c99b03f7317ede3a9fbcd4153786f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*qSAUXAv4YY-1lsAXqi5bMg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按月计算步数</p></figure><p id="4e72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，你可以通过一周中的每一天来计算你的<strong class="lb iu">表现:</strong></p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="dee8" class="nt md it np b gy nu nv l nw nx">means_by_weekday = by_day.groupby(by_day.index.dayofweek).mean()</span><span id="a6ec" class="nt md it np b gy ny nv l nw nx">means_by_weekday.index = ['Monday', 'Tuesday',<br/>                          'Wednesday', 'Thursday',<br/>                          'Friday', 'Saturday',<br/>                          'Sunday']</span></pre><p id="49fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将表明我在周日走得更多:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="6cfd" class="nt md it np b gy nu nv l nw nx">means_by_weekday.plot(kind='bar')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/4b6e043aefa8a5af86265ea467ee8d22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pPZvT3cY6ca70zMq0MIrrw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按星期计算步数</p></figure></div></div>    
</body>
</html>