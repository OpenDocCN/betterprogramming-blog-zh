<html>
<head>
<title>I Made a Web API Mocker Solution for Front-End Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我为前端开发做了一个Web API模仿器解决方案</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/best-web-api-mocker-solution-for-front-end-development-6482b619e172?source=collection_archive---------15-----------------------#2022-01-14">https://betterprogramming.pub/best-web-api-mocker-solution-for-front-end-development-6482b619e172?source=collection_archive---------15-----------------------#2022-01-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e83a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在前端很容易伪造一个API</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b62e3c4418cd5f555728f1099dd96c6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4Mai_zvcU3WYPogc"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@glencarrie?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">格伦·凯莉</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="eaed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大多数前端项目依赖后端请求来检索或更新一些信息。为了确保后端不会成为前端任务的瓶颈，定义契约是一个很好的实践，这样双方都可以继续前进。</p><p id="9aaf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">定义了这些契约后，前端需要做的就是处理预期的有效负载响应数据。一个好的开始是模仿(尽可能少的努力)这个<code class="fe ls lt lu lv b">web-api</code>，有可能开发项目的所有层(包括HTTP处理程序)。</p><p id="e1b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将向您展示如何使用docker轻松创建一个基于目录和文件的<code class="fe ls lt lu lv b">web-api</code> mocker解决方案。</p><h1 id="d7b1" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">先决条件</h1><p id="df67" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">您需要在计算机上安装:</p><ul class=""><li id="60f4" class="mt mu iq ky b kz la lc ld lf mv lj mw ln mx lr my mz na nb bi translated">码头工人</li><li id="e912" class="mt mu iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">Docker撰写</li></ul><h1 id="4e87" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">入门指南</h1><p id="d727" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">在你的机器上安装了<code class="fe ls lt lu lv b">docker</code> <strong class="ky ir"> </strong>和<code class="fe ls lt lu lv b">docker-compose</code>之后，我们就可以开始了！</p><p id="7b89" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，创建一个文件夹，姑且称之为<code class="fe ls lt lu lv b">sample</code></p><pre class="kg kh ki kj gt nh lv ni nj aw nk bi"><span id="ba5a" class="nl lx iq lv b gy nm nn l no np">mkdir sample</span></pre><p id="7569" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe ls lt lu lv b">sample/</code>文件夹中，创建一个包含以下内容的<code class="fe ls lt lu lv b">docker-compose.yaml</code>文件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><h1 id="82cf" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">运行docker映像</h1><p id="0db7" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">在当前位置打开终端，并运行以下命令:</p><pre class="kg kh ki kj gt nh lv ni nj aw nk bi"><span id="0096" class="nl lx iq lv b gy nm nn l no np">docker-compose up -d</span></pre><p id="bf74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要关闭应用程序，请运行以下命令:</p><pre class="kg kh ki kj gt nh lv ni nj aw nk bi"><span id="a8aa" class="nl lx iq lv b gy nm nn l no np">docker-compose down -v</span></pre><p id="50e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您将看到一个名为<code class="fe ls lt lu lv b">data/</code>的文件夹被创建。您还将通过访问以下命令来检查您的API是否已经启动并正在运行:</p><pre class="kg kh ki kj gt nh lv ni nj aw nk bi"><span id="a95a" class="nl lx iq lv b gy nm nn l no np"><a class="ae kv" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/</a></span><span id="03f1" class="nl lx iq lv b gy ns nn l no np">PS: It also generates an exposed URL that can be access Worldwide. Check <strong class="lv ir">Learn More</strong> section for details.</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/427c4bf09c1c2000197c18dae3aee4c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*OAqOjar77CVsKI8YIf8iog.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Web API启动并运行</p></figure><p id="549d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们用一些内容填充我们的<code class="fe ls lt lu lv b">web-api</code>。</p><h1 id="9f7e" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">创建web api内容</h1><p id="1ddf" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">要创建请求URL路径，只需在<code class="fe ls lt lu lv b">data/</code>中添加一个文件夹。<br/>要创建有效负载响应，只需创建一个JSON <em class="nu"> </em>文件，使用HTTP动词作为其名称。</p><p id="adcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看一个基本的例子。创建以下结构:</p><pre class="kg kh ki kj gt nh lv ni nj aw nk bi"><span id="8f07" class="nl lx iq lv b gy nm nn l no np">sample/<br/>  data/<br/>    hello-world/<br/>      GET.json</span></pre><p id="42e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并将<code class="fe ls lt lu lv b">GET.json</code>文件的内容填入:</p><pre class="kg kh ki kj gt nh lv ni nj aw nk bi"><span id="dc27" class="nl lx iq lv b gy nm nn l no np">{<br/>"hello":"world"<br/>}</span></pre><p id="bf36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将导致以下模拟:</p><pre class="kg kh ki kj gt nh lv ni nj aw nk bi"><span id="2f07" class="nl lx iq lv b gy nm nn l no np">Request: GET <a class="ae kv" href="http://localhost:3000/hello-world" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/hello-world</a><br/>Response:<br/> Status: 200<br/> Payload:<br/>   {<br/>    "hello":"world"<br/>   }</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/eb0294781896306485176f474b8ed374.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*hllBDGkEGeim-a_x21Ed0A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">获取<a class="ae kv" href="http://localhost:3000/hello-world" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/hello-world</a></p></figure><h1 id="9af1" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">高级用法</h1><p id="1703" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">上一个示例非常简单，但是您可以通过使用:</p><ul class=""><li id="b24b" class="mt mu iq ky b kz la lc ld lf mv lj mw ln mx lr my mz na nb bi translated">其他HTTP动词(获取、发布、上传、修补和/或删除)</li><li id="6f9d" class="mt mu iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">路径参数</li><li id="e976" class="mt mu iq ky b kz nc lc nd lf ne lj nf ln ng lr my mz na nb bi translated">使用JavaScript文件并定制响应(状态、动态内容、延迟、查询参数等)</li></ul><p id="f7b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如需更多数据样本，请查看此<a class="ae kv" href="https://github.com/andrebnassis/web-api-mocker/tree/master/sample" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h1 id="2a51" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">了解更多信息</h1><p id="2e36" class="pw-post-body-paragraph kw kx iq ky b kz mo jr lb lc mp ju le lf mq lh li lj mr ll lm ln ms lp lq lr ij bi translated">我向你展示的只是你能做的事情的冰山一角。</p><p id="a09d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，该解决方案还可以通过在容器运行时生成一个域<code class="fe ls lt lu lv b">https://&lt;subdomain&gt;.loca.lt</code>向外界公开本地主机，例如，在移动项目开发期间易于使用web API。</p><p id="0a98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，如果你想更多地了解这个解决方案，你可以通过<a class="ae kv" href="https://github.com/andrebnassis/web-api-mocker" rel="noopener ugc nofollow" target="_blank"> GitHub </a>访问完整的文档</p><p id="e870" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">非常感谢！希望你喜欢它！任何反馈都将不胜感激！</p><h1 id="1eb8" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">参考</h1><ol class=""><li id="cb9c" class="mt mu iq ky b kz mo lc mp lf nw lj nx ln ny lr nz mz na nb bi translated"><a class="ae kv" href="https://blog.harveydelaney.com/setting-up-a-mock-api-for-your-front-end-react-project/" rel="noopener ugc nofollow" target="_blank">为您的前端(React)项目设置本地模拟API</a></li><li id="e35f" class="mt mu iq ky b kz nc lc nd lf ne lj nf ln ng lr nz mz na nb bi translated"><a class="ae kv" href="https://www.npmjs.com/package/connect-api-mocker" rel="noopener ugc nofollow" target="_blank">连接-api-mocker </a></li><li id="9550" class="mt mu iq ky b kz nc lc nd lf ne lj nf ln ng lr nz mz na nb bi translated"><a class="ae kv" href="https://www.npmjs.com/package/localtunnel" rel="noopener ugc nofollow" target="_blank">本地隧道</a></li></ol></div></div>    
</body>
</html>