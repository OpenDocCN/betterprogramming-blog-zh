<html>
<head>
<title>3 Common Mistakes You’d Want to Avoid in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中你想避免的3个常见错误</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/3-common-mistakes-youd-want-to-avoid-in-python-6210f4d56310?source=collection_archive---------4-----------------------#2019-09-30">https://betterprogramming.pub/3-common-mistakes-youd-want-to-avoid-in-python-6210f4d56310?source=collection_archive---------4-----------------------#2019-09-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1326" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">三个问题及其解决方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/50b8b3fbf3b36983140c2eaf5740a051.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OOwsHdyxZq49PKXF"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NeONBRAND </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="007a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将谈论三个你不想犯的常见错误！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="62f3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">问题:默认可变对象</h1><p id="fbc6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">嘿，等等Python中的可变对象是什么？可变对象是您可以更改的对象。List、set和dict是可变对象的例子。</p><p id="fee5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了便于论证，我将定义一个非常简单且无用的函数。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f242" class="ne md it na b gy nf ng l nh ni">def add(x, y=[]):<br/>    y.append(x)<br/>    return y</span></pre><p id="bad4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个<code class="fe nj nk nl na b">add</code> <strong class="lb iu"> </strong>函数中，我们默认将<code class="fe nj nk nl na b">y</code>变量设置为一个列表(可变对象)。让我们使用这个函数。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="ba15" class="ne md it na b gy nf ng l nh ni">def add(x, y=[]):<br/>    y.append(x)<br/>    return y<br/><br/><br/>print(add('halil'))<br/>print(add('yıldırım'))</span></pre><p id="8b0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出是:</p><p id="37b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">['halil']<br/>['halil', 'yıldırım']</code></p><p id="4560" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是怎么回事？它在覆盖同一个列表。当我们第一次调用<code class="fe nj nk nl na b">add('halil')</code>时，默认参数变成了<code class="fe nj nk nl na b">y=['halil']</code>，并开始覆盖相同的列表。让我们看看:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="2d99" class="ne md it na b gy nf ng l nh ni">def add(x, y=[]):<br/>    y.append(x)<br/>    return y<br/><br/><br/>add('halil')<br/>print(add.__defaults__)<br/>add('yıldırım')<br/>print(add.__defaults__)</span></pre><p id="70c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出是:</p><p id="0238" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">(['halil'],)<br/>(['halil', 'yıldırım'],)</code></p><p id="f6fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，我们正在覆盖默认列表。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ee9a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">解决方案:默认可变对象</h1><p id="4bd4" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">您应该传递<code class="fe nj nk nl na b">None</code>，而不是传递可变对象作为默认参数。示例:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="a563" class="ne md it na b gy nf ng l nh ni">def add(x, y=None):<br/>    if y is None:<br/>        y = list()<br/>        y.append(x)<br/>    else:<br/>        y.append(x)<br/>    return y<br/><br/><br/>print(add('halil'))<br/>print(add('yıldırım'))</span></pre><p id="6331" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><p id="2d4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">['halil']<br/>['yıldırım']</code></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="041d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">问题:复制</h1><p id="1a34" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">让我们用Python创建一个字典。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="4907" class="ne md it na b gy nf ng l nh ni">a = {'a': 5, 'b': 4, 'c': 8}</span></pre><p id="5693" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将<code class="fe nj nk nl na b">b</code>设置为<code class="fe nj nk nl na b">a</code>:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="b4b2" class="ne md it na b gy nf ng l nh ni">a = {'a': 5, 'b': 4, 'c': 8}<br/>b = a</span></pre><p id="fc3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用键<code class="fe nj nk nl na b">a</code>删除第一个元素。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="052c" class="ne md it na b gy nf ng l nh ni">del b['a']</span></pre><p id="000b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们写a，b，看看是怎么回事。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="db6b" class="ne md it na b gy nf ng l nh ni">a = {'a': 5, 'b': 4, 'c': 8}<br/>b = a<br/>del b['a']<br/>print(b)<br/>print(a)</span></pre><p id="1d33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><p id="c7d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">{'b': 4, 'c': 8}<br/>{'b': 4, 'c': 8}</code></p><p id="f0ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是怎么回事？我们只是想删除b的第一个元素，而不是a …</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3e6a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">解决方案:复制</h1><p id="657e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">你说b = a，基本就是说<code class="fe nj nk nl na b">b</code>和<code class="fe nj nk nl na b">a</code>指向同一个对象。如果两者都指向同一个对象，那么用<code class="fe nj nk nl na b">b</code>或者<code class="fe nj nk nl na b">a</code>做一些操作都没关系。两者都会影响这个<code class="fe nj nk nl na b">{'a': 5, 'b': 4, 'c': 8}</code>对象。</p><p id="4c81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个解决方案:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="6a96" class="ne md it na b gy nf ng l nh ni">import copy<br/>a = {'a': 5, 'b': 4, 'c': 8}<br/>b = copy.copy(a)<br/>del b['a']<br/>print(b)<br/>print(a)</span></pre><p id="0b24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><p id="8e4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">{'b': 4, 'c': 8}<br/>{'a': 5, 'b': 4, 'c': 8}</code></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a325" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">问题和解决方案:命名您的文件</h1><p id="caf7" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">不要用你要使用的库来命名你的python文件。</p><p id="8fa0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果你把你的文件命名为<code class="fe nj nk nl na b">random.py</code> <strong class="lb iu">，</strong>你的程序会对你要做的事情感到困惑。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="3c7d" class="ne md it na b gy nf ng l nh ni">import random<br/><br/>print(random.random())</span></pre><p id="51d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出:</p><p id="2ade" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nj nk nl na b">File "C:\Users\HalilibrahimYıldırım\Desktop\medium\Python\random.py", line 3, in &lt;module&gt;<br/> print(random.random())<br/>TypeError: 'module' object is not callable</code></p><p id="f61b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也订阅我的youtube频道，很快就会有惊人的视频<a class="ae ky" href="https://www.youtube.com/channel/UC3G_BHW2Sn8EN5ivWE6XcYQ/featured" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/channel/UC3G_BHW2Sn8EN5ivWE6XcYQ</a></p><p id="6065" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查我的<a class="ae ky" href="https://github.com/halilibrahim95/python-works" rel="noopener ugc nofollow" target="_blank"> GitHub呼吸系统</a>并启动它。你可以找到有用的python代码，我会尽可能多地更新这些代码。</p></div></div>    
</body>
</html>