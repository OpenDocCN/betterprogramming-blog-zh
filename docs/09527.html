<html>
<head>
<title>How To Perform PDF Manipulation and Creation Using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用JavaScript执行PDF操作和创建</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-perform-pdf-manipulation-and-creation-using-javascript-559ed70478c4?source=collection_archive---------4-----------------------#2021-09-06">https://betterprogramming.pub/how-to-perform-pdf-manipulation-and-creation-using-javascript-559ed70478c4?source=collection_archive---------4-----------------------#2021-09-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="650d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在Node.js中使用PDF-Lib的强大功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f09ee2c56f9f7df337f9e427de7e5962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9xlREaleddeTq1mn"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://unsplash.com/@perfecto_capucine" rel="noopener ugc nofollow" target="_blank">完美卡普西尼</a>关于<a class="ae ky" href="http://unsplash.com" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><h1 id="948d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><h2 id="db40" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">什么是PDF-Lib，为什么使用它？</h2><p id="da1a" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">假设你拥有一家成功的网上企业。在这种情况下，您需要生成发票并通过电子邮件发送给客户。要为每个买方创建收据，您必须执行以下操作:</p><ul class=""><li id="d025" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">打开你的文字处理器，粘贴用户的个人信息。</li><li id="b73b" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">将用户的购买记录在表格中，并计算总数。</li><li id="3c97" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">接下来，下载这个文件并将其转换为PDF格式。</li><li id="9756" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">最后，通过电子邮件将该文档发送给用户。</li></ul><p id="f945" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">当然，那可能有用。但是考虑一下:如果你在一天之内有数百名顾客，那该怎么办？这将浪费大量的时间和精力，因为你在一遍又一遍地重复同样的过程。那么，我们如何缓解这个问题呢？</p><p id="4661" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">解决这个问题的最好方法是通过使用一个库来自动化这个操作。这就是<a class="ae ky" href="https://pdf-lib.js.org/" rel="noopener ugc nofollow" target="_blank"> PDF-Lib </a>的用武之地。它是一个开源、易用的库，允许开发人员使用Node.js环境生成PDF文档。</p><p id="2e80" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">既然已经谈了它的成果，那就开始吧！</p><h1 id="046c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">入门指南</h1><p id="eda4" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">首先，使用以下终端命令初始化Node.js存储库:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="5a7f" class="lr la it nt b gy nx ny l nz oa">npm init -y </span></pre><h2 id="4743" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">模块安装</h2><p id="e815" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">对于这个项目，我们将使用以下软件包:</p><ul class=""><li id="3063" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated"><code class="fe ob oc od nt b">pdf-lib</code>:帮助更新和创建PDF文档。</li><li id="226d" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated"><code class="fe ob oc od nt b">node-fetch</code>:这种依赖将让我们从远程资源获取PDF文件。</li><li id="a385" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated"><code class="fe ob oc od nt b">@pdf-lib/fontkit</code>:<code class="fe ob oc od nt b">@pdf-lib/fontkit</code>库将允许我们在文档中加入自定义字体。</li></ul><p id="368a" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">要安装这些依赖项，请运行以下终端命令:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="c2e8" class="lr la it nt b gy nx ny l nz oa">npm install pdf-lib node-fetch @pdf-lib/fontkit</span></pre><h1 id="0260" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">基本用法</h1><h2 id="f943" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">创建一个空白文档</h2><p id="33c6" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">以下代码片段使用PDF-Lib模块实例化一个新文档:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="7ea1" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第5行和第6行:实例化一个PDF文件，并在其中添加一个空白页。</li><li id="deba" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第7行:保存这个文档，并将它的内容存储在<code class="fe ob oc od nt b">pdfFile</code>变量中。</li><li id="579a" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第8–11行:将<code class="fe ob oc od nt b">pdfFile</code>的值存储到<code class="fe ob oc od nt b">example.pdf</code>中。这将告诉我们的程序把我们新创建的文件保存到磁盘上。</li></ul><p id="4fae" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">当程序运行时，它将在您的项目目录中创建一个名为<code class="fe ob oc od nt b">example.pdf</code>的文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/42fa51de7bc88bf59b11372b3a65a590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*z3B8NlOvzVjqZGBoDaczqw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">文件系统中的Example.pdf文件</p></figure><p id="593c" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">这将是<code class="fe ob oc od nt b">example.pdf</code>文件的内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/358f266fc5036f2b3372ca2097e48542.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*ZIwb8uFHEEGnhZvrZ_gjEg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">文件内容</p></figure><p id="2d50" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">如您所见，我们得到了一个空白页面作为输出。这意味着我们的代码成功了！</p><h2 id="aa25" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">显示文本</h2><p id="4baa" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">文本对于数据可视化非常重要。要呈现一段文本，使用<code class="fe ob oc od nt b">drawText</code>方法，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="1e62" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第4行:使用<code class="fe ob oc od nt b">drawText</code>方法。第一个参数是我们想要显示的消息。</li><li id="67c9" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第5–6行:指定文本元素的坐标。</li><li id="05e7" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第6行:这个图形的<code class="fe ob oc od nt b">y</code>坐标是从当前页面顶部开始的<code class="fe ob oc od nt b">50</code>个单位。</li></ul><p id="a580" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">这将是代码的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/c4aabfa5405c1d6424b863bf55ddd71f.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*ISv6eTKh5dpFC6T2N7_Dsw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="9132" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">那真的很简单！</p><p id="a931" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">如果你想放大或缩小你的内容，自定义<code class="fe ob oc od nt b">size</code>属性:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="b7ba" class="lr la it nt b gy nx ny l nz oa">newPage.drawText("Hello, World", {<br/>  x: 50,<br/>  y: newPage.getSize().height - 70,<br/>  size: 80, //change the size to 80 units<br/>});</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/c8247615561123c7199ebc7f11379091.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*HR3-Wj0212sxaoQ-RzdTzw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="bc27" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">字体定制</h2><p id="a17d" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">PDF-Lib甚至允许用户改变图形的字体系列。一些内置字体出现在<code class="fe ob oc od nt b"><a class="ae ky" href="https://pdf-lib.js.org/docs/api/enums/standardfonts" rel="noopener ugc nofollow" target="_blank">StandardFonts</a></code>枚举中。</p><p id="c997" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">例如，我们将使用<code class="fe ob oc od nt b">Courier</code>字体系列:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="beb1" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第4行:在使用字体之前，我们需要先嵌入它。这将允许我们在我们的项目中使用这种字体。</li><li id="1f01" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第10行:最后，将该文本的<code class="fe ob oc od nt b">font</code>属性改为<code class="fe ob oc od nt b">courier</code>。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/7f1f9b2c6fecf8e121d4153006f08b8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*oetho6YLIB90IaVlEcN6YA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="3393" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">如果你愿意，你甚至可以使用你自己定制的字体。为此，首先保存要使用的字体。例如，我们将使用<a class="ae ky" href="https://www.1001freefonts.com/ocean-summer.font" rel="noopener ugc nofollow" target="_blank">海洋夏日字体</a>。</p><p id="5b6e" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">下载字体后，将它的归档文件解压缩到项目文件夹中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/6605580988c9c0bc78b4cf9f6e6d2561.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*6dORDfZEVj5Mpaj-I_I9pA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“海洋-夏天”文件夹。这将是我们的字体</p></figure><p id="08b7" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">完成后，编写以下代码块，将自定义字体集成到文档中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="4775" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第7行:<code class="fe ob oc od nt b">regiserFontKit</code>方法告诉<code class="fe ob oc od nt b">PDF-Lib</code>想要在我们的文档中嵌入自定义字体。</li><li id="dfc0" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第9行:最后，将我们选择的字体集成到文件中。</li></ul><p id="68c4" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">这将是代码的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/aeead1fbc679cbd491bf0f87a9683483.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*zCUC8Ux44ZkDG1ZtMafCWg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="53f0" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">要改变文本的颜色，使用<code class="fe ob oc od nt b">rgb</code>属性，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="1ae7" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第6行:使用RGB值修改内容颜色。<code class="fe ob oc od nt b">rgb</code>功能的每个参数将在<code class="fe ob oc od nt b">0</code>和<code class="fe ob oc od nt b">1</code>之间。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/a79bcde6d0e1c48ff80a75a879ab2af6.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*_z8kZ0T7whGXKx9DjN0PCQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="6e5a" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">我们的文本现在看起来确实好多了！</p></div><div class="ab cl on oo hx op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="im in io ip iq"><h1 id="0c4f" class="kz la it bd lb lc ou le lf lg ov li lj jz ow ka ll kc ox kd ln kf oy kg lp lq bi translated">高级用法</h1><p id="c0f3" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">在这一节中，我们将关注从远程资源获取文件并通过PDF-Lib库编辑它们。出于演示目的，我们将使用来自非洲大学的这个<a class="ae ky" href="http://www.africau.edu/images/default/sample.pdf" rel="noopener ugc nofollow" target="_blank"> PDF文件</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/2bfadf0ce0365bea652c75840605e0aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/1*LDuD95Ded-n8RuwzEQagvg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们的入门PDF文件</p></figure><h2 id="f13a" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">创建我们的效用函数</h2><p id="0508" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">在开始之前，我们需要首先创建一个助手函数来从服务器获取我们想要的PDF。这将鼓励代码的组织和可读性。</p><p id="99d1" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">在您的项目目录中，创建一个名为<code class="fe ob oc od nt b">fetchUtils.js</code>的新文件。在这里，编写以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="6ade" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第4行:获取当前资源并保存它的响应。</li><li id="1e8f" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第5行和第6行:从响应中提取原始的二进制数据，并将其返回给客户机。</li></ul><p id="be2d" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">完成后，就该测试这个功能了。为此，请在主文件中键入以下代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="6e3f" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第4–6行:从我们选择的PDF中获取缓冲值。</li><li id="2e91" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第7行:将这个二进制数据传递给<code class="fe ob oc od nt b">load</code>函数。因此，PDF-Lib将创建该文件的本地副本。</li><li id="85bf" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第9–11行:在空白页上呈现一段文本。</li><li id="001c" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第14–19行:最后，将这个编辑过的文档保存到系统中。</li></ul><p id="a807" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/d3385ad7d5359e497ebe49ec1bbf87fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/1*Gj0X6G_NMjvey_xNofF_Nw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="dec1" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">绘制形状</h2><p id="9c68" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">您甚至可以在文档中呈现形状。如果您想显示SVG图，这是很方便的。在本指南中，我们将渲染两种常见的形状:正方形和圆形。</p><p id="4591" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">绘制正方形时，使用<code class="fe ob oc od nt b">drawSquare</code>功能，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="cd41" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第6行:改变这个图形的颜色。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/11a264363c4af02a281568d52f781824.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/1*9fzLYNA8I-Vq_nj4HrqKIQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="b59b" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">如果你想画一个圆，使用<code class="fe ob oc od nt b">drawCircle</code>方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/f84d4ef56c38eb81685d39fe066646f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/1*BiCeAYkb9ipsqY44zwugOQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="de2a" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">显示图像</h2><p id="67b2" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">图像对于显示文档中的插图或图表至关重要。</p><p id="287a" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">下面的代码片段将一个不清晰的图像嵌入到我们的PDF文件中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="9520" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第1行:获取图像的原始二进制数据。</li><li id="0b03" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第4行:使用<code class="fe ob oc od nt b">embedJpg</code>方法将图片合并到文档中。如果要使用PNG文件，请使用<code class="fe ob oc od nt b">embedPng</code>方法。</li><li id="7bf7" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第5行:<code class="fe ob oc od nt b">getPages</code>方法返回文件中的页面数组。这里，我们只检索第一页。</li><li id="d769" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第9–10行:指定图像的尺寸并将其绘制到页面上。</li></ul><p id="7b45" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/c2970a44503e22b09fc29e478b1debab.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*d_-Il5n5pxa2Zp77u6avkA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="fdb2" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">删除页面</h2><p id="d060" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">要删除页面，请使用<code class="fe ob oc od nt b">removePage</code>方法。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="84e0" class="lr la it nt b gy nx ny l nz oa">pdfDoc.removePage(0);</span></pre><p id="0cc2" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated"><code class="fe ob oc od nt b">removePage</code>方法告诉PDF-Lib删除特定索引处的页面。在这种情况下，我们剪下第一页。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/e553d9429af2272e628b4e19adaa3215.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*8YLrw90HLS9K7sXnDSePyQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="efe6" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">合并文档</h2><p id="7b3a" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">假设您有两个文档，并希望将它们连接在一起。使用<code class="fe ob oc od nt b">copyPages</code>方法可以做到这一点。</p><p id="5b18" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">为了演示合并功能，我们将使用W3 的这个<a class="ae ky" href="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf" rel="noopener ugc nofollow" target="_blank">文档。</a></p><p id="6b95" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">作为第一步，我们将首先获取所需的PDF文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="eaed" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第3–10行:从两个PDF文件中检索二进制数据，并将它们加载到项目中。</li></ul><p id="e470" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">现在我们已经获得了数据，调用<code class="fe ob oc od nt b">copyPages</code>方法来合并它们:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="3fce" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第1–5行:复制这个文档中的所有页面，并将它们存储到<code class="fe ob oc od nt b">mainDocument</code>实例中。<br/><code class="fe ob oc od nt b">copyPages</code>函数接受两个参数:源文件和源文件页面的索引。这里，我们使用了<code class="fe ob oc od nt b">getPageIndices</code>方法。这将选择该文件的所有页面。</li></ul><p id="114a" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">这将是输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/411746299b83cb4999e92207d64bf885.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/1*0d6esin2trbTukkfCe1LLg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h2 id="75f7" class="lr la it bd lb ls lt dn lf lu lv dp lj lw lx ly ll lz ma mb ln mc md me lp mf bi translated">建筑形式</h2><p id="2c1a" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">如果您想从用户那里收集数据，表单是至关重要的。幸运的是，PDF-Lib捆绑了一个<code class="fe ob oc od nt b">getForm</code>方法，允许开发人员为他们的文档构建表单。</p><p id="77c1" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">让我们从创建几个文本字段元素开始:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="92f1" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第3行:<code class="fe ob oc od nt b">getForm</code>函数告诉Node.js我们想要在这个文档中嵌入一个表单。</li><li id="964b" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第4–7行:创建两个文本框并指定它们的默认值。</li><li id="04a2" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第8–17行:最后，将这些文本字段呈现到页面上。</li></ul><p id="f917" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">这将是结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/c4cc516ffb709a3dbdbc7e8808d204b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nQmkPt28L3eQ4jFgS2pJZA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><p id="7bf5" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">要添加单选按钮组，请使用<code class="fe ob oc od nt b">createRadioGroup</code>方法，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><ul class=""><li id="4c2a" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated">第6行:为表单创建一个单选按钮组。</li><li id="4c49" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第7–14行:将<code class="fe ob oc od nt b">Yes</code>和<code class="fe ob oc od nt b">No</code>选项添加到我们的单选按钮组。</li><li id="cd53" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated">第15行:单选表单的初始值将是<code class="fe ob oc od nt b">Yes</code>。</li></ul><p id="b094" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/3c26c5a3e9886e030ef7fbdba7dd58e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fo-W-ugik8YrEXmOJzchwA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码的输出</p></figure><h1 id="8d0a" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">更多资源</h1><p id="609a" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated"><a class="ae ky" href="https://github.com/HussainArif12/pdf-lib-tutorial" rel="noopener ugc nofollow" target="_blank">这里是GitHub </a>上代码示例的源代码。</p><ul class=""><li id="c63a" class="mz na it mi b mj nb mm nc lw nd lz ne mc nf my ng nh ni nj bi translated"><a class="ae ky" href="https://thecodebarbarian.com/working-with-pdfs-in-node-js.html" rel="noopener ugc nofollow" target="_blank">代码野蛮人使用pdf-lib在Node.js中处理pdf</a></li><li id="81c2" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated"><a class="ae ky" href="https://medium.com/swlh/create-pdf-using-pdf-lib-on-serverless-aws-lambda-e9506246dc88" rel="noopener">在无服务器AWS上使用Pdf-lib创建PDF</a>作者<a class="pe pf ep" href="https://medium.com/u/e0eaafa4ee6e?source=post_page-----559ed70478c4--------------------------------" rel="noopener" target="_blank"> Crespo Wang </a></li><li id="332f" class="mz na it mi b mj nk mm nl lw nm lz nn mc no my ng nh ni nj bi translated"><a class="ae ky" href="https://medium.com/nerd-for-tech/dynamically-create-and-merge-pdfs-in-angular-using-jspdf-and-pdf-lib-aa82ae35f1e3" rel="noopener">由<a class="pe pf ep" href="https://medium.com/u/203133790ed1?source=post_page-----559ed70478c4--------------------------------" rel="noopener" target="_blank">哈迪克·帕里克</a>使用jspdf和pdf-lib </a>动态创建Pdf</li></ul><h1 id="cd8d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="18f4" class="pw-post-body-paragraph mg mh it mi b mj mk ju ml mm mn jx mo lw mp mq mr lz ms mt mu mc mv mw mx my im bi translated">在本文中，我们探索了PDF-Lib模块的基础。它的文档很简洁，这使得它非常容易使用。除此之外，它非常稳定，这意味着您的应用程序在生产中运行时没有任何问题。</p><p id="d2c6" class="pw-post-body-paragraph mg mh it mi b mj nb ju ml mm nc jx mo lw np mq mr lz nq mt mu mc nr mw mx my im bi translated">非常感谢您的阅读！编码快乐！</p></div></div>    
</body>
</html>