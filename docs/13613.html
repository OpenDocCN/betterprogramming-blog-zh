<html>
<head>
<title>Creating PDF Files With Kotlin and OpenPDF</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Kotlin和OpenPDF创建PDF文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-pdf-files-with-kotlin-and-openpdf-af0e0700e2b7?source=collection_archive---------8-----------------------#2022-09-12">https://betterprogramming.pub/creating-pdf-files-with-kotlin-and-openpdf-af0e0700e2b7?source=collection_archive---------8-----------------------#2022-09-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="79e1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">OpenPDF指南，这是用Kotlin创建PDF文档的一个免费的开源替代方案</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8d4ff6bdfa8ed2956dbe7887dd8aad19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Du1RD_blEqGWCUEZA7GsA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="ac30" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">环境</h1><p id="1926" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">本分步指南是根据以下要求编写的:</p><ul class=""><li id="5d81" class="mm mn it ls b lt mo lw mp lz mq md mr mh ms ml mt mu mv mw bi translated">操作系统:MacOS Catalina 10.15.7</li><li id="f9d8" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">Maven:版本:3.3.9</li><li id="f7fe" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">Java版本:OpenJDK 11.0.10，供应商:AdoptOpenJDK</li><li id="0861" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">Visual Studio代码:版本:1.69.2</li><li id="2994" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">科特林:1.7.10</li><li id="3fd3" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">OpenPDF:版本1.3.29</li></ul><h1 id="6311" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">目标</h1><p id="8311" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">本教程旨在提供一个快速的实践参考，在<a class="ae nc" href="https://github.com/LibrePDF/OpenPDF" rel="noopener ugc nofollow" target="_blank"> OpenPDF </a>的帮助下使用Kotlin语言创建和编辑PDF文件。</p><blockquote class="nd ne nf"><p id="4e4e" class="lq lr ng ls b lt mo ju lv lw mp jx ly nh ni mb mc nj nk mf mg nl nm mj mk ml im bi translated">根据该项目的GitHub官方页面介绍，<a class="ae nc" href="https://github.com/LibrePDF/OpenPDF" rel="noopener ugc nofollow" target="_blank"> OpenPDF </a>是一个免费的Java库，用于创建和编辑PDF文件，拥有LGPL和MPL开源许可证。</p></blockquote><p id="b185" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">好的，那很好，但是如果你曾经搜索过关于PDF和Java或者任何其他基于JVM的语言，我肯定你找到的第一个选项是<a class="ae nc" href="https://itextpdf.com/en" rel="noopener ugc nofollow" target="_blank"> iText </a>。那么为什么我们不应该用iText，而应该用OpenPDF呢？</p><h1 id="a0be" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">OpenPDF与iText</h1><p id="9ea5" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">让我们从一开始就弄清楚… <a class="ae nc" href="https://itextpdf.com/en" rel="noopener ugc nofollow" target="_blank"> iText </a>是在Java或任何其他JVM中寻找PDF生成库的最佳选择之一，这不在讨论范围之内。然而，它有一个巨大的障碍… iText是使用<a class="ae nc" href="https://www.gnu.org/licenses/agpl-3.0.en.html" rel="noopener ugc nofollow" target="_blank"> AGPL </a>许可开源的，这意味着一旦在您的应用程序中使用，您需要在相同的AGPL许可下完全免费共享您的应用程序。对于您可能正在从事的大多数项目来说，这不是一个有效的方法…所以这里是OpenPDF的救星:)</p><p id="7fb7" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">值得一提的是<a class="ae nc" href="https://github.com/LibrePDF/OpenPDF" rel="noopener ugc nofollow" target="_blank"> OpenPDF </a>是从iText分叉出来的……等等，是不是说我们有同样的AGPL限制？不尽然…因为OpenPDF是基于iText第4版的，并且由于商业模式的变化，当项目被转移到AGPL许可时，它是与iText 5.0一起使用的。因此，在使用OpenPDF时，您只需遵守LGPL和MPL许可证，这两个许可证比AGPL的更广泛、更灵活。</p><h1 id="2d7d" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">创建项目和管理依赖项</h1><p id="8dca" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">让我们首先创建一个基于Maven的Kotlin项目。您可以使用IntelliJ IDEA或maven原型来实现它。如果你有疑问或者想知道如何通过三个简单的步骤轻松地建立项目，请看看这里的<a class="ae nc" href="https://migueldoctor.medium.com/getting-started-with-kotlin-and-maven-9482a65158a1" rel="noopener"/>。</p><p id="767e" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">一旦创建了项目，我们需要将OpenPDF maven依赖项添加到我们的<code class="fe nn no np nq b"> pom.xml</code>中。</p><pre class="kj kk kl km gt nr nq ns nt aw nu bi"><span id="c011" class="nv kz it nq b gy nw nx l ny nz">&lt;dependency&gt;<br/>  &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;<br/>  &lt;artifactId&gt;openpdf&lt;/artifactId&gt;<br/>  &lt;version&gt;1.3.29&lt;/version&gt;<br/>&lt;/dependency&gt;</span></pre><p id="57e7" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">所以你的<code class="fe nn no np nq b">pom.xml</code>应该是下图这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3f85b194e0ac4c8cdfd1c1063b12ffa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NdcyRDpGPsN1iRR5WM0v2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有openPDF依赖项的pom.xml文件(图片由作者提供)</p></figure><h1 id="b81b" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">生成包含简单文本的基本PDF</h1><p id="0c85" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">一旦项目被正确设置，我们可以开始编码我们的样本。让我们创建一个名为<code class="fe nn no np nq b">sample1.pdf</code>的简单PDF。输出文件将只包含一段话，“这是用open PDF创建的简单PDF。”</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">科特林计划1</p></figure><p id="c2d3" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">我们来解释一下上面的代码。我们需要从以下类创建两个对象:</p><ul class=""><li id="e6d3" class="mm mn it ls b lt mo lw mp lz mq md mr mh ms ml mt mu mv mw bi translated"><code class="fe nn no np nq b">java.io.FileOutputStream</code>:这个类允许向一个文件发送字节流(文件的名字作为一个参数在构造函数中传递)</li><li id="fbb9" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated"><code class="fe nn no np nq b">com.lowagie.text.Document</code>:来自这个类的对象将代表生成的PDF文件，所以这个对象将被用于向文件添加内容。</li></ul><p id="6af1" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">实例化这两个对象后，我们得到一个PDFWriter实例，它将处理这两个对象一起工作(即，PDFWriter监听文档并将PDF流定向到一个文件)。</p><p id="cfdc" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">最后，如代码所示，打开文件，添加内容(本例中是一个简单的段落)，关闭文件，然后关闭PDFWriter。这很简单，对吗？编译并运行此代码后，项目文件夹中会生成一个PDF文件，内容如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/1bae8a6a69009142063e0b67e208d1e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKTyZyD-F7WPKOcxhqyNbA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kotlin示例1生成的PDF文件(图片由作者提供)</p></figure><h1 id="19c9" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">向我们的PDF添加元数据</h1><p id="c725" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们的第一个文档非常简单，OpenPDF允许我们创建更丰富的内容。但是，在深入研究更复杂的内容元素之前，有必要解释一下openPDF如何定义生成文件的元数据信息。</p><blockquote class="nd ne nf"><p id="3d07" class="lq lr ng ls b lt mo ju lv lw mp jx ly nh ni mb mc nj nk mf mg nl nm mj mk ml im bi translated">PDF文件中的元数据是用于描述PDF文件的信息。这些“数据”并不是参考文件主要内容的一部分。该信息通常存储在文件类型的代码中，并且可以通过不同的工具来查阅，例如操作系统的文件属性视图。</p></blockquote><p id="1047" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">例如，作者、创建日期、修改日期和文件大小是基本的文档文件元数据示例。</p><p id="fa94" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">为了说明openPDF是如何在PDF文件上指定元数据的，让我们看一下上一节中生成的文件。转到文件所在的文件夹，并访问其属性，如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/72378969c7a671faaaf5c51d5b76d135.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*kJ3nkM_SfAYT3VlNGF7RQQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">访问没有自定义元数据的PDF的文件属性视图(按作者分类的图像)</p></figure><p id="af14" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">如图所示，文件元数据分区域显示(常规、更多信息、注释等。).现在我们将修改我们的程序，向我们创建的PDF文件添加元数据信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">科特林样品2</p></figure><p id="ce51" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated"><code class="fe nn no np nq b">Document</code>类提供了一组方法，如<code class="fe nn no np nq b">addTitle</code>、<code class="fe nn no np nq b">addSubject</code>、<code class="fe nn no np nq b">addAuthor</code> …等等。它允许开发者定制创建的PDF的元数据。编译并运行新代码后，生成的PDF将显示相同的内容。但是，如果我们访问该文件的属性，我们将在“更多信息”部分看到如下所示的差异:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/bda9f6a70099ff2995d452294fbaaf47.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*cfIX8FBpe0_-H0xLEubx1Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">包括自定义元数据的文件属性(按作者分类的图像)</p></figure><p id="3e4b" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">既然我们已经演示了如何向我们的文档添加元数据，让我们继续编辑PDF的内容。</p><h1 id="fd23" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">文本格式</h1><p id="379e" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">字体系列、大小、颜色……让我们的文档在视觉上吸引读者或让读者感到愉悦，有无限的可能性。OpenPDF提供了方便的类和方法来操作这些和其他特征。让我们看看下面的例子:PDF中包含了一个标题和几个段落。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">科特林样品3</p></figure><p id="8972" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">在这个例子中有三个重要的特征需要提及:</p><ul class=""><li id="d064" class="mm mn it ls b lt mo lw mp lz mq md mr mh ms ml mt mu mv mw bi translated"><code class="fe nn no np nq b">com.lowagie.text.Font</code>:实例化这个类的一个对象允许我们定义应用于一个段落的字体类型。如第53行所示，这个类的构造函数在构建对象时接受所有这些参数。之后，对象被传递给段落构造函数，如第55行所示。</li><li id="ac20" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated"><code class="fe nn no np nq b">com.lowagie.text.Paragraph</code> : Paragraph类提供了方法<code class="fe nn no np nq b"><em class="ng">setAlignment()</em></code>，该方法从class元素接收常量，以自定义文本显示的位置。</li><li id="a0a5" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated"><code class="fe nn no np nq b">com.lowagie.text.Chunk</code>:<code class="fe nn no np nq b">Chunk</code>类包含字段<code class="fe nn no np nq b"><em class="ng">NEWLINE</em></code> <em class="ng"> </em>，该字段可以作为参数传递给段落构造函数以添加空行，如第63行所示。</li></ul><p id="59a6" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">执行上述代码时生成的输出文件如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/cb3faa71242752f23834c5039da73bba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SAT-07Z7lVnuq9AJyUoKHQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kotlin示例3生成的PDF文件(图片由作者提供)</p></figure><h1 id="3c4e" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">文档布局</h1><p id="0cf8" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">OpenPDF提供了自定义与文档布局相关的一般功能的类和方法。作为这些特性的一部分，开发人员可以通过向<code class="fe nn no np nq b">Document</code>类的构造函数传递参数来定义文档的大小和边距(参见下面的代码，即编号为1的片段)。</p><p id="6f70" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">除了尺寸和页边距，文档通常有两个特殊的部分:页眉和页脚。为了说明如何用Kotlin和OpenPDF创建这些部分，下面的示例在用2和3注释的部分上定义了两个不可变变量(页脚和页眉)。这些变量是来自类<code class="fe nn no np nq b">com.lowagie.text.Rectangle</code>的实例，它们将是它们各自部分的内容。</p><p id="745f" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">最后，第4节展示了如何使用我们前面解释过的<code class="fe nn no np nq b">PdfWriter</code>对象将这些部分包含在文档中。这个<code class="fe nn no np nq b">PdfWriter</code>对象注册了一个<code class="fe nn no np nq b">pdfPageEventHelper</code>，负责通过覆盖方法<code class="fe nn no np nq b">onEndPage</code>来添加这两个部分。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">科特林样品4</p></figure><p id="7138" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">运行示例4时生成的PDF文件如下所示。我们可以检查页眉和页脚是否显示为矩形。此外，文档中的页边距现在也可见了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/db03ed96e2113983a362bf1d6c8a5008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*giQ9sZM9hy8oy2q97oUJKA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kotlin示例4生成的PDF文件(图片由作者提供)</p></figure><h1 id="97d5" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">添加表格</h1><p id="9f95" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在开发报告或产品目录等PDF文档时，使用表格来显示数据是一种常见的做法。用Kotlin可以很容易地创建这些表，如下面的代码所示。在这个示例中，我们向示例中添加了一个表。该表显示了两个用户的姓名和年龄。</p><p id="6800" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">创建一个空表就像从类<code class="fe nn no np nq b">com.lowagie.text.Table</code>中实例化一个对象一样简单(参见标注为1的注释部分)。这个类的构造函数接收表格的列数(本例中为3)，通过使用scope函数<code class="fe nn no np nq b">apply</code>，我们可以配置宽度、间距和填充参数。</p><p id="530c" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">在第2节中，我们使用字符串创建了一个标签列表，并实例化了来自<code class="fe nn no np nq b">Phrase</code>类的对象，该对象用作<code class="fe nn no np nq b">Cell</code>类构造函数的参数。这些单元格对象使用<code class="fe nn no np nq b">setHeader </code>方法设置为标题，并通过<code class="fe nn no np nq b">addCell</code>方法添加到表格中。</p><p id="0c47" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">表格的内容在标有数字3的注释部分中定义。在那里，我们创建并添加了表中显示的两行。我们使用相同的方法和类(<code class="fe nn no np nq b">addCell</code>、<code class="fe nn no np nq b">Cell</code>、<code class="fe nn no np nq b">Phrase</code>)，但是没有从内容单元格调用<code class="fe nn no np nq b">setHeader</code>方法。</p><p id="e045" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">最后，在注释4中，我们将表变量添加到文档中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">科特林样品5</p></figure><p id="29ed" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">添加表格后生成的文档如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/e9d9f9e8705dcc224a216b583bbbd76d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s_vR2BbEuHPK9jppzG-btg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kotlin示例5生成的PDF文件(图片由作者提供)</p></figure><h1 id="1bb2" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">添加图像</h1><p id="7019" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们将在示例中包含的最后一个元素是图像。向我们的PDF文档添加图像非常简单。我们唯一需要注意的是图片格式，因为有些格式类型需要额外的配置才能正确显示。</p><p id="0db2" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">对于我们的示例，我们刚刚在网上拍摄了一张图片(<a class="ae nc" href="https://kesizo.github.io/assets/images/kesizo-logo-6-832x834.png" rel="noopener ugc nofollow" target="_blank">https://kesizo . github . io/assets/images/kesizo-logo-6-832 x834 . png</a>)，这是我们小组png格式的徽标。要将这张图片添加到我们的文档中，我们需要使用OpenPDF提供的位于包<code class="fe nn no np nq b">com.lowagie.text</code>中的类<code class="fe nn no np nq b">Image</code>。</p><p id="afc9" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">这个类提供了方法<code class="fe nn no np nq b">getInstance()</code>,如第97行所示。这个方法重载了几种类型的参数(<code class="fe nn no np nq b">url</code>、<code class="fe nn no np nq b">file name</code>、<code class="fe nn no np nq b"> bytes array</code>等)。)来适应对象源并从<code class="fe nn no np nq b">Image</code>类返回一个对象。这个对象可以被重新缩放到不同的大小，一旦正确配置，它就像任何其他元素一样被添加到PDF文档中(见第120行)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">科特林样品6</p></figure><p id="024c" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">我们可以看到PDF显示了图像和我们为本教程创建的其他元素。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/4f8df83918426564d211eac993e54b1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*udbB2QymQji8sUfv7vT98A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kotlin示例6生成的PDF文件(图片由作者提供)</p></figure><h1 id="d067" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">结论</h1><p id="7fd8" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这篇文章介绍了用Kotlin和openPDF库生成PDF文档。我们从一个简单的纯文本文档开始，并添加了更多功能(元数据、图像、表格等)。).生成的PDF文件与源代码及其相应的解释一起显示。</p><p id="05f1" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">这篇文章旨在成为一个介绍性的教程。仍然有许多关于OpenPDF的功能和更高级的特性(如密码保护的文档、背景图像、网络浏览器渲染等)。).如果你想看文章的第二部分解释任何特定的主题，请留下评论。</p><p id="cce4" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz ni mb mc md nk mf mg mh nm mj mk ml im bi translated">如果您有任何意见或建议，或者如果您发现有什么不对的地方，我将非常感谢您的反馈。否则，我希望这篇教程帮助你开始使用Kotlin和OpenPDF。</p><h1 id="1272" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">参考</h1><ul class=""><li id="e926" class="mm mn it ls b lt lu lw lx lz oj md ok mh ol ml mt mu mv mw bi translated"><a class="ae nc" href="https://kotlinlang.org/docs/maven.html" rel="noopener ugc nofollow" target="_blank">https://kotlinlang.org/docs</a>/</li><li id="fcd9" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated"><a class="ae nc" href="https://maven.apache.org/" rel="noopener ugc nofollow" target="_blank">https://maven.apache.org/</a></li><li id="eb6f" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated"><a class="ae nc" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com/</a></li><li id="0001" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated"><a class="ae nc" href="https://github.com/LibrePDF/OpenPDF/" rel="noopener ugc nofollow" target="_blank">https://github.com/LibrePDF/OpenPDF/</a></li><li id="ae51" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated"><a class="ae nc" href="https://kesizo.github.io/" rel="noopener ugc nofollow" target="_blank">https://kesizo.github.io/</a></li></ul></div></div>    
</body>
</html>