<html>
<head>
<title>Build a Discord Bot With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python构建一个不和谐机器人</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/coding-a-discord-bot-with-python-64da9d6cade7?source=collection_archive---------0-----------------------#2020-07-29">https://betterprogramming.pub/coding-a-discord-bot-with-python-64da9d6cade7?source=collection_archive---------0-----------------------#2020-07-29</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="2427" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">给你的不和谐服务器增加一些特色</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/126a06668c21572ff831370438e9ab35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LTZdOC44Vd8C178qUj5UHg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者照片。</p></figure><p id="cf51" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">所以你使用Discord作为一个消息应用程序，你对自己说，“嘿，也许我应该让我自己成为一个机器人…”希望，这篇教程将让你走上使用Python构建自己的Discord机器人的正确道路。</p></div><div class="ab cl lv lw hy lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="in io ip iq ir"><h1 id="b72e" class="mc md iu bd me mf mg mh mi mj mk ml mm ka mn kb mo kd mp ke mq kg mr kh ms mt bi translated">目录</h1><ul class=""><li id="1765" class="mu mv iu lb b lc mw lf mx li my lm mz lq na lu nb nc nd ne bi translated">第一步:安装<code class="fe nf ng nh ni b">discord.py</code>。</li><li id="11e4" class="mu mv iu lb b lc nj lf nk li nl lm nm lq nn lu nb nc nd ne bi translated">步骤2:创建一个Discord应用程序和bot。</li><li id="d652" class="mu mv iu lb b lc nj lf nk li nl lm nm lq nn lu nb nc nd ne bi translated">第三步:创建一个不和谐公会(服务器)。</li><li id="d8fa" class="mu mv iu lb b lc nj lf nk li nl lm nm lq nn lu nb nc nd ne bi translated">步骤4:将机器人添加到服务器中。</li><li id="f60e" class="mu mv iu lb b lc nj lf nk li nl lm nm lq nn lu nb nc nd ne bi translated">第五步:编写机器人代码。</li></ul></div><div class="ab cl lv lw hy lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="in io ip iq ir"><h1 id="97a4" class="mc md iu bd me mf mg mh mi mj mk ml mm ka mn kb mo kd mp ke mq kg mr kh ms mt bi translated">1.安装discord.py</h1><p id="ab56" class="pw-post-body-paragraph kz la iu lb b lc mw jv le lf mx jy lh li no lk ll lm np lo lp lq nq ls lt lu in bi translated">有几个库可以攻击Discord的API，每个库都有自己的特点，但最终它们都实现了相同的目标。因为我们关注的是Python，<code class="fe nf ng nh ni b">discord.py</code>可能是Python最流行的包装器。</p><p id="075f" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">假设您已经安装了Python和<code class="fe nf ng nh ni b">pip</code>,您会想要运行这个命令:</p><pre class="kk kl km kn gu nr ni ns nt aw nu bi"><span id="59e6" class="nv md iu ni b gz nw nx l ny nz">pip install discord.py</span></pre><p id="29dc" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><code class="fe nf ng nh ni b">discord.py</code>有一些要求，如果您的计算机还没有这些要求，将自动安装这些要求。一旦运行了这个命令，您应该会看到类似这样的内容:</p><pre class="kk kl km kn gu nr ni ns nt aw nu bi"><span id="2a36" class="nv md iu ni b gz nw nx l ny nz">Installing collected packages: discord.py<br/>Successfully installed discord.py-[version-number]</span></pre><p id="3d57" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">成功！你现在可以访问Discord的API了。在我们开始编写一个不和谐机器人版本的“Hello World”之前，我们需要先设置一些其他的东西。</p></div><div class="ab cl lv lw hy lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="in io ip iq ir"><h1 id="dc11" class="mc md iu bd me mf mg mh mi mj mk ml mm ka mn kb mo kd mp ke mq kg mr kh ms mt bi translated">2.创建一个不和谐的应用程序和机器人</h1><p id="66d5" class="pw-post-body-paragraph kz la iu lb b lc mw jv le lf mx jy lh li no lk ll lm np lo lp lq nq ls lt lu in bi translated">在进入代码之前，我们需要创建一个“不和谐的应用程序”这本质上是一个拥有机器人的应用程序。不和谐可以接入<a class="ae oa" href="https://discordapp.com/developers/applications" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="de49" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果你没有不和谐账户，那么你需要创建一个。但是，如果你没有一个不和谐的帐户，我不明白为什么你会看这种类型的教程摆在首位。</p><p id="3cfa" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">页面看起来应该是这样的:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ob"><img src="../Images/90162f5f09b23992e9c18f8fd7c74bc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xqTTS2z7BdOnqTi9x7SKKw.png"/></div></div></figure><p id="8995" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">进入此页面后，您需要点击“新申请”按钮:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ob"><img src="../Images/014f4e92e2604c10a7f7333e218c06be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_lrx7BpIh6a--Pwr63IgYw.png"/></div></div></figure><p id="20a9" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">单击该按钮后，系统会提示您命名应用程序:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/89e2391cb104e26fbaad1656372c5be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*PaXGaldb6dJ4FKoavAmlXg.png"/></div></figure><p id="c691" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我将把我的命名为“SampleDiscordBot”，但是您可以随意命名。</p><p id="4d6e" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">所以一旦你创建了你的应用程序，你会看到一个如下所示的菜单:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/5c06f0f97c8eefb7f82c77a86e2fe64f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F3Ekk7eiKsYIOYbeas8DCg.png"/></div></div></figure><p id="0938" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这里有很多信息和设置，但是现在，我们只关心左边的“Bot”设置。让我们继续，点击它进入机器人页面:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oe"><img src="../Images/3648384983d8f69d66b1858eb853aedf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DmqXq5I39gVOzuvaPh-6ZQ.png"/></div></div></figure><p id="8d78" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">然后我们想点击“添加机器人”按钮。将弹出一个窗口，询问您是否要将一个机器人绑定到您的应用程序。你想打碎那个“是的，做吧！”按钮。</p><p id="d98a" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在已经创建了一个bot，并将其附加到应用程序中。我们将需要创建一个全新的Discord服务器——或者API喜欢称之为“公会”——这样我们就可以把机器人放进去乱搞。</p></div><div class="ab cl lv lw hy lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="in io ip iq ir"><h1 id="eeca" class="mc md iu bd me mf mg mh mi mj mk ml mm ka mn kb mo kd mp ke mq kg mr kh ms mt bi translated">3.创建一个不和谐公会(服务器)</h1><p id="b3c3" class="pw-post-body-paragraph kz la iu lb b lc mw jv le lf mx jy lh li no lk ll lm np lo lp lq nq ls lt lu in bi translated">现在我们已经启动并运行了我们的机器人，我们将需要创建一个新的服务器，以便我们有一个机器人的沙箱。你可以把它添加到一个现有的服务器上来扰乱人们。如果这是你想要的，那就请便。</p><p id="068f" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">创建一个不和谐服务器很简单。进入“不和谐”时，只需点击左侧的加号按钮:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj of"><img src="../Images/99e780c13bbd59bff59fd599c1958fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*pnbmAWx2XSH0f7CKvFnI-w.png"/></div></figure><p id="8f27" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">您将得到一个菜单提示来命名您的服务器。您可以将服务器命名为您想要的任何名称，但是我通常会以bot命名它，并将其视为一个开发环境。</p><p id="5a4b" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我们只需要将机器人添加到服务器上，然后我们就可以开始研究代码了。</p></div><div class="ab cl lv lw hy lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="in io ip iq ir"><h1 id="4454" class="mc md iu bd me mf mg mh mi mj mk ml mm ka mn kb mo kd mp ke mq kg mr kh ms mt bi translated">4.将机器人添加到服务器</h1><p id="d8fe" class="pw-post-body-paragraph kz la iu lb b lc mw jv le lf mx jy lh li no lk ll lm np lo lp lq nq ls lt lu in bi translated">为了让我们玩这个机器人，我们需要把它添加到一个服务器上。这也是一个非常简单的步骤。我们需要转到Discord应用程序中的“OAuth2”部分:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/bb275078be6807918d50f75495f958bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E0KcUMLwv-JrMt2Rx3T-Vw.png"/></div></div></figure><p id="124f" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在我们进入OAuth2部分后，我们看到一个带有一堆复选框的屏幕。我们要确保我们点击了标有“机器人”的框</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj og"><img src="../Images/9c136d6e6c374770cbc5623943a15a41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lUir1LvnEauYiHlBZ4vrgA.png"/></div></div></figure><p id="c654" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在我们选中该复选框后，一个URL应该会出现在它的正下方:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ca"><img src="../Images/ab2b16ab014e9984e8aec7d6f49bea40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Qmwg4UISi6FbqBKJ2q2Nw.png"/></div></div></figure><p id="7985" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">复制URL并粘贴到您的浏览器中。此链接允许您的bot加入您的用户有权使用OAuth2加入的任何服务器。如果你以前在服务器中添加过机器人，这一步应该会很熟悉。如果你还没有，当你点击这个网址时，你会得到一个类似这样的菜单提示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/25196215b3c886cea0c0fbdc2e079fa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*J_UNbKOjDRSj8NUtZ4W6ag.png"/></div></figure><p id="a9ff" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">继续从下拉列表中选择您创建的服务器，然后单击“授权”这将把机器人放到你的服务器上！一条消息将出现在您的服务器上，表明机器人已经加入:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oi"><img src="../Images/0ab64101ac5bc7863198319e1630d397.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*VaPoTauGcx1CUTJ3T30Pqw.png"/></div></figure><p id="f7f9" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">你还会在Discord界面右侧的用户列表中看到你的机器人:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oj"><img src="../Images/aab8b16ca604cc72b5136ca9e787f47f.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/format:webp/1*VFke1AIMsWBHxHQwfxj9SA.png"/></div></figure><p id="eb30" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在，机器人已经进入服务器，我们终于可以开始编码一个基本的机器人。</p></div><div class="ab cl lv lw hy lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="in io ip iq ir"><h1 id="462c" class="mc md iu bd me mf mg mh mi mj mk ml mm ka mn kb mo kd mp ke mq kg mr kh ms mt bi translated">5.编写机器人代码</h1><p id="bf35" class="pw-post-body-paragraph kz la iu lb b lc mw jv le lf mx jy lh li no lk ll lm np lo lp lq nq ls lt lu in bi translated">让我们在您的机器上创建一个新的Python文件。我要叫我的<code class="fe nf ng nh ni b">main.py</code>。该文件的内容将如下所示:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ok ol l"/></div></figure><p id="7031" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><code class="fe nf ng nh ni b">on_ready()</code>和<code class="fe nf ng nh ni b">on_message()</code>函数是与Discord bot相关联的事件监听器，正如<code class="fe nf ng nh ni b">@bot.event</code>注释所指出的。这些相当简单。一种是当<code class="fe nf ng nh ni b">main.py</code>运行时机器人启动。打印语句将在您的终端中显示:</p><pre class="kk kl km kn gu nr ni ns nt aw nu bi"><span id="7356" class="nv md iu ni b gz nw nx l ny nz">- 704974365309141042 (name: Quadriaxis's server)<br/>SampleDiscordBot is in 1 guilds.</span></pre><p id="1d39" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">您可以将它作为一种工具，在您认为合适的时候记录信息。我只是用它来做一个快速的计数，检查机器人连接了多少个公会/服务器，以及一些关于公会/服务器的数据。</p><p id="a551" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated"><code class="fe nf ng nh ni b">on_message()</code>函数监听进入机器人所在的任何通道的任何消息。在Discord端发送的每个消息都将触发这个函数，并发送一个<code class="fe nf ng nh ni b">Message</code>对象，该对象包含许多关于所发送消息的信息。诸如频道、谁发送的消息等等。我使用这个函数来简单地检查发送的消息是否等于“hello”如果是，那么我们的机器人会回复一个非常欢迎的短语。</p><p id="c6b9" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">既然已经讨论了事件侦听器，我将把重点放在这个代码块中发生的一些更重要的部分。</p><p id="ae9c" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">bot运行所需的三个部分是:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ok ol l"/></div></figure><p id="b768" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这些代码行导入了Discord的API，创建了允许我们指定机器人能做什么的<code class="fe nf ng nh ni b">Client</code>对象，最后用我们的令牌运行机器人。说到令牌，要获得您的bot令牌，只需进入Discord开发者门户中的Bot页面，然后单击“复制”按钮。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj om"><img src="../Images/933b5369005e9aee5399c879efbfbcca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36NBQOtcQi6IpXwbsaAsPw.png"/></div></div></figure><p id="c368" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果您熟悉API令牌，那么这就是它。如果你不是，那么这是一个特殊的字符串来识别你的机器人。它允许你从你的程序中访问你的机器人。你可以把它想象成你的机器人的密码。没有这个令牌，你就不能碰你的bot，所以一定要把它藏起来。不然别人也可以碰你的bot。你不希望别人碰你的机器人，对吧？</p><p id="c3f3" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">存储这些类型的令牌的常见做法是使用某种隐藏文件，程序从该文件中提取字符串，这样它们就不会被提交给VCS。<code class="fe nf ng nh ni b">python-dotenv</code>是一个流行的软件包，它为我们做到了这一点。让我们继续安装这个包，这样我们就可以保护我们的令牌。</p><p id="375e" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在您的终端中运行以下命令:</p><pre class="kk kl km kn gu nr ni ns nt aw nu bi"><span id="8bd4" class="nv md iu ni b gz nw nx l ny nz">pip install python-dotenv</span></pre><p id="23e3" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这将在我们的机器上安装<code class="fe nf ng nh ni b">python-dotenv</code>。这将允许我们使用一个<code class="fe nf ng nh ni b">.env</code>文件来存储我们的令牌。在与您的<code class="fe nf ng nh ni b">main.py</code>相同的目录级别中创建一个<code class="fe nf ng nh ni b">.env</code>文件。<code class="fe nf ng nh ni b">.env</code>的内容应该是这样的:</p><pre class="kk kl km kn gu nr ni ns nt aw nu bi"><span id="9db1" class="nv md iu ni b gz nw nx l ny nz">DISCORD_TOKEN="NzA0OTcwNzUyNzQyNjUzOTYz.Xqk5ww.1U_-WdW4aeGWCNF7bOJkLAu_2TM"</span></pre><p id="7513" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在我们在这个文件中有了API令牌，我们可以通过在现有代码中添加以下几行来在<code class="fe nf ng nh ni b">main.py</code>中检索它:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ok ol l"/></div></figure><p id="8dc0" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">因为我们有了<code class="fe nf ng nh ni b">DISCORD_TOKEN</code>，我们可以在程序底部用这个变量替换硬编码的API令牌:</p><pre class="kk kl km kn gu nr ni ns nt aw nu bi"><span id="a872" class="nv md iu ni b gz nw nx l ny nz"># Executes the bot with the specified token.<br/>bot.run(DISCORD_TOKEN)</span></pre><p id="ab5e" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">最终的<code class="fe nf ng nh ni b">main.py</code>文件如下所示:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="ok ol l"/></div></figure></div><div class="ab cl lv lw hy lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="in io ip iq ir"><h1 id="290f" class="mc md iu bd me mf mg mh mi mj mk ml mm ka mn kb mo kd mp ke mq kg mr kh ms mt bi translated">结论</h1><p id="1aa7" class="pw-post-body-paragraph kz la iu lb b lc mw jv le lf mx jy lh li no lk ll lm np lo lp lq nq ls lt lu in bi translated">恭喜你。你做了你的第一个机器人！到目前为止，我们只是触及了表面，但这是一个很好的起点。像bot命令这样的主题甚至没有在本文中涉及。更多的文档和有用的信息可以在官方的<a class="ae oa" href="https://discordpy.readthedocs.io/en/latest/api.html" rel="noopener ugc nofollow" target="_blank"> discord.py API参考页面</a>上找到。很好地理解如何阅读API不仅会让你成为一名更好的开发人员，还能让你构建你想要的任何类型的不和谐机器人。</p><p id="7383" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">源代码也可以在GitHub 上找到<a class="ae oa" href="https://github.com/ericjaychi/sample-discord-bot" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="0b3f" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">下一集再见！</p></div></div>    
</body>
</html>