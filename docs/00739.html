<html>
<head>
<title>Using Lottie Animations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用洛蒂动画</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/using-lottie-animations-7670b7682e38?source=collection_archive---------6-----------------------#2019-07-08">https://betterprogramming.pub/using-lottie-animations-7670b7682e38?source=collection_archive---------6-----------------------#2019-07-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b683" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">向Swift应用程序添加动画的分步指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/eee3f60e8d36a95b1a35752d56d534bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qaaJ_zFlqmNT3CKeLpsvKw.gif"/></div></div></figure><p id="b948" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着<a class="ae ln" href="https://airbnb.io/lottie/#/" rel="noopener ugc nofollow" target="_blank"> Lottie </a>的发布，Airbnb让将动画融入Swift项目变得如此简单。在这篇文章中，我将一步一步地向你展示如何在你的下一个应用程序中添加漂亮的动画。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="d757" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">进口洛蒂</h1><p id="b9ef" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">首先，我们需要引进洛蒂。我们可以通过终端做到这一点；如果您尚未设置pod，请通过键入以下命令来设置:</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="e513" class="mx lw iq mt b gy my mz l na nb">pod init</span></pre><p id="8452" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该命令完成后，您可以使用Vim或TextEdit打开Podfile。打开后，将以下代码复制到Podfile中:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="8ea2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">保存完Podfile后，使用以下命令安装Lottie框架:</p><pre class="kg kh ki kj gt ms mt mu mv aw mw bi"><span id="4ee1" class="mx lw iq mt b gy my mz l na nb">pod install</span></pre><p id="edba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们准备在我们的应用程序中使用Lottie。从现在开始，当你打开应用程序时，你需要打开<code class="fe ne nf ng mt b">xcworkspace</code>文件。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="999e" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">添加动画</h1><p id="6824" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">让我们开始在Xcode中设置我们的故事板。</p><ol class=""><li id="f3bf" class="nh ni iq kt b ku kv kx ky la nj le nk li nl lm nm nn no np bi translated">将视图拖到画布上。</li><li id="0a66" class="nh ni iq kt b ku nq kx nr la ns le nt li nu lm nm nn no np bi translated">为视图的自定义类键入<code class="fe ne nf ng mt b">AnimationView</code>。</li><li id="1262" class="nh ni iq kt b ku nq kx nr la ns le nt li nu lm nm nn no np bi translated">按住Control键将视图拖到<code class="fe ne nf ng mt b">ViewController</code>文件中，建立一个IBOutlet连接，并将其命名为<code class="fe ne nf ng mt b">AVView</code>。</li></ol><p id="bc8c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在你可以使用现有的来自https://lottiefiles.com的动画(我将在这篇文章中使用)或者你可以使用你自己的特效。找到想要的动画后，下载它并从finder中将JSON文件拖到项目中。我们现在需要导航到我们的<code class="fe ne nf ng mt b">ViewController</code>文件，并在文件顶部导入<code class="fe ne nf ng mt b">Lottie</code>。在<code class="fe ne nf ng mt b">ViewDidLoad()</code>中，您需要输入以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="7fda" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在上面的代码中，我们实际上引用了Lottie JSON文件，并将其内容模式设置为我们想要的。从那里，它将动画作为子视图添加到我们在故事板中创建的视图中，然后我们将它的循环模式设置为连续循环动画或只播放一次。现在，您可以运行您的应用程序，并看到您的洛蒂动画活过来！</p></div></div>    
</body>
</html>