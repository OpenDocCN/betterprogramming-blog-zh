<html>
<head>
<title>AWS Introduces Official SDKs for Rust, Kotlin, and Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS推出Rust、Kotlin和Swift的官方SDK</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/aws-announcement-for-2022-learn-the-brand-new-official-sdks-for-rust-kotlin-and-swift-with-code-577eddbfd617?source=collection_archive---------16-----------------------#2022-01-11">https://betterprogramming.pub/aws-announcement-for-2022-learn-the-brand-new-official-sdks-for-rust-kotlin-and-swift-with-code-577eddbfd617?source=collection_archive---------16-----------------------#2022-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d274" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">看看如何在每种编程语言中使用AWS SDKs</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/74045ff217777571bd4068acaf5deeb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wxGQBi-Lik_g_Xqf"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡斯帕·卡米尔·鲁宾在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="452b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">Re:invent Dec,2021</code>活动期间，亚马逊网络服务宣布了Rust、Kotlin和Swift的SDKs目前处于开发者预览阶段。</p><p id="4788" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些语言的开发者社区对此非常欣赏和高兴。在这篇文章中，我们将通过代码示例详细讨论这些细节。</p><p id="c1bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">据Amazon称，每个SDK都利用了每种语言的通用最佳实践，并利用了高级语言语法。让我们深入了解每一个问题。</p><h1 id="d555" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">原生AWS Rust SDK</h1><p id="1c01" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">Rust是一种没有垃圾收集器的系统编程语言，专注于三个目标:安全性、速度和并发性。</p><blockquote class="mx my mz"><p id="d2ac" class="kz la lz lb b lc ld ju le lf lg jx lh na lj lk ll nb ln lo lp nc lr ls lt lu im bi translated">Rust的AWS SDK提供了Rust APIs来与Amazon Web Services基础设施服务进行交互。使用SDK，您可以在亚马逊S3、亚马逊EC2、DynamoDB等基础上构建应用程序。</p></blockquote><p id="b394" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">长期在Rust中开发的AWS客户想要一个本机Rust SDK，以便他们可以使用他们习惯的语言结构，而Rust的新客户想要一个行为类似于他们在其他语言环境中使用的SDK的SDK。</p><p id="cb0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们做一些动作。</p><h1 id="3270" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">创建您的第一个Rust AWS SDK应用</h1><p id="d5aa" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">让我们创建一个简单的Rust应用程序，列出您的DynamoDB表。</p><ol class=""><li id="19b7" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">导航到计算机上您想要创建应用程序的位置。</li><li id="4a6c" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu ni nj nk nl bi translated">执行以下命令创建一个<code class="fe lv lw lx ly b">hello_world</code>目录，并用一个框架Rust项目填充它:</li></ol><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="91f8" class="nv mb it ly b gy nw nx l ny nz">cargo new hello_world --bin</span></pre><p id="2110" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.安装来自<code class="fe lv lw lx ly b">crates.io</code>的<a class="ae ky" href="https://crates.io/crates/aws-config" rel="noopener ugc nofollow" target="_blank"> aws-config </a>和<a class="ae ky" href="https://crates.io/crates/aws-sdk-dynamodb" rel="noopener ugc nofollow" target="_blank"> aws-sdk-dynamodb </a>板条箱；</p><p id="a569" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4 .导航到<code class="fe lv lw lx ly b">hello_world</code>目录并编辑<code class="fe lv lw lx ly b">Cargo.toml</code>以将这些板条箱包含在<code class="fe lv lw lx ly b">[dependencies]</code>中，其中<code class="fe lv lw lx ly b"><em class="lz">VERSION</em></code>是您在<code class="fe lv lw lx ly b">crates.io</code>上找到的版本号:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="6dfb" class="nv mb it ly b gy nw nx l ny nz">[dependencies] aws-config = "VERSION" aws-sdk-dynamodb = "VERSION" tokio = { version = "1", features = ["full"] }</span></pre><p id="b098" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5 .更新src目录中的<code class="fe lv lw lx ly b">main.rs</code>以包含以下代码。</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="92af" class="nv mb it ly b gy nw nx l ny nz">use aws_config::meta::region::RegionProviderChain;<br/>use aws_sdk_dynamodb::{Client, Error};</span><span id="8c17" class="nv mb it ly b gy oa nx l ny nz">#[tokio::main]<br/>async fn main() -&gt; Result&lt;(), Error&gt; {<br/>    let region_provider = RegionProviderChain::default_provider().or_else("us-east-1");<br/>    let config = aws_config::from_env().region(region_provider).load().await;<br/>    let client = Client::new(&amp;config);</span><span id="b080" class="nv mb it ly b gy oa nx l ny nz">let resp = client.list_tables().send().await?;</span><span id="bade" class="nv mb it ly b gy oa nx l ny nz">println!("Tables:");</span><span id="deba" class="nv mb it ly b gy oa nx l ny nz">let names = resp.table_names().unwrap_or_default();</span><span id="0e1f" class="nv mb it ly b gy oa nx l ny nz">for name in names {<br/>        println!("  {}", name);<br/>    }</span><span id="826c" class="nv mb it ly b gy oa nx l ny nz">println!("Found {} tables", names.len());</span><span id="1518" class="nv mb it ly b gy oa nx l ny nz">Ok(())<br/>}</span></pre><p id="1b40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">6 .运行程序:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="8293" class="nv mb it ly b gy nw nx l ny nz">cargo run</span></pre><p id="1de7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该会看到一个表名列表。</p><h1 id="9e6f" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">原生AWS Kotlin SDK</h1><p id="5b7f" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">AWS SDK for kot Lin Developer Preview为Amazon Web Services提供了Kotlin APIs。使用SDK，您可以构建适用于亚马逊S3、亚马逊EC2、DynamoDB等的Kotlin应用程序。</p><blockquote class="mx my mz"><p id="3d4b" class="kz la lz lb b lc ld ju le lf lg jx lh na lj lk ll nb ln lo lp nc lr ls lt lu im bi translated">在开发人员预览版中，您可以面向JVM平台或Android API级别24+,并在未来的版本中支持其他平台，如JavaScript和Native。</p></blockquote><h2 id="0898" class="nv mb it bd mc ob oc dn mg od oe dp mk li of og mm lm oh oi mo lq oj ok mq ol bi translated">创建您的第一个Kotlin AWS SDK应用程序</h2><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="f72b" class="nv mb it ly b gy nw nx l ny nz">package example.aws.getstarted</span><span id="0d93" class="nv mb it ly b gy oa nx l ny nz">import kotlinx.coroutines.delay<br/>import kotlinx.coroutines.runBlocking<br/>import aws.smithy.kotlin.runtime.time.Instant<br/>import aws.smithy.kotlin.runtime.time.epochMilliseconds</span><span id="ec11" class="nv mb it ly b gy oa nx l ny nz">import aws.sdk.kotlin.runtime.UnknownServiceErrorException<br/>import aws.sdk.kotlin.services.dynamodb.DynamoDbClient<br/>import aws.sdk.kotlin.services.dynamodb.model.AttributeDefinition<br/>import aws.sdk.kotlin.services.dynamodb.model.AttributeValue<br/>import aws.sdk.kotlin.services.dynamodb.model.CreateTableRequest<br/>import aws.sdk.kotlin.services.dynamodb.model.DynamoDbException<br/>import aws.sdk.kotlin.services.dynamodb.model.KeySchemaElement<br/>import aws.sdk.kotlin.services.dynamodb.model.KeyType<br/>import aws.sdk.kotlin.services.dynamodb.model.ScalarAttributeType<br/>import aws.sdk.kotlin.services.dynamodb.model.TableStatus</span><span id="06df" class="nv mb it ly b gy oa nx l ny nz">fun main() = runBlocking {</span><span id="8857" class="nv mb it ly b gy oa nx l ny nz">val dynamoDbClient = DynamoDbClient { region = “us-west-2” }<br/> val newTable = “TestSDK” + Instant.now().epochMilliseconds<br/> val key = “key”</span><span id="b392" class="nv mb it ly b gy oa nx l ny nz">try {<br/> tutorialSetup(dynamoDbClient, newTable, key)</span><span id="e346" class="nv mb it ly b gy oa nx l ny nz">println(“Writing to table…”)</span><span id="4896" class="nv mb it ly b gy oa nx l ny nz">dynamoDbClient.putItem {<br/> tableName = newTable<br/> item = mapOf(<br/> key to AttributeValue.S(“${key}_value”)<br/> )<br/> }</span><span id="31d8" class="nv mb it ly b gy oa nx l ny nz">println(“Completed writing to table.”)<br/> println()</span><span id="89c8" class="nv mb it ly b gy oa nx l ny nz">cleanUp(dynamoDbClient, newTable)</span><span id="159c" class="nv mb it ly b gy oa nx l ny nz">} catch (e: DynamoDbException) {<br/> println(“ERROR (DynamoDbException): “ + e.message)<br/> } catch (e: UnknownServiceErrorException) {<br/> println(“ERROR (UnknownServiceErrorException): “ + e.message)<br/> } finally {<br/> dynamoDbClient.close()<br/> }<br/> println(“Exiting…”)<br/>}</span><span id="a1b4" class="nv mb it ly b gy oa nx l ny nz">private suspend fun tutorialSetup(dynamoDbClient: DynamoDbClient, newTable: String, key: String) {</span><span id="90ee" class="nv mb it ly b gy oa nx l ny nz">val createTableRequest = CreateTableRequest {<br/> tableName = newTable<br/> attributeDefinitions = listOf(<br/> AttributeDefinition {<br/> attributeName = key<br/> attributeType = ScalarAttributeType.S<br/> }<br/> )<br/> keySchema = listOf(<br/> KeySchemaElement {<br/> attributeName = key<br/> keyType = KeyType.Hash<br/> }<br/> )<br/> provisionedThroughput {<br/> readCapacityUnits = 10<br/> writeCapacityUnits = 10<br/> }<br/> }<br/> println(“Creating table: $newTable…”)<br/> dynamoDbClient.createTable(createTableRequest)<br/> println(“Waiting for table to be active…”)<br/> var tableIsActive = dynamoDbClient.describeTable {<br/> tableName = newTable<br/> }.table?.tableStatus == TableStatus.Active<br/> do {<br/> if (!tableIsActive) {<br/> delay(500)<br/> tableIsActive = dynamoDbClient.describeTable {<br/> tableName = newTable<br/> }.table?.tableStatus == TableStatus.Active<br/> }<br/> } while(!tableIsActive)<br/> println(“$newTable is ready.”)<br/> println()<br/>}</span><span id="77ee" class="nv mb it ly b gy oa nx l ny nz">private suspend fun cleanUp(dynamoDbClient: DynamoDbClient, newTable: String) {<br/> println(“Cleaning up…”)<br/> println(“Deleting table: $newTable…”)<br/> dynamoDbClient.deleteTable {<br/> tableName = newTable<br/> }<br/> println(“$newTable has been deleted.”)<br/> println()<br/> println(“Cleanup complete”)<br/> println()<br/>}</span></pre><p id="e218" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有关Kotlin的完整AWS文档，请参考此处的。</p><h1 id="56c0" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">原生AWS Swift SDK</h1><p id="fd49" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">AWS SDK for Swift，这是一个纯粹的Swift SDK，可以更容易地开发利用AWS服务的工具，包括亚马逊S3、亚马逊EC2、DynamoDB等，所有这些都使用<a class="ae ky" href="https://swift.org/" rel="noopener ugc nofollow" target="_blank"> Swift </a>编程语言。</p><blockquote class="mx my mz"><p id="8f9c" class="kz la lz lb b lc ld ju le lf lg jx lh na lj lk ll nb ln lo lp nc lr ls lt lu im bi translated">使用SDK for Swift的开发目前在Mac和Linux系统上得到支持，Windows支持即将推出。支持的目标包括苹果平台和Linux系统。对Windows目标的支持也即将推出。</p></blockquote><p id="883d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">支持的Apple目标操作系统包括:</p><ul class=""><li id="6efd" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu om nj nk nl bi translated">马科斯</li><li id="39fd" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu om nj nk nl bi translated">ios</li><li id="50ce" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu om nj nk nl bi translated">iPadOS</li><li id="fc83" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu om nj nk nl bi translated">watchOS <em class="lz">(即将推出)</em></li><li id="ce18" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu om nj nk nl bi translated">tvOS <em class="lz">(即将推出)</em></li></ul><h2 id="b042" class="nv mb it bd mc ob oc dn mg od oe dp mk li of og mm lm oh oi mo lq oj ok mq ol bi translated">创建您的首个Swift AWS SDK应用</h2><p id="8986" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">以下是AWS Swift文档中关于如何开始的代码片段:</p><pre class="kj kk kl km gt nr ly ns nt aw nu bi"><span id="7e78" class="nv mb it ly b gy nw nx l ny nz">func listAllTables(ddb: DynamoDbClient) {<br/> ddb.listTables(input: ListTablesInput()) { result in<br/> switch(result) {<br/> case .success(let response):<br/> guard let namesOfTables = response.tableNames else {<br/> return<br/> }<br/> for currName in namesOfTables {<br/> print(“Table name is \(currName)”)<br/> }<br/> case .failure(let err):<br/> print(err)<br/> }<br/> }<br/>}</span></pre><p id="aae3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请参考此处的<a class="ae ky" href="https://docs.aws.amazon.com/sdk-for-swift/latest/developer-guide/examples-ddb-tables.html" rel="noopener ugc nofollow" target="_blank">以获取AWS Swift的完整文档。</a></p></div><div class="ab cl on oo hx op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="im in io ip iq"><p id="68b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前就这些。感谢阅读。</p><h1 id="f745" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">参考</h1><p id="ee42" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated"><a class="ae ky" href="https://github.com/awslabs/aws-sdk-swift" rel="noopener ugc nofollow" target="_blank">用于Swift的AWS SDK</a></p><p id="a8c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/awslabs/aws-sdk-kotlin" rel="noopener ugc nofollow" target="_blank">用于Kotlin的多平台AWS SDK</a></p><p id="79cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/awslabs/aws-sdk-rust" rel="noopener ugc nofollow" target="_blank">用于Rust编程的AWS SDK</a></p><p id="bf4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢你所读到的，看看下面这个故事:</p><div class="ou ov gp gr ow ox"><a rel="noopener  ugc nofollow" target="_blank" href="/aws-big-announcement-just-before-2022-introduction-of-rds-readable-standby-instances-in-multi-az-7657ed96e48c"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd iu gy z fp pc fr fs pd fu fw is bi translated">AWS 2022年的新功能RDS中的可读备用实例介绍</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">就在2021年圣诞节的节日气氛之前，AWS宣布了亚马逊RDS多AZ中可读的待机实例…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">better编程. pub</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ks ox"/></div></div></a></div></div></div>    
</body>
</html>