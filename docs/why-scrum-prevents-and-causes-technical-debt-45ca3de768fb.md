# 为什么 Scrum 防止并导致技术债务

> 原文：<https://betterprogramming.pub/why-scrum-prevents-and-causes-technical-debt-45ca3de768fb>

## 导致技术债务的 4 个 Scrum 反模式以及你应该做什么

![](img/7dec17667c4f59e58ef449a9890e9753.png)

伊登·康斯坦丁诺在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

让我马上澄清一件事:Scrum 本身不会导致技术债务。然而，很少有公司把 Scrum 做对了。结果，许多 Scrum 实现最终确实产生了大量的技术债务。

根据我在许多公司工作和咨询的个人经验，本文中描述的所有四种技术上产生债务的反模式都很普遍。

为什么有些 Scrum 实现会无意中产生大量的技术债务，而有些不会？我们能做些什么来防止它发生？

在我们深入探讨这个问题之前，让我们首先从定义技术债务开始。然后我会详细说明为什么某些 Scrum 实现会产生技术债务，以及我们能做些什么。

# 什么是技术债？

我遇到的对技术债务的最好解释是由 [Henrik Kniberg](https://medium.com/u/3ccad081c81a?source=post_page-----45ca3de768fb--------------------------------) 在他的文章[好的和坏的技术债务(以及 TDD 如何帮助)](https://blog.crisp.se/2013/10/11/henrikkniberg/good-and-bad-technical-debt)中给出的:

> “把技术债务想象成任何与你的代码有关的东西，从长远来看，它会降低你的速度。难以阅读的代码、缺乏测试自动化、重复、纠缠不清的依赖关系等。”亨里克·克尼伯格

然而，他也提出了以零技术债务为目标也会让你慢下来的理由。令人惊讶和违反直觉，对不对？

克尼伯格是这样解释的:

> “当你正在创作的时候，想想你的电脑和桌子。你可能到处都是东西，旧咖啡杯、笔和笔记，你的电脑有几十个打开的窗口。真是一团糟，不是吗？
> 
> 想象一下，如果你不得不一直保持你的工作空间干净——每次你切蔬菜的时候，你都必须清洗和更换刀。每画完一笔，你都要清洗和更换刷子。每次音乐结束后，你必须拔掉乐器的插头，然后把它放回盒子里。这会让你慢下来，彻底扼杀你的创造力、心流和生产力。
> 
> 事实上,“混乱”是让你保持心流状态的原因——你所有的工作资料都在手边。"

无论我们做什么，我们总是会弄得一团糟。这就像试图逃避热力学第二定律一样不可避免。“新鲜”的混乱是不可避免的，以保持流动和有效地工作。这是“旧”的混乱，回来困扰我们的技术债务。

要记住的重要一点是:我们总是会制造出一个烂摊子。这既是一件好事，也是一件坏事，取决于我们何时决定解决这个问题。

既然我们已经讨论了什么是技术债务，让我们讨论产生技术债务的不同 Scrum 反模式，以及我们应该做什么。

# 反模式 1:开发人员的评估不包括修复技术债务

## 通常会发生什么

你在精化阶段，Scrum 团队给出了一个评估。只不过他们没有考虑修复技术债务所需的时间。结果，你的产品中的技术债务会随着时间的推移而增加，因为他们从来没有给自己时间来解决技术债务。

技术债务是团队稍后通过在产品待办事项中可视化来处理的事情。然后，团队需要说服产品负责人不要删除它，并优先考虑它。在利益相关者的持续压力下，产品所有者降低了它的优先级，甚至关闭了它，因为有更重要的事情要做。

事情真的应该是这样吗？

## 我们应该做什么

作为产品所有者，我希望开发人员给出包括修复技术债务在内的评估。包括技术债务是我明确向他们提出的要求。在精化阶段，我会告诉 Scrum 团队以下内容:

> “当你做饭时，打扫厨房是工作的一部分。厨师打扫厨房从来不会征求别人的同意。这是工作带来的。如果你在某个时候不打扫厨房，你就不能再做饭了，所有的乱七八糟堆积在一起。你不需要我的许可来解决技术债务。给出你的估计，包括修复任何适用的技术债务。我甚至不需要意识到。”

我一般不会问问题。有时我会这样做，因为我认为容易的事情结果变得很难。然后我想知道为什么，因为也许我们可以缩小范围，让一些东西更快地出去。我还需要知道一些重大的技术债务。也许我们的技术实现太复杂了，而在最初的版本中，我们可以处理更少的流量。

技术债务不是我们在产品积压上单独优先考虑的事情，除非我们处于如此糟糕的情况下，我们不得不这样做。

Scrum 的本质是能够定期交付价值。如果技术债务阻止你在每个冲刺阶段交付产品增量，那么你就没有能力进行 Scrum。因此，控制你的技术债务对 Scrum 的成功至关重要。

# **反模式 2:我们必须在冲刺阶段完成所有事情**

## 通常会发生什么

在冲刺的最后，整个团队都会感到压力。每个人都担心我们不能吃完我们盘子里的所有东西。我们的利益相关者和产品所有者会感到失望和愤怒。在 sprint 回顾会上我们应该展示什么？每个人都投入额外的工作来尽可能多的完成。然而，我们仍然失败。

发生这种情况是因为我们的估计总是错的。无论我们做什么，估计都是基于有限的信息:事先的知识。因此，你的估计不可避免地会是错误的。这就是复杂工作的本质，你不知道自己不知道什么。

因此，我们经常会在一开始就注定失败的地方进行冲刺。只是我们只是在冲刺阶段的某个地方意识到了这一点，通常是在接近终点的时候，我们的自由度是有限的。无论我们如何努力，我们都不会在 sprint 中完成所有的 sprint backlog 项目。句号。

除了有些团队仍然能够在冲刺阶段完成所有的事情。他们是怎么做到的？

他们通过偷工减料和制造技术债务来实现这一目标。我们的利益相关者和产品负责人会注意到未完成的待办事项，但是他们只会注意到技术债务和较低的质量，当这一切为时已晚——就像一只青蛙慢慢变热直到水沸腾。

## 我们应该做什么

敏捷的工作方式需要灵活性。我们需要能够随时调整我们的计划和行动，这也取决于它们是否能产生预期的结果。

这种灵活性的先决条件是要有一个明确的总体目标。我们试图实现什么，为什么？现在最重要的一件事是什么？

当你时间有限时，你被迫做出选择。当完成冲刺中的一切都是目标的时候，那就没有做决定的自由了。一切都同等重要。

当你进行 Scrum 时，你至少需要三样东西:

*   每个 sprint 都有一个明确的总体目标，称为 S *打印目标*。Sprint 目标应该解释我们想要达到的目标和原因。
*   冲刺计划的灵活性
*   sprint 范围的灵活性
*   单个 sprint backlog 项目范围的灵活性

记住，在 sprint 开始后，以下是固定的:

1.  时间——冲刺的持续时间
2.  质量——完成的定义
3.  资源——在冲刺阶段增加人员通常是不可能的，而且通常会降低你的速度。

当这些估计不准确时，你的计划就是不准确的。范围的灵活性对于在不牺牲质量的情况下做出响应是必要的。

# 反模式 3:我们必须提高速度

## 通常会发生什么

许多 Scrum 团队是根据他们的速度来评判的。基本信念如下:

更高的速度=在交付特性上花费更多的努力=更多的价值

结果，团队偷工减料或人为夸大数字来提高速度。其结果是一种错觉，让利益相关者和管理层高兴，同时除了削弱你交付尽可能多的价值的努力之外一无所获。

## 我们应该做什么

你的客户忘记了你所付出的努力。他们根本不在乎你做了多少工作。他们只关心你的工作成果在多大程度上有助于他们实现目标。

本文约 2300 字。你能通过字数来判断它的质量吗？想象一下，我一个月写 8000 字的文章，另一个月写 3000 字。我在哪一个月做得更好？

文字只有在能引起读者共鸣的程度上才有意义。字数多并不意味着价值多。出于同样的原因，完成更多数量的 sprint backlog 项目并不重要。

你的努力只体现在对你的客户产生影响的程度上。

# 反模式 4:弱的、不存在的或不一致的完成定义

## 通常会发生什么

许多 Scrum 团队对“完成”的定义很弱、不存在或者不一致。完成的定义是 Scrum 团队需要遵循的质量检查清单。它使事情变得透明，当事情“完成”时，这就是它的意思。

当一个 Scrum 团队对“完成”的定义很弱时，“例如，排除了一个相当好的测试水平，这意味着你将在每次工作完成时产生技术债务。一些团队甚至没有定义“完成”的定义，或者其他人写下它，但在将一个项目移动到“完成”之前，从来不用它作为检查清单。这两种情况产生了相同的结果:技术性债务。

但到目前为止，最常见的问题是相信每个 Scrum 团队都被允许设置他们自己的 Done 定义。这种被感知的自由是完全错误的。如果多个 Scrum 团队在同一产品上工作，或者组织已经为团队设定了质量标准，那么所有的 Scrum 团队至少应该遵循相同的 Done 定义。这个共享的 Done 定义的目的是使他们的组合工作具有潜在的可发布性。

## 我们应该做什么

*   如果组织设定了一个质量标准，那么所有的 Scrum 团队都必须遵循这个最低标准。单个 Scrum 团队可能会调整他们对 Done 的定义，使之更加严格，只要组织标准作为基线被遵循。
*   如果一个或多个 Scrum 团队在同一个产品上工作，那么所有在同一个产品上工作的团队应该定义一个他们都应该遵守的最低要求。这同样适用于组织级别的完成集的定义——单个团队可以自由地应用更严格的标准。

# 即使您没有成为这些反模式的受害者，技术债务也是不可避免的

技术债务被认为是肮脏的东西。但是，你做过没有任何技术债务的系统吗？你是否曾经在一个系统中工作过，开发人员说，“哇，这个代码是不是很棒，工作起来很愉快！”

在我构建软件产品的十年中，我从来没有听到一个开发人员自发地大声说出这些话。不管系统的状态如何，对系统技术质量的抱怨似乎是普遍的。然而，偶尔的投诉和持续不断的“我们无法使用该产品”类型的投诉是有区别的。

技术债务不是要不惜一切代价去阻止的。这是你永远无法完全避免的事情。主要问题是软件是在特定的环境中构建的。检查代码的人没有相同的上下文，可能有不同的(和更好的)信息。当从他们的角度看代码时，所做的选择看起来是次优的，而在当时它们可能被认为是最优的。

相反的情况也可能发生。有些选择后来被认为是次优的，但它们实际上是最优的。那些评判它的人现在缺乏足够的背景来理解为什么那些选择在当时是有意义的。有时开发人员甚至会因为恢复那些选择而使事情变得更糟，因为他们对领域或者产品正在做什么没有足够的理解。不幸的是，那些有工作的人通常已经离开了公司。

Scrum 纯粹主义者会声称这些制造技术债务的团队没有在做 Scrum。那只是一个不照照镜子，看看我们能做得更好的借口。对 Scrum 的误解很普遍。指责别人太容易了，却看不到我们能从中学到什么。

Scrum 给予自我管理的团队巨大的权力来控制他们的技术债务。开发人员负责如何执行工作以及评估(如果适用)。如果解决技术债务是工作的一部分，那么它就属于他们*T3 的管辖范围。他们决定如何完成工作。如果不可预见的事情出现并增加了复杂性，那么自我管理的 Scrum 团队在满足 Sprint 目标的范围上具有灵活性。*

上面有一个警告:产品所有者负责最大化交付的价值。过度工程化，或者在短期内修复过多的技术债务，可能会导致交付的价值降低。因此，产品所有者和开发人员之间需要一种健康的紧张关系，以做出最佳的权衡决策。

产品负责人应该与他们的团队讨论技术方法，以了解做出了什么样的权衡决策。维护成本和上市时间是影响价值交付的重要因素。

Scrum 团队中过多的技术债务并不常见。然而，许多 Scrum 团队成为这些反模式的受害者，因此这很常见。技术债务从来都不是你可以完全消除的，但是你需要把它控制在可以接受的水平。

如果有足够的技术债务，变得灵活、可预测和响应变化是不可能的。在这样的条件下工作，你不可能敏捷。当你使用像 Scrum 这样严格的敏捷框架时，管理技术债务是一个一揽子交易。没有它，Scrum 和价值的常规传递就不会发生。