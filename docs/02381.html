<html>
<head>
<title>Multiple Selection Gestures on TableView and CollectionView in iOS 13</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 13中TableView和CollectionView上的多种选择手势</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/multiple-selection-gestures-on-tableview-and-collectionview-in-ios-13-77144506b742?source=collection_archive---------7-----------------------#2019-11-26">https://betterprogramming.pub/multiple-selection-gestures-on-tableview-and-collectionview-in-ios-13-77144506b742?source=collection_archive---------7-----------------------#2019-11-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="19d8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">表和集合视图上的多选手势</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/af3a308b5a5da91c4e0dc89ee7fe5b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_7cMiGoz8QXmTRWOZ_mgVw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@jesuskiteque?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">耶稣·基特克</a>在<a class="ae kv" href="https://unsplash.com/s/photos/coding?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fab5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">WWDC 2019引入了UITableViewCell的新功能。现在，您可以让您的应用程序用户能够在表格和集合视图上使用双指平移手势选择多个项目。这允许用户快速选择多个项目。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><blockquote class="lz ma mb"><p id="9c95" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">如果你正在准备你的技术编码面试，或者你想学习递归来提高你解决问题的技能，那么你应该查看这个udemy课程</em> </strong> <a class="ae kv" href="https://www.udemy.com/course/master-the-recursion-from-beginner-to-advance-level/?referralCode=75F57675BDABF6D104C0" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">递归大师班，从C++ </strong> </a> <strong class="ky ir"> <em class="iq">的初级到高级水平，或者你可以在</em></strong><a class="ae kv" href="https://skl.sh/3PTOCns" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="iq">Skillshare</em></strong></a><strong class="ky ir"><em class="iq">上查看这个递归课程。</em>T25】</strong></p><p id="0cba" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated"><strong class="ky ir">如果你想从初学者到专家水平学习ARKit 3，然后点击</strong> <a class="ae kv" href="https://www.udemy.com/course/ios-13-swift-5-the-complete-arkit-3-course/?couponCode=FORCREATOR" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">这里</strong> </a> <strong class="ky ir">获得课程，你还将获得97%的折扣。</strong></p><p id="3203" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated"><strong class="ky ir">如果你对学习iOS移动开发充满热情，并希望将你的iOS开发技能提升到一个新的水平，那么使用CloudKit framework的核心数据应该是你的首选。点击</strong> <a class="ae kv" href="https://www.udemy.com/course/mastering-coredata-with-cloudkit-in-swift-5-for-ios/?couponCode=FORDEVS" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">此处</strong> </a> <strong class="ky ir">获取课程，还可享受97折优惠。</strong></p><p id="b825" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated"><strong class="ky ir">从头开始学习SwiftUI点击</strong> <a class="ae kv" href="https://www.udemy.com/course/swiftui-the-complete-course-building-real-world-apps/?couponCode=FORCODERS" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">此处</strong> </a> <strong class="ky ir">获取课程，因为在本课程中，我们将使用SwiftUI构建许多应用，如脸书克隆、新闻应用、笔记应用等等。</strong></p></blockquote></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="f49d" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">这篇文章的目的</h1><ul class=""><li id="701d" class="my mz iq ky b kz na lc nb lf nc lj nd ln ne lr nf ng nh ni bi translated">这篇文章的目的是让你理解多选手势在<code class="fe nj nk nl nm b">tableView</code>和<code class="fe nj nk nl nm b">CollectionView</code>中是如何工作的。</li><li id="66da" class="my mz iq ky b kz nn lc no lf np lj nq ln nr lr nf ng nh ni bi translated">我们将在带有示例iOS应用程序的<code class="fe nj nk nl nm b">tableView</code>上实现这个新特性。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="7b36" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">理解多重选择手势</h1><p id="5bab" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">在iOS 13中，拥有这一功能的应用可以让用户快速选择多个项目。例如，当<code class="fe nj nk nl nm b">tableView</code>识别双指平移手势时，应用程序可以自动将表格视图置于编辑模式，用户不需要点击编辑或选择按钮。</p><p id="adfb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">若要选择多个项目，请在您想要选择的项目上拖移两个手指。当视图识别双指平移手势时，它会切换到编辑模式，允许您选择多个项目。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/ff72ad91189ed333dfb3e4d567f9100c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tMQYkGYQVvQzPuXI-xRB7A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片取自<a class="ae kv" href="https://developer.apple.com/documentation/uikit/uitableviewdelegate/selecting_multiple_items_with_a_two-finger_pan_gesture" rel="noopener ugc nofollow" target="_blank">苹果文档</a></p></figure><h1 id="cbc0" class="mg mh iq bd mi mj nw ml mm mn nx mp mq jw ny jx ms jz nz ka mu kc oa kd mw mx bi translated">示例iOS应用程序入门</h1><p id="3f97" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">打开Xcode 并创建一个新的Xcode项目。在iOS模板部分选择单视图应用程序，然后单击下一步。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/f71fd5e505edcf1407665894ac13f944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XORSh3__xGMX8N-P.png"/></div></div></figure><p id="8ff0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">输入您的产品名称，单击下一步，然后在桌面上创建它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/3b40bc73aa8a2644ca1e6b9f27f75633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZkkKgxjtEpyO5XlScLOcDQ.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="5242" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">履行</h1><p id="009f" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">跳到<code class="fe nj nk nl nm b">Main.storyboard</code>，删除默认<code class="fe nj nk nl nm b">ViewController</code>。从对象库中取出一个<code class="fe nj nk nl nm b">TableViewController</code>并嵌入到<code class="fe nj nk nl nm b">NavigationController</code>中。接下来，进入属性检查器，选中<code class="fe nj nk nl nm b">NavigationController</code>的<code class="fe nj nk nl nm b">Is Initial View Controller</code>框。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/8486e1cac9db05b5f1fef72805636d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GnEhnZ8h0s_8J8k4WbVdwQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Main.storyboard看起来像这样</p></figure><p id="4b1f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在跳到<code class="fe nj nk nl nm b">ViewController.swift</code>并确保你的<code class="fe nj nk nl nm b">ViewController</code>是从<code class="fe nj nk nl nm b">UITableViewController</code>继承的。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0762" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">在表格视图中实现多重选择</h1><pre class="kg kh ki kj gt oe nm of og aw oh bi"><span id="e6a6" class="oi mh iq nm b gy oj ok l ol om">navigationItem.rightBarButtonItem = editButtonItem<br/>tableView.allowsMultipleSelectionDuringEditing = <strong class="nm ir">true</strong></span></pre><p id="2886" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了在<code class="fe nj nk nl nm b">TableView</code>上使用多重选择，我们启用<code class="fe nj nk nl nm b">TableView</code>属性，将<code class="fe nj nk nl nm b">allowsMultipleSelectionDuringEditing</code>设置为true，并在<code class="fe nj nk nl nm b">navigationItem</code>中添加编辑按钮。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="39a0" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">导入委托方法</h1><pre class="kg kh ki kj gt oe nm of og aw oh bi"><span id="6c0c" class="oi mh iq nm b gy oj ok l ol om">// 1</span><span id="032b" class="oi mh iq nm b gy on ok l ol om"><strong class="nm ir">override</strong> <strong class="nm ir">func</strong> tableView(<strong class="nm ir">_</strong> tableView: UITableView, shouldBeginMultipleSelectionInteractionAt indexPath: IndexPath) -&gt; Bool {</span><span id="dccf" class="oi mh iq nm b gy on ok l ol om"><strong class="nm ir">return</strong> <strong class="nm ir">true</strong></span><span id="078b" class="oi mh iq nm b gy on ok l ol om">}</span><span id="2e2f" class="oi mh iq nm b gy on ok l ol om">// 2</span><span id="0d91" class="oi mh iq nm b gy on ok l ol om"><strong class="nm ir">override</strong> <strong class="nm ir">func</strong> tableView(<strong class="nm ir">_</strong> tableView: UITableView, didBeginMultipleSelectionInteractionAt indexPath: IndexPath) {</span><span id="a0a8" class="oi mh iq nm b gy on ok l ol om"><strong class="nm ir">self</strong>.setEditing(<strong class="nm ir">true</strong>, animated: <strong class="nm ir">true</strong>)</span><span id="8acb" class="oi mh iq nm b gy on ok l ol om">}</span><span id="bd04" class="oi mh iq nm b gy on ok l ol om">// 3</span><span id="44c7" class="oi mh iq nm b gy on ok l ol om"><strong class="nm ir">override</strong> <strong class="nm ir">func</strong> tableViewDidEndMultipleSelectionInteraction(<strong class="nm ir">_</strong> tableView: UITableView) {</span><span id="6bf2" class="oi mh iq nm b gy on ok l ol om">print("\(<strong class="nm ir">#function</strong>)")</span><span id="5dfa" class="oi mh iq nm b gy on ok l ol om">}</span></pre><ol class=""><li id="1bf4" class="my mz iq ky b kz la lc ld lf oo lj op ln oq lr or ng nh ni bi translated">询问委托用户是否可以使用双指平移手势在表格视图中选择多个项目。我们返回true，因为用户可以使用双指平移手势。</li><li id="db83" class="my mz iq ky b kz nn lc no lf np lj nq ln nr lr or ng nh ni bi translated">告知委托用户何时开始使用双指平移手势在表格视图中选择多行。启用编辑模式是为了标记多重选择。</li><li id="73f5" class="my mz iq ky b kz nn lc no lf np lj nq ln nr lr or ng nh ni bi translated">告知委托用户何时停止使用双指平移手势在表格视图中选择多行。</li></ol><h1 id="f84b" class="mg mh iq bd mi mj nw ml mm mn nx mp mq jw ny jx ms jz nz ka mu kc oa kd mw mx bi translated">建造并运行！</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/01a4dadff6f94f8f4af290c21d99a827.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LC3Xkc13KlEPHhj3odRq1Q.png"/></div></div></figure><p id="97fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">若要在模拟器上使用手势，请按住option和shift键拖移触控板。</p><p id="81ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">委托方法也适用于<code class="fe nj nk nl nm b">CollectionView</code>。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="46ce" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">结论</h1><p id="33ab" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">这就是这篇报道新的iOS 13功能<code class="fe nj nk nl nm b">tableView</code>上的两个平移手势的内容。在您的iOS应用程序中实现这一新的iOS 13功能，使用户能够快速选择多个项目。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="a946" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">源代码</h1><p id="786e" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf ns lh li lj nt ll lm ln nu lp lq lr ij bi translated">你可以在<a class="ae kv" href="https://github.com/Amitrai011/Multiselection-Gestures-Demo" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到完整的项目。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><blockquote class="lz ma mb"><p id="6d3a" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="iq">如果你正在准备你的技术编码面试，或者你想学习递归来提高你解决问题的技能，那么你应该查看这个udemy课程</em> </strong> <a class="ae kv" href="https://www.udemy.com/course/master-the-recursion-from-beginner-to-advance-level/?referralCode=75F57675BDABF6D104C0" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">递归大师班，从C++ </strong> </a> <strong class="ky ir"> <em class="iq">的初级到高级水平，或者你可以在</em></strong><a class="ae kv" href="https://skl.sh/3PTOCns" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="iq">Skillshare</em></strong></a><strong class="ky ir"><em class="iq">上查看这个递归课程。</em>T25】</strong></p></blockquote></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="88e5" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">额外资源</h1><blockquote class="lz ma mb"><p id="462c" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated"><strong class="ky ir">如果你想从初学者到专家水平学习ARKit 3，然后点击</strong> <a class="ae kv" href="https://www.udemy.com/course/ios-13-swift-5-the-complete-arkit-3-course/?couponCode=FORCREATOR" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">这里</strong> </a> <strong class="ky ir">获得课程，你还将获得97%的折扣。</strong></p><p id="5929" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated"><strong class="ky ir">如果你对学习iOS移动开发充满热情，并希望将你的iOS开发技能提升到一个新的水平，那么使用CloudKit framework的核心数据应该是你的首选。点击</strong> <a class="ae kv" href="https://www.udemy.com/course/mastering-coredata-with-cloudkit-in-swift-5-for-ios/?couponCode=FORDEVS" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">此处</strong> </a> <strong class="ky ir">获取课程，还可享受97折优惠。</strong></p><p id="0b52" class="kw kx mc ky b kz la jr lb lc ld ju le md lg lh li me lk ll lm mf lo lp lq lr ij bi translated"><strong class="ky ir">从头开始学习SwiftUI点击</strong> <a class="ae kv" href="https://www.udemy.com/course/swiftui-the-complete-course-building-real-world-apps/?couponCode=FORCODERS" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">此处</strong> </a> <strong class="ky ir">获取课程，因为在本课程中，我们将使用SwiftUI构建许多应用，如脸书克隆、新闻应用、笔记应用等等。</strong></p></blockquote></div></div>    
</body>
</html>