<html>
<head>
<title>Create an Application-Wide Menu in Angular Using Material UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用材质UI在Angular中创建应用程序范围的菜单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/creating-an-application-wide-menu-in-angular-using-angular-material-ui-a-simple-tutorial-for-a3c1df1be33d?source=collection_archive---------1-----------------------#2019-11-16">https://betterprogramming.pub/creating-an-application-wide-menu-in-angular-using-angular-material-ui-a-simple-tutorial-for-a3c1df1be33d?source=collection_archive---------1-----------------------#2019-11-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2374" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们创建一些通用导航</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a4c63fef5f43dfe40112f010a62a002a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Q7yxh9G4qIJuH5hvInb8Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@sunrisephotography?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">日出照片</a>拍摄于<a class="ae ky" href="https://unsplash.com/s/photos/menu?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="ff50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular </a>是一个非常强大的框架，用于构建健壮、快速、响应的应用程序。</p><p id="351c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我第一次踏入Angular的世界时，我发现即使我以前有过HTML、CSS、JS等方面的经验，Angular也有一个相当陡峭的学习曲线。</p><p id="23ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也就是说，我想制作这个介绍性教程来支持任何想开始使用Angular的人，因为我相信它是任何开发人员的必备工具！</p><p id="d7f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，对于刚开始学习Angular的人，我希望这能对你有所帮助。</p><p id="6660" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本教程将带你一步一步地了解如何使用<a class="ae ky" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>框架创建一个菜单，并使用routing在两个不同的组件间导航。</p><p id="9ede" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您的机器上安装了Angular，让我们开始创建一个新项目，使用:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8b7e" class="ma mb it lw b gy mc md l me mf">ng new menu-demo</span></pre><p id="7bdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要在项目中启用路由，请在看到以下提示时选择“y”选项:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="460a" class="ma mb it lw b gy mc md l me mf">? Would you like to add Angular routing? (y/N)</span></pre><p id="76c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>通过生成路由模块，可以在创建项目后启用路由，但这种方式简单得多，因为一切都是自动为您配置的(稍后您会感谢我的！).</p><p id="b6c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为Angular框架的一个很好的补充，Google创建了Angular Material-UI框架。</p><p id="bc90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这使得开发人员可以轻松地实现一个简单的交互式UI，使您的应用程序更具吸引力。</p><p id="4043" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要将角度材质集成到项目中，请导航到项目目录，并使用以下内容导入框架:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9e0a" class="ma mb it lw b gy mc md l me mf">ng add @angular/material</span></pre><p id="1a5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个命令将自动包括你的项目需要使用的所有必需的依赖到角度材料，所以换句话说，眼不见，心不烦！</p><p id="ad99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦Angular材质包成功安装，它将提示您选择一个预建或自定义的主题来集成到您的项目中。</p><p id="2d1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这完全取决于你，因为它将决定你的应用程序将遵循的配色方案(我最喜欢的是紫色/绿色主题，但嘿，这只是我的)。</p><p id="e7d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另外，如果你不喜欢你选择的主题，你可以随时改变它！接下来，您需要对以下提示回答<em class="mg">是</em>:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="ddc9" class="ma mb it lw b gy mc md l me mf">? Set up HammerJS for gesture recognition? Yes<br/>? Set up browser animations for Angular Material? Yes</span></pre><p id="8763" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://hammerjs.github.io/" rel="noopener ugc nofollow" target="_blank">“hammer js</a>”用于支持手势(缩放、旋转、滑动等。)，而“角度材料的浏览器动画”使您能够简单地将动画集成到您的应用程序中(动画按钮状态，平滑从布线组件的过渡，等等)。).</p><p id="575c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两个安装都不是必需的，但是请注意，如果你不安装“角材料的浏览器动画”，你将禁用角材料使用的大量动画，这将是可悲的，但选择最终是你的。</p><p id="4891" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们可以通过Angular CLI生成一个预定义菜单(包括一个工具栏和一个侧面导航菜单)来开始使用Angular材质:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="a215" class="ma mb it lw b gy mc md l me mf">ng generate @angular/material:material-nav --name="nav-menu"</span></pre><p id="539f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该命令将通过访问角度材料包生成一个新的菜单组件。我们需要给组件起一个名字(我给我的命名为<code class="fe mh mi mj lw b">nav-menu</code>)。</p><p id="f6e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦您运行这个命令，组件将会生成，您将会看到一个名为<code class="fe mh mi mj lw b">nav-menu</code>的文件夹，其中包含了与新菜单组件相关的所有文件。</p><p id="d872" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生成的<code class="fe mh mi mj lw b">nav-menu.component.html</code>文件应该是这样的:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="e69a" class="ma mb it lw b gy mc md l me mf">&lt;mat-sidenav-container class="sidenav-container"&gt;<br/>  &lt;mat-sidenav #drawer class="sidenav" fixedInViewport<br/>      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"<br/>      [mode]="(isHandset$ | async) ? 'over' : 'side'" <br/>      [opened]="(isHandset$ | async) === false"&gt;<br/>    &lt;mat-toolbar&gt;Menu&lt;/mat-toolbar&gt;<br/>    &lt;mat-nav-list&gt;<br/>      &lt;a mat-list-item href="#"&gt;Link 1&lt;/a&gt;<br/>      &lt;a mat-list-item href="#"&gt;Link 2&lt;/a&gt;<br/>      &lt;a mat-list-item href="#"&gt;Link 3&lt;/a&gt;<br/>    &lt;/mat-nav-list&gt;<br/>  &lt;/mat-sidenav&gt;<br/>  &lt;mat-sidenav-content&gt;<br/>    &lt;mat-toolbar color="primary"&gt;<br/>      &lt;button<br/>        type="button"<br/>        aria-label="Toggle sidenav"<br/>        mat-icon-button<br/>        (click)="drawer.toggle()"<br/>        *ngIf="isHandset$ | async"&gt;<br/>        &lt;mat-icon aria-label="Side nav toggle icon"&gt;menu&lt;/mat-icon&gt;<br/>      &lt;/button&gt;<br/>      &lt;span&gt;menu-demo&lt;/span&gt;<br/>    &lt;/mat-toolbar&gt;<br/>    &lt;!-- Add Content Here --&gt;<br/>  &lt;/mat-sidenav-content&gt;<br/>&lt;/mat-sidenav-container&gt;</span></pre><p id="a900" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确认成功创建了菜单组件后，再创建两个组件。我们将使用这些组件，通过在它们之间切换来测试我们的应用程序，同时让菜单始终在页面上:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="29d1" class="ma mb it lw b gy mc md l me mf">ng generate component first-page</span><span id="570c" class="ma mb it lw b gy mk md l me mf">ng generate component second-page</span></pre><p id="722f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将创建另外两个文件夹，每个文件夹中包含每个组件所需的文件。</p><p id="2cc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们分别打开第一页和第二页文件夹中的<code class="fe mh mi mj lw b">first-page.component.html</code> <strong class="lb iu"> </strong>和<code class="fe mh mi mj lw b">second-page.component.html</code> <strong class="lb iu"> </strong>文件，您应该会看到:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="7913" class="ma mb it lw b gy mc md l me mf">&lt;p&gt;first-page works!&lt;/p&gt;</span></pre><p id="295d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并且:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="cd9e" class="ma mb it lw b gy mc md l me mf">&lt;p&gt;second-page works!&lt;/p&gt;</span></pre><p id="b321" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在准备好布线组件了！我们首先打开<code class="fe mh mi mj lw b">app-routing.module.ts</code> <strong class="lb iu"> </strong>文件，它应该包含类似如下的内容:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="31ff" class="ma mb it lw b gy mc md l me mf">import { NgModule } from ‘@angular/core’;<br/>import { Routes, RouterModule } from ‘@angular/router’;</span><span id="3dd8" class="ma mb it lw b gy mk md l me mf"><br/>const routes: Routes = [];</span><span id="9b79" class="ma mb it lw b gy mk md l me mf">@NgModule({<br/>imports: [RouterModule.forRoot(routes)],<br/>exports: [RouterModule]<br/>})<br/>export class AppRoutingModule { }</span></pre><p id="f476" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在想要导入我们创建的第一页和第二页组件(<strong class="lb iu">注意:</strong>我们不导入<code class="fe mh mi mj lw b">nav-menu</code>组件，因为我们永远不会在它和另一个组件之间切换——它将一直存在于页面上)。</p><p id="e33d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将向<code class="fe mh mi mj lw b">routes</code>数组添加路径，这将分别提供到第一个和第二个路径的路径。您的最终<code class="fe mh mi mj lw b">app-routing.module.ts</code>文件应该如下所示:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="c547" class="ma mb it lw b gy mc md l me mf">import { NgModule } from ‘@angular/core’;<br/>import { Routes, RouterModule } from ‘@angular/router’;<br/>import { FirstPageComponent } from ‘./first-page/first-page.component’;<br/>import { SecondPageComponent } from ‘./second-page/second<br/>page.component’;</span><span id="a63c" class="ma mb it lw b gy mk md l me mf"><br/>const routes: Routes = [<br/>{ path: ‘first-page’, component: FirstPageComponent },<br/>{ path: ‘’, redirectTo: ‘/first-page’, pathMatch: ‘full’ },<br/>{ path: ‘second-page’, component: SecondPageComponent }<br/>];</span><span id="0626" class="ma mb it lw b gy mk md l me mf">@NgModule({<br/>imports: [RouterModule.forRoot(routes)],<br/>exports: [RouterModule]<br/>})<br/>export class AppRoutingModule { }</span></pre><p id="a762" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意:</strong>数组中的第二个路径是这样的，当URL中有一个空路径时，它被重定向到首页组件，这意味着在加载时，它和菜单一起将是默认加载的组件。</p><p id="3c41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">快好了！现在，我们需要返回到<code class="fe mh mi mj lw b">nav-menu.component.html</code>文件并对其进行一些小的调整。因为我们只处理两个组件，所以可以随意删除第三个锚(<code class="fe mh mi mj lw b">&lt;a&gt;</code>)元素。</p><p id="5fb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在剩下的两个锚元素中，我们需要为每一个指定<code class="fe mh mi mj lw b">routerLink</code>元素，这基本上告诉Angular当你点击链接时如何响应(在我们的例子中，响应是在第一页和第二页组件之间切换)。</p><p id="6d13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，在注释行“Add Content Here”的正下方，我们需要添加<code class="fe mh mi mj lw b">router-outlet</code>指令，该指令将根据路由器的当前状态填充不同的内容(即，如果我们当前被路由到第一页组件，那就是将被加载到屏幕上的组件内容)。</p><p id="333f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该文件的最终版本应该类似于:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="22a8" class="ma mb it lw b gy mc md l me mf">&lt;mat-sidenav-container class=”sidenav-container”&gt;<br/>  &lt;mat-sidenav #drawer class=”sidenav” fixedInViewport<br/>      [attr.role]=”(isHandset$ | async) ? ‘dialog’ : ‘navigation’”<br/>      [mode]=”(isHandset$ | async) ? ‘over’ : ‘side’”<br/>      [opened]=”(isHandset$ | async) === false”&gt;<br/>    &lt;mat-toolbar&gt;Menu&lt;/mat-toolbar&gt;<br/>    &lt;mat-nav-list&gt;<br/>      &lt;a mat-list-item routerLink=”/first-page”&gt;First Page&lt;/a&gt;<br/>      &lt;a mat-list-item routerLink=”/second-page”&gt;Second Page&lt;/a&gt;<br/>    &lt;/mat-nav-list&gt;<br/>  &lt;/mat-sidenav&gt;<br/>  &lt;mat-sidenav-content&gt;<br/>    &lt;mat-toolbar color=”primary”&gt;<br/>      &lt;button<br/>        type=”button”<br/>        aria-label=”Toggle sidenav”<br/>        mat-icon-button<br/>        (click)=”drawer.toggle()”<br/>        *ngIf=”isHandset$ | async”&gt;<br/>        &lt;mat-icon aria-label=”Side nav toggle icon”&gt;menu&lt;/mat-icon&gt;<br/>      &lt;/button&gt;<br/>      &lt;span&gt;menu-demo&lt;/span&gt;<br/>    &lt;/mat-toolbar&gt;<br/>    &lt;! — Add Content Here →<br/>    &lt;router-outlet&gt;&lt;/router-outlet&gt;<br/>  &lt;/mat-sidenav-content&gt;<br/>&lt;/mat-sidenav-container&gt;</span></pre><p id="f7e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，为了结束我们的应用程序，我们导航到<code class="fe mh mi mj lw b">app.component.html</code> <strong class="lb iu"> </strong>文件，并将其内容替换为:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="d596" class="ma mb it lw b gy mc md l me mf">&lt;app-nav-menu&gt;&lt;/app-nav-menu&gt;<br/>&lt;router-outlet&gt;&lt;/router-outlet&gt;</span></pre><p id="9b9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还记得我说过我们不需要在路由中包含菜单组件，因为它会一直出现在屏幕上吗？</p><p id="5398" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是通过在<code class="fe mh mi mj lw b">app.component.html</code>文件中包含<code class="fe mh mi mj lw b">app-nav-menu</code>组件来实现的，因为我们将菜单组件定义为在整个应用程序中保持不变。</p><p id="7782" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后但同样重要的是，让我们看看我们创造了什么！</p><p id="cf9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以运行命令:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="6f76" class="ma mb it lw b gy mc md l me mf">ng serve --open</span></pre><p id="1a0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将在本地为我们的应用程序提供服务(默认为端口4200)，用<code class="fe mh mi mj lw b">— open</code>标志自动打开浏览器并显示端口的内容。</p><p id="0db4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。加载后，我们将看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ml"><img src="../Images/41697408710c992a87e827cac6e5ba86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5NSquNkdJ9OqxMrG6z3JQw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">首页组件的页面视图</p></figure><p id="642a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们单击菜单中的<em class="mg">第二页</em>按钮，将加载第二页组件，并从第一页组件中移除内容。我们将会看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/84bb4fd815de045bdfa73bf4d4d63110.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_h4uUTxKqwzo081u7ZqClA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第二页组件的页面视图</p></figure><p id="9eff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完了！现在有趣的部分来了，构建应用程序的主体，添加更多的组件、服务，并学习更多关于Angular的功能和通用性！</p><p id="ae17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这个教程对你有帮助！</p></div></div>    
</body>
</html>