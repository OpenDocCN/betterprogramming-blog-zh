<html>
<head>
<title>Exploring the Salesforce Mobile SDK Using React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React Native探索Salesforce Mobile SDK</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-the-salesforce-mobile-sdk-using-react-native-34f05217c1d4?source=collection_archive---------10-----------------------#2022-03-24">https://betterprogramming.pub/exploring-the-salesforce-mobile-sdk-using-react-native-34f05217c1d4?source=collection_archive---------10-----------------------#2022-03-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d669" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">快速轻松地创建Android和iOS应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/fcf916c00e80e3da8dfe85fcdab07171.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r7hHYAOd5bYn-cW8ZNqySQ.jpeg"/></div></div></figure><p id="d4d7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">去年7月，我开始撰写一个系列文章，重点介绍如何在没有传统Salesforce客户端的情况下使用Salesforce平台。以下是该系列其他文章的链接:</p><ul class=""><li id="9e89" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-without-using-salesforce-8ed8c2556926" rel="noopener">利用Spring Boot的销售力量</a></li><li id="36be" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-svelte-93b431a15bf4" rel="noopener">利用Salesforce使用一个用简洁语言编写的客户端</a></li><li id="6e59" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-vue-js-e94dc0e19057" rel="noopener">使用Vue.js编写的客户端利用Salesforce】</a></li><li id="0465" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-mobile-applications-written-once-in-react-native-8f646a82774" rel="noopener">利用使用React Native编写(一次)的移动应用程序利用Salesforce】</a></li><li id="74cd" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated"><a class="ae lw" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-angular-36fe949ef69b" rel="noopener">使用Angular编写的客户端利用Salesforce】</a></li></ul><p id="a7c2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">该系列的图示可总结如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mc"><img src="../Images/3d4333673feb5998cf6222694a6d8bd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0OZ3hVBCkzBQhA2l79oO1w.png"/></div></div></figure><p id="ccce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">上图展示了各种客户端框架如何访问Salesforce数据，而无需实际利用Salesforce生态系统提供的客户端。</p><p id="2ea6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">功能团队开发人员可能不知道<a class="ae lw" href="https://developer.salesforce.com/docs/atlas.en-us.mobile_sdk.meta/mobile_sdk/intro.htm" rel="noopener ugc nofollow" target="_blank"> Salesforce Mobile SDK </a>，它允许您在独立的移动应用程序中利用Salesforce平台的强大功能。</p><p id="6215" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个简短的系列中，我将演示如何将Salesforce Mobile SDK用于用React Native、Android Studio和Xcode编写的自定义移动应用程序。</p><p id="21a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这一新系列的图示可总结如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi md"><img src="../Images/3a3323add30444d660bb91f01b52b27e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zrGrSxAkjxIbdXpRLEDaQg.png"/></div></div></figure><h1 id="a985" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">Salesforce Mobile SDK的优势</h1><p id="960a" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">Salesforce Mobile SDK提供了软件工程师可以利用的多种优势:</p><ul class=""><li id="ee7f" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">允许自定义移动设备应用程序利用Salesforce特性和功能</li><li id="dbe4" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">完全访问Salesforce功能(无需另起炉灶)</li><li id="6f4b" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">可以使用本地设备的应用程序商店来分发应用程序</li><li id="d759" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">可以处理来自Salesforce的推送通知</li><li id="650d" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">在离线模式下使用Salesforce数据的能力</li></ul><p id="dc2a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您的应用程序环境在业务可操作性的关键方面利用Salesforce，那么您应该考虑利用Salesforce Mobile SDK，以便将由Salesforce维护的数据引入关键组件位置，从而促进强有力的业务决策。</p><h1 id="dfc7" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">使用React Native的好处</h1><p id="f9c3" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">如果您仍在阅读这篇文章，那么您一定对使用Salesforce生态系统开发应用程序感兴趣。如果您当前的客户群需要同时支持Android和iOS设备，那么React原生框架应该是您的首选。</p><p id="4be9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用React Native的特性团队的一些关键特性如下:</p><ul class=""><li id="5b51" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">对Android和iOS设备使用一个代码库</li><li id="76a5" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">利用JavaScript(如果需要，还有类型脚本)来避免学习新语言</li><li id="2381" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">为在移动设备上运行原生客户端提供快速周转时间</li></ul><h1 id="1041" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">为什么不用HTML5呢？</h1><p id="926f" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">那些有Angular、React、Vue.js(和其他客户端框架)经验的人可能会问“为什么不创建一个响应式HTML5应用程序？”</p><p id="b365" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">虽然HTML5方法是可行的，但当试图访问移动设备上的核心组件(如相机)时，确实存在限制。此外，会话管理和缺乏对安全存储的访问可能会在您的产品负责人心目中成为交易破坏者。此外，移动用户倾向于在他们的设备上使用本地应用程序，而不是基于浏览器的应用程序。</p><p id="e119" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有关更多信息和横向分析，请查看Salesforce提供的以下细分:</p><p id="47f2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae lw" href="https://developer.salesforce.com/docs/atlas.en-us.mobile_sdk.meta/mobile_sdk/intro_choose_scenario.htm" rel="noopener ugc nofollow" target="_blank">关于原生、HTML5和混合开发</a></p><h1 id="6c9e" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">芬尼食品:一个用例示例</h1><p id="ca58" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">有一个生来就有特殊需求的儿子(芬尼)引发了一种个人愿望，那就是理解和欣赏我们在日常生活中使用的产品。芬尼出生前几年，我和妻子(妮可)过着健康的生活。然而，当妮可开始深入研究我们日常饮食中的食物成分时，我们接到了一个急需的叫醒电话。</p><p id="fd41" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">快进到今天。我们的饮食包含很少的加工食品，没有面筋，低糖，和很少的乳制品。我们的蛋白质尽可能来源于草食来源，我们总是偏爱有机食品。不要让我开始谈论转基因。</p><p id="01f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于这个系列，我们的Finny's Foods应用程序提供了一个简单的列表，列出了我们可以接受并且Finny喜欢的食物。现在，我们将为每顿饭包含两个简单的属性:</p><ul class=""><li id="e0db" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">饭菜的名称</li><li id="b1bf" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm ls lt lu lv bi translated">评分(1到5，评分5是芬尼最喜欢的评分)</li></ul><p id="fb4e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着时间的推移，我打算引入其他属性(如摘要、成分、方向，甚至一张照片)，但我们先走后跑吧。</p><h1 id="4700" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">React Native入门</h1><p id="91e1" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">除了确保我的MacBook Pro上安装了git和<code class="fe nb nc nd ne b">npm</code>之外，我意识到我需要一个最新版本的Node。我还需要安装TypeScript和<code class="fe nb nc nd ne b">forcereact</code>包，这是我用<code class="fe nb nc nd ne b">npm</code>完成的:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="43af" class="nj mf iq ne b gy nk nl l nm nn">npm install -g typescript forcereact</span></pre><p id="a128" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本地机器上的<code class="fe nb nc nd ne b">./projects/jvc/salesforce-mobile-sdk</code>文件夹中，我使用<code class="fe nb nc nd ne b">forcereact</code>命令在React Native中创建了Finny's Foods应用程序:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="cbd1" class="nj mf iq ne b gy nk nl l nm nn">forcereact create --platform=ios,android <br/>  --appname=FinnysFoods --packagename=com.gitlab.johnjvester.finnysfoods <br/>  --organization="johnjvester" --outputdir=FinnysFoods</span></pre><p id="3bc5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">安装程序提供了以下摘要消息:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="996a" class="nj mf iq ne b gy nk nl l nm nn">********************************************************************************<br/>*<br/>*   Creating ios and android react_native application using Salesforce Mobile SDK<br/>*     with app name:        FinnysFoods<br/>*          package name:    com.gitlab.johnjvester.finnysfoods<br/>*          organization:    johnjvester<br/>*<br/>*     in:                   FinnysFoods<br/>*<br/>*     from template repo:   <a class="ae lw" href="https://github.com/forcedotcom/SalesforceMobileSDK-Templates#v9.1.1" rel="noopener ugc nofollow" target="_blank">https://github.com/forcedotcom/SalesforceMobileSDK-Templates#v9.1.1</a><br/>*          template path:   ReactNativeTypeScriptTemplate<br/>*<br/>********************************************************************************</span></pre><p id="9975" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">安装完必要的依赖项后，React本地应用程序库就准备好了。如果我想查看应用程序的Hello World版本，我只需执行以下操作:</p><ol class=""><li id="7c44" class="ln lo iq kt b ku kv kx ky la lp le lq li lr lm no lt lu lv bi translated">发出<code class="fe nb nc nd ne b">npm</code>开始命令</li><li id="d63a" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm no lt lu lv bi translated">启动Android Studio或Xcode</li><li id="8827" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm no lt lu lv bi translated">配置仿真器(如果尚未配置)</li><li id="32fd" class="ln lo iq kt b ku lx kx ly la lz le ma li mb lm no lt lu lv bi translated">从Android Studio或Xcode运行应用程序</li></ol><p id="12e7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在此之前，我想开始构建实际的应用程序。您可以在以前系列的“<a class="ae lw" href="https://dzone.com/articles/leveraging-salesforce-using-mobile-applications-wr" rel="noopener ugc nofollow" target="_blank">利用使用React Native </a>(一次)编写的移动应用程序的Salesforce”文章中看到一个Hello World示例。</p><p id="2042" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此时，我决定将<code class="fe nb nc nd ne b">/projects/jvc/salesforce-mobile-sdk/FinnysFoods</code>文件夹重命名为<code class="fe nb nc nd ne b">/projects/jvc/salesforce-mobile-sdk/finnys-foods</code>，以匹配我当前的GitLab命名格式。</p><p id="9631" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于本文的其余部分，我将从<code class="fe nb nc nd ne b">./finnys-foods</code>文件夹开始工作，除非另有说明。</p><h1 id="7ffe" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">为星级评定系统添加依赖关系</h1><p id="4890" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">为了提供更好的用户体验，我想在应用程序的标题旁边包含一个评级值。我认为利用<a class="ae lw" href="https://fontawesome.com/" rel="noopener ugc nofollow" target="_blank"> Font Awesome </a>库来显示一个填充的星来匹配五星量表上的评级会更好，而不仅仅是列出数字值。因此，四颗星的评级如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/b7647af19ab775a1ecdd74289c838e13.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/1*jDNbnnyUNkLjPU9aImL_iA.png"/></div></div></figure><p id="6d99" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为此，我发出了下面的命令来利用来自<code class="fe nb nc nd ne b">fortawesome</code>的库:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="696c" class="nj mf iq ne b gy nk nl l nm nn">npm i --save react-native-svg <br/>  <a class="ae lw" href="http://twitter.com/fortawesome/fontawesome-svg-core" rel="noopener ugc nofollow" target="_blank">@fortawesome/fontawesome-svg-core</a> <a class="ae lw" href="http://twitter.com/fortawesome/free-solid-svg-icons" rel="noopener ugc nofollow" target="_blank">@fortawesome/free-solid-svg-icons</a> <br/>  <a class="ae lw" href="http://twitter.com/fortawesome/react-native-fontawesome" rel="noopener ugc nofollow" target="_blank">@fortawesome/react-native-fontawesome</a> <a class="ae lw" href="http://twitter.com/fortawesome/free-regular-svg-icons" rel="noopener ugc nofollow" target="_blank">@fortawesome/free-regular-svg-icons</a></span></pre><p id="580e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此时，字体Awesome依赖项可供使用。</p><h1 id="f207" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">在Salesforce中创建膳食对象</h1><p id="8898" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">在开始在React Native中创建新应用程序之前，我需要在Salesforce中建立Meal对象。</p><p id="5a84" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我已经有了一个可以使用的开发者组织。(您可以在这里创建一个新的<a class="ae lw" href="https://developer.salesforce.com/docs/atlas.en-us.externalidentityImplGuide.meta/externalidentityImplGuide/external_identity_create_developer_org.htm" rel="noopener ugc nofollow" target="_blank">。所以，我只是用我的电子邮件地址和密码登录了这个组织。接下来，我导航到Salesforce中的应用程序|应用程序管理器和设置透视图。</a></p><p id="28ff" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我创建了一个名为“用餐”的新闪电应用程序:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/d3006b732d3e210c0a792e250eb884ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VSQbRCw2JVXWdMQ3Hf3DDQ.png"/></div></div></figure><p id="b777" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在设置的其余屏幕上，我使用所有默认设置并授予对所有Salesforce用户简档的访问权限。</p><p id="9e72" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我访问了Salesforce设置中的对象和字段|对象管理器菜单选项。找到新创建的餐饮项目后，我使用下拉组件编辑该对象。</p><p id="0497" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我从细节子菜单切换到字段和关系选项。我很快意识到我不需要为我的Meal对象创建Name属性，因为Salesforce已经为我处理好了。我只需要添加评级字段。</p><p id="450f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用“新建”按钮，我选择了“数字”字段类型，并填充了第二步，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/b565b27eb437e894be28281519116030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VTeRl0QWvYd-REiYNFIUgg.png"/></div></div></figure><p id="3530" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我使用默认值并保存了新字段。现在，我可以在我的React本机应用程序中使用name和rating字段，这都是因为Salesforce自动将所有这些模式更改呈现给这个Salesforce组织的RESTful API。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/136cd4f8989204fd8c66d4a4d40bc177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TCoCDVF9PYvK9TLfoy-5pg.png"/></div></div></figure><p id="d51a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用Salesforce客户端，我填充了一些源数据，用于React本机应用程序的开发。以下是提交值的汇总:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/2b43694cd8084fb547ec8cd261de8284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AvzApqjOeHpvhKu4xJLqjw.png"/></div></div></figure><p id="43e1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据样本数据，芬尼总是更喜欢“比萨饼”而不是“鸡肉和米饭”</p><h1 id="12af" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">在React Native中构建膳食组件</h1><p id="48ec" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">配置好源对象和数据后，我使用IntelliJ IDEA应用程序第一次打开了<code class="fe nb nc nd ne b">./finnys-foods</code>项目。</p><p id="718f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="nu">重要提示</em> </strong> <em class="nu">:记住，我们在这里要指向根文件夹(</em> <code class="fe nb nc nd ne b"><em class="nu">./finnys-foods</em></code> <em class="nu">)，因为这是我们将要进行源代码开发的地方。稍后，您将看到Android Studio在打开同一个项目时如何使用Android子文件夹。正如你所料，Xcode会使用</em> <code class="fe nb nc nd ne b"><em class="nu">ios</em></code> <em class="nu">子文件夹。</em></p><p id="325e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了简单起见，我的React本地应用程序将存在于<code class="fe nb nc nd ne b">app.tsx</code>文件中。构建业务应用程序的特性开发人员应该考虑为他们的React本机应用程序采用设计原则。由<a class="ae lw" href="https://saurabhshah23.medium.com/about" rel="noopener"> Saurabh Shah </a>撰写的“<a class="ae lw" href="https://saurabhshah23.medium.com/react-native-application-architecture-folder-structure-with-design-pattern-corporate-standards-efad5b230f07" rel="noopener">用设计模式反应本地应用架构——企业标准</a>”文章提供了一些关于这个主题的优秀信息。</p><p id="85b0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe nb nc nd ne b">app.tsx</code>文件已经填充了足够的信息，可以连接到Salesforce并使事情变得非常容易。</p><p id="0ebc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我把<code class="fe nb nc nd ne b">Record</code>界面换成了如下图所示的<code class="fe nb nc nd ne b">Meal</code>界面:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="3656" class="nj mf iq ne b gy nk nl l nm nn">interface Meal {<br/>    Id: String,<br/>    Name: String,<br/>    Rating__c: number<br/>}</span></pre><p id="d62d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，我相应地更新了<code class="fe nb nc nd ne b">Response</code>和<code class="fe nb nc nd ne b">State</code>接口:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="f784" class="nj mf iq ne b gy nk nl l nm nn">interface Response {<br/>    records: Meal[]<br/>}</span><span id="0f85" class="nj mf iq ne b gy nv nl l nm nn">interface State {<br/>    data : Meal[]<br/>}</span></pre><p id="8050" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我将React组件重命名为<code class="fe nb nc nd ne b">MealListScreen</code>，如下所示:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="283d" class="nj mf iq ne b gy nk nl l nm nn">class MealListScreen extends React.Component&lt;Props, State&gt; {</span></pre><p id="67de" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我更新了<code class="fe nb nc nd ne b">fetchData()</code>方法来调用在Salesforce中创建的<code class="fe nb nc nd ne b">Meal</code>自定义对象:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="44e3" class="nj mf iq ne b gy nk nl l nm nn">fetchData() {<br/>        var that = this;<br/>        net.query('SELECT Id, Name, Rating__c FROM Meal__c ORDER BY Name ASC LIMIT 100',<br/>                  (response:Response) =&gt; {<br/>                that.setState({data: response.records});<br/>            },<br/>                  (error) =&gt; console.log('Failed to query:' + error)<br/>                 );<br/>    }</span></pre><p id="a3da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我更新了<code class="fe nb nc nd ne b">render()</code>方法来显示食物的名称和相应的星级:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="ce9a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，我更新了应用程序，以反映应用程序的正确标题:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="c417" class="nj mf iq ne b gy nk nl l nm nn">export const App = function() {<br/>    return (<br/>        &lt;NavigationContainer&gt;<br/>          &lt;Stack.Navigator&gt;<br/>            &lt;Stack.Screen name="Finny's Foods" component={MealListScreen} &gt;&lt;/Stack&gt;<br/>          &lt;/Stack.Navigator&gt;<br/>        &lt;/NavigationContainer&gt;<br/>    );<br/>}</span></pre><p id="d5b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">随着这些变化的到位，我们准备使用Android Studio尝试Finny的美食应用程序。</p><h1 id="f469" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">芬尼食品在行动</h1><p id="ec8d" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">从命令行，我执行了<code class="fe nb nc nd ne b">./finnys-foods</code>文件夹中的<code class="fe nb nc nd ne b">npm start </code>命令。显示了以下信息:</p><pre class="kg kh ki kj gt nf ne ng nh aw ni bi"><span id="9954" class="nj mf iq ne b gy nk nl l nm nn">&gt; FinnysFoods@0.0.1 start /Users/john.vester/projects/jvc/salesforce-mobile-sdk/finnys-foods<br/>&gt; node node_modules/react-native/local-cli/cli.js start</span><span id="15c4" class="nj mf iq ne b gy nv nl l nm nn">######                ######               <br/>             ###     ####        ####     ###             <br/>            ##          ###    ###          ##            <br/>            ##             ####             ##            <br/>            ##             ####             ##            <br/>            ##           ##    ##           ##            <br/>            ##         ###      ###         ##            <br/>             ##  ########################  ##             <br/>          ######    ###            ###    ######          <br/>      ###     ##    ##              ##    ##     ###      <br/>   ###         ## ###      ####      ### ##         ###   <br/>  ##           ####      ########      ####           ##  <br/> ##             ###     ##########     ###             ## <br/>  ##           ####      ########      ####           ##  <br/>   ###         ## ###      ####      ### ##         ###   <br/>      ###     ##    ##              ##    ##     ###      <br/>          ######    ###            ###    ######          <br/>             ##  ########################  ##             <br/>            ##         ###      ###         ##            <br/>            ##           ##    ##           ##            <br/>            ##             ####             ##            <br/>            ##             ####             ##            <br/>            ##          ###    ###          ##            <br/>             ###     ####        ####     ###             <br/>               ######                ######               <br/>                                                          <br/>                 Welcome to React Native!<br/>                Learn once, write anywhere</span><span id="68ce" class="nj mf iq ne b gy nv nl l nm nn">To reload the app press "r"<br/>To open developer menu press "d"</span></pre><p id="647d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来我打开Android Studio，从<code class="fe nb nc nd ne b">./finnys-foods/android</code>文件夹导入项目，是一个Gradle项目。准备好后，我使用了“运行”菜单选项，并选择了“运行应用程序”选项，这也可以映射到Shift-F10快捷键。</p><p id="b7b5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请记住，我已经配置了一个Android设备，以便在以前系列的“<a class="ae lw" href="https://dzone.com/articles/leveraging-salesforce-using-mobile-applications-wr" rel="noopener ugc nofollow" target="_blank">使用React Native </a>中编写的移动应用程序利用Salesforce”文章中进行模拟。</p><p id="7abc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">移动设备显示在我的显示器上，我需要按继续选项来授予适当的权限。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/ba01f661700431ed6c3784915c7133b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TQ0R4xmO6M6uuPa6jHXJcA.png"/></div></div></figure><p id="cd01" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首次使用将自动重定向到Salesforce登录屏幕，在此我使用相同的电子邮件地址和密码访问我的开发人员组织。这是一个非常棒的特性，auth工作所需的一切都已经包含在内了。</p><p id="f6ab" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">同时，如果我们要在Salesforce中添加的自定义对象上分配安全性，它们也会被自动处理。</p><p id="56a3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">登录后，显示了Finny's Foods应用程序，包括每个项目的五星评分值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/635e2ee1f5cda6305993996bb0171b2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vPGtWVmrslIVMXz6eV17iQ.png"/></div></div></figure><p id="a884" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在几分钟内，我们能够使用React Native和Salesforce Mobile SDK为Android或iOS设备创建本机应用程序。</p><h1 id="32b1" class="me mf iq bd mg mh mi mj mk ml mm mn mo jw mp jx mq jz mr ka ms kc mt kd mu mv bi translated">结论</h1><p id="ad8b" class="pw-post-body-paragraph kr ks iq kt b ku mw jr kw kx mx ju kz la my lc ld le mz lg lh li na lk ll lm ij bi translated">从2021年开始，我一直努力按照以下我认为适用于任何IT专业人士的使命宣言来生活:</p><blockquote class="nz oa ob"><p id="d628" class="kr ks nu kt b ku kv jr kw kx ky ju kz oc lb lc ld od lf lg lh oe lj lk ll lm ij bi translated">“将您的时间集中在提供扩展您知识产权价值的特性/功能上。将框架、产品和服务用于其他一切。”</p><p id="f962" class="kr ks nu kt b ku kv jr kw kx ky ju kz oc lb lc ld od lf lg lh oe lj lk ll lm ij bi translated">—j·维斯特</p></blockquote><p id="5728" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我能够介绍一个定制的移动应用程序，使用一个源代码集合从Android和iOS应用程序商店进行本地部署。除了了解Javascript和React原生框架的架构之外，不需要任何专有技能。</p><p id="b349" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Salesforce Mobile SDK当然坚持我的个人使命声明，这将有利于任何需要Salesforce功能作为在Android和iOS设备上运行的自定义移动应用程序的一部分的功能团队。这个开发领域的软件工程师当然应该考虑这种方法。</p><p id="4ed6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您希望查看本文的完整源代码，只需导航到GitLab上的以下项目:</p><div class="of og gp gr oh oi"><a href="https://gitlab.com/johnjvester/finnys-foods" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">约翰·维斯特/芬兰食品公司</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">15.0主要版本即将发布！该版本为GitLab带来了许多令人兴奋的改进，但也删除了一些…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">gitlab.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow kp oi"/></div></div></a></div><p id="f66a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本系列的下一篇文章中，我计划使用带有Android Studio的Salesforce Mobile SDK来创建一个原生Android应用程序。一旦完成，我将使用iOS设备的Xcode执行相同的练习。</p><p id="803a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">祝你今天过得愉快！</p></div></div>    
</body>
</html>