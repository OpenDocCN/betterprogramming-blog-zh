<html>
<head>
<title>What Does the Percent Sign Mean in JavaScript?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的百分号是什么意思？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/what-does-the-percent-sign-mean-in-javascript-dd442822596?source=collection_archive---------3-----------------------#2020-01-20">https://betterprogramming.pub/what-does-the-percent-sign-mean-in-javascript-dd442822596?source=collection_archive---------3-----------------------#2020-01-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f77e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">看看模运算符和余数运算符之间的区别</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e7c8c7b2a5e1260413be3b1f0c25efb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-NfgBteJ0tzuzx3WSSqW3Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡斯帕·卡米尔·鲁宾在<a class="ae ky" href="https://unsplash.com/s/photos/javascript?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0453" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript有很多操作符。其中一个就是百分号:<code class="fe lv lw lx ly b">%</code>。它在JavaScript中有一个特殊的含义:它是<strong class="lb iu">余数运算符</strong>。它获取两个数之间的余数。</p><p id="73dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不同于像Java这样的语言，在Java中<code class="fe lv lw lx ly b">%</code>是<strong class="lb iu">模操作符</strong>。</p><p id="801c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们将看看模运算符和余数运算符之间的区别。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="84f8" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">模算子</h1><p id="2a3c" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">模运算符的工作方式类似于数学中的<code class="fe lv lw lx ly b">mod</code>运算符。这是模运算的一个基本组成部分，它像时钟一样工作。当数字大于给定值时，它会绕回小于给定值的值。</p><p id="621d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，一个时钟有12个小时。在数学中，我们用写<code class="fe lv lw lx ly b">x mod 12</code>来表示，其中<code class="fe lv lw lx ly b">x</code>是一个整数。例如，如果<code class="fe lv lw lx ly b">x</code>是20，那么<code class="fe lv lw lx ly b">20 mod 12</code>就是8，因为我们减去12，直到它在0和11之间。</p><p id="3de7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个例子是负数代表<code class="fe lv lw lx ly b">x</code>。如果<code class="fe lv lw lx ly b">x</code>是-1，那么<code class="fe lv lw lx ly b">-1 mod 12</code>就是11，因为我们给它加了12，使它在0和11之间。</p><p id="aaae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">12 mod 12</code>是0，因为我们从中减去12，直到它在相同的范围内。</p><p id="7c4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">mod</code>后的操作数可以是正数，也可以是负数。</p><p id="d93c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果右边的操作数是负的，那么它的范围必须是从负数加1到0。</p><p id="4e72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比如我们有<code class="fe lv lw lx ly b">1 mod -3</code>。然后我们从中减去3得到<code class="fe lv lw lx ly b">-2</code>。</p><p id="b998" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要查看模运算的更多属性，请查看维基百科上关于模运算的文章<a class="ae ky" href="https://en.wikipedia.org/wiki/Modular_arithmetic" rel="noopener ugc nofollow" target="_blank">和关于模运算符的文章</a>和<a class="ae ky" href="https://en.wikipedia.org/wiki/Modulo_operation" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="47c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">JavaScript百分号不做模运算。它用于计算第一个操作数除以第二个操作数的余数。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="824b" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">余数运算符</h1><p id="97df" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">这就是JavaScript的百分号的真正含义。例如，如果我们写:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="c704" class="nh mh it ly b gy ni nj l nk nl">10 % 2</span></pre><p id="e550" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们得到0，因为10能被2整除。</p><p id="8642" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果第一个操作数不能被第二个操作数整除，那么我们得到一个非零余数。例如，如果我们有:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="9bb1" class="nh mh it ly b gy ni nj l nk nl">10 % 3</span></pre><p id="e72b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么我们得到1，因为10除以3的余数是1。</p><p id="dcbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为百分号是一个余数运算符，所以它也适用于任何一个数字为负数的情况。例如，如果我们有:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="9251" class="nh mh it ly b gy ni nj l nk nl">10 % -3</span></pre><p id="105c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么我们得到1，因为商是-3，余数是1。</p><p id="4404" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，如果我们写:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="65b7" class="nh mh it ly b gy ni nj l nk nl">-10 % 3</span></pre><p id="6aa7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么我们得到-1，因为商是-3，余数是-1。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="85a2" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">用于进行模运算的按位运算符</h1><p id="f6e2" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我们可以使用<code class="fe lv lw lx ly b">&gt;&gt;&gt;</code>操作符，它是零左移操作符，来计算模2的32次方。</p><p id="f80e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">零左移运算符通过将零从左边推进来右移，最右边的一个移出移位。</p><p id="58ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我们写:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="8ca6" class="nh mh it ly b gy ni nj l nk nl">2**32 &gt;&gt;&gt; 32</span></pre><p id="914e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们得到0，因为我们从左边压入了32个0，这样就把所有的1都压出了。</p><p id="3b87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">写<code class="fe lv lw lx ly b">2**32 &gt;&gt;&gt; 0</code>和写<code class="fe lv lw lx ly b">2**32 &gt;&gt;&gt; 32</code>一样。</p><p id="54f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们写<code class="fe lv lw lx ly b">2**32 + 1 &gt;&gt;&gt; 32</code>，那么我们得到1，因为我们用值1添加了左边的第33位，然后我们从左边推入32个0，只留下1位。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/1b29da12fcf36f52abf01eebeba33832.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RpNWzUAcgCSxMowL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@slvrnight?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">俄罗斯艺术</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="e2ab" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">使用类型化数组进行模运算</h1><p id="56b1" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我们还可以使用类似于<code class="fe lv lw lx ly b">Uint8Array</code>、<code class="fe lv lw lx ly b">Uint16Array</code>和<code class="fe lv lw lx ly b">Uint32Array</code>的类型化数组进行模运算，因为每个条目只能分别是<code class="fe lv lw lx ly b">0</code>到<code class="fe lv lw lx ly b">2**8–1</code>、<code class="fe lv lw lx ly b">0</code>到<code class="fe lv lw lx ly b">2**16–1</code>或0到<code class="fe lv lw lx ly b">2**32–1</code>。名称第一个字符中的<code class="fe lv lw lx ly b">U</code>表示未签名。</p><p id="c575" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的每个例子中，我们创建一个有一个条目的类型化数组，然后我们给它分配不同的值来分别计算<code class="fe lv lw lx ly b">x mod 2**8</code>、<code class="fe lv lw lx ly b">x mod 2**16</code>和<code class="fe lv lw lx ly b">x mod 2**32</code>。</p><p id="b5a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我们写:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="e408" class="nh mh it ly b gy ni nj l nk nl">const arr1 = new Uint8Array(1);<br/>arr1[0] = 2**8;<br/>console.log(arr1[0]);<br/>arr1[0] = 2**8 + 1;<br/>console.log(arr1[0]);</span></pre><p id="f5f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们得到第一个<code class="fe lv lw lx ly b">console.log</code>给我们0，第二个<code class="fe lv lw lx ly b">console.log</code>给我们1，因为条目被包装在0和<code class="fe lv lw lx ly b">2**8 - 1</code>之间。</p><p id="f0b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，我们可以对其他类型的数组做同样的事情，如下所示:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="a54a" class="nh mh it ly b gy ni nj l nk nl">const arr1 = new Uint16Array(1);<br/>arr1[0] = 2**16;<br/>console.log(arr1[0]);<br/>arr1[0] = 2**16 + 1;<br/>console.log(arr1[0]);</span></pre><p id="398b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并且:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="c29a" class="nh mh it ly b gy ni nj l nk nl">const arr1 = new Uint32Array(1);<br/>arr1[0] = 2**32;<br/>console.log(arr1[0]);<br/>arr1[0] = 2**32 + 1;<br/>console.log(arr1[0]);</span></pre><p id="eb81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们得到与第一个例子相同的结果。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="1fd3" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">用JavaScript写一个模函数</h1><p id="c01f" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">如果我们真的想用JavaScript做模运算，我们必须写自己的模函数。</p><p id="061b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个例子是:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="c3ba" class="nh mh it ly b gy ni nj l nk nl">const mod = (a, b) =&gt; ((a % b) + b) % b</span></pre><p id="4a5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过将<code class="fe lv lw lx ly b">a % b</code>加到<code class="fe lv lw lx ly b">b</code>上，如果<code class="fe lv lw lx ly b">b</code>为负，则将<code class="fe lv lw lx ly b">a % b</code>的结果包装在0和<code class="fe lv lw lx ly b">b — 1</code>或<code class="fe lv lw lx ly b">b+1</code>和<code class="fe lv lw lx ly b">0</code>内。<code class="fe lv lw lx ly b">a % b</code>总是小于<code class="fe lv lw lx ly b">a</code>，因为它是余数，但是如果<code class="fe lv lw lx ly b">b</code>为负，它可能不在0和<code class="fe lv lw lx ly b">b — 1</code>或<code class="fe lv lw lx ly b">b+1</code>和<code class="fe lv lw lx ly b">0</code>和<code class="fe lv lw lx ly b">0</code>的范围内，所以我们给它加上<code class="fe lv lw lx ly b">b</code>。</p><p id="a9aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们写:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="e958" class="nh mh it ly b gy ni nj l nk nl">console.log(mod(1, 12));<br/>console.log(mod(13, 12));<br/>console.log(mod(13, -12));</span></pre><p id="d0d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么我们应该得到:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="e0cf" class="nh mh it ly b gy ni nj l nk nl">1<br/>1<br/>-11</span></pre><p id="fe1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们所期望的。</p><p id="add8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在JavaScript中，百分号是余数运算符。当我们用左操作数除以右操作数时，它会得到这个数的余数。要用JavaScript进行真正的模运算，我们必须编写自己的函数来完成，或者我们可以使用类型化数组来完成，因为它将值包装在给定的范围内。</p></div></div>    
</body>
</html>