# 解决问题的技巧:狙击手与将军

> 原文：<https://betterprogramming.pub/problem-solving-techniques-the-sniper-vs-the-general-5620e2096003>

## 处理生产中的重大事故时，应遵循的最佳方法是什么？

![](img/f8038eb3162bf3918f98765e6d363c75.png)

托马斯·塔克在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

*上午 10:00，团队收到一个事件:“我们电子商务首页上的产品选择器只显示 50%的产品，”问题解决开始了。*

拥有电子商务网站的团队开始调查。一名团队成员说，问题很可能出在负责产品缓存的 ETL 上，该缓存为选择器提供数据并在上午 9:00 运行，因此他将手动重建该缓存。完成并在页面上显示结果需要 30-40 分钟。

*上午 11:00，缓存重建后，问题仍然存在。同一个团队成员提出了另一个想法:“可能是缓存管理的分片。一个或多个节点可能不正常。让我们去除碎片；这会暂时增加成本，但问题会得到解决"*

*删除了分片，重建了缓存，下午 12:30，团队意识到只有 50%的产品可用。新想法，“上周我们更新了产品的前端组件，可能有些组件没有显示出来。”。团队回滚组件发布，结果相同。这一天即将结束，但问题依然存在。*

以前的方法我见过几千次了。在一个有许多活动部件的非常复杂的系统中出现了一个问题，有人立即想到了一个非常可能的根本原因并应用了解决方案，却发现这不是原因。这个循环可以重复几次，把解决问题的时间延长到几个小时，甚至几天或几周。

这就是猜测和狙击策略。工程师扮演狙击手的角色，选择一个目标(猜测)，然后除掉它(狙击)。如果直觉是好的，这种技术可以在创纪录的时间内交付一个解决方案。但如果没有，它可能会在尝试、浪费时间和沮丧的漩涡中结束。

对于一个复杂的问题，还有另一种方法，分而治之的策略。它包括查看系统和所有相关部分，并考虑我们可以做的检查，以消除大部分碎片(分割)。我们不断分割，直到剩余面积小到我们可以识别问题(征服)。

例如，在最初的例子中，管理案例的另一种方法是调用 web 页面使用的产品 API，并检查产品是否在那里。如果 API 只返回 50%的产品，我可以丢弃所有的前台，JavaScript，或者浏览器中可能的更新。在这种情况下，我们会将问题分开，丢弃一半，并使问题加倍容易。

狙击和分裂的主要区别在于调查的目的。狙击时，我们寻找错误的东西。当分割时，我们寻找将决定一方或另一方是否受到影响的东西。

现在我们对同一个问题有两种处理方法:能逐一消除可能根源的狙击方法或喜欢看大局、玩分而治之策略的通用方法。让我们比较一下这两种技术，看看它们的优缺点。

如果猜测正确，狙击策略可以非常快。猜测正确的可能性有多大:

*   我们的员工在系统中的资历越深、经验越丰富，猜测就越有可能是正确的。
*   系统越复杂，猜测越不可能是正确的。
*   他们尝试解决方案的次数越多，猜测越不可能是正确的。也就是说，第一个猜测比下一个更有可能是正确的。一旦我们尝试了被证明是错误的事情，新的事情就越不可能是根本原因。

前两点很明显，但第三点值得更深入的解释。团队会发现问题，并思考一些可能的根本原因。不知不觉中，他们会选择最有可能的选项。随着他们的尝试和失败，团队做出的猜测在统计上不太可能是根本原因。

另一方面，一般方法更安全。控制局面可能需要一些时间，但花的时间越多，我们就离解决方案越近。这与狙击方法相反，花费的时间越多，我们就越远。

狙击手可以很快；将军更安全。选什么？都是。

最好的做法是看看是否有一个明确的候选人狙击。第一个选项很可能是正确的。尤其是在处理我们的人掌握的系统时。但是一旦我们发现第一种选择被证明是错误的，我们就需要坐下来，分析大局，并改变方法，采用将军的方法。

如果你是一名经理，也许你会感兴趣。我经历过的一种情况是，一段时间后，一个团队开始争吵，所以我决定介入并要求团队改变方法。团队的第一反应是:“我们是这里的技术专家；让我们工作吧！”。他们是对的。同时，我知道这种方法是不正确的。遇到这种情况该怎么办？

我从这些事件中学到的教训，也是我想与你们分享的教训是，在火灾中教书不是一件好事。当人们有压力时，不是开始教训你的团队的时候。

如果团队不自信，在这个问题上缺乏领导或协调，如果你介入这种情况，他们会很高兴。你是他们的经理，他们很可能希望你这样做。这是他们需要的支持。在这种情况下，你有更多的选择来互动。这个时候不要说教，而是和他们就正确方向的决策达成一致。

另一方面，如果团队很自信，有明确的方向，你千万不要踏入。让他们工作。此时，你的角色应该是作为一个利益相关者，询问如何提供帮助以及现状、期望和信心。

你的角色应该更符合保护他们，消除障碍，保持日志，并保持与更广泛的组织沟通。在某些时候，他们可能会表现出缺乏信心、绝望和寻求帮助的迹象。那是为你打开的门，让你进入并帮助他们。

分析我们是如何应对的，讨论我们的方法，并找出更好的方法，这一时刻将在之后到来，在事后分析或吸取教训的阶段。这些最佳实践的教授和讲解需要在危机之外进行。