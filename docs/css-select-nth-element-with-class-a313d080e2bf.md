# CSS 用类选择第 n 个元素

> 原文：<https://betterprogramming.pub/css-select-nth-element-with-class-a313d080e2bf>

## (具有特定类别的第 n 个类型，也称为第 n 个类别)

![](img/b921488565f8397fa6d411737bbac8a4.png)

我最近遇到了一种情况，我想选择一个列表中具有特定类名的第 n 个元素。很自然，我开始研究一个合适的 CSS 技巧。

不幸的是，目前 CSS 中还没有这个特性。

在 CSS3 中，我们有选择某些 HTML 元素的`nth-of-type`选择器。

使用`nth-of-type`选择器时:

使用此标记:

它选择截面内的第三个

元素。这是因为 CSS 选择了段落类型在其父元素中第三次出现的

元素，并在计数时跳过了其他元素。

# 具有某类的第 n 个元素

我真正想做的是选择一个元素的第 n 个外观，该元素在一个公共父元素中有一个特定的类。

以这个标记为例:

假设您想要选择第二个包含`.active`类的列表项。正如我前面提到的，这在目前仅用 CSS 是不可能的。

**如果下面的选择器工作，这是可能的:**

在这个选择器中，我们使用了通用的兄弟选择器(~)。在 A ~ B 的情况下，这意味着在同一个父元素中选择 HTML 标记中 A 之后的 B 元素。这与相邻的兄弟选择器(+)之间的唯一区别是，在 A + B 的情况下，B 必须紧跟在 A 之后。

![](img/cafebff9b088bb01655fb62bf5d0f0ec.png)

记住这一点，我们可以看到我们提出的选择器首先选择了一个带有`.active`类的元素，这个类跟在另一个之后。活动元素。这实质上意味着第二个`.active`元素。但是这样做的问题是，它会从第二次出现开始选择所有的`.active`元素。这就是为什么我们使用`:not`伪类排除了第二次出现之后的`.active`元素。

这不起作用的原因是因为**的** `**:not**` **伪类不能处理组合子**。您只能传递单个元素、类或 id。

所以如果你真的想实现这个目标，你有两个选择:

*   为您想要特别选择的元素添加一个新类
*   使用 javascript 选择第二个出现`.active`元素

# JavaScript 解决方案

如果您决定使用 JavaScript，可以使用下面的代码。

用`active`类选择第二个元素:

使用 jQuery:

# CSS4 第 n 次最后匹配

在未来，CSS4 通过`:nth-match`和`:nth-last-match`选择器引入了这一功能。使用 CSS4，您可以简单地说:

# CSS 可以处理的场景

当选择具有特定类或 ID 的元素时，在某些情况下可以使用简单的 CSS。我们将讨论其中的两个。

![](img/0d44eab667f3080f099e985ed30df75a.png)

**1。从第 n 个外观中选择某一类元素的所有外观。**例如，如果我们选择第二个外观，这意味着该类的所有元素都将被选择，但仅从第二个外观开始。

上面的场景转换成 CSS 就是:

这个选择器很容易变得又长又丑，假设你想从第 12 个实例中选择所有的。对于这种情况，有必要创建一个 SASS 函数:

**2。使用某个类为每个元素添加增量样式。假设你有一个元素列表，其中一些有一个`.active`类。现在，假设你想用 CSS 动画一个接一个地淡入淡出它们，并在第一个动画上添加 0.5s 的动画延迟。主动元素，秒为 1s，秒为 1.5s，以此类推。这个场景实际上正是我寻找这个选择器的原因，也是我开始研究这个主题的原因。**

实现这一点的 CSS 样式是:

同样，编写所有这些代码也很费力，所以为了节省时间和清理代码，这里有一个 SASS mixin 来处理这个问题:

# 结论

CSS 选择器和 SASS 非常强大，所以没有 JavaScript 我们也能做很多事情。这就是为什么我喜欢首先探索 CSS 的可能性，然后才寻求 JavaScript 解决方案。

同时，在某些情况下，用 JS 选择元素并在其上打开和关闭类更容易。如果你的应用中有五个`.active`元素，出于某种原因你想选择第二个，那么这个元素很可能在某些方面是唯一的，应该用一个唯一的语义类来表示。CSS 用类选择第 n 个元素