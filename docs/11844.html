<html>
<head>
<title>Getting Started With Three.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Three.js入门</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/getting-started-with-three-js-7a9031379847?source=collection_archive---------4-----------------------#2022-04-21">https://betterprogramming.pub/getting-started-with-three-js-7a9031379847?source=collection_archive---------4-----------------------#2022-04-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1cd4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">将您的第一个3D模型导入React</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/8004f6fb3337a731247ce65f5e1b1882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*r_FUpiBDxoP-fafU.gif"/></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">今天，2022年4月，我们在建造什么</p></figure><p id="fab4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你曾经使用过<a class="ae ln" href="https://en.wikipedia.org/wiki/Blender_(software)" rel="noopener ugc nofollow" target="_blank"> Blender </a>，或者任何其他的3D建模程序，并且想要将你的模型整合到你的ReactJS应用程序中，这是为你准备的博客文章。<em class="lo">或</em>，如果你有<em class="lo">从未</em>使用过blender或其他任何3D建模程序，并且想第一次尝试使用<a class="ae ln" href="https://threejs.org/" rel="noopener ugc nofollow" target="_blank"> Three.js </a>，这是给你的！今天，我们将在React应用程序中渲染一个彩色的盒子。</p><p id="25d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里是<a class="ae ln" href="https://github.com/iloloizu/ThreeJS-Blog-Test" rel="noopener ugc nofollow" target="_blank">回购链接</a>如果要分叉的话。</p><p id="1d0e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，让我们从基础开始。</p><h1 id="f4d7" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">Three.js是什么？</h1><p id="4b7a" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">一个JavaScript 3D库，</p><blockquote class="mm mn mo"><p id="5cb1" class="kr ks lo kt b ku kv jr kw kx ky ju kz mp lb lc ld mq lf lg lh mr lj lk ll lm ij bi translated">Three.js是一个开源的JavaScript库，用于在web浏览器上显示图形、3D和2D对象。它在幕后使用WebGL API。Three.js允许您使用GPU(图形处理单元)在web浏览器的画布上渲染图形和3D对象。因为我们使用JavaScript，所以我们也可以与其他HTML元素交互。Three.js由Ricardo Cabello于2010年4月发布。— GeeksforGeeks</p></blockquote><h1 id="f3e9" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">让我们开始吧:</h1><h2 id="45b9" class="ms lq iq bd lr mt mu dn lv mv mw dp lz la mx my mb le mz na md li nb nc mf nd bi translated">安装Three.js</h2><p id="029e" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">在您的终端中，您需要完成的第一个目标是运行以下命令:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="723d" class="ms lq iq nf b gy nj nk l nl nm">npm install --save three<br/>npm install three @react-three/fiber <br/>npm install @react-three/drei</span></pre><h2 id="0942" class="ms lq iq bd lr mt mu dn lv mv mw dp lz la mx my mb le mz na md li nb nc mf nd bi translated">创建容器组件</h2><p id="49d0" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">安装完必要的项目后，我们将使用以下内容创建一个新的react应用程序:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="c6ea" class="ms lq iq nf b gy nj nk l nl nm">npx create-react-app three-js-box-test</span></pre><p id="1100" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">…或者在react应用程序中创建一个新页面，并将以下内容作为另一个组件导入。</p><p id="c6f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要创建一个组件来保存我们今天要呈现的实际盒子。这将看起来像React中的典型组件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><h2 id="6d48" class="ms lq iq bd lr mt mu dn lv mv mw dp lz la mx my mb le mz na md li nb nc mf nd bi translated">创建盒子</h2><p id="fd4d" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">在这之后，你会注意到我们添加的唯一有趣的项目是一个画布。画布是我们3D模型的容器。现在，我们需要添加另一个名为Box.js的文件。在Box中，我们将创建我们想要渲染的实际3D项目。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="0463" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在…你不能告诉我那不容易！当你看到</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="608b" class="ms lq iq nf b gy nj nk l nl nm">&lt;boxBufferGeometry attach="geometry" args={[3,3,3]} /&gt;</span></pre><p id="93d9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你会注意到有一个名为“args”的属性，我建议你试试这个属性，这样你就可以改变盒子的尺寸了！从立方体到矩形棱柱，您可以用这些数字中的每一个来改变长度、宽度和高度。例如，试试这个:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="eea6" class="ms lq iq nf b gy nj nk l nl nm">&lt;boxBufferGeometry attach="geometry" args={[2,3,1]} /&gt;</span></pre><p id="e7a9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">meshNormalMateral为每个矢量变量添加了不同的光线，这允许一个非常漂亮和美观的盒子，你也可以导入更多的网格甚至你自己的纹理。看看<a class="ae ln" href="https://threejs.org/docs/index.html#api/en/constants/Materials" rel="noopener ugc nofollow" target="_blank">文档</a>就知道了！</p><h2 id="b288" class="ms lq iq bd lr mt mu dn lv mv mw dp lz la mx my mb le mz na md li nb nc mf nd bi translated"><strong class="ak">渲染盒子</strong></h2><p id="7328" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">最后，我们要做的是渲染盒子，用Three.js的纯粹的魔法和美丽。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="c954" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">嘣！！！我们拿到了。这是最终容器组件的外观。</p><p id="074a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您会注意到添加了三个项目。让我来解释一下:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="f9a6" class="ms lq iq nf b gy nj nk l nl nm">&lt;ambientLight intensity={1}/&gt; <br/>//Light is a necessity to see the object </span><span id="e727" class="ms lq iq nf b gy np nk l nl nm">&lt;directionalLight position={[-2,5,2]} intensity={1}/&gt; <br/>//This light changes the intensity from different axes </span><span id="0e53" class="ms lq iq nf b gy np nk l nl nm">&lt;OrbitControls enableZoom={false} autoRotate={true}/&gt; <br/>//This is what allows the box to be dynamically controlled by the user. AutoRotate is just a really cool added effect </span></pre><h1 id="8548" class="lp lq iq bd lr ls lt lu lv lw lx ly lz jw ma jx mb jz mc ka md kc me kd mf mg bi translated">渲染您自己的自定义3D模型</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nq"><img src="../Images/06cb21bd47515eada7a6e9c69a07502f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vV-mJE4w6Br-ttxByawzcQ.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">渲染乐高蝙蝠侠，2022年4月</p></figure><p id="43af" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，更详细的部分来了，假设你已经有了一个自己的3D物体，或者你从像<a class="ae ln" href="https://sketchfab.com/search" rel="noopener ugc nofollow" target="_blank"> Sketchfab </a>这样的网站上下载了一个3D物体来渲染它。乐高蝙蝠侠下载<a class="ae ln" href="https://sketchfab.com/3d-models/lego-batman-3d-model-from-the-lego-batman-fe0de34081854108b3899bbcc4c42b4b#download" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nv"><img src="../Images/d4352b1ad9d4e2c34f969535ca8dba28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RbCKj2QuzjlthEsevcfX3Q.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">从Sketchfab下载文件，2022年4月</p></figure><p id="e7a5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先你需要确定的是文件是. glTF。之后，如果你从Sketchfab下载了文件，你希望自动转换的文件显示在上面。下载文件时，解压并检查内容。您应该会看到一个scene.glTF文件。</p><h2 id="55d3" class="ms lq iq bd lr mt mu dn lv mv mw dp lz la mx my mb le mz na md li nb nc mf nd bi translated">。为德拉科干杯。glTF</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nw"><img src="../Images/9dfaa73fe03ca9dc62f821dd925ba719.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QS0JHGDd-lNBxAUnqLeGYA.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">解压文件夹！2022年4月</p></figure><p id="50ca" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们需要做的是在终端中运行命令，将scene.glTF转换为Draco。我们可以使用的glTF文件。我们将使用<a class="ae ln" href="https://github.com/CesiumGS/gltf-pipeline" rel="noopener ugc nofollow" target="_blank"> glTF管道</a>来转换我们的场景，在终端中，从保存scene.glTF文件的文件夹位置运行:</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="8611" class="ms lq iq nf b gy nj nk l nl nm">glgltf-pipeline -i model.gltf -o {your chosen model name}.gltf -d</span></pre><p id="5c66" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果该权限被拒绝，请在上面的代码前面添加<strong class="kt ir"> sudo </strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nx"><img src="../Images/9284ab40dea03b136c8e552d4a3a71f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgKab1E-YS9oMIj9jCgwFw.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">2022年4月，在终端进行转换</p></figure><p id="9f66" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">运行时，我们会看到一个名为{您选择的型号名称}的新文件。或者在我看来是蝙蝠侠。</p><h2 id="fc84" class="ms lq iq bd lr mt mu dn lv mv mw dp lz la mx my mb le mz na md li nb nc mf nd bi translated">德拉科。glTF to。射流研究…</h2><p id="7ae9" class="pw-post-body-paragraph kr ks iq kt b ku mh jr kw kx mi ju kz la mj lc ld le mk lg lh li ml lk ll lm ij bi translated">在这之后，你需要转化新的德拉科。glTF转换成一个. js文件，这样我们就可以在react中将它作为一个组件来呈现。我们将使用<a class="ae ln" href="https://github.com/pmndrs/gltfjsx" rel="noopener ugc nofollow" target="_blank"> gltfjsx </a>来做这件事，我保证这很容易。</p><pre class="kg kh ki kj gt ne nf ng nh aw ni bi"><span id="0aae" class="ms lq iq nf b gy nj nk l nl nm">npx gltfjsx {your chosen model name}.gltf</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi ny"><img src="../Images/fdbd8a7faf9dc9aef6b7e68e1bac41d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gok15H_TKUW2gdbBRe9k6Q.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">航站楼的最终外观，2022年4月</p></figure><p id="75e2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，您会注意到下载文件夹中的另一个文件！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nz"><img src="../Images/773455b8812c2366309b524afa8f7960.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IZ6CQBp9Y8ScohSHZNbvkA.png"/></div></div><p class="kn ko gj gh gi kp kq bd b be z dk translated">我们的JS模型在这里，2022年4月</p></figure><p id="7cb4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在此之后，我们应该可以点击并拖动Batman.js或{您选择的型号名称}。js到我们的项目中，并呈现组件，就像我们之前对盒子所做的那样。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="1479" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我想我会是第一个说的人。恭喜，您已经正式将您的第一个3D模型导入React。希望你喜欢这篇博文！</p></div></div>    
</body>
</html>