<html>
<head>
<title>How To Quickly Preview Your UIViewControllers Using SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用SwiftUI快速预览您的UIViewControllers</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-quickly-preview-your-uiviewcontrollers-using-swiftui-670aa9c0264e?source=collection_archive---------7-----------------------#2021-07-19">https://betterprogramming.pub/how-to-quickly-preview-your-uiviewcontrollers-using-swiftui-670aa9c0264e?source=collection_archive---------7-----------------------#2021-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cc85" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">最小化应用重建</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8fa62c15ce12a92a474e611f3399dc60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*atI1AUy_df3XfsjH"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@sigurdarson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">贡纳尔·西古尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>纵火</a>拍摄。</p></figure><p id="690d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我们将学习如何轻松调试我们的<code class="fe lv lw lx ly b">UIViewControllers</code>而无需多次运行我们的应用程序。我们将利用SwiftUI预览来实现这一点。我们还将创建一个方便的扩展，您可以复制并粘贴到您的应用程序中，以允许任何视图控制器的即时SwiftUI预览支持。</p><p id="7fcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使你的项目的最低iOS版本低于13.0，你仍然可以使用这个技巧，它会节省你很多时间。</p><p id="1eba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">示例项目的源代码可以在本文的底部找到。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="bb1a" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">我们开始吧</h1><p id="4c62" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我们从在<code class="fe lv lw lx ly b">UIViewController</code>上定义这个扩展开始:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><ol class=""><li id="a4ee" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated">我们向iOS 13及以上版本的消费者提供该扩展。</li><li id="0169" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">私有的<code class="fe lv lw lx ly b">Preview</code>结构符合<code class="fe lv lw lx ly b">UIViewControllerRepresentable</code>协议。我们将使用它为我们的视图控制器创建一个预览。</li><li id="4894" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">该结构依赖于一个<code class="fe lv lw lx ly b">UIViewController</code>。例如，如果我们想要一个<code class="fe lv lw lx ly b">SettingsViewController</code>的预览，我们将把它提供给<code class="fe lv lw lx ly b">Preview</code>结构。</li><li id="4354" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated"><code class="fe lv lw lx ly b">makeUIViewController(context:)</code>和<code class="fe lv lw lx ly b">updateUIViewController(_ uiviewController:context:)</code>方法是<code class="fe lv lw lx ly b">UIViewControllerRepresentable</code>协议所要求的。在<code class="fe lv lw lx ly b">makeUIViewController</code>方法中，我们返回想要获得预览的视图控制器。后一种方法保持为空。</li><li id="60b7" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">我们创建一个方便的<code class="fe lv lw lx ly b">preview</code>属性，为视图控制器返回一个<code class="fe lv lw lx ly b">Preview</code>。</li></ol><p id="21ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我们在应用程序中添加任何<code class="fe lv lw lx ly b">UIViewController</code>预览支持所需的全部内容。让我们测试一下我们创造了什么。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="d1a1" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">用法示例</h1><p id="f7ef" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我们有一个简单的屏幕来获取用户并在一个<code class="fe lv lw lx ly b">UITableView</code>中显示他们:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/551c1d0d618f68d100e9fcc2294af0c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vZu5fqArcivomp1mMu08fQ.png"/></div></div></figure><p id="5bb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的<code class="fe lv lw lx ly b">User</code>模型非常简单，我们有<code class="fe lv lw lx ly b">mockUsers</code>属性来获取一组样本用户:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="e3bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">视图控制器的代码也非常简单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="9e75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，在<code class="fe lv lw lx ly b">viewDidLoad()</code>中，我们模拟了一个网络请求，该请求返回一组用户并重新加载表视图:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="5160" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了创建<code class="fe lv lw lx ly b">UsersViewController</code>的预览，我们需要做的就是定义一个符合<code class="fe lv lw lx ly b">PreviewProvider</code>协议的结构，并返回我们在本教程开始时创建的<code class="fe lv lw lx ly b">Preview</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="4612" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们能够在Xcode中看到视图控制器的实时预览:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/3ceccb16ef65752d058cb0b5d14149b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1fhiC-tRi5ntTrjTiHgqmw.png"/></div></div></figure><p id="b541" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经成功地添加了对<code class="fe lv lw lx ly b">UIViewController</code>预览的支持，并在一个简单的例子中测试了它们。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="25a0" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">资源</h1><p id="6a00" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">示例项目的源代码可以在<a class="ae ky" href="https://github.com/zafarivaev/viewcontroller-swiftui-previews" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="51c8" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">包扎</h1><p id="f64f" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">要了解更多关于SwiftUI预览的信息，请查看这篇由Manuel Schulze 撰写的<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/a-deep-dive-into-swiftui-previews-66d53469ee43">文章</a>。</p><p id="d58c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这篇教程对你有用。感谢阅读！</p></div></div>    
</body>
</html>