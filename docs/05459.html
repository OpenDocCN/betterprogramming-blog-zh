<html>
<head>
<title>MySQL Query Best Practices for Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向开发人员的MySQL查询最佳实践</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/mysql-best-practices-b103260f8b45?source=collection_archive---------2-----------------------#2020-07-10">https://betterprogramming.pub/mysql-best-practices-b103260f8b45?source=collection_archive---------2-----------------------#2020-07-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="29db" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何编写6个月后可以阅读的SQL查询</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://javarevisited.blogspot.com/2018/05/top-5-mysql-courses-to-learn-online.html"><div class="gh gi ki"><img src="../Images/a6602caa9fe3c668006b2b71a9978715.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bh0beNNBtpGkOCDTeyUmZA.png"/></div></a><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="d8e9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">毫无疑问，写代码是艺术而不是科学。即使有经验，也不是每个程序员都能写出既可读又可维护的漂亮代码。</p><p id="818b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一般来说，当你学习编码的艺术时，编码会随着经验的增加而改进，比如更喜欢组合而不是继承，或者更喜欢接口而不是实现的编码，但是只有少数开发人员能够掌握这些技术。</p><p id="b3b3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">同样的道理也适用于SQL查询。你构建查询的方式和你编写查询的方式对于向你的开发伙伴传达你的意图有很大的帮助。</p><p id="97e8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">每当我在来自多个开发人员的电子邮件中看到SQL查询，我都能看到他们写作风格的明显差异。<strong class="kw iu">一些开发人员写得很整洁，并适当地缩进他们的查询，这使得发现关键细节很容易，例如，你从哪个表中提取了哪些列，条件是什么。</strong></p><p id="7ab8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lr">在现实项目中，SQL查询很难成为一行程序</em>。学习编写<a class="ae lq" href="https://javarevisited.blogspot.com/2021/05/sql-and-database-phone-interview-questions.html" rel="noopener ugc nofollow" target="_blank"> <em class="lr"> SQL查询</em> </a>的正确方法，当您稍后自己阅读它们或者与他人分享该查询以供审查或执行时，会产生很大的不同。</p><p id="7cd0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文中，我将向您展示我过去尝试过的几种风格，它们的优缺点，以及我认为的编写SQL查询的最佳方式。</p><p id="4805" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">除非你有一个很好的理由不使用我的风格，比如你有一个更好的风格或者你想坚持你的项目中使用的风格(一致性压倒一切)，否则没有理由不使用它。</p><p id="b410" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">顺便说一下，我希望您熟悉SQL，并且知道SQL查询中不同的子句及其含义。如果您不是，最好通过参加如下的在线课程来获得一些SQL经验:</p><ul class=""><li id="7d04" class="ls lt it kw b kx ky la lb ld lu lh lv ll lw lp lx ly lz ma bi translated"><a class="ae lq" href="https://medium.com/javarevisited/top-5-sql-and-database-courses-to-learn-online-48424533ac61" rel="noopener">从0到1:SQL和数据库——疯子玉米挑起的重担</a></li><li id="f267" class="ls lt it kw b kx mb la mc ld md lh me ll mf lp lx ly lz ma bi translated"><a class="ae lq" href="https://medium.com/javarevisited/5-best-courses-to-learn-microsoft-sql-server-in-depth-e9f11b73c14a" rel="noopener">Jon Flanders的SQL简介</a></li></ul><p id="076a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是我强烈推荐给SQL初学者的两门课程。它们是很棒的课程，教你SQL基础知识。</p><p id="38b2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">是时候研究几种编写SQL查询的方法了，并找出哪一种是快速表达意图的最佳方式。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="924b" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">1.SQL查询版本1.0</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://javarevisited.blogspot.com/2021/05/top-5-oracle-database-and-plsql-online-courses.html"><div class="gh gi nf"><img src="../Images/5d86b954fc9f9c41e14598db57f5c9af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*se1WvM8wRtcJALWo.png"/></div></a></figure><h2 id="6ddd" class="ng mo it bd mp nh ni dn mt nj nk dp mx ld nl nm mz lh nn no nb ll np nq nd nr bi translated">赞成的意见</h2><p id="8176" class="pw-post-body-paragraph ku kv it kw b kx ns ju kz la nt jx lc ld nu lf lg lh nv lj lk ll nw ln lo lp im bi translated">引入了混合大小写来将关键字与列名和表名分开，比如将<code class="fe nx ny nz oa b"><a class="ae lq" href="https://javarevisited.blogspot.com/2011/10/selct-command-sql-query-example.html" rel="noopener ugc nofollow" target="_blank">SELECT</a></code>写成大写，而将<code class="fe nx ny nz oa b">Employee</code>写成原样。但是如果你不一致(例如，<code class="fe nx ny nz oa b">SELECT</code>是大写的，而<code class="fe nx ny nz oa b">from</code>是小写的)，那么使用这种风格是没有好处的。</p><h2 id="b219" class="ng mo it bd mp nh ni dn mt nj nk dp mx ld nl nm mz lh nn no nb ll np nq nd nr bi translated">骗局</h2><ul class=""><li id="0c6d" class="ls lt it kw b kx ns la nt ld ob lh oc ll od lp lx ly lz ma bi translated">混合案例</li><li id="d55a" class="ls lt it kw b kx mb la mc ld md lh me ll mf lp lx ly lz ma bi translated">整个查询写在一行上，一旦表和列的数量增加，这一行就变得不可读。</li><li id="c9c2" class="ls lt it kw b kx mb la mc ld md lh me ll mf lp lx ly lz ma bi translated">添加新条件或在没有现有条件的情况下运行没有灵活性。</li></ul></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="4bb6" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">SQL查询版本2.0</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://www.java67.com/2013/04/10-frequently-asked-sql-query-interview-questions-answers-database.html"><div class="gh gi nf"><img src="../Images/4aceb6364c663e816cb569e34c7d9147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Oknkpr_TQusPB_Ah.png"/></div></a></figure><h2 id="99d5" class="ng mo it bd mp nh ni dn mt nj nk dp mx ld nl nm mz lh nn no nb ll np nq nd nr bi translated">改进</h2><p id="f3d4" class="pw-post-body-paragraph ku kv it kw b kx ns ju kz la nt jx lc ld nu lf lg lh nv lj lk ll nw ln lo lp im bi translated">SQL查询被分成多行，这使得它更具可读性——是的，这一点很小，但却有很大的不同。</p><h2 id="6359" class="ng mo it bd mp nh ni dn mt nj nk dp mx ld nl nm mz lh nn no nb ll np nq nd nr bi translated">问题</h2><ul class=""><li id="6dc9" class="ls lt it kw b kx ns la nt ld ob lh oc ll od lp lx ly lz ma bi translated">混合案例</li><li id="8f6b" class="ls lt it kw b kx mb la mc ld md lh me ll mf lp lx ly lz ma bi translated"><code class="fe nx ny nz oa b"><a class="ae lq" href="https://www.java67.com/2019/06/difference-between-where-and-having-in-sql.html" rel="noopener ugc nofollow" target="_blank">WHERE</a></code> <a class="ae lq" href="https://www.java67.com/2019/06/difference-between-where-and-having-in-sql.html" rel="noopener ugc nofollow" target="_blank">子句</a>上的所有条件都在同一行，这意味着通过注释排除它们并不容易。</li></ul></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="3d6a" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">SQL查询版本3.0(最佳)</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://javarevisited.blogspot.com/2015/06/5-websites-to-learn-sql-online-for-free.html"><div class="gh gi nf"><img src="../Images/8b108e44812da38b2205704a8862ca11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R2U1EHfEnzFzsUet.png"/></div></a></figure><h2 id="f197" class="ng mo it bd mp nh ni dn mt nj nk dp mx ld nl nm mz lh nn no nb ll np nq nd nr bi translated">赞成的意见</h2><ul class=""><li id="1d1b" class="ls lt it kw b kx ns la nt ld ob lh oc ll od lp lx ly lz ma bi translated">将<a class="ae lq" href="https://sqlrevisited.blogspot.com/2022/01/top-15-sql-query-interview-questions.html" rel="noopener ugc nofollow" target="_blank"> SQL查询</a>分成多行使得它更具可读性。</li><li id="1fc5" class="ls lt it kw b kx mb la mc ld md lh me ll mf lp lx ly lz ma bi translated">使用适当的缩进可以很容易地找到数据源，比如表和连接。</li><li id="b64d" class="ls lt it kw b kx mb la mc ld md lh me ll mf lp lx ly lz ma bi translated">将条件放在单独的行上，允许您通过对其中一个条件进行注释来运行查询，如下所示:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://javarevisited.blogspot.com/2020/02/top-5-courses-to-learn-microsoft-sql-server-mssql.html"><div class="gh gi nf"><img src="../Images/ebaa9ea81b47a100b895fa4a74f3c2fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JeP7vDWG2MP1zSz0.png"/></div></a></figure><p id="c434" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">顺便说一下，如果您注意到了一个微妙的区别，我添加了<code class="fe nx ny nz oa b">WHERE 1=1</code>，这意味着您可以对任何条件进行注释，而不需要注释<code class="fe nx ny nz oa b"><a class="ae lq" href="https://sqlrevisited.blogspot.com/2022/02/how-to-filter-data-in-sql-where-clause.html" rel="noopener ugc nofollow" target="_blank">WHERE</a></code>子句，这在早期版本的查询中是不可能的。</p><p id="d693" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你是关键字大写的粉丝，也可以写同样的<code class="fe nx ny nz oa b"><a class="ae lq" href="http://www.java67.com/2018/02/5-free-database-and-sql-query-courses-programmers.html" rel="noopener ugc nofollow" target="_blank">SQL query</a></code>如下图。规则是相同的，但只是使用大写字母的关键字。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://javarevisited.blogspot.com/2020/11/top-5-free-oracle-sql-and-database-courses.html#axzz6uiUE2EEk"><div class="gh gi oe"><img src="../Images/0aec5905bff3e34e71158d39d983099f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*AQufVUdTEWbKHthA.png"/></div></a></figure><p id="0626" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就是关于如何编写一个可读且更易维护的SQL查询的全部内容<strong class="kw iu"/>。请随意发表您对SQL查询的缩进和样式的看法。</p><p id="e667" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一种更简单但非常强大的技术，对于提高包含多个连接的复杂SQL查询的可读性大有帮助，如我前面的例子所示。</p><p id="b812" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你愿意，也可以在线使用各种SQL格式化程序，但是我建议你学习一种风格并坚持下去，而不是依赖格式化程序。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="c3a1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读这篇文章。让我们知道你是如何编写SQL查询的，你使用哪种风格，你是否有自己的风格。</p></div></div>    
</body>
</html>