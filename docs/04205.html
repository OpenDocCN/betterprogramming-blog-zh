<html>
<head>
<title>How to Create a Modal For Your Angular App Without Using a Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在不使用库的情况下为Angular应用程序创建一个模型</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-a-modal-for-your-angular-app-without-libs-671bd7280867?source=collection_archive---------6-----------------------#2020-03-30">https://betterprogramming.pub/create-a-modal-for-your-angular-app-without-libs-671bd7280867?source=collection_archive---------6-----------------------#2020-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4201" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">没有依赖关系的情态动词</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/84efbd3b062029294919a983a9e9355a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jBhcW-ziYfGAHpkjddBG5g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">罗杰·布尔夏德在<a class="ae ky" href="https://unsplash.com/s/photos/free?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0ef5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我每天分享<a class="ae ky" href="https://medium.com/@david.dalbusco/one-trick-a-day-d-34-469a0336a07e" rel="noopener">一个小技巧</a>直到2020年4月19日新冠肺炎隔离期结束。还有二十天，直到希望更好的日子！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="361d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">前几天，我和我客户的一个队友在<a class="ae ky" href="https://angular.io" rel="noopener ugc nofollow" target="_blank"> Angular </a> ( &lt; v13)中构建一个快速的概念验证，为此我们必须在一个模态中显示一些东西。我认为，与其安装和使用设计库来解决这个需求，不如花几乎同样的努力来快速创建一个。事实证明我没有错。</p><p id="f1bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">昨天，我<a class="ae ky" href="https://medium.com/swlh/create-a-menu-for-your-gatsby-website-without-libs-b7eb3a563fd2" rel="noopener">分享了另一个解决方案</a>为一个<a class="ae ky" href="https://www.gatsbyjs.org" rel="noopener ugc nofollow" target="_blank"> Gatsby </a>网站创建一个没有任何依赖的自定义菜单，这让我有了分享这个教程的想法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/18e94c725ed934b5b57b12612a7cb3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*s0eN_t22IJLbosGLHblfiw.gif"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="32df" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">服务</h1><p id="24a4" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">模态有两种状态:<code class="fe na nb nc nd b">open</code>和<code class="fe na nb nc nd b">close</code>。这就是为什么在做任何事情之前，我们使用Angular CLI创建一个<code class="fe na nb nc nd b">service</code>(命令:<code class="fe na nb nc nd b">ng g service modal</code>)。我们将在整个应用程序中使用它来触发打开或关闭它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="39c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:如果你愿意，你可以使用<code class="fe na nb nc nd b">boolean</code>或<code class="fe na nb nc nd b">enum</code>，或者用<code class="fe na nb nc nd b">Subject</code>代替<code class="fe na nb nc nd b">BehaviorSubject</code>——重要的是你能够保持模态的两种状态。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="be36" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">情态的</h1><p id="0c53" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们使用Angular CLI ( <code class="fe na nb nc nd b">ng c component modal</code>)为我们的模型创建一个新组件。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7a3e" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">密码</h1><p id="0818" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">组件代码包含一个变量，一个我们用来监视模态状态的<code class="fe na nb nc nd b">Observable</code>,并公开一个我们可以用来关闭模态的函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="92de" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">模板</h1><p id="bf3b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在容器中，我们定义了一个<code class="fe na nb nc nd b">section</code>来在模态打开时覆盖整个屏幕，我们定义了一个子节点<code class="fe na nb nc nd b">div</code>，来将我们的模态约束到某个大小。</p><p id="78cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，我停止了容器上的事件传播。这是为了防止我们想要在模式中添加一些动作，例如，一个带有提交按钮的表单。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fab1" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">风格</h1><p id="8645" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">为了使模态平滑地出现，我们在属性<code class="fe na nb nc nd b">opacity</code>上使用了一个简短的<code class="fe na nb nc nd b">transition</code>。我们还为背景定义了一些<code class="fe na nb nc nd b">box-shadow</code>和<code class="fe na nb nc nd b">background</code>，只是为了让事情更有风格。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d157" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">申报</h1><p id="728c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">为了简单起见，我没有创建一个模块来加载模型。然而，我建议你这样做，如果你是按照本教程的实际应用程序。</p><p id="75c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，在本文中，我们将组件添加到主模块<code class="fe na nb nc nd b">app.module.ts</code>的<code class="fe na nb nc nd b">declarations</code>中:</p><pre class="kj kk kl km gt ng nd nh ni aw nj bi"><span id="9a4a" class="nk me it nd b gy nl nm l nn no">@NgModule({<br/>  declarations: [AppComponent, ModalComponent],<br/>  ...<br/>})<br/>export class AppModule {}</span></pre><p id="a458" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于整个应用程序，我们只在模板中使用一次我们的组件，因为我们只管理单个实例和状态，例如在<code class="fe na nb nc nd b">app.component.html</code>中。</p><pre class="kj kk kl km gt ng nd nh ni aw nj bi"><span id="be95" class="nk me it nd b gy nl nm l nn no">&lt;router-outlet&gt;&lt;/router-outlet&gt;</span><span id="42c6" class="nk me it nd b gy np nm l nn no">&lt;app-modal&gt;&lt;/app-modal&gt;</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b648" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">使用</h1><p id="6a9f" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们准备好了。一切都在发展，我们现在只需要有效地测试它。所以我们在应用程序中添加了一个<code class="fe na nb nc nd b">button</code>来触发模态打开。</p><p id="3be2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以在我们想要触发模态打开的组件中声明一个新函数<code class="fe na nb nc nd b">open()</code>。</p><pre class="kj kk kl km gt ng nd nh ni aw nj bi"><span id="2291" class="nk me it nd b gy nl nm l nn no">import {Component} from '@angular/core';<br/><br/>import {ModalService} from '../modal.service';<br/><br/>@Component({<br/>  selector: 'app-home',<br/>  templateUrl: 'home.page.html',<br/>  styleUrls: ['home.page.scss'],<br/>})<br/>export class HomePage {<br/><br/>  constructor(<br/>      private modalService: ModalService<br/>  ) {}<br/><br/>  open() {<br/>    this.modalService.open();<br/>  }<br/><br/>}</span></pre><p id="79f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后链接相关模板中的方法。</p><pre class="kj kk kl km gt ng nd nh ni aw nj bi"><span id="7402" class="nk me it nd b gy nl nm l nn no">&lt;button (click)="open()"&gt;<br/>  &lt;h2&gt;Open&lt;/h2&gt;<br/>&lt;/button&gt;</span></pre><p id="75b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样——不多也不少。我们已经为我们的应用程序开发了一个没有任何JavaScript依赖的定制模型。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9e33" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">摘要</h1><p id="7c69" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">当然，开箱即用、快速定制的莫代尔并不是你见过的最漂亮的东西。但对我来说，重要的是我们不必总是依赖依赖。这条路可能是彼得·奎尔的——两者都有一点。</p><p id="6a66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">呆在家里，注意安全！</p><p id="2242" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大卫</p></div></div>    
</body>
</html>