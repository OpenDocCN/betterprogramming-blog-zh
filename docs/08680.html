<html>
<head>
<title>10 Best Practices for Naming REST API Endpoints</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">命名REST API端点的10个最佳实践</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/10-best-practices-for-naming-rest-api-endpoints-442ae592a3a0?source=collection_archive---------0-----------------------#2021-05-31">https://betterprogramming.pub/10-best-practices-for-naming-rest-api-endpoints-442ae592a3a0?source=collection_archive---------0-----------------------#2021-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c5b8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">避免特殊字符，使用小写名称，等等</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/917e9a2c5696d5ab7a2c78626255d91c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4TLlisFk7XvtREAsS7C7Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">克里斯多佛·高尔在<a class="ae ky" href="https://unsplash.com/s/photos/web-api?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片。</p></figure><p id="6e04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Web开发人员对API并不陌生，尤其是像GET和POST这样的HTTP方法。说到设计API，后端工程师或API工程师也很熟悉。这意味着休息是一个熟悉的术语。都说REST是架构，不是标准。它是与HTTP一起开发的，最常用于HTTP。HTTP是一种标准，而REST是一种架构。REST是一种架构风格，它提供了指导API设计的约束。</p><p id="81a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">REST APIs是一个强大的工具，被系统广泛用于根据表述性状态转移(REST)架构模式进行通信和交换信息。无论是网站、移动应用还是企业集成，它们都被广泛使用。与上一代web服务(即SOAP)相比，REST具有更大的灵活性。</p><p id="b26e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在本文中，我们将只讨论REST或RESTful。</p><p id="6be3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管REST APIs非常有用，但创建它们可能是一个耗时的过程。如果您正在构建自己的REST或RESTful API，您应该知道有一些最佳实践可以遵循。这包括REST API端点的命名。</p><p id="b17f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上有十条准则可以让你的API端点变得更好:</p><ol class=""><li id="a43f" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">使用名词。</li><li id="26fa" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用直观、清晰的名称。</li><li id="2f85" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用小写字母。</li><li id="7500" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">避免使用特殊字符。</li><li id="087a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用正斜杠(<code class="fe mj mk ml mm b">/</code>)。</li><li id="8456" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">用连字符分隔单词。</li><li id="b549" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">不要使用文件扩展名。</li><li id="e14f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用camelCase作为参数。</li><li id="39d6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用API版本控制。</li><li id="ea20" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">一致性。</li></ol><p id="13dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它们看起来很容易做到，但是它们可以让你的端点看起来更好。所以，让我们开始吧！</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="7970" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">1.使用名词</h1><p id="5f51" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">给你的URIs命名时，建议用名词代替动词或形容词。HTTP方法在技术上是动词，因此有GET、POST、DELETE等。此外，名称代表资源的内容或资源本身。因此，实际上使用名词更有意义。</p><p id="cb8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您通常遇到的URL具有以下“语法”:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="b6d0" class="nv mv it mm b gy nw nx l ny nz">https://api.example.com/[resource]</span></pre><p id="8790" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="1004" class="nv mv it mm b gy nw nx l ny nz">https://api.example.com/users/abcd-efgh-ijkl</span></pre><p id="bbc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，你明白我的意思。基本上，当您查看URL时，可以看出它正在访问具有特定ID的用户资源，如示例所示。现在，如果URL如下所示:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="64e2" class="nv mv it mm b gy nw nx l ny nz">https://api.example.com/getUsers/abcd-efgh-ijkl</span></pre><p id="8b4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它看起来很滑稽。此外，如果您进行检查，浏览器会告诉您该URL正在使用GET方法，因此没有必要在您的URI中添加动作词。此外，您还将指定特定API将使用的HTTP方法。</p><p id="05db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来的问题是名词用单数还是复数。一般来说，复数名词是首选，因为它们在某种意义上代表更多的一般事物(除非您的资源是一个单数概念，如“admin”或“config”)。</p><p id="5130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在后面关于等级的内容中，你会看到关于这些复数名词的更深入的解释。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="c908" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">2.使用直观、清晰的名称</h1><p id="89d1" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">想到这，更像是用常识起的名字。尝试将自己定位为消费者。作为一个对您的服务一无所知的人，我希望能够通过阅读API端点的命名来理解您的API的基本用法。如果我想完全理解如何使用它，那么我会读得更深。</p><p id="e7f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，从这个意义上说，重要的是成全了<em class="oa">第一眼看到的</em>。因此，如果你使用一些奇怪或不清楚的东西(即模糊的名称)，你的消费者肯定不能从一开始就理解，你就有麻烦了。</p><p id="df97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">理想情况下，名称必须代表整体。此外，您还想通过避免缩写或速记来避免引起混淆。它不仅必须直观，而且必须清晰(这通常意味着只需拼写出名词)。</p><p id="108d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，当您被给予:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="4b93" class="nv mv it mm b gy nw nx l ny nz">GET <a class="ae ky" href="https://api.example.com/users" rel="noopener ugc nofollow" target="_blank">https://api.example.com/users</a></span></pre><p id="d546" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将能够理解，通过使用这个API，您将能够访问用户资源并获得用户信息。现在，一个资源可以有很多数据，所以复数名词更有意义。还有，像<code class="fe mj mk ml mm b">users</code>这样的直接名词，是可以理解的，也是清楚的。</p><p id="651e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是另一个在试图获取用户名字时不清楚的例子:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="79dd" class="nv mv it mm b gy nw nx l ny nz">GET <a class="ae ky" href="https://api.example.com/users/1234/fn" rel="noopener ugc nofollow" target="_blank">https://api.example.com/users/1234/fn</a></span></pre><p id="c1ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mj mk ml mm b">fn</code>看起来怪怪的，一点都不直观因为如果你和我一样书呆子的话会被误解为“功能”。</p><p id="de3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，坚持你的常识，选择直观、清晰的名字。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="ba51" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">3.使用小写字母</h1><p id="fcbe" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在这一点上，我并不真的与我的开发伙伴争论，但还是值得一提。根据我的经验，我遇到的每个人总是用小写字母代替大写字母。也许我们已经下意识地接受了这一点，因为我们每天访问的网站也使用小写字母。</p><p id="7528" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保在API URLs中使用小写字母。URI标准的RFC 3986规范也表示URIs是区分大小写的(URL的方案和主机组件除外)。考虑到它的广泛使用，避免因大小写不一致而造成任何不必要的混淆。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="b078" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">4.避免特殊字符</h1><p id="cf2f" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">你我都没见过URL命名中使用特殊字符。我的意思是，这完全违背了我们之前谈到的直观、清晰的命名准则。假设您在命名中引入了这些特殊字符。这将使用户感到困惑，技术上也很复杂。他们只是不必要的。</p><p id="5b54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，因为URL只能使用ASCII字符集发送和接收，所以您的API URLs应该只包含ASCII字符。然而，这并不意味着你可以使用所有的字符。像<code class="fe mj mk ml mm b">%20</code>这种代表空格字符的东西，也不要用。同样，这本身已经违背了直观的命名惯例。此外，这些字符通常是不安全字符的编码版本，如空格、括号等。为了防止混乱和安全问题。</p><p id="262a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以尽量避免在你的名字中使用像<code class="fe mj mk ml mm b">%20</code>这样的字符，因为这些字符已经有了其他的含义。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="41b9" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">5.使用正斜杠</h1><p id="a1d8" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">正常人可能不知道为什么链接中的单词用正斜杠分隔。作为一名开发人员，您应该熟悉其中的原因:斜线表示URI层级。API通常采用层次结构。</p><p id="c094" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="f124" class="nv mv it mm b gy nw nx l ny nz">GET <a class="ae ky" href="https://api.example.com/users/1234/first-name" rel="noopener ugc nofollow" target="_blank">https://api.example.com/users/1234/first-name</a></span></pre><p id="269b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个例子说它检索ID为<code class="fe mj mk ml mm b">1234</code>的用户的名字。因此，正斜杠字符表示这种等级导航，当您在URI中从左向右遍历时，这种导航会变得更加具体。</p><p id="d384" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有时候，当访问一个URL时，我喜欢毫无理由地在URL的末尾添加一个正斜杠。但是，请注意，实际上没有必要在最后加一个正斜杠。</p><p id="4d93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，这也是为什么你应该适当地使用复数名词，因为人们应该能够通过浏览URL来判断哪个部分更通用，哪个部分更具体。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="1835" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">6.用连字符分隔单词</h1><p id="8460" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">当一个REST API端点有多个单词时，建议用连字符(<code class="fe mj mk ml mm b">-</code>)将它们分开。它通常看起来更清晰，因此比使用下划线(<code class="fe mj mk ml mm b">_</code>)更加用户友好。这两者经常被混淆，我以前也亲身遇到过。但是，请不要使用茶色(如名字)，因为这看起来很奇怪。这样看起来会更好:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="3c70" class="nv mv it mm b gy nw nx l ny nz">https://api.example.com/users/1234/first-name</span></pre><p id="5ca2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，连字符对谷歌搜索更好，因为连字符是谷歌自己推荐的，以使其网页抓取工作更容易，从而创建更一致的结果。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="a9bf" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">7.避免文件扩展名</h1><p id="2523" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在URIs，使用文件扩展名被认为是不必要的。这是因为如果您更改结果的文件类型，可能会给最终用户带来一些问题。因此，它可能会增加您想要避免的不必要的复杂性。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="68b0" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">8.使用camelCase作为参数</h1><p id="3dce" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">设计API时，有时您需要一个直接从URL查询的输入，或者称为查询字符串。通常，当您想获得一个实体作为返回时，只需接受一个ID作为输入就足够了，然后我们根据请求的ID从数据库中获取一些神奇的数据并返回值。</p><p id="380b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那是怎么设计的呢？像这样:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="d8b8" class="nv mv it mm b gy nw nx l ny nz">/users/{userId}</span></pre><p id="8ea7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你看一下<code class="fe mj mk ml mm b"><a class="ae ky" href="https://api.example.com/users/1234" rel="noopener ugc nofollow" target="_blank">https://api.example.com/users/1234</a></code>链接，这里的<code class="fe mj mk ml mm b">1234</code>就是<code class="fe mj mk ml mm b">userId</code>。</p><p id="e63e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过以上方式，用户能够基于他们的用户ID来查询用户。现在，对于命名约定，建议使用camelCase而不是其他名称。从某种意义上说，它是好的，因为你一眼就知道它指的是一个参数，而不是链接本身。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="ab9b" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">9.使用API版本控制</h1><p id="601b" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">建议在构建API时使用版本控制，因为您永远不知道API的下一个版本是什么时候。不要总是认为你的API是最终版本，永远可用。总有可能会添加新的功能，或者必须对您的API进行一些更改。然而，有一件事你总是想避免，那就是破坏你现有的工作API。</p><p id="8aa1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么？因为你的用户很有可能已经在使用这些API了，如果你做出改变并推出它们，你的用户会不高兴的。那么，你如何解决这个问题呢？通过使用版本控制。此外，当您从一开始就使用版本控制并记录下来时，它会间接地告诉用户将来可能会有变化。提前让你的用户为任何即将到来的变化做好“准备”是有好处的。</p><p id="9834" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以使用版本控制，把它一直移到最左边，这样，在某种意义上，它就有了最高的范围。版本号应该是v1、v2等。，因为用户应该只关心主要的变化——因此，只关心主要版本。所以它应该是这样的:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="9e4d" class="nv mv it mm b gy nw nx l ny nz"><a class="ae ky" href="https://api.example.com/v1/" rel="noopener ugc nofollow" target="_blank">https://api.example.com/v1/</a></span><span id="310d" class="nv mv it mm b gy ob nx l ny nz"><a class="ae ky" href="https://api.example.com/v2/" rel="noopener ugc nofollow" target="_blank">https://api.example.com/v2/</a></span></pre><p id="8050" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="f34a" class="nv mv it mm b gy nw nx l ny nz">https://api.example.com/v1/users/1234/orders/2</span></pre><p id="acbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这样做，如果API被外部实体使用，改变端点不会真正影响现有的端点。</p><p id="3a05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，还有大约四种方式来进行版本控制:</p><h2 id="1850" class="nv mv it bd mw oc od dn na oe of dp ne li og oh ng lm oi oj ni lq ok ol nk om bi translated">子域中的版本控制</h2><p id="b9d9" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">这个将版本放在URI中，但是使它与域相关联，就像这样:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="497a" class="nv mv it mm b gy nw nx l ny nz">https://v1.api.domain.com/</span><span id="91f2" class="nv mv it mm b gy ob nx l ny nz">https://v2.api.domain.com/</span></pre><p id="c122" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与放在末尾的版本控制非常相似。然而，这有一个好处，即您的API可以托管在不同的服务器上。</p><h2 id="2b02" class="nv mv it bd mw oc od dn na oe of dp ne li og oh ng lm oi oj ni lq ok ol nk om bi translated">作为附加标题的版本控制</h2><p id="4d24" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">这种版本控制使用MIME类型来包含API版本。它看起来像这样:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="ba8d" class="nv mv it mm b gy nw nx l ny nz">GET https://api.example.com/users/1234 HTTP/1.1<br/>Accept: application/json<br/>Version: 1</span><span id="f329" class="nv mv it mm b gy ob nx l ny nz">GET https://api.example.com/users/1234 HTTP/1.1<br/>Accept: application/json<br/>Version: 2</span></pre><h2 id="d2d6" class="nv mv it bd mw oc od dn na oe of dp ne li og oh ng lm oi oj ni lq ok ol nk om bi translated">版本控制作为accept-/content-type标头中的附加字段</h2><p id="bb0a" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">这一条和上一条关于如何包含它的观点类似，只是结果不同。这是它的样子:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="c4b5" class="nv mv it mm b gy nw nx l ny nz">GET https://api.example.com/users/1234 HTTP/1.1<br/>Accept: application/json; version=1</span><span id="652a" class="nv mv it mm b gy ob nx l ny nz">GET https://api.example.com/users/1234 HTTP/1.1<br/>Accept: application/json;<strong class="mm iu"> </strong>version=2</span></pre><h2 id="ce1f" class="nv mv it bd mw oc od dn na oe of dp ne li og oh ng lm oi oj ni lq ok ol nk om bi translated">作为媒体类型的版本控制</h2><p id="0615" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">这也很相似，因为前面三种方法都使用MIME类型。唯一的区别是在哪里或者如何放置版本。以下是一些例子:</p><pre class="kj kk kl km gt nr mm ns nt aw nu bi"><span id="59b5" class="nv mv it mm b gy nw nx l ny nz">GET https://api.example.com/users/1234 HTTP/1.1<br/>Accept: application/vnd.&lt;host&gt;.users.v1+json</span><span id="d129" class="nv mv it mm b gy ob nx l ny nz">GET https://api.example.com/users/1234 HTTP/1.1<br/>Accept: application/vnd.&lt;host&gt;.users.v2+json</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="eb15" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">10.一致性</h1><p id="af81" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">最后但同样重要的是，不要因为API不一致而让用户感到困惑。始终保持一致。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="fcc6" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">包扎</h1><p id="a2b9" class="pw-post-body-paragraph kz la it lb b lc nm ju le lf nn jx lh li no lk ll lm np lo lp lq nq ls lt lu im bi translated">在构建REST APIs时，有如此多的建议和命名约定需要考虑，难怪有时候构建一个要花很长时间。你甚至可以和你的开发伙伴讨论命名约定本身，这将花费更多的时间。</p><p id="703c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">长话短说，人们确实有他们倾向于认同的准则。以上几点，大部分人应该是认同的。因此，我希望到现在为止，您已经更好地理解了命名API和资源层次结构是如何工作的。</p><p id="caaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，您的命名约定应该是:</p><ol class=""><li id="94c1" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">容易理解。</li><li id="b808" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">容易链接。</li><li id="751c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">一致。</li></ol><p id="2330" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到底谁更重要？他们是消费者。说到命名，仅仅从消费者的角度考虑也会有所帮助。众所周知，软件开发中的命名是至关重要的，同时也是非常困难的。我希望这篇文章对你有所帮助。</p><p id="0190" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>