<html>
<head>
<title>Use the New Playgrounds App for macOS to Write and Preview SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用macOS的新Playgrounds应用程序编写和预览SwiftUI</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/use-the-new-playgrounds-app-for-macos-to-write-and-preview-swiftui-7c61388b5e20?source=collection_archive---------8-----------------------#2020-02-18">https://betterprogramming.pub/use-the-new-playgrounds-app-for-macos-to-write-and-preview-swiftui-7c61388b5e20?source=collection_archive---------8-----------------------#2020-02-18</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="1d67" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">你不再需要Xcode来编写Swift或者用SwiftUI开发动态的、跨平台的界面——苹果的轻量级代码编辑器就在这里</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/549404bef69405b979b8d98344b27ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUMsjaKv_qI3a1y6Catftw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">图片由<a class="ae kz" href="https://pixabay.com/users/200degrees-2051452/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1684591" rel="noopener ugc nofollow" target="_blank"> 200度</a>发自<a class="ae kz" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1684591" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="9742" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当我听说Playgrounds已经为MacOS发布时，我很困惑。Playgrounds自2014年以来一直存在，当时它们与Swift编程语言一起推出。对于那些从未以这种形式使用过它的人来说，它本质上是一个读取-评估-打印-循环(REPL)环境，用于快速构建小代码片段的原型。如果你不知道什么是REPL，你可以把它想象成一种分析每一行代码的方法，在代码的最后显示结果。有一个计数器可以计算一个循环运行的次数，点击任何一个变量都可以让你添加一个<code class="fe lw lx ly lz b">Viewer</code>,这个变量的值在代码执行的整个过程中都会显示在屏幕上。</p><p id="aa3f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">使用该工具也可以制作更复杂的项目，但你不能在iOS设备或模拟器上构建它们，也不能在App Store上发布它们。</p><p id="0155" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Swift Playgrounds iPad应用于2016年推出，但它与Xcode工具不一样。当然，有相似之处，但它更侧重于教育。该应用程序附带了一些有趣的课程，允许您的代码帮助卡通人物alien Byte绕过迷宫，或者学习Blu's Adventure中的绘画。这个想法是让可能无法使用MAC但经常可以使用iPads的儿童开始使用Swift编码。</p><p id="e558" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">教育编码课程从未在MacOS上出现过。直到现在！</p><p id="a48d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">iOS开发中最令人兴奋的新事物，SwiftUI是一个新的声明式框架，用于为iOS、MacOS、tvOS和WatchOS创建动态和响应界面。有两种方法可以使用它来制作MacOS应用程序——传统方法，通过创建MacOS项目并选择SwiftUI作为用户界面，或者通过创建带有SwiftUI的iOS项目并选择Mac作为目标平台之一。现在可以使用名为Catalyst的框架为iPhone、iPad和Mac创建iOS项目。</p><p id="01e4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为什么我要提催化剂？因为苹果现在已经用它把iPad版的Playgrounds带到了MacOS上。Xcode版本仍然存在，但我们现在也有了教育编码类。当从Mac应用商店下载时，Swift Playgrounds仅占用155 MB的空间，相比之下Xcode接近10 GB。当我意识到你可以在操场上写SwiftUI时，我意识到实时视图有时比Xcode的画布预览效果更好。</p><p id="371a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下是您将在本教程中制作的内容:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ma"><img src="../Images/fe32f56d971843a7558dcba08e952bd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q7iBZnkKA__3Tjcttzo37Q.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">您将创建一个不使用Xcode的基本接口</p></figure><p id="05c9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这是一个非常基本的SwiftUI应用程序，只是为了让您看到如何使用该工具快速原型化控件。一旦你可以制作基本的控件，你就可以定制它们的外观，直到你乐意将它们复制到iOS项目中。Playgrounds的另一个用途是向WWDC学生奖学金计划提交申请，因为完整的iOS应用程序不被接受。</p><p id="5367" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">操场可以展示你的编程天赋，而不需要在设备上安装任何东西。我认为苹果公司向这个方向发展是因为所有提交的文件都比较小！</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="fff7" class="mi mj iu bd mk ml mm mn mo mp mq mr ms ka mt kb mu kd mv ke mw kg mx kh my mz bi translated">我们开始吧</h1><p id="e32e" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">首先，从Mac应用商店下载免费的Swift Playgrounds应用<a class="ae kz" href="https://apps.apple.com/gb/app/swift-playgrounds/id1496833156?mt=12" rel="noopener ugc nofollow" target="_blank">。在MacOS上有多个创建新项目的选项。你可以简单地进入文件&gt;新建空白操场，一个使用PlaygroundBook格式的文件将被创建。如果你不打算在Xcode的Playground上使用你的文件，这没问题，但是有另一种格式可以两者都用。在屏幕的顶部，你会看到你之前在iPad上制作的任何游乐场。在底部，有一个写着“更多游乐场”的栏，右端有一个蓝色按钮，写着“查看全部”。</a></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ma"><img src="../Images/2588f01234289fed36374c979966e74f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dtf5Ff_IOetu0nQNtwMQdQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">所有你在Xcode的游乐场里得不到的东西！</p></figure><p id="f3d5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这里你会看到我提到的所有教育教程，以及作为模板的各种起点。在“起点”上选择“查看全部”，然后选择“Xcode游乐场”这些文件可能不具备PlaygroundBook所具备的所有功能，但它拥有我们在本教程中所需的一切。当你以后想要访问你的代码时，如果你使用Xcode，而你的Playgrounds要求你在Playgrounds应用中打开它，这可能会令人沮丧。</p><p id="2cb4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，您将能够在没有Xcode的情况下开始编写SwiftUI！</p><p id="152b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI Playground所需的绝对基础是导入两个库。<code class="fe lw lx ly lz b">SwiftUI</code>是一个显而易见的例子，但是你还需要<code class="fe lw lx ly lz b">PlaygroundSupport</code>，它可以让你访问<code class="fe lw lx ly lz b">PlaygroundPage</code>。通过访问当前的<code class="fe lw lx ly lz b">PlaygroundPage</code>实例，您可以设置实时视图，如果您想与代码一起预览界面，这是必不可少的。与Xcode中的预览画布不同，游乐场中的实时视图始终可以进行交互，并且永远不会暂停。它可能要求您再次运行它，但是您也可以选择它自动运行，稍后我将向您展示。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nf ng l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">这是一个基本的初学者视图，您可以从中构建教程中的所有内容</p></figure><p id="6192" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这就是开始使用SwiftUI所需的全部内容。在右下角你会看到一个蓝色的按钮，上面写着“运行我的代码”点击这个应该会给你一个分割视图，显示你传递给文本的字符串。默认情况下，文本是居中的，将其放在VStack中允许我们添加多达十个垂直布局的子视图。如果我们有很多控件，也许我们会使用一个<code class="fe lw lx ly lz b">List</code>或<code class="fe lw lx ly lz b"> Form</code>，当内容对屏幕来说太大时，它们会自动滚动。</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="4518" class="mi mj iu bd mk ml mm mn mo mp mq mr ms ka mt kb mu kd mv ke mw kg mx kh my mz bi translated">添加属性</h1><p id="54b0" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">我们需要一些属性来存储控件的状态。这意味着它们需要被标记为<code class="fe lw lx ly lz b">State</code>，这意味着一个可以改变并随后导致整个视图被重绘的属性。毕竟，我们希望我们的用户界面在我们改变事物时做出反应，而不仅仅是保持不变。我们的每个属性都与一个控件相关，我们将在最后创建这个控件。这些属性需要在你的结构中，但是在声明返回“一些视图”的主体属性之前“某些视图”基本上是要求变量返回任何符合视图协议的具体类型。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nf ng l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">这是我们需要存储的所有数据</p></figure><p id="fc09" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">redButton</code> bool将存储在蓝色和红色文本之间切换的<code class="fe lw lx ly lz b">Button</code>的状态。不出所料，<code class="fe lw lx ly lz b">step</code>整数是针对<code class="fe lw lx ly lz b">Stepper</code>的。我们将使用<code class="fe lw lx ly lz b">Toggle</code>和<code class="fe lw lx ly lz b">showSecret</code>隐藏和显示秘密消息。您在<code class="fe lw lx ly lz b">TextField</code>中输入的任何内容都将存储在<code class="fe lw lx ly lz b">text</code>字符串中，最后，<code class="fe lw lx ly lz b">Slider</code>的值将存储在<code class="fe lw lx ly lz b">slide</code>中。如果您不知道绑定在SwiftUI中是如何工作的，我们就不会编写代码来在闭包中设置这些值。</p><p id="c883" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">相反，属性将以这样的方式绑定到控件，即更改控件将会更改相应的属性，反之亦然。例如，如果<code class="fe lw lx ly lz b">Toggle</code>打开，您可以完全确定这反映了底层数据的实际状态。这使得用户界面更容易告诉我们到底发生了什么。它还减少了当我们忘记根据UI状态设置属性时出现错误的可能性！</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="1c0a" class="mi mj iu bd mk ml mm mn mo mp mq mr ms ka mt kb mu kd mv ke mw kg mx kh my mz bi translated">添加控件</h1><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nf ng l"/></div></figure><p id="598c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">希望所有这些控件现在正在做什么是显而易见的。因为它们被绑定到状态属性，所以这些控件能够动态地改变用户界面。如果您再次单击“运行我的代码”，您将能够与所有控件进行交互，并亲自查看更改。</p></div><div class="ab cl mb mc hy md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="in io ip iq ir"><h1 id="5fd9" class="mi mj iu bd mk ml mm mn mo mp mq mr ms ka mt kb mu kd mv ke mw kg mx kh my mz bi translated">后续步骤</h1><p id="e731" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">有很多高质量的资源供你学习。每当你对如何声明一个内置控件感到困惑时，我推荐你用Swift 在<a class="ae kz" href="https://www.hackingwithswift.com" rel="noopener ugc nofollow" target="_blank"> Hacking上搜索那个控件。当你对自己的SwiftUI技能更有信心，并想尝试更多高级功能时，请前往</a><a class="ae kz" href="https://swiftui-lab.com" rel="noopener ugc nofollow" target="_blank"> SwiftUI实验室</a>。</p><p id="cbf5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">SwiftUI很可能会在2020年6月的WWDC大会上发生重大变化，因此在获得更多功能之前，尽可能对其当前的形式充满信心是一个好主意！</p></div></div>    
</body>
</html>