<html>
<head>
<title>Metadata and Additional Responses in FastAPI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">FastAPI中的元数据和附加响应</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/metadata-and-additional-responses-in-fastapi-ea90a321d477?source=collection_archive---------4-----------------------#2020-08-26">https://betterprogramming.pub/metadata-and-additional-responses-in-fastapi-ea90a321d477?source=collection_archive---------4-----------------------#2020-08-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="969a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">自定义您自己的API文档以获得更好的可读性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cd5e6ecc8d326ffe3e73a55d23327ef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l0mvN-VtHfyYy81zqlNHJw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="ca41" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基于我们之前的指南(<a class="ae lu" href="https://medium.com/better-programming/migrate-from-flask-to-fastapi-smoothly-cc4c6c255397" rel="noopener">平滑地从Flask迁移到FastAPI</a>)，我们今天将更深入地探索API文档。</p><p id="d79c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到目前为止，您应该意识到生成的交互式API文档和新创建的FastAPI服务器的ReDoc不是那么直观，并且缺少输入和输出模式的适当示例。让我们看看下面的例子。</p><p id="c17b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Swagger UI:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/561b09a6c697b201fc2e0ec2b1ae9d0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*foAFXc4th5WXAZk8qDbugg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="f7b0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">快速浏览一下，我们可以推断出有两个可用的API。第一个途径是创建一个用户，而第二个途径是获得一个新用户。对于不熟悉这个API的人来说，这些信息肯定是不够的。此外，命名是基于函数的实际名称。当更多的API加入其中时，它会变得非常混乱。</p><p id="00b6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果API文档看起来像这样，会方便得多，而且不言自明:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/9c2f4dab4bb01184e3dcae08c1b6507d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Ta7Ew1dCFg8yeHGyAt14A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="401f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与第一个相比，新开发人员阅读这个文档会更容易。</p><p id="4ae4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们继续下一节，向文档中添加元数据。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="6fef" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">1.[计]元数据</h1><h2 id="f289" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">标签</h2><p id="6acf" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">在初始化FastAPI实例时，可以直接向文档中添加通用元数据。在此之前，声明下面的<code class="fe nn no np nq b">tags_metadata</code>变量，该变量将在稍后用作我们拥有的每条路线的描述:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="7f66" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe nn no np nq b">tags_metadata</code>包含字典列表。每个字典都应该有一个唯一的名称，并由以下项目组成:</p><ul class=""><li id="3101" class="nt nu it la b lb lc le lf lh nv ll nw lp nx lt ny nz oa ob bi translated"><code class="fe nn no np nq b">name</code> —标签的唯一名称。强烈建议使用路线的名称作为每个字典的名称。默认情况下，这是必需的。</li><li id="59c4" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated"><code class="fe nn no np nq b">description</code> —标签的描述。允许降价语法。</li><li id="f26d" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated"><code class="fe nn no np nq b">externalDocs</code> —增加了两个条目的词典。第一个是<code class="fe nn no np nq b">description</code>，第二个是<code class="fe nn no np nq b">url</code>(如果指定了<code class="fe nn no np nq b">externalDocs</code>则需要)。</li></ul><p id="619e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在描述下，您可以使用Markdown语法来格式化您的文本。</p><h2 id="931b" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">大胆的</h2><p id="d1c5" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">粗体字应使用双星号:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="dc7c" class="mw mf it nq b gy ol om l on oo">The following word is **bolded**.</span></pre><h2 id="00db" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">斜体字</h2><p id="90e6" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">斜体的建议语法是将文本括在单个星号内:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="58ba" class="mw mf it nq b gy ol om l on oo">Flying to *Italy* next week!</span></pre><h2 id="9530" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">粗体+斜体</h2><p id="3902" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">您可以将两者结合起来，如下所示:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="e067" class="mw mf it nq b gy ol om l on oo">Have a ***great day*** ahead!</span></pre><h2 id="8cc1" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">密码</h2><p id="62d0" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">您可以通过将代码括在反斜线内来表示代码:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="d634" class="mw mf it nq b gy ol om l on oo">The code snippet is `userName = 'Wai Foong'`</span></pre><h2 id="ef53" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">FastAPI实例</h2><p id="4dcb" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">FastAPI实例的通常初始化如下:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="8fa0" class="mw mf it nq b gy ol om l on oo">app = FastAPI()</span></pre><p id="f4f0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将其修改为以下代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><ul class=""><li id="4897" class="nt nu it la b lb lc le lf lh nv ll nw lp nx lt ny nz oa ob bi translated"><code class="fe nn no np nq b">title </code> —代表将显示在文档顶部的H1标题。</li><li id="d3d9" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated"><code class="fe nn no np nq b">description</code> —标题正下方的描述文本。</li><li id="6034" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated"><code class="fe nn no np nq b">version</code> —代表API的当前版本。</li><li id="03ea" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated"><code class="fe nn no np nq b">openapi_tags</code>-包含每条路线元数据的字典列表。我们将传入之前定义的<code class="fe nn no np nq b">tags_metadata</code>变量。</li></ul><h2 id="0b39" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">标签</h2><p id="de9c" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">之后，您可以如下定义路线内的标记:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="3d75" class="mw mf it nq b gy ol om l on oo">@app.post("/create-user", tags=["create-user"])<br/>async def create_user(user: User):</span></pre><p id="bb63" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当你刷新网页到<code class="fe nn no np nq b">docs</code>网址时，你应该会看到显示的描述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/9c2f4dab4bb01184e3dcae08c1b6507d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Ta7Ew1dCFg8yeHGyAt14A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="7106" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">2.Pydantic基本模型</h1><p id="07c7" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">从<a class="ae lu" href="https://pydantic-docs.helpmanual.io/" rel="noopener ugc nofollow" target="_blank"> Pydantic </a>的<code class="fe nn no np nq b">BaseModel</code>继承的一个新类充当FastAPI中验证过程的核心元素。看看<a class="ae lu" href="https://medium.com/better-programming/the-beginners-guide-to-pydantic-ba33b26cde89" rel="noopener">的《Pydantic初学者指南》</a>,了解更多关于它背后的基本概念的信息。此外，从<code class="fe nn no np nq b">BaseModel</code>继承的任何类也可以作为<code class="fe nn no np nq b">Request Body</code>实例，您可以在其中添加额外的元数据。通常，您将按如下方式定义您的类:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h2 id="d050" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">田</h2><p id="151a" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">为了给它添加元数据，您必须使用直接来自Pydantic的<code class="fe nn no np nq b">Field</code>类。导入该函数，并将其修改为以下代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="23ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于可选参数，第一个参数应该定义为<code class="fe nn no np nq b">None</code>。我在这里只使用了<code class="fe nn no np nq b">title</code>和<code class="fe nn no np nq b">example</code>参数。</p><h2 id="6306" class="mw mf it bd mg mx my dn mk mz na dp mo lh nb nc mq ll nd ne ms lp nf ng mu nh bi translated">查询、正文和路径</h2><p id="59a5" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">除此之外，您还可以为<code class="fe nn no np nq b">Query</code>、<code class="fe nn no np nq b">Body</code>和<code class="fe nn no np nq b">Path</code>类指定相同的参数。唯一的区别是您必须从FastAPI而不是Pydantic导入它们。例如，给定以下接受查询参数的路由:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="8279" class="mw mf it nq b gy ol om l on oo">@app.get("/get-user", tags=["get-user"])<br/>async def get_user(id: str):</span></pre><p id="e626" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以很容易地直接在route函数中设置<code class="fe nn no np nq b">title</code>和<code class="fe nn no np nq b">example</code>，如下例所示:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="4832" class="mw mf it nq b gy ol om l on oo">from fastapi import FastAPI, Query</span><span id="8785" class="mw mf it nq b gy op om l on oo">@app.get("/get-user", tags=["get-user"])<br/>async def get_user(id: str = Query(..., title="3-digit identity number of the user", example="010")):</span></pre><p id="75ef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当您刷新文档时，应该会看到更新的方案。开发人员将更好地了解如何使用API，而无需阅读源代码。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/f1f33f4587f9b214cf5f5c0ddcbf5792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9rrBKUlQ7oakD_KboiAX-Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3476" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，输入有效负载/方案的示例也将更新:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/c1d56f74ee5064e6492cd9bd032a6ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*xsF4rTUJyfWZr-Q9WXM2_g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="8f5d" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">3.其他回复</h1><p id="1781" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">默认情况下，将返回一个<code class="fe nn no np nq b">JSONResponse</code>作为答案，除非您在<code class="fe nn no np nq b">response_class</code>中明确说明。以下示例以纯文本形式返回结果:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="4527" class="mw mf it nq b gy ol om l on oo">@app.get("/hello", response_class=PlainTextResponse)<br/>async def hello():<br/>    return "Hello World!"</span></pre><p id="384f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">话虽如此，您可以在您的路由中返回带有附加状态代码的不同响应。您必须直接返回带有状态代码的响应——即使它是<code class="fe nn no np nq b">JSONResponse</code>。</p><p id="4670" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面的代码片段说明了一条路线:</p><ul class=""><li id="6aeb" class="nt nu it la b lb lc le lf lh nv ll nw lp nx lt ny nz oa ob bi translated">如果发现与状态代码200匹配，则返回用户的信息。</li><li id="34f4" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated">如果不匹配，则返回状态代码404。</li><li id="ea86" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated">如果由于权限不足，查询参数id为<code class="fe nn no np nq b">007</code>，则返回状态代码403。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="70d1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了在文档中包含这些信息，您需要修改route decorator中的两个参数:</p><ul class=""><li id="0cef" class="nt nu it la b lb lc le lf lh nv ll nw lp nx lt ny nz oa ob bi translated"><code class="fe nn no np nq b">response_model </code> —表示默认模型作为响应。</li><li id="795c" class="nt nu it la b lb oc le od lh oe ll of lp og lt ny nz oa ob bi translated"><code class="fe nn no np nq b">responses</code> —字典形式的附加响应，其中关键字代表状态代码。您可以添加描述和示例结果，以便它们出现在文档中。</li></ul><p id="efe6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们使用以下附加元数据来重用前面的代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="87d5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实上，您可以创建一个预定义响应的字典:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="fcbf" class="mw mf it nq b gy ol om l on oo">responses = {<br/>    403: {"model": Message, "description": "Insufficient privileges for this action"},<br/>}</span></pre><p id="35d3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">并通过Python的解包方法重用它们:</p><pre class="kj kk kl km gt oh nq oi oj aw ok bi"><span id="6c14" class="mw mf it nq b gy ol om l on oo">**responses</span></pre><p id="77f1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请随意查看以下<a class="ae lu" href="https://gist.github.com/wfng92/ec8a1e2bd44c5e1cc2d9ca8db1f136fa" rel="noopener ugc nofollow" target="_blank">要点</a>中的完整代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="e1ea" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">4.结论</h1><p id="1f9c" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">让我们回顾一下今天所学的内容。</p><p id="4b43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们首先简单解释了新创建的FastAPI服务器缺乏示例和描述的原因。</p><p id="40c5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，我们探讨了如何在初始化FastAPI实例时向文档中添加元数据。根据描述，它非常支持粗体、斜体和基于Markdown语法的代码。</p><p id="3a09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们继续前进到下一部分，在那里我们接触到了在我们的路线中添加<code class="fe nn no np nq b">title</code>和<code class="fe nn no np nq b">example</code>的正确方法。我们测试了通过<code class="fe nn no np nq b">Field</code>和<code class="fe nn no np nq b">Query</code>类在一些参数上添加两个变量。</p><p id="5bc2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，我们还学习了如何直接用状态代码返回额外的响应。可以在route decorator中指定附加信息，使其出现在文档中。</p><p id="605c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢你阅读这篇文章。希望在下一篇文章中再见到你！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="c94a" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">参考</h1><ol class=""><li id="8462" class="nt nu it la b lb ni le nj lh os ll ot lp ou lt ov nz oa ob bi translated"><a class="ae lu" href="https://fastapi.tiangolo.com/tutorial/metadata/" rel="noopener ugc nofollow" target="_blank"> FastAPI元数据和文档</a></li><li id="25df" class="nt nu it la b lb oc le od lh oe ll of lp og lt ov nz oa ob bi translated"><a class="ae lu" href="https://fastapi.tiangolo.com/advanced/additional-responses/" rel="noopener ugc nofollow" target="_blank">open API中的FastAPI附加响应</a></li><li id="584b" class="nt nu it la b lb oc le od lh oe ll of lp og lt ov nz oa ob bi translated"><a class="ae lu" href="https://fastapi.tiangolo.com/tutorial/schema-extra-example/" rel="noopener ugc nofollow" target="_blank"> FastAPI Schema Extra </a></li><li id="3ed7" class="nt nu it la b lb oc le od lh oe ll of lp og lt ov nz oa ob bi translated"><a class="ae lu" href="https://www.markdownguide.org/basic-syntax" rel="noopener ugc nofollow" target="_blank">降价指南基本语法</a></li></ol></div></div>    
</body>
</html>