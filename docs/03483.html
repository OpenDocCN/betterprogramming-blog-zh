<html>
<head>
<title>Things That New Developers Tend to Forget or Neglect When Pushing Code to Production</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新开发人员在将代码推向生产时容易忘记或忽略的事情</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/things-that-new-developers-tend-to-forget-or-neglect-when-pushing-code-to-production-fb32d9d01519?source=collection_archive---------11-----------------------#2020-02-12">https://betterprogramming.pub/things-that-new-developers-tend-to-forget-or-neglect-when-pushing-code-to-production-fb32d9d01519?source=collection_archive---------11-----------------------#2020-02-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="dc6a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">新开发人员在将代码投入生产之前的清单</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fad567795e2c682fd96dcd21c1b65d37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bV16ut1s1vr-lpWRusDtMg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马特·拉格兰在<a class="ae ky" href="https://unsplash.com/s/photos/productivity?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="cef1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">向公众发布代码很可怕，但也不尽然。如果用户界面崩溃或者有人入侵数据库怎么办？幸运的是，我们可以采取一些对策来减轻启动项目带来的一些麻烦。</p><p id="a14e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个清单，任何新开发人员在向公众发布他们的代码之前都可以把它划掉。事不宜迟，清单如下。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="79d9" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">将密钥和令牌置于版本控制之外</h1><p id="33c6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">有两种类型的密钥和令牌，它们是<code class="fe mz na nb nc b">secret</code>和<code class="fe mz na nb nc b">public</code>密钥。<code class="fe mz na nb nc b">secret</code>和<code class="fe mz na nb nc b">public</code>的区别如下:</p><ul class=""><li id="f531" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated"><code class="fe mz na nb nc b">secret</code>钥匙应该而且必须藏起来。一般来说，他们不应该离开你的私人服务器(或服务，如Netlify或Travis CI)。密钥通常用于数据库或API连接。</li><li id="901f" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu ni nj nk nl bi translated"><code class="fe mz na nb nc b">public</code>密钥可自由共享，并包含在浏览器请求中。公钥通常用于分析服务、崩溃报告分析等。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ee8b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安全处理秘密</h1><p id="8abd" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">遵循这些步骤来消除代码中的秘密泄露<strong class="lb iu"> : </strong></p><ul class=""><li id="e6b2" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">用环境变量替换硬编码的键，例如<code class="fe mz na nb nc b">process.env.SECRET_API_KEY</code>。<em class="nr">环境变量</em>是一个变量，其值在程序之外设置，通常通过操作系统或微服务内置的功能来设置。</li><li id="fcd4" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu ni nj nk nl bi translated">使用类似<code class="fe mz na nb nc b"><a class="ae ky" href="https://github.com/motdotla/dotenv#dotenv" rel="noopener ugc nofollow" target="_blank">dotenv</a></code>的库创建一个<code class="fe mz na nb nc b">.env</code>文件。将您之前硬编码的秘密添加到<code class="fe mz na nb nc b">.env</code>文件中。</li><li id="1f20" class="nd ne it lb b lc nm lf nn li no lm np lq nq lu ni nj nk nl bi translated">最后但同样重要的是，将<code class="fe mz na nb nc b">.env</code>添加到您的<code class="fe mz na nb nc b">.gitignore</code>文件中。</li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="dcd5" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">拥有一个自动化的生产管道，并确保它运行您的测试</h1><p id="6952" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为了确保最高等级的代码质量，我们需要对每个提交/拉取请求进行多次检查。当您在团队中工作并确保每个人都遵循最佳和最新的实践时，运行代码检查尤其有用。</p><p id="73c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在谈论什么样的支票？首先，运行我们的单元测试以确保一切都通过，构建并捆绑我们的前端以确保构建不会在生产中失败，并运行我们的linters以执行标准。</p><p id="bfc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想了解更多关于React的持续集成，我之前写过一篇文章:“<a class="ae ky" href="https://medium.com/better-programming/how-to-setup-continuous-integration-ci-with-react-circleci-and-github-e0efd5040b03" rel="noopener">如何用React、CircleCI和GitHub </a>设置持续集成(CI)。”</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="264f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">避免在下午3点后投入生产</h1><p id="ef25" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">明智的做法是避免在下午3点之后进行任何代码部署。如果出现任何问题，在一天的早些时候将代码投入生产会让您有足够的时间来诊断或恢复更改。</p><p id="c162" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这条规则很有用，因为不管一天中的哪一天，在大约15个小时内中断所有事情都是不可接受的，同时，它使在星期五部署变得安全，就像在其他任何一天一样。</p><p id="b805" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">唯一的例外是修复导致应用程序崩溃的关键错误。有时我们被迫尽快推出补丁。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b29e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">制作生产数据库的备份(奖励:测试从备份中恢复的尝试)</h1><p id="9078" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果数据库非常重要，需要放在生产服务器上，那么它就是生产质量的数据库，应该有备份。如果你真的很聪明，你甚至应该有备份的备份。</p><p id="6a73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几年前，<a class="ae ky" href="https://www.reddit.com/r/cscareerquestions/comments/6ez8ag/accidentally_destroyed_production_database_on/" rel="noopener ugc nofollow" target="_blank">有一次，一名初级开发人员不小心删除了生产数据库，结果立刻被解雇了。</a>老实说，这不是初级开发人员的错，因为没有一家合适的公司将其生产密钥用于入职流程和文档。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f672" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">拥有易于遵循的项目设置说明</h1><p id="236d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">优秀的文档是项目成功的关键。拥有可访问的文档使人们能够了解您的项目。</p><p id="cecc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记录项目的两种常用方法是自述文件和wikis:</p><ul class=""><li id="0572" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">对于其他用户来说，文件是了解你的工作的一种快速而简单的方式。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/6667ad6498bac89e51555fee3bef7c9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JlnRnbXNInHbU2aOOYF0iQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.makeareadme.com/" rel="noopener ugc nofollow" target="_blank">自述网站</a></p></figure><ul class=""><li id="507d" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">GitHub上的Wikis可以帮助你以一种有用的方式展示关于你的项目的深入信息。</li></ul><p id="7716" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至少为你的项目准备一份自述文件是个好主意，因为这通常是许多人第一次发现你的项目时会阅读的第一件事。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fda1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="9933" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">感谢阅读，我希望你学到了新的东西。请记住，将代码部署到实际的产品服务器上并不可怕。保持高效，快乐编码！</p><p id="187e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">了解我最新内容的最好方式是通过我的<a class="ae ky" href="https://wholesomedev.substack.com/welcome" rel="noopener ugc nofollow" target="_blank">简讯</a>。成为第一个得到通知的人。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/bf98059c6ba9f84a5c16721789483ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dds734n3RiKUVOqyHK0Aqw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我的<a class="ae ky" href="https://wholesomedev.substack.com/welcome" rel="noopener ugc nofollow" target="_blank">简讯</a>。成为第一个得到通知的人。</p></figure></div></div>    
</body>
</html>