<html>
<head>
<title>Understand Responsive Images Through gatsby-image</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">透过盖茨比形象理解回应型形象</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/understand-responsive-images-through-gatsby-image-81f861b91158?source=collection_archive---------1-----------------------#2020-04-17">https://betterprogramming.pub/understand-responsive-images-through-gatsby-image-81f861b91158?source=collection_archive---------1-----------------------#2020-04-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4be8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">盖茨比的专业人员是如何处理的</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e18de62a26872fac135a5576f23eb8ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g70aVLkMCRoaFJLYsraZDQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@invictar1997?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Soragrit Wongsa </a>在<a class="ae ky" href="https://unsplash.com/s/photos/gallery?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="b0d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你说你没有掌握反应图像，我明白了。在这个棘手的问题上，有太多的事情要计划，场景要预测，决策要做出。</p><p id="7959" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章将偏离响应图像的标准入门。我将带您浏览由<code class="fe lv lw lx ly b"><a class="ae ky" href="https://www.gatsbyjs.org/packages/gatsby-image/" rel="noopener ugc nofollow" target="_blank">gatsby-image</a></code>插件生成的那些媒体的标记。这样，我们将真正理解网络图像在现实世界中是如何优化的，以及这些决策背后的基本原理。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="c25a" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">为什么要通过盖茨比形象来学习反应型形象？</h1><p id="7ecd" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">这个想法来自我最近和盖茨比的经历。我用Gatsby重建了我的网站，不得不使用<code class="fe lv lw lx ly b">gatsby-image</code>插件来渲染图像。</p><p id="9379" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">起初，我以为我需要的只是安装插件，它会开箱即用，但我错了。</p><p id="c5db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我必须配置我的图像在GraphQL查询中的外观，我不知道固定图像和流动图像之间的区别，也不知道在后者的情况下我应该设置什么样的最大宽度。</p><p id="752e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在花了一天时间阅读了<code class="fe lv lw lx ly b">gatsby-image</code> <a class="ae ky" href="https://www.gatsbyjs.org/docs/gatsby-image/" rel="noopener ugc nofollow" target="_blank">文档</a>之后，我意识到我根本不理解响应式图像。而<code class="fe lv lw lx ly b">gatsby-image</code>的输出也正是如此。</p><p id="0fae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信盖茨比有一个最好的方法来反应图像。你可以花一天时间阅读长篇大论的教程，列举一些人为的例子，或者你可以剖析盖茨比是如何做到的，并从中吸取教训。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="8639" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">先决条件</h1><p id="ee50" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">我假设你熟悉盖茨比网站的结构。出于演示目的，我将使用官方入门网站。</p><p id="86e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您还没有创建，您可以使用一个简单的命令来完成:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="373b" class="nh mh it ly b gy ni nj l nk nl">shell<br/>gatsby new image-demo <a class="ae ky" href="https://github.com/gatsbyjs/gatsby-starter-hello-world" rel="noopener ugc nofollow" target="_blank">https://github.com/gatsbyjs/gatsby-starter-hello-world</a></span></pre><p id="e9dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后创建一个新的<code class="fe lv lw lx ly b">src/images</code>目录来存储你的图片。你可以从这个<a class="ae ky" href="https://images.unsplash.com/photo-1586713036700-126de261367a?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;dl=james-mccullough-Znxkw16UKG0-unsplash.jpg" rel="noopener ugc nofollow" target="_blank">网址</a>下载我正在使用的图片。</p><p id="68cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">index.js</code>文件中，粘贴以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="1697" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，我们将一幅图像查询和渲染成两个版本:固定的和流动的。</p><p id="ff31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，用<code class="fe lv lw lx ly b">gatsby develop</code>运行开发模式，打开浏览器。你应该看到一个固定的图像，后面跟着一个流动的图像。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/97f8cde3a0730bcf2cdd157edc023b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9-CcYsJ6_phikRLK4JqXXw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">固定图像与流动图像。</p></figure></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="ab10" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">流动图像与固定图像</h1><p id="b62c" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">上面两幅图像代表了<code class="fe lv lw lx ly b">gatsby-image</code>产生的两种响应图像:固定的和流动的。</p><p id="02fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的示例中，固定图像被锁定在690x460，而第二个图像是最大宽度为700的流动图像。</p><p id="0afb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于固定的图像，我只需要指定高度，Gatsby会自动计算出所需的宽度，以保持纵横比。因为原图是3888x2592px，所以新的宽度是3888 * 460 / 2592 = 690。太好了。</p><p id="6063" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">显然，固定图像和流动图像看起来很不一样，但是我应该什么时候使用它们呢？</p><p id="53ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不可否认，我花了一天时间才弄明白，但你不必。你所需要做的就是调整浏览器窗口的大小，你会发现不同之处。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/c88b8a62795587d4d661688b7a304b53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*F1NHDITem5vhCajgUonWNQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">调整浏览器窗口大小时固定图像和流动图像的区别。</p></figure><p id="39db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着视口宽度的减小，固定图像的尺寸永远不会改变。宽度可能会缩小，但这是因为浏览器窗口比图像窄，它只能显示图像在屏幕上可见的部分。</p><p id="ec78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">而流体图像会调整大小，以便在屏幕上漂亮地显示。</p><p id="0d40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在查询要呈现到组件中的图像之前，问问自己，“我需要固定的还是流动的图像？”</p><p id="0f9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你知道你的图像应该总是有一定的大小，查询<code class="fe lv lw lx ly b">fixed</code>。如果你想改变你的图像的宽度和/或高度，甚至从横向转换成纵向，然后查询<code class="fe lv lw lx ly b">fluid</code>。</p><p id="d6f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">说实话，关于固定图像，其他的就不多说了。此外，我们在这里是为了响应图像。因此，流体类型将是本文的重点。</p><p id="d069" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们检查由<code class="fe lv lw lx ly b">gatsby-image</code>生成的响应图像的标记之前，它有助于理解我们为什么首先要费心。</p><p id="5022" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">笔记本电脑、台式机、平板电脑和智能手机的大量出现对技术爱好者来说是一个福音，但也给网页设计者和开发者带来了痛苦。</p><p id="c264" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我们遇到的常见问题:</p><h2 id="4a5d" class="nh mh it bd mi nq nr dn mm ns nt dp mq li nu nv ms lm nw nx mu lq ny nz mw oa bi translated">如何在窄屏幕设备上显示图像</h2><p id="8b5a" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">这就是通常所说的艺术方向问题。我曾经认为我只需要缩小图像，但它不是那么简单。</p><p id="0e82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比如有些图像有很多小细节。当显示在移动浏览器上时，即使它们被缩小，这些细节也会变得不明显。</p><p id="6654" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一种解决方案是显示裁剪后的版本，只显示图像的重要细节，就像Monzo所做的那样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/abce29e09b8d512b70b32a90b37a839e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EtJbGdT2BaO_TsyyqUfPbg.png"/></div></div></figure><h2 id="646f" class="nh mh it bd mi nq nr dn mm ns nt dp mq li nu nv ms lm nw nx mu lq ny nz mw oa bi translated">如何在不同的屏幕上提供合适的图像尺寸</h2><p id="d1ec" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">在我从事网页设计的早期，每当我必须为移动屏幕做计划时，我只是用这个简单的CSS命令缩小一个图像:</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="5fc1" class="nh mh it ly b gy ni nj l nk nl">img {</span><span id="b0ac" class="nh mh it ly b gy oc nj l nk nl">width: 100%</span><span id="001f" class="nh mh it ly b gy oc nj l nk nl">height: auto</span><span id="e061" class="nh mh it ly b gy oc nj l nk nl">}</span></pre><p id="6fbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，CSS只影响图像的<em class="od">外观</em>。浏览器加载的仍然是原本用于大屏幕显示的完整图像尺寸。</p><p id="38ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相信我，这种错误我见得多了。电子商务网站上不小于2MB的DSLR照片不受屏幕尺寸限制。带宽差。</p><p id="f29a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们可以创建多个分辨率，让浏览器根据请求网页的设备选择合适的大小。</p><h2 id="e496" class="nh mh it bd mi nq nr dn mm ns nt dp mq li nu nv ms lm nw nx mu lq ny nz mw oa bi translated">如何在高分辨率屏幕上显示图像</h2><p id="8298" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">这个问题和上面的问题类似，但是在一个稍微不同的上下文中。</p><p id="29f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，并非所有的笔记本电脑都是生而平等的。有些是15英寸，但像素密度比更高。这些特殊的屏幕需要比你预期的更大的图像才能很好地显示。</p><p id="f738" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，您将提供相同大小但分辨率不同的图像。</p><p id="c185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">发现问题后，我们将详细研究解决方案。</p></div><div class="ab cl lz ma hx mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="im in io ip iq"><h1 id="b375" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">响应图像的剖析</h1><p id="d141" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">这里是由<code class="fe lv lw lx ly b">gatsby-image</code>生成的固定和流动图像的标记。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/42e58a0ded9ee80c5785d25264ec82c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QayOSCBWfP0nT0STxIKDsA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">盖茨比图像生成的固定和流动图像的标记。</p></figure><p id="9c03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论图像是固定的还是流动的，它总是被包装在一个名为<code class="fe lv lw lx ly b">gatsby-image-wrapper</code>的<code class="fe lv lw lx ly b">&lt;div&gt; </code>元素中。</p><p id="03d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">包装器中的第一个元素是一个占位符图像。</p><p id="0bf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看出它是一个占位符，因为它的属性是<code class="fe lv lw lx ly b">aria-hidden=”true”</code>，图像的尺寸是20x13。</p><p id="690f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当浏览器没有完成加载实际图像时，这个占位符有两个用途:</p><ul class=""><li id="2e10" class="of og it lb b lc ld lf lg li oh lm oi lq oj lu ok ol om on bi translated">使用“模糊”技术实现平滑过渡，这种技术正是Medium所普及的。</li><li id="ce29" class="of og it lb b lc oo lf op li oq lm or lq os lu ok ol om on bi translated">防止图像跳跃。</li></ul><p id="41c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你刷新浏览器，你会看到熟悉的模糊效果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/daaa067a5d76fae6862f658e68a357bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qlYR1yULRDLf8gaE2m2WvQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">模糊效果。</p></figure><p id="eef4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">说实话，网速慢的时候模糊效果最好，这可能是网速慢的唯一好处。它让我们开发人员享受我们的劳动成果和技术奇迹。</p><p id="dae8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">占位符图像的正下方是一个空的<code class="fe lv lw lx ly b">&lt;div&gt;</code>，只有当图像设置为流体时才会出现。</p><p id="e18d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此元素为图像添加底部填充。它的值与图像的纵横比相同:2592/3888 = 0.6666。</p><p id="c297" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个空的<code class="fe lv lw lx ly b">&lt;div&gt;</code>是需要的，因为<code class="fe lv lw lx ly b">gatsby-image-wrapper</code>和实际图像都没有预定义的宽度和高度。同时，实际图像必须占据其父图像的整个宽度和高度。</p><p id="978c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果没有底部填充的空容器，实际的图像将会消失。</p><p id="113b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后是<code class="fe lv lw lx ly b">&lt;picture&gt;</code>元素。</p><p id="a415" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个标签没有什么特别的，但是它包含了两个重要的元素:<code class="fe lv lw lx ly b">&lt;source&gt;</code>和<code class="fe lv lw lx ly b">&lt;img&gt;</code>。因为它们在图片布局中非常关键，所以我会把它们放在专门的标题中。</p><h2 id="0c7a" class="nh mh it bd mi nq nr dn mm ns nt dp mq li nu nv ms lm nw nx mu lq ny nz mw oa bi translated"><source>元素</source></h2><p id="d108" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated"><code class="fe lv lw lx ly b">&lt;source&gt;</code>元素最重要的属性是<code class="fe lv lw lx ly b">srcset</code>。它提供了一组带有提示的图像，帮助浏览器为不同的视窗宽度选择正确的图像。</p><p id="9f69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意<code class="fe lv lw lx ly b">srcset</code>在固定图像和流动图像之间是不同的。</p><p id="d0b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于固定图像:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="be7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">福克斯流体图像:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nm nn l"/></div></figure><p id="d5bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，<code class="fe lv lw lx ly b">srcset</code>中的每个图像都用逗号与前一个图像隔开。每个都包含:</p><ul class=""><li id="bc1d" class="of og it lb b lc ld lf lg li oh lm oi lq oj lu ok ol om on bi translated">图像的路径(<code class="fe lv lw lx ly b">/static/362300c046749582c4ff6569a40211d8/25b50/james-mccullough-Znxkw16UKG0-unsplash.jpg</code>)。</li><li id="c28e" class="of og it lb b lc oo lf op li oq lm or lq os lu ok ol om on bi translated">一个空格。</li><li id="ea57" class="of og it lb b lc oo lf op li oq lm or lq os lu ok ol om on bi translated">固定图像的<code class="fe lv lw lx ly b">x</code>描述符和流动图像的<code class="fe lv lw lx ly b">w</code>描述符。</li></ul><p id="1e73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">x</code>指像素密度。<code class="fe lv lw lx ly b">x</code>描述符指定图像的像素密度。</p><p id="a1c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本例中，默认图像为35KB，但当像素密度为标准值的1.5倍时(两倍时为107KB)，图像会扩展到68KB。</p><p id="a62f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从35岁到68岁，再到107岁，这是一个巨大的飞跃。因此，您可以看到为正确的屏幕设备提供正确的图像的重要性。</p><p id="c005" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，<code class="fe lv lw lx ly b">w</code>描述符中的<code class="fe lv lw lx ly b">w</code>是指图像的固有宽度，以像素为单位。注意，它是以<code class="fe lv lw lx ly b">w</code>为单位设定的——而不是我们经常看到的<code class="fe lv lw lx ly b">px</code>。这是图片的真实尺寸，你可以通过检查你电脑上的文件来确认。</p><p id="c88b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">w</code>描述符仅适用于流动图像，因为对于固定图像，无论情况如何，我们都只有一个想要显示的单一图像尺寸。</p><p id="2ccb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本演示中，<code class="fe lv lw lx ly b">w</code>描述符值为1750w、350w、700w、1050w、1444w和3888w。你注意到模式了吗？</p><p id="9420" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3888w恰好是原图的宽度。</p><p id="85da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，我们将流体图像的<code class="fe lv lw lx ly b">maxWidth</code>设置为300。这意味着<code class="fe lv lw lx ly b">gatsby-plugin-sharp</code>生成的自动大小是我们在GraphQL查询中设置的值的50%、100%、150%和200%。想得真周到。</p><p id="7716" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，在流体图像的情况下，我们在<code class="fe lv lw lx ly b">&lt;source&gt;</code>元素中有另一个属性:<code class="fe lv lw lx ly b">sizes</code>。</p><p id="8692" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该属性定义了一组媒体条件和当条件为真时提供的相应图像。</p><pre class="kj kk kl km gt nd ly ne nf aw ng bi"><span id="310f" class="nh mh it ly b gy ni nj l nk nl">&lt;picture&gt;</span><span id="8c0f" class="nh mh it ly b gy oc nj l nk nl">&lt;source sizes="(max-width:700px) 100vw, 700px&gt;&lt;/source&gt;</span><span id="6fea" class="nh mh it ly b gy oc nj l nk nl">&lt;/picture&gt;</span></pre><p id="92b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的提示告诉浏览器，当浏览器窗口的宽度小于或等于700像素时，让图像跨越100%的视窗。否则，只提供700像素宽的图像。</p><p id="3096" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，这个提示也满足我们的GraphQL查询，该查询指定图像的宽度永远不超过700px。</p><h2 id="97b3" class="nh mh it bd mi nq nr dn mm ns nt dp mq li nu nv ms lm nw nx mu lq ny nz mw oa bi translated">真实的图像</h2><p id="5c03" class="pw-post-body-paragraph kz la it lb b lc my ju le lf mz jx lh li na lk ll lm nb lo lp lq nc ls lt lu im bi translated">最后，我们到达最重要的<code class="fe lv lw lx ly b">&lt;img&gt;</code>标签。没有它，实际的图像不会出现。</p><p id="5732" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它的<code class="fe lv lw lx ly b">sizes</code>和<code class="fe lv lw lx ly b">srcset</code>属性与<code class="fe lv lw lx ly b">&lt;source&gt;</code>元素中的属性相同。</p><p id="0ac1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里注意的属性是<code class="fe lv lw lx ly b">src</code>。你还记得媒体条件告诉浏览器当视窗在700像素以上时加载700像素宽的图像吗？</p><p id="f66c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个<code class="fe lv lw lx ly b">src</code>属性嵌入了那个图像。</p><p id="d891" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，这就是实际图像的全部内容。一张照片有这么多基础。</p><p id="b771" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就结束了我使用<code class="fe lv lw lx ly b">gastby-image</code>插件对响应图像的入门。我知道有很多信息要处理，所以慢慢来。如果你在手机屏幕上提供一个巨型图像，世界不会毁灭，但如果你记住响应图像，让<code class="fe lv lw lx ly b">gatsby-image</code>做繁重的工作，那会好得多。</p></div></div>    
</body>
</html>