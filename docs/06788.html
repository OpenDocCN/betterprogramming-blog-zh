<html>
<head>
<title>Should You Be Using the JAMstack for Your Projects?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您应该在项目中使用JAMstack吗？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/should-you-be-using-the-jamstack-for-your-projects-11dcef1e93be?source=collection_archive---------8-----------------------#2020-11-04">https://betterprogramming.pub/should-you-be-using-the-jamstack-for-your-projects-11dcef1e93be?source=collection_archive---------8-----------------------#2020-11-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5af8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">JAMstack是关于什么的？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bd385cce9fb9aea35dc0e22bc13f55c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mNFGy8BmJRp522RWVPh6HQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者照片。</p></figure><p id="1fb1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">自从JAMstack出现以来，它就受到了很多关注，在web开发社区中也有很多关于你是否应该从WordPress迁移到JAMstack的讨论。我想我应该写一篇关于这个的综述文章，这样你就可以知道它是否是你项目的正确选择。</p><p id="acd5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">理解JAMstack的关键是了解web世界中静态和动态的区别。</p><p id="ca7f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">简单来说，静态意味着你已经预先构建或预先计算好了某个东西，并在静态托管系统上对其进行了预编译。动态是指你实际上是在动态地构建东西，计算它来响应每一个请求。当你凭直觉思考它时，用你已经拥有的东西来响应会快得多，也便宜得多，而不是为了响应每一个请求而匆忙计算。</p><p id="951e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一些一直是静态的东西包括JavaScript、音频和视频文件以及CSS。是的，JavaScript是动态的。没错。它在页面及其行为上是动态的，但是代码本身在一个软件的不同版本之间总是一致的。非常重要的一点是要明白，任何时候你在计算一个请求时，都会遇到性能或可伸缩性的问题。如果你能预先计算出反应——即使是很短的一段时间——你会过得更好。</p><p id="6396" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一个老派的web服务器有三个主要工作:服务HTML、静态资产和API端点。如今，你所有的静态资产都将放在类似亚马逊的S3上。说到API，我们已经把它们转移到了其他服务器上，或者一组服务器上，如果你正在做微服务的话。</p><p id="f153" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这使得web服务器只做一项工作，那就是提供HTML页面。如果是这样的话，我们能让这些页面保持静态吗？为此，我们需要了解web服务器如何呈现HTML页面。</p><p id="66b4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">假设一个访问者访问了<a class="ae lr" href="https://medium/blog" rel="noopener ugc nofollow" target="_blank">媒体的主页</a>。请求发送到服务器，服务器连接到API，请求页面上的数据，格式化HTML响应，然后将其发送回完全呈现的访问者。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/1c5d0ef9430bcd6412817407772714cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nARuDqC5Xkp91RdshiLuOw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者照片</p></figure><p id="3430" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在过去的十年中，web开发越来越趋向于客户端渲染。在这个模型中，用户向服务器发出同样的请求，但是服务器的响应实际上是一个空白页面和一个对JavaScript应用程序的引用，然后JavaScript应用程序向API发出请求。该API用数据进行响应。然后，客户端代码(JavaScript)格式化该数据，并将其呈现到客户端的体验中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/610702104edf812df0defac70750615a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wpLJgukD9UfhrLP89j09Ow.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者照片</p></figure><p id="bbb9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">还有另一种新的方法来做同样的事情。在构建期间，为了响应数据或代码更改，服务器从数据库中获取所有数据的列表，然后使用一组模板来格式化包含所有这些内容的站点。所有这些页面都是预先渲染好的，放在亚马逊的S3上。当访问者访问该页面时，他们会立即返回一个完全呈现的页面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/5177cbfed5ceb4ec2111e76b0678c65a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*smFV8IL2IKEgEGWeXWkaeA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者照片。</p></figure><p id="f35b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这样做的好处是，您只需将数据转换成HTML一次。在其他模型(客户端和服务器端呈现)中，您每次都呈现HTML，而不管在哪里完成。一个关键因素是，每个客户对于给定的URL都将获得相同的HTML页面。在其中的两个模型中(客户端渲染和静态站点生成)，我们可以摆脱web服务器，节省大量的时间和金钱，这通常是每个人的目标。</p><p id="5eba" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这就是JAMstack的意义所在。</p><p id="0657" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">JAM是首字母缩略词。j代表JavaScript，A代表API，M代表标记。HTML是堆栈中的超文本标记语言。按照执行顺序，其实是标记，JavaScript，然后是API。所以理想情况下，应该是MJA，这不是一个好的缩写。无论如何，它被称为堆栈，因为这是一个术语，只要你有一堆技术一起工作。我认为这是足够的解释了。为什么应该使用JAMstack？</p><ul class=""><li id="e589" class="lt lu iq kx b ky kz lb lc le lv li lw lm lx lq ly lz ma mb bi translated">这对性能更好，因为你可以从S3或任何类型的静态托管网站上提供的任何东西总是比你从web服务器上提供的东西要快。</li><li id="2eea" class="lt lu iq kx b ky mc lb md le me li mf lm mg lq ly lz ma mb bi translated">您不再需要监控任何服务器。它永远是可用的。如果它昨天还在，今天、明天和将来都会在，只要你继续支付账单。</li><li id="c7aa" class="lt lu iq kx b ky mc lb md le me li mf lm mg lq ly lz ma mb bi translated">这样更安全。我是说，黑一个不存在的服务器真的很难。</li></ul><p id="c39f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">到达那里有多容易？如果你的服务器已经有了一个主页面，那么把它放在S3上，指向你的客户，然后你就可以走了。如果您的web服务器对每一个URL请求都发出API请求，那么情况会稍微复杂一点，但这是可能的。有几种不同的方法可以做到这一点。</p><ul class=""><li id="67de" class="lt lu iq kx b ky kz lb lc le lv li lw lm lx lq ly lz ma mb bi translated">微前端——这是您在页面上留下点的地方，然后运行在客户端上的代码开始运行，发出请求，并格式化HTML，然后进入这些点。</li><li id="9648" class="lt lu iq kx b ky mc lb md le me li mf lm mg lq ly lz ma mb bi translated">边缘包含—如果您有一个内容交付网络(CDN)位于您的客户和您的S3之间，您可以使用边缘包含，从而在页面发送给访问者之前将材料注入页面。页眉和页脚就是一个很好的例子。您静态地生成没有任何页眉或页脚的站点，然后Edge Side Includes在它发送到客户端之前注入页眉和页脚。</li></ul><p id="6b3b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">除了这两种方法，还有很多方法可以做到。关键是你可以给静态生成的站点添加动态行为。</p><p id="4211" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在您已经知道了JAMstack是什么，包括它的优点，剩下的主要问题是“为什么我们没有一直这样做？”我还是无法落地一个一刀切的答案。</p><p id="abdf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">鉴于可以选择在客户端呈现或者在静态站点生成期间呈现，新的平台、服务和API已经出现。平台方面，出现了雨果、哲基尔、盖茨比这样的新平台。在服务器端，有Netlify、Now.sh、Zeit等网站。API方面，有AWS的Amplify和Google的Firebase。这两者都为您提供了一整套服务，并且它们还允许您拥有一个托管的数据库，您可以将CRUD功能嵌入到API中，而您不必自己构建。</p><p id="d0f5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">堆栈是否决定了前端框架的选择？事实并非如此。所有这些前端框架都允许您构建一个静态站点并快速部署。JAMstack只是一个架构，并不特别依赖于其中的任何一个。当涉及到静态站点生成时，静态站点生成器通常依赖于特定的前端技术(例如Gatsby to React)。您的应用程序也不必是使用堆栈的单页应用程序，尽管如果是这样会更容易。一定要用Netlify这样的JAMstack服务提供商吗？他们有一些好工具可以让你的工作变得更容易。我想另一个问题是从哪里开始。这很大程度上取决于您的web服务器今天在做什么。如果只是做一个静态的主机页面，很容易移植。如果它在做更复杂的事情，你需要看看它具体在做什么，看看你如何获得动态行为，并将其转化为静态行为。总的来说，微前端、Edge Side Includes和JavaScript可以帮你做到这一点。</p><p id="0ad2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我希望这篇概述能够帮助您获得一些有用的信息，了解JAMstack是什么，它的优点，以及它是否会让您和您的项目感兴趣。在开发世界中，如果您知道多种技术，那么您的项目通常会决定要使用的最佳技术。</p></div></div>    
</body>
</html>