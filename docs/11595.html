<html>
<head>
<title>Exploring the Salesforce Mobile SDK Using Xcode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Xcode探索Salesforce Mobile SDK</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-the-salesforce-mobile-sdk-using-xcode-18bb0926f051?source=collection_archive---------16-----------------------#2022-04-01">https://betterprogramming.pub/exploring-the-salesforce-mobile-sdk-using-xcode-18bb0926f051?source=collection_archive---------16-----------------------#2022-04-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bf94" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">创建一个显示膳食列表的iOS应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c9c0f44d61eaeb91f60ec9f8e1c99fd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7SpROTfGQKEJqut6"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">阿姆扎·安德烈在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="8e3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">去年7月，我开始撰写一个系列文章，重点介绍如何在没有传统Salesforce客户端的情况下使用Salesforce平台。以下是该系列其他文章的链接:</p><ul class=""><li id="b522" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" href="https://medium.com/nerd-for-tech/leveraging-salesforce-without-using-salesforce-8ed8c2556926" rel="noopener">利用Spring Boot的销售力量</a></li><li id="50b5" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-svelte-93b431a15bf4" rel="noopener">使用以简洁语言编写的客户端利用Salesforce】</a></li><li id="67d8" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-vue-js-e94dc0e19057" rel="noopener">使用Vue.js编写的客户端利用Salesforce】</a></li><li id="c9c9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-mobile-applications-written-once-in-react-native-8f646a82774" rel="noopener">利用使用React Native编写(一次)的移动应用程序利用sales force</a></li><li id="33cb" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://medium.com/nerd-for-tech/leveraging-salesforce-using-a-client-written-in-angular-36fe949ef69b" rel="noopener">使用Angular编写的客户端利用sales force</a></li></ul><p id="0c82" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该系列的图示如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/3d4333673feb5998cf6222694a6d8bd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0OZ3hVBCkzBQhA2l79oO1w.png"/></div></div></figure><p id="42a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上图显示了各种客户端框架如何访问Salesforce数据，而无需实际利用Salesforce生态系统提供的客户端。</p><p id="8fbd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2021年11月，我开始了一个新系列来演示<a class="ae kv" href="https://developer.salesforce.com/docs/atlas.en-us.mobile_sdk.meta/mobile_sdk/intro.htm" rel="noopener ugc nofollow" target="_blank"> Salesforce Mobile SDK </a>，它在独立的移动应用程序中利用Salesforce平台的力量。</p><p id="8ed2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一新系列的图示如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mh"><img src="../Images/3a3323add30444d660bb91f01b52b27e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zrGrSxAkjxIbdXpRLEDaQg.png"/></div></div></figure><p id="598c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">"<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/exploring-the-salesforce-mobile-sdk-using-react-native-34f05217c1d4">使用React Native探索sales force Mobile SDK</a>"是该移动SDK系列的第一篇文章。然后，我转而阅读“<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/exploring-the-salesforce-mobile-sdk-using-android-studio-c1ece60d3171">使用Android Studio探索sales force Mobile SDK</a>”文章，以利用Android Studio。在本文中，我将重点介绍如何使用Xcode生成相同的应用程序。</p><h1 id="b9d1" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">Salesforce Mobile SDK的优势</h1><p id="75cb" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">Salesforce Mobile SDK为软件工程师提供了多种优势:</p><ul class=""><li id="e966" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">允许自定义移动设备应用程序利用Salesforce特性和功能</li><li id="865b" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">完全访问Salesforce功能(无需另起炉灶)</li><li id="8cf5" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">可以使用本地设备的应用商店来分发应用</li><li id="456d" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">处理来自Salesforce的推送通知</li><li id="62d5" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">在离线模式下使用Salesforce数据的能力</li></ul><p id="3c2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您的应用程序环境在业务可操作性的关键方面利用Salesforce，则考虑利用Salesforce Mobile SDK。通过这样做，您可以将由Salesforce维护的数据集成到关键组件位置，从而做出强有力的业务决策。</p><h1 id="adc0" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">使用Xcode的好处</h1><p id="7750" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">如果您的客户群需要支持iOS设备，并且您希望使用Xcode进行应用程序开发，那么您会发现<code class="fe nf ng nh ni b">forceios</code> CLI有助于快速开始使用Salesforce功能。</p><p id="ee03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用Xcode的团队的主要功能包括:</p><ul class=""><li id="1dc8" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">允许使用Swift或Objective-C作为基本编程语言</li><li id="2230" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">为iOS设备上的特性和功能提供100%的原生支持</li><li id="a572" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">允许有经验的iOS开发人员快速利用Salesforce Mobile SDK功能</li><li id="58c4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">错误处理方面的改进，因为Swift和Objective-C都保持了强大的类型和错误处理设计</li><li id="df9e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">更容易识别和修复构建问题</li></ul><p id="d98f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这可能是显而易见的，但你必须有一台苹果电脑才能使用Xcode。对于这篇文章，我将从2020年3月开始使用我的16英寸MacBook Pro。</p><p id="ab7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经准备好深入研究了，让我们简单回顾一下我们的用例。</p><h1 id="4c4d" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">芬尼食品:一个用例示例</h1><p id="7de9" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">有一个生来就有特殊需求的儿子(芬尼)引发了一种个人愿望，那就是理解和欣赏我们日常生活中使用的产品。芬尼出生前几年，我和妻子(妮可)过着健康的生活。然而，当妮可开始深入研究构成我们日常饮食的食物成分时，我们接到了一个急需的叫醒电话。</p><p id="5471" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">快进到今天:我们的饮食包括很少的加工食品，没有面筋，低糖，和很少的乳制品。我们的蛋白质尽可能来源于草食来源，我们总是偏爱有机食品。不要让我开始谈论转基因。</p><p id="8b30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于这个系列，我们的Finny's Foods应用程序提供了一个简单的列表，列出了我们可以接受并且Finny喜欢的食物。现在，我们将为每顿饭包含两个简单的属性:</p><ul class=""><li id="4c12" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">饭菜的名称</li><li id="44e4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">评分(1到5，评分5是芬尼最喜欢的评分)</li></ul><p id="45e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着时间的推移，我打算引入其他属性(如摘要、成分、方向，甚至一张照片)，但我们先走后跑吧。</p><h1 id="a573" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">Xcode入门</h1><p id="1997" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">除了在我的MacBook Pro上安装<code class="fe nf ng nh ni b">git</code>和<code class="fe nf ng nh ni b">npm</code>之外，我还确保我的Xcode版本是最新的。接下来，我访问了以下URL，以确保一切都按照预期进行了设置和配置:</p><p id="7a6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://developer.salesforce.com/docs/atlas.en-us.mobile_sdk.meta/mobile_sdk/ios_quickstart.htm" rel="noopener ugc nofollow" target="_blank">设置您的iOS开发环境</a></p><p id="d0a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些步骤包括确保Xcode、CocoaPods、node.js、npm和<code class="fe nf ng nh ni b">forceios</code> CLI都已安装。</p><p id="d13f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我使用以下选项从终端会话执行了<code class="fe nf ng nh ni b">forceios</code>:</p><pre class="kg kh ki kj gt nj ni nk nl aw nm bi"><span id="7a34" class="nn mj iq ni b gy no np l nq nr">forceios create<br/>Enter your application type (native_swift or native, leave empty for native_swift): native_swift<br/>Enter your application name: FinnysFoodsIOS<br/>Enter your package name: com.gitlab.johnjvester.finnysfoods.ios<br/>Enter your organization name (Acme, Inc.): JVC<br/>Enter output directory for your app (leave empty for the current directory):</span><span id="7eff" class="nn mj iq ni b gy ns np l nq nr">Once completed, I followed the steps provided by the forceios CLI:</span><span id="e7cc" class="nn mj iq ni b gy ns np l nq nr">******************************************************************************<br/>*<br/>*   Next steps:<br/>*<br/>*   Your application project is ready in FinnysFoodsIOS.<br/>*   To use your new application in XCode, do the following:<br/>*      - open FinnysFoodsIOS/FinnysFoodsIOS.xcworkspace in XCode<br/>*      - build and run<br/>*   Before you ship, make sure to plug your OAuth Client ID and Callback URI,<br/>*   and OAuth Scopes into FinnysFoodsIOS/FinnysFoodsIOS/bootconfig.plist<br/>*<br/>******************************************************************************</span></pre><h1 id="69ad" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">在Salesforce中创建膳食对象</h1><p id="b944" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">在开始在Xcode中创建新应用程序之前，我需要在Salesforce中建立Meal对象。</p><p id="584a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我已经有了一个可以使用的开发者组织。(您可以在这里创建一个新的<a class="ae kv" href="https://developer.salesforce.com/docs/atlas.en-us.externalidentityImplGuide.meta/externalidentityImplGuide/external_identity_create_developer_org.htm" rel="noopener ugc nofollow" target="_blank">。所以，我只是用我的电子邮件地址和密码登录了这个组织。接下来，我导航到Salesforce中的应用程序|应用程序管理器和设置透视图。</a></p><p id="fa16" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我创建了一个新的闪电应用程序，名为Meal:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/d3006b732d3e210c0a792e250eb884ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VSQbRCw2JVXWdMQ3Hf3DDQ.png"/></div></div></figure><p id="7ce8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在其余设置屏幕上，我选择了所有默认设置并授予对所有Salesforce用户简档的访问权限。</p><p id="e9cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我访问了Salesforce设置中的对象和字段|对象管理器菜单选项。找到新创建的餐饮项目后，我使用下拉组件编辑该对象。</p><p id="bcc5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我从细节子菜单切换到字段和关系选项。我很快意识到我不需要为我的Meal对象创建Name属性，因为Salesforce已经为我处理好了。我只需要添加评级字段。</p><p id="6fb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用“新建”按钮，我选择了“数字”字段类型，并填充了第二步，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/b565b27eb437e894be28281519116030.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VTeRl0QWvYd-REiYNFIUgg.png"/></div></div></figure><p id="5a08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我使用默认值并保存了新字段。现在，我可以在我的iOS应用程序中使用名称和评级字段。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/136cd4f8989204fd8c66d4a4d40bc177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TCoCDVF9PYvK9TLfoy-5pg.png"/></div></div></figure><p id="4a5f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用Salesforce客户端，我填充了一些源数据来开发Xcode中的应用程序。以下是提交值的汇总:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/2b43694cd8084fb547ec8cd261de8284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AvzApqjOeHpvhKu4xJLqjw.png"/></div></div></figure><p id="22d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据样本数据，芬尼总是更喜欢“比萨饼”而不是“鸡肉和米饭”</p><h1 id="1bc2" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">在Xcode中添加用餐功能</h1><p id="7cf1" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">配置好源对象和数据后，我使用Xcode应用程序第一次打开了<code class="fe nf ng nh ni b">finnys-foods-ios</code>项目。</p><p id="caf1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认情况下，<code class="fe nf ng nh ni b">forceios</code> CLI会创建一个工作应用程序，在首次运行时显示与用户帐户关联的Salesforce组织的帐户和联系信息。为了使事情变得简单，我决定从项目中删除以下文件:</p><ul class=""><li id="05c0" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">AccountsListModel.swift</code></li><li id="a6b4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">AccountsListView.swift</code></li><li id="ccb1" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">ContactDetailModel.swift</code></li><li id="3f5a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">ContactDetailsView.swift</code></li><li id="8a63" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">ContactsForAccountListView.swift</code></li><li id="ca8a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">ContactsForAccountModel.swift</code></li></ul><p id="22dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为我计划在以后的文章中讨论离线功能，所以我将<code class="fe nf ng nh ni b">userstore.json</code>中的配置数据更新为:</p><pre class="kg kh ki kj gt nj ni nk nl aw nm bi"><span id="1ba2" class="nn mj iq ni b gy no np l nq nr">{<br/>  "soups": [<br/>  ]<br/>}</span></pre><p id="7264" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nf ng nh ni b">usersyncs.json</code>文件也被清除，如下所示:</p><pre class="kg kh ki kj gt nj ni nk nl aw nm bi"><span id="45b3" class="nn mj iq ni b gy no np l nq nr">{<br/>  "syncs": [ ]<br/>}</span></pre><p id="1a72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我为Salesforce中的<code class="fe nf ng nh ni b">Meal__c</code>对象创建了一个基本的列表视图，名为<code class="fe nf ng nh ni b">MealsListView.swift</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="b873" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了在应用程序启动时使用膳食列表视图，我更新了<code class="fe nf ng nh ni b">SceneDelegate.swift</code>文件中的<code class="fe nf ng nh ni b">setupRootViewController()</code>方法，如下所示:</p><pre class="kg kh ki kj gt nj ni nk nl aw nm bi"><span id="7842" class="nn mj iq ni b gy no np l nq nr">func setupRootViewController() {<br/>       // Setup store based on config userstore.json<br/>       MobileSyncSDKManager.shared.setupUserStoreFromDefaultConfig()<br/>       // Setup syncs based on config usersyncs.json<br/>       MobileSyncSDKManager.shared.setupUserSyncsFromDefaultConfig()<br/>    <br/>       self.window?.rootViewController = UIHostingController(<br/>           rootView: MealsListView()<br/>       )<br/>   }</span></pre><p id="fd5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这一点上，我们有了一个功能性的iOS应用程序，它仅仅使用粗体文本显示“Finny's Foods (iOS)”。</p><h1 id="2b98" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">在Xcode中使用字体Awesome</h1><p id="f722" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">在我构建应用程序的其余部分之前，我想看看在用Xcode创建的Swift应用程序中添加字体很棒的图标有多容易。您可能还记得，这个任务在React Native中非常简单，而在Android studio中就不那么简单了。</p><p id="fca6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我能够使用以下网址提供的步骤在大约15分钟内完成工作。我完全希望那些有Xcode经验的人能够在很短的时间内完成这些步骤:</p><p id="7b4c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://iosexample.com/easy-font-awesome-in-swiftui/" rel="noopener ugc nofollow" target="_blank">swift ui中的简易字体牛逼</a></p><p id="7727" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为这些步骤的结果，以下支持文件现在是我的项目的一部分:</p><ul class=""><li id="b3dc" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">fa-brands-400.ttf</code></li><li id="5f18" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">fa-regular-400.ttf</code></li><li id="128a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">fa-solid-900.ttf</code></li><li id="9acc" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><code class="fe nf ng nh ni b">icons.json</code></li></ul><h1 id="4305" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">创建膳食列表模型</h1><p id="9ea6" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">Xcode应用程序需要理解驱动Finny's Foods应用程序的<code class="fe nf ng nh ni b">Meal__c</code>对象。我创建了一个包含以下信息的<code class="fe nf ng nh ni b">MealsListModel.swift</code>文件:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="e029" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该文件引入了一个包含存储在Salesforce中的每个<code class="fe nf ng nh ni b">Meal__c</code>对象的元数据的Meal对象。还有一个<code class="fe nf ng nh ni b">MealResponse</code>对象，代表Salesforce在请求<code class="fe nf ng nh ni b">Meal__c</code>数据时提供的有效负载。</p><p id="4179" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">定义了这两个关键结构后，<code class="fe nf ng nh ni b">fetchMeals()</code>方法对Salesforce进行RESTful API调用，然后将任何响应数据映射到一个膳食对象列表。之前创建的<code class="fe nf ng nh ni b">MealsListView.swift</code>文件会处理这些数据。</p><h1 id="d153" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">更新膳食列表视图</h1><p id="e2e3" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">膳食列表模型准备就绪后，膳食列表视图现在可以扩展为与Salesforce集成，并在iOS设备上显示数据。我必须做的第一件事是在<code class="fe nf ng nh ni b">MealsListView.swift</code>文件中为膳食列表模型建立一个变量:</p><pre class="kg kh ki kj gt nj ni nk nl aw nm bi"><span id="e3cc" class="nn mj iq ni b gy no np l nq nr">struct MealsListView: View {<br/>  <a class="ae kv" href="http://twitter.com/ObservedObject" rel="noopener ugc nofollow" target="_blank">@ObservedObject</a> var viewModel = MealsListModel()</span></pre><p id="77bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我更新了<code class="fe nf ng nh ni b">MealsListView.swift</code>文件中的body变量，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="d673" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此时，iOS应用程序会在新的一行显示每顿饭的名称。<code class="fe nf ng nh ni b">fetchMeals()</code>方法调用从Salesforce检索数据，将每个<code class="fe nf ng nh ni b">Meal__c</code>项目作为dataItem处理。</p><p id="c48e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，我真的想添加React原生项目中使用的星级系统。为此，我更新了最里面的<code class="fe nf ng nh ni b">HStack</code>对象，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="031d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成这些更改后，iOS应用程序就可以使用了。</p><h1 id="4c8e" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">芬尼食品在行动</h1><p id="71fb" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">使用Xcode，我使用了产品菜单选项，选择了运行选项。</p><p id="4b95" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首次使用将自动重定向到Salesforce登录屏幕，在此我使用相同的电子邮件地址和密码访问我的开发人员组织。登录后，出现了Finny's Foods应用程序，包括每个项目的五星评分值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/09e7559d3123fdbcb9a3b571e7158595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mcjcpSN4pSnXq3vyg6OEzg.png"/></div></div></figure><p id="6275" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在几分钟内，我们能够使用Xcode和Salesforce Mobile SDK创建一个iOS应用程序。</p><h1 id="7880" class="mi mj iq bd mk ml mm mn mo mp mq mr ms jw mt jx mu jz mv ka mw kc mx kd my mz bi translated">结论</h1><p id="bdaf" class="pw-post-body-paragraph kw kx iq ky b kz na jr lb lc nb ju le lf nc lh li lj nd ll lm ln ne lp lq lr ij bi translated">在本文中，我介绍了一个定制的移动应用程序，它原生部署在Apple store上，并使用用Swift编写的源代码。在这个过程中，我们对基于iOS的应用程序的结构有了基本的了解。</p><p id="1d6f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从2021年开始，我一直努力按照以下使命宣言生活，我觉得这可以适用于任何IT专业人士:</p><blockquote class="oa ob oc"><p id="95a2" class="kw kx od ky b kz la jr lb lc ld ju le oe lg lh li of lk ll lm og lo lp lq lr ij bi translated">“将您的时间集中在提供扩展您知识产权价值的特性/功能上。将框架、产品和服务用于其他一切。”</p><p id="7d1a" class="kw kx od ky b kz la jr lb lc ld ju le oe lg lh li of lk ll lm og lo lp lq lr ij bi translated">—j·维斯特</p></blockquote><p id="4b3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Salesforce Mobile SDK当然坚持我的个人使命声明，这将有利于任何需要Salesforce功能作为在iOS设备上运行的自定义移动应用程序的一部分的功能团队。这一开发领域的软件工程师当然应该考虑将Salesforce Mobile SDK添加为项目依赖项。</p><p id="313e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您希望看到本文的完整源代码，请访问我在GitLab上的项目:</p><div class="oh oi gp gr oj ok"><a href="https://gitlab.com/johnjvester/finnys-foods-ios" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">约翰·维斯特/芬兰食品公司ios</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">15.0主要版本即将发布！该版本为GitLab带来了许多令人兴奋的改进，但也删除了一些…</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">gitlab.com</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy kp ok"/></div></div></a></div><p id="6061" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">祝你今天过得愉快！</p></div></div>    
</body>
</html>