# 失败一次技术面试比成功三次教会我更多

> 原文：<https://betterprogramming.pub/failing-one-tech-interview-taught-me-more-than-cracking-three-9ec1870519da>

## “任何可能出错的事情都会出错”——墨菲定律

![](img/194e0d391c6f85a529fb257d2eb3ab27.png)

克里斯蒂安·帕尔默在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄的照片

六年前，我开始从事软件开发工作。我研究过各种技术来开发移动应用和后端服务。我对微服务和事件驱动架构有很好的理解。我的工作包括通过写代码解决问题，每天都有一些会议和校准。

几个月前，我申请了高级软件工程师的职位。我用我最近的技能和项目更新了我的简历，并把它发给了一些公司。

我接到一家公司的面试电话。它有一个典型的过程，包括一轮编码，一轮系统设计，一轮文化适应，和一个与工程主管/副总裁的会议。一切都很顺利，除了系统设计面试，这就是我想和你分享的。

# 编码和文化访谈

我将简要地谈一谈编码和文化因素，但是这里没有什么特别的，所以请随意跳到下一部分。

编码面试很简单，我能够在给定的时间内解决问题，但未能抓住一些边缘情况。我能够指定边缘情况和可能的解决方案，但没有足够的时间来编码。这是可以接受的，我通过了第一轮。

接下来是一轮文化交流，非常有趣，而且完全是非技术性的。它包括谈论一种工作方式和我对测试、协作、主持会议等的看法。感觉更像是一次谈话。

还有一轮类似的面试，涉及到谈论我加入公司的动机，以及我之前的经历。这也很容易，我通过了。

# 系统设计面试

这就是事情变得有点有趣的地方，因为我这次失败了。我会试着深入挖掘这次面试，解释哪里出了问题，并为你提供一些提示。

在面试中，我被要求为一个网址缩写服务设计一个系统。功能要求如下:

*   给定一个 URL，服务应该生成一个短 URL，在域名后面有一个七个字符长的键。这叫做*短链接*，例如`[https://shorturl.com/9zck6rc](https://shorturl.com/9zck6rc)`。
*   当用户试图访问一个短链接时，服务应该将他们重定向到原来的链接。

非功能性需求如下:

*   系统应高度可用；否则，URL 重定向将开始失败。
*   缩短链接不应该是两个不同的网址相同。
*   预计每天的用户数量约为 1，000 人。

我首先指定创建短 URL 和检索保存的长 URL 所需的端点。这是一个简单的服务，有一个数据库可以存储`id`、`long_url`、`short_url`和`created_at`。进行了几次讨论。

# 讨论 1。SQL 与 NoSQL

> 3 名数据库管理员走进 NoSQL 的一家酒吧，过了一会儿，他们因为找不到桌子而离开了！

我从为解决方案选择合适的数据库开始。我建议使用 NoSQL 数据库，忘记了我们不需要扩展，因为每天的预期用户数量很低。我为 NoSQL 提出了一些有效的论点，但当前的解决方案可以使用 SQL 数据库轻松完成，我无法说明为什么 NoSQL 是绝对必要的选择。我一直在说为什么有人会利用 NoSQL。我举了一些使用 NoSQL 的预订平台的例子，我还会继续举这样的例子。

**错误 1。我过度解释了**:你确实需要向面试官解释你的答案，但是不要浪费时间过度解释。我花了几分钟来解释一些可以用几句话解释的事情。保持对自己的检查，而不是不停地说下去，这真的很重要。

提示:向面试官寻求快速反馈，以节省一些时间。这应该是一次谈话。

# 讨论 2。如何计算短网址

接下来，系统最关键的部分是设计计算短 URL 的逻辑。我不会用细节来烦你，但是它需要计算一个惟一的散列(SHA256)并对它应用 Base62 编码。这有其缺陷，你可能会以重复结束。

我无法提供一个解决方案来创建只有七个字符长的输出，并在散列时处理重复。我很接近了，但是想不出一个好的解决办法。

**错误二。我做了假设:**我以为系统设计面试不会问这么多细节。但令我惊讶的是，他们是。不仅如此，从面试官的角度来看，这是我应该知道的最关键的部分。我本可以给更多的时间，但是我在第一次讨论中浪费了一些时间。

**提示:**尝试通过与面试官确认结果来确定结果的优先顺序，从而将解决方案推向正确的方向，并专注于重要的部分。

# 讨论 3。数据库复制

有了计算逻辑，我开始为请求如何到来以及我们如何保存数据创建服务和架构。我谈到了可伸缩性，并提到我们可以使用数据库复制。

下一个问题是关于数据库复制以及复制是如何工作的。我谈到了同步和异步复制，但我自己从未做过类似的事情，所以我的回答缺乏细节，而且很平淡。

**错误 3。我不能说“我不知道”:**如果你不知道什么，就说出来。在我的系统设计面试中，很多时候我会遇到一些我不知道答案的问题，我试图找到答案，但我知道我找不到答案。

在这种情况下，最保险的做法是了解这对解决方案是否真的重要，并相应地将面试引向正确的方向。在这种情况下，数据库复制根本没有必要，因为预期的用户数量非常少。

**提示:**不要害怕说“我不知道”，因为这会给你时间做重要的事情。

# 讨论 4。贮藏

> *“计算机科学只有两个硬东西:缓存失效和事物命名。”—菲尔·卡尔顿*

该服务要求低延迟。这是显而易见的，因为否则，用户将不得不等待很长时间来加载一个网站。对此，显而易见的解决方案是缓存访问量最大的 URL。

下一个问题是找出访问量最大的网址。我提到过，我们可以在第一次未命中后缓存 URL，然后在完全不使用时删除它们。最近最少使用(LRU)可能是我们系统的合理策略。

另一个问题是，如果我们有来自不同区域的负载，需要复制缓存。我建议使用数据库复制，然后使用它使缓存无效，但是我想不出其中的细节。

**错误 4。我缺乏信心:**我已经多次经历了分布式缓存的概念，我以前也在我的项目中使用过，但是我在回答问题时缺乏信心。我的解决方案是正确的，但我觉得我走错了方向。我唯一没有谈到的是这种方法的利弊。

小贴士:自信绝对是关键。如果你知道一些事情，只要对它有信心。

# 结论

我希望你能从我在那次 90 分钟的采访中的不愉快经历中学到一些东西。我在面试中玩得很开心，因为它打开了我知识上的许多缺口。这些知识帮助我在面试中专注于正确的事情，并帮助我在之后的几次面试中胜出。

人们喜欢阅读的其他有趣的文章:

[](/6-key-differences-between-a-junior-and-a-senior-developer-cf2b3d868dd9) [## 初级和高级开发人员之间的 6 个关键区别

### 知道他们之间的区别以及如何达到下一个层次

better 编程. pub](/6-key-differences-between-a-junior-and-a-senior-developer-cf2b3d868dd9) [](/yes-impostor-syndrome-is-actually-good-for-software-developers-f390852a3ea6) [## 是的，冒名顶替综合症实际上对软件开发人员有好处

### 逃避是无济于事的。拥抱它

better 编程. pub](/yes-impostor-syndrome-is-actually-good-for-software-developers-f390852a3ea6) 

为您提供一些资源:

[](https://github.com/donnemartin/system-design-primer/blob/master/README.md) [## donne Martin/系统设计初级读本

### 学习如何设计大型系统。准备系统设计面试。学习如何设计可扩展的系统…

github.com](https://github.com/donnemartin/system-design-primer/blob/master/README.md) [](https://www.educative.io/courses/grokking-the-system-design-interview) [## 探索系统设计面试——互动学习

### 系统设计问题已经成为软件工程面试过程的标准部分。在这些方面的表现…

www.educative.io](https://www.educative.io/courses/grokking-the-system-design-interview) 

感谢阅读！