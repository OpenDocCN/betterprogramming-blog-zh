<html>
<head>
<title>Static Typing in Ruby 3.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ruby 3.0中的静态类型</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/static-typing-in-ruby-3-0-ba46f43a7f3a?source=collection_archive---------8-----------------------#2020-10-01">https://betterprogramming.pub/static-typing-in-ruby-3-0-ba46f43a7f3a?source=collection_archive---------8-----------------------#2020-10-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5a40" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解Ruby的下一步发展</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/70b5897ef047dc10425f446b2bebac7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_rFCwyjpKhCMiQzp"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Joshua Fuller 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure><p id="ade2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本周，<a class="ae kv" href="https://www.ruby-lang.org/en/" rel="noopener ugc nofollow" target="_blank"> Ruby </a>的开发团队发布了他们期待已久的3.0版本主要更新的第一个预览版！</p><p id="a5c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在无数很酷的变化和增加中——包括一些奇妙的总体性能提升和一个强大的新并发/并行处理效率模型——一种新的内置语言已经出现，用于静态类型定义:<a class="ae kv" href="https://github.com/ruby/rbs" rel="noopener ugc nofollow" target="_blank"> Ruby (Type) Signature language，或RBS </a>。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="e37a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">静态打字</h1><p id="e231" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Ruby是一种<a class="ae kv" href="https://en.wikipedia.org/wiki/Type_system#Static_and_dynamic_type_checking_in_practice" rel="noopener ugc nofollow" target="_blank">动态类型语言</a>，这意味着解释器在运行时试图推断变量和对象属性的数据类型。这通常导致程序更加动态，更容易(更快)编码，解释器/编译器加载代码更快。然而，对类型推断的需求及其相关成本，以及在编译时用动态类型代码检测错误的困难，已经导致现代编程趋势转向静态类型语言。</p><p id="87c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">静态类型使开发体验更加流畅。bug更容易检测，尤其是在你写的时候用现代的ide和它们的林挺。对于大多数静态类型的语言来说，它们更显式的本质导致编译更快的代码(更有效的机器代码)。)</p><p id="77ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">流行的动态类型语言也开始效仿。Python的可选静态类型定义的<a class="ae kv" href="https://docs.python.org/3/library/typing.html" rel="noopener ugc nofollow" target="_blank">类型库</a>自从在Python 3.5中引入以来，已经获得了巨大的吸引力。<a class="ae kv" href="https://www.typescriptlang.org/" rel="noopener ugc nofollow" target="_blank">微软的静态类型JavaScript超集类型脚本</a>在最近几年里迅速流行起来，基本上已经成为行业标准。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="194a" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">Ruby中的类型</h1><p id="b9f8" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在即将到来的3.0版本中，Ruby还计划集成可选的静态类型！</p><p id="27d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">开发人员在新版本预览版中创建了一个名为RBS的“<a class="ae kv" href="https://developer.squareup.com/blog/the-state-of-ruby-3-typing/" rel="noopener ugc nofollow" target="_blank">基础类型签名语言</a>”gem。新的<code class="fe mw mx my mz b">.rbs</code>文件类似于<a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-d-ts.html" rel="noopener ugc nofollow" target="_blank">打字稿的</a> <code class="fe mw mx my mz b"><a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-d-ts.html" rel="noopener ugc nofollow" target="_blank">.d.ts</a></code> <a class="ae kv" href="https://www.typescriptlang.org/docs/handbook/declaration-files/templates/module-d-ts.html" rel="noopener ugc nofollow" target="_blank">类型定义文件</a>。这些文件包含所有不同模块的类型定义。通过将它们保存在单独的文件中，您实际的Ruby代码不需要更改，并且您可以快速方便地将静态类型的好处添加到您的Ruby程序中！</p><p id="6ea8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了传统的类型定义语法(看起来很像你对Ruby版本的期望), RBS还实现了更安全的“引导式”<a class="ae kv" href="https://en.wikipedia.org/wiki/Duck_typing" rel="noopener ugc nofollow" target="_blank"> Duck Typing、</a>“联合类型”和“方法重载”接口，以应对非统一的Ruby类型，以及其他一些很酷的特性。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="6e96" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">冰糕</h1><p id="805c" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">RBS旨在成为Ruby中静态类型的标准化基础。<a class="ae kv" href="https://sorbet.org/" rel="noopener ugc nofollow" target="_blank">Ruby中当前打字解决方案的领导者是Sorbet </a>，Ruby的新版本仍然支持它。<a class="ae kv" href="https://sorbet.org/blog/2020/07/30/ruby-3-rbs-sorbet" rel="noopener ugc nofollow" target="_blank"> RBS与Sorbet一起开发，</a>Sorbet是实施RBS文件的高级类型检查器。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3dea" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="5829" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">随着在大型可伸缩应用程序中采用静态类型的行业趋势，Ruby 3.0中RBS的加入是一个令人兴奋的进步。考虑到打字带来的开发体验效率的提高，并将其与Ruby 3.0中运行时性能的大幅提升相结合，我认为Ruby在软件行业的前景非常光明。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1651" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">资源</h1><div class="na nb gp gr nc nd"><a href="https://github.com/ruby/rbs" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">ruby/rbs</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">RBS是一种描述Ruby程序结构的语言。你可以写下一个类或模块的定义…</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">github.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr kp nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://www.ruby-lang.org/en/news/2020/09/25/ruby-3-0-0-preview1-released/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">Ruby 3.0.0预览版1发布</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">我们很高兴地宣布Ruby 3.0.0-preview1的发布。它引入了一个数字…</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">www.ruby-lang.org</p></div></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://developer.squareup.com/blog/the-state-of-ruby-3-typing/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">Ruby 3打字的状态</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">我们很高兴宣布Ruby 3的新类型签名语言RBS。Ruby 3的一个长期目标是…</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">developer.squareup.com</p></div></div><div class="nm l"><div class="ns l no np nq nm nr kp nd"/></div></div></a></div><div class="na nb gp gr nc nd"><a href="https://sorbet.org/blog/2020/07/30/ruby-3-rbs-sorbet" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">Ruby 3、RBS和冰糕中的类型</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">昨天Square在他们的博客上发布了一篇文章，介绍RBS (Ruby Signature)，这是Ruby 3的一种类型语法格式…</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">sorbet.org</p></div></div><div class="nm l"><div class="nt l no np nq nm nr kp nd"/></div></div></a></div></div></div>    
</body>
</html>