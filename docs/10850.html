<html>
<head>
<title>Create an Android Switch Using Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Jetpack Compose创建一个Android开关</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-an-android-switch-using-jetpack-compose-351eddbf5828?source=collection_archive---------8-----------------------#2022-01-31">https://betterprogramming.pub/create-an-android-switch-using-jetpack-compose-351eddbf5828?source=collection_archive---------8-----------------------#2022-01-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="30bf" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">设计可组合用户界面</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/faccf1ec7bd0f2977bb93eccd6b72358.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UVlgG9cK_fNSJHtK"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@twinsfisch?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Isabella和Zsa Fischer </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="5b55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上一个教程中，我们讨论了<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/custom-jetpack-compose-chips-5609e742c54b">创建定制的Jetpack合成芯片</a>。在本文中，我们将讨论如何在Jetpack Compose中创建一个开关。</p><p id="a898" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基本上，当我们需要像开/关这样的双态选项时，就会用到Switch。</p><p id="e826" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们将在Compose中创建一个默认开关，如下所示</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/98b5bab34e5c1d5791508a6c0cd6d862.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*S8Fs-4AK_uICBmq4f_MODA.jpeg"/></div></figure><p id="4099" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上述开关包含两个参数:</p><p id="71ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.<code class="fe lv lw lx ly b">checked</code>:组件是否检查</p><p id="ed5f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.<code class="fe lv lw lx ly b">onCheckedChange</code>:这是一个回调函数，只要用户点击开关就会被调用。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/7885658198554f65d1e2bfdd7f2e0c41.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*8wjaSIIILpHTwEunbwrrow.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">跟踪和拇指</p></figure><p id="9f19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们想改变轨迹和拇指的颜色，那么我们需要添加第三个参数<em class="ma"> </em> <code class="fe lv lw lx ly b">(colors: SwitchColors)</code></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="da88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的代码中，我们添加了接受<code class="fe lv lw lx ly b">SwitchDefaults</code>类型对象的颜色参数。我们已经为选中和未选中状态定制了缩略图和轨迹的颜色。</p><p id="2899" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你注意到上面的图像，<code class="fe lv lw lx ly b">Track</code>的颜色看起来并不全是蓝色，尽管我们已经给了它合适的蓝色。等待..这里好像发生了什么事。</p><p id="61a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe lv lw lx ly b">SwitchDefaults.colors</code>下，得到这两个参数<code class="fe lv lw lx ly b">checkedTrackAlpha</code> <em class="ma"> </em>和<em class="ma"> </em> <code class="fe lv lw lx ly b">uncheckedTrackAlpha</code>的默认值</p><pre class="kg kh ki kj gt mb ly mc md aw me bi"><span id="044b" class="mf mg iq ly b gy mh mi l mj mk">checkedTrackAlpha: Float = 0.54f,<br/>uncheckedTrackAlpha: Float = 0.38f,</span></pre><p id="3be1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们也可以在<code class="fe lv lw lx ly b">SwitchDefaults.colors</code>中传递这些参数，如果我们想要显示完整的蓝色轨道</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/cf90c556952f5c7398e0eb60ecfa270f.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*ufr7PGXvyKDSJ-MAXeoTIA.jpeg"/></div></figure><p id="3b24" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有时我们需要显示一个显示信息的开关，而用户不能对其采取行动，因此，我们也可以通过增加一个参数<code class="fe lv lw lx ly b">(enabled=false)</code>来简单地禁用开关</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/a82c8f2004b356f8df768a2a83af5d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*3WaVaQqrnqxAcoGutl-a9w.jpeg"/></div></figure><p id="bc95" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是...搞定了！就这样。谢谢你阅读它。</p></div></div>    
</body>
</html>