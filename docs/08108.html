<html>
<head>
<title>YAML Tutorial: Get Started With YAML in 5 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">YAML教程:5分钟内开始使用YAML</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/yaml-tutorial-get-started-with-yaml-in-5-minutes-549d462972d8?source=collection_archive---------1-----------------------#2021-03-26">https://betterprogramming.pub/yaml-tutorial-get-started-with-yaml-in-5-minutes-549d462972d8?source=collection_archive---------1-----------------------#2021-03-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ed3c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">语法、显著特性和高级特性</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/859ee87f15826917750fde19569eb42c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hIwbHLG26pYVIJmrt7jqgA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者</p></figure><p id="ace1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">YAML是一种数据序列化语言，它允许你以紧凑和可读的格式存储复杂的数据。这对于开发运维及虚拟化非常重要，因为这对于高效的数据管理系统和自动化至关重要。</p><p id="cf37" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然经常被开发人员忽视，但它是一个强大而简单的工具，只需几个小时的学习就可以极大地改善你的就业前景。</p><p id="2e48" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">今天，我们将通过实践教程帮助您快速学习YAML，并探索如何在您的下一个数据驱动解决方案中使用它。</p><p id="4049" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">下面是我们今天要讲的内容:</strong></p><ul class=""><li id="163c" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">什么是YAML？</li><li id="e4c0" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">YAML的显著特征</li><li id="673f" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">YAML语法</li><li id="7967" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">接下来要学习的高级概念</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="74b9" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">什么是YAML？</h1><p id="20bf" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">YAML是一种数据序列化语言，用于以人类可读的形式存储信息。它最初代表“另一种标记语言”,但后来被改为“YAML不是标记语言”,以区别于真正的标记语言。</p><p id="cd64" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它类似于<a class="ae lu" href="https://www.w3schools.com/xml/xml_whatis.asp" rel="noopener ugc nofollow" target="_blank"> XML </a>和<a class="ae lu" href="https://www.json.org/json-en.html" rel="noopener ugc nofollow" target="_blank"> JSON </a>文件，但是使用了更简单的语法，即使保持了相似的功能。YAML通常用于在基础设施即代码(IoC)程序中创建配置文件，或者管理DevOps开发管道中的容器。</p><p id="a226" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最近，YAML被用于创建自动化协议，可以执行YAML文件中列出的一系列命令。这意味着您的系统可以更加独立和快速响应，而无需额外的开发人员关注。</p><p id="55a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随着越来越多的公司采用DevOps和虚拟化，YAML正迅速成为现代开发人员职位的必备技能。通过使用<a class="ae lu" href="https://pypi.org/project/PyYAML/" rel="noopener ugc nofollow" target="_blank"> PyYAML库</a>、<a class="ae lu" href="https://docs.docker.com/get-started/overview/" rel="noopener ugc nofollow" target="_blank"> Docker </a>或<a class="ae lu" href="https://www.ansible.com/" rel="noopener ugc nofollow" target="_blank"> Ansible </a>的Python等流行技术的支持，YAML也很容易与现有技术相结合。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="f6bf" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">YAML vs. JSON vs. XML</h1><h2 id="3c6c" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">YAML(。yml)</h2><ul class=""><li id="3df9" class="lv lw it la b lb ni le nj lh nz ll oa lp ob lt ma mb mc md bi translated">人类可读代码</li><li id="a792" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">极简语法</li><li id="d4c7" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">专为数据而设计</li><li id="4b27" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">类似于JSON的内联风格(是JSON的超集)</li><li id="1d44" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">允许评论</li><li id="b95b" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">不带引号的字符串</li><li id="fdf4" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">被认为是“更干净”的JSON</li><li id="2478" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">高级特性(可扩展数据类型、关系锚和保持键顺序的映射类型)</li></ul><p id="a930" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">用例</strong> : YAML最适合使用DevOps管道或虚拟机的数据密集型应用。当您团队中的其他开发人员经常使用这些数据，因此需要这些数据具有更好的可读性时，这也很有帮助。</p><h2 id="0bde" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">JSON</h2><ul class=""><li id="ad28" class="lv lw it la b lb ni le nj lh nz ll oa lp ob lt ma mb mc md bi translated">更难阅读</li><li id="1e01" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">明确、严格的语法要求</li><li id="8c85" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">与YAML类似的内联风格(一些YAML解析器可以读取JSON文件)</li><li id="4bbf" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">没有评论</li><li id="df98" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">字符串需要双引号</li></ul><p id="4d66" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">用例</strong> : JSON在web开发中备受青睐，因为它最适合序列化格式和通过HTTP连接传输数据。</p><h2 id="f6bd" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">可扩展标记语言</h2><ul class=""><li id="d031" class="lv lw it la b lb ni le nj lh nz ll oa lp ob lt ma mb mc md bi translated">更难阅读</li><li id="18b2" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">更详细</li><li id="086a" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">充当标记语言，而YAML用于数据格式化</li><li id="650c" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">包含比YAML更多的功能，如标签属性</li><li id="6271" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">更加严格定义的文档模式</li></ul><p id="83c9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">用例:</strong> XML最适合需要对验证、模式和名称空间进行精细控制的复杂项目。XML不是人类可读的，需要更多的带宽和存储容量，但是提供了无与伦比的控制。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d5e8" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">YAML的显著特征</h1><p id="c9c0" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">以下是YAML的一些最佳特色。</p><h2 id="25b7" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">多文档支持</h2><p id="e539" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">您可以在一个YAML文件中包含多个YAML文档，以便于文件组织或数据解析。</p><p id="ce4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每个文档之间的分隔由三个破折号(<code class="fe oc od oe of b">---</code>)标记</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="19af" class="nn mr it of b gy ok ol l om on">---<br/>player: playerOne<br/>action: attack (miss)<br/>---<br/>player: playerTwo<br/>action: attack (hit)<br/>--------</span></pre><h2 id="e39c" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">内置注释</h2><p id="11e6" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">YAML允许您使用类似于Python注释的散列符号(<code class="fe oc od oe of b">#</code>)向文件添加注释。</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="e804" class="nn mr it of b gy ok ol l om on">key: #Here is a single-line comment <br/>   - value line 5<br/>   #Here is a <br/>   #multi-line comment<br/> - value line 13</span></pre><h2 id="bf10" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">可读语法</h2><p id="07ff" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">YAML文件使用类似于Python的缩进系统来显示程序的结构。你需要使用空格而不是制表符来创建缩进，以避免混淆。</p><p id="c6e0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它还删除了JSON和XML文件中的许多“干扰”格式，比如引号、括号和大括号。</p><p id="8be0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">总之，这些格式规范增加了YAML文件的可读性，超过了XML和JSON。</p><p id="c650" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> YAML </strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="b3be" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> JSON </strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="1245" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，传达的是相同的信息；然而，在整个YAML文件中去掉双引号、逗号和括号，使得一目了然更加容易阅读。</p><h2 id="c977" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">隐式和显式类型化</h2><p id="0cc5" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">YAML通过自动检测数据类型提供了多种类型，同时还支持显式类型选项。要将数据标记为某种类型，只需在值前包含<code class="fe oc od oe of b">!![typeName]</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><h2 id="0ea2" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">没有可执行的命令</h2><p id="951e" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">作为一种数据表示格式，YAML不包含可执行文件。因此，与外界交换YAML文件是非常安全的。</p><p id="680d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">YAML必须与其他语言集成，如Perl或Java，才能添加可执行文件。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2ef6" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">YAML语法</h1><p id="9902" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">YAML有几个基本概念，它们构成了大部分数据。</p><h2 id="2090" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">键值对</h2><p id="5486" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">一般来说，YAML文件中的大多数内容都是一种键值对的形式，其中键表示键值对的名称，值表示与该名称关联的数据。键值对是所有其他YAML构造的基础。</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="16e4" class="nn mr it of b gy ok ol l om on">&lt;key&gt;: &lt;value&gt;</span></pre><h2 id="1ce1" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">标量和映射</h2><p id="3588" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">标量代表单个存储值。标量使用映射分配给键名。您用名称、冒号和空格定义一个映射，然后为它保存一个值。</p><p id="f8fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">YAML支持整数和浮点数值等常见类型，以及布尔和字符串等非数字类型。</p><p id="58b6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每一种都可以用不同的方式表示，比如十六进制、八进制或指数。还有一些特殊类型的数学概念，如无穷大、-无穷大和非数字(<code class="fe oc od oe of b">NAN</code>)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><h2 id="abcf" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">线</h2><p id="6452" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">字符串是代表一个句子或短语的字符的集合。您可以使用<code class="fe oc od oe of b">|</code>将每个字符串打印为一个新行，或者使用<code class="fe oc od oe of b">&gt;</code>将其打印为一个段落。</p><p id="ee84" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">YAML的字符串不需要用双引号括起来。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><h2 id="ebcc" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">顺序</h2><p id="b40e" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">序列是类似于列表或数组的数据结构，在同一个键下保存多个值。它们是使用块或内联流样式定义的。</p><p id="b3ac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">块样式使用空格来组织文档。它更容易阅读，但不如流动风格紧凑。</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="e193" class="nn mr it of b gy ok ol l om on">-------- <br/># Shopping List Sequence in Block Style<br/>shopping: <br/>- milk<br/>- eggs<br/>- juice</span></pre><p id="bf78" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">流样式允许您使用方括号内联编写序列，类似于Python或JavaScript等编程语言中的数组声明。<br/> Flow风格更紧凑，但更难一目了然。</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="7493" class="nn mr it of b gy ok ol l om on">-------- <br/># Shopping List Sequence in Flow Style<br/>shopping: [milk, eggs, juice]</span></pre><h2 id="467b" class="nn mr it bd ms no np dn mw nq nr dp na lh ns nt nc ll nu nv ne lp nw nx ng ny bi translated">字典</h2><p id="036b" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">字典是嵌套在同一子组下的键值对的集合。它们有助于将数据分成逻辑类别以备后用。</p><p id="e313" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">字典的定义类似于映射，输入字典名、冒号和空格，后跟一个或多个缩进的键值对。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="2069" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">字典也可以包含更复杂的结构，比如序列。嵌套序列是表示复杂关系数据的好技巧。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="a185" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">接下来要学习的高级概念</h1><p id="3e2a" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">祝贺你迈出了学习YAML的第一步。虽然经常被忽略，YAML是一个简单而有效的工具，您可以从DevOps工具包中选择。</p><p id="a03a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">接下来要关注的一些高级主题有:</strong></p><ul class=""><li id="075d" class="lv lw it la b lb lc le lf lh lx ll ly lp lz lt ma mb mc md bi translated">锚</li><li id="efe2" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">模板</li><li id="7397" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">带有外部工具(Docker、Ansible等)的YAML。)</li><li id="e711" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">高级序列/映射类型</li><li id="a964" class="lv lw it la b lb me le mf lh mg ll mh lp mi lt ma mb mc md bi translated">高级数据类型(时间戳、空值等。)</li></ul><p id="edbe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="oq">快乐学习！</em></p></div></div>    
</body>
</html>