<html>
<head>
<title>Advanced Data Filtering in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的高级数据过滤</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/advanced-data-filtering-in-react-5ea2fa3befca?source=collection_archive---------0-----------------------#2021-02-15">https://betterprogramming.pub/advanced-data-filtering-in-react-5ea2fa3befca?source=collection_archive---------0-----------------------#2021-02-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3e49" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为渲染的数据集创建动态过滤器</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/42b865bcd8e77f7218733f2d78394486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YTnEjQsRp71VJtGsQvsL7w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们今天将创造什么！作者照片。</p></figure><p id="21f7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如我最近写的，我们正在处理越来越多的数据。当这些数据进入我们的应用程序时，我们必须让用户能够使用它们。今天，我们来看看如何创建动态过滤器:你启用或禁用某个过滤器，数据会立即在你的屏幕上更新。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/05c367feb02b31d332d791550c16d30f.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*RughI-TaCWnQ__fmn9S76w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">亚马逊、克雷格列表和扑克之星上的过滤器。</p></figure><p id="3414" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不要被我们演示应用程序的简单性所迷惑。我们将建立一个健壮的架构，可以用于大量数据和过滤器的组合。我们的代码将是灵活的、动态的和可维护的。</p><p id="c036" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我会试着指导你每一步，解释所有的来龙去脉。</p><p id="03f1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们直入主题吧！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8e53" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">我们的数据</h1><p id="cc7b" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">我们将使用一个JSON文件，该文件包含根据电影数据库<a class="ae lu" href="https://www.themoviedb.org/" rel="noopener ugc nofollow" target="_blank">提供的关于60部最受欢迎的电影的信息。这是我们存储在<code class="fe na nb nc nd b"><a class="ae lu" href="https://gitlab.com/gvanderput/gerard-movie-filtering/-/blob/master/data/movies.json" rel="noopener ugc nofollow" target="_blank">movies.json</a></code>文件中的来自他们API的定制响应:</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">实际文件包含60部电影。</p></figure><p id="957c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">和往常一样，我们使用平面数据结构。我们有一个额外的文件，<code class="fe na nb nc nd b"><a class="ae lu" href="https://gitlab.com/gvanderput/gerard-movie-filtering/-/blob/master/data/genres.json" rel="noopener ugc nofollow" target="_blank">genres.json</a></code>，它包含了关于相关流派的信息(一个<code class="fe na nb nc nd b">ID</code>和一个<code class="fe na nb nc nd b">name</code>)，具有相似的结构。</p><p id="7ece" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我们用包含一点样式的专用组件渲染电影时，它们看起来会像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/1f686f1fc8b0d70fd0bfdc347a204598.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I_natw5MZIMd0XUB4BRR2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">电影元素在他们所有的荣耀中。</p></figure><p id="4ea4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">大家可以看到，我们渲染了一个<code class="fe na nb nc nd b">title</code>、<code class="fe na nb nc nd b">description</code>的一部分、上映日期的<code class="fe na nb nc nd b">year</code>(右上角)、电影已经获得的票数<code class="fe na nb nc nd b">genres</code>(本文不会用到后者)。</p><p id="71ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们创建实际的过滤逻辑(代码)之前，请允许我说几句关于过滤数据和布尔表达式的话。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="0dca" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">过滤数据</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/ba7bf309db618ff1ebef28f90b98733d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BSpCnwOyBZ_OB8b4l92FrA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">顶部的过滤器。</p></figure><p id="f589" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我们呈现我们的<code class="fe na nb nc nd b">Movies</code>列表时，我们将呈现电影的数据作为组件中的一个属性。这是一个包含每部电影的数据对象的数组。因此，当我们谈论过滤我们的数据时，我们基本上是在谈论在使用这个数组来呈现<code class="fe na nb nc nd b">Movie</code>组件之前操纵它。</p><p id="a2b2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以在我们的演示应用程序的屏幕截图中看到，我们有两组过滤器(理论上可以有更多):</p><ul class=""><li id="3f37" class="nh ni it la b lb lc le lf lh nj ll nk lp nl lt nm nn no np bi translated">年份过滤器</li><li id="1bc6" class="nh ni it la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">流派过滤器</li></ul><p id="1e8b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可能会尝试(这种情况经常发生)将与过滤器相关的数据存储在您的状态中，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="3e03" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请不要这样做！让我解释一下。每当你在代码中看到重复的模式时(在这种情况下，<code class="fe na nb nc nd b">yearsSelected</code>和<code class="fe na nb nc nd b">genreIdsSelected</code>的<code class="fe na nb nc nd b">useState</code>用法几乎相同)，你应该警惕。在几乎所有这样的情况下，都有一个更好、更通用的解决方案。</p><p id="1f55" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为什么上面的设置可能不是最好的主意的一个例子是:它不包含任何关于我们应该如何过滤实际数据的信息。我们的<code class="fe na nb nc nd b">Movie</code>对象的哪些属性是相关的？我们如何处理来自<code class="fe na nb nc nd b">yearsSelected</code>的数值(年)？我们在哪里创建真正过滤数据的函数呢？我们拥有的两个功能组(年份、类型)是如何相互关联并协同工作的？</p><p id="c9bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的伪解决方案缺乏结构，没有为未来做好准备。如果我们需要更多的过滤器组呢？如果我们需要15个呢？我们要打15个<code class="fe na nb nc nd b">useState</code>电话吗？你不会是第一个这样做的人，但这是一种反模式。长此以往会带来麻烦。</p><p id="79ce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将深入了解下面的一个解决方案。然而，如前所述，快速了解一下布尔表达式。在我看来，您需要对这一点有一个非常扎实的理解，然后才能制定在自己的应用程序中过滤数据的计划。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/57ee26be7d83b8d787a20bf64445bf64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*HJ-RLRTd2vrRh-Zg0pX7uw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">动画:我们运行中的演示应用程序。</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8c51" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">布尔表达式</h1><p id="de78" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">布尔表达式或逻辑表达式使用运算符，如<code class="fe na nb nc nd b">OR</code>、<code class="fe na nb nc nd b">AND</code>和<code class="fe na nb nc nd b">NOT</code>。您可能知道，它们的JavaScript对等词是<code class="fe na nb nc nd b">||</code>、<code class="fe na nb nc nd b">&amp;&amp;</code>和<code class="fe na nb nc nd b">!</code>(感叹号)。</p><p id="730f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">回到我们的两个过滤器组:年份和流派。想象我们激活一些过滤器，像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/bf4491882952fb3ec9ed36d2a27b45c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0Z_qvBsCsDAGlFIO-3U8w.png"/></div></div></figure><p id="9791" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们选择了两年和两种风格。这是什么意思？这个问题的答案并不像你想象的那样简单。我可以想出几个。</p><p id="df86" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">选择符合以下条件的电影:</p><ol class=""><li id="b78f" class="nh ni it la b lb lc le lf lh nj ll nk lp nl lt nx nn no np bi translated">(均为2018年上映<code class="fe na nb nc nd b">OR</code> 2017) <code class="fe na nb nc nd b">AND</code>(属于流派动画<code class="fe na nb nc nd b">OR</code>家族)。</li><li id="5911" class="nh ni it la b lb nq le nr lh ns ll nt lp nu lt nx nn no np bi translated">(均为2018年上映<code class="fe na nb nc nd b">OR</code> 2017) <code class="fe na nb nc nd b">OR</code>(属于流派动画<code class="fe na nb nc nd b">OR</code>家族)。</li><li id="196b" class="nh ni it la b lb nq le nr lh ns ll nt lp nu lt nx nn no np bi translated">(均为2018年上映<code class="fe na nb nc nd b">OR</code> 2017) <code class="fe na nb nc nd b">AND</code>(属于流派动画<code class="fe na nb nc nd b">AND</code>家族)。</li></ol><p id="058f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意布尔运算符的细微差别。他们让一切变得不同。作为开发人员，您必须做出这些选择。过滤器是如何工作的？你决定吧。您可能希望与客户或产品负责人讨论这一点，并且您需要确保您的最终用户在使用过滤器时了解这一点。</p><p id="1b07" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后但同样重要的是，您和您的同事需要了解您自己的代码在完成后是如何工作的。这很容易让人迷失，这也是创建一个能够处理多个过滤器组的通用解决方案的更大原因。</p><p id="52d9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们做出选择:如果电影是在任何一个选定的年份发行的，并且它们属于所有选定的流派，我们就退回这些电影。</p><p id="ad2c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上文备选方案3。</p><p id="a17f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">是时候写些代码了。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="bf18" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">状态中的过滤器</h1><p id="35c1" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">状态管理是一个独立的主题。总是有多种解决方案。在这种情况下，我们选择单个<code class="fe na nb nc nd b">useState</code>调用来跟踪所选的过滤器:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="5597" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它包含一个类型为<code class="fe na nb nc nd b">Filter</code>的对象数组。每个过滤器有三个数据点(属性):一个<code class="fe na nb nc nd b">name</code>、一个<code class="fe na nb nc nd b">group</code>和一个<code class="fe na nb nc nd b">function</code>。</p><p id="84f6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们用这些(缩减器)函数来操纵我们的状态:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="bc6e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我们点击界面中的一个“过滤器标签”(因为缺少更好的术语)时，我们调用<code class="fe na nb nc nd b">toggleFilter</code>函数。我们可以看一个例子—过滤器组“years”的标签相关代码如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="4f3f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看看我们如何不仅向<code class="fe na nb nc nd b">toggleFilter</code>传递名称和组标识符，还传递一个函数，该函数可用于确定是否应该为该特定过滤器选择一部电影。</p><p id="3d58" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们对流派标签做了类似的事情:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="cacb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在我们的国家有很多关于我们应该如何过滤我们的电影的知识。我们接下来就这么做吧。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="1903" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">应用过滤器</h1><p id="7360" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">我们不是把代码扔给你，而是一个接一个地看各个部分。这是所有魔法发生的地方，所以让我们试着确定我们理解它的每一小部分。</p><p id="1852" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们应用过滤器的主要功能是:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="f4a7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该函数接收我们状态下的所有<code class="fe na nb nc nd b">movies</code>和<code class="fe na nb nc nd b">filters</code>。很简单。然后我们迭代所有的电影，对于每部电影，我们检查:</p><ul class=""><li id="aef3" class="nh ni it la b lb lc le lf lh nj ll nk lp nl lt nm nn no np bi translated">如果是“按年份显示”(第3行)。</li><li id="de8c" class="nh ni it la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">如果是“按流派显示”(第4行)。</li></ul><p id="3e2f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">“等一下！又是同样的代码，不是吗？我们之前说过，我们应该尽量避免编写这样的代码。”如果这是你的第一个想法，那你就对了。然而，为了清楚起见，我们显式地编写了两个不同的函数。</p><p id="89a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第5行，我们返回特定电影的结果。它是否应该显示在我们的列表中:</p><pre class="kj kk kl km gt ny nd nz oa aw ob bi"><span id="46ab" class="oc me it nd b gy od oe l of og">return showByYear &amp;&amp; showByGenre;</span></pre><p id="3b00" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">记住我们之前对这个逻辑表达式的选择:</p><pre class="kj kk kl km gt ny nd nz oa aw ob bi"><span id="409b" class="oc me it nd b gy od oe l of og">(are released in 2018 <strong class="nd iu">OR</strong> 2017) <strong class="nd iu">AND</strong> (belong to the genre Animation <strong class="nd iu">AND</strong> Family)</span></pre><p id="9a52" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面灰色代码片段中的<code class="fe na nb nc nd b">&amp;&amp;</code>操作符代表完整表达式中的中间<code class="fe na nb nc nd b">AND</code>操作符。</p><p id="607c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们看看助手功能<code class="fe na nb nc nd b">isShownByYear</code>和<code class="fe na nb nc nd b">isShownByGenre</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="b360" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了确定是否应该根据当前选择的年份来放映电影，我们首先只选择我们所在州的相关过滤器(第2行)。如果没有找到，这意味着没有选择年份，然后我们做出选择，我们认为电影被选中(第3行)。值得一提的是，在这种情况下，我们也可以选择<em class="nv">不选择</em>电影。</p><p id="c1aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后一行(第4行)也很重要。注意当我们迭代年份过滤器时，我们如何使用数组方法<code class="fe na nb nc nd b">some</code> ( <a class="ae lu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some" rel="noopener ugc nofollow" target="_blank">文档</a>)。如果任何调用返回true(例如，如果电影是在当前选择的任何一年发行的)，我们立即返回<code class="fe na nb nc nd b">true</code>。这代表了我们完整表达式中的<code class="fe na nb nc nd b">OR</code>运算符:</p><pre class="kj kk kl km gt ny nd nz oa aw ob bi"><span id="5a13" class="oc me it nd b gy od oe l of og">(are released in 2018 <strong class="nd iu">OR</strong> 2017) ...</span></pre><p id="29e9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想使用一个<code class="fe na nb nc nd b">AND</code>操作符，我们应该使用<code class="fe na nb nc nd b">every</code> <strong class="la iu"> </strong> ( <a class="ae lu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every" rel="noopener ugc nofollow" target="_blank">文档</a>)。这正是我们在另一个助手函数<code class="fe na nb nc nd b">isShownByGenre</code>中所做的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="89b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看看我们这里怎么用<code class="fe na nb nc nd b">every</code>代替<code class="fe na nb nc nd b">some</code>。这意味着这部电影需要属于<em class="nv">所有</em>选定的流派才能获得资格。这正是我们在表达式的第二部分所选择的:</p><pre class="kj kk kl km gt ny nd nz oa aw ob bi"><span id="10ba" class="oc me it nd b gy od oe l of og">... (belong to the genre Animation <strong class="nd iu">AND</strong> Family)</span></pre></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="9314" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><p id="2251" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">当涉及到逻辑(布尔)表达式时，有很多选择。确保你事先有一个计划。在编写实际代码之前，与相关人员澄清您想要实现的目标。</p><p id="bf5f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文给出的解决方案可能并不完美，但它展示了我们如何将逻辑和问题规范化为可伸缩和可测试的通用解决方案。</p><p id="a06e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我还没有提到记忆化或其他缓存技术。那是故意的，因为那只会分散注意力。也就是说，您应该考虑进一步优化给出的代码——尤其是如果您的数据集比我们今天看到的数据集大得多。</p><p id="59b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">JavaScript非常强大。通过正确的技术和优化，它可以处理非常大量的数据和迭代。</p><p id="20f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢您的宝贵时间！</p><p id="d2c5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="nv">注:本文使用的所有代码都可以在我的资源库</em> <a class="ae lu" href="https://gitlab.com/gvanderput/gerard-movie-filtering" rel="noopener ugc nofollow" target="_blank"> <em class="nv"> GitLab </em> </a> <em class="nv">上找到。</em></p></div></div>    
</body>
</html>