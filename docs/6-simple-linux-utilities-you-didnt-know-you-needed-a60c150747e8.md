# 你不知道你需要的 6 个简单的 Linux 工具

> 原文：<https://betterprogramming.pub/6-simple-linux-utilities-you-didnt-know-you-needed-a60c150747e8>

## 这些 Linux 程序体现了简单、优雅，当然，有一件事做得非常好

![](img/f7829573f2a3ff0f1c4067df3fc46118.png)

加布里埃尔·海因策在 [Unsplash](https://unsplash.com/s/photos/linux?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

如果你仔细观察 Linux 的内部，你会发现一个内置程序的宝库。许多这些默认程序遵循一个叫做[单一责任原则](https://en.wikipedia.org/wiki/Single-responsibility_principle)的规则。这意味着他们做一件事，而且做得很好。

这些实用程序不会试图打包无数的功能或支持每一种可能的格式或风格。他们不道歉，不宽恕。它们服务于一个目的，执行一个功能，仅此而已。正是因为这个原因，它们才显得美丽优雅。在今天这个被过度宣传的多任务、多功能和功能臃肿的应用程序的世界里，一个小的 Linux 程序的简单性和有效性就像一张舒适、温暖的毯子。

没有令人费解的用户界面，没有筛选数百个钉在一起的功能。只是一种纯粹的方法。

让我们来看一些 Linux 程序的精彩例子，它们是这个实用主义、功利主义世界的典范。

# 1.总和

就这么简单。这个命令只有四个可接受的参数，其中一个是`--help`标志。`sum`实用程序将为指定的输入文件生成校验和及块计数。

让我们用以下内容制作一个简单的文本文件:

```
line 1
line 2
line 3
```

并通过`sum`实用程序运行它:

```
> sum file.txt
22592     1
```

左边是文件的校验和，右边是文件在文件系统中所占的块数。非常简单。

这对于执行文件之间的快速差异或检查文件自上次校验和以来是否发生了更改非常有用。

还可以查看`cksum`实用程序来执行校验和并计算字节数，而不是块数。

# 2.mktemp

此实用程序允许您创建临时文件。有时你需要在一个文件中存储一些信息，直到一个进程完成。为了快速安全地完成这项工作，你可以简单地使用`mktemp`工具。

与手动在`/tmp`目录中设置文件创建不同，使用`mktemp`您可以在一个简单的命令中完成所有工作。这使您不必检查文件是否已经存在或选择一个唯一的文件名。

简单地运行`mktemp`将产生新的临时文件的名称和路径:

```
/tmp/tmp.xWrpgjoJgk
```

现在，当您需要在临时文件中存储一些数据时，您将不必重新发明轮子。让 Linux 来帮你做吧。

# 3.娜美

Linux 上的路径潜水会变得非常复杂。尤其是如果你正在跟踪一些符号链接。`namei`实用程序将向您展示一条路径的层次结构以及到达它的终点所经历的曲折。

例如，假设我们有一个目录，里面有一个测试文件:

```
/tmp/real_dir/test_file
```

我们将创建一个名为`symlink_dir`的目录的符号链接，然后使用`namei`通过符号链接确定测试文件的路径:

```
f: /tmp/symlink_dir/test_file
 d /
 d tmp
 l symlink_dir -> /tmp/real_dir
   d /
   d tmp
   d real_dir
 - test_file
```

如你所见，`namei`向我们展示了在`real_dir`内的`test_file`处结束的完整路径。这包括遍历`symlink_dir`并返回指向`real_dir`。

您可以使用`namei`立即获得清晰的图片，而不是使用类似`ls`的东西来繁琐地挖掘路径中的每个目录或潜在符号链接。

# 4.医务主任

不管你是否已经知道这个命令，它的用处是巨大的。`sg`实用程序允许您切换组并作为该组执行命令。例如，如果您想作为`admin`组执行某项任务，但是您的用户不是该组的成员。为此，您可以使用:

```
sg admin 'ls -lah'
```

这将把`ls -lah`作为`admin`组执行，然后立即将您返回到原来的组成员。

`sg`命令对于测试整个组的权限或运行具有不同权限的脚本非常有用。

# 5.最后的

安全性在任何 Linux 机器上都是至关重要的，尤其是当它位于云中时。如果您认为有人可能已经登录到特定的主机并执行了一些恶意活动或错误的命令，`last`实用程序可以提供帮助。

```
tate   pts/0    1.2.3.4      Wed Jan 26 01:17   still logged in
tate   pts/0    1.2.3.4      Wed Jan 26 01:17   still logged in
tate   pts/0    4.5.6.7      Wed Jan 26 01:04 - 01:04  (00:00)
tate   pts/0    4.5.6.7      Wed Jan 26 01:01 - 01:02  (00:01)
tate   pts/0    4.5.6.7      Tue Jan 25 20:55 - 00:00  (03:05)
```

使用`last`您可以看到所有用户的登录活动和关键信息，如他们的远程 IP、登录时间和当前状态。

还要注意`last`是如何向您显示每个会话的持续时间的。如果有大量持续时间非常短的会话，这可能意味着一些脚本或自动系统正在登录和注销您的系统。这可能有助于您追踪系统上发生的任何可疑或不必要的活动。

# 6.战术空军司令部（Tactical Air Command 的缩写）

大家都知道`cat`命令。这是除了`ls`之外，您可能在 Linux 上使用的第一个命令之一。但是你知道`cat`司令部的邪恶孪生兄弟吗？

`tac`命令(字面意思是“猫”倒过来拼写)做的事情几乎和`cat`完全一样。它仍然显示一个文件的内容，但是现在它向后*显示*。

例如，假设我有一个包含以下内容的文件:

```
line 1
line 2
line 3
line 4
line 5
```

如果我`cat`这个文件，通常的输出出现。如果我得到这个文件:

```
line 5
line 4
line 3
line 2
line 1
```

当然，这一开始可能看起来很傻，但是想象一下，您有一个相当大的日志文件，并且希望从最近的条目开始显示它的内容。使用`tac`您可以轻松地将这样一个日志文件的输出输入到您的控制台或另一个应用程序中进行处理。

感谢阅读！有一些你自己喜欢的隐藏宝石命令吗？伸出手来告诉我们他们的情况。查看下面的片段，了解更多的 Linux 命令:

*   [*6 更多你应该知道的终端命令*](/6-more-terminal-commands-you-should-know-3606cecdf8b6)
*   [*5 个让你会心一笑的 Linux 实用程序*](/5-linux-utilities-that-will-make-you-smile-b582684b3090)