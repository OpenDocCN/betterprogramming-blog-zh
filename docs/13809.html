<html>
<head>
<title>My First Impressions of Infrastructure From Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我对代码基础设施的第一印象</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/my-first-impressions-of-infrastructure-as-code-13c44bdc7743?source=collection_archive---------4-----------------------#2022-09-29">https://betterprogramming.pub/my-first-impressions-of-infrastructure-as-code-13c44bdc7743?source=collection_archive---------4-----------------------#2022-09-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d57b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">来自代码的基础设施是一个新概念，它从您的代码中确定云资源。我试过了。这是我早期的观点</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7baadcf21dbf21940d7cd9b8a98c43c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gcFFaXneGx98Gb3O.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自Freepik上的<a class="ae ky" href="https://www.freepik.com/free-vector/man-thinking-concept-illustration_20824309.htm#query=thinking&amp;position=0&amp;from_view=search" rel="noopener ugc nofollow" target="_blank">故事集</a></p></figure><p id="1576" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">早在八月份，我发表了一篇关于<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/the-future-of-serverless-1c945a75f4be">无服务器</a>的未来的文章。概括地说，要点是未来是基于生产流量的代码基础设施(IfC)。</p><p id="d691" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我在<a class="ae ky" href="https://www.readysetcloud.io/talks/screaming-in-the-cloud-future-of-serverless" rel="noopener ugc nofollow" target="_blank"> <em class="lv">云端尖叫</em>播客</a>中也提到过。</p><p id="a0d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它很有前途，而且只关注你的业务逻辑的想法当然很有吸引力。至少我是这么认为的。</p><p id="d688" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我发表了关于国际金融公司是未来之路的想法后，有几家公司找到我，说未来比你想象的要近。我与他们中的几个人交谈过，并且一直在用目前可用的工具构建一些概念证明。<em class="lv">稍后将详细介绍</em>。</p><p id="47d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我开始建造的时候，没多久我就形成了一些早期的观点。</p><p id="04e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然我的观点还处于早期，但我想分享我的认识，因为我不再认为它会像我曾经做的那样容易。我们越早谈论它，我们就能越早做出明智的决定来塑造未来。</p><h1 id="08c6" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">开发者不会喜欢的</h1><p id="5132" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">当我开始我的第一个概念验证时，我很难调整我的心态来适应这种类型的开发。多年来，我一直使用无服务器，我认为代码X属于基础设施y。</p><p id="0bb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我制定解决方案时构建的思维地图的一部分。我习惯于将基础设施与我的代码相关联。</p><p id="644e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但这不是代码基础设施的工作方式。</p><p id="2df7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你必须将基础设施的控制权交给框架。相信它会根据您编写的基础结构决定创建正确的资源。</p><p id="40e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果说我对开发者有什么了解的话…他们有信任问题。</p><p id="91d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不是坏的方面。但是，一次又一次，我看到开发人员重新发明轮子，因为他们认为他们可以做得更好。他们不相信现有的东西对他们的用例来说足够好。他们认为他们的产品很特别。</p><p id="fadd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">听起来熟悉吗？</p><p id="eaac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是从代码中采用基础设施的一个重大障碍。信任。放弃我能做得更好的想法，专注于解决业务问题。</p><p id="ccdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">老实说，这听起来像一个理想的情况，但实际上，人们将有一个艰难的调整时间。</p><h1 id="b0e1" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">这不仅仅是解决商业问题</h1><p id="223c" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">尽管说你只会编写代码来解决业务问题听起来很酷，但你仍然会做一些底层的设计。</p><p id="32b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">显然，数据建模永远不会消失。了解访问模式并构建适当的数据模型是无法抽象出来的。</p><p id="2ee6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是像发布和订阅事件这样的组件也必须考虑在内。虽然您正在使用的基础设施可能是抽象的，但您需要在业务操作发生时发布事件的事实仍然存在。</p><p id="d4de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我的一大误解。我认为整个“代码基础设施”的一部分将会成功，所以我不需要考虑像事件这样的低级组件。我不确定我认为什么会取代它，但事实肯定不是这样。</p><p id="7c52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有意设计数据如何在服务间流动和共享仍然是未来的一部分。<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/how-to-switch-from-software-developer-to-solutions-architect-5e0c12bdc4b1">仍然需要解决方案架构师</a>！</p><h1 id="be37" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">维护将会很棘手</h1><p id="8d47" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">坦白地说，在解决无服务器问题时，我有一些不太理想的习惯。我通常识别有问题的端点或事件处理程序，找到支持资源，然后跳转到CloudWatch。</p><p id="15ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果它看起来像是我可以快速修复的东西，我会在控制台中更改代码并进行验证。然后，我返回并在源代码控制中进行更改，并打开一个拉请求。当然，不是在生产中。请不要在生产中这样做！</p><p id="af07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我成功做到这一点的真正关键是，我可以从一个已知的入口点(如API端点)快速找到我的资源。我可以查看我的规范中的<a class="ae ky" href="https://github.com/allenheltondev/gopher-holes-unlimited/blob/master/openapi.yaml" rel="noopener ugc nofollow" target="_blank">，看到它与一个特定的Lambda函数相关联，然后直接进入那里。</a></p><p id="97df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您让您的框架从代码中构建基础设施，这种情况就会消失。您花费时间跟踪哪些资源被创建和部署(如果可以的话)，并且即使您找到了，您也可能无法即时更改代码。</p><p id="b790" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果一个Lambda函数被创建，也许它是作为一个容器函数被创建的。或者可能您的端点是在AWS AppRunner中创建的，在那里您无法访问实时代码。</p><p id="1923" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">老实说，这可能是件好事。你最终依赖于<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/the-challenges-of-stateless-architecture-and-how-to-monitor-your-serverless-application-94c0e8b8dd1">观察工具</a>，而不是钻研控制台，这对生产软件来说是一种更安全的做法。解决问题的时间稍微长了一点，但是它确实防止了你的意外偏离。</p><h1 id="73dc" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">结论</h1><p id="f895" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">这里有一个有趣的平衡，国际金融公司的供应商需要取得。他们需要在消费者感觉到利益的地方进行足够的抽象，但是他们需要在他们仍然可以做出详细决策的地方提供足够的控制。</p><p id="b5de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最初的印象是，来自代码的基础设施将会改变游戏规则。在使用了一些现有的选项后，我仍然相信这是真的。然而，它带有警告。</p><p id="7fb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不喜欢改变，你会过得很糟糕。当前的无服务器开发人员会推迟采用，因为他们觉得这会夺走他们的控制权。</p><p id="a26e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">IfC不会成为解决未来所有编程问题的灵丹妙药。我们仍然需要构建类似于<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/3-ways-to-retry-failures-in-your-serverless-application-84b5102f620">重试机制</a>、<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/serverless-api-essentials-idempotency-e753b7b49680">等幂</a>和<a class="ae ky" href="https://docs.aws.amazon.com/prescriptive-guidance/latest/modernization-data-persistence/saga-pattern.html" rel="noopener ugc nofollow" target="_blank">传奇工作流</a>的东西。</p><blockquote class="mt"><p id="a5cf" class="mu mv it bd mw mx my mz na nb nc lu dk translated">来自代码的基础设施不需要开发人员的技术力量。</p></blockquote><p id="2238" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">如果有的话，IfC将帮助掌握某些开发技能。通过清除基础设施决策的混乱，开发人员可以更多地关注复杂的模式和新的构造。</p><p id="55a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无服务器和国际金融公司的未来是光明的。我真诚地相信基于交通的适应性基础设施并不遥远。但是，这对应用程序的可维护性和其他操作问题意味着什么呢？时间会证明一切。</p><p id="032f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请继续关注我对三家IfC供应商进行基准测试并比较它们的可用特性和实现的帖子。到目前为止，我已经看到了三种非常不同的假设，结果也非常不同。令人兴奋的是，根据我们的用例、优先级和信任他人的意愿，我们可以看到未来的所有可能性。</p><p id="e5e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编码快乐！</p></div></div>    
</body>
</html>