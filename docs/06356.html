<html>
<head>
<title>Create a Custom Navigation View in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中创建自定义导航视图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-a-custom-navigation-view-in-swiftui-88e70c32ffed?source=collection_archive---------1-----------------------#2020-09-24">https://betterprogramming.pub/create-a-custom-navigation-view-in-swiftui-88e70c32ffed?source=collection_archive---------1-----------------------#2020-09-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2bce" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用@ViewBuilder、PresentationMode和NavigationLink自定义导航视图和栏</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/efd515529ca2ee56f54588d189d930f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ij1W28jGcfB4vt1lHqVqJg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="4f5a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用两种通用类型定义您的自定义导航视图。第一种类型是<code class="fe lu lv lw lx b">Content</code>，用于在我们的自定义导航视图中传递视图。第二种是<code class="fe lu lv lw lx b">Destination</code>，用来传递任意目的视图。</p><pre class="kj kk kl km gt ly lx lz ma aw mb bi"><span id="15af" class="mc md it lx b gy me mf l mg mh"><strong class="lx iu">struct</strong> CustomNavigationView&lt;Content: View, Destination : View&gt;: View {<br/>}</span></pre><ul class=""><li id="7d45" class="mi mj it la b lb lc le lf lh mk ll ml lp mm lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">Content</code>:符合视图的通用类型。它将允许我们添加一个闭包来提供多个子视图。</li><li id="5eef" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">Destination</code>:符合View的泛型。它用于传递目的链接。</li></ul></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="514a" class="nd md it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">常量和变量</h1><p id="7fe2" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">在我们的自定义导航视图中，添加以下变量和常量。使用<code class="fe lu lv lw lx b">init()</code>将<code class="fe lu lv lw lx b">@ViewBuilder</code>属性添加到内容中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><ul class=""><li id="57bd" class="mi mj it la b lb lc le lf lh mk ll ml lp mm lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">destination</code>:用于将目的地视图传递给我们的自定义导航视图。没有目的地视图时给它一个<code class="fe lu lv lw lx b">EmptyView()</code>。</li><li id="e48c" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">isRoot</code>:用于建立根视图的布尔值。我们将使用它来控制后退箭头按钮的不透明度。</li><li id="56e4" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">isLast</code>:用于确定最后一个视图的布尔值。对于本教程，我们将使用这个值来控制导航链接按钮的不透明度。</li><li id="861c" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">color</code>:自定义导航栏颜色。</li><li id="6c2b" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">content</code>:为将子视图传递给我们的自定义导航视图提供闭包。</li><li id="a49b" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">active</code>:用于控制导航链接的状态变量。</li><li id="4baf" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated"><code class="fe lu lv lw lx b">mode</code>:一个环境变量处理程序，用于关闭视图。</li></ul></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="a8b8" class="nd md it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">导航栏形状</h1><p id="97a0" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">对于导航条，你可以有一个带背景色的<code class="fe lu lv lw lx b">HStack</code>，或者你可以创建一个自定义的形状，将导航条项目堆叠在上面。对于本教程，我们将创建一个波形，并将其添加到一个<code class="fe lu lv lw lx b">ZStack</code>，然后添加一个带有导航项目的<code class="fe lu lv lw lx b">HStack</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="4503" class="nd md it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">自定义导航视图正文</h1><p id="6623" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">在body变量中，在一个<code class="fe lu lv lw lx b">NavigationView</code>中添加一个<code class="fe lu lv lw lx b">GeometryReader</code>。<code class="fe lu lv lw lx b">GeometryReader</code>将用于确定我们的UI元素的大小。给我们的<code class="fe lu lv lw lx b">GeometryReader</code>，加上<code class="fe lu lv lw lx b">color</code>，会把视图尺寸扩大到屏幕尺寸。在<code class="fe lu lv lw lx b">color</code>下，添加一个<code class="fe lu lv lw lx b">VStack</code>，它将包含我们上面创建的<code class="fe lu lv lw lx b">WaveShape()</code>。将波形嵌入到<code class="fe lu lv lw lx b">ZStack</code>中，并调整其框架。要移除屏幕顶部的安全区域，请使用修饰符<code class="fe lu lv lw lx b">.edgesIgnoringSafeArea(.top)</code>。</p><p id="1191" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于同一个<code class="fe lu lv lw lx b">VStack</code>，插入我们的<code class="fe lu lv lw lx b">content</code>常量以及您希望内容拥有的修饰符。在<code class="fe lu lv lw lx b">VStack</code>中的所有元素之间使用<code class="fe lu lv lw lx b">Spacer()</code>。这应该会将我们的自定义导航栏移动到屏幕的顶部，并将我们的内容移动到屏幕的中央。</p><p id="cb02" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><code class="fe lu lv lw lx b">NavigationView</code>只是被雇佣来让<code class="fe lu lv lw lx b">NavigationLink</code>工作。我们将不会使用使用<code class="fe lu lv lw lx b">NavigationView</code>时附带的默认导航栏。要删除默认导航栏，添加修饰符<code class="fe lu lv lw lx b">.navigationBarHidden(true)</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="d0e4" class="nd md it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">导航栏</h1><p id="7b4a" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">我们需要做的最后一件事是向导航栏添加项目。在本教程中，我们将有一个居中的图像，可用于徽标，还有两个箭头图像，分别位于左侧和右侧，带有点击手势，用于在视图之间导航。确保给图像相同的宽度，并在它们之间添加<code class="fe lu lv lw lx b">Spacer()</code>。</p><p id="dc57" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第一个箭头的点击手势中，使用mode变量关闭当前视图。在第二个箭头的点击手势中，切换我们在本教程开始时定义的<code class="fe lu lv lw lx b">active</code>变量。</p><p id="8ae6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">添加<code class="fe lu lv lw lx b">NavigationLink</code>并将其传递给<code class="fe lu lv lw lx b">active</code>和<code class="fe lu lv lw lx b">destination</code>变量。给<code class="fe lu lv lw lx b">destination</code>视图添加<code class="fe lu lv lw lx b">.navigationBarHidden(true)</code>修改器。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="b70c" class="nd md it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">内容</h1><p id="940d" class="pw-post-body-paragraph ky kz it la b lb nu ju ld le nv jx lg lh nw lj lk ll nx ln lo lp ny lr ls lt im bi translated">创建多个视图以在它们之间导航。在你创建的每个视图中使用我们的<code class="fe lu lv lw lx b">CustomNavigationView</code>。在内容闭包中，添加您的UI内容。看看下面的例子，看看如何填写参数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/6aeb5cd447f6b8029155c0381b397eab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/1*b-bjy5bwmsOwWgQ7HJIKFg.gif"/></div></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="f769" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">完整代码<a class="ae oc" href="https://github.com/SarahAlsharif/CustomNavigationView" rel="noopener ugc nofollow" target="_blank">点击这里</a>。</p><p id="b7dc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>