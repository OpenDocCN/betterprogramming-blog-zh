# 如何将 Flutter 连接到 Node.js

> 原文：<https://betterprogramming.pub/how-to-connect-flutter-to-node-js-3e13b356c08d>

## 通过后端为您的应用提供动力

![](img/6761077792bbe5c583b624e2fa4d399a.png)

如果你正在构建一个新的 Flutter 应用程序，你可能想要使用后端来处理各种数据。在这里，我将告诉你具体如何做。这将是一个初学者友好的教程，适合对编程稍有了解的人。理解其中大部分内容的最好方法是跟着它一起编码。

所以让我们从创建一个新的颤振项目开始。这是将创建一个新的 Flutter 项目并运行它的命令。

```
flutter create example && cd example && flutter run
```

如果一切运行良好，那么让我们打开我们的`pubspec.yaml`文件，并添加`web_socket_channel: ^2.1.0`到其中。

现在这已经完成了，让我们打开你的`lib`文件夹中的`main.dart`。正如你所看到的，Flutter 已经为一个基本的 Flutter 应用准备了一个例子。

所以我们把目前对我们没用的都删了吧。此外，由于这是一个用于后端应用程序的应用程序，我们将不会把重点放在用户界面上。

太好了！现在你有一个非常无聊的应用程序，什么也不做。让我们改变一下，让它做点什么。所以我们将在`_MyHomePageState`类中创建一个`TextField`和一个`TextButton`小部件。

我们还可以创建一个空白，这样，如果你按下按钮，它会打印出消息。你可以在这里看这个例子。

这就是我们的应用程序的样子。现在让我们将消息发送到我们的后端。另外，你必须导入`web_socket_channel`来确保我们可以使用这个包。

```
import ‘package:web_socket_channel/io.dart’;
```

有趣的是，它既简单又酷！所以现在我们的 Flutter app 已经完成了。我们现在可以继续 Node.js 后端了。让我们通过运行这个命令来创建一个新项目。

```
mkdir server && cd server && touch index.js && npm init
```

这将为我们创建一个新的 Node.js 项目。现在我们必须导入新的包，我们将使用 express 和 ws。

```
npm install ws && npm install express
```

你的`package.json`文件应该是这样的:

让我们打开`index.js`来修改这个文件。我们将创建一个标准的 express 函数。像这样:

但是我们现在没有处理任何来自我们应用程序的后端数据。所以我们现在可以通过创建另一个这样的函数来实现:

尝试从应用程序向服务器发送消息，看看是否有效。如果它对你不起作用，你可能做错了什么。现在，让我们将数据发送回应用程序，如果用户说:“你好”。

就是这样！您成功创建了一个具有基本后端的基本应用程序。现在，您已经了解了如何来回发送数据。

你可以做更多的事情，记住唯一的限制是你的想象力。如果你有任何问题，请随时提问。此外，我将制作一个关于如何制作聊天应用程序的教程。敬请关注。