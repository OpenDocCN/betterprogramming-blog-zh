<html>
<head>
<title>Web 3.0 — Building Apps With the Slowest Database in the Universe</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Web 3.0 —用世界上最慢的数据库构建应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/web-3-0-building-apps-with-the-slowest-database-in-the-universe-879629a79219?source=collection_archive---------6-----------------------#2022-08-01">https://betterprogramming.pub/web-3-0-building-apps-with-the-slowest-database-in-the-universe-879629a79219?source=collection_archive---------6-----------------------#2022-08-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3418" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为什么将区块链用作通用数据库是速度最慢、可伸缩性最差、私密性最低且成本最高的解决方案</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e5b08830408f43d4e8b79777e64b2c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g_yS-QVO1dyCYE0b"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@3dparadise?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Braňo </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><h1 id="700c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">超简史(Web 1–2–3和5)</h1><p id="8c45" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">以防不清楚:</p><ul class=""><li id="e163" class="mn mo it lt b lu mp lx mq ma mr me ms mi mt mm mu mv mw mx bi translated">Web 1.0大多数人认为是Netscape和HTML时代的HTML和数据检索(直到90年代末)</li><li id="976c" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">Web 2.0正在随着JS/DHTML和React.js等现代动态框架而发展。</li><li id="01b9" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">Web 3.0正在使用区块链作为后端事务和数据存储来构建Web应用程序(由Etherium驱动)</li><li id="f805" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">Web 4.0被含糊地称为“共生网络”</li><li id="29e9" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">Web 5.0被杰克·多西称为基于BTC的Web 3版本</li></ul><h1 id="833b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">区块链适合哪里</h1><p id="9201" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Web 3.0中有一些核心思想，包括以下内容:</p><ol class=""><li id="214f" class="mn mo it lt b lu mp lx mq ma mr me ms mi mt mm nd mv mw mx bi translated">使用区块链存储和处理任意数据(例如智能合同)</li><li id="34d4" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm nd mv mw mx bi translated">通过基于区块链的数据存储分散网络，因此单个实体不能完全拥有数据和平台</li><li id="a44d" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm nd mv mw mx bi translated">使用区块链招标作为交易、数据存储和站点管理的“权益”和“支付”媒介，从而实现分散控制的乌托邦状态(DAO——分散自治组织)</li></ol><p id="8501" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">将它结合在一起的是一些技术，如JavaScript中的web3库，Solidity等契约元语言，以及MetaMask等基于浏览器的硬币钱包。</p><h1 id="9e75" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">我建立了一个应用程序，以确保我没有错过任何东西</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/ee95fe400de0b414689f0f4f6b0b6aef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B6FZtdTi3ts1qZa309O7RA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">去https://github.com/dougfoo/web3chat<a class="ae ky" href="http://web3.foostack.ai" rel="noopener ugc nofollow" target="_blank">http://web 3 . foo stack . ai</a>—code @<a class="ae ky" href="https://github.com/dougfoo/web3chat" rel="noopener ugc nofollow" target="_blank">试试吧</a></p></figure><p id="aac3" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">我从DAP university<a class="ae ky" href="https://www.dappuniversity.com/" rel="noopener ugc nofollow" target="_blank">拿了一个初学者工具包，重写了一部分，创建了我自己的Web3应用。这个想法是为了一个新的在线聊天服务，比如Reddit:</a></p><ul class=""><li id="8e9b" class="mn mo it lt b lu mp lx mq ma mr me ms mi mt mm mu mv mw mx bi translated">人们可以发布消息</li><li id="95be" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">人们可以喜欢消息</li><li id="47b4" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">人们可以回复信息</li></ul><p id="e3ed" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">我没有完成第三个特性，但是前两个需要创建一个新的智能契约定义，弄清楚如何编译和注册它，然后构建从UI到web3 APIs的接口。</p><p id="34df" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">技术堆栈非常简单:</p><ul class=""><li id="f75e" class="mn mo it lt b lu mp lx mq ma mr me ms mi mt mm mu mv mw mx bi translated">在前端使用web3库操作区块链合同</li><li id="4923" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">MetaMask钱包与区块链互动并为合同写作付费</li><li id="508f" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">Ropsten测试ETH网络免费注册和测试应用程序</li><li id="4e91" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm mu mv mw mx bi translated">用于开发支持的其他一些工具，如Truffle、Infurio和Ganache</li></ul><h1 id="5982" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">智能合同</h1><p id="6000" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用Solidity写合同很容易。代码看起来像任何定义接口/契约的IDL。它可能是一种“图灵完整语言”(不喜欢滥用这个花哨的术语)，但它的功能相当原始。您可以存储标量和结构，但不能这么容易地做简单的事情，如遍历集合。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/8348bc56427bead0cfb2dd13abd97efe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OO_RjIZZO4fjc7WTmKuXjQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原<a class="ae ky" href="https://github.com/dougfoo/web3chat/blob/master/src/contracts/Chat.sol" rel="noopener ugc nofollow" target="_blank">聊天合同</a>和<a class="ae ky" href="https://github.com/dougfoo/web3chat/blob/master/src/abis/Chat.json" rel="noopener ugc nofollow" target="_blank">编制ABI </a>准备部署到区块链联邦理工学院</p></figure><p id="c1cc" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">编译和部署可以用<a class="ae ky" href="https://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> Remix </a>在线完成，也可以直接通过<a class="ae ky" href="https://trufflesuite.com/docs/truffle/getting-started/truffle-with-metamask/" rel="noopener ugc nofollow" target="_blank"> Truffle </a>，一个开发者工具链来完成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/c3aaf3d7620671d6569aa1ec07f0930c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0dKHCG70Ibqar_iHLAzmNw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">与<a class="ae ky" href="https://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> Remix </a>的在线方式—添加您的代码并注册您的合同</p></figure><p id="c989" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">使用Truffle更加简单，但是需要更多的设置——将你的钱包链接到像<a class="ae ky" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank"> Infura.io </a>这样的区块链节点，这意味着要在另一个系统上创建账户(用<a class="ae ky" href="https://trufflesuite.com/ganache/" rel="noopener ugc nofollow" target="_blank"> Ganache </a>在本地设置一个节点)。设置完成后，您可以使用Truffle CLI编译、部署、检查和测试区块链合同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/f4552f7ec44109071d8bb394d6594af4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dT2GHVCTpVaGOFnj_aICtg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">松露控制台检查几条聊天信息</p></figure><h1 id="b116" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak"> Web 3 API </strong></h1><p id="2c36" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">JavaScript中的web3 API允许您加载聊天契约并执行API，以直接在网页上查找、创建和喜欢消息。每次写入交易都需要支付少量ETH (gas)。因此，需要链接到元掩码钱包。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="3783" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">上面的例子不言自明；它允许访问您的ETH wallet(通过MetaMask)，获取一个对聊天契约的引用，然后允许直接API访问来进行类似于<code class="fe nn no np nq b">messageCount()</code>、<code class="fe nn no np nq b">messages(id)</code>的读取，并执行类似于<code class="fe nn no np nq b">createMessage(msg, id)</code>和<code class="fe nn no np nq b">likeMessage(id)</code>的区块链写入。</p><h1 id="8eef" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">区块链数据库发臭的地方</h1><p id="b1fe" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">构建这个演示很有趣，就像任何只是为了学习的黑客开发项目一样(与生产软件相反，生产软件中超过50%的工作是错误处理和测试)。我认为有问题的几个方面是:</p><ol class=""><li id="ed04" class="mn mo it lt b lu mp lx mq ma mr me ms mi mt mm nd mv mw mx bi translated">阅读真的很慢——仅仅阅读区块链上的十条合同信息就需要几秒钟。</li><li id="dd1b" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm nd mv mw mx bi translated">写作真的很慢——ETH比BTC快得多，但仍然很慢。在Ropsten上，我的契约对象上的“like counter”增加需要5-10秒。</li><li id="b189" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm nd mv mw mx bi translated">数据库规模——正如我之前的观点所传达的，ETH合同操作太慢了，因此需要一个重要的基础架构来在原始区块链之上构建缓存和性能层。</li><li id="db49" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm nd mv mw mx bi translated">交易成本——每次写入都要花费ETH，这对Ropstein来说没问题，因为它是免费的，但我无法想象每次用户写东西时都要支付真正的ETH。</li><li id="01f2" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm nd mv mw mx bi translated">没有隐私——区块链最大的优点是透明，但是我怎么能写任何隐私数据呢，比如我写了一个P2P聊天应用程序？我想你可以在上面加上你自己的加密层？</li><li id="16a9" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm nd mv mw mx bi translated">契约API是原始的——在区块链上查找和迭代对象似乎很麻烦，并且设想需要一个更健壮的版本来支持索引、快速散列查找等。</li><li id="2057" class="mn mo it lt b lu my lx mz ma na me nb mi nc mm nd mv mw mx bi translated">工具链是原始的——虽然我确信它在一年内增长了500%,但要了解如何将Truffle连接到Infurio以及安装什么版本的工具，还需要进行大量的谷歌搜索。</li></ol><p id="6cbc" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">我想真正的应用程序不会有客户端Web3 API调用和客户端钱包，而是有Web3应用服务器来管理你的钱包，并在基本的区块链API之上实现健壮的缓存层。</p><p id="b272" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma ne mc md me nf mg mh mi ng mk ml mm im bi translated">Web3是Web +区块链的有趣合并，但我怀疑这是Web的唯一演变——因此我更喜欢将名称从Web 3.0改为Web 2.21b，以免误导公众。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/a6d179b370e464eb3ce4d6385064953c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*khEzp4MGKK1Q3N123jZGmQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">谷歌搜索“web 3.0”</p></figure></div></div>    
</body>
</html>