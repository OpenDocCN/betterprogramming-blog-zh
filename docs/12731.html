<html>
<head>
<title>Semantic Versioning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">语义版本控制</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/semantic-versioning-b24d29ca1aef?source=collection_archive---------8-----------------------#2022-06-27">https://betterprogramming.pub/semantic-versioning-b24d29ca1aef?source=collection_archive---------8-----------------------#2022-06-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="d833" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">编程基础</h2><div class=""/><div class=""><h2 id="081a" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">揭开永远的神秘面纱，避免“依赖地狱”</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/354aa4dd68bfb4a8fde7a0cc6c16d98d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RrnV_UewGk_ElxWF1BTelA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">版本0.1.0</p></figure><p id="f65a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">去年，我制作了下面的视频来解释语义版本控制，但是我仍然遇到许多人不理解它是如何工作的。所以，在这篇文章中，我将向那些喜欢阅读而不是观看的人解释它。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="md me l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">解释SemVer的YouTube视频</p></figure><p id="07d4" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">语义版本化表明自库的最后一个版本以来的变化类型，以及这些变化是否破坏了向后兼容性。这一点非常重要，因为打破向后兼容性可能需要为使用者更改代码。</p><p id="0a12" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">语义版本控制有一个定义好的结构和规则，规定了版本如何变化。该结构需要主要版本(x)，其次是次要版本(y)，最后是补丁版本(z)。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/83c698e4addae657ac8f233fe7e25da1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wUTn77WsP11A-rmTaWqg0w.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">SemVer结构</p></figure><p id="08d2" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">每个部分都是没有前导零的非负整数。自上一版本以来的更改类型决定了您要增加或重置版本的哪个部分。</p><p id="07ee" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">每个版本都应该有一个独特的版本。这有助于开发人员在提供反馈或错误报告时，轻松识别个人使用的版本。</p><p id="09cf" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们看一个从版本0.1.0开始的例子。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/354aa4dd68bfb4a8fde7a0cc6c16d98d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RrnV_UewGk_ElxWF1BTelA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">版本0.1.0</p></figure><p id="4ee3" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">拥有zero的主要版本意味着初始开发，任何事情都可能在任何时候发生变化。</p><p id="2195" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们假设我们是在第三个初始版本0.3.0上。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/db257abfb440a8e6fada5792c23eb76f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2azG5UOjKgw10ISBd4XQqA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">版本0.3.0</p></figure><p id="5b04" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下一个变化引入了向后兼容的错误修复，但没有增加新的功能。此版本的版本必须是0.3.1。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/cbf9b645b69502f4933fe2f258460b8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AdVCTA_dwVqkGlvjMhwHcw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">版本0.3.1</p></figure><p id="f03d" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">此版本通知所有用户，它包含一个错误修复，可以安全升级到，因为它不包含重大更改。</p><blockquote class="mf"><p id="0b7d" class="mg mh it bd mi mj mk ml mm mn mo mc dk translated">一旦我意识到补丁版本的变化意味着错误修复，当我看到补丁版本变化时，我开始更频繁地更新我的库。如果我知道该版本修复了错误，为什么我不升级？</p></blockquote><p id="8256" class="pw-post-body-paragraph lh li it lj b lk mp kd lm ln mq kg lp lq mr ls lt lu ms lw lx ly mt ma mb mc im bi translated">当库开发人员添加新的向后兼容功能时，下一个版本必须将次要版本更新为4。语义版本控制的规则规定，递增的数字右边的所有值都必须重置为零。所以下一个版本一定是0.4.0。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/9059a71ab5baa8b1b6fa570854b902d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MVsA3CTVprIe8dxfss53Vw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">版本0.4.0</p></figure><p id="dded" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果下一个版本只包含向后兼容的错误修复，版本号必须是0.4.1。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/0654414619de6c6244b297c0f82cc94c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EB4jODBEtCwqCzI3W6bkvA.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">版本0.4.1</p></figure><p id="68ed" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">随着初始开发的放缓，开发人员可能希望开始获得关于1.0.0版本的反馈。因此，版本号必须更改，以向那些测试人员表明这些是早期版本，在正常发布之前可能会引入重大更改。这可以通过添加可选的预发布版本来实现。</p><p id="1ef6" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">例如，1.0.0-rc.2表示第二个候选版本。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/496370a57de770551e23d43ae89ee48e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i2h2t_4XP-J3GJBfC8mTvw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">带有预发布版本号的版本</p></figure><p id="ca5f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">预发行版通过在修补程序版本后附加连字符和点分隔的标识符来表示。标识符只允许ASCII字母数字字符和连字符。请注意，当主版本从0增加到1时，右侧的所有值都重置为0。</p><p id="ec22" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">可以添加的最后一个可选版本是构建元数据。构建元数据通过在补丁或预发布版本后附加加号和点分隔的标识符来表示。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/823972ab7010e3d2fdcb88ae97a9f064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s3UWxesEgExMFhANZWRAmg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">包含内部版本元数据的版本</p></figure><p id="af19" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们回顾一下规则，假设发布的版本是1.0.0。错误修复会将补丁版本增加到1.0.1。新的向后兼容特性将增加次要版本，并将补丁版本重置为1.2.0。唯一必须发布2.0.0版本的情况是所做的更改会破坏向后兼容性。</p><p id="fef7" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">作为1.0.0版本的消费者，任何1.x版本都应该是安全的。尽管如此，每当您创建一个新版本时，您都应该测试您的代码是否继续按预期运行。如果您正在考虑升级到一个新的主要版本，请仔细阅读发行说明，看看您可能需要进行哪些代码更改。</p><p id="2c86" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这篇文章中，我们讨论了语义版本控制的结构，以及每个部分何时应该递增或重置的规则。你可以使用此链接到<a class="ae mu" href="https://semver.org/" rel="noopener ugc nofollow" target="_blank">官方文件</a>了解在比较版本时如何处理优先级。</p><p id="0fe2" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我鼓励每个发布代码的人通过实现语义版本来帮助你的消费者。</p></div></div>    
</body>
</html>