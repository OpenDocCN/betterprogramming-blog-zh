# 如何编写常见的 React 组件

> 原文：<https://betterprogramming.pub/how-to-write-common-react-components-53d9e3551595>

## 构建项目自己的组件库

![](img/7deb5c67eceedd53cc52cf1a4b7fd2a2.png)

菲利贝托·桑蒂兰在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

有多少次我开始一个新的 React 项目并对自己说，*我希望我有一个好的公共组件库，以我喜欢的方式和用我喜欢的东西构建？然后，我花了一天左右的时间准备好所有的样板文件并开始工作。*

如果有办法把这个时间减半呢？有——通过构建自己的通用组件库或使用像 bootstrap 这样的预构建组件库。

我将组件库分为两类。

1.  常见的文体成分
2.  通用逻辑组件

您可以找到许多可以为您处理这些事情的库，但是我总是发现自己花了大量的时间在这些库上，尽我所能让它们满足业务需求。

从那以后，我开始采用一个新的原则，只在真正有必要的时候引入那些库。

在大多数情况下，这完全说得通。但是在大多数情况下，采用混合方法是很重要的。我将讨论一个我用来创建我自己的公共组件库的方法，我希望它能使你在你的项目中有更多的控制和清晰度。

# **常见文体成分**

这些组件只包含样式信息。这意味着它们将不包含任何业务逻辑。它们由您的 div、标题、跨度和其他常见元素组成。对于那些喜欢 JS 类型架构中的 CSS 的人来说，有时候，这些组件最终也不过如此。您的情感或样式组件位于一个公共位置，供您使用和重用。

我的偏好是用情感来创造这些成分。但是您也可以使用您喜欢的任何工具组合。我还使用带有常规类结构的 sass 来创建这些组件。

通常，我用非常简单的名字命名这些组件，比如按钮、标题、表格、单元格。然后，对于文件名，添加一个 styled 后缀会很有用——这将帮助您区分样式组件和逻辑组件。例如:

```
Button.styled.js
```

*这些类型的组件有哪些例子？*

下面是我创建的属于这一类的一些组件的例子。

*   排印
*   头球
*   表格行
*   表格单元格
*   桌子
*   目录
*   列表项目
*   卡片
*   小跟班

这个清单还可以继续下去…

关于这种分类中的物品，需要注意的重要一点是它们通常看起来像这样。

```
const commonStyledComponentName = ({ childeren, classNames, as, ...rest }) =>{  
    const Element = as || 'div';
    return (<Element className={classNames} {...rest}>{childeren}<Element>)
}
```

显然，这些组件的构造方式可以根据您是在 JS 中使用 CSS 还是在 CSS 中使用 CSS 而有所不同。但是概念是一样的。

通用样式的组件应该只是基本的基本组件，只有样式的业务逻辑。

我喜欢在创建这些组件时添加一些道具，包括类名(或者你可以做宽度、高度、字体等。道具)。如果我想或者需要的话，我喜欢能够改变元素的类型。我也喜欢使用 React 内置的儿童道具。

记住，这些组件的关键是保持它们非常基本。你要避免在它们中有大量的逻辑。大多数时候这些组件需要有不同的变体或不同的风格，但仅此而已。

> 注意:考虑创建样式组件，使编写样式更容易。例如，我为 flexbox 添加了通用的样式组件。通常情况下，这可能看起来很奇怪，但对我来说，它创造了奇迹。它确实增加了一层 div 来包装我的内容，但这并没有困扰我，因为它非常清楚什么在使用 flexbox，什么没有。

# 通用逻辑组件

这些组件之所以如此分类，是因为它们包含了创建我们的风格组件所需的所有逻辑。

许多人倾向于跳过这些组件作为通用组件，或者他们没有从逻辑上考虑如何设置这些组件。

我通常用容器来命名这些组件。因此，包含创建表的所有逻辑的组件可以称为 TableContainer。有时这个术语容器可能会令人困惑，因为它看起来像一个文体概念。为了不混淆这一点，另一个好的命名约定是添加一个后缀`.logical`。比如说:

```
TableContainer.logical.js
```

现在，让我们讨论一下这些组件可能是什么。

*这些类型的组件有哪些例子？*

*   桌子容器
*   烤面包容器
*   补充报道
*   导航条
*   列表
*   下拉菜单
*   选择按钮
*   情态动词
*   烤面包

这样的例子不胜枚举。

提醒一下，这些组件应该包含样式化的组件和业务登录，但是应该避免样式化它们自己。

我最喜欢的这个组件的例子是一个表格容器组件。我将在我的应用程序中处处使用 TableContainer。

下面是一个表格容器的简单例子。

这些组件可能需要更多的思考，并且需要一个定义良好的 api 来使它们值得构建。但是这些组件将帮助你极大地简化你的代码，你会发现你可以在各种应用中使用它们。

> 注意:这些组件不会替换一个完整的页面组件，但是会简化页面组件文件甚至其他组件文件的大小。尝试你能在你的应用中找到的通用逻辑组件，你会对你能找到的东西感到惊讶。

# 结论

我希望这篇文章对你有所帮助。我发现创建这两种类型的通用组件减少了我的代码库的大小，并使我的代码库更容易管理、测试和开发。希望这对你有帮助。

编码快乐！