<html>
<head>
<title>How to Find the King’s Legal Moves in Chess With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python在象棋中找到国王的合法走法</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-find-the-kings-legal-moves-in-chess-with-python-1267192cf089?source=collection_archive---------9-----------------------#2020-01-22">https://betterprogramming.pub/how-to-find-the-kings-legal-moves-in-chess-with-python-1267192cf089?source=collection_archive---------9-----------------------#2020-01-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="757c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个有趣的练习来磨砺你的大脑和你的代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/288417bd6fbc6549b6ce847093243a9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hQJPdLK11RR5fEaQSgVyIw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/@pixabay?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>从<a class="ae ky" href="https://www.pexels.com/photo/battle-black-blur-board-game-260024/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>拍摄</p></figure><p id="744a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有没有想过如何用Python在棋盘上找到国王的合法走法？可能不会，但在列表构成的网格中跳来跳去是一种有趣的练习。</p><p id="1c75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">国王只能向任何方向移动一格。这意味着它可以做八个合法动作，除非它在边缘或角落里。</p><p id="c218" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后我也给你增加了一个挑战。你会接受吗？</p><h2 id="7fdb" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">在本课程中，我们将:</h2><ul class=""><li id="7d34" class="mo mp it lb b lc mq lf mr li ms lm mt lq mu lu mv mw mx my bi translated">为用户创建一个菜单，这样他/她可以在棋盘上放一个国王</li><li id="33d9" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">打印从黑色或白色视角看到的纸板</li><li id="01da" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">根据用户放置国王的位置打印国王的合法移动</li></ul></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="ce81" class="nl lw it bd lx nm nn no ma np nq nr md jz ns ka mg kc nt kd mj kf nu kg mm nv bi translated">董事会</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/294b259bddfa6cc5a133925177d3a20f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*1VS0ChJwwd0vx1URrH-zOQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="http://chess.com" rel="noopener ugc nofollow" target="_blank">chess.com</a>的板</p></figure><p id="edfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了编写这个程序，我们将使用一个在<code class="fe nx ny nz oa b">board.py</code>中名为<code class="fe nx ny nz oa b">Board</code>的类和一个<code class="fe nx ny nz oa b">main.py</code>来运行它。</p><p id="9d78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建电路板非常容易，但仍然有一个非常好的触摸它。我将使用列表理解来填充一个包含八个列表(行)的列表。这些将有八个项目内(列)。</p><p id="1499" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">棋盘是8×8的正方形。行被编号，列由字母A-H标识。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="110a" class="nl lw it bd lx nm nn no ma np nq nr md jz ns ka mg kc nt kd mj kf nu kg mm nv bi translated">这是班牌</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="ca37" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">def __init__(自身)</h2><ul class=""><li id="688c" class="mo mp it lb b lc mq lf mr li ms lm mt lq mu lu mv mw mx my bi translated">你首先注意到的是<code class="fe nx ny nz oa b">self._letters</code>列表。这只是棋盘上可能出现的字符串范围，例如A-H。</li><li id="74ff" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">下一个名单是<code class="fe nx ny nz oa b">self._board_grid</code>。这个列表现在是空的，将用几个代表行的列表填充。</li><li id="8e86" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">循环<code class="fe nx ny nz oa b">for letters in self._letters:</code>使用列表理解来执行以下操作:</li></ul><pre class="kj kk kl km gt od oa oe of aw og bi"><span id="085b" class="lv lw it oa b gy oh oi l oj ok">append_list = [(letter + str(x)) for x in range(1,9)]</span></pre><p id="bcae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">后半部分<code class="fe nx ny nz oa b">(for x in range(1,9))</code>，告诉我们要做八次动作。从1到9的范围是从1到8。</p><p id="52b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不熟悉列表理解，<a class="ol om ep" href="https://medium.com/u/b2d3629d2415?source=post_page-----1267192cf089--------------------------------" rel="noopener" target="_blank"> Rupesh Mishra </a>在这里写了一篇关于它的好文章<a class="ae ky" href="https://medium.com/better-programming/list-comprehension-in-python-8895a785550b" rel="noopener">。</a></p><p id="6d76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一部分告诉我们，我们希望将字母列表中的字母<code class="fe nx ny nz oa b">self._letter</code>与一个数字连接起来。<code class="fe nx ny nz oa b">letter + str(x)</code>将选择<em class="on">“A”</em>并添加<em class="on">“1”</em>进行范围(1，9)的第一次迭代，然后是A2、A3，依此类推。</p><p id="458f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当它完成A时，它会跳到B，因为它会继续遍历整个<code class="fe nx ny nz oa b">self._letters</code>列表。</p><p id="f334" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为我们正在循环遍历整个字母列表，所以我们将得到:</p><pre class="kj kk kl km gt od oa oe of aw og bi"><span id="501e" class="lv lw it oa b gy oh oi l oj ok">['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8']</span><span id="fc05" class="lv lw it oa b gy oo oi l oj ok">['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8']</span><span id="a8b7" class="lv lw it oa b gy oo oi l oj ok">etc....</span></pre><p id="e8e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它们被一个接一个地追加，所以它们会建立一个包含列表的列表，直到我们完成— A1-H8。</p><h2 id="b678" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">def print_board(自身)</h2><p id="00bd" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li op lk ll lm oq lo lp lq or ls lt lu im bi translated">这个只是遍历新创建的<code class="fe nx ny nz oa b">self._board_grid</code>中的列表并打印行。</p><p id="8c9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果是:</p><pre class="kj kk kl km gt od oa oe of aw og bi"><span id="18c9" class="lv lw it oa b gy oh oi l oj ok">['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8']<br/>['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8']<br/>['C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8']<br/>['D1', 'D2', 'D3', 'D4', 'D5', 'D6', 'D7', 'D8']<br/>['E1', 'E2', 'E3', 'E4', 'E5', 'E6', 'E7', 'E8']<br/>['F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8']<br/>['G1', 'G2', 'G3', 'G4', 'G5', 'G6', 'G7', 'G8']<br/>['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'H7', 'H8']</span></pre><p id="75aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我知道你在想什么:这块板是颠倒的/从布莱克的角度看。是的，就目前而言，这是因为列表就是这样创建的，但我们稍后会处理这个问题。</p><p id="1ad1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以写一个超级短的<code class="fe nx ny nz oa b">main.py</code>来测试这段代码到目前为止:</p><pre class="kj kk kl km gt od oa oe of aw og bi"><span id="cf65" class="lv lw it oa b gy oh oi l oj ok">from board import Board</span><span id="1425" class="lv lw it oa b gy oo oi l oj ok">def main():<br/>    board = Board()<br/>    board.print_board()</span><span id="c417" class="lv lw it oa b gy oo oi l oj ok">main()</span></pre><p id="b5ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个程序中最难的方法函数是寻找国王合法走法的函数。</p><p id="9189" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将允许用户将他/她放置国王的实际方块(例如E5)作为字符串传递。</p><p id="1956" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着我们必须对输入进行一些调整，以便能够在网格中正确地移动。</p><p id="b46b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是代码，但是在你攻击它之前让我解释一下。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="bed5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想把它分成两部分，一部分在循环之前，另一部分是循环本身，最后是打印结果。</p><p id="ab35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为我们将允许用户输入一个字母和一个数字，我们给自己制造了一点困难。我们需要用数字来表示它。想上E5，就得输入<code class="fe nx ny nz oa b">self._board_grid[4][4]</code>。</p><p id="19ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着我们必须把E转换成4。但是我们必须让它成为不可知论者。我们还希望F自动转换成5，以及A转换成0 (A是第一个列表)。在Python中，列表中的第一个索引是0。</p><pre class="kj kk kl km gt od oa oe of aw og bi"><span id="fbc6" class="lv lw it oa b gy oh oi l oj ok">upper_input_letter = coordinates[0].upper()    <br/>get_letter_index = self._letters.index(upper_input_letter)<br/>get_number_index = int(coordinates[1])-1</span></pre><p id="9d08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个表达式<code class="fe nx ny nz oa b">upper_input_letter</code>，确保无论用户输入什么，我们都将使用大写字母。如果用户输入“a1”，我们希望将其视为A1。</p><p id="8441" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nx ny nz oa b">get_letter_index</code>检查用户输入实际上是原始字母列表中的什么索引。e将把索引4作为int返回。</p><p id="acb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nx ny nz oa b">get_number_index</code>只是为了确保当用户键入一个数字时，我们减去一，以使该数字在列表中正确显示。还记得Python中列表的第一项是0，而不是1吗？如果用户输入A1，我们需要[0][0]。</p><h2 id="9c58" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">循环</h2><p id="423e" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li op lk ll lm oq lo lp lq or ls lt lu im bi translated">这里我们跳到字母行，然后跳到列号。</p><p id="a91c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">合法移动列表将存储所有合法移动，并最终返回自身。</p><p id="5f21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">搜索路径用于定义我们想要搜索的深度。对于国王，我们希望在两个方向上搜索一行，在每个方向上搜索一列。这是一个范围(-1，2)，因为这样我们就可以返回到前面的行:(-1，0)将检查当前行，1将检查下一行。柱子也是一样。</p><p id="20c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，当我们键入命令E5时，我们搜索的相邻字母和数字将是我们传入的索引号。但是我们必须记住范围。因此，我们添加范围从-1到2的范围数。</p><p id="ce47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们确保能加减一个数的方法是总是加法。如果你加上一个负数，你就减去。如果你加一个正数，你加。</p><pre class="kj kk kl km gt od oa oe of aw og bi"><span id="38a5" class="lv lw it oa b gy oh oi l oj ok">neighbour_square_letter = get_letter_index + letter_row<br/>neighbour_square_number = get_number_index + column_number</span></pre><p id="e357" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">合法方块的状态默认设置为<code class="fe nx ny nz oa b">True</code>。然后，我们检查它是否落在板外。&lt; 0或&gt; 7在板外，行列均有。当这种情况发生时，这些方块将接收值<code class="fe nx ny nz oa b">False</code>。</p><p id="78f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">合法方块是附加的，最后，我们从合法移动列表中删除原始输入，因为我们不想要我们站在上面的方块。</p><p id="9e03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我必须将坐标重构为一种可以比较的格式。</p><h2 id="87db" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">print_kings_legal_moves</h2><p id="1c4a" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li op lk ll lm oq lo lp lq or ls lt lu im bi translated">我们可以把它放在<code class="fe nx ny nz oa b">find_king_legal_moves</code>中，但是返回结果比打印结果更好。如果我们返回它，我们可以将它存储在一个变量中，如果我们愿意，可以用不同的方式打印它。</p><p id="8b08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我现在选择的方法是逐行打印，遍历列表。您也可以只打印列表本身。两者都是很好的表现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/3c5f836dc1eb5a28cc6210ef9e6132c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BWp1pixwW2fUwoFE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Christopher Machicoane-hurt aud在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="dfda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还记得棋盘是怎么印倒的吗？</p><p id="d707" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来看一下<code class="fe nx ny nz oa b">main.py</code>文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="c774" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以创建一个菜单，玩家可以告诉我们他们是黑人还是白人。这就是<code class="fe nx ny nz oa b">player_color</code>的输入。</p><p id="ad1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们创建板子，当我们打印它时，我们将<code class="fe nx ny nz oa b">player_color</code>传递给方法。</p><p id="7dae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是更新后的board类的外观:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="414e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户可以选择白色或黑色，这里有一些有趣的事情发生:</p><pre class="kj kk kl km gt od oa oe of aw og bi"><span id="0cee" class="lv lw it oa b gy oh oi l oj ok">if color.upper() == 'WHITE':<br/>    board = self._board_grid[::-1]</span></pre><p id="190e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用<code class="fe nx ny nz oa b">.upper()</code>来确保任何小写/大写问题不会影响我们。然后通过使用<code class="fe nx ny nz oa b">[::-1]</code>，我们翻转列表，使其正确地为白人玩家打印。</p><p id="5aea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">程序的功能保持不变，只是表现方式不同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/c7720c26952a805e7fcda2a5aeff54ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/1*BweJ9LgVJya14Ah4LfUEug.gif"/></div></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="cb7f" class="nl lw it bd lx nm nn no ma np nq nr md jz ns ka mg kc nt kd mj kf nu kg mm nv bi translated">但是等等！</h1><p id="7c5e" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li op lk ll lm oq lo lp lq or ls lt lu im bi translated">你能编辑代码以获得正确的合法移动吗？</p><p id="3373" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">敏锐的观察者或棋手可能会注意到棋盘是如何横向印刷的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/3a9f36ea3104ab198bd6e1b238486c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9HU9qVGA-v5xK0iZpOnzhw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/@katlovessteve?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Kat Jayne </a>从<a class="ae ky" href="https://www.pexels.com/photo/adult-alone-anxious-black-and-white-568027/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>拍摄</p></figure><p id="98b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我修改了代码以使其更好地工作:</p><ul class=""><li id="c059" class="mo mp it lb b lc ld lf lg li ov lm ow lq ox lu mv mw mx my bi translated">黑/白——玩家的身份决定了棋盘的抽签方式</li><li id="2bff" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">更少的黑客攻击来让电路板印刷</li><li id="482a" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">移除膨胀的代码，将它简化为几个方法</li></ul><p id="239c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要特别注意<code class="fe nx ny nz oa b">generate_board()</code>方法。挺好玩的。请注意，只有当我有黑色<code class="fe nx ny nz oa b">user_color</code>时，它才会有不同的打印效果。这意味着你可以在最初的<code class="fe nx ny nz oa b">self._board_grid</code>中做所有的检查，而它会根据玩家的颜色显示不同。这意味着查找动作的代码更少，打印更灵活。</p><p id="c437" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">新的<code class="fe nx ny nz oa b">board.py</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="7b19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">新<code class="fe nx ny nz oa b">main.py</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/ef183ebc1d1b3e4d0f237efd09329000.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*eWz6ppS6FvsoSlr4QLlssw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">纸板印刷正确</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/5d61b73a7a31e26bc0de41fb7313e16b.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*03O4XxnAeFLHQWZgb5JwiQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">需要调整代码的合法移动</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="609d" class="nl lw it bd lx nm nn no ma np nq nr md jz ns ka mg kc nt kd mj kf nu kg mm nv bi translated">你准备好迎接挑战了吗？</h1><p id="a660" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li op lk ll lm oq lo lp lq or ls lt lu im bi translated">你能把代码编辑成:</p><ol class=""><li id="8377" class="mo mp it lb b lc ld lf lg li ov lm ow lq ox lu pa mw mx my bi translated">让用户键入0或1，而不是“黑”和“白”这将减少出错的可能性，让用户更快地使用程序。</li><li id="1f97" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu pa mw mx my bi translated">给用户一个继续放置国王的选项，直到他/她不想再放为止。</li><li id="b520" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu pa mw mx my bi translated">最重要的是……让<code class="fe nx ny nz oa b">find_king_legal_moves()</code>正确使用新的画板方法。</li></ol><p id="85df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我向你保证:如果你投入到挑战中，当你解决它的时候，你会得到回报。感谢阅读！</p></div></div>    
</body>
</html>