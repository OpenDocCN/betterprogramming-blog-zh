<html>
<head>
<title>The SwiftUI Layout Protocol in iOS 16</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS 16中的SwiftUI布局协议</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/the-layout-protocol-in-ios-16-c86b31d87d1a?source=collection_archive---------4-----------------------#2022-10-10">https://betterprogramming.pub/the-layout-protocol-in-ios-16-c86b31d87d1a?source=collection_archive---------4-----------------------#2022-10-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ef2a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">SwiftUI中引入的新协议的实用视图</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0f39a7e3a1bd8d3f027784b61201f68d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iPqTtCgtxH3InK89"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@estherrj?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">埃斯特焦</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="c489" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我开始编码时，没有什么框架可言。当你想在屏幕上画一个圆的时候，需要比现在多几十行甚至更多的代码。随着科学的发展，抽象和框架的概念已经成为前进的方向。</p><p id="5404" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，如果我想用SwiftUI框架画一个圆，只需要几行就可以了。它是好的，但要付出代价；抽象程度越高，灵活性就越小，这是一种权衡。</p><p id="116e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当苹果推出SwiftUI时，目标之一是让屏幕布局比过去20年UIKit更容易。它引入了三个主要的容器来布局您的窗口:HStack、VStack和ZStack。但是对于一些人来说，做他们在UIKit中已经习惯的布局代价太高了。它们在SwiftUI中看起来复杂而杂乱。</p><p id="f220" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">苹果试图通过引入布局协议来解决这个问题，暴露那些主要容器的底层，这样你就可以改变它们的行为。请和我一起阅读这篇文章，看看这个新协议的一些实际用途和实现，让我们用自己的布局规则创建自己的容器。</p><h1 id="1630" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">模板</h1><p id="eb4e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">让我从这个模板开始，在这个模板中，我可以在不同的布局之间切换，并在操作过程中定义新的布局:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="2db0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您在这里看到的是一个视图，您可以在其中选择任何标准布局，并使用布局协议在它们之间移动。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/11eb8b2d56c48b1d15827e50bacd9bee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NR4Dkg_KRWmiZ_VcXMhbfw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用SwiftUI中的布局协议在不同容器之间移动</p></figure><p id="8d3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，这里没什么新东西。</p><p id="15e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们添加一些代码来创建一个新的布局。我想做的是把我的四个视图放在一个正方形里。在布局协议中，我需要定义两个方法。这是基本代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">布局协议的简单示例</p></figure><p id="713f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，将它添加到枚举<code class="fe mv mw mx my b">Algo</code>中，并尝试一下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/5e0b2bedcc36f6161828d8bb1cf9f4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*542dOmSFOAxX5c8b4HZ0xg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在标准视图和自定义视图之间切换</p></figure><p id="af99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">抽象的美妙之处在于——在没有布局协议的情况下做到这一点是可能的，但是代码会复杂得多。</p><p id="f532" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，我知道你在想什么，它们不是角。我想把视图放在角落里。下面是相同代码的另一个版本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="8fb5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所料，这将视图放置在角落。请注意，我在它周围设置了一个边框，这样当我切换容器时，您可以更好地看到发生了什么。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/ece1f13f2b1070ac04ecbb4537e21d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QBjJup1GB98_tWsgPDoxrQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在标准视图和自定义视图之间切换</p></figure><p id="a933" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，如果你看了WWDC20上的视频，他们做了一个更复杂的布局——一个基于圆形的布局。这背后的代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="1974" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个动画GIF展示了它的样子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/e9684e33ee14f70d288517675c467885.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sFJFVA0t2ujluAL0Wxd4OA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在标准视图和自定义视图之间切换</p></figure><p id="5148" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有这些让我结束了这次旅行。我希望你在阅读的时候学到了一些东西；我确实写了它。</p></div></div>    
</body>
</html>