<html>
<head>
<title>Build Spotify’s Colorizer Effect in iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在iOS中构建Spotify的彩色化效果</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/build-spotifys-colorizer-effect-in-ios-1be6851dce1c?source=collection_archive---------14-----------------------#2020-02-12">https://betterprogramming.pub/build-spotifys-colorizer-effect-in-ios-1be6851dce1c?source=collection_archive---------14-----------------------#2020-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c1e7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">重现了Spotify品牌中一直流行的双色调外观</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8cb167608020b2247b445a85f7b38294.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sjbn-xAEI0StoC6RAQCF1w.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">带有额外渐变效果的双色调。</p></figure><p id="571f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">早在2015年，Spotify经历了一次<a class="ae lr" href="https://www.underconsideration.com/brandnew/archives/new_identity_for_spotify_by_collins.php" rel="noopener ugc nofollow" target="_blank">品牌重塑</a>,包括一个更加扁平的设计以及明亮、大胆和互补的颜色。这种新的品牌风格贯穿整个服务，包括宣传材料和播放列表封面艺术。为了获得想要的外观，他们在图像上使用了一种叫做<em class="ls">双色调效果</em>的东西。</p><p id="3d3e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这篇文章中，我们将看看如何在iOS中使用CoreImage来重现这种效果。令人欣慰的是，苹果在建立CoreImage库时，对照片处理的行业技术相当忠实。我们将利用提供给我们的三个不同的<code class="fe lt lu lv lw b">CIFilter</code>对象。这些直接映射到滤镜，你可以通过Photoshop这样的程序来达到同样的效果，所以如果你有这方面的经验，这应该看起来很熟悉。</p><p id="6b68" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意:下一节假设您有iOS开发的工作知识，并且有一个可以访问<code class="fe lt lu lv lw b">UIImage</code>资产的项目。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/80e0e38e922abf57bb19c5e5680b7143.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*o7Idu1RTx2TeJn7mQ4CaTw.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从詹姆斯·墨菲的正常形象开始。</p></figure></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="1321" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">步骤1:灰度滤镜</h1><p id="7ee4" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">首先，我们需要对图像应用一个<a class="ae lr" href="https://developer.apple.com/library/archive/documentation/GraphicsImaging/Reference/CoreImageFilterReference/index.html#//apple_ref/doc/filter/ci/CIPhotoEffectMono" rel="noopener ugc nofollow" target="_blank">灰度过滤器</a>来移除所有的颜色。这允许在接下来的步骤中对图像进行处理，而不会影响原始颜色。它还使图像中的高光更加突出，以便效果更好。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/e1a3b7500359b91364816038429d9bce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mu4Agqv4XvRCznRtbvAkaA.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/26e02a5af757f15ba40ea8983157cf13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*UVhPzdA9l2dLQ7joS6H97g.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">原稿+灰度。</p></figure></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="38be" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">第二步:多重过滤</h1><p id="3667" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">现在我们有了一个灰度图像，我们需要应用一个明亮颜色的<a class="ae lr" href="https://developer.apple.com/library/archive/documentation/GraphicsImaging/Reference/CoreImageFilterReference/index.html#//apple_ref/doc/filter/ci/CIMultiplyBlendMode" rel="noopener ugc nofollow" target="_blank">乘滤镜</a>——在这个例子中是绿色。这将带出图像中的亮点，并给它“流行”我们所追求的。</p><p id="f955" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">注意:你会注意到我们把前一个过滤器的<code class="fe lt lu lv lw b">outputImage</code>作为它的<code class="fe lt lu lv lw b">inputImage</code>输入到下一个过滤器中。这被称为<em class="ls">过滤图</em>，允许我们避免在内存中存储中间图像资产。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/1f6d023c6aeaba8ceb2a1dde64144b08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9eZM0V8CuQRqAdH0ApPPeg.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/5748433e7246a320b4178c62c8f52662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*fMB2e7CWjgyAb6hsZZQFdA.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">灰度+乘法。</p></figure></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="5243" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">第三步:淡化过滤器</h1><p id="e2a2" class="pw-post-body-paragraph kv kw iq kx b ky mx jr la lb my ju ld le mz lg lh li na lk ll lm nb lo lp lq ij bi translated">我们很接近了，但图像仍然需要双色调的颜色。为了实现这一点，我们将应用最后一个过滤器:<a class="ae lr" href="https://developer.apple.com/library/archive/documentation/GraphicsImaging/Reference/CoreImageFilterReference/index.html#//apple_ref/doc/filter/ci/CILightenBlendMode" rel="noopener ugc nofollow" target="_blank">减轻混合</a>。这里的命名有点混乱，因为它被称为变亮滤镜，但我们将使用它来应用比上一步更深的颜色。这是因为变亮是通过找到两种颜色之间的最大值(最接近白色)并应用该值来实现的。因为我们的乘法步骤已经添加了一个非常亮的绿色，这个变亮步骤将只影响图像的暗，接近黑色的颜色，通过应用一个稍微亮一点的海军蓝颜色。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/6247b39781015b0feaa8949552ef77be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J14FYHobwZDTDohWf5kWAw.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/92229342aae994ca4442abe664241f5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*r98Hahd2o7FqRp-UBq2_SQ.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">乘+减。</p></figure><p id="3af9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">就是这样！</p><p id="31e9" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这种方法也适用于所有不同的颜色。只要确保选择相对互补的颜色，并且在乘法步骤中总是使用更亮的颜色。您还可以在源图像经过灰度步骤后操纵其对比度，以获得更明显的亮色和暗色之间的差异。玩弄它。这里还有三个调色板:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/50d6251634afa529fc134ea5be061d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*purf8FhA7IOiTNoAdRaDGQ.jpeg"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/8b1f2302cf13908373b2e4ed6473bf4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*ALNMj8nO9d0z9xa0riORzg.jpeg"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/47f7fab835936f0e5832d89f6da081c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*YlAY0KGGwcHjcocevr4jNQ.jpeg"/></div></figure></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h1 id="cba2" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">参考</h1><ul class=""><li id="93b6" class="ng nh iq kx b ky mx lb my le ni li nj lm nk lq nl nm nn no bi translated"><a class="ae lr" href="https://github.com/alexpersian/SpotifyColorizer" rel="noopener ugc nofollow" target="_blank">用Objective-C编写的示例应用程序</a></li><li id="ea44" class="ng nh iq kx b ky np lb nq le nr li ns lm nt lq nl nm nn no bi translated">【CoreImage滤镜的苹果开发者文档</li><li id="6a37" class="ng nh iq kx b ky np lb nq le nr li ns lm nt lq nl nm nn no bi translated"><a class="ae lr" href="https://www.objc.io/issues/21-camera-and-photos/core-image-intro/" rel="noopener ugc nofollow" target="_blank"> objc.io文章</a>深入讨论CoreImage</li><li id="b80c" class="ng nh iq kx b ky np lb nq le nr li ns lm nt lq nl nm nn no bi translated"><a class="ae lr" href="https://medium.com/@pierrellev/reproduce-colorizer-effect-of-spotify-71d5de88039f" rel="noopener">原创媒体文章关于在Photoshop中制作这个的灵感</a></li></ul></div></div>    
</body>
</html>