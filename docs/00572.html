<html>
<head>
<title>Why Your Text Editor Plugins Belong in a Lock File</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么你的文本编辑器插件属于一个锁文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/your-text-editor-plugins-belong-in-a-lock-file-simple-thread-f847a0d7aac?source=collection_archive---------5-----------------------#2019-06-11">https://betterprogramming.pub/your-text-editor-plugins-belong-in-a-lock-file-simple-thread-f847a0d7aac?source=collection_archive---------5-----------------------#2019-06-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="612d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我刚刚更新了你所有的文本编辑器插件。你的反应是什么？</p><p id="d8fe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">类似这样的？</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/09c6ca858ad4c0adc786dc66ccff33ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dfpngQrM5PLcdWOC"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@cowomen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">女同胞</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="5281" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你已经很多年没有更新那些插件了，是吗？谁会关心那些新特性、错误修复或者性能和安全改进呢？只是交叉手指，希望你的笔记本电脑不会死，逼着你升级。更好的是，您有完整的映像备份，对吗？这样你就可以永远保留那些老插件了。</p><p id="5668" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">想到要更新<a class="ae le" href="https://www.simplethread.com/simple-threads-favorite-developer-things/" rel="noopener ugc nofollow" target="_blank">那些插件</a>，退缩是可以理解的。大多数开发人员都因为这样或那样的原因被烧伤了。另外，<a class="ae le" href="https://www.simplethread.com/dear-client-heres-why-that-change-took-so-long/" rel="noopener ugc nofollow" target="_blank">谁有时间</a>听那些废话？在你更新后，你遇到了插件之间的一些模糊的冲突，或者作者推了一个测试版。更糟糕的是，新版本的插件是一个真正的性能瓶颈。</p><p id="d0c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，问题似乎从来不会在更新后立即出现，而是在最不合适的时候出现。几天后，你的最后期限<a class="ae le" href="https://www.simplethread.com/dear-client-heres-why-that-change-took-so-long/" rel="noopener ugc nofollow" target="_blank">临近</a>。您没有简单的方法来恢复您的更新。见鬼，你甚至不知道哪个插件是罪魁祸首。现在你必须做出选择。你是否苦于调试你的编辑器或禁用插件，一只手绑在背后继续你的工作？</p><p id="46da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不过更新你的插件并不需要这么痛苦。如果你的编辑器插件像你的应用程序依赖一样有一个锁文件，那不是很好吗？(您锁定了您的应用程序依赖项，不是吗？)然后您可以将该文件添加到版本控制中。回到原来的设置就像打个响指。只需检查之前的提交并运行install命令。事后看来很明显，对吧？</p><p id="7e13" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我已经将我的插件保存在plugin.lock文件中大约一年了，这真是太棒了。它的工作方式与您预期的完全一样。我每隔几个月就会更新我的插件。如果我遇到一个问题，不想马上处理，我可以很快回复。为了调试，我可以做一个快速的git diff来查看最近更新了哪些插件。如果一个插件行为不当，我会从我的git历史中取出旧版本，继续我的工作。如果我非常想确定哪个插件行为不当，我甚至可以做一个二分搜索法(递归地恢复一半的版本，检查问题是否仍然存在)。</p><p id="6986" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建和使用你自己的plugin.lock文件非常简单。下面我有几个热门编辑的例子。</p><h1 id="168e" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">精力</h1><p id="1a6e" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">使用流行的VIM插件管理器<a class="ae le" href="https://github.com/junegunn/vim-plug" rel="noopener ugc nofollow" target="_blank"> vim-plug </a></p><p id="2ff2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建您的锁文件… <br/> <code class="fe mi mj mk ml b">:PlugSnapshot plugin.lock</code></p><p id="d642" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从您的锁定文件中恢复… <br/> <code class="fe mi mj mk ml b">:source plugin.lock</code></p><h1 id="31df" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">原子</h1><p id="d1c9" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">创建你的锁文件… <br/> <code class="fe mi mj mk ml b">apm list --installed --bare | xargs -L 1 echo apm install &gt; plugin.lock</code></p><p id="4313" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从您的锁定文件中恢复… <br/> <code class="fe mi mj mk ml b">sh plugin.lock</code></p><h1 id="0658" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">VS代码</h1><p id="6e18" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">Visual Studio代码的<a class="ae le" href="https://code.visualstudio.com/insiders/" rel="noopener ugc nofollow" target="_blank">版本支持这一点。</a></p><p id="29ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">禁用自动扩展名更新(如果您还没有这样做)</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mm"><img src="../Images/dc722a10f33c59ab9ef1a69e595a5324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0a5Jbms-DR6VzA5J.png"/></div></div></figure><p id="3050" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建你的锁文件… <br/> <code class="fe mi mj mk ml b">code-insiders --list-extensions --show-versions | xargs -L 1 echo code-insiders --install-extension &gt; plugin.lock</code></p><p id="e4c5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从您的锁定文件中恢复… <br/> <code class="fe mi mj mk ml b">sh plugin.lock</code></p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="6414" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你有在其他编辑器中创建<code class="fe mi mj mk ml b">plugin.lock</code>的说明，请在评论中告诉我！</p></div></div>    
</body>
</html>