# JavaScript 分号的使用

> 原文：<https://betterprogramming.pub/the-use-of-the-javascript-semicolon-843fd5e94d0e>

## 支持和反对添加分号的论点

![](img/52f4daf949156130ebb1b5cf872a2843.png)

分号已经成为 JavaScript 语言的一个象征性特征，同时也是许多困惑和争论的焦点。虽然在 JavaScript 文件的某些领域中，分号的使用是众所周知的，但是在更多的领域中，人们会对标点符号的必要性和有用性提出质疑，甚至更糟。

更糟糕的是，出现了两种不同的思想流派，每一派都主张在不同的情况下应该使用分号。在这篇文章中，我将介绍这两种思想流派，解释它们的来源，并讨论何时使用分号，何时不使用分号。

# 自动分号功能

分号是 JavaScript 代码的重要组成部分。编译器读取并使用它们来区分不同的语句，这样语句就不会泄漏到代码的其他部分。

好消息是 JavaScript 包含了自动分号特性。这并不意味着您的文本编辑器会自动在代码中放置一个物理分号，而是 JavaScript 会在语句末尾添加不可见的隐含分号。

坏消息是，正如任何包含单词 *automatic* 的特性所预期的那样，人们可以有把握地认为这个特性不是 100%可靠的。

这就产生了两种关于是否应该在代码中始终插入分号作为良好实践的思想，即使在自动分号功能会处理它的地方。也就是说，分号更像是一种最佳实践的可读性特性，还是应该只在不会放置自动分号的地方使用分号？

# “始终使用分号”参数

这个学派认为开发人员应该总是使用分号以确保安全，即使在自动分号插入(ASI)通常会处理事情的领域。这一学派的运作基于这样一种假设，即 ASI 不仅永远不会 100%可靠，而且很容易随着 JavaScript 新版本的推出而改变。如果 ASI 特性有所改变，否定分号实现的代码可能会被弃用。

# “绝不使用分号”的论点

第二种观点，也是更普遍的观点，认为分号只应该在绝对需要的情况下使用。这个学派假设 ASI 特性将一直存在，并且文档清楚地陈述了实现该特性的情况。事实上，ASI 特性可以解决这个问题，不需要添加多余的标点符号。

然而, *never* 这个词，几乎总是如此，不能从字面上理解。JavaScript 中有很多绝对需要分号的情况，ASI 特性不会处理这些情况。然而，这个学派宣称“永远不要使用分号”的概念是鼓励良好编码实践的一种方式。它的支持者认为总是包含分号的做法会鼓励冒险的行为，比如在一行中写多个语句。

# 当绝对需要分号时

然而，不管你支持哪种学派，在某些情况下分号是 JavaScript 绝对需要的。最著名的是 for 循环，其中分号在语句之间是绝对必要的(但不是在最后一条语句的末尾)。其他用途包括在同一行上编写多个语句，例如变量的声明。

然而,“永远不要使用分号”一派认为这样做总是不好的做法，变量应该总是在单独的行上声明。这个小组说，应该使用它们的例外几乎总是在他们认为是不好的实践的场景中。