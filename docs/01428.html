<html>
<head>
<title>Link Previews — More than Meets the Eye</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">链接预览——不仅仅是看上去那么简单</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/link-previews-more-than-meets-the-eye-aa13c77c6d69?source=collection_archive---------4-----------------------#2019-09-09">https://betterprogramming.pub/link-previews-more-than-meets-the-eye-aa13c77c6d69?source=collection_archive---------4-----------------------#2019-09-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b699" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">想知道这个预览是如何生成的吗？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/65f1c4489bcc9d007fe7b1daab4f65d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f6Vz4GodmmZIUtP6"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@pawelskor?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">保罗·斯科鲁普斯卡斯</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="b192" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很有可能你是通过一些链接分享得到这篇文章的。</p><p id="0810" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">链接很有可能有一些预览:文章标题、简短摘要和图片。</p><p id="e63c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更大的可能性是，这不是你第一次看到这样的预览。</p><p id="ce34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有没有想过是什么产生了这些预览，或者如何开始使用它们？我希望我会在帖子里回答你的一些问题。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cd4e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">链接预览？那是什么？</h1><p id="ad7b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">对于那些仍然想知道我指的是什么预览的人，这里有一些例子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/e51b51ba7dcb19269a56aa710801f9dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_nEiMYvfSGN2FtcA"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://www.whatsapp.com/" rel="noopener ugc nofollow" target="_blank"> WhatsApp </a>生成的链接预览</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/9932be56959c3f8b4dccc7500736fee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dlCTg8qeF_1XHoTW"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://slack.com" rel="noopener ugc nofollow" target="_blank">松弛</a>生成的链接预览</p></figure><p id="1b47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些预览通过让我们一瞥相关的网站每天帮助我们。</p><p id="fb61" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，预览包含标题、描述、预览图像、图标和可选的应用程序名称。</p><p id="d05b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">WhatsApp和Slack怎么知道哪部分内容是描述？如果页面上有许多图像，哪一个是主要的？<br/>每页的数据存储在哪里？</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1d2a" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">元标签</h1><p id="8890" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Meta标签描述了页面的内容。它们位于<code class="fe nb nc nd ne b">&lt;head&gt;</code>元素内部。</p><p id="d653" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">元标签可以定义广泛的属性。这些是一些:</p><ul class=""><li id="f2b8" class="nf ng it lb b lc ld lf lg li nh lm ni lq nj lu nk nl nm nn bi translated">声明应用程序名称和图标</li><li id="8c87" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">指定描述</li><li id="26d8" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">配置视口</li><li id="1917" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">设置每10秒刷新一次文档</li><li id="c7d6" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">声明字符集</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b53876bf27551536d2e84418f23a1b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UxP_ck2o9_m-AZRF"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@brett_jordan?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">布雷特·乔丹</a>在<a class="ae ky" href="https://unsplash.com/search/photos/tag?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="952e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">web服务可以通过获取<br/>链接的HTML来使用meta标签生成链接预览，对吗？</p><p id="ffc1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">令人惊讶的是，使用纯HTML meta标签只支持基本功能。例如，meta标签本身不能指定预览图像。</p><p id="bf0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么它们来自哪里呢？</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="affe" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">开放图协议</h1><p id="858a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><a class="ae ky" href="https://ogp.me" rel="noopener ugc nofollow" target="_blank">开放图协议</a>用于描述一个拥有丰富对象的网站，比如图像、音频文件等等。为此，OGP(开放图协议的简称)使用了<code class="fe nb nc nd ne b">&lt;meta&gt;</code>标签。OGP是脸书专门为社交网络打造的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/afd40303af2d47ebe2d56e3ecdab38dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*sIsjIgPSPxyLrEvG"/></div></figure><p id="cc23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用OGP非常简单。</p><p id="409d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从官方网站看下面的例子。它描述了IMDB网站上的电影“The Rock ”:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/ee8496d3addc9f9e63868fc266b8fffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*K6uFAQWWzyC_Mlkj"/></div></div></figure><p id="96a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使不阅读协议的文档，大多数开发人员也能理解这种标记。</p><p id="f15e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过查看<code class="fe nb nc nd ne b">&lt;meta&gt;</code>标签，我们可以看到网站的标题是The Rock，指的是一部电影。我们也有一个图像链接和一个网址，这导致同一个网站。</p><p id="687c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OGP如此简单并非巧合——从一开始<a class="ae ky" href="https://www.scribd.com/doc/30715288/The-Open-Graph-Protocol-Design-Decisions" rel="noopener ugc nofollow" target="_blank">到</a>这就是设计师的目标之一:</p><p id="cc00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开发人员的简单性是开放图协议的一个关键目标，它已经通知了许多技术设计决策。</p><p id="7921" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开放图协议有许多高级功能。你可以在官方文件中找到更多关于他们的信息。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="b5fb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">我应该使用开放图协议吗？为什么？</h1><p id="6489" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">尽管OGP是专门为脸书设计的，但许多其他网络服务也支持它。Linkedin、Twitter和Pinterest只是支持OGP的一些社交网络。</p><p id="087b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，许多消息工具将链接预览嵌入到消息中。提到OGP会影响你的搜索引擎优化也很重要。</p><p id="1d53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一般来说，任何公共web应用程序所有者都应该关心链接预览。它通过向用户提供关于内容的提示，使web应用程序更容易访问。<br/> OGP简单易用，好处多多。如果可以，就用吧。</p><p id="c3fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主要的例外是需要任何种类的认证的内容。</p><p id="d74c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">链接预览生成器通常执行匿名请求来获取链接的数据。如果页面需要身份验证，则生成的链接将会断开。<br/>我们都分享了至少一个预览为“请登录”页面的链接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/7050c7fa30bb4cc4ccb01c5dda1e9eb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k-z6xkxpVzhUXfwm"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">链接预览在媒体上的个人页面，如在Whatsapp上看到的</p></figure><p id="077a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想开始使用OGP但不确定如何使用，我推荐你阅读这篇优秀的短文。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c085" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">其他解决方案</h1><p id="cdc7" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">除了OGP，还有其他方法可以生成链接预览。<a class="ae ky" href="https://oembed.com/" rel="noopener ugc nofollow" target="_blank"> oEmbed </a>是最受欢迎的一款。它给用户一个描述资源的JSON，而不是必须解析资源的meta标签。</p><p id="d4a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">oEmbed JSON非常简单，包含类似于<code class="fe nb nc nd ne b">image</code>、<code class="fe nb nc nd ne b">title</code>和其他有用数据的信息。</p><p id="0039" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里的问题是每个受支持的网站必须在oEmbed上有一个提供者，这需要<a class="ae ky" href="https://oembed.com/#section2" rel="noopener ugc nofollow" target="_blank">做一点工作</a>。</p><p id="a8ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着虽然oEmbed可能更容易使用，但与OGP相比，初始设置要复杂得多。</p><p id="0016" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想知道，如果你是通过点击链接预览来看这篇文章的，那不是通过oEmbed。</p><p id="2689" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Medium没有被列为<a class="ae ky" href="https://oembed.com/providers.json" rel="noopener ugc nofollow" target="_blank"> oEmbed provider </a>，它仍然对链接预览有很大的支持。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ee7d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="65ac" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">即时消息、搜索引擎和社交网络是我们生活的一部分。<br/>我们每天都在不知不觉中使用链接预览。这些都是强大的工具，极大地影响了网站的社交流量。</p><p id="1d32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我开始阅读它的时候，我不知道这个主题是如此的深奥。这个帖子只涵盖了你能学到的一小部分东西。好奇的读者可以在下面找到进一步的阅读部分。</p><p id="93af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望，如果你和我一样对链接预览感到疑惑，那么现在你的生活中就没有那么多未解之谜了。</p><h1 id="065b" class="mc md it bd me mf nw mh mi mj nx ml mm jz ny ka mo kc nz kd mq kf oa kg ms mt bi translated">进一步阅读</h1><ul class=""><li id="a496" class="nf ng it lb b lc mu lf mv li ob lm oc lq od lu nk nl nm nn bi translated">开放图协议开发人员指南—<a class="ae ky" href="https://thetrevorharmon.com/blog/a-developers-guide-to-the-open-graph-protocol" rel="noopener ugc nofollow" target="_blank">https://thetrevorharmon . com/blog/a—开发人员指南—开放图协议</a></li><li id="1119" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">打开图形检查器—<a class="ae ky" href="https://opengraphcheck.com/" rel="noopener ugc nofollow" target="_blank">https://opengraphcheck.com/</a></li><li id="663f" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">开放图协议举例说明—<a class="ae ky" href="https://www.optimizesmart.com/how-to-use-open-graph-protocol/" rel="noopener ugc nofollow" target="_blank">https://www . optimize smart . com/how-to-use-open-Graph-Protocol/</a></li><li id="18db" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">Slack如何生成链接预览—<a class="ae ky" href="https://medium.com/slack-developer-blog/everything-you-ever-wanted-to-know-about-unfurling-but-were-afraid-to-ask-or-how-to-make-your-e64b4bb9254" rel="noopener">https://medium . com/Slack-developer-blog/everything-you-everything-everything-you-everything-want-to-know-on-unfurling-but wave-to-quest-or-how-make-your-e 64 B4 bb 9254</a></li></ul></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="9287" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🕵️‍♂️ <em class="oe"> Psst… </em>如果你喜欢这个<em class="oe">，</em>在Twitter上关注我(<a class="ae ky" href="https://twitter.com/omril321" rel="noopener ugc nofollow" target="_blank">@ omril 321</a>)——我定期在Twitter上发布我学到的很酷的东西。</p></div></div>    
</body>
</html>