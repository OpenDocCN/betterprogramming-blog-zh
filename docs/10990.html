<html>
<head>
<title>GridView and LazyColum Integration With Jetpack Compose</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GridView和LazyColum与Jetpack Compose的集成</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/gridview-and-lazycolum-integration-with-jetpack-compose-e90849aeb6d3?source=collection_archive---------5-----------------------#2022-02-09">https://betterprogramming.pub/gridview-and-lazycolum-integration-with-jetpack-compose-e90849aeb6d3?source=collection_archive---------5-----------------------#2022-02-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f0ac" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在Android中构建惊人的网格布局</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4c56bcd8b2d01bd8deab7a0e16a2bdcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*igCVW-wxIrK_FYNi0bHuaQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@sharonmccutcheon?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Sharon McCutcheon </a>在<a class="ae kv" href="https://unsplash.com/s/photos/grid?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="0856" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想给你的应用程序添加一个网格视图，这个组件非常有用。</p><p id="c873" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不幸的是，它不能放在另一个垂直滚动容器中，因为它有垂直滚动行为。</p><p id="d9ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您尝试将<code class="fe ls lt lu lv b">LazyColumn</code>与<code class="fe ls lt lu lv b">LazyVerticalGrid</code>连接，您将会看到以下异常:</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="ba20" class="ma mb iq lv b gy mc md l me mf">java.lang.IllegalStateException: Vertically scrollable component was measured with an infinity maximum height constraints, which is disallowed. One of the common reasons is nesting layouts like LazyColumn and Column(Modifier.verticalScroll()). If you want to add a header before the list of items please add a header as a separate item() before the main items() inside the LazyColumn scope. There are could be other reasons for this to happen: your ComposeView was added into a LinearLayout with some weight, you applied Modifier.wrapContentSize(unbounded = true) or wrote a custom layout. Please try to remove the source of infinite constraints in the hierarchy above the scrolling container.</span></pre><p id="ae27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将解决这个问题，并使整个屏幕可滚动。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="1b49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我的<a class="ae kv" href="https://github.com/Enes-Kayiklik/Wall-Up" rel="noopener ugc nofollow" target="_blank"> WallUp </a>应用程序中，我有一个<code class="fe ls lt lu lv b">HomeScreen</code>显示几个项目。有些是网格，有些不是。当我试图在应用程序中实现这个屏幕时，我遇到了上述问题。</p><p id="76da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望整个屏幕可以滚动网格项目，但我不能将<code class="fe ls lt lu lv b">LazyGridView</code>与LazyColumn合并。</p><h2 id="69dc" class="ma mb iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated"><strong class="ak">解决方法</strong></h2><p id="864d" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">想了一会儿，突然想到网格结构中的所有条目都是分行的。所以我们可以使用行组合来实现这个结构。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="2a7a" class="ma mb iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated"><strong class="ak">实施</strong></h2><p id="4795" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">首先，我们需要在我们的app中加入<code class="fe ls lt lu lv b">gridItems</code>扩展功能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="d404" class="ma mb iq lv b gy mc md l me mf">"data" is a list of items that we are going to display as a grid. "columnColunt" is a count of grid inside Row.</span></pre><p id="3337" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以在<code class="fe ls lt lu lv b">LazyColumn</code>中使用网格项，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="6e81" class="nl mb iq bd mn nm nn no mq np nq nr mt jw ns jx mw jz nt ka mz kc nu kd nc nv bi translated"><strong class="ak">结论</strong></h1><p id="6922" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">在这篇短文中，我们研究了其他垂直可滚动组件的<code class="fe ls lt lu lv b">LazyVerticalGrid</code>和垂直滚动问题。</p><p id="ed65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们看到，试图将可组合组件与其他垂直可滚动的可组合组件结合会导致应用程序崩溃。</p><p id="df30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为一种解决方法，我们使用可组合行解决了这个问题。</p><p id="e1b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你有一些收获，在其他文章中再见。</p></div></div>    
</body>
</html>