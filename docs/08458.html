<html>
<head>
<title>How To Create A Telegram Bot With 10 Lines Of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用10行代码创建一个电报机器人</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-a-telegram-bot-with-10-lines-of-code-4b38bc3a101a?source=collection_archive---------8-----------------------#2021-05-03">https://betterprogramming.pub/how-to-create-a-telegram-bot-with-10-lines-of-code-4b38bc3a101a?source=collection_archive---------8-----------------------#2021-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="bc53" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">使用NodeJS和电报API </em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/5520791f232acd5b87754a1bcdb932e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TJMlSskm4YqOhY2WDz5UkA.jpeg"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">照片由<a class="ae kw" href="https://unsplash.com/@christianw?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Christian Wiediger </a>在<a class="ae kw" href="https://unsplash.com/s/photos/telegram?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="ec67" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><a class="ae kw" href="https://telegram.org/" rel="noopener ugc nofollow" target="_blank"> Telegram </a>是一款类似WhatsApp或脸书信使的信使app。它有更多的功能，比如机器人，这在其他通讯应用中不容易创建。对于某些社区来说，它可能是一个很好的平台。</p><p id="7ac3" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这些机器人可以在Node中用JavaScript制作，并具有广泛的功能，从创建投票到跟踪Pokémon Go突袭。今天我们将学习如何创建一些基本的电报机器人。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="a9a3" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">注册一个机器人</h1><p id="4a36" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">电报机器人需要注册。你可以在Telegram应用程序中通过给机器人父亲发消息来注册机器人。当心虚假账户:真正的僵尸父亲有一个验证标记。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi mx"><img src="../Images/037fe8bdf762f1f60d248833ed859f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyN9ONeu1ksAhuA50P5iRw.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">注册一个机器人</p></figure><p id="0fda" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">你可以向机器人父亲发送“/newbot”消息，机器人父亲机器人会带你完成这个简单的过程。您将收到一个HTTP API令牌，您可以将它保存在安全的地方。这将用于将机器人连接到API。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="b07f" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">一个基本机器人</h1><p id="dd00" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">要创建一个新的bot，我们首先需要初始化NPM或Yarn，并安装node-telegram-bot-api包。我们可以通过在终端中运行这两个命令来实现:</p><pre class="kh ki kj kk gt my mz na nb aw nc bi"><span id="2389" class="nd mb iq mz b gy ne nf l ng nh">npm init -y<br/>npm i node-telegram-bot-api</span></pre><p id="56b4" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">然后我们可以创建我们的<code class="fe ni nj nk mz b">index.js</code>，在其中我们将编码我们的电报机器人。我们可以在终端中使用<code class="fe ni nj nk mz b">node index.js</code>来运行项目。</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="6147" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们的基本bot只有十行代码，首先通过导入适当的包并使用API键设置bot来初始化bot本身。<code class="fe ni nj nk mz b">bot.onText</code>函数将读取发送给它的所有以<code class="fe ni nj nk mz b">/print</code>开头的消息，并重复在命令后找到的文本。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/c2bdbe17a6671a42e7ea305f3e9c3d3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*Rxx6VGrXdCO8nC9AV0dCCA.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">我们的打印命令在起作用</p></figure><p id="cc4e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">您可以随时更改它需要的命令，因为它只使用常规的正则表达式字符串。您还可以使用<code class="fe ni nj nk mz b">bot.on('message')</code>来响应给定正则表达式之后的任何消息。你可以在<a class="ae kw" href="https://core.telegram.org/bots" rel="noopener ugc nofollow" target="_blank">电报文档</a>中阅读更多关于bot API的内容。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="9893" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">投票机器人</h1><p id="0241" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">另一个众所周知的功能是设置投票。Telegram使用<code class="fe ni nj nk mz b">bot.sendPoll()</code>函数也很容易做到这一点，该函数使用一个<code class="fe ni nj nk mz b">chatId</code>、一个字符串和一组选项作为参数。</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi no"><img src="../Images/d19062f019a90339ae7bd4f994d2296c.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*m6WDszOFYB-P4t5DceGEkg.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">行动中的投票</p></figure><p id="c025" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">当你对它了解得越来越多时，你就可以创建更复杂的机器人，比如你以前可能见过的那些，但这是它的要点。电报机器人非常容易制作，我有兴趣在平台上看到令人惊叹的机器人。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="3d09" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">结论</h1><p id="8e05" class="pw-post-body-paragraph kx ky iq kz b la ms jr lc ld mt ju lf lg mu li lj lk mv lm ln lo mw lq lr ls ij bi translated">电报机器人API使得创建机器人变得非常容易。使用BotFather来注册它们是Telegram团队的一个很好的尝试。我确信许多非程序员也能理解这一点。</p><p id="d087" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">感谢您的阅读，祝您度过美好的一天。</p><p id="d01a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="np">阅读更多来自M. Vissers: </em></p><div class="nq nr gp gr ns nt"><a href="https://medium.com/quick-programming/3-javascript-features-you-might-not-know-de8ef797b6e4" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd ir gy z fp ny fr fs nz fu fw ip bi translated">你可能不知道的3个JavaScript特性</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">用模板文字调用函数，等等！</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh kq nt"/></div></div></a></div></div></div>    
</body>
</html>