<html>
<head>
<title>I Rebuilt My Blog With SvelteKit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我用SvelteKit重建了我的博客</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/i-rebuilt-my-blog-with-sveltekit-4f10438c8102?source=collection_archive---------1-----------------------#2022-12-02">https://betterprogramming.pub/i-rebuilt-my-blog-with-sveltekit-4f10438c8102?source=collection_archive---------1-----------------------#2022-12-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b97f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我用Jekyll和Svelte建立的网站的比较</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/da9e0f18def4140e013a8860a14b199a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9NN6QI_yvJawD4YrI3HXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Antonio Guillem的原始照片</p></figure><p id="827f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">几个月前我的一个同事推荐了<code class="fe lu lv lw lx b">Svelte</code>。</p><p id="88a0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">起初，我以为</p><blockquote class="ly lz ma"><p id="988d" class="ky kz mb la b lb lc ju ld le lf jx lg mc li lj lk md lm ln lo me lq lr ls lt im bi translated">“哦，太棒了，一个新的JavaScript框架，正是我们所需要的，而不是有数百个这样的框架”</p></blockquote><p id="f08d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我通常说我是一名后端开发人员，但是我确实知道一些前端框架，尽管我在那个领域还不成熟。我一直在努力熟悉React(专业地使用它)和Jekyll(在我当前的博客中使用它)。我花了很长时间才有效地使用它们。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mf mg l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如果你喜欢视频的话，这篇文章的视频记录</p></figure><p id="5a0e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">起初，我对学习Svelte毫无兴趣，但我听到的越来越多，然后我看到它获得了<a class="ae mh" href="https://insights.stackoverflow.com/survey/2021#section-most-loved-dreaded-and-wanted-web-frameworks" rel="noopener ugc nofollow" target="_blank">最受喜爱的web框架</a>。</p><p id="1b4f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我开始阅读更多关于它的资料，因为它听起来很有希望。下面是引起我注意的信息和特性的简短回顾。</p><ul class=""><li id="3915" class="mi mj it la b lb lc le lf lh mk ll ml lp mm lt mn mo mp mq bi translated">Web应用程序是在构建时编译的，由于<a class="ae mh" href="https://vitejs.dev/guide/features.html#build-optimizations" rel="noopener ugc nofollow" target="_blank">优化</a>，它们可以运行得非常快。</li><li id="ee6b" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated">苗条是非常容易使用的低复杂性</li><li id="98a4" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated">没有自定义语法，简单的HTML，JavaScript和CSS。所以入门水平低。</li></ul><h1 id="278c" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">什么是Svelte和SvelteKit？</h1><p id="588a" class="pw-post-body-paragraph ky kz it la b lb no ju ld le np jx lg lh nq lj lk ll nr ln lo lp ns lr ls lt im bi translated">Svelte 是一个JavaScript框架，Svelte不使用<a class="ae mh" href="https://svelte.dev/blog/virtual-dom-is-pure-overhead" rel="noopener ugc nofollow" target="_blank">虚拟DOM </a>如React或Vue来处理应用程序的状态。</p><p id="cfef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不使用虚拟DOM的事实让Svelte成为<code class="fe lu lv lw lx b">truly reactive</code>。这意味着，当我们更新值时，我们不必做任何修改或样板代码来重新呈现变量。我认为每个编写过React应用程序的人有时都会遇到这个问题。</p><p id="f273" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在苗条，当我们更新一个点击计数器等，它自动更新，没有<code class="fe lu lv lw lx b">useEffects</code>，<code class="fe lu lv lw lx b">useState</code>，或其他挂钩。</p><p id="2d27" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个简单的按钮组件，它递增一个计数器，并打印该计数器。</p><pre class="kj kk kl km gt nt lx nu bn nv nw bi"><span id="25d2" class="nx mx it lx b be ny nz l oa ob">&lt;script&gt;<br/>   let count = 0;<br/>   function update(){<br/>    count++;<br/>   }<br/>&lt;/script&gt;<br/><br/>&lt;p&gt;<br/> Current Count: {count}<br/>&lt;/p&gt;<br/>&lt;button on:click={update}&gt;<br/> Increase<br/>&lt;/button&gt;<br/><br/>&lt;style&gt;<br/> p{<br/>  color: red;<br/> }<br/>&lt;/style&gt;</span></pre><p id="04da" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在<a class="ae mh" href="https://svelte.dev/repl/6b46e10dae684dbab87b411c19d3878a?version=3.53.1" rel="noopener ugc nofollow" target="_blank"> REPL </a>试试上面的代码。Svelte最酷的一点是，同一个组件中的所有内容都是有范围的。所以将<code class="fe lu lv lw lx b">p</code>的颜色改为红色只会影响声明CSS的组件。</p><p id="1105" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我喜欢上<a class="ae mh" href="https://go.dev/" rel="noopener ugc nofollow" target="_blank"> Go </a>的一点是它简单的语法和低模板。Svelte承诺同样的事情，但对于网络应用。</p><p id="419a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">关于Svelte的另一个很酷的事情是，不是让浏览器做大部分的处理，而是由服务器来处理。Web应用程序在交付生产之前进行编译，允许服务器执行一系列构建优化。这使得创建高速网站成为一项简单的任务。</p><p id="16c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦你开始学习苗条，用不了多久你就会面临<a class="ae mh" href="https://kit.svelte.dev/" rel="noopener ugc nofollow" target="_blank">苗条套装</a>这个术语。Svelte是JavaScript框架，而SvelteKit是应用程序框架。</p><p id="db59" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">SvelteKit用于构建使用Svelte的应用程序，它增加了许多功能。在我看来，最重要的两个因素如下。</p><h1 id="f910" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">预渲染</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b1476596ad852ecd5770c73ca0cb4882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nyt_wQUD7AJ57kew-mMP9A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">预呈现是指静态站点生成器创建一个静态站点，并在存储时提供服务</p></figure><p id="c802" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">应用程序是在构建时计算的，静态应用程序<a class="ae mh" href="https://en.wikipedia.org/wiki/Static_web_page" rel="noopener ugc nofollow" target="_blank">是在访问网站时存储和提供的，这意味着加载时间大大减少，因为许多繁重的工作已经为客户端完成。</a></p><p id="f26e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这与服务器渲染不同，因为它发生在构建时，我们只能通过重新构建应用程序来更改内容。但是在服务器上要容易得多，因为它不需要重新渲染所有内容。</p><p id="6435" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当你有一个静态网站时，比如一个所有内容都可以预先确定的博客，预渲染是一个神奇的工具。</p><p id="4463" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意，有了SvelteKit，结合SSR、预渲染和CSR真的很容易。因此，我们可以预渲染可以预渲染的内容和任何静态组件，并利用其他令人惊叹的功能，如针对其他内容的SSR。</p><h1 id="1876" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">按指定路线发送</h1><p id="bcc5" class="pw-post-body-paragraph ky kz it la b lb no ju ld le np jx lg lh nq lj lk ll nr ln lo lp ns lr ls lt im bi translated">苗条本身没有路由的方法。这就是SvelteKit的用武之地，它增加了轻松路由用户的可能性。</p><p id="c2f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">SvelteKit支持基于文件的<a class="ae mh" href="https://kit.svelte.dev/docs/routing" rel="noopener ugc nofollow" target="_blank">路由系统</a>。它使得使用文件名前缀<code class="fe lu lv lw lx b">+server.js</code>控制应该在服务器上运行的任何代码变得非常容易，或者使用<code class="fe lu lv lw lx b">+page.js</code>控制应该在客户机上运行的任何代码。这和我们在《化身博士》中的做法很相似，所以我从一开始就很熟悉。</p><h1 id="8846" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">摆脱哲基尔？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4d595637d16a642cabdc416c58470d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gJw9HkN6991iBHVZSTZIvA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我会用一个苗条的博客取代我的Jekyll博客吗？</p></figure><p id="9cd3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我以前的博客是我在网上找到的一个模板，我觉得它看起来不错，而且很有效。网站是用Jekyll搭建的，我从一开始就不喜欢。</p><p id="e11b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我不喜欢哲基尔的地方是:</p><ul class=""><li id="b0b6" class="mi mj it la b lb lc le lf lh mk ll ml lp mm lt mn mo mp mq bi translated">它用的是Ruby，我没兴趣学。你不必用Ruby编码，但是它利用了Ruby的工具。</li><li id="9ca9" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated">我在Jekyll中使用<a class="ae mh" href="https://jekyllrb.com/docs/ruby-101/#gems" rel="noopener ugc nofollow" target="_blank"> Gems </a>时遇到了很多麻烦，它们中的许多都很旧，并且存在许多依赖问题、版本冲突等等。</li><li id="05e9" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated">我体验到在本地工作和执行更改时速度非常慢。</li><li id="b73a" class="mi mj it la b lb mr le ms lh mt ll mu lp mv lt mn mo mp mq bi translated">我很难理解如何使用Jekyll，这是许多新的术语，它没有给我留下明显的印象。</li></ul><p id="efb3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我选择了基于Jekyll模板，因为它易于部署到GitHub页面上，而且使用起来也很快。</p><p id="a13d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是因为SvelteKit也支持使用静态站点生成器(<a class="ae mh" href="https://kit.svelte.dev/docs/glossary#ssg" rel="noopener ugc nofollow" target="_blank"> SSG </a>)生成一个完全静态的网站，所以将其部署到GitHub页面没有问题。</p><p id="6104" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">鉴于我不喜欢Jekyll的工作方式和周围的工具，我更习惯于SvelteKit使用的工具，如NPM，纱线和维特。我决定尝试用苗条来重写我现在的博客。</p><h1 id="362f" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">比较网站</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a52da72cdf57e9aed723d05fe8c718c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*413KUl1fLMsDVUHmRtdkXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">斯维特和哲基尔之间的生死之战</p></figure><p id="e769" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们开始比较网站和他们的表现。我会比较使用<a class="ae mh" href="https://www.elegantthemes.com/blog/wordpress/what-is-google-lighthouse-and-how-to-use-it" rel="noopener ugc nofollow" target="_blank">灯塔</a>的网站。Lighthouse存在于任何基于Chrome浏览器的开发者标签中(F12打开)，或者通过一个扩展。你也可以使用<a class="ae mh" href="https://pagespeed.web.dev/" rel="noopener ugc nofollow" target="_blank"> PageSpeedInsights </a>运行它的在线版本。我已经将这两个应用程序部署到GitHub页面，并将在部署的版本上运行测试。</p><p id="0549" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Lighthouse是一个测量你的网站的<a class="ae mh" href="https://web.dev/lighthouse-seo/" rel="noopener ugc nofollow" target="_blank"> SEO </a>、<a class="ae mh" href="https://web.dev/performance-scoring/" rel="noopener ugc nofollow" target="_blank">性能</a>、<a class="ae mh" href="https://web.dev/learn/design/accessibility/" rel="noopener ugc nofollow" target="_blank">可访问性</a>和<a class="ae mh" href="https://web.dev/lighthouse-best-practices/" rel="noopener ugc nofollow" target="_blank">最佳实践</a>的工具。</p><p id="1b40" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">SEO是通过检查搜索引擎是否能够理解内容，页面是否能够被抓取和索引，以及它是否是移动友好的来衡量的。</p><p id="d87a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">性能是与网站速度相关的多个指标之间的加权值，我们将很快看到更多这些指标。</p><p id="4229" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">检查可访问性以确保您的网站响应迅速，并适用于多种屏幕尺寸。</p><p id="8fd5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最佳实践检查我们是否遵循了Web重要的最佳实践，页面是否使用了过时的技术，是否快速和安全。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/eadafe74917b96816150ef0f9d834dd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-T3Kh8iy3-FZAYu1LnSHWw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">旧网站主页——这是旧网站的样子，非常简单。</p></figure><p id="c48b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">访问我的博客时，旧的启动屏幕非常简单，它显示了5个最新的帖子和一点点文字。它的图像很少，看起来很简单。</p><p id="e4f8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们在这个网站上运行lighthouse并查看结果。我将在移动设备上运行lighthouse，因为移动设备通常速度较慢，应用也更广泛。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/6bb2b8c4b608810be12714b2b7201e55.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*cUV6PykOWCxrSanSyF5Gag.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">旧网站主页—旧主页的分数</p></figure><p id="cde6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Lighthouse首先给我们总结了四个指标。</p><p id="91c1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">表演是44，很糟糕。Lighthouse也给了我们为什么低的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/66bcc2e91490aee924e942fe798de4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*yYC-R11jtz23ZDHH4DK82A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">旧网站主页——灯塔报告的基础指标。</p></figure><p id="a605" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以看到最重要的指标是<a class="ae mh" href="https://web.dev/interactive/" rel="noopener ugc nofollow" target="_blank">互动时间</a>。交互时间是指页面“完全交互”之前的时间，这意味着页面应该在50毫秒内做出响应。我现在的网站花费了惊人的<strong class="la iu">16.7秒</strong>！请注意，这是在移动设备上，移动设备通常被认为比台式机慢。</p><p id="18b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果这是你第一次使用LightHouse，你可能会觉得16.7秒很高，事实也的确如此。但很可能没有你想象的那么高。在Facebook.com跑灯塔给了我4.7秒。</p><p id="4a5d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">鉴于我在旧网站上的信息如此之少，我的结果是可怕的。</p><p id="bfc6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第二个不好的指标是<a class="ae mh" href="https://web.dev/tbt/" rel="noopener ugc nofollow" target="_blank">总阻塞时间</a>。JavaScript是单线程的，这意味着任何正在执行的工作都会阻止网站。阻塞是指当工作时间超过50毫秒时，任何低于50毫秒的时间都不会被人察觉。</p><p id="9c7d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是新博客的样子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/e502e08375cdbdce19cbfe86cd164375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dDq_7_w1g_0wOMgGYViEYw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">新网站主页——新网站，仍然很简单，但是更高级了一点。</p></figure><p id="074b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如你所见，我已经更新了样式。新网站不再仅仅展示文章的标题和描述，还会显示文章的缩略图。第一个闪屏将加载9张图片和关于9篇最新博客文章的信息。</p><p id="b70a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们在新网站上运行lighthouse并查看结果</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/6a9cef74890f1efa0362212d1357e5fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*HC4SlXDUm42y-AIoR2Hb7A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">新网站主页——所有4个分数都增加了</p></figure><p id="7874" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，这个看起来比以前的网站好多了。四个分数都提高了。性能要高得多，尽管我们现在显示了更多的数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/6151b745ca288484c9acb51a9a585720.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ynzKMl_OPQXY3XYA41ko2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">新网站主页——给出的指标</p></figure><p id="8ba8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以看到，新网站在4.3秒后完全互动。这比旧博客减少了(16.7–4.3)=<strong class="la iu">12.4秒</strong>。</p><p id="d55e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想知道是什么让它仍然需要4.3秒，我仍然需要运行和导入一些JavaScript，比如Google Analytics和Adsense。这些确实会大大降低网站的运行速度。</p><p id="df15" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">尽管如此，对我的读者来说，这将是一个巨大的进步！</p><p id="0e2b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">公平地说，我的读者不应该呆在我的主页上，他们应该呆在博客里面。</p><p id="d021" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们在每个网站上测量相同的博客文章，这很有趣，因为这里没有区别，都服务于<a class="ae mh" href="https://www.markdownguide.org/" rel="noopener ugc nofollow" target="_blank">降价</a>文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/c67d61492f4f06bc006742c5b6f9e578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oREz7MCI8mtE_e9x99NwHQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">旧网站上的Kubernetes帖子。</p></figure><p id="c23f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以再次运行lighthouse，但不是在这个页面上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/e698cf1654bacca763ae1ea14e31d82e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L6hVa8y2ulKIDl_53nCIJw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kubernetes页面结果</p></figure><p id="a5b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，旧网站标为黄色，可以接受。我想记下交互的极限时间28.7秒。想象一下，访问我的博客，不得不避开28秒，然后一切都按计划进行。</p><p id="9bc1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">新网站拥有相同的降价文件，显示几乎相同的信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/3ef2acfd9787fc9a4f186ff60e02b08b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1d1n1Qqa3Q-4hOi44pu9vg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kubernetes在新网站上发布</p></figure><p id="299f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让灯塔吞噬它吧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/7021c70da3b3a077c4317d6ceccf7edf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8llg6dzyu5oSk5olCAKcw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">新网站上的Kubernetes页面</p></figure><p id="f824" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以一切看起来都好一点了。成绩提高了22分，考虑到100分是最高分，这已经算多了。如果我去除分析和其他东西，我可以达到90，但我希望那是可用的，所以我不能这样做。</p><p id="b1f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到交互的时间是3.6秒，快了(28.7–3.6)= 25.1秒！</p><h1 id="9b0d" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">结论</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3d5f94aa98d7f2508081743c5dfb483b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2YJdbrijzYA3Z5Jj2Ub7NA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用SvelteKit重建时的巨大改进</p></figure><p id="4853" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不仅我的博客现在超级快得多。维护和更新要容易得多。在Jekyll中，我必须搜索和测试大量不同的插件来进行优化，而且通常很难使用和运行。</p><p id="ffc2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我不得不说，我在新网站上几乎没有做任何优化，这几乎只是使用了开箱即用的功能。这种速度的提高纯粹是来自于简单地使用SvelteKit。</p><p id="c8b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我不得不说这感觉太棒了，我一直在为我的Jekyll网站与这么多插件和不同的工具作斗争，但毫无结果。</p><p id="0cc6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我唯一额外添加的是一个Vite插件，用于在构建过程中为用户自动生成webp图像。我已经在Jekyll应用程序中做了一些事情。然而，在SvelteKit中实现要容易100倍。在不久的将来，我会写一篇关于这个的博客。</p><p id="a598" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在旧网站上，我非常谨慎，害怕我改变的一切，因为它通常会破坏许多其他东西。因为SvelteKit的应用程序有一个非常容易理解和简单的结构，也因为SvelteKit的组件非常容易理解，这个博客现在对我来说更容易使用了。</p><p id="b47f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我决定重建时，我非常怀疑，许多框架已经提供了“下一代”，但在尝试了SvelteKit之后，它确实感觉像是下一代框架。</p><p id="a8d4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">也就是说，我必须明确指出，SvelteKit尚未正式发布1.0版本。目前的版本仍然只是一个<code class="fe lu lv lw lx b">release candidate</code>。</p><p id="10bc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但这也可能意味着我们将在<code class="fe lu lv lw lx b">v1.0</code>之前从SvelteKit上看到更多令人惊叹的东西。</p><p id="1b13" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我对此非常激动，我迫不及待地想听听你对新网站的看法。</p><p id="19b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你喜欢吗？在<a class="ae mh" href="https://programmingpercy.tech/" rel="noopener ugc nofollow" target="_blank">https://programmingpercy.tech/</a>尝试一下</p></div></div>    
</body>
</html>