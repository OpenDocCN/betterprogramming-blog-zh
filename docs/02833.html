<html>
<head>
<title>Exploring NestJS Workspace</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索NestJS工作空间</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/exploring-nestjs-workspace-7d674ba3c86a?source=collection_archive---------16-----------------------#2020-01-03">https://betterprogramming.pub/exploring-nestjs-workspace-7d674ba3c86a?source=collection_archive---------16-----------------------#2020-01-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ce27" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">标准模式与monorepo模式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7cf9e0edba27d336d9bcbce2e39b71bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oTbTuBA4_RtKoXCsZ-ybKQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">NestJS标志</p></figure><p id="c12e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我的<a class="ae lr" href="https://medium.com/p/a4e8b0b09db4" rel="noopener">上一篇文章</a>中，我们看到了为什么以及如何使用<a class="ae lr" href="https://nestjs.com/" rel="noopener ugc nofollow" target="_blank"> NestJS </a>，在本文中，我们将浏览NestJS工作区。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="eefb" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">NestJS工作空间</h1><p id="9336" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">NestJS 支持两种模式:</p><ul class=""><li id="84c0" class="mw mx iq kx b ky kz lb lc le my li mz lm na lq nb nc nd ne bi translated">标准模式</li><li id="c249" class="mw mx iq kx b ky nf lb ng le nh li ni lm nj lq nb nc nd ne bi translated">单报告模式</li></ul><h2 id="e51e" class="nk ma iq bd mb nl nm dn mf nn no dp mj le np nq ml li nr ns mn lm nt nu mp nv bi translated">标准模式</h2><p id="84a5" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">当我们使用<code class="fe nw nx ny nz b">nest new &lt;app-name&gt;</code>创建一个新的应用程序时，我们使用的是标准模式。在标准模式下，TypeScript的<code class="fe nw nx ny nz b">tsc</code>将被用作编译器。下面是我们的应用程序在标准模式下的样子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/37518b81e416dcd3a62d05abd4b93db6.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*kROnicH3_HgHJl2OwlCEfg.jpeg"/></div></div></figure><h2 id="1552" class="nk ma iq bd mb nl nm dn mf nn no dp mj le np nq ml li nr ns mn lm nt nu mp nv bi translated">单报告模式</h2><p id="5834" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">monorepo模式是指我们有多个应用程序，通常是一个应用程序和一个库，我们已经有一个应用程序，让我们使用下面的命令添加一个库。它将添加一个新的库项目。</p><pre class="kg kh ki kj gt ob nz oc od aw oe bi"><span id="eed9" class="nk ma iq nz b gy of og l oh oi">nest generate lib shoppingLib</span></pre><p id="a0d8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，由于我们处于monorepo模式，而不是<code class="fe nw nx ny nz b">tsc</code>，<a class="ae lr" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> webpack </a>将被用作构建工具。您可以打开<code class="fe nw nx ny nz b">nest-cli.json</code>并注意到添加了下面几行代码。<code class="fe nw nx ny nz b">compilerOptions</code>有<code class="fe nw nx ny nz b">webpack</code>值为真。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="6f83" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">添加库后，应用程序结构将如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/3c4de0e6f574697534bf68be8e6b6ff5.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*qhHnElJA9ttiBr4SsPsdRw.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">单一报告</p></figure><p id="c428" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们看一下一些重要的文件:</p><ul class=""><li id="24fe" class="mw mx iq kx b ky kz lb lc le my li mz lm na lq nb nc nd ne bi translated"><code class="fe nw nx ny nz b">tsconfig.json</code> : <strong class="kx ir"> </strong>运行<code class="fe nw nx ny nz b">tsc</code>传输文件时使用的配置文件。</li><li id="35c5" class="mw mx iq kx b ky nf lb ng le nh li ni lm nj lq nb nc nd ne bi translated"><code class="fe nw nx ny nz b">nest-cli.json</code> : <strong class="kx ir"> </strong>当我们处于monorepo模式时，Nest CLI配置文件有一个项目列表，并定义了我们在monorepo中使用哪个构建工具<code class="fe nw nx ny nz b">webpack</code>，默认情况下是<code class="fe nw nx ny nz b">tsc</code>。</li><li id="6028" class="mw mx iq kx b ky nf lb ng le nh li ni lm nj lq nb nc nd ne bi translated"><code class="fe nw nx ny nz b">main.ts</code>:这是我们的NestJS应用程序的入口文件，有一个<code class="fe nw nx ny nz b">bootstrap()</code>函数来引导我们的应用程序。默认情况下，服务器运行在端口3000上，您可以更改它，在生产中使用它时，我们可以使用环境变量。</li><li id="2f1c" class="mw mx iq kx b ky nf lb ng le nh li ni lm nj lq nb nc nd ne bi translated"><code class="fe nw nx ny nz b">app.module.ts</code>:这是我们的根模块，已经注册了所有模块、控制器和服务。</li><li id="ed11" class="mw mx iq kx b ky nf lb ng le nh li ni lm nj lq nb nc nd ne bi translated"><code class="fe nw nx ny nz b">app.controller.ts</code>:我们的应用程序应该至少定义一个控制器，这是我们的默认控制器。</li><li id="7c5f" class="mw mx iq kx b ky nf lb ng le nh li ni lm nj lq nb nc nd ne bi translated">在我们的应用程序中，我们可以有多个服务。这是作为工作空间的一部分添加的示例服务，这是可选的。</li><li id="a7c8" class="mw mx iq kx b ky nf lb ng le nh li ni lm nj lq nb nc nd ne bi translated"><code class="fe nw nx ny nz b">Libraries</code> <strong class="kx ir"> : </strong>库可以有可重用的代码，比如服务、管道、防护或拦截器。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="f72f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">用于NestJS全栈应用的工具</h1><p id="858b" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">如果你正在用Angular/React.js构建一个全栈应用，并且想要使用NestJS作为后端，你应该考虑<a class="ae lr" href="https://nx.dev/angular/getting-started/what-is-nx" rel="noopener ugc nofollow" target="_blank"> Nx Dev Tools </a>，它提供了很多特性。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="8bf1" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="1018" class="pw-post-body-paragraph kv kw iq kx b ky mr jr la lb ms ju ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">我们了解了NestJS工作区和两种可用的模式以及它们之间的区别，以及如何将我们的工作区转换为monorepo模式。</p><p id="ae55" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们还看到了不同的文件，这些文件很重要，以及它们为什么有用。在下一篇文章中，我们将讨论控制器以及如何创建和配置端点。</p></div></div>    
</body>
</html>