<html>
<head>
<title>How to Create Python range() in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在JavaScript中创建Python range()</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/using-python-range-in-javascript-1e58c7bd339c?source=collection_archive---------7-----------------------#2021-08-04">https://betterprogramming.pub/using-python-range-in-javascript-1e58c7bd339c?source=collection_archive---------7-----------------------#2021-08-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8cbd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过迭代器在JavaScript中使用广受欢迎的Python range()操作符</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/29f1d95cda782888e9c650823b1a8761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UvDmGQnUM-2l67IK"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@silvercloud?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">玉笛·西尔弗克劳德</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="eb1c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么<em class="lr">是</em>Python range()类型？</h1><p id="9fde" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果您不熟悉Python，<code class="fe mo mp mq mr b">range()</code>指的是使用<code class="fe mo mp mq mr b">range</code>类型创建不可变的数字序列。</p><blockquote class="ms"><p id="3971" class="mt mu it bd mv mw mx my mz na nb mn dk translated">“<code class="fe mo mp mq mr b">range</code>类型代表一个不可变的数字序列，通常用于在<code class="fe mo mp mq mr b">for</code>循环中循环特定的次数。”—<a class="ae ky" href="https://docs.python.org/3/library/stdtypes.html#range" rel="noopener ugc nofollow" target="_blank">docs.python.org</a></p></blockquote><p id="4548" class="pw-post-body-paragraph ls lt it lu b lv nc ju lx ly nd jx ma mb ne md me mf nf mh mi mj ng ml mm mn im bi translated"><code class="fe mo mp mq mr b">range()</code>构造函数有两种形式的定义:</p><pre class="kj kk kl km gt nh mr ni nj aw nk bi"><span id="7faa" class="nl la it mr b gy nm nn l no np">range(stop)<br/>range(start, stop[, step])</span></pre><p id="b792" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">参数、返回值等的简明解释。可在<a class="ae ky" href="https://www.programiz.com/python-programming/methods/built-in/range" rel="noopener ugc nofollow" target="_blank">程序</a>中找到。</p><p id="033b" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">几个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><h1 id="be0d" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">在JavaScript中构建range()函数</h1><p id="4be8" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">为了简单起见，我们将忽略可选的<code class="fe mo mp mq mr b">step</code>参数。</p><p id="fec9" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">通过使用<code class="fe mo mp mq mr b">Array</code>构造函数、<code class="fe mo mp mq mr b">fill</code>和<code class="fe mo mp mq mr b">map</code>，您可以在快速的一行程序中找到一个简单的解决方案:</p><pre class="kj kk kl km gt nh mr ni nj aw nk bi"><span id="40c1" class="nl la it mr b gy nm nn l no np">new Array(stop - start).fill(start).map((el, i) =&gt; el + i)</span></pre><p id="ced0" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">然后可能会提供一个更完整的解决方案，涵盖只使用一个参数调用<code class="fe mo mp mq mr b">range</code>的情况:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="8a55" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">但是现在还不是时候。你能看出为什么这个解决方案是错误的吗？</p><p id="76df" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">记住，调用Python <code class="fe mo mp mq mr b">range</code>会返回一个<strong class="lu iu">不可变的数字序列</strong>。注意为了得到熟悉的列表数据结构，上面的Python例子是如何用<code class="fe mo mp mq mr b">list()</code>包装<code class="fe mo mp mq mr b">range</code>的返回值的。</p><p id="709f" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">JavaScript中一个类似的例子应该是这样的:</p><pre class="kj kk kl km gt nh mr ni nj aw nk bi"><span id="60d5" class="nl la it mr b gy nm nn l no np">&gt; Array.from(range(1, 11))<br/>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></pre><p id="503a" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">那么如何才能让JavaScript中的函数返回一个“不可变的数字序列”呢？有什么方法可以在JavaScript中实现<code class="fe mo mp mq mr b">range()</code>返回值的相同结构？</p><h1 id="16b7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">迭代器来拯救！</h1><p id="1b15" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">迭代器在不同的编程语言中被广泛使用，以允许我们迭代不同的数据结构。</p><blockquote class="ms"><p id="eba4" class="mt mu it bd mv mw mx my mz na nb mn dk translated">“在JavaScript中，<strong class="ak">迭代器</strong>是一个对象，它定义了一个序列，并可能在序列终止时返回一个值。”——<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators" rel="noopener ugc nofollow" target="_blank">developer.mozilla.org</a></p></blockquote><p id="ed91" class="pw-post-body-paragraph ls lt it lu b lv nc ju lx ly nd jx ma mb ne md me mf nf mh mi mj ng ml mm mn im bi translated">具体来说，在JavaScript中，迭代器是通过使用一个返回具有两个属性的对象的<code class="fe mo mp mq mr b">next()</code>方法来实现<a class="ae ky" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterator_protocol" rel="noopener ugc nofollow" target="_blank">迭代器协议</a>的任何对象:</p><pre class="kj kk kl km gt nh mr ni nj aw nk bi"><span id="6b5d" class="nl la it mr b gy nm nn l no np">next() {<br/>  ...<br/>  return {<br/>    value: // current value to be passed<br/>    done: // did we finish iterating over the data structure?<br/>  }<br/>}</span></pre><p id="dd89" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">使用迭代器，您可以提供自己的迭代逻辑。例如，下面是一个简单的迭代器，它将跳过每隔一项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="1be6" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">更重要的是，如果我们创建一个定义了返回迭代器的<code class="fe mo mp mq mr b">[Symbol.iterator]</code>的对象，我们就可以得到我们想要的行为:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="64fc" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">试验这些例子，看看你能创建什么样有趣和有用的迭代器。</p><p id="489e" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">到现在为止，你大概可以想象我们如何用JavaScript创建Python <code class="fe mo mp mq mr b">range()</code>。我是这样实现的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="c1c7" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">正如我提到的，为了简单起见，这个实现省略了原始Python <code class="fe mo mp mq mr b">range()</code>中的<code class="fe mo mp mq mr b">step</code>参数，但这只是一个额外的逻辑问题，您可以自己实现。请随意分享您的解决方案。</p><p id="f748" class="pw-post-body-paragraph ls lt it lu b lv nq ju lx ly nr jx ma mb ns md me mf nt mh mi mj nu ml mm mn im bi translated">感谢阅读。</p></div></div>    
</body>
</html>