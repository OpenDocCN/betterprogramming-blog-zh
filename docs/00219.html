<html>
<head>
<title>How To Use Import Statements in Nodejs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Nodejs中使用Import语句</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-import-statements-in-nodejs-94c85e23aeb7?source=collection_archive---------0-----------------------#2018-10-31">https://betterprogramming.pub/how-to-use-import-statements-in-nodejs-94c85e23aeb7?source=collection_archive---------0-----------------------#2018-10-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5a83" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用最少的配置在一个节点项目中设置Babel</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2d54aa240bcf85291241db6550f355bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zd7GbV_is43HsOpU"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">塞萨尔·卡利瓦里诺·阿拉贡在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上发表的《手持工具系列》</p></figure><p id="acfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我并不总是喜欢尝试设置Nodejs应用程序的不同版本。不要误解我——我相信尝试一个人的设置，这可以导致学习新的东西。但这是有限度的。最近，我发现自己更经常地设置Nodejs服务器来开发RESTful API。此外，服务器必须以一种客户机可以轻松使用API的方式与客户机协作。对于客户端开发，我使用ReactJS。</p><p id="60bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着客户端和服务器之间的上下文切换，我经常发现自己在这个过程中出错。最常见的一种是在Nodejs文件中使用<code class="fe lv lw lx ly b">import</code>语句。这导致了一个叫做<code class="fe lv lw lx ly b">Unexpected identifier</code>的语法错误。甚至在我的本地机器上切换到Nodejs <code class="fe lv lw lx ly b">v10</code> LTS之后，我发现不能使用ES6模块相当令人失望。</p><p id="05e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了克服这个问题，并减少我在开发过程中造成的错误，我阅读了一些教程，但决定建立自己的网格设置。这些教程虽然写得很好，但使用的方法几乎完全相反。我希望在日常工作中处理全栈应用时保持一致性。</p><p id="8027" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我将向您展示在Nodejs服务器端应用程序中使用<code class="fe lv lw lx ly b">import</code>语句的一个简化的、耗时更少的版本。要继续阅读本文，请确保您的本地计算机上安装了以下应用程序:</p><p id="4ca1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Nodejs</p><p id="14f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">npm</p><h1 id="f7bc" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">模拟项目入门</h1><p id="604e" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">我称之为模拟项目，因为我要从头开始建立这个设置。在本教程的最后，我将留下一个Github资源库的链接，它可以作为许多Nodejs plus Express项目的入门工具包。你可以直接跳到链接部分，然后自己动手做——这里并不复杂。如果你仍然好奇，请继续阅读这篇短文。</p><p id="f5d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，创建一个新目录，遍历它并用<code class="fe lv lw lx ly b">npm</code>初始化它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="14db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在将您的项目初始化为npm项目后，您可以签出<code class="fe lv lw lx ly b">package.json</code>文件。它将填充您用来配置npm的详细信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="0131" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，从终端使用以下命令创建一个新文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/239f9242fd400189751317551347f1c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:312/format:webp/1*cToGazhSQLTx3oIwsJULPQ.png"/></div></figure><p id="b40b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是我们建立一个最简单的项目目录所需要的。在下一节中，我们将看看我们必须安装哪些依赖项，以及为什么我们需要这些依赖项。</p><h1 id="414d" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">创建节点服务器</h1><p id="5e9f" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">要创建服务器，我将使用Express。要将Express作为依赖项包含在我们的项目中，请从您的终端运行以下命令:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="4725" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，向<code class="fe lv lw lx ly b">index.js</code>文件添加以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="18d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过运行命令<code class="fe lv lw lx ly b">node index.js</code>来运行服务器。访问网址<code class="fe lv lw lx ly b">http://localhost:3000/</code>，你会看到一条消息显示在浏览器窗口:<code class="fe lv lw lx ly b">Hello from Nodejs!</code>。</p><p id="3e0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这表明服务器的代码没有问题。现在将<code class="fe lv lw lx ly b">index.js</code>的第一行修改为:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="e801" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行相同的命令<code class="fe lv lw lx ly b">node index.js</code>并停留在终端窗口。这一次服务器没有启动，因为在这个过程中有一个错误。这和我在本文开头告诉你的错误是一样的。Nodejs默认不能执行<code class="fe lv lw lx ly b">import</code>语句。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/cd77f2df43ff0d18bcffbd5250a5b339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itCGCm0lnbBG94KS6D0bOg.png"/></div></div></figure><h1 id="552f" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">使用巴别塔</h1><p id="8d20" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">我们只需要一个transpiler，它允许我们使用ES6特性编写JavaScript，比如Nodejs项目中的<code class="fe lv lw lx ly b">import</code>语句。什么是运输工具？</p><blockquote class="nb"><p id="3c8c" class="nc nd it bd ne nf ng nh ni nj nk lu dk translated">Transpilers也称为源到源编译器，它从以一种编程语言编写的源代码中读取代码，并以另一种语言生成等效的代码。</p></blockquote><p id="3cdb" class="pw-post-body-paragraph kz la it lb b lc nl ju le lf nm jx lh li nn lk ll lm no lo lp lq np ls lt lu im bi translated">在我们的例子中，我们没有切换编程语言，而是需要使用LTS版本的Node尚不支持的新语言特性。我将设置Babel编译器，并通过以下配置过程在我们的项目中启用它:</p><p id="b07a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，您必须安装一些依赖项。请务必标记mind -D，因为我们的开发环境只需要这些依赖项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="4c81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦您安装了它们，将一个<code class="fe lv lw lx ly b">.babelrc</code>文件添加到项目的根目录，并添加以下配置:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="6058" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">配置过程的最后一步是在<code class="fe lv lw lx ly b">package.json</code>中添加一个<code class="fe lv lw lx ly b">dev</code>脚本。您可以随意命名这个脚本。一旦有变化，这将自动运行babel编译器。这由<code class="fe lv lw lx ly b">babel-watch</code>完成，它还负责重新启动Nodejs web服务器。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="3f5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要查看它的操作，请确保您的<code class="fe lv lw lx ly b">index.js</code>代码使用如下的<code class="fe lv lw lx ly b">import</code>语句。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="9d24" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从终端写入<code class="fe lv lw lx ly b">nr dev</code>。如果没有错误，您将得到以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/3c5747081a27b1ab3cfcce186df4dedc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*Rz9TPPfk6B4p4NPTntXKvg.png"/></div></figure><p id="7342" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中<code class="fe lv lw lx ly b">nr</code>是<code class="fe lv lw lx ly b">npm run</code>的简写。您也可以在浏览器中访问<code class="fe lv lw lx ly b">http://localhost3000/</code>来验证结果，并查看服务器是否正常工作。</p><h1 id="94de" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">结论</h1><p id="e328" class="pw-post-body-paragraph kz la it lb b lc mr ju le lf ms jx lh li mt lk ll lm mu lo lp lq mv ls lt lu im bi translated">本文向您展示了如何从头开始创建一个最小节点服务器，以及如何使用Babel在Node.js环境中引入即将到来的JavaScript特性。我确信现在你不会像我一样在<em class="na"> Nodejs </em> + <em class="na">插入一个你选择的前端框架/库</em>中犯同样愚蠢的错误。</p><p id="9890" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文的完整代码可以在Github资源库中找到:</p><div class="nr ns gp gr nt nu"><a href="https://github.com/amandeepmittal/node-babel-setup" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">amandeepmittal/node-babel-setup</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">🛠 Nodejs +巴别塔。在GitHub上创建一个帐户，为amandeepmittal/node-babel-setup开发做贡献。</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">github.com</p></div></div><div class="od l"><div class="oe l of og oh od oi ks nu"/></div></div></a></div></div></div>    
</body>
</html>