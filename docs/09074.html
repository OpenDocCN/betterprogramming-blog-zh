<html>
<head>
<title>An In-Depth Look at Storybook 6</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深入了解故事书6</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/an-in-depth-look-at-storybook-6-8c44cd6895ee?source=collection_archive---------7-----------------------#2021-07-13">https://betterprogramming.pub/an-in-depth-look-at-storybook-6-8c44cd6895ee?source=collection_archive---------7-----------------------#2021-07-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3d75" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">探索故事书6.0以来的新功能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/42a26f955111693dc9479f16d4150295.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YkBB5_0w1pJjwNV9"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@sigmund?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">西格蒙德</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="4aca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://storybook.js.org/" rel="noopener ugc nofollow" target="_blank"> Storybook </a>是UI开发的工具。它通过隔离组件使开发更快更容易。这允许我们一次处理一个组件。它简化了UI开发、测试和文档。</p><p id="144a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">故事书6.3于2021年6月发布。除了<a class="ae ky" href="https://reactjs.org/blog/2020/10/20/react-v17.html" rel="noopener ugc nofollow" target="_blank"> React 17 </a>、<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/the-step-by-step-guide-to-understanding-and-adopting-npm-7-914504f7090f"> NPM 7 </a>、<a class="ae ky" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank">纱线2 </a>和<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/micro-frontends-using-webpack-5-module-federation-3b97ffb22a0d"> Webpack 5 </a>支持之外，从故事书6.0开始还支持以下特性:</p><ul class=""><li id="67c6" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">零配置设置</li><li id="344c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">动态组件编辑</li><li id="f98a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">多故事书作文</li><li id="41a4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">文档改进</li></ul><p id="43fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将深入探讨这些特性的细节。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="86c1" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">零配置设置</h1><p id="259b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">故事书很复杂。当有更多的旋钮来设置一个复杂的软件时，它变得更加困难。Storybook 6.0使零配置设置变得简单—最佳实践配置已设置，TypeScript已配置，并且它与流行的应用程序框架兼容。</p><p id="318b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/upgrade-create-react-app-based-projects-to-version-4-cra-4-d7962aee11a6">创建React App </a>为例。以下命令创建一个React项目:</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="4e00" class="ns mr it no b gy nt nu l nv nw">npx create-react-app storybook<br/>cd storybook<br/>npm i</span></pre><p id="1999" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后你只要输入一个命令，<code class="fe nx ny nz no b">npx sb init</code>，故事书就安装好了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/d2abff3cb41c24dd996735d0fe4c793c.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*RPvORMoncDAaHuV282rxDw.png"/></div></figure><p id="0150" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它用两个配置文件创建了文件夹<code class="fe nx ny nz no b">.storybook</code>:</p><ul class=""><li id="332d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe nx ny nz no b">main.js</code>:配置故事文件位置，附加组件，以及自定义网络包和巴别塔配置。由于是在Create React App下，所以安装足够智能，可以添加<code class="fe nx ny nz no b">@storybook/preset-create-react-app</code>(第6行)。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><ul class=""><li id="126d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><code class="fe nx ny nz no b">preview.js</code>:设置装饰器、参数和全局类型的全局设置。下面的参数部分为动作处理程序配置正则表达式(第2行)，为<code class="fe nx ny nz no b">background</code>或<code class="fe nx ny nz no b">color</code>(第5行)使用颜色选择器，为<code class="fe nx ny nz no b">Date</code>(第6行)使用日期选择器。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="d6b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该装置包括一些示例组件和<code class="fe nx ny nz no b">src/stories</code>下的故事。在我们熟悉Storybook之后，这些例子就可以去掉了。</p><p id="3cda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行<code class="fe nx ny nz no b">npm run storybook</code>，我们会在网上看到一本漂亮的故事书。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/b7d6ba172b4c0b67b624e99cc0e2e82b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lABlHldHLJZqIXPSeqCklw.png"/></div></div></figure><p id="b8ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些示例故事带有一些附加内容。</p><p id="3dad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面截图中的<code class="fe nx ny nz no b"><a class="ae ky" href="https://storybook.js.org/docs/riot/essentials/controls" rel="noopener ugc nofollow" target="_blank">Controls</a></code>插件允许动态修改参数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/39a952e9a9d950be30dd8d0ccf750a28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q8UhmG_-RLh1eiomUyWZmw.png"/></div></div></figure><p id="7f35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面截图中的<code class="fe nx ny nz no b"><a class="ae ky" href="https://storybook.js.org/docs/riot/essentials/actions" rel="noopener ugc nofollow" target="_blank">Actions</a></code>插件显示事件处理程序接收到的数据。点击<code class="fe nx ny nz no b">Sign up</code>时，显示<code class="fe nx ny nz no b">onCreateAccount</code>。点击<code class="fe nx ny nz no b">Log in</code>时，显示<code class="fe nx ny nz no b">onLogout</code>。</p><p id="18df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个故事都有一个现成的<code class="fe nx ny nz no b"><a class="ae ky" href="https://storybook.js.org/docs/riot/writing-docs/docs-page" rel="noopener ugc nofollow" target="_blank">DocsPage</a></code>，它集合了组件故事、文本描述、docgen注释、参数表和代码示例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/efe57170348f36338928255f0bad59e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O4Z7GxixGLe3zRLhECG4Kw.png"/></div></div></figure><p id="a54a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面截图中的<code class="fe nx ny nz no b">DocsPage</code>插件启用<code class="fe nx ny nz no b">Show code</code>，显示参数，并允许修改当前渲染故事的参数。要知道只有第一个故事才显示论点。毕竟，它们是同一个组件，只需要一组参数就可以动态修改。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2731" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">动态组件编辑</h1><p id="b113" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们已经看到了在<code class="fe nx ny nz no b">Controls</code>插件和<code class="fe nx ny nz no b">DocsPage</code>插件中动态修改参数的能力。</p><p id="d329" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://jenniferfubook.github.io/react-components/?path=/story/components-charts--line-chart" rel="noopener ugc nofollow" target="_blank">以下是我们为<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/build-react-tabs-using-recoil-styled-components-and-storybook-js-4ad534cef007">上一篇文章</a>制作的故事书</a>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/ca95c5b069dd35d73939f950c8b82454.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YvwW2qcJQlxvxUEce6VW3A.png"/></div></div></figure><p id="6af9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nx ny nz no b">Controls</code>附加组件会怎样？</p><p id="61d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它说“这个故事没有被配置成处理控件。”</p><p id="a003" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">动态组件编辑是args表的一个特性。这些表列出了组件的参数，简称args。它需要一个用<a class="ae ky" href="https://storybook.js.org/blog/component-story-format/" rel="noopener ugc nofollow" target="_blank">组件故事格式</a> (CSF)编写的故事，这是故事书5.2中引入的。CSF基于ES6模块，与Storybook的内部API分离。</p><p id="ed0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">args对象可以在故事和组件级别定义(见下文)。它是一个JSON可序列化对象，由字符串键和匹配的有效值类型组成，可以传递给组件。</p><p id="f319" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是官方的<code class="fe nx ny nz no b">Button</code>故事。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="5e8d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">线<code class="fe nx ny nz no b">14</code>创建了映射<code class="fe nx ny nz no b">args</code>的<code class="fe nx ny nz no b">Template</code>用于渲染。</p><p id="899c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个故事在第<code class="fe nx ny nz no b">14</code>、<code class="fe nx ny nz no b">20</code>、<code class="fe nx ny nz no b">25</code>和<code class="fe nx ny nz no b">31</code>行重复使用<code class="fe nx ny nz no b">Template</code>。</p><p id="ff87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后在<code class="fe nx ny nz no b">15</code>行定义<code class="fe nx ny nz no b">Primary.args</code>，在<code class="fe nx ny nz no b">21</code>行定义<code class="fe nx ny nz no b">Secondary.args</code>，在<code class="fe nx ny nz no b">26</code>行定义<code class="fe nx ny nz no b">Large.args</code>，在<code class="fe nx ny nz no b">31</code>行定义<code class="fe nx ny nz no b">Small.args</code>。</p><p id="ac25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你想知道第<code class="fe nx ny nz no b">7</code>行的<code class="fe nx ny nz no b">argTypes</code>是什么吗？</p><p id="d58b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它定义了由<code class="fe nx ny nz no b">'color'</code>控件控制的<code class="fe nx ny nz no b">backgroundColor</code>，即拾色器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/08707cba9af30a3b1ab5d6fb102a9e97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wo8TJNLPoGhBtmvj6YlOJw.png"/></div></div></figure><p id="cf86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们注释掉行<code class="fe nx ny nz no b">7</code>–<code class="fe nx ny nz no b">9</code>,<code class="fe nx ny nz no b">backgroundColor</code>默认为一个颜色字符串。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/95193adc65e13bc6bd066ebd25e34932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QIW9Kx6iRZ43mJQmVqCHJw.png"/></div></div></figure><p id="c79d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于<code class="fe nx ny nz no b">.storybook/preview.js</code>定义了控件为<code class="fe nx ny nz no b">background</code>或<code class="fe nx ny nz no b">color</code>使用颜色选择器，如果参数命名为<code class="fe nx ny nz no b">background</code>或<code class="fe nx ny nz no b">color</code>，则不需要<code class="fe nx ny nz no b">argTypes</code>。</p><p id="f8a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">顺便说一下，上面截图中的红色星号表示必填字段。</p><p id="e429" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">故事书6.3示例支持CSF 2.0。CSF 3.0 做了一些语法上的改进——它目前是一个实验性的特性。</p><p id="8087" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们检查一下我们之前构建的<code class="fe nx ny nz no b">Charts</code>故事:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="e4e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为它不遵循CSF格式，所以不启用动态元件编辑。</p><p id="b883" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来解决这个问题:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="005d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以动态编辑图表的参数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/b7d9fcc5766a09b33e01697f1bcc5957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o66wST-ONE6HDK4Wx6ULug.png"/></div></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="79d9" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">多故事书作文</h1><p id="4380" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在一个组织中有多个故事书是很常见的。把它们组合成一本故事书是个好主意。这可以通过故事书6.0+很容易地实现。</p><p id="ba6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Create React应用程序存储库中添加另一个故事书URL到<code class="fe nx ny nz no b">.storybook/main.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="c811" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们看到了故事书官方示例以及React组件库故事。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/2573ce0cad086d2f5a1b920b7e894996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RduYZlN1hCZwMGEhggxhjA.png"/></div></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="bf8c" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">文档改进</h1><p id="bed5" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">默认情况下，所有的故事都有一个<code class="fe nx ny nz no b">DocsPage</code>，它很好地呈现了组件故事。<code class="fe nx ny nz no b"><a class="ae ky" href="https://storybook.js.org/docs/react/writing-docs/mdx#customizing-argtypes-with-mdx" rel="noopener ugc nofollow" target="_blank">MDX</a></code>赋予<code class="fe nx ny nz no b">DocsPage</code>更多能力。<code class="fe nx ny nz no b">MDX</code>是一种结合了Markdown和JSX的标准文件格式。我们可以使用Markdown来格式化文档，以及在文件的任何位置自由嵌入JSX组件块，包括<code class="fe nx ny nz no b">ArgsTable</code>。</p><p id="3611" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于相同的<code class="fe nx ny nz no b">Button</code>故事，我们将其重命名为<code class="fe nx ny nz no b">Button.stories.mdx</code>并实现如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="ed92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第<code class="fe nx ny nz no b">4</code>–<code class="fe nx ny nz no b">10</code>行，<code class="fe nx ny nz no b">Meta</code>标签定义了故事书组件的信息。</p><p id="169f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第<code class="fe nx ny nz no b">12</code>–<code class="fe nx ny nz no b">15</code>行是降价内容。</p><p id="e0b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">线<code class="fe nx ny nz no b">17</code>—<code class="fe nx ny nz no b">57</code>为四层的JSX构件块和<code class="fe nx ny nz no b">ArgsTable</code>。</p><p id="0396" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个MDX代码，我们就有了一个漂亮的文档:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/c8fcb9330b5581eb102035cc964f6b1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fuqVHcM4F_jt3LQsUkz5Kw.png"/></div></div></figure><p id="f57a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在上面的截图中，由于JSX文件和<code class="fe nx ny nz no b">MDX</code>文件的混合，侧边栏中的标题是无序的。</p><p id="b114" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在<code class="fe nx ny nz no b">.storybook/preview.js</code>中<a class="ae ky" href="https://storybook.js.org/docs/riot/writing-stories/naming-components-and-hierarchy#sorting-stories" rel="noopener ugc nofollow" target="_blank">配置想要的分类</a>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="cf72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第<code class="fe nx ny nz no b">11</code>行硬编码了侧边栏的层次顺序。<code class="fe nx ny nz no b">'Example'</code>为一级订单，<code class="fe nx ny nz no b">['Introduction', 'Button', 'Header', 'Page']</code>为二级订单。</p><p id="d8c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nx ny nz no b">options</code>部分固定侧边栏的排序顺序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/f3ce4a96289a472fdc3322e3cdf7bee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bd7wITvcJGc_n5BHIIRQnQ.png"/></div></div></figure><p id="f630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了宾语，<code class="fe nx ny nz no b">storySort</code>还可以带一个功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="0fea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码产生了一个逆序的侧边栏:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/ecc9686d7a5f7c0282d83abea4c137fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bdTFP7OH33hzh7gWLbyNgg.png"/></div></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="681f" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="e20f" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">自从故事书6.0以来，我们已经探索了新的特性。它更容易使用，功能更丰富。</p><p id="43e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你会试一试吗？</p><p id="86f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，你可以试试<a class="ae ky" rel="noopener ugc nofollow" target="_blank" href="/meet-chromatic-a-cloud-based-toolchain-for-storybook-f76d9b2b6f24"> Chromatic，一个基于云的故事书工具链</a>。</p><p id="4b7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。我希望这有所帮助。如果你有兴趣，可以看看<a class="ae ky" href="https://jenniferfubook.medium.com/jennifer-fus-web-development-publications-1a887e4454af" rel="noopener">我的其他媒体文章</a>。</p></div></div>    
</body>
</html>