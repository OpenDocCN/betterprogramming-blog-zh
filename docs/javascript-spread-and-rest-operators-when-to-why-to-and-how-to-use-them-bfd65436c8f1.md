# JavaScript Spread 和 Rest 操作符:何时使用、为何使用以及如何使用

> 原文：<https://betterprogramming.pub/javascript-spread-and-rest-operators-when-to-why-to-and-how-to-use-them-bfd65436c8f1>

## 理解两个最有用的 JavaScript 特性

![](img/975819309f2343b20976a22c0ca0e48b.png)

照片由[斯科特·韦伯](https://unsplash.com/@scottwebb?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/spread?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄

Ecmascript 在几年前引入了 rest 和 spread 操作符。这是一个强大的工具，帮助我们的代码更加简洁和干净。

然而，一开始并不容易理解它是如何工作的，以及它们没有相同名称的主要原因是什么。

在这篇博文中，我将解释它的命名，它是如何工作的，以及在什么情况下它可以节省时间。

# 分配快捷方式

在我们讨论 rest 操作符之前，您需要理解一个新的变量赋值方法来缩短代码声明。

它包括在赋值的声明部分使用数组或对象。

代码如下所示:

如您所见，我们正在创建一个数组，直接在赋值部分命名索引。这段代码实际上是一个快捷方式，与下面的代码相同:

如果这段代码非常简单，那么当数组中有十几个条目时，它可能会有点长，因此会很复杂。

对象也是如此。代码如下:

数组的唯一区别是命名非常重要，因为我们是从对象的键中提取对象的。

如果出于某种原因，您需要更改名称(它可能是一个重复的键)，您可以使用`:`操作符来更改名称。这里有一个例子:

正如你所看到的，我们有一个复制的红色键，我们把它分配给了一个`frenchRed`变量和一个`belgianRed`变量。

如果您认识到这一点，现在就可以开始下一部分关于 rest 操作符的内容了，它使用了这个变量赋值方法。

# rest 运算符

名称选择得很明智，rest 操作符是一种选择尚未赋值的其余数据的方法。

这个操作符使用三个点`...`作为符号来告诉 JavaScript 解析器我们正在使用 rest 特性。

但是有一点理解起来非常重要:rest 操作符只用于 JavaScript 代码的赋值部分。我们在前一章中看到了新的赋值方法，但是将 rest 和赋值联系起来的重要性将在后面讨论。

rest 操作符从特性介绍开始就对数组起作用，稍后对对象起作用。如果您设法让它在其他 JavaScript 类型上工作，您正在使用强制，我建议您不要使用。但这可能是另一篇博文的内容。

现在基本的东西都好了，让我们来看看它看起来怎么样的一些代码:

正如你在前面的代码中看到的，赋值与第一章相同，但是我们添加了一个带有三个点`...`的变量名，而不是剩下的所有元素。

这将告诉 JavaScript 解析器在第一次赋值时创建一个数组，在第二次赋值时创建一个对象。

# 为什么我们需要 rest 操作符？

我们主要需要这个操作符为特定的行为提取数组的一部分，并将剩余部分用于其他事情。

想象一下，你有一个阵列，里面有一个队的每个足球运动员，你想把守门员和场上队员分开，这样你就可以给他们发出全力进攻的指令。您可以使用以下代码来实现:

当然，如果你想让一个防守队员留在场上，你可以选择两个项目:

您可以在赋值中添加尽可能多的变量声明，但是不能跳过 rest 参数中的一些变量。为此，您将需要我们稍后将看到的传播方法。

对于对象，当您想要从要转发的对象中移除元素时，rest 操作符非常有用。

假设您正在开发一个 Node.js 服务来管理用户，并且您希望向客户端发送来自对象的所有内容，除了密码和密码的 salt...在这种情况下，rest 运算符将帮助您。

代码如下:

这样，您就可以简单地根据客户端的请求返回正确的数据

# 扩展运算符

像 rest 操作符一样，spread 操作符也使用三个点`...`作为语法。

区别的方法是理解扩展操作符将在变量赋值的操作部分。

目标与 rest 操作符非常相似，但是我们不是恢复变量的其余部分，而是将另一个变量的其余部分添加到一个声明中。

代码说得更好，下面是它如何工作的一个例子:

在前面的例子中，我们用 rest 操作符组合了两个对象。如果还不清楚，这里有一个例子可以帮助你。

该语法不是有效的 JavaScript，但它说明了幕后所做的事情。

正如在这个例子中所看到的，使用 spread 就像是从变量中去掉了括号。因为它在 JavaScript 中是无效的，我们需要把它放在另一个数组中，同时复制一个数组。

在数组中，rest 操作符的位置非常重要，因为它将元素放置在指定的位置。

下面是一个例子:

在前一个示例中，我的数组中还有另一个项，它是非扩展操作符数据。如果你想用一个酉值来完成你的对象，这是一个完全有效的方法。它可以是一个数组，包含最后一次执行的结果，以及之前的结果。

对于对象，spread 运算符的工作原理相同。然而，由于对象是键值项目，顺序并不重要，但是您需要确保您的键没有重复，否则它们将被删除。

这里有一个例子:

正如您在前面的示例中看到的，在出现重复键的情况下，spread 操作符的位置非常重要。

和数组的情况一样，spread 操作符从对象中删除了大括号，但是由于它是无效的语法，我们将它放回另一个对象中，同时复制它。

# 我们什么时候需要扩展操作符？

正如我们在前面的一个例子中看到的，spread 操作符主要用于合并来自不同源的数组，或者在使用对象时使用默认的键/值。

在开发 JavaScript 应用程序时，您可能会发现许多其他用法。

# 结合休息和伸展等等

因为它的 rest 和 spread 不在赋值的同一个部分，所以可以在同一行代码中组合使用它们。然而，你应该注意不要用这种方式来增加代码的可读性:这将会适得其反。

您还可以在函数返回时应用 spread 运算符，只要返回的值与数组或对象匹配，具体取决于您的用途。

这里有一个例子:

# 结论

Rest 和 spread 操作符是非常强大的特性，从今天开始，您可以将它们应用到您的 web 应用程序中。

如果一开始有点难以理解，它会让你的代码更干净、更健壮。

```
**Want to Connect?**If you want to learn more about JavaScript and React, feel free to follow me on [Twitter](https://twitter.com/brunosabot).
```