<html>
<head>
<title>How To Work With SVN Using Git</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Git与SVN一起工作</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-work-with-svn-using-git-34f1d7a5152c?source=collection_archive---------5-----------------------#2021-03-19">https://betterprogramming.pub/how-to-work-with-svn-using-git-34f1d7a5152c?source=collection_archive---------5-----------------------#2021-03-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b076" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一种集成Git和SVN库的新方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/6acdccc80d1ba65492d962fa5f79de38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*ZYgbaVeQkOT1n2gPew9-Nw.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">在知识共享许可下使用的徽标。作者照片。</p></figure><p id="a15b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">自2005年首次推出以来，Git获得了巨大的人气。事实上，Git现在占到了VCS使用量的70%左右(T3)。在这篇文章中，我将描述作为一个Git用户与一个<a class="ae lq" href="https://subversion.apache.org/" rel="noopener ugc nofollow" target="_blank"> SVN </a>库交互的一些选项，以及每种选项的优缺点。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="4418" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">1.git-svn</h1><p id="0289" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">git-svn是git用户与Git仓库交互的专用工具。它通过向SVN后端提供Git前端来工作。使用git-svn，您可以在本地存储库上使用git命令，所以就像使用普通的Git一样。然而，在后台，相关的SVN命令被发送到服务器。</p><h2 id="62f5" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">设置</h2><p id="f551" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">一旦安装了git-svn，您就可以使用以下命令来检查svn存储库:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="fa7a" class="mv lz it ni b gy nm nn l no np">git svn clone &lt;remote URL for SVN repo&gt;</span></pre><p id="0d5a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从现在开始，您可以通过普通的Git命令与存储库进行交互:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="4978" class="mv lz it ni b gy nm nn l no np">git add foo<br/>git push<br/>etc</span></pre><p id="1700" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这对于小的存储库来说工作得很好，但是对于更大的存储库来说，可能会非常慢。如果不是<a class="ae lq" href="https://stackoverflow.com/questions/3919962/speeding-up-the-initial-git-svn-fetch" rel="noopener ugc nofollow" target="_blank">个月</a>的话，初次结账可能需要几天！加快速度的一个方法是只获取最新的修订版，而不是所有的历史。</p><p id="2221" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这可以通过以下方式实现:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="eb52" class="mv lz it ni b gy nm nn l no np">git svn init<br/>git svn fetch -r&lt;revision&gt; &lt;remote URL for SVN repo&gt;</span></pre><p id="352a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这样会快很多。但是如果存储库很复杂，可能还是会有问题。如果对你有用，那太好了！然而，我在一个非常复杂的回购中遇到了目录丢失的问题，所以我必须找到另一个解决方案。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="b9b7" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">2.SVN在饭桶里</h1><p id="ef9a" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">如前所述，git-svn并不适合我，所以我需要另一个解决方案。完全切换到SVN不是一个选项，因为我发现我可以更有效地使用Git。</p><p id="6b2d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="nq">注意:我也是Tower Git客户端的忠实粉丝。要了解更多信息，你可以阅读我关于</em> <a class="ae lq" href="https://codeburst.io/supercharge-your-git-flow-with-tower-c5dc22494eba" rel="noopener" target="_blank"> <em class="nq">如何用塔</em> </a> <em class="nq">增强你的工作流程的评论。</em></p><p id="d9bd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我决定简单地将SVN存储库嵌入Git存储库中。我与远程存储库的所有交互都是通过SVN命令完成的，我所有的本地开发工作都是使用Git和Tower完成的。</p><h2 id="47c3" class="mv lz it bd ma mw mx dn me my mz dp mi ld na nb mk lh nc nd mm ll ne nf mo ng bi translated">设置</h2><p id="5c6b" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">要在Git repo中设置SVN repo，请执行以下操作:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="6363" class="mv lz it ni b gy nm nn l no np">mkdir &lt;git dir&gt; &amp;&amp; cd &lt;git dir&gt;<br/>git init                         <br/>svn co &lt;remote URL for SVN repo&gt; &lt;svn dir&gt;</span></pre><p id="4f73" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将创建一个名为<code class="fe nr ns nt ni b">&lt;git dir&gt;</code>的Git存储库，其中包含一个名为<code class="fe nr ns nt ni b">&lt;git dir&gt;/&lt;svn dir&gt;</code>的SVN存储库。</p><p id="b169" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们创建一个<code class="fe nr ns nt ni b">.gitignore</code>文件来忽略这个目录。这是一个隐藏的目录，SVN用它来做内务。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="94de" class="mv lz it ni b gy nm nn l no np">cd &lt;git dir&gt;<br/>echo ".svn" &gt; .gitignore</span></pre><p id="12b8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，我们向Git存储库添加并提交我们的更改。我分两步做到这一点:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="ea7e" class="mv lz it ni b gy nm nn l no np">git add .gitignore<br/>git commit -m "Ignore .svn folder"<br/>git add .<br/>git commit -m "SVN initial commit"</span></pre><p id="1621" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从现在开始，我使用Git在本地完成所有的开发工作，这给了我Git提供的所有优势。我定期从SVN更新信息，了解同事们的变化:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="3f66" class="mv lz it ni b gy nm nn l no np">cd &lt;svn dir&gt;<br/>svn up<br/>git add .<br/>git commit -m "Update to SVN revision 1234"</span></pre><p id="bd7f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">同样，当我准备将我的本地更改发送到SVN时:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="7df9" class="mv lz it ni b gy nm nn l no np">cd &lt;svn dir&gt;<br/>svn add &lt;some file I added&gt;<br/>svn commit -m "Fixed bug blah"</span></pre><p id="e099" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将我所有的本地更改提交到远程SVN服务器。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="fb06" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">结论</h1><p id="72ea" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">这可能听起来像一个笨重的工作流程，但它工作得出奇的好！我的大部分工作都是在Git中完成的，必须切换到SVN来发送对共享存储库的更改，这迫使我对自己的行为格外小心。另一个优势是工作流或客户端-服务器通信不会变慢。</p><p id="bb50" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果有人经历过类似的问题，并有解决方案的想法，我很乐意在评论中阅读它们。</p></div></div>    
</body>
</html>