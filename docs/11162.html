<html>
<head>
<title>The Full-Stack PHP Developers’ Setup for macOS Monterey</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向macOS Monterey的全栈PHP开发人员设置</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/full-stack-developers-setup-macos-monterey-2de8195d6178?source=collection_archive---------2-----------------------#2022-02-23">https://betterprogramming.pub/full-stack-developers-setup-macos-monterey-2de8195d6178?source=collection_archive---------2-----------------------#2022-02-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6d31" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解配置开发环境的工具</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a04705512e1462133d023cf6964dcca0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8Seq32wqymOl-u5R.jpg"/></div></div></figure><p id="9626" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本文背后的主要思想是为希望安装/配置全栈开发所需的所有工具的开发人员开辟一条清晰的道路。本指南中的一些步骤是专门针对Drupal开发的，但是如果有人感兴趣，我们会指出来。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="fcda" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">1.命令的</h1><p id="e384" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">作为开发人员，我们需要安装以下工具；Xcode、brew、git、curl、vim和nvm。</p><p id="0a2c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Xcode 是一个包，为git或gcc等开发者提供了一些非常有用的命令行工具。</p><p id="a753" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">家酿</strong>是一个软件包管理器，使安装过程变得更快更容易。通过使用自制软件，我们可以安装一些其他重要的工具，如vim(编辑文件)、git(以便正确管理版本)和curl(主要用于安装)。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="3246" class="mw lv iq ms b gy mx my l mz na">xcode-select --install</span><span id="84f8" class="mw lv iq ms b gy nb my l mz na">/bin/bash -c "$(curl -fsSL <a class="ae nc" href="https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh</a>)"</span><span id="4501" class="mw lv iq ms b gy nb my l mz na"><br/>brew install vim<br/>brew install git<br/>brew install curl</span></pre><p id="23d0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所有开发人员都需要一个文本编辑器，所以安装一个非常重要。Atom和sublime是不错的选择，但我使用Visual Studio代码。在文章的最后，我将写一些对VSC有用的扩展。对于终端的选择，我们有Hyper、iTerm2或常规终端，但在本指南中，我们将使用iTerm。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="5a00" class="mw lv iq ms b gy mx my l mz na">brew install --cask iterm2<br/>brew install --cask visual-studio-code</span></pre><p id="460f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">安装Visual Studio代码后，运行应用程序并在内部按CMD+SHIFT+P，在路径中搜索<em class="nd">安装代码命令。通过单击此选项，我们可以通过终端使用VSC，正如我们将在本指南中使用的那样。</em></p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="119d" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">2.结节</h1><p id="a926" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">我们将使用nvm来安装节点，安装nvm后，按照我的brew信息中提供的信息来安装节点。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d982" class="mw lv iq ms b gy mx my l mz na">brew install nvm <br/>brew info nvm <br/>nvm install 12.11.1 #Node version of choice</span></pre></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="f938" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">3.街头流氓</h1><p id="e630" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">我们将开始使用brew中的<code class="fe ne nf ng ms b">httpd</code>，但首先，我们需要使用以下命令停止<code class="fe ne nf ng ms b">apachectl</code>并卸载它:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="6581" class="mw lv iq ms b gy mx my l mz na">sudo apachectl stop<br/>sudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist 2&gt;/dev/null</span></pre><p id="83e6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后我们用brew安装<code class="fe ne nf ng ms b">httpd</code>，安装后有一些有用的命令我们需要知道，比如启动，停止，重启，获取错误日志。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9841" class="mw lv iq ms b gy mx my l mz na">brew install httpd<br/>brew services start httpd<br/>brew services stop httpd<br/>brew services restart httpd<br/>tail -f /usr/local/var/log/httpd/error_log</span></pre><p id="b9f9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">安装后，我们需要配置一些文件，为此，我们将使用visual studio，所以我们建议已经完成了该部分的设置。如果没有，任何文本编辑器都可以。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="8b0a" class="mw lv iq ms b gy mx my l mz na">code /usr/local/etc/httpd/httpd.conf</span></pre><p id="81c9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">找到写着听8080的那一行，改成听80。</p><p id="1297" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们将DocumentRoot从<code class="fe ne nf ng ms b">/usr/local/var/www</code>更改为<code class="fe ne nf ng ms b">/Users/your_user/Sites</code>，并对下面的目录标签进行相同的更改。</p><p id="dcc1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然后，我们将<code class="fe ne nf ng ms b">AllowOverride</code>从None改为All，并取消对<code class="fe ne nf ng ms b">rewrite_module</code>的注释以启用它。</p><p id="9937" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将改变用户和组线，这样我们就不会在将来遇到权限问题。将<code class="fe ne nf ng ms b">User</code>换成<code class="fe ne nf ng ms b">your_user</code>并分组给员工。</p><p id="4442" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe ne nf ng ms b">ServerName</code>行也需要取消注释，值应该是localhost。</p><p id="59c7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在接下来的步骤中，我们需要创建一个Sites文件夹来存储我们所有的站点。<code class="fe ne nf ng ms b">mkdir ~/Sites</code>。在这之后，我们将创建一个<code class="fe ne nf ng ms b">index.html</code>文件，并写一行简单的代码来测试是否一切正常。还有，记得重启<code class="fe ne nf ng ms b">httpd</code>。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="43b3" class="mw lv iq ms b gy mx my l mz na">echo “&lt;h1&gt; Apache config works!&lt;/h1&gt;” &gt; ~/Sites/index.html<br/>brew services stop httpd<br/>brew services start httpd</span></pre><p id="578a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">提示:如果不起作用，请再次检查用户。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="52f1" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">4.数据库ˌ资料库</h1><p id="dd16" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">作为我们的数据库，我们使用的是<a class="ae nc" href="https://mariadb.com/" rel="noopener ugc nofollow" target="_blank"> MariaDB </a>，它基本上是MySQL，但更容易通过brew安装。运行以下命令:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9849" class="mw lv iq ms b gy mx my l mz na">brew update<br/>brew install mariadb<br/>brew services start mariadb</span></pre><p id="be81" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我们将更改MySQL服务器密码，在下面的过程中，对每个选项按enter键，直到它要求输入密码，我建议使用像root这样简单的密码。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="e1f1" class="mw lv iq ms b gy mx my l mz na">sudo /usr/local/bin/mysql_secure_installation</span></pre><p id="3643" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">安装MySQL后，建议安装一个与数据库交互的接口，有几个不错的选择，如<a class="ae nc" href="https://tableplus.com/" rel="noopener ugc nofollow" target="_blank"> TablePlus </a>或<a class="ae nc" href="https://www.sequelpro.com/" rel="noopener ugc nofollow" target="_blank"> Sequel Pro </a>。在这种情况下，我将使用TablePlus。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="783c" class="mw lv iq ms b gy mx my l mz na">brew install — cask tableplus<br/>OR<br/>brew install — cask sequel-pro</span></pre><p id="e06f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果Mac不信任它们中的任何一个，请前往“系统偏好设置”&gt;“安全和隐私”,然后点按“通用”面板中的“无论如何都要打开”按钮，以确认您想要打开或安装该应用程序。</p><p id="3fa5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">安装后，创建一个新的连接，使用任何名称，并保留默认设置，将密码更改为之前过程中使用的密码，例如root。</p><p id="676d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果我们需要停下<code class="fe ne nf ng ms b">mariadb</code>只管跑:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="1555" class="mw lv iq ms b gy mx my l mz na">brew services stop mariadb</span></pre></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="0b64" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">5.服务器端编程语言（Professional Hypertext Preprocessor的缩写）</h1><p id="769a" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">由于brew已经贬低了PHP的一些版本，我们将使用shivammathur的tap进行PHP安装。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="4573" class="mw lv iq ms b gy mx my l mz na">brew tap shivammathur/php</span></pre><p id="28e5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">安装不同的PHP版本，以便我们可以在每个版本之间切换:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="0a93" class="mw lv iq ms b gy mx my l mz na">brew install shivammathur/php/php@7.1<br/>brew install shivammathur/php/php@7.2<br/>brew install shivammathur/php/php@7.3<br/>brew install shivammathur/php/php@7.4<br/>brew install shivammathur/php/php@8.0</span></pre><p id="3894" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此时，建议关闭终端，以便更新所有配置。</p><p id="9f45" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们将链接所需的PHP版本，如果已经有一个版本安装运行:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="b589" class="mw lv iq ms b gy mx my l mz na">brew unlink php &amp;&amp; brew link — overwrite — force php@7.4</span></pre><p id="39a6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">否则:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="c690" class="mw lv iq ms b gy mx my l mz na">brew link — overwrite — force php@7.4</span></pre><p id="1790" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当链接一条消息时会弹出两个echo命令，复制并粘贴它们。之后，只需使用<code class="fe ne nf ng ms b">php -v</code>来检查安装的PHP版本。</p><p id="1553" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们已经安装了PHP，但是我们还需要为PHP配置apache。</p><p id="8df6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们用同样的命令再次编辑httpd文件。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="21e0" class="mw lv iq ms b gy mx my l mz na">code /usr/local/etc/httpd/httpd.conf</span></pre><p id="3821" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">找到“mod_rewrite”模块，并在下面添加以下模块:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="3082" class="mw lv iq ms b gy mx my l mz na">#LoadModule php7_module /opt/homebrew/opt/php@7.1/lib/httpd/modules/libphp7.so</span><span id="ab7d" class="mw lv iq ms b gy nb my l mz na">#LoadModule php7_module /opt/homebrew/opt/php@7.2/lib/httpd/modules/libphp7.so</span><span id="adfc" class="mw lv iq ms b gy nb my l mz na">#LoadModule php7_module /opt/homebrew/opt/php@7.3/lib/httpd/modules/libphp7.so</span><span id="42bd" class="mw lv iq ms b gy nb my l mz na">LoadModule php7_module /opt/homebrew/opt/php@7.4/lib/httpd/modules/libphp7.so</span><span id="738c" class="mw lv iq ms b gy nb my l mz na">#LoadModule php_module /opt/homebrew/opt/php@8.0/lib/httpd/modules/libphp.so</span></pre><p id="1223" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">只保留对应于当前使用的PHP版本的模块，在这种情况下，我们将使用7.4。</p><p id="44ec" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">目录索引目前只适用于HTML，所以我们需要将它们更新到PHP。搜索:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="6099" class="mw lv iq ms b gy mx my l mz na">&lt;IfModule dir_module&gt;</span><span id="38ef" class="mw lv iq ms b gy nb my l mz na">DirectoryIndex index.html</span><span id="7620" class="mw lv iq ms b gy nb my l mz na">&lt;/IfModule&gt;</span></pre><p id="cdd1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">并将其更改为:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="faa1" class="mw lv iq ms b gy mx my l mz na">&lt;IfModule dir_module&gt;</span><span id="13cd" class="mw lv iq ms b gy nb my l mz na">DirectoryIndex index.php index.html</span><span id="60f1" class="mw lv iq ms b gy nb my l mz na">&lt;/IfModule&gt;</span><span id="4dd3" class="mw lv iq ms b gy nb my l mz na">&lt;FilesMatch \.php$&gt;</span><span id="0192" class="mw lv iq ms b gy nb my l mz na">SetHandler application/x-httpd-php</span><span id="92dc" class="mw lv iq ms b gy nb my l mz na">&lt;/FilesMatch&gt;</span></pre><p id="8733" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最后，取消deflate模块行的注释。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="ecb5" class="mw lv iq ms b gy mx my l mz na">LoadModule deflate_module lib/httpd/modules/mod_deflate.so</span></pre><p id="7a09" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">此时，使用brew重启<code class="fe ne nf ng ms b">httpd</code>。我们现在将检查到目前为止一切是否正确。使用PHP函数，<code class="fe ne nf ng ms b">phpinfo();</code>我们可以检查apache正在获取的PHP版本。执行完echo命令后，转到localhost/info.php，您将看到您正在运行的php版本。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="fd55" class="mw lv iq ms b gy mx my l mz na">echo “&lt;?php phpinfo();” &gt; ~/Sites/info.php</span></pre><p id="3dd1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一些优秀的开发人员创建了一个脚本来在PHP版本之间切换，这不是强制性的，但如果需要多个PHP版本，这将节省一些时间:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9255" class="mw lv iq ms b gy mx my l mz na">curl -L https://gist.githubusercontent.com/rhukster/f4c04f1bf59e0b74e335ee5d186a98e2/raw/adc8c149876bff14a33e3ac351588fdbe8172c07/sphp.sh &gt; /opt/homebrew/bin/sphp</span><span id="342d" class="mw lv iq ms b gy nb my l mz na">chmod +x /opt/homebrew/bin/sphp</span></pre><p id="b0e9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下载后，它非常容易使用，只需运行<code class="fe ne nf ng ms b">sphp</code>和所需的PHP版本。在下面的例子中，我们将改为PHP 7.3。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="ceae" class="mw lv iq ms b gy mx my l mz na">sphp 7.3</span></pre><p id="c455" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一切就绪后做一个<code class="fe ne nf ng ms b">brew update</code>和<code class="fe ne nf ng ms b">brew updgrade</code>。应该就是这个了。如果有任何东西不工作，可能是因为需要一个<code class="fe ne nf ng ms b">httpd</code>重启。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="4e34" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">6.虚拟主机</h1><p id="a1ce" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">在这一部分中，我们将配置apache中已经存在的功能，称为虚拟主机，它允许同时测试多个站点。为此将使用Dnsmasq，我们将在后面讨论。</p><p id="b885" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过编辑前一个文件开始:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="5b4f" class="mw lv iq ms b gy mx my l mz na">code /opt/homebrew/etc/httpd/httpd.conf</span></pre><p id="d6ac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">查找并取消注释以下行:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d914" class="mw lv iq ms b gy mx my l mz na">LoadModule vhost_alias_module lib/httpd/modules/mod_vhost_alias.so</span><span id="8dd2" class="mw lv iq ms b gy nb my l mz na"># Virtual hosts<br/>Include /opt/homebrew/etc/httpd/extra/httpd-vhosts.conf</span></pre><p id="cf76" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下一步也是最后一步是配置<code class="fe ne nf ng ms b">vhosts</code>文件:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="eb6c" class="mw lv iq ms b gy mx my l mz na">code /opt/homebrew/etc/httpd/extra/httpd-vhosts.conf</span></pre><p id="406f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个文件中，我们基本上告诉apache在哪里可以找到不同的索引文件，以及我们将使用的服务器别名。我建议评论一下之前的配置。</p><p id="353a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于我的配置，我使用Drupal，所以有点复杂，但我将展示Drupal和常规配置:</p><p id="3e08" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> Drupal: </strong></p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="94fa" class="mw lv iq ms b gy mx my l mz na">&lt;VirtualHost *:80&gt;</span><span id="e158" class="mw lv iq ms b gy nb my l mz na">ServerName test<br/>ServerAlias *.test<br/>VirtualDocumentRoot /Users/your_user/Sites/site_directory/docroot<br/>ErrorLog “/private/var/log/apache2/site_directory.local-error_log”</span><span id="1bda" class="mw lv iq ms b gy nb my l mz na">CustomLog “/private/var/log/apache2/site_directory.local-access_log” common</span><span id="d1e8" class="mw lv iq ms b gy nb my l mz na">&lt;Directory “/Users/your_user/Sites/site_directory/docroot”&gt;</span><span id="5a2a" class="mw lv iq ms b gy nb my l mz na">AllowOverride All<br/>Require all granted<br/>Options FollowSymLinks</span><span id="df87" class="mw lv iq ms b gy nb my l mz na">&lt;/Directory&gt;</span><span id="ae10" class="mw lv iq ms b gy nb my l mz na">&lt;/VirtualHost&gt;</span></pre><p id="0b87" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir">其他:</strong></p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="e512" class="mw lv iq ms b gy mx my l mz na">&lt;VirtualHost *:80&gt;</span><span id="dfb2" class="mw lv iq ms b gy nb my l mz na">DocumentRoot “/Users/your_user/Sites/your_folder”<br/>ServerName *.test</span><span id="8bb3" class="mw lv iq ms b gy nb my l mz na">&lt;/VirtualHost&gt;</span></pre><p id="169e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">检查您使用的用户是否与我们之前在配置文件中使用的用户相同。Your_folder将是存储索引文件的文件夹。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="1433" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">7.Dnsmasq</h1><p id="b8a3" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">前面提到的Dnsmasq，会帮助我们动态改变主机。对于本指南，我们将使用<code class="fe ne nf ng ms b">.test</code>作为域。先从安装开始吧。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="6062" class="mw lv iq ms b gy mx my l mz na">brew install dnsmasq</span></pre><p id="0110" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们使用以下命令编辑配置文件:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="7e73" class="mw lv iq ms b gy mx my l mz na">echo ‘address=/.test/127.0.0.1’ &gt; /opt/homebrew/etc/dnsmasq.conf</span></pre><p id="980c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，我们只需启动它并将其添加到解析器中:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="6d54" class="mw lv iq ms b gy mx my l mz na">sudo brew services start dnsmasq</span><span id="f97f" class="mw lv iq ms b gy nb my l mz na">sudo mkdir -v /etc/resolver<br/>sudo bash -c ‘echo “nameserver 127.0.0.1” &gt; /etc/resolver/test’</span></pre><p id="403e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以通过ping any来尝试它是否设置正确。测试域，如test.test</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="105f" class="mw lv iq ms b gy mx my l mz na">ping test.test</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/1d65c873a4ca140f6aef90ee6517ce68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3qJeVe8djD5-JonU2Z8mYQ.png"/></div></div><p class="ni nj gj gh gi nk nl bd b be z dk translated">更正ping结果</p></figure><p id="0f7e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果ping成功，那么您已经完成了环境配置！</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="c685" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">8.Xdebug</h1><p id="347f" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">Xdebug 是一个非常有用的工具，用来调试PHP代码，我们将把它和Visual Studio代码一起使用，使web开发变得更加容易。唯一的问题是没有PHP的Xdebug的通用版本，根据PHP版本的不同，有几个版本。考虑到PHP 7.1+有两个Xdebug版本可用。</p><p id="dfc1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于PHP 7.1:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="714a" class="mw lv iq ms b gy mx my l mz na">sphp 7.1<br/>pecl uninstall -r xdebug<br/>pecl install xdebug-2.9.8</span></pre><p id="dafc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于PHP 7.2以上版本:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="14a6" class="mw lv iq ms b gy mx my l mz na">sphp 7.2<br/>pecl uninstall -r xdebug<br/>pecl install xdebug</span></pre><p id="db2e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在让我们配置<code class="fe ne nf ng ms b">xdebug</code>使其正常工作。首先删除<code class="fe ne nf ng ms b">php.ini</code>文件中的<code class="fe ne nf ng ms b">zend_extension=”xdebug.so”</code>行。我将使用PHP 7.4版，但每个版本都一样。请记住，如果您将来更改版本，则需要重复此步骤。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="4883" class="mw lv iq ms b gy mx my l mz na">code /opt/homebrew/etc/php/7.4/php.ini</span></pre><p id="7b59" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">创建一个新的配置文件来配置<code class="fe ne nf ng ms b">xdebug</code>:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9be2" class="mw lv iq ms b gy mx my l mz na">code /opt/homebrew/etc/php/7.4/conf.d/ext-xdebug.ini</span></pre><p id="5c81" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据PHP版本粘贴以下配置。</p><p id="c19c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">7.2之前的版本:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="6f3a" class="mw lv iq ms b gy mx my l mz na">[xdebug]</span><span id="149a" class="mw lv iq ms b gy nb my l mz na">zend_extension=”xdebug.so”<br/>xdebug.remote_enable=1<br/>xdebug.remote_host=localhost<br/>xdebug.remote_handler=dbgp<br/>xdebug.remote_port=9000</span></pre><p id="310f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">职位7.2</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="eb89" class="mw lv iq ms b gy mx my l mz na">[xdebug]</span><span id="6795" class="mw lv iq ms b gy nb my l mz na">zend_extension="xdebug.so"<br/>xdebug.mode=debug<br/>xdebug.start_with_request = yes<br/>xdebug.client_port = 9003 #Depending on the VSC configuration<br/>xdebug.idekey = VSCODE #Only needed if you are using VSC</span></pre><p id="0ca3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">重启<code class="fe ne nf ng ms b">httpd</code>并再次查看<code class="fe ne nf ng ms b">php.info</code>页面，你会在信息页面找到正确版本的Xdebug。</p><p id="57eb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要完成VSC配置，请转到VSC部分，我们将看到设置应用程序的所有不同步骤。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="3c34" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">9.密钥生成(ssh)</h1><p id="2a74" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">如果您想使用git repos或任何其他要求ssh密钥的工具，您将需要在接下来的步骤中创建一个公钥和私钥。</p><p id="6cfe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用<code class="fe ne nf ng ms b">ssh-keygen -t rsa</code>创建密钥。在生成过程中，它会要求一个位置，按enter键使用默认位置</p><p id="7e64" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">换句话说，根据你想要的安全性，你可以按回车键或键入一些东西，我通常把它留空。</p><p id="6e2e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">私钥将存储在。id_rsa下的ssh文件夹，而公共文件夹将被命名为id_rsa.pub。最后一个是我们将要复制和使用的文件夹。</p><p id="fefe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用以下命令将公钥复制到剪贴板并粘贴到需要的地方。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="e1d9" class="mw lv iq ms b gy mx my l mz na">pbcopy &lt; ~/.ssh/id_rsa.pub</span></pre></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="ee78" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">10.自定义调整</h1><h2 id="88af" class="mw lv iq bd lw nm nn dn ma no np dp me la nq nr mg le ns nt mi li nu nv mk nw bi translated"><strong class="ak"> 1。Visual Studio代码</strong></h2><p id="dc91" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">对VSC来说，如果你想遵循Xdebug指南，有一些有用的定制和一些强制性的步骤。</p><ul class=""><li id="0e80" class="nx ny iq kt b ku kv kx ky la nz le oa li ob lm oc od oe of bi translated">Xdebug——首先，要使Xdebug在VSC上运行，您需要安装PHP Debug扩展。在这之后，转到VSC的运行和调试部分，并点击生成一个新的启动。json。您应该检查端口是否与在Xdebug中配置的端口相同。该文件应如下所示:</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/95d1f02bbd0403e45c282fe2466b2a26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kp6B0YotxEEHBhNDmKLpZg.png"/></div></div></figure><p id="5f4f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要在任何地方添加断点，请转到“代码”&gt;“先决条件”&gt;“设置”，然后键入断点。选中允许在任何文件中设置断点。</p><ul class=""><li id="1da9" class="nx ny iq kt b ku kv kx ky la nz le oa li ob lm oc od oe of bi translated">有用的扩展:美化，括号对着色，Drupal语法高亮显示(仅当使用Drupal时)，ESLint，Git历史，GitLens，高亮匹配标记，更漂亮-代码格式化程序，彩虹括号，Stylelint</li></ul><h2 id="e3b8" class="mw lv iq bd lw nm nn dn ma no np dp me la nq nr mg le ns nt mi li nu nv mk nw bi translated">2.<strong class="ak">外壳</strong></h2><p id="f589" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">使用以下命令显示finder和终端中的隐藏文件。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="2c5f" class="mw lv iq ms b gy mx my l mz na">defaults write com.apple.Finder AppleShowAllFiles true</span></pre><p id="caea" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">转至Iterm2 &gt;安装外壳集成</p><p id="7a7c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这之后，剩下的唯一事情就是让航站楼更有吸引力。以下链接是实现这一目标的不同方法，请选择您最喜欢的。</p><ul class=""><li id="7ea2" class="nx ny iq kt b ku kv kx ky la nz le oa li ob lm oc od oe of bi translated"><a class="ae nc" href="https://github.com/mathiasbynens/dotfiles" rel="noopener ugc nofollow" target="_blank">https://github.com/mathiasbynens/dotfiles</a></li><li id="4d9a" class="nx ny iq kt b ku oh kx oi la oj le ok li ol lm oc od oe of bi translated"><a class="ae nc" href="https://github.com/ohmyzsh/ohmyzsh" rel="noopener ugc nofollow" target="_blank">https://github.com/ohmyzsh/ohmyzsh</a></li></ul></div></div>    
</body>
</html>