<html>
<head>
<title>Do Faster Development and Testing on Kubernetes Apps With Telepresence</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">借助网真，在Kubernetes应用上进行更快的开发和测试</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/do-faster-development-and-testing-on-kubernetes-apps-with-telepresence-b7eac604dca4?source=collection_archive---------7-----------------------#2021-06-28">https://betterprogramming.pub/do-faster-development-and-testing-on-kubernetes-apps-with-telepresence-b7eac604dca4?source=collection_archive---------7-----------------------#2021-06-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5236" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Telepresence将您的代码更改即时部署到Kubernetes集群中</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1a301e800837b1ca6f7742734f96c8bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XlmgpVy_c9jQmYf1SEbpBA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自<a class="ae ky" href="https://www.pexels.com" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae ky" href="https://www.pexels.com/fr-fr/@olly" rel="noopener ugc nofollow" target="_blank">安德里亚·皮亚卡迪奥</a>拍摄的照片。</p></figure><p id="7909" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来设定场景。</p><p id="673b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您目前正在开发一个新的应用程序。为了利用您闪亮的新云架构，您刚刚<a class="ae ky" href="https://faun.pub/spawning-an-autoscaling-eks-cluster-52977aa8b467" rel="noopener ugc nofollow" target="_blank">创建了一个AWS EKS集群</a>，您想好好利用它！</p><div class="lv lw gp gr lx ly"><a href="https://faun.pub/spawning-an-autoscaling-eks-cluster-52977aa8b467" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">产生一个自动缩放的EKS星团</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">让您的EKS集群真正富有弹性</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">faun.pub</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="7763" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，您将应用程序打包成一个容器。然后，您在本地运行它来运行一些测试，但是很快您意识到这还不够。毕竟，你的应用程序应该与大量的其他服务进行通信，你没有能力在本地运行所有的服务。</p><p id="2e43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，您开始考虑在本地构建您的容器，对其进行标记，然后将其部署为Kubernetes pod。在集群内部，您的pod可以访问这些其他外部服务，并获得更真实的运行时的额外好处。</p><p id="b8d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是在几次尝试之后，你很快意识到这个过程是缓慢的，繁琐的，并且没有效率。每次代码更改都意味着在Kubernetes中一次又一次地重新打包和部署您的容器。呃。真是浪费时间！</p><p id="f3a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您最终说服自己，在笔记本电脑上进行本地测试，虽然仍然是一个一般的解决方案，但毕竟不是那么糟糕。尽管您的笔记本电脑不是一个好的测试环境，但是您需要快速发布特性。</p><p id="56a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应该有更好的办法！</p><p id="32d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将回顾市场上可用的一些工具<strong class="lb iu">，</strong>告诉你哪一个显然是最好的，并教你如何使用它来改善你的开发体验。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="73aa" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">目录</h1><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="0905" class="nr mv it nn b gy ns nt l nu nv">1. The Perfect Solution</span><span id="5cca" class="nr mv it nn b gy nw nt l nu nv">2. Kubernetes Application Development Tools</span><span id="87f6" class="nr mv it nn b gy nw nt l nu nv">3. Using Telepresence for Fast Development Loop</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="63fb" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">完美的解决方案</h1><p id="d33e" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">好的第一步是描述我们的期望。我们说的是什么样的开发者体验？</p><p id="d5cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的理想工作流程定义如下:</p><ol class=""><li id="dd86" class="oc od it lb b lc ld lf lg li oe lm of lq og lu oh oi oj ok bi translated">我在Kubernetes上运行了一个复杂的应用程序，其中有许多pods，我想为其中一个pods中的容器开发代码。</li><li id="6505" class="oc od it lb b lc ol lf om li on lm oo lq op lu oh oi oj ok bi translated">我克隆了应用程序容器的代码报告，并修改了一堆代码。</li><li id="ab5b" class="oc od it lb b lc ol lf om li on lm oo lq op lu oh oi oj ok bi translated">很快，新代码就在我的Kubernetes pod中运行了。没有码头工人建筑之类的。我真的是说<em class="oq">瞬间</em>！</li></ol><p id="ca4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于基于解释器的流行语言(看看你，Python)，你有一个快速简单的解决方案:你进入pod并直接在容器内修改代码。但是让我们严肃点。没人会这么做，对吧？</p><p id="172c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看市场上可用的一些工具。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="6b08" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">Kubernetes应用程序开发工具</h1><p id="f717" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">下面的列表并不详尽，但它很能代表市场。</p><h2 id="f98d" class="nr mv it bd mw ou ov dn na ow ox dp ne li oy oz ng lm pa pb ni lq pc pd nk pe bi translated">KSync——重视简单性的最佳解决方案</h2><p id="a33a" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">KSync是一个非常简单的解决方案。它相当于Kubernetes pods的<a class="ae ky" href="https://en.wikipedia.org/wiki/Rsync" rel="noopener ugc nofollow" target="_blank"> rsync </a>。</p><p id="cd6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以配置该工具，使本地文件夹与Kubernetes pod中的远程目录保持同步。每次你对你的代码做一些改变，它几乎立即被重新部署到pod。</p><p id="22a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">举例来说，如果你正在做一些Python开发，这是真的。但是对于其他一些语言，您仍然需要重新构建或重启您的应用程序。</p><h2 id="4c58" class="nr mv it bd mw ou ov dn na ow ox dp ne li oy oz ng lm pa pb ni lq pc pd nk pe bi translated">斯卡福德——CICD球迷的最佳选择</h2><p id="d92f" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">我会谈到谷歌的<a class="ae ky" href="https://skaffold.dev/" rel="noopener ugc nofollow" target="_blank"> Skaffold </a>，但还有很多类似的解决方案，如<a class="ae ky" href="https://devspace.sh" rel="noopener ugc nofollow" target="_blank"> DevSpace </a>或微软的<a class="ae ky" href="https://draft.sh/" rel="noopener ugc nofollow" target="_blank"> Draft </a>。</p><p id="db50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">坦率地说，这些工具是运行在您笔记本电脑上的本地CICD解决方案。Skaffold检测到代码变更，重新构建容器，并将其部署到Kubernetes中。您可以使用YAML配置一个工作流来完成所有这些事情。</p><p id="17f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢CICD的管道，你一定会有宾至如归的感觉。但是坦率地说，我不想等我的容器构建好了再部署我的代码。我们的完美解决方案似乎很遥远！</p><h2 id="4490" class="nr mv it bd mw ou ov dn na ow ox dp ne li oy oz ng lm pa pb ni lq pc pd nk pe bi translated">网真——对每个人都是最好的</h2><p id="0683" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">Ambassador的<a class="ae ky" href="https://www.telepresence.io/" rel="noopener ugc nofollow" target="_blank">远程呈现</a>使您能够通过双向代理机制将本地开发机器无缝连接到集群。</p><p id="2371" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">远程呈现运行时:</p><ul class=""><li id="4dac" class="oc od it lb b lc ld lf lg li oe lm of lq og lu pf oi oj ok bi translated">您可以从您的笔记本电脑直接连接到集群中的每个Kubernetes工作负载，只需使用它们的Kube服务名，就像您在集群中一样！</li><li id="eddd" class="oc od it lb b lc ol lf om li on lm oo lq op lu pf oi oj ok bi translated">您可以拦截到Pod的流量，并将其重定向到您的笔记本电脑(例如，应用程序的本地运行版本)。</li></ul><p id="8432" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好像真的不错。但是怎么用呢？</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="6da3" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">将网真用于快速开发循环</h1><h2 id="4ee0" class="nr mv it bd mw ou ov dn na ow ox dp ne li oy oz ng lm pa pb ni lq pc pd nk pe bi translated">设置</h2><p id="9c6f" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">我们将使用示例<a class="ae ky" href="https://github.com/traefik/whoami" rel="noopener ugc nofollow" target="_blank"> Whoami </a>应用程序，这是一个简单的echo服务器，打印关于传入HTTP请求的信息。</p><p id="f987" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，构建应用程序:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="7061" class="nr mv it nn b gy ns nt l nu nv">$ git clone <a class="ae ky" href="mailto:git@github.com" rel="noopener ugc nofollow" target="_blank">git@github.com</a>:traefik/whoami.git<br/>$ cd whoami<br/>$ make image</span></pre><p id="0a3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，您可以将这个映像推送到您的容器注册中心。我个人在这个例子中使用了一个<a class="ae ky" href="https://kind.sigs.k8s.io/docs/user/quick-start/" rel="noopener ugc nofollow" target="_blank">类</a>集群，因此使用以下命令将映像直接加载到集群中非常容易:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="bc9e" class="nr mv it nn b gy ns nt l nu nv">kind load docker-image traefik/whoami --name=my-cluster</span></pre><p id="bada" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，在Kubernetes中安装应用程序，并检查它是否正在运行:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="213e" class="nr mv it nn b gy ns nt l nu nv">$ kubectl create deployment whoami --image=traefik/whoami --port=80<br/>$ kubectl expose deploy whoami --port=80<br/>$ kubectl get all -l=app=whoami</span><span id="e0bc" class="nr mv it nn b gy nw nt l nu nv">NAME                          READY   STATUS    RESTARTS   AGE<br/>pod/whoami-754f6db6d4-f54qc   1/1     Running   0          2m18s</span><span id="e51d" class="nr mv it nn b gy nw nt l nu nv">NAME             TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)   AGE<br/>service/whoami   ClusterIP   10.96.201.56   &lt;none&gt;        80/TCP    65s</span><span id="2353" class="nr mv it nn b gy nw nt l nu nv">NAME                     READY   UP-TO-DATE   AVAILABLE   AGE<br/>deployment.apps/whoami   1/1     1            1           2m18s</span><span id="9cd9" class="nr mv it nn b gy nw nt l nu nv">NAME                                DESIRED   CURRENT   READY   AGE<br/>replicaset.apps/whoami-754f6db6d4   1         1         1       2m18s</span></pre><p id="d3ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查询应用程序以确保:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="e8da" class="nr mv it nn b gy ns nt l nu nv">$ kubectl port-forward svc/whoami 8080:80<br/>$ curl <a class="ae ky" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">http://localhost:8080</a></span><span id="6ec1" class="nr mv it nn b gy nw nt l nu nv">Hostname: whoami<br/>IP: 127.0.0.1<br/>IP: ::1<br/>IP: 192.168.247.24<br/>IP: fe80::8cbd:8fff:fecb:396c<br/>RemoteAddr: 127.0.0.1:49938<br/>GET / HTTP/1.1<br/>Host: localhost:8080<br/>User-Agent: curl/7.68.0<br/>Accept: */*</span></pre><p id="864f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">停止你的端口转发，因为你不再需要它了！</p><h2 id="a746" class="nr mv it bd mw ou ov dn na ow ox dp ne li oy oz ng lm pa pb ni lq pc pd nk pe bi translated">运行远程呈现</h2><p id="0fb3" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">Telepresence需要您系统上的root权限来调整您的系统IP表规则。“为什么？”你可能会问。允许每个Kubernetes pod和服务都可以在本地解析。</p><p id="2851" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行以下命令设置网真:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="1dc2" class="nr mv it nn b gy ns nt l nu nv">$ telepresence connect</span><span id="e083" class="nr mv it nn b gy nw nt l nu nv">Launching Telepresence Daemon v2.3.0 (api v3)<br/>Connecting to traffic manager...<br/>Connected to context kind-telepresence (<a class="ae ky" href="https://127.0.0.1:40671" rel="noopener ugc nofollow" target="_blank">https://127.0.0.1:40671</a>)</span></pre><p id="60e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您应该能够直接从笔记本电脑查询所有集群服务，而无需运行端口转发或入口:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="3068" class="nr mv it nn b gy ns nt l nu nv">$ curl <a class="ae ky" href="http://whoami.default.svc:80" rel="noopener ugc nofollow" target="_blank">http://whoami.default.svc:80</a></span><span id="a0fc" class="nr mv it nn b gy nw nt l nu nv">Hostname: whoami-754f6db6d4-f54qc<br/>IP: 127.0.0.1<br/>IP: ::1<br/>IP: 192.168.247.26<br/>IP: fe80::5414:f4ff:fe5a:d652<br/>RemoteAddr: 192.168.247.25:53832<br/>GET / HTTP/1.1<br/>Host: whoami.default.svc<br/>User-Agent: curl/7.68.0<br/>Accept: */*</span></pre><p id="cc95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单说这个功能确实不错，但是我们可以做得更好。</p><h2 id="2dad" class="nr mv it bd mw ou ov dn na ow ox dp ne li oy oz ng lm pa pb ni lq pc pd nk pe bi translated">在本地进行更改</h2><p id="7318" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">我们想对应用程序进行一些更改。</p><p id="e431" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们告诉网真拦截所有定向到whoami服务的流量到您的笔记本电脑:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="4f50" class="nr mv it nn b gy ns nt l nu nv">$ telepresence intercept whoami</span><span id="699a" class="nr mv it nn b gy nw nt l nu nv">Using Deployment whoami<br/>intercepted<br/>    Intercept name    : whoami<br/>    State             : ACTIVE<br/>    Workload kind     : Deployment<br/>    Destination       : 127.0.0.1:8080<br/>    Volume Mount Point: /tmp/telfs-926534300<br/>    Intercepting      : all TCP connections</span></pre><p id="a4fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您有兴趣并检查部署和服务，您将会看到:</p><ul class=""><li id="6a6a" class="oc od it lb b lc ld lf lg li oe lm of lq og lu pf oi oj ok bi translated">whoami服务的目标端口现在是<code class="fe or os ot nn b">tx-80</code>而不是<code class="fe or os ot nn b">80</code>。</li><li id="ce78" class="oc od it lb b lc ol lf om li on lm oo lq op lu pf oi oj ok bi translated">现在有一个边车容器暴露了你的whoami舱中的<code class="fe or os ot nn b">tx-80</code>港。</li><li id="8f76" class="oc od it lb b lc ol lf om li on lm oo lq op lu pf oi oj ok bi translated">这个边车是一个代理，将流量重定向到您的笔记本电脑(更准确地说，到<code class="fe or os ot nn b">127.0.0.1:8080</code>)。</li></ul><p id="aa6d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe or os ot nn b">curl</code>，我们注意到我们的应用程序不再工作了:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="e490" class="nr mv it nn b gy ns nt l nu nv">$ curl <a class="ae ky" href="http://whoami.default.svc:80" rel="noopener ugc nofollow" target="_blank">http://whoami.default.svc:80</a><br/>curl: (52) Empty reply from server</span></pre><p id="c7a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里没有惊喜！您的请求在被重定向到您的笔记本电脑上的<code class="fe or os ot nn b">127.0.0.1:8080</code>之前，会被发送到Kubernetes内部的pod，但是那里还没有运行任何东西。</p><p id="a06c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在本地启动应用程序，并通过设置一些标志来更改默认消息:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="565b" class="nr mv it nn b gy ns nt l nu nv">$ go run app.go -port=8080 -name="Running on my laptop"</span><span id="e745" class="nr mv it nn b gy nw nt l nu nv">Starting up on port 8080</span></pre><p id="504c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们现在查询URL时，Kubernetes流量被重定向到您的本地修改应用程序:</p><pre class="kj kk kl km gt nm nn no np aw nq bi"><span id="34f8" class="nr mv it nn b gy ns nt l nu nv">$ curl <a class="ae ky" href="http://whoami.default.svc:80" rel="noopener ugc nofollow" target="_blank">http://whoami.default.svc:80</a><br/>Name: Running on my laptop<br/>Hostname: xps<br/>IP: 127.0.0.1<br/>IP: ::1<br/>...<br/>RemoteAddr: 127.0.0.1:37780<br/>GET / HTTP/1.1<br/>Host: localhost:8080<br/>User-Agent: curl/7.68.0<br/>Accept: */*</span></pre><p id="f572" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们正在看到我们的变化！现在，您可以对您的应用程序进行任意数量的代码更改，借助网真的代理魔力，就好像您的本地应用程序正在集群中运行一样。即时反馈循环！</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="c19b" class="mu mv it bd mw mx my mz na nb nc nd ne jz nf ka ng kc nh kd ni kf nj kg nk nl bi translated">结论</h1><p id="eb55" class="pw-post-body-paragraph kz la it lb b lc nx ju le lf ny jx lh li nz lk ll lm oa lo lp lq ob ls lt lu im bi translated">后端堆栈每年都在变得越来越厚，掌握它的全部内容是一个真正的挑战——特别是对于需要掌握Kubernetes的开发人员来说。</p><p id="e9bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kubernetes是已经太长的开发循环中的一个新阶段，这个循环就是进行代码更改、构建工件并部署它。远程呈现确实减轻了痛苦，并使其成为一种愉快、简单的体验。</p></div></div>    
</body>
</html>