# 无服务器时代使用 Kubernetes 的 4 个理由

> 原文：<https://betterprogramming.pub/4-reasons-to-use-kubernetes-in-the-serverless-era-cf77ea3b018b>

## 无服务器是 Kubernetes 的替代品吗？

![](img/837b4dcd97dd61e455b752adc92ed10d.png)

保罗·花冈在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片。

无服务器很酷，已经席卷了整个科技界。它发展得相当快，并以惊人的速度增长。其成功的原因是它对开发人员友好，易于运行微服务，以及较低的基础设施开销。

无服务器，或 FaaS(功能为服务)，是一种帮助您在动态管理的抽象服务器中运行代码的技术。云提供商提供运行无状态事件触发系统的供应，而无需担心底层基础设施。

一些流行的无服务器产品有 AWS Lamba、Google Cloud Functions 和 Azure Functions。

它是为可伸缩性而构建的，允许多次并行调用您的函数，并且您为执行次数而不是分配的资源付费。

[另一方面，Kubernetes](https://kubernetes.io/) 是一个开源的、健壮的、广泛使用的容器编排平台，它允许你在规模上运行你的应用程序。

它是 IaaS 和 PaaS 的混合体，允许你标准化你的应用程序，通过使用容器在任何地方运行。Kubernetes 运行在服务器上，你或者云平台管理底层基础设施。因此，存在一些基础设施管理开销。

这使得无服务器成为一个伟大的主张。它解决了各种我们以前从来没有想过的问题，它有它的用例，有它的客户群。但在你认为这将改变一切之前，请三思。它不是一种放之四海而皆准的技术。就 Kubernetes 而言，它在覆盖几乎所有内容的能力方面看起来很有希望。让我们找出方法。

# Kubernetes 是便携式的，可以在各种环境下工作

无服务器产品不同于云提供商。当您选择一种平台时，您会陷入某种形式的供应商锁定，因为所有平台本质上都互不相同，从一个平台转移到另一个平台并不容易。无服务器没有标准，每个提供商都可以选择他们的实现方式。

另一方面，Kubernetes 是为了便于携带。你可以从一个平台到另一个平台重用几乎所有的东西，因为 Kubernetes 在任何地方都是一样的。它是一个标准平台，有许多提供这种产品的提供商。这使得在 Kubernetes 上运行的代码可以移植。因此，不存在供应商锁定。它非常适合运行混合云模式的公司，在这种模式下，他们可以挑选平台，并根据成本等因素跨云移动应用程序。

# 并非一切都可以简化为短暂的功能

无服务器具有最小范围。它意味着短暂的功能，处理一些东西，不应该存储状态。无服务器不适合有状态的应用程序，并且通常迎合非常特殊的受众。在一个典型的应用程序中，并不是所有的东西都可以简化为一个短暂的函数。

另一方面，Kubernetes 为托管各种工作负载提供了很大的空间。从微服务到数据库再到 monoliths，你可以在 Kubernetes 上运行任何可以在容器上运行的东西。这使得组织拥有一个同质的环境，所有的东西都可以被简化为容器，所有的东西都可以在 Kubernetes 上运行。这是巨大的灵活性和力量。

# 我无法进行 A/B 测试和流量镜像

无服务器是开发人员部署他们想要在环境中运行的代码的近亲。它不适合希望谨慎管理其环境的组织。如果您需要更高级的部署选项，无服务器不适合您。如果使用 Kubernetes，您无法轻松完成蓝绿色部署、流量镜像、故障注入、基于内容的路由以及其他动态部署活动。

# 不是所有事情都能在 5 分钟内完成

无服务器有一些限制。您不能在其中运行长时间运行的函数。一切都需要在五分钟内完成。如果你计划从一个函数调用一个 WebSocket，处理消息，并把它们发送到一个队列，你不能用无服务器来做这些。大多数使用无服务器的组织还必须使用其他 IaaS 和 PaaS 产品，他们最终要管理一个异构环境。

有了 Kubernetes，就没有这些限制了。您可以轻松运行作业、CronJobs 和各种其他工作负载。这是一个强大的平台。这就是为什么组织仍然坚持 Kubernetes 和容器的一个很好的原因。

# 获胜者？

没有人！Kubernetes 和 serverless 之间没有任何真正的竞争。永远不会有。无服务器的意图从来不是取代传统的架构。它更多的是迎合对微服务更感兴趣的特定用户群。

另一方面，Kubernetes 允许以更好的方式管理传统架构。容器是开创性的，它遵循传统的做事方式。因此，您可以将大多数可以在服务器上运行的应用程序转换到 Kubernetes 上运行。

无服务器很酷，如果它适合您的使用情况，您应该使用它，但是认为它是传统架构的替代物和下一件大事是一个巨大的错误。无服务器标准是当务之急，开源社区需要介入并定义一个标准的无服务器框架来解决供应商锁定问题。

毕竟，是业务需求决定了您需要使用什么。光靠技术是不够的。无服务器和 Kubernetes 有他们的位置，如果在正确的情况下使用，他们都可以发光！

感谢阅读！我希望你喜欢这篇文章。