<html>
<head>
<title>SwiftUI Bar Charts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI条形图</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/swiftui-bar-charts-274e9fbc8030?source=collection_archive---------15-----------------------#2019-11-04">https://betterprogramming.pub/swiftui-bar-charts-274e9fbc8030?source=collection_archive---------15-----------------------#2019-11-04</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="80e9" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">用渐变创建美丽的形状</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/71df090b5bb817d07744acf0b3351a67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yor-YwN5ad07yby9WljhPA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">我们将实现什么</p></figure><p id="91f8" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">SwiftUI是镇上的话题。声明式UI模式将会继续存在，构建酷而棒的UI比以往任何时候都更容易。之前，我们实现了带有警告、选择器和渐变的<a class="ae lv" href="https://medium.com/better-programming/swiftui-alerts-pickers-and-gradients-29b9ee5ff8f3" rel="noopener">swift ui</a>。现在，该是一些自定义视图的时候了！</p><p id="2348" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">本文的目标是用SwiftUI构建条形图。为此，我们将使用SwiftUI形状和渐变。此外，我们将把不同的条形图形状绑定到分段选择器视图。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="02a8" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">先睹为快</h1><p id="5018" class="pw-post-body-paragraph kz la iu lb b lc mv jv le lf mw jy lh li mx lk ll lm my lo lp lq mz ls lt lu in bi translated">在我们深入研究SwiftUI实现之前，先看一下我们将要构建的内容:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj na"><img src="../Images/a066c38dcffaf54dc8689ddf98b98716.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/1*lLqS20OJrdToUDXgJlULiA.gif"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">声明:以上统计并不完全代表我的中等统计。</p></figure></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="73d7" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">履行</h1><p id="d168" class="pw-post-body-paragraph kz la iu lb b lc mv jv le lf mw jy lh li mx lk ll lm my lo lp lq mz ls lt lu in bi translated">首先，您需要在SwiftUI中创建新的Xcode项目。在您的<code class="fe nb nc nd ne b">ContentView</code>中添加以下代码:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nf ng l"/></div></figure><p id="4b3b" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">在上面的代码中，我们构建了一个<code class="fe nb nc nd ne b">ZStack</code>来添加视图。在里面，我们为<code class="fe nb nc nd ne b">Text</code>、<code class="fe nb nc nd ne b">Picker</code>和<code class="fe nb nc nd ne b">Horizontal Stack</code>设置了一个垂直堆栈。</p><p id="4f1f" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">两个状态<code class="fe nb nc nd ne b">pickerSelection</code>和<code class="fe nb nc nd ne b">barValues</code>是相关的。基于<code class="fe nb nc nd ne b">pickerSelection</code>值，相应的条形图值和形状被稍微调整(注意条形图的<code class="fe nb nc nd ne b">cornerRadius</code>是如何变化的)。</p><p id="8450" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">条形图使用一个水平堆栈来显示每个单个条形图视图，我们将在下面看到。</p><p id="c384" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">要更改SwiftUI中的分段选择器控件样式，我们需要在init方法中添加必要的<code class="fe nb nc nd ne b">UIKit</code>内容。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="3793" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">构建条形图视图</h1><p id="701a" class="pw-post-body-paragraph kz la iu lb b lc mv jv le lf mw jy lh li mx lk ll lm my lo lp lq mz ls lt lu in bi translated">为了构建我们的自定义栏视图，我们需要使用SwiftUI的<code class="fe nb nc nd ne b">Shape API</code>。支持多种形状，如<code class="fe nb nc nd ne b">Circle</code>、<code class="fe nb nc nd ne b">Capsule</code>、<code class="fe nb nc nd ne b">Rounded Rectangle</code>等。</p><p id="1794" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">下面给出了构建条形图视图的代码:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nf ng l"/></div></figure><p id="83d8" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这里，我们使用了两个与底部对齐的<code class="fe nb nc nd ne b">RoundedRectangles</code>(你也可以使用形状<code class="fe nb nc nd ne b">Capsule</code>)。一个充当容器，具有固定的高度，另一个具有基于它所保存的值的动态高度。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="8e26" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">用渐变填充自定义视图</h1><p id="43e2" class="pw-post-body-paragraph kz la iu lb b lc mv jv le lf mw jy lh li mx lk ll lm my lo lp lq mz ls lt lu in bi translated">我们可以通过添加渐变作为填充颜色来进一步美化我们的条形图。以下代码向<code class="fe nb nc nd ne b">BarView</code>添加了一个<code class="fe nb nc nd ne b">LinearGradient</code>:</p><pre class="kk kl km kn gu nh ne ni nj aw nk bi"><span id="339a" class="nl me iu ne b gz nm nn l no np">RoundedRectangle(cornerRadius: cornerRadius).fill(LinearGradient(gradient: Gradient(colors: [.purple, .red, .blue]), startPoint: .top, endPoint: .bottom))</span><span id="39b8" class="nl me iu ne b gz nq nn l no np">.frame(width: 30, height: value)</span></pre><p id="1365" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">作为回报，我们在SwiftUI预览中获得了新的条形图外观，如下所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nr"><img src="../Images/1ccd7fe537615df65dff39a22cbcfd7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/1*PxPuLmo3Q6tRY3-2X1OL2Q.gif"/></div></figure><p id="e4b5" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">使用SwiftUI 的<em class="ns">条形图的完整源代码可以在这个<a class="ae lv" href="https://github.com/anupamchugh/iowncode/tree/master/SwiftUIBarCharts" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>中获得。</em></p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h1 id="cfdb" class="md me iu bd mf mg mh mi mj mk ml mm mn ka mo kb mp kd mq ke mr kg ms kh mt mu bi translated">下一步是什么</h1><p id="2b07" class="pw-post-body-paragraph kz la iu lb b lc mv jv le lf mw jy lh li mx lk ll lm my lo lp lq mz ls lt lu in bi translated">使用SwiftUI构建条形图既快速又简单。接下来，我们将探索SwiftUI中其他很酷的图表:饼图、圆环图和折线图。</p><p id="9d96" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">这就结束了这一小段。我希望你喜欢读它。</p></div></div>    
</body>
</html>