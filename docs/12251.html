<html>
<head>
<title>GitFlow: A Quick Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GitFlow:快速指南</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/gitflow-quick-guide-54d4e24ba741?source=collection_archive---------4-----------------------#2022-05-22">https://betterprogramming.pub/gitflow-quick-guide-54d4e24ba741?source=collection_archive---------4-----------------------#2022-05-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="94bc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">轻松管理Git分支</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6c5533c6db3f6db238e6692b4c1687a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IiChGH5fw7UZpoKxtEd_Rg.jpeg"/></div></div></figure><p id="ead8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在源代码控制下工作是当前项目，主要是敏捷项目的必备实践。但是更重要的是制定一个定义良好的策略来管理您的源代码控制，这样您就可以提高您的生产力并达到您的里程碑。</p><p id="dbe6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我将把GitFlow作为管理Git分支的最著名的工作流之一来讨论。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><h1 id="9247" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">什么是GitFlow</h1><p id="2e80" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">GitFlow是一种管理Git分支的新颖策略。GitFlow策略处理两条主干:<strong class="kt ir"> <em class="mr">开发和掌握。</em> </strong></p><p id="35ba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">GitFlow策略定义了在项目生命周期的不同阶段起作用的不同类型的分支:</p><ul class=""><li id="1027" class="ms mt iq kt b ku kv kx ky la mu le mv li mw lm mx my mz na bi translated">开发阶段:开发在独立的<code class="fe nb nc nd ne b">feature</code>分支中完成。这个阶段的两个主角是<code class="fe nb nc nd ne b">develop</code>和<code class="fe nb nc nd ne b">by-feature-branches</code></li><li id="f940" class="ms mt iq kt b ku nf kx ng la nh le ni li nj lm mx my mz na bi translated">预发布阶段:准备下一次发布由<code class="fe nb nc nd ne b">release</code>分支机构负责。</li><li id="d11d" class="ms mt iq kt b ku nf kx ng la nh le ni li nj lm mx my mz na bi translated">上映阶段:唯一独特的演员是<code class="fe nb nc nd ne b">master</code>分公司。</li><li id="6686" class="ms mt iq kt b ku nf kx ng la nh le ni li nj lm mx my mz na bi translated">发布后阶段:由<code class="fe nb nc nd ne b">hotfix</code>分支机构保证。</li></ul><h1 id="d939" class="lu lv iq bd lw lx nk lz ma mb nl md me jw nm jx mg jz nn ka mi kc no kd mk ml bi translated">GitFlow CLI</h1><p id="61e8" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">git-flow CLI是一组git宏命令。在选择GitFlow策略时，它们非常有用。</p><p id="9bcf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">GitFlow允许您在更高的抽象层次上管理不同种类的分支。假设您有一个名为<code class="fe nb nc nd ne b">change_api_url</code>的热修复程序，您需要将它合并到<code class="fe nb nc nd ne b">master</code>和<code class="fe nb nc nd ne b">develop</code>中。使用标准的git命令，您需要编写以下命令:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="2627" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用git-flow CLI也可以做到这一点:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="fac0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用git-flow LCI的另一个优点是，前者会向您推荐一个符合GitFlow概念的标准文件夹结构，并且您可以为每个文件夹定制名称。这是在您执行命令时完成的:</p><pre class="kg kh ki kj gt nr ne ns nt aw nu bi"><span id="0578" class="nv lv iq ne b gy nw nx l ny nz">git flow init</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/7ea10a58b641c4959603ce5e8404405a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lnb0_bQJD1LMJEYC9IAoyw.png"/></div></div></figure><p id="abee" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">参考下面的命令结果，所有的特征都将创建在<code class="fe nb nc nd ne b">feature/</code>文件夹下，…</p><p id="0912" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">关于GitFlow以及如何安装它的更多信息，你可以去<a class="ae ob" href="https://danielkummer.github.io/git-flow-cheatsheet/" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><blockquote class="oc od oe"><p id="9f5b" class="kr ks mr kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated">如果你选择基本的git命令，我会推荐你在合并时使用<strong class="kt ir"><em class="iq">——</em></strong><code class="fe nb nc nd ne b"><em class="iq">no-ff</em></code><strong class="kt ir"><em class="iq"/></strong>选项，以保持一个干净的历史，并便于恢复。</p></blockquote><h1 id="cdf2" class="lu lv iq bd lw lx nk lz ma mb nl md me jw nm jx mg jz nn ka mi kc no kd mk ml bi translated">掌握</h1><p id="73b6" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">也称为<code class="fe nb nc nd ne b">main</code>或<code class="fe nb nc nd ne b">prod</code>。根据定义，对这个分支的每个提交都是一个生产发布，所以您可以配置您的DevOps服务器来自动启动一个新的发布到生产服务器，也就是连续交付。</p><blockquote class="oc od oe"><p id="f7c4" class="kr ks mr kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated">该分支始终反映生产就绪状态。</p></blockquote><p id="55a8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">仅允许从<code class="fe nb nc nd ne b">release</code>和<code class="fe nb nc nd ne b">hotfixes</code>分支合并到该分支。</p><p id="91bf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">最佳实践是，给这个分支中的每个合并赋予一个<code class="fe nb nc nd ne b">tag</code>，它对应于发布号。</p><h1 id="7b19" class="lu lv iq bd lw lx nk lz ma mb nl md me jw nm jx mg jz nn ka mi kc no kd mk ml bi translated">发展</h1><p id="19da" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated"><code class="fe nb nc nd ne b">integration-branch</code> <strong class="kt ir">亦称<em class="mr">。这是任何自动每夜构建的起点，也就是持续集成。</em></strong></p><blockquote class="oc od oe"><p id="405f" class="kr ks mr kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated">它反映了下一个版本的开发状态。</p></blockquote><p id="a791" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当<code class="fe nb nc nd ne b">develop</code>达到一个准备交付的稳定状态，并且下一个版本的所有计划的特性已经被开发并从他们自己的分支合并到<code class="fe nb nc nd ne b">develop</code>时。现在你可以决定平静地继续你的下一个版本。</p><p id="5a78" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从<code class="fe nb nc nd ne b">features</code>、<code class="fe nb nc nd ne b">hotfixes</code>和<code class="fe nb nc nd ne b">releases</code>接受到该分支的合并。</p><h1 id="efbf" class="lu lv iq bd lw lx nk lz ma mb nl md me jw nm jx mg jz nn ka mi kc no kd mk ml bi translated">特征</h1><p id="093d" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated"><code class="fe nb nc nd ne b">topics</code>又名<em class="mr">。</em></p><p id="dbcb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于每一个新的特性，你从<code class="fe nb nc nd ne b">develop</code>到<em class="mr">创建一个独立的分支。</em></p><blockquote class="oc od oe"><p id="8a1f" class="kr ks mr kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated">这种类型的分支用于为即将到来的遥远的未来版本开发新的特性。</p></blockquote><p id="0d1a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，一旦某个功能的开发完成，我们就决定将它嵌入到下一个版本中。我们首先将它合并到<code class="fe nb nc nd ne b">develop</code> <em class="mr">、</em> <strong class="kt ir"> <em class="mr"> </em> </strong>中，然后我们删除特征分支。</p><blockquote class="oc od oe"><p id="07c4" class="kr ks mr kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated">与develop和master不同，这些分支的生命周期总是有限的。</p></blockquote><p id="34cb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">特性分支应该与其他分支保持隔离。他们不应该接受来自任何其他分支的合并。因此它们只反映与当前主题相关的提交。</p><p id="001c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">特征仅合并到<code class="fe nb nc nd ne b">develop</code>中。</p><h2 id="95d5" class="nv lv iq bd lw oi oj dn ma ok ol dp me la om on mg le oo op mi li oq or mk os bi translated">GitFlow提示:</h2><p id="1ad5" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">要启动新功能:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="1e20" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要发布到远程:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="0c60" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要从遥控器拉取:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="54f7" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要完成一个特征:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><h1 id="e2e9" class="lu lv iq bd lw lx nk lz ma mb nl md me jw nm jx mg jz nn ka mi kc no kd mk ml bi translated">放</h1><p id="24c6" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">一旦<code class="fe nb nc nd ne b">develop</code>达到下一个版本的期望状态，意味着develop是稳定的并且包含所有下一个版本的特性。我们分出一个发布分支。</p><blockquote class="oc od oe"><p id="153b" class="kr ks mr kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated">发布分支支持新的产品发布的准备工作。它们允许小的错误修正和为你的发布准备元数据(版本号，构建日期等等)。</p></blockquote><p id="648b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">发布不应该接受来自其他分支的合并。</p><p id="0a9b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">发布合并为<code class="fe nb nc nd ne b">develop</code>和<code class="fe nb nc nd ne b">master</code> <strong class="kt ir"> <em class="mr">。</em> </strong>一旦做了，就应该删除。</p><p id="5264" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">请注意，<code class="fe nb nc nd ne b">develop</code>不能接受未来的发布分支，除非下一个发布分支被分支。</p><blockquote class="oc od oe"><p id="fae8" class="kr ks mr kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated">建议您用版本号命名您的分支，因为git-flow CLI将使用这个名称在<strong class="kt ir">主</strong>分支中创建一个同名的标记</p></blockquote><h2 id="0365" class="nv lv iq bd lw oi oj dn ma ok ol dp me la om on mg le oo op mi li oq or mk os bi translated">GitFlow提示:</h2><p id="354f" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">要创建新版本:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="7e37" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要发布到远程:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="db98" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从远程拉动</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="021b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要完成发布:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="c2ea" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不要忘记将创建的标签推送到遥控器</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><h1 id="67d5" class="lu lv iq bd lw lx nk lz ma mb nl md me jw nm jx mg jz nn ka mi kc no kd mk ml bi translated">修补程序</h1><p id="1885" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">当必须立即解决生产版本中的关键错误时，可以从标记生产版本的相应标签的<code class="fe nb nc nd ne b">master</code>中创建热修复分支。</p><p id="fd8d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">修补程序应该合并到<code class="fe nb nc nd ne b">master</code>和<code class="fe nb nc nd ne b">develop</code>中。正如我们在本文前面提到的，总是建议标记主提交。</p><blockquote class="oc od oe"><p id="d7b7" class="kr ks mr kt b ku kv jr kw kx ky ju kz of lb lc ld og lf lg lh oh lj lk ll lm ij bi translated">建议您用版本号命名您的分支，因为git-flow cli将使用这个名称在<code class="fe nb nc nd ne b"><em class="iq">master</em></code>分支中创建一个同名的标记</p></blockquote><h2 id="865d" class="nv lv iq bd lw oi oj dn ma ok ol dp me la om on mg le oo op mi li oq or mk os bi translated">GitFlow提示:</h2><p id="41be" class="pw-post-body-paragraph kr ks iq kt b ku mm jr kw kx mn ju kz la mo lc ld le mp lg lh li mq lk ll lm ij bi translated">要创建新的修补程序:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="ae29" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要发布到远程:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="0e35" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要从遥控器拉取:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="28cb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要完成修补程序:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="da9f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不要忘记将创建的标签推送到遥控器:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="np nq l"/></div></figure></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><p id="be8a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我希望你喜欢阅读这篇文章，并给你一些澄清，以了解著名的<a class="ae ob" href="https://nvie.com/files/Git-branching-model.pdf" rel="noopener ugc nofollow" target="_blank"> GitFlow图。</a></p></div></div>    
</body>
</html>