<html>
<head>
<title>6 Webpack Concepts for Advanced React Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向高级React开发人员的6个Webpack概念</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/6-webpack-concepts-for-advanced-react-developers-d016da2cad52?source=collection_archive---------5-----------------------#2021-04-21">https://betterprogramming.pub/6-webpack-concepts-for-advanced-react-developers-d016da2cad52?source=collection_archive---------5-----------------------#2021-04-21</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="0c23" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">帮助您理解从内部做出反应的概念</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/67a232c6d14fa32bfa7a2f017762a068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mjY2SSd3-k2i2EUWmnf-Vg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@brunnotozzo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Brunno Tozzo </a>在<a class="ae kz" href="https://unsplash.com/s/photos/package?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><p id="e4b6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们通常使用<code class="fe lw lx ly lz b">create-react-app</code>来搭建一个新的React应用程序，然后就到此为止。</p><p id="d6c5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">但是在幕后，许多图书馆都在努力确保一切正常运行。而<a class="ae kz" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> webpack </strong> </a>就是其中最重要的。</p><p id="4fca" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">今天，我们将深入探讨webpack，并尝试理解与<strong class="lc iv"> React开发</strong>相关的webpack的不同部分。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="3a9e" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">有什么问题？</h1><p id="4f69" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">我们知道我们的浏览器除了HTML、JavaScript和CSS什么都不懂。所以显而易见的问题是。</p><ul class=""><li id="e15c" class="ne nf iu lc b ld le lg lh lj ng ln nh lr ni lv nj nk nl nm bi translated">我们的浏览器如何理解其他文件，比如<code class="fe lw lx ly lz b">.jsx</code></li><li id="59cb" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated">所有不同的文件是如何加载到浏览器中的？</li><li id="054f" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated">我们的应用程序是如何捆绑的？</li><li id="e0df" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated">我们如何优化它们？</li></ul></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="85ba" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">拯救网络包</h1><p id="cc80" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">Webpack是来拯救我们的！这是最受欢迎的捆扎机，原因很明显！</p><p id="8ba4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> webpack </strong>所做的是将所有内容转换成<strong class="lc iv">浏览器可读的</strong>文件，如下图所示:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ns"><img src="../Images/cecf8d2f74bd7d6cf1dfceb987df2dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b5saGFapuUCZx9vSU19mpQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">来源:<a class="ae kz" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank">网络包</a></p></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="ff64" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">你为什么要在乎？</h1><p id="fb12" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">大多数时候你不会。但是webpack的知识可以在一些高级情况下帮助您:</p><ul class=""><li id="ab9a" class="ne nf iu lc b ld le lg lh lj ng ln nh lr ni lv nj nk nl nm bi translated">从头开始构建应用程序</li><li id="cc15" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated">性能优化</li><li id="32ff" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated">实现微前端</li></ul><p id="0628" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">一般来说，对捆绑过程有一个大致的了解会让你对自己的手艺更有信心，并了解生产系统中的错误。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="fbd7" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">Webpack如何工作</h1><p id="62cb" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">通常，webpack通过一个名为<code class="fe lw lx ly lz b">webpack.config.js</code>的文件进行配置。这是我们可以配置一切的地方！</p><p id="d5ae" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们从一个简单的配置文件开始，试着理解它的各个部分。</p><h2 id="e2a6" class="nt mi iu bd mj nu nv dn mn nw nx dp mr lj ny nz mt ln oa ob mv lr oc od mx oe bi translated">例子</h2><p id="00a5" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">以下是一个非常简单的webpack配置文件:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="ceb4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们来谈谈<code class="fe lw lx ly lz b">entry</code>和<code class="fe lw lx ly lz b">output</code>。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="6f05" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">1.进入</h1><p id="79d3" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated"><code class="fe lw lx ly lz b">entry</code>是你申请的切入点。这是webpack开始旅程的地方。我们知道我们的React应用程序就像一棵树。所有组件从<code class="fe lw lx ly lz b">App.js</code>开始延伸。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/6dc2ac1af0950d6d8510092e5839a01f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*N7I3ik50EHDisWCN33qVYw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者照片。</p></figure><p id="f23e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">但是我们的<code class="fe lw lx ly lz b">App.js</code>住在哪里呢？它存在于<code class="fe lw lx ly lz b">index.js</code>文件中，这就是为什么webpack通过<code class="fe lw lx ly lz b">index.js</code>进入应用程序，并创建一个依赖图来确定哪些文件需要首先加载。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="e031" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">2.输出</h1><p id="cb6c" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">这是另一个容易理解的概念。所有工作完成后，webpack创建一个包文件。在<code class="fe lw lx ly lz b">output</code>中，我们可以指定输出文件的<strong class="lc iv">名称</strong>和<strong class="lc iv">位置</strong>。</p><p id="c581" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">它也有其他用途。如果您想为版本管理的生产系统生成动态包名，您可以在这里完成！</p><p id="d081" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们更进一步，试着理解我们的<code class="fe lw lx ly lz b"><strong class="lc iv">.jsx</strong></code>或<code class="fe lw lx ly lz b"><strong class="lc iv">.css</strong></code>文件是如何处理的。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="9b6d" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">3.装货设备</h1><p id="bf34" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">加载器是webpack中一个非常重要的概念。他们就像编译器。Webpack检查特定类型的文件，并使用适当的加载程序来处理它们。</p><p id="dfba" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">loader</code>的典型配置如下:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="e9dd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，看<code class="fe lw lx ly lz b">module</code>部分。这需要一系列的规则。每个规则都有几个部分:</p><ul class=""><li id="e2d9" class="ne nf iu lc b ld le lg lh lj ng ln nh lr ni lv nj nk nl nm bi translated"><code class="fe lw lx ly lz b">test</code> - &gt;检查某种文件类型。它使用正则表达式。</li><li id="ee09" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated"><code class="fe lw lx ly lz b">use</code> - &gt;它指定了用于该特定文件类型的加载器列表。</li><li id="4de9" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated"><code class="fe lw lx ly lz b">include</code> - &gt;应该处理哪些文件。</li><li id="d67f" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated"><code class="fe lw lx ly lz b">exclude</code> - &gt;哪些不应该处理。</li></ul><p id="7e35" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有时我们需要不止一种类型的加载程序来加载一个特定的文件。一个很好的例子是加载<code class="fe lw lx ly lz b">CSS</code>文件。规则是:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="b176" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这里，<code class="fe lw lx ly lz b">css-loader</code>和<code class="fe lw lx ly lz b">style-loader</code>都用来处理文件。这里需要注意的一点是，这些加载程序的加载顺序是相反的。</p><p id="d900" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这意味着首先<code class="fe lw lx ly lz b">css-loader</code>将工作，然后<code class="fe lw lx ly lz b">style-loader</code>将处理<code class="fe lw lx ly lz b">css-loader</code>产生的输出。</p><p id="a676" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">同样，对于我们的<code class="fe lw lx ly lz b">.scss</code>文件:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="ae8b" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">4.插件</h1><p id="1962" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">插件是webpack的另一个非常重要的方面。插件是webpack如此强大的主要原因。</p><p id="3323" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">插件就像库。他们可以进入编译过程的任何阶段，做他们想做的任何事情。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="9867" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在上面的例子中，我们使用了一个名为<code class="fe lw lx ly lz b">clean-webpack-plugin</code>的插件。这个插件的作用是在我们每次运行构建命令时清理输出文件夹。</p><p id="6b38" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有很多你可以利用的插件。有兴趣可以参考<a class="ae kz" href="https://webpack.js.org/plugins/" rel="noopener ugc nofollow" target="_blank"> webpack的官网</a>。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="2db2" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">5.方式</h1><p id="31af" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">这是一个很容易理解的概念。您可能希望为您的开发和生产使用不同的设置。对此，可以使用<code class="fe lw lx ly lz b">mode</code>。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="65f1" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您将模式设置为<code class="fe lw lx ly lz b">production</code>，那么您的输出束将被缩小和优化。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="4046" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">6.开发服务器</h1><p id="da12" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">这是应用程序的最终设置。在开发应用程序时，您不希望每次更改时都要编译它。这就是为什么您的应用程序需要一个<code class="fe lw lx ly lz b">devServer</code>设置。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="9efb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，这个设置将为您之前设置为<code class="fe lw lx ly lz b">output</code>的<code class="fe lw lx ly lz b">dist</code>中的应用程序提供服务。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="e5b8" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">结论</h1><p id="8812" class="pw-post-body-paragraph la lb iu lc b ld mz jv lf lg na jy li lj nb ll lm ln nc lp lq lr nd lt lu lv in bi translated">给你。现在您应该对webpack及其不同部分有了基本的了解。如果您感兴趣，这里有一个完整的设置:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="of og l"/></div></figure><p id="9f59" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">祝您愉快！</p><p id="d335" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">有话要说？通过</strong> <a class="ae kz" href="https://www.linkedin.com/in/56faisal/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> LinkedIn </strong> </a>联系我</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h1 id="4c2f" class="mh mi iu bd mj mk ml mm mn mo mp mq mr ka ms kb mt kd mu ke mv kg mw kh mx my bi translated">资源</h1><ul class=""><li id="92b4" class="ne nf iu lc b ld mz lg na lj oi ln oj lr ok lv nj nk nl nm bi translated">网络包:<a class="ae kz" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank">https://webpack.js.org/</a></li><li id="7517" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated">外挂:<a class="ae kz" href="https://webpack.js.org/plugins/" rel="noopener ugc nofollow" target="_blank">https://webpack.js.org/plugins/</a></li><li id="4d93" class="ne nf iu lc b ld nn lg no lj np ln nq lr nr lv nj nk nl nm bi translated">模块:<strong class="lc iv"/><a class="ae kz" href="https://webpack.js.org/concepts/modules/" rel="noopener ugc nofollow" target="_blank">https://webpack.js.org/concepts/modules/</a></li></ul></div></div>    
</body>
</html>