<html>
<head>
<title>Pulumi: A True Infrastructure as Code Paradigm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Pulumi:作为代码范例的真正基础设施</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/pulumi-a-true-infrastructure-as-code-paradigm-ac07c530e219?source=collection_archive---------8-----------------------#2021-06-08">https://betterprogramming.pub/pulumi-a-true-infrastructure-as-code-paradigm-ac07c530e219?source=collection_archive---------8-----------------------#2021-06-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="79b3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为什么您应该考虑将Pulumi作为基础设施的代码</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/06a43c626ec9b0daa4babcdc9692b568.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oJ27WkmFZhFBvcCt"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@stephenleo1982?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯蒂芬·莱昂纳迪</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a3cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个广泛使用Ansible和Terraform来管理基础设施的人，我一直对软件行业以基础设施作为代码的名义出现的越来越多的新工具、模板和范例感到困惑。</p><p id="08cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为代码的基础设施(或缩写为IaC)实际上应该是——作为代码的基础设施。但是像现代软件世界中的大多数事情一样，IaC是不必要的复杂——我们没有用我们已经知道的语言来构建库和框架，而是倾向于使用模板语言，这不仅是重新发明了轮子，而且最终还令人痛苦地失败了。</p><p id="5bfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您使用过任何流行的IaC工具，比如Terraform，您可能会知道，使用迭代、结合嵌套块和变量引用来编写哪怕是稍微复杂的条件会有多麻烦。每当我不得不在这些模板语言中做一些复杂的事情时，我都痛苦地渴望能够从真正的代码(比如Python)中简单地做这些事情。毕竟，IaC完全没有理由不应该存在于我们已经知道的真实代码/语言中。</p><p id="2655" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入Pulumi。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="02d0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">Pulumi:作为代码范例的真正基础设施</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/a5e79f06ab26fbadf50a96f48ffe4ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*i_5vpHONxeZ75xFe.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片:<a class="ae ky" href="https://www.pulumi.com/" rel="noopener ugc nofollow" target="_blank">https://www.pulumi.com/</a></p></figure><p id="3e0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pulumi是一个IaC库，使你能够用你喜欢的语言管理你的基础设施。它适用于所有常见语言，如Python、Go、Javascript、C#、Typescript等。，并支持所有主要的云提供商，如AWS、Azure和GCP。</p><p id="1fea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了展示它的简单性，这里有一些例子:</p><h2 id="1a80" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">1.创建和管理AWS S3存储桶的Python代码</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python IaC:创建一个AWS S3桶</p></figure><p id="a6d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码几乎不需要任何解释。将这个命令与命令<code class="fe nj nk nl nm b">pulumi up</code>结合使用，以启动您的基础设施，并使用<code class="fe nj nk nl nm b">pulumi destroy</code>将其退役。就这么简单。</p><h2 id="7e58" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">2.使用AWS EC2实例、网络安全组和入口配置创建web服务器的Python代码</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python IaC:在AWS上创建一个简单的web服务器</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="0898" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么使用Pulumi作为您的IaC？</h1><p id="9543" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">因为Pulumi只在通用编程语言上工作，所以它简化了许多事情:</p><h2 id="6d52" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">1.测试</h2><p id="0c83" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">这是一个大的。现在，您不仅可以最终为您的IaC编写测试，还可以通过利用您选择的语言中的现有测试框架来这样做(比如Python中的<a class="ae ky" href="https://nose.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> nose </a>、<a class="ae ky" href="https://docs.pytest.org/en/6.2.x/" rel="noopener ugc nofollow" target="_blank"> pytest </a>或<a class="ae ky" href="https://docs.python.org/3/library/unittest.html" rel="noopener ugc nofollow" target="_blank"> unittest </a>)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">IaC的单元测试</p></figure><h2 id="3c3a" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">2.版本控制、构建、发布管道</h2><p id="ec78" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">最终，Pulumi将您的IaC简化为真正意义上的普通老式代码，这简化了您的版本控制、发布和管道。</p><p id="42c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着您可以将所有经过实战检验的软件开发实践应用到您的IaC上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/ac8b75dce13cddcb26e3fc7cae093023.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*IJt57FE5R8aLMJpo_42d0w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.pulumi.com/" rel="noopener ugc nofollow" target="_blank">https://www.pulumi.com/</a></p></figure><h2 id="5863" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">3.熟悉且易于使用</h2><p id="f599" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">正如普鲁米的网站所说:</p><blockquote class="nt nu nv"><p id="1d4b" class="kz la nw lb b lc ld ju le lf lg jx lh nx lj lk ll ny ln lo lp nz lr ls lt lu im bi translated">“你的代码。你的语言。你的方式。将开发人员、基础设施团队和安全工程师团结在一个通用平台周围，这样每个人都可以说同一种语言，并快速可靠地交付。”</p></blockquote><p id="9877" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与Terraform不同，Pulumi不需要您学习任何新的语言或语法来管理IaC，因为它只是您已经知道的语言中的另一个库。</p><p id="c153" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">人人云工程！</p><h2 id="dca7" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">4.多云</h2><p id="4a15" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">Pulumi与所有主要的云提供商合作，包括像Kubernetes这样的PaaS平台。</p><h2 id="7ac5" class="mv md it bd me mw mx dn mi my mz dp mm li na nb mo lm nc nd mq lq ne nf ms ng bi translated">5.两全其美</h2><p id="9259" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">Pulumi从Terraform世界借用了有用的想法，比如状态文件。</p><p id="6a65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">IaC状态文件帮助您维护基础设施的状态并使之与代码保持一致。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3cce" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">普卢米:前进的道路</h1><p id="101e" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">虽然Pulumi还没有达到像Terraform这样的工具的采用和成熟规模，但它的受欢迎程度正在迅速增加。有Lemonade和Mercedes Bens等组织的支持，Pulumi将是未来几年值得关注的一个令人兴奋的领域。</p><p id="8b12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">毕竟，作为代码的基础设施确实应该是:代码。</p></div></div>    
</body>
</html>