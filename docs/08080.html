<html>
<head>
<title>How To Deploy an App to AWS Using Elastic Beanstalk With Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用带有Docker的Elastic Beanstalk将应用程序部署到AWS</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-deploy-an-app-to-aws-using-elastic-beanstalk-with-dockers-72a38a161d7e?source=collection_archive---------6-----------------------#2021-03-23">https://betterprogramming.pub/how-to-deploy-an-app-to-aws-using-elastic-beanstalk-with-dockers-72a38a161d7e?source=collection_archive---------6-----------------------#2021-03-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bd59" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Elastic Beanstalk将Flask API部署到AWS容器中的教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6a4affa3acfde0e98d823ad5f6306abb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1N8FmA2DBWI-nlM0"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@aditya1702?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Aditya Vyas </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄。</p></figure><div class="kz la gp gr lb lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="c5e3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们假设我们正在开发AWS，并且我们已经构建了一个想要部署的<a class="ae ky" href="https://flask.palletsprojects.com/en/1.1.x/api/" rel="noopener ugc nofollow" target="_blank"> Flask </a> API。我们正在使用<a class="ae ky" href="https://aws.amazon.com/cloud9/" rel="noopener ugc nofollow" target="_blank"> Cloud9 </a> IDE，我们的项目结构如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/16d1c172c54ed4ac5457e2d43cea3187.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/format:webp/0*7z8ngxgHO17N_gNY.png"/></div></figure><p id="ffe3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们的目标是与Docker合作。Dockerfile <strong class="lt iu"> </strong>会是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mo mp l"/></div></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="fcac" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">建立形象</h1><p id="884e" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">您可以在带有您喜欢的标签的终端中键入<code class="fe nu nv nw nx b">docker build</code>命令:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="72f2" class="oc my it nx b gy od oe l of og">docker build --tag flask-tutorial .</span></pre><p id="8815" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，您可以通过键入以下命令来验证该映像是否存在:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="33b1" class="oc my it nx b gy od oe l of og">docker images</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/3e11c2f30dde7ba206b5c06173ffe70a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/0*PjD_qJM-N6zxEi-z.png"/></div></figure></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="2896" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">运行图像</h1><p id="acf6" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">您可以通过键入以下命令来运行映像:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="0f07" class="oc my it nx b gy od oe l of og">docker run -d --name flask-tutorial -p 5000:5000 flask-tutorial</span></pre><p id="344e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">请注意，<code class="fe nu nv nw nx b">-d</code>标志意味着将它运行到后台，而不占用您的终端。我们可以通过键入以下命令来检查容器是否正在运行:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="5d41" class="oc my it nx b gy od oe l of og">docker ps</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/5303fde627bd0855a31cacb91c46edc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NPXdaE5zplSx17eX.png"/></div></div></figure><p id="93d3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们提供一些有用的Docker命令。</p><h2 id="5416" class="oc my it bd mz oj ok dn nd ol om dp nh ma on oo nj me op oq nl mi or os nn ot bi translated">ps命令</h2><p id="350f" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">用<code class="fe nu nv nw nx b">ps</code>命令重申一下，您可以列出Docker容器。一个常见的标志是<code class="fe nu nv nw nx b">--no-trunc</code>，它不会截断输出。另一个需要记住的有用标志是<code class="fe nu nv nw nx b">-a</code>，它将允许我们看到所有运行和停止的容器(我们上面提到过)。<code class="fe nu nv nw nx b">--filter</code>命令在搜索特定命令时也很有用。因此，如果我们有了正在运行的<code class="fe nu nv nw nx b">flask-tutorial</code>容器，我们可以运行下面的代码来过滤掉它:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="e764" class="oc my it nx b gy od oe l of og">docker ps --filter "name=flask-tutorial"</span></pre><h2 id="a55c" class="oc my it bd mz oj ok dn nd ol om dp nh ma on oo nj me op oq nl mi or os nn ot bi translated">exec命令</h2><p id="ff49" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">尽管我们没有使用<code class="fe nu nv nw nx b">exec</code>命令，但需要注意的是。<code class="fe nu nv nw nx b">exec</code>命令将允许我们在运行容器中运行命令。例如，如果我们有一个正在运行的<code class="fe nu nv nw nx b">flask-tutorial</code>容器，我们想在其中运行一个命令，下面的命令将在<code class="fe nu nv nw nx b">/tmp</code>目录的后台创建一个名为<code class="fe nu nv nw nx b">test</code>的新文件:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="3598" class="oc my it nx b gy od oe l of og">docker exec -d flask-tutorial touch /tmp/test</span><span id="4b4b" class="oc my it nx b gy ou oe l of og"># output<br/>Verify:</span><span id="4a99" class="oc my it nx b gy ou oe l of og">docker exec -it flask-tutorial /bin/ls -l /tmp</span><span id="0647" class="oc my it nx b gy ou oe l of og">total 0</span><span id="fe66" class="oc my it nx b gy ou oe l of og">-rw-r--r-- 1 root root 0 Aug 21 16:56 test</span></pre><h2 id="563f" class="oc my it bd mz oj ok dn nd ol om dp nh ma on oo nj me op oq nl mi or os nn ot bi translated">停止命令</h2><p id="3d7d" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">使用这个命令按名称停止我们的容器(因此之前使用了<code class="fe nu nv nw nx b">--name</code>标志):</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="738d" class="oc my it nx b gy od oe l of og">docker stop flask-tutorial</span></pre><p id="c187" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">验证它是否已停止:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="724b" class="oc my it nx b gy od oe l of og">docker ps</span></pre><p id="c0aa" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您应该看到以下内容:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="2627" class="oc my it nx b gy od oe l of og">CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES</span></pre><p id="249c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一切都停止了，我们现在可以考虑如何存储我们漂亮的新Flask图像。</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="a85c" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">将您的Docker图像存储在ECR上</h1><p id="f70b" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">如常见问题解答<a class="ae ky" href="https://www.amazonaws.cn/en/ecr/faqs/" rel="noopener ugc nofollow" target="_blank">中所述，“Amazon Elastic Container Registry(ECR)是一个完全托管的Docker容器注册服务，可以轻松存储、管理和部署Docker容器映像。”它与Elastic Beanstalk和ECS集成在一起，这也简化了部署到生产环境的过程。</a></p><p id="5b5f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了能够将我们的Docker映像推送到<code class="fe nu nv nw nx b">ECR</code>，我们将使用CLI。我们首先需要用AWS CLI的<code class="fe nu nv nw nx b">ecr get-login</code>命令授权我们的Cloud9 Docker客户机:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="e5fb" class="oc my it nx b gy od oe l of og">aws ecr get-login --region us-west-2 --no-include-email</span></pre><p id="6d0a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您应该会看到类似这样的内容:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="3427" class="oc my it nx b gy od oe l of og">docker login -u AWS -p eyJwYXlsb2FkIjoiWnc4NUs2K3dkNVhySXJvQWVlZE8xZUpHOVhaUmNaTEdYTXBrU2U0Y1BYb3NLTit4a1B3c3RteXhwWkNXcDZ0TkxLLzNpRjdZV2JvckxHczZIQmhsSGFwNlh6ZEU2K0tQOGRIRk8vNTl2enZpNDIybGpBTnlHdURHYjdYNHdZczU4TTZSaDVLbEVrUW80VFZDaXFRTzdkS0hnY0YyaTVlZ1c1RjYweVozZllSSHlWdVQvQngrQ2FQV1ZQVlJ1RndMa3RPOThaajBOd3grMDRJdURUQ2pFMzY5dFAxdzVhYjgzOEpjR0JUWFJWVCs3MG1TYUIwTXY3WWJIMCt4VE9ETDhWTEVzaHNuQTh2M1JQLzlUd2gyMFpnalcyRjNKTmpTd2l6dnptbVpDblh3dDZxa2lwNEowM0ZCLzZ5MEtBTHlFYkk3WmlqSFYzem5oSFJRTmVWMVdBR1FoSjdmV1RucHZwSDRqUGNCdndLZWI4aWpKSGs5L2VaUzFSbUlLZU1HS0UzU3FmRks0a2lYbEY2bkNLVEtRRnNLeGpCYnllVDdWbTJHaXJLMENOT0ZQVksrWS9jSlZ3SDJTaFc4VjBEYjdjeG9vK3pXQjFiYlAvNS9XQ0pXeUM2ZHMrM3dSMW1tdnUwdUVEV2U3b0lNdklpVDIrVHMrRTZ6cmxibVVObFhJaTYzUXdXNTJmRGVHZjFEeDFGOTJqU0dCL3hFd3ZYTzVweVZzMEZPYUcrV054cndlc3ZTL293TFJKcElrOHBtOVlwUVBxRzl4NGd2bnNrdFh3QlJOQkZJc0lkbDVDanQzVmxGWXdJaklOZXR4Zlo4M2tzUGNFekxVbW9kOEJtdVNCaGttMU9zeWZhY0RCa1J2QWs3UkVJL21vbXZBdFlYOW03T3A1VHo2V3ExZ3ZSanh5NkQrT2lWUWVHYVJLSlZGK3dpWEp4eWpDM2FwYTYzaTkyRXJ2V2lwd1p4cUQ4QlkzWG40cEtpQzRQUU9ZTGo2WTdMM3l4STVuZDQ1Zm9kL2I4aFBMREszeFlIbHRkMkhFWGJGOFkyd05qcXdld2FzYWw3bXRPTUJ5VzdKOWJJWW5ORm96SVY4TDQ1WitJYUNxN29QRDhrV3crK0lZSU91bit3WExnZ3lMNjFiM3FhRUs3dW04VjRRRWdNZTdtWVd4TnZta1JtWUc3aGFJUHJjTlh3aHZxRjNaQmNNOWVZNlljeENQdnVyYUlSY3BoYjJoWjQrdjFYbDVOL0hUS3UzajNRb1ZQVGtCYnFVNENTTXIyYURtd052LytHRUNxQ2tkSHpFQlE0TlZqcXZtR2dZaFVEcGpSZktIWGp0ajdlQ1hnSHhpb0ZSajdCdnFVZmdtQXlGVWxwZXQ0MklxeXVSSDlTMWpBYzk4VkE3aC9UcEgwd3phOWI3QmNRSnVIbFZVQTJkZDZkM2hvM2RMOU1pQkRtaTF4NHdHUGVTazRweG8zZUhkSWFIZXZlYjROcTdFeEV0OWZwZ3lvajlPRHJNcWw5dzNLbURidG4wVXNDVjJHWHlGalZMSkZITk5RWlFES1VGU2VZQVNUcFNzUFJROHVhR0hJNi9XUTNxUnh1Qk4xWnA0ZSt3cU1oWVV0ME9SNGxBNFFzZExlcVdzMFJqcVFpMDRWdE1yZkhDTVpZd1FGd2diek1xTGdzU29zSnZRSnJVQWEyOWJiZU5TL0xQaUliOTlLbUFjaVRHTE11cXRDZHhkMlBzV3ZCN1k3NU1Wc1NXU2ZBckl1WWh1cjZHSE1TQk9mNTdDbG9ZV0NQVlV2bzNVNnFHUEIwOVAwSUNEczc4ajNGY0x4K1QvSHJpaGNBTjZhZzUwaFdEV0I1TU9nT2dHRDdrRW5VTGxMSkRBRnp4c3l2Q252N2pwcFo5R2RlSTBINWtiR1hIZFRwQXJEZzZYeUlLYXVMQVFMczdWcUF4TUNwU3djdmluQXNDR0dWQ3M4MUtGUjZjQTA5bmVrYWgvUVpxQkhhdHA0QW1scGNDQlJSMGEvTFVRPT0iLCJkYXRha2V5IjoiQVFFQkFIajZsYzRYSUp3LzdsbjBIYzAwRE1lazZHRXhIQ2JZNFJJcFRNQ0k1OEluVXdBQUFINHdmQVlKS29aSWh2Y05BUWNHb0c4d2JRSUJBREJvQmdrcWhraUc5dzBCQndFd0hnWUpZSVpJQVdVREJBRXVNQkVFRERJWDFaUm1YUmR5QmZtM1VBSUJFSUE3UldmRHhZSW1zdDhOejdVM01KREpjMlRVbSszSE13RXIyMWUzZ0lEOWI1QnhPZXptNnhRL3JNTjRMejV6UGxnM3RhTFRUMzNlWEEwS3d6MD0iLCJ2ZXJzaW9uIjoiMiIsInR5cGUiOiJEQVRBX0tFWSIsImV4cGlyYXRpb24iOjE1NzIwNzgxMTV9 <a class="ae ky" href="https://323009296932.dkr.ecr.us-west-2.amazonaws.com" rel="noopener ugc nofollow" target="_blank">https://323009296932.dkr.ecr.us-west-2.amazonaws.com</a></span></pre><p id="344a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">复制并粘贴上面的全部输出。将其粘贴回终端，然后按回车键。您应该看到以下内容(您可以忽略警告):</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="e5d0" class="oc my it nx b gy od oe l of og">WARNING! Using --password via the CLI is insecure. Use --password-stdin. WARNING! Your password will be stored unencrypted in /home/ec2-user/.docker/config.json. Configure a credential helper to remove this warning. See <a class="ae ky" href="https://docs.docker.com/engine/reference/commandline/login/#credentials-store" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</a> ​ Login Succeeded</span></pre><p id="c898" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们需要创建一个ECR存储库来推动我们的形象:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="4263" class="oc my it nx b gy od oe l of og">aws ecr create-repository --repository-name flask-tutorial</span></pre><p id="c87a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">您应该会看到类似于以下输出的内容:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="dbca" class="oc my it nx b gy od oe l of og">{ "repository": { "repositoryUri": "323009296932.dkr.ecr.us-west-2.amazonaws.com/flask-tutorial", "registryId": "323009296932", "imageTagMutability": "MUTABLE", "repositoryArn": "arn:aws:ecr:us-west-2:323009296932:repository/flask-tutorial", "repositoryName": "flask-tutorial", "createdAt": 1572035197.0 } }</span></pre><p id="d841" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我们在将来的部署中需要引用我们的映像，这就是我们需要使用的<code class="fe nu nv nw nx b">repositoryUri</code>。</p><h2 id="0539" class="oc my it bd mz oj ok dn nd ol om dp nh ma on oo nj me op oq nl mi or os nn ot bi translated">标签命令</h2><p id="69a7" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">我们将<code class="fe nu nv nw nx b">re-tag</code>我们的形象，包括我们的<code class="fe nu nv nw nx b">registryId</code>。如果我们有很多账户，或者与Docker Hub等其他注册服务商合作，这就更容易管理了。</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="e510" class="oc my it nx b gy od oe l of og">docker tag flask-tutorial:latest 323009296932.dkr.ecr.us-west-2.amazonaws.com/flask-tutorial:latest</span></pre><p id="334e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">请注意，您的ECR的<code class="fe nu nv nw nx b">repositoryUri</code>会有所不同。</p><p id="a11c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我们重新运行Docker图像，我们会看到新的图像。</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="7902" class="oc my it nx b gy od oe l of og">docker images</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/01807a6a248c3dd20a695d2f65ffc8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lMx9ihJzNcu-PEXI.png"/></div></div></figure><h2 id="90b6" class="oc my it bd mz oj ok dn nd ol om dp nh ma on oo nj me op oq nl mi or os nn ot bi translated">推送命令</h2><p id="11a4" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">现在我们可以推出图像:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="a3fd" class="oc my it nx b gy od oe l of og">docker push 323009296932.dkr.ecr.us-west-2.amazonaws.com/flask-tutorial:latest</span></pre><p id="95e4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">完成此操作后，您应该会看到类似如下的内容:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="8126" class="oc my it nx b gy od oe l of og">The push refers to repository [323009296932.dkr.ecr.us-west-2.amazonaws.com/flask-tutorial]<br/>ff4ff4b2b471: Pushed <br/>cd1f247135f6: Pushed <br/>dcea7e243648: Pushed <br/>d431d6bc3307: Pushed <br/>ff19fb54200e: Pushed <br/>69168fb9b7b0: Pushed <br/>31f78d833a92: Pushed <br/>2ea751c0f96c: Pushed <br/>7a435d49206f: Pushed <br/>9674e3075904: Pushed <br/>831b66a484dc: Pushed <br/>latest: digest: sha256:8e9ab6d360fb225cde3d5f4adad29c4d0bee5097a951d32aa15ccbe8560200d2 size: 2636</span></pre><p id="7447" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在烧瓶图像存储在ECR中。使用<code class="fe nu nv nw nx b">aws ecr list-images</code>命令，您将在屏幕上看到类似这样的内容:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="5aa8" class="oc my it nx b gy od oe l of og">{ "imageIds": [ { "imageTag": "latest", "imageDigest": "sha256:8e9ab6d360fb225cde3d5f4adad29c4d0bee5097a951d32aa15ccbe8560200d2" } ] }</span></pre></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="a0d7" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">使用弹性Beanstalk控制台部署到云中</h1><p id="d0fb" class="pw-post-body-paragraph lr ls it lt b lu np ju lw lx nq jx lz ma nr mc md me ns mg mh mi nt mk ml mm im bi translated">现在，我们将把Flask应用程序部署到Elastic Beanstalk。我们会做所谓的ZIP部署。我们进入工作目录并键入:</p><pre class="kj kk kl km gt ny nx nz oa aw ob bi"><span id="07e9" class="oc my it nx b gy od oe l of og">zip flask_application.zip app.py Dockerfile</span></pre><p id="29d8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在左侧面板上，展开<code class="fe nu nv nw nx b">flask</code>文件夹，右键单击<code class="fe nu nv nw nx b">flask_application.zip</code>，并选择“下载”</p><ol class=""><li id="4102" class="ow ox it lt b lu lv lx ly ma oy me oz mi pa mm pb pc pd pe bi translated">选择“AWS Cloud9”和“转到您的仪表板”选择“服务”和“弹性豆茎”</li><li id="1534" class="ow ox it lt b lu pf lx pg ma ph me pi mi pj mm pb pc pd pe bi translated">在右上角，选择“创建应用程序”</li><li id="63bb" class="ow ox it lt b lu pf lx pg ma ph me pi mi pj mm pb pc pd pe bi translated">粘贴<code class="fe nu nv nw nx b">flask-app</code>作为“应用名称”</li><li id="eed2" class="ow ox it lt b lu pf lx pg ma ph me pi mi pj mm pb pc pd pe bi translated">对于“平台”，选择“Docker”保持Docker设置不变。</li><li id="1b2f" class="ow ox it lt b lu pf lx pg ma ph me pi mi pj mm pb pc pd pe bi translated">对于“应用程序”代码，选择“上传您的代码”保持“本地文件”选中状态。选择“选择文件”并浏览到下载<code class="fe nu nv nw nx b">flask_application.zip</code>的位置。</li><li id="9444" class="ow ox it lt b lu pf lx pg ma ph me pi mi pj mm pb pc pd pe bi translated">选取“创建应用程序”</li><li id="7a35" class="ow ox it lt b lu pf lx pg ma ph me pi mi pj mm pb pc pd pe bi translated">最后，您应该看到运行状况变为“OK ”,带有一个绿色圆圈和一个勾号，表示一切正常。</li><li id="fc08" class="ow ox it lt b lu pf lx pg ma ph me pi mi pj mm pb pc pd pe bi translated">在顶部，您应该可以看到您的应用程序以及URL。单击它，在顶部，您应该会看到环境ID和URL。复制网址。</li><li id="d02a" class="ow ox it lt b lu pf lx pg ma ph me pi mi pj mm pb pc pd pe bi translated">选择URL(应该会在新的浏览器选项卡中打开)，您应该会看到示例Flask应用程序。</li></ol><p id="4eed" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">瞧，你的应用程序启动了！</p></div><div class="ab cl mq mr hx ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="im in io ip iq"><h1 id="e0bb" class="mx my it bd mz na nb nc nd ne nf ng nh jz ni ka nj kc nk kd nl kf nm kg nn no bi translated">参考</h1><ul class=""><li id="202a" class="ow ox it lt b lu np lx nq ma pk me pl mi pm mm pn pc pd pe bi translated"><a class="ae ky" href="https://www.coursera.org/learn/containerized-apps-on-aws/home/welcome" rel="noopener ugc nofollow" target="_blank">在Coursera的AWS上构建容器化应用</a></li></ul><p id="12b2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><em class="po">最初发表于</em><a class="ae ky" href="https://predictivehacks.com/how-to-deploy-an-app-to-aws-using-elastic-beanstalk-with-dockers/" rel="noopener ugc nofollow" target="_blank">T5【https://predictivehacks.com】</a><em class="po">。</em></p></div></div>    
</body>
</html>