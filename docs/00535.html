<html>
<head>
<title>Ionic React (Beta) Tabs: Step-by-Step</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">离子反应(测试版)标签:逐步</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/ionic-react-beta-tabs-step-by-step-51c25cfd369d?source=collection_archive---------7-----------------------#2019-06-06">https://betterprogramming.pub/ionic-react-beta-tabs-step-by-step-51c25cfd369d?source=collection_archive---------7-----------------------#2019-06-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0b26" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用新的Ionic CLI生成一个带有选项卡的应用程序，并在第二部分生成一个登录页面来演示身份验证流程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d149fe3a1ed8808475cf01f56664cffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gdTAaLFUgmxPUqloZxICQ.png"/></div></div></figure><h2 id="18af" class="ku kv it bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">本例中使用的离子和反应成分:</h2><ul class=""><li id="2be2" class="lq lr it ls b lt lu lv lw ld lx lh ly ll lz ma mb mc md me bi translated"><a class="ae mf" href="https://ionicframework.com/docs/api/tabs" rel="noopener ugc nofollow" target="_blank"> IonTabs文档</a></li><li id="8fcf" class="lq lr it ls b lt mg lv mh ld mi lh mj ll mk ma mb mc md me bi translated"><a class="ae mf" href="https://ionicframework.com/docs/api/back-button" rel="noopener ugc nofollow" target="_blank">返回按钮</a></li><li id="50b0" class="lq lr it ls b lt mg lv mh ld mi lh mj ll mk ma mb mc md me bi translated"><a class="ae mf" href="https://reacttraining.com/react-router/web/guides/quick-start" rel="noopener ugc nofollow" target="_blank"> React路由器文档</a></li></ul></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="fbd3" class="ms kv it bd kw mt mu mv kz mw mx my lc jz mz ka lg kc na kd lk kf nb kg lo nc bi translated">入门指南</h1><p id="7958" class="pw-post-body-paragraph nd ne it ls b lt lu ju nf lv lw jx ng ld nh ni nj lh nk nl nm ll nn no np ma im bi translated">要开始使用Ionic CLI构建您的应用程序，请确保您指定了React。对于本例，我们将使用tab starter作为基线。然后，我们将移动一些东西来更好地构建代码，以获得额外的增强。</p><p id="0141" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated"><em class="nv">关于如何开始使用Ionic Framework对React.js的beta支持的更多详细说明，请参见这篇</em> <a class="ae mf" href="https://ionicframework.com/blog/ionic-cli-v5-brings-react-beta-support/" rel="noopener ugc nofollow" target="_blank"> <em class="nv">博文</em> </a> <em class="nv">。</em></p><p id="beee" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">在终端控制台中输入以下命令，出现提示时，选择<code class="fe nw nx ny nz b">tabs</code>作为启动模板:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h2 id="2230" class="ku kv it bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">房屋清洁</h2><p id="d27d" class="pw-post-body-paragraph nd ne it ls b lt lu ju nf lv lw jx ng ld nh ni nj lh nk nl nm ll nn no np ma im bi translated">让我们清理其中的一些文件，为我们的应用程序创建一个更加结构化的起点。</p><p id="173c" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">创建一个名为<code class="fe nw nx ny nz b">TabRoot.tsx</code>的新文件，将<code class="fe nw nx ny nz b">App.tsx</code>中的<code class="fe nw nx ny nz b">IonApp</code>元素中的所有内容复制到新组件中。完成后，<code class="fe nw nx ny nz b">App.tsx</code>应该是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="b455" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">删除此行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="c602" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">然后设置新的默认<code class="fe nw nx ny nz b">Route</code>指向我们刚刚构建的<code class="fe nw nx ny nz b">TabRoot</code>组件。这意味着当应用程序第一次启动时，它将转到<code class="fe nw nx ny nz b">TabRoot</code>组件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="17d9" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated"><code class="fe nw nx ny nz b">TabRoot.tsx</code>在粘贴了我们从<code class="fe nw nx ny nz b">App.tsx</code>中剪切的代码后，应该看起来像下面的代码。</p><p id="e059" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated"><strong class="ls iu"> <em class="nv">注</em> </strong> <em class="nv">:看代码的时候为了节省空间，我把导入都去掉了。我还将标签的数量从三个减少到两个，我相信这足以说明我的观点。</em></p><p id="30a5" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated"><em class="nv">请注意，关于IonTabs如何在React中工作的文档似乎不正确，</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="22e7" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">现在应用程序已经设置好了，默认路径是呈现<code class="fe nw nx ny nz b">TabRoot</code>组件，但是我们仍然需要告诉组件呈现哪个选项卡，我们希望它是<code class="fe nw nx ny nz b">Tab1</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h2 id="3473" class="ku kv it bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">何必呢？</h2><p id="c0ff" class="pw-post-body-paragraph nd ne it ls b lt lu ju nf lv lw jx ng ld nh ni nj lh nk nl nm ll nn no np ma im bi translated">随着应用程序变得越来越复杂，让所有默认路由都基于应用程序路由级别的选项卡可能会有问题。正如您将在后面的章节中看到的，当应用程序必须检查经过验证的用户和受保护的路由时，这种设置将是有益的。</p><h2 id="91ab" class="ku kv it bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">清理选项卡1</h2><p id="50bd" class="pw-post-body-paragraph nd ne it ls b lt lu ju nf lv lw jx ng ld nh ni nj lh nk nl nm ll nn no np ma im bi translated"><code class="fe nw nx ny nz b">Tab1</code>中有很多噪音，所以让我们通过将内容从<code class="fe nw nx ny nz b">Tab2</code>复制到<code class="fe nw nx ny nz b">Tab1</code>中，使其看起来像<code class="fe nw nx ny nz b">Tab2</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><h2 id="b2d3" class="ku kv it bd kw kx ky dn kz la lb dp lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">导航到详细页面</h2><p id="f4ac" class="pw-post-body-paragraph nd ne it ls b lt lu ju nf lv lw jx ng ld nh ni nj lh nk nl nm ll nn no np ma im bi translated">让我们复制文件<code class="fe nw nx ny nz b">Tab1.tsx</code>，并将其重命名为<code class="fe nw nx ny nz b">Tab1Detail.tsx</code>。完成后清理干净，使其看起来像这样:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="ee33" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">在<code class="fe nw nx ny nz b">Tab1</code>的<code class="fe nw nx ny nz b">IonContent</code>部分增加一个按钮。该按钮将导航至我们刚刚创建的详细页面<code class="fe nw nx ny nz b">Tab1Detail</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="ba58" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">所以你在<code class="fe nw nx ny nz b">Tab1.tsx</code>做这个改动的时候会看到几个问题，第一个是:</p><p id="f7f5" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated"><em class="nv"/><code class="fe nw nx ny nz b"><em class="nv">props.history</em></code><em class="nv">从哪里来？</em></p><p id="245d" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">我们可以使用react-router <code class="fe nw nx ny nz b"><a class="ae mf" href="https://reacttraining.com/react-router/web/api/withRouter" rel="noopener ugc nofollow" target="_blank">withRouter</a></code>将<code class="fe nw nx ny nz b"><a class="ae mf" href="https://reacttraining.com/react-router/web/api/history" rel="noopener ugc nofollow" target="_blank">history</a></code>对象作为属性传递给组件，因为组件是由<code class="fe nw nx ny nz b"><a class="ae mf" href="https://reacttraining.com/react-router/web/api/Router" rel="noopener ugc nofollow" target="_blank">Router</a></code>呈现的。因此，让我们对文件进行以下更改:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="d081" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">然后添加一个参数，并将类型指定为<code class="fe nw nx ny nz b">any</code>(暂时):</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="5def" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">最后，我们需要将我们想要导航到的实际路线<code class="fe nw nx ny nz b">/:tab(tab1-detail)</code>添加到<code class="fe nw nx ny nz b">TabRoot</code>中的<code class="fe nw nx ny nz b">Router</code>元素，因此添加新路线:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="b8fc" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">回过头来，我们需要首先将<code class="fe nw nx ny nz b">IonBackButton</code>组件添加到<code class="fe nw nx ny nz b">Tab1Detail</code>页面的工具栏中，就在<code class="fe nw nx ny nz b">&lt;IonTitle&gt;</code>的上方:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="3459" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated"><strong class="ls iu"> <em class="nv">注意</em> </strong> <em class="nv">:有一个已知的问题是</em> <code class="fe nw nx ny nz b"><em class="nv">defaultHref</em></code> <em class="nv">不工作，所以我必须响应</em> <code class="fe nw nx ny nz b"><em class="nv">onClick</em></code> <em class="nv">事件才能使其工作。</em></p><p id="49b8" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated">如您所见，我们再次使用了<code class="fe nw nx ny nz b">history</code>属性来返回到上一个组件，因此我们需要添加<code class="fe nw nx ny nz b">withRouter</code>并正确地指定组件的参数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oa ob l"/></div></figure></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="28dc" class="ms kv it bd kw mt mu mv kz mw mx my lc jz mz ka lg kc na kd lk kf nb kg lo nc bi translated">资源</h1><p id="59f0" class="pw-post-body-paragraph nd ne it ls b lt lu ju nf lv lw jx ng ld nh ni nj lh nk nl nm ll nn no np ma im bi translated">源代码可从以下网址获得:</p><ul class=""><li id="5506" class="lq lr it ls b lt nq lv nr ld oc lh od ll oe ma mb mc md me bi translated">https://github.com/aaronksaunders/ionic-react-tabs-tut<a class="ae mf" href="https://github.com/aaronksaunders/ionic-react-tabs-tut" rel="noopener ugc nofollow" target="_blank"/></li></ul></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><p id="0d78" class="pw-post-body-paragraph nd ne it ls b lt nq ju nf lv nr jx ng ld ns ni nj lh nt nl nm ll nu no np ma im bi translated"><em class="nv">原载于2019年6月6日</em><a class="ae mf" href="https://dev.to/aaronksaunders/ionic-react-beta-tabs-step-by-step-iij" rel="noopener ugc nofollow" target="_blank"><em class="nv">https://dev . to</em></a><em class="nv">。</em></p></div></div>    
</body>
</html>