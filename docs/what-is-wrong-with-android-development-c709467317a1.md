# Android 开发有什么问题？

> 原文：<https://betterprogramming.pub/what-is-wrong-with-android-development-c709467317a1>

## 每个 Android 开发者都遭受这些问题的困扰

![](img/01d665789938c875edbfd10a8bd626b7.png)

由[川上正风](https://unsplash.com/@masakaze?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/android?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片。

Android 是 2008 年作为操作系统推出的。从那以后，它越来越受欢迎。由于它是免费的开源软件，越来越多的供应商在他们的设备上使用它。Android 一直主导着移动操作系统市场。此外，它不仅用于智能手机，还用于多媒体系统、零售系统和其他地方。

Android 对软件开发人员的吸引力在于进入门槛低。您可以在任何电脑上开始构建应用程序，包括 Windows、Linux 或 Mac。测试所需的设备相对便宜。Play Store 上的开发者账户只需要一次性支付 25 美元。综上所述，为 Android 开发应用程序看起来非常有吸引力。的确如此。

不过还是说说 Android 目前有哪些不顺利的地方吧。我发现以下项目令人讨厌，因为我不会期望从一个成熟和建立的系统中得到它们。

# 缓慢的构建时间

首先，每个 Android 开发者都认识到整个设置消耗了大量资源。Android Studio 和模拟器可以使用大量的内存和 CPU。它在发布后以几千兆字节开始，然后不断增加。如果我们用一个物理设备代替模拟器，Android Studio 的问题仍然存在。

在一个小项目中，Android Studio 的问题几乎看不到。为项目构建等待几秒钟似乎没问题。但是随着每一行代码添加到项目中，构建时间都会增加。最后，组装一个真正的生产应用程序需要几分钟的等待。

有各种缓存技术(例如，增量构建)可用于减少构建时间。他们完成了工作，节省了几分钟。然而，这还不够。

让我们看一个真实的例子:一个用 Kotlin 编写的大约 200K 行代码的项目。唯一的改变是更新本地化字符串文件。实际源代码没有变化，这意味着缓存会命中。

![](img/aa8330322774664b84caf29676002041.png)

构建时间示例

简单地更改 XML 文件会导致五分钟的等待。有多个变量会影响构建时间，从项目配置开始，到硬件结束。然而，我们需要一个更好的解决方案，允许我们更快地构建一个普通的项目。

# 没有一致的架构

Android 开发的美妙之处在于社区。它很友好，非常支持。开源库和项目的数量令人印象深刻。开发人员变得如此有创造力，有时我对他们的工作感到非常感激。但是你问过自己为什么会这样吗？

原因之一是当时没有足够的官方组件。社区爱好者采取主动，开始提出解决框架中架构问题的方法。RxJava 是一个非常受欢迎的例子——尤其是在 Android 世界。

工程师们开始试验应用程序的架构。每次 Android 会议总会有至少几次关于“新”架构的讨论。虽然这对工程师来说是一项具有挑战性的任务，但它通常会增加开发时间。

新的开发人员正在加入团队，他们想要贡献或改进现有的架构。这可能会导致一个项目中存在多个架构的情况。一个团队用 EventBus 方法实现了系统，然后他们开始使用 RxJava。随着时间的推移，他们集成并采用了 LiveData。这都是可能的，因为有能力用不同的方式做同样的事情。

不断改进的框架是一个好迹象。这是生态系统进化的一部分，工程师获得了交付更好软件的新能力。然而，我们必须承认，开发人员专注于解决框架中的问题，而不是构建更多的项目。如果我们建立了 Android 开发指南，我们会看到更多的库和工具支持它们，而不是取代它们。

# 集成测试

Android 开发中的另一个大问题是相对较差的集成测试系统。多年来，每当开发人员不得不编写集成测试时，他们都很痛苦。我这里说的是测试的全周期。它们更广为人知的名称是 UI 测试。

围绕他们的框架数量(Espresso、Robotium、Appium，不一而足)说明确实有问题。它们中的每一个都解决了集成测试的一个问题。它们允许你创建模拟用户行为的测试:启动应用程序，输入一些文本，按一个按钮，滚动列表，点击某个元素。在软件开发中，通常的做法是通过测试来确保所有组件能够很好地协同工作，并且集成良好(因此得名)。

然而，编写集成测试仍然是一项具有挑战性的任务。框架引入了黑客技术来实现某些结果。在某些情况下，由于设备配置甚至屏幕分辨率的原因，测试变得不可靠。我们面对框架的不成熟。

结果，许多工程师放弃了编写合适的集成测试。他们要么只局限于单元测试，要么编写不涉及应用程序 UI 部分的测试。这是我们想要鼓励的吗？我不这么认为。它必须改变。我们需要一个坚实的本地框架，使开发人员能够编写适当的集成测试。

# 结论

Android 开发者爱上了“绿色机器人”。它证明了开源能走多远，能实现什么。社区对此充满热情，并随时准备提供帮助。操作系统有很大的潜力，我们将在未来看到这一点。

但首先，它必须克服框架中长期存在的问题。解决这些问题将使 Android 对软件工程师更具吸引力。