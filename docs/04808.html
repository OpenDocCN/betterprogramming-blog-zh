<html>
<head>
<title>Introducing StateLake: You’ll Love Managing States This Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍StateLake:您会喜欢以这种方式管理状态</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/introducing-statelake-youll-love-managing-states-this-way-bdeb93d82f94?source=collection_archive---------16-----------------------#2020-05-11">https://betterprogramming.pub/introducing-statelake-youll-love-managing-states-this-way-bdeb93d82f94?source=collection_archive---------16-----------------------#2020-05-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="db84" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个很小的React库，用于hooks风格的状态管理和共享存储</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c41a88b1836c7bf43b8a44eb5d0bc220.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lERClkXepU7uBvMg4lB7VA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">传统挂钩与连接到共享存储的挂钩</p></figure><p id="5cae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">钩子很棒，对吧？本文旨在介绍一个新的库，它使您能够管理小型和大型项目中的状态，使用的语法类似于普通的React挂钩，但它与共享存储进行交互。</p><h2 id="004e" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">TL；速度三角形定位法(dead reckoning)</h2><p id="98bb" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">这个图书馆叫做<a class="ae ms" href="https://www.npmjs.com/package/statelake" rel="noopener ugc nofollow" target="_blank">国家湖</a>。它可以让你将普通挂钩连接到大型商店的特定部分。用<code class="fe mt mu mv mw b">npm install statelake</code>安装。然后，写下这样的内容:</p><pre class="kj kk kl km gt mx mw my mz aw na bi"><span id="dde6" class="lu lv it mw b gy nb nc l nd ne">// Create a new store<br/>const store = new StateLake({myState: ""});</span><span id="ba7f" class="lu lv it mw b gy nf nc l nd ne">// Connect to store (inside a React component)<br/>const [state, setState] = store.useState("myState")("Hello!");</span><span id="11e8" class="lu lv it mw b gy nf nc l nd ne">/**<br/> * Now use "state" and "setState" like you normally would :)<br/> * Whenever you use setState in one component, all other components<br/> * with the same hook will also get updated immediately :)<br/> */</span></pre><p id="86c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(我建议您也看一下本文中的代码！)</p><p id="6bce" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里是<a class="ae ms" href="https://www.npmjs.com/package/statelake" rel="noopener ugc nofollow" target="_blank"> npm </a>，这里是<a class="ae ms" href="https://github.com/mariusbrataas/StateLake" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。</p><h2 id="f6e6" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">仅供参考</h2><p id="3554" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">我假设你以前接触过国家管理的问题。如果您还没有，这里有一个指针:一个<em class="ng">状态</em>是一个信息容器，用于在屏幕上呈现内容。当状态变大时(即包含大量数据或不同的字段)，或者当多个地方需要相同的信息时，管理这些数据的问题就变得很明显。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="57b5" class="no lv it bd lw np nq nr lz ns nt nu mc jz nv ka mf kc nw kd mi kf nx kg ml ny bi translated">为什么使用这个库？</h1><p id="d320" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">很高兴你问了！有许多状态管理库可以解决与这个库相同的问题。区别在于你使用这些库的方式。</p><p id="b80c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我爱Redux。很长一段时间以来，我一直在大量使用它，它为我提供了很好的服务。然而，我发现维护减速器、行动和与商店的联系比生产更乏味。如果你正在使用TypeScript(像我一样)，你也必须手工完成大部分的打字工作。</p><p id="20c0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有了StateLake，你只需要用一个接口(描述对象形状的TypeScript东西)初始化你的存储，你将在每一个端点拥有相同的类型，不管你是初始化存储，设置状态，还是从React组件订阅它。在这个过程中，您还将获得IntelliSense的帮助。</p><p id="3b63" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简而言之:您将创建一个共享存储，它类似于其他类似的库，但是它对开发人员来说几乎没有任何开销，并且执行速度几乎和钩子一样快。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="c65e" class="no lv it bd lw np nq nr lz ns nt nu mc jz nv ka mf kc nw kd mi kf nx kg ml ny bi translated">(乐趣从这里开始):如何使用这个库</h1><h2 id="ab21" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">关于TypeScript的快速注释</h2><p id="701d" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">Typescript非常棒，如果您还没有使用它，我强烈建议您尝试一下。与TypeScript相比，许多开发人员更喜欢JavaScript，因为JavaScript通常需要更少的代码来编写，但根据我的经验，在使用TypeScript进行开发和调试时，您会节省更多的时间，因为当您添加强类型时，IntelliSense (autosuggest)会变得过于强大。</p><h2 id="b1b8" class="lu lv it bd lw lx ly dn lz ma mb dp mc lh md me mf ll mg mh mi lp mj mk ml mm bi translated">现在，到代码！</h2><p id="9591" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">对于那些还不会说TypeScript的人来说:<em class="ng">接口</em>描述了一个对象的形状。<code class="fe mt mu mv mw b">Person</code>描述一个对象，属性为<code class="fe mt mu mv mw b">firstName</code>和<code class="fe mt mu mv mw b">lastName</code>；而<code class="fe mt mu mv mw b">Person[]</code>意味着我们想要一系列类似<code class="fe mt mu mv mw b">Person</code>的物体。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="8404" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就是这样！商店可以在任何地方使用，多个挂钩可以连接到同一个位置。</p><p id="d8ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae ms" href="https://codesandbox.io/s/simple-statelake-example-s5qb5" rel="noopener ugc nofollow" target="_blank">这里有一个小例子的沙盒。我鼓励你尝试一下<code class="fe mt mu mv mw b">useState</code>功能。这些将只允许与我们的存储中的路径相对应的值，并将自动建议这样的值。</a></p><p id="a54b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想要更多，我建议你看看<a class="ae ms" href="https://0ptc5.csb.app/" rel="noopener ugc nofollow" target="_blank">这个更广泛的演示</a>或者<a class="ae ms" href="https://codesandbox.io/s/statelake-example-0ptc5?file=/src/App.tsx" rel="noopener ugc nofollow" target="_blank">它附带的CodeSandbox </a>。</p></div></div>    
</body>
</html>