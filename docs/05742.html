<html>
<head>
<title>How to Create and Animate Checkboxes in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在SwiftUI中创建和激活复选框</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-create-and-animate-checkboxes-in-swiftui-e428fe7cc9c1?source=collection_archive---------4-----------------------#2020-08-03">https://betterprogramming.pub/how-to-create-and-animate-checkboxes-in-swiftui-e428fe7cc9c1?source=collection_archive---------4-----------------------#2020-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ed32" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用形状和动画数据构建不同的动画复选框</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2cfafbb4ddf58e587240262b93b9a4b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8PwjkAHJ-pVwWQsr"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="13f3" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">圆形矩形复选框</h1><p id="5f9f" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">对于第一个复选框，首先创建一个新的struct视图，并向其中添加一个<code class="fe mu mv mw mx b">RoundedRectangle</code>。使用<code class="fe mu mv mw mx b">stroke</code>功能，给它一个<code class="fe mu mv mw mx b">StrokeStyle</code>，其线宽由你选择:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/d56549b0be42591f504641600b0d75bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZErfI024h0YqsUwXrdVqCg.png"/></div></div></figure><p id="01eb" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">将<code class="fe mu mv mw mx b">RoundedRectangle</code>嵌入<code class="fe mu mv mw mx b">ZStack</code>中，并添加另一个<code class="fe mu mv mw mx b">RoundedRectangle</code>，填充您选择的颜色。确保第二个<code class="fe mu mv mw mx b">RoundedRectangle</code>比第一个小:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/aeeb870d8f3f3bc8495dd15dade3821e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tLn1upb3PlbQk91QtQO_ug.png"/></div></div></figure><p id="85d2" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">在struct视图的顶部声明一个名为<code class="fe mu mv mw mx b">checked</code>的绑定布尔变量。在条件括号内的第二个<code class="fe mu mv mw mx b">RoundedRectangle</code>下方添加一个复选标记图像，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/e1ec7dce727b6e3747c8095eae0a8c20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sp5qEnqwX1IudJUwUX567g.png"/></div></div></figure><p id="5e2b" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">现在使用同样的<code class="fe mu mv mw mx b">checked</code> <em class="ne"> </em>变量<em class="ne"> </em>来控制矩形的颜色:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/e86893c4926f3249cb1df876cc94fe76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DPC4AfBeOhErQTgh6gJPLg.png"/></div></div></figure><p id="8e1f" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">声明另一个变量来控制第一个<code class="fe mu mv mw mx b">RoundedRectangle</code>的<code class="fe mu mv mw mx b">trim</code>函数值。该值将被动画化。在<code class="fe mu mv mw mx b">animatableData</code>变量中有这个值:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/4c1640ce44af8b3b01f519ace453bf92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NAR5t_g9zdd8Itee5JT8dA.png"/></div></div></figure><p id="9d7d" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">将<code class="fe mu mv mw mx b">trim</code>函数的<code class="fe mu mv mw mx b">to:</code>值更改为新变量<code class="fe mu mv mw mx b">trimVal</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/80012dddb03c8869c1307f2d183033ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sp9-9WLXQzlAnemM1NjrNw.png"/></div></div></figure><p id="b037" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">你已经完成了<code class="fe mu mv mw mx b">CheckBoxView</code>。在您的<code class="fe mu mv mw mx b">ContentView</code>中，添加您的<code class="fe mu mv mw mx b">CheckBoxView</code>作为按钮，并传递两个状态变量(<code class="fe mu mv mw mx b">checked</code>和<code class="fe mu mv mw mx b">trimVal</code>):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/e2149e1e3bd4e4ef6e76eb8059837dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MC3T7rcIK-fK81-aYLxT8g.png"/></div></div></figure><p id="94e5" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">你需要更换按钮内的<code class="fe mu mv mw mx b">checked</code>和<code class="fe mu mv mw mx b">trimVal</code>。在<code class="fe mu mv mw mx b">withAnimation</code>内部，将<code class="fe mu mv mw mx b">trimVal</code>赋值为1，并使用<code class="fe mu mv mw mx b">toggle()</code>改变<code class="fe mu mv mw mx b">checked</code>布尔值。您也可以添加一个<code class="fe mu mv mw mx b">else</code>语句来反转动画:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/957cba09a93a4ac3b6ed536c2ee43327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rcUegvMDagUsDsr0Kqlx-A.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/5c4e91d4dcf607d23409d5493554f963.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/1*DbREEgMuyxbz2G8-KDyALA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码结果:按钮内的复选框</p></figure><p id="bc7d" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">可以用<code class="fe mu mv mw mx b">onTapGesture</code>代替按钮。这将消除按钮的闪烁:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/173417c95f02335a2a896f8f765bcaf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o9ro3EcAnog0KDEkYfjiSw.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/f1e02e16492e0c0a4348c910ae6529e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/1*ZaFogeR221b65mFb6w9psA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码结果:带有点击手势的复选框</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="2a79" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">圆形复选框</h1><p id="2b65" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">你可以回到你的<code class="fe mu mv mw mx b">CheckBoxView</code>，把形状改成圆形，如下图:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/7ca47d35f2428d1f4c535fdc8542c3d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e3I8o6RJRx0u6D0DFQhJtA.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/37e0f9ddc8157404ce88ac8563a24f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/1*YLWxTaTFHX0e5LHOhS-7yA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码结果:循环复选框</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="ee95" class="lg lh it bd li lj lk ll lm ln lo lp lq jz lr ka ls kc lt kd lu kf lv kg lw lx bi translated">胶囊复选框</h1><p id="fdb8" class="pw-post-body-paragraph ly lz it ma b mb mc ju md me mf jx mg mh mi mj mk ml mm mn mo mp mq mr ms mt im bi translated">我有两个胶囊，一个在另一个上面。让我们添加两个变量:<code class="fe mu mv mw mx b">width</code>和<code class="fe mu mv mw mx b">removeText</code>。<em class="ne"/><code class="fe mu mv mw mx b">width</code>变量将用于胶囊的框架。为了确保第二个胶囊比第一个小，从宽度中减去10。最后，在<code class="fe mu mv mw mx b">if</code>语句中添加一个文本视图，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/4ffa718a5d8ea0e067616a8d1ba5b46d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nzzFRKie7wpLG6BW1VWfug.png"/></div></div></figure><p id="bd9d" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">在您的<code class="fe mu mv mw mx b">ContentView</code>中，添加<code class="fe mu mv mw mx b">removeText</code>和<code class="fe mu mv mw mx b">width</code>变量，并将<code class="fe mu mv mw mx b">onTapGesture</code>代码更改为以下代码:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/c15bcbccb68e29ea168e7268a21ec06d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GNvebNp4QD7QFcZrkP5XtA.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/966cc0e07bd00b6110927c902299c374.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/1*TA1b4oZxEYpPzwiIDvBHAg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码结果:胶囊复选框</p></figure><p id="6ab3" class="pw-post-body-paragraph ly lz it ma b mb mz ju md me na jx mg mh nb mj mk ml nc mn mo mp nd mr ms mt im bi translated">全部完成！感谢阅读！</p></div></div>    
</body>
</html>