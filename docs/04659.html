<html>
<head>
<title>Getting Started With Istio on Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes上的Istio入门</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/getting-started-with-istio-on-kubernetes-e582800121ea?source=collection_archive---------5-----------------------#2020-04-28">https://betterprogramming.pub/getting-started-with-istio-on-kubernetes-e582800121ea?source=collection_archive---------5-----------------------#2020-04-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="abed" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在Kubernetes集群中安装和配置Istio</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c16633087ae44f7a7f359da3bb122f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vNF1YOd0GFz0x609"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@starburst1977?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯文·里德</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄。</p></figure><p id="f15f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Istio是目前最流行的服务网格，它与Kubernetes集成得非常好。对于一个<a class="ae ky" href="https://en.wikipedia.org/wiki/Microservices" rel="noopener ugc nofollow" target="_blank">微服务</a>架构来说，Istio不仅有用，而且是必需的。这个故事是《Istio如何在Kubernetes上幕后工作》的后续。今天，我们来讨论在您的Kubernetes集群中设置Istio。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="615e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">先决条件</h1><p id="be97" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">您需要有一个正在运行的Kubernetes集群来安装Istio。如果你在云上运行，像<a class="ae ky" href="https://cloud.google.com/kubernetes-engine" rel="noopener ugc nofollow" target="_blank"> Google Kubernetes Engine </a>这样的托管服务将是一个完美的选择，因为它允许自动的边注。</p><p id="1c33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将讨论如何使用GKE在云中安装Istio。但是，如果您在自己托管的或内部的Kubernetes集群中运行它，则只有很小的区别。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="338c" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">安装Istio</h1><p id="a21c" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Istio是一个不断发展的项目。在撰写本文时，最新的稳定版本是Istio 1.6，我们将安装该版本。</p><p id="ea81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保您在Kubernetes集群中作为集群管理员登录。</p><h2 id="b6ee" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">下载Istio</h2><p id="14d2" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">下载Istio并通过运行以下命令设置下载二进制文件的路径:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="7635" class="mz md it nm b gy nq nr l ns nt">$ curl -L <a class="ae ky" href="https://istio.io/downloadIstio" rel="noopener ugc nofollow" target="_blank">https://istio.io/downloadIstio</a> | ISTIO_VERSION=1.6.1 sh -<br/>$ cd istio-1.6.1<br/>$ export PATH=$PWD/bin:$PATH</span></pre><p id="f614" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装YAML文件存在于<code class="fe nu nv nw nm b">install/kubernetes</code>目录中。</p><p id="0ec7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Istio还提供了一些示例，我们可以用它们来理解和试验<code class="fe nu nv nw nm b">samples/</code>目录中的Istio特性。我们将在本系列的其余部分使用这个示例应用程序。</p><h2 id="c6a5" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">安装Istio</h2><p id="6008" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">通过使用适当的配置描述文件应用Istio清单来安装Istio。</p><p id="2be0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有六种配置文件可供选择:</p><ol class=""><li id="d386" class="nx ny it lb b lc ld lf lg li nz lm oa lq ob lu oc od oe of bi translated">默认<strong class="lb iu"> </strong> —建议用于生产部署，并配置<code class="fe nu nv nw nm b">IstioOperator</code> API的默认设置。默认情况下，这将强制执行大多数规则，您可以根据自己的需求定制配置。</li><li id="716f" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">演示<strong class="lb iu"> </strong> —你可以用它来玩Istio和学习，尤其是当你使用Minikube或资源有限的设置时。对于运行示例应用程序，这是最合适的概要文件，我们将在演示中使用它。</li><li id="39ca" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">最少的<strong class="lb iu"> </strong> —它包含最少的功能，仅用于支持流量管理。</li><li id="4275" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">Remote <strong class="lb iu"> </strong> —如果您正在运行多个Kubernetes集群，并且希望使用Istio来管理多集群环境，那么这是最合适的配置文件。它为您提供了一个共享控制平面，让您可以从一个位置管理所有集群。</li><li id="4473" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">Empty <strong class="lb iu"> </strong> —这个概要文件不部署任何东西，如果您想定制Istio并从一个基本概要文件开始，您可以使用它。</li><li id="dad9" class="nx ny it lb b lc og lf oh li oi lm oj lq ok lu oc od oe of bi translated">单独的<strong class="lb iu"> </strong> —不推荐使用，仅用于支持传统功能。</li></ol><p id="9bcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">安装带有演示配置文件的Istio，因为它为我们提供了大多数评估和培训功能:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="7b68" class="mz md it nm b gy nq nr l ns nt">$ istioctl manifest apply --set profile=demo       <br/>- Applying manifest for component Base...<br/>✔ Finished applying manifest for component Base.<br/>- Applying manifest for component Pilot...<br/>✔ Finished applying manifest for component Pilot.<br/>  Waiting for resources to become ready...<br/>- Applying manifest for component IngressGateways...<br/>- Applying manifest for component EgressGateways...<br/>- Applying manifest for component AddonComponents...<br/>✔ Finished applying manifest for component EgressGateways.<br/>✔ Finished applying manifest for component IngressGateways.<br/>✔ Finished applying manifest for component AddonComponents.</span></pre><p id="6af0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标记您想要让Istio自动注入边车容器的名称空间。从默认名称空间开始:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="98e1" class="mz md it nm b gy nq nr l ns nt">$ kubectl label namespace default istio-injection=enabled<br/>namespace/default labeled</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="4ca2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">测试配置</h1><p id="c6f5" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在您已经安装了Istio并配置它自动将sidecar容器注入到您的默认名称空间，安装示例图书信息应用程序并查看Istio是否工作。</p><p id="f8d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你看一下图书信息应用程序的YAML文件，你会看到有四个微服务:<code class="fe nu nv nw nm b">details</code>、<code class="fe nu nv nw nm b">ratings</code>、<code class="fe nu nv nw nm b">reviews</code>和<code class="fe nu nv nw nm b">productpage</code>。</p><p id="8b87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe nu nv nw nm b">reviews</code>微服务包含三个版本的pod，每个都标有v1、v2和v3。其余的微服务只有一个版本(v1)。</p><p id="ba37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行<code class="fe nu nv nw nm b">kubectl</code>命令应用YAML文件:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="45e5" class="mz md it nm b gy nq nr l ns nt">$ kubectl apply -f samples/bookinfo/platform/kube/bookinfo.yaml<br/>service/details created<br/>serviceaccount/bookinfo-details created<br/>deployment.apps/details-v1 created<br/>service/ratings created<br/>serviceaccount/bookinfo-ratings created<br/>deployment.apps/ratings-v1 created<br/>service/reviews created<br/>serviceaccount/bookinfo-reviews created<br/>deployment.apps/reviews-v1 created<br/>deployment.apps/reviews-v2 created<br/>deployment.apps/reviews-v3 created<br/>service/productpage created<br/>serviceaccount/bookinfo-productpage created<br/>deployment.apps/productpage-v1 created</span></pre><p id="43d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列出服务和单元:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="77b1" class="mz md it nm b gy nq nr l ns nt">$ kubectl get svc<br/>NAME          TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)    AGE<br/>details       ClusterIP   10.8.12.70    &lt;none&gt;        9080/TCP   31s<br/>kubernetes    ClusterIP   10.8.0.1      &lt;none&gt;        443/TCP    19m<br/>productpage   ClusterIP   10.8.15.230   &lt;none&gt;        9080/TCP   28s<br/>ratings       ClusterIP   10.8.14.21    &lt;none&gt;        9080/TCP   30s<br/>reviews       ClusterIP   10.8.12.51    &lt;none&gt;        9080/TCP   30s</span><span id="1049" class="mz md it nm b gy ol nr l ns nt">$ kubectl get pod<br/>NAME                              READY   STATUS    RESTARTS   AGE<br/>details-v1-74f858558f-xv2rz       2/2     Running   0          56s<br/>productpage-v1-76589d9fdc-dk9vn   2/2     Running   0          53s<br/>ratings-v1-7855f5bcb9-2dcx8       2/2     Running   0          55s<br/>reviews-v1-64bc5454b9-wtc8l       1/2     Running   0          54s<br/>reviews-v2-76c64d4bdf-ddrfn       2/2     Running   0          54s<br/>reviews-v3-5545c7c78f-8rmqr       2/2     Running   0          53s</span></pre><p id="9f5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你注意到什么了吗？在YAML的任何地方，我们都没有看到包含两个容器的吊舱，但是如果你看一下就绪列，你会看到2/2。</p><p id="e296" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是为什么呢？我们刚刚在pod中部署了一个容器，但是我们看到pod中运行了两个容器。</p><p id="868c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要惊讶！伊斯蒂奥正在旋转吊舱中的特使边车容器。这表明Istio正在自动注入边车。</p><p id="f0d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，通过对<code class="fe nu nv nw nm b">ratings</code>微服务容器执行<code class="fe nu nv nw nm b">kubectl</code> exec并运行curl到产品页面，尝试访问示例应用程序的产品页面:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="1f3a" class="mz md it nm b gy nq nr l ns nt">$ kubectl exec -it $(kubectl get pod -l app=ratings -o jsonpath=’{.items[0].metadata.name}’) -c ratings -- curl productpage:9080/productpage</span></pre><h2 id="5ec7" class="mz md it bd me na nb dn mi nc nd dp mm li ne nf mo lm ng nh mq lq ni nj ms nk bi translated">对外公开图书信息应用程序</h2><p id="85e6" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">为此，我们需要创建一个图书信息入口网关，将应用程序与Istio入口网关关联起来。</p><p id="3d96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，Istio会在首次安装时部署Istio入口网关，并在<code class="fe nu nv nw nm b">LoadBalancer</code>上公开服务。如果您的集群不支持负载平衡器，您可以使用<code class="fe nu nv nw nm b">Service</code>的<code class="fe nu nv nw nm b">NodePort</code>并使用<code class="fe nu nv nw nm b">NodeIP:NodePort</code>组合来访问您的应用程序。</p><p id="4424" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要确定<code class="fe nu nv nw nm b">LoadBalancer</code>和<code class="fe nu nv nw nm b">NodePort</code>，运行以下程序:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="51d8" class="mz md it nm b gy nq nr l ns nt">$ kubectl -n istio-system get service istio-ingressgateway<br/>NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE<br/>istio-ingressgateway LoadBalancer 10.8.14.188 34.71.3.244 15020:31344/TCP,80:30347/TCP,443:31784/TCP,15029:30240/TCP,15030:31113/TCP,15031:30358/TCP,15032:30211/TCP,31400:32315/TCP,15443:32359/TCP 17m</span></pre><p id="72af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您所看到的，Istio已经暴露了您的负载平衡器上的几个端口。在这个例子中，我们需要在端口80上运行我们的应用程序，因此我们可以使用映射到端口80的<code class="fe nu nv nw nm b">NodePort</code>的<code class="fe nu nv nw nm b">LoadBalancerIP:80</code>或<code class="fe nu nv nw nm b">NodeIP:NodePort</code>组合。</p><p id="cc52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保打开防火墙，通过<code class="fe nu nv nw nm b">LoadBalancer</code>或<code class="fe nu nv nw nm b">NodePort</code>访问您的应用程序。例如，如果您使用GKE，则运行以下命令:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="2d02" class="mz md it nm b gy nq nr l ns nt">$ gcloud compute firewall-rules create allow-gateway-http --allow tcp:80<br/>Creating firewall...⠹Created [<a class="ae ky" href="https://www.googleapis.com/compute/v1/projects/playground-s-11-5eaba8/global/firewalls/allow-gateway-http" rel="noopener ugc nofollow" target="_blank">https://www.googleapis.com/compute/v1/projects/playground-s-11-5eaba8/global/firewalls/allow-gateway-http</a>].<br/>Creating firewall...done.<br/>NAME                NETWORK  DIRECTION  PRIORITY  ALLOW   DENY  DISABLED<br/>allow-gateway-http  default  INGRESS    1000      tcp:80        False</span></pre><p id="4c0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Istio在<code class="fe nu nv nw nm b">samples/bookinfo/networking/</code>目录中提供了<code class="fe nu nv nw nm b">bookinfo-gateway.yaml</code>，用于将图书信息应用程序与入口网关相关联:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="om on l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">bookinfo-gateway.yaml</p></figure><p id="731e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您查看YAML文件，您会看到它在端口80上定义了一个<code class="fe nu nv nw nm b">Gateway</code>，在<code class="fe nu nv nw nm b">bookinfo-gateway</code>上定义了一个<code class="fe nu nv nw nm b">VirtualService</code>。<code class="fe nu nv nw nm b">VirtualService</code>匹配所有具有<code class="fe nu nv nw nm b">/productpage</code>、<code class="fe nu nv nw nm b">/static</code>、<code class="fe nu nv nw nm b">/login</code>、<code class="fe nu nv nw nm b">/logout</code>和<code class="fe nu nv nw nm b">/api/v1/products</code>路径的主机，并将它们路由到端口9080上运行的<code class="fe nu nv nw nm b">productpage</code>服务。</p><p id="be45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于Istio支持Kubernetes，您可以简单地使用<code class="fe nu nv nw nm b">kubectl</code>命令来创建Istio对象:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="660d" class="mz md it nm b gy nq nr l ns nt">$ kubectl apply -f samples/bookinfo/networking/bookinfo-gateway.yaml<br/>gateway.networking.istio.io/bookinfo-gateway created<br/>virtualservice.networking.istio.io/bookinfo created</span></pre><p id="d915" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，尝试在浏览器上使用负载平衡器IP访问应用程序:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/ee987bd6ebefb5881b6e1e22496a5926.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yqoP8jC56bLsEMhmTiV15A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有红星的产品页面</p></figure><p id="782e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">刷新它，你会看到一个不同的页面出现:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/edbc250d520d7c75de10f98e718e67c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bj9vAi1SR8PRPTncJJHFmQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有黑色星星的产品页面</p></figure><p id="c394" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再次刷新它，您将看到另一个页面出现:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/cb11b0f0899d24123297717e75b6fdf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t43DbQ0Ywa8h8MP9VovRaA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">没有星星的产品页面</p></figure><p id="8476" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">发生了什么事？</p><p id="8ee7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，当我们部署应用程序时，我们实现了三个版本的<code class="fe nu nv nw nm b">ratings</code>微服务，它以循环方式显示。</p><p id="f03a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是Istio的默认路由策略，这表明Istio已安装并正常工作。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="2752" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">访问仪表板</h1><p id="9802" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Istio提供了许多可选的仪表板，您可以使用它们来挂钩您的网格。演示安装附带了Kiali仪表板，它为您提供了网格的拓扑结构以及流量是如何通过它的。</p><p id="7e9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要访问仪表板，您可以使用<code class="fe nu nv nw nm b">istioctl</code>打开一个代理:</p><pre class="kj kk kl km gt nl nm nn no aw np bi"><span id="c55d" class="mz md it nm b gy nq nr l ns nt">$ istioctl dashboard kiali<br/><a class="ae ky" href="http://localhost:20001/kiali" rel="noopener ugc nofollow" target="_blank">http://localhost:20001/kiali</a></span></pre><p id="198d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后使用代理URL在您的浏览器上打开Kiali dashboard，并使用默认用户名<code class="fe nu nv nw nm b">admin</code>和默认密码<code class="fe nu nv nw nm b">admin</code>登录。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/8c27fc849e4856489c6b701f9445789d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPDfgPZ_cl02S0Z4phb9tA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Kiali概述</p></figure><p id="c6fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">转到图形并选择默认名称空间以查看网状拓扑:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/7869b3ab3a333f4fe2f74eceed8ed8f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rt7xgTnvveL6VeaCfvZtrQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">基亚里图</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="32d2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="411f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">感谢您通读！我希望你喜欢这篇文章。在下一篇文章<a class="ae ky" href="https://medium.com/better-programming/how-to-manage-traffic-using-istio-on-kubernetes-cd4b96e00b57" rel="noopener">如何在Kubernetes </a>上使用Istio管理流量中，我将通过实际操作演示来讨论通过Istio进行流量管理，所以下一部分再见！</p></div></div>    
</body>
</html>