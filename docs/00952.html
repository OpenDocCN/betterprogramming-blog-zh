<html>
<head>
<title>Create an Interactive JavaScript 3D Model Inspired by Iron Man</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个受钢铁侠启发的交互式JavaScript 3D模型</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/create-an-interactive-javascript-3d-model-inspired-by-iron-man-8328982b7fd8?source=collection_archive---------5-----------------------#2019-07-31">https://betterprogramming.pub/create-an-interactive-javascript-3d-model-inspired-by-iron-man-8328982b7fd8?source=collection_archive---------5-----------------------#2019-07-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="db9d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">想过穿托尼·斯塔克的喷气动力靴子吗？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2bc154f1c3a06f806bde41e0777abd8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oMHeu6Moa2HuK7C88wjbUQ.gif"/></div></div></figure><p id="e211" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">想过穿托尼·斯塔克的鞋子会是什么样吗？</p><p id="d429" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我在这里告诉你，你可以做到。你不需要成为亿万富翁、天才、花花公子、慈善家——你只需要一点点JavaScript。</p><p id="88ba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文中，我将带您完成一个很酷的项目，我们将探索一些很棒的JavaScript模块。多亏了JavaScript，我们可以插入任何模块，用它创造出令人惊叹的东西。</p><p id="5eb1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">事不宜迟，让我们开始吧！</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="85eb" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">先决条件</h1><p id="932d" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">尽管我将解释我遵循的几乎所有流程，但仍有一些事情您应该了解:</p><ul class=""><li id="6052" class="mv mw it kw b kx ky la lb ld mx lh my ll mz lp na nb nc nd bi translated">一个IDE(可以是任何你习惯使用的东西)，我将在这个项目中使用VS代码。</li><li id="ff67" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp na nb nc nd bi translated"><em class="lq">JavaScript基础知识</em></li><li id="4160" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp na nb nc nd bi translated">带有工作网络摄像头的PC或笔记本电脑</li><li id="fd92" class="mv mw it kw b kx ne la nf ld ng lh nh ll ni lp na nb nc nd bi translated">你应该是漫威的粉丝，因为<em class="lq">权力越大，责任越大。</em></li></ul><h1 id="0f05" class="ly lz it bd ma mb nj md me mf nk mh mi jz nl ka mk kc nm kd mm kf nn kg mo mp bi translated">绝对初学者的资源</h1><p id="2653" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">如果你刚刚听说过JavaScript，不知道它是如何工作的，我建议你在开始这个项目之前，看看这个免费视频系列，获得一些见解和基础知识。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d07b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另外，你可以去programmingwithmosh.com<strong class="kw iu"><em class="lq">，</em> </strong>看看他，他是个很棒的老师，他在那里上传了很多很棒的内容。</p><p id="797f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> <em class="lq">现在我们来谈建筑这个事情吧！</em>T19】</strong></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="2570" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">您需要的模块</h1><p id="3e19" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在整个项目中，我们将只使用两个模块。你没看错:只要两个模块就可以了。</p><h2 id="a749" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated">三. js</h2><p id="1a78" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">看到缩略图视频中那个看起来很酷的盒子了吗？我们可以用这个JavaScript库创建类似的东西——一个易于使用的，<em class="lq">轻量级的</em>，带有默认WebGL渲染器的3D库。它还提供画布2D、SVG和CSS3D渲染器。</p><p id="660e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"><em class="lq">Web GL</em></strong><em class="lq">(Web Graphics Library)是一个JavaScript API，用于在任何兼容的Web浏览器中渲染交互式3D和2D图形，无需使用插件。我们可以直接将其集成到HTML &lt; canvas &gt;元素中。</em></p><p id="37b1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以用这个库创造一些令人惊奇的东西。自己去实验吧。如果你想了解更多关于<strong class="kw iu"> three.js </strong>的内容，请访问他们的<a class="ae nq" href="https://threejs.org/" rel="noopener ugc nofollow" target="_blank">网站<strong class="kw iu"> <em class="lq"> </em> </strong> </a>或者阅读他们的<em class="lq"> </em> <a class="ae nq" href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><div class="od oe gp gr of og"><a href="https://threejs.org/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">three.js - Javascript 3D库</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">一个可怕的易于使用的三维轻量级图书馆</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">threejs.org</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><h2 id="4836" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated">Handtrack.js</h2><blockquote class="ov ow ox"><p id="7a57" class="ku kv lq kw b kx ky ju kz la lb jx lc oy le lf lg oz li lj lk pa lm ln lo lp im bi translated">这是一个用于直接在浏览器中原型化实时手部检测(边界框)的库。在底层，它使用一个经过训练的卷积神经网络，为图像中手的位置提供边界框预测。卷积神经网络(ssdlite，mobilenetv2)使用TensorFlow对象检测API进行训练。</p></blockquote><p id="d14a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">它提供了一个包装器，允许您在web应用程序中构建基于手势的交互原型。它接受一个HTML图像元素(<code class="fe pb pc pd pe b">img</code>、<code class="fe pb pc pd pe b">video</code>、<code class="fe pb pc pd pe b">canvas</code>元素)，并返回一个包含边界框、类名和置信度得分的数组。</p><p id="63ef" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以用这个库做很多其他的事情。我建议你阅读他们的<a class="ae nq" href="https://github.com/victordibia/handtrack.js/" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> <em class="lq">文档</em> </strong> </a> <strong class="kw iu"> <em class="lq"> </em> </strong>以了解更多关于他们的信息，但是如果你只想坚持这个项目，那么这就足够了。</p><div class="od oe gp gr of og"><a href="https://github.com/victordibia/handtrack.js/" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">victordibia/handtrack.js</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">点击此处，在您的浏览器中观看现场演示。js是一个实时手部检测原型库</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">github.com</p></div></div><div class="op l"><div class="pf l or os ot op ou ks og"/></div></div></a></div></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="a6bd" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">文件结构</h1><p id="e243" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我们总是建议很好地组织您的文件夹和组件，这样当您的项目增长并变得可伸缩时，它就易于阅读和维护。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/f31f0cf3356aa7a202e3f28ebc9c9297.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*hqJ-ppRNTh7vSKomrJtuvg.png"/></div><p class="ph pi gj gh gi pj pk bd b be z dk translated">遵循这个文件结构</p></figure><p id="342b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于这个项目，我们将首先构建我们的组件。如果你想保持你的结构和我的一样，那么就按照这个方法，但是你可以自由地制作你自己的结构。只需在脚本和CSS文件中提及准确的来源。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="eeff" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">HTML方面</h1><p id="b25d" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">在本节中，我们将创建<strong class="kw iu">index.html</strong>和<strong class="kw iu"> style.css </strong>页面。这两个文件是我们整个项目的根文件，非常容易阅读和理解。让我们看一下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="e3f7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一个非常简单的文件，只有我们将在这个项目中使用的库和cdn。</p><p id="7369" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在部门<em class="lq">追踪器</em>中，我们正在创建自定义id，它将成为浏览器左上角的网络摄像头屏幕。<em class="lq">数据</em>部门在浏览器中渲染摄像机画面，并显示更新后的X和Y坐标。</p><p id="0637" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个项目的CSS是不言自明的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="bf43" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe pb pc pd pe b">#myvideo</code>标签有一个设置为<em class="lq"> none </em>的显示属性，这将在以后派上用场。想法是使默认视频显示为无，然后用户点击“<em class="lq">切换摄像机</em>”按钮，视频屏幕出现。这使得工作体验更加人性化。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><h1 id="f559" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">JS这边</h1><p id="5838" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">现在是这个项目有趣的部分。为了在屏幕上显示任何3D图形，我们需要three.js，但是仅仅导入脚本是没有用的。要真正在屏幕上看到一些东西，你需要三样东西:场景、摄像机和渲染器。</p><h2 id="750f" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated">设置三个对象</h2><p id="a5aa" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">让我们在项目中创建这三个元素:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="0261" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用这些命令，我们现在已经设置好了相机、场景和渲染器。<code class="fe pb pc pd pe b">Three.js</code>为我们提供了各种各样的相机，但对于这个特殊的项目，我们将使用<code class="fe pb pc pd pe b">Perspective Camera</code>。</p><p id="14d4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们看看这是怎么回事。在上面的代码中，我们已经用<code class="fe pb pc pd pe b">perspective camera</code>初始化了camera对象，这给了我们以下配置:<code class="fe pb pc pd pe b">PerspectiveCamera({Field of View}, {aspect ratio}, {near clipping pane}, {far clipping pane});</code></p><p id="09f9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后但同样重要的是，我们将<code class="fe pb pc pd pe b">renderer</code> <strong class="kw iu"> </strong>元素添加到HTML文档中。这是渲染器用来向我们显示场景的画布元素。</p><p id="e054" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是如果你运行这个，你可能会得到一个黑色的屏幕，上面有一条蓝线，X和Y坐标在左上角。</p><p id="abec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是我们还没有看到这个物体。为什么？</p><p id="28b3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们解决这个问题。</p><h2 id="cfa3" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated">创建和显示3D对象</h2><p id="2b62" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">为了添加立方体，我们将创建一个<code class="fe pb pc pd pe b">BoxGeometry</code>。该对象由立方体的顶点和面组成。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="20ed" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">同样，对于材质，three.js附带了很多，但是我们将在这个项目中使用<code class="fe pb pc pd pe b">MeshBasicMaterial</code> <strong class="kw iu"> </strong>。我们需要的第三样东西是一个网格。网格是一个对象，它接受一个几何体并对其应用一种材质，然后我们可以将它插入到我们的场景中，并自由移动。</p><p id="1837" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当我们调用<code class="fe pb pc pd pe b">scene.add()</code> <strong class="kw iu"> </strong>时，立方体会自动添加到坐标(0，0，0)中。这将导致相机和立方体都在彼此内部——为了避免这种情况，我们简单地将相机移出一点点<code class="fe pb pc pd pe b">camera.position.z = 5;</code></p><p id="bb5f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是如果运行这个，<strong class="kw iu"> <em class="lq">还是看不到立方体！</em> </strong>真让人沮丧，我知道，再坚持一点点！</p><p id="81c1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">实际上，您已经在项目中创建了立方体，但是它还不可见。要使其可见，请编写以下内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="0d4e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将创建一个名为<code class="fe pb pc pd pe b">animate()</code>的函数。该函数内部有一个渲染调用，用于渲染场景，从而允许您实际看到立方体。</p><p id="dbcb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但老实说，它只是一个无聊的绿色立方体，对吗？你可能想知道<em class="lq">“我也可以用简单的CSS来做，为什么要通过所有这些WebGL和渲染…</em></p><p id="ec96" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请允许我向你展示三个js的魔力…</p><p id="5e77" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尝试在您的项目中键入以下代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="80e6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">瞧，你有了一个三维立方体</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e51536cc89c1db9932a970ce93897f33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1mcp27plZhznPCM3SiGqvg.gif"/></div></div><p class="ph pi gj gh gi pj pk bd b be z dk translated">基本三维立方体</p></figure><h2 id="712d" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated">自定义多维数据集</h2><p id="deba" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">我们已经设计好了立方体，但是它看起来不像演示中的样子，是吗？演示版看起来更好——让我们定制我们的立方体来匹配它。</p><p id="02ad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您所要做的只是更改代码中的一些设置:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="9a72" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是从一开始的整个文件，代码中有一些额外的元素。此外，我们还添加了一个线框，这给了它钢铁侠全息的感觉。在这个文件的末尾，您应该会看到这样的内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4b546b667d7720fd7bf8bb70a2fe9594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DWzQXAt3f5WUIwqc5FKyVw.gif"/></div></div><p class="ph pi gj gh gi pj pk bd b be z dk translated">最终三维立方体</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pm np l"/></div></figure><p id="b972" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们已经成功了一半。👐 👆</p><h2 id="344f" class="nr lz it bd ma ns nt dn me nu nv dp mi ld nw nx mk lh ny nz mm ll oa ob mo oc bi translated">让我们玩一下handtrack.js</h2><p id="d86e" class="pw-post-body-paragraph ku kv it kw b kx mq ju kz la mr jx lc ld ms lf lg lh mt lj lk ll mu ln lo lp im bi translated">首先，我们需要在库的帮助下加载一个模型。我们还定义了一些参数，但这一步完全是可选的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="ebfe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果我们只使用了<code class="fe pb pc pd pe b">handTrack.load()</code>方法，这个过程也是可行的，但是我们想给我们的项目添加更多的定制，所以我们定义了额外的参数。</p><p id="db44" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦我们完成了handtrack.js模型的加载，我们需要在画布中加载视频流，就像HTML中定义的那样。为此，我们使用一种叫做<code class="fe pb pc pd pe b">handTrack.startVideo()</code>的方法</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="7180" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq">注意:我们有一个布尔变量</em> <code class="fe pb pc pd pe b"><em class="lq">isVideo</em></code> <em class="lq">来帮助流的切换。这是一种更好且用户友好的处理摄像机访问的方式，而不是让摄像机一直开着。</em></p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><p id="f10e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在到了我们需要一点机器学习的部分…但是不要担心，你不需要做任何事情！handtrack.js将在<em class="lq">谷歌的TensorFlow </em>的帮助下为你检测/预测数据。</p><p id="7bf3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是从handtrack.js获取预测的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="1d1b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在的技巧是跟踪手在视频画布上的坐标，并对三个js对象进行相应的更改。</p><p id="b00a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">来自<code class="fe pb pc pd pe b">model.detect()</code>的<code class="fe pb pc pd pe b">prediction</code>对象返回以下结果:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/9acdafd86cb16fd962385b054e403772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l9h4M7kYmGsnYYJFNZ_Gbg.png"/></div></div></figure><p id="12f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe pb pc pd pe b">bbox</code>键给出围绕手绘制的方框的坐标、宽度和高度值。但是我们试图获得手的中心点坐标，为此我们使用一个简单的公式:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/fb425777c67c5d2f278139feb9e79290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*06aOnWppAOtdMS62oclj-g.png"/></div></div></figure><p id="72c5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一个问题是对象的画布和跟踪器的画布的比例非常大。此外，两个源的中心点原点不是中心。要做到这一点，我们首先要移动坐标，这样视频画布的原点就可以在中心。</p><p id="803c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦做到这一点，解决规模问题就容易了。最终的结果是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pl np l"/></div></figure><p id="0177" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这就对了。你自己的3D物体，你可以用手控制它。</p></div><div class="ab cl lr ls hx lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pp np l"/></div></figure><p id="4df8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">做所有艰苦的工作并得到令人惊讶的最终结果难道不有趣吗？史塔克先生，去拯救世界吧。</p></div></div>    
</body>
</html>