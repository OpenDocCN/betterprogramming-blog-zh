<html>
<head>
<title>How To Build UI and Transitions Programmatically Without SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在没有SwiftUI的情况下以编程方式构建UI和转换</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-build-your-user-interface-programatically-without-swiftui-9f0dc52e02bc?source=collection_archive---------6-----------------------#2019-11-01">https://betterprogramming.pub/how-to-build-your-user-interface-programatically-without-swiftui-9f0dc52e02bc?source=collection_archive---------6-----------------------#2019-11-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b748" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">还没准备好SwiftUI？我们可以在代码中做很多事情，去掉故事板</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9222640cf0110427837ec2687a61a893.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ozEhqRJX7dtfkxhw5XiEMA.jpeg"/></div></div></figure><p id="f96e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">SwiftUI 是一种全新的为iOS应用构建用户界面的方式。然而，你可能是一个实际上喜欢老方法(UIKit和自动布局)的iOS开发者。</p><p id="8464" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">定义布局约束和使用UIKit其实很酷。不酷的是使用界面生成器和故事板。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="3dab" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">停止使用界面构建器</h1><p id="8e66" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">界面生成器速度慢且错误百出。在转而只使用代码为我的iOS应用程序构建界面后，我的生活变得更加轻松。</p><p id="d6f0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">使用界面构建器有很多缺点。</p><ol class=""><li id="90c0" class="ms mt iq kt b ku kv kx ky la mu le mv li mw lm mx my mz na bi translated">如果你没有建立一个非常简单的应用程序，你将不得不配置你的视图来匹配你的设计，例如添加半径，边框，阴影等。Interface Builder将无法显示这些更改，因为您已经在将在运行时应用的视图控制器类中定义了这些更改。</li><li id="05c6" class="ms mt iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated">你不知道幕后发生了什么。我花了这么多时间试图找出我的约束出了什么问题。</li><li id="9169" class="ms mt iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated">你不需要segues。Segues可以用一行代码代替:<code class="fe ng nh ni nj b">self.present(viewController, animated: true, completion: nil)</code></li><li id="9953" class="ms mt iq kt b ku nb kx nc la nd le ne li nf lm mx my mz na bi translated">控制你的用户界面。不要依赖这个工具，直接掌控。</li></ol><p id="b984" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你的项目很大程度上依赖于故事板，习惯于用代码做所有事情会很困难，但是值得一试。特别是如果你正在构建超过10个屏幕的复杂应用程序，界面构建器完全不是一个好的选择。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="2f62" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">如何设置一个根视图控制器并去掉Main.storyboard</h1><h2 id="4a9c" class="nk lw iq bd lx nl nm dn mb nn no dp mf la np nq mh le nr ns mj li nt nu ml nv bi translated">1.保留主界面为空</h2><p id="8de3" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">你不必附加一个主界面文件，那不是必需的。所以，空着吧。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/61bf59dca7aa73636fd421d6370c6d5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3PB2zadI5KKPc3b3ZOJ4Ow.png"/></div></div></figure><h2 id="b56d" class="nk lw iq bd lx nl nm dn mb nn no dp mf la np nq mh le nr ns mj li nt nu ml nv bi translated">2.删除Main.storyboard文件</h2><p id="00db" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">我知道感觉不一样，但是去掉<code class="fe ng nh ni nj b">Main.storyboard</code>你会焕然一新。</p><h2 id="bc9c" class="nk lw iq bd lx nl nm dn mb nn no dp mf la np nq mh le nr ns mj li nt nu ml nv bi translated">3.在AppDelegate.swift中设置根视图控制器</h2><p id="bccc" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">如果您还没有<code class="fe ng nh ni nj b">window</code>属性，请将其添加到您的<code class="fe ng nh ni nj b">AppDelegate.swift</code>中。然后，进入你的<code class="fe ng nh ni nj b">didFinishLaunchingWithOptions</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="19e4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">立即运行您的应用程序。你现在可能意识到你实际上并不需要故事板。</p></div><div class="ab cl lo lp hu lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ij ik il im in"><h1 id="731a" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">塞格斯？</h1><p id="77a5" class="pw-post-body-paragraph kr ks iq kt b ku mn jr kw kx mo ju kz la mp lc ld le mq lg lh li mr lk ll lm ij bi translated">下面是如何呈现另一个视图控制器。</p><pre class="kg kh ki kj gt nz nj oa ob aw oc bi"><span id="b6b3" class="nk lw iq nj b gy od oe l of og"><strong class="nj ir">let</strong> vc = AnotherViewController()<br/><strong class="nj ir">self</strong>.present(vc, animated: <strong class="nj ir">true</strong>, completion: <strong class="nj ir">nil</strong>)</span></pre><p id="a8c3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">哦，但是导航控制器？</p><pre class="kg kh ki kj gt nz nj oa ob aw oc bi"><span id="1dd1" class="nk lw iq nj b gy od oe l of og"><strong class="nj ir">let</strong> vc = AnotherViewController()<br/><strong class="nj ir">self</strong>.navigationController?.pushViewController(vc, animated: <strong class="nj ir">true</strong>)</span></pre><p id="b52c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里只需确保您的根视图控制器是一个导航控制器。</p><p id="d5e9" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">仅此而已。现在，您可以手动设置视图的框架，或者在视图控制器中定义自动布局约束。</p><p id="f30b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是如何通过定义自动布局约束将按钮放置在视图控制器的中心:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="fef1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，您可以继续构建您的布局，逐个定义约束。这样你就可以100%地控制呈现给用户的内容。</p><p id="ef46" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要了解更多关于定义约束的信息，请看一下本文档。</p><p id="ebfe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你认为这真的让你的生活更轻松，让你的开发过程更快，请在评论区告诉我。</p></div></div>    
</body>
</html>