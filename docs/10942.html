<html>
<head>
<title>I Created My Own Wordle Using Azure Functions, Azure Cosmos DB, and Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我用Azure函数、Azure Cosmos DB和Flutter创建了自己的Wordle</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/i-created-my-own-wordle-heres-how-289c361421e3?source=collection_archive---------4-----------------------#2022-02-05">https://betterprogramming.pub/i-created-my-own-wordle-heres-how-289c361421e3?source=collection_archive---------4-----------------------#2022-02-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cf78" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过解谜来提高你的编码技能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/09804f3a994b98b783df4545a9393895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H_gQrmDrLOMJU08SSSbdfg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">我的世界</p></figure><p id="a906" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这个词已经存在了一段时间，但我是上周才听说的。我是在我们朋友的WhatsApp群里看到的。然后我们开始分享我们每天午夜过后一个小时的分数。太棒了。</p><p id="28c5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">虽然这是一个非常有趣的游戏，但它似乎也是一个非常容易实现的软件。那么为什么不试一试呢？是的，就这样我决定创造我自己的世界。以下是方法。</p><h1 id="b0c9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">有什么不同？</h1><ul class=""><li id="a633" class="mk ml iq kx b ky mm lb mn le mo li mp lm mq lq mr ms mt mu bi translated">而当页面被加载时，Wordle会带来整个单词列表(是的！)，我已经创建了一个API来验证单词。该API根据每日单词(存储在数据库中)获取并验证一个单词。</li><li id="f21a" class="mk ml iq kx b ky mv lb mw le mx li my lm mz lq mr ms mt mu bi translated">Wordle有一个合法单词的列表，它只允许你从列表中输入一个单词。相反，我查询一个<a class="ae lr" href="https://dictionaryapi.dev/" rel="noopener ugc nofollow" target="_blank">免费字典API </a>并验证输入的单词是否是合法的英语单词。</li><li id="7709" class="mk ml iq kx b ky mv lb mw le mx li my lm mz lq mr ms mt mu bi translated">虽然Wordle是一个网站，但我创建了一个flutter应用程序。我只在android上测试过，但是我没有理由相信它不能在iOS上运行:)。</li></ul><h1 id="fc79" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">数据库</h1><p id="468d" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">我一直在寻找一个便宜的数据库解决方案，因为它只需要存储一对日期(yyyyMMdd)和单词的键值。我为它选择了Azure Cosmos DB。我创建了一个Cosmos DB，在其中创建了一个容器，并添加了一些日期、单词对。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/869fdd98b467b9503a49b313c24373f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BCp-EFw5_QpSPZ3cTHX0Ew.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Azure Cosmos DB数据浏览器</p></figure><h1 id="80fa" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">API</h1><p id="4011" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">我也想为我的API找一个更便宜的解决方案，所以选择了无服务器(Azure Functions ),因为:</p><ul class=""><li id="46a2" class="mk ml iq kx b ky kz lb lc le ne li nf lm ng lq mr ms mt mu bi translated">我的API不是资源密集型的。</li><li id="8c4e" class="mk ml iq kx b ky mv lb mw le mx li my lm mz lq mr ms mt mu bi translated">它将按请求计费。</li></ul><p id="2ac1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在<a class="ae lr" href="https://docs.microsoft.com/en-us/azure/azure-functions/create-first-function-vs-code-typescript" rel="noopener ugc nofollow" target="_blank">这个</a>文档之后，我创建了一个新的功能项目。<br/>Azure函数向Cosmos DB注册一个输入绑定，并在这个 doc之后的每个请求中获取一个存储单词的列表。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/19a73e28b7f14001c31c179965672f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*65OPYawmZw8Z8AG2O1JhfA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Cosmos DB输入绑定</p></figure><p id="defe" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">函数API现在被设置为验证输入的单词。让我把它分成三个部分:</p><ul class=""><li id="eb6d" class="mk ml iq kx b ky kz lb lc le ne li nf lm ng lq mr ms mt mu bi translated">验证输入单词(不为空，与每日单词长度相同)，从DB中提取每日单词并转换为大写。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><ul class=""><li id="e6ea" class="mk ml iq kx b ky kz lb lc le ne li nf lm ng lq mr ms mt mu bi translated">检查两个单词是否相同(提前返回)，验证它是否是合法的英语单词并创建响应。我对每个字母都使用了颜色代码；g '如果字母位置匹配，y '如果找到字母但位置不正确，b '如果没有找到字母。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="6a82" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">输入单词中每个字母的状态由<strong class="kx ir"><em class="nk">getLetterStatus</em></strong>函数决定。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="cfea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">部署的API:<a class="ae lr" href="https://wordle-api.azurewebsites.net/api/CheckWord?word=" rel="noopener ugc nofollow" target="_blank">https://wordle-api.azurewebsites.net/api/CheckWord?word=</a></p><blockquote class="nl nm nn"><p id="089c" class="kv kw nk kx b ky kz jr la lb lc ju ld no lf lg lh np lj lk ll nq ln lo lp lq ij bi translated">代码库:<a class="ae lr" href="https://github.com/sharmavikashkr/wordle-function" rel="noopener ugc nofollow" target="_blank">https://github.com/sharmavikashkr/wordle-function</a></p></blockquote><h1 id="f2e8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">该应用程序</h1><p id="b030" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">为什么颤动？好吧，我想创造我的世界，但却在颤动中创造了它。</p><h2 id="a276" class="nr lt iq bd lu ns nt dn ly nu nv dp mc le nw nx me li ny nz mg lm oa ob mi oc bi translated">word_field组件</h2><p id="ff0e" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">该组件创建一个输入小部件，它在5个框中接受一个5个字母的单词(每个字母一个框)。这类似于创建OTP字段。下面每个字母的方框要点:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="0146" class="nr lt iq bd lu ns nt dn ly nu nv dp mc le nw nx me li ny nz mg lm oa ob mi oc bi translated">家用部件</h2><p id="4265" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">该组件构建了一个支架，并放在一起的网页接受6个单词的尝试。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="825a" class="nr lt iq bd lu ns nt dn ly nu nv dp mc le nw nx me li ny nz mg lm oa ob mi oc bi translated">各州</h2><p id="6ed0" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">我在home组件中维护5个状态变量:</p><ul class=""><li id="2588" class="mk ml iq kx b ky kz lb lc le ne li nf lm ng lq mr ms mt mu bi translated"><code class="fe od oe of og b">_attempts</code>:保存到目前为止执行的尝试次数。</li><li id="e126" class="mk ml iq kx b ky mv lb mw le mx li my lm mz lq mr ms mt mu bi translated"><code class="fe od oe of og b">_wordColors</code>:保存6个颜色代码的列表(如“<em class="nk">bggyb</em>”)；从API返回)。每个颜色代码被传递给各自的<code class="fe od oe of og b">word_field</code>组件，以填充相应的字母背景。</li><li id="91b7" class="mk ml iq kx b ky mv lb mw le mx li my lm mz lq mr ms mt mu bi translated"><code class="fe od oe of og b">_wordsEnabled</code>:保存6个布尔值列表，以识别哪个<code class="fe od oe of og b">word_field</code>正在接受输入。其他<code class="fe od oe of og b">word_fields</code>为禁用。</li><li id="db41" class="mk ml iq kx b ky mv lb mw le mx li my lm mz lq mr ms mt mu bi translated"><code class="fe od oe of og b">gameover</code>:游戏结束后保存一个bool。</li><li id="104f" class="mk ml iq kx b ky mv lb mw le mx li my lm mz lq mr ms mt mu bi translated"><code class="fe od oe of og b">shareMessage</code>:猜对每日一词，游戏结束。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="83d9" class="nr lt iq bd lu ns nt dn ly nu nv dp mc le nw nx me li ny nz mg lm oa ob mi oc bi translated">_checkWord处理程序</h2><p id="58a5" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">这个处理程序调用<code class="fe od oe of og b">wordle-api</code>，获取颜色代码，并相应地更新组件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h2 id="05da" class="nr lt iq bd lu ns nt dn ly nu nv dp mc le nw nx me li ny nz mg lm oa ob mi oc bi translated"><em class="oh">共享消息</em>生成器</h2><p id="37ed" class="pw-post-body-paragraph kv kw iq kx b ky mm jr la lb mn ju ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">如果游戏成功获胜，这个部分负责创建共享消息。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure></div><div class="ab cl oi oj hu ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/84d570f06c2c530d719a4564657d9708.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/1*_fF3938bSKIWtxcdWhpGSg.gif"/></div></figure><blockquote class="nl nm nn"><p id="7ae4" class="kv kw nk kx b ky kz jr la lb lc ju ld no lf lg lh np lj lk ll nq ln lo lp lq ij bi translated">代码库:<a class="ae lr" href="https://github.com/sharmavikashkr/wordle_app" rel="noopener ugc nofollow" target="_blank">https://github.com/sharmavikashkr/wordle_app</a></p></blockquote><h1 id="9f0c" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">超出范围</h1><ul class=""><li id="58f8" class="mk ml iq kx b ky mm lb mn le mo li mp lm mq lq mr ms mt mu bi translated"><code class="fe od oe of og b">shareMessage</code> <strong class="kx ir"> </strong>的实际分享给社会处理。</li><li id="25d8" class="mk ml iq kx b ky mv lb mw le mx li my lm mz lq mr ms mt mu bi translated">字母/单词部件的翻转/摇动动画(很想尽快添加)。</li></ul></div></div>    
</body>
</html>