<html>
<head>
<title>Deploy a Secure Mutisig-Owned NFT Using OpenZeppelin Contracts and Defender</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OpenZeppelin合同和Defender部署安全的Mutisig所有的NFT</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/theres-a-lot-of-excitement-around-nfts-and-with-good-reason-b7ebc5ecc836?source=collection_archive---------9-----------------------#2022-04-08">https://betterprogramming.pub/theres-a-lot-of-excitement-around-nfts-and-with-good-reason-b7ebc5ecc836?source=collection_archive---------9-----------------------#2022-04-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b08c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">围绕NFTs有很多令人兴奋的事情——这是有充分理由的</h2></div><figure class="kf kg kh ki gt kj"><div class="bz fp l di"><div class="kk kl l"/></div></figure><p id="d749" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">围绕NFTs有很多令人兴奋的事情，这是有充分理由的。通过几行Solidity代码，您可以创建一个代表独特艺术品所有权的令牌(<a class="ae li" href="https://opensea.io/collection/twinflames" rel="noopener ugc nofollow" target="_blank"> Twin Flames </a>)。你甚至可以在代码本身中对艺术作品进行编码(<a class="ae li" href="https://www.artblocks.io/" rel="noopener ugc nofollow" target="_blank">艺术块</a>)。NFTs可以用来注册<a class="ae li" href="https://ens.domains/" rel="noopener ugc nofollow" target="_blank">你自己的。eth name </a>或signal membership in a community(<a class="ae li" href="https://boredapeyachtclub.com/#/" rel="noopener ugc nofollow" target="_blank">BAYC</a>)。NFTs的前景是光明的，该技术拥有巨大的价值创造潜力。然而，这种价值能否持续取决于基础合同的安全性。</p><p id="528d" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在本教程中，我将向您展示如何使用OpenZeppelin <a class="ae li" href="https://wizard.openzeppelin.com/" rel="noopener ugc nofollow" target="_blank">合同向导</a>创建和部署NFT合同——无需接触任何Solidity代码或JavaScript。您将能够通过multisig管理您的令牌，使用OpenZeppelin <a class="ae li" href="https://openzeppelin.com/defender/" rel="noopener ugc nofollow" target="_blank"> Defender </a>铸造令牌并在紧急情况下暂停合同的功能。</p><p id="a691" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在本教程结束时，您将拥有自己的已部署NFT合同。更重要的是，您还将获得一些关于安全合同部署和管理的重要概念的宝贵经验。</p><h1 id="5438" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">创建三个帐户</h1><p id="097c" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">首先，我们来看看合同所有权的问题。简单的NFT合同可以部署到任何<a class="ae li" href="https://ethereum.org/en/developers/docs/accounts/#types-of-account" rel="noopener ugc nofollow" target="_blank">外部拥有的帐户(EOA) </a>。例如，您可以使用您的<a class="ae li" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">元掩码</a>帐户来部署合同，然后您的帐户将拥有该合同。只要没有人窃取你的私人密钥，你永远不会失去访问该帐户，你将是该合同的唯一所有者，你可以运行你分配给它的任何管理功能。但是，单个EOA作为合同管理员是不安全的。</p><p id="420b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">更安全的做法是让您的智能合约归一个<code class="fe mg mh mi mj b">multisig</code>所有。把一个<code class="fe mg mh mi mj b">multisig</code>想象成一个由多个账户组成的团队钱包。通常情况下，一个<code class="fe mg mh mi mj b">multisig</code>的所有权会被分配给三到五个在不同地点使用硬件钱包的不同个人，但在这种情况下，为了简单起见，你将创建三个Metamask帐户，并仍然是所有帐户的唯一所有者。当您指定您的<code class="fe mg mh mi mj b">multisig</code>中的三个账户中的两个必须批准给定的交易时，三账户<code class="fe mg mh mi mj b">multisig</code>提供了额外的安全层。</p><p id="d096" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">对于三账户<code class="fe mg mh mi mj b">multisig</code>，你需要有三个独立的账户。点击你的账户图片，然后选择<strong class="ko ir">创建账户</strong>，就可以很容易地在Metamask中创建新账户。一旦你这样做了三次，你就可以继续了。</p><p id="5de0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">重要安全提示</strong>:在开发过程中，使用不同的钱包甚至不同的浏览器是一个很好的做法，而不是您通常在以太坊上进行交易时使用的浏览器。即使Rinkeby和<code class="fe mg mh mi mj b">mainnet</code>是不同的网络，你的Rinkeby私钥和你的<code class="fe mg mh mi mj b">mainnet</code>私钥是一样的。如果您在开发过程中不小心泄露了您的私钥，您可能会丢失该钱包拥有的所有资产，因此使用不同的浏览器——和完全不同的帐户——是一件值得做的事情。</p><h1 id="a006" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">获取Testnet ETH</h1><p id="ffc5" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">在区块链上存储数据需要消耗汽油。你需要在联邦理工学院为此付费。幸运的是，由于你将使用<code class="fe mg mh mi mj b">testnet</code>，你可以使用<code class="fe mg mh mi mj b">testnet</code> ETH，它可以从水龙头免费获得。</p><p id="3bf8" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">水龙头是一个智能合同，它向任何调用它的合同发送预定数量的ETH。您的三个账户中只有一个需要ETH提供资金。一旦你从水龙头中得到你的ETH，你就为下一步做好了准备。</p><p id="de2f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我在这里收集了一份Rinkeby水龙头的清单。</p><h1 id="fe33" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">用防御者管理员创建一个灵知保险箱</h1><p id="8170" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">OpenZeppelin Defender是一个用于以太坊开发的安全操作(SecOps)平台。在本教程中，您将使用它来管理您的multisig帐户，并对您部署的合同运行管理功能。</p><p id="1f83" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">前往<a class="ae li" href="https://defender.openzeppelin.com" rel="noopener ugc nofollow" target="_blank">defender.openzeppelin.com</a>。如果您还没有帐户，您需要注册。免费帐号会给你很多功能，我们会在以后的教程中探索更多。</p><ul class=""><li id="8fed" class="mk ml iq ko b kp kq ks kt kv mm kz mn ld mo lh mp mq mr ms bi translated">登录后，您会在左侧导航中看到一些选项。选择<strong class="ko ir">管理员</strong> → <strong class="ko ir">添加合同</strong> → <strong class="ko ir">创建灵知保险箱</strong>。</li><li id="34f3" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated">在Metamask中，选择<strong class="ko ir"> Rinkeby </strong>网络。</li><li id="944e" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated">点击<strong class="ko ir">连接钱包</strong>并选择持有您从水龙头获得的testnet ETH的账户。</li><li id="c9e3" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated">给你的multisig起一个你喜欢的名字，然后选择<strong class="ko ir"> Rinkeby </strong>网络。</li><li id="e770" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated">在“所有者”下，您需要添加三个元掩码帐户的地址。为此，您在Metamask中选择一个帐户，复制地址，将其粘贴到Defender中，然后选择<strong class="ko ir">添加所有者。对每个元掩码</strong>帐户重复此步骤。</li><li id="d61a" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated">将您的<strong class="ko ir">阈值</strong>设置为<strong class="ko ir"> 2 </strong>。</li><li id="a738" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated">点击<strong class="ko ir">创建Gnosis安全</strong>。</li><li id="6390" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated">连接到Defender的每个帐户都需要确认交易。</li></ul><p id="1e37" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">当您看到“交易已确认”消息时，您可以点击<strong class="ko ir">进入保险箱</strong>查看您的multisig的详细信息。在本教程的后面，您将把您的NFT合同的所有权转移到此帐户。</p><p id="c6ef" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">重要安全提示</strong>:在本教程中，三账户multisig的阈值为2，这意味着三个账户中的两个账户必须批准任何交易才能通过。2/3多西格比EOA更安全。将阈值设置为1将不如EOA安全，因为如果任何一个账户被泄露，交易可以代表multisig被批准。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi my"><img src="../Images/cbde9c80a5a20ce0e2e96a1b6d225fa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7ZRETGiXlu6WtYk8"/></div></div></figure><h1 id="9759" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">咨询巫师</h1><p id="5232" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">OpenZeppelin契约向导允许您根据所做的选择，从最新发布的安全OpenZeppelin契约中为您提供预构建的可靠性代码，从而快速启动开发。你可以把这段代码导出到Remix或者下载到本地使用。</p><p id="5dc3" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">前往<a class="ae li" href="https://wizard.openzeppelin.com" rel="noopener ugc nofollow" target="_blank">wizard.openzeppelin.com</a>继续。</p><p id="e629" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">使用这个工具，您可以创建用于管理DAO的ERC20可替换令牌契约、ERC721 NFTs、ERC1155多令牌契约和调控器契约。由于您正在制作NFT，您可以选择ERC1155或ERC721。在本教程中，我们将选择ERC721。</p><p id="b1ae" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">合同向导为您提供了几个特定于您所选合同标准的关键选项，以便您只需在左侧面板中做出所需的选择即可开始运行。</p><p id="f564" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在“设置”下，为您的令牌指定您喜欢的名称和符号。</p><p id="77d9" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">您可以暂时忽略基本URI，因为在本教程中您不会使用令牌指向任何元数据。</p><p id="fadb" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">关于元数据:令牌元数据本身就是一个完整的主题，所以我们将在以后的教程中专门讨论NFT开发的这个方面。对于本教程，重点是安全的合同所有权和管理。这是在分散的公共区块链上负责任地处理不可变代码的一个非常重要的构件。</p><p id="4da0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在Features下，选择Mintable，这样就可以通过调用mint函数来创建新的令牌。</p><p id="3958" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">接下来，让我们考虑令牌的访问控制。向导的工具提示对于解释这里的主要思想非常有帮助。您需要某种形式的访问控制来回答谁拥有和调用哪个函数这个非常重要的问题。Ownable是一个简单的访问控制规则。</p><pre class="kf kg kh ki gt nf mj ng nh aw ni bi"><span id="33c3" class="nj lk iq mj b gy nk nl l nm nn">function safeMint(address to, uint256 tokenId) public onlyOwner {<br/>    _safeMint(to, tokenId);<br/>}</span></pre><p id="4d1f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">默认情况下，访问控制设置为<code class="fe mg mh mi mj b">Ownable</code>，我们的契约设置为导入<code class="fe mg mh mi mj b">Ownable.sol</code>。你会注意到代码中有一个关于公共函数的<code class="fe mg mh mi mj b">onlyOwner</code>修饰符，这意味着只有契约的部署者的地址才能调用它。当契约被创建并写入区块链时，构造函数将部署者的地址存储为契约所有者。稍后，您将通过运行将所有权转移到您的multisig帐户的功能来更新合同的所有权。</p><p id="72c6" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">除了<code class="fe mg mh mi mj b">onlyOwner</code>修改器，制作契约<code class="fe mg mh mi mj b">Ownable</code>给你其他可以使用的功能，比如<code class="fe mg mh mi mj b">renounceOwnership</code>和<code class="fe mg mh mi mj b">transferOwnership</code>。现有的所有者可以调用这些函数来永久地更改合同将哪个帐户视为其所有者。</p><p id="8226" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">为什么用户想要放弃合同的所有权？根据合同，放弃所有权可以作为一种诚信的标志，表明合同没有被任何爱管闲事的管理员篡改的风险。契约仍然存在，令牌仍然可以自由转移，契约的公共或外部状态变量仍然可以被查询。简而言之，任何不受onlyOwner修饰符限制的外部或公共函数都可以被调用。</p><p id="9836" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">选择<strong class="ko ir">自动增加id</strong>，以便每次成功铸造代币时，合同跟踪铸造的代币总数。您可以从<code class="fe mg mh mi mj b">Counters.sol</code>导入和添加到<code class="fe mg mh mi mj b">safeMint</code>函数的代码中看到这一点。</p><p id="34fd" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">接下来，我们来看看可贫性的问题。选择<strong class="ko ir">暂停</strong>添加暂停和取消暂停功能，以及在令牌传输中使用whenNotPaused修饰符时发生的检查。默认情况下，paused设置为false。暂停合同会影响令牌传输，因为added _beforeTokenTransfer函数会在有人想要传输令牌时运行。</p><p id="23e9" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">为什么考虑实现这一点？如前所述，如果发生灾难性事件，暂停允许您禁止令牌传输功能，直到合同解除暂停。</p><p id="d48c" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">当然，为了透明起见，提醒你的用户注意这个问题是个好主意，但那是另一回事。</p><p id="0385" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">退一步说，契约可废除性让我们考虑在令牌转移过程中到底发生了什么。你的电子钱包不像有法定货币的实体钱包。当你拥有一辆NFT时，那辆NFT永远不会被装进你的钱包。更准确的说，你的钱包里包含了你的私钥，以及它签署交易的能力。NFT的所有权是通过您的公钥存储在智能契约上来实现的，在地址到令牌id的映射中，NFT属于该智能契约。</p><p id="d834" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">请随意试验各种功能，看看在合同向导提供的代码中添加或修改了什么。</p><p id="4535" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">关于可升级性</strong> : Remix目前不支持部署可升级合约。契约的可升级性真正打开了局面，因此在未来的教程中，您将使用VSCode和Hardhat在本地创建一个可升级的契约。</p><p id="1c38" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">你会注意到这里有一个<strong class="ko ir">安全联系人的位置。</strong>最好现在就将它包括在内，因为一旦部署，您将无法编辑您的合同。如果您希望以后添加任何监控或警报服务，这将允许您的合同在代码通过验证后注册到该服务。</p><p id="9af0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">此时，你应该退一步，看看你这里有什么。它很安全，很棒，而且只需花一点点心思，我们就希望您的NFT合同具有什么功能。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi my"><img src="../Images/c14d57e853337979d76bf88db02a832d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BgHWHHU6oQuq4WHT"/></div></div></figure><h1 id="e4c6" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">导入到混音</h1><p id="a597" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">当你准备好了，只需点击<strong class="ko ir">在Remix中打开，</strong>一切都会被导入到<a class="ae li" href="https://remix.ethereum.org" rel="noopener ugc nofollow" target="_blank"> Remix </a>中。Remix是一个真正的Solidity IDE，所以一旦你的代码被导入到这里，你就可以<em class="no">添加或者改变它。然而，既然向导把一切都保持在良好的状态，就不要改变任何东西。</em></p><h1 id="5bd4" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">编制</h1><p id="2fd7" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">编译您的代码可以将其部署到区块链。</p><p id="cc76" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在左侧，确保编译器与您的<code class="fe mg mh mi mj b">pragma</code>指定的Solidity版本匹配，或者是一个更新的版本，然后点击<code class="fe mg mh mi mj b">Compile contract-{someAlphanumeric}.sol</code>。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi np"><img src="../Images/94f42b6ca96eb6a734f4e0aeaaec64a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GLVq8VDm2uwJ-Llo"/></div></div></figure><p id="8b35" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">代码将会编译，您会在左侧看到一些新选项。在下面，您会注意到一个复制ABI和字节码的链接。我们不会在这里使用它，但是如果您正在构建一个前端来与您的智能契约交互，您将需要契约的ABI，它本质上是一个由诸如ethers.js之类的库使用的API</p><h1 id="14de" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">部署</h1><p id="cc72" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">部署我们的代码会发送一个事务来将其写入区块链。</p><p id="c60a" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">从Remix的工具栏中，选择<strong class="ko ir">部署并运行事务</strong>。</p><p id="aef2" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">让我们考虑一下不同的环境。如果我们把它作为JavaScript VM，部署它不会花费我们任何成本，但是它也不会存在于Remix之外。这个选项非常适合初始测试和实验，但是我们已经准备好将我们的代码部署到公共测试网。公共测试网是一个真正的区块链，有矿工和天然气费用，有一个关键的区别:测试网ETH没有现实世界的价值。如果你在测试网上犯了一个错误，需要重新部署，这不会在财务上给你造成损失。</p><p id="cc47" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">首先，仔细检查您使用的是仅用于开发的元掩码钱包。这个钱包应该就是你之前放的那个。在您的Metamask钱包中，确保您在Rinkeby网络上。</p><p id="80b2" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<strong class="ko ir">环境</strong>下，选择<strong class="ko ir">注塑网3 </strong>。这样做将导致Metamask连接到该站点。</p><p id="e4d5" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">一旦连接，您将看到您的帐户的公钥显示在<strong class="ko ir">帐户</strong>下。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nq"><img src="../Images/68035c03a5d26d9259fe2c80424a9a18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m_26aZSCqA68ntEI"/></div></div></figure><p id="e879" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">事情越来越激动人心了！让我们借此机会更深入地了解一下当涉及到合同中的重要声明时，幕后发生了什么。虽然我们首先看到的是顶部的附加代码行，但这里还有更多内容，它解释了附加功能的来源。</p><pre class="kf kg kh ki gt nf mj ng nh aw ni bi"><span id="21f5" class="nj lk iq mj b gy nk nl l nm nn">import "@openzeppelin/contracts@4.5.0/token/ERC721/ERC721.sol";<br/>import "@openzeppelin/contracts@4.5.0/security/Pausable.sol";<br/>import "@openzeppelin/contracts@4.5.0/access/Ownable.sol";<br/>import "@openzeppelin/contracts@4.5.0/utils/Counters.sol";</span></pre><p id="de72" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<strong class="ko ir">合同</strong>下，点击下拉菜单。在最底部，您会看到您的ERC721令牌合同。但是，所有这些其他合同是从哪里来的呢？这些是在契约顶部指定的导入及其所有必需的依赖项。实际上，你可以把你的合同想象成首先包括这些合同中的每一个，所有这些都在一个长的大型合同中。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nr"><img src="../Images/48208543598662666e112a1ea95ef3c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AUq24Bi3e5rmjV7h"/></div></div></figure><p id="54fb" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">您会注意到,<code class="fe mg mh mi mj b">Ownable</code>显示在列表的顶部，但是我们希望部署我们的令牌，而不仅仅是<code class="fe mg mh mi mj b">Ownable</code>,所以一定要选择您的令牌合同。当您部署它时，所有的导入和依赖项都将在同一个事务中部署。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/776afebe56dad4a27235b25b9b9968a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/0*zRJS6tt4QWXp8vRK"/></div></figure><p id="4b4c" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">选择<strong class="ko ir">部署</strong>将提示您确认Metamask中的交易并支付油费。</p><p id="0ce6" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在屏幕的底部，Remix让您知道交易正在被挖掘以及何时得到确认。它包括哪个块、从哪里部署的地址等细节。您可以在etherscan 上选择<strong class="ko ir">查看，查看该特定交易的所有详细信息。</strong></p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nt"><img src="../Images/d7ffb243db609c86600515e558c6fa88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4153kYiDkXvlXAnk"/></div></div></figure><p id="49dd" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在Etherscan中，<strong class="ko ir"> From </strong>地址显示了您刚刚用来部署合同的地址。选择该地址将向您显示以前通过该地址进行的所有交易，由Etherscan索引。</p><p id="97db" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated"><strong class="ko ir">到</strong>地址是已部署合同的地址。</p><p id="d6b0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">您也可以通过返回Remix查看合同，点击按钮复制显示已部署合同的地址，并在<a class="ae li" href="https://rinkeby.etherscan.io" rel="noopener ugc nofollow" target="_blank"> Rinkeby Etherscan </a>的搜索框中输入该地址。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/ee29e1a5f4bbbb94eea941925024c3b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/0*sGGpt7gERAV91rDE"/></div></figure><h1 id="2788" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">合同验证</h1><p id="07e4" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">验证合同是那些让任何人在Etherscan上查找源代码时都可以轻松访问的合同。验证合同还允许用户直接从Etherscan运行任何公开可用的读/写功能。虽然没有必要验证您的源代码，但这绝对是一个好的做法。</p><p id="8f7b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">要在Remix中做到这一点，您需要首先通过点击左下方的插件来添加Etherscan合同验证插件。搜索并安装Etherscan。安装完成后，从左侧导航栏中选择<strong class="ko ir">以太扫描合同验证</strong>插件。</p><p id="deab" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">你需要一个Etherscan API密匙，你可以通过进入<a class="ae li" href="https://etherscan.io" rel="noopener ugc nofollow" target="_blank"> etherscan.io </a>并创建一个账户来获得。登录后，您将在您的用户ID下的下拉列表中看到<strong class="ko ir"> API键</strong>的列表。</p><p id="9e2f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">一旦你创建并复制了你的API密匙，返回Remix并粘贴它，然后从下拉列表中选择你的令牌合同。(不需要包含任何构造函数参数。)粘贴已部署契约的地址。您可以在之前交易的<strong class="ko ir">到</strong>:字段中的以太网扫描中找到这一点。您也可以在<strong class="ko ir">已部署合同</strong>下的<strong class="ko ir">部署</strong>部分的Remix中找到它。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/7c90cc200677940c565e936217f8a317.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/0*jo8jK7biSfEIVQxX"/></div></figure><h1 id="d1e5" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">在Etherscan上与您已验证的合同互动</h1><p id="a0c3" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">返回以太扫描并选择<strong class="ko ir">合同</strong>。您将看到合同的完整源代码以及所有导入的合同。因为您的合同已经过验证，所以您也获得了读写合同的能力。选择<strong class="ko ir">读取合同</strong>显示您可以在合同上调用的不消耗汽油的功能。</p><p id="2641" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">选择<strong class="ko ir">写交易</strong>显示要求您连接钱包并支付交易的功能，因为它们改变了区块链的状态。</p><p id="465a" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">Etherscan为已验证的合同提供了与已部署和已验证的合同进行交易的最小前端。它很小，但足以运行与开发完整的web应用程序时使用ethers.js相同的事务。</p><p id="28aa" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">现在，查询这些不会告诉我们任何非常有趣的事情。我们没有铸造任何代币。让我们回到防守那部分。</p><h1 id="7991" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">将合同导入Defender</h1><p id="4259" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">Defender是处理已部署合同的一个非常棒的工具。要开始这个过程，我们需要将合同导入Defender。“导入合同”不会改变合同本身。相反，你可以把Defender看作是一个调用契约函数的工具。事实上，同样可以将任何经过验证的合同导入Defender，无论它是否为您所有。毕竟这是一个公共区块链！</p><p id="7e62" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">回到<a class="ae li" href="https://defender.openzeppelin.com" rel="noopener ugc nofollow" target="_blank">防御者</a>，选择<strong class="ko ir">管理员</strong>。您将看到之前创建的multisig。我们一会儿会用到它。</p><p id="ee90" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">从右上角选择<strong class="ko ir">添加合同</strong> → <strong class="ko ir">导入新合同</strong>。</p><p id="8484" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">你可以给它起任何名字。为了简单起见，最好将其命名为与部署的契约相同的名称。</p><p id="5261" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">选择<strong class="ko ir"> Rinkeby </strong>并粘贴已部署的合同地址。请记住:您可以通过以太网扫描找到合同地址，作为您钱包最近交易的<strong class="ko ir"> To: </strong>字段，或者在<strong class="ko ir">部署的合同</strong>下重新混合。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nw"><img src="../Images/da7612913129bc30c704f9f41dadd11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S1lNwFWxk_Pxm0Vf"/></div></div></figure><p id="61e0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">因为合同已经过验证，Defender会自动加载ABI，并检测到您的合同是可暂停的，这意味着如果您愿意，您可以使用Defender暂停我们的合同。</p><p id="8554" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">点击<strong class="ko ir">添加</strong>。</p><h1 id="2f19" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">将所有权转移给Multisig</h1><p id="ba0a" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">现在，您的NFT合同将您用来部署它的钱包地址设置为其当前所有者。</p><p id="6e2b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">Multisig所有权更安全，因此我们将所有权转移到前面创建的multisig。为此，选择<strong class="ko ir">新提议</strong>，然后选择<strong class="ko ir">管理操作</strong>。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi my"><img src="../Images/0677c360affa3397ecfdb7aef4968493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OB57BkqWozMBcmoz"/></div></div></figure><p id="248c" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在这里，在屏幕的右侧，您可以看到合同的当前状态。它不是暂停的，拥有者是你的钱包地址，并且<code class="fe mg mh mi mj b">totalSupply</code>是零，因为我们没有铸造任何代币。</p><p id="2fc4" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">点击<strong class="ko ir">功能</strong>下拉菜单，选择<code class="fe mg mh mi mj b">transferOwnership</code>。在<code class="fe mg mh mi mj b">newOwner</code>下，选择您给multisig起的名字。</p><p id="3c76" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在这下面，你会看到<strong class="ko ir">执行策略</strong>。你会问，那是什么？Defender只是问你希望如何促成这笔交易。</p><p id="b2a0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">如果您的契约由治理契约拥有，就像DAO一样，您将选择<strong class="ko ir"> Governor </strong>，这样，如果事务在投票中被通过，它们将会运行。通常，这将与时间锁一起完成，时间锁在事务执行中应用预设的延迟。为此，您可以选择<strong class="ko ir">时间锁</strong>。</p><p id="751f" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">我们没有使用时间锁或调控器，所以我们的执行策略相当简单。</p><p id="3dcb" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">总的来说，如果你遇到让你挠头的事情，搜索<a class="ae li" href="https://docs.openzeppelin.com/defender/admin" rel="noopener ugc nofollow" target="_blank">文档</a>，答案可能就在那里。在Defender中，你会在左下角找到它的链接。</p><p id="7641" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">为外部拥有的账户选择<strong class="ko ir"> EOA </strong>。确保用于部署合同的同一个wallet当前连接到Defender，并设置为位于Rinkeby网络上。因为这个帐户拥有合同，所以我们有能力运行这个<code class="fe mg mh mi mj b">onlyOwner</code>函数。转让所有权后，只有multisig可以运行此类功能。</p><p id="4162" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在提案标题下，给出一个友好的描述，清楚地表明你打算在这里完成什么。“将所有权转让给multisig”就足够了。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nx"><img src="../Images/12519ad91f97eedb507f670dc4209415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8Uv75LNoYww_kPa0"/></div></div></figure><p id="8582" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">选择<strong class="ko ir">创建管理操作</strong>，您将看到该交易(带有您刚刚提供的友好标题)正在等待批准。</p><p id="05a7" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">这个屏幕有点像在你真正购物之前查看你的购物车。这很好，因为转让所有权是一个重大决定。</p><p id="04d1" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">选择<strong class="ko ir">批准并执行</strong>。您必须在Metamask中签署(并支付)交易，然后交易被执行。将来，当运行此合同的事务时，您仍需要使用元掩码，但该流程的工作方式会有所不同，因为该合同现在由multisig所有。</p><h1 id="499a" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">铸造代币</h1><p id="41f1" class="pw-post-body-paragraph km kn iq ko b kp mb jr kr ks mc ju ku kv md kx ky kz me lb lc ld mf lf lg lh ij bi translated">要使用Defender创建令牌，您将运行另一个管理操作。</p><p id="2efc" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">选择<strong class="ko ir">管理</strong> → { <strong class="ko ir">您的NFT合同</strong> }。</p><p id="d526" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<strong class="ko ir">提议</strong>下，您将看到刚刚执行的所有权转让交易。</p><p id="fa9a" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">选择<strong class="ko ir">新提议</strong> → <strong class="ko ir">管理动作</strong>。</p><p id="c2d9" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<strong class="ko ir">功能</strong>下，选择<strong class="ko ir">安全薄荷</strong>。您将铸造一个令牌给契约的前所有者，对部署契约表示感谢。</p><p id="bbe6" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">对于执行策略，选择Multisig以及由当前所有者Defender管理的multisig。</p><p id="ffb3" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">Defender向我们展示了您的multisig有三个地址，您至少需要两个地址来批准交易才能通过。</p><p id="fefc" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">将该提案描述为您的第一个mint，并选择<strong class="ko ir">创建管理操作</strong>。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi ny"><img src="../Images/23f8e2fb168292959b39f8d83aa897fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jyh1AaJvKYwrXg0l"/></div></div></figure><p id="bcae" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在下一个屏幕上，查看管理操作并选择<strong class="ko ir">批准</strong>。</p><p id="306b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">要真正实现这个<code class="fe mg mh mi mj b">multisig</code>交易，您需要用属于<code class="fe mg mh mi mj b">multisig</code>的三个账户中的两个签署交易。属于给定<code class="fe mg mh mi mj b">multisig</code>的账户可能是世界上任何地方的钱包。只是碰巧你在这里的一个地方管理它们。</p><p id="41d0" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在Metamask中，切换到<code class="fe mg mh mi mj b">multisig</code>中的一个账户，选择<strong class="ko ir">批准</strong>，签字，切换到第二个账户，签字，然后选择<strong class="ko ir">批准，执行</strong>。(交易一旦经过两人签字，任何人都可以执行，包括刚刚签字的账户。)</p><p id="48c4" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">您已经成功铸造了第一枚代币。要在区块链上看到这一点，选择合同的地址并将其粘贴到Rinkeby Etherscan中(或者只需将鼠标悬停在合同地址上并选择Block Explorer 中的<strong class="ko ir">视图)。</strong></p><p id="8787" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<strong class="ko ir">交易</strong>中，注意所有权的转移。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi my"><img src="../Images/55fb4571855c3b1a071ece87249d86c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QJ_9N5DXBvsZ-iTb"/></div></div></figure><p id="cb4b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">在<strong class="ko ir">内部事务</strong>中，您将看到mint事务。选择父事务会将您带到事务详细信息，在这里您可以看到，被传输的令牌是令牌ID零，与部署合同的地址相同。</p><figure class="kf kg kh ki gt kj gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nz"><img src="../Images/7484748b4df623c89433634804bbf369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jQkelTdFO-hzoULM"/></div></div></figure><p id="055b" class="pw-post-body-paragraph km kn iq ko b kp kq jr kr ks kt ju ku kv kw kx ky kz la lb lc ld le lf lg lh ij bi translated">恭喜你！您已经成功部署了一个ERC721合同，将所有权转移给了一个<code class="fe mg mh mi mj b">multisig</code>，并为一个外部拥有的帐户铸造了一个令牌。从这里开始，您可以随意使用Defender进行进一步的实验。看看如果你暂停你的函数并尝试铸造另一个令牌会发生什么。</p><h1 id="c499" class="lj lk iq bd ll lm ln lo lp lq lr ls lt jw lu jx lv jz lw ka lx kc ly kd lz ma bi translated">资源</h1><ul class=""><li id="49e2" class="mk ml iq ko b kp mb ks mc kv oa kz ob ld oc lh mp mq mr ms bi translated"><a class="ae li" href="https://docs.openzeppelin.com/defender/" rel="noopener ugc nofollow" target="_blank"> OpenZeppelin Defender文档</a></li><li id="f905" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated"><a class="ae li" href="https://docs.openzeppelin.com/defender/admin#gnosis-safe" rel="noopener ugc nofollow" target="_blank"> Gnosis安全多签名钱包</a></li><li id="3efa" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated"><a class="ae li" href="https://remix-ide.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">再混合文档</a></li><li id="320e" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated"><a class="ae li" href="https://eips.ethereum.org/EIPS/eip-721" rel="noopener ugc nofollow" target="_blank">以太坊EIP-721不可替代令牌标准</a></li><li id="5a91" class="mk ml iq ko b kp mt ks mu kv mv kz mw ld mx lh mp mq mr ms bi translated"><a class="ae li" href="https://docs.openzeppelin.com/contracts/4.x/" rel="noopener ugc nofollow" target="_blank"> OpenZeppelin合同ERC-721文件</a></li></ul></div></div>    
</body>
</html>