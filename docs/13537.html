<html>
<head>
<title>How To Configure Path Aliases With TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用TypeScript配置路径别名</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-configure-path-aliases-with-typescript-8586dc0aa214?source=collection_archive---------0-----------------------#2022-09-06">https://betterprogramming.pub/how-to-configure-path-aliases-with-typescript-8586dc0aa214?source=collection_archive---------0-----------------------#2022-09-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="44c5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">展示了这种有用的命名策略的细微差别</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/752a2c6829f9dbdcb28390685c5ec8b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gd2nhQoxc5EONJBYJssj9w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者:比尔吉特·雷茨-霍夫曼</p></figure><p id="6f51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将展示如何在TypeScript项目中配置路径别名。示例项目可能过于简单，但是该配置将适用于真实世界的应用程序。TypeScript使添加路径别名变得容易，但是它不是预先配置的。有一些细微的差别，这是我将涉及的。</p><h1 id="601b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">入门指南</h1><p id="557e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">路径别名是用户定义的名称，用于替换长的相对路径。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="e9dd" class="mx lw it mt b gy my mz l na nb">Non-aliased relative import<br/>import { IUser } from "../../../../../../../@interfaces/user"</span><span id="c0e6" class="mx lw it mt b gy nc mz l na nb">Aliased import<br/>import { IUser } from "@interfaces"</span></pre><p id="e913" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从上面的例子可以看出，别名对导入语句的可读性有很大的影响。</p><h1 id="42b5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">示例文件夹结构</h1><p id="6022" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">下面是我将在其余示例中使用的文件夹结构:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="1b50" class="mx lw it mt b gy my mz l na nb">@interfaces/<br/>  user.d.ts<br/>e2e/<br/>src/<br/>  utils/<br/>    common/<br/>      common.ts<br/>    user/<br/>      user.ts<br/>  server.ts<br/>index.ts</span></pre><h2 id="ac0d" class="mx lw it bd lx nd ne dn mb nf ng dp mf li nh ni mh lm nj nk mj lq nl nm ml nn bi translated">没有混叠</h2><p id="e944" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在我实现路径别名之前，让我们看一下我的两个文件。</p><p id="a023" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq mt b">src/server.ts</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="4cdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq mt b">src/utils/user/user.ts</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="b57d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq mt b">src/server.ts</code>和<code class="fe no np nq mt b">src/utils/user/user.ts</code>进口<code class="fe no np nq mt b">IUser</code>型。相对进口的<code class="fe no np nq mt b">IUser</code>型内<code class="fe no np nq mt b">src/utils/user/user.ts</code>已经看起来很长了。随着我的应用程序的增长，我的相对导入的长度也会增长。</p><h1 id="e396" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">类型路径别名</h1><p id="7881" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我将设置的第一种别名是保存我所有自定义类型/接口的文件夹。</p><p id="a1c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我需要编辑我的<code class="fe no np nq mt b">tsconfig.json</code>文件。我正在寻找<code class="fe no np nq mt b">baseUrl</code>和<code class="fe no np nq mt b">paths</code>值。我将更改我的文件以匹配下面的示例:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="cf29" class="mx lw it mt b gy my mz l na nb">"baseUrl": "." ,<br/>"paths": {<br/>  "@interfaces/*": ["@interfaces/*"]<br/>}</span></pre><p id="64ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq mt b">baseUrl</code>:告诉TypeScript应该从哪个基本目录开始工作。该路径基于我的<code class="fe no np nq mt b">tsconfig.json</code>文件的位置。对于这个例子，我将把<code class="fe no np nq mt b">baseUrl</code>设置为我的项目的根。</p><p id="27cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq mt b">paths</code>:告诉TypeScript哪个别名与哪个文件路径相关联。</p><p id="7ffc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保存tsconfig设置后，我可以将接口导入从相对路径更改为新别名。</p><p id="313a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq mt b">src/server.ts</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="171a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq mt b">src/utils/user/user.ts</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h2 id="0782" class="mx lw it bd lx nd ne dn mb nf ng dp mf li nh ni mh lm nj nk mj lq nl nm ml nn bi translated">非界面混淆</h2><p id="6be6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">接下来，我将为非接口目录配置别名导入。</p><p id="de36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我将向我的<code class="fe no np nq mt b">tsconfig.json</code>文件中的paths对象添加另一个项目。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="fb65" class="mx lw it mt b gy my mz l na nb">"baseUrl": "." ,<br/>"paths": {<br/>  "@interfaces/*": ["@interfaces/*"],<br/>  "@utils/*": ["src/utils/*"]<br/>}</span></pre><p id="0f49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从那里，我可以对<code class="fe no np nq mt b">utils</code>目录的相对路径进行类似的更改。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="2d73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，类型路径别名和非类型别名是有区别的。如果我传输我的应用程序并尝试运行它，我会收到以下错误:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/10d2fd66a97b30b7fc34f168cf9eb0ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vt2GufZQ_aYY5sIaS3dbvg.png"/></div></div></figure><p id="0ecc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了找到关于这个错误的更多信息，我将查看转换后的JavaScript文件，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="0eec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我可以在第6行看到，我在TypeScript中设置的别名已经被移植到transpiled JavaScript中。JavaScript需要相对文件路径来找到指定的模块。</p><p id="7c3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不是接口别名的问题，因为在转换过程中所有类型都被去除了。</p><p id="ad74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了将我的别名转换回相对路径，我将导入一个名为<a class="ae ky" href="https://www.npmjs.com/package/tsc-alias" rel="noopener ugc nofollow" target="_blank"> tsc-alias </a>的有用包。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="7602" class="mx lw it mt b gy my mz l na nb">npm install --save-dev tsc-alias</span><span id="9b45" class="mx lw it mt b gy nc mz l na nb">- or -</span><span id="7d48" class="mx lw it mt b gy nc mz l na nb">yarn add ts-alias -D</span></pre><p id="ed8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使用这个包，我将把它添加到我的构建过程中。</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="811d" class="mx lw it mt b gy my mz l na nb">"build": "npm-run-all clean tsc tsc-alias",</span></pre><p id="7bef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当我构建我的项目时，第6行再次使用相对路径。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h1 id="c650" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">包扎</h1><p id="dcaa" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">路径别名是添加到TypeScript项目中的一个很好的特性。它使您的代码更容易阅读，并让您更熟悉TypeScript的配置及其翻译过程。自从我学会了如何实现路径别名，我就把它添加到我工作的每个项目中。</p><p id="525f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望这对你有所帮助，并让你知道如何将它添加到你的项目中。</p></div></div>    
</body>
</html>