<html>
<head>
<title>Server-Side Swift With Vapor and Postgres</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有Vapor和Postgres的服务器端Swift</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/user-authentication-server-side-swift-with-vapor-2c9b0149268?source=collection_archive---------10-----------------------#2022-03-25">https://betterprogramming.pub/user-authentication-server-side-swift-with-vapor-2c9b0149268?source=collection_archive---------10-----------------------#2022-03-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5716" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在本教程中，我们将解释如何创建一个小型的<strong class="ak">数据库</strong>和<strong class="ak">服务器</strong>来执行认证功能。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/aa95bd7acb1ec318cc9b57ffe91b6ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SSzej6FyXSe0-qzD3vjgSA.png"/></div></div></figure><p id="9649" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为此，您需要安装以下程序:</p><p id="71b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">自制软件:<a class="ae ln" href="https://brew.sh/index_it" rel="noopener ugc nofollow" target="_blank">下载自制软件</a></p><p id="0c15" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">蒸汽:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div></figure><p id="6226" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">帖子:<a class="ae ln" href="https://eggerapps.at/postico/" rel="noopener ugc nofollow" target="_blank">下载帖子</a></p><p id="80fd" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">邮递员:<a class="ae ln" href="https://www.postman.com/downloads/" rel="noopener ugc nofollow" target="_blank">下载邮递员</a></p><h1 id="8a2e" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">数据库创建</h1><p id="ad34" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">首先，我们需要创建一个数据库来存储我们的数据。为了创建我们的数据库，我们将使用<code class="fe mn mo mp mq b">Postgres</code>。然后我们必须通过<code class="fe mn mo mp mq b">HomeBrew</code>安装它，创建一个用户，设置一个密码，最后为该用户创建一个数据库。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lp l"/></div></figure><p id="1e37" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了更快更有效地管理新创建的数据库，我们使用了<code class="fe mn mo mp mq b">Postico</code>，一个提供图形界面来管理数据库的软件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div></figure><h1 id="79e9" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">服务器端实现</h1><p id="411e" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">我们实现了一个简单的客户端-服务器通信，以便创建一个帐户，然后注册和登录，并更改您的密码。</p><p id="4899" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在服务器端，我们创建了一些函数，允许通过各种HTTP方法(<strong class="kt ir"> GET、POST、PUT </strong>)对之前创建的Postgres数据库执行这些操作。</p><p id="b380" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些操作应该在文件<code class="fe mn mo mp mq b">routes.swift</code>中完成:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/c39ea5d6ef97b6034f3778a07f3d85c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*LPoR4IzjAa3z8l4P50AUog.png"/></div></figure><p id="68f3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">要执行简单的身份验证，我们需要遵循以下步骤:</p><ol class=""><li id="0d1a" class="mt mu iq kt b ku kv kx ky la mv le mw li mx lm my mz na nb bi translated">首先我们测试服务器，对我们输入的姓名进行简单的控制台打印，为此我们使用GET方法:</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc lp l"/></div></figure><p id="e679" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">2.现在，我们实现函数记录，在数据库中插入数据，正确解码，并返回我们，编码，新注册的用户:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc lp l"/></div></figure><p id="b574" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">3.此时，我们可以实现登录功能，使用输入的数据搜索数据库，如果存在，则返回用户:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc lp l"/></div></figure><p id="e20f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> 4。</strong>最后，<code class="fe mn mo mp mq b">update</code>函数负责修改您选择的值，在我们的例子中是密码，我们使用与登录函数相同的逻辑来理解哪个用户可以更改密码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc lp l"/></div></figure><h1 id="36d4" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">服务器测试</h1><p id="ca97" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">为了测试我们的服务器，我们使用了<code class="fe mn mo mp mq b">PostMan</code>。PostMan是一个用于API测试的应用程序。它是一个HTTP客户端，利用一个图形用户界面来测试HTTP请求，通过这个界面我们可以获得不同类型的响应，这些响应需要随后进行验证。</p><p id="b8f2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">跟随本视频教程学习如何测试您的服务器。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lo lp l"/></div></figure><h1 id="540a" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">并发</h1><p id="0c47" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">该代码没有使用并发性，这有助于提高多线程的效率和管理。更多信息，可以<a class="ae ln" href="https://medium.com/@dabrosca.nicola/recover-data-via-concurrent-process-410ffa980040" rel="noopener">阅读这篇文章</a>。</p><h1 id="4a6a" class="lq lr iq bd ls lt lu lv lw lx ly lz ma jw mb jx mc jz md ka me kc mf kd mg mh bi translated">结论</h1><p id="d521" class="pw-post-body-paragraph kr ks iq kt b ku mi jr kw kx mj ju kz la mk lc ld le ml lg lh li mm lk ll lm ij bi translated">因此，在本文中，我们讨论了如何从零开始创建服务器，如何创建数据库，以及如何在Swift中实现它们。</p><p id="ab0d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">完整的代码可以从GitHub的以下链接获得:<a class="ae ln" href="https://github.com/KekkoDM/Server-Side-BackSpin" rel="noopener ugc nofollow" target="_blank"> GitHub </a></p><pre class="kg kh ki kj gt nd mq ne nf aw ng bi"><span id="0314" class="nh lr iq mq b gy ni nj l nk nl"><strong class="mq ir">Want to Connect?</strong></span><span id="7569" class="nh lr iq mq b gy nm nj l nk nl">For any additional information you can contact us on Discord and Linkedin:</span><span id="40d9" class="nh lr iq mq b gy nm nj l nk nl"><strong class="mq ir">Simona Ettari</strong>: simonaettari26#8320 <a class="ae ln" href="https://www.linkedin.com/in/simona-ettari-109998187/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/simona-ettari-109998187/</a></span><span id="7360" class="nh lr iq mq b gy nm nj l nk nl"><strong class="mq ir">Nicola D’Abrosca</strong>: Nicola D’Abrosca#9860 <a class="ae ln" href="https://www.linkedin.com/in/nicola-d-abrosca-b08338233/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/nicola-d-abrosca-b08338233/</a></span><span id="4aae" class="nh lr iq mq b gy nm nj l nk nl"><strong class="mq ir">Francesco De Marco</strong>: PerCoca#3022 <a class="ae ln" href="https://www.linkedin.com/in/francesco-de-marco-9a24891b6/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/francesco-de-marco-9a24891b6/</a></span></pre></div></div>    
</body>
</html>