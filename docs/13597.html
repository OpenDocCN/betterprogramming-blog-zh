<html>
<head>
<title>.Net 6 or Node.js 16 — Which is Faster?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">。Net 6和node . js 16——哪个更快？</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/what-is-faster-net-or-node-js-449a3c315407?source=collection_archive---------1-----------------------#2022-09-11">https://betterprogramming.pub/what-is-faster-net-or-node-js-449a3c315407?source=collection_archive---------1-----------------------#2022-09-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="133d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们测试并找到答案</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cf715ea699addcd03e3a983e2f5f27b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vaqFj-uVEJYxLcVU94LoaQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">比尔·斯蒂芬在<a class="ae ky" href="https://unsplash.com/@billstephan?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b4d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几天前我想知道是否使用。网络或节点。Js对于一个新的微服务，我将从头开始构建，在互联网上搜索并找到大量有用和重要的信息后，我忽略了一切(抱歉，我有时会这样做)，我开始在我的本地机器上构建一些非常简单的性能测试，只是为了看看它们和剧透alert之间的一些最初的明显差异，我发现Node.js比. net快。</p><p id="5df1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，就是这样，在我所有的测试中，我的Node.js应用程序比我的要快得多。Net应用程序，我将在接下来的部分展示它是如何工作的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><blockquote class="mc md me"><p id="d728" class="kz la mf lb b lc ld ju le lf lg jx lh mg lj lk ll mh ln lo lp mi lr ls lt lu im bi translated">免责声明:这绝对不是任何形式的官方测试，我不会使用最佳性能测试指南，我希望你不要太认真，不要决定使用它，因为它是更快的真理。</p><p id="12b4" class="kz la mf lb b lc ld ju le lf lg jx lh mg lj lk ll mh ln lo lp mi lr ls lt lu im bi translated">最重要的是，我这样做只是为了好玩。</p></blockquote><p id="f41e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我观察到的他们之间的第一个明显区别是。Net是多线程和节点的。Js是带有事件循环的单线程，这至少在理论上意味着。Net更擅长处理消耗CPU的任务，而Node。Js更擅长处理阻塞任务，比如读取文件或获取HTTP数据。</p><p id="15e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论如何，我决定创建以下三个测试场景:</p><blockquote class="mc md me"><p id="5627" class="kz la mf lb b lc ld ju le lf lg jx lh mg lj lk ll mh ln lo lp mi lr ls lt lu im bi translated">1.只返回一个“hello world”文本。</p><p id="4862" class="kz la mf lb b lc ld ju le lf lg jx lh mg lj lk ll mh ln lo lp mi lr ls lt lu im bi translated">2.读取100行文本文件并返回其内容</p><p id="2e2e" class="kz la mf lb b lc ld ju le lf lg jx lh mg lj lk ll mh ln lo lp mi lr ls lt lu im bi translated">3.计算一个大数字(如2000000)的斐波那契数列，并返回成功</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7ac4" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">准备测试环境</h1><p id="38f9" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">为了收集结果，我可以使用一个非常酷的工具，如<a class="ae ky" href="https://k6.io/" rel="noopener ugc nofollow" target="_blank"> K6 </a>或<a class="ae ky" href="https://jmeter.apache.org/" rel="noopener ugc nofollow" target="_blank"> JMeter </a>，但相反，我选择了一个更简单的可视化免费工具，名为<a class="ae ky" href="https://github.com/maurobussini/restful-stress" rel="noopener ugc nofollow" target="_blank"> Restful Stress </a>，</p><p id="34d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于版本，我使用的是。net 6 . 0 . 203和Node.js 16.17.0</p><p id="fb13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于代码，我将设置最少的语句来运行一个应用程序，没有任何优化，也没有框架或库。</p><p id="8a58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行这些测试的最佳方式可能是在docker容器上，这样我就可以测量CPU和内存消耗，但是你猜怎么着，我不会这样做，相反，我将在我的本地简陋的windows机器上执行它，同时运行10000次，这意味着并行</p><p id="eafa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看进展如何。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="1b6a" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">的。网络应用</h1><p id="b532" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">由于我使用的是ASP.NET 6.0，我决定使用<a class="ae ky" href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/minimal-apis?view=aspnetcore-6.0" rel="noopener ugc nofollow" target="_blank">最小API </a>，为了执行代码，我只在VSCode终端中运行<code class="fe ng nh ni nj b">dotnet run --configuration Release</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Program.cs文件</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/143d869b3751287d2c7fe03c4ad3531a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uPWfhnbk4PJ0T1eZJC6wxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">。Net测试应用程序</p></figure><h2 id="94b2" class="nn mk it bd ml no np dn mp nq nr dp mt li ns nt mv lm nu nv mx lq nw nx mz ny bi translated">Node.js应用程序</h2><p id="5b42" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">Node.js应用使用了一种<a class="ae ky" href="https://nodejs.dev/en/learn/build-an-http-server/" rel="noopener ugc nofollow" target="_blank">类似的方法</a>，只有一个非常简单的文件，来执行我刚刚在VSCode终端上运行的应用<code class="fe ng nh ni nj b">node app.js</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">app.js文件</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/e1756fc01f22ffec4f366df3cd2c434f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*57haU92xfmk7kZQSGXhx8Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">节点。Js测试应用程序</p></figure><h1 id="8635" class="mj mk it bd ml mm oa mo mp mq ob ms mt jz oc ka mv kc od kd mx kf oe kg mz na bi translated">结果</h1><h2 id="72ec" class="nn mk it bd ml no np dn mp nq nr dp mt li ns nt mv lm nu nv mx lq nw nx mz ny bi translated">第一个测试:hello world</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/d5ec13d23c1ff5ad2c05e74a4be4a50f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YACraCzav5kUhTtLbHOn_Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">节点的Restful Stress结果。Js应用程序</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/37c20899cb6aeac21cd7b0deddb51eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QnHcTvHhUC1q4kvBkrJ_aw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Restful强调。Net app</p></figure><p id="2ccb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当将结果移植到表中时，我们可以看到Node.js在几乎所有方面都更好，因为这个测试是一个简单的“Hello world”，我预计结果应该非常相似，但事实并非如此。</p><p id="1193" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使Node。Js的最大持续时间最大(304ms vs 202ms)，总持续时间比。净(28秒vs 65秒)</p><p id="66a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">平均持续时间的差异超过了100%，这就是Node.js应用程序比。Net app</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="4c8d" class="nn mk it bd ml no np dn mp nq nr dp mt li ns nt mv lm nu nv mx lq nw nx mz ny bi translated">第二个测试:读取文件</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/713f203faba0485bef53d617963f50db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JQrerpd11-hiBUyGMfkUKQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">节点的Restful Stress结果。Js应用程序</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/a7e29b5258a9eae7084a1c54d65fba28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KXmv7MtxGrWtHGR_26LStQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Restful强调。Net app</p></figure><p id="d349" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在读取文件文本时可以获得相同的结果，同样，最长持续时间在Node.js应用程序中更高(314ms vs 142ms)，但所有其他情况都表明Node。Js应用程序的执行速度比。净额</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="2455" class="nn mk it bd ml no np dn mp nq nr dp mt li ns nt mv lm nu nv mx lq nw nx mz ny bi translated">第三个测试:斐波那契2000000</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/7ffc1fe0fff7ce52eaac4f6e1540e250.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ljQj1jN2La_zaAhBLanqAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">节点的Restful Stress结果。Js应用程序</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/79906b40b3074ccaa4cadfbd1b3aa0c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2O5qJvQpUAZ3SMKAzgsfAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Restful强调。Net app</p></figure><p id="2727" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最后这个测试中，这是一个惊喜，因为斐波那契函数需要更多的CPU处理，我认为在这个测试中。Net应用程序会比Node更好。Js应用程序，而且显然，它不是。</p><p id="8f43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至少这里的平均持续时间不超过100%(8毫秒和14毫秒)</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3d00" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">最后考虑</h1><p id="9a28" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">我认为我们有一个明显的赢家。</p><p id="5dcf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑到我在这两个应用程序中只使用了最小的方法，我认为结果是有效的，但我必须考虑到，在实际应用程序中，在比较应用程序性能时还有很多东西需要考虑。</p><p id="1b82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">网络、容器、数据库、库以及代码编写方式都会影响应用程序的运行速度。</p><p id="08af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要忘记开发人员对特定框架、语言或技术的熟悉程度，甚至是对IDEs、合作伙伴关系和支持的许可。</p><p id="99dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的测试很有可能是错误的，但我看不到任何明显的东西我现在可以改变，让我知道如果你有任何提示。</p><p id="7060" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢大家一直读到这里，下次见。</p></div></div>    
</body>
</html>