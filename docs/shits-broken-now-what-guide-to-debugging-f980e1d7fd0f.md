# 狗屎坏了，现在怎么办！？

> 原文：<https://betterprogramming.pub/shits-broken-now-what-guide-to-debugging-f980e1d7fd0f>

## 艰难环境下的调试指南

![](img/55ac691ad65ec122479bf0b5daafa6e2.png)

莎伦·麦卡琴在 [Unsplash](https://unsplash.com/s/photos/broken?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

毫无疑问，作为一名开发人员，您曾经遇到过这样的情况:某个地方出了问题，或者没有按预期工作。在学习编程时，这通常是你首先要处理的事情之一。一旦您的应用程序投入生产或有一个紧迫的截止日期，风险就更大了。如果你身居高位，即使问题不在你的领域，人们也会寻求帮助。你要做什么？

以下部分大致按照我将如何处理这种情况的顺序排列。

# 可观察性

我从看蜂巢网络研讨会中学到的一句话，我觉得更需要听到的是“到第一条线索的时候了”。你能多快得到一些信息，提示你哪里出了问题。

可观察性的支柱；度量、日志和跟踪应该给你第一个线索。希望他们能告诉你到底哪里出了问题，你也能从他们提供的信息中知道如何解决问题。就我个人而言，我会直接跟踪并查询显示问题的跟踪。如果您正在处理的应用程序不是根本原因，这将允许您看到完整的堆栈。痕迹也是传递给其他团队以帮助他们参与调查的便利单元。

# 稳定下来

这通常是你腰带上最容易被忽视的工具。我见过多少次开发人员固执地认为“他们的”改变没有破坏事物。“X 怎么会影响 Y 呢？”。

当有疑问时，回滚。一般来说，这证明了两件事情中的一件，要么是环境被破坏了，要么是改变破坏了事物。这也是一个验证你的测试方法的机会。如果您不能断言在改变之前事情是否工作，那么您可能需要改变您的测试方法。

一旦你有了一个稳定的环境，你就可以慢慢地引入你已经做出的改变。这将帮助您缩小导致问题的原因范围。然后，您可以继续使用其他调试技术。

# 真的！>假

知道某件事是假的不一定比知道某件事是真的更糟糕。当试图理解一个问题时，排除某些东西通常是非常有价值的。你做得越快越好。

如果您认为问题不是由某个因素引起的，请询问:“我们可以验证这一点的最快方法是什么？”想出一个小的测试有助于节省数天的开发时间，避免在错误的道路上发现它不能解决问题。我见过团队这样做，然后用他们的修复引起更多的问题，导致他们陷入越来越复杂的解决方案。

# 假设驱动调试

假设驱动的调试可以在调查的任何阶段使用。想出一个可能导致问题的想法，然后尝试用最简单的方式证明它。如上所述，证明某事是错的和证明它是对的一样有价值。在这个过程中，你可能会提出更多的假设来试图证明，并最终发现根本原因。

这种类型的调试通常需要大量关于应用程序及其依赖项如何工作的知识。这并不是说拥有一个几乎没有知识的人是没有帮助的。他们也许能够挑战假设，并向理解的人提问，帮助提出假设进行测试。如果你有足够多的人，你可能要分开来研究不同的假设。但是一定要把你的发现告诉大家。

如果你正努力想出一个假设，从前到后或从后到前地研究一个系统的所有依赖项和部分，并询问这是如何导致问题的。然后想出一个简单的测试来证明或反驳它是否导致或加剧了问题。

# 断点

如果你真的很难理解应用程序中发生了什么，断点可以帮助你。使用断点要求您能够重现该问题。如果你认为你知道问题出在哪里，你可以直接找到那个代码点并添加一个断点。如果没有，就一步一步地检查你的应用程序，直到你看到一些意想不到的东西。然后你可以向下钻，潜在地使用代码的二分搜索法，直到你得到下一个线索。

# 让所有人参与

当处于高压状态时，很容易专注于此时此地，而不考虑未来。我看到的大多数事件都是让“摇滚明星”开发人员去执行任务。这进一步增加了公司的“公车因素”,因为它不给其他同事学习和参与此类问题的机会。

我不是说不要让摇滚明星来解决这个问题，但是我想说你必须让其他开发者来解决这个问题。这允许知识共享，所以在将来，你有更多的开发人员来解决问题。

一般来说，这类问题都不是最性感的作品。如果你一直把压力和降低工作质量放在同一个开发人员身上，他们会厌倦的。这可能会导致以最快最脏的方式完成工作，或者更糟的是离开公司。

# 复古与动感

一旦你控制住了这个问题，让人们学习是至关重要的。这不仅仅是针对直接相关的人，因为我们应该能够从其他人的错误中学习。

重要的是从任何追溯中采取行动，这将有助于加快对未来类似问题的理解，并防止其再次发生。这些可能包括提高可观察性、自动化测试和定期更新。人们理解开发时间损失的影响以及任何问题对客户的影响是很重要的。这可用作进行任何补救工作的值。

如果您还没有成功地诊断出问题，并且至少从可观察性工具中减轻了问题，那么您需要在可观察性上花费更多的时间！

处理问题是一项值得学习的技能。希望这能鼓励你反思如何以不同的方式做事情，并且现在知道如何以更快更结构化的方式进行调试。