<html>
<head>
<title>Jetpack Compose Theming: Colors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack合成主题:颜色</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/jetpack-compose-theming-colors-1cf86754d5b9?source=collection_archive---------0-----------------------#2022-05-15">https://betterprogramming.pub/jetpack-compose-theming-colors-1cf86754d5b9?source=collection_archive---------0-----------------------#2022-05-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5274" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">探索Android应用程序中的颜色</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/15b8d2eee8f3fe57a9ca78014cf00a6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_soeg1RAUe50Z7hb"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@ro_ka?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">罗伯特·卡茨基</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="5648" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用Jetpack compose创建屏幕要容易得多，但是它有自己的工作方式，有时可能很有挑战性。</p><p id="b41c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我纠结的一个话题是颜色。</p><p id="1f90" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据Jetpack的例子，我们应该使用<code class="fe ls lt lu lv b">MaterialTheme</code>而不是老派的XML主题。我也不是XML主题的专家，这就是为什么我决定挖掘素材主题。因为这是一个很大的话题，所以在这篇文章中我将只讨论颜色。</p><p id="37cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可能知道，每当我们创建一个应用程序Jetpack撰写功能，该项目会自动添加主题，让我们看看。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="c9df" class="ma mb iq lv b gy mc md l me mf">@Composable<br/>fun MaterialTheme(<br/>    colors: Colors = MaterialTheme.colors, // WILL BE FOCUSED<br/>    typography: Typography = MaterialTheme.typography, // WILL BE COVERED LATER<br/>    shapes: Shapes = MaterialTheme.shapes, // WILL BE COVERED LATER<br/>    content: @Composable () -&gt; Unit<br/>)</span></pre><p id="3163" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ls lt lu lv b">MaterialTheme</code>带有以下默认颜色:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="9242" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是这些颜色是什么意思，它们在app中的用法是什么，我们应该如何使用？我们来看看材料设计<a class="ae kv" href="https://material.io/design/color/the-color-system.html#color-theme-creation" rel="noopener ugc nofollow" target="_blank">网站</a>:</p><blockquote class="mi mj mk"><p id="37c6" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated">一个<strong class="ky ir">原色</strong>是在你的应用程序的屏幕和组件上最常显示的颜色。</p><p id="3c41" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated">第二种颜色<strong class="ky ir">为强调和区分你的产品提供了更多的方法。</strong></p><p id="8361" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated">您的原色可用于为您的应用程序制作颜色主题，包括深色和浅色<strong class="ky ir">原色变体</strong>。</p><p id="2f03" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated">就像原色一样，你的<strong class="ky ir">副色</strong>可以有深色和浅色的<strong class="ky ir">变体</strong>。</p><p id="21a6" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated"><strong class="ky ir">表面颜色</strong>影响部件的表面。</p><p id="9541" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated"><strong class="ky ir"/><strong class="ky ir">背景色</strong>出现在可滚动内容的后面。</p><p id="58d6" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated"><strong class="ky ir">错误颜色</strong>表示组件错误。</p></blockquote><p id="7182" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">总而言之:</p><blockquote class="mi mj mk"><p id="3b93" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated">原色和次色(可选)代表品牌。</p><p id="290c" class="kw kx ml ky b kz la jr lb lc ld ju le mm lg lh li mn lk ll lm mo lo lp lq lr ij bi translated">表面、背景和错误颜色通常不代表品牌。</p></blockquote><p id="a274" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这意味着原色/二次色必须是显著的，代表你的品牌，其余的颜色必须更不显眼。</p><p id="0594" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">非品牌颜色的材料主题默认颜色通常为白色和黑色，但是，为了更好地理解，我们将为每个变量赋予不同的颜色:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/35b80e2c0c5906a9a275679d86dfbbe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GvH1Cdqf7CcVwCT-Z7_-0Q.png"/></div></div></figure><p id="6395" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将使用<code class="fe ls lt lu lv b">backgroundColor</code>,因为在大多数情况下，内容颜色是由背景决定的。</p><h1 id="bb1c" class="mq mb iq bd mr ms mt mu mv mw mx my mz jw na jx nb jz nc ka nd kc ne kd nf ng bi translated">为用户界面元素设置颜色</h1><p id="c094" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">我添加了带有<code class="fe ls lt lu lv b">Text</code>(没有特定颜色)的卡片布局，并将我们主题的颜色作为背景色。</p><p id="ad56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="776e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/320c568138b585b279b0c14f9ef93633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*av58_J40NPb6xWvltoodug.png"/></div></figure><p id="5be8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，它是如何工作的呢？我们的视图组件如何读取颜色并将颜色变化应用到内部组件？在我们的案例中，这是一个<code class="fe ls lt lu lv b">Text</code>视图。</p><p id="a406" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们浏览卡片布局(或任何布局)，我们会看到这个扩展功能。它告诉我们在大多数情况下是如何为内容选择颜色的。在这里阅读更多<a class="ae kv" href="https://developer.android.com/reference/kotlin/androidx/compose/material/package-summary#(androidx.compose.material.Colors).contentColorFor(androidx.compose.ui.graphics.Color)" rel="noopener ugc nofollow" target="_blank"/></p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="db13" class="ma mb iq lv b gy mc md l me mf">fun Colors.contentColorFor(backgroundColor: Color): Color {<br/>    return when (backgroundColor) {<br/>        primary -&gt; onPrimary<br/>        primaryVariant -&gt; onPrimary<br/>        secondary -&gt; onSecondary<br/>        secondaryVariant -&gt; onSecondary<br/>        background -&gt; onBackground<br/>        surface -&gt; onSurface<br/>        error -&gt; onError<br/>        else -&gt; Color.Unspecified<br/>    }<br/>}</span></pre><p id="34a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们从屏幕和我们的主题观察到的，颜色是匹配的。</p><h1 id="f088" class="mq mb iq bd mr ms mt mu mv mw mx my mz jw na jx nb jz nc ka nd kc ne kd nf ng bi translated">UI组件的默认主题</h1><p id="8115" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">理想情况下，我们不需要为每个UI设置颜色。默认情况下，一些ui从不同的颜色部分读取，提到其中一些是有好处的。</p><p id="6c1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了更好地理解它，我分别添加了这些UI组件，所有颜色都是从主题中读取的。没有手动添加颜色。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/aeedd4687af44fd39f1d5fd324a12ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1DsMY9zg37Y1znd9RaLeGg.png"/></div></div></figure><p id="f769" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们一个一个来看看。</p><h2 id="fb5d" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">状态栏</h2><ul class=""><li id="1080" class="nz oa iq ky b kz nh lc ni lf ob lj oc ln od lr oe of og oh bi translated">默认颜色:<code class="fe ls lt lu lv b">primaryVariant</code></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/feb46e529efa47b75608aab990ff86a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TU5PGO37UrZKLrNlvdqf2Q.png"/></div></div></figure><h2 id="15c9" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">脚手架</h2><p id="c5ae" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">用于在屏幕上显示不同的布局，例如底部表单或浮动操作按钮。</p><ul class=""><li id="8af5" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">默认颜色:<code class="fe ls lt lu lv b">background</code></li><li id="d2bf" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">内容颜色:<code class="fe ls lt lu lv b">onBackground</code></li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="cca7" class="ma mb iq lv b gy mc md l me mf"><em class="ml">Scaffold</em>(<br/>    topBar = <strong class="lv ir">{<br/>        /****/</strong><br/>    <strong class="lv ir">}<br/></strong>)</span></pre></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="c259" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">TopAppBar</h2><p id="bab3" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">用于显示当前屏幕的信息，包括操作。它根据应用主题使用不同的颜色。</p><ul class=""><li id="f91b" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">默认颜色:<code class="fe ls lt lu lv b">primarySurface</code>(浅色主题:原色/深色主题:表面)</li><li id="1bed" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">内容颜色:<code class="fe ls lt lu lv b">onPrimary(L)</code> / <code class="fe ls lt lu lv b">onSurface(D)</code></li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="748f" class="ma mb iq lv b gy mc md l me mf"><em class="ml">TopAppBar</em>(<em class="ml"><br/>    </em>title = <strong class="lv ir">{<br/>        </strong>Text(text = "Toolbar text")<br/>    <strong class="lv ir">}</strong>,<br/>    actions = <strong class="lv ir">{<br/>        </strong>IconButton(onClick = <strong class="lv ir">{ }</strong>) <strong class="lv ir">{<br/>            </strong>Icon(Icons.Filled.<em class="ml">Favorite</em>, contentDescription = null)<br/>        <strong class="lv ir">}<br/>    }<br/></strong>)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/b39f2b2afcd8b6643d3b8b5bd7396911.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4n3DtFVnFI2gME0GkWgBzg.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/a8a1dc36ad74bd5f3b63126a539485ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dXFIu2lTVX5W-U4Kh63g_A.png"/></div></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="d266" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">卡片</h2><p id="840c" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">用于单个主题的内容和操作。</p><ul class=""><li id="f52d" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">默认颜色:<code class="fe ls lt lu lv b">surface</code></li><li id="38b9" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">内容颜色:<code class="fe ls lt lu lv b">onSurface</code></li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="6fda" class="ma mb iq lv b gy mc md l me mf">Card(<br/>    modifier = Modifier<br/>        .<em class="ml">padding</em>(8.<em class="ml">dp</em>)<br/>        .<em class="ml">fillMaxWidth</em>()<br/>        .<em class="ml">height</em>(100.<em class="ml">dp</em>)<br/>) <strong class="lv ir">{</strong><em class="ml"><br/>    Text</em>(text = "Card Default")<br/><strong class="lv ir">}</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/ba026d4422fa28d43e95f2d1f012caa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MVWvvfihXZ8fS-qnSgk-Ig.png"/></div></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="7343" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">表面</h2><p id="77a3" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">每个曲面都存在于给定的高程，这将影响该曲面在视觉上与其他曲面的关系以及该曲面投射阴影的方式。</p><ul class=""><li id="649b" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">默认颜色:<code class="fe ls lt lu lv b">surface</code></li><li id="609a" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">内容颜色:<code class="fe ls lt lu lv b">onSurface</code></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/bf4e6c56fa3a7018230ca15e5d201496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aHG4x_MGUHzTd91vlCgsbw.png"/></div></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="3489" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">浮动操作按钮</h2><p id="7fcf" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">用于定义屏幕的主要操作。</p><ul class=""><li id="d225" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">默认颜色:<code class="fe ls lt lu lv b">secondary</code></li><li id="a41d" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">内容颜色:<code class="fe ls lt lu lv b">onSecondary</code></li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="480b" class="ma mb iq lv b gy mc md l me mf">FloatingActionButton(onClick = <strong class="lv ir">{ }</strong>) <strong class="lv ir">{</strong><em class="ml"><br/>    </em>Text(text = "FAB", textAlign = TextAlign.Center)<br/><strong class="lv ir">}</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/a8cd61d89021bc76df9806877fb5f84f.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*A29ST_RWIqO7rLB0a9ZqAg.png"/></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="6fbe" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">纽扣</h2><p id="b051" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">用于用户操作。</p><ul class=""><li id="33c8" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">背景颜色:<code class="fe ls lt lu lv b">primary</code></li><li id="28fa" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">内容颜色:<code class="fe ls lt lu lv b">onPrimary</code></li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="ec7f" class="ma mb iq lv b gy mc md l me mf">Button(onClick = <strong class="lv ir">{ }</strong>) <strong class="lv ir">{</strong><em class="ml"><br/>    </em>Text(text = "Regular button")<br/><strong class="lv ir">}</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/493fe6e3d56107b2534bed5efd051da5.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*6tG7Yv_bh3WLP1Vxw_Zopg.png"/></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="5c96" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">文本按钮</h2><ul class=""><li id="376d" class="nz oa iq ky b kz nh lc ni lf ob lj oc ln od lr oe of og oh bi translated">背景颜色:<code class="fe ls lt lu lv b">transparent</code></li><li id="8082" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">内容颜色:<code class="fe ls lt lu lv b">primary</code></li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="7275" class="ma mb iq lv b gy mc md l me mf"><em class="ml">TextButton</em>(onClick = <strong class="lv ir">{ }</strong>) <strong class="lv ir">{</strong><em class="ml"><br/>    </em>Text(text = "Text button")<br/><strong class="lv ir">}</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/225597b0514e56caf7121222384f5e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*ADd9ZFrcgOjVKYpVHLuipA.png"/></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="ca78" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">大纲按钮</h2><ul class=""><li id="e28c" class="nz oa iq ky b kz nh lc ni lf ob lj oc ln od lr oe of og oh bi translated">背景颜色:<code class="fe ls lt lu lv b">surface</code></li><li id="ea15" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">内容颜色:<code class="fe ls lt lu lv b">primary</code></li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="a13e" class="ma mb iq lv b gy mc md l me mf">OutlinedButton(onClick = <strong class="lv ir">{ }</strong>) <strong class="lv ir">{</strong><em class="ml"><br/>    </em>Text(text = "Outlined button")<br/><strong class="lv ir">}</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/b0e0509522d5ab1011a23ae5a015ae0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*CuiVvnQBvtmG33LQXIb5Bg.png"/></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="c5cf" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">转换</h2><p id="022b" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">打开或关闭单个项目的状态。</p><ul class=""><li id="20c3" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">默认颜色(选中):<code class="fe ls lt lu lv b">secondaryVariant</code> / <code class="fe ls lt lu lv b">secondaryVariantAlpha</code></li><li id="605d" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">默认颜色(未选中):<code class="fe ls lt lu lv b">surface</code> / <code class="fe ls lt lu lv b">onSurface</code></li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="26d2" class="ma mb iq lv b gy mc md l me mf">Switch(checked = true, onCheckedChange = <strong class="lv ir">{}</strong>)<br/><em class="ml"><br/>Switch</em>(checked = false, onCheckedChange = <strong class="lv ir">{}</strong>)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/1ccf5a0dd5ccc3829d8a5662a8731622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*hlDW5xvTcPXJEW4hc2Bitg.png"/></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><h2 id="945d" class="ma mb iq bd mr no np dn mv nq nr dp mz lf ns nt nb lj nu nv nd ln nw nx nf ny bi translated">文本字段</h2><p id="e0e9" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">用于用户输入。</p><ul class=""><li id="9c83" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">背景色:<code class="fe ls lt lu lv b">onSurface.copy(alpha = BackgroundOpacity)</code></li><li id="a1a3" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">文字颜色:<code class="fe ls lt lu lv b">onBackground</code></li><li id="d7fc" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">底线(常规):<code class="fe ls lt lu lv b">onSurface.copy(alpha =<br/>TextFieldDefaults.UnfocusedIndicatorLineOpacity)</code></li><li id="7acd" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">底线(错误):<code class="fe ls lt lu lv b">onError</code></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/8f8c47f608b52c56f3ba0e0996b9007a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mBREZ_v4NJMES2Fgb79uOQ.png"/></div></div></figure><p id="949d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最初的<code class="fe ls lt lu lv b">onSurface</code>颜色是浅蓝色，因此在截图上看不到这种颜色——尤其是不透明的颜色。因此，我只在这张截图中使用了<code class="fe ls lt lu lv b">onSecondary</code>颜色。</p><p id="671c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">总而言之:</p><ul class=""><li id="1c98" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">不是每个UI都遵循<code class="fe ls lt lu lv b">color</code> / <code class="fe ls lt lu lv b">&lt;onColor&gt;</code>模式。</li><li id="98e2" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">如果我们完成一个UI元素的实现，默认颜色被设置。我们不必死记硬背。然而，了解基础知识是有用的。</li></ul><h1 id="6bae" class="mq mb iq bd mr ms mt mu mv mw mx my mz jw na jx nb jz nc ka nd kc ne kd nf ng bi translated">如果我将内容颜色作为背景颜色会怎么样？</h1><ul class=""><li id="fbfd" class="nz oa iq ky b kz nh lc ni lf ob lj oc ln od lr oe of og oh bi translated">让我们分别设置<code class="fe ls lt lu lv b">onPrimary</code>、<code class="fe ls lt lu lv b">onSecondary</code>、<code class="fe ls lt lu lv b">onError</code>、<code class="fe ls lt lu lv b">onSurface</code>、<code class="fe ls lt lu lv b">onBackground</code>为背景色。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/0bb8d09fd1d0c2b1645853f331c8d314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*_X-8FQFNiRy0XzcW6sI9Nw.png"/></div></figure><p id="4f4d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">背景颜色取自内容颜色，内容颜色从<code class="fe ls lt lu lv b">contentColorFor</code>扩展else case中读取，在本例中为<code class="fe ls lt lu lv b">Color.Unspecified</code>。如果我们检查代码，<code class="fe ls lt lu lv b">Color.Unspecified</code>是黑色的。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="7d4a" class="ma mb iq lv b gy mc md l me mf">val Unspecified = <em class="ml">Color</em>(0f, 0f, 0f, 0f, ColorSpaces.Unspecified)</span></pre><p id="0873" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们观察到的，最后一个没有显示文本，因为<code class="fe ls lt lu lv b">onBackground</code>颜色和选择的内容颜色是相同的。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="2098" class="ma mb iq lv b gy mc md l me mf">onBackground = <em class="ml">Color</em>(0xFF000000)</span></pre><p id="9331" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这肯定会引起一些问题:</p><ul class=""><li id="c668" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">UI测试会通过，因为文本确实在那里，我们不会意识到它。</li><li id="f9cc" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">花点时间找出问题，因为颜色实际上设置得很好，谁会首先想到<code class="fe ls lt lu lv b">Color.Unspecified</code>颜色呢？</li><li id="2113" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">用户改变主题(亮-&gt;暗)，我们可能会得到一个次优的用户体验。</li></ul><p id="ab2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们需要非常小心的主题颜色。</p><h1 id="1917" class="mq mb iq bd mr ms mt mu mv mw mx my mz jw na jx nb jz nc ka nd kc ne kd nf ng bi translated"><strong class="ak">黑暗题材呢？</strong></h1><p id="6d3a" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">我们也应该考虑深色主题的调色板，否则，用户会对我们的应用程序有不好的体验，甚至沮丧！最常被忽视的部分之一是应用黑暗主题——至少对我来说是这样。使用材质合成，很容易实现。</p><p id="8658" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们需要决定调色板。我遵循同样的，给所有人不同的颜色。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pj"><img src="../Images/1a1a4b8f431fb0c0bb82f2d7951606cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NbJ8w2I_N1vUEpv8OjpqBw.png"/></div></div></figure><p id="a240" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们进入我们的主题调色板，并运行应用程序。</p><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="060f" class="ma mb iq lv b gy mc md l me mf">MaterialTheme(<br/>    colors = if (isSystemInDarkTheme()) darkColors else lightColors,<br/>    <em class="ml">/***/</em><br/>)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/5bc4d30f4b7d8cffd3364b0fb7ddcbf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*m2cm-nzLePk2xSwSoISffQ.png"/></div></figure><p id="7ea2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们看到的，我们的应用程序适应颜色的变化。</p><p id="ab72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是什么分钟，为什么我们的主要背景保持为白色？这不是我们想要的。原因如下:</p><ul class=""><li id="c5a8" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">所有的UI组件都被添加到<code class="fe ls lt lu lv b">Column</code>元素中，它不遵循任何主题，这就是为什么我们的背景实际上没有任何颜色。</li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="38f6" class="ma mb iq lv b gy mc md l me mf">@Composable<br/>fun Surfaces() {<strong class="lv ir"><br/>    </strong><em class="ml">Column</em>(modifier = Modifier.<em class="ml">filllMaxSize</em>()) <strong class="lv ir">{<br/>        </strong><em class="ml">Cards</em>()<br/>    }<br/>}</span></pre><ul class=""><li id="0ba1" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">为了拥有合适的ui，我们总是需要使用实际应用颜色主题的组件。让我们在可组合函数的顶部添加<code class="fe ls lt lu lv b">Surface</code>。</li></ul><pre class="kg kh ki kj gt lw lv lx ly aw lz bi"><span id="92e3" class="ma mb iq lv b gy mc md l me mf">@Composable<br/>fun Surfaces() {<br/>    Surface <strong class="lv ir">{<br/>        </strong><em class="ml">Column</em>(modifier = Modifier.<em class="ml">fillMaxSize</em>()) <strong class="lv ir">{<br/>             </strong><em class="ml">Cards</em>()    <br/>        }<br/>    }<br/>}</span></pre><p id="4daf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">瞧，问题解决了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/a4c595db95a3753b588883227c06206f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*JM2TUC1y1wHvRxH_MFcB8g.png"/></div></figure><h1 id="875e" class="mq mb iq bd mr ms mt mu mv mw mx my mz jw na jx nb jz nc ka nd kc ne kd nf ng bi translated">我需要一个不同的UI组件，但不想改变主题，我该怎么办？</h1><p id="2f72" class="pw-post-body-paragraph kw kx iq ky b kz nh jr lb lc ni ju le lf nj lh li lj nk ll lm ln nl lp lq lr ij bi translated">我的一个UI元素必须与其他应用程序不同——我的主题颜色都不合适。但是，我不想面对问题。</p><p id="6176" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以覆盖UI元素的颜色。所有UI元素的类表示是不同的，但是实现是相同的。让我们看看<code class="fe ls lt lu lv b">Button</code>和<code class="fe ls lt lu lv b">TextField</code>。</p><p id="6fd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于按钮，我们将使用<code class="fe ls lt lu lv b">ButtonDefaults.buttonColors()</code>扩展和覆盖。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="3290" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">类似于<code class="fe ls lt lu lv b">TextField</code>，<code class="fe ls lt lu lv b">TextFieldDefaults.textFieldColors()</code>将被覆盖。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><ul class=""><li id="cf71" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">记住这一点很重要，我们应该考虑为亮/暗模式提供不同的调色板。否则，我们可能会以前面提到的问题告终。(背景/文字颜色相同的问题)</li></ul><p id="9737" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们来看看我们最新的应用程序，它包含常规和定制的亮暗主题组件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/3fbd66af6394c764b239095e3d65914f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Pf_3tid0Xnl4AVOFYqOXvQ.gif"/></div></figure></div><div class="ab cl or os hu ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="ij ik il im in"><p id="e1b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们讨论了以下主题:</p><ul class=""><li id="e96b" class="nz oa iq ky b kz la lc ld lf oj lj ok ln ol lr oe of og oh bi translated">色彩在材质主题中的应用，明暗都有</li><li id="ac76" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">用户界面元素的默认颜色</li><li id="53a1" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">常见错误</li><li id="0cf5" class="nz oa iq ky b kz om lc on lf oo lj op ln oq lr oe of og oh bi translated">UI元素的重写调色板</li></ul><p id="5477" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望这篇文章是有用的。在接下来的文章中，我将研究形状和排版。</p></div></div>    
</body>
</html>