# iOS 代码库中的可测试依赖建模

> 原文：<https://betterprogramming.pub/modeling-testable-dependencies-in-ios-codebases-bf370de8b313>

## 带有在项目中实现可测试依赖项的选项的代码示例

![](img/a9ccb1d81d7675280c3b80586e681956.png)

资料来源:undraw.co

当你正在开发一个应用程序，并以可测试性为目标时，对如何定义依赖关系有一个大致的概念是很好的。

下面的例子将介绍如何实现这一点的一些选择。

# 1.存储数据或内部状态的依赖关系

如果它将保存一些数据或状态，它应该存储在内存中的某个地方。记住这一点，最好用引用类型来实现它，在本例中是一个类。

# 2.不存储数据或状态的依赖项

如果它不保存数据或状态，您可以使用值类型，即结构。

## **使用协议**

使用协议是使某些东西可测试的最常见的方法，提取一个接口/契约来表示您的依赖关系的 API。这样，我们可以将它与依赖注入技术一起使用，以实现预期的可测试性。

## **使用结构**

这种技术利用了结构的力量，将 API 表示为属性，并在创建它们的特殊实例时设置实现。