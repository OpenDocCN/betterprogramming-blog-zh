<html>
<head>
<title>How to Remove Local Git Branches by Creating Git Aliases</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过创建Git别名来删除本地Git分支</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-remove-local-git-branches-by-creating-git-aliases-adbf38c572e8?source=collection_archive---------10-----------------------#2022-07-14">https://betterprogramming.pub/how-to-remove-local-git-branches-by-creating-git-aliases-adbf38c572e8?source=collection_archive---------10-----------------------#2022-07-14</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="eb00" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">适用于您日常工作流程的便捷命令</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/421cd0ea8dbcd9577ab6f403c6c8351e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UjQ5RjB5OIbHuSHE"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@ujesh?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ujesh Krishnan </a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d118" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在优化Git工作流并开始处理Pull请求之后，您可能会有大量的本地分支，这些分支都已经被合并，并且可以被删除。</p><p id="9e94" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这篇简短的教程中，我将展示如何轻松地做到这一点，以及如何创建一个可以在任何地方重用的Git别名。</p><h1 id="31d1" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">删除单个本地分支</h1><p id="7793" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">要删除单个本地分支，您可以打开您最喜欢的Git GUI界面，只需在选中的分支上按下<code class="fe mt mu mv mw b">delete</code>。</p><p id="855b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">但是，如果您不能正确使用终端，您就不能称自己为开发人员。</p><p id="c009" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">切换到您喜欢的终端，使用以下命令删除分支:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="0e89" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">不幸的是(或者幸运的是)，只有当您想要删除的选定分支已经被合并时，这个命令才会起作用。但是，如果要删除未合并的分支，可以使用大写的d。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><h1 id="8d58" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">删除所有本地分支</h1><p id="bdc9" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">当您有多个本地分支时，您可能希望用一个命令将它们全部删除，而不是对每个分支都执行delete命令。</p><p id="a3fc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要实现这样的功能，知道<code class="fe mt mu mv mw b">git branch -D</code>可以同时处理几个文件是很重要的。</p><p id="48fd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">考虑到这一点，我们首先编写一个命令来查找存储库中的所有分支:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="db76" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您在CLI中执行此命令，您将看到您的主要和/或受保护分支也包括在内:主、主要、发布等。</p><p id="987c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以根据需要调整find命令(对我来说是main/master/develop)。命令如下:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="6e36" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">此外，您可以添加<code class="fe mt mu mv mw b">--merged</code>标志来表明您只想查找已经合并的分支</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="ea5e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在，您可以通过管道将结果传递给上一章中介绍的delete命令，如下所示:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="69f4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在任何Git存储库中执行这个命令(其中main/master是受保护的分支)将会删除每个已经合并并且没有本地更改的分支。如果你忘记了<code class="fe mt mu mv mw b">--merged</code>，你也可以用<code class="fe mt mu mv mw b">-d</code>来中止。</p><h2 id="ff2c" class="mz lx iu bd ly na nb dn mc nc nd dp mg lj ne nf mi ln ng nh mk lr ni nj mm nk bi translated"><strong class="ak">重要</strong></h2><p id="422d" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">如果您在已更改的分支上执行此脚本，它将无法正常工作，因为将出现以下错误:</p><pre class="kk kl km kn gu nl mw nm nn aw no bi"><span id="14c9" class="mz lx iu mw b gz np nq l nr ns">error: branch '*' not found.</span></pre><p id="cb42" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了避免这个问题，您可以通过在最后添加一个<code class="fe mt mu mv mw b">\|*</code>来调整命令。这里有一个例子:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><h1 id="1994" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">创建Git别名</h1><h2 id="aa5c" class="mz lx iu bd ly na nb dn mc nc nd dp mg lj ne nf mi ln ng nh mk lr ni nj mm nk bi translated">简单的Git别名</h2><p id="a8eb" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">Git别名是一个通过简化工作流程来改善Git体验的特性。它把命令打包成一个别名，所以你可以在任何你想用的地方使用它。</p><p id="82a8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可能已经使用过的重要别名:</p><ul class=""><li id="8812" class="nt nu iu lc b ld le lg lh lj nv ln nw lr nx lv ny nz oa ob bi translated"><code class="fe mt mu mv mw b">co</code>用于结账</li><li id="a7d6" class="nt nu iu lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated"><code class="fe mt mu mv mw b">ci</code>对于提交</li></ul><p id="1b30" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要设置这些别名，您可以执行:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="9bf3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">不幸的是，在简单的Git别名中，不可能正确使用管道操作符并将一个命令的结果转发给另一个命令。</p><p id="9d07" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">幸运的是，Git允许您使用别名！</p><h2 id="fd03" class="mz lx iu bd ly na nb dn mc nc nd dp mg lj ne nf mi ln ng nh mk lr ni nj mm nk bi translated">复杂的Git别名</h2><p id="48e2" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">通过使用<code class="fe mt mu mv mw b">!</code> (bang)操作符，您的别名可以转义为shell，并且欢迎您进入一个所有别名都有可能的新世界。通过这种技术，您可以使用以下内容:</p><ul class=""><li id="7a15" class="nt nu iu lc b ld le lg lh lj nv ln nw lr nx lv ny nz oa ob bi translated">外壳参数和扩展</li><li id="449f" class="nt nu iu lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">多个git命令</li><li id="b5d7" class="nt nu iu lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">Greps、Pipes和您已经安装的所有Unix命令行工具</li></ul><p id="4291" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要创建新的Git别名，您可以使用这个模板并添加您自己的命令:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="5961" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这个别名中，您使用一个简单的技巧，将实际的git命令包装在一个匿名的bash函数中(或者更好，一个名为<code class="fe mt mu mv mw b">f()</code>的函数)。按照这种方法，您可以按如下方式访问命令行变量和shell扩展:</p><ul class=""><li id="6cc1" class="nt nu iu lc b ld le lg lh lj nv ln nw lr nx lv ny nz oa ob bi translated">$1、$2和$3用于传递给Git别名的第一个、第二个和第三个参数</li><li id="2ba7" class="nt nu iu lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">用<code class="fe mt mu mv mw b">&amp;&amp;</code>链接git命令</li><li id="8249" class="nt nu iu lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">使用<code class="fe mt mu mv mw b">|</code>的管道结果</li><li id="78ab" class="nt nu iu lc b ld oc lg od lj oe ln of lr og lv ny nz oa ob bi translated">使用整个Unix工具包</li></ul><p id="c8e9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了演示复杂Git alias的功能，可以看一下下面两个例子:</p><p id="abd5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> 1。显示自上次Git命令以来的提交情况</strong></p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="5fbf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">可以通过执行<code class="fe mt mu mv mw b">git new</code>并提供<code class="fe mt mu mv mw b">HEAD</code>来使用:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="ad0f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv"> 2。向您的本地存储库添加一个遥控器</strong></p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="269d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">可通过执行<code class="fe mt mu mv mw b">git ra</code>并添加遥控器名称和遥控器<code class="fe mt mu mv mw b">URL</code>来使用:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><h1 id="f73f" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">创建别名以删除分支</h1><p id="1935" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">既然您已经知道了如何创建一个扩展的Git别名，我们可以使用前面的信息，用一个名为<code class="fe mt mu mv mw b">f()</code>的匿名bash函数包装这个命令:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><p id="9fae" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">之后，您可以使用<code class="fe mt mu mv mw b">git config</code>命令为当前登录的用户创建一个全局Git别名:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mx my l"/></div></figure><h1 id="a627" class="lw lx iu bd ly lz ma mb mc md me mf mg ka mh kb mi kd mj ke mk kg ml kh mm mn bi translated">结论</h1><p id="5090" class="pw-post-body-paragraph la lb iu lc b ld mo jv lf lg mp jy li lj mq ll lm ln mr lp lq lr ms lt lu lv in bi translated">您可能有多个本地分支，但在关闭“拉”请求后忘记立即删除。也许远程分支已经被删除，但是您的本地文件夹每天都在增长。希望您现在知道了解决这个问题的技术，并且可以在CLI中使用它来删除已经完全合并的每个本地分支。</p><p id="5d80" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">此外，我希望您学会了一种使用Git别名和带有<code class="fe mt mu mv mw b">!</code> (bang)操作符的复杂Git别名来优化您的Git工作流的优秀方法。</p><p id="b338" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果你喜欢读这篇文章，考虑在评论区留下你的宝贵想法。我很想听到你对我的教程的反馈。</p><pre class="kk kl km kn gu nl mw nm nn aw no bi"><span id="79e9" class="mz lx iu mw b gz np nq l nr ns"><strong class="mw iv">Want to Connect?</strong></span><span id="5ace" class="mz lx iu mw b gz oh nq l nr ns">Feel free to connect with me on my <a class="ae kz" href="https://www.knulst.de" rel="noopener ugc nofollow" target="_blank">Blog</a>, <a class="ae kz" href="https://www.linkedin.com/in/paulknulst/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>, and <a class="ae kz" href="https://twitter.com/paulknulst" rel="noopener ugc nofollow" target="_blank">Twitter</a>.</span></pre></div><div class="ab cl oi oj hy ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="in io ip iq ir"><p id="262a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="op">本文最初发表于我的博客</em><a class="ae kz" href="https://www.paulsblog.dev/how-to-remove-local-git-branches-by-creating-git-aliases/" rel="noopener ugc nofollow" target="_blank"><em class="op">https://www . paulsblog . dev/how-to-remove-local-git-branches-by-creating-git-aliases/</em></a></p></div></div>    
</body>
</html>