<html>
<head>
<title>User Management With Firebase and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Firebase和Python进行用户管理</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/user-management-with-firebase-and-python-749a7a87b2b6?source=collection_archive---------6-----------------------#2020-03-10">https://betterprogramming.pub/user-management-with-firebase-and-python-749a7a87b2b6?source=collection_archive---------6-----------------------#2020-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4e88" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">通过使用Firebase来处理用户管理，加快应用程序的开发</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0ff107b85709372f3893a9013dd18b2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-JWiT06hAT37Kx6w"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NeONBRAND </a>拍摄的照片</p></figure><h1 id="b523" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="040e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Firebase是一个方便的工具，它提供了开箱即用的用户管理功能。它允许我们创建新用户，更新他们的详细信息，管理他们的密码，通过他们的电子邮件和密码验证他们，删除他们，等等。</p><p id="daa0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果您正在考虑构建一个移动应用程序(或者任何应用程序)，并且需要快速启动和运行，那么Firebase绝对是一个值得考虑的用户管理组件选项。</p><p id="1941" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Firebase提供了一个Firebase管理Python SDK。我们将讨论如何使用Firebase Admin SDK进行应用程序的用户管理，具体目的如下:</p><ul class=""><li id="099b" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">创造用户</li><li id="f2a2" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">更新用户详细信息(包括电子邮件、手机号码和显示名称)</li><li id="5509" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">设置用户密码</li><li id="5beb" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">使用电子邮件和密码验证用户</li><li id="707e" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">删除用户</li></ul><p id="ef15" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">TL；DR:克隆这个GitHub <a class="ae ky" href="https://github.com/billydh/python-firebase-admin-sdk-demo" rel="noopener ugc nofollow" target="_blank"> repo </a>。</p><p id="f4e6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">更新:关于如何验证用户电子邮件地址的新文章已经发布。点击查看<a class="ae ky" href="https://medium.com/@billydharmawan/verify-user-email-address-with-firebase-and-python-adda433ff48d?source=friends_link&amp;sk=86198e8020406ca7b2e06b1f6238b2f9" rel="noopener">。</a></p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="d1eb" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">设置新的Firebase项目和凭据</h1><p id="843a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，我们需要设置我们的Firebase凭证，以便能够使用他们的API。他们的文档很详细，很容易理解。你可以在这里找到<a class="ae ky" href="https://firebase.google.com/docs/admin/setup" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="cfca" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">无论如何，让我们继续完成设置过程，这样每个人都在同一页面上。我们在这里只讨论必要的步骤，所以如果你想知道更多的细节，请访问我上面链接的页面。</p><h2 id="7d5f" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">Python版本和pip安装</h2><p id="0563" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，你的Python版本需要是3.5或以上。确保您已经安装了它。</p><p id="e9a8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">接下来，我们可以使用pip安装Firebase Admin SDK。下面是您可以从终端运行的命令。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="0dca" class="ns la it of b gy oj ok l ol om">$ pip3 install firebase-admin</span></pre><p id="739b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">只是提醒一下，在我们的虚拟环境中安装一个这样的包总是比较好的，这样可以让它只包含在需要它的项目中。</p><h2 id="30e1" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">生成Google应用程序默认凭据</h2><p id="ca11" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在使用SDK之前，我们需要生成我们的Google应用程序默认凭证。</p><p id="752c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，进入你的Firebase <a class="ae ky" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank">控制台</a>，点击“添加项目”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/38607ce66eac870d951ead1ef5e71dd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_h1fBxPb29UmPcFRNX8IQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">消防基地控制台</p></figure><p id="2184" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们给我们的项目起个名字:<code class="fe oo op oq of b">python-admin-sdk-demo</code>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/fb8052276d2a65942773ba96661097f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SJEKmdoJ6KZ9DuoEJ6fIGQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命名Firebase项目</p></figure><p id="7f9a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下一步是启用谷歌分析。出于本教程的目的，我们不需要打开它，所以让我们关闭它。禁用后，点击“创建项目”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/a9017b76e7c65cd36d26698dbdd7c334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ePXrFaYBrDYkQZlPQdXI_A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">谷歌分析—关闭</p></figure><p id="49fb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然后Firebase将为您设置并生成新项目。完成后，点击“继续”进入您的项目概述页面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/cb5fbc1cc5c9a20f4de7b2203577c3a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AW_627waWUjhJb_3iIxT3w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">项目概述</p></figure><p id="b775" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在左上角，点击“项目概述”旁边的cog图标，并选择“项目设置”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/7483f130f6a6a2e0ca2646d403e66083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_bqZ0f2kgOiz0oOEb8CfVg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">项目设置</p></figure><p id="55ec" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然后，导航到服务帐户选项卡。单击Python查看Admin SDK配置片段。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/09a6027083989112bb7e20b9d141aa52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JFjpQ11HyArSJLc9L1IQzw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">服务帐户</p></figure><p id="b9b8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">继续点击“生成新的私钥”将弹出如下所示的窗口。正如窗户上的警告所说，记得保管好私钥。不要<em class="ot">也不要</em>将这个提交到你的项目库中。</p><p id="3dc4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">好了，我们可以继续并点击“生成密钥”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/d0127364cc9d31d1bbd27ebb8e353fe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0vd2sD_m2oOiaeD9gakxyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">生成新的私钥</p></figure><p id="2a60" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Firebase会打开一个提示，问你想把JSON文件保存在哪里。让我们创建一个名为<code class="fe oo op oq of b">python-admin-sdk-demo</code>的新文件夹，并将文件存储在那里。</p><p id="aa60" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">太好了！我们现在已经有了调用Firebase管理API所需的东西。让我们看看如何用Python来设置它。</p><p id="5154" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是来自Firebase的指令:</p><blockquote class="ov ow ox"><p id="4dba" class="lr ls ot lt b lu mn ju lw lx mo jx lz oy mp mc md oz mq mg mh pa mr mk ml mm im bi translated">"当通过服务帐户授权时，您有两种选择向应用程序提供凭据。您可以设置<code class="fe oo op oq of b">GOOGLE_APPLICATION_CREDENTIALS</code>环境变量，也可以在代码中显式传递服务帐户密钥的路径。第一种方案更安全，强烈推荐。”</p></blockquote><p id="bfc1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">因此，让我们按照他们的建议设置一个名为<code class="fe oo op oq of b">GOOGLE_APPLICATION_CREDENTIALS</code>的环境变量，并给出一个我们刚刚从Firebase下载的JSON文件的路径值。</p><p id="35c2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们从您的终端执行以下命令来设置环境变量。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="f2a4" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ export GOOGLE_APPLICATION_CREDENTIALS=/Users/billyde/demo/python-admin-sdk-demo/python-admin-sdk-demo-1a64n-firebase-adminsdk-ze72a-5a36713w1q.json</span><span id="e47b" class="ns la it of b gy pb ok l ol om">~/demo/python-admin-sdk-demo ❯ echo $GOOGLE_APPLICATION_CREDENTIALS<br/>/Users/billyde/demo/python-admin-sdk-demo/python-admin-sdk-demo-1a64n-firebase-adminsdk-ze72a-5a36713w1q.json</span></pre><p id="21e4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">酷毙了。现在让我们来编写Python代码。</p><p id="3e71" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在您的项目目录中创建一个新文件，并将其命名为<code class="fe oo op oq of b">initialise_firebase_admin.py</code>。内容是这样的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pc pd l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">initialise _ firebase _ admin.py</p></figure><p id="e1a4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，如果我们回到终端并执行以下命令，我们将能够看到Firebase管理应用程序已成功初始化。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="0b37" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python initialise_firebase_admin.py<br/>&lt;firebase_admin.App object at 0x125d19wg3&gt;</span></pre><p id="cacd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">完美！我们现在准备开始更激动人心的东西了。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="909d" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">创建新用户</h1><p id="1cb9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">几乎所有的移动应用程序，或者任何应用程序，都需要创建一个用户。</p><p id="f5d1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Firebase让我们可以轻松做到这一点。我们可以创建一个只有电子邮件地址的用户，让Firebase处理其他一切。默认情况下，Firebase将为用户ID的值生成一个随机字符串。或者，我们可以传递一个用户ID，Firebase会将该用户ID分配给我们正在创建的新用户。</p><p id="e0b2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">所以让我们继续创建一个新的Python文件。将其命名为<code class="fe oo op oq of b">create_user.py</code>，其内容如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pc pd l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建_用户. py</p></figure><p id="0c30" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你会注意到你的编辑器会提示你<code class="fe oo op oq of b">from initialise_firebase_admin import app</code>没有被使用，并建议你删除它。如果您删除它并运行脚本，您将得到如下错误:</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="43c7" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python create_user.py --email <a class="ae ky" href="mailto:someone@email.com" rel="noopener ugc nofollow" target="_blank">someone@email.com</a></span><span id="da86" class="ns la it of b gy pb ok l ol om">Traceback (most recent call last):<br/>  File "create_user.py", line 20, in &lt;module&gt;<br/>    new_user: UserRecord = create_user(arg.email)<br/>  File "create_user.py", line 15, in create_user<br/>    return auth.create_user(email=email)<br/>  File "/Users/billyde/demo/python-admin-sdk-demo/venv/lib/python3.8/site-packages/firebase_admin/auth.py", line 366, in create_user<br/>    user_manager = _get_auth_service(app).user_manager<br/>  File "/Users/billyde/demo/python-admin-sdk-demo/venv/lib/python3.8/site-packages/firebase_admin/auth.py", line 129, in _get_auth_service<br/>    return _utils.get_app_service(app, _AUTH_ATTRIBUTE, _AuthService)<br/>  File "/Users/billyde/demo/python-admin-sdk-demo/venv/lib/python3.8/site-packages/firebase_admin/_utils.py", line 79, in get_app_service<br/>    app = _get_initialized_app(app)<br/>  File "/Users/billyde/demo/python-admin-sdk-demo/venv/lib/python3.8/site-packages/firebase_admin/_utils.py", line 65, in _get_initialized_app<br/>    return firebase_admin.get_app()<br/>  File "/Users/billyde/demo/python-admin-sdk-demo/venv/lib/python3.8/site-packages/firebase_admin/__init__.py", line 135, in get_app<br/>    raise ValueError(<br/>ValueError: The default Firebase app does not exist. Make sure to initialize the SDK by calling initialize_app().</span></pre><p id="a9fb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是因为我们需要验证我们的应用程序，这样Firebase将允许我们调用他们的API。</p><p id="ca05" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">好了，让我们正确使用脚本并创建两个新用户:(1)没有用户ID，让Firebase生成一个随机字符串，(2)使用我们选择的用户ID。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="42e5" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python create_user.py --email <a class="ae ky" href="mailto:somebody@email.com" rel="noopener ugc nofollow" target="_blank">somebody@email.com</a></span><span id="aae8" class="ns la it of b gy pb ok l ol om">Firebase successfully created a new user with email - <a class="ae ky" href="mailto:somebody@email.com" rel="noopener ugc nofollow" target="_blank">somebody@email.com</a> and user id - Q7qt9BTmJfMXl4lVnQ4frvOoYgy2</span><span id="160a" class="ns la it of b gy pb ok l ol om">~/demo/python-admin-sdk-demo ❯ python create_user.py --email <a class="ae ky" href="mailto:someone.with.id@email.com" rel="noopener ugc nofollow" target="_blank">someone.with.id@email.com</a> --user-id 12345</span><span id="c38f" class="ns la it of b gy pb ok l ol om">Firebase successfully created a new user with email - <a class="ae ky" href="mailto:someone.with.id@email.com" rel="noopener ugc nofollow" target="_blank">someone.with.id@email.com</a> and user id - 12345</span></pre><p id="883a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">完美无缺。我们可以看到用户<code class="fe oo op oq of b"><a class="ae ky" href="mailto:somebody@email.com" rel="noopener ugc nofollow" target="_blank">somebody@email.com</a></code>是用一个随机字符串作为用户ID创建的，而用户<code class="fe oo op oq of b"><a class="ae ky" href="mailto:someone.with.id@email.com" rel="noopener ugc nofollow" target="_blank">someone.with.id@email.com</a></code>是用我们选择的用户ID创建的。</p><p id="ac20" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，如果我们转到Firebase Console &gt; Authentication，我们将能够看到这两个新用户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/527d369b6183277da0395c39b8e984ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1kv2R7GSZQP3QWyQY9HHcw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">证明</p></figure><p id="a6a9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">快乐的日子！</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="2605" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">更新现有用户详细信息</h1><p id="1f1d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">任何用户在某个时候都需要更新他们的详细信息，这是非常常见的(或者将永远如此)。Firebase Admin SDK提供了一个API来支持这一需求。</p><p id="dc2c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于本教程，让我们假设我们的应用程序需要更新电子邮件地址、手机号码和显示名称。</p><p id="20f0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请注意，对于手机号码，Firebase要求其格式符合<a class="ae ky" href="https://www.twilio.com/docs/glossary/what-e164" rel="noopener ugc nofollow" target="_blank"> E.164 </a>标准。来自Twilio:</p><blockquote class="ov ow ox"><p id="4375" class="lr ls ot lt b lu mn ju lw lx mo jx lz oy mp mc md oz mq mg mh pa mr mk ml mm im bi translated">" E.164号码的格式为[+][国家代码][包括区号的用户号码]，最多可以有15位数字。"</p></blockquote><p id="8fc8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">好了，让我们创建一个名为<code class="fe oo op oq of b">update_user.py</code>的新Python文件，并编写我们的用户更新函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pc pd l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">更新_用户. py</p></figure><p id="3b26" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">太棒了。现在，让我们继续为一些不同的场景尝试我们的<code class="fe oo op oq of b">update_user.py</code>脚本。</p><h2 id="f61b" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">仅更新用户的电子邮件</h2><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="925a" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python update_user.py --user-id 12345 --email <a class="ae ky" href="mailto:someone.with.id.update@emailupdate.com" rel="noopener ugc nofollow" target="_blank">someone.with.id.update@emailupdate.com</a></span><span id="a32d" class="ns la it of b gy pb ok l ol om">Updated user email to <a class="ae ky" href="mailto:someone.with.id.update@emailupdate.com" rel="noopener ugc nofollow" target="_blank">someone.with.id.update@emailupdate.com</a></span></pre><h2 id="e5df" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">更新用户的手机号码和显示名称</h2><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="6d03" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python update_user.py --user-id Q7qt9BTmJfMXl4lVnQ4frvOoYgy2 --mobile-number +61400123123 --display-name "John Doe"</span><span id="9c69" class="ns la it of b gy pb ok l ol om">Updated user mobile number to +61400123123<br/>Updated user display name to John Doe</span></pre><h2 id="3aed" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">更新用户的电子邮件、手机号码和显示名称</h2><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="0de4" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python update_user.py --user-id 12345 --email <a class="ae ky" href="mailto:someone.with.id.update.again@emailupdateagain.com" rel="noopener ugc nofollow" target="_blank">someone.with.id.update.again@emailupdateagain.com</a> --mobile-number +61400789789 --display-name Alex</span><span id="0add" class="ns la it of b gy pb ok l ol om">Updated user email to <a class="ae ky" href="mailto:someone.with.id.update.again@emailupdateagain.com" rel="noopener ugc nofollow" target="_blank">someone.with.id.update.again@emailupdateagain.com</a><br/>Updated user mobile number to +61400789789<br/>Updated user display name to Alex</span></pre><p id="93df" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">太好了！我们可以看到我们的Python脚本按预期工作。</p><p id="af67" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请注意，这可能不是最有效的更新方式，因为脚本会一个接一个地更新，而不是一次性完成。请随意修改它以提高性能。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="31bd" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">设置用户密码</h1><p id="5548" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Firebase Admin SDK使用更新用户API来设置密码。所以我们可以把它包含在<code class="fe oo op oq of b">update_user.py</code>脚本中。我认为我们应该将其分开的原因是，在现实世界的应用程序中，设置用户密码的调用与更新用户详细信息同时发生的可能性极小。</p><p id="ceb8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">同样，这只是我的个人观点，所以如果适合您的用例，请随意将它们组合在一起。</p><p id="2061" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">无论如何，让我们继续创建一个新的Python文件来设置用户密码。我们把这个文件命名为<code class="fe oo op oq of b">set_password.py</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pc pd l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">set_password.py</p></figure><p id="53ec" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">酷毙了。让我们使用<code class="fe oo op oq of b">set_password.py</code>脚本为我们之前创建的一个用户设置密码。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="91db" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python set_password.py --user-id 12345 --password thisisasimplepassword</span><span id="df3e" class="ns la it of b gy pb ok l ol om">Firebase has updated the password for user with user id - 12345</span></pre><p id="35b8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">太好了！用户<code class="fe oo op oq of b">12345</code>现在有密码了。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="0065" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">用密码验证用户</h1><p id="9ad6" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，我们可能都想知道密码是用来做什么的，或者如何使用它来验证用户。Firebase Admin SDK不提供API来验证和/或验证用户的密码。</p><p id="dcb8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Firebase为此提供了Firebase Auth REST API，我们可以使用它。要使用REST API，我们需要从Firebase控制台获取Web API密钥。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/65f88fe024faad5806d9ed76793ac353.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSwEC9rCdvX8jN71Gt0CVA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Web API密钥</p></figure><p id="2e42" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们设置一个名为<code class="fe oo op oq of b">FIREBASE_WEB_API_KEY</code>的环境变量并赋值。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="b2a3" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ export FIREBASE_WEB_API_KEY=your_web_api_key_here</span></pre><p id="e721" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让用户用密码登录的API的端点是<code class="fe oo op oq of b"><a class="ae ky" href="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=[API_KEY]" rel="noopener ugc nofollow" target="_blank">https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=[API_KEY]</a></code>。</p><p id="23ab" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请求主体有效负载需要三个属性:</p><ul class=""><li id="51b8" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><code class="fe oo op oq of b">email</code></li><li id="34fe" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><code class="fe oo op oq of b">password</code></li><li id="ded5" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><code class="fe oo op oq of b">returnSecureToken</code> —这是一个布尔参数，应该始终设置为<code class="fe oo op oq of b">true</code>，因为它将返回Firebase ID和刷新令牌</li></ul><p id="4a60" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">好了，让我们创建一个新的Python文件，命名为<code class="fe oo op oq of b">sign_in_with_email_and_password.py</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pc pd l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><code class="fe oo op oq of b">sign_in_with_email_and_password.py</code></p></figure><p id="4100" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">接下来，让我们尝试登录用户<code class="fe oo op oq of b"><a class="ae ky" href="mailto:someone.with.id.update.again@emailupdateagain.com" rel="noopener ugc nofollow" target="_blank">someone.with.id.update.again@emailupdateagain.com</a></code>(我们之前为其设置了密码)。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="7b39" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python sign_in_with_email_and_password.py --email <a class="ae ky" href="mailto:someone.with.id.update.again@emailupdateagain.com" rel="noopener ugc nofollow" target="_blank">someone.with.id.update.again@emailupdateagain.com</a> --password thisisasimplepassword</span><span id="339c" class="ns la it of b gy pb ok l ol om">{'error': {'code': 400,<br/>           'errors': [{'domain': 'global',<br/>                       'message': 'PASSWORD_LOGIN_DISABLED',<br/>                       'reason': 'invalid'}],<br/>           'message': 'PASSWORD_LOGIN_DISABLED'}}</span></pre><p id="4323" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">哎哟！那里发生了什么？</p><p id="8d20" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">不要担心也不要惊慌。请跟我来，我向你保证，我们会一起度过这个难关，让我们的标志生效。</p><h2 id="22c5" class="ns la it bd lb nt nu dn lf nv nw dp lj ma nx ny ll me nz oa ln mi ob oc lp od bi translated">启用登录方法</h2><p id="6bb9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们转到Firebase控制台&gt;身份验证&gt;登录方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/31992d447185a067c43fe64edeba8bcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EK_TttQ_5oaQB-DCXfb_qg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">登录方法</p></figure><p id="57cc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如您所见，我们还没有为我们的<code class="fe oo op oq of b">python-admin-sdk-demo</code>项目启用任何登录方法。这就是我们收到之前从Firebase看到的错误的原因。错误基本上是说我们需要启用电子邮件/密码登录方法。</p><p id="dd87" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">继续并启用它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/de0358992f425a154b0f989eb9ff905b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uMvEloWJ9rz6aOGb2eB4zg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启用电子邮件/密码登录方法</p></figure><p id="5ca9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">点击顶部的启用图标，离开底部的一个。底部的启用图标用于启用通过电子邮件链接登录。让我们暂时不要担心那个。继续并点击保存。</p><p id="52e9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">完成后，您应该会看到电子邮件/密码登录方法显示为已启用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/80898438af674012ea8219cec2097547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pvZEy3mNyM17YduPV19hvA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">启用电子邮件/密码</p></figure><p id="e2f2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，让我们回到终端，再次执行该命令。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="1b1e" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python sign_in_with_email_and_password.py --email <a class="ae ky" href="mailto:someone.with.id.update.again@emailupdateagain.com" rel="noopener ugc nofollow" target="_blank">someone.with.id.update.again@emailupdateagain.com</a> --password thisisasimplepassword</span><span id="a677" class="ns la it of b gy pb ok l ol om">{'displayName': 'Alex',<br/> 'email': '<a class="ae ky" href="mailto:someone.with.id.update.again@emailupdateagain.com" rel="noopener ugc nofollow" target="_blank">someone.with.id.update.again@emailupdateagain.com</a>',<br/> 'expiresIn': '3600',<br/> 'idToken': 'eyJhbGciOiJSUzI1NiIsImtpZCI6IjhjZjBjNjQyZDQwOWRlODJlY2M5MjI4ZTRiZDc5OTkzOTZiNTY3NDAiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiQWxleCIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9weXRob24tYWRtaW4tc2RrLWRlbW8tN2IyNWEiLCJhdWQiOiJweXRob24tYWRtaW4tc2RrLWRlbW8tN2IyNWEiLCJhdXRoX3RpbWUiOjE1ODM4MjM5NjEsInVzZXJfaWQiOiIxMjM0NSIsInN1YiI6IjEyMzQ1IiwiaWF0IjoxNTgzODIzOTYxLCJleHAiOjE1ODM4Mjc1NjEsImVtYWlsIjoic29tZW9uZS53aXRoLmlkLnVwZGF0ZS5hZ2FpbkBlbWFpbHVwZGF0ZWFnYWluLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicGhvbmVfbnVtYmVyIjoiKzYxNDAwNzg5Nzg5IiwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJwaG9uZSI6WyIrNjE0MDA3ODk3ODkiXSwiZW1haWwiOlsic29tZW9uZS53aXRoLmlkLnVwZGF0ZS5hZ2FpbkBlbWFpbHVwZGF0ZWFnYWluLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6InBhc3N3b3JkIn19.CFi6SHObxXRR_uItCKsBlgOsXIal1_u3-QB3bfT-xk9RNZdUFK1yd3ijcQ6vUXfkY0cBfvMNEvPuOuAPcYdN8dtO0glsQm6KjzmSy2TdxALezHN5Lc4iRorycbqj_bL3jIcmOWIme33wByqam5Gjs6tzy1mzqu9RLYuz4gvj4LKXnCDRtNoYaLHTWy1ViaSpPmNmVDyxFzx_kZtJ7yxluTOubwjHIFq3K5YS3nYFragpF5FUZLrke-D5xC7GxRuE840b_0kEMEk9qmYCOiO1l7CFSTC8kqvqMkh1t85xwj8lyXj7Gqx68HP8KrPOWWeXgtNQ8vCK7WyCNglowF_Cgg',<br/> 'kind': 'identitytoolkit#VerifyPasswordResponse',<br/> 'localId': '12345',<br/> 'refreshToken': 'AEu1MO5oY4sySR4bqDwsqJPpk_nObnYzIJlt1vAKACd0O7jSfpqHAS4DljKA5SaA05WsmpbLSmj5JhyNGBnWpgjv88zGphcWGlKjLmWPgjF4Y4f2R5fIRYzFGV4EYjHTeDtV1yOdW9r1Li0b1IUGqFpUODGQ3jE3cOtITNcVeTwYVdh55f4V6wl7M-Lg4pKAoDiuWVyhDDddU8yj8ALOQPC1NbMHd8ttXwor7J8DIxLws7TZcKCPwzdMPiJI0pHfv4UXtXHWzfJ_',<br/> 'registered': True}</span></pre><p id="2173" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们走吧！我们可以看到Firebase为设置了密码的用户返回ID和刷新令牌。换句话说，我们已经通过Firebase Auth REST API验证了用户。太棒了。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="5ee7" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">删除用户</h1><p id="f9d1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们要做的最后一件事是删除一个用户。这种场景发生在现实世界中——例如，当用户决定离开我们的应用程序和/或平台时。</p><p id="71ba" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">所以让我们创建一个新的Python文件，并将其命名为<code class="fe oo op oq of b">delete_user.py</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pc pd l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">delete_user.py</p></figure><p id="5995" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，让我们删除之前创建的一个用户，让另一个用户来验证脚本是否真的工作。</p><pre class="kj kk kl km gt oe of og oh aw oi bi"><span id="ec3e" class="ns la it of b gy oj ok l ol om">~/demo/python-admin-sdk-demo ❯ python delete_user.py --user-id 12345<br/>Firebase has deleted user with user id - 12345</span></pre><p id="dad6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要确认删除，我们可以转到Firebase Console &gt; Authentication，查看用户是否仍然存在。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/0a8ab9731371f6fb257d6f6b1c499da8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lCGBwzOxeLFYHotM5YL0fw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">删除后经过身份验证的用户</p></figure><p id="1cd4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">没有。该用户不再在我们的Firebase用户列表中。这意味着我们的脚本按预期工作。干得好！</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="abdc" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">包扎</h1><p id="86d4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们已经使用Firebase Admin SDK和Firebase Auth REST API介绍了应用程序用户管理的一些基本和重要的内容。两者都提供了很多有用的API，这将节省我们很多工作——特别是当我们想要快速启动并运行时。</p><p id="9311" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我希望这篇文章已经为您提供了使用Firebase APIs进行用户管理的基础知识。现在继续深入探索API，并构建您自己的应用程序！</p><p id="68f0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">奖励:<a class="ae ky" href="https://medium.com/@billydharmawan/verify-user-email-address-with-firebase-and-python-adda433ff48d?source=friends_link&amp;sk=86198e8020406ca7b2e06b1f6238b2f9" rel="noopener">使用Firebase </a>验证你的用户电子邮件地址。我最近发表了那篇文章，是对用户管理的补充。我们希望验证用户注册时使用的电子邮件地址，以便保护他们免受恶意用户的攻击。</p></div><div class="ab cl ng nh hx ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="im in io ip iq"><h1 id="c831" class="kz la it bd lb lc nn le lf lg no li lj jz np ka ll kc nq kd ln kf nr kg lp lq bi translated">参考</h1><p id="1601" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://firebase.google.com/docs/admin/setup" rel="noopener ugc nofollow" target="_blank"> Firebase项目设置</a></p><p id="886c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><a class="ae ky" href="https://firebase.google.com/docs/auth/admin/manage-users?authuser=0" rel="noopener ugc nofollow" target="_blank"> Firebase Admin SDK </a></p><p id="2cc9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><a class="ae ky" href="https://firebase.google.com/docs/reference/rest/auth" rel="noopener ugc nofollow" target="_blank"> Firebase Auth REST API </a></p><p id="dff9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><a class="ae ky" href="https://github.com/billydh/python-firebase-admin-sdk-demo" rel="noopener ugc nofollow" target="_blank"> GitHub回购</a></p></div></div>    
</body>
</html>