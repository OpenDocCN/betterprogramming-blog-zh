# 生产中断:DevOps 文化的最大考验

> 原文：<https://betterprogramming.pub/production-outages-the-biggest-test-of-the-devops-culture-4f82a02554b5>

## 开发者来自金星，操作者来自火星

![](img/3f8d2e93c53f78bebf429d020afa6e64.png)

Jyotirmoy Gupta 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

各位，你们的女孩已经毕业了。我陷入了生产中断，并与应用程序的运营团队发生了第一次冲突。

如果我客观地看待它，它并不那么糟糕。这种情况下的高度情绪和压力比问题本身更应该对提高的声音负责。这绝对不是我参加过的前五场比赛。从我的生活中推断出你的想法。

但这是我第一次体会到 DevOps 对一个技术团队的重要性。我们是同一个硬币的两面，试图构建和支持同一个应用程序。有了这么多的共同点，开发和运营团队出现分歧和争论应该是罕见的。

# 我们为什么需要 DevOps？

传统上，开发和运营团队被拉向不同的方向。开发人员专注于获得新功能、新服务和新收入流，而运营人员则专注于保持现有生产系统的稳定，避免中断和停机。DevOps 不是一个过程。这是一种团队文化，能够让运营和开发部门更好地协作。这可能以两种方式发生:

1.  开发者创造稳定且经过良好测试的特性。
2.  Ops 设计系统以提高应用程序的可见性，并对故障采取积极主动的方法。

当开发人员致力于构建新功能，并确保有适当的监控、知识和可见性来支持它时，这就是业务成功的时候。

# DevOps 如何在停机期间实现更好的协作？

以我的经验来看，DevOps 作为一种文化，根植于协作和相互理解。只有当开发人员理解了运营部门的痛苦，反之亦然，两者才能相互支持，而不是相互对抗。

与敏捷和 Scrum 不同，是团队和公司文化驱动了工具和过程。这在以下方面有所帮助:

## 改进部署

随着运营团队对每个版本及其影响的更新，他们能够更好地支持应用程序。当安全地部署新功能，在设计中嵌入测试、功能切换和主动监控时，[停机事件的数量往往会减少。](https://cacm.acm.org/magazines/2019/8/238341-research-for-practice-the-devops-phenomenon/fulltext)

作为一名开发人员，在这样的文化中，带着失败的想法进行设计是非常必要的。即使失败的情况很少发生，它们也会变得很糟糕。确保正常恢复和/或部分故障对支持应用程序的人员非常有帮助。

## 警戒和监视是一等公民

当系统设计考虑到在故障和异常情况下发送警报时，运营团队可以更好地处理它们，而不会对业务造成影响。

强大的警报和主动监控确保在故障发生时检测到故障，而不是在用户报告故障时检测到故障。这可能很简单，只要在应用程序出现故障时，向相关的开发人员和运营人员发送电子邮件提醒即可。

## 我们都相处融洽

> “如果运营部门与运营部门共进午餐，开发人员与开发人员共进午餐，那么效率肯定会很低。”

DevOps 促进开发人员和运营人员之间的频繁互动。当我向应用程序引入潜在的突破性变更时，我倾向于联系运营团队，了解他们需要什么来支持应用程序。这样的互动促进了团队之间的理解和谦逊。

这些年来，我和他们建立了良好的关系。我知道他们的家庭，我知道他们中的许多人突然得到了 Covid，团队实力下降。我开始了解他们的假期计划。

在所有这些情况下，在停机等高压力情况下与他们一起工作变得更加容易。不是某个不知名的人默默指责我和我的团队写了不稳定的代码(虽然，有时候会有这种感觉)。是我经常一起工作的人。这促进了共同解决问题，而不是相互指责，最终导致更快的解决和更少的分心。

## 基础设施警报

这值得在清单上占有特殊的位置。

作为一名应用程序开发人员，当 infra 团队试图解决问题时，我有时觉得坐在停机电话旁毫无用处。与内存不足问题一样，基础设施故障也会导致停机。如果没有及时发现，他们很难很快恢复。

在这种情况下，保持良好的可见度和警惕性，以及适当的卫生和维护变得非常重要。这就是 DevOps 在组织中推动工具和过程的方式。

# 停机后会发生什么？

当停电发生时，更多的是一种危机情况。不管你是开发人员、质量保证人员、生产管理人员还是任何人，这种全员参与的情况是有意义的。

但是一旦这一切结束，就到了进行根本原因分析(或 RCA)的时候了。我们犯了错误，并对错过了什么和我们如何能够更快地采取行动感到关切。这是一次艰难的对话，但却是必要的。作为一名开发人员，如果问题是由运营部遗漏的东西引起的，这可能会令人沮丧，我可以想象等式的另一边也是如此。

最后一步是宽容。失败时有发生。断电时有发生。能够容忍双方的人为错误，并确保适当的系统到位，以便它们不会再次发生，这是我们所有人都赢的地方。

# 最后的想法

关于我参与的那次停电，总体来说这是一次有趣的深夜聚会。(如果讽刺不明显，我会让你知道它确实是讽刺。)

虽然有时温度(和声音)上升，但我们作为一个更强大的团队都出来了，特别是因为 RCA 没有指出我们的应用程序有问题(唷！).

对我来说，这个教训是双重的。运营部和我的客户一样重要。如果他们不能尽最大努力支持应用程序，应用程序就不能很好地支持业务。

第二是，未知的未知总是存在的。这些都有可能导致故障以及严重的停机时间。我们唯一可以依赖的是开发和 IT 运营之间的协作和信任，这可以帮助我们更快地解决问题。正如《DevOps 手册》的合著者 Jez Humble 所说:

> “开发运维不是一个目标，而是一个永无止境的持续改进过程。”

加入我的个人时事通讯，了解更多关于科技、生产力和生活的信息。