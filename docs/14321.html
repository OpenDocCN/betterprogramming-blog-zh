<html>
<head>
<title>Build a HealthKit App Using SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SwiftUI构建HealthKit应用程序</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/get-step-count-data-from-healthkit-b6d1a2818e73?source=collection_archive---------2-----------------------#2022-11-29">https://betterprogramming.pub/get-step-count-data-from-healthkit-b6d1a2818e73?source=collection_archive---------2-----------------------#2022-11-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="18be" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从HealthKit获取步数数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/87fb66e848e3b760da8e8855ff96c7b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PUhjYGIgIOXzRCUU"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@bruno_nascimento?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布鲁诺·纳西门托</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="bf31" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我的上一个项目中，我构建了一个饮食应用程序，它需要从用户iPhones上的健康应用程序中获取步数。所以，我用苹果的<code class="fe ls lt lu lv b">HealthKit</code>框架来完成这项工作。</p><p id="e06d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">想知道如何使用HealthKit从Health获取用户的计步数据？好吧，让我们开始吧！</p></div><div class="ab cl lw lx hu ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="ij ik il im in"><p id="20b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">需要执行几个步骤来获得步数，即:</p><ul class=""><li id="048f" class="md me iq ky b kz la lc ld lf mf lj mg ln mh lr mi mj mk ml bi translated">在我们的项目中启用HealthKit功能</li><li id="2f29" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">请求用户的健康应用程序权限</li><li id="b3d3" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">获取步数数据</li><li id="f426" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">检查健康授权状态</li><li id="a5fd" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">创建和更新用户界面</li></ul><p id="a8a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">知道了步骤之后，让我们进入代码吧！</p><h1 id="0263" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated"><strong class="ak"> 1。在我们的项目中启用HealthKit功能</strong></h1><p id="fe77" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">要在我们的应用程序中启用HealthKit功能，请打开您的项目，进入签名和功能，单击右上角的加号按钮，然后选择HealthKit。</p><p id="c715" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您需要访问用户的临床记录和后台交付，您可以检查临床健康记录，以便能够实时观察数据变化。</p><p id="45bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里就不多点了，因为计步不是病历，不需要实时计步数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/9bb17974436c159dc9767193e4bf6dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A-ar3vz1MhW6eCZ7E4baYA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">向项目添加HealthKit功能</p></figure><p id="4bd0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，进入信息选项卡，我们需要添加一个密钥来使用HealthKit。我们需要的关键是<code class="fe ls lt lu lv b">NSHealthShareUsageDescription</code>和<code class="fe ls lt lu lv b">NSHealthUpdateUsageDescription</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/c5841243faf674d6d25e687f649efc3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P2kJkEkX-XYBcjyPJhrgYQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在信息标签中添加健康工具包密钥</p></figure><h1 id="69c6" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">2.请求用户的健康应用程序权限</h1><p id="3c3b" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">在获取步数之前，我们需要获得用户的许可来访问他们的健康应用程序。</p><p id="4c03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为此，我创建了一个名为<code class="fe ls lt lu lv b">HealthKitManager</code>的新文件，其中包含一个<code class="fe ls lt lu lv b">HealthKitManager</code>类。</p><p id="2680" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">别忘了顶部的<code class="fe ls lt lu lv b">import HealthKit</code>，然后创建一个名为<code class="fe ls lt lu lv b">setupHealthRequest</code>的函数。</p><pre class="kg kh ki kj gt nq lv nr bn ns nt bi"><span id="5f61" class="nu ms iq lv b be nv nw l nx ny">func setUpHealthRequest(healthStore: HKHealthStore, readSteps: @escaping () -&gt; Void) {<br/>    if HKHealthStore.isHealthDataAvailable(), let stepCount = HKObjectType.quantityType(forIdentifier: HKQuantityTypeIdentifier.stepCount) {<br/>        healthStore.requestAuthorization(toShare: [stepCount], read: [stepCount]) { success, error in<br/>            if success {<br/>                readSteps()<br/>            } else if error != nil {<br/>                // handle your error here<br/>            }<br/>        }<br/>    }<br/>    <br/>}</span></pre><p id="157c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，上面的函数是这样做的:</p><ul class=""><li id="0704" class="md me iq ky b kz la lc ld lf mf lj mg ln mh lr mi mj mk ml bi translated">第一行<code class="fe ls lt lu lv b">HKHealthStore.isHealthDataAvailable()</code>检查设备是否可用。</li><li id="8aab" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">然后，使用<code class="fe ls lt lu lv b">HKObjectType.quantityType(forIdentifier: HKQuantityTypeIdentifier.stepCount)</code>指定我们想要获取的数据——即步数，并使用<code class="fe ls lt lu lv b">if let</code>展开它。</li><li id="ebd8" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">在我指定数据之后，我们调用函数<code class="fe ls lt lu lv b">requestAuthorization()</code>。这将触发健康应用程序权限弹出窗口，要求您给予许可。我们还指定步数作为要读写的数据。之后，如果用户允许，我们将读取步数，否则，处理错误。</li></ul><h1 id="02a9" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">3.获取步数数据</h1><p id="2025" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">现在我们已经创建了<code class="fe ls lt lu lv b">setupHealthRequest()</code>方法，让我们设置获取用户步数的方法— <code class="fe ls lt lu lv b">readStepCount()</code>:</p><pre class="kg kh ki kj gt nq lv nr bn ns nt bi"><span id="f1f6" class="nu ms iq lv b be nv nw l nx ny">func readStepCount(forToday: Date, healthStore: HKHealthStore, completion: @escaping (Double) -&gt; Void) {<br/>    guard let stepQuantityType = HKQuantityType.quantityType(forIdentifier: .stepCount) else { return }<br/>    let now = Date()<br/>    let startOfDay = Calendar.current.startOfDay(for: now)<br/>    <br/>    let predicate = HKQuery.predicateForSamples(withStart: startOfDay, end: now, options: .strictStartDate)<br/>    <br/>    let query = HKStatisticsQuery(quantityType: stepQuantityType, quantitySamplePredicate: predicate, options: .cumulativeSum) { _, result, error in<br/>        <br/>        guard let result = result, let sum = result.sumQuantity() else {<br/>            completion(0.0)<br/>            return<br/>        }<br/>        <br/>        completion(sum.doubleValue(for: HKUnit.count()))<br/>    <br/>    }<br/>    <br/>    healthStore.execute(query)<br/>    <br/>}</span></pre><ul class=""><li id="f3f2" class="md me iq ky b kz la lc ld lf mf lj mg ln mh lr mi mj mk ml bi translated">首先，我将<code class="fe ls lt lu lv b">stepQuantityType</code>指定为我们想要从<code class="fe ls lt lu lv b">HealthKit</code>中读取的数据。</li><li id="adcb" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">第二件事是准备一个日期作为谓词来读取今天的步数数据。在我指定日期之后，我添加了一个带有选项<code class="fe ls lt lu lv b">.strictStartDate</code>的谓词，这意味着我读取的数据必须在指定的时间范围内，这样我就可以获得今天的精确步数数据。</li><li id="a767" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">接下来是一个查询，我使用选项<code class="fe ls lt lu lv b">.cumulativeSum</code>来计算一天中记录的所有步骤的总和，因为如果您打开Health并进入steps，您可以看到步骤是按小时记录的，因此我们需要对所有步骤求和来获得总步骤数。</li><li id="9049" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">在解包结果值之后，我返回完成结果，其中步骤计数的总和被转换为double值。</li><li id="a310" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated">最后，使用<code class="fe ls lt lu lv b">healthStore.execute(query)</code>执行查询。</li></ul><p id="a72b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们的函数已经准备好了，现在该执行它了。我创建了一个名为<code class="fe ls lt lu lv b">HealthKitViewModel</code>的新Swift类，它符合<code class="fe ls lt lu lv b">ObservableObject</code>协议，初始化了以下四个变量:</p><pre class="kg kh ki kj gt nq lv nr bn ns nt bi"><span id="57bb" class="nu ms iq lv b be nv nw l nx ny">private var healthStore = HKHealthStore()<br/>private var healthKitManager = HealthKitManager()<br/>@Published var userStepCount = ""<br/>@Published var isAuthorized = false</span></pre><ul class=""><li id="24f2" class="md me iq ky b kz la lc ld lf mf lj mg ln mh lr mi mj mk ml bi translated"><code class="fe ls lt lu lv b">healthStore</code>是<code class="fe ls lt lu lv b">HKHealthStore</code>的实例</li><li id="b342" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated"><code class="fe ls lt lu lv b">healthKitManager</code>是具有授权和获取数据方法的<code class="fe ls lt lu lv b">HealthKitManager</code>类的实例</li><li id="8db4" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated"><code class="fe ls lt lu lv b">userStepCount</code>是我们获取的步数的变量</li><li id="2b3a" class="md me iq ky b kz mm lc mn lf mo lj mp ln mq lr mi mj mk ml bi translated"><code class="fe ls lt lu lv b">isAuthorized</code>为了检查用户是否授予了健康访问权限，我将<code class="fe ls lt lu lv b">userStepCount</code>和<code class="fe ls lt lu lv b">isAuthorized</code>都标记为<code class="fe ls lt lu lv b">Published</code>。</li></ul><p id="e5fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们在类中设置<code class="fe ls lt lu lv b">healthRequest</code>方法:</p><pre class="kg kh ki kj gt nq lv nr bn ns nt bi"><span id="833c" class="nu ms iq lv b be nv nw l nx ny">func healthRequest() {<br/>    healthKitManager.setUpHealthRequest(healthStore: healthStore) {<br/>        self.changeAuthorizationStatus()<br/>        self.readStepsTakenToday()<br/>    }<br/>}</span></pre><p id="75e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以<code class="fe ls lt lu lv b">healthStore</code>为参数，在<code class="fe ls lt lu lv b">healthKitManager</code>上调用<code class="fe ls lt lu lv b">setupHealthRequest</code>。在完成处理程序中，我们调用了<code class="fe ls lt lu lv b">changeAuthorizationStatus()</code>和<code class="fe ls lt lu lv b">readStepsTakenToday()</code>方法。这样，在用户授予访问权限后，数据会自动提取。</p><p id="3625" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是<code class="fe ls lt lu lv b">readStepsTakenToday()</code>方法的代码:</p><pre class="kg kh ki kj gt nq lv nr bn ns nt bi"><span id="56c6" class="nu ms iq lv b be nv nw l nx ny">func readStepsTakenToday() {<br/>    healthKitManager.readStepCount(forToday: Date(), healthStore: healthStore) { step in<br/>        if step != 0.0 {<br/>            DispatchQueue.main.async {<br/>                self.userStepCount = String(format: "%.0f", step)<br/>            }<br/>        }<br/>    }<br/>}</span></pre><p id="cc9e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成模块将检查步长是否不等于零，然后用格式化的零十进制数将其分配给<code class="fe ls lt lu lv b">userStepCount</code>。</p><p id="d718" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用<code class="fe ls lt lu lv b">DispatchQueue.main.async</code>是因为封闭函数运行在后台线程上，我们需要从主线程更新值。</p><h1 id="95a7" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">4.检查健康授权状态</h1><p id="7cd0" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">接下来，我们需要检查授权状态来更新UI。为此，我创建了一个名为<code class="fe ls lt lu lv b">changeAuthorizationStatus()</code>的方法。</p><pre class="kg kh ki kj gt nq lv nr bn ns nt bi"><span id="023c" class="nu ms iq lv b be nv nw l nx ny">func changeAuthorizationStatus() {<br/>    guard let stepQtyType = HKObjectType.quantityType(forIdentifier: .stepCount) else { return }<br/>    let status = self.healthStore.authorizationStatus(for: stepQtyType)<br/>    <br/>    switch status {<br/>    case .notDetermined:<br/>        isAuthorized = false<br/>    case .sharingDenied:<br/>        isAuthorized = false<br/>    case .sharingAuthorized:<br/>        isAuthorized = true<br/>    @unknown default:<br/>        isAuthorized = false<br/>    }<br/>}</span></pre><p id="0df7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我将<code class="fe ls lt lu lv b">stepCount</code>指定为数据，因为我们想要检查它的授权状态。然后，我们为步数变量定义了<code class="fe ls lt lu lv b">authorizationStatus</code>,如果用户允许访问，它将返回<code class="fe ls lt lu lv b">.sharingAuthorized</code>。</p><p id="4d2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:我们需要在<code class="fe ls lt lu lv b">setupHealthRequest() </code>方法中将步骤计数指定为一个变量，因为将其设置为只读类型(<code class="fe ls lt lu lv b">let</code>)会返回一个<code class="fe ls lt lu lv b">.sharingDenied</code>状态。我在StackOverflow上找到了这个，你可以在这里阅读更多关于那个<a class="ae kv" href="https://stackoverflow.com/a/29128231" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><h1 id="863a" class="mr ms iq bd mt mu mv mw mx my mz na nb jw nc jx nd jz ne ka nf kc ng kd nh ni bi translated">5.创建用户界面</h1><p id="4cb0" class="pw-post-body-paragraph kw kx iq ky b kz nj jr lb lc nk ju le lf nl lh li lj nm ll lm ln nn lp lq lr ij bi translated">我们所有的方法都设定好了！现在让我们来创建UI。</p><p id="3bf0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个简单的界面。如果用户没有授权，我们将显示一个<code class="fe ls lt lu lv b">Text</code>，上面写着“请授权健康！”以及用于触发授权方法的<code class="fe ls lt lu lv b">Button</code>。否则，它将在屏幕上显示步数。</p><pre class="kg kh ki kj gt nq lv nr bn ns nt bi"><span id="7437" class="nu ms iq lv b be nv nw l nx ny">import SwiftUI<br/><br/>struct ContentView: View {<br/>    @EnvironmentObject var vm: HealthKitViewModel<br/>    <br/>    var body: some View {<br/>        VStack {<br/>            if vm.isAuthorized {<br/>                VStack {<br/>                    Text("Today's Step Count")<br/>                        .font(.title3)<br/>                    <br/>                    Text("\(vm.userStepCount)")<br/>                        .font(.largeTitle)<br/>                        .fontWeight(.bold)<br/>                }<br/>            } else {<br/>                VStack {<br/>                    Text("Please Authorize Health!")<br/>                        .font(.title3)<br/>                    <br/>                    Button {<br/>                        vm.healthRequest()<br/>                    } label: {<br/>                        Text("Authorize HealthKit")<br/>                            .font(.headline)<br/>                            .foregroundColor(.white)<br/>                    }<br/>                    .frame(width: 320, height: 55)<br/>                    .background(Color(.orange))<br/>                    .cornerRadius(10)<br/>                }<br/>            }<br/>            <br/>        }<br/>        .padding()<br/>        .onAppear {<br/>            vm.readStepsTakenToday()<br/>        }<br/>    }<br/>}</span></pre><p id="67bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当视图出现时，我还调用了<code class="fe ls lt lu lv b">readStepsTakenToday()</code>方法，因此新数据将被自动获取。</p><p id="381d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们在模拟器上运行它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/f0c14fc90755aaf2262842065ca74e38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*96I3dsHul1XVnbq7iYQqIw.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">获取数据的应用程序演示</p></figure><p id="b8b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们成功地获取并显示了步数数据。但是请注意，当我退出应用程序并再次打开它时，我需要点击视图的authorize按钮来更新获取计数。</p><p id="b2ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了解决这个问题，我们将调用<code class="fe ls lt lu lv b">ViewModel</code>的<code class="fe ls lt lu lv b">init</code>方法中的<code class="fe ls lt lu lv b">changeAuthorizationStatus() </code>方法。</p><pre class="kg kh ki kj gt nq lv nr bn ns nt bi"><span id="78b2" class="nu ms iq lv b be nv nw l nx ny">init() {<br/>    changeAuthorizationStatus()<br/>}</span></pre><p id="c278" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果我们再次运行应用程序，我们之前发现的错误将会得到修复。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/778e05f249d9b12ce6361e75bfee9ee3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vU1At0IM7ooyArV3szExWA.gif"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">修复错误后的应用程序演示</p></figure><p id="0e62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样！我们成功地完成了所有5个步骤。</p><p id="0ac4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于已完成的项目，你可以查看我的GitHub库<a class="ae kv" href="https://github.com/joricky91/TryHealthKit" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="8228" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要了解更多关于你可以用HealthKit做什么，你可以在这里阅读文档<a class="ae kv" href="https://developer.apple.com/documentation/healthkit" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="a8bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以用HealthKit做更多的事情，从获得用户的性别到获得睡眠分析甚至锻炼。</p><p id="27dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢你，我希望这篇文章有所帮助！</p></div></div>    
</body>
</html>