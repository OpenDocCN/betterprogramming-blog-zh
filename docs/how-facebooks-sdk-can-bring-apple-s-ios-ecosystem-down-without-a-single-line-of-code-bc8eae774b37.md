# 脸书的 SDK 如何不用一行代码就能搞垮苹果的 iOS 生态系统

> 原文：<https://betterprogramming.pub/how-facebooks-sdk-can-bring-apple-s-ios-ecosystem-down-without-a-single-line-of-code-bc8eae774b37>

## 脸书的 SDK 不仅是一个隐私威胁，也可能导致灾难

![](img/1a2a881abde6c14f97b0f8181fbcb908.png)

在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上 [Ussama Azam](https://unsplash.com/@ussamaazam?utm_source=medium&utm_medium=referral) 拍摄的照片。

一个晴朗的早晨，我在 iOS 设备上打开了我最喜欢的音乐流媒体应用 Spotify，但它崩溃了。

可能是因为我用的是 iOS 14 beta。没有多想，我打开了我最喜欢的博客应用 Medium。*它也崩溃了。*

我最喜欢的两个应用程序同时关闭是一个奇怪的巧合。我重新安装了应用程序，重启了我的设备，但仍然没有运气。这个问题依然存在。

奇怪的是，WhatsApp 和 Instagram 运行得很好。

我迅速跳上 Twitter 网络浏览器，查看是否有任何消息。毕竟，任何突发新闻和中断都是首先在微博社交媒体平台上报道的。

事实证明，问题既不是苹果的生态系统，也不是这些应用程序的失误。这实际上是脸书那边的一个小故障。

脸书的 iOS SDK 广泛应用于 App Store 上的各种应用，但其服务器端存在一个明显的缺陷。它关闭了从 Pinterest、Tinder 和抖音到 Medium、Spotify 和 PUBG 的所有流行应用。

这是一个奇怪的 20 分钟时间，导致苹果生态系统超过 50 万次崩溃，这是近年来最大的一次。

# 脸书的 SDK 是一个几乎每个应用程序中都有的关闭开关按钮

脸书可能没有自己的移动操作系统，但它智能地安装在你手机上的几乎所有应用程序中。

具体来说，他们的开源 SDK 用于轻松集成登录和脸书按钮，分析丰富的指标，以及其他实用程序，如广告跟踪。

这意味着，如果你的应用程序接受定位或蓝牙的许可，脸书的 SDK 可以访问这些数据。

了解脸书的数据跟踪和隐私泄露的历史，他们的 SDK 不仅是一个间谍相机，而且也非常不可靠。实际上，脸书的 SDK 是一个远程按钮，可以在一秒钟内关闭应用程序。

# iOS 开发者能阻止这次崩溃吗？简而言之:没有

当我们看到人工智能和增强现实领域的进步时，看到最流行的应用程序崩溃感觉像回到石器时代。

人们很容易指责应用程序开发者，为什么不呢？他们的工作是确保边缘情况和错误得到适当处理。

虽然这种应用崩溃似乎可以通过强大的错误处理来防止，但脸书的 iOS SDK 却并非如此。

导致应用程序崩溃的错误基本上是在脸书软件开发工具包的初始化代码中触发的，该代码在启动时运行，因为它链接在二进制文件中。

本质上，SDK 代码对脸书服务器进行远程 API 调用，最终返回一个带有空值的 [JSON 响应，该响应没有被解析或处理，因此触发了一个`fatalError`。](https://github.com/facebook/facebook-ios-sdk/pull/1439)

应用程序开发人员可能甚至没有导入脸书 SDK 或调用它的一行代码，但仅仅通过将框架包含在捆绑包中，它就使应用程序崩溃了。

没有开发者能够阻止这一点。

# 外卖食品

脸书 iOS SDK 今年不止一次而是两次扰乱了流行的应用程序。这只会引发关于第三方 SDK 的依赖和可靠性的争论。

方便大于安全吗？目前，是前者导致了这样的失误。

如果有任何收获的话，开发人员只会在他们的应用程序中使用第三方框架时更加意识到这一点，因为他们知道外部依赖带来的成本。

令人惊讶的是，整个脸书家族的应用程序都在使用最新的 SDK 版本，而崩溃是由旧的 SDK 引起的。这充分说明了这家硅谷科技巨头的责任感。也许他们不太热衷于提供向后兼容性。

看看苹果公司是否会提升其安全措施来防止此类中断，这将是一件有趣的事情。或许它会考虑在第三方应用程序中强制苹果登录，并慢慢放弃脸书登录。

已经卷入反垄断担忧的脸书除了遵守苹果设定的规范之外，将无能为力。