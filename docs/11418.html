<html>
<head>
<title>Capture and Stream Kubernetes Network Traffic</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">捕获和传输Kubernetes网络流量</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/capture-and-stream-kubernetes-network-traffic-9ab299974946?source=collection_archive---------8-----------------------#2022-03-17">https://betterprogramming.pub/capture-and-stream-kubernetes-network-traffic-9ab299974946?source=collection_archive---------8-----------------------#2022-03-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4617" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">新遗迹的最新成员，小精灵</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/758bfd013cb999cdedce513a56a1313b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hkHlEvtsLiNhR6JWd1Lq_w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://undraw.co/" rel="noopener ugc nofollow" target="_blank"> Undraw </a></p></figure><h1 id="509f" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">目标</h1><p id="00ec" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">跟踪Kubernetes (k8s)集群上的网络流量，捕获请求-响应元组和相关元数据。将捕获的数据从群集中流出，以供进一步分析。</p><p id="f442" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">因为我们计划跟踪每个网络请求(OSI第7层)，所以有一些考虑事项构成了我们需求的一部分。它们是:</p><h1 id="b517" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">考虑</h1><ul class=""><li id="f1d9" class="mp mq iq lq b lr ls lu lv lx mr mb ms mf mt mj mu mv mw mx bi translated">轻量级→低内存和CPU占用很关键。</li><li id="ddca" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">可扩展→在集群中添加和删除新节点，解决方案应相应扩展。</li><li id="4a59" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">与语言和框架无关→容器可以用任意数量的语言和框架创建，这不会影响我们的跟踪。</li><li id="ed2a" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">快速→服务器中所有网络数据的规模将非常庞大。我们的解决方案必须能够在相当长的时间内跟踪并向我们报告数据。</li><li id="565d" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">舒适→在生产集群上部署时，用户应该感到舒适/安全/放心。</li><li id="2f15" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">即插即用→降低入职时间和成本。没有代码更改来附加挂钩。</li></ul><p id="f8f3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">基于以上细节，我们选择了<a class="ae kv" href="https://px.dev/" rel="noopener ugc nofollow" target="_blank">小精灵</a>来完成这个任务。Pixie是由APM领域的领导者之一<a class="ae kv" href="https://newrelic.com/" rel="noopener ugc nofollow" target="_blank"> New Relic </a>构建的开源观测平台。</p><p id="48f4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Pixie是一个<a class="ae kv" href="https://www.cncf.io/" rel="noopener ugc nofollow" target="_blank">云本地计算基金会</a>项目，New Relic使用它作为其Kubernetes可观测性，这一事实增加了项目的可信度。减轻了上述快速和舒适的考虑。</p><h1 id="9acc" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">Pixie是什么？</h1><p id="802f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">用他们自己的话说:</p><blockquote class="nd"><p id="3ffa" class="ne nf iq bd ng nh ni nj nk nl nm mj dk translated"><em class="nn">“开源库为开发人员提供可观察性</em></p><p id="2e3d" class="ne nf iq bd ng nh ni nj nk nl nm mj dk translated"><em class="nn">自动仪表化。可脚本化。库伯内特土著。”</em></p></blockquote><p id="a5e6" class="pw-post-body-paragraph lo lp iq lq b lr no jr lt lu np ju lw lx nq lz ma mb nr md me mf ns mh mi mj ij bi translated">对我们来说，这意味着轻松的部署、自定义数据点跟踪(如果需要)，以及对集群上的请求和响应的本地捕获。</p><h2 id="3d7e" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated">那么，Pixie是如何做到这一点的呢？它有什么特别之处？</h2><p id="8d12" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Pixie使用eBPF技术在内核级运行事件驱动脚本。绕过所有代码需求，使Linux内核成为其一等公民。</p><p id="7581" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这使得Pixie与语言和框架无关，而且由于eBPF可以在任何运行Linux内核的系统上工作，Pixie拥有广泛的安装基础。</p><p id="19d4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="of">注意:</em> </strong> <em class="of">这也意味着Pixie不会在Windows服务器上运行，尽管在Windows服务器上运行的生产k8s集群的数量可能非常少。</em></p><p id="736e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">受支持的Pixie环境和集群类型的完整列表:<a class="ae kv" href="https://docs.px.dev/installing-pixie/requirements" rel="noopener ugc nofollow" target="_blank">安装|要求</a>。</p><p id="7f63" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">[可选]关于eBPF技术的更多资源:</p><ul class=""><li id="0c57" class="mp mq iq lq b lr mk lu ml lx og mb oh mf oi mj mu mv mw mx bi translated"><a class="ae kv" href="https://newrelic.com/blog/best-practices/what-is-ebpf" rel="noopener ugc nofollow" target="_blank">什么是eBPF，为什么它对可观察性很重要？</a></li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oj ok l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">网飞大学的BPF性能分析</p></figure><h2 id="aa28" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated">但是，为什么是小精灵？它的优点是什么？</h2><ul class=""><li id="04c4" class="mp mq iq lq b lr ls lu lv lx mr mb ms mf mt mj mu mv mw mx bi translated">Pixie的<code class="fe ol om on oo b">Edge Module</code>部署在节点级别。因此，不管pod和运行的服务如何，每个节点只需要部署一个边缘模块。解决轻量级和可伸缩性问题。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/5dd625bb0c966a5eea314de61399bbf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vEDBhwJNQknv0kTtkpFdbQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">k8s集群上的Pixie部署。图片来自<a class="ae kv" href="https://docs.pixielabs.ai/about-pixie/what-is-pixie/#architecture" rel="noopener ugc nofollow" target="_blank"> Pixie的网站</a></p></figure><ul class=""><li id="75da" class="mp mq iq lq b lr mk lu ml lx og mb oh mf oi mj mu mv mw mx bi translated">Pixie的部署和安装非常简单。一旦通过身份验证，只需要运行<code class="fe ol om on oo b">px deploy</code>命令。地址即插即用。</li><li id="5a22" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">一旦部署完毕，Pixie就准备好报道<code class="fe ol om on oo b">Network data</code>。不需要其他设置。</li><li id="24f1" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">Pixie提供了一个易于使用的API(Python和Go版本),用于通过互联网提取/获取/传输数据。它还支持数据的传输中e2e加密。</li></ul><p id="31f0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们继续使用Pixie，因为它解决了我们的大多数问题，同时提供了使开发更容易的附加特性。</p><p id="3bb2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在接下来的部分中，我们将讨论pixie特有的东西，例如:</p><ul class=""><li id="2116" class="mp mq iq lq b lr mk lu ml lx og mb oh mf oi mj mu mv mw mx bi translated">装置</li><li id="45d1" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">Pixie跟踪哪些数据及其对集群的影响？</li><li id="0b75" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">最后，使用Pixie的API将数据从集群中流出。</li></ul><h1 id="7847" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">装置</h1><p id="fa11" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">安装Pixie非常简单，只需遵循几个步骤。Pixie的文档:<a class="ae kv" href="https://docs.px.dev/installing-pixie/install-guides/community-cloud-for-pixie/" rel="noopener ugc nofollow" target="_blank">Pixie社区版的全面安装指南。</a></p><p id="2111" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果您已经有一个可用的Kubernetes集群，您可以跳过这一部分，直接进入Pixie的安装步骤。这里，我们将安装并运行一个<code class="fe ol om on oo b">minikube</code>集群进行本地测试。</p><p id="ef2b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">建立本地Kubernetes环境的步骤:</p><p id="a8f0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">第一步:安装<a class="ae kv" href="https://minikube.sigs.k8s.io/docs/start/" rel="noopener ugc nofollow" target="_blank"> minikube </a>。</p><p id="517b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">步骤2:增加配置的CPU和内存限制。这是必需的，因为我们将为请求模拟部署Pixie和微服务。</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="59ec" class="nt kx iq oo b gy ou ov l ow ox">minikube config set cpus 4<br/>minikube config set memory 8192</span></pre><p id="22b7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果您已经安装并运行了<code class="fe ol om on oo b">minikube</code>，那么您需要在您的更改生效之前执行<code class="fe ol om on oo b">minikube delete</code>。</p><p id="d8a6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">要检查更改是否正确发生，请运行以下命令。</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="e847" class="nt kx iq oo b gy ou ov l ow ox">minikube config get memory<br/># Output: 8192</span><span id="476e" class="nt kx iq oo b gy oy ov l ow ox">minikube config get cpus<br/># Output: 4</span></pre><p id="ea2a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">第三步:用<code class="fe ol om on oo b">hyperkit</code>驱动器启动<code class="fe ol om on oo b">minikube</code>。</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="c5fb" class="nt kx iq oo b gy ou ov l ow ox">minikube start --driver=hyperkit</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/a0c10e140d53fc68c848a0681e10843a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p71WLG9bUb7AVf-ZUNzYvw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h2 id="9cd1" class="nt kx iq bd ky nu nv dn lc nw nx dp lg lx ny nz li mb oa ob lk mf oc od lm oe bi translated"><strong class="ak">在集群上安装Pixie的步骤</strong>:</h2><p id="6377" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">步骤Pixie与集群交互的主要界面是它的CLI。通过以下方式安装:</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="b90e" class="nt kx iq oo b gy ou ov l ow ox"># Copy and run command to install the Pixie CLI.<br/>bash -c "$(curl -fsSL <a class="ae kv" href="https://withpixie.ai/install.sh" rel="noopener ugc nofollow" target="_blank">https://withpixie.ai/install.sh</a>)"</span></pre><p id="dc89" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">步骤2: Pixie(也包括CLI)需要一个帐户才能工作并通过集群的身份验证。要验证Pixie CLI，请运行:</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="ac05" class="nt kx iq oo b gy ou ov l ow ox">px auth login</span></pre><p id="d741" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">第三步:一旦登录成功。在集群上部署Pixie。</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="a44a" class="nt kx iq oo b gy ou ov l ow ox">px deploy</span></pre><p id="d17b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这就是小精灵装置的✅。我们已经建立了一个集群，并在上面安装了Pixie。但是，如果没有流量，我们就无法跟踪流量，所以我们部署了一个演示应用程序。<a class="ae kv" href="https://microservices-demo.github.io/" rel="noopener ugc nofollow" target="_blank">袜店织工</a>。</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="8657" class="nt kx iq oo b gy ou ov l ow ox">px demo deploy px-sock-shop</span></pre><p id="cb5d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">此命令完成后，要检查是否安装正确，请运行以下命令:</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="abc8" class="nt kx iq oo b gy ou ov l ow ox">kubectl get pods -A</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/27cc1a3d9ec33009e45c4be84dad6c10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZMnNHa212wuxkoUYcXOezA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">精灵+袜子店安装后的最终状态。图片作者。</p></figure><p id="bcb1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">仔细看，在Init状态下有一个<code class="fe ol om on oo b">load-test-*</code> pod，正在模拟流量。</p><p id="3569" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">转到Pixie的<a class="ae kv" href="https://work.withpixie.ai/live" rel="noopener ugc nofollow" target="_blank"> Live UI </a>查看它收集的所有指标:</p><p id="d60f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一些示例视图:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/78eef8eedfa398efdf4c5cec02f40917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sseF7Y3YgYdJIJmMlgPFxQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">集群级指标。图片作者。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/d2c2048e967373db2bbe4bce71668d7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gX_UR0IMFxgJr8gFa_EENA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">名称空间。图片作者。</p></figure><p id="b6af" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">与我们最相关的:<code class="fe ol om on oo b">http_data</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/0379c2cf7de2c9869637e0d023526600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iccOnWBf9MFsOO2ERxnFVg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTTP数据。图片作者。</p></figure><h1 id="2918" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">Pixie跟踪哪些数据，它对集群有什么影响？</h1><p id="2135" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Pixie预装了许多脚本，使各种跟踪更加容易— <a class="ae kv" href="https://docs.px.dev/about-pixie/data-sources/" rel="noopener ugc nofollow" target="_blank">关于Pixie |数据源</a></p><p id="1614" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">下面列出了有关其数据收集和对集群的影响的重要事项:</p><ul class=""><li id="b30b" class="mp mq iq lq b lr mk lu ml lx og mb oh mf oi mj mu mv mw mx bi translated">Pixie将其收集的数据存储在集群节点的内存中；没有数据被发送到群集外的集中式后端。</li><li id="b489" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">Pixie有一个<a class="ae kv" href="https://docs.px.dev/installing-pixie/requirements/#memory" rel="noopener ugc nofollow" target="_blank">2gb内存需求</a>。安装Pixie后，看到内存使用暂时增加是正常的。</li><li id="8b79" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">Pixie存储多少数据？<br/>保留时间取决于集群中的流量水平，但通常为几个小时。Pixie中的每个数据表(例如<code class="fe ol om on oo b">http_events</code>)都有其最大大小。这些表收集数据，直到达到最大值，然后开始丢弃最旧的数据。</li><li id="d963" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">节点CPU使用率的典型性能开销在2–5%之间，具体取决于流量的数量和类型。然而，我们正在对此进行优化，所以请注意它是否会进一步下降。</li></ul><h1 id="f48a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">使用Pixie的API从集群流式传输数据</h1><p id="a6ce" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在我们已经安装了Pixie，它已经开始收集HTTP事件数据，我们的目标是将这些数据流式输出。</p><p id="1997" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Pixie提供了一个我们可以使用的API。开始时，我们需要两个值:</p><ul class=""><li id="165e" class="mp mq iq lq b lr mk lu ml lx og mb oh mf oi mj mu mv mw mx bi translated">集群ID → <a class="ae kv" href="https://docs.px.dev/reference/admin/cluster-id/#find-the-cluster-id" rel="noopener ugc nofollow" target="_blank">参考|管理|查找集群ID </a></li><li id="5626" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">API键→ <a class="ae kv" href="https://docs.px.dev/reference/admin/api-keys/#create-an-api-key" rel="noopener ugc nofollow" target="_blank">参考|管理| API键</a></li></ul><p id="b0c2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一旦我们准备好这些值，我们就可以设置一个新的Python虚拟环境并在其中安装<code class="fe ol om on oo b">pxapi</code>。</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="1f42" class="nt kx iq oo b gy ou ov l ow ox">pip install pxapi</span></pre><p id="3176" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果以上在MacOS上失败，请尝试:</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="c88c" class="nt kx iq oo b gy ou ov l ow ox">GRPC_PYTHON_BUILD_SYSTEM_ZLIB=true pip install pxapi</span></pre><p id="4a80" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">脚本流<code class="fe ol om on oo b">http_data</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pe ok l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">流http _数据表</p></figure></div><div class="ab cl pf pg hu ph" role="separator"><span class="pi bw bk pj pk pl"/><span class="pi bw bk pj pk pl"/><span class="pi bw bk pj pk"/></div><div class="ij ik il im in"><p id="21b6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Pixie提供了一个非常强大的API和框架来调试和观察部署在Kubernetes上的应用程序。这篇文章只是触及了Pixie的皮毛，以及它能为你的企业带来什么。</p><p id="3cb0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如需进一步阅读，请浏览:</p><ul class=""><li id="dffc" class="mp mq iq lq b lr mk lu ml lx og mb oh mf oi mj mu mv mw mx bi translated"><a class="ae kv" href="https://docs.px.dev/" rel="noopener ugc nofollow" target="_blank"> Pixie文档</a>、<a class="ae kv" href="https://docs.px.dev/using-pixie/api-quick-start/" rel="noopener ugc nofollow" target="_blank"> Pixie API </a>和<a class="ae kv" href="https://docs.pixielabs.ai/about-pixie/what-is-pixie/" rel="noopener ugc nofollow" target="_blank"> Pixie架构</a></li><li id="e2af" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated"><a class="ae kv" href="https://newrelic.com/blog/best-practices/what-is-ebpf" rel="noopener ugc nofollow" target="_blank">什么是eBPF，为什么它对可观察性很重要？</a></li><li id="48c2" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=16slh29iN1g" rel="noopener ugc nofollow" target="_blank">网飞BPF绩效分析</a></li></ul><p id="1928" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果您想了解问题陈述的后半部分，请告诉我:<em class="of">构建一个流管道来处理大规模的网络数据</em>。</p><p id="7746" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在那之前，保重。</p><pre class="kg kh ki kj gt oq oo or os aw ot bi"><span id="0422" class="nt kx iq oo b gy ou ov l ow ox"><strong class="oo ir">Want to connect?</strong></span><span id="875e" class="nt kx iq oo b gy oy ov l ow ox">Twitter: <a class="ae kv" href="https://twitter.com/piyush_daga5" rel="noopener ugc nofollow" target="_blank">https://twitter.com/piyush_daga5</a></span></pre></div></div>    
</body>
</html>