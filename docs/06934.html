<html>
<head>
<title>5 Lessons I Learned From Building a Web App With Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我从用Flutter构建Web应用程序中学到的5个教训</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/5-lessons-i-learned-from-building-a-web-app-with-flutter-3be03b2206ac?source=collection_archive---------5-----------------------#2020-11-18">https://betterprogramming.pub/5-lessons-i-learned-from-building-a-web-app-with-flutter-3be03b2206ac?source=collection_archive---------5-----------------------#2020-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5573" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如果你用Flutter构建一个web应用，需要记住的事情</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d241d5ae22023c405811a30ddc1ff2d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MQYKu0nr1I69F7cz7XZZrg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者照片。</p></figure><p id="1a92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文的目的是给所有开发人员一个提示，让他们能够构建和规划更好的web应用程序，为成功做好准备，并帮助避免我遇到的一些尴尬问题。</p><p id="dbf3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">注意:截至2020年11月，web的Flutter仍处于测试阶段。在玩了一些概念验证后，我觉得它适合我的应用程序需求，所以我继续将其用于生产。</em></p><p id="d174" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">我最初想使用Firebase实时数据库，但令人惊讶的是谷歌还没有为Flutter web构建插件。因此，我别无选择，只能使用Firestore，它运行得相当好。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c5d0" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">该项目</h1><p id="2f13" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">最近，我得到了一个机会，在有限的时间和资源下，从头开始开发一个应用程序。在考虑了实时应用程序的需求和约束后，我选择了Flutter + Firebase。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/805c277a50003aedf3fd7dda45393a71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8WGteMk8x4cSc1rzo9IzIg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Firebase实时数据库插件目前还不支持Flutter web</p></figure><p id="39f4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我在Firebase (Firestore和实时数据库)中查看数据库选项时，我意识到只有Firestore支持Flutter web，所以我真的没有任何其他选项。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="63d3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.检查和规划插件支持</h1><p id="2863" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">尽管Flutter非常强大，并且附带了应用程序的许多基本组件(如路由、状态管理等)。)，当处理更大的应用程序时，您将依赖于插件。在使用您的技术之前，请考虑您希望使用的插件及其支持。</p><p id="2ab6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">非常感谢令人敬畏的Flutter社区，因为他们已经做了一些非常了不起的工作来构建各种各样的插件——甚至是为Flutter web。这让我对Flutter web在未来只会变得更有能力充满信心。</p><p id="467a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">开发者体验一如既往的流畅。在开发的时候，我一直使用iPad模拟器来使用热加载功能，因为Flutter web <strong class="la iu">没有这个功能。</strong></p><p id="b592" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，我一直在使用iOS模拟器进行主动开发，以提高开发的便捷性和速度，这就引出了第二课。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="41dd" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.颤振腹板的不一致结果</h1><p id="195c" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">是的，Flutter web仍处于测试阶段，我不是来抱怨这个的。我只是想给其他开发人员提个醒，让他们意识到这一点，并相应地进行缓解。</p><p id="2452" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个项目之前，我已经在Flutter上开发了一段时间的Android和iOS应用程序，从来没有遇到过这两个平台上的应用程序性能一致的问题。</p><p id="8b5d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Android和iOS应用程序的运行和预期的一样，我假设Flutter web也是如此。不幸的是，事实并非如此。</p><p id="e8b1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在浏览器上运行Flutter web应用<strong class="la iu"> </strong>的Android用户遇到了以下问题:</p><ul class=""><li id="6c2f" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt nf ng nh ni bi translated">表情符号不显示/不受支持。<a class="ae nj" href="https://github.com/flutter/flutter/issues/45947" rel="noopener ugc nofollow" target="_blank"> GitHub问题</a>。</li><li id="edb5" class="na nb it la b lb nk le nl lh nm ll nn lp no lt nf ng nh ni bi translated">最尴尬和最奇怪的问题是，文本的某些部分只是随机地在应用程序中变得不可见，这个问题完全是随机的。它大部分时间工作正常，但偶尔会出现。<a class="ae nj" href="https://github.com/flutter/flutter/issues/64904" rel="noopener ugc nofollow" target="_blank"> GitHub问题</a>。</li></ul><p id="c6b8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">iOS和桌面用户在他们的浏览器上运行Flutter web时没有出现任何问题，这很好，但也把我们带到了第三课。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="8b1e" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.对所有浏览器和平台进行彻底的测试</h1><p id="ac1a" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">这是我们正在谈论的一个web应用程序，作为一名移动应用程序开发人员，我很幸运没有像我的web开发同行那样费力，他们必须对运行在不同屏幕尺寸上的不同浏览器进行严格的测试。</p><p id="4299" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用Flutter移动到web把我拖进了那个危险却令人兴奋的领域。</p><p id="2f86" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我使用iOS模拟器进行开发(利用热重新加载来提高开发速度)，与iOS应用相比，web应用的行为有点不同。</p><p id="91a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，一旦您完成了开发工作的某个里程碑，就要花时间在多种设备、操作系统和浏览器上运行和测试您的应用程序。</p><p id="aba9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于Flutter正在从稳定的Android和iOS发展，并在未来转移到web和其他平台，我们作为开发人员的力量也在增加——伴随着强大的力量而来的是巨大的责任。</p><p id="f27a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">做一个负责任的开发人员，让一个<strong class="la iu"> </strong>自动化测试套件<strong class="la iu"> </strong>陪着你，给你比手工测试更多的信心，让你的项目在长期跨所有这些平台部署应用时保持可维护性。</p><p id="c1d8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">说到不同的屏幕尺寸，这让我想起了第四课。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7609" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.投入时间建立一个框架来构建响应性布局</h1><p id="42a6" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">我从下面的视频中学到了如何构建响应式布局，然后我创建了一个<a class="ae nj" href="https://github.com/devDeejay/FlutterStarterProject" rel="noopener ugc nofollow" target="_blank"> Flutter-Starter样板代码</a>项目，我用它来设置我的Flutter项目。它包含了我的响应式布局的框架以及路由逻辑。</p><p id="a5fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这样，每当我开始新的Flutter项目时，我不必记住所有这些代码，只需在样板代码项目的基础上构建即可。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="ea75" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">5.路线规划</h1><p id="03e2" class="pw-post-body-paragraph ky kz it la b lb mu ju ld le mv jx lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在开发移动应用程序时，我从来没有担心过这个问题。几乎满足了我所有的需求，热重装在开发时很好地保存了我的应用程序的状态。</p><p id="78ae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是有两样东西是网络应用用户随时可以得到的，而手机应用用户永远得不到的:</p><ul class=""><li id="3792" class="na nb it la b lb lc le lf lh nc ll nd lp ne lt nf ng nh ni bi translated">刷新按钮-用户可以随时点击它，它会带他们回到你的应用程序的开始屏幕。为了维护刷新页面的状态，您必须在用户点击刷新按钮之前保存页面状态，按下适当的路线，并推回保存的状态。</li><li id="9221" class="na nb it la b lb nk le nl lh nm ll nn lp no lt nf ng nh ni bi translated">可见的URL他们可以看到它更新，并可以操纵自己干扰你的应用程序的路由逻辑。Flutter项目中的默认路线并不真正更新URL，应用程序感觉像一个单页应用程序。</li></ul><p id="1cb7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，为了保持良好的用户体验，路由成为一个需要关注的重要领域。<a class="ae nj" href="https://github.com/devDeejay/FlutterStarterProject" rel="noopener ugc nofollow" target="_blank"> Flutter-Starter样板代码</a> <strong class="la iu"> <em class="lu"> </em> </strong>也负责设置命名路由。这是一些基本的样板代码，你不必记住。</p><p id="d984" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要了解更多关于路由的信息，<a class="ae nj" href="https://www.youtube.com/watch?v=YXDFlpdpp3g" rel="noopener ugc nofollow" target="_blank">请观看此视频</a>。</p><p id="1361" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！</p></div></div>    
</body>
</html>