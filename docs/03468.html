<html>
<head>
<title>Why You Should Be Refactoring Your Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么应该重构代码</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/why-you-should-be-refactoring-your-code-423d4986647?source=collection_archive---------21-----------------------#2020-02-11">https://betterprogramming.pub/why-you-should-be-refactoring-your-code-423d4986647?source=collection_archive---------21-----------------------#2020-02-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6fd5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">当你进入一个文件时，让它比你发现它时更好</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c6a9eaec03851fb30c6aede09b02f36c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oo30AJKzCTAb5W4N"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">卢克·切瑟在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><blockquote class="kw kx ky"><p id="484c" class="kz la lb lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">“重构是改变软件系统的过程，它不会改变代码的外部行为，但会改进其内部结构。</p><p id="4236" class="kz la lb lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这是一种清理代码的训练有素的方法，可以最小化引入bug的机会。本质上，当你重构的时候，你是在改进代码的设计。”——<em class="iq">马丁·福勒</em> <em class="iq">(父亲</em> <a class="ae kv" href="https://martinfowler.com/bliki/CodeSmell.html" rel="noopener ugc nofollow" target="_blank"> <em class="iq">码闻</em> </a> <em class="iq"> ) </em>。</p></blockquote><p id="7bce" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">让我们面对现实吧。我们都是程序员。我们聪明伶俐，喜欢交付成果。但是我们有多少次关心清理代码气味呢？</p></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="edf7" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">完美的代码好吗？</h1><p id="65de" class="pw-post-body-paragraph kz la iq lc b ld my jr lf lg mz ju li lw na ll lm lx nb lp lq ly nc lt lu lv ij bi translated">我们希望编写没有任何错误的代码。测试所有可能的边缘情况。它在每次运行构建时通过linter检查。你开始爱上的代码。顶尖的程序员肯定一直在写这样的代码，对吗？</p><p id="5508" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">不对。</p><p id="78bb" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">没有完美的代码。<em class="lb">曾经</em>！</p><p id="70fc" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">完美的代码是不存在的，就像神圣的界面也不存在一样。</p><p id="4170" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">代码是随着时间而演变的东西。在大多数情况下，代码库会变成一个庞然大物。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/ae23eb617d50a80499555a69b18be4ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TTZ4vxK-Apdhx295"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@wagner2074?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克里斯汀·瓦格纳</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="ec2c" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">复杂的代码库极难管理。</p><p id="35a2" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">因此，编写干净的代码变得更加重要。一点一点地重构。以公寓为例。短时间清洗比长时间清洗更有用。</p><p id="d8fa" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">每当您修补代码库的特定部分时，请确保遵循以下方面。</p><h2 id="fd0c" class="ne mh iq bd mi nf ng dn mm nh ni dp mq lw nj nk ms lx nl nm mu ly nn no mw np bi translated"><strong class="ak"> 1。签入比您签出的代码更干净</strong></h2><blockquote class="nq"><p id="18be" class="nr ns iq bd nt nu nv nw nx ny nz lv dk translated">"让露营地比你发现时更干净."<strong class="ak"><br/></strong>——<a class="ae kv" href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" rel="noopener ugc nofollow" target="_blank">干净的代码</a>(作者罗伯特·马丁)</p></blockquote><p id="b9e9" class="pw-post-body-paragraph kz la iq lc b ld oa jr lf lg ob ju li lw oc ll lm lx od lp lq ly oe lt lu lv ij bi translated">童子军规则规定，你离开露营地时必须比发现时干净。由于代码会随着时间的推移而退化和腐烂，所以签入比从版本控制中签出的代码更干净的代码是一个好习惯。</p><p id="f101" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">当进行代码更改时，确定周围代码中需要改进的地方。</p><h2 id="8d46" class="ne mh iq bd mi nf ng dn mm nh ni dp mq lw nj nk ms lx nl nm mu ly nn no mw np bi translated"><strong class="ak"> 2。确保方法和变量有有意义的名字</strong></h2><p id="c23e" class="pw-post-body-paragraph kz la iq lc b ld my jr lf lg mz ju li lw na ll lm lx nb lp lq ly nc lt lu lv ij bi translated">代码中有意义的名称确保您不必添加注释。名字越清晰，就越容易让人读懂，推断出它在做什么。</p><p id="35bb" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">当你使用更清晰、更有意义的命名约定时，你实际上是在<em class="lb">节省</em>编写开发人员文档的时间。</p><h2 id="18ce" class="ne mh iq bd mi nf ng dn mm nh ni dp mq lw nj nk ms lx nl nm mu ly nn no mw np bi translated"><strong class="ak"> 3。遵守单一责任原则</strong></h2><p id="b055" class="pw-post-body-paragraph kz la iq lc b ld my jr lf lg mz ju li lw na ll lm lx nb lp lq ly nc lt lu lv ij bi translated">让我们面对现实吧。方法体越长，就越难理解。寻找最终朝着共同目标努力的路线。如果您找到这样的块，<em class="lb">将它们提取</em>到具有适当名称的单独方法中。</p><p id="3c84" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">下一个处理这部分代码的人会非常感谢你。相信我！</p><p id="3bb4" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">一个方法应该一次只涉及一个需求。遵循这种设计范式对降低代码复杂性大有帮助。</p><h2 id="6139" class="ne mh iq bd mi nf ng dn mm nh ni dp mq lw nj nk ms lx nl nm mu ly nn no mw np bi translated"><strong class="ak"> 4。尽可能使用设计模式</strong></h2><p id="4177" class="pw-post-body-paragraph kz la iq lc b ld my jr lf lg mz ju li lw na ll lm lx nb lp lq ly nc lt lu lv ij bi translated">设计模式使您能够实现经过试验和测试的问题解决方案，从而在软件开发生命周期的实现阶段节省时间和精力。</p><p id="ce33" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">通过使用充分理解和记录的解决方案，最终产品将具有更高的理解程度。如果解决方案更容易理解，那么通过扩展，它也将更容易维护。</p><h2 id="00ac" class="ne mh iq bd mi nf ng dn mm nh ni dp mq lw nj nk ms lx nl nm mu ly nn no mw np bi translated"><strong class="ak"> 5。添加测试</strong></h2><p id="6ac4" class="pw-post-body-paragraph kz la iq lc b ld my jr lf lg mz ju li lw na ll lm lx nb lp lq ly nc lt lu lv ij bi translated">我不得不强调测试你的代码的重要性。确保您有足够的单元和集成测试。这些不仅帮助你识别潜在的陷阱和边缘情况，而且提供了重构的机会。</p><p id="a171" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">我可能会一直大谈测试覆盖率的重要性，也许有一天它会有自己的帖子。</p><p id="3114" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">甚至Google都推荐写单元测试！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of og l"/></div></figure></div><div class="ab cl lz ma hu mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="ij ik il im in"><h1 id="57f7" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">知道什么时候划清界限</h1><p id="5513" class="pw-post-body-paragraph kz la iq lc b ld my jr lf lg mz ju li lw na ll lm lx nb lp lq ly nc lt lu lv ij bi translated">我的结论是，尽管重构很重要，但它不应该以完成手头的任务为代价。</p><p id="f1c3" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">明智地选择重构什么和重构多少，很快，你就会收获你努力的回报。</p><p id="4cd6" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li lw lk ll lm lx lo lp lq ly ls lt lu lv ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>