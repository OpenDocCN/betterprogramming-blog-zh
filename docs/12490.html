<html>
<head>
<title>Change Data Capture To Accelerate Real-time Analytics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改变数据捕获以加速实时分析</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/change-data-capture-to-accelerate-real-time-analytics-ad5e970b48d?source=collection_archive---------16-----------------------#2022-06-08">https://betterprogramming.pub/change-data-capture-to-accelerate-real-time-analytics-ad5e970b48d?source=collection_archive---------16-----------------------#2022-06-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="da63" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">并简化您的管道</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8c4ed31a4880993c8168a9dc2fa79060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-mhCPPoe11RWZMAP"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@laurentmedia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">给</a>拍照</p></figure><p id="d276" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">说创业公司利用大数据和人工智能来开发更具创新性的商业模式并不新鲜。因此，大数据和人工智能问题在高管和技术论坛上无处不在。但它们经常在如此高的层面上被讨论，以至于人们最终忽略了这些公司的组成部分的细节。</p><p id="5a4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将介绍现代公司最有价值的组成部分之一:实时处理数据的能力，这使得零售、媒体和娱乐以及金融等行业能够进行数据驱动的决策。例如:</p><ul class=""><li id="3e92" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">行为和购买分析能够即时提供更有针对性的产品和建议，为客户提供更加个性化的体验。</li><li id="32ea" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">线索跟踪促使销售团队关注最有效的营销渠道，而不是花时间在表现不佳的渠道上。</li><li id="2286" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">支出模式分析使金融机构能够在欺诈发生之前检测到欺诈，从而有效地防止损失。</li></ul><p id="14df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果你工作的公司不在实时数据时代呢？首先，你不是一个人。许多公司仍然在批处理作业中处理数据，这可能意味着1、7… 30天的分析数据延迟。各种规模的公司都会出现这种情况，但这并不意味着如果公司打算更进一步，就没有唾手可得的果实。</p><p id="b1c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">人们可能会认为公司需要大量的工程工作来组装实时分析管道，包括实现交易系统的现代化和建立事件流平台，但情况并非总是如此。例如，变更数据捕获(又名CDC)带来了一种轻松的方法来移动数据，特别是从事务数据库到数据湖。一会儿我将演示它是如何工作的。</p><h1 id="2656" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">什么是变更数据捕获？</h1><p id="1d12" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">根据定义，变更数据捕获是一种数据集成方法，它基于对企业数据源所做变更的识别、捕获和交付(来源:<a class="ae ky" href="https://en.wikipedia.org/wiki/Change_data_capture" rel="noopener ugc nofollow" target="_blank">维基百科</a>)。它解决了与在企业内安全、可靠、快速和一致地移动数据相关的问题。大多数变更数据捕获产品的一个共同特征是对源数据库的影响很小，尤其是那些依赖于<a class="ae ky" href="https://en.wikipedia.org/wiki/Change_data_capture#Log_scanners" rel="noopener ugc nofollow" target="_blank">日志扫描机制</a>的数据库。</p><p id="cf51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变更数据捕获有多种用途:</p><ul class=""><li id="f9d6" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">事务性数据库更改触发的最小工作量数据流。</li><li id="4308" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">实时数据库复制，以支持数据仓库或云迁移。</li><li id="3526" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">随着数据以真正低的延迟从事务环境传输到分析环境，支持实时分析。</li><li id="7825" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">实现零停机的数据库迁移。</li><li id="16f3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">用于调试和审计目的的时间旅行日志记录。</li></ul><p id="8cf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有许多变更数据捕获解决方案。Debezium 可能是最流行的开源解决方案，经常与Apache Kafka一起使用来实现事件流。<a class="ae ky" href="https://www.hvr-software.com/" rel="noopener ugc nofollow" target="_blank"> HVR </a>问世已经超过十年，目前仍在积极开发中。它可以部署在领先的云提供商，但我不会说这是一个云原生解决方案，因为它需要彻底的设置。另一方面，<a class="ae ky" href="https://www.arcion.io/" rel="noopener ugc nofollow" target="_blank"> Arcion </a>和<a class="ae ky" href="https://www.striim.com/" rel="noopener ugc nofollow" target="_blank"> Striim </a>是拥有云和自托管部署模型的较新技术。</p><p id="04da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这一点上，我想你可能想知道变更数据捕获是如何工作的，所以让我们来看一些实际操作的东西。</p><h1 id="00f0" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">使用Arcion更改数据捕获的实践指南</h1><p id="88ec" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">为了便于说明，假设一家零售公司在其交易环境中拥有大量发票数据，但没有利用这些数据做出明智的决策。他们的目标是投资数据分析，但他们的内部数据中心无法支持这种额外的工作负载，因此他们决定从雪花开始评估更合适的云解决方案。</p><p id="2146" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">鉴于他们仍在评估云产品，他们希望以尽可能少的开发工作来释放分析能力。实时数据库复制非常适合这个用例。</p><p id="a4a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我需要一些零售发票来证明它是如何工作的，Kaggle上有几个免费的零售数据集样本。我将使用<a class="ae ky" href="https://www.kaggle.com/datasets/mashlyn/online-retail-ii-uci" rel="noopener ugc nofollow" target="_blank">在线零售II UCI </a>，因为它将很好地满足我们的目的，并允许我们轻松地使用原始数据将数据一对一地复制到我们在雪花中创建的数据湖中。这将有效地为我们的数据湖创建一个青铜层方法。</p><p id="ad49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">MySQL将被用作源。它是一个广泛使用的、易于设置的关系数据库，所以大多数人将会遵循我所做的，并且可能能够用其他数据库复制这些步骤。</p><p id="d07e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于雪花在市场中的巨大存在，它将被用作目标数据仓库。《财富》500强中几乎有一半在使用它(来源:<a class="ae ky" href="https://www.snowflake.com/wp-content/uploads/2021/05/SnowflakeFastFactsSheet.pdf" rel="noopener ugc nofollow" target="_blank">雪花2022年快速事实报道</a>)，同样，读者也许可以用其他数据仓库复制这些步骤。</p><p id="5e26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还将使用Arcion，因为它提供了云本机部署选项以及OLTP和数据仓库连接器支持，从而简化了设置过程。</p><h1 id="b881" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">MySQL设置</h1><p id="608e" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">1.创建源数据库</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="276a" class="nl mk it nh b gy nm nn l no np">CREATE DATABASE arcion_cdc_demo;<br/>USE arcion_cdc_demo;</span></pre><p id="570b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.创建源表</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="2df2" class="nl mk it nh b gy nm nn l no np">CREATE TABLE IF NOT EXISTS transactions (<br/>  transaction_id BIGINT NOT NULL AUTO_INCREMENT,<br/>  invoice VARCHAR(55) NOT NULL,<br/>  stock_code VARCHAR(55) NOT NULL,<br/>  description VARCHAR(255),<br/>  quantity DECIMAL(9,3) NOT NULL,<br/>  invoice_date DATETIME NOT NULL,<br/>  price DECIMAL(10,2) NOT NULL,<br/>  customer_id DECIMAL(9,1),<br/>  country VARCHAR(255),<br/>  PRIMARY KEY (transaction_id)<br/>);</span></pre><p id="86cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.为复制事务创建一个用户</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="4c9b" class="nl mk it nh b gy nm nn l no np">CREATE USER `cdc-replication-agent`@`%`<br/>  IDENTIFIED WITH mysql_native_password BY `&lt;password&gt;`;</span></pre><p id="3770" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.仅授予用户所需的最低权限</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="1a0f" class="nl mk it nh b gy nm nn l no np">GRANT REPLICATION SLAVE, REPLICATION CLIENT<br/>  ON *.*<br/>  TO `cdc-replication-agent`@`%`;</span><span id="7dc9" class="nl mk it nh b gy nq nn l no np">GRANT SELECT<br/>  ON arcion_cdc_demo.transactions<br/>  TO `cdc-replication-agent`@`%`;</span></pre><p id="05ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.允许外部网络访问MySQL(默认为<code class="fe nr ns nt nh b">port 3306</code>)</p><p id="9366" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一步依赖于托管MySQL服务器的基础设施，详细说明这一点超出了本文的范围。如果因为任何原因不允许外部网络访问，请考虑<a class="ae ky" href="https://docs.arcion.io/docs/quickstart/" rel="noopener ugc nofollow" target="_blank">在MySQL网络中设置Arcion的复制代理</a>，而不是使用Arcion Cloud。</p><p id="64ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">6.将数据加载到源表中</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="d839" class="nl mk it nh b gy nm nn l no np">LOAD DATA LOCAL INFILE '/tmp/online_retail_II.csv'<br/>  INTO TABLE transactions<br/>  FIELDS TERMINATED BY ','<br/>  OPTIONALLY ENCLOSED BY '"'<br/>  IGNORE 1 ROWS<br/>  (invoice, stock_code, description, quantity, invoice_date, price, @customer_id, country)<br/>  SET customer_id = NULLIF(@customer_id, '');</span></pre><p id="3b86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">7.将二进制日志格式设置为行</p><p id="ff95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还需要确保MySQL实例二进制日志记录格式(binlog_format)设置为ROW，以便支持Arcion的CDC。这可以通过多种方式实现，具体取决于实例的部署方式和位置。这里有一个在Amazon RDS上运行MySQL时如何做的例子。</p><h1 id="bbe8" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">雪花设置</h1><p id="3e71" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">1.创建目标数据库</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="9cd6" class="nl mk it nh b gy nm nn l no np">CREATE DATABASE demo;<br/>USE demo;</span></pre><p id="7506" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.创建目标模式</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="afe9" class="nl mk it nh b gy nm nn l no np">CREATE SCHEMA arcion_cdc;<br/>USE demo.arcion_cdc;</span></pre><p id="3694" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.创建目标表</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="c3f4" class="nl mk it nh b gy nm nn l no np">CREATE TABLE IF NOT EXISTS transactions (<br/>  transaction_id NUMBER,<br/>  invoice VARCHAR(55),<br/>  stock_code VARCHAR(55),<br/>  description VARCHAR(255),<br/>  quantity NUMBER(9,3),<br/>  invoice_date TIMESTAMP_NTZ(9),<br/>  price NUMBER(10,2),<br/>  customer_id NUMBER(9,1),<br/>  country VARCHAR(255)<br/>);</span></pre><p id="ea5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.为复制事务创建角色和用户</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="4484" class="nl mk it nh b gy nm nn l no np">CREATE ROLE dataeditor;</span><span id="88a5" class="nl mk it nh b gy nq nn l no np">CREATE USER cdcreplicationagent<br/>  PASSWORD = '&lt;password&gt;';</span><span id="b65b" class="nl mk it nh b gy nq nn l no np">GRANT ROLE dataeditor<br/>  TO USER cdcreplicationagent;</span><span id="5e75" class="nl mk it nh b gy nq nn l no np">ALTER USER IF EXISTS cdcreplicationagent SET DEFAULT_WAREHOUSE = COMPUTE_WH;</span><span id="37e8" class="nl mk it nh b gy nq nn l no np">ALTER USER IF EXISTS cdcreplicationagent SET DEFAULT_ROLE = dataeditor;</span></pre><p id="dc0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.授予角色所需的权限</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="656b" class="nl mk it nh b gy nm nn l no np">GRANT DELETE, INSERT, SELECT, UPDATE <br/>  ON TABLE demo.arcion_cdc.transactions<br/>  TO ROLE dataeditor;<br/>GRANT ALL PRIVILEGES ON WAREHOUSE COMPUTER_WH TO ROLE dataeditor;</span><span id="5e21" class="nl mk it nh b gy nq nn l no np">GRANT CREATE DATABASE ON ACCOUNT TO ROLE dataeditor;</span></pre><h1 id="8c41" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">Arcion Cloud CDC设置</h1><p id="962c" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">创建了数据源和目标后，我们现在将登录Arcion Cloud，设置复制管道以启用CDC。您可以在此注册并登录Arcion <a class="ae ky" href="https://dev.tosign%20up%20link/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="c867" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">登录Arcion Cloud后，我们将进入复制屏幕。在这里，我们将单击屏幕中间的“New Replication”按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/8185c7019452a738aa8045c0771babcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nVuidUNmcllyZrow.png"/></div></div></figure><p id="3e97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将选择复制模式和写入模式。有几个选项可以满足您的需求。对于复制模式，Arcion支持:</p><ul class=""><li id="a775" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">快照(初始负载)</li><li id="673f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">完整(快照+ CDC)</li></ul><p id="6311" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于写入模式，Arcion支持:</p><ul class=""><li id="42cf" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">取代</li><li id="f48c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">缩短</li></ul><p id="e9be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于此处的目的，我们将选择复制模式为完整，写模式为截断。您还会看到，我已经将复制命名为“MySQL to Snowflake”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/170dc49064b3ac66f32a16af86dfff1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WSJ-3geOF4bNECMO.png"/></div></div></figure><p id="0c4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">填充名称并选择复制和写入模式后，单击屏幕底部的下一步。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/f344681340bc6acae2e0850eca54d676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jThCaH9w77hdTQDi.png"/></div></div></figure><p id="bff7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们被带到源屏幕。在这里，我们将单击“Create New”按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/d0d915a73886de89cb98c8c6a41ea4c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kCRuzmH3zFbDlhRf.png"/></div></div></figure><p id="7170" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们将选择MySQL作为我们的源。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/4563bed2365718ad831bab73427f9010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IEbVE27YFydt7qb3.png"/></div></div></figure><p id="9e36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后滚动到页面底部并单击继续。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/25dda2a23f5f7df61adcb78d0612934f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8Ua8VKTguTEChhfX.png"/></div></div></figure><p id="2b10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们可以添加MySQL实例的详细信息。这些细节包括:</p><ul class=""><li id="cb37" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">连接名称</li><li id="a148" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">主持</li><li id="0fdd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">港口</li><li id="fe2f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">用户名</li><li id="b70c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">密码</li></ul><p id="f3b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有其他字段将默认。对于用户名和密码，我们将使用前面针对MySQL实例运行的脚本中创建的用户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/492657cf5e6e41aa53c15796be4760e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pBxLtwDmn8jnJHvY.png"/></div></div></figure><p id="f83c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦保存了连接，我们将需要从数据库中提取模式。在下一页，我们将被提示单击同步连接器按钮。单击按钮，Arcion Cloud将连接到我们的MySQL实例并下拉模式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/e118aee6e01038f8b598bdde74d07a39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HWftswi5qVoFJ1xR.png"/></div></div></figure><p id="cb2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，Arcion Cloud中的用户界面将显示检索到的模式。然后，我们将单击屏幕右下角的“继续”进入下一步。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/ea52ac0f03ae6f29102006839f9b600f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ei42x-K39xDV6MzC.png"/></div></div></figure><p id="a04f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在已经正确配置了数据源。这将显示在下一个屏幕上以及测试连接按钮上。为了确保一切工作正常，我们将单击Test Connection按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/8d624aa39f39c1c36d88cc8ec5eb9e75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*C7FRD9t_noDgawe2.png"/></div></div></figure><p id="99b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦测试运行完毕，结果应该是这样的。您可以单击“完成”按钮退出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/c8fee42dfd9001fd4880a6cabb1e4374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UNeKSdw9vyqZ5VLg.png"/></div></div></figure><p id="79a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">测试成功后，我们现在可以单击屏幕右下角的Continue to Destination，转到设置目的地的步骤。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/b7dc8fdfd058613e4506f83d2311edb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*V7yLASKJE5eyxvu7.png"/></div></div></figure><p id="58d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Destination屏幕上，我们将单击New Connection开始设置我们的雪花连接器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/7c932b645458b6920e6d38f5d6ace236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TS3cbu6X2ogv-F6Q.png"/></div></div></figure><p id="c61f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，选择雪花作为您的连接类型，并单击继续。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/a2b498de988f8ebd9e0cee5e15e214d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wCNOXRfLprZ1gV2Q.png"/></div></div></figure><p id="025d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一个屏幕上，输入您的连接详细信息。这些细节包括:</p><ul class=""><li id="52ee" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">连接名称</li><li id="d16f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">主持</li><li id="a1ef" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">港口</li><li id="55b6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">用户名</li><li id="0967" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">密码</li></ul><p id="2f55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有其他字段将被默认。对于用户名和密码，我们将使用前面针对雪花实例运行的脚本中创建的用户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/cc327987d9be49575eb434699348354c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jCaDpNzNDzMoaU6w.png"/></div></div></figure><p id="fcf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下一个屏幕上，我们将同步连接器。单击同步连接器，并等待该过程完成。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/049d204f93d3767308b74435074ae1b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KmE58RkQ87bOrQUQ.png"/></div></div></figure><p id="2fd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦完成，您将看到模式被加载到屏幕上。然后，我们可以单击屏幕右下角的继续。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/22ad0c18d1c235449e87004086d7f7c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XoAKVzWiI7gAYJfq.png"/></div></div></figure><p id="c669" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们用雪花配置连接的最后一步是测试连接。我们将单击“测试连接”按钮，并等待结果返回到Arcion Cloud。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/de4e5e2bf8f215700e046d96f32dad64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZNS8uZtKwhq3NP0o.png"/></div></div></figure><p id="298d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该看到所有测试都已通过，以确保Arcion可以访问创建连接所需的所有内容。</p><blockquote class="nw nx ny"><p id="e729" class="kz la nz lb b lc ld ju le lf lg jx lh oa lj lk ll ob ln lo lp oc lr ls lt lu im bi translated"><em class="it">注意:如果主机端口Reachable没有通过，请确保您没有在雪花连接的URL中包含“https://”。这可能会导致检查出错。</em></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/e831a7460ba607d8b0be71d204fdaf51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EMxO_Rh3Bpp3M12a.png"/></div></div></figure><p id="f125" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们可以单击Continue to Filter来开始管道的过滤器配置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/45dd263614cffcd821a16f47e8e35167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oHTYRKH1ZWJxv1-d.png"/></div></div></figure><p id="5396" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Filters屏幕上，我们将选中Select All复选框，以便将所有表和列从源复制到目标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/275488536bbfa8bc56f43a2be17598c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KCOAyfBbHHhTVchL.png"/></div></div></figure><p id="8498" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，您也可以点击<a class="ae ky" href="https://docs.arcion.io/docs/references/mapper-reference/" rel="noopener ugc nofollow" target="_blank">映射表</a>和每表配置(<a class="ae ky" href="https://docs.arcion.io/docs/references/applier-reference/" rel="noopener ugc nofollow" target="_blank">应用程序配置文件</a>、<a class="ae ky" href="https://docs.arcion.io/docs/references/extractor-reference/" rel="noopener ugc nofollow" target="_blank">提取程序配置文件</a>)按钮来添加进一步的配置。出于我们的目的，我们将把它们保留为默认值。此后，您将单击“开始复制”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/1b3c85050e409bef2169618032453d4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Mp7wz3Rt1zrdMtqW.png"/></div></div></figure><p id="66f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后复制将开始。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/dab6b04874834047d0a6353f51e4c2db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MvvbYFmlhabASH14.png"/></div></div></figure><p id="8b2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">加载初始数据后，管道将继续运行，监视更改，并将这些更改应用到目标。空闲管道仍将在屏幕的右上角显示正在运行，但将显示行复制率为0，直到新数据写入源。您还会注意到，管道的阶段描述现在将显示变更数据捕获，而不是加载快照数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/b7d4449ead730eb04a8b63e0068c9476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EBYv57YZw9plcxeU.png"/></div></div></figure><p id="f3f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们开始向MySQL实例添加数据(例如，通过再次运行我们的加载脚本)，我们将看到Arcion检测到这一点，然后将数据实时同步到Snowflake。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/6432eabc63953c31d039f0173d1563d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*O7mHWIMaktvMYBKW.png"/></div></div></figure><h1 id="1236" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">下一步是什么？</h1><p id="206c" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">这样，我们就成功地通过Arcion建立了支持CDC的数据管道。我们来自MySQL的初始数据已经同步到雪花，未来的数据将实时转移到雪花。</p><p id="e951" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种实时数据移动到雪花中的特性可以支持许多需要即时访问与一个或多个数据源或主数据库同步的数据的用例。对于零售企业来说，几乎即时的库存和供应链管理、更好的客户体验和产品推荐现在可以通过这一管道和即时同步到雪花的数据来实现。这一新功能只需点击几下即可解锁。</p><p id="0383" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Arcion Cloud允许我们在几分钟内建立这些管道，只需最少的配置，以及管道运行后最少的支持和维护。首先，<a class="ae ky" href="https://hubs.ly/Q01cw66N0" rel="noopener ugc nofollow" target="_blank">注册一个Arcion Cloud帐户</a>( 14天免费试用),了解如何创建和使用支持CDC的数据管道。</p></div></div>    
</body>
</html>