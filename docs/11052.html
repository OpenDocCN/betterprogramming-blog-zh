<html>
<head>
<title>Command-Line Interface — tmux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">命令行界面— tmux</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/command-line-interface-tmux-1624b2cd4ae?source=collection_archive---------10-----------------------#2022-02-14">https://betterprogramming.pub/command-line-interface-tmux-1624b2cd4ae?source=collection_archive---------10-----------------------#2022-02-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9c7d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用tmux管理终端仿真器实例的高级概述。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5ed8b5b5dd5a1314b6efa81ea6561964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ItOi8CiW0yvZ86sDYzS-A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Pierre chtel-Innocenti在<a class="ae kv" href="https://unsplash.com/search/photos/window?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="b99c" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">tmux是什么？</h1><p id="6929" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">根据定义，tmux就是所谓的“终端多路复用器”</p><h2 id="50b7" class="mk kx iq bd ky ml mm dn lc mn mo dp lg lx mp mq li mb mr ms lk mf mt mu lm mv bi translated"><strong class="ak">什么是终端复用器？</strong></h2><p id="3a04" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">根据定义，终端多路复用器是:</p><blockquote class="mw mx my"><p id="3f66" class="lo lp mz lq b lr na jr lt lu nb ju lw nc nd lz ma ne nf md me ng nh mh mi mj ij bi translated"><em class="iq">一个</em> <a class="ae kv" href="https://en.wikipedia.org/wiki/Software_application" rel="noopener ugc nofollow" target="_blank"> <em class="iq">软件应用程序</em> </a> <em class="iq">可以用来</em> <a class="ae kv" href="https://en.wikipedia.org/wiki/Multiplexing" rel="noopener ugc nofollow" target="_blank"> <em class="iq">复用</em> </a> <em class="iq">几个单独的</em> <a class="ae kv" href="https://en.wikipedia.org/wiki/Pseudoterminal" rel="noopener ugc nofollow" target="_blank"> <em class="iq">伪终端</em></a><em class="iq"/><a class="ae kv" href="https://en.wikipedia.org/wiki/Login_session" rel="noopener ugc nofollow" target="_blank"><em class="iq">登录会话</em> </a> <em class="iq">在单个终端内显示，</em> <a class="ae kv" href="https://en.wikipedia.org/wiki/Terminal_emulator" rel="noopener ugc nofollow" target="_blank"> <em class="iq">终端仿真器</em> </a> <em class="iq"/></p><p id="0e3b" class="lo lp mz lq b lr na jr lt lu nb ju lw nc nd lz ma ne nf md me ng nh mh mi mj ij bi translated"><a class="ae kv" href="https://en.wikipedia.org/wiki/Terminal_multiplexer" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></blockquote><p id="5876" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">为了让您对tmux和终端多路复用器有一个更全面的了解，它们本质上是终端仿真器的窗口和会话管理器，可以极大地提高您遍历不同文件系统的效率。它们允许用户垂直和水平拆分窗格，管理单个实例中的多个窗口，以及在现有会话中创建嵌套实例。</p><p id="e196" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">根据tmux的GitHub知识库Wiki:</p><blockquote class="mw mx my"><p id="b474" class="lo lp mz lq b lr na jr lt lu nb ju lw nc nd lz ma ne nf md me ng nh mh mi mj ij bi translated">“它能让你在一个终端的几个程序之间轻松切换，分离它们(它们在后台继续运行)并把它们重新连接到不同的终端。做更多的事情。”</p><p id="f948" class="lo lp mz lq b lr na jr lt lu nb ju lw nc nd lz ma ne nf md me ng nh mh mi mj ij bi translated">(<a class="ae kv" href="https://github.com/tmux/tmux/wiki" rel="noopener ugc nofollow" target="_blank"> GitHub </a>)</p></blockquote><p id="acb4" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">如果您想知道为什么您可能想要使用像tmux这样的工具，这里有一个实用的例子，它有望巩固我对它的用例的推理:</p><p id="182f" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">假设您有一台或多台计算机，您可能希望访问它们各自文件系统中的特定文件。我们可以假设其中一台机器是您的本地计算机，无论是笔记本电脑还是某种台式机，但是其他机器呢？</p><p id="27e6" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">也许您有一台由AWS或DigitalOcean等服务托管的服务器，该服务器运行类似Unix的操作系统，如Ubuntu，并且您想要一种方法来管理与所述文件系统相关联的文件，而无需实际访问计算机。当然，这就是<a class="ae kv" href="https://en.wikipedia.org/wiki/Secure_Shell" rel="noopener ugc nofollow" target="_blank"> SSH </a>的用武之地，但是在SSH进入服务器并完成您希望完成的任何工作之后，如果您知道将来需要回到这台计算机上的这个文件系统，该怎么办呢？如果您需要跨多台计算机访问多台服务器，该怎么办？</p><p id="1bd4" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">如果没有像tmux这样的工具，那么管理大量不同计算机的SSH会话将是一场噩梦。</p><p id="c96a" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">Tmux允许你创建一个新的会话，然后在每个会话中，你可以有多个窗口。在每个窗口中，根据您希望访问的计算机，您可能有不同的文件系统。现在，您不再需要运行多余的Unix脚本来返回原来的位置。</p><p id="3725" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">当然，这不是为个人使用而设计tmux的唯一方法。Tmux足够健壮，允许您或您的团队创建适用于任何场景的多路复用器工作流。</p><h1 id="5539" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">安装</strong></h1><p id="10c9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在真正进入tmux并第一次使用它之前，您首先需要在您使用的任何机器上安装它。以下是最常见的方法:</p><p id="2f02" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated"><a class="ae kv" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir"/></a><strong class="lq ir">(推荐macOS用户使用):</strong></p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="40e0" class="mk kx iq nj b gy nn no l np nq">brew install tmux</span></pre><p id="fa19" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated"><a class="ae kv" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lq ir">Git</strong></a><strong class="lq ir">:</strong></p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="edf3" class="mk kx iq nj b gy nn no l np nq">git clone https://github.com/tmux/tmux.git<br/>cd tmux<br/>sh autogen.sh<br/>./configure &amp;&amp; make</span></pre><p id="77b7" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">安装完成后，您可能需要重新启动终端模拟器，以便使用<code class="fe nr ns nt nj b">tmux</code>命令。只需退出现有的终端模拟器，重新打开一个新窗口，或者在终端中运行以下Bash命令:</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="d5cf" class="mk kx iq nj b gy nn no l np nq">reset</span></pre><p id="35af" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">如果由于某种原因这两个选项都不起作用，您可以找到您喜欢的shell的资源文件(例如在类似Unix的机器上找到一个<code class="fe nr ns nt nj b">.bashrc</code>文件):</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="dcf0" class="mk kx iq nj b gy nn no l np nq">source ~/.bashrc</span></pre><p id="ebb9" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">希望您现在已经在机器上安装了tmux，并准备开始使用它！使用tmux首先要做的事情之一就是在您选择的终端仿真器中编写<code class="fe nr ns nt nj b">tmux</code>命令:</p><pre class="kg kh ki kj gt ni nj nk nl aw nm bi"><span id="4368" class="mk kx iq nj b gy nn no l np nq">tmux</span></pre><p id="eb6b" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">这将使您进入一个新的tmux会话，其名称是您所在会话的索引。如果这是你第一次在你的机器上使用tmux，你应该有0或者1的索引，这取决于你的<code class="fe nr ns nt nj b">.tmux.conf</code>所说的优先索引号。</p><p id="c466" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">您的<code class="fe nr ns nt nj b">.tmux.conf</code>文件是您所有tmux的配置设置。它可以在您的计算机的根用户目录中找到，<code class="fe nr ns nt nj b">~/</code>对于macOS机器，只有在您的机器上启用了隐藏文件时才能看到。如果您没有启用隐藏文件，这里有一些资源可以帮助您根据您可能使用的机器来启用它们。</p><ul class=""><li id="0232" class="nu nv iq lq b lr na lu nb lx nw mb nx mf ny mj nz oa ob oc bi translated"><a class="ae kv" href="https://www.macworld.co.uk/how-to/mac-software/hidden-files-mac-3520878/" rel="noopener ugc nofollow" target="_blank"> macOS </a></li><li id="1ff9" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://support.microsoft.com/en-us/help/14201/windows-show-hidden-files" rel="noopener ugc nofollow" target="_blank">视窗</a></li><li id="da15" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://askubuntu.com/questions/232649/how-to-show-or-hide-a-hidden-file" rel="noopener ugc nofollow" target="_blank"> Linux </a></li></ul><p id="cfe9" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">一旦你让隐藏文件在你的电脑上可见，你现在应该可以看到<code class="fe nr ns nt nj b">.tmux.conf</code>文件了。如果您是tmux新手，现在还不要太担心这个文件。当我们开始定制tmux时，我们将回到这个文件(这在本文后面会更有意义)。</p><h1 id="211e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">入门</strong></h1><p id="11c2" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">现在，您的机器上已经安装了tmux，并且您的系统上已经启用了隐藏文件，让我们进入</p><h2 id="ed67" class="mk kx iq bd ky ml mm dn lc mn mo dp lg lx mp mq li mb mr ms lk mf mt mu lm mv bi translated"><strong class="ak">最喜欢的tmux命令</strong></h2><p id="a724" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><em class="mz">只有当用户在会话中时，所有这些命令才会执行。所有命令也以键盘快捷键</em> <code class="fe nr ns nt nj b">ctrl + b</code> <em class="mz">为前缀。</em></p><ul class=""><li id="9cd0" class="nu nv iq lq b lr na lu nb lx nw mb nx mf ny mj nz oa ob oc bi translated">"—水平拆分当前选项卡。</li><li id="efff" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">% —垂直拆分当前选项卡。</li><li id="cb72" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">箭头键—允许在窗格之间导航。</li><li id="2083" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">$ —重命名当前会话。</li><li id="7b83" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">，—重命名当前选项卡。</li><li id="d5be" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">s —在会话之间切换。</li><li id="293c" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">d-从现有会话中分离。</li><li id="afb7" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">x —从当前窗口中删除一个窗格。</li><li id="32b9" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">&amp; —删除当前会话中的选项卡。</li><li id="9e69" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">c-在当前会话中创建新选项卡。</li><li id="212b" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">r-重新启动当前会话。</li></ul><p id="2e16" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">关于在一个会话中可以执行一次的所有tmux命令的完整列表，请参考<a class="ae kv" href="https://tmuxguide.readthedocs.io/en/latest/tmux/tmux.html" rel="noopener ugc nofollow" target="_blank">此链接</a>。</p><h2 id="4a23" class="mk kx iq bd ky ml mm dn lc mn mo dp lg lx mp mq li mb mr ms lk mf mt mu lm mv bi translated"><strong class="ak">定制tmux </strong></h2><p id="2f2a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">就其本身而言，tmux是一个非常通用和健壮的工具，它旨在解决问题，但是我们能够通过个人定制将多路复用器更进一步，以更好地适应日常程序员。尽管你可以修改tmux，使它变成一个最适合你自己的需求和愿望的工具，这里还是列出了我为使tmux成为我自己所做的所有事情:</p><ul class=""><li id="4479" class="nu nv iq lq b lr na lu nb lx nw mb nx mf ny mj nz oa ob oc bi translated">将默认的<code class="fe nr ns nt nj b">ctrl + b</code>按键改为<code class="fe nr ns nt nj b">ctrl + a</code>。</li><li id="6349" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated">添加插件，提供tmux中不存在的特性。</li></ul><p id="f14a" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">以下是我使用的一些:</p><ul class=""><li id="cfc9" class="nu nv iq lq b lr na lu nb lx nw mb nx mf ny mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/tmux-plugins/tpm" rel="noopener ugc nofollow" target="_blank">tmux-插件/tpm </a></li><li id="4c43" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/tmux-plugins/tmux-resurrect" rel="noopener ugc nofollow" target="_blank">tmux-插件/tmux-复活</a></li><li id="70e9" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/tmux-plugins/tmux-continuum" rel="noopener ugc nofollow" target="_blank">tmux-插件/tmux-连续体</a></li><li id="5f28" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/tmux-plugins/tmux-copycat" rel="noopener ugc nofollow" target="_blank">tmux-plugins/tmux-copy cat</a></li><li id="6ba2" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/tmux-plugins/vim-tmux" rel="noopener ugc nofollow" target="_blank">tmux-插件/vim-tmux </a></li><li id="9e3e" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/NHDaly/tmux-better-mouse-mode" rel="noopener ugc nofollow" target="_blank">nhd aly/tmux-更好的鼠标模式</a></li><li id="30c3" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/jimeh/tmux-themepack" rel="noopener ugc nofollow" target="_blank"> jimeh/tmux-themepack </a> —电力线/块/青色</li></ul><p id="ec32" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">如果你正在寻找tmux插件的完整列表，请随意查看这两个GitHub链接:</p><ul class=""><li id="7b35" class="nu nv iq lq b lr na lu nb lx nw mb nx mf ny mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/tmux-plugins" rel="noopener ugc nofollow" target="_blank">tmux-插件</a></li><li id="b940" class="nu nv iq lq b lr od lu oe lx of mb og mf oh mj nz oa ob oc bi translated"><a class="ae kv" href="https://github.com/rothgar/awesome-tmux#plugins" rel="noopener ugc nofollow" target="_blank"> rothgar/awesome-tmux —插件</a></li></ul><p id="dd74" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">为了对你的tmux配置进行实际的修改，你需要打开<code class="fe nr ns nt nj b">.tmux.conf</code>文件，它应该在你的用户文件系统的根目录下。在macOS机器上，这将是<code class="fe nr ns nt nj b">~/</code>。</p><p id="e396" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">如果你想自己动手定制tmux，请随意查看来自Ham Vocke 的这篇关于如何定制你自己的<code class="fe nr ns nt nj b">.tmux.conf</code>的博客文章。</p><p id="73f1" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">如果您有兴趣从自顶向下的方法改变tmux，请在GitHub 上查看来自gpakosz的这个流行的tmux配置<a class="ae kv" href="https://github.com/gpakosz/.tmux/blob/master/.tmux.conf" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="326f" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">结论</strong></h1><p id="4848" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">总而言之，如果您希望增加工作流程，并且每天都使用命令行界面，那么tmux是一个很好的工具。快速遍历多个文件系统不仅有助于提高用户的工作效率，还有助于划分特定的项目，甚至整个系统。</p><p id="08d3" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">虽然一开始它有一个尴尬的学习曲线，但是一旦学会了，在某种程度上，如果没有多路复用器，你就不太可能再回去使用终端仿真器了。</p><p id="57d4" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">如果您发现了任何错误，请随时发表评论。我会尽量尽快回复你。</p><p id="1322" class="pw-post-body-paragraph lo lp iq lq b lr na jr lt lu nb ju lw lx nd lz ma mb nf md me mf nh mh mi mj ij bi translated">感谢您的时间和关注。</p></div></div>    
</body>
</html>