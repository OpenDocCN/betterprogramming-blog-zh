<html>
<head>
<title>How I Automated Minting My Tweets as NFTs on OpenSea</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何在OpenSea上自动将我的推文制作成非功能性文件</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-i-automated-minting-my-tweets-as-nfts-on-opensea-854c50a44467?source=collection_archive---------4-----------------------#2022-02-27">https://betterprogramming.pub/how-i-automated-minting-my-tweets-as-nfts-on-opensea-854c50a44467?source=collection_archive---------4-----------------------#2022-02-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ced3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">下面是我如何创建自己的系统来上市和铸造非功能性交易</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/dd4770c775ca486ec0de54e2d122c4d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*etPGVVXMGRogJyUDuFbDFg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/s/photos/ethereum?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kv" href="https://unsplash.com/@theshubhamdhage?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Shubham Dhage </a>拍摄的照片</p></figure><p id="48ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我讨论了我是如何通过去中心化web应用程序(<a class="ae kv" href="https://ethereum.org/en/dapps/#what-are-dapps" rel="noopener ugc nofollow" target="_blank"> dApps </a>)的UI自动化的一些试验和磨难将我疯狂的想法变成现实的。</p><p id="79f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一切都是从有一天我偶然看到一个关于<a class="ae kv" href="https://web3.foundation/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Web3 </strong> </a> <strong class="ky ir"> </strong>应用和minting <a class="ae kv" href="https://en.wikipedia.org/wiki/Non-fungible_token" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> NFTs </strong> </a>的<a class="ae kv" href="https://www.youtube.com/watch?v=meTpMP0J5E8" rel="noopener ugc nofollow" target="_blank"> YouTube视频</a>开始的。我很好奇什么是NFT，为什么我还要担心Web3(我知道这有点晚了)。我看了杰夫·德莱尼 ( <a class="ae kv" href="https://fireship.io" rel="noopener ugc nofollow" target="_blank"> Fireship.io </a>)的视频，了解了NFTs以及什么是Web3和dApps。</p><p id="cbee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我有一个大问题:我应该把什么做成非功能性食物？因为我不是艺术家，我不知道该做什么。所以思考的部分来了。</p><p id="5ab0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我知道了一个网站，在那里你可以制作并出售你的推文，名为<a class="ae kv" href="https://v.cent.co/" rel="noopener ugc nofollow" target="_blank">贵重物品</a>(他们正在做的是抓取推文的截图，并根据它制作一个NFT代币)。很自然的，我在那个平台上铸造并出版了我的第一个NFT。令人惊讶的是，我了解到我不需要贵重物品平台来将我的推文铸造成NFT，我可以使用<a class="ae kv" href="https://opensea.io/" rel="noopener ugc nofollow" target="_blank"> OpenSea.io </a>平台将我的推文铸造成NFT。</p><p id="faee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">OpenSea是最大的NFT市场，它是一个运行在以太坊区块链上的分散式web应用程序。在<a class="ae kv" href="https://support.opensea.io/hc/en-us/articles/1500003113761-What-are-the-key-terms-to-know-before-I-get-started-" rel="noopener ugc nofollow" target="_blank">学会如何去做</a>之后，我在OpenSea】创建了我的第一个NFT收藏，并在市场上上市。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lu"><img src="../Images/d3fb4c22ac0401cff5ab9d732fd6743a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FVKNsZ0wWoYWEBhexWkp_Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自:【https://opensea.io/collection/wordle-keeps-sadness-away T4】</p></figure><p id="4ae6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，正如我之前提到的，手工铸造NFT是一项乏味的工作。如果你有数以千计的图片，你仍然需要手动上传它们，手动提供必要的元数据，并铸造令牌。所以我想，嗯如果我能做到，电脑肯定也能做到。</p><p id="d93e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我为OpenSea平台寻找一个<a class="ae kv" href="https://docs.opensea.io/reference/api-overview" rel="noopener ugc nofollow" target="_blank">开发者API </a>。不幸的是，您只能查看资产，而不能使用API创建资产。所以我打开了UI自动化，这是按照所有的手动步骤铸造一个NFT，但使用一个自动化的浏览器。以下是我在OpenSea上手动制作NFT的步骤。</p><ol class=""><li id="8213" class="lv lw iq ky b kz la lc ld lf lx lj ly ln lz lr ma mb mc md bi translated">首先，我完成一个<a class="ae kv" href="https://www.nytimes.com/games/wordle/index.html" rel="noopener ugc nofollow" target="_blank"> Wordle </a>谜题，并在推特上分享结果。</li><li id="2f40" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">使用<a class="ae kv" href="https://tweetpik.com/#app" rel="noopener ugc nofollow" target="_blank"> TweetPik应用</a>对推文进行截图。</li><li id="aa8f" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">给截图加一些润色(如果你懂我意思的话)。</li><li id="81f4" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">进入<a class="ae kv" href="https://opensea.io" rel="noopener ugc nofollow" target="_blank"> OpenSea.io </a> marketplace，进入<a class="ae kv" href="https://opensea.io/collection/wordle-keeps-sadness-away/assets/create" rel="noopener ugc nofollow" target="_blank">添加资产页面</a>。</li><li id="d2f4" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">上传截图。</li><li id="94cc" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">添加一个唯一的名称(这是非常必要的)。</li><li id="5ddd" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">添加一个外部链接(这个链接可以是与资产相关的任何东西，但是这里我放的是截图的tweet URL)。</li><li id="2031" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">添加描述。</li><li id="197e" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">添加与资产相关的元数据(作为元数据，我添加等级和统计数据，其中等级是我完成Wordle [try/6]的尝试次数，作为统计数据，我添加来自Wordle的黑色、绿色和黄色块的数量)。</li><li id="7c05" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">最后，我通过点击<em class="mj">创建</em>按钮来创建NFT。</li></ol><p id="e1f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我要自动化的过程。然而，还有最后一步，你可以在市场上列出NFT的售价。</p><p id="c679" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是我不打算自动化它，因为那是我不应该自动化的东西。<em class="mj">没有人应该让一台机器为你报价</em>。这对每个人都不利，因为任何资产的价格都是基于对该资产的感知价值。</p><p id="288f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">机器不能感知任何东西，因为它不是人类。想要了解更多关于事物如何被估价的信息，请看由<a class="ls lt ep" href="https://medium.com/u/959596deae41?source=post_page-----854c50a44467--------------------------------" rel="noopener" target="_blank">克利奥·艾布拉姆</a>制作的<a class="ae kv" href="https://www.youtube.com/watch?v=451V-lBLfuo&amp;t=222s" rel="noopener ugc nofollow" target="_blank">视频纪录片</a>。</p><p id="e2b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">讲故事讲够了；给我看看代码！</strong></p><p id="06dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好了，我终于开始写代码了。首先，我们需要对我们试图构建的东西有一个高层次的理解。让我展示一个我正在构建的系统的高层架构图。让我们称之为OpenSear系统(好吧，这个名字可能已经被其他人取了，但当时我想了一个机智的名字，我没有想到)。实际上，名字并不重要，重要的是它能做什么，对吗？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mk"><img src="../Images/06b1f7255a6bcbe10eab0368b10bea9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JT4RaTGPtSOGvWKApyjsVw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用<a class="ae kv" href="https://pixlr.com/" rel="noopener ugc nofollow" target="_blank">https://pixlr.com/</a>创建的所有标志都符合“合理使用”的规定。</p></figure><p id="ef74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">我如何使用Twitter账户活动API实时收听我的推文？</strong></p><p id="093b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我必须自动化的第一项任务是，每当我发布一条Wordle tweet时就进行监听，并创建一个新的作业，将其放入作业队列中。为此，我使用了<a class="ae kv" href="https://developer.twitter.com/en/docs/twitter-api/premium/account-activity-api/overview" rel="noopener ugc nofollow" target="_blank"> Twitter账户活动API </a>,它提供了一个webhook功能，一旦我发布了消息，它就会点击一个给定的API端点。我所要做的就是设置一个webhook API，它可以被Twitter帐户活动API命中。</p><p id="6d62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，让我们设置Twitter帐户活动API，以便它可以向我的webhook API发送一个有效负载。</p><ol class=""><li id="8b80" class="lv lw iq ky b kz la lc ld lf lx lj ly ln lz lr ma mb mc md bi translated">如果您没有Twitter开发者API密钥，请获取一个。</li><li id="1ad2" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated">遵循Twitter提供的官方指南<a class="ae kv" href="https://developer.twitter.com/en/docs/twitter-api/premium/account-activity-api/guides/getting-started-with-webhooks" rel="noopener ugc nofollow" target="_blank">来设置网页挂钩。</a></li></ol><p id="3ace" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是我用来设置webhooks的文章。</p><div class="ml mm gp gr mn mo"><a href="https://dev.to/alexluong/comprehensive-guide-to-twitter-webhook-1cd3" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd ir gy z fp mt fr fs mu fu fw ip bi translated">Twitter Webhook综合指南</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">在过去的3个月里，我用Twitter API做了一些开发探索。结果是(不要脸的塞)我的…</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">开发到</p></div></div><div class="mx l"><div class="my l mz na nb mx nc kp mo"/></div></div></a></div><p id="bdd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们需要创建六个函数来设置Twitter webhooks。为此，我为NodeJS使用了<a class="ae kv" href="https://github.com/PLhery/node-twitter-api-v2" rel="noopener ugc nofollow" target="_blank"> Twitter API v2客户端</a>。</p><p id="4425" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，让我们为这个任务创建一个基类。我们姑且称之为<code class="fe nd ne nf ng b">TwitterCLIService</code>吧，因为它将通过一个终端来调用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">TwitterCLIService基类(我们将相应地更新这个类)</p></figure><p id="3322" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了创建<code class="fe nd ne nf ng b">TwitterCLIService</code>基类，我们需要四个键。您可能知道，我们需要以下Twitter API键。</p><ol class=""><li id="eada" class="lv lw iq ky b kz la lc ld lf lx lj ly ln lz lr ma mb mc md bi translated"><code class="fe nd ne nf ng b">TWITTER_CONSUMER_KEY</code></li><li id="2e17" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated"><code class="fe nd ne nf ng b">TWITTER_CONSUMER_SECRET</code></li><li id="5850" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated"><code class="fe nd ne nf ng b">TWITTER_ACCESS_TOKEN</code></li><li id="1c79" class="lv lw iq ky b kz me lc mf lf mg lj mh ln mi lr ma mb mc md bi translated"><code class="fe nd ne nf ng b">TWITTER_ACCESS_TOKEN_SECRET</code></li></ol><p id="c5da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些令牌<a class="ae kv" href="https://developer.twitter.com/en/docs/twitter-api/getting-started/getting-access-to-the-twitter-api" rel="noopener ugc nofollow" target="_blank">可以从<a class="ae kv" href="https://developer.twitter.com/en/portal/dashboard" rel="noopener ugc nofollow" target="_blank"> Twitter开发者仪表板</a>中获取</a>。观看下面的视频，了解如何创建一个Twitter应用程序并获得上述API令牌。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://youtu.be/V7LEihbOv3Y" rel="noopener ugc nofollow" target="_blank">https://youtu.be/V7LEihbOv3Y</a></p></figure><p id="bc58" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的要点中，<code class="fe nd ne nf ng b">this.actions</code>是我们将调用的与我们正在构建的TwitterCLI相关的函数的常量。首先，我们将创建端点来获取现有的webhooks。对于一个免费账户，<a class="ae kv" href="https://developer.twitter.com/en/pricing/aaa-all" rel="noopener ugc nofollow" target="_blank"> Twitter允许</a>一个webhook和15个订户(15个不同的Twitter账户可以访问那个webhook)。</p><p id="f584" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于这个函数，我们需要获得一个Twitter不记名令牌。它可以像其他API令牌一样从Twitter开发人员仪表板中获得。跟随<a class="ae kv" href="https://communalytic.com/video-tutorials/how-to-request-twitter-bearer-token/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>学习如何做。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">getWebhooks函数</p></figure><p id="00dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们已经配置了一个现有的webhook，当我们调用<code class="fe nd ne nf ng b">TwitterCLIService.getWebhooks()</code>函数时，将会提供以下输出。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">getWebhooks函数的响应JSON</p></figure><p id="2a96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们添加创建webhook函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">createWebhook函数</p></figure><p id="1336" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在创建webhook之前，您需要从<a class="ae kv" href="https://developer.twitter.com/en/account/environments" rel="noopener ugc nofollow" target="_blank"> Twitter开发人员仪表板</a>为帐户活动API/沙箱设置一个开发环境。这非常简单明了。现在，记住您为您的环境设置的名称(对于免费帐户，Twitter只允许一个环境)。我把这个名字存为<code class="fe nd ne nf ng b">TWITTER_WEBHOOK_ENV</code>。</p><p id="a983" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">记住，Twitter只接受没有端口的<strong class="ky ir"> HTTPS </strong>网页挂钩URL。所以当你在开发和测试的时候，你可以使用<a class="ae kv" href="https://ngrok.com/" rel="noopener ugc nofollow" target="_blank"> ngrok </a>来建立一个临时的HTTPS端点。成功创建webhook(在Twitter API中注册一个webhook URL)后，将提供以下结果。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">createWebhook函数的响应JSON</p></figure><p id="db46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们添加删除webhook端点。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">deleteWebhook函数</p></figure><p id="103b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe nd ne nf ng b">deleteWebhook()</code>函数中，我们正在做两件事。首先，我们检查现有的网页挂钩，如果有，我们就删除。如果webhook删除成功，我们不会从Twitter API得到任何结果，只会得到一个HTTP 204(无内容)响应。</p><p id="adf0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，让我们继续讨论与订阅相关的功能。首先，我们创建了webhooks。现在，Twitter API知道向哪些API端点发送通知。但Twitter API仍然不知道该听哪些用户的。因此，我们将创建一些函数来告诉Twitter API应该听哪些用户的声音。</p><p id="54f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，让我们创建<code class="fe nd ne nf ng b">getSubscriptions()</code>函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">getSubscriptions函数</p></figure><p id="f8d8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们调用<code class="fe nd ne nf ng b">TwitterCLIService.getSubscriptions()</code>函数时，如果有已有的订阅，它会显示如下结果。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">getSubscriptions函数的结果JSON</p></figure><p id="b398" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们添加创建订阅功能。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建订阅功能</p></figure><p id="6e96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果订阅创建成功，我们不会从Twitter API得到任何结果，只会得到一个HTTP 204(无内容)响应。然而，重要的是要注意，在我的例子中，我们只订阅我们自己。</p><p id="d7e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在Twitter账户活动API监听我们的tweets(拥有Twitter开发者账户的API ),如果有活动，它将向注册的webhook发送一个有效载荷。</p><p id="866d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果我们需要取消订阅Twitter帐户活动API，我们需要实现以下函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">删除订阅功能</p></figure><p id="9891" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这个函数中，我们做两件事。首先，我们获取Twitter用户ID。这不是Twitter用户名。Twitter用户ID是每个Twitter帐户都有的唯一值。你可以从下面的网站找到你自己的Twitter用户ID。</p><div class="ml mm gp gr mn mo"><a href="https://tweeterid.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd ir gy z fp mt fr fs mu fu fw ip bi translated">Twitter ID和用户名转换器</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">在下面输入任何Twitter ID或@handle，它将被转换成右边相应的ID或用户名…</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">tweeterid.com</p></div></div><div class="mx l"><div class="nk l mz na nb mx nc kp mo"/></div></div></a></div><p id="7d54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">获得Twitter用户ID后，我们删除该特定用户的订阅。如果订阅删除成功，我们不会从Twitter API得到任何结果，只会得到一个HTTP 204(无内容)响应。</p><p id="30ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们可以继续创建CLI脚本了。但在此之前，看看我们开发的最终产品。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">TwitterCLIService类</p></figure><p id="4025" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">上面的文件也可以从GitHub上托管的<a class="ae kv" href="https://github.com/Niweera/opensear/blob/main/services/twitter-cli-service.js" rel="noopener ugc nofollow" target="_blank">源代码</a>中查看。</p><p id="5e9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们创建CLI脚本来调用我们在<code class="fe nd ne nf ng b">TwitterCLIService</code>中创建的函数。下面的文件也可以从GitHub上托管的<a class="ae kv" href="https://github.com/Niweera/opensear/blob/main/services/twitter-cli.js" rel="noopener ugc nofollow" target="_blank">源代码</a>中查看。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Twitter-CLI脚本</p></figure><p id="ca61" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">调用这个CLI脚本非常简单。如果您不熟悉在NodeJS中使用ES6语法，不要担心，它们与您在React或任何其他前端JS框架中使用的语法是一样的。</p><p id="493f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是我们唯一需要记住的是，NodeJS并不支持这个，我们需要传递一个参数来激活这个强大的特性。出于测试目的，我在开发环境中使用了NodeJS v16.14.0和NPM v8.3.1。</p><p id="3f5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要调用CLI脚本，我们需要发出以下命令。</p><ol class=""><li id="1d1e" class="lv lw iq ky b kz la lc ld lf lx lj ly ln lz lr ma mb mc md bi translated">获取Webhooks</li></ol><pre class="kg kh ki kj gt nl ng nm nn aw no bi"><span id="f3c7" class="np nq iq ng b gy nr ns l nt nu">$ node --experimental-specifier-resolution=node twitter-cli.js get-webhooks </span></pre><p id="2f11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.创建Webhook</p><pre class="kg kh ki kj gt nl ng nm nn aw no bi"><span id="abd3" class="np nq iq ng b gy nr ns l nt nu">$ node --experimental-specifier-resolution=node twitter-cli.js create-webhook</span></pre><p id="2a07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.删除Webhook</p><pre class="kg kh ki kj gt nl ng nm nn aw no bi"><span id="0872" class="np nq iq ng b gy nr ns l nt nu">$ node --experimental-specifier-resolution=node twitter-cli.js delete-webhook</span></pre><p id="ad79" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.获取订阅</p><pre class="kg kh ki kj gt nl ng nm nn aw no bi"><span id="638b" class="np nq iq ng b gy nr ns l nt nu">$ node --experimental-specifier-resolution=node twitter-cli.js get-susbscriptions</span></pre><p id="0fe0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.创建订阅</p><pre class="kg kh ki kj gt nl ng nm nn aw no bi"><span id="b57c" class="np nq iq ng b gy nr ns l nt nu">$ node --experimental-specifier-resolution=node twitter-cli.js create-susbscription</span></pre><p id="bcc1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">6.删除订阅</p><pre class="kg kh ki kj gt nl ng nm nn aw no bi"><span id="577b" class="np nq iq ng b gy nr ns l nt nu">$ node --experimental-specifier-resolution=node twitter-cli.js delete-susbscription</span></pre></div><div class="ab cl nv nw hu nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="ij ik il im in"><p id="dbc7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经完成了构建OpenSear系统的第一步。但是，我们仍然不能测试这些命令，因为我们没有启动和运行我们的OpenSear-API。</p><p id="1c37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们必须开始开发我们的OpenSear-API，我们需要设置它来监听Twitter账户活动API webhook事件。但是如果我继续写下去，这篇文章将会非常大，没有人会读它(我知道它有多难读，所以我有一个同情的耳朵)。</p><p id="e791" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我将暂时停止，在下一篇文章中，我将讨论如何创建OpenSear-API，以及如何开始监听Twitter帐户活动API webhook事件并相应地响应它们。</p><p id="bc15" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是本文的GitHub repo，我添加这个只是为了防止您对最终产品感兴趣:</p><div class="ml mm gp gr mn mo"><a href="https://github.com/Niweera/opensear" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd ir gy z fp mt fr fs mu fu fw ip bi translated">GitHub-Niweera/open sear:open sear是一个帮助我创建并列出我的NFT的系统…</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">OpenSear是一个帮助我在opensea.io marketplace上创建和列出我的NFT的系统。看看我的NFT收藏吧</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">github.com</p></div></div><div class="mx l"><div class="oc l mz na nb mx nc kp mo"/></div></div></a></div><p id="f787" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以，直到我们再次看到本文的第二部分，快乐编码，快乐铸造…</p><pre class="kg kh ki kj gt nl ng nm nn aw no bi"><span id="765b" class="np nq iq ng b gy nr ns l nt nu"><strong class="ng ir">Want to Connect?</strong></span><span id="a771" class="np nq iq ng b gy od ns l nt nu">Shoot me on queries <a class="ae kv" href="https://niweera.gq" rel="noopener ugc nofollow" target="_blank">here</a>.</span></pre></div></div>    
</body>
</html>