<html>
<head>
<title>Common Coding Mistakes You Should Avoid</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您应该避免的常见编码错误</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/common-coding-mistakes-you-should-avoid-441f9e51faea?source=collection_archive---------1-----------------------#2019-12-30">https://betterprogramming.pub/common-coding-mistakes-you-should-avoid-441f9e51faea?source=collection_archive---------1-----------------------#2019-12-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2d3f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这些是许多开发人员犯的错误</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/48524170e0282624a698dd8410493243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QoPGTbdAHcK-xR4pU4yu5w.jpeg"/></div></div></figure><p id="a925" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">犯错是人之常情。然而，开发人员犯的许多错误是可以避免的。如果您能够避免本文中的常见错误，您将能够编写更好、更干净的代码。</p><p id="965d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这不仅对你有好处，对其他需要看你代码的开发者也有好处。所以你不仅是为自己做这件事，也是在帮你的团队一个大忙。</p><p id="962c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以下是一些你应该避免的常见错误。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="7ec1" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">1.在一个功能中进行太多的事情</h1><p id="bb63" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">根据单一责任模式，一个功能应该只负责做一件事。只有一件事。我见过太多在一个函数中获取、处理和呈现数据的函数。把它分开被认为是更好的编程。一个函数获取数据，一个函数处理数据，另一个函数呈现数据。</p><p id="6feb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将一个功能集中在一个关注点上是很重要的，因为这样会使它更健壮。假设在前面的例子中，数据是从一个API获取的。如果API有变化，例如有一个新版本，如果它是同一个函数的一部分，那么处理代码中断的危险就更大。这很可能会导致数据的显示中断。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="ecc8" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">2.注释掉的代码</h1><p id="51d1" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">我们都见过包含多个函数的整个代码块被注释掉。没人知道它为什么还在那里。没有人知道这段被注释掉的代码是否仍然相关。然而，没有人删除那段代码，这才是你真正应该做的。没有人删除这段代码的原因是，每个人都认为其他人可能需要它。</p><p id="66a8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">删除这段注释掉的代码。即使代码不在最新的版本中，如果有人计划使用它，代码仍然可以在版本控制中使用。但那只是我的两分钱。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="510d" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">3.变量的非描述性命名</h1><p id="f231" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">不久前，我写了一篇关于为变量起好名字的简单规则的文章。我再怎么强调好的变量名的重要性也不为过。大多数时候，你不是项目中唯一的开发人员。其他开发人员也需要理解您的代码。</p><p id="efc8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如我在那篇文章中所说的，选择好名字需要时间，但是节省的时间比花费的时间多。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="ee56" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">4.幻数和字符串</h1><p id="087a" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">从变量的非描述性命名开始，我们进入这个列表的下一个项目，它是关于不给变量赋值的。这也被称为幻数或串。</p><p id="2844" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由<a class="ae mu" href="https://en.wikipedia.org/wiki/Magic_number_(programming)" rel="noopener ugc nofollow" target="_blank">维基百科</a>给出的定义:</p><p id="8cb0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">幻数是具有无法解释的含义或多次出现的唯一值，可以并且应该用命名的常数替换。</p><p id="fa08" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们来看看下面的代码片段:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="5f0c" class="na ly it mw b gy nb nc l nd ne"><strong class="mw iu">for ($</strong>i = 1; $i &lt;= 52; $i++) {<br/>    ...<br/>}</span></pre><p id="9513" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这个例子中的数字52是一个幻数。没有人知道为什么52这个数字会在那里，它代表什么。为什么是52？为什么不能是64？那是一年的周数吗？</p><p id="c44f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">更清楚的是:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="d37e" class="na ly it mw b gy nb nc l nd ne">$cardDeckSize = 52;</span><span id="4a83" class="na ly it mw b gy nf nc l nd ne">for ($i = 1; $i &lt;= $cardDeckSize; $i++) {<br/>    ...<br/>}</span></pre><p id="eaf9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在每个人都明白我们在循环一副牌中的所有牌。它为其他开发人员提供了上下文。最重要的是，更改值要容易得多，因为它是不重复的。它在变量中只存储一次。</p><p id="9ae1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">幻数经常在一个程序的不同地方被多次使用，这使得它容易出错。</p><p id="844f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">字符串也是如此:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="8c9d" class="na ly it mw b gy nb nc l nd ne">if (userPasswordIsValid($user, "6yP4cZ".$password)) {<br/>    ...<br/>}</span></pre><p id="32b3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">什么是<code class="fe ng nh ni mw b">6yP4cZ</code>？看起来很随意。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="97c3" class="na ly it mw b gy nb nc l nd ne">$salt = "6yP4cZ";</span><span id="9861" class="na ly it mw b gy nf nc l nd ne">if (userPasswordIsValid($user, $salt.$password)) {<br/>    ...<br/>}</span></pre><p id="d254" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">啊哈，现在有道理了！</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="3c81" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">5.混乱的代码格式</h1><p id="a877" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">弄乱代码的格式是没有太多编程经验的人经常做的事情。大多数有几年经验的开发人员，如果你问他们是否认识弄乱代码格式的测试人员或数据科学家，他们可能会点头。这是因为缺乏经验——除非他们使用的是像Python这样的编程语言，这样可以省去很多麻烦。</p><p id="8526" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">解决混乱格式的最常见方法之一是使用棉绒。所有现代的ide也有可能为您解决这个问题。有时你必须安装一个插件，有时它可以开箱即用。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="75b1" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">6.硬编码</h1><p id="1e43" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">硬编码是将数据直接嵌入到程序或其他可执行对象的源代码中的软件开发实践，与从外部来源获取数据或在运行时生成数据相反。</p><p id="f1bb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">硬编码的值不允许配置；他们是一成不变的。硬编码被认为是一种反模式，或者至少是一种非常糟糕的代码味道。</p><p id="0fc3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不管出于什么原因(有时甚至是正当的原因)，被硬编码最多的是密码和文件位置。</p><p id="2ad3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您看到大量硬编码密码的场景是用于外部服务或API的身份验证。这些凭证经常被硬编码，这被认为不是最佳实践。</p><p id="68b6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你发现自己硬编码了很多东西，你真的应该仔细检查一下你的代码，因为大多数时候这并不是解决问题的最好方法。</p></div></div>    
</body>
</html>