# 抱最好的希望，做最坏的打算——在大规模发布前降低风险

> 原文：<https://betterprogramming.pub/hope-for-the-best-plan-for-the-worst-mitigating-risk-before-the-big-launch-45aca4b88f0d>

## 推出一个新的软件产品或功能可能会非常可怕，但这也是在软件团队工作中最有收获的感觉之一。

![](img/cb093c8594448f52a44538d8419fbe43.png)

“抱最好的希望，做最坏的打算”——这句话来自李·查德的一系列书籍，书中的主角侠探杰克陷入了牵强的阴谋，并设法挽救了每一天。单身。时间。

但我们不要因为它的来源而否定这句格言的智慧。如果一个更有教养的来源适合你，玛娅·安杰洛说过类似的话:“抱最好的希望，做最坏的准备，对两者之间的任何事情都不感到惊讶”。

# 这与软件产品有什么关系？

软件团队每天都必须不断地处理有风险的场景，尤其是在第一次发布特性或产品之前。很多事情必须同时发生，很容易让人感到不知所措。

整个团队开始与恐惧作斗争，例如:

*   如果我们推出这组数据迁移来支持这一新功能，我们会破坏数据库吗？
*   如果我们像以前那样发布产品，我们的服务器会遇到扩展问题吗？
*   如果我们不解决这些关键的 UX 问题，人们会讨厌使用我们的应用吗？
*   我们仍然发现大量的错误，我们怎么可能很快发货？

基于团队的环境，这些类型的风险和恐惧可以以完全不同的方式处理。在一家初创公司，团队敏锐地意识到跑道在变窄，因此损失更少。在一个更加确定的环境中，避免风险很容易成为现状，团队尽一切可能避免风险。这让所有相关人员感到沮丧，因为它大大降低了我们的速度，并阻止我们快速迭代我们的产品。

当我们在一个具有过度高风险容忍度的团队中工作时，我们倾向于回避某些问题，并且只希望有最好的结果。在这种模式下，我们会说:

*   没关系，因为这是一个 MVP，我们不知道是否有人会使用它
*   那是一个边缘情况，所以我们不应该担心它
*   我们应该快速行动，打破常规，而不是拘泥于细节

就像生活中的所有事情一样，甜蜜点不在极端，而是在中间的某个地方。我们希望识别风险并尝试降低风险，同时仍然勇敢地向前迈进并推出我们的产品。我们不能等待无风险的发射，它不存在。我们也不能忽视风险，天真地认为一切都会好起来。

# 我们能做些什么来实践“抱最好的希望，做最坏的打算”这句格言呢？

## **从对整个团队进行总结开始**

虽然预死亡对于频繁的风险识别很有用，但当你即将推出新产品或新功能时，它尤其重要。

维基百科上关于[验尸的词条解释得很好](https://en.wikipedia.org/wiki/Pre-mortem#:~:text=A%20pre%2Dmortem%2C%20or%20premortem,of%20the%20project%20or%20organization.)——以下是摘录:

*   *一种* ***事后*** *，或* ***事前*** *，是一种* [*管理策略*](https://en.wikipedia.org/wiki/Management) *，在这种策略中，项目团队想象一个项目或组织已经失败，然后逆向工作以确定什么可能导致项目或组织的失败。*

预判对于他们的主要目的(识别风险)是有用的，但我也发现它对于减轻团队在发布日期临近时所经历的压力是非常有用的。团队很容易被所有需要做的事情压垮，同时随着新的 bug 不断被发现，感觉一切都在分崩离析。

公开我们对发布的最大恐惧会让我们感觉更好，因为我们意识到我们的团队成员分享了我们的大部分担忧。我们意识到我们并不孤单。最重要的是，看到恐惧被写下来会让它失去一些力量。它变成了我们可以讨论和分解的东西。

有时候，我们发现恐惧是没有根据的，它已经不是问题或者很容易减轻。其他时候，我们看到一些恐惧是合理的，我们需要做一些沉重的负担或机动，以避免最坏的情况发生。即使这样也会让人感觉更好，因为他们正在解决问题。软件人爱解决问题！

# 处理事后检查中发现的风险

一旦你有了风险清单，就和你的团队一起找出尽可能降低风险的方法。你应该寻找便宜的解决方案，为你赢得一点时间，并解决足够的风险，让你推出产品。

为了“恰当地”处理问题，尽量避免推迟发布日期。这是个陷阱。当你已经“恰当地”解决了这些问题时，你将面临新的风险，导致你再次推迟你的发射。

软件是杂乱的，系统和产品是暂时的。在从产品的野外性能中获得数据之前，花在完善产品的一些粗糙边缘上的时间，往往是浪费时间。你可能正在打磨产品中没人用过的部分。或者一个竞争对手比你先推出，并开始迭代真实的客户反馈，远远领先于你，以至于你无法赶上。

为您在工作跟踪系统中捕获的工作项目添加标签(jira、monday、trello 等)。将这些项目作为最高优先级。你不能不解决这些问题就发货，所以必须先解决它们。首先解决这些问题会对团队的士气有好处，而且会让你更快地进入一个可以发射的位置。

# 发布风险的常见解决方案

这绝不意味着是一个详尽的清单，这将是一个不可能的壮举。但这些方法帮助我推出了几个可怕的产品和功能。

## **架构回顾**

你可能会担心你走了太多的捷径，或者你离问题领域太近而看不到明显的问题。找一些久经考验的技术领导者，无论是在组织内部还是外部，并与他们分享你的架构。

我们是自己最严厉的批评家。我曾多次惊讶于不属于我们项目的“外部”人员对我们的解决方案非常宽容和支持。这种方法不仅让你对你的发布感到更有勇气，它也可能突出任何你应该在发布前解决的突出问题。

最好是主动对你的架构进行评估，而不是在发布前的最后一刻。但是，如果你即将推出你的产品，而你还没有这样做，这还不算太晚。得到反馈，但脸皮要厚。不要让最小的批评把你推出你的轨道。权衡所有的反馈，并确保 100%理解其中的取舍。在整理了您在本次评估中提出的所有事项的行动要点后，将其反馈给评估者，以确保您没有误解或您的行动没有被误导。你应该能够清楚地传达你的行动和决定，因为你需要一次又一次地这样做。

## **逐步展开**

您的 UI 有些粗糙，并且您担心对现有系统产生不必要的副作用。

不要承诺向所有客户推出新产品！而是使用某种特征标志管理系统逐步推出它。即使你没有一个固定的客户群，你也可以选择只让一小部分人加入你的真实产品，而不让大多数人进入你的网站。

一旦确认产品和系统足够稳定，逐渐向更多的人开放水龙头。

## **回滚**

如果你担心现有生态系统中的负面影响，在你的发布游戏计划中有一个回滚是非常重要的。你的生态系统可能如此复杂，以至于当真正的客户上线时，如果它对生态系统造成损害，它可能会保证产品的回滚。

有了自毁按钮，并不意味着有必要按下它。知道这个存在对团队士气也有好处！

## **缩放比例**

以一种可以水平伸缩(跨节点)的方式构建产品的第一次迭代有时会很昂贵，并且在您获得真正的客户反馈之前会增加额外的延迟。

另一方面，你不能只抱最好的希望。您的产品可能会有机增长，或者您的流量可能会出现大峰值，这将使您的系统瘫痪。

我的建议可能有点争议。不要担心无限的横向扩展(成本效益)，而是确保你可以纵向扩展(昂贵)。您希望尽早测试，并尽快获得反馈。如果有可能在最初扩大规模，并推迟使其在未来水平扩展的成本，而没有过多的技术债务，那么就去做吧！您的工程时间将比购买更强大的 DB 服务器或更多实例来运行您的代码以满足您的需求(如果有朝一日达到这一点的话)要昂贵得多。

## **备份/恢复**

如果您正在推出一项有风险的功能或一项有风险的升级，请确保您的备份/恢复过程确实在运行，并且如果需要，您可以回滚到一个安全点。大多数情况下，我们使用迁移和其他机制来确保我们可以回滚，但是检查您的强力备份/恢复过程是否正常运行没有任何问题。

## **强化至临界反馈**

不是每个人都会喜欢你的产品，这完全没问题！把这个拿出来，用 1000 瓦的灯照一下。得到反馈完全没问题。如果你知道你的产品有一些漏洞，但是你有一个足够好的版本来发布，那就去做吧。奇怪的是，当反馈开始滚滚而来，并证实了你所关心的一些事情时，这种感觉很有力量。不要为了避免批评而试图解决所有问题，而是接受它会发生并按下启动按钮。

# 最后的想法

推出一个新的软件产品或功能可能会非常可怕，但这也是在软件团队工作中最有收获的感觉之一。试着尽可能地享受它，回想你经历它并幸存下来的前几次！