<html>
<head>
<title>How to Use Async/Await with Axios in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在React中将Async/Await与Axios一起使用</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-use-async-await-with-axios-in-react-e07daac2905f?source=collection_archive---------0-----------------------#2018-10-25">https://betterprogramming.pub/how-to-use-async-await-with-axios-in-react-e07daac2905f?source=collection_archive---------0-----------------------#2018-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9389" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用async/await检索数据的最佳方式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4beed7be582a045ab8601468bc5b0664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bzZY7qtDF056z0Cvi1lAzA.png"/></div></div></figure><p id="1614" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你好！我是Morfsys的前端开发人员，我喜欢写与web、技术等相关的东西。在这篇文章中，我将讲述如何在React中将<code class="fe lq lr ls lt b">async</code> / <code class="fe lq lr ls lt b">await</code>与Axios配合使用。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="8dad" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">安装Axios</h1><p id="d2a8" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">首先，要开始，我们需要安装Axios:</p><pre class="kj kk kl km gt my lt mz na aw nb bi"><span id="dba2" class="nc mc it lt b gy nd ne l nf ng">npm install --save axios</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="4ec4" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">发出Get请求</h1><p id="eb85" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">接下来，让我们尝试使用Axios从react组件发出一个简单的<code class="fe lq lr ls lt b">get</code>请求:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="08c5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">上面的代码向<a class="ae nj" href="https://reqres.in" rel="noopener ugc nofollow" target="_blank"> https://reqres.in </a>发出一个<code class="fe lq lr ls lt b">get</code>请求，从他们的API中检索一些用户，并在我们的组件中显示用户的名字。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="ba73" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">使用异步/等待</h1><p id="b47e" class="pw-post-body-paragraph ku kv it kw b kx mt ju kz la mu jx lc ld mv lf lg lh mw lj lk ll mx ln lo lp im bi translated">现在，我们想使用<code class="fe lq lr ls lt b">async</code> / <code class="fe lq lr ls lt b">await</code>发出同样的请求。</p><p id="8686" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们开始吧！</p><p id="9579" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于使用<code class="fe lq lr ls lt b">await</code>的函数，我们必须将函数本身包装为异步函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="edc7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">异步函数与同步函数的不同之处在于，异步函数不会阻止它下面的代码的处理。</p><p id="5865" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您试图发出POST请求，只需将参数作为第二个变量传递给Axios:</p><pre class="kj kk kl km gt my lt mz na aw nb bi"><span id="c9d2" class="nc mc it lt b gy nd ne l nf ng">axios.post('https://yourdomain.com', { name: 'Aditya' })</span></pre></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="569e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我是Morfsys的全栈开发人员。告诉我任何关于aditya@morfsys.com的事</p></div></div>    
</body>
</html>