<html>
<head>
<title>How To Secure Custom Spring Boot Actuator Endpoints and Add Prometheus Metrics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何保护定制Spring Boot执行器端点并添加普罗米修斯指标</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/how-to-secure-custom-spring-boot-actuator-endpoints-and-add-prometheus-metrics-18bf010f56fb?source=collection_archive---------3-----------------------#2022-10-11">https://betterprogramming.pub/how-to-secure-custom-spring-boot-actuator-endpoints-and-add-prometheus-metrics-18bf010f56fb?source=collection_archive---------3-----------------------#2022-10-11</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="2078" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">提高安全性的指南</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/3546080b4101718d732eb2f0c9d48036.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QXnRlCahXbr4rRz1"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@flyd2069?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">飞:D </a>上<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">的Unsplash </a></p></figure><p id="dd46" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Spring Boot执行器端点暴露了我们的应用程序的敏感信息，如Beans、测量值等。因此，增加安全性以限制访问至关重要。</p><p id="b502" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">尽管Actuator提供了许多现成的端点，但有时配置我们自己的端点会很有用。例如，如果我们想要检索特定于我们的应用程序的信息。</p><p id="fe2c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">类似地，我们可能希望添加Prometheus指标来监控默认解决方案中不包含的功能。例如，统计对URL的访问次数、并发请求等。</p><p id="5980" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">本教程结束时，您将知道如何:</p><ul class=""><li id="7df5" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">使用Spring Security保护Spring Boot端点。</li><li id="8e0f" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">创建自定义Spring Boot执行器端点。</li><li id="a12d" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">注册指标并在Prometheus和Grafana中查看。</li></ul><p id="6cf9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">本教程与我的前一篇关于监控Spring Boot应用程序的文章有关。如果你想了解如何设置Prometheus和Grafana来监控你的应用程序，请查看。但是不要担心，您仍然可以关注这篇文章，因为我们现在将关注不同的主题。</p><p id="730b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们开始吧！</p><h1 id="f87f" class="mk ml iu bd mm mn mo mp mq mr ms mt mu ka mv kb mw kd mx ke my kg mz kh na nb bi translated">将Spring安全性添加到项目中</h1><p id="2641" class="pw-post-body-paragraph la lb iu lc b ld nc jv lf lg nd jy li lj ne ll lm ln nf lp lq lr ng lt lu lv in bi translated">我将重用之前演示的<a class="ae kz" href="https://github.com/kirshiyin89/springboot-monitoring-demo" rel="noopener ugc nofollow" target="_blank">源代码</a>并对其进行增强。</p><p id="84bb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了实现安全性，我们需要将<code class="fe nh ni nj nk b">spring-boot-starter-security</code>模块添加到我们的依赖项中:</p><pre class="kk kl km kn gu nl nk nm nn aw no bi"><span id="5b39" class="np ml iu nk b gz nq nr l ns nt">&lt;dependency&gt;<br/>   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;<br/>&lt;/dependency&gt;</span></pre><p id="592e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在第一个项目中，我们启用了在<code class="fe nh ni nj nk b"><a class="ae kz" href="http://localhost:8080/actuator/health" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/actuator/health</a></code>可用的健康指标，并向每个人显示了详细信息:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nu nv l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">带有详细信息的健康端点</p></figure><p id="bcee" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以通过更改我们的<code class="fe nh ni nj nk b">application.yml</code>文件中的这一行来限制对详细信息的访问:</p><pre class="kk kl km kn gu nl nk nm nn aw no bi"><span id="eddc" class="np ml iu nk b gz nq nr l ns nt">management.endpoint.health.show-details=WHEN_AUTHORIZED</span></pre><p id="5b15" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果用户未经授权，他们将只能看到以下数据:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nw"><img src="../Images/ef5f6192b5ab7cb58611b8237f88035d.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*3Ddtd7ABEfoNTZd59_5LlA.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">未授权用户的健康信息</p></figure><h2 id="551a" class="np ml iu bd mm nx ny dn mq nz oa dp mu lj ob oc mw ln od oe my lr of og na oh bi translated">添加安全凭据</h2><p id="2b95" class="pw-post-body-paragraph la lb iu lc b ld nc jv lf lg nd jy li lj ne ll lm ln nf lp lq lr ng lt lu lv in bi translated">假设我们希望只允许管理员访问。将这些行添加到<code class="fe nh ni nj nk b">application.yml</code>来定义一个用户:</p><pre class="kk kl km kn gu nl nk nm nn aw no bi"><span id="1b15" class="np ml iu nk b gz nq nr l ns nt">security:<br/>  user:<br/>    name: user<br/>    password: password<br/>    roles: admin</span></pre><p id="3a30" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="oi">注意，如果没有这几行，Spring Boot会自动生成一个密码，并在启动时打印在应用程序的控制台上。该角色是可选的。</em></p><h2 id="e0d6" class="np ml iu bd mm nx ny dn mq nz oa dp mu lj ob oc mw ln od oe my lr of og na oh bi translated">测试安全配置</h2><ol class=""><li id="2008" class="lw lx iu lc b ld nc lg nd lj oj ln ok lr ol lv om mc md me bi translated">点击<code class="fe nh ni nj nk b"><a class="ae kz" href="http://localhost:8080/actuator/health" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/actuator/health</a></code>终点。</li><li id="c386" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv om mc md me bi translated">您应该会看到一个弹出窗口，要求提供凭据。输入YAML文件的细节。您应该可以再次看到健康详细信息。</li><li id="5224" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv om mc md me bi translated">将<code class="fe nh ni nj nk b">application.yml</code>中的角色改为admin以外的角色。</li><li id="76e8" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv om mc md me bi translated">重启app，再次点击上面的网址。</li><li id="e6c5" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv om mc md me bi translated">你应该只看到基本信息，没有细节。</li></ol><h2 id="3ed5" class="np ml iu bd mm nx ny dn mq nz oa dp mu lj ob oc mw ln od oe my lr of og na oh bi translated">添加基本身份验证</h2><p id="3693" class="pw-post-body-paragraph la lb iu lc b ld nc jv lf lg nd jy li lj ne ll lm ln nf lp lq lr ng lt lu lv in bi translated">我们可以使用Spring Boot配置基本身份验证。为此，请创建如下配置类:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nu nv l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Spring安全配置</p></figure><p id="d8da" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们只允许管理员用户使用指标端点。</p><p id="2c4c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果我们调用URL并尝试以不同的角色登录，我们会看到一条错误消息:</p><pre class="kk kl km kn gu nl nk nm nn aw no bi"><span id="9682" class="np ml iu nk b gz nq nr l ns nt">There was an unexpected error (type=Forbidden, status=403).</span></pre><h1 id="0a65" class="mk ml iu bd mm mn mo mp mq mr ms mt mu ka mv kb mw kd mx ke my kg mz kh na nb bi translated">添加自定义执行器端点</h1><p id="1164" class="pw-post-body-paragraph la lb iu lc b ld nc jv lf lg nd jy li lj ne ll lm ln nf lp lq lr ng lt lu lv in bi translated">要添加自定义端点，只需在类中添加<code class="fe nh ni nj nk b">@Endpoint</code>注释。这里有一个简单的例子:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nu nv l"/></div></figure><p id="f899" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Spring Boot支持与<code class="fe nh ni nj nk b">HTTP GET</code>、<code class="fe nh ni nj nk b">POST</code>和<code class="fe nh ni nj nk b">DELETE </code>请求相对应的读、写和删除操作。</p><p id="a380" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在这个例子中，我们使用了<code class="fe nh ni nj nk b">@ReadOperation</code>注释。</p><p id="d180" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">让我们在<code class="fe nh ni nj nk b">application.yml</code>中启用端点:</p><pre class="kk kl km kn gu nl nk nm nn aw no bi"><span id="5e03" class="np ml iu nk b gz nq nr l ns nt">include: [ "health","prometheus", "metrics", "customEndpoint" ]</span></pre><p id="a67a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">重启应用程序，点击<code class="fe nh ni nj nk b"><a class="ae kz" href="http://localhost:8080/actuator/customEndpoint" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/actuator/customEndpoint</a></code>尝试访问新的端点。</p><p id="cccd" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您看到以下错误，请不要感到惊讶:</p><pre class="kk kl km kn gu nl nk nm nn aw no bi"><span id="7111" class="np ml iu nk b gz nq nr l ns nt">There was an unexpected error (type=Bad Request, status=400).</span></pre><p id="9460" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">原因是我们没有给URL添加查询参数。正确的要求应该是<code class="fe nh ni nj nk b"><a class="ae kz" href="http://localhost:8080/actuator/customEndpoint?id=1" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/actuator/customEndpoint?id=1</a></code>。</p><p id="ea42" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">结果将返回水果<code class="fe nh ni nj nk b">kiwi</code>，因为它对应于我们的<code class="fe nh ni nj nk b">fruitsMap</code>中的数字<code class="fe nh ni nj nk b">1</code>。</p><h2 id="0776" class="np ml iu bd mm nx ny dn mq nz oa dp mu lj ob oc mw ln od oe my lr of og na oh bi translated">保护终端</h2><p id="6e33" class="pw-post-body-paragraph la lb iu lc b ld nc jv lf lg nd jy li lj ne ll lm ln nf lp lq lr ng lt lu lv in bi translated">现在，让我们保护自定义端点。为此，我们只需要将它添加到我们的<code class="fe nh ni nj nk b">SecurityConfiguration.java</code>类中:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nu nv l"/></div></figure><p id="d0d7" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">就是这样！在Spring Boot添加和保护自定义端点非常简单！</p><h1 id="9767" class="mk ml iu bd mm mn mo mp mq mr ms mt mu ka mv kb mw kd mx ke my kg mz kh na nb bi translated">添加普罗米修斯指标</h1><h2 id="4ee1" class="np ml iu bd mm nx ny dn mq nz oa dp mu lj ob oc mw ln od oe my lr of og na oh bi translated">度量类型概述</h2><p id="0dd4" class="pw-post-body-paragraph la lb iu lc b ld nc jv lf lg nd jy li lj ne ll lm ln nf lp lq lr ng lt lu lv in bi translated">首先，让我们看看支持的指标:</p><ul class=""><li id="4dc8" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated"><code class="fe nh ni nj nk b">Counter </code> —用于测量增加的事件。例如，访问某个URL的次数。</li><li id="e535" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated"><code class="fe nh ni nj nk b">Gauges </code> —用于测量可以上下波动的数值。比如内存使用、温度等。</li><li id="2d97" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated"><code class="fe nh ni nj nk b">Histogram </code> —用于测量请求持续时间和响应大小。数据被分类到可配置的桶中。直方图使用<code class="fe nh ni nj nk b"><a class="ae kz" href="https://prometheus.io/docs/prometheus/latest/querying/functions/#histogram_quantile" rel="noopener ugc nofollow" target="_blank">histogram_quantile()</a></code> <a class="ae kz" href="https://prometheus.io/docs/prometheus/latest/querying/functions/#histogram_quantile" rel="noopener ugc nofollow" target="_blank">函数</a>显示分桶观察计数和服务器端分位数的计算。</li><li id="7295" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated"><code class="fe nh ni nj nk b">Summary</code> —用于跟踪以百分位数表示的值分布。它类似于直方图度量。它在客户端使用<a class="ae kz" href="https://en.wikipedia.org/wiki/Quantile_function" rel="noopener ugc nofollow" target="_blank">φ-分位数</a>函数，并直接公开计算。</li></ul><h2 id="926e" class="np ml iu bd mm nx ny dn mq nz oa dp mu lj ob oc mw ln od oe my lr of og na oh bi translated">创建计数器指标</h2><p id="61a5" class="pw-post-body-paragraph la lb iu lc b ld nc jv lf lg nd jy li lj ne ll lm ln nf lp lq lr ng lt lu lv in bi translated">让我们创建一个自定义的<code class="fe nh ni nj nk b">Counter</code>指标，看看有人从我们的应用程序访问一个URL的次数。</p><p id="e971" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了简单起见，我将重用<code class="fe nh ni nj nk b">customEndpoint</code>。代码如下:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nu nv l"/></div></figure><p id="5c3a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">以下是代码概述:</p><ul class=""><li id="a030" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">我们添加了一个<code class="fe nh ni nj nk b">Counter</code>变量。</li><li id="e9b7" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">当有人访问<code class="fe nh ni nj nk b">customEndpoint</code>时，我们递增计数器。</li><li id="1dce" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">我们将度量注册到<code class="fe nh ni nj nk b">MeterRegistry</code>。</li></ul><h1 id="7402" class="mk ml iu bd mm mn mo mp mq mr ms mt mu ka mv kb mw kd mx ke my kg mz kh na nb bi translated">测试并清除计数器度量</h1><ol class=""><li id="7e39" class="lw lx iu lc b ld nc lg nd lj oj ln ok lr ol lv om mc md me bi translated">拜访<code class="fe nh ni nj nk b"><a class="ae kz" href="http://localhost:8080/actuator/customEndpoint?id=1" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/actuator/customEndpoint?id=1</a></code>两次。</li><li id="d835" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv om mc md me bi translated">打开普罗米修斯并搜索新的度量。</li><li id="4d0b" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv om mc md me bi translated">您应该会看到类似的结果:</li></ol><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj on"><img src="../Images/644c061c47cc3435ae519d093ba95761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9hdEUP-9xektICrXp-_sPA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">计数器结果</p></figure><p id="a185" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当然，您也可以在Grafana中可视化新的度量。它应该是这样的:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oo"><img src="../Images/49ba86cb144cd762edcea86a73933337.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JQjWtVsmpFP6sdFfKcTHEQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">在Grafana中查看自定义指标。</p></figure><p id="2300" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><em class="oi">如果你想知道如何连接Grafana和Prometheus，可以查看我的</em> <a class="ae kz" rel="noopener ugc nofollow" target="_blank" href="/how-to-monitor-a-spring-boot-app-with-prometheus-and-grafana-22e2338f97fc"> <em class="oi">之前教程</em> </a> <em class="oi">中的说明。</em></p><p id="6a3a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以使用类似的逻辑来注册其他指标。类型取决于您的用例。查看官方的<a class="ae kz" href="https://prometheus.io/docs/concepts/metric_types/" rel="noopener ugc nofollow" target="_blank">文档</a>以获得更多的例子和用法。</p><h1 id="f727" class="mk ml iu bd mm mn mo mp mq mr ms mt mu ka mv kb mw kd mx ke my kg mz kh na nb bi translated">结论</h1><p id="da38" class="pw-post-body-paragraph la lb iu lc b ld nc jv lf lg nd jy li lj ne ll lm ln nf lp lq lr ng lt lu lv in bi translated">在本教程中，您学习了如何创建自定义Spring Boot执行器端点，并使用Spring Security保护它们。现在，您还知道了如何为Prometheus添加定制指标，并使用PromQL或Grafana查看它们。</p><p id="45c4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以在下面的参考资料部分找到这个演示的完整源代码。</p><p id="06c2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您想探索本教程的第一部分，您可以在这里找到它:</p><div class="op oq gq gs or os"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-monitor-a-spring-boot-app-with-prometheus-and-grafana-22e2338f97fc"><div class="ot ab fp"><div class="ou ab ov cl cj ow"><h2 class="bd iv gz z fq ox fs ft oy fv fx it bi translated">如何使用Prometheus和Grafana监控Spring Boot应用程序</h2><div class="oz l"><h3 class="bd b gz z fq ox fs ft oy fv fx dk translated">如何为Spring Boot应用程序设置监控的分步指南</h3></div><div class="pa l"><p class="bd b dl z fq ox fs ft oy fv fx dk translated">better编程. pub</p></div></div><div class="pb l"><div class="pc l pd pe pf pb pg kt os"/></div></div></a></div><p id="9057" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">感谢您的阅读，祝您编码愉快！</p><h1 id="d5d7" class="mk ml iu bd mm mn mo mp mq mr ms mt mu ka mv kb mw kd mx ke my kg mz kh na nb bi translated">参考</h1><ul class=""><li id="2721" class="lw lx iu lc b ld nc lg nd lj oj ln ok lr ol lv mb mc md me bi translated">本教程的源代码<a class="ae kz" href="https://github.com/kirshiyin89/springboot-monitoring-demo/tree/feature/monitoring-with-custom-endpoints-and-security" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a></li><li id="bcb3" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">之前教程的<a class="ae kz" href="https://github.com/kirshiyin89/springboot-monitoring-demo" rel="noopener ugc nofollow" target="_blank"> GitHub回购</a></li><li id="5eac" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">【https://prometheus.io/docs/practices/histograms/ T4】</li></ul></div></div>    
</body>
</html>