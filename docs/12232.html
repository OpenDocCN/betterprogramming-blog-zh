<html>
<head>
<title>Design a Beautiful Loading Screen for Your iOS App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为你的iOS应用程序设计一个漂亮的加载屏幕</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/design-a-beautiful-loading-screen-for-your-ios-app-3a8c144d107?source=collection_archive---------11-----------------------#2022-05-20">https://betterprogramming.pub/design-a-beautiful-loading-screen-for-your-ios-app-3a8c144d107?source=collection_archive---------11-----------------------#2022-05-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="426f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为您的iOS应用程序创建美观的Dribbble式用户界面</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2c7d0b9731b0b26e3a5bfc9da9c0ecef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3yRta_ADuAGhpgdB8WX1zQ.gif"/></div></div></figure><p id="b311" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们都经历过。创建我们的应用程序，试图让它工作，并意识到我们留下了设计。但是谁会喜欢一个长相一般的完美app呢？不是我！可能你也不会，因为你还在读书。</p><p id="220d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你正在寻找一个简单但漂亮的加载屏幕来点亮你的iOS应用程序的用户界面，你来对地方了！</p><p id="c9b9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请继续阅读，在您的项目中实现这个简单的动画！</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="f23b" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">步骤1:创建对象</h1><p id="05f9" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">由于我们将使用系统的<code class="fe mu mv mw mx b">circle.hexagongrid</code>和<code class="fe mu mv mw mx b">circle.hexagongrid.fill</code>图像来制作圆圈，我们需要设置的唯一对象是背景中的模糊屏幕和将出现在圆圈下的带有文本的标签。</p><p id="f919" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于模糊的视图，我们将使用<code class="fe mu mv mw mx b">UIVisualEffectView</code>和<code class="fe mu mv mw mx b">UIBlurEffect(style: .extraLight)</code>，尽管你可以选择任何其他不同的可用样式(只需删除<code class="fe mu mv mw mx b">.extraLight</code>并键入一个圆点)看看你所有的选择，并尝试一下，直到你找到最适合你的！)</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="6e8b" class="nc ly it mx b gy nd ne l nf ng">// blur view behind loading scren<br/>lazy var blurry: UIVisualEffectView = {<br/>   let blurEffect = UIBlurEffect(style: .extraLight)<br/>   let blurEffectView = UIVisualEffectView(effect: blurEffect)<br/>   blurEffectView.alpha = 0<br/>   blurEffectView.frame = self.view.bounds<br/>   blurEffectView.autoresizingMask = [.flexibleWidth, .flexibleHeight]<br/>   return blurEffectView<br/>}()</span></pre><p id="2ef4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于我们的标签，创建一个变量<code class="fe mu mv mw mx b">loadingLabel</code>并设置它的默认文本、字体、大小、位置和阴影(如果您认为合适的话):</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="4c3c" class="nc ly it mx b gy nd ne l nf ng">// loading screen<br/>var loadingLabel: UILabel = {<br/>   let l = UILabel()<br/>   // text<br/>   l.font = UIFont.systemFont(ofSize: 18, weight: .bold)<br/>   l.textColor = .label<br/>   l.numberOfLines = 0<br/>   l.textAlignment = .center<br/>   l.text = "loading..."<br/>   // position<br/>   l.frame = CGRect(x: 20, y: 250, width: UIScreen.main.bounds.width-40, height: 100)<br/>   // shadow<br/>   l.layer.shadowRadius = 5<br/>   l.layer.shadowColor = UIColor.black.cgColor<br/>   l.layer.shadowOffset = CGSize.zero<br/>   l.layer.shadowOpacity = 0.5<br/>   return l<br/>}()</span></pre><p id="e328" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，为您的<code class="fe mu mv mw mx b">loadingLabel</code>创建一个字符串数组:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="1c58" class="nc ly it mx b gy nd ne l nf ng">// strings to show on loading<br/>var randomStrings = [<br/>   "Picking flowers from Eden Garden...",<br/>   "Making flower crowns for nymphs...",<br/>   "Spreading petals along the lake...",<br/>   "Smelling cherry blossoms off a tree...",<br/>   "Blowing poplar fluff in the wind...",<br/>   "Painting orchids baby blue...",<br/>   "Watching the lotus floating in the pond...",<br/>   "Clipping daisies in my hair...",<br/>   "Caressing young doves...",<br/>   "Singing spring songs with the nightingale...",<br/>   "Catching the treasure at the end of the rainbow...",<br/>   "Napping on a cloud...",<br/>   "Sipping tea with a wood fairy..."<br/>]</span></pre><p id="1430" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">不错！现在，是时候设置一些东西了！</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="8346" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">第二步:设置基础</h1><p id="1f0b" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">首先，你需要模糊视图。为此，您需要创建一个函数:</p><ul class=""><li id="8593" class="nh ni it kw b kx ky la lb ld nj lh nk ll nl lp nm nn no np bi translated">检查用户设置是否允许模糊视图</li><li id="c05c" class="nh ni it kw b kx nq la nr ld ns lh nt ll nu lp nm nn no np bi translated">添加模糊视图，并将其置于目前为止视图控制器中所有其他视图的前面。</li></ul><p id="ee08" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个例子:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="bfe5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可以考虑用另一个常规视图来替代模糊视图，以防<code class="fe mu mv mw mx b">isReduceTransparencyEnabled</code>返回<code class="fe mu mv mw mx b">true</code>。</p><p id="1b6b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们将创建一个函数:</p><ul class=""><li id="050d" class="nh ni it kw b kx ky la lb ld nj lh nk ll nl lp nm nn no np bi translated">通过使用<code class="fe mu mv mw mx b">Int.random(in:)</code>作为我们的索引，从<code class="fe mu mv mw mx b">randomStrings</code>数组中随机选取一个句子，并且</li><li id="8f6f" class="nh ni it kw b kx nq la nr ld ns lh nt ll nu lp nm nn no np bi translated">设置一个6秒的定时器，在它重复自己和改变句子之前。</li></ul><p id="eb25" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">代码如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="3673" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">酷！现在剩下的就是我们的加载屏幕动画功能了。</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="7810" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">步骤3:加载屏幕动画</h1><p id="6d20" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated">这是所有奇迹发生的地方。这将是一个相当长的功能，但我们将一点一点地进行。</p><p id="25df" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，创建您的函数:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="10c5" class="nc ly it mx b gy nd ne l nf ng">func loadingScreen(animating: Bool) {</span><span id="40b8" class="nc ly it mx b gy nx ne l nf ng">}</span></pre><p id="4880" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">正如你所看到的，我们正在定义一个名为<code class="fe mu mv mw mx b">animating</code>的布尔值，它将允许我们决定动画是否应该开始，或者是否已经在进行而应该停止。</p><p id="c22c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将添加到这个函数中的第一个语句是一个<code class="fe mu mv mw mx b">if...else</code>语句，在这里我们可以定义<code class="fe mu mv mw mx b">animating</code>是否等于<code class="fe mu mv mw mx b">true</code>:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="e9cd" class="nc ly it mx b gy nd ne l nf ng">func loadingScreen(animating: Bool) {</span><span id="ee48" class="nc ly it mx b gy nx ne l nf ng"><strong class="mx iu">   if </strong><strong class="mx iu">animating == true</strong><strong class="mx iu"> {</strong></span><span id="8dff" class="nc ly it mx b gy nx ne l nf ng"><strong class="mx iu">   } else {</strong></span><span id="a893" class="nc ly it mx b gy nx ne l nf ng"><strong class="mx iu">   }</strong></span><span id="cd06" class="nc ly it mx b gy nx ne l nf ng">}</span></pre><p id="764e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">…标签</strong></p><p id="5bf9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">先说<code class="fe mu mv mw mx b">animating == true</code>条件。让我们将我们的<code class="fe mu mv mw mx b">loadingLabel</code>添加到视图中，并调用我们的函数<code class="fe mu mv mw mx b">labelText()</code>来设置它的文本。</p><p id="87bf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可能会尝试使用简单的<code class="fe mu mv mw mx b">view.addSubview()</code>类型的代码将标签添加到视图中；然而，当我们用<code class="fe mu mv mw mx b">loadingLabel.removeFromSuperview()</code>移除它时，将标签重新放回视图中会变得更加困难。</p><p id="7e0e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最简单的解决方法是使用<code class="fe mu mv mw mx b">loadingLabel.isHidden = true</code>来代替。但是这意味着每次我们用<code class="fe mu mv mw mx b">view.addSubview(loadingLabel)</code>调用<code class="fe mu mv mw mx b">loadingScreen(animating: true)</code>时，一个新的标签被添加到视图中。恶！想象一下，在一个会话中可以添加多少个…这不是最好的工作方式，不是。</p><p id="3b6e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们要做的是检查视图是否包含我们的<code class="fe mu mv mw mx b">loadingLabel</code>。如果有，我们就简单的用<code class="fe mu mv mw mx b">loadingLabel.isHidden = false</code>取消隐藏；否则，我们将把它添加到视图中。</p><p id="85d2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">只需一行代码，加上函数<code class="fe mu mv mw mx b">labelText()</code>，就可以做到这一点:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="1c12" class="nc ly it mx b gy nd ne l nf ng">// add the label<br/>self.view.contains(self.loadingLabel) ? self.loadingLabel.isHidden = false :  self.view.addSubview(self.loadingLabel)<br/>self.labelText()</span></pre><p id="06ef" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">太棒了。此时，如果您测试您的应用程序并运行<code class="fe mu mv mw mx b">loadingScreen(animating: true)</code>，您应该会看到标签显示在屏幕上，每六秒钟显示一次不同的文本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/7c684caeec065aebd51b0bdcc7803a6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sV6UIJhay7tluc4_FozGFA.gif"/></div></div><p class="nz oa gj gh gi ob oc bd b be z dk translated">我保证在本教程结束时它会看起来更好。</p></figure><p id="6c91" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还没那么可爱。但是我们就要到了！</p><p id="05c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">…圆圈</strong></p><p id="5029" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如上所述，我们将使用系统图像<code class="fe mu mv mw mx b">circle.hexagongrid</code>和<code class="fe mu mv mw mx b">circle.hexagongrid.fill</code>来创建圆圈。为我们的图像创建两个名为img1和img2的对象:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="e332" class="nc ly it mx b gy nd ne l nf ng">// use system circle hexagon grid images as circles<br/>let img1 = UIImage(systemName: "circle.hexagongrid")<br/>let img2 = UIImage(systemName: "circle.hexagongrid.fill")</span></pre><p id="4b0f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为每个图像添加一个<code class="fe mu mv mw mx b">UIImageView</code>,并为其分配img1和img2:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="4453" class="nc ly it mx b gy nd ne l nf ng">// add the circles<br/>let iv1 = UIImageView(image: img1)<br/>let iv2 = UIImageView(image: img2)</span></pre><p id="4aeb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">由于视图将一次显示一个圆，将<code class="fe mu mv mw mx b">UIImageView</code>的alpha设置为零是有意义的:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="dc6c" class="nc ly it mx b gy nd ne l nf ng">iv1.alpha = 0</span></pre><p id="2b77" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">创建一个名为<code class="fe mu mv mw mx b">i</code>的变量，并将其设置为值为100的<code class="fe mu mv mw mx b">Int</code>。这将是视图标记，我们将使用它来访问视图，并在加载动画需要停止时删除它。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="4a33" class="nc ly it mx b gy nd ne l nf ng">var i = 100</span></pre><p id="5a29" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">创建一个图像视图阵列，以便您可以一次设置相同的大小和位置。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="8df2" class="nc ly it mx b gy nd ne l nf ng">let images = [iv1, iv2]</span></pre><p id="1fcc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">…格式</strong></p><p id="558c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们使用该数组并创建一个<code class="fe mu mv mw mx b">for...in</code>语句来同时设置两个图像视图属性:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="fe01" class="nc ly it mx b gy nd ne l nf ng">for image in images {</span><span id="fd9c" class="nc ly it mx b gy nx ne l nf ng">}</span></pre><p id="fce2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在该语句中，我们将设置每个图像视图的标签。如上所述，这在以后删除视图时会很有用，因为它被声明为嵌套在函数内部，而不是类内部。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="3a6f" class="nc ly it mx b gy nd ne l nf ng">// give a tag to the image view so you can find it and remove it later<br/>i += 1<br/>image.tag = i</span></pre><p id="51b1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在将圆的位置和大小设置为相同，这样它们看起来就像融合在一起了:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="9759" class="nc ly it mx b gy nd ne l nf ng">// set the circles position<br/>let hw: CGFloat = 100<br/>image.frame = CGRect(x: UIScreen.main.bounds.width/2 - hw/2, y: 100, width: hw, height: hw)<br/>image.contentMode = .scaleAspectFill</span></pre><p id="c558" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">设置图像的颜色。我使用了新的iOS 15颜色，但我也为使用早期版本的设备设置了备用颜色。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="c32f" class="nc ly it mx b gy nd ne l nf ng">// set the circles colors<br/>if #available(iOS 15.0, *) {<br/>   image.tintColor = (image.image == img1 ? .systemMint : .systemPink)<br/>} else {<br/>   image.tintColor = (image.image == img1 ? .systemGreen : .systemRed)<br/>}</span></pre><p id="82f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，将图像视图添加到视图中:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="c762" class="nc ly it mx b gy nd ne l nf ng">// add to the view<br/>self.view.addSubview(image)</span></pre><p id="2aa5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，添加旋转动画，使用linear和repeat使视图在循环中始终以相同的速度旋转:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="c6c4" class="nc ly it mx b gy nd ne l nf ng">// rotation animatio<br/>UIView.animate(withDuration: 2, delay: 0, options: [.repeat, .curveLinear]) {<br/>   image.transform = CGAffineTransform(rotationAngle: CGFloat(Double.pi))<br/>}</span></pre><p id="c52c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">…模糊视图</strong></p><p id="883b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用我们上面定义的函数模糊视图:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="18f6" class="nc ly it mx b gy nd ne l nf ng">// add blur view<br/>self.blurView { success in</span><span id="4d22" class="nc ly it mx b gy nx ne l nf ng">}</span></pre><p id="639b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">添加模糊视图后，添加所有其他视图:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="6016" class="nc ly it mx b gy nd ne l nf ng">// bring the circles in front of the blurred view<br/>self.view.bringSubviewToFront(iv1)<br/>self.view.bringSubviewToFront(iv2)<br/>self.view.bringSubviewToFront(self.loadingLabel)</span></pre><p id="68c2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为每个圆单独启动一个渐隐动画，将第二个圆的延迟设置为与第一个圆的动画相同的持续时间，如下所示:</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="12a8" class="nc ly it mx b gy nd ne l nf ng">// switch views<br/>UIView.animate(withDuration: 1, delay: 0, options: [.repeat, .autoreverse]) {<br/>   iv2.alpha = 0<br/>   iv1.alpha = 1<br/>}</span><span id="756d" class="nc ly it mx b gy nx ne l nf ng">UIView.animate(withDuration: 1, delay: 1, options: [.repeat, .autoreverse]) {<br/>   iv1.alpha = 0<br/>   iv2.alpha = 1<br/>}</span></pre><p id="3bcd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如您所见，两个圆圈持续时间相同，第二个圆圈的延迟设置为1秒。这意味着一旦第一个圆圈开始褪色，圆圈将开始出现，因为我们将动画设置为重复和自动反转，圆圈将保持褪色和间歇性地重新出现。</p><p id="08f4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">…结束加载屏幕</strong></p><p id="880b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好了，娱乐结束了，该回到现实了。我们如何用所有这些视图和动画结束这个加载屏幕？</p><p id="bc17" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">轻松点。创建一个包含所有视图的数组并删除它们。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="f59a" class="nc ly it mx b gy nd ne l nf ng"><br/>   // find image views by tag<br/>   <strong class="mx iu">let</strong> views = [<strong class="mx iu">self</strong>.view.viewWithTag(101), <strong class="mx iu">self</strong>.view.viewWithTag(102), <strong class="mx iu">self</strong>.blurry]</span><span id="77c6" class="nc ly it mx b gy nx ne l nf ng">   <strong class="mx iu">for</strong> view <strong class="mx iu">in</strong> views {<br/>      view?.alpha = 0<br/>      view?.removeFromSuperview()<br/>   }<br/></span></pre><p id="00d3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当然标签除外；正如我们上面所说的，标签将会随着isHidden从屏幕上移除。</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="e3a4" class="nc ly it mx b gy nd ne l nf ng">// hide loading label<br/>self.loadingLabel.isHidden = true</span></pre></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><p id="89db" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">嗒哒！你完了！您的函数现在应该如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nv nw l"/></div><p class="nz oa gj gh gi ob oc bd b be z dk translated">哇，这是一个很长的代码。太棒了。</p></figure><p id="e7f9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">运行您的代码，您应该得到类似如下的内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/aa777005f6625e2289d30e54c1849a54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*SZKszOqVIdAtpFJhtF1vPA.gif"/></div></div><p class="nz oa gj gh gi ob oc bd b be z dk translated">简单但很好，不是吗？</p></figure><p id="d13e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以在<a class="ae oe" href="https://github.com/Margels/Eden-Garden" rel="noopener ugc nofollow" target="_blank"> my GitHub </a>上找到完整的项目！</p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><p id="e031" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你喜欢这个教程吗？它和你的项目合作得好吗？让我知道你的反馈！</p><pre class="kj kk kl km gt my mx mz na aw nb bi"><span id="fcdb" class="nc ly it mx b gy nd ne l nf ng"><strong class="mx iu">Want to Connect?</strong></span><span id="80ed" class="nc ly it mx b gy nx ne l nf ng">Follow me on…<br/>❤️ <a class="ae oe" href="https://www.youtube.com/channel/UC5hqYiHxie458KSO1PAnA8Q" rel="noopener ugc nofollow" target="_blank">YouTube</a><br/>💖 <a class="ae oe" href="https://dribbble.com/margelss" rel="noopener ugc nofollow" target="_blank">Dribbble</a><br/>💜 <a class="ae oe" href="https://www.instagram.com/itsmargels/" rel="noopener ugc nofollow" target="_blank">Instagram</a><br/>💙 <a class="ae oe" href="https://ko-fi.com/margelss" rel="noopener ugc nofollow" target="_blank">Ko-Fi</a><br/>🖤 <a class="ae oe" href="https://github.com/Margels" rel="noopener ugc nofollow" target="_blank">GitHub</a></span></pre></div></div>    
</body>
</html>