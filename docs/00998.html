<html>
<head>
<title>How To Build a Bot That Sends Dog Images</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何建立一个发送狗图像的机器人</h1>
<blockquote>原文：<a href="https://betterprogramming.pub/learn-how-to-create-your-own-texting-bot-that-sends-dog-pictures-532e32c611b3?source=collection_archive---------6-----------------------#2019-08-05">https://betterprogramming.pub/learn-how-to-create-your-own-texting-bot-that-sends-dog-pictures-532e32c611b3?source=collection_archive---------6-----------------------#2019-08-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="36b1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">循序渐进的指南</h2></div><p id="14b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们开始这篇文章之前，我想给任何进入技术/编程世界的人发一条信息:</p><p id="0a9d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我第一次开始学习如何编程时，感觉好像我陷入了学习基础知识的窠臼，从来不知道我可以用我慢慢理解的工具包应用什么。在我看来，不知道如何将编程知识应用到日常活动中，是一个很难克服的障碍。这让我的几个朋友远离了编程。</p><p id="137e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">每当我学习一项新技术，在熟悉了语法之后，我总会问自己一个问题，“我能用它构建什么？”不管你的技术水平如何，我强烈建议你也这样做。作为开发人员，我们通过解决难题来成长。我们最终建造了一些非常酷的东西！</em></p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="0239" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在学习一门新语言时着手的一个项目是创建一个生成狗图片的API！我想带你了解一下<em class="le">如何使用一些非常酷的技术创建一个可以根据命令给你发送狗狗照片的短信机器人</em>。我们开始吧！</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/08fd6948d7c5c105415d795ab88db869.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*KzbvFo8Dw8b_aaIVySEpuQ.jpeg"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated"><a class="ae ly" href="https://www.instagram.com/bearorcorgi/" rel="noopener ugc nofollow" target="_blank">我最喜欢的柯基Instagram上的@ beaorcorgi</a></p></figure></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="d235" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">首要任务—先决条件和工作流程:</h1><p id="77a9" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">在本教程中，我们将使用<a class="ae ly" href="https://www.twilio.com" rel="noopener ugc nofollow" target="_blank"> Twilio </a>。你需要在Twilio账户上注册一个电话号码。如果您还没有注册电话号码，请阅读<a class="ae ly" href="https://www.twilio.com/docs/usage/tutorials/how-to-use-your-free-trial-account#get-your-first-twilio-phone-number" rel="noopener ugc nofollow" target="_blank">本教程</a>，了解如何使用Twilio试用版获得您自己的电话号码，并在注册电话号码后返回。</p><p id="8e56" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Twilio为我们提供了一个非常简洁的无服务器功能特性。无服务器功能允许开发者将他们的代码部署到云中。第三方服务，在我们的例子中是Twilio，将为我们托管代码。这太棒了，因为它消除了外部服务器托管代码的麻烦！</p><p id="cc7c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了给我们生成狗狗图片，我们将使用<a class="ae ly" href="https://woofbot.io/" rel="noopener ugc nofollow" target="_blank">woofbot . io</a>——一个免费的API服务，为你生成狗狗图片。您可以在这里查看这个API的<a class="ae ly" href="https://github.com/joey-colon/woofbot-api-docs" rel="noopener ugc nofollow" target="_blank">文档</a>，但是这对于本教程的范围来说是不必要的。</p><p id="3b60" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当处理任何返回JSON的API时，我相信chrome的一个扩展是JSON格式化程序。你可以以后再谢我！</p><p id="0bfa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个程序中，我们的流程将如下所示:</p><ol class=""><li id="52f3" class="mw mx it kk b kl km ko kp kr my kv mz kz na ld nb nc nd ne bi translated">我们的Twilio电话号码收到一条短信，要求提供某一特定品种的狗的图片。</li><li id="43f7" class="mw mx it kk b kl nf ko ng kr nh kv ni kz nj ld nb nc nd ne bi translated">我们联系woofbot API说，<em class="le">“嘿woofbot，我需要这个品种的照片！”</em></li><li id="98dc" class="mw mx it kk b kl nf ko ng kr nh kv ni kz nj ld nb nc nd ne bi translated">我们验证API响应并解析出提供给我们的图像URL。</li><li id="7782" class="mw mx it kk b kl nf ko ng kr nh kv ni kz nj ld nb nc nd ne bi translated">然后，我们将图像URL发送到给Twilio发短信的电话号码。</li></ol><p id="c2b5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">乍一看，这个流程似乎有点让人不知所措，但是我们一次只关注一小部分。在你知道之前，我们已经完成了整个流程。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/0d8ca5abe2f028640dd98b6d4a07ac38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*tKM7HOZ4JUoMZMRLP3XbzA.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">一只柯基犬肯定对建造他的短信机器人感到兴奋！</p></figure></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="0137" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">设置Twilio无服务器功能</h1><p id="b5b6" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">走向你的<a class="ae ly" href="https://www.twilio.com/console" rel="noopener ugc nofollow" target="_blank"> Twilio仪表盘</a>。在左侧栏中，单击<em class="le">所有产品&amp;服务图标</em>:</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/8fff0d14541dda06f3d5cc5f223a9cb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*XQp1ohGvJ_wtqwO8tkE7ZA.png"/></div></figure><p id="f296" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在展开的侧边栏中，向下滚动到<em class="le">运行时</em>部分，并点击<em class="le">功能</em>项。你应该在这个页面上:</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nm"><img src="../Images/342d6f262939b7b8b3ba041459fab7d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vipFXTb7ghNNW4PmTAaVkQ.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">Twilio运行时函数页面</p></figure><p id="3cd2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">点击<em class="le">加</em>图标。Twilio非常友好地为我们提供了一套样板模板。继续选择<em class="le"> Hello SMS </em>模板并点击<em class="le"> Create </em>按钮:</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nr"><img src="../Images/cb58e1c45f10154351f345d759c6c62b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAAPbKSxJ-KduziFtBdJSw.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">创建新的Twilio运行时函数</p></figure><p id="e84c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们现在已经用SMS模板创建了一个运行时函数。如果你愿意，你可以继续修改<em class="le">函数名</em>字段，使其更能反映这个项目。我会把我的更新为<em class="le">狗机器人</em>。</p><p id="5601" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们上面描述的流程中，听起来整个流程都是在收到文本消息时启动的。在<em class="le">配置</em>下，点击<em class="le">事件</em>下拉菜单，选择<em class="le">接收消息</em>，点击<em class="le">保存</em>按钮。对于路径，你可以随心所欲——我将使用<em class="le"> woofbot </em>。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi ns"><img src="../Images/4c4b66bfb40925b193695585f8f7e98e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gCruB-ndra6-WfUEyxEH3g.png"/></div></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">狗机器人初始配置</p></figure><p id="e091" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们的函数流表示:<em class="le">“在收到消息的情况下，运行这段代码来回复说Hello World的人。”</em></p><p id="a38f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">保存后，我们可以发送Twilio电话号码来验证这一点:</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nt"><img src="../Images/dbe11e2d0b5a01904e765b552016aaf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SQ5IYvynjvWG8H-g.JPG"/></div></div></figure><p id="6bf8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">太好了！让我们继续在消息中发送一张狗的照片。在第三行，我们可以用<code class="fe nu nv nw nx b">twiml.message().media(“https://direct_link_to_image.com/image.png”);</code>替换<code class="fe nu nv nw nx b">twiml.message("Hello World")</code>。这将附加一个媒体对象，该对象带有提供给我们的<code class="fe nu nv nw nx b">twiml.message()</code>对象的链接。</p><p id="7d53" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以通过调用woofbot API来测试这一点。首先，我们需要通过访问<a class="ae ly" href="https://api.woofbot.io/v1/breeds/" rel="noopener ugc nofollow" target="_blank">这个URL </a>来弄清楚API支持什么品种:</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/eeb1c59d70091bfe582b16b3ce097779.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*K191oYWp5fKbUmcYzdx9BA.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">品种列表woofbot API端点</p></figure><p id="df24" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">基于这个列表，我们可以生成一个API调用，通过以下格式获取这些品种的图片:<code class="fe nu nv nw nx b"><a class="ae ly" href="https://api.woofbot.io/v1/breeds/corgi/image" rel="noopener ugc nofollow" target="_blank">https://api.woofbot.io/v1/breeds/{breed}/image</a></code>其中<code class="fe nu nv nw nx b">{breed}</code>是您感兴趣的品种。</p><p id="8567" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我想要一张柯基犬的照片，所以我要去参观<code class="fe nu nv nw nx b"><a class="ae ly" href="https://api.woofbot.io/v1/breeds/corgi/image" rel="noopener ugc nofollow" target="_blank">https://api.woofbot.io/v1/breeds/corgi/image</a></code>。访问之后，我们将有一个<code class="fe nu nv nw nx b">url</code>字段，它包含到一个corgi映像的直接链接:</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/2801f7f698479dda97c5ef62c83718f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*xlqLVrk8LVIUD_Sm8m6NVg.png"/></div><p class="lu lv gj gh gi lw lx bd b be z dk translated">woofbot.io生成Corgi图像端点</p></figure><p id="7635" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">复制图片的URL，我们可以将其粘贴到我们的无服务器功能代码中:</p><figure class="ln lo lp lq gt lr"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="549c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">保存更改后，我们现在应该可以发送Twilio电话号码并接收一张狗狗照片了。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nt"><img src="../Images/e38cc06f3e9829d5c599c509782a2e76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TS_YIFCDi7FE1Bsq.JPG"/></div></div></figure><p id="cd86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">万岁！我们制作了一个程序，可以根据要求发送狗的图片！我们当前的解决方案是<em class="le">好的</em>，但是我们怎样才能使这个程序更加动态，正如我们最初的流程所陈述的那样？让我们来看看。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="de3c" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">创建动态无服务器功能</h1><p id="cc44" class="pw-post-body-paragraph ki kj it kk b kl mr ju kn ko ms jx kq kr mt kt ku kv mu kx ky kz mv lb lc ld im bi translated">描述一下我们在寻找一张狗图片时手动做了什么:</p><ol class=""><li id="39b5" class="mw mx it kk b kl km ko kp kr my kv mz kz na ld nb nc nd ne bi translated">我们访问了woofbot品种列表，并选择了一个品种。</li><li id="c7b5" class="mw mx it kk b kl nf ko ng kr nh kv ni kz nj ld nb nc nd ne bi translated">然后我们访问了特定品种的生成图像API URL，并复制了<code class="fe nu nv nw nx b">url</code>字段给我们的直接图像链接。</li></ol><p id="d1f3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们如何将这个流程转移到我们的程序中？通过使用HTTP客户端库。用普通语言来说，HTTP客户端库翻译成应用程序中使用的web浏览器。对于本教程，我们将利用Axios库。</p><p id="56a9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们安装这个库，以便我们的函数可以使用它。</p><p id="9d73" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<em class="le">功能</em>下，前往左侧栏的<em class="le">配置</em>区域:</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/b00139def0a6677c0de4400e4d892625.png" data-original-src="https://miro.medium.com/v2/resize:fit:302/format:webp/1*YC_m_q_lyEuSkzsssXWoRQ.png"/></div></figure><p id="c5e5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<em class="le">依赖关系</em>下，点击加号图标，输入<code class="fe nu nv nw nx b">axios</code>作为名称，输入<code class="fe nu nv nw nx b">0.19.0</code>作为版本。点击<em class="le">保存</em>按钮，返回运行时函数的<em class="le">管理</em>部分。</p><p id="da55" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要将Axios导入到函数中，请在我们的程序顶部添加以下代码行:</p><p id="7a44" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nu nv nw nx b">const axios = require(‘axios’);</code></p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi od"><img src="../Images/93e8c2a3310f18823ff58eb889cb9535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*myMSNbrxwTwg611b181fGw.png"/></div></div></figure><p id="0705" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想了解Axios提供的方法，可以看看<a class="ae ly" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank">文档</a>，里面有很好的例子。从这里开始，让我们在第四行的正下方创建一个到我们想要的品种的端点的GET请求。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi oe"><img src="../Images/58d7f7c09fab4e0ad1f2217647e0961b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*shjNRN_ESbAtlXUEI-i4RA.png"/></div></div></figure><p id="e2d2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个调用返回一个承诺。如果您不熟悉承诺，那也没关系——下面是处理返回承诺的代码的基本思想:</p><figure class="ln lo lp lq gt lr"><div class="bz fp l di"><div class="oa ob l"/></div></figure><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi of"><img src="../Images/139f01e6f41ebd56a7cc4c00a08111b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XjWUAdUMUGgzuHpr66-H3w.png"/></div></div></figure><p id="073c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的HTTP响应的内容是<em class="le">总是</em>存储在<code class="fe nu nv nw nx b">response.data</code>中。直接图像URL将特别位于<code class="fe nu nv nw nx b">response.data.response.url</code>——如果我们查看JSON:</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi og"><img src="../Images/a06fc8522febff46ed3ee8a51fe3052e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xwQ1joNn10NPx2MUPyXhRw.png"/></div></div></figure><p id="12bd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有了这些知识，我们可以在每次联系API后，在程序中移动几行来动态地获取一个新的URL。我们还应该通过使用收到的错误调用回调函数来说明错误:</p><figure class="ln lo lp lq gt lr"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="89d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">拯救之后，真相大白的时刻来了！我们应该能够发送两次Twilio电话号码的短信，并收到两张不同的狗狗图片！</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nt"><img src="../Images/490b84e27f0572fcbf65402f2a096190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nR8gg19cYqWkF31g.JPG"/></div></div></figure><p id="63b2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们已经完成了一些重要的工作！然而，有一个重要的改进我们可以添加:支持多品种！</p><p id="11e8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的无服务器函数中，我们传递了一个<code class="fe nu nv nw nx b">event</code>变量，该变量包含当前事件的所有相关信息，比如发送者的电话号码和文本消息的正文。为了检索文本消息的字符串，我们通过<code class="fe nu nv nw nx b">event.Body</code>访问它。</p><p id="4612" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们创建一个变量，使我们的API调用依赖于用户输入:</p><figure class="ln lo lp lq gt lr"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="3447" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您已经通过接受用户输入设置了获取动态狗图片。</p><p id="cdcb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">干得好！</p></div></div>    
</body>
</html>