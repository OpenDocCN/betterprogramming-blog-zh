# 类型脚本中的函数

> 原文：<https://betterprogramming.pub/functions-in-typescript-d17701fc6124>

## 构建可扩展的强大功能

![](img/8361dc1091455f30240b3021e3aafd97.png)

[https://unsplash.com/photos/wpU4veNGnHg](https://unsplash.com/photos/wpU4veNGnHg)

[](https://dleroari.medium.com/membership) [## 通过我的推荐链接加入媒体

### 作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…

dleroari.medium.com](https://dleroari.medium.com/membership) 

这篇文章的目的是展示 TypeScript 为编写可维护和可重用的函数提供了哪些特性。

> “在开发 JavaScript 应用程序时，TypeScript 使 JavaScript 开发人员能够使用高生产率的开发工具和实践，如静态检查和代码重构。”[来源](https://www.typescriptlang.org/)。

函数是应用程序的基本构件。函数是执行某种行为的动作，比如让用户登录、显示项目列表、从服务器请求数据等等。这些行动共同组成一个系统来解决各种任务。

在数学中，函数被描述为当给定输入时产生输出的对象。在编程中，我们有两种类型的函数。返回值的函数，或者不返回值的函数。例如，如果您需要两个数之和这样的结果，我们需要返回总值。如果您需要将消息打印到控制台，则返回类型不是必需的。

如果您正在寻找代码示例，请转到第 4 节。

# 这是我们要解决的问题

1.  为什么打字稿？
2.  TypeScript 不会取代 JavaScript
3.  我们真的需要类型吗？
4.  类型化参数(示例)
5.  可选参数(示例)
6.  过载参数(示例)
7.  学习 TypeScript 的好处

# 1.为什么打字稿？

你可能会问:“为什么我们需要类型？”

假设我们给某人发送了一封没有主题的电子邮件。现在，为了理解邮件，收件人必须打开它并阅读文本。这增加了不必要的时间和开销，如果发送者事先定义了主题，这是很容易避免的。

然而，对于一封邮件来说，这不是问题，但是对于成千上万封邮件，人们可以开始计算收件人阅读内容所花费的时间和资源。

同样的概念也适用于学习代码的开发人员，想象一下有许多没有类型的类、函数、对象、方法、变量等等。没有描述数据的标签。理解它的唯一方法是:开发人员必须联系作者，打开源代码，或者执行测试。这不是有效编程的直观方法。

TypeScript 有助于防止这种类型的情况，开发人员不必猜测或预测对象具有什么属性。

区分 TypeScript 和 Javascript 的核心区别是类型，这里有一个简单的例子说明如果我们将一个文本赋给一个数字会发生什么:

JavaScript 与 TypeScript

# 2.TypeScript 不会取代 JavaScript

认识到 TypeScript 是 JavaScript 的超集是很重要的。它并没有取代 JavaScript，而是通过启用可选类型(类型注释)和更多特性来扩展它，以帮助开发人员创建干净、可读和可维护的可伸缩函数。

JavaScript 是一种动态语言，其中类型由浏览器引擎(运行时)定义，而在 TypeScript 中，开发人员可以在编写代码时灵活地定义类型。这意味着编译器可以在大多数 bug 进入生产之前检测到它们。

例如，如果开发人员编写了`const name = 'Bob Marley'`，JS 引擎(解析器)通过读取数据来确定类型，在这种情况下，值`Bob Marley`是一种类型的`string`。然而，即使定义了类型，仍然可以将一个数字、对象或函数赋给`name`变量，而不会收到任何类型错误。许多人认为这是奇怪的行为，而其他人则认为这符合 JavaScript 的动态特性。

# 3.我们真的需要类型吗？

在小型或大型应用程序中使用现有函数时，问题通常是:“这个函数接受什么参数或者它返回什么？”

TypeScript 通过以直观的方式定义参数(输入)和返回语句(输出)的类型来解决这类问题。抛开误解和混乱，开发人员可以很快决定如何交互或重用一个功能。

> 注意:TypeScript 的目标不是限制开发者写更少的 JavaScript 代码，而是提高对东西的理解。

下面，我们有两个代码示例。第一个示例展示了一个不带类型的函数(在 JavaScript 中很典型)，第二个示例展示了带类型的函数(在 TypeScript 中很典型):

## 第一个例子(JavaScript)

JavaScript 示例

如上例所示，该函数接受两个参数并返回结果，即`10hello`。

现在，如果我们运行代码，我们不会得到任何错误，因为代码做了它想要做的事情——添加两个值，而不管类型如何。

在 JavaScript 中，`+`符号的意思是 concatenate，当我们想要用像`'Hi' + firstName`这样的值组成文本时，通常会用到这个符号。我们不希望这种行为分散在我们的应用程序中。

> 注意:缺少类型使得开发人员很难高效地工作，太多的开销使得开发人员必须手动查看源代码和文档来理解在 TypeScript 中可能需要几秒钟的事情。

## 第二个示例(TypeScript)

TypeScript 示例

现在，如果你像我们之前做的那样传递一个数字和一个字符串，它会抛出一个类型错误，因为它只接受类型`number`的参数。这是好消息！这意味着我们有能力减少错误，并有一个明确的安全应用程序。

> 注意:我们的目标并不是让所有东西都类型化，我们仍然希望使用 JavaScript 的动态特性，但是我们需要确保其他开发人员正确地使用函数或类。

# 4.类型化参数

在 TypeScript 中，传递给函数的参数数量必须等于函数期望的参数数量。而在 JavaScript 中，函数可以接受尽可能多的参数:

TypeScript 中的类型参数

# 5.可选参数

默认情况下，TypeScript 中的函数参数不像 JavaScript 中那样是可选的。当某个时刻的值不存在时，可选参数非常有用:

TypeScript 中的可选参数

如图所示，通过在参数末尾添加一个`?`符号，我们将其标记为可选的。

> 您知道吗:可选参数必须在必需参数之后定义，否则它会返回一个错误消息:`A required parameter cannot follow an optional parameter`。

如果没有传递参数，它会将值设置为 undefined。但是如果我们想设置一个默认值呢？每当我们添加一辆新车时，将`sold`默认设置为未定义似乎不太直观，对吗？以下是解决方法:

TypeScript 中的默认值

现在，每当我们创建一辆新车时，`sold`变量默认设置为`false`。注意，我们没有使用像`boolean: sold`这样的可选参数符号，因为 TypeScript 会自动处理类型。

# 6.过载参数

有时候我们希望一个函数做一件事，其他时候基于我们传递的实参做更多的事(重载形参)。这是一个有用的概念，可以在处理具有许多行为的函数时创建抽象层。

让我们看一个重载参数的例子:

TypeScript 中的重载参数

如上例所示，函数`runEngines()`使用`typeof`关键字来检查参数类型，以定义要执行的操作。注意，函数`function runEngines(x): any`必须最后定义，因为它是一个通用函数，代表了上面函数中定义的所有可能性。

不建议使用这种方法，因为这样一个函数最终会有多个行为，这使得维护和重用变得很困难，一种可行的方法是将这些行为划分到不同的函数中，这在编程中是一种很好的做法。然而，在某些情况下，这种方法可能是必要的，但这取决于需求。

# 7.学习 TypeScript 的好处

用 JavaScript 编写函数一般很容易，但是一旦我们增加了更多的代码行和团队成员，维护和重用就变得很困难，从而缺乏类型。

如果您不熟悉类型，类型是 TypeScript 基于的核心特性之一，它本质上是一个定义数据类型的标签，数据可以是数字、字符串或对象。

大多数熟悉 JavaScript 库(NPM 包)的开发人员都有过这样的经历，他们需要大量阅读来理解一个函数的可能性，比如哪些方法或属性是可用的等等。

TypeScript 帮助开发人员快速确定函数、对象、类、变量的灵活性，而不是处理源代码和文档，后者会消耗可以用于开发的时间和资源。

TypeScript 还通过增强的 IDE(集成开发环境)支持提供了出色的开发体验。像 Visual Studio 这样的 IDE 可以帮助开发人员轻松地检测编译错误、进行代码重构和代码完成(函数的灵活性)。所有这些都是为了让像我和你这样的开发人员可以花更多的时间在编码(增加价值)上，花更少的时间在调试上。

# 摘要

TypeScript 不是 JavaScript 的替代品，而只是一种帮助开发人员构建更易于维护和重用的代码(如函数)的语言。他们可以花更多的时间编码，花更少的时间调试。

TypeScript 不强制类型，但建议这样做。这将代码完成提高到了一个全新的水平，可以看到函数直接接受什么边界和数据。

总而言之，与处理 JavaScript 相比，TypeScript 可以显著提高生产率。

简而言之，TypeScript 并不意味着一夜之间成为一名伟大的程序员，没有语言能做到这一点。但是使它如此特别的是它提供的特性和灵活性的数量，以帮助开发人员产生高质量和健壮的代码。

> 如果你喜欢这篇文章，并想要更多这样的，请鼓掌❤，并与可能需要它的朋友分享，这是好的因果报应。
> 
> 你可以在我每周发表文章的媒体上找到我。或者你可以在推特上关注我。